<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèΩ üöµüèø üîÅ Curso MIT "Seguran√ßa de sistemas de computadores". Aula 8: Modelo de Seguran√ßa de Rede, Parte 3 üè¨ ‚õ∞Ô∏è üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula n¬∫ 6.858. "Seguran√ßa de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguran√ßa de sistemas de computadores". Aula 8: Modelo de Seguran√ßa de Rede, Parte 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/423423/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula n¬∫ 6.858.  "Seguran√ßa de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security √© um curso sobre o desenvolvimento e implementa√ß√£o de sistemas de computador seguros.  As palestras abrangem modelos de amea√ßas, ataques que comprometem a seguran√ßa e t√©cnicas de seguran√ßa baseadas em trabalhos cient√≠ficos recentes.  Os t√≥picos incluem seguran√ßa do sistema operacional (SO), recursos, gerenciamento de fluxo de informa√ß√µes, seguran√ßa de idiomas, protocolos de rede, seguran√ßa de hardware e seguran√ßa de aplicativos da web. <br><br>  Palestra 1: ‚ÄúIntrodu√ß√£o: modelos de amea√ßas‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: ‚ÄúControle de ataques de hackers‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: ‚ÄúEstouros de Buffer: Explora√ß√µes e Prote√ß√£o‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: ‚ÄúSepara√ß√£o de Privil√©gios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: ‚ÄúDe onde v√™m os sistemas de seguran√ßa?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: ‚ÄúSandbox do Cliente Nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: ‚ÄúModelo de Seguran√ßa de Rede‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  <b>P√∫blico-alvo:</b> por que um token aleat√≥rio sempre √© inclu√≠do no URL e n√£o no corpo da solicita√ß√£o? <br><br>  <b>Professor:</b> HTTPS √© usado dessa maneira, mas n√£o h√° um bom motivo para n√£o incluir vari√°veis ‚Äã‚Äãaleat√≥rias no corpo da solicita√ß√£o.  Apenas algumas formas de heran√ßa funcionam dessa maneira atrav√©s do URL.  Mas, na pr√°tica, voc√™ pode colocar essas informa√ß√µes em outro lugar na solicita√ß√£o HTTPS, exceto no cabe√ßalho. <br><br>  No entanto, observe que simplesmente mover essas informa√ß√µes para o corpo da solicita√ß√£o √© potencialmente inseguro se houver algo que o invasor possa adivinhar.  Em seguida, o invasor ainda pode, de alguma forma, chamar os URLs de que precisa.  Por exemplo, quando fa√ßo uma solicita√ß√£o XML XML e, em seguida, coloco explicitamente algum conte√∫do no corpo que o invasor pode adivinhar. <br><br><img src="https://habrastorage.org/webt/k8/00/rl/k800rljxqskwap85v7jdymt3sb8.jpeg"><br><br>  Se voc√™ simplesmente definir o quadro no URL, o invasor poder√° control√°-lo.  Mas se voc√™ usar uma solicita√ß√£o XML HTTP HTTP e um invasor puder gerar uma delas, a interface HTTP XML permitir√° que voc√™ defina o corpo da solicita√ß√£o.  Uma solicita√ß√£o XML XML √© limitada √† mesma origem.  No entanto, se um invasor puder fazer algo como: <br><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> x = ‚Äúntrusted‚Äù; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Em seguida, ele poder√° implementar a solicita√ß√£o HTTP XML, que ser√° executada com a autoridade da p√°gina incorporada. <br><br>  Tudo depende do que o atacante tem acesso.  Se for√ßar a p√°gina a executar um script n√£o verificado, como mostrado acima, poder√° usar a propriedade JavaScript chamada HTML interno e obter todo o conte√∫do HTML da p√°gina.  Se um invasor pode ou n√£o pode gerar uma solicita√ß√£o AJAX, isso √© uma coisa, se ele pode ou n√£o pode ver o c√≥digo HTML correto, isso √© outra, e assim por diante.  Em resumo, esse token gerado aleatoriamente √© capaz de impedir ataques de CSRF. <br><br>  H√° mais uma coisa que voc√™ precisa prestar aten√ß√£o nos endere√ßos de rede.  Eles se relacionam com a parte da nossa conversa que disse quem o invasor n√£o p√¥de se comunicar por meio de uma solicita√ß√£o XML HTTP. <br><br>  Em rela√ß√£o aos endere√ßos de rede, o quadro pode enviar solicita√ß√µes HTTP e HTTPS para (host + porta) correspondentes √† sua origem.  Observe que a seguran√ßa da mesma pol√≠tica da mesma fonte est√° intimamente relacionada √† seguran√ßa da infraestrutura DNS, porque todas as pol√≠ticas desse tipo s√£o baseadas no que voc√™ chama. <br><br>  Portanto, se voc√™ pode controlar o que eles me chamam, pode fazer alguns ataques mal-intencionados, por exemplo, um ataque de re-liga√ß√£o ao DNS.  O objetivo desse ataque √© iniciar um JavaScript controlado por um invasor com a autoridade (ou em nome do) site da v√≠tima, vamos cham√°-lo de v√≠tima.com.  Nesse caso, o invasor usa as regras da mesma pol√≠tica de origem e, de alguma forma, inicia o c√≥digo que ele escreveu com a permiss√£o de outro site. <br><br>  Isso √© feito da seguinte maneira.  Primeiro, um invasor registra um nome de dom√≠nio, por exemplo, attacker.com.  √â muito simples, basta pagar alguns d√≥lares - e em movimento, voc√™ tem seu pr√≥prio nome de dom√≠nio.  O invasor tamb√©m deve configurar o servidor DNS para responder a solicita√ß√µes que v√™m com o nome de objetos localizados em attacker.com. <br><br><img src="https://habrastorage.org/webt/wt/pf/jh/wtpfjh-yok0lfy5vp63pmv3t-ww.jpeg"><br><br>  A segunda coisa que deve acontecer √© que o usu√°rio deve visitar o attacker.com.  Em particular, ele deve visitar algum site que dependa desse nome de dom√≠nio.  Tamb√©m n√£o h√° nada complicado nessa parte do ataque. <br><br>  Veja se voc√™ pode criar uma campanha publicit√°ria, por exemplo, oferecer um iPad gr√°tis.  Todo mundo quer um iPad gr√°tis, embora eu n√£o conhe√ßa ningu√©m que j√° ganhou um iPad gr√°tis.  Ent√£o, clicando nessa mensagem em um email de phishing, e voc√™ j√° est√° no site do invasor.  Nada de especial, esta parte n√£o √© complicada. <br><br>  Ent√£o, o que vai acontecer depois disso?  O navegador come√ßar√° a gerar consultas DNS para o attacker.com porque a p√°gina que voc√™ visitou cont√©m objetos vinculados a objetos localizados no attacker.com.  Mas o navegador dir√°: "Eu nunca vi esse dom√≠nio antes, ent√£o deixe-me enviar uma solicita√ß√£o de permiss√£o de DNS para entrar em contato com attacker.com"! <br><br><img src="https://habrastorage.org/webt/cz/qf/mw/czqfmwdiinh1lxrjntllnrkrktw.jpeg"><br><br>  E o servidor DNS do invasor responde a essa solicita√ß√£o, mas sua resposta cont√©m uma vida √∫til TTL muito curta, o que impede que a resposta seja armazenada em cache.  Portanto, o navegador pensar√° que √© v√°lido apenas por um per√≠odo muito curto antes de precisar sair e confirmar isso, o que realmente significa proibir o armazenamento em cache. <br><br>  Acontece que, assim que o usu√°rio entra no dom√≠nio do hacker, o servidor DNS do invasor retorna primeiro o endere√ßo IP real do servidor da Web que forneceu ao usu√°rio c√≥digo malicioso.  Esse c√≥digo do lado do cliente acessa attacker.com porque a pol√≠tica de origem permite tais solicita√ß√µes.  O usu√°rio recebe uma resposta e agora o site malicioso √© executado no lado do cliente. <br><br>  Enquanto isso, o invasor ir√° configurar o servidor DNS, que ele controla, para vincular o nome attacker.com e o endere√ßo IP da v√≠tima.com.  Isso significa que, se o navegador do usu√°rio solicitar uma resolu√ß√£o de nome de dom√≠nio para algo dentro do attacker.com, ele realmente obter√° algum tipo de endere√ßo interno no site v√≠tima.com. <br><br><img src="https://habrastorage.org/webt/df/tt/jd/dfttjdzqo2hzt6dsttw7ch-mz5o.jpeg"><br><br>  Por que um DNS atacante pode fazer isso?  Como o hacker o configura para isso, o servidor DNS do invasor n√£o precisa consultar para se reconectar ao site v√≠tima.com. <br><br>  Al√©m disso, se nosso site quiser obter um novo objeto, digamos, AJAX, ele considerar√° que essa solicita√ß√£o AJAX vai para o attacker.com em algum lugar externo, mas, na verdade, essa solicita√ß√£o AJAX vai para a v√≠tima.com.  Isso √© ruim, porque agora temos esse c√≥digo no lado em que est√° localizada a p√°gina do atacante.com, que na verdade obt√©m acesso aos dados do site v√≠tima.com com uma fonte de origem diferente. <br><br><img src="https://habrastorage.org/webt/eo/tn/hr/eotnhr2eggyam1aggoimj-shebs.jpeg"><br><br>  Simplificando, quando um script √© executado no navegador da v√≠tima devido √† obsolesc√™ncia da resposta DNS anterior, √© feita uma nova consulta DNS para esse dom√≠nio, que, devido √† proibi√ß√£o de armazenamento em cache, √© enviado ao servidor DNS do invasor.  Ele responde que agora o attacker.com parece ter um novo endere√ßo IP de outro site, e a solicita√ß√£o vai para outro servidor.  E ent√£o, para retornar as informa√ß√µes coletadas pelo c√≥digo, o invasor fornece seu endere√ßo IP correto em uma das seguintes consultas DNS. <br><br>  <b>P√∫blico:</b> n√£o seria mais prudente fazer um ataque do contr√°rio.com, para obter todos os cookies do invasor e coisas do g√™nero? <br><br>  <b>Professor:</b> sim, essa op√ß√£o tamb√©m funcionar√°.  Isso permitir√° que voc√™ fa√ßa coisas boas como a verifica√ß√£o de portas.  Quero dizer, sua abordagem funcionar√° corretamente.  Como voc√™ pode, passo a passo, reatribuir constantemente o attacker.com a v√°rios nomes de computadores e portas diferentes na rede v√≠tima.com.  Em outras palavras, a p√°gina da web attacker.com sempre pensa que vai para o attacker.com e recebe uma solicita√ß√£o AJAX de l√°. <br><br>  De fato, toda vez que o servidor DNS se reconecta ao attacker.com, ele envia solicita√ß√µes para outro endere√ßo IP dentro da rede v√≠tima.com.  Dessa forma, ele pode simplesmente "percorrer" os endere√ßos IP um por um e ver se algu√©m est√° respondendo a essas solicita√ß√µes. <br><br>  <b>P√∫blico-alvo:</b> mas o usu√°rio que voc√™ est√° atacando n√£o tem necessariamente acesso interno √† rede v√≠tima.com. <br><br>  <b>Professor:</b> como regra geral, este ataque √© que existem certas regras de firewall que podem impedir o site externo attacker.com de exibir endere√ßos IP dentro da rede v√≠tima.com.  No entanto, se voc√™ estiver dentro de uma rede corporativa, como corp.net, atr√°s de um firewall corporativo, os computadores geralmente poder√£o se conectar a m√°quinas fora da rede. <br><br>  <b>P√∫blico-alvo:</b> esse m√©todo de ataque funciona via HTTPS? <br><br>  <b>Professor:</b> essa √© uma pergunta interessante!  O fato √© que o HTTPS usa chaves.  Se voc√™ usa HTTPS, ao enviar uma solicita√ß√£o AJAX, a m√°quina da v√≠tima n√£o ter√° as chaves HTTPS do invasor e a verifica√ß√£o de criptografia no site v√≠tima.com mostrar√° a incompatibilidade de chave.  Portanto, acho que o HTTPS descarta a possibilidade desse tipo de ataque. <br><br>  <b>P√∫blico:</b> e se a v√≠tima usar apenas HTTPS? <br><br>  <b>Professor:</b> Eu acho que isso vai parar o atacante. <br><br>  <b>P√∫blico-alvo:</b> por que um invasor responde principalmente ao computador da v√≠tima com seu endere√ßo IP? <br><br>  <b>Professor:</b> porque o invasor deve, de alguma forma, executar seu pr√≥prio c√≥digo na m√°quina da v√≠tima antes de poder executar outras a√ß√µes para encontrar algo dentro da rede da v√≠tima.  Mas n√£o vamos perder tempo, portanto, se voc√™ tiver d√∫vidas sobre a reatribui√ß√£o do DNS, procure-me ap√≥s a palestra. <br><br>  Ent√£o, como voc√™ pode consertar isso?  Uma maneira de corrigir essa vulnerabilidade √© modificar o resolvedor de clientes DNS para que nomes de host externos nunca tenham permiss√£o para acessar endere√ßos IP internos. <br><br>  √â meio est√∫pido que algu√©m fora da sua rede consiga criar um DNS vinculado a algo dentro da sua rede.  Esta √© a solu√ß√£o mais simples. <br><br><img src="https://habrastorage.org/webt/9_/2g/3x/9_2g3xpmlwnrztz5386gzndondi.jpeg"><br><br>  Voc√™ pode imaginar que o navegador pode fazer algo chamado "fixa√ß√£o de DNS" ou fixa√ß√£o de DNS.  Como resultado, se o navegador receber um registro de DNS resolvido, ele sempre considerar√° esse registro v√°lido, por exemplo, para intera√ß√£o em 30 minutos, independentemente de qual TTL o invasor atribuir e, dessa forma, possa resistir ao ataque. <br>  Essa solu√ß√£o √© um pouco complicada, porque existem sites que usam intencionalmente DNS din√¢mico para coisas como balancear a carga do servidor e similares.  Portanto, a primeira solu√ß√£o com fixa√ß√£o de DNS √© a melhor op√ß√£o. <br><br>  E agora veremos o que a mesma pol√≠tica de origem protege.  E os pixels?  Como a pol√≠tica de origem protege pixels? <br><br>  Como se viu, os pixels realmente n√£o t√™m origem.  Assim, cada quadro recebe sua pr√≥pria caixa delimitadora, basicamente apenas um quadrado, e o quadro pode desenhar em qualquer lugar dentro dessa √°rea. <br><br>  Na verdade, isso √© um problema, porque significa que o quadro pai pode desenhar sobre o quadro filho.  E isso, por sua vez, pode levar a ataques muito insidiosos. <br><br>  Digamos que um invasor crie uma p√°gina que diz: "clique aqui para ganhar um iPad".  O mesmo truque padr√£o.  Este √© o quadro pai. <br><br><img src="https://habrastorage.org/webt/ow/ul/sd/owulsdkyx1yy_wz5uyaskopock0.jpeg"><br><br>  E esse quadro pai pode criar um quadro filho, que na verdade √© o quadro do bot√£o Curtir em um site do Facebook.  Assim, o Facebook permite que voc√™ execute esse pequeno peda√ßo de c√≥digo do Facebook que voc√™ pode colocar em sua p√°gina. <br><br>  Voc√™ sabe que se um usu√°rio clicar em "curtir", significa que ele ir√° ao Facebook e dir√°: "Ei, eu gosto dessa p√°gina em particular"!  Portanto, agora temos esse quadro filho do bot√£o Curtir. <br><br><img src="https://habrastorage.org/webt/sp/dm/xk/spdmxk6xeyd9f6vvpes71las3aq.jpeg"><br><br>  Agora, um invasor pode sobrepor esse quadro na √°rea da tela em que o usu√°rio deve clicar para obter um iPad gr√°tis e tamb√©m tornar esse quadro invis√≠vel, o CSS permite isso. <br><br>  Ent√£o o que vai acontecer?  Como j√° instalamos, todo mundo quer obter um iPad gr√°tis.  O usu√°rio acessar√° este site clicando nesta √°rea da tela, certificando-se de que clica exatamente no que o iPad gratuito fornecer√° a ele.  Mas, na verdade, ele clica no bot√£o invis√≠vel Curtir.  √â como colocar camadas no topo do √≠ndice C. <br><br>  Isso significa que agora, talvez, o usu√°rio termine em um perfil no Facebook, onde observa que gostou do attacker.com.  Voc√™ sabe, ele nem se lembra como isso aconteceu.  Portanto, isso √© chamado de ataque de click jacking - suporte para um ataque de clique.  Da mesma forma, voc√™ pode fazer muitas coisas ruins - roubar senhas, obter dados pessoais, enfim, isso √© loucura.  Eu enfatizo - isso √© poss√≠vel devido ao fato de que o quadro pai √© capaz de desenhar qualquer coisa dentro dessa caixa delimitadora. <br><br>  Portanto, o quadro pai √© o que voc√™ v√™ na p√°gina, a chamada para obter um tablet gratuito e o quadro filho √© o bot√£o like, que √© sobreposto de forma transparente ao quadro pai. <br><br>  Existem v√°rias solu√ß√µes para esse problema.  O primeiro √© usar o c√≥digo de interrup√ß√£o de quadros.  Dessa forma, voc√™ pode usar express√µes JavaScript para descobrir se algu√©m incorporou seu pr√≥prio quadro ao seu quadro.  Por exemplo, um desses testes √© uma compara√ß√£o do seguinte formato: if (self! = Top). <br><br>  Aqui, a declara√ß√£o pr√≥pria refere-se √† parte superior do quadro superior, que √© comparada com a hierarquia de todo o quadro.  Portanto, se voc√™ fizer esse teste e descobrir que o self n√£o √© igual √† parte superior do quadro pai, entender√° que possui um quadro filho.  Nesse caso, voc√™ pode recusar o download. <br><br>  Isso acontece se voc√™ tentar criar um quadro, por exemplo, para o CNN.com.  Se voc√™ procurar o c√≥digo-fonte em JavaScript, poder√° ver que ele realiza esse teste porque o CNN.com n√£o deseja que outras pessoas usem seu conte√∫do.  Portanto, esse quadro sempre ocupa a posi√ß√£o mais alta.  Portanto, esta √© uma das solu√ß√µes que podem ser usadas aqui. <br><br>  A segunda solu√ß√£o √© o servidor da Web enviar um cabe√ßalho HTTP chamado op√ß√µes x-Frame em resposta.  Portanto, quando o servidor da web retorna uma resposta, ele pode definir esse cabe√ßalho, que dir√°: ‚Äúei, navegador, n√£o deixe ningu√©m colocar meu conte√∫do dentro do quadro!‚Äù.  Esta solu√ß√£o permite que o navegador execute a√ß√µes de imposi√ß√£o. <br><br>  Ent√£o √© bem simples.  Mas ainda existem muitos outros ataques malucos que voc√™ pode organizar. <br><br>  Como mencionei anteriormente, o fato de agora vivermos na Internet internacional cria problemas usando um dom√≠nio ou nome de host. <br><br>  Suponha que tenhamos a letra C. Mas em que idioma?  De que alfabeto √© esta letra do latim ASCII ou √© C em cir√≠lico?  Isso permite que voc√™ organize ataques que usam interpreta√ß√µes diferentes e usam letras diferentes, mas aparentemente semelhantes.  Por exemplo, um invasor registrar√° um nome de dom√≠nio cats.com.  E os usu√°rios ir√£o para esse dom√≠nio, pensando que visitar√£o o site "cats. Com", mas, na realidade, chegar√£o ao site do atacante "sats.com", porque a primeira letra aqui n√£o √© latina, mas cir√≠lica. <br><br>  Um invasor pode registrar o dom√≠nio fcebook.com, mas as pessoas n√£o prestam aten√ß√£o, o adotam como facebook.com e v√£o para l√°.  Portanto, se voc√™ controlar o Facebook.com, receber√° muito tr√°fego de pessoas que pensam que est√£o conectadas ao Facebook. <br><br><img src="https://habrastorage.org/webt/1w/0f/z-/1w0fz-myyja-qcjtcfwzn5yebl4.jpeg"><br><br>  Existem v√°rios tipos de ataques malucos que voc√™ pode iniciar atrav√©s do sistema de registro de nomes de dom√≠nio dif√≠ceis de defender, porque como impedir que os usu√°rios cometam erros de digita√ß√£o?  Ou como o navegador indica ao usu√°rio: "Ei, isso √© cir√≠lico, n√£o latino"!? <br><br>  Se o navegador avisar o usu√°rio toda vez que as fontes cir√≠licas forem ativadas, irritar√° as pessoas que realmente usam cir√≠lico como fonte nativa.  Portanto, n√£o est√° totalmente claro como esses problemas podem ser resolvidos do ponto de vista t√©cnico, e √© por isso que problemas de seguran√ßa muito sens√≠veis surgem aqui. <br><br>  Outra coisa interessante s√£o os plugins.  Como os plug-ins interagem com as pol√≠ticas de origem?  Os plug-ins geralmente t√™m incompatibilidade com o restante do navegador em rela√ß√£o √† mesma fonte de origem.  Por exemplo, se voc√™ olhar para o plug-in Java, ele assume que diferentes nomes de host com o mesmo endere√ßo IP tamb√©m tenham a mesma origem. <br><br>  De fato, esse √© um desvio bastante grande da interpreta√ß√£o padr√£o de pol√≠ticas da mesma origem.  Essa abordagem significa que, se voc√™ tiver algo como xycom e zycom e eles forem projetados no mesmo endere√ßo IP, o Java assumir√° que eles t√™m a mesma fonte de origem.  Isso pode ser um problema, pois, na realidade, um site tem uma fonte de origem confi√°vel e o outro n√£o.  Existem muitas outras dificuldades associadas aos plug-ins, que voc√™ pode descobrir em fontes publicamente dispon√≠veis na Internet ou nas notas da aula. <br><br>  A √∫ltima coisa que quero discutir √© um ataque de compartilhamento de tela ou ataque de compartilhamento de tela. <br><br>  O HTML5 realmente define uma nova API pela qual uma p√°gina da Web pode compartilhar todos os seus bits para compartilhar com outro navegador ou servidor.  Parece uma ideia muito interessante, porque possibilita a v√°rios usu√°rios trabalhar simultaneamente no mesmo documento.  Isso √© √≥timo porque vivemos no futuro. <br><br>  Mas o mais engra√ßado √© que, quando eles desenvolveram essa nova API, eles n√£o pensaram em uma pol√≠tica de origem comum! <br><br>  Suponha que voc√™ tenha uma p√°gina na qual v√°rios quadros estejam localizados e cada um deles tenha o direito de capturar uma captura de tela de todo o monitor.  Ele pode tirar uma captura de tela de todos os quadros localizados na tela e de todo o conte√∫do, independentemente das fontes de origem. <br><br><img src="https://habrastorage.org/webt/wz/ok/io/wzokioeio3vzffhinxhsdgau-ae.jpeg"><br><br>  Portanto, de fato, essa √© uma falha bastante destrutiva na pol√≠tica da mesma fonte de origem, portanto, considere consert√°-la.  Por exemplo, se uma pessoa do quadro direito tiver a capacidade de capturar capturas de tela, poder√° capturar apenas o quadro certo, e n√£o a tela inteira como um todo. <br><br>  Por que os desenvolvedores de navegadores n√£o o implementaram dessa maneira?  Porque eles est√£o sofrendo press√£o competitiva e s√£o for√ßados a concentrar seus esfor√ßos no desenvolvimento de mais e mais novas fun√ß√µes, novos recursos, em vez de prestar aten√ß√£o na melhoria de coisas j√° desenvolvidas. <br><br>  Muitas perguntas que os alunos fizeram na Internet sobre esta palestra foram: ‚Äúpor que os desenvolvedores n√£o fizeram o que podiam?  Isso n√£o est√° claro?  ou: ‚ÄúParece que esse esquema em particular est√° morto.  O outro n√£o seria melhor?  e assim por diante. <br><br>  Vou lhe dizer honestamente - sim, com certeza, quase tudo seria melhor se os desenvolvedores aceitassem isso com responsabilidade.  Ent√£o, eu tenho vergonha de estar conectado com isso. <br><br>  Mas o fato √© que √© isso que t√≠nhamos antes.  Se voc√™ olhar para todos os elementos que existiam antes, ver√° que os navegadores da Web est√£o se desenvolvendo e as pessoas ficaram um pouco mais preocupadas com a seguran√ßa.  Mas n√£o no caso do compartilhamento de tela, onde os desenvolvedores estavam t√£o preocupados com os recursos inovadores do navegador que se esqueceram completamente da possibilidade de um pequeno vazamento. <br><br><img src="https://habrastorage.org/webt/0w/pr/lj/0wprljlz8_-bdy5l852zllntduu.jpeg"><br><br>  Portanto, pe√ßo que voc√™ sempre preste aten√ß√£o nas coisas que discutimos hoje.  Imagine se come√ß√°ssemos do zero, destru√≠ssemos tudo o que estava √† nossa frente e tent√°ssemos criar uma pol√≠tica de seguran√ßa melhor, o que voc√™ acha, quantos sites funcionariam para n√≥s?  Eu acho que n√£o mais que 2%.  Portanto, os usu√°rios provavelmente reclamariam de n√≥s. <br><br>  H√° outra propriedade interessante relacionada √† seguran√ßa.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de atribuir uma fun√ß√£o aos usu√°rios, √© muito dif√≠cil recuper√°-la, mesmo que n√£o seja seguro us√°-la. </font><font style="vertical-align: inherit;">Portanto, hoje discutimos muitas coisas relacionadas √† pol√≠tica de origem e continuaremos falando sobre isso na pr√≥xima palestra.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_1C62Twf0vs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br> ,    .    ?     ?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a> (   RAID1  RAID10,  24    40GB DDR4). <br><br> <b>VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps   </b>      ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br> <b>Dell R730xd  2  ?</b>    <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2  Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100   $249</a>    !</b>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423423/">https://habr.com/ru/post/pt423423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423411/index.html">iOS CSS da morte</a></li>
<li><a href="../pt423415/index.html">Multicopter com o princ√≠pio de aninhar bonecas ou ‚Äúapanhador de pomo‚Äù?</a></li>
<li><a href="../pt423417/index.html">Estamos escrevendo o primeiro aplicativo para Samsung Smart Watch e OS Tizen</a></li>
<li><a href="../pt423419/index.html">Cliente HTML5 para VMware vSphere lan√ßado neste outono - O que voc√™ precisa saber</a></li>
<li><a href="../pt423421/index.html">Por que a grama era mais verde para indie</a></li>
<li><a href="../pt423425/index.html">Old school: quais foram os jogos lan√ßados - discutimos m√≠dia incomum</a></li>
<li><a href="../pt423427/index.html">IndieVisible √© uma comunidade indie on-line de c√≥digo aberto</a></li>
<li><a href="../pt423429/index.html">Atualiza√ß√£o do banco de dados e implanta√ß√£o de tempo de inatividade zero</a></li>
<li><a href="../pt423431/index.html">Profundidades do SIEM: correla√ß√µes prontas para uso. Parte 1: Marketing puro ou um problema insol√∫vel?</a></li>
<li><a href="../pt423437/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel n¬∫ 270 (de 10 a 16 de setembro)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>