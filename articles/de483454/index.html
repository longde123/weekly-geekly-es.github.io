<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê® ‚ñ´Ô∏è üõÅ Wechseln von Mercurial zu GIT in Atlassian Bitbucket mit Speichern von Dateien in kyrillischer Sprache üé≠ üèûÔ∏è üôçüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hintergrund 
 Im Sommer wurde im offiziellen BitBucket-Blog ein offizieller Blogbeitrag ver√∂ffentlicht, in dem das Ende der Unterst√ºtzung f√ºr Mercuria...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wechseln von Mercurial zu GIT in Atlassian Bitbucket mit Speichern von Dateien in kyrillischer Sprache</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483454/"><h2>  Hintergrund </h2><br>  Im Sommer wurde im offiziellen BitBucket-Blog ein offizieller Blogbeitrag ver√∂ffentlicht, in dem das Ende der Unterst√ºtzung f√ºr Mercurial-Repositorys angek√ºndigt wurde. <br><br>  Die Einstellung von Mercurial erfolgt in zwei Schritten: <br><br><ol><li>  Ab dem 1. Februar 2020 k√∂nnen Benutzer keine neuen Repositorys mehr erstellen. </li><li>  Ab dem 1. Juni 2020 k√∂nnen Benutzer Mercurial-Funktionen in Bitbucket oder √ºber dessen API nicht mehr verwenden, und alle Mercurial-Repositorys werden gel√∂scht. </li></ol><br>  Die Gr√ºnde f√ºr diese Entscheidung sind mehr oder weniger klar, aber in meiner Arbeit verwende ich mehrere Mercurial-Repositorys (Mercurial hat mir immer besser gefallen, aber ich werde diese Frage au√üerhalb des Geltungsbereichs dieses Artikels belassen), die ich f√ºr die Umstellung auf GIT ben√∂tigte. <br><a name="habracut"></a><br>  Eigentlich begann dieser Ort ... <br><br><h2>  Das problem </h2><br>  Die Entwickler und der Support von BitBucket boten verschiedene Optionen f√ºr eine solche Konvertierung an. Ich habe sie alle ausprobiert und gleichzeitig Tools von Drittanbietern ausprobiert, beispielsweise das <a href="https://github.com/new/import">Importieren von Repositorys</a> in GitHub. <br><br>  Es stellte sich heraus, dass alle diese Tools die Namen von Dateien und Verzeichnissen verderben, die Zeichen im kyrillischen Alphabet enthalten, und ich habe eine Menge solcher Dateien (TK, Spezifikationen und andere √§hnliche Dateien).  Es ist lustig, dass Kommentare, die Kyrillisch enthalten, gut toleriert und nach der Migration angezeigt werden. <br><br>  Ich habe im Internet Informationen gefunden, dass es in Mercurial Tools gibt (Schl√ºssel in der Repository-Konfigurationsdatei), mit denen Sie die Standard-Zeichenkodierung steuern k√∂nnen. Zum einen sind sie nur explizit enthalten, zum anderen gibt es kein Tool zum Konvertieren des vorhandenen Repositorys .  Nun, ich habe nicht gepr√ºft, wie diese Option bei der Migration mit vorgefertigten Tools hilft. Es ist zu sp√§t, diesen Weg einzuschlagen. <br><br>  Es gab keine Lust, manuell nach Problemdateien zu suchen und manuell nachzuf√ºllen, daher musste ich ein wenig nach einer L√∂sung suchen. <br><br>  Vielleicht ist das √úbertragen eines Repositorys mit russischen Zeichen in Dateinamen auch f√ºr jemanden relevant, und mein Artikel wird ein wenig Zeit sparen. <br><br><h2>  L√∂sung </h2><br><h3>  Grunds√§tzliches Vorgehen </h3><br><ol><li>  Nehmen Sie sich das Repository git@github.com: seewindcn / tortoisehg.git - es enth√§lt das Plugin fixutf8, das nicht in der Hauptdistribution enthalten ist.  Es wird weiterhin angenommen, dass sich die lokale Kopie im Verzeichnis D: \ Development \ tortoisehg befindet </li><li>  Erstellen Sie eine Kopie <b>Ihres</b> Mercurial-Repository, um den Hauptstandort nicht zu besch√§digen.  Weiterhin werden alle Befehle im Kopierverzeichnis ausgef√ºhrt. </li><li>  Korrigieren Sie die Datei- und Verzeichnisnamen mit dem Befehl <i>D: \ Development \ tortoisehg \ hg.exe addremove -s 100</i> </li><li>  Commit in Repository <i>D: \ Development \ tortoisehg \ hg.exe commit -m "Dateinamen reparieren"</i> </li><li>  Schalten Sie das hggit-Plugin ein - in der .hg \ hgrc-Datei, die Sie hinzuf√ºgen m√ºssen <br>  [Erweiterungen] <br>  hggit = </li><li>  Vorbereitungen f√ºr die Konvertierung in GIT - Erstellen Sie ein Master-Label mit dem Befehl <i>D: \ Development \ tortoisehg \ hg.exe bookmark -r default master</i> </li><li>  Erstellen Sie ein GIT-Repository in BitBucket </li><li>  Wir verpflichten uns zum <i>git + ssh-</i> Repository von <i>hg push: //git@bitbucket.org: &lt;user&gt; / &lt;reponame&gt; .git</i> ( <b>Beachten Sie</b> , dass dies regul√§res hg verwendet, da der Klon von seewindcn nicht mit SSH arbeiten m√∂chte) </li><li>  Wir √ºberpr√ºfen auf der BitBucket-Website, ob die kyrillischen Dateinamen nicht kaputt gehen </li><li>  Wir klonen das GIT-Repository f√ºr uns selbst, √ºberpr√ºfen die Dateinamen, f√ºhren einen Byte-Vergleich aller Dateien durch, erstellen das Projekt, testen </li><li>  Nach dem Build wird es wahrscheinlich eine Menge neuer Dateien geben, f√ºr die GIT einen Commit vorschlagen wird.  Die .hgignore-Datei muss von Hand in .gitignore konvertiert werden.  Gl√ºcklicherweise k√∂nnen Sie dies einmal tun und eine Datei f√ºr alle anderen Repositorys verwenden. </li></ol><br>  Infolgedessen ist es uns gelungen, den Hauptstandardzweig des urspr√ºnglichen Mercurial-Repositorys mit der gesamten Commit-Historie an den Master des GIT-Repositorys und sogar mit Labels zu √ºbertragen.  Von den Minuspunkten stelle ich nur das v√∂llige Fehlen von Informationen √ºber √Ñnderungen an den Dateien mit Kyrillisch in der Geschichte der Festschreibungen fest - es gibt Festschreibungen und es gibt nicht einmal Verweise auf Dateien mit Kyrillisch (der Rest der Dateien ist nat√ºrlich in perfekter Reihenfolge). <br><br>  Im Allgemeinen konnte die Aufgabe als erledigt betrachtet werden, aber aus sportlichen Gr√ºnden war es f√ºr mich auch interessant, die verbleibenden Zweige zu √ºbertragen. <br><br><h3>  Verzweigungsumbruch au√üer Standard </h3><br><ol><li>  Holen Sie sich eine Liste der Filialen hg Niederlassungen </li><li>  F√ºr jede Branche <br><ol><li>  <i>Wechseln Sie</i> zu <i>hg up &lt;branchname&gt;</i> branch </li><li>  Erstellen Sie ein Label (der Labelname darf nicht mit dem Namen des Zweigs √ºbereinstimmen): <i>hg bookmark -r &lt;hgbranchname&gt; &lt;gitbranchname&gt;</i> </li><li>  Gie√üen Sie den Zweig in GIT <i>hg push git@bitbucket.org: &lt;user&gt; / &lt;reponame&gt; .git</i> </li></ol></li></ol><br>  Es kann vorkommen, dass der Name des Zweigs auch das kyrillische Alphabet enth√§lt. In diesem Fall weisen hg-Zweige krakozyabry auf.  In diesem Fall habe ich eine visuelle hg-Workbench verwendet - zu einer Filiale gewechselt und dort ein Etikett erstellt. <br><br>  Zu diesem Zeitpunkt kommt komplett Feng Shui. <br><br>  Falls jemand Interesse hat, tiefer zu graben, dann gehe ich ... <br><br><h2>  Referenzliste </h2><br><ul><li>  <a href="https://github.com/seewindcn/tortoisehg">github.com/seewindcn/tortoisehg</a> (bearbeitet) </li><li>  <a href="https://www.mercurial-scm.org/wiki/FixUtf8Extension">www.mercurial-scm.org/wiki/FixUtf8Extension</a> (Teil einer fr√ºheren L√∂sung) </li><li>  <a href="https://www.mercurial-scm.org/wiki/ConvertExtension">www.mercurial-scm.org/wiki/ConvertExtension#Converting_from_Mercurial</a> (hat nicht geholfen) </li><li>  <a href="https://serverfault.com/questions/319070/mercurial-convert-filename-encoding">serverfault.com/questions/319070/mercurial-convert-filename-encoding</a> (verwendet die Konvertierungserweiterung, hat nicht geholfen) </li><li>  <a href="https://bitbucket.org/rominf/hg_convert_filenames_encoding/src/default/">bitbucket.org/rominf/hg_convert_filenames_encoding/src/default</a> (Automatisierung der Vorg√§ngerversion) </li><li>  <a href="https://stackoverflow.com/questions/16037787/convert-mercurial-project-to-git">stackoverflow.com/questions/16037787/convert-mercurial-project-to-git</a> (beschreibt die Upload-Erweiterung in GIT) </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483454/">https://habr.com/ru/post/de483454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483438/index.html">Spielen Sie "osu!", Vergessen Sie Fehler nicht</a></li>
<li><a href="../de483440/index.html">Neueste D-Compiler</a></li>
<li><a href="../de483444/index.html">DORA-Bericht 2019: So verbessern Sie die DevOps-Leistung</a></li>
<li><a href="../de483446/index.html">Wissenschaftler haben einen neuen Weg gefunden, um den Eisengehalt im Trinkwasser zu senken</a></li>
<li><a href="../de483448/index.html">Disney - die gr√∂√üte Zwei-Wege in der Geschichte der Menschheit</a></li>
<li><a href="../de483458/index.html">GreenPig-Datenbankassistent</a></li>
<li><a href="../de483460/index.html">SQL HowTo: Erstellen von Ketten mit Fensterfunktionen</a></li>
<li><a href="../de483462/index.html">Halt die Klappe und nimm mein Geld</a></li>
<li><a href="../de483466/index.html">Einf√ºhrung in die Backpropagation-Methode</a></li>
<li><a href="../de483468/index.html">Flatterintegrationstests - ganz einfach</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>