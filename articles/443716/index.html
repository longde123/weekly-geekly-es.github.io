<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÜí üñáÔ∏è üì® "Tengo una copia de seguridad en mi cinta". Historia en primera persona ü§Ø ‚ùé ‚ôÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el art√≠culo anterior, le contamos acerca de las nuevas caracter√≠sticas en la versi√≥n Update 4 para Veeam Backup & Replication 9.5 (VBR), lanzada en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"Tengo una copia de seguridad en mi cinta". Historia en primera persona</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/443716/">  En el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo anterior,</a> le contamos acerca de las nuevas caracter√≠sticas en la versi√≥n Update 4 para Veeam Backup &amp; Replication 9.5 (VBR), lanzada en enero, donde las copias de seguridad en la cinta no se mencionaron conscientemente.  La historia sobre esta √°rea merece un art√≠culo separado, porque realmente hab√≠a muchas caracter√≠sticas nuevas. <br><br>  <i>- QA chicos, ¬øescriben un art√≠culo?</i> <i><br></i>  <i>- ¬°Por qu√© no!</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/no/jg/36/nojg36lajf54g2qfjil2wmnesgm.jpeg"></div><a name="habracut"></a><br><h1>  Unidades de cinta en el siglo XXI </h1><br>  El almacenamiento de datos en cintas magn√©ticas (casetes, <b>puntas</b> , como los llamamos en I + D) no se limita a la computadora ZX-Spectrum, que era cosa del pasado, un juego para el cual se pod√≠a cargar en una RAM de 48 kb desde un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">casete de cinta</a> durante varios minutos.  Durante un cuarto de siglo, la velocidad y la capacidad de los casetes aumentaron en 6-7 √≥rdenes de magnitud.  Esta comparaci√≥n no es del todo correcta, y el est√°ndar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LTO</a> no sigue el ritmo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la ley de Moore</a> .  Sin embargo, las tecnolog√≠as modernas permiten grabar 12 terabytes de datos en una cinta de un kil√≥metro de cinta (hasta 30 terabytes en modo de compresi√≥n), por lo que el disco de 160 d√≥lares deja a los competidores en el costo del almacenamiento a largo plazo de una gran cantidad de datos, incluso teniendo en cuenta las inversiones en equipos de grabaci√≥n / leer.  Los datos en tales cintas se almacenan de manera confiable durante 15-30 a√±os. <br><br>  Vendr√© del otro lado.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Los virus ransomware</a> han alcanzado un nuevo nivel recientemente.  Pueden esperar su tiempo en la infraestructura de una gran empresa durante semanas y meses, y con el advenimiento de otra vulnerabilidad de d√≠a cero, pueden destruir (no sin ayuda humana, porque hay mucho dinero en juego) no solo todos los datos, sino tambi√©n todas las copias de seguridad que se pueden alcanzar .  Aqu√≠ hay un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nuevo ejemplo de</a> cu√°ndo una empresa tuvo que pagar ransomware.  El llamado <b>espacio de aire</b> , es decir, las copias de seguridad que estaban f√≠sicamente aisladas de la infraestructura, se convirti√≥, de hecho, en la √∫nica salvaci√≥n confiable de tales historias.  La cinta magn√©tica aqu√≠ es una de las soluciones atemporales. <br><br><img src="https://habrastorage.org/webt/40/dt/bq/40dtbqtgogepivirfrdlofwocaw.jpeg"><br><br>  Pero una especificaci√≥n y novedades tecnol√≥gicas de hierro y ferrita de bario de los principales fabricantes (IBM, HPE, Oracle, Dell) para una protecci√≥n de datos confiable no es suficiente, necesita un buen software.  En Veeam, todo nuestro equipo se dedica a realizar copias de seguridad en cinta, aproximadamente 10 personas analizan, planifican, investigan, desarrollan y prueban diariamente.  Puede ver los resultados de este trabajo en art√≠culos anteriores ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">uno</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dos</a> ).  ¬øQu√© se ha hecho durante el a√±o pasado? <br><br><h1>  Glosario </h1><br>  Existe la posibilidad de elegir entre libertades en relaci√≥n con el idioma nativo y complicar la legibilidad del clericalismo.  Prefiero el primero, as√≠ que pido disculpas de antemano si alguien dice en jerga las palabras de la lista a continuaci√≥n.  Aqu√≠ recordar√© brevemente lo que significa un t√©rmino en particular. <br><br><div class="spoiler">  <b class="spoiler_title">Luminarias VBR esta parte se puede omitir</b> <div class="spoiler_text">  <b>Joba</b> - trabajo - trabajo de respaldo.  En realidad, todo el VBR se basa en el trabajo.  Adem√°s de la copia de seguridad y la replicaci√≥n, tambi√©n se puede copiar en cinta magn√©tica (copia de seguridad en cinta, trabajo de cinta).  Har√© una reserva de que restaurar desde una copia de respaldo (restaurar) tambi√©n es un trabajo, pero en este art√≠culo, esta palabra significar√° respaldo. <br><br>  <b>Storaj</b> - almacenamiento - nombre hist√≥ricamente establecido.  Estos son archivos en el <b>repositorio</b> (repositorio - almacenamiento), que contienen copias de respaldo - <b>completas</b> e <b>incrementales</b> .  En una historia, puede haber una o varias m√°quinas virtuales. <br><br>  <b>Cadena</b> : una cadena es una secuencia de historias relacionadas.  Para restaurar los datos desde el n-√©simo almac√©n incremental, se necesitan todos los anteriores desde el (n-1) -st hasta el primer almac√©n completo, al que se refiere el primer incremental. <br><br>  <b>Fuente</b> , <b>destino</b> - fuente, destino.  La fuente es la entidad original que procesa el trabajo.  En el caso de las copias de seguridad / r√©plicas, esta suele ser una m√°quina virtual en el hipervisor.  En el caso del trabajo de cinta, la copia de seguridad es el trabajo de copia de seguridad en s√≠ mismo (bueno, o archivos en el caso de trabajos de archivo a cinta).  Un destino de trabajo de respaldo es un repositorio donde se almacenan los respaldos.  Para el trabajo en cinta, este es un grupo de medios. <br><br>  <b>Grupo de</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">medios</a> - <b>grupo de</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">medios</a> - un grupo de medios de almacenamiento, en nuestro caso - cintas.  Un contenedor l√≥gico creado por el usuario y que contiene los casetes de una o m√°s bibliotecas.  Por lo tanto, el trabajo de cinta siempre tiene un grupo de medios como destino, es decir, los datos no se escriben en ninguna cinta en particular ni en ninguna cinta de la biblioteca, sino en un conjunto espec√≠fico de ellos.  El grupo de medios tiene una configuraci√≥n para el tiempo de almacenamiento de datos, despu√©s de lo cual se puede sobrescribir el cartucho.  El usuario puede crear <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">grupos</a> est√°ndar y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">grupos GFS</a> .  Cada una de estas especies ahora puede ser WORM y no WORM, m√°s sobre eso a continuaci√≥n. <br><br>  <b>Conjunto de</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">medios</a> - <b>conjunto de</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">medios</a> - un conjunto de cintas en el grupo de medios en el que se escriben continuamente las copias de seguridad / archivos.  Para los grupos de GFS, los conjuntos de medios tambi√©n est√°n vinculados a un intervalo (por ejemplo, anual - anual), los casetes rotan solo dentro de su intervalo. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>Unidad</b> , <b>cambiador</b></a> : elementos de la biblioteca de cintas.  Una unidad lee y rebobina un casete; un cambiador es un robot que mueve casetes entre ranuras de almacenamiento, ranuras de descarga y la unidad.  Hay <b>unidades</b> independientes (independientes - independientes), el papel del cambiador aqu√≠ es realizado por una persona.  Para una unidad, se requiere un controlador del fabricante correctamente instalado en la m√°quina Windows donde est√° conectada la biblioteca;  Podemos trabajar con un cambiador sin controladores, utilizando SCSI nativo. <br></div></div><br><h1>  Inquilino para grabar.  Proveedor protegido: clientes protegidos </h1><br>  Inmediatamente triunfan las cartas sobre la mesa.  La caracter√≠stica m√°s ambiciosa de nuestra actualizaci√≥n, dise√±ada para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proveedores de nube</a> que usan VBR en su infraestructura.  El desarrollo se inici√≥ hace dos a√±os.  Pronto nos dimos cuenta de que no tendremos tiempo para hacer frente a una tarea tan seria para la pr√≥xima versi√≥n, hicimos una breve pausa y finalmente lanzamos una funci√≥n en 9.5 Actualizaci√≥n 4. <br><br>  En resumen, ahora los proveedores tienen la oportunidad de copiar las copias de seguridad de sus clientes en casetes utilizando trabajos de cinta en el grupo de GFS.  Esto les da a los proveedores, y estos son muchachos muy queridos por nuestro coraz√≥n y el departamento comercial, dos posibilidades: <br><br><ul><li>  proteja a sus clientes (inquilinos, inquilino - inquilino) de la p√©rdida de datos como resultado de la eliminaci√≥n accidental o problemas de infraestructura ("inundaci√≥n en la sala del servidor"); </li><li>  Proporcionar a los inquilinos un servicio adicional para restaurar los datos de una copia de seguridad anterior, que se ha eliminado del repositorio en la nube de acuerdo con la pol√≠tica de almacenamiento de datos, pero que a√∫n permanece en la cinta. </li></ul><br>  Desde el punto de vista del marketing, la funcionalidad es muy "sabrosa", nuestra, no menos dif√≠cil de implementar. <br><br><h2>  Desarrollo </h2><br>  El principal problema encontrado es el cifrado de datos.  La mayor√≠a de las copias de seguridad en la nube est√°n encriptadas, seg√∫n las estad√≠sticas sobre ‚Öî del total.  Para nosotros, esta cifra fue una sorpresa, se asumi√≥ que casi todo est√° encriptado, pero no, muchos clientes parecen confiar incondicionalmente en sus proveedores. <br><br>  El paradigma es simple: el proveedor no deber√≠a poder descifrar los datos de sus inquilinos.  Al mismo tiempo, dentro del marco de la nueva caracter√≠stica, se requiere del lado del proveedor abrir el almacenamiento con copias de seguridad.  Esto es necesario para transferir bloques de datos, por ejemplo, para crear una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">copia de seguridad completa virtual</a> .  Lo principal es hacer esto independientemente del inquilino, cuando las claves necesarias no se transmiten al proveedor durante la ejecuci√≥n del trabajo. <br><br>  La soluci√≥n a este problema, utilizada, por cierto, en otra caracter√≠stica importante del complemento lanzado - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nivel de capacidad</a> - consiste en agregar una clave de cifrado adicional.  La clave de archivo (clave de archivo) se almacena en la base de datos del proveedor en forma cifrada.  Seg√∫n un esquema complicado del lado del proveedor, se puede usar para abrir la tienda, mover y volver a cifrar bloques de datos entre las tiendas (despu√©s de todo, cada uno tiene su propia clave), pero los datos en s√≠ no se pueden descifrar. <br><br><img src="https://habrastorage.org/webt/ly/jv/3n/lyjv3ncjo_oymwfosymomr8jqsc.jpeg"><br>  <sup>Esquema complicado (versi√≥n de trabajo)</sup> <br><br>  Agrego que todos los ingenieros en I + D son muy aficionados al cifrado en nuestro producto, sin embargo, nadie sabe en detalle c√≥mo funciona.  (Todav√≠a hab√≠a una broma "y por qu√© funciona en absoluto", pero los editores no se la perdieron). <br><br><h2>  Prueba </h2><br>  Cientos de errores se registraron en la funci√≥n.  Las √°reas m√°s dif√≠ciles son encriptaci√≥n, interfaz de usuario, problemas con la restauraci√≥n. <br><br>  Desde el punto de vista de las pruebas, la gran variabilidad representaba la "combinaci√≥n" de los tipos y tipos de trabajos y repositorios de inquilinos; me refiero a la fuente y al destino al restaurar las copias de seguridad en la infraestructura.  Todo esto se basa en la l√≥gica dentro del marco del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modelo GFS</a> (incluido el nuevo: paralelismo y conjuntos de medios diarios, m√°s sobre esto a continuaci√≥n) y, en general, en los detalles de la nube que son inusuales para los consejos.  Recuerde sazonar con abundante encriptaci√≥n.  Para continuar con la met√°fora, comimos mucho de este plato, pero tambi√©n lo probamos por todos lados. <br><br><img src="https://habrastorage.org/webt/oh/0r/td/oh0rtdrrznov74bycbusv3ehjqo.png"><br>  <sup>Fragmento del plan de prueba.</sup> <br><br><h2>  Como resultado </h2><br>  Se puede encontrar una descripci√≥n detallada en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el manual del usuario</a> (hasta ahora en ingl√©s): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">copia de seguridad</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">recuperaci√≥n</a> .  Me detendr√© en los puntos principales. <br><br><h3>  Copia de seguridad </h3><br>  El proveedor agrega inquilinos al trabajo teip con el grupo GFS como destino.  Si hay una licencia en la nube en el segundo paso del asistente, la opci√≥n <b>Inquilinos</b> est√° disponible.  Puede agregar todos los inquilinos a la vez o por separado, o puede elegir solo una cuota separada (pero no una subcota) de un inquilino individual.  No puede mezclar copias de seguridad de inquilinos y copias de seguridad locales regulares en el mismo trabajo. <br><br><img src="https://habrastorage.org/webt/l-/cq/6n/l-cq6nkc0caco4speq4accpw8kw.png"><br><br>  El resto de las tinturas son casi completamente id√©nticas al trabajo habitual en el grupo de GFS. <br><br>  La restauraci√≥n de datos es posible tanto del lado del proveedor como del lado del inquilino mismo. <br><br><h3>  Proveedor de recuperaci√≥n lateral </h3><br>  Realizado a trav√©s de un nuevo asistente.  Aqu√≠ ya puede pasar a un trabajo separado, se restaura toda la cadena que estaba en el repositorio en un d√≠a determinado. <br><br><img src="https://habrastorage.org/webt/hs/zb/dq/hszbdqv2oy0tnjuiquaoqsocrha.png"><br><br>  Hay tres opciones de restaurantes: <br><br><ol><li>  En la ubicaci√≥n original.  En este caso, la copia de seguridad original, si la hay, se elimina;  los trabajos del inquilino se reconfiguran autom√°ticamente en la cadena restaurada.  Se entiende que dicha restauraci√≥n ser√° generalmente invisible para el cliente, solo por un corto tiempo se desconectar√° del repositorio en la nube. </li><li>  En una nueva cuota / repositorio.  Un proveedor puede, por ejemplo, crear una cuenta temporal separada para este prop√≥sito, que posteriormente eliminar√°.  La copia de seguridad aparece en la infraestructura del inquilino despu√©s de la sincronizaci√≥n con la base de datos del proveedor. </li><li>  Solo en una unidad de servidor Linux o Windows registrada en la infraestructura del proveedor.  Adem√°s, esta cadena se puede grabar en una unidad flash y enviar inquilino. </li></ol><br><img src="https://habrastorage.org/webt/sl/wt/ln/slwtlntmc4rklwog0bnawpphmsw.png"><br><br><h3>  Recuperaci√≥n del inquilino </h3><br>  Esta opci√≥n implica que el cliente tiene su propia infraestructura de punta y una gran cantidad de datos para el restaurante.  El proveedor puede enviar f√≠sicamente la cinta con las copias de seguridad grabadas al cliente por el servicio de entrega, la cataloga en su equipo, descifra las cintas y las copias de seguridad y trabaja con las copias de seguridad como si √©l mismo las hubiera escrito en cinta.  Aqu√≠ hay un truco para no descargar terabytes en WAN. <br><br><h1>  Mejoras a gran escala para el grupo GFS </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Los</a> grupos de medios de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GFS</a> aparecieron en VBR hace dos a√±os, en la versi√≥n 9.5.  En la √∫ltima actualizaci√≥n, tanto en relaci√≥n con la aparici√≥n de la funci√≥n de inquilino a cinta, como a petici√≥n de los usuarios, aprovechamos bien esta funcionalidad. <br><br><h2>  Conjuntos de medios diarios </h2><br>  Ha aparecido un nuevo conjunto de medios <b>diarios</b> .  Ahora en el grupo de GFS puede almacenar copias de seguridad para todos los d√≠as, y no solo completas, sino tambi√©n incrementales.  Estos √∫ltimos ocupan significativamente menos espacio, y esto se hizo para ahorrar cinta.  Se entiende que estos casetes rotan constantemente en la biblioteca, no se transportan al almacenamiento remoto.  Al mismo tiempo, para un restaurante desde un punto de vista incremental, necesitar√° las cintas de uno de los conjuntos de medios de alto nivel (semanal, mensual, trimestral o anual).  Es imposible encender el conjunto de medios diario sin incluir el semanal, por lo que en la mayor√≠a de los casos se necesitar√≠an casetes semanales para restaurar desde una copia incremental.  Siempre est√°n en la biblioteca o se almacenan en un almac√©n no tan remoto. <br><br><img src="https://habrastorage.org/webt/hw/89/hb/hw89hbkwt8n5_labggo84mg_jds.png"><br><br>  La l√≥gica para trabajar con trabajos de cinta en el grupo de medios GFS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no</a> es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la m√°s f√°cil</a> , los escritores t√©cnicos no te dejar√°n mentir.  En pocas palabras, omitiendo los detalles, solo las copias de seguridad completas (incluidas las copias de seguridad completas virtuales) se copian en los conjuntos de medios semanales y superiores, uno para cada fecha, y en la copia de seguridad diaria de todas las copias de seguridad que est√°n en el repositorio para el d√≠a actual, porque la copia de seguridad -El trabajo puede comenzar m√°s de una vez al d√≠a. <br><br><h2>  Simultaneidad, hora de inicio y espera en grupos de GFS </h2><br>  Ahora tambi√©n es posible la grabaci√≥n paralela de varias cadenas o el trabajo en varias unidades de biblioteca en agrupaciones de medios GFS (antes, solo en forma ordinaria).  Se incluye en el paso <b>Opciones</b> del grupo de medios. <br><br><img src="https://habrastorage.org/webt/50/al/mh/50almhfbumzpwdqsxy8zzfgur2w.png"><br><br>  <b>Una aclaraci√≥n importante</b> : el mismo archivo siempre se escribe en la misma secuencia, por lo tanto, en el caso de varias m√°quinas virtuales grandes, se recomienda habilitar la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">configuraci√≥n por VM en el repositorio</a> para que la copia de seguridad consista en varias cadenas. <br><br>  Adem√°s, se hizo posible elegir <b>la hora de inicio del trabajo GFS</b> .  A muchos usuarios no les gustaba comenzar a medianoche y luego esperar casi todo el d√≠a hasta que finalizara el trabajo de abastecimiento.  Ahora, esta hora se puede configurar, por ejemplo, al final de la tarde, cuando ya hay algo que copiar en la cinta.  Adem√°s, a solicitud de los usuarios, colocamos en la configuraci√≥n avanzada una opci√≥n que anteriormente solo se pod√≠a activar con la clave de registro.  Es suficiente seleccionar <b>Procesar el punto de restauraci√≥n m√°s reciente en lugar de esperar</b> , y lo que est√° en el repositorio en el momento del inicio del trabajo de cinta (el punto de ayer, por ejemplo) se copia en la cinta, no hay espera en absoluto. <br><br><img src="https://habrastorage.org/webt/5c/lw/tr/5clwtrg4ea-h_cinvjj4cbcnwb8.png"><br><br><h1>  Trabajo mejorado con m√∫ltiples bibliotecas. </h1><br>  Se tratar√° de la situaci√≥n cuando se agregue m√°s de una biblioteca a un grupo de medios.  Apoyamos esto antes, pero de vez en cuando los clientes ven√≠an con quejas sobre un comportamiento poco predecible. <br><br><h2>  Era </h2><br><img src="https://habrastorage.org/webt/lm/em/zb/lmemzbkxcz0vs8vjamt2u7xt9xu.png"><br><br>  Por ejemplo, el trabajo de cinta comenz√≥, tom√≥ dos unidades en la primera biblioteca, pero la configuraci√≥n de concurrencia le permite usar 4 unidades a la vez.  ¬øDeber√≠a este trabajo cambiar a la segunda biblioteca del grupo de medios y usarlo tambi√©n, o ser√° un desperdicio de recursos? <br><br>  Otro caso  Se seleccion√≥ una opci√≥n para cambiar por la condici√≥n ‚Äúno hay cassettes disponibles‚Äù, en la primera biblioteca solo hay un cassette, pero todos los datos se colocan potencialmente en √©l.  Sin embargo, la configuraci√≥n le permite escribir en paralelo en dos cintas.  ¬øDeber√≠a estar involucrada la segunda biblioteca en este caso? <br><br>  Decidimos poner esta √°rea en orden, haciendo posible personalizar el comportamiento expl√≠citamente. <br><br><h2>  Se ha convertido </h2><br><img src="https://habrastorage.org/webt/jq/wc/0d/jqwc0dneyn9cpqpkwoqq6fzyno4.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Las bibliotecas en el grupo de medios</a> aparecieron roles: <b>activos</b> y <b>pasivos</b> .  Y el grupo de medios en s√≠ tiene dos modos: a prueba de fallas, o conmutaci√≥n por error y en <b>paralelo</b> .  Ahora, seg√∫n los requisitos, puede configurar el grupo de medios de diferentes maneras. <br><br><ul><li>  Si tiene varias bibliotecas pares y necesita paralelizar la grabaci√≥n en ellas, active el modo de grabaci√≥n paralela, para esto todas las bibliotecas deben tener roles activos asignados.  En este caso, las nuevas cintas y unidades se activar√°n inmediatamente, tan pronto como sea necesario, independientemente de la biblioteca en la que se encuentren.  Todav√≠a hay prioridad: primero, intentaremos encontrar recursos en la biblioteca ubicada m√°s arriba en la lista. </li><li>  Si hay una biblioteca principal y una unidad antigua o independiente en reserva, habilite el modo feylover colocando la biblioteca principal en la parte superior de la lista y eligiendo un rol pasivo para los dispositivos de respaldo.  El cambio a un dispositivo de este tipo solo ocurrir√° cuando sea realmente necesario que el trabajo funcione al menos de alguna manera.  Esta situaci√≥n se considerar√° anormal y se le enviar√° una notificaci√≥n por correo. </li></ul><br>  Hay una situaci√≥n m√°s complicada que a√∫n no admitimos: varias bibliotecas activas con pasivas.  Los comentarios mostrar√°n si existe la necesidad de tales configuraciones y si es necesario "finalizar" la funci√≥n en el futuro.  Pr√°ctica est√°ndar <br><br><h1>  Soporte WORM </h1><br>  <b>WORM</b> : escribir una vez, leer muchas: las cintas que no se pueden borrar ni sobrescribir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el nivel de hierro</a> solo pueden agregar datos.  Su uso obligatorio est√° regulado por las reglas de algunas organizaciones, por ejemplo, aquellas que trabajan en el campo de la medicina.  El principal problema con tales cintas antes era que VBR durante el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">inventario</a> o la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">catalogaci√≥n</a> registraba un encabezado que ya no pod√≠a borrarse en el futuro, y los trabajos de cinta ca√≠an con un error durante dicho intento. <br><br>  En 9.5 Actualizaci√≥n 4, se implementa el soporte completo para tales cintas.  Se agregaron grupos de medios WORM, regulares y GFS, donde solo puede colocar cintas de este tipo. <br><br><img src="https://habrastorage.org/webt/jw/xn/kh/jwxnkhju_i7nadbdv3y2nnuubzg.png"><br><br>  Los nuevos cassettes tienen un icono azul "congelado".  Desde el punto de vista del usuario, trabajar con cassettes WORM no es diferente de trabajar con los ordinarios. <br><br>  La "alimentaci√≥n" de los casetes se determina inicialmente por el sufijo del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo de barras</a> , si el c√≥digo de barras en ellos es regular o no se puede leer, la unidad proporciona informaci√≥n cuando se inserta el cartucho por primera vez.  Coloque cintas WORM en un grupo de medios normal y escribirles no funcionar√°.  De lo divertido: ya hab√≠a usuarios que pegaron c√≥digos de barras WORM en casetes normales y se sorprendieron de los cambios en su infraestructura despu√©s de la actualizaci√≥n. <br><br><h2>  Chip de cartucho </h2><br>  Junto con la introducci√≥n de casetes no regrabables, comenzaron a trabajar con el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">chip</a> .  Antes no us√°bamos atributos est√°ndar en el chip, ahora escribimos y leemos algunos de ellos, pero no los percibimos como la fuente principal de datos.  La directriz principal sigue siendo el t√≠tulo del cassette.  Esta decisi√≥n result√≥ ser correcta: despu√©s de un mes despu√©s del lanzamiento, vemos c√≥mo el "zool√≥gico" del hierro del usuario trae sorpresas en t√©rminos de trabajar con el chip. <br><br><h1>  Copia de seguridad en cinta de vol√∫menes NDMP </h1><br>  En conclusi√≥n, sobre la caracter√≠stica m√°s solicitada por el n√∫mero de revisiones de esta Actualizaci√≥n.  La copia de seguridad de los vol√∫menes NDMP en cintas se hizo disponible.  Es necesario <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">agregar un servidor NDMP a la</a> infraestructura de VBR, despu√©s de lo cual ser√° posible seleccionar vol√∫menes de este host en el trabajo de sugerencia de archivo.  Caen en el cassette en forma de archivos con un atributo especial para distinguirlos de la catalogaci√≥n habitual. <br><br><img src="https://habrastorage.org/webt/de/_q/wn/de_qwns8hgdyko372yoji6jhamq.png"><br><br>  En la primera implementaci√≥n, existen ciertas limitaciones: las extensiones no son compatibles, adem√°s es posible realizar copias de seguridad y restaurar solo el volumen completo, pero no los archivos individuales.  La copia de seguridad funciona mediante el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">volcado</a> (en el caso de NetApp - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ufsdump</a> ), hay algunas peculiaridades: el n√∫mero m√°ximo de puntos incrementales es 9, despu√©s de lo cual se fuerza una copia de seguridad completa. <br><br><h1>  En conclusi√≥n </h1><br>               VBR 9.5 Update 4.    : <br><br><ul><li>    -    -; </li><li>   Tape Operator (   ,     ‚Äì    Restore Operator); </li><li>   include/exclude-   - ( NDMP); </li><li>     - (    ,      ,    ,     -      ‚Äì   , ); </li><li>         ; </li><li>       ,  ,      /     ,   ; </li><li>   . </li></ul><br><h1>  Enlaces utiles </h1><br>         : <br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">      VBR 9.5 Update 4</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   ¬´     Veeam   ¬ª</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   ¬´7        -¬ª</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  ,    ( .)</a> </li><li>         ¬´  ¬ª (,    ) ‚Äì   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> .      95 ‚Äì 102. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443716/">https://habr.com/ru/post/443716/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443702/index.html">C√≥mo delegar informes simples al robot. Escribir un bot en Python y Google BigQuery</a></li>
<li><a href="../443704/index.html">Seg√∫n los resultados de la IPO de 2019, pueden aparecer 5 mil nuevos millonarios en Silicon Valley</a></li>
<li><a href="../443708/index.html">La misi√≥n Chang'e 4 es el tercer d√≠a lunar. Rover "Yutu-2" en busca de ... piedras</a></li>
<li><a href="../443710/index.html">Java Challengers # 4: Comparaci√≥n de objetos con equals () y hashCode ()</a></li>
<li><a href="../443714/index.html">ControlValueAccessor y contenteditable en Angular</a></li>
<li><a href="../443718/index.html">Juego de fantas√≠a con 300 mil razas.</a></li>
<li><a href="../443720/index.html">Detalles</a></li>
<li><a href="../443722/index.html">Dise√±o y denominaci√≥n de colas.</a></li>
<li><a href="../443724/index.html">AMD Radeon VII: Chip de gama alta (Parte 1)</a></li>
<li><a href="../443726/index.html">Caracter√≠sticas de configuraci√≥n de Palo Alto Networks: SSL VPN</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>