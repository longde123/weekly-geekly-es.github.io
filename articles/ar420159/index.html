<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ ğŸ•› ğŸ˜ Ø§Ù„Ø¥Ø±Ø³Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙˆÙŠØ¨ ÙÙŠ R Ùˆ Python ğŸ”” ğŸ¤¹ğŸ¾ ğŸ‘¸ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ù…Ø±Ø­Ø¨Ø§ ÙŠØ§ Ù‡Ø¨Ø±! Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù‡ÙŠ Ù†Ù‡Ø¬ Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙŠØªÙ… ÙÙŠÙ‡ ØªØ¬Ù…ÙŠØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø£Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø© ÙˆØªØ¨Ø¹ÙŠØ§ØªÙ‡Ø§ ÙˆØªÙƒÙˆÙŠÙ†Ù‡Ø§ (Ù…Ù„ÙØ§Øª Ø¨ÙŠØ§Ù† Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ù…Ø¬Ø±Ø¯Ø©) Ù…Ø¹Ù‹Ø§ ÙÙŠ ØµÙˆØ±Ø© Ø­Ø§ÙˆÙŠØ©. ÙÙŠ Ù‡Ø°Ù‡ Ø§...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø§Ù„Ø¥Ø±Ø³Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙˆÙŠØ¨ ÙÙŠ R Ùˆ Python</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/420159/" style=";text-align:right;direction:rtl">  Ù…Ø±Ø­Ø¨Ø§ ÙŠØ§ Ù‡Ø¨Ø±!  Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù‡ÙŠ Ù†Ù‡Ø¬ Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙŠØªÙ… ÙÙŠÙ‡ ØªØ¬Ù…ÙŠØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø£Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø© ÙˆØªØ¨Ø¹ÙŠØ§ØªÙ‡Ø§ ÙˆØªÙƒÙˆÙŠÙ†Ù‡Ø§ (Ù…Ù„ÙØ§Øª Ø¨ÙŠØ§Ù† Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ù…Ø¬Ø±Ø¯Ø©) Ù…Ø¹Ù‹Ø§ ÙÙŠ ØµÙˆØ±Ø© Ø­Ø§ÙˆÙŠØ©.  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ø³Ù†Ù†Ø¸Ø± ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ø¹Ø§Ù…Ù„ Ù…ÙŠÙ†Ø§Ø¡ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„ØªØ´ØºÙŠÙ„ R Ùˆ Python shell ÙˆØ§Ù„Ù…Ø²ÙŠØ¯.  Ø§Ù†Ø¶Ù… Ø§Ù„Ø¢Ù†! <br><br><img src="https://habrastorage.org/webt/se/lz/8z/selz8z-caoqs_zvjlfuv2bwkzxe.jpeg"><a name="habracut"></a><br><br>  ÙŠÙ…ÙƒÙ† Ø§Ø®ØªØ¨Ø§Ø± ØªØ·Ø¨ÙŠÙ‚ Ø­Ø§ÙˆÙŠØ§Øª ÙƒÙˆØ­Ø¯Ø© Ù†Ù…Ø·ÙŠØ© ÙˆÙ†Ø´Ø±Ù‡ ÙƒÙ…Ø«ÙŠÙ„ Ø­Ø§ÙˆÙŠØ© ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ (OS) Ù„Ù„Ø¹Ù‚Ø¯Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Docker</a> Ù‡Ùˆ Ù…Ø´Ø±ÙˆØ¹ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±</a> Ù„Ø£ØªÙ…ØªØ© Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙÙŠ Ø´ÙƒÙ„ Ø­Ø§ÙˆÙŠØ§Øª Ù…Ø­Ù…ÙˆÙ„Ø© ÙˆÙ…ÙƒØªÙÙŠØ© Ø°Ø§ØªÙŠÙ‹Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø© Ø£Ùˆ ÙÙŠ Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø¹Ù…Ù„.  Ø§Ù†Ø¸Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‡Ù†Ø§</a> Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙŠØ¹Ø¯ Microsoft Machine Learning Server</a> Ù†Ø¸Ø§Ù…Ù‹Ø§ Ù…Ø¤Ø³Ø³ÙŠÙ‹Ø§ Ù…Ø±Ù†Ù‹Ø§ Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ·ÙˆÙŠØ± ÙˆØ¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø°ÙƒÙŠØ© ÙˆØ§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‚ÙŠÙ…Ø© Ù„Ù„Ø£Ø¹Ù…Ø§Ù„ Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù€ Python Ùˆ R. ÙŠØ¹Ù†ÙŠ Ù…ØµØ·Ù„Ø­ " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„ØªØ´ØºÙŠÙ„</a> " Ù†Ø´Ø± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø¨Ù„ØºØ§Øª R Ùˆ Python Ø¹Ù„Ù‰ Microsoft Machine Learning Server ÙÙŠ Ø´ÙƒÙ„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø®Ø¯Ù…Ø§Øª ÙˆÙŠØ¨</a> ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„Ø§Ø­Ù‚ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„ØªØ­Ø³ÙŠÙ† ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø´Ø±ÙƒØ©. <br><br>  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ø³Ù†Ù„Ù‚ÙŠ Ù†Ø¸Ø±Ø© Ø¹Ù„Ù‰ ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ø¹Ø§Ù…Ù„ Ø¥Ø±Ø³Ø§Ø¡ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Machine Learning Server 9.3</a> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„ÙØ§Øª Docker ØŒ ÙˆÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ØªØ´ØºÙŠÙ„ Ù‚Ø°ÙŠÙØ© R. </li><li style=";text-align:right;direction:rtl">  Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ù‚Ø°ÙŠÙØ© Python. </li><li style=";text-align:right;direction:rtl">  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Jupyter Notebook. </li><li style=";text-align:right;direction:rtl">  Ø´ØºÙ‘Ù„ ØªÙ‡ÙŠØ¦Ø© OneBox. </li><li style=";text-align:right;direction:rtl">  Ø¨Ø¯Ø¡ Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ Ø±. </li><li style=";text-align:right;direction:rtl">  Ø¨Ø¯Ø¡ Ø®Ø¯Ù…Ø© ÙˆÙŠØ¨ Python. </li></ol><br><h2 style=";text-align:right;direction:rtl">  Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© </h2><br>  Ø£ÙŠ Ø¬Ù‡Ø§Ø² Linux Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…Ø«Ø¨Øª Ø¹Ù„ÙŠÙ‡ Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¥ØµØ¯Ø§Ø± Ù…Ø¬ØªÙ…Ø¹ Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ (CE).  ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ù‚Ù…Øª Ø¨Ù†Ø´Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ubuntu 16.04 VM</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙˆØªØ«Ø¨ÙŠØª docker CE</a> . <br><br><h2 style=";text-align:right;direction:rtl">  Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ </h2><br>  Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© ØªØ³Ù…Ù‰ mlserver Ù…Ø¹ ØªØ«Ø¨ÙŠØª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Machine Learning Server 9.3</a> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù Ø¹Ø§Ù…Ù„ Ø¥Ø±Ø³Ø§Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ: <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs">FROM ubuntu:<span class="hljs-number"><span class="hljs-number">16.04</span></span> RUN apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y update \ &amp;&amp; apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install -y apt-transport-https wget \ &amp;&amp; echo <span class="hljs-string"><span class="hljs-string">"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ xenial main"</span></span> | tee /etc/apt/sources.list.d/azure-cli.list \ &amp;&amp; wget https:<span class="hljs-comment"><span class="hljs-comment">//packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb -O /tmp/prod.deb \ &amp;&amp; dpkg -i /tmp/prod.deb \ &amp;&amp; rm -f /tmp/prod.deb \ &amp;&amp; apt-key adv --keyserver packages.microsoft.com --recv-keys 52E16F86FEE04B979B07E28DB02C46DF417A0893 \ &amp;&amp; apt-get -y update \ &amp;&amp; apt-get install -y microsoft-r-open-foreachiterators-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mkl-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mro-3.4.3 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-python-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-py-9.3.0 \ &amp;&amp; apt-get install -y azure-cli=2.0.26-1~xenial \ &amp;&amp; apt-get install -y dotnet-runtime-2.0.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-adminutil-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-config-rserve-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-computenode-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-webnode-9.3.0 \ &amp;&amp; apt-get clean \ &amp;&amp; /opt/microsoft/mlserver/9.3.0/bin/R/activate.sh</span></span></code> </pre> <br>  Ø§Ø³ØªØ®Ø¯Ù… <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø£Ù…Ø±</a> docker <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">build</a> Ù„Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© mlserver Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù docker Ø£Ø¹Ù„Ø§Ù‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker build -f mlserver-dockerfile -t mlserver.</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© mlserver Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker images</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  R Shell Launch </h2><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker run -it mlserver R</code> </pre> <br><img src="https://habrastorage.org/webt/7v/xz/fk/7vxzfkn_cxbgfszq7-mtelkebpu.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ø¥Ø·Ù„Ø§Ù‚ Ù‚Ø°ÙŠÙØ© Ø¨Ø§ÙŠØ«ÙˆÙ† </h2><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker run -it mlserver mlserver-python</code> </pre> <br><img src="https://habrastorage.org/webt/de/nh/lj/denhljnkq7uavavm1tcfc3bu_uy.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Jupyter Notebook </h2><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker run -p <span class="hljs-number"><span class="hljs-number">8888</span></span>:<span class="hljs-number"><span class="hljs-number">8888</span></span> -it mlserver /opt/microsoft/mlserver/<span class="hljs-number"><span class="hljs-number">9.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/runtime/python/bin/jupyter notebook --no-browser --port=<span class="hljs-number"><span class="hljs-number">8888</span></span> --ip=<span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> --allow-root</code> </pre> <br>  ÙŠØ¤Ø¯ÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø± Ø£Ø¹Ù„Ø§Ù‡ Ø¥Ù„Ù‰ Ø¥Ø¹Ø·Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù…Ù† Ø®Ù„Ø§Ù„ ÙØªØ­Ù‡ ÙÙŠ Ù…ØªØµÙØ­ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Jupyter Notebooks. <br><br><img src="https://habrastorage.org/webt/zz/b8/8l/zzb88lx58nkjek3mxvpufewnhco.png"><br><br><h2 style=";text-align:right;direction:rtl">  Ø´ØºÙÙ‘Ù„ ØªÙ‡ÙŠØ¦Ø© OneBox </h2><br>  ÙŠÙ…ÙƒÙ† ØªÙƒÙˆÙŠÙ† Microsoft Learning Server Ø¨Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙƒØ®Ø§Ø¯Ù… Ù†Ø´Ø± ÙˆØ§Ø³ØªØ¶Ø§ÙØ© Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙˆÙŠØ¨ Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù„Ù„ØªØ´ØºÙŠÙ„</a> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> FROM ubuntu:<span class="hljs-number"><span class="hljs-number">16.04</span></span> RUN apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y update \ &amp;&amp; apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install -y apt-transport-https wget \ &amp;&amp; echo <span class="hljs-string"><span class="hljs-string">"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ xenial main"</span></span> | tee /etc/apt/sources.list.d/azure-cli.list \ &amp;&amp; wget https:<span class="hljs-comment"><span class="hljs-comment">//packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb -O /tmp/prod.deb \ &amp;&amp; dpkg -i /tmp/prod.deb \ &amp;&amp; rm -f /tmp/prod.deb \ &amp;&amp; apt-key adv --keyserver packages.microsoft.com --recv-keys 52E16F86FEE04B979B07E28DB02C46DF417A0893 \ &amp;&amp; apt-get -y update \ &amp;&amp; apt-get install -y microsoft-r-open-foreachiterators-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mkl-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mro-3.4.3 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-python-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-py-9.3.0 \ &amp;&amp; apt-get install -y azure-cli=2.0.26-1~xenial \ &amp;&amp; apt-get install -y dotnet-runtime-2.0.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-adminutil-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-config-rserve-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-computenode-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-webnode-9.3.0 \ &amp;&amp; apt-get clean \ &amp;&amp; /opt/microsoft/mlserver/9.3.0/bin/R/activate.sh RUN echo $'#!/bin/bash \n\ set -e \n\ az ml admin bootstrap --admin-password "Microsoft@2018" --confirm-password "Microsoft@2018" \n\ exec "$@"' &gt; bootstrap.sh RUN chmod +x bootstrap.sh EXPOSE 12800 ENTRYPOINT ["/bootstrap.sh"] CMD ["bash"]</span></span></code> </pre> <br>  Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© mlserver-onebox Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù docker Ø£Ø¹Ù„Ø§Ù‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker build -f mlserver-onebox-dockerfile -t mlserver-onebox.</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© mlserver-onebox Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker images</code> </pre> <br>  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø­Ø§ÙˆÙŠØ© onebox Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker run --name mlserver-onebox-container -dit mlserver-onebox</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù…Ø¹: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker logs mlserver-onebox-container</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù…Ø± Ø£Ø¹Ù„Ø§Ù‡ Ø¨Ø£Ù† Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµ ÙƒØ§Ù†Øª Ù†Ø§Ø¬Ø­Ø© ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§ÙˆÙŠØ© ÙƒÙ…Ø±Ø¨Ø¹ ÙˆØ§Ø­Ø¯ (ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø¬Ù„ Docker Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ: "Ù„Ù‚Ø¯ Ù…Ø±Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©".). <br><br>  Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† IP Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker inspect -f <span class="hljs-string"><span class="hljs-string">'{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}'</span></span> mlserver-onebox-container <span class="hljs-string"><span class="hljs-string">'172.17.0.3'</span></span></code> </pre> <br>  ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙƒÙ…Ø±Ø¨Ø¹ ÙˆØ§Ø­Ø¯: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">az login --mls --mls-endpoint <span class="hljs-string"><span class="hljs-string">"http://172.17.0.3:12800"</span></span> --username <span class="hljs-string"><span class="hljs-string">"admin"</span></span> --password <span class="hljs-string"><span class="hljs-string">"Microsoft@2018"</span></span> az ml admin diagnostic run</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  Ø¨Ø¯Ø¡ Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ R </h2><br>  ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ù…Ø¹ Ø®Ø¯Ù…Ø© ÙˆÙŠØ¨ Ù…ÙÙ‡ÙŠØ£Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§ Ø¨Ø­ÙŠØ« ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ù…Ø¬Ø±Ø¯ Ù†Ø´Ø± Ø§Ù„Ø­Ø§ÙˆÙŠØ©.  ÙÙŠÙ…Ø§ ÙŠÙ„ÙŠ Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ R Ù„Ù…Ø­Ø§ÙƒØ§Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ</a> ØŒ Ø§Ù„Ø°ÙŠ ØªÙ… ØªÙƒÙˆÙŠÙ†Ù‡ Ù…Ø³Ø¨Ù‚Ù‹Ø§ Ø¨Ø¯Ø§Ø®Ù„Ù‡. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> FROM ubuntu:<span class="hljs-number"><span class="hljs-number">16.04</span></span> RUN apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y update \ &amp;&amp; apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install -y apt-transport-https wget \ &amp;&amp; echo <span class="hljs-string"><span class="hljs-string">"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ xenial main"</span></span> | tee /etc/apt/sources.list.d/azure-cli.list \ &amp;&amp; wget https:<span class="hljs-comment"><span class="hljs-comment">//packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb -O /tmp/prod.deb \ &amp;&amp; dpkg -i /tmp/prod.deb \ &amp;&amp; rm -f /tmp/prod.deb \ &amp;&amp; apt-key adv --keyserver packages.microsoft.com --recv-keys 52E16F86FEE04B979B07E28DB02C46DF417A0893 \ &amp;&amp; apt-get -y update \ &amp;&amp; apt-get install -y microsoft-r-open-foreachiterators-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mkl-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mro-3.4.3 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-python-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-py-9.3.0 \ &amp;&amp; apt-get install -y azure-cli=2.0.26-1~xenial \ &amp;&amp; apt-get install -y dotnet-runtime-2.0.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-adminutil-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-config-rserve-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-computenode-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-webnode-9.3.0 \ &amp;&amp; apt-get clean \ &amp;&amp; /opt/microsoft/mlserver/9.3.0/bin/R/activate.sh RUN echo $'library(mrsdeploy) \n\ carsModel &lt;- glm(formula = am ~ hp + wt, data = mtcars, family = binomial) \n\ manualTransmission &lt;- function(hp, wt) { \n\ newdata &lt;- data.frame(hp = hp, wt = wt) \n\ predict(carsModel, newdata, type = "response") \n\ } \n\ remoteLogin("http://localhost:12800", username = "admin", password = "Microsoft@2018", session = FALSE) \n\ api &lt;- publishService("ManualTransmissionService", code = manualTransmission, model = carsModel, inputs = list(hp = "numeric", wt = "numeric"), outputs = list(answer = "numeric"), v = "1.0.0") \n\ result &lt;- api$manualTransmission(120, 2.8) \n\ print(result$output("answer")) \n\ remoteLogout()' &gt; /tmp/ManualTransmission.R RUN echo $'#!/bin/bash \n\ set -e \n\ az ml admin bootstrap --admin-password "Microsoft@2018" --confirm-password "Microsoft@2018" \n\ /usr/bin/Rscript --no-save --no-restore --verbose "/tmp/ManualTransmission.R" \n\ exec "$@"' &gt; bootstrap.sh RUN chmod +x bootstrap.sh EXPOSE 12800 ENTRYPOINT ["/bootstrap.sh"] CMD ["bash"]</span></span></code> </pre> <br>  Ø£Ù†Ø´Ø¦ ØµÙˆØ±Ø© Ø§Ù†ØªÙ‚Ø§Ù„ ÙŠØ¯ÙˆÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ø£Ø¹Ù„Ø§Ù‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker build -f r-manualtransmission-dockerfile -t rmanualtransmission.</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© rmanualtransmission Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker images</code> </pre> <br>  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker run --name rmanualtransmission-container -dit rmanualtransmission</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù…Ø¹: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker logs rmanualtransmission-container</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø¬Ø§Ø­ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ© ÙˆÙ†Ø´Ø± Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§. <br><br>  Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† IP Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker inspect -f <span class="hljs-string"><span class="hljs-string">'{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}'</span></span> rmanualtransmission-container <span class="hljs-string"><span class="hljs-string">'172.17.0.3'</span></span></code> </pre> <br>  ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ùˆ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ swagger.json R Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙˆØ§Ù…Ø± curl: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y install jq curl -s --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> --request POST --data <span class="hljs-string"><span class="hljs-string">'{"username":"admin","password":"Microsoft@2018"}'</span></span> http:<span class="hljs-comment"><span class="hljs-comment">//172.17.0.3:12800/login | jq -r '.access_token' &lt;access token&gt; curl -s --header "Content-Type: application/json" --header "Authorization: Bearer &lt;access token&gt;" --request POST --data '{"hp":120,"wt":2.8}' http://172.17.0.3:12800/api/ManualTransmissionService/1.0.0 {"success":true,"errorMessage":"","outputParameters":{"answer":0.64181252840938208},"outputFiles":{},"consoleOutput":"","changedFiles":[]} curl -s --header "Authorization: Bearer &lt;access token&gt;" --request GET http://172.17.0.3:12800/api/ManualTransmissionService/1.0.0/swagger.json -o swagger.json</span></span></code> </pre> <br>  Ù…Ù„Ù swagger.json Ù…Ù†Ø§Ø³Ø¨ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙƒØªØ¨Ø© Ø¹Ù…ÙŠÙ„ Ø¨Ø£ÙŠ Ù„ØºØ©</a> . <br><br><h2 style=";text-align:right;direction:rtl">  ØªØ´ØºÙŠÙ„ Ø®Ø¯Ù…Ø© ÙˆÙŠØ¨ Python </h2><br>  ÙÙŠÙ…Ø§ ÙŠÙ„ÙŠ Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ Python Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ù†Ø§Ù‚Ù„ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ÙŠØ¯ÙˆÙŠ</a> Ø§Ù„Ø°ÙŠ ØªÙ… ØªÙƒÙˆÙŠÙ†Ù‡ Ù…Ø³Ø¨Ù‚Ù‹Ø§ Ø¨Ø¯Ø§Ø®Ù„Ù‡. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> FROM ubuntu:<span class="hljs-number"><span class="hljs-number">16.04</span></span> RUN apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y update \ &amp;&amp; apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install -y apt-transport-https wget \ &amp;&amp; echo <span class="hljs-string"><span class="hljs-string">"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ xenial main"</span></span> | tee /etc/apt/sources.list.d/azure-cli.list \ &amp;&amp; wget https:<span class="hljs-comment"><span class="hljs-comment">//packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb -O /tmp/prod.deb \ &amp;&amp; dpkg -i /tmp/prod.deb \ &amp;&amp; rm -f /tmp/prod.deb \ &amp;&amp; apt-key adv --keyserver packages.microsoft.com --recv-keys 52E16F86FEE04B979B07E28DB02C46DF417A0893 \ &amp;&amp; apt-get -y update \ &amp;&amp; apt-get install -y microsoft-r-open-foreachiterators-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mkl-3.4.3 \ &amp;&amp; apt-get install -y microsoft-r-open-mro-3.4.3 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-python-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-packages-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mml-py-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-r-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-mlm-py-9.3.0 \ &amp;&amp; apt-get install -y azure-cli=2.0.26-1~xenial \ &amp;&amp; apt-get install -y dotnet-runtime-2.0.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-adminutil-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-config-rserve-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-computenode-9.3.0 \ &amp;&amp; apt-get install -y microsoft-mlserver-webnode-9.3.0 \ &amp;&amp; apt-get clean \ &amp;&amp; /opt/microsoft/mlserver/9.3.0/bin/R/activate.sh RUN echo $'from microsoftml.datasets.datasets import DataSetMtCars \n\ import pandas as pd \n\ from revoscalepy import rx_lin_mod, rx_predict \n\ cars_model = rx_lin_mod(formula="am ~ hp + wt", data=DataSetMtCars().as_df()) \n\ mydata = pd.DataFrame({"hp":[120],"wt":[2.8]}) \n\ def manualTransmission(hp, wt): \n\ \timport pandas as pd \n\ \tfrom revoscalepy import rx_predict \n\ \tnewData = pd.DataFrame({"hp":[hp], "wt":[wt]}) \n\ \treturn rx_predict(cars_model, newData, type="response") \n\ \n\ from azureml.deploy import DeployClient \n\ from azureml.deploy.server import MLServer \n\ from azureml.common.configuration import Configuration \n\ \n\ HOST = "http://localhost:12800" \n\ context = ("admin", "Microsoft@2018") \n\ client = DeployClient(HOST, use=MLServer, auth=context) \n\ service_name = "ManualTransmissionService" \n\ service_version = "1.0.0" \n\ service = client.service(service_name).version(service_version).code_fn(manualTransmission).inputs(hp=float, wt=float).outputs(answer=pd.DataFrame).models(cars_model=cars_model).description("Man ual Transmission Service").deploy() \n\ res = service.manualTransmission(120, 2.8) \n\ print(res.output("answer"))' &gt; /tmp/ManualTransmission.py RUN echo $'#!/bin/bash \n\ set -e \n\ az ml admin bootstrap --admin-password "Microsoft@2018" --confirm-password "Microsoft@2018" \n\ mlserver-python /tmp/ManualTransmission.py \n\ exec "$@"' &gt; bootstrap.sh RUN chmod +x bootstrap.sh EXPOSE 12800 ENTRYPOINT ["/bootstrap.sh"] CMD ["bash"]</span></span></code> </pre> <br>  Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© Ù†Ù‚Ù„ Ø­Ø±Ø§Ø±ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ø£Ø¹Ù„Ø§Ù‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker build -f py-manualtransmission-dockerfile -t pymanualtransmission.</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø¹Ù…Ù„ÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø© pymanualtransmission Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker images</code> </pre> <br>  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker run --name pymanualtransmission-container -dit pymanualtransmission</code> </pre> <br>  ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù…Ø¹: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker logs pymanualtransmission-container</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø¬Ø§Ø­ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ© ÙˆÙ†Ø´Ø± Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§. <br><br>  Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ÙˆØ§Ù† IP Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">docker inspect -f <span class="hljs-string"><span class="hljs-string">'{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}'</span></span> pymanualtransmission-container <span class="hljs-string"><span class="hljs-string">'172.17.0.3'</span></span></code> </pre> <br>  ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ù swagger.json Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø¯Ù…Ø© ÙˆÙŠØ¨ Python Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙˆØ§Ù…Ø± curl: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> -y install jq curl -s --header <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> --request POST --data <span class="hljs-string"><span class="hljs-string">'{"username":"admin","password":"Microsoft@2018"}'</span></span> http:<span class="hljs-comment"><span class="hljs-comment">//172.17.0.3:12800/login | jq -r '.access_token' &lt;access token&gt; curl -s --header "Content-Type: application/json" --header "Authorization: Bearer &lt;access token&gt;" --request POST --data '{"hp":120,"wt":2.8}' http://172.17.0.3:12800/api/ManualTransmissionService/1.0.0 {"success":true,"errorMessage":"","outputParameters":{"answer":0.64181252840938208},"outputFiles":{},"consoleOutput":"","changedFiles":[]} curl -s --header "Authorization: Bearer &lt;access token&gt;" --request GET http://172.17.0.3:12800/api/ManualTransmissionService/1.0.0/swagger.json -o swagger.json</span></span></code> </pre> <br>  Ù…Ù„Ù swagger.json Ù…Ù†Ø§Ø³Ø¨ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙƒØªØ¨Ø© Ø¹Ù…ÙŠÙ„ Ø¨Ø£ÙŠ Ù„ØºØ©</a> . <br><br>  <b>Ù…Ù„Ø§Ø­Ø¸Ø©</b>  ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ ØªØºÙŠÙŠØ± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ÙˆÙ‚Ø¹ appsettings.json Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙŠØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù docker Ø§Ù„Ø³Ø­Ø±ÙŠ ÙˆØªÙ…ÙƒÙŠÙ† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…ØµØ§Ø¯Ù‚Ø© LDAP / AAD</a> . <br><br><h2 style=";text-align:right;direction:rtl">  Ù…Ù„Ø­Ù‚Ø§Øª </h2><br>  ÙŠÙ…ÙƒÙ† Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØ± Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¥Ù„Ù‰ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Azure Container Registry (ACR</a> ). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙÙŠ Azure Kubernetes Service (AKS)</a> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ± Ù…Ù† ACR <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙŠÙ…ÙƒÙ† Ø£Ù†</a> ØªØªØ¯Ø±Ø¬ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¥Ù„Ù‰ ÙƒÙ„Ø§ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠÙ† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> Ø­ÙˆØ§Ù…Ù„ Autoscale. <br><br><h2 style=";text-align:right;direction:rtl">  Ø§Ù„Ø±ÙˆØ§Ø¨Ø· </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github.com/johnpaulada/microsoftmlserver-docker</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github.com/rcarmo/docker-ml-server</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Success.docker.com/article/use-a-script-to-initialize-stateful-container-data</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">docs.docker.com/v17.09/engine/userguide/eng-image/dockerfile_best-practices</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.tothenew.com/blog/dockerizing-nginx-and-ssh-using-supervisord</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">microsoft.github.io/deployr-api-docs</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">docs.microsoft.com/en-us/dotnet/standard/microservices-arch architecture/container-docker-introduction</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar420159/">https://habr.com/ru/post/ar420159/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar420147/index.html">Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± Ø¹Ù„Ù‰ ÙƒÙ„ÙˆØ¬ÙˆØ±</a></li>
<li><a href="../ar420151/index.html">Ø£Ø³Ù‡Ù„ Ù…Ù…Ø§ ÙŠØ¨Ø¯Ùˆ. Ø§Ù„ÙØµÙ„ 12</a></li>
<li><a href="../ar420153/index.html">Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ù„Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© Ø§Ù„Ù…ØµÙ†ÙˆØ¹Ø© Ù…Ù† ABS Ùˆ PLA Ù…Ø¹ Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø¯Ø¹Ù…</a></li>
<li><a href="../ar420155/index.html">Ø¥Ù†ØªÙ„ Ø¯Ø§ØªØ§ Ø³Ù†ØªØ± SSD. ÙƒÙ…ÙŠØ§Øª ÙƒØ¨ÙŠØ±Ø© ÙˆØ£Ø³Ù…Ø§Ø¡ Ø¬Ø¯ÙŠØ¯Ø©</a></li>
<li><a href="../ar420157/index.html">SJ-meetup Ø§Ù„Ù†Ù…Ø°Ø¬Ø© Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a></li>
<li><a href="../ar420161/index.html">1500 Ù…Ù†Ø´ÙˆØ± ØŒ Ù„Ø¹Ø¨Ø© CAPTCHA Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬ÙŠÙ† ÙˆØ¹Ù‚Ù„ Ù…ÙƒØ³ÙˆØ±: 10 Ø³Ù†ÙˆØ§Øª Ø¹Ù„Ù‰ Ù…Ø¯ÙˆÙ†ØªÙ†Ø§</a></li>
<li><a href="../ar420163/index.html">Ø¯Ù„ÙŠÙ„ VRRP ÙÙŠ MikroTik</a></li>
<li><a href="../ar420167/index.html">MBLT DEV 2018: Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆÙ…ÙƒØ¨Ø±Ø§Øª Ø§Ù„ØµÙˆØª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</a></li>
<li><a href="../ar420171/index.html">ICO 2.0 ÙˆØ±Ù…Ø² Ø§Ù„Ø£Ø¹Ù…Ø§Ù„</a></li>
<li><a href="../ar420173/index.html">Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ - Ø£ÙˆÙ„ Ù†Ø¸Ø±Ø© ØªØ­Øª ØºØ·Ø§Ø¡ Ø§Ù„Ù…Ø­Ø±Ùƒ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>