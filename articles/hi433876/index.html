<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯХЧ ЁЯзТЁЯП┐ ЁЯМбя╕П рд╕рдмрд╕реЗ рдЫреЛрдЯреЗ рдХреЗ рд▓рд┐рдП рддреАрди.js рдкрд░ рддреАрди рдЖрдпрд╛рдореА рдЙрддреНрдкрд╛рдж рдкреНрд░рд╕реНрддреБрддрд┐рдпреЛрдВ ЁЯС╕ЁЯП╛ ЁЯТГЁЯП╗ ЁЯЩМЁЯП╜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="3 рдбреА рдореЗрдВ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рдЙрддреНрдкрд╛рдж рдкреНрд░рд╕реНрддреБрддрд┐рдпрд╛рдВ рд╣рдорд╛рд░реЗ рд╕рдордп рдореЗрдВ рдЗрддрдиреА рджреБрд░реНрд▓рдн рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпреЗ рдХрд╛рд░реНрдп рд╢реБрд░реБрдЖрддреА рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╕реЗ рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╕рд╡рд╛рд▓ рдкреИрджрд╛ рдХрд░рддреЗ рд╣реИрдВред рдЖрдЬ рд╣рдо ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕рдмрд╕реЗ рдЫреЛрдЯреЗ рдХреЗ рд▓рд┐рдП рддреАрди.js рдкрд░ рддреАрди рдЖрдпрд╛рдореА рдЙрддреНрдкрд╛рдж рдкреНрд░рд╕реНрддреБрддрд┐рдпреЛрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433876/"><p><img src="https://habrastorage.org/webt/zq/qv/nw/zqqvnwkx2md-fl2vpq4mkwyx3ka.jpeg"></p><br><p>  3 рдбреА рдореЗрдВ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рдЙрддреНрдкрд╛рдж рдкреНрд░рд╕реНрддреБрддрд┐рдпрд╛рдВ рд╣рдорд╛рд░реЗ рд╕рдордп рдореЗрдВ рдЗрддрдиреА рджреБрд░реНрд▓рдн рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпреЗ рдХрд╛рд░реНрдп рд╢реБрд░реБрдЖрддреА рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╕реЗ рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╕рд╡рд╛рд▓ рдкреИрджрд╛ рдХрд░рддреЗ рд╣реИрдВред  рдЖрдЬ рд╣рдо рдХреБрдЫ рдЖрдзрд╛рд░рднреВрдд рдмрд╛рддреЛрдВ рдкрд░ рдЧреМрд░ рдХрд░реЗрдВрдЧреЗ рдЬреЛ рдЗрд╕ рд╡рд┐рд╖рдп рдореЗрдВ рдЖрдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдВрдЧреА рдФрд░ рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рддреНрд░рд┐-рдЖрдпрд╛рдореА рдореЙрдбрд▓ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдЬреИрд╕реЗ рд╕рд░рд▓ рдХрд╛рд░реНрдп рдкрд░ рдареЛрдХрд░ рдирд╣реАрдВ рдЦрд╛рдПрдЧреАред  рдПрдХ рд╕рд╣рд╛рдпрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдо рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рдЙрдкрдХрд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдереНрд░реА.рдЬреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </p><a name="habracut"></a><br>
<h2 id="pristupaem-k-rabote">  рдХрд╛рдо рдкрд░ рд▓рдЧрдирд╛ </h2><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдЕрдкрдиреЗ рд▓рд┐рдП рдПрдХ HTML рдЯреЗрдореНрдкрд▓реЗрдЯ рдмрдирд╛рддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЛ рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХрд┐рд╕реА рднреА рдЪреАрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рдХреЛрдИ рдЕрд╕реЗрдВрдмрд▓рд░, рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕рд░, рдЖрджрд┐ред </p><br><p>  рд╣рдореЗрдВ рдХреИрдирд╡рд╛рд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдВрдЯреЗрдирд░ рдФрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдЪрд╛рд╣рд┐рдП - рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рддреАрди.js, obj рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓реЛрдбрд░, рдФрд░ рдорд╛рдЙрд╕ рдХреЗ рд╕рд╛рде рдХреИрдорд░реЗ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯред </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'canvas-container'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/three@0.99.0/build/three.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/three@0.99.0/examples/js/loaders/OBJLoader.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/three@0.99.0/examples/js/controls/OrbitControls.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'./main.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  рдпрджрд┐ рдЖрдкрдХрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ NPM рдФрд░ рдмрд┐рд▓реНрдбрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдкреИрдХреЗрдЬ рддреАрди рд╕реЗ рдпрд╣ рд╕рдм рдЖрдпрд╛рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рджрд░рдЕрд╕рд▓, рдЕрдЧрд░ рдХрд┐рд╕реА рдХреЛ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЕрдирдкреИрдХ рд╕рднреА рдПрдирдкреАрдПрдо рдкреИрдХреЗрдЬ рд▓реЗрддрд╛ рд╣реИред </p><br><blockquote>  рдпрджрд┐ рдЖрдкрдХреЛ рдХреБрдЫ рдкреИрдХреЗрдЬ рд╕реЗ рдЕрдкрдиреЗ рдкреЗрдЬ рдкрд░ рдЬрд▓реНрджреА рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рд╕реАрдбреАрдПрди рдХрд╛ рд▓рд┐рдВрдХ рдирд╣реАрдВ рдорд┐рд▓рд╛ рд╣реИ - рдЕрдирдкреИрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдпрд╛рдж рд░рдЦреЗрдВ, рддреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </blockquote><p>  рдореБрдЦреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╡реИрд╢реНрд╡рд┐рдХ рдЪрд░ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрдЧреАред  рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдХреЛ рд╕рд░рд▓ рдХрд░реЗрдЧрд╛ред </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> SCENE; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> CAMERA; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> RENDERER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> LOADING_MANAGER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> IMAGE_LOADER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> OBJ_LOADER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> CONTROLS; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> MOUSE; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> RAYCASTER; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> TEXTURE; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> OBJECT;</code> </pre> <br><p>  рдереНрд░реА.рдЬреЗрдПрд╕ рдореЗрдВ, рдпрд╣ рд╕рднреА рджреГрд╢реНрдп рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░реЗрдВ рдФрд░ рдХреБрдЫ рдкреНрд░рдХрд╛рд╢ рд╕реНрд░реЛрдд рдмрдирд╛рдПрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initScene</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ SCENE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Scene(); initLights(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initLights</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ambient = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.AmbientLight(<span class="hljs-number"><span class="hljs-number">0xffffff</span></span>, <span class="hljs-number"><span class="hljs-number">0.7</span></span>); SCENE.add(ambient); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> directionalLight = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.DirectionalLight(<span class="hljs-number"><span class="hljs-number">0xffffff</span></span>); directionalLight.position.set(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); SCENE.add(directionalLight); }</code> </pre> <br><p>  рдкреНрд░рдХрд╛рд╢ рд╕реНрд░реЛрдд рдЕрд▓рдЧ рд╣реИрдВред  рдЬреНрдпрд╛рджрд╛рддрд░ рдРрд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ, рдкрд░рд┐рд╡реЗрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рджрд┐рд╢рд╛ рдореЗрдВ рдкреНрд░рдХрд╛рд╢ рднрд░рдирд╛, рдФрд░ рджрд┐рд╢рд╛рддреНрдордХ - рдкреНрд░рдХрд╛рд╢ред  рдЕрднреА рднреА рдкреНрд░рдХрд╛рд╢ рдХреЗ рдмрд┐рдВрджреБ рд╕реНрд░реЛрдд рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдЕрднреА рддрдХ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд╣рдо рдЪрдордХ рдХреЗ рд░рдВрдЧ рдХреЛ рд╕рдлреЗрдж рдмрдирд╛рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХреЛрдИ рд╡рд┐рдХреГрддрд┐рдпрд╛рдВ рди рд╣реЛрдВред </p><br><blockquote>  рднрд░рдг рдЪрдордХ рдХреЗ рд░рдВрдЧ рдХреЗ рд╕рд╛рде рдЦреЗрд▓рдирд╛ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рднреВрд░реЗ рд░рдВрдЧ рдХреЗ рд░рдВрдЧреЛрдВ рдХреЗ рд╕рд╛рде, рдЗрд╕рд▓рд┐рдП рдЖрдк рдПрдХ рдирд░рдо рдЫрд╡рд┐ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред </blockquote><p>  рджреВрд╕рд░реА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЪреАрдЬ рдХреИрдорд░рд╛ рд╣реИред  рдпрд╣ рдПрдХ рдРрд╕реА рдЗрдХрд╛рдИ рд╣реИ рдЬреЛ рдЙрд╕ рдмрд┐рдВрджреБ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдЬрд┐рд╕ рдкрд░ рд╣рдо рд╣реИрдВ рдФрд░ рдЬрд┐рд╕ рджрд┐рд╢рд╛ рдореЗрдВ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВред </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initCamera</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.PerspectiveCamera(<span class="hljs-number"><span class="hljs-number">45</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth / <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2000</span></span>); CAMERA.position.z = <span class="hljs-number"><span class="hljs-number">100</span></span>; }</code> </pre> <br><p>  рдХреИрдорд░рд╛ рдкреИрд░рд╛рдореАрдЯрд░ рдЖрдорддреМрд░ рдкрд░ рдЖрдВрдЦ рд╕реЗ рдЪреБрдиреЗ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдореЙрдбрд▓ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рддреАрд╕рд░реА рд╡рд╕реНрддреБ рдЬреЛ рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдП рд╡рд╣ рд╣реИ рд░реЗрдВрдбрд░ред  рд╡рд╣ рдЫрд╡рд┐ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдЗрд╕рдХрд╛ рдкреНрд░рд╛рд░рдВрдн рд╕реНрд╡рдпрдВ рдмреЛрд▓рддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initRenderer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ RENDERER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.WebGLRenderer({ <span class="hljs-attr"><span class="hljs-attr">alpha</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); RENDERER.setPixelRatio(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.devicePixelRatio); RENDERER.setSize(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight); }</code> </pre> <br><p>  рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрдбрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдЖрдк рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рдПрдХ рд▓рдВрдмреА рд╕реВрдЪреА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдХреЗрд╡рд▓ рджреЛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рдЪрд┐рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ (рдпрд╣ рдХрд┐рдЯ рдХреЗ рд╕рд╛рде рдЖрддрд╛ рд╣реИ) рдФрд░ рдПрдХ рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП (рд╣рдордиреЗ рдЗрд╕реЗ рд╢реБрд░реБрдЖрдд рдореЗрдВ рдЬреЛрдбрд╝рд╛)ред </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initLoaders</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ LOADING_MANAGER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.LoadingManager(); IMAGE_LOADER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.ImageLoader(LOADING_MANAGER); OBJ_LOADER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.OBJLoader(LOADING_MANAGER); }</code> </pre> <br><p>  рд╣рдо рдореЙрдбрд▓ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред  рдЬреИрд╕рд╛ рдХрд┐ рдЕрдкреЗрдХреНрд╖рд┐рдд рдерд╛, рдпрд╣ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд░реВрдк рд╕реЗ рд╣реЛрддрд╛ рд╣реИред  рдореЙрдбрд▓ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдЗрд╕рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдЦреЗрд▓ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ OBJ_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./model.obj'</span></span>, (object) =&gt; { object.scale.x = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; object.scale.y = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; object.scale.z = <span class="hljs-number"><span class="hljs-number">0.3</span></span>; object.rotation.x = -<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI / <span class="hljs-number"><span class="hljs-number">2</span></span>; object.position.y = <span class="hljs-number"><span class="hljs-number">-30</span></span>; OBJECT = object; SCENE.add(OBJECT); }); }</code> </pre><br><p>  рдпрд╣ рдмреИрд░рд▓ рдЕрдВрдЧ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ requestAnimationFrame(animate); render(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA.lookAt(SCENE.position); RENDERER.render(SCENE, CAMERA); }</code> </pre> <br><p>  рдирддреАрдЬрддрди, рд╣рдореЗрдВ рдЫрд╛рдпрд╛ рдХреЗ рд╕рд╛рде рдмрд╕ рдПрдХ рд╕рдлреЗрдж рдХреНрд░рд┐рд╕рдорд╕ рдХрд╛ рдкреЗрдбрд╝ рдорд┐рд▓рддрд╛ рд╣реИ (рдореИрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ рд╕реЗ</a> рдореЙрдбрд▓ рд▓рд┐рдпрд╛)ред </p><br><p><img src="https://habrastorage.org/webt/ry/re/2z/ryre2z9uir0w1uew_21kydffldq.jpeg"></p><br><p>  рдПрдХ, рджреЛ, рддреАрди, рдХреНрд░рд┐рд╕рдорд╕ рдЯреНрд░реА рдЬрд▓рд╛!  рд▓реЗрдХрд┐рди рдмрдирд╛рд╡рдЯ рдХреЗ рдмрд┐рдирд╛, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдпрд╣ рдЬрд▓рд╛ рдирд╣реАрдВ рдЬрд╛рдПрдЧрд╛ред  рд╣рд╛рдВ, рдФрд░ рд╣рдо рдХреБрдЫ рдЕрдиреНрдп рд╕рдордп рдЖрдЧ рдФрд░ рдЕрдиреНрдп рддрддреНрд╡реЛрдВ рдХреА рдЫрд╛рдпрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ ... рд▓реЗрдХрд┐рди рдХрдо рд╕реЗ рдХрдо рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрд░рд┐рд╕рдорд╕ рдЯреНрд░реА рдХрд╛ рдореЙрдбрд▓ "рдЯреАрд╡реА рдкрд░" рд╣реИред </p><br><p>  рдмрдирд╛рд╡рдЯ рдкрд░ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЗрд╡реЗрдВрдЯ рд╣реИрдВрдбрд▓рд░ рдХрд╛ рдЖрдХрд╛рд░ рдмрджрд▓рдиреЗ рд╡рд╛рд▓реА рдПрдХ рдорд╛рдирдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╡рд┐рдВрдбреЛ рдЬреЛрдбрд╝рдирд╛ рдЙрдкрдпреЛрдЧреА рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initEventListeners</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'resize'</span></span>, onWindowResize); onWindowResize(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onWindowResize</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA.aspect = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth / <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight; CAMERA.updateProjectionMatrix(); RENDERER.setSize(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight); }</code> </pre> <br><h2 id="dobavlyaem-teksturu">  рдмрдирд╛рд╡рдЯ рдЬреЛрдбрд╝реЗрдВ </h2><br><p>  рд╣рдорд╛рд░реЗ рдореЙрдбрд▓ рдФрд░ рдЪрд┐рддреНрд░ рдмрдирд╛рд╡рдЯ рдмрдЪреНрдЪреЛрдВ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдореЙрдбрд▓ рдкрд░ рд╕реНрдЯрд┐рдХрд░-рдЕрдиреБрд╡рд╛рджрдХреЛрдВ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдирддреЗ рд╣реИрдВ, рд╡реЗрдмрдЬреАрдПрд▓ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдореЗрдВ рддреНрд░рд┐рдХреЛрдгреЛрдВ рдХрд╛ рдвреЗрд░ рд╣реЛрддрд╛ рд╣реИред  рдЕрдкрдиреЗ рдЖрдк рд╕реЗ, рдЙрдирдХреЗ рдкрд╛рд╕ рдХреЛрдИ рд░рдВрдЧ рдирд╣реАрдВ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рддреНрд░рд┐рдХреЛрдг рдХреЗ рд▓рд┐рдП рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рддреНрд░рд┐рдХреЛрдгреАрдп "рд╕реНрдЯрд┐рдХрд░" рд╣реИ рдЬрд┐рд╕реЗ рдЖрдкрдХреЛ рдЙрд╕ рдкрд░ рдЫрдбрд╝реА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ 1000 рддреНрд░рд┐рдХреЛрдг рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ 1000 рдмрдирд╛рд╡рдЯ рдЪрд┐рддреНрд░реЛрдВ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ?  рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВред  рд╕реНрдкреНрд░рд╛рдЗрдЯ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╕реАрдПрд╕рдПрд╕ рдЖрдЗрдХрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╣реИ (рдЖрдк рд╢рд╛рдпрдж рдХрд╛рдо рдкрд░ рдЙрдирдХреЗ рдкрд╛рд╕ рдЖрдП рдереЗ), рдФрд░ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реИ рдХрд┐ рдореЙрдбрд▓ рдХреЛ рдХрд┐рд╕ рддреНрд░рд┐рднреБрдЬ рдФрд░ рдХрд╣рд╛рдВ рдкрд░ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИред  рдФрд░ рдлрд┐рд░ рддреАрди.js рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рд╕рдм рдХреБрдЫ рд╕рдордЭрддреЗ рд╣реИрдВ рдФрд░ рд╣рдо рддреИрдпрд╛рд░ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦрддреЗ рд╣реИрдВред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рд╡рд┐рдЪрд╛рд░ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╕рдордЭрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдХреНрд░рд┐рд╕рдорд╕ рдЯреНрд░реА рдХреА рд╢рд╛рдЦрд╛рдПрдВ рдПрдХ рдмрд╣реБрдд рд╣реА рдЦреБрд▓рд╛рд╕рд╛ рдЙрджрд╛рд╣рд░рдг рдирд╣реАрдВ рд╣реИрдВред  рд╡реЗ рд╕рднреА рд╕рдорд╛рди рд╣реИрдВред  рдЗрд╕ рддрд░рд╣ рдХреА рдмрдирд╛рд╡рдЯ рдХреА рд╕рдВрд░рдЪрдирд╛ рдмрд▓реНрдмрд╕реМрд░ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдкрд░ рдмрд╣реБрдд рдмреЗрд╣рддрд░ рджрд┐рдЦрд╛рдИ рджреЗрдЧреА: </p><br><p><img src="https://habrastorage.org/webt/lc/op/bq/lcopbq_gxwwf7y-yuevk5bom3n8.jpeg"></p><br><p>  рд▓реЗрдХрд┐рди рдкрд░реНрдпрд╛рдкреНрдд рд╢рдмреНрдж, рдЪрд▓реЛ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдЙрддрд░реЗрдВред  рдмрдирд╛рд╡рдЯ рдХреЛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рдПрдХ рдЪрд┐рддреНрд░ рд▓реЛрдб рдХрд░реЗрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initTexture</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ TEXTURE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Texture(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadTexture</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ IMAGE_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./texture.jpg'</span></span>, (image) =&gt; { TEXTURE.image = image; TEXTURE.needsUpdate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); }</code> </pre> <br><p>  рдЕрдм рд╣рдореЗрдВ рдореЙрдбрд▓ рд▓реЛрдбрд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЕрдЧрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдмрд▓реНрдмрд╕реМрд░ рдЬреИрд╕реА рдмрдирд╛рд╡рдЯ рд╣реЛрддреА, рддреЛ рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реЛрддрд╛ред  рд▓реЗрдХрд┐рди рдХреНрд░рд┐рд╕рдорд╕ рдХреЗ рдкреЗрдбрд╝ рдХреЗ рд╕рд╛рде, рдмрдирд╛рд╡рдЯ рдХреЗрд╡рд▓ рд╢рд╛рдЦрд╛рдУрдВ рдХреЛ рдХрд╡рд░ рдХрд░рддреА рд╣реИред  рдЙрдиреНрд╣реЗрдВ рдХрд┐рд╕реА рддрд░рд╣ рдЕрд▓рдЧ рдХрд░рдирд╛ рдФрд░ рдХреЗрд╡рд▓ рдЙрдиреНрд╣реЗрдВ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдпрд╣ рдХреИрд╕реЗ рдХрд░рдирд╛ рд╣реИ?  рдЖрдк рдЗрд╕ рдореБрджреНрджреЗ рдкрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЛрдВ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдХрдВрд╕реЛрд▓.рд▓реЙрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдФрд░ рдореЙрдбрд▓ рдХреЛ рджреЗрдЦрдиреЗ рдХрд╛ рд╕рдордп рд╣реИред </p><br><blockquote>  рдпрджрд┐ рдЖрдк рдореЙрдбрд▓ рдХреЗ рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рднрд╛рдЧ рдХреЛ рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд░рдирд╛ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ, рддреЛ рдХрдВрд╕реЛрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рддреЗрдЬрд╝ рддрд░реАрдХрд╛ рд╣реИ рдХрд┐ рднрд╛рдЧреЛрдВ рдореЗрдВ рдЕрдВрддрд░ рдХреИрд╕реЗ рд╣реЛрддрд╛ рд╣реИред </blockquote><p>  рдЖрдорддреМрд░ рдкрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдореЙрдбрд▓ рдХреЛ рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рджреЛ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВред  рдкрд╣рд▓рд╛ (рдЕрдЪреНрдЫрд╛) рд╡рд╣ рд╣реИ рдЬрдм 3 рдбреА рдХрд▓рд╛рдХрд╛рд░ рдиреЗ рдореЙрдбрд▓ рдХреЗ рдШрдЯрдХ рднрд╛рдЧреЛрдВ рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд┐рдП рд╣реИрдВ рдФрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЙрдирдХреЗ рдирд╛рдо рдХреНрд╖реЗрддреНрд░реЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ рдФрд░ рд╣рдо рдЙрдирд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдпрд╣ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреЗ рдирд╛рдо рд╣реИрдВред  рд╣рдо рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  "Christmas_Tree" рд╕рд╛рдордЧреНрд░реА рд╕реЗ рдореЙрдбрд▓ рдХреЗ рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рд▓рд┐рдП рд╣рдо рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ OBJ_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./model.obj'</span></span>, (object) =&gt; { object.traverse(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">child</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (child <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> THREE.Mesh) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (child.material.name) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'Christmas_Tree'</span></span>: child.material.map = TEXTURE; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-comment"><span class="hljs-comment">// . . . } } }); // . . .</span></span></code> </pre> <br><p>  рддреЛ рд╣рдореЗрдВ рдХреБрдЫ рдРрд╕рд╛ рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/pi/zw/ab/pizwab2a2sf46kuxndt_a06qn2s.jpeg"></p><br><p>  "рд▓рд╛рд▓" рдФрд░ "рдЧреБрд▓рд╛рдмреА" рд╕рд╛рдордЧреНрд░реА рд╕реЗ рдмрдиреЗ рднрд╛рдЧреЛрдВ рдХреЗ рд▓рд┐рдП (рдпреЗ рдЧреЗрдВрджреЗрдВ рд╣реИрдВ - рдХреНрд░рд┐рд╕рдорд╕ рдЧреЗрдВрджреЗрдВ), рд╣рдо рдмрд╕ рдПрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░рдВрдЧ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред  рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, HSL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (child.material.name) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'Christmas_Tree'</span></span>: child.material.map = TEXTURE; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'red'</span></span>: child.material.color.setHSL(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random(), <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'pink'</span></span>: child.material.color.setHSL(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random(), <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; }</code> </pre> <br><blockquote>  рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдзреНрдпрд╛рди рджреЗрдВ: рдореЙрдбрд▓ рдореЗрдВ рд╕рдм рдХреБрдЫ рдХреЛ рд╕рд╛рд░реНрдердХ рдирд╛рдо рджреЗрдВред  рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреЗ рдирд╛рдо рдХреЗрд╡рд▓ рдорд╕реНрддрд┐рд╖реНрдХ рдХреЛ рддреЛрдбрд╝рддреЗ рд╣реИрдВред  рдпрд╣рд╛рдВ рд▓рд╛рд▓ рд╣рд░рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдореИрдВрдиреЗ рдЙрдиреНрд╣реЗрдВ рдирд╣реАрдВ рдмрджрд▓рд╛ рдХрд┐ рдЬреЛ рдХреБрдЫ рд╣реЛ рд░рд╣рд╛ рдерд╛, рдЙрд╕реЗ рдкреВрд░реА рдмреЗрддреБрдХреА рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдПред  рд╕рд╛рд░ рдирд╛рдо "рдЧреЗрдВрджреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд╛рдордЧреНрд░реА" рдЕрдзрд┐рдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╣реЛрдЧрд╛ред </blockquote><br><h2 id="equirectangular-projection">  рд╕рдордмрд╛рд╣реБ рдкреНрд░рдХреНрд╖реЗрдкрдг </h2><br><p>  рд░реВрд╕реА рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдореЗрдВ рдпреМрдЧрд┐рдХ рд╢рдмреНрдж рд╕рдордмрд╛рд╣реБ рдкреНрд░рдХреНрд╖реЗрдкрдг рд╕рдорд╛рди-рд╕реЗ-рдордзреНрдпрд╡рд░реНрддреА рдкреНрд░рдХреНрд╖реЗрдкрдг рд╣реИред  рдШрд░ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд - рдПрдХ рдЖрдпрдд рдкрд░ рдЧреЗрдВрдж рдХреЛ рдЦреАрдВрдЪрд╛ред  рдЖрдк рдореБрдЭреЗ рдЙрджреНрдзреГрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдо рд╕рднреА рдиреЗ рд╕реНрдХреВрд▓ рдореЗрдВ рдПрдХ рд╡рд┐рд╢реНрд╡ рдорд╛рдирдЪрд┐рддреНрд░ рджреЗрдЦрд╛ - рдпрд╣ рдЖрдпрддрд╛рдХрд╛рд░ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдпрджрд┐ рд╣рдо рдЗрд╕реЗ рдереЛрдбрд╝рд╛ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдПрдХ рдЧреНрд▓реЛрдм рдорд┐рд▓рддрд╛ рд╣реИред  рдпрд╣ рдмрд╛рдд рд╣реИред  рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдпреЗ рд╡рд┐рдХреГрддрд┐рдпрд╛рдБ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИрдВ, рдЪрд┐рддреНрд░ рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ: </p><br><p><img src="https://habrastorage.org/webt/9f/mm/pq/9fmmpqqzen-c2sfcngzrjmfzkto.jpeg"></p><br><p>  рд╡рд┐рднрд┐рдиреНрди рдЙрддреНрдкрд╛рджреЛрдВ рдХреЗ рдердВрдмрдиреЗрд▓ рдмрдирд╛рддреЗ рд╕рдордп, рдкреГрд╖реНрдарднреВрдорд┐ рдЕрдХреНрд╕рд░ рдРрд╕реЗ рдЕрдиреБрдорд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИред  рд╣рдо рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд┐рдХреГрдд рддрд╕реНрд╡реАрд░ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдПрдХ рдмрдбрд╝реЗ рдХреНрд╖реЗрддреНрд░ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдХреИрдорд░рд╛ рдЗрд╕рдХреЗ рдЕрдВрджрд░ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИред  рдпрд╣ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initWorld</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sphere = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SphereGeometry(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>); sphere.scale(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> texture = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Texture(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshBasicMaterial({ <span class="hljs-attr"><span class="hljs-attr">map</span></span>: texture }); IMAGE_LOADER.load(<span class="hljs-string"><span class="hljs-string">'./world.jpg'</span></span>, (image) =&gt; { texture.image = image; texture.needsUpdate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); SCENE.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Mesh(sphere, material)); }</code> </pre> <br><p>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ, рдореИрдВрдиреЗ рдЬрд╛рдирдмреВрдЭрдХрд░ рдХрд┐рдирд╛рд░реЛрдВ рдХреЛ рдХрдо рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдЬреАрдердм рд╕реЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдПрдХ рдЕрд▓рдЧ рд╕реАрдо рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЪрд┐рддреНрд░ рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдЧрд░ рдХрд┐рд╕реА рдХреЛ рджрд┐рд▓рдЪрд╕реНрдкреА рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдореВрд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ рд╕реЗ</a> рд▓рд┐рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рддрд╛ рд╣реИ</a> ред </p><br><p>  рдлрд┐рд▓рд╣рд╛рд▓ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/dh/ps/tj/dhpstjadkcyb9i1cjtzlxu7t-wi.jpeg"></p><br><p>  рд░рдВрдЧреАрди рдЧреЗрдВрджреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдХреНрд░рд┐рд╕рдорд╕ рдХрд╛ рдкреЗрдбрд╝ рдмрд╣реБрдд рдкреНрдпрд╛рд░рд╛ рд▓рдЧрддрд╛ рд╣реИред </p><br><h2 id="orbit-controls">  рдСрд░реНрдмрд┐рдЯ рдХрдВрдЯреНрд░реЛрд▓ рдХрд░рддрд╛ рд╣реИ </h2><br><p>  рддреАрди-рдЖрдпрд╛рдореА рдХрдорд░реЗ рдХреА рд╕реБрдВрджрд░рддрд╛ рдХреА рд╕рд░рд╛рд╣рдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдорд╛рдЙрд╕ рдирд┐рдпрдВрддреНрд░рдг рдЬреЛрдбрд╝реЗрдВред  рдФрд░ рдлрд┐рд░ рд╕рдм рдХреБрдЫ 3 рдбреА рдореЗрдВ рд▓рдЧрддрд╛ рд╣реИ, рдЖрдкрдХреЛ рдпрд╣ рд╕рдм рдореЛрдбрд╝рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред  рдЖрдорддреМрд░ рдкрд░, OrbitControls рдХрд╛ рдЙрдкрдпреЛрдЧ рдРрд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initControls</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CONTROLS = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.OrbitControls(CAMERA); CONTROLS.minPolarAngle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; CONTROLS.maxPolarAngle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * <span class="hljs-number"><span class="hljs-number">3</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>; CONTROLS.update(); }</code> </pre> <br><p>  рдХреЛрдгреЛрдВ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЖрдк рдХреИрдорд░реЗ рдХреЛ рдШреБрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд╝реВрдо рдФрд░ рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдкрд░ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЙрдкрдпреЛрдЧреА рд╣реИ, рдмрд╣реБрдд рд╕рд╛рд░реА рджрд┐рд▓рдЪрд╕реНрдк рдЪреАрдЬреЗрдВ рд╣реИрдВред </p><br><p>  рдЖрдк рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╣реБрдд рдХреБрдЫ рдирд╣реАрдВ рдмрддрд╛ рд╕рдХрддреЗред  рдХрдиреЗрдХреНрдЯ, рдЪрд╛рд▓реВ рдФрд░ рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдмрд╕ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рд░рд╛рдЬреНрдп рдХреЛ рдЕрджреНрдпрддрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордд рднреВрд▓рдирд╛: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ requestAnimationFrame(animate); CONTROLS.update(); render(); }</code> </pre> <br><p>  <em>рдпрд╣рд╛рдВ рдЖрдк рдереЛрдбрд╝рд╛ рд╡рд┐рдЪрд▓рд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрд░рд┐рд╕рдорд╕ рдЯреНрд░реА рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рдШреБрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ ...</em> </p><br><h2 id="raycaster">  Raycaster </h2><br><p>  рд░реЗрдХрд╛рд╕реНрдЯрд░ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: рдпрд╣ рдЕрдВрддрд░рд┐рдХреНрд╖ рдореЗрдВ рдПрдХ рд╕реАрдзреА рд░реЗрдЦрд╛ рдЦреАрдВрдЪрддрд╛ рд╣реИ рдФрд░ рдЙрди рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдвреВрдВрдврддрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рд╕рд╛рде рдпрд╣ рдЕрдВрддрд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред  рдпрд╣ рдЖрдкрдХреЛ рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рджрд┐рд▓рдЪрд╕реНрдк рдЪреАрдЬреЗрдВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЙрддреНрдкрд╛рдж рдкреНрд░рд╕реНрддреБрддрд┐рдпреЛрдВ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рджреЛ рдореБрдЦреНрдп рдорд╛рдорд▓реЗ рд╣реЛрдВрдЧреЗ - рдпрд╣ рдХреБрдЫ рдкрд░ рдорд╛рдЙрд╕ рд╣реЛрд╡рд░ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдирд╛ рдФрд░ рдХреБрдЫ рдкрд░ рдорд╛рдЙрд╕ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдирд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдорд╛рдЙрд╕ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд╕рд╛рде рдмрд┐рдВрджреБ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдХреНрд░реАрди рдкрд░ рд▓рдВрдмрд╡рдд рд░реЗрдЦрд╛рдПрдВ рдЦреАрдВрдЪрдиреА рд╣реЛрдВрдЧреА рдФрд░ рдЪреМрд░рд╛рд╣реЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░рдиреА рд╣реЛрдЧреАред  рдпрд╣реА рд╣рдо рдХрд░реЗрдВрдЧреЗред  рд░реЗрдВрдбрд░ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдмрдврд╝рд╛рдПрдВ, рдЧреЗрдВрджреЛрдВ рдХреЗ рд╕рд╛рде рдЪреМрд░рд╛рд╣реЛрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдлрд┐рд░ рд╕реЗ рджрдмрд╛рдПрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ RAYCASTER.setFromCamera(MOUSE, CAMERA); paintHoveredBalls(); <span class="hljs-comment"><span class="hljs-comment">// . . . } function paintHoveredBalls() { if (OBJECT) { const intersects = RAYCASTER.intersectObjects(OBJECT.children); for (let i = 0; i &lt; intersects.length; i++) { switch (intersects[i].object.material.name) { case 'red': intersects[i].object.material.color.set(0x000000); break; case 'pink': intersects[i].object.material.color.set(0xffffff); break; } } } }</span></span></code> </pre> <br><p>  рдорд╛рдЙрд╕ рдХреЗ рд╕рд░рд▓ рдЖрдВрджреЛрд▓рдиреЛрдВ рдХреЗ рд╕рд╛рде, рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/4z/lp/ti/4zlptiw4eiggtfnkmpglprqlcu8.jpeg"></p><br><p>  рд▓реЗрдХрд┐рди рдПрдХ рд╕реВрдХреНрд╖реНрдорддрд╛ рд╣реИ - рддреАрди.js рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдХрд┐ рдХреИрд╕реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рд░рдВрдЧ рдмрджрд▓рдирд╛ рд╣реИред  рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореВрд▓реНрдпреЛрдВ рдореЗрдВ рд╕реБрдЪрд╛рд░реБ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИред  рдпрд╣рд╛рдВ рдХреБрдЫ рдЙрдкрдХрд░рдг рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдЬреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП Anime.jsред </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://unpkg.com/animejs@2.2.0/anime.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  рд╣рдо рдЗрд╕ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдЪреЗрддрди рдореВрд▓реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (intersects[i].object.material.name) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'red'</span></span>: <span class="hljs-comment"><span class="hljs-comment">// intersects[i].object.material.color.set(0x000000); anime({ targets: intersects[i].object.material.color, r: 0, g: 0, b: 0, easing: 'easeInOutQuad' }); break; // . . . }</span></span></code> </pre> <br><p>  рдЕрдм рд░рдВрдЧ рдЖрд╕рд╛рдиреА рд╕реЗ рдмрджрд▓ рдЬрд╛рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдорд╛рдЙрд╕ рдХреЗ рдЧреЗрдВрдж рд╕реЗ рджреВрд░ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж рд╣реАред  рдХреБрдЫ рддрдп рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд╣рдо рдЗрд╕рдХреЗ рд▓рд┐рдП рдкреНрд░рддреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ - рд╡реЗ рд╣рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдореЗрдВ рдореЗрдЯрд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рдФрд░ рд╣рдореЗрдВ рдХреЗрд╡рд▓ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЧреЗрдВрдж рдПрдирд┐рдореЗрдЯреЗрдб рд╣реИ рдпрд╛ рдирд╣реАрдВред </p><br><blockquote>  ES6 + рдореЗрдВ рдкреНрд░рддреАрдХ рдПрдХ рдмрд╣реБрдд рд╣реА рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЙрдкрдХрд░рдг рд╣реИ, рдЬреЛ рдЕрдиреНрдп рдмрд╛рддреЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдкрдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдбрд░ рдХреЗ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рд╕реЗ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдпрд╣ рдПрдХ рдирд╛рдо рд╕рдВрдШрд░реНрд╖ рдпрд╛ рддрд░реНрдХ рдХреЛ рддреЛрдбрд╝ рджреЗрдЧрд╛ред </blockquote><p>  рд╣рдо рдПрдХ рд╡реИрд╢реНрд╡рд┐рдХ рд╕реНрдерд┐рд░рд╛рдВрдХ рдмрдирд╛рддреЗ рд╣реИрдВ (рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдпрд╣ рдРрд╕реЗ рд╕рднреА рдкреНрд░рддреАрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реИрд╢реНрд╡рд┐рдХ рд╡рд╕реНрддреБ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рд╣реИ, рд╣рдо рдЗрд╕реЗ рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _IS_ANIMATED = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'is animated'</span></span>);</code> </pre> <br><p>  рдФрд░ рд╣рдо рдЧреЗрдВрджреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рд░рдВрдЧрдиреЗ рдХреЗ рдХрд╛рд░реНрдп рдореЗрдВ рдПрдХ рдЬрд╛рдБрдЪ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!intersects[i].object[_IS_ANIMATED]) { anime({ <span class="hljs-attr"><span class="hljs-attr">targets</span></span>: intersects[i].object.material.color, <span class="hljs-attr"><span class="hljs-attr">r</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">g</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">'easeInOutQuad'</span></span> }); intersects[i].object[_IS_ANIMATED] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><p>  рдЕрдм рд╡реЗ рдЖрд╕рд╛рдиреА рд╕реЗ рдордБрдбрд░рд╛ рдкрд░ рддреБрд░рдВрдд repaintedред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдкреНрд░рддреАрдХреЛрдВ рдХреА рд╕рд╣рд╛рдпрддрд╛ рд╕реЗ, рдЖрдк рд╕рднреА рдЧреЗрдВрджреЛрдВ рдХреА рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЬрдЧрд╣ рдкрд░ рдмрдЪрдд рдХреЗ рдмрд┐рдирд╛ рдПрдирд┐рдореЗрд╢рди рдореЗрдВ рд╕рдорд╛рди рдЪреЗрдХ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="vsplyvayuschie-podskazki">  рдЯреВрд▓рдЯрд┐рдкреНрд╕ </h2><br><p>  рдЖрдЬ рд╣рдо рдЬреЛ рдЖрдЦрд┐рд░реА рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ рд╡рд╣ рд╣реИ рдЯреВрд▓рдЯрд┐рдкреНрд╕ред  рдпрд╣ рдХрд╛рд░реНрдп рдЕрдХреНрд╕рд░ рд╕рд╛рдордирд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╢реБрд░реБрдЖрдд рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдмрд╕ рдЙрдиреНрд╣реЗрдВ рдмрдирд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'popup-3d'</span></span></span><span class="hljs-tag">&gt;</span></span>  !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.popup-3d</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: <span class="hljs-string"><span class="hljs-string">'Pacifico'</span></span>, cursive; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">10rem</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">pointer-events</span></span>: none; }</code> </pre> <br><blockquote>  рдпрджрд┐ рдЖрдкрдХреЛ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдкреЙрдЗрдВрдЯрд░-рдИрд╡реЗрдВрдЯ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рдпрд╛рдж рд░рдЦреЗрдВред </blockquote><p>  рдпрд╣ CSS3DRenderer рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИред  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХрд╛рдлреА рд░реЗрдВрдбрд░рд░ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдпрд╣ рдПрдХ рдРрд╕реА рдЪреАрдЬ рд╣реИ рдЬреЛ рдмрд╕ CSS рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рддрддреНрд╡реЛрдВ рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИ рдФрд░ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╡реЗ рдПрдХ рдЖрдо рджреГрд╢реНрдп рдореЗрдВ рд╣реИрдВред  рдкреЙрдк-рдЕрдк рд▓реЗрдмрд▓ рдХреЗ рд▓рд┐рдП - рдпрд╣ рд╕рд┐рд░реНрдл рд╡рд╣реА рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдЪрд╛рд╣рд┐рдПред  рд╣рдо рдЧреНрд▓реЛрдмрд▓ рд╡реЗрд░рд┐рдПрдмрд▓ CSSRENDERER рдмрдирд╛рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд░реЗрдВрдбрд░ рдлрдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдирд╛ рдирд╣реАрдВ рднреВрд▓рддреЗ рд╣реИрдВред  рд╕рдм рдХреБрдЫ рдПрдХ рдирд┐рдпрдорд┐рдд рд░реЗрдВрдбрд░рд░ рдХреА рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initCSSRenderer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CSSRENDERER = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.CSS3DRenderer(); CSSRENDERER.setSize(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerWidth, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight); CSSRENDERER.domElement.style.position = <span class="hljs-string"><span class="hljs-string">'absolute'</span></span>; CSSRENDERER.domElement.style.top = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ CAMERA.lookAt(SCENE.position); RENDERER.render(SCENE, CAMERA); CSSRENDERER.render(SCENE, CAMERA); }</code> </pre> <br><p>  рдлрд┐рд▓рд╣рд╛рд▓ рдХреБрдЫ рдирд╣реАрдВ рд╣реБрдЖ рд╣реИред  рджрд░рдЕрд╕рд▓, рд╣рдордиреЗ рдХреБрдЫ рдирд╣реАрдВ рдХрд┐рдпрд╛ред  рд╣рдо рдкреЙрдк-рдЕрдк рддрддреНрд╡ рдХреЛ рдЖрд░рдВрднреАрдХреГрдд рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рддреБрд░рдВрдд рдЗрд╕рдХреЗ рдЖрдХрд╛рд░ рдФрд░ рд╕реНрдерд╛рди рдХреЗ рд╕рд╛рде рдЦреЗрд▓ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initPopups</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> popupSource = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.popup-3d'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> popup = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.CSS3DObject(popupSource); popup.position.x = <span class="hljs-number"><span class="hljs-number">0</span></span>; popup.position.y = <span class="hljs-number"><span class="hljs-number">-10</span></span>; popup.position.z = <span class="hljs-number"><span class="hljs-number">30</span></span>; popup.scale.x = <span class="hljs-number"><span class="hljs-number">0.05</span></span>; popup.scale.y = <span class="hljs-number"><span class="hljs-number">0.05</span></span>; popup.scale.z = <span class="hljs-number"><span class="hljs-number">0.05</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(popup); SCENE.add(popup); }</code> </pre> <br><p>  рдЕрдм рд╣рдо рд╢рд┐рд▓рд╛рд▓реЗрдЦ "3 рдбреА" рдореЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ 3 рдбреА рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдХреИрдирд╡рд╛рд╕ рдХреЗ рдКрдкрд░ рд╕реНрдерд┐рдд рд╣реИ, рд▓реЗрдХрд┐рди рдкреЙрдк-рдЕрдк рдпреБрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЗрддрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рдкреНрд░рднрд╛рд╡ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ </p><br><p>  рдЕрдВрддрд┐рдо рд╕реНрдкрд░реНрд╢ рд░рд╣рддрд╛ рд╣реИ - рдХреЛрдг рдХреА рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕реАрдорд╛ рдореЗрдВ рд╢рд┐рд▓рд╛рд▓реЗрдЦ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдПред  рдлрд┐рд░ рд╕реЗ, рд╡реИрд╢реНрд╡рд┐рдХ рдкреНрд░рддреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> _IS_VISIBLE = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'is visible'</span></span>);</code> </pre> <br><p>  рдФрд░ рд╣рдо рдХреИрдорд░рд╛ рдХреЗ рд░реЛрдЯреЗрд╢рди рдХреЗ рдХреЛрдг рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкреЙрдк-рдЕрдк рддрддреНрд╡ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updatePopups</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> popupSource = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.popup-3d'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> angle = CONTROLS.getAzimuthalAngle(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(angle) &gt; <span class="hljs-number"><span class="hljs-number">.9</span></span> &amp;&amp; popupSource[_IS_VISIBLE]) { anime({ <span class="hljs-attr"><span class="hljs-attr">targets</span></span>: popupSource, <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">'easeInOutQuad'</span></span> }); popupSource[_IS_VISIBLE] = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(angle) &lt; <span class="hljs-number"><span class="hljs-number">.9</span></span> &amp;&amp; !popupSource[_IS_VISIBLE]) { anime({ <span class="hljs-attr"><span class="hljs-attr">targets</span></span>: popupSource, <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">'easeInOutQuad'</span></span> }); popupSource[_IS_VISIBLE] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre> <br><p>  рд╕рдм рдХреБрдЫ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИред  рдЕрдм рд╢рд┐рд▓рд╛рд▓реЗрдЦ рдЖрд╕рд╛рдиреА рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ рдФрд░ рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдк рдСрдЯреЛ-рд░реЛрдЯреЗрдЯ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХрд╛ рдЖрдирдВрдж рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред </p><br><pre> <code class="javascript hljs">CONTROLS.autoRotate = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; CONTROLS.autoRotateSpeed = <span class="hljs-number"><span class="hljs-number">-1.0</span></span>;</code> </pre> <br><p><img src="https://habrastorage.org/webt/w6/c3/54/w6c354h5duszg2rud08wc237mwq.jpeg"></p><br><h2 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  рдЖрдЬ рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рд╣рдорд╛рд░реЗ рдкреГрд╖реНрда рдкрд░ рддреАрди-рдЖрдпрд╛рдореА рдореЙрдбрд▓ рдХреИрд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдорд╛рдЙрд╕ рд╕реЗ рдХреИрд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛рдП, рдЯреВрд▓рдЯрд┐рдкреНрд╕ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП, рдореЙрдбрд▓ рдХреЗ рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдкрд░ рд╣реЛрд╡рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдЙрд╕ рдХрд╛ рдЬрд╡рд╛рдм рдХреИрд╕реЗ рджрд┐рдпрд╛ рдЬрд╛рдП, рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдПрдирд┐рдореЗрд╢рди рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдкрд╛рддреНрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдЖрд╢рд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рд╕рд╣рд╛рдпрдХ рд╣реИред  рдЦреИрд░, рдЖрдЧрд╛рдореА рд╕рднреА рдХреЗ рд╕рд╛рде, рдЕрдм рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЫреБрдЯреНрдЯрд┐рдпреЛрдВ рдХреЗ рджреМрд░рд╛рди рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдкреБрдирд╢реНрдЪ: рд╣реЗрд░рд┐рдВрдЧрдмреЛрди рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рд╕реНрд░реЛрдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреАрдереВрдм рдкрд░</a> рдЙрдкрд▓рдмреНрдз рд╣реИрдВред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi433876/">https://habr.com/ru/post/hi433876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi433866/index.html">"рд╣реЛрдо рд▓реЛрд▓рдХрдХреА" рдЬрд╛рд▓-рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкреБрдирд░реНрдЬрдиреНрдо рдХрд░ рд░рд╣реЗ рд╣реИрдВред рд▓рд┐рдмреНрд░реЗрд░реЗрдЯрд░ рдФрд░ рдЕрдиреНрдп рдлреНрд░реА рд░рд╛рдЙрдЯрд░</a></li>
<li><a href="../hi433868/index.html">рд╡рд░реНрдгрдорд╛рд▓рд╛ рдХрд╛ рдЧреНрд▓реВрдХреЛрдЬ рдореАрдЯрд░ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдЙрдбрд╝ рдкрд╛рдпрд╛</a></li>
<li><a href="../hi433870/index.html">рдЧреНрд▓реВрдХреЛрдЬ рдХреЛ рд▓рдЧрд╛рддрд╛рд░ рдорд╛рдкрдирд╛ рдЗрддрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдХреНрдпреЛрдВ рд╣реИ?</a></li>
<li><a href="../hi433872/index.html">рдореЛрдмрд╛рдЗрд▓ рдПрдХреНрд╕реЗрд╕ - рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕реНрдорд╛рд░реНрдЯрдлреЛрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi433874/index.html">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рддрдВрддреНрд░рд┐рдХрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рдпреЛрдЧ</a></li>
<li><a href="../hi433878/index.html">KVM, PCI passthrough, рд▓реБрдХрд┐рдВрдЧ рдЧреНрд▓рд╛рд╕ рдФрд░ рдСрд▓-рдСрд▓-рдСрд▓</a></li>
<li><a href="../hi433880/index.html">рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрдл рд╣реИрдХреНрд╕: рдПрд╕рдХреНрдпреВрдИ (рд╕реЛрд░реНрд╕ рдХреНрд╡рд╛рд▓рд┐рдлрд╛рдпрд░) рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рднрд╛рд╡реА рд░реВрдк рд╕реЗ рдЗрдВрдлреЙрд░реНрдореЗрдЯрд┐рдХрд╛ рдкрд╛рд╡рд░ рд╕реЗрдВрдЯрд░ рдореЗрдВ</a></li>
<li><a href="../hi433884/index.html">рд╡реАрдбрд┐рдпреЛ рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рдХрд╛рдиреВрдиреА рдкрд╣рд▓реВ: рдХрд╛рдиреВрди рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рд╕реЗ рдХреИрд╕реЗ рдмрдЪрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi433886/index.html">рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ рдЬреБрдкрд┐рдЯрд░ рдбреЗрдореЛ рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ</a></li>
<li><a href="../hi433888/index.html">рдПрдХрд▓-рдЪрд░рдг рдпреВрдкреАрдПрд╕ рдореЗрдВ рд▓рд┐рдерд┐рдпрдо-рдЖрдпрди рдмреИрдЯрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>