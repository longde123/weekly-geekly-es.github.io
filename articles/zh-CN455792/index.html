<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚊 👩‍❤️‍👩 🖲️ 回复：商店，三星，索尼中心，耐克，乐高和Street Beat购物者数据泄漏 👨‍👨‍👦‍👦 🍥 🛅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="上周，Kommersant 报道说“ Street Beat和Sony Center客户群是公开可用的”，但实际上，一切都比文章中所写的要差得多。 





 我已经在我的Telegram频道中对该泄漏进行了详细的技术分析，因此在这里，我们将仅介绍要点。 


: . . , .  


 事实证...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>回复：商店，三星，索尼中心，耐克，乐高和Street Beat购物者数据泄漏</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455792/"><p> 上周，Kommersant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">报道</a>说“ Street Beat和Sony Center客户群是公开可用的”，但实际上，一切都比文章中所写的要差得多。 </p><br><p><img src="https://habrastorage.org/webt/_5/ah/ri/_5ahrixzo54mvxml0nwgdf_4ze8.jpeg"></p><br><p> 我已经<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在我的Telegram频道</a>中对该泄漏<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">进行</a>了详细的技术分析，因此在这里，我们将仅介绍要点。 </p><a name="habracut"></a><br><pre><code class="plaintext hljs">:        .           .      ,      .</code> </pre> <br><p> 事实证明，下一个具有索引的Elasticsearch服务器可以自由访问： </p><br><ul><li>  <em>graylog2_0</em> </li><li>  <em>自述文件</em> </li><li>  <em>unauth_text</em> </li><li>  <em>http：</em> </li><li>  <em>graylog2_1</em> </li></ul><br><p>  <em>Graylog2_0</em>包含从2018年11月16日到2019年3月的日志，而<em>Graylog2_1</em>包含从2019年3月到<em>06/04/2019的</em>日志。 直到关闭对Elasticsearch的访问， <em>graylog2_1中</em>的条目数量<em>一直</em>在增长。 </p><br><p> 根据Shodan搜索引擎的说法，该Elasticsearch自2018年11月12日起进入公共领域（在这种情况下，如上所述，首个日志条目的日期为2018年11月16日）。 </p><br><p> 在日志中， <em>gl2_remote_ip</em>字段指示IP地址185.156.178.58和185.156.178.62，DNS名称为<em>srv2.inventive.ru</em>和<em>srv3.inventive.ru</em> ： </p><br><p><img src="https://habrastorage.org/webt/q6/lh/be/q6lhbeunxcknnma6gm1agzb2hhs.jpeg"></p><br><p> 我已于06/04/2019 18:25（莫斯科时间）将此问题通知了<em>Inventive Retail Group</em> （ <em>www.inventive.ru</em> ），到22:30，服务器“安静地”从免费访问权中消失了。 </p><br><p> 它包含在日志中（估计了所有数据，未删除计算中的重复项，因此实际泄漏的信息量极有可能减少）： </p><br><ul><li> 超过300万个用于重新购物者的电子邮件地址：商店，三星，Street Beat和Lego </li><li> 超过700万的手机买家：商店，索尼，耐克，S​​treet Beat和Lego商店 </li><li> 索尼和Street Beat商店的购买者的个人帐户中有超过2万1千对登录/密码。 </li><li> 大多数电话和电子邮件记录还包含全名（通常用拉丁字母表示）和会员卡号。 </li></ul><br><p> 与耐克商店的客户有关的日志中的示例（所有敏感数据均已替换为“ X”字符）： </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"{\"MESSAGE\":\"[URI] /personal/profile/[ ] contact[ POST] Array\\n(\\n [contact[phone]] =&gt; +7985026XXXX\\n [contact[email]] =&gt; XXX@mail.ru\\n [contact[channel]] =&gt; \\n [contact[subscription]] =&gt; 0\\n)\\n[ GET] Array\\n(\\n [digital_id] =&gt; 27008290\\n [brand] =&gt; NIKE\\n)\\n[ ]   - 200[ ] stdClass Object\\n(\\n [result] =&gt; success\\n [contact] =&gt; stdClass Object\\n (\\n [phone] =&gt; +7985026XXXX\\n [email] =&gt; XXX@mail.ru\\n [channel] =&gt; 0\\n [subscription] =&gt; 0\\n )\\n\\n)\\n\",\"DATE\":\"31.03.2019 12:52:51\"}"</span></span>,</code> </pre> <br><p> 这是一个示例，说明如何在<em>sc-store.ru</em>和<em>street-beat.ru网站</em> <em>上将</em>客户的个人<em>帐户的</em>登录名和密码存储在日志中： </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"message"</span></span>:<span class="hljs-string"><span class="hljs-string">"{\"MESSAGE\":\"[URI]/action.php?a=login&amp;sessid=93164e2632d9bd47baa4e51d23ac0260&amp;login=XXX%40gmail.com&amp;password=XXX&amp;remember=Y[ ] personal[ GET] Array\\n(\\n [digital_id] =&gt; 26725117\\n [brand]=&gt; SONY\\n)\\n[ ]   - [ ] \",\"DATE\":\"22.04.2019 21:29:09\"}"</span></span></code> </pre> <br><p> 关于此事件的IRG官方声明可在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>阅读，摘录如下： </p><br><blockquote> 我们不能不注意这一刻，而是将客户的个人仪表盘的密码更改为临时密码，以避免可能将个人仪表盘的数据用于欺诈目的。 该公司不确认Street-beat.ru客户的个人数据泄漏。 此外，Inventive Retail Group的所有项目均得到及时检查。 没有发现对客户个人数据的威胁。 </blockquote><p>  IRG无法找出泄漏的内容和未泄漏的内容是很糟糕的。 这是与Street Beat商店客户相关的日志中的示例： </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"{\"MESSAGE\":\"'DATA' =&gt; ['URI' =&gt; /local/components/multisite/order/ajax.php,' ' = contact,' POST' = Array\\n(\\n [contact[phone]] =&gt; 7915545XXXX\\n)\\n,' GET' =\\n\\t\\tArray\\n(\\n [digital_id] =&gt; 27016686\\n [brand] =&gt; STREETBEAT\\n)\\n,' ' = '  - '200,'RESPONCE' = stdClass Object\\n(\\n [result] =&gt; success\\n [contact] =&gt; stdClass Object\\n (\\n [phone] =&gt; +7915545XXXX\\n [email] =&gt; XXX@gmail.com\",\"\":\"01.04.2019 08:33:48\"}"</span></span>,</code> </pre> <br><p> 但是，我们转向了一个非常糟糕的消息，并解释了为什么这正是IRG客户的个人数据泄露的原因。 </p><br><p> 如果仔细观察这个免费提供的Elasticsearch的索引，您会发现其中有两个名称： <em>readme</em>和<em>unauth_text</em> 。 这是许多勒索软件脚本之一的特征。 他们在全球范围内攻击了超过4000台Elasticsearch服务器。  <em>自述</em>内容如下所示： </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"ALL YOUR INDEX AND ELASTICSEARCH DATA HAVE BEEN BACKED UP AT OUR SERVERS, TO RESTORE SEND 0.1 BTC TO THIS BITCOIN ADDRESS 14ARsVT9vbK4uJzi78cSWh1NKyiA2fFJf3 THEN SEND AN EMAIL WITH YOUR SERVER IP, DO NOT WORRY, WE CAN NEGOCIATE IF CAN NOT PAY"</span></span></code> </pre> <br><p> 当带有IRG日志的服务器处于公共领域时，勒索软件脚本肯定可以访问客户端的信息，并且，如果您认为它留下的消息，则可以下载数据。 </p><br><p> 另外，我毫不怀疑该数据库是在我之前找到并已经下载的。 我什至说我对此很确定。 毫无疑问地有针对性地搜索并抽出了这些开放的基地。 </p><br><p> 有关信息泄漏和内部人员的新闻总能在我的电报频道“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">信息泄漏</a> ”中找到： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> ： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//t.me/dataleak</a> 。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN455792/">https://habr.com/ru/post/zh-CN455792/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN455770/index.html">AERODISK：等待与 现实的</a></li>
<li><a href="../zh-CN455774/index.html">飞机燃气涡轮发动机</a></li>
<li><a href="../zh-CN455784/index.html">因为CSS中的深灰色比灰色浅</a></li>
<li><a href="../zh-CN455788/index.html">在圣彼得堡的数据中心和电信上行走</a></li>
<li><a href="../zh-CN455790/index.html">绩效审查和秘密知识识别（审查和视频报告）</a></li>
<li><a href="../zh-CN455794/index.html">Spring简介，或者如果整个项目是@Autowired和@Component，而您不了解它是什么，该怎么办</a></li>
<li><a href="../zh-CN455796/index.html">Java和Python中的面向对象编程：异同</a></li>
<li><a href="../zh-CN455800/index.html">矩阵1.0-分散消息协议发布</a></li>
<li><a href="../zh-CN455802/index.html">如何通过电子邮件通讯组织奥林匹克运动会。 案例黑星</a></li>
<li><a href="../zh-CN455806/index.html">专辑的生与死：我们了解过去100年来音乐格式的变化</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>