<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📡 ♟️ 👩‍👧‍👦 Vuex - übermäßiger Einsatz von Gettern in der Anwendung. Fehler beim Parsen ⛹🏿 🤴🏿 🥅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel wird ein häufiger Fehler erläutert, den die meisten Anfänger bei der Entwicklung einer Anwendung auf Vue + Vuex machen. Wir werden ü...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vuex - übermäßiger Einsatz von Gettern in der Anwendung. Fehler beim Parsen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440542/"><p><img src="https://habrastorage.org/webt/ls/uu/3_/lsuu3_cxyulypuudtrcsnd6m_wk.png"></p><br><p>  In diesem Artikel wird ein häufiger Fehler erläutert, den die meisten Anfänger bei der Entwicklung einer Anwendung auf Vue + Vuex machen.  Wir werden über Getter sprechen und wie man sie richtig benutzt.  Wir werden uns auch die Hilfsfunktionen mapState und mapGetters ansehen. </p><br><p>  <em>Vor dem Lesen: Es wird empfohlen, dass Sie über Grundkenntnisse in Vue und Vuex verfügen.</em> </p><a name="habracut"></a><br><h3 id="glava-1-chto-takoe-gettery-primer-necelesoobraznogo-ispolzovaniya">  Kapitel 1. Was sind Getter?  Beispiel für eine unangemessene Verwendung </h3><br><p>  <strong>Getter</strong> sind Teil des Vuex-Repositorys, das berechnete Daten über den aktuellen Status des Repositorys an unsere Komponenten zurückgibt. </p><br><p>  Betrachten Sie ein Beispiel: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//   books: [ { id: 1, title: '...', finished: true }, { id: 2, title: '...', finished: false } ] }, getters: { //     books: state =&gt; state.books } });</span></span></code> </pre> <br><p>  Dies sieht aus wie eine Komponente mit einer Liste aller Bücher: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//   books() { return this.$store.getters.books } } }</span></span></code> </pre> <br><p>  Das obige Beispiel funktioniert, aber es lohnt sich nicht.  <strong>Mit diesem Ansatz überlasten wir die Anwendung.</strong> </p><br><p>  Wenn Sie Daten ohne Änderungen direkt aus dem Speicher an die Komponente ausgeben müssen, sind Getter nicht die beste Lösung.  Als nächstes werde ich zeigen, wie Sie den Code verbessern und die unangemessene Verwendung von Gettern beseitigen können. </p><br><h3 id="glava-2-ispolzovanie-mapstate-dlya-polucheniya-dannyh-iz-hranilischa">  Kapitel 2. Verwenden von mapState zum Abrufen von Daten aus dem Speicher </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Dokumentation</a> lautet: </p><br><blockquote>  Wenn eine Komponente viele Eigenschaften oder Warehouse-Getter verwenden muss, kann es mühsam sein, alle diese berechneten Eigenschaften zu deklarieren.  In solchen Fällen können Sie die <strong>mapState-</strong> Funktion verwenden, die automatisch berechnete Eigenschaften generiert. </blockquote><p>  Kehren wir zu unserer Komponente zurück und verwenden mapState anstelle eines Getters: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { mapState } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vuex'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { ...mapState([ <span class="hljs-string"><span class="hljs-string">'books'</span></span> ]) } }</code> </pre> <br><p>  Ein Getter aus dem Repository kann gelöscht werden, weil  wir brauchen ihn nicht mehr: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//   books: [ { id: 1, title: '...', finished: true }, { id: 2, title: '...', finished: false } ] } });</span></span></code> </pre> <br><p>  Viel bequemer, oder?  Wir haben unnötige Getter beseitigt und die Menge an Code reduziert. </p><br><h3 id="glava-3-zachem-zhe-nuzhny-gettery-esli-est-mapstate">  Kapitel 3. Warum Getter, wenn es mapState gibt </h3><br><p>  Und trotzdem werden sie gebraucht.  Getter werden in Fällen verwendet, in denen Sie geänderte Informationen aus dem Repository anzeigen müssen (z. B. eine Liste aller <strong>gelesenen</strong> Bücher). </p><br><p>  Erstellen wir einen Getter, um alle Bücher aus dem Repository zu lesen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//   books: [ { id: 1, title: '...', finished: true }, { id: 2, title: '...', finished: false } ] }, getters: { //     finishedBooks: state =&gt; { return state.books.filter(books =&gt; books.finished); } } });</span></span></code> </pre> <br><p>  Jetzt sieht unsere Komponente folgendermaßen aus: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { mapState } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vuex'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//     ...mapState([ 'books' ]), //     finishedBooks() { return this.$store.getters.finishedBooks } } }</span></span></code> </pre> <br><p>  Man könnte damit aufhören, aber es gibt noch eine nützliche Sache, die es wert ist, gewusst zu werden.  Wenn Sie denselben Getter in verschiedenen Komponenten wiederverwenden müssen, ist es möglicherweise nicht sehr praktisch, Getter jedes Mal in der berechneten Methode zu schreiben.  <strong>MapGetters</strong> kommt zur <strong>Rettung</strong> . </p><br><p>  Schauen wir uns ein Beispiel an: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     import { mapState, mapGetters } from 'vuex'; export default { computed: { //     ...mapState([ 'books' ]), //   ,   //       ...mapGetters([ 'finishedBooks' ]) } }</span></span></code> </pre> <br><p>  Die Verbesserung liegt auf der Hand: Mit mapGetters haben wir die Codemenge reduziert. </p><br><p>  Sie können Informationen aus dem Repository auch anhand einiger Daten berechnen, z. B. ein Buch anhand seiner ID oder seines Namens abrufen.  Dies kann erreicht werden, indem wir unserem Getter ein Argument übergeben. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-comment"><span class="hljs-comment">//   books: [ { id: 1, title: '...', finished: true }, { id: 2, title: '...', finished: false } ] }, getters: { //     finishedBooks: state =&gt; { return state.books.filter(books =&gt; books.finished); }, //    id getBookById: (state) =&gt; (id) =&gt; { return state.books.find(books =&gt; books.id === id) } } });</span></span></code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { mapState, mapGetters } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vuex'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { ...mapState([ <span class="hljs-string"><span class="hljs-string">'books'</span></span> ]), ...mapGetters([ <span class="hljs-string"><span class="hljs-string">'finishedBooks'</span></span>, <span class="hljs-string"><span class="hljs-string">'getBookById'</span></span> ]), getBook() { <span class="hljs-comment"><span class="hljs-comment">//    id === this.id return this.getBookById(this.id) } } }</span></span></code> </pre> <br><h3 id="zakreplenie-materiala">  Materialbefestigung </h3><br><ul><li>  Verwenden Sie Getter, wenn Sie geänderte Informationen aus dem Repository anzeigen müssen (z. B. eine Liste aller gelesenen Bücher). In anderen Fällen verwenden Sie die MapState-Hilfsfunktion. </li><li>  Gettern können zusätzliche Argumente übergeben werden, um darauf basierende Daten zu berechnen. </li><li>  Getter-Ergebnisse werden aktualisiert, wenn sich eine der Abhängigkeiten ändert. </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Getter Dokumentation in russischer Sprache</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beispielanwendung aus einem Artikel über Codepen</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440542/">https://habr.com/ru/post/de440542/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440528/index.html">"Zeig mir deine Turnschuhe und ich sage dir, wer du bist": Neuer Podcast zu thematischen Medienprojekten</a></li>
<li><a href="../de440530/index.html">Weitere Funktionen mit Mustern in C # 8.0</a></li>
<li><a href="../de440534/index.html">Übersetzung des politisch korrekten Wortschatzes vom Englischen ins Russische</a></li>
<li><a href="../de440536/index.html">Wie Facebook Project Infer hilft, Fehler in mobilen Anwendungen vor der Bereitstellung zu finden</a></li>
<li><a href="../de440540/index.html">Die Reddit-Kapitalisierung erreichte 3 Milliarden US-Dollar, nachdem 300 Millionen US-Dollar investiert worden waren</a></li>
<li><a href="../de440544/index.html">Blazor 0.8.0 experimentelle Version jetzt verfügbar</a></li>
<li><a href="../de440546/index.html">Verteilter Chat auf Node.JS und Redis</a></li>
<li><a href="../de440548/index.html">"Sie können Spannungsquellen nicht einfach nehmen und parallelisieren."</a></li>
<li><a href="../de440550/index.html">Das Farbdreieck hat nicht zwei, sondern eine Ecke</a></li>
<li><a href="../de440552/index.html">Schließen Sie Schließungen und injizieren Sie Dependency Injection in JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>