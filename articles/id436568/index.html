<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆒 💘 👵 Platform video sendiri atau cara mengambil banyak sumber daya komputasi. Bagian 1 📧 ⏲️ 🏄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam foto - sepeda roda empat terbang pertama. Sumber 

 Saat ini, karena ketersediaan layanan yang diperlukan, memposting video di jaringan bukanlah...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Platform video sendiri atau cara mengambil banyak sumber daya komputasi. Bagian 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436568/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/il/db/l0/ildbl0rgeufxd3tgzdstzyosr5a.jpeg" width="500"></div>  <sub>Dalam foto - sepeda roda empat terbang pertama.</sub>  <sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber</a></sub> <br><br>  Saat ini, karena ketersediaan layanan yang diperlukan, memposting video di jaringan bukanlah tugas yang sulit.  Namun, tidak ada begitu banyak bahan tentang struktur internal sistem tersebut, terutama di segmen berbahasa Rusia. <br><br>  Saya telah terlibat dalam desain dan pengembangan platform video berkualitas tinggi selama beberapa waktu.  Pada artikel ini saya ingin menggambarkan momen-momen yang ingin saya ketahui pada awal pengembangan. <br><br>  Artikel ini tidak mengklaim status kepemimpinan, di dalamnya saya akan mencoba untuk menggambarkan hanya poin yang menarik atau tidak jelas yang mempengaruhi pemrosesan dan pengiriman konten video berbasis HTML5. <br>  Materi dirancang untuk mereka yang sudah dalam subjek, atau siap untuk mencari rincian singkatan, istilah dan konsep. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian kedua.</a> <br><a name="habracut"></a><br><h3>  Format </h3><br>  H264 High-profil, meskipun popularitasnya, ternyata tidak bekerja di mana-mana - beberapa browser tidak menyertakan dukungannya.  Untungnya, pada perangkat modern, hampir di mana-mana di mana H264 tidak didukung, VP8 / 9 berfungsi.  VP9 lebih baik digunakan, karena  Saya belum melihat versi decoder yang dapat VP8, tetapi tidak VP9 atau H264.  VP9 memberikan kualitas gambar yang sebanding dengan H264 ketika bitrate ~ 30% lebih rendah - ini penting untuk mengurangi beban pada saluran.  Selain itu, jika penggunaan codec MPEG berpotensi memiliki klaim hukum (cerita yang sangat rumit), maka VP9 melakukannya dengan baik.  Benar, kecepatan pengkodean VP9 adalah sekitar urutan besarnya lebih rendah, oleh karena itu, lebih banyak sumber daya harus dialokasikan untuk pemrosesan. <br><br>  Jika ada kebutuhan untuk mendukung peralatan lama yang tidak dapat mengatasi H264 High, maka Anda dapat menambahkan 480p H264 Main dengan bitrate lebih rendah sebagai format ketiga. <br><br>  Hi10P jauh lebih baik untuk tidak menggunakan karena dukungan decoding perangkat keras yang buruk. <br>  H265 jelas akan memerlukan biaya lisensi, yang bukan untuk semua orang. <br><br><h3>  Lembut vs keras </h3><br>  Pembuat enkode perangkat keras tidak menggunakan sebagian besar fitur lanjutan dari codec (menghemat ruang pada chip), memberikan file yang disandikan secara tidak optimal.  Pilihan format terbatas, tidak semua dapat dikonfigurasi dengan parameter pengkodean - seringkali, dari nilai-nilai yang benar-benar mempengaruhi hasil, hanya ada bitrate, dan bahkan yang dirasakan sangat aneh.  Jika semuanya dilakukan sebagaimana mestinya, maka pada chip normal Anda bisa mendapatkan hasil yang benar-benar waras dengan linear (efek dalam adegan dinamis) dan bitrate sedikit lebih tinggi. <br><br>  Dan, tentu saja, agar hardware encoder berfungsi, Anda memerlukan perangkat - kartu video atau prosesor dengan inti video, yang tidak dimiliki semua server. <br><br>  Tapi mereka cepat.  Sangat  Dibandingkan dengan pemrosesan perangkat lunak, kecepatannya dapat tumbuh beberapa ratus kali, ke tingkat di mana disk IO mungkin tidak cukup. <br><br>  Pemrosesan dengan metode perangkat keras sangat tergantung pada penyedia solusi - setiap vendor memiliki kumpulan perpustakaan dan utilitas sendiri untuk ini, dan ada banyak pilihan: Intel Quick Sync, NVenc, AMD VCE. <br><br>  Dengan pemrosesan perangkat lunak, tidak ada batasan seperti itu, dan dengan bitrate setara, hasilnya lebih baik.  Untuk bekerja dengan berbagai format dan codec ada ffmpeg;  "Apparatchik" tidak memiliki kemewahan (dengan pemesanan). <br><br><h3>  Kriteria Kualitas Video </h3><br>  Untuk menentukan kualitas target, paling mudah dibaca dalam bit per pixel, BPP.  Pengaturan ini tidak tergantung pada resolusi, kecepatan bingkai, dan durasi.  Dari situ sudah mempertimbangkan bitrate sesuai dengan formula <br><pre><code class="plaintext hljs">BPP * Framerate * Width * Height</code> </pre>  Nilai BPP terbaik dipilih oleh eksperimen independen untuk video yang akan Anda proses.  Nilai awal yang baik untuk H264 adalah sekitar 0,09 bps.  Untuk codec berkinerja tinggi, seperti H265 dan VP9, ​​parameter ini dapat dikurangi secara proporsional dengan perbandingan kompresi komparatif.  Juga, BPP dapat sedikit dikurangi untuk video resolusi tinggi, seperti  efisiensi codec tumbuh sedikit dengan resolusi, tetapi untuk koreksi ini Anda harus memperhitungkan resolusi dari bagian pengkodean (irisan, fitur codec yang memungkinkan Anda untuk menyandikan video dengan blok semi-independen dari resolusi fraksional). <br><br>  Untuk bitrate yang diperoleh dengan rumus di atas, disarankan untuk menentukan sebelumnya nilai maksimum berdasarkan kecepatan Internet yang diharapkan dari klien - beberapa orang akan merasa nyaman menonton video yang sangat berkualitas tinggi, tetapi terus-menerus disangga. <br><br>  Itulah mengapa tidak nyaman menggunakan parameter-Q dari codec (parrot kualitas) - nilai tetap memberikan bitrate akhir yang tidak dapat diprediksi. <br><br>  maxRate lebih baik dilakukan dengan margin, karena  codec mungkin tidak secara akurat mempertahankan nilai yang diperlukan, bahkan dengan pengkodean dua-pass. <br><br>  Untuk menjaga kualitas adegan dinamis, lebih baik mengaktifkan mode VBR dari codec, namun, minRate lebih baik untuk mengatur setidaknya 90% dari total bit rate sehingga tingkat puncak tidak mengarah ke buffer underruns. <br><br>  Utilitas seperti Intel VPA, ffprobe, dan Python berguna dalam kontrol kualitas.  Dengan menggunakan yang terakhir, akan lebih mudah untuk membuat perbandingan sumber dan video yang dikonversi, membaca metrik yang berubah-ubah, seperti rata-rata penyimpangan piksel. <br><br>  Perhitungan PSNR dan SSIM dalam praktiknya sangat tidak efisien karena optimasi psikovisual, yang secara default dimasukkan dalam codec.  Jika Anda ingin menghitung metrik ini kurang lebih secara memadai, Anda dapat mematikan optimasi melalui <pre> <code class="plaintext hljs">-tune [psnr|ssim]</code> </pre>  Namun, file terakhir, tentu saja, akan berbeda dari yang dibuat tanpa flag-flag ini. <br><br><h3>  Pratinjau </h3><br>  Masalah utama menghasilkan gambar thumbnail adalah sumber fuzzy.  Definisi dan pencarian gambar yang jelas adalah tugas yang sangat tidak sepele dan membutuhkan banyak sumber daya.  Untungnya, solusi untuk masalah ini di sebagian besar codec termasuk dalam proses encoding video.  Anda dapat mengambil bingkai kunci yang paling dekat dengan posisi tertentu, dari semua bingkai di sekitarnya, itu akan menjadi yang paling jelas.  Dalam ffmpeg, ini bisa dilakukan seperti ini: <br><br><pre> <code class="plaintext hljs">-ss [] -vf \"select='eq(pict_type,PICT_TYPE_I)'\" -vsync vfr</code> </pre> <br>  Encoder standar tidak mengkompres dengan cara terbaik, jadi setelah menerima gambar, lebih baik memerasnya dengan sesuatu seperti optipng - menghemat rata-rata 500kB pada pratinjau FHD. <br><br>  Gambar resolusi tinggi paling baik dilakukan secara interlaced.  Dengan demikian, kami akan sedikit meningkatkan ukuran (sebesar 5-10%), tetapi secara serius mengurangi waktu tampilan pada halaman pemuatan. <br><br>  Artikel itu telah menjadi sangat padat, dan saya ragu bahwa semua informasi harus dikemas dalam satu teks besar.  Jika Anda tertarik untuk melanjutkan topik ini, tulis komentar atau tandai dalam survei. <br><br>  Platform ditutup, tetapi Anda dapat melihat kerjanya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  <sub>* Saya tidak memiliki hubungan dengan penulis situs masing-masing dan tidak boleh berbagi pandangan dan pendapat mereka.</sub>  <sub>Saya tidak dapat mengomentari keputusan tentang siapa dan bagaimana akses ke kode diberikan.</sub> <br><br>  Siap menjawab pertanyaan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id436568/">https://habr.com/ru/post/id436568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id436554/index.html">Transfer 30.000 baris kode dari Flow ke TypeScript</a></li>
<li><a href="../id436556/index.html">Pekerjaan di perusahaan Jerman - bagaimana cara melamar dan tidak mendapat penolakan?</a></li>
<li><a href="../id436558/index.html">Selamat Ulang Tahun ke-18, Wikipedia; merayakan datangnya proyek yang baik</a></li>
<li><a href="../id436560/index.html">Protokol kriptografi untuk pemilihan elektronik</a></li>
<li><a href="../id436564/index.html">Bagaimana ProGuard Bekerja</a></li>
<li><a href="../id436570/index.html">Eksorsisme Programmer</a></li>
<li><a href="../id436572/index.html">Skolkovo Cybersecurity Challenge 2019 Kompetisi Proyek Cybersecurity</a></li>
<li><a href="../id436578/index.html">Harga keamanan pribadi untuk direktur perusahaan IT besar per tahun</a></li>
<li><a href="../id436584/index.html">Hukum Manajemen Runet - implementasi ketentuan dan bidang tanggung jawab</a></li>
<li><a href="../id436586/index.html">Pertempuran JS: bagaimana saya menulis eval saya ()</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>