<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌲 ⛪️ 👴🏾 File favorit saya di basis kode Chromium 👐🏽 🧝 ♦️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kode Chromium sangat luas, di sana setiap orang akan menemukan sesuatu sesuai selera mereka. Dan sekarang saya memutuskan untuk berbicara tentang file...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>File favorit saya di basis kode Chromium</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/infopulse/blog/424369/"><img src="https://habrastorage.org/webt/co/r8/bz/cor8bzyorueirbrfti332pr0-fy.png" align="right">  Kode Chromium sangat luas, di sana setiap orang akan menemukan sesuatu sesuai selera mereka.  Dan sekarang saya memutuskan untuk berbicara tentang file favorit saya di dalamnya (apakah Anda punya?).  File ini mencerminkan segalanya: rasa sakit, kekecewaan, harapan, ketekunan, kemauan keras, tanggung jawab atas kegagalan orang lain dan pengorbanan diri.  Kadang-kadang saya membacanya <s>dan menangis</s> dan mendapatkan pemahaman tentang betapa besar bagian dari gunung es yang tersembunyi di bawah air.  Ini, secara umum, bahkan bukan file kode.  Ini adalah file dengan konfigurasi yang menggambarkan bug kartu video yang harus dilewati Chromium untuk menampilkan halamannya pada platform yang berbeda.  Ini dia: <a href="">https://cs.chromium.org/chromium/src/gpu/config/gpu_driver_bug_list.json</a> <br><br>  Apa yang kita bicarakan  Mari kita ingat bagaimana browser bekerja: Anda mengetik beberapa alamat di bilah alamat, browser memuat konten dan menampilkannya.  Artikel bagus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">“Apa yang terjadi ketika Anda mengetik google.com di browser Anda dan tekan enter?”</a> Memberitahu lebih banyak tentang ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">.</a>  (dan sekaligus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">beberapa</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">terjemahannya</a> di Habré).  Di dalamnya, salah satu poin terakhir disebutkan, mereka berkata, "dan sekarang semuanya sudah siap, kita menggambar di layar."  Ya, ambil dan gambarkan seperti itu, tentu saja. <br><a name="habracut"></a><br><br>  Untuk mulai dengan, dalam bahasa pemrograman untuk beberapa alasan tidak ada fungsi "ambil dan gambar ini di layar" di luar kotak.  Bahasa dan perpustakaan standar mereka tidak tertarik pada hal sepele seperti itu.  Dengan demikian, kode lintas platform universal untuk menggambar tidak begitu mudah untuk ditulis.  Segala macam game AAA keren memotong batasan ini dengan cukup mudah: “Anda harus memiliki konsol atau OS semacam itu dengan kartu video seharga $ 800, maka entah bagaimana itu akan berhasil.  Mungkin. "  Terima kasih atas tipnya!  Tapi browser itu bukan game.  Browser harus berfungsi selalu dan di mana saja.  Pengguna bahkan PC paling mati yang dibeli 10 tahun yang lalu (dan bahkan kemudian - pada penjualan) tidak berharap untuk memainkan Witcher terakhir, tetapi akan benar-benar marah jika ia tidak dapat membuka emailnya di browser atau google sesuatu.  Di sisi lain, gamer yang menyumbangkan ginjal untuk kartu video akan ingin menonton <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video 8k</a> di browser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">,</a> memutar model 3D, dan bahkan dapat dengan lancar menggulir melalui pita Facebook. <br><br>  Semua ini membuat pengembang Chromium benar-benar meledak: di satu sisi, mereka masih mendukung menggambar dengan teknologi kuno seperti GDI dan DirectX9 untuk bekerja pada peralatan yang sudah ketinggalan zaman, tetapi di sisi lain mereka melihat dukungan untuk versi terbaru OpenGL, DirectX11 (atau sudah 12?) Dan Vulkan - yang memungkinkan untuk digunakan pada perangkat modern penuh (termasuk ponsel). <br><br>  Tetapi semua ini akan menjadi setengah masalah jika seluruh kebun binatang ini bekerja dengan cara yang seharusnya sesuai dengan spesifikasi.  Apa yang tidak terjadi sama sekali.  Perangkat keras nyata dan driver-drivernya merusak segalanya: janji pemasaran kepada pelanggan, spesifikasi teknis, standar yang diterima secara umum, tes sertifikasi, kompatibilitas OS, rencana pembaruan, dll.  Tapi, selain perangkat keras yang nyata dan drivernya, kami tidak punya apa-apa lagi.  Karena itu, Anda harus mengerjakan apa yang ada.  Inilah yang <a href="">diceritakan oleh</a> file <a href="">gpu_driver_bug_list.json yang</a> disebutkan di atas. <br><br>  Ngomong-ngomong, sejauh mana browser mencoba untuk "bertahan hidup dengan segala cara" patut dihormati.  Jadi, dengan masalah yang tidak kritis, misalnya, dengan DirectX11, upaya akan dilakukan untuk menonaktifkan bagian-bagian tertentu dari fungsinya, mengorbankan kinerja, tetapi mempertahankan pengoperasian.  Untuk bug yang lebih serius - DirectX11 akan dinonaktifkan dan browser akan beralih ke DirectX9, di mana juga (jika perlu) komponen masalah akan "terputus dan dibuang".  Nah, dengan kegagalan total sistem DirectX, akan ada peralihan ke GDI - yang akan menekan prosesor dan konsumsi RAM, tetapi tetap mempertahankan kinerja untuk halaman biasa (tanpa video berat atau 3D) pada tingkat di mana pengguna kemungkinan besar bahkan tidak akan mengerti bahwa ada yang salah.  Di mana program lain sudah meminta Anda untuk memperbarui driver atau mengganti kartu video - Chromium akan terus bekerja.  Menakjubkan. <br><br>  Mari kita lihat isi file yang saya sebutkan.  Jumlah entri individual di dalamnya: 215 buah.  215 kali ketika pengembang besi berbohong, terlalu malas, bodoh atau serakah.  215 kali saya harus mencari konfigurasi hardware dan software yang benar untuk mereproduksi masalah dan menemukan solusinya.  Sulit untuk mengatakan berapa kali diputuskan untuk tidak memperbaiki masalah - tetapi karena ada banyak orang di sekitar kita dengan besi tua dan entah bagaimana sangat sedikit yang memiliki "Google tidak terbuka di Chrome", kita dapat mengasumsikan bahwa ada sangat sedikit kasus seperti itu. <br><br>  Pengamatan menarik berikut adalah distribusi oleh OS: 89-android, 44-macosx, 34-linux, 26-win, 8-chromeos.  Kesimpulan dari sini bisa dibuat berbeda.  Di satu sisi, jelas bahwa android adalah platform kunci untuk Google dan dana yang luar biasa hancur dalam memperbaiki bug di atasnya.  Di sisi lain, tidak jelas mengapa mereka diretas menjadi perbaikan di basis kode Chromium, dan bukan driver atau OS (setelah semua, Google memiliki tingkat kontrol yang cukup tinggi di semua tahap).  Koreksi di sana akan menguntungkan semua perangkat lunak di android, dan di sini hanya Chromeium.  Kemungkinan besar itu adalah interaksi dari departemen, ketika lebih mudah bagi programmer Chromium untuk memperbaiki masalah dalam kode-nya di sini dan sekarang daripada meningkatkannya level 3-4 ke atas, kemudian ke samping, dan kemudian 3-4 level ke bawah.  Ada lebih sedikit orang yang tertarik pada perusahaan ini daripada yang diperlukan. <br><br>  Saya sangat terkejut bahwa ada bug rendering hampir dua kali lebih banyak di Mac Os daripada di Windows.  Tampak bagi saya bahwa segala sesuatu di sana sangat terbatas dalam perangkat keras dan dijilat oleh driver.  Tetapi ternyata Kebun Binatang Windows dua kali lebih ulet dan stabil.  Langsung "Katedral dan Bazaar" dalam ilustrasi.  Atau apakah pengembang Google hanya menguji kode pada bunga poppy saja? <br><br>  Divisi vendor juga menarik: Nvidia - 22, AMD / ATI - 17, Intel - 30. Saya tidak berpikir bahwa perangkat lunak atau perangkat keras Intel secara langsung lebih buruk - lebih tepatnya, produksi massal mempengaruhi.  Setiap orang yang tidak secara khusus membeli "komputer jinjing" cenderung membeli sesuatu dengan kartu grafis Intel terintegrasi.  Bug yang terjadi dengan 0,001% pengguna akan hidup di kartu video dari NVidia atau ATI selama bertahun-tahun, tetapi itu akan menyebabkan banyak pengguna yang marah di forum dan jejaring sosial dalam kasus Intel.  "Kekuatan besar membutuhkan tanggung jawab besar." <br><br>  Pemisahan antara bug OpenGL dan DirectX terlihat lucu: OpenGL adalah 16, DirectX adalah 0. Tapi ini bukan karena OpenGL sangat buruk, dan DirectX sangat baik.  Masalahnya adalah bahwa semua bug dari kategori "menang" (itu adalah 26 buah) sebenarnya adalah bug DirectX (well, ok, tidak semua, tetapi hampir semua). <br><br>  Tapi oke, berhenti di sini menyalahkan semua orang secara umum.  Ayo pribadi <s>, dan di sana, sebelum perkelahian, Anda tahu, tidak jauh</s> ! <br><br>  Di sini, misalnya, <a href="">entri 211</a> , merujuk ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bug 672380</a> .  Bagi orang-orang, minus unary dan fungsi tangen busur pada beberapa perangkat keras dari Intel dan NVidia berhenti bekerja dalam kode.  <b>Minus unary</b> , sial, dan <b>trigonometri dasar</b> !  Tampaknya, apa lagi yang harus dipercaya?  Tapi tidak, mereka memperbaikinya dan berhasil. <br><br>  Atau di sini ada catatan "warna-warna yang tidak ditampilkan dengan benar" seperti <a href="">No. 185</a> , <a href="">219</a> , <a href="">220</a> dan beberapa lainnya.  Pemrogram melakukan segalanya dengan benar, semua fungsi bekerja dan mengembalikan "kesuksesan", tetapi pada layar, sebagai hasilnya, sebuah piksel dengan warna yang salah ditampilkan.  Oh ya - hanya pada kartu video ini dan versi driver ini.  Ngomong-ngomong, pertanyaan untuk penggemar teori bahwa tes dapat mencakup segalanya: bagaimana Anda akan menutupinya dengan tes? <br><br>  Inilah hal keren lainnya, <a href=""># 224</a> : "Penguraian VPx tidak didukung dengan baik sebelum Windows 10 pembuat pembaruan."  Ya, begitulah, OS keluar, semua orang berseru bahwa dia memiliki akselerasi decoding video ini dan itu.  Tetapi dalam praktiknya ternyata itu ada, tetapi sedemikian rupa sehingga akan lebih baik jika tidak ada sama sekali.  Dan lebih baik mematikannya.  Akibatnya, pengembang OS menjual satu miliar OS lainnya yang dibayar, dan pengembang browser gratis mengumpulkan keluhan bahwa video tidak diputar semulus yang kami inginkan, meskipun tampaknya perangkat keras dan OS seharusnya mengizinkan!  “Di mana 60 fps saya dan mengapa browser Anda memakan RAM 4 GB” - percakapan yang akrab, bukan? <br><br>  Dan segera dia terperangkap dalam rekor nomor <a href="">225</a> : "Penguraian VPx terlalu lambat pada Intel Broadwell, Skylake, dan CherryView."  Kami berkembang, yang berarti kami mengembangkan generasi prosesor baru satu demi satu, diiklankan, dijual.  Tetapi masalah pengguna akhir adalah masalah pengguna akhir, yang mereka pedulikan.  Biarkan pelamar entah bagaimana menghancurkan sana dengan kruk, dan kemudian kita akan memperbaikinya. <br><br>  Lagu terpisah adalah apa yang disebut "Switchable graphics", yang penjual aktif terlibat di dalamnya.  Nah, kata mereka, laptop yang bagus dengan dua kartu video - semuanya akan cepat dalam permainan, tetapi dalam program kantor (seperti browser) itu akan sangat hemat energi, itu akan bekerja selama sepuluh jam!  Dan sekarang kita melihat kebenaran pahit kehidupan: pada Windows ini akan mengarah pada penolakan lengkap DirectX11 (catatan <a href="">No. 100</a> ), dan pada bunga poppy itu akan crash begitu sering sehingga kita lebih baik mematikan kartu non-diskrit sama sekali (catatan <a href="">No. 228</a> ). <br><br>  Atau di sini <a href="">nomor 242</a> : "Kode yang dihasilkan oleh inisialisasi variabel lokal sering memicu crash pada driver Marshmallow Adreno."  Solusinya juga baik: "dont_initialize_uninitialized_locals".  Nah, orang normal macam apa yang akan setuju untuk menulis sesuatu di bawah platform, di mana variabel lokal tidak dapat diinisialisasi selama deklarasi, karena pengemudi crash dari ini?  Tetapi dalam kode produk besar seperti Chromium - Anda harus hidup dengan ini. <br><br>  <a href="">26</a> : "Nonaktifkan penggunaan Direct3D 11 pada Windows Vista."  DirectX10 adalah salah satu fitur utama Vista selama rilis, dan setelah beberapa waktu DirectX11 keluar di bawahnya, saya masih ingat kotak-kotak kartu video pada masa itu dengan tulisan bangga “DirectX11 compatible”.  Dan bagi banyak orang, ini umumnya satu-satunya alasan untuk beralih dari XP yang akrab dan stabil.  Tahun berlalu - dan sekarang dukungan untuk DirectX11 (produk Microsoft) di Windows Vista (produk Microsoft) diberi peringkat "tidak didukung".  Pengakuan langsung atas prestasi! <br><br>  Oke, saya bosan memilih yang khusus, baca sisanya sendiri - alasan bug dan kruk yang diterapkan dijelaskan dengan baik di sana, ditambah ada tautan ke bugtracker (bidang “cr_bugs”). <br><br><h2>  Akhlak </h2><br>  Pertama, semua orang berbohong.  Kedua, bahkan dalam kondisi ketika semua orang berbohong, masih mungkin untuk menulis perangkat lunak berkualitas tinggi.  Dan ketiga, lain kali seseorang memberi tahu Anda bagaimana web modern menjadi sukses berkat "kekuatan HTML, CSS, dan bahasa Javascript yang indah" - tunjukkan padanya artikel ini dan tanyakan bagaimana cara kerjanya dan kepada siapa perlu tanpa karya heroik orang tak kasat mata ini dalam upaya "lepas landas dengan semua sampah ini." </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424369/">https://habr.com/ru/post/id424369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424355/index.html">Cetakan injeksi: cara kerjanya</a></li>
<li><a href="../id424361/index.html">Bagaimana gamifikasi meningkatkan pengalaman pengguna</a></li>
<li><a href="../id424363/index.html">“Jika Anda ingin membuat sesuatu yang benar-benar keren, Anda perlu menggali lebih dalam dan tahu bagaimana kode Anda bekerja di sistem, di perangkat keras”</a></li>
<li><a href="../id424365/index.html">Cara kerja stack trace pada ARM</a></li>
<li><a href="../id424367/index.html">Perjuangan untuk sumber daya, bagian 2: Kami bermain dengan pengaturan Cgroups</a></li>
<li><a href="../id424371/index.html">Menyebarkan vCloud Extender</a></li>
<li><a href="../id424373/index.html">Tempat Bekerja di TI, Edisi 1: Voximplant</a></li>
<li><a href="../id424375/index.html">Ulasan Mayku FormBox Vacuum Moulder: Biarkan Bagian Menyebar</a></li>
<li><a href="../id424377/index.html">Ulasan Playme TIO: DVR pemasangan magnetik tingkat atas</a></li>
<li><a href="../id424379/index.html">Pengakuan label lingkungan menggunakan Azure Custom Vision dari aplikasi seluler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>