<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌨️ 👨🏿‍🎨 👩‍❤️‍👩 Segurança do PHP: onde e como armazenar senhas. Parte 1 🧒🏽 🤦🏻 👁‍🗨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Todos os anos, mais e mais ataques de hackers ocorrem no mundo: desde roubos de cartões de crédito a sites de hackers de lojas online. Você tem certez...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Segurança do PHP: onde e como armazenar senhas. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/474754/">  <i>Todos os anos, mais e mais ataques de hackers ocorrem no mundo: desde roubos de cartões de crédito a sites de hackers de lojas online.</i>  <i>Você tem certeza de que seus scripts estão realmente protegidos?</i>  <i>Antecipando o início do curso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">“Backend PHP Developer”,</a> nosso colega preparou uma publicação interessante sobre segurança em PHP ...</i> <br><br><img src="https://habrastorage.org/webt/ej/zp/uq/ejzpuq65zlwmf5lvr9x1v8h6sak.png"><br><hr><a name="habracut"></a><br><h3>  1. Introdução </h3><br>  O escândalo do Facebook e da Cambridge Analytica, o vazamento de correspondência do Partido Democrata dos EUA em 2016, a violação de dados do Google em 2018 e o hack do Yahoo Voice em 2012 são apenas alguns exemplos de grandes vazamentos registrados nos últimos anos. <br><br>  Informações em escala global estão agora disponíveis para nós como nunca antes.  Se você não tomar os devidos cuidados, as informações sobre nós mesmos (incluindo informações de natureza confidencial) também podem ser de domínio público. <br><br>  Não importa que tipo de projeto você está desenvolvendo: um jogo infantil de código aberto ou a conclusão de um pedido de uma grande empresa.  Sua responsabilidade como desenvolvedor da Web é fornecer segurança para todas as suas plataformas.  A segurança é um aspecto muito difícil. <br><br>  A linguagem PHP fornece várias ferramentas e funções que você pode usar para garantir a segurança do aplicativo. <br><br><h2>  3 regras de segurança de senha </h2><br><img src="https://habrastorage.org/webt/xa/5c/jg/xa5cjgfsiv78usmjiivd9h5cyim.png"><br><br><h4>  As senhas de usuário devem permanecer desconhecidas para você. </h4><br>  Ainda me lembro dos meus primeiros passos como desenvolvedor PHP.  A primeira aplicação que criei foi um jogo em que, juntamente com meus amigos, desempenhei o papel de construtor de arranha-céus.  Cada um de nós pode fazer login em nossa conta, comprar construtores e enviar nossa equipe para um novo canteiro de obras toda semana.  Criei contas básicas: adicionei um nome de usuário e uma senha para cada usuário e os enviei por e-mail.  E só depois de alguns meses eu percebi o quão estúpido era. <br><br>  <i>A regra geral é a seguinte: você não deve apenas não conhecer as senhas dos seus usuários - não deve poder reconhecê-las.</i>  <i>Esse é um aspecto muito sério que pode até implicar responsabilidade legal.</i> <br><br>  Por tentativa e erro, você ainda conclui que as senhas não precisam ser armazenadas em texto sem formatação ou de forma que possam ser facilmente descriptografadas. <br><br><h4>  Não insira restrições de senha </h4><br>  Vamos jogar um jogo.  Tente adivinhar a senha: <br><br>  <i>**********</i> <br><br>  Difícil, certo?  Vamos tentar o seguinte: <br><br>  <i>P * r *** e ***</i> <br><br>  Agora você sabe que há uma letra maiúscula e algumas maiúsculas.  E se sim: <br><br>  <i>P * r *** e911</i> <br><br>  Agora será muito mais fácil adivinhar a senha - porque você sabe que ela inclui uma letra maiúscula, maiúscula e um número. <br><br>  O mesmo acontece quando você impõe restrições aos usuários e máscaras para suas senhas.  Se seu aplicativo precisar seguir um padrão específico, dê aos invasores dicas que eles podem usar contra você. <br><br>  Exigir um certo tamanho mínimo de senha é normal, pois o tamanho da senha afeta o tempo necessário para buscá-la.  No entanto, será muito mais útil descobrir como funcionam os algoritmos e o hash. <br><br>  A propósito, a resposta correta para o enigma acima é <b>"Porsche911"</b> :) <br><br><h4>  Nunca envie senhas por email em sua forma mais pura </h4><br>  Um dos meus primeiros erros como desenvolvedor da Web foi não aprender a gerenciar senhas com antecedência. <br><br>  Imagine que você é um cliente e contrata um desenvolvedor para criar um bom site de comércio eletrônico para sua empresa.  O desenvolvedor enviou um e-mail com a senha do seu site.  Agora você sabe três coisas sobre seu funcionário: <br><br><ol><li>  Ele conhece sua senha. </li><li>  Ele armazena sua senha em sua forma mais pura, sem usar nenhuma criptografia. </li><li>  Ele não sente a menor preocupação ao enviar senhas pela Internet. </li></ol><br>  Em resposta, não há escolha a não ser demitir tal funcionário. <br><br>  <i>Aqui está o que um desenvolvedor da web deve fazer:</i> <br><br><ol><li>  Crie uma página em seu aplicativo da Web em que o usuário possa inserir seu e-mail, caso tenha esquecido a senha e, assim, solicitar uma nova senha. </li><li>  Seu aplicativo irá gerar direitos de acesso exclusivos e vinculá-lo ao usuário que fez a solicitação (eu pessoalmente uso um identificador individual universal). </li><li>  O aplicativo enviará ao usuário um email com um link que leva ao direito de acesso. </li></ol><br>  Assim que o usuário seguir o link, o aplicativo confirmará o acesso correto e permitirá que o usuário altere a senha. <br><br>  Veja como a segurança do aplicativo aumentou com essas etapas simples?  Se desejar, podemos aumentar ainda mais o nível de segurança adicionando um limite de tempo entre a solicitação e definindo uma nova senha. <br><br><h2>  Como hash senhas de usuário </h2><br><img src="https://habrastorage.org/webt/nu/v1/by/nuv1bycogzso930__eofqolixas.png"><br><br>  As senhas em um aplicativo Web devem ser hash, não criptografadas.  Criptografia é um algoritmo bidirecional.  A sequência é criptografada, que você pode descriptografar e reutilizar.  Essa técnica é frequentemente usada em inteligência para obter informações de aliados. <br><br>  Hashing sugere que a sequência não pode ser retornada ao texto sem formatação.  Esse é o objetivo final de todo o processo. <br><br>  Para atingir objetivos diferentes, muitos algoritmos foram desenvolvidos: alguns são caracterizados por alta velocidade, outros são altamente confiáveis.  Essa tecnologia está em constante evolução e, nos últimos anos, passou por muitas mudanças.  Agora vamos considerar as três variedades mais populares em ordem cronológica. <br><br><h4>  SHA-1 </h4><br>  Essa foi historicamente a primeira função de hash.  O acrônimo SHA-1 significa "Algoritmo de Hashing Seguro", desenvolvido pela Agência de Segurança Nacional dos EUA. <br><br>  O SHA-1 era bem conhecido e amplamente utilizado no PHP para criar uma cadeia hexadecimal de 20 bytes com um comprimento de 40 caracteres. <br><br>  O setor de SSL usa o SHA-1 para assinaturas digitais há vários anos.  Depois de identificar alguns pontos fracos, o Google decidiu que era hora de mudar para o SHA-2. <br>  A primeira versão do algoritmo foi preterida em 2005.  Posteriormente, novas versões foram desenvolvidas e adotadas para uso: SHA-2, SHA-2 e SHA-256. <br><br><h4>  Bcrypt </h4><br>  O Bcrypt, não resultado do desenvolvimento natural do SHA, conseguiu atrair um grande público devido ao seu nível de segurança. <br><br>  Este algoritmo extremamente lento foi criado para criar as seqüências de hash mais seguras.  No processo de hash de dados, ele passa por vários ciclos, que na tecnologia de computadores são descritos pelo indicador de custos de mão-de-obra.  Quanto maior a taxa de trabalho, mais caro será para um hacker obter uma senha. <br><br>  Há boas notícias: no futuro, poderemos usar máquinas mais poderosas, capazes de passar mais ciclos mais rapidamente. <br><br><h4>  Argon2 </h4><br>  Este é um novo algoritmo de hash da moda desenvolvido por Alex Biryukov, Daniel Dinu e Dmitry Hovratovich da Universidade do Luxemburgo.  Em 2015, ele venceu o Concurso de Hashing de Senhas. <br><br>  <i>O Argon2 é apresentado em 3 versões:</i> <br><br><ol><li>  O Argon2d acessa uma matriz de memória, o que reduz a sobrecarga de memória e tempo.  No entanto, ele corre o risco de ser atacado por canais de terceiros. </li><li>  Argon2i é o oposto de Argônio 2d.  É otimizado para ataques a canais de terceiros e acessa a memória de maneira independente da senha. </li><li>  Argon2id é uma versão intermediária entre duas versões anteriores. </li></ol><br>  Esta função possui 6 parâmetros: <b><i>sequência de senha, sal, custo de memória, custo de tempo, fator de paralelismo (número máximo permitido de threads paralelos), comprimento do hash.</i></b> <br><br>  Na segunda parte do artigo, mostrarei como usar esse hash no PHP usando as funções integradas, e agora quero convidar todos para o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">webinar on-line gratuito</a> "PHP sem servidor", no qual nos familiarizaremos com o conceito sem servidor, falaremos sobre sua implementação na AWS, aplicabilidade, preços.  Analisaremos os princípios de montagem e lançamento, além de criar um TG-bot simples baseado no AWS Lambda. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474754/">https://habr.com/ru/post/pt474754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474738/index.html">Modelagem geométrica de superfícies de filete</a></li>
<li><a href="../pt474740/index.html">Melhor do Museu de História da Computação em Mountain View</a></li>
<li><a href="../pt474744/index.html">Uber entra no mercado de serviços financeiros e lança a divisão Uber Money</a></li>
<li><a href="../pt474746/index.html">Armazenamento de objetos na sala dos fundos ou Como se tornar seu próprio provedor de serviços</a></li>
<li><a href="../pt474748/index.html">Sistemas de Service Desk e sua integração. Como automatizar o processo de trabalho com contratados e fabricantes?</a></li>
<li><a href="../pt474756/index.html">VMworld Europe 2019: principais anúncios e desembalagem da lendária mochila</a></li>
<li><a href="../pt474760/index.html">Prendemos o ngx-translate no aplicativo Angular. Passo a passo prático</a></li>
<li><a href="../pt474762/index.html">Seminário: Soluções de TI híbridas para negócios. 14 de novembro, Moscou</a></li>
<li><a href="../pt474768/index.html">Transmissão aberta do Main Hall HighLoad ++ 2019</a></li>
<li><a href="../pt474770/index.html">Como conduzimos o teste de regressão da folha de pagamento no SAP HCM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>