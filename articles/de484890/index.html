<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèΩ üÜò üê≥ Einschr√§nken des Zugriffs auf Dimensionsattribute im tabellarischen SSAS-Modell üê∑ üê° üë•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In manchen F√§llen m√ºssen Sie den Benutzerzugriff auf einige Daten im Cube einschr√§nken. Es scheint, dass es nichts Kompliziertes gibt: Installieren Si...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einschr√§nken des Zugriffs auf Dimensionsattribute im tabellarischen SSAS-Modell</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484890/">  In manchen F√§llen m√ºssen Sie den Benutzerzugriff auf einige Daten im Cube einschr√§nken.  Es scheint, dass es nichts Kompliziertes gibt: Installieren Sie die Zeilenfilter in Rollen, und Sie haben es geschafft, aber es gibt ein Problem: Der Filter schneidet die Daten in der Tabelle und es stellt sich heraus, dass Sie die Geschwindigkeit nur anhand der verf√ºgbaren Zeilen sehen k√∂nnen, und wir brauchen die gesamte Geschwindigkeit, aber die Details sollten nur verf√ºgbar sein f√ºr einige von ihnen. <br><br>  Zum Beispiel sollte der Benutzer den Umsatz f√ºr alle Produkte mit der M√∂glichkeit der vollst√§ndigen Angabe sehen, aber gleichzeitig sollten Kunden nicht alle, sondern nur einige oder alle Kunden anzeigen, sondern in einigen Attributen (Feldern) teilweise verborgene Daten. <br><br>  Um zu verhindern, dass der Benutzer den Umsatz in Bezug auf Kunden anzeigt, k√∂nnen Sie dies durch Formeln in Kennzahlen unterbinden und einen leeren Wert anzeigen, wenn der Benutzer versucht, den Umsatz eines bestimmten Kunden anzuzeigen. Eine dieser Optionen wird <a href="https://www.sqlbi.com/articles/implement-non-visual-totals-with-power-bi-security-roles/" rel="nofollow">hier</a> beschrieben.  Dies ist jedoch nicht der Fall.  Wenn ein paar Dutzend Ma√ünahmen, dann schreiben Sie eine Formel in jedem von ihnen ... und wenn Sie vergessen?  Aber Sie werden es sicherlich eines Tages vergessen ... Und wenn der Benutzer Daten von einer bestimmten Kundenkarte ben√∂tigt, kann er diese nicht sehen, ohne eine Filterma√ünahme zu w√§hlen.  Was zu tun <br><br>  Wir mussten diese Anzeige erreichen: <br><br><img src="https://habrastorage.org/webt/4u/id/xl/4uidxloiihdv0ucfozvnt7vypbu.png"><br><a name="habracut"></a><br>  Das gesamte Prinzip, mit dem Sie ein √§hnliches Ergebnis erzielen, basiert auf einem kleinen Trick und besteht darin, der Tabelle (in diesem Fall clients) synthetische Zeilen hinzuzuf√ºgen, sodass der Datensatz √ºber dieselbe Entit√§t mindestens einmal dupliziert wird - der erste enth√§lt vollst√§ndige Informationen, und die zweite in den meisten Spalten ist mit einem Stecker vom Typ <i># N / A</i> gef√ºllt, aber die Bezeichner sind f√ºr beide Datens√§tze gleich.  Mithilfe eines Filters in Rollen und einer speziellen Spalte, nach der gefiltert wird, lassen wir dem Benutzer au√üerdem bestimmte Zeilen zur Verf√ºgung - entweder eine Zeile mit vollst√§ndig ausgef√ºllten Feldern oder mit Stubs.  Und seitdem  Da der Cube die Eigenschaft hat, sich wiederholende Daten zu "kollabieren" und dem Benutzer keine anderen Attribute mit eindeutigen Werten zur Verf√ºgung stehen, werden in der resultierenden Tabelle alle Clients mit dem Code <i># N / A</i> in eine Zeile umgewandelt.  Ich denke, dass zu diesem Zeitpunkt schon alles sehr klar ist, man kann nicht mehr lesen.  Das Ergebnis steht im Titel des Artikels. <br><br>  Aber wenn jemand Details braucht - ich habe sie. <br><br>  In Tabellenmodellen bis Version 1400 (einschlie√ülich SQL 2017) k√∂nnen keine Viele-zu-Viele-Beziehungen erstellt werden. Bei Duplikaten ben√∂tigen wir jedoch eine solche Beziehung. Daher erstellen wir sie √ºber eine Zwischentabelle, die nur eine Spalte mit eindeutigen Kunden-IDs enth√§lt.  Die Tabelle ist seitdem zun√§chst inkompressibel  enth√§lt nur eindeutige Werte, sodass Sie sie berechnen k√∂nnen, da wir in diesem Fall nichts gewinnen, wenn wir sie durch t-sql f√ºllen (beachten Sie das Verarbeitungsprinzip und die Reihenfolge der Tabellenkomprimierung?).  Nur aufgrund der F√§higkeit der Engine, doppelte Daten zu komprimieren, steigt die Datenmenge im Cube geringf√ºgig an, und aufgrund des Filterns durch die Rolle verf√ºgt die Benutzersitzung √ºber einen reduzierten Satz von Datens√§tzen, d. H.  Die endg√ºltige Anzahl der Datens√§tze nach dem Filtern des Satzes bleibt unver√§ndert ohne Duplikate.  Machen Sie sich deshalb keine Sorgen, auch wenn die Tabelle anfangs gro√ü genug ist. Das Hinzuf√ºgen von Duplikaten wirkt sich nicht wesentlich auf Leistung und Volumen aus (nat√ºrlich sind die F√§lle unterschiedlich, aber in den meisten F√§llen ist alles genau das). <br><br>  Die folgende Abbildung zeigt das Cube-Modell und den Tabelleninhalt: <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/f0/vd/94/f0vd94vkawcfyy2lpp2vreeide8.png"></a> <br><br>  F√ºgen Sie beispielsweise einen einfachen Filter hinzu: <br><br><img src="https://habrastorage.org/webt/fq/kc/bn/fqkcbnageypsvdvv4mzd9yzeru0.png"><br><br>  Das ist alles. <br><br>  Ich m√∂chte vor einer Besonderheit dieser Vorgehensweise warnen.  Benutzer, die Administratoren auf dem SSAS-Server sind, gehen standardm√§√üig in den Cube und umgehen alle Arten von Rollen, auch wenn ihre Namen in diesen Rollen angegeben sind.  Dies f√ºhrt dazu, dass Rollenfilter nicht funktionieren und unter dem Administrator alle Duplikate sichtbar sind.  Verzweifeln Sie jedoch nicht, es reicht aus, in der Verbindungszeichenfolge explizit anzugeben, welche Rolle verwendet werden soll, und alles passt. Au√üerdem m√ºssen Sie beim Testen mehr als einmal zwischen den Rollen wechseln. <br><br>  Wie Sie verstehen, k√∂nnen Sie mehrere Kombinationen desselben Datensatzes mit unterschiedlichem F√ºllgrad der Spalten mit realen Daten erstellen.  Sie k√∂nnen auch eine separate ausgeblendete Tabelle im Cube erstellen, die √ºber ADSI mit Konten gef√ºllt wird, und Benutzer auf verschiedene Dom√§nengruppen verteilen. Diese Tabelle kann in Abh√§ngigkeit von der Kombination der Benutzerzugeh√∂rigkeit in bestimmten Gruppen ausgef√ºllt werden.  Wir schreiben die Links in den zeilenweisen Rollenfiltern zu dieser Tabelle, die es uns erm√∂glichen, die Messungen zu steuern, und wir k√∂nnen auch in Kennzahlen darauf verweisen, sodass bei Bedarf einige Kennzahlen die Leere anzeigen.  Mit einer solchen Organisation wird eine Feinabstimmung der Zugriffsrechte auf Daten erzielt und alles an einem Ort gespeichert.  Es gibt jedoch eine Nuance bei Kennzahlen: Wenn ein fortgeschrittener Benutzer selbst Abfragen in den Cube schreibt, hindert ihn nichts daran, seine Kennzahl ohne Lesezeichen zu verwenden, vorausgesetzt, er kennt die Namen der Basisspalten und die Formel ... Wenn gew√ºnscht, k√∂nnen Sie dies jedoch hier tun Einschr√§nkung, aber das ist ein anderes Thema. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484890/">https://habr.com/ru/post/de484890/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484876/index.html">Reparieren, hacken, graben. L√∂se die Online Quest Droid Mission</a></li>
<li><a href="../de484878/index.html">Grundlagen des Leveldesigns: Flow-Effekt oder wie man den Spieler nicht gelangweilt werden l√§sst</a></li>
<li><a href="../de484882/index.html">Windows Terminal Preview v0.8 ver√∂ffentlicht</a></li>
<li><a href="../de484884/index.html">HIPEC. Lebensjahre statt Monate bei malignen Tumoren der Bauchh√∂hle</a></li>
<li><a href="../de484886/index.html">RTL-Styling 101 - Eine detaillierte Anleitung zum CSS-RTL-Styling</a></li>
<li><a href="../de484892/index.html">Schl√ºsselfertige Pflege: So funktioniert SAP-Hosting</a></li>
<li><a href="../de484896/index.html">Cheat Sheet f√ºr SELinux-Systemadministratoren: 42 Antworten auf wichtige Fragen</a></li>
<li><a href="../de484898/index.html">Guter Grund, um Ihre Abh√§ngigkeiten zu testen: AGPL-Edition</a></li>
<li><a href="../de484900/index.html">Website-Rendering 101</a></li>
<li><a href="../de484902/index.html">Auf Gleichungen h√∂heren Grades</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>