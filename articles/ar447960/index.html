<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง ๐๏ธ ๐ฆ Veeam Linux Backup ุนูู Elbrus OS. ุงุณุชูุฑุงุฏ ุจุฏูู ['ุ' | '.' | '!'] ๐ฉ๐ฝโโ๏ธ ๐ง ๐ฉ๐ผโ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน. 

 ููุงูุงุช ุญุฏูุซุฉ ุนู ุงุณุชุจุฏุงู Habrรฉ Import ูู ุงูููุงุฑุณุฉ. ุงูุฌุฒุก 1. ุงูุฎูุงุฑุงุช ูููุณ ููุชุฑุฉ ุทูููุฉ ุ ุงูููุณููู ุงูุชู ุชู ุชุดุบูููุง ... ุฃู ููู ุฃุตุจุญุช OS ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Veeam Linux Backup ุนูู Elbrus OS. ุงุณุชูุฑุงุฏ ุจุฏูู ['ุ' | '.' | '!']</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/447960/" style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุจุงูุฌููุน. <br><br>  ููุงูุงุช ุญุฏูุซุฉ ุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุจุฏุงู</a> Habrรฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Import ูู ุงูููุงุฑุณุฉ.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1. ุงูุฎูุงุฑุงุช</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุณ ููุชุฑุฉ ุทูููุฉ ุ ุงูููุณููู ุงูุชู ุชู ุชุดุบูููุง ... ุฃู ููู ุฃุตุจุญุช OS Elbrus ูุฌุงููุฉ</a> ููู ุชุชุฑููู ุบูุฑ ูุจุงููุฉ.  ูุฑุฑุช ุฏุฑุงุณุฉ ูุฐู ุงููุดููุฉ ูู ููุชุงุญ ูููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู.  ุนูุงูุฉ ุนูู ุฐูู ุ ุชู ุฐูุฑ ููุชุฌุงุช Veeam Software ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐู ุงูููุงูุฉ</a> ุ ููุง ูุนูู ุฃู ุงููุดููุฉ ูุฏ ุชููู ุฐุงุช ุตูุฉ ูู ุณูุงู ุงุณุชุจุฏุงู ุงูุงุณุชูุฑุงุฏ. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/782/a91/e82/782a91e824b3206aa6c8f299bae8a311.jpg" alt="ุตูุฑุฉ"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุตูุฑุฉ ุงููุตุฏุฑ</a> <br><br>  ุฃููุงู ููุจู ูู ุดูุก ุ ูุฑุฑุช ุชูุฒูู ูุธุงู ุงูุชุดุบูู Elbrus OS ุ ุฃู ุจุงูุฃุญุฑู ูุฌููุนุฉ ุฃุฏูุงุช ุงูุชูุฒูุน ุงููุชุงุญุฉ ููุท ูููููู x86_64 ุ ููุนุฑูุฉ ููููุฉ ุนูููุง ุ ููุญุงููุฉ ุชุซุจูุช Veeam Agent for Linux ุนููู.  ุฃููุฆู ุงูุฐูู ูุฑุบุจูู ูู ูุนุฑูุฉ ูุง ุฌุงุก ููู ุ ูู ูุถูู ุ ุชุญุช ุงููุท. <br><a name="habracut"></a><br>  ูุฐูู ุ ุงุณุชุทุฑุงุฏุง ุตุบูุฑุง ุ ูุฅูุง ูุฌุฃุฉ ุดุฎุต ูุง ูุนุฑู.  Elbrus ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุนุงูุฌ</a> ูุน ูุธุงู ุชุนูููุงุช ูุญุฏุฏุฉ ุฅูู ุญุฏ ูุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ุจุฑูุงูุฌ Elbrus OS.  ูุฎูุงูุง ูููุฑุฉ ุฎุงุทุฆุฉ ุดุงุฆุนุฉ - ููุณ ูู ุงูุถุฑูุฑู ููุธุงู ุงูุชุดุบูู Elbrus ุฃู ูููู ูุฏูู ูุฌูุน ููุฃุฌูุฒุฉ ูุนุชูุฏ ุนูู ูุนุงูุฌ Elbrus.  ููุงู "Elbrus PDK for x86" - ูู ุงููุงูุน ุ ุธูุฑ ูู ุงููุฌุงู ุงูุนุงู ููุฑุต ุชุซุจูุช.  ุจุงูููุงุณุจุฉ ุ ููุงู ุญุงุดูุฉ "PDK - ูุฌููุนุฉ ุชุทููุฑ ุงููุธุงู ุงูุฃุณุงุณู ุ ูุฌููุนุฉ ุชุทููุฑ" - ููุชุงุฒุฉ ุ ููุง ูุนูู ุฃู ููุงู ูุชุฑุฌู ุนูู ุงูุฃูู. <br><br>  ุชุฑุงุฌุน ูุณุฑู ุตุบูุฑ ุขุฎุฑ.  ูุงูุญูููุฉ ูู ุฃููู ุชุนุงููุช ูุฑุฉ ูุงุญุฏุฉ ูุน ุงูุจุฑุงูุฌ ุงููุญููุฉ ุ ูุซู MSVS ู RTO Baget.  ูุงูุช ูุฏู ุฎุจุฑุฉ ูู ุงูุนูู ูุน ูุงุนุฏุฉ ุงูุนูุงุตุฑ ุงููุญููุฉ ุ ุจูุง ูู ุฐูู ุงููุนุงูุฌ ูู MCST.  ูุฐูู ุ ุฃุณุชุทูุน ุฃู ุฃููู ุจูู ูุณุคูููุฉ ุฃู ููุงู ุฎุตูุตูุฉ ูุนููุฉ ูู ูุฐุง ุงููุฌุงู ุ ูุณุฃุญุงูู ุฃูุง ุฃุชุทุฑู ุฅูููุง ูู ูุฐู ุงูููุงูุฉ.  ุนูุฏูุง ุฃุฑุบุจ ุญููุง ูู ุฐูู ุ ุณุฃุถุน ุนูุงูุฉ [TBD].  ูุฐูู ุณูุญุงูู ุงูุงุณุชุบูุงุก ุนู ุขุฐุงู ุตุฑุงุฎ ุตุฑูุญ ูุตุฑูุญ.  ูู ุงูููุงูุฉ ุ ูุฌุจ ููู ุตูุงุนุฉ ุงูุฏูุงุน ุงูุฑูุณูุฉ ูุงูููุฆุงุช ุงูุญููููุฉ.  ุงูุจูุฏ ูุจูุฑ - ุงูููุฒุงููุฉ <s>ุตุบูุฑุฉ ..</s> [TBD]. <br><br>  <b>ูุฑุญูุฉ ุงูุตูุฑ</b> - ุชูุฒูู.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงูุฃุฎุจุงุฑ ุงูุชู ุฃุตุจุญุช ูุชุงุญุฉ Elbrus OS ุชุณุจุจ ุตุฏู ุ ูุซู ุฃู ุฎุงุฏู ุงูุชูุฒูุน ูุงู ูุนุทูุง.  [TBD] ุจูุถู Yandex ูุงููููุฏุณ ุงูุฐู ููุฑ ูู ูููู ุฅูู ููุงู.  ูุจุงูุชุงูู ูุฅู ุณุฑุนุฉ ุงูุชูุฒูู ุฌูุฏุฉ. <br><br>  <b>ุงูุฎุทูุฉ ุงูุฃููู</b> ูู ุงูุชุซุจูุช.  ุฃูุง ูุถุนุช ุนูู ุฃูู ุจุฑูุงูุฌ Hypervisor ุงููุฌุงูู ุงููุชุงุญ.  ููุฏ ุฎุตุตุช ุงุซููู ูู ุงูููู ุ ุจุถุน ุงูุนุฑุจุงุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ 32 ููุบุงุจุงูุช ููู ููุฏูู (ุณูููู ููุงู ูุงุฌูุฉ ุฑุณูููุฉ ุ ูุฃุนุชูุฏ).  ุงููุฑุต ูุงููุนุชุงุฏ - 32 ุฌูุฌุงุจุงูุช. <br>  ุจุฏุฃ ุงูุชุซุจูุช.  ูู ุฃุณุชุฎุฏู ุฅุฑุดุงุฏุงุช ุงูุชุซุจูุช ุ ูุฐูู ูุง ูููููู ุงูุชุนููู ุนูููุง.  ูุงุฌูุฉ ุงูุชุซุจูุช TUI ูู ุงูุญุฏ ุงูุฃุฏูู ุจูุณูุฉ. <br><br><img src="https://habrastorage.org/webt/h1/en/li/h1enlitw7iqvief-xs65x1y2f24.png"><br>  <sup>ุญุณููุง ุ ููุชุงุฒ ุ ุจุฏูู ูุงูุณ ุ ุซู ุณูุชุฌุงูุฒ.</sup> <br><br>  ุชุนุงููุช ูุน ุงููุงูุฐุฉ ุงูุชุงููุฉ ูู ุงููุญุงููุฉ ุงูุซุงููุฉ.  ููุงุฐุง ูุง ูุชู ุชุซุจูุช sr0 [TBD] ุงูุชุฑุงุถููุง ุนูุฏ ุงูุชุซุจูุช ูู ุงููุฑุตุ <br>  ุญุฏุฏ ูุตุฏุฑ ุงููุฑุต ุงููุถุบูุท ุ ุงูุชูู ุฅูู ุฃุจุนุฏ ูู ุฐูู. <br><br><img src="https://habrastorage.org/webt/vc/ha/fs/vchafs6xvohij8pkvwinexk9nzg.png"><br><br>  ุนูุฏ ุงุฎุชูุงุฑ ุงูููุทูุฉ ุงูุฒูููุฉ ุ ุฃุฏุฑูุช ูุฌุฃุฉ ุฃู ุงููุธุงู ูุณุชุฎุฏู ุนูููุฉ ุงูุชูููุฏ init ุ ูุฃูุง ุฃุนูู ูู TTY0. <br><br><img src="https://habrastorage.org/webt/fp/rl/xs/fprlxsxgk-t4nlxnahabu76fshc.png"><br><br>  ุญุณููุง ุ ูุฐูู ุฏุนููุง ูุฃุฎุฐ Elbrus ุฅูู ูุฌุชูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Old Believer</a> [TBD].  ูุฐุง ุฌูุฏ ูู ุญูุซ ุงููุจุฏุฃ: ูุง ุชุญุชุงุฌ ุฅูู ุทูุจ ุงููุตุฏุฑ ููุนุฑูุฉ ููููุฉ ุนูู ุนูููุฉ ุงูุชูุฒูู ุ ูุฃู ูู ุดูุก ูู ูุตูุต ุจุฑูุฌูุฉ. <br><br>  ุงูุจุงูู ุบูุฑ ููู ุชูุฑูุจูุง: ูุถุน ูู ุดูุก ููุชูู ูุนู.  ุนูู ุทูู ุงูุทุฑูู ุ ุงูุชุดููุง ุฃู ุงูููุงุฉ ุชุณุชุฎุฏู 3.14.79-13.84.  ูู ุ ุฏูุจูุงู 7 ูุงู 3.2 [TBD]. <br><br>  ุจุนุฏ ุฐูู ุ ุญุฏุฏ ุชูุณูู ุงููุฑุต ุงูุชุฑุงุถููุง ู ... ูุดุงูุฏ ุชุญุฐูุฑูุง: <br><br><img src="https://habrastorage.org/webt/ux/ps/fk/uxpsfksjojli1aqyoiixicsbp20.png"><br><br>  ูู ุ ุงูุชูุณูู ุงูุชููุงุฆู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุณูุฆุฉ ุชุนุงููุช ูุน ูุฑุต 32 ุฃุฒุนุฌ.  ูู ุฃูู ุจุชุบููุฑ ุงููุฑุต ุ ููุฏ ูุฑุฑุช ุจุงูุณุนู ุฅูู ุชุฎุทูุท ุงููุฑุต ุงููุฏูู ุจุฃุณููุจ "ุงููู ูู ูุงุญุฏ".  ุงุถุทุฑุฑุช ุฅูู ุชุซุจูุช ext3 ุ ูุฃู / boot ูุง ูููู ุฃู ูููู ูู ext4. <br>  ููุถ ุงููุธุงู ุฏูู ุญูุงุฏุซ. <br><br>  <b>ุงููุฑุญูุฉ ุงูุซุงููุฉ</b> ูู ุงูุจุญุซ ุนู ุจุฏุงุฆู. <br>  ุจุนุฏ ุฃู ุชู ุงูุจุญุซ ุนู ูุญุชููุงุช ุงููุฑุต ุงูุซุงูู ุ ูููุช ุฃูู ูุณุชูุฏุน ุฅุถุงูู.  ุงูุญุฒู.  ูุจุงููุธุฑ ุฅูู /etc/apt/sources.list ุ ุฃุฏุฑูุช ุฃููู ุจุญุงุฌุฉ ูุชุซุจูุชู ูู / mnt / cdrom.  ููููู ูู ุฃุฌุฏ / etc / os-release.  ูููู ููุงู / etc / mcst-version ูุน ูุญุชููุงุช 3.0-rc36.  3.0 - ูุฑุจูุง ูุฐุง ูู ุงูุฅุตุฏุงุฑ - ูุจุฏู ุฃู ุชุชูุงูู ุ ูููู RC36ุ  ุจุดูู ุนุงู ุ ุนูู ุงูุฃุฑุฌุญ ูู ุชุชููู ุจุฑุงูุฌ ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ ูู ุงูุชุนุฑู ุนูู ูุฐุง ุงูุชูุฒูุน ุจุทุฑููุฉ ููุงุณูููุฉ. <br><br>  ูู ูุณู ุงูุฌุฐุฑ ุ ูููุช ุงูุชุจุงูู / mcst ุฅูู ุนููู ุ ูููุงู ูุฌุฏุช ููุจูุง ุบุงุฑููุง / mcst / backup.  ุฃู ุฃู ููุงู ุฃุฏุงุฉ ูุณุฎ ุงุญุชูุงุทู ุ ููู ูุฏูุฌุฉ ูู ุงููุธุงู!  ุนุธูู ุ ุงุนุชูุฏุช ุ ุฏุนููุง ูุฑู ููู ูุนูู! <br><br>  ุงุชุถุญ ุฃู ููุงู ูุต bash / mcst / bin / backup ุจุญุฌู 4 ููููุจุงูุช ุ ูุงูุฐู ูููุฑ ูุณุฎ ุงููููุงุช.  ุจุดูู ุงูุชุฑุงุถู ุ ุฅูู ุงูุฏููู / mcst / backup.  ูู ุงููุตุฏุฑ ุ ููุช ุฃุชููุน ุฑุคูุฉ ุงูุฃูุฑ rsync ุ ูููู ููุณ ูู ุงูุชูููู ุงูุงูุชุฑุงุถู.  ุงููุตู ุจุจุณุงุทุฉ ูุณุฎ ุงููููุงุช.  ูุจุฏู ุงูุฃูุฑ ุดูุฆูุง ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">cp -rpdx &lt;file backup&gt; &lt;file&gt;</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูููู ุจุฃูููู / mcst / bin / backup ููุฌูุฏ ููุง</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุฃุญุฐุฑู ููุฑูุง ูู ุฃู ุชููู ูุฐุง ุงููุต ุชูุงููุง ูุญุฏู ูุง ูููู.  ูููู ุจุณุญุจ ุงููุธุงุฆู ูู / mcst / bin / source ุ ูุงูุฐู ูุดุจู ููุชุจุฉ ุงููุธุงุฆู.  ูู ุฃุฐูุฑู (44 ูููู ุจุงูุช). <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash unalias -a set +vx source $(dirname $0)/source [[ $? != 0 ]] &amp;&amp; exit 1 OPTIONS="hvcdrRil:L:" usage() { echo "Usage: $PROG_NAME [-$OPTIONS] [backup]" echo " h - this help" echo " v vv vvv - verbose, very verbose, extremly verbose" echo " c - create backup" echo " d - diffs backup and system" echo " r - recovery system" echo " R - remove backup" echo " i - prompt before backup removing" echo " l list - additional backup files list" echo " L list - global backup files list" echo " backup - backup directory, default /mcst/backup/backup" } init_prog() { typeset flg=0 while getopts $OPTIONS opt do case $opt in h ) usage; exit 0;; v ) (( verbose = verbose + 1 )); set_verbose;; c ) flg=1; c_flg=1;; d ) flg=1; d_flg=1;; r ) flg=1; r_flg=1;; R ) flg=1; R_flg=1;; i ) i_flg=1;; l ) l_flg=1; list_arg="$list_arg $OPTARG";; L ) L_flg=1; LIST_arg="$LIST_arg $OPTARG";; * ) usage "Invalid option"; exit 1;; esac done set_verbose check_su init_variables shift $((OPTIND-1)) if (( $# &gt; 1 )) then echo_fatal "invalid arguments number, exp 0|1, act $#" exit 1 fi [[ $# = 1 ]] &amp;&amp; BACKUP=$1 echo "Backup directory is $BACKUP" if [[ $L_flg = 1 ]] then backup_list="$LIST_arg" elif [[ $c_flg != 1 &amp;&amp; $R_flg != 1 ]] then get_output_cmd "cat $BACKUP/$BACKUP_LIST_NAME" backup_list="$output_cmd" else get_output_cmd "get_backup_list" backup_list="$output_cmd" fi if [[ $l_flg = 1 ]] then backup_list="$backup_list $list_arg" fi if [[ $flg = 0 ]] then if [[ -d $BACKUP ]] then ls -laR $BACKUP else echo_info "Cannot access $BACKUP" fi echo "backup_list=$backup_list" exit 0 fi ### echo "Backup list: $backup_list" } create_file() { typeset f=$1 fr=$2 typeset fb [[ -z $fr ]] &amp;&amp; fr=$f fb=${f#/} fb=$BACKUP/$fb xcmd="rm -rf $fb" set_cmd "$xcmd" run_cmd xcmd="mkdir -p $fb" set_cmd "$xcmd" run_cmd if [[ -a $fr ]] then xcmd="cp -rpdx $fr $fb/file" set_cmd "$xcmd" run_cmd xcmd="touch $fb/create" set_cmd "$xcmd" run_cmd else xcmd="touch $fb/delete" set_cmd "$xcmd" run_cmd fi } diff_file() { typeset f=$1 typeset fb fb=${f#/} fb=$BACKUP/$fb if [[ -f $fb/delete ]] then echo_info "$f absent" elif [[ -f $fb/create ]] then # echo "state: create $f" if [[ ! -a $f ]] then echo_info "cannot access $f" else xcmd="diff -r $f $fb/file" echo "$xcmd" set_cmd "$xcmd" "" "0 1 2" run_cmd fi else echo_fatal "wrong $f backup" exit 1 fi } recovery_file() { typeset f=$1 typeset fb fb=${f#/} fb=$BACKUP/$fb if [[ ! -a $fb ]] then echo_fatal "cannot access $fb" exit 1 fi xcmd="rm -rf $f" set_cmd "$xcmd" run_cmd if [[ -f $fb/delete ]] then : elif [[ -f $fb/create ]] then xcmd="cp -rpdx $fb/file $f" set_cmd "$xcmd" run_cmd else echo_fatal "wrong $fb backup" exit 1 fi } remove_backup() { echo "Remove backup" if [[ ! -d $BACKUP ]] then echo_info "Cannot access $BACKUP" return fi if [[ ! -f $BACKUP/$BACKUP_LIST_NAME ]] then echo_fatal "$BACKUP_LIST_NAME absent, remove backup manually" exit 0 fi answer= if [[ $i_flg = 1 ]] then echo -n "Remove $BACKUP directory (yes/...)?" read answer else answer=yes fi if [[ $answer = yes ]] then xcmd="rm -rf $BACKUP" set_cmd "$xcmd" run_cmd fi } recovery_backup() { echo "Recovery system from $BACKUP" for f in $backup_list do get_output_cmd "get_mount_point $f" mnt=$output_cmd get_output_cmd "is_ro_mounted $mnt" mnt=$output_cmd if [[ ! -z $mnt ]] then remount_rw_fs $mnt fi recovery_file $f if [[ ! -z $mnt ]] then remount_ro_fs $mnt fi done echo "The system is ready, reboot the system manually" } create_backup() { echo "Create backup" xcmd="mkdir -pm0777 $BACKUP" set_cmd "$xcmd" run_cmd for v in $backup_list do f=${v%%:*} backup_list2="$backup_list2 $f" fr=${v#*:} create_file $f $fr done echo "$backup_list2" &gt;$BACKUP/$BACKUP_LIST_NAME } diff_backup() { echo "Diffs system and backup" if [[ ! -d $BACKUP ]] then echo_fatal "cannot access $BACKUP" exit 1 fi for f in $backup_list do diff_file $f done } main() { typeset f mnt mnt_list answer if [[ $R_flg = 1 ]] then remove_backup fi if [[ $r_flg = 1 ]] then recovery_backup fi if [[ $c_flg = 1 ]] then create_backup fi if [[ $d_flg = 1 ]] then diff_backup fi } init_prog "$@" main exit 0</span></span></code> </pre><br></div></div><br>  ุฑุบู ุฃููู ุฑุจูุง ูู ุฃููู ูุงุฐุงุ  ุฑุจูุง ูุดุฑุญ ุดุฎุต ูุง ูู ุงูุชุนูููุงุช: ููู ูููุฑ ูุฐุง ุงูุจุฑูุงูุฌ ุงููุตู ูุณุฎูุง ุงุญุชูุงุทููุง ุขูููุง ูููุซูููุง ููุจูุงูุงุชุ  [ูุญุฏุฏ ูุงุญูุง] <br><br>  ุฑุณููู ุ ุจุงูููุงุณุจุฉ ุ ูู ุงูุฅุถุงูุฉ.  ูุณุชูุฏุน.  ุงูุฅุตุฏุงุฑ 3.1.3.  ุฃุนุชูุฏ ุฃู ุงุณุชุฎุฏุงู rsync ูุง ูุฒุงู ุงูุจุฏูู ุงูุฃูุถู ูู / mcst / bin / backup. <br><br>  ุจุนุฏ ุฐูู ุ ูุฑุฑุช ุฃู ุฃุถุน <b>ูููู Veeam</b> ุงูุฌุฏูุฏ <b>ููุธุงู Linux</b> .  ุณูู ูุณุฃู ุฃุญุฏูู: "ูุง ุนูุงูุฉ Veeam ุจุงุณุชุจุฏุงู ุงูุงุณุชูุฑุงุฏุ"  ูุนู ุ ุฅูู ููุณ ููุฌูุฏูุง ูู ุงูุณุฌู ุ ูููู ูุนุชูุฏ ูู ูุจู FSTEC ุ ููุง ูุนูู ุฃูู ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุจุฏุงุฆู ุ ูููู ุงุณุชุฎุฏุงูู.  ุจุนุฏ ุฃู ุฃูุถูุช ุญูุงูู 15 ุฏูููุฉ ุนูู ุจุฏุงุฆู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุณุฌู</a> ุ ุชูููุช ูู ุงูุนุซูุฑ ุนูู 3 ุฑูุงุจุท ุนูู ูููุฉ "ุงุญุชูุงุทูุฉ" (ููุณุช ูุงุญุฏุฉ ูุฑุชุจุทุฉ ุจุณุคุงูู ุนู ูููุฉ "ุงูุงุญุชูุงุทู").  ูู ุฃูู ุจุฅุฌุฑุงุก ุชุญููู ุนููู ููุฐู ุงูุจุฑุงูุฌ - ูุฐูู ูู ุฃุญุงูู ุฃู ุฃุญูู ุนูู ูุฏู ููุงุกูุชูุง ูุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ููุฃุฌูุฒุฉ ูู ูุธุงู Linux.  ูู ูุญุชุงุฌ ุฅูููุง - ุณูู ูุณุชูุชุฌ ุฎุงุชูุฉ ููุดุงุฑููุง ูู ุงูุชุนูููุงุช. <br><br>  <b>ุงููุฑุญูุฉ ุงูุซุงูุซุฉ</b> - ุชุซุจูุช ุนุงูู Veeam ููุธุงู ุงูุชุดุบูู Linux. <br>  ูุฐูู ุ ูุชููู Veeam Agent for Linux ูู ุญุฒูุชูู: ูุญุฏุฉ veeamsnap kernel (ุจุงูููุงุณุจุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตุฏุฑ ููุฌูุฏ ููุง</a> ) ูุฑูุฒ ุงููุณุชุฎุฏู ุงูุฎุงุต ุจูุณุงุญุฉ ุงููุณุชุฎุฏู ูู ุดูู ุญุฒูุฉ veeam. <br><br>  ุญุฏุซุช ูุดููุฉ ุตุบูุฑุฉ ูุงุญุฏุฉ ูู ุชุซุจูุช ูุญุฏุฉ kernel - ุนุฏู ูุฌูุฏ ุญุฒูุฉ dkms.  ูุฐู ุฎุฏูุฉ ุชุณูุญ ูู ุจุฅูุดุงุก ูุญุฏุงุช kernel ูู ุงููุตุฏุฑ.  ูููุงุนุฏุฉ ุนุงูุฉ ุ ููู ุนูู ุฌููุน ุชูุฒูุนุงุช deb.  ุงุถุทุฑุฑุช ูุชูุฒููู ูู ูุณุชูุฏุน Deb ููุฌูุฉ ุงูุฎุงุฑุฌูุฉ.  ูุณุฑ ูุงุญุฏ - ุงูุญุฒูุฉ ูุง ุชุนุชูุฏ ุนูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ุ ูุฐูู ูููุช ุจุงุนุชุจุงุฑูุง ููุงุทู.  ููุงุฐุง ูู ูุชู ุชุถูููู ูู ูุงุฆูุฉ ุงูุญุฒู ุงููุชุงุญุฉ ุ ุฃู ุจุงูุฃุญุฑู ุ ูู ูุทูุฑ [TBD]ุ  ุฑุจูุง ูู ุงูููุชุฑุถ ุฃูู ูุง ููุจุบู ูุฃุญุฏ ุฃู ูุฌูุน ููุฏูุฑ ุฌููุน ุฃููุงุน ุงููุญุฏุงุช ุงูููุทูุฉ ููููุงุฉ ุบูุฑ MCST.  ููุงู ุจุงููุนู ูุดููุฉ ููุง - ูุธุฑูุง ููุฌูุฏ ุฑุคูุณ ููููุณ.  ููุฐุง ูู ุ ูููู ุชุฌููุน ุงููุญุฏุฉ ุงูููุทูุฉ ุ ุฅุฐุง ุฑุบุจุช ูู ุฐูู ุ ูุชุดุบูููุง ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุฌูุงุฒ ุจุจุฑูุงูุฌ ูุตู.  ุฃุนุชูุฏ ุฃูู ูุฌุจ ุฃูุง ุชูุชุธุฑ ุงูุชุญุฏูุซุงุช ุงููุชูุฑุฑุฉ ูู ICST [TBD]. <br><br>  "ุญุณูุงู ุ ุงุณุชููุธุช ุงููุญุฏุฉ - ุฃุตุนุจ ุดูุก ูู ุชุฃุฎุฑูุง" ุ ููุฑุช ... ุญุฒูุฉ veeam ููุณุชูุฏุน deb ุชุฎุต ุงููุธุงู ุงูุฃุณุงุณู amd64 ุ ููุธุงู ุงูุชุดุบูู Elbrus ูุฏูู ูุธุงู x86_64 [TBD].  ุงูุงุฎุชูุงู ุ ุจุงูุทุจุน ุ ูู ููุท ูู ุงูุงุณู ุ ูููู ูุฐุง ุงูุงุฎุชูุงู ูุฌุนู ุฌููุน ุงูุญุฒู ุชูุฑูุจูุง ูู ูุณุชูุฏุนุงุช Deb ุงูุชุงุจุนุฉ ูุฌูุฉ ุฎุงุฑุฌูุฉ ุบูุฑ ูุชูุงููุฉ ูุน ูุธุงู ุงูุชุดุบูู Elbrus.  ูุชู ุงูุชุฎูุต ูู ุณูุก ุงูููู ุงููุฒุนุฌ ูุฐุง ุจุทุฑููุฉ ุฃูููุฉ: ูููู ุชุญููู ุงูุญุฒูุฉ ูุชุตุญูุญ ุงููุนูููุงุช ุงููุชุนููุฉ ุจุงูููุฏุณุฉ ูุฌูุนูุง.  ููู ููุนู ุฐูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุบูุบููุฏ</a> ุนูู ุงูููุฑ. <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mkdir tmp dpkg-deb -R original.deb tmp <span class="hljs-comment"><span class="hljs-comment"># edit DEBIAN/postinst dpkg-deb -b tmp fixed.deb</span></span></code> </pre><br>  ูุดููุฉ ุฃุฎุฑู ูู ุงูุชุจุนูุงุช.  ูุจุฏู ุฃู ุงููููุงุช ุงูุถุฑูุฑูุฉ ููุฌูุฏุฉ ุ ููู ูุง ุชูุฌุฏ ุญุฒู.  ูุงู ููุงู ุงูุทุจุงุน ุจุฃู ุฃุณูุงุก ุงูุทุฑูุฏ ุชุฎุชูู ุนู "ูุธุงุฆุฑูุง ุงูุฃุฌูุจูุฉ".  ูููู ุชุฌููุน ุงูููุชุจุงุช ุจุดูู ูุฎุชูู.  ูู ุฃุชุนูู ูู ุงูุชูุงุตูู ุ ูุฃุฒูุช ูู ุงูุชุจุนูุงุช ุชูุฑูุจูุง ุ ูุฐูุจ ุงูุชุซุจูุช. <br><br>  ุฌุงุก ุงูููุจู ูุดุงูู ูุน ุฑูุฒ ุจุฏุก ุงูุฎุฏูุฉ.  ูู ููู ููุงู ูุต /lib/init/vars.sh.  ูุณุจุจ ูุง ุ "Elbrus" ุชุนูู ุจุฏูููุง ุ ูุฐูู ุณูููู ุจุฅุฒุงูุชูุง ุฃูุถูุง.  ุซู ุงุถุทุฑุฑูุง ุฅูู ุงุณุชุจุฏุงู ูุธููุฉ ุฅุฎุฑุงุฌ ุงูุฑุณุงูุฉ: ูู ุชูู ููุงู ูุธุงุฆู log_daemon_msg ู log_end_msg.  ุจุงูุจุญุซ ูู ูุธุงุฆู ุงูููู / lib / lsb / init ุ ูุฌุฏุช ุงูุฏุงูุฉ log_success_msg - ุณุชุนูู ูู ุฃุฌููุง ูุฅุฌุฑุงุก ุงูุชุฌุงุฑุจ.  ุจุงูููุงุณุจุฉ ุ ูู ุงูููู / lib / lsb / init- ูุนูู ุงูุณุทุฑ "# Source SuSE`s rc function" ูู ุจุฏุงูุฉ ุงูููู [TBD]. <br><br>  ุจุนุฏ ูุฐู ุงููุนุงูุฌุฉ ุงูุชูุฑูุจูุฉ ููุญุฒูุฉ ูุน ููู ุ ุจุฏุฃ ุจูุฌุงุญ ุงููุณุฎ ุงูุงุญุชูุงุทู ููุฌูุงุฒ ุจุฃูููู ุนูู ูุฑุฉ NFS.  ูุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ุฌุจู ูุงุฌุญุฉ ุฃูุถุง.  ูุฐูู ุ ุฃุนุชูุฏ ุฃูู ููุณุฎ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฌูุงุฒ ูุน Elbrus PDK ุ ุชู ุชูุฒููู ูู ุฃุฌู "ุชูุงููุง ูุซู ุฐูู" ุฏูู ุฃู ุงูุชุฒุงู ุ ูุฅู Veeam Agent for Linux ููุงุณุจ ุจุงูุชุฃููุฏ.  ุญุชู ุจุนุฏ ูู ุงูุชุนุฏููุงุช ูุน ููู. <br><br>  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุฅู ูุฌููุนุฉ ุงูุชูุฒูุน ููุธุงู ุงูุชุดุบูู Elbrus ุบูุฑ ูุฏุนููุฉ ุฑุณูููุง ุ ุญูุซ ุฅููุง ุบูุฑ ูุฏุฑุฌุฉ ูู ูุงุฆูุฉ ุงูุฃุฌูุฒุฉ ุงููุฏุนููุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ูุชู ุงุฎุชุจุงุฑ Veeam Agent for Linux ุนููู ูู ูุจู ูุณู ุถูุงู ุงูุฌูุฏุฉ ุ ูุฐูู.  ูุง ููุฌุฏ ุฏุนู (ุนูู ุงูุฃูู ูู ููุช ูุดุฑ ุงูููุงู). <br><br>  ุขูู ุฃู ุชููู ูุฐู ุงูููุงูุฉ ูููุฏุฉ ูุฃููุฆู ุงูุฐูู ูุญุงูููู ุชูููุฐ ุงูุฃูุฑ ุฑูู 334 ุงููุคุฑุฎ 29 ููููู 2017.  ูู ูู ... [TBD]. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar447960/">https://habr.com/ru/post/ar447960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar447950/index.html">ูุง ูููู ูุณุฎ ูุฐู ุงููุนูููุงุช ุงุญุชูุงุทููุง - ุฃู ููู ุฎุณุฑ ุงููุตุฑูููู 70 ูููุงุฑ ุฏููุงุฑ ุชูุฑูุจูุง</a></li>
<li><a href="../ar447952/index.html">ููุงุฐุง ูุง ุชูุถู ููุชู ูู ุฅูุดุงุก ุงูููุงูุน ุงูููุงุถูุนูุฉ ุงููุชุฎุตุตุฉ</a></li>
<li><a href="../ar447954/index.html">ููููุฉ ูุดุฑ ุชุฑุฌูุฉ ูุชุงุจ ููู ูู ุฑูุณูุง</a></li>
<li><a href="../ar447956/index.html">ุงูุงุชุตุงูุงุช ุงููููุฉ ูู ุฌุงูุนุฉ ITMO - ูุดุฑูุน ูุฃูุธูุฉ ููู ุงูุจูุงูุงุช ุบูุฑ ูุงุจูุฉ ูููุณุฑ</a></li>
<li><a href="../ar447958/index.html">CJM ูุชุญุฑูู ูุงุฐุจุฉ ูู ููุงูุญุฉ ุงูููุฑูุณุงุช DrWeb</a></li>
<li><a href="../ar447962/index.html">ูููู ูููุฑุงุตูุฉ ุงูุชุญูู ุนู ุจุนุฏ ูู Tesla Model S ุจุงุณุชุฎุฏุงู ูุธุงู ุงูุทูุงุฑ ุงูุขูู</a></li>
<li><a href="../ar447964/index.html">ุงุฎุชุจุงุฑ ุงูุญูุงุณูุจ ุงูุตุบูุฑุฉ ูุฅูุชุฑูุช ุงูุฃุดูุงุก</a></li>
<li><a href="../ar447966/index.html">ููููุฉ ุชูุตูู GitLab ู Pantheon ูุชุญุณูู ุณูุฑ ุนูู ุฏุฑูุจุงู ููุฑุฏุจุฑูุณ</a></li>
<li><a href="../ar447968/index.html">ุงููุชุงุจุฉ ูู Rust + CUDA C</a></li>
<li><a href="../ar447970/index.html">ุชุณุฌูู ุฌุงูุง ุณูุฑูุจุช ุงูุณูุจุฑ ุจุณูุทุฉ - ุงุซููู ูู ุงูุฏูููุฑ ุ ูุชู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>