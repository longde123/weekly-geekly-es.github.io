<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔫 👨🏽‍🍳 🐕 Halaman belakang - jaring layanan otomatis di atas infrastruktur multi-cloud dan hybrid 🎳 🧖 💋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uji halaman belakang pada kelompok Anda sendiri: curl https://getbackyards.sh | sh && backyards install -a --run-demo curl https://getbackyards.sh | s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Halaman belakang - jaring layanan otomatis di atas infrastruktur multi-cloud dan hybrid</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/479742/"><img src="https://habrastorage.org/getpro/habr/post_images/83b/36e/e0b/83b36ee0bc8ba785116ec27befe716bc.png"><br><br><blockquote> Uji halaman belakang pada kelompok Anda sendiri: <code>curl https://getbackyards.sh | sh &amp;&amp; backyards install -a --run-demo</code>  <code>curl https://getbackyards.sh | sh &amp;&amp; backyards install -a --run-demo</code> .  Jika tertarik, lihat <a href="https://banzaicloud.com/blog/backyards-release-1-0/">detail rilis terbaru</a> . </blockquote><br>  Pada bulan Juni, kami <a href="https://banzaicloud.com/blog/istio-the-easy-way/">memperkenalkan Backyards</a> , <b>“service mesh” otomatis</b> di atas <a href="https://github.com/cloud/istio-operator">operator Istio</a> kami.  Ini sangat menyederhanakan manajemen mesh layanan dalam infrastruktur multi-cloud dan hybrid.  Backyards diintegrasikan ke <b>dalam platform manajemen kontainer <a href="https://github.com/banzaicloud/pipeline">Pipeline</a></b> di Banzai Cloud, tetapi juga tersedia sebagai produk <b>mandiri</b> .  Tentu saja, integrasi dengan Pipeline menawarkan banyak manfaat spesifik (seperti <a href="https://banzaicloud.com/blog/istio-multicluster-the-easy-way/">mengelola aplikasi pada banyak cloud</a> ), tetapi Backyards berfungsi pada setiap instalasi Kubernetes. <br><a name="habracut"></a><br>  Dalam <a href="https://banzaicloud.com/blog/istio-the-easy-way/">pengumuman Backyards,</a> kami membahas beberapa fungsi utama: membuat jala layanan dalam beberapa klik, memantau aplikasi melalui representasi grafis yang unik dan mengelola fungsi Istio dari UI yang nyaman.  Kemudian kami menyebutkan bahwa platform ini mampu mengelola jaringan layanan multi-klaster Istio dalam penyebaran multi-cloud dan hybrid. <br><br>  Dalam artikel ini, kita akan melihat lebih dekat pada fitur ini - layanan <b>multi-cluster otomatis</b> . <br><br><blockquote>  Baik itu satu atau lebih cluster, lingkungan multi-cloud atau hybrid, Backyards menggunakan serangkaian fitur yang sama dan antarmuka yang nyaman.  Sangat mudah untuk memulai dengan satu cluster, dan kemudian dalam beberapa klik memperluas mesh layanan ke cluster lain (multi-cloud atau hybrid-cloud). </blockquote><br><h1>  Motivasi </h1><br>  Sistem hybrid dan multi-cloud dengan cepat memasuki kehidupan perusahaan sehari-hari.  Minat dan pengambilan keputusan telah tumbuh banyak sejak Google memperkenalkan <a href="https://cloud.google.com/blog/topics/hybrid-cloud/new-platform-for-managing-applications-in-todays-multi-cloud-world">Anthos</a> pada bulan April tahun ini. <br><br>  Kami juga memperhatikan peningkatan minat di sebagian besar perusahaan yang menjadi topik diskusi kami.  Seseorang lebih suka memproses data di pusat data mereka sendiri, mengakses layanan cloud hanya pada waktu beban puncak.  Yang lain terus mencari harga terendah dan penawaran terbaik dari penyedia cloud, meningkatkan beban kerja hanya ketika harga memungkinkan.  Mereka semua memerlukan cara yang mudah untuk berpindah di antara cloud yang berbeda atas permintaan klien tertentu, karena peraturan regulasi atau persyaratan bisnis, serta untuk membangun <a href="https://banzaicloud.com/blog/istio-multi-mesh/">beberapa topologi berbeda</a> di atas infrastruktur multi-cloud dan hybrid ini. <br><br>  Ketika permintaan untuk solusi hybrid dan multi-cluster tumbuh, kami mulai berpikir bagaimana memenuhi kebutuhan pelanggan kami. <br><br><blockquote>  Pengguna pipa bekerja dengan satu atau lebih cloud.  Itu tergantung pada fungsi spesifik apa yang mereka butuhkan.  Tiga fungsi utama dapat dibedakan: <br><br><ul><li>  <a href="https://banzaicloud.com/blog/multi-cloud-apps/">Beberapa Manajemen Aplikasi Cloud</a> <br></li><li>  <a href="https://banzaicloud.com/blog/istio-multicluster-the-easy-way/">Mesh layanan otomatis berbasis-Istio di atas infrastruktur multi-cloud dan hybrid</a> <br></li><li>  <a href="https://banzaicloud.com/blog/multi-cloud-fedv2/">Penyebaran sumber daya dan aplikasi melalui Federasi Kubernetes v2</a> </li></ul></blockquote><br><h1>  Latar belakang </h1><br>  Sejak awal, platform Pipeline mendukung koneksi penyedia cloud yang berbeda di level yang berbeda (cluster, penyebaran dan layanan).  Ini selalu menjadi salah satu prioritas kami. <br><br>  Pada saat yang sama, kami secara aktif mengerjakan Istio.  <a href="https://banzaicloud.com/blog/istio-operator/">Operator</a> pertama kali dirilis untuk menyederhanakan penyebaran dan pengelolaan Istio, dan kemudian <a href="https://banzaicloud.com/tags/federation/">mengeksplorasi</a> kemampuan multi-klusternya.  Sebagai hasilnya, <b>kami menciptakan Backyards, produk otomatis untuk infrastruktur multi-cloud dan hybrid</b> , diintegrasikan ke dalam Pipeline, dengan operator sumber terbuka Istio. <br><br><h1>  Halaman belakang di Pipeline </h1><br>  <b>Di Pipeline, Anda dapat menginstal mesh layanan hybrid atau multi-cluster dan mengelolanya di lingkungan lokal atau dalam kombinasi lima penyedia cloud yang kami dukung.</b> <br><br><blockquote>  Fungsi <b>pengelompokan cluster</b> (Cluster group) memungkinkan Anda untuk membentuk grup cluster, asalkan Anda memilih satu cluster sebagai yang utama.  Anda kemudian dapat mengaitkannya dengan berbagai fungsi, seperti <code>Multi-cluster Deployment</code> atau <code>Service Mesh</code> . <br><br>  <code>Multi-cluster Deployment</code> memungkinkan Anda untuk menggunakan aplikasi secara bersamaan di beberapa kluster.  Di sini kita <b>tidak</b> fokus pada fitur ini, tetapi ini <b>akan</b> digunakan untuk dengan mudah menyebarkan aplikasi pada banyak kluster.  Baca lebih lanjut di <a href="https://banzaicloud.com/blog/multi-cloud-apps/">artikel ini</a> . <br><br>  Artikel ini akan melihat lebih dekat pada fitur <code>Service Mesh</code> .  Itu menginstal Istio pada cluster utama dan secara otomatis bergabung dengan semua cluster dalam grup menggunakan <a href="https://github.com/banzaicloud/istio-operator">operator Istio</a> .  Setelah itu, Anda mendapatkan pandangan lintas-layanan (interluster) layanan Anda, dan mesh multicluster dari sudut pandang manajemen praktis tidak berbeda dari satu-cluster konvensional. </blockquote><br><h1>  Fungsi </h1><br><h4>  Menciptakan mesh layanan </h4><br>  Mari kita mulai dengan membuat sebuah cluster pada AWS menggunakan distribusi Kubernetes yang ringan dan bersertifikat CNCF - <a href="https://github.com/banzaicloud/pke">PKE</a> .  Kemudian membangun sebuah layanan mesh Istio di kluster ini. <br><br><blockquote>  Saat membuat mesh layanan, <i>grup cluster</i> juga dibentuk di latar belakang. </blockquote><br>  Setelah beberapa detik, "kisi" diinstal dan siap digunakan. <br><br><img src="https://habrastorage.org/webt/y3/in/et/y3inetitm4ngvd4wbcwkzrtpbzw.gif"><br><br><h4>  Penerapan Aplikasi </h4><br>  Sekarang kita membutuhkan aplikasi demo dengan layanan microser untuk menunjukkan kemampuan produk kami.  Untuk tujuan demonstrasi, kami membuat proyek <a href="https://github.com/banzaicloud/allspark">AllSpark yang</a> sangat sederhana, dan juga membuat diagram Helm dengan konfigurasi awal penyebaran AllSpark, yang mensimulasikan sistem pemesanan tiket bioskop.  Semuanya dilakukan dalam <a href="https://banzaicloud.com/blog/chart-repository-service/">layanan cloud (SaaS) kami untuk diagram Helm</a> . <br><br>  Menggunakan fungsi <code>Multi-cluster Deployment</code> disebutkan di atas, kami akan menyebarkan aplikasi ini dengan membuka tab <code>Multi Cluster Deployments</code> di UI.  Tambahkan repositori <code>https://charts.banzaicloud.io/gh/spotguidetest</code> ke Pipeline, lalu diagram <code>meshdemo</code> dan klik <code>DEPLOY</code> (untuk menginstal semua komponen, pastikan semua nilai disetel ke <code>true</code> ). <br><br><img src="https://habrastorage.org/webt/xm/el/jy/xmeljy6q3iqbshd48bybu8lqmig.gif"><br><br><blockquote>  Dimungkinkan untuk memilih penyebaran sederhana ke satu cluster, tetapi kami mengindikasikan opsi multicluster, yang akan berguna nanti ketika bekerja dengan beberapa cluster. </blockquote><br><h4>  Gambaran umum layanan mesh </h4><br>  Jika Anda kembali ke daftar mesh layanan dan mengklik tombol <code>observe</code> , panel kontrol akan muncul.  Karena tidak ada lalu lintas dalam aplikasi pengujian kami, dan tidak ada metrik dalam sistem, di sini kami belum akan melihat visualisasi apa pun.  Antarmuka memiliki fungsi <code>test flight</code> yang mengarahkan lalu lintas ke titik akhir yang dipilih.  Jika Anda mengklik tombol <code>HTTP</code> di sudut kanan atas, Anda dapat mengisi formulir yang berisi informasi tentang titik akhir dan mengirimkan beberapa lalu lintas pengujian ke layanan Anda.  Dalam contoh kami, lalu lintas harus menuju ke layanan halaman depan pada port 8080. <br><br>  Setelah beberapa detik, jadwal layanan Anda akan muncul.  Node di atasnya mewakili layanan atau beban kerja, dan panah mewakili koneksi jaringan antara layanan yang berbeda.  Grafik didasarkan pada metrik Istio yang berasal dari Prometheus. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a39/7e0/099/a397e00992f49c862bb4fc039328d4cb.png"><br><br><h4>  Buat cluster tambahan </h4><br>  Memperluas jala layanan ke cluster tambahan - bahkan dari beberapa penyedia cloud yang berbeda - hanya membutuhkan beberapa klik.  Mari kita buat tiga cluster tambahan di tiga penyedia berbeda, ini lebih menarik.  Kita dapat dengan mudah menggunakan kluster PKE lain di Azure, serta kluster OKE dan GKE. <br><br><img src="https://habrastorage.org/webt/bd/g7/wp/bdg7wpkuagluo5redzodlh3q0ka.gif"><br><br><h4>  Perpanjangan layanan mesh </h4><br>  Mari kita kembali ke daftar service mesh, tekan tombol <code>RESIZE MESH</code> , dan kemudian <code>ADD NEW CLUSTER</code> .  Pilih cluster yang dibuat sebelumnya dan tekan tombol <code>ADD</code> .  Itu saja. <br><br><img src="https://habrastorage.org/webt/mm/g9/rp/mmg9rp74sdp8hmybk7odulh9yzi.gif"><br><br>  Perluasan mungkin memakan waktu beberapa menit: setiap gugus harus terhubung dan mencapai status <code>HEALTHY</code> . <br><br><h4>  Menyebarkan Aplikasi dalam Banyak Cluster </h4><br>  Sekarang kami memiliki jala layanan pada beberapa kluster, dan fungsi <code>Multi-cluster Deployment</code> di Pipeline sebelumnya diaktifkan, sehingga mudah untuk menggunakan layanan demo kami di kluster ini.  Dalam diagram Helm khusus ini, Anda dapat dengan mudah menghidupkan dan mematikan komponen.  Karena fungsi <code>Multi-cluster Deployment</code> mendukung redefinisi parameter untuk setiap kluster, Anda hanya perlu mengedit penyebaran dan menetapkan komponen mana yang ingin kami jalankan di klaster mana. <br><br>  Untuk penerapan multi-cluster, kami mengubah pengaturan dengan cara ini: <br><br> <code>PKE  AWS <br> <br> services: true <br> istioresources: true <br> frontpage: true <br> catalog: true <br> bookings: true <br> <br> PKE  Azure <br> <br> services: true <br> moviesv1: true <br> moviesv2: true <br> moviesv3: true <br> <br> OKE <br> <br> services: true <br> payments: true <br> notifications: true <br> <br> GKE <br> <br> services: true <br> analytics: true</code> <br> <br><img src="https://habrastorage.org/webt/hi/zd/1a/hizd1ajvovnzl7nn0cg5dstgtrg.gif"><br><br><h4>  Gambaran umum mesh layanan di beberapa kluster </h4><br>  Sekali lagi, pilih <code>test flight</code> di antarmuka untuk mengarahkan lalu lintas tambahan ke titik akhir yang sebelumnya dipilih.  Setelah beberapa detik, sesuatu yang mirip dengan grafik di bawah ini akan muncul.  Sekarang aplikasi kami didistribusikan di <b>empat</b> cluster di <b>empat</b> penyedia berbeda. <br><br>  <i>Luar biasa</i> , bukan ?! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11a/72c/12a/11a72c12a16805ea697effda2d9d17f9.png"><br><br><h4>  Konfigurasi NRA </h4><br>  Sebelum menyelesaikan artikel ini, lihat pengaturan terakhir: <a href="https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/">Horizontal Pod Autoscaler</a> .  Pada halaman <code>Single-cluster Deployment</code> satu <code>Single-cluster Deployment</code> di Pipeline, Anda dapat dengan mudah mengkonfigurasi HPA untuk penerapan apa pun (dalam kasus kami, <code>analytics-v1</code> ). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ef/ac0/7ec/1efac07ecb4dc9f722b6b970c8a2647a.png"><br><br>  Ketika Anda menginstal HPA dan mengirimkan lalu lintas yang cukup ke layanan Anda untuk memulai autoscaling, Anda akan melihat semakin banyak polong yang muncul di antarmuka yang sesuai dengan proyek <code>analytics-v1</code> .  Anda juga akan melihat peningkatan aliran kueri di sepanjang tepi grafik, yang tercermin dalam angka dan ketebalan tepi. <br><br><img src="https://habrastorage.org/webt/lw/0p/7d/lw0p7dzyj5eq9rtbcaqgc_l53km.gif"><br><br><h1>  Ringkasan </h1><br><blockquote>  Berkat Backyards di Pipeline, mudah untuk membuat mesh layanan hybrid atau multi-cluster.  Anda kemudian dapat menggunakan, melacak, mengelola, dan memecahkan masalah aplikasi di banyak kluster menggunakan satu antarmuka pengguna yang nyaman. <br><br>  <a href="https://beta.banzaicloud.io/">Cobalah secara gratis</a> ! </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id479742/">https://habr.com/ru/post/id479742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id479726/index.html">Vladimir alias wowik: "OpenStreetMap membutuhkan ide yang tidak dapat direalisasikan dalam sistem lain"</a></li>
<li><a href="../id479728/index.html">Bagaimana cara mengatur startup yang sukses?</a></li>
<li><a href="../id479732/index.html">Berhenti mengeluarkan sesuatu yang lain sebagai kebocoran memori</a></li>
<li><a href="../id479736/index.html">Kamera atau laser</a></li>
<li><a href="../id479738/index.html">Seperti Youtube dan Instagram: internasionalisasi dan pelokalan aplikasi Python</a></li>
<li><a href="../id479744/index.html">Manajemen Memori Python: Sedikit Tentang Fragmentasi Memori</a></li>
<li><a href="../id479746/index.html">Perangkat lunak perusahaan membuat karyawan Anda lebih dingin. Apakah kamu membutuhkannya?</a></li>
<li><a href="../id479748/index.html">GoLand 2019.3 dengan peningkatan kinerja, peningkatan dukungan untuk Modul Go dan banyak lagi</a></li>
<li><a href="../id479750/index.html">2. Fortinet Memulai v 6.0. Arsitektur Solusi</a></li>
<li><a href="../id479756/index.html">Buka data. Roscosmos. Mengejar Amerika</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>