<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👇🏿 🀄️ 👨🏽‍🍳 Comment prendre le contrôle de votre infrastructure réseau. Chapitre un Rétention 🔋 🧑🏼 💆🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est le premier d'une série d'articles intitulée «Comment prendre l'infrastructure réseau sous votre contrôle». Le contenu de tous les arti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment prendre le contrôle de votre infrastructure réseau. Chapitre un Rétention</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433614/">  <i>Cet article est le premier d'une série d'articles intitulée «Comment prendre l'infrastructure réseau sous votre contrôle».</i>  <i>Le contenu de tous les articles de la série et les liens peuvent être trouvés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a></i> . <br><br>  J'admets pleinement qu'il existe un nombre suffisant d'entreprises où un simple réseau d'une heure voire d'une journée n'est pas critique.  Malheureusement ou heureusement, je n'ai pas eu l'occasion de travailler dans de tels endroits.  Mais, bien sûr, les réseaux sont différents, les exigences sont différentes, les approches sont différentes, et pourtant, sous une forme ou une autre, la liste ci-dessous sera dans bien des cas «mast-do». <br><br>  Donc, les conditions initiales. <br><br>  Vous êtes dans un nouveau lieu de travail ou vous avez une promotion, ou vous décidez de revoir vos responsabilités.  Le réseau d'entreprise est votre domaine de responsabilité.  Pour vous, c'est en grande partie un défi et un nouveau, ce qui justifie quelque peu le ton de mentorat de cet article :).  Mais j'espère que l'article pourra également être utile à tout ingénieur réseau. <br><br>  Votre premier objectif stratégique est d'apprendre à résister à l'entropie et à maintenir le niveau de service fourni. <br><br>  Bon nombre des tâches décrites ci-dessous peuvent être résolues par divers moyens.  Je ne soulève pas intentionnellement le sujet de la mise en œuvre technique, car  en principe, la manière dont vous avez résolu un problème particulier n'est pas toujours aussi importante, mais la manière dont vous l'utilisez et si vous l'utilisez est importante.  Il est peu utile, par exemple, de votre système de surveillance professionnel, si vous n'y regardez pas et ne répondez pas aux alertes. <br><a name="habracut"></a><br><h2>  Équipement </h2><br>  Vous devez d'abord comprendre où sont les plus grands risques. <br><br>  Encore une fois, cela pourrait être différent.  J'admets que quelque part, par exemple, ce seront des problèmes de sécurité, et quelque part des problèmes liés à la continuité du service, et quelque part, peut-être, autre chose.  Pourquoi pas? <br><br>  Supposons pour être certain qu'il s'agit néanmoins d'une continuité de service (ce fut le cas dans toutes les entreprises où j'ai travaillé). <br><br>  Ensuite, vous devez commencer avec l'équipement.  Voici une liste de sujets à surveiller: <br><br><ul><li>  classification de criticité de l'équipement </li><li>  redondance des équipements critiques </li><li>  support, licences </li></ul><br>  Vous devez envisager les pannes possibles, en particulier avec des équipements en haut de votre classification de criticité.  Habituellement, la probabilité de problèmes doubles est négligée, sinon votre solution et votre support peuvent devenir excessivement coûteux, mais dans le cas d'éléments de réseau vraiment critiques, dont la défaillance peut affecter considérablement l'entreprise, vous devriez y penser. <br><br><blockquote>  <b>Exemple</b> <br><br>  Supposons que nous parlons d'un commutateur racine dans un centre de données. <br><br>  Puisque nous avons convenu que la continuité de service est le critère le plus important, il est raisonnable de prévoir une «redondance» de cet équipement.  Mais ce n'est pas tout.  Vous devez également décider combien de temps, en cas de panne du premier interrupteur, il est acceptable que vous viviez avec un seul interrupteur restant, car il existe un risque de rupture. <br><br>  <b>Important!</b>  <b>Vous n'avez pas à résoudre ce problème vous-même.</b>  <b>Vous devez décrire les risques, les solutions possibles et la valeur pour votre direction ou la direction de votre entreprise.</b>  <b>Ils doivent prendre des décisions.</b> <br><br>  Donc, s'il a été décidé que, compte tenu de la faible probabilité d'une double panne, travailler pendant 4 heures sur un interrupteur est, en principe, acceptable, alors vous pouvez simplement prendre le support approprié (pour lequel l'équipement sera remplacé dans les 4 heures). <br><br>  Mais il y a un risque qu'ils ne soient pas livrés.  Malheureusement, une fois que nous nous sommes retrouvés dans une telle situation.  Au lieu de quatre heures, l'équipement a fonctionné pendant une semaine !!! <br><br>  Par conséquent, ce risque doit également être discuté, et il serait peut-être plus correct pour vous d'acheter un autre commutateur (troisième) et de le conserver dans des pièces de rechange (sauvegarde à froid) ou de l'utiliser à des fins de laboratoire. </blockquote><br>  <b>Important!</b>  <b>Faites un tableau de tous les supports dont vous disposez avec les dates de fin et ajoutez-les au calendrier afin qu'au moins un mois plus tard, vous receviez une lettre que vous devriez commencer à vous soucier de l'extension du support.</b> <br><br>  Vous ne serez pas pardonné si vous oubliez d'étendre le support et le lendemain de sa fin, votre équipement tombera en panne. <br><br><h2>  Travaux d'urgence </h2><br>  Quoi qu'il arrive sur votre réseau, idéalement, vous devez conserver l'accès à votre équipement réseau. <br><br>  <b>Important!</b>  <b>Vous devez avoir un accès console à tous les équipements et cet accès ne doit pas dépendre de l'opérabilité du réseau de transmission de données utilisateur (données).</b> <br><br>  Vous devez également prévoir les scénarios négatifs possibles et documenter les actions nécessaires.  La disponibilité de ce document est critique, il doit donc non seulement être partagé sur une ressource partagée par le service, mais également stocké localement sur des ordinateurs d'ingénieurs. <br><br>  Il doit y avoir <br><br><ul><li>  informations nécessaires pour ouvrir une application à l'appui d'un fournisseur ou d'un intégrateur </li><li>  informations sur l'accès à n'importe quel équipement (console, gestion) </li></ul><br>  Bien entendu, toute autre information utile peut être contenue, par exemple, une description de la procédure de mise à niveau pour divers équipements et des commandes de diagnostic utiles. <br><br><h2>  Partenaires </h2><br>  Vous devez maintenant évaluer les risques associés aux partenaires.  Habituellement, <br><br><ul><li>  Fournisseurs de services Internet et points d'échange de trafic (IX) </li><li>  fournisseurs de canaux de communication </li></ul><br>  Quelles questions devez-vous vous poser?  Comme dans le cas de l'équipement, il est nécessaire d'envisager diverses options pour les situations d'urgence.  Par exemple, pour les fournisseurs de services Internet, cela pourrait être quelque chose comme: <br><br><ul><li>  Que se passera-t-il si le FAI X cesse de vous fournir un service pour une raison quelconque? </li><li>  Avez-vous suffisamment de bande passante pour les autres fournisseurs? </li><li>  quelle sera la cohérence? </li><li>  Dans quelle mesure vos FAI sont-ils indépendants et un accident grave dans l'un d'eux entraînera-t-il des problèmes avec les autres? </li><li>  combien d'entrées optiques dans votre centre de données? </li><li>  Que se passe-t-il si l'une des entrées est complètement détruite? </li></ul><br>  En ce qui concerne les intrants, dans ma pratique dans deux sociétés différentes, dans deux centres de données différents, l'excavatrice a détruit les puits et ce n'est que par miracle que notre optique n'a pas été affectée.  Ce n'est pas un cas si rare. <br><br>  Eh bien, bien sûr, vous devez non seulement poser ces questions, mais, encore une fois, avec le soutien des dirigeants, pour fournir une solution acceptable dans toutes les situations. <br><br><h2>  Sauvegarde </h2><br>  La prochaine priorité peut être une sauvegarde des configurations matérielles.  En tout cas, c'est un point très important.  Je ne vais pas énumérer les cas où vous pouvez perdre la configuration, il est préférable de faire une sauvegarde régulière et de ne pas y penser.  De plus, une sauvegarde régulière peut être très utile pour contrôler les modifications. <br><br>  <b>Important!</b>  <b>Faites une sauvegarde quotidiennement.</b>  <b>Ce n'est pas une si grande quantité de données à économiser.</b>  <b>Le matin, l'ingénieur de service (ou vous) devrait recevoir un rapport du système qui indique clairement si la sauvegarde a réussi ou non, et en cas de sauvegarde infructueuse, le problème doit être résolu ou un ticket doit être créé (voir les processus du service réseau).</b> <br><br><h2>  Version du logiciel </h2><br>  La question de la mise à niveau ou non du logiciel matériel n'est pas aussi claire.  D'une part, les anciennes versions sont des bogues et des vulnérabilités connues, mais d'autre part, les nouveaux logiciels ne sont pas, d'une part, toujours une procédure de mise à niveau indolore, et d'autre part, de nouveaux bogues et vulnérabilités. <br><br>  Ici, vous devez trouver la meilleure option.  Quelques recommandations évidentes <br><br><ul><li>  uniquement des versions stables </li><li>  Pourtant, vous ne devriez pas vivre sur de très anciennes versions de logiciels </li><li>  faire un signe avec des informations où n'importe quel logiciel est </li><li>  lire régulièrement des rapports sur les vulnérabilités et les bogues dans les versions logicielles, et en cas de problèmes critiques, il vaut la peine de penser à une mise à niveau </li></ul><br>  À ce stade, ayant accès à l'équipement depuis la console, les informations de support et une description de la procédure de mise à niveau, vous êtes, en principe, prêt pour cette étape.  L'option idéale est lorsque vous disposez d'un équipement de laboratoire où vous pouvez vérifier l'ensemble de la procédure, mais, malheureusement, cela ne se produit pas souvent. <br><br>  Dans le cas d'un équipement critique, vous pouvez contacter le support du fournisseur avec une demande pour vous aider avec la mise à niveau. <br><br><h2>  Système de ticket </h2><br>  Vous pouvez maintenant regarder autour de vous.  Vous devez établir des processus d'interaction avec les autres départements et au sein du département. <br><br>  Ce n'est peut-être pas obligatoire (par exemple, si votre entreprise est petite), mais je recommanderais fortement d'organiser le travail de manière à ce que toutes les tâches externes et internes passent par le système de ticket. <br><br>  Un système de ticket est essentiellement votre interface pour les communications internes et externes, et vous devez décrire cette interface avec un degré de détail suffisant. <br><br>  Prenons un exemple d'une tâche importante et fréquemment rencontrée d'ouverture d'accès.  Je vais décrire un algorithme qui a très bien fonctionné dans l'une des entreprises. <br><br><blockquote>  <b>Exemple</b> <br><br>  Pour commencer, les clients d'accès expriment souvent leur désir dans un langage incompréhensible pour un ingénieur réseau, à savoir, dans le langage de l'application, par exemple, «donnez-moi accès à 1C». <br><br>  Par conséquent, nous n'avons jamais accepté les demandes directement de ces utilisateurs. <br>  Et c'était la première exigence <br><br><ul><li>  les demandes d'accès doivent provenir des services techniques (dans notre cas, il s'agissait d'unix, windows, helpdesk) </li></ul><br>  La deuxième exigence est que <br><br><ul><li>  cet accès doit être enregistré (par le service technique duquel nous avons reçu cette demande) et en tant que demande, nous obtenons un lien vers cet accès enregistré </li></ul><br>  La forme de cette demande doit être claire pour nous, c'est-à-dire <br><br><ul><li>  la demande doit contenir des informations sur les accès et sous-réseaux qui doivent être ouverts, ainsi que sur le protocole et les ports (dans le cas de tcp / udp) </li></ul><br>  Il faut également indiquer <br><br><ul><li>  description des raisons pour lesquelles cet accès est ouvert </li><li>  temporaire ou permanent (si temporaire, jusqu'à quelle date) </li></ul><br>  Et un point très important est <br><br><ul><li>  du chef du département qui a initié l'accès (p. ex. comptabilité) </li><li>  du chef du service technique, d'où cette demande est venue au service réseau (par exemple, helpdesk) </li></ul><br>  Dans le même temps, le «propriétaire» de cet accès est considéré comme le chef du département qui a initié l'accès (comptabilité dans notre exemple), et il est responsable de la mise à jour de la page avec accès enregistré pour ce département. <br></blockquote><br><h2>  Journalisation </h2><br>  C'est quelque chose à noyer.  Mais si vous souhaitez mettre en œuvre une approche proactive, vous devez apprendre à gérer ce flux de données. <br><br><blockquote>  Voici quelques suggestions pratiques: <br><br><ul><li>  afficher les journaux dont vous avez besoin quotidiennement </li><li>  dans le cas d'une visualisation planifiée (et non d'une urgence), vous pouvez vous limiter à des niveaux de gravité de 0, 1, 2 et ajouter vos modèles préférés à partir d'autres niveaux si vous le jugez nécessaire </li><li>  écrire un script qui analyse les journaux et ignore les journaux dont vous avez ajouté les modèles à la liste d'ignorance </li></ul><br>  Cette approche permettra au fil du temps de compiler une liste des journaux qui ne vous intéressent pas et de ne laisser que ceux que vous considérez vraiment importants. <br>  Cela a très bien fonctionné pour nous. </blockquote><br><h2>  Suivi </h2><br>  Il n'est pas rare qu'une entreprise ne dispose pas d'un système de surveillance.  Vous pouvez, par exemple, compter sur les journaux, mais l'équipement peut simplement "mourir" sans avoir à "dire" quoi que ce soit, ou le package de protocole udp syslog peut être perdu et ne pas atteindre.  En général, bien sûr, une surveillance active est importante et nécessaire. <br><br><blockquote>  Deux exemples les plus demandés dans ma pratique: <br><br><ul><li>  surveiller le chargement des canaux de communication, les liens critiques (par exemple, la connexion aux fournisseurs).  Ils vous permettent de voir de manière proactive le problème potentiel de dégradation des services dû à la perte de trafic et, par conséquent, de l'éviter. </li><li>  Graphes basés sur NetFlow.  Ils permettent de détecter facilement les anomalies de trafic et sont très utiles pour détecter certains types d'attaques de pirates simples mais importants. </li></ul></blockquote><br>  <b>Important!</b>  <b>Configurez la notification sms pour les événements les plus critiques.</b>  <b>Cela s'applique à la fois à la surveillance et à la journalisation.</b>  <b>Si vous n'avez pas de quart de travail, alors les SMS devraient également arriver après les heures.</b> <br><br>  Pensez au processus de manière à ne pas réveiller tous les ingénieurs.  Nous avions un ingénieur de service pour cela. <br><br><h2>  Changer le contrôle </h2><br>  À mon avis, il n'est pas nécessaire de contrôler tous les changements.  Mais, dans tous les cas, vous devriez être en mesure, si nécessaire, de trouver facilement qui et pourquoi ont effectué ces modifications ou d'autres dans le réseau. <br><br><blockquote>  Quelques conseils: <br><br><ul><li>  utiliser le système de ticket pour une description détaillée de ce qui a été fait dans le cadre de ce ticket, par exemple, copier la configuration appliquée sur le ticket </li><li>  Utilisez les capacités de commentaire sur le matériel réseau (par exemple, validez le commentaire sur Juniper).  Vous pouvez enregistrer le numéro de ticket </li><li>  utiliser diff de vos sauvegardes de configuration </li></ul><br>  Vous pouvez entrer cela comme un processus en parcourant tous les tickets quotidiennement pour les changements. </blockquote><br><h2>  Les processus </h2><br>  Vous devez formaliser et décrire les processus dans votre équipe.  Si vous avez atteint ce point, alors au moins les processus suivants devraient déjà fonctionner dans votre équipe: <br><br>  Processus quotidiens: <br><br><ul><li>  travailler avec des billets </li><li>  travailler avec des journaux </li><li>  contrôle du changement </li><li>  feuille de vérification quotidienne </li></ul><br>  Processus annuels: <br><br><ul><li>  extension des garanties, licences </li></ul><br>  Processus asynchrones: <br><br><ul><li>  réponse à diverses urgences </li></ul><br><h2>  Conclusion de la première partie </h2><br>  Vous avez remarqué que tout cela ne concerne pas la configuration réseau, la conception, les protocoles réseau, le routage ou la sécurité ... C'est quelque chose autour.  Mais ceux-ci, bien que peut-être ennuyeux, mais, bien sûr, des éléments très importants de l'unité de réseau. <br><br>  Jusqu'à présent, comme vous le voyez, vous n'avez rien amélioré sur votre réseau.  S'il y avait des failles de sécurité, alors elles restaient; s'il y avait une mauvaise conception, alors elle restait.  Jusqu'à ce que vous appliquiez vos compétences et vos connaissances d'un ingénieur réseau, qui a probablement dépensé beaucoup de temps, d'efforts et parfois d'argent.  Mais vous devez d'abord créer (ou renforcer) la fondation, puis faire la construction. <br><br>  Les parties suivantes expliquent comment rechercher et corriger les erreurs, puis améliorer votre infrastructure. <br><br>  Bien sûr, il n'est pas nécessaire de tout faire séquentiellement.  Le temps peut être critique.  Faites en parallèle si les ressources le permettent. <br><br>  Et un ajout important.  Communiquez, demandez, consultez votre équipe.  Au final, c'est à eux de soutenir et de faire tout cela. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433614/">https://habr.com/ru/post/fr433614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433604/index.html">Travail confortable avec Android Studio</a></li>
<li><a href="../fr433606/index.html">Profondeurs SIEM: corrélations prêtes à l'emploi. Partie 3.2. Méthodologie de normalisation des événements</a></li>
<li><a href="../fr433608/index.html">La voiture du futur. Écrans au lieu de vitres automobiles?</a></li>
<li><a href="../fr433610/index.html">Notes d'un phytochimiste. Kaki</a></li>
<li><a href="../fr433612/index.html">FCC: satellites SpaceX en orbite - une source de débris dangereux pour les habitants de la Terre</a></li>
<li><a href="../fr433618/index.html">Son "tube chaud" de vos propres mains. Et si vous traversez un magasin, un club et un atelier?</a></li>
<li><a href="../fr433620/index.html">Comment fonctionne SystemUI dans Android</a></li>
<li><a href="../fr433624/index.html">Apprendre Rust: Comment j'ai fait le chat UDP avec Azul</a></li>
<li><a href="../fr433628/index.html">Culture du feedback: comment ne pas glisser dans les accusations</a></li>
<li><a href="../fr433630/index.html">Un pas de plus vers le vaccin contre le VIH: titre de singe en anticorps neutralisants sériques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>