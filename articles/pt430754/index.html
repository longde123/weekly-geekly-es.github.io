<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöπ üë®‚Äçüè´ üñãÔ∏è Adicione profundidade a sprites 2D usando mapas normais desenhados √† m√£o üê± üò∂ üèáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A arte pixel √© eterna, mas isso n√£o significa que as ferramentas e t√©cnicas para trabalhar com ela permane√ßam no n√≠vel de 1993. 

 A desenvolvedora de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Adicione profundidade a sprites 2D usando mapas normais desenhados √† m√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430754/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e29/a6e/6e6/e29a6e6e60640ac36c79981ff998b1f5.jpg"></div><br>  A arte pixel √© eterna, mas isso n√£o significa que as ferramentas e t√©cnicas para trabalhar com ela permane√ßam no n√≠vel de 1993. <br><br>  A desenvolvedora de jogos brit√¢nica Cardboard Sword est√° trabalhando no jogo de plataforma furtivo bidimensional <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>The Siege and the Sandfox</em></a> , criado no Unreal Engine 4 com o Paper2D.  A equipe publica uma s√©rie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de di√°rios de desenvolvimento,</a> apresentando outros desenvolvedores a como usar essas ferramentas em seus pr√≥prios jogos. <br><br>  Uma das principais caracter√≠sticas t√©cnicas de <em>The Siege and the Sandfox</em> √© o uso de tilesets e sprites desenhados √† m√£o com mapas normais, permitindo que voc√™ use m√©todos de ilumina√ß√£o tridimensionais neste jogo com uma arte pixel bidimensional bastante tradicional. <br><br>  Uma das diretoras de arte da Cardboard Sword, Kate Duke-Cox, disse recentemente a Gamasutra como a empresa passou a usar essa t√©cnica, por que ela se adapta ao jogo e como voc√™ pode aplicar t√©cnicas semelhantes em seus pr√≥prios jogos 2D. <br><a name="habracut"></a><br><h2>  Adicione uma sensa√ß√£o de profundidade </h2><br>  <strong>Quais s√£o os benef√≠cios dos mapas normais em compara√ß√£o com a ilumina√ß√£o plana tradicional em um jogo 2D?</strong> <br><br>  <strong>Kate Duke-Cox</strong> : a tarefa do diretor de arte √© inteiramente dedicada a encontrar um estilo individual e alcan√ßar o efeito desejado.  Quer√≠amos que nossa arte fosse rica, profunda e "convexa".  Os normais permitiram atingir esse objetivo, dando uma sensa√ß√£o de forma e for√ßa ao mundo e seus objetos. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>Esta imagem, postada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Keith Duke Cox no Twitter</a> em agosto de 2017, √© um exemplo impressionante de uma t√©cnica.</em> <br><br>  Por exemplo, o uso de normais d√° √†s fontes de perigo uma apar√™ncia mais tang√≠vel.  A luz responde mais corretamente √† superf√≠cie e, sem normais, foi criada uma sensa√ß√£o de uma "folha de papel" muito plana. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>Quando usados ‚Äã‚Äãcorretamente, os mapas normais podem adicionar aos objetos na cena uma sensa√ß√£o de profundidade e peso que as imagens 2D planas n√£o podem alcan√ßar.</em> <br><br>  O uso de mapas normais √© mais uma solu√ß√£o visual do que uma op√ß√£o de jogabilidade funcional.  Quer√≠amos que o jogador mergulhasse mais fundo no ambiente, para que o parkour desse uma sensa√ß√£o de profundidade e autenticidade f√≠sica, em vez da impress√£o de padr√µes de corte de papel t√≠picos de alguns jogos de pixel.  Se voc√™ aderir a cores simples e brilhantes ou estilo retro, a ilumina√ß√£o plana ser√° bastante adequada. <br><br>  <strong>O que inicialmente o atraiu a usar mapas normais para ilumina√ß√£o 2D?</strong>  <strong>Como voc√™ descobriu isso, ou onde voc√™ viu uma implementa√ß√£o de qualidade?</strong> <br><br>  A aplica√ß√£o de normais a gr√°ficos 2D foi uma continua√ß√£o natural de seu uso em 3D, o que n√£o era poss√≠vel em sistemas mais antigos que inspiramos ao criar o estilo.  Obviamente, n√£o fomos os primeiros a us√°-los em jogos modernos de pixel art, mas os resultados foram diferentes. <br><br>  Inicialmente, nos recusamos a usar esse efeito, porque em muitos dos efeitos que vimos, ele destruiu o charme e a est√©tica da pixel art, dando muito brilho met√°lico.  Em nossa primeira tentativa de criar mapas normais de pixels desenhados √† m√£o para pixel art, obtivemos padr√µes muito detalhados - afinal, esse √© seu principal objetivo nos gr√°ficos 3D.  Mas cada bloco em nosso jogo tem um tamanho de apenas 32x32 pixels, portanto, n√£o restam muitos pixels para transmitir informa√ß√µes da superf√≠cie.  Como resultado, o resultado se transformou em um caos barulhento. <br><br>  Mas ent√£o vimos a arte de Gwenael Masset para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>Dead Cells</em></a> , na qual a pixel art com normais foi muito bem, e decidimos dar a ele uma segunda chance.  [Aqui est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um artigo</a> sobre o uso de modelos 3D neste jogo bidimensional.] Desta vez, usamos um mapa normal, n√£o para os pequenos detalhes das superf√≠cies que podem ser vistas nos gr√°ficos 3D.  Agora, o mapa normal foi usado para "modelar" grandes formas de pixel art. <br><br><h2>  Esculpir formul√°rios usando mapas normais </h2><br>  <strong>Voc√™ pode falar brevemente sobre o processo de desenvolvimento de um ativo, em particular sobre as diferen√ßas da cria√ß√£o de um recurso 2D similar simples de sprite?</strong> <br><br>  Geralmente, as pixel art s√£o desenhadas levando em considera√ß√£o a dire√ß√£o "geral" da luz.  No nosso caso, para a maioria dos sprites e ladrilhos de primeiro plano, a luz principal caiu de cima e levemente para a direita, e os ladrilhos de fundo tinham uma ‚Äúluz da c√¢mera‚Äù mais geral para simular salas escuras e n√£o distrair o jogador do primeiro plano. <br><br>  Isso significava que, quando se tratava de renderizar as normais para sprites e azulejos, os detalhes e materiais das superf√≠cies j√° estavam selecionados.  Descobrimos que essa abordagem realmente funcionou muito bem.  Ele quis dizer que todas as formas e detalhes que precis√°vamos imitar nas normais j√° eram muito √≥bvias e percept√≠veis. <br><br>  Dependendo da natureza do sprite ao qual as normais foram adicionadas, usamos uma combina√ß√£o de desenhar as cores dos cantos das normais da "esfera dos mapas normais" (na verdade, essa √© uma esfera que serve como uma paleta de todos os √¢ngulos poss√≠veis que podem ser desenhados no mapa de normais tangentes) e desenhar em canais RGB separados escala de cinza com outras ferramentas como ND, Crazybump ou AwesomeBump.  Eles ajudaram com algumas formas e misturaram corretamente diferentes partes dos normais. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d0/09b/aa2/4d009baa2ac869b93db70f9204846b70.png"></div><br>  Usamos o Nvidia TextureTools for Photoshop para ajustar / normalizar vetores ap√≥s terminar de desenhar um mapa normal. <br><br>  <strong>Quais s√£o os benef√≠cios de desenhar mapas normais manuais como este com ferramentas pr√©-criadas como o Sprite DLight?</strong> <br><br>  Quando come√ßamos a procurar maneiras de criar normais para um objeto 2D sem um modelo de alto poli, descobrimos aplicativos que, em certa medida, executavam essa tarefa. <br><br>  Estudamos os tutoriais para descobrir como os mapas normais s√£o criados, mas descobrimos que eles fazem suposi√ß√µes com base nos valores de cores dos pixels, que n√£o fornecem resultados completamente precisos ou completamente incorretos, ou exigem v√°rias imagens em escala de cinza para simular a luz de diferentes dire√ß√µes, criando essencialmente os canais normais do mapa de forma independente. <br><br>  O programa n√£o pode saber qual altura e √¢ngulo um pixel tem em um sprite, especialmente quando √© um jogo de pixel art com uma paleta muito limitada, onde uma cor √© usada para indicar as muitas profundidades e √¢ngulos de um objeto.  No entanto, vale acrescentar que na verdade n√£o usamos esses programas, mas simplesmente avaliamos as perspectivas de sua aplica√ß√£o. <br><br>  Existem dois m√©todos padr√£o para gera√ß√£o automatizada acelerada de mapas normais - Convers√£o em escala de cinza e Reconhecimento de forma.  Realizamos testes com os tr√™s m√©todos e descobrimos que o m√©todo de desenho manual definitivamente oferece os melhores resultados. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  A convers√£o em escala de cinza e o reconhecimento de formas podem criar efeitos melhores do que os mostrados aqui, mas mesmo com trabalho e tempo significativos, eles ainda n√£o s√£o t√£o precisos e bons quanto o desenho manual. <br><br><h2>  Usando mapas normais em jogos 2D nativos </h2><br>  <strong>Que conselho voc√™ pode dar aos desenvolvedores que desejam seguir seu pr√≥prio caminho?</strong> <br><br>  Criar normais 2D precisos manualmente n√£o √© tarefa f√°cil.  O trabalho em todos os conjuntos de mosaicos em primeiro e segundo plano levou cerca de tr√™s meses-homem.  Portanto, para obter resultados de alta qualidade, prepare-se para investir muito tempo. <br><br>  As normais criadas rapidamente para gr√°ficos 2D, especialmente pixel art, geralmente parecem ruins.  Sistemas como ‚Äúcriar uma solu√ß√£o com um bot√£o‚Äù geralmente levam √† cria√ß√£o de ativos fracos que, quando renderizados em um jogo, parecem ainda piores do que pixel art apagado.  Teste em uma pequena parte do jogo (uma pequena amostra do primeiro plano, plano de fundo, objetos e personagens) e descubra o que combina com voc√™ e com o estilo do seu jogo. <br><br>  Por outro lado, em termos de renderiza√ß√£o, os custos de adicionar normais ao nosso mundo s√£o muito pequenos.  Em quase todo o mundo do jogo, tivemos dois mapas normais de 2k.  Eles n√£o ocupam muita mem√≥ria e algumas texturas adicionais para o passe de renderiza√ß√£o normal n√£o afetam muito as chamadas de desenho.  As fontes de ilumina√ß√£o dinamicamente executam apenas a ilumina√ß√£o; elas n√£o projetam sombras em tudo no jogo; portanto, tamb√©m s√£o muito baratas. <br><br>  Se voc√™ ainda n√£o entende como funcionam as normais do espa√ßo tangente e o que elas significam, mesmo um breve estudo permitir√° que voc√™ as desenhe com muito mais facilidade. <br><br>  <strong>Para usar esse m√©todo, voc√™ teve que adaptar os ativos existentes e n√£o implement√°-lo desde o in√≠cio do desenvolvimento.</strong>  <strong>Voc√™ pode dar conselhos para aqueles que est√£o tentando complementar os gr√°ficos de sprite prontos com mapas normais?</strong> <br><br>  Se tiv√©ssemos que fazer isso de novo, far√≠amos o mesmo: primeiro crie gr√°ficos difusos e depois desenhe os normais usando pixel art como refer√™ncia. <br><br>  Talvez desenhemos alguns objetos de maneira um pouco diferente.  Ocorreram problemas na pixel art quando um pixel poderia indicar, por exemplo, um prego ou rebite, mas esse pixel no mapa normal pode corresponder a apenas um canto, para que pud√©ssemos aumentar alguns elementos para melhor transmitir os √¢ngulos da imagem. <br><br>  Se voc√™ usar uma resolu√ß√£o menor do que a usada em nossos conjuntos de blocos (32x32), talvez o tamanho o limite demais.  Com uma resolu√ß√£o de 16x16 ou 8x8, voc√™ provavelmente n√£o poder√° transferir forma ou volume apenas se um bloco n√£o for uma parte grande, como uma pedra ou bloco de concreto. <br><br>  Na arte pixel, os gradientes claros n√£o parecem t√£o bons quanto as superf√≠cies volumosas com √¢ngulos agudos.  Se o seu estilo gr√°fico permitir, sugiro usar mais √¢ngulos do que gradientes em superf√≠cies normais.  Por exemplo, se voc√™ tem um barril, certifique-se de que cada quadro individual do qual ele possui tenha seu pr√≥prio √¢ngulo, e o barril em si seja mais octogonal do que redondo. <br><br>  <strong>Voc√™ tem algum conselho para os desenvolvedores que desejam usar essas t√©cnicas fora do Unreal?</strong>  <strong>Por exemplo, no Unity ou no Gamemaker.</strong> <br><br>  Antes de come√ßar, verifique a orienta√ß√£o do mapa normal.  A abordagem para desenhar normais √© a mesma para todos os mecanismos, apenas o significado de cada canal de cores do mapa √© diferente. <br><br>  Normalmente, apenas o eixo Y (canal verde) muda em diferentes motores.  O Unreal usa os normais do sistema de coordenadas do lado Y do DirectX, mas o Unity usa os normais Y + do sistema de coordenadas do lado direito OpenGL (como nos parece), portanto o canal verde deve ser virado de cabe√ßa para baixo. <br><br>  No entanto, se voc√™ pintou incorretamente, na maioria das vezes basta um simples movimento do canal verde.  Voc√™ ver√° que o canal est√° confuso se a imagem estiver iluminada oposta ao resultado esperado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430754/">https://habr.com/ru/post/pt430754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430742/index.html">Olimp√≠ada Estudantil "Sou Profissional": dire√ß√£o "Programa√ß√£o e Tecnologia da Informa√ß√£o"</a></li>
<li><a href="../pt430746/index.html">Por que as baterias Tesla n√£o funcionam no t√°xi a√©reo</a></li>
<li><a href="../pt430748/index.html">A luta por recursos, parte 6: cpuset ou compartilhamento nem sempre est√° certa</a></li>
<li><a href="../pt430750/index.html">Damas Qu√¢nticas - torne as damas excelentes novamente</a></li>
<li><a href="../pt430752/index.html">DEV Labs 2018. Mitap on-line para desenvolvedores da web. 1 de dezembro</a></li>
<li><a href="../pt430756/index.html">Fazendo o mouse WX no Nova Slider 600</a></li>
<li><a href="../pt430762/index.html">Como escolher um no-break para otimizar custos</a></li>
<li><a href="../pt430766/index.html">√â tudo sobre o Agile 1: mitos populares da agenda</a></li>
<li><a href="../pt430768/index.html">Entrevista com o criador do ADOM, Thomas Biscap</a></li>
<li><a href="../pt430770/index.html">Backup para Linux ou como criar um instant√¢neo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>