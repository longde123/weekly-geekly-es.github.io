<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ó üñçÔ∏è üêΩ Calculamos por IP: como lidar com spam em uma rede social üë©üèø‚ÄçüöÄ üë®üèø‚Äçü§ù‚Äçüë®üèº üßôüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Spam nas redes sociais e mensagens instant√¢neas √© uma dor. Dor para usu√°rios honestos e desenvolvedores. Como eles combatem no Badoo, disse Mikhail Ov...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Calculamos por IP: como lidar com spam em uma rede social</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/426843/">  Spam nas redes sociais e mensagens instant√¢neas √© uma dor.  Dor para usu√°rios honestos e desenvolvedores.  Como eles combatem no Badoo, disse Mikhail Ovchinnikov no Highload ++, a vers√£o em texto deste relat√≥rio. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VknD3bQXuYU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Sobre o palestrante:</strong> Mikhail Ovchinnikov trabalha no Badoo e √© anti-spam nos √∫ltimos cinco anos. <br><br>  O Badoo possui 390 milh√µes de usu√°rios registrados (dados de outubro de 2017).  Se compararmos o tamanho da audi√™ncia do servi√ßo com a popula√ß√£o da R√∫ssia, podemos dizer que, segundo as estat√≠sticas, cada 100 milh√µes de pessoas s√£o protegidas por 500 mil policiais e, no Badoo, apenas um funcion√°rio do Antispam protege cada 100 milh√µes de usu√°rios de spam.  Mas mesmo um n√∫mero t√£o pequeno de programadores pode proteger os usu√°rios de v√°rios problemas na Internet. <br><a name="habracut"></a><br>  Temos um grande p√∫blico e ele pode ter diferentes usu√°rios: <br><br><ul><li>  Bom e muito bom, nossos clientes pagantes favoritos; </li><li>  Os maus s√£o aqueles que, pelo contr√°rio, est√£o tentando ganhar dinheiro conosco: enviam spam, fraudam dinheiro e se envolvem em fraudes. </li>
</ul><br><h2>  Quem tem que lutar <br></h2><br>  O spam pode ser diferente, geralmente n√£o pode ser distinguido do comportamento de um usu√°rio comum.  Pode ser manual ou autom√°tico - os bots envolvidos no envio autom√°tico tamb√©m querem chegar at√© n√≥s. <br><br><blockquote>  Talvez voc√™ tamb√©m tenha escrito bots - estava criando scripts para postagem autom√°tica.  Se voc√™ est√° fazendo isso agora, √© melhor n√£o ler mais - voc√™ nunca deve descobrir o que vou lhe dizer agora. <br></blockquote><br>  Isso, √© claro, √© uma piada.  O artigo n√£o ter√° informa√ß√µes que simplifiquem a vida dos spammers. <br><br><img src="https://habrastorage.org/webt/kr/3c/7v/kr3c7vtm241m6npyzo7ej4bcams.jpeg"><br><br>  Ent√£o, com quem temos que lutar?  Estes s√£o spammers e scammers. <br><br>  O spam apareceu h√° muito tempo, desde o in√≠cio do desenvolvimento da Internet.  Em nosso servi√ßo, os remetentes de spam, em regra, tentam registrar uma conta carregando uma <strong>foto de uma garota atraente l√°</strong> .  Na forma mais simples, eles come√ßam a enviar os tipos mais √≥bvios de links de spam. <br><br>  Uma op√ß√£o mais complicada √© quando as pessoas n√£o enviam nada expl√≠cito, n√£o enviam links, n√£o anunciam nada, mas <strong>atraem o usu√°rio para um local mais conveniente para eles, por exemplo, mensageiros instant√¢neos</strong> : Skype, Viber, WhatsApp.  L√° eles podem, sem nosso controle, vender qualquer coisa ao usu√°rio, promover etc. <br><br>  Mas os <strong>spammers n√£o s√£o o maior problema</strong> .  Eles s√£o √≥bvios e f√°ceis de combater.  Personagens muito mais complexos e interessantes s√£o <strong>golpistas</strong> que fingem ser outra pessoa e tentam enganar os usu√°rios de todas as formas existentes na Internet. <br><br>  Obviamente, as a√ß√µes dos spammers e scammers nem sempre s√£o muito diferentes do comportamento dos usu√°rios comuns que tamb√©m fazem isso √†s vezes.  Existem muitos sinais formais nos dois que n√£o permitem tra√ßar uma linha clara entre eles.  Isso quase nunca √© poss√≠vel. <br><br><h2>  Como lidar com spam na era mesoz√≥ica <br></h2><br><ol><li>  A coisa mais simples que se podia fazer era escrever <strong>express√µes regulares separadas para cada tipo de spam</strong> e inserir cada palavr√£o e cada dom√≠nio separado nesse regular.  Tudo isso foi feito manualmente e, √© claro, foi o mais inconveniente e ineficiente poss√≠vel. <br></li><li>  Voc√™ pode <strong>encontrar</strong> manualmente <strong>endere√ßos IP duvidosos e inseri-los na configura√ß√£o do servidor</strong> para que usu√°rios suspeitos nunca mais acessem seu recurso.  Isso √© ineficiente porque os endere√ßos IP s√£o constantemente reatribu√≠dos, redistribu√≠dos. <br></li><li>  Escreva scripts √∫nicos para cada tipo de remetente de spam ou bot, raspe seus logs, encontre manualmente padr√µes.  Se um pouco de algo muda no comportamento do remetente de spam, tudo para de funcionar - tamb√©m completamente ineficaz. <br></li></ol><img src="https://habrastorage.org/webt/ak/3l/ls/ak3llsljdhla9k_myprwxpmjc_y.jpeg"><br><br>  Primeiro, mostrarei os m√©todos mais simples de combate ao spam que todos podem implementar por si mesmos.  Em seguida, explicarei detalhadamente os sistemas mais complexos que desenvolvemos usando aprendizado de m√°quina e outras artilharia pesada. <br><br><h2>  As maneiras mais f√°ceis de lidar com spam <br></h2><br><h3>  Modera√ß√£o manual <br></h3><br>  Em qualquer servi√ßo, voc√™ pode contratar moderadores que visualizam manualmente o conte√∫do e o perfil do usu√°rio e decidem o que fazer com esse usu√°rio.  Normalmente, esse processo parece encontrar uma agulha no palheiro.  Temos um grande n√∫mero de usu√°rios, moderadores menos. <br><br><img src="https://habrastorage.org/webt/xv/aa/ak/xvaaakhzi0pnnvltii7wcpf2uci.jpeg"><br><br>  Al√©m do fato de que os moderadores obviamente precisam de muito, voc√™ precisa de muita infraestrutura.  Mas, de fato, a coisa mais dif√≠cil √© outra - surge um problema: como, pelo contr√°rio, protege os usu√°rios dos moderadores. <br><br>  √â necess√°rio garantir que os moderadores n√£o tenham acesso aos dados pessoais.  Isso √© importante porque os moderadores tamb√©m podem, teoricamente, tentar causar danos.  Ou seja, precisamos de antispam para antispam, para que os moderadores estejam sob controle r√≠gido. <br><br>  Obviamente, voc√™ n√£o pode verificar todos os usu√°rios dessa maneira.  No entanto, a <strong>modera√ß√£o √© necess√°ria em qualquer caso</strong> , porque quaisquer sistemas no futuro precisam de treinamento e de uma m√£o humana que determine o que fazer com o usu√°rio. <br><br><h3>  Coleta de estat√≠sticas <br></h3><br>  Voc√™ pode tentar usar as estat√≠sticas - para coletar v√°rios par√¢metros para cada usu√°rio. <br><br><img src="https://habrastorage.org/webt/n2/yq/ck/n2yqckqwqt8ttzvjtmtc3vgnbza.jpeg"><br><br>  O usu√°rio Innokenty efetua login no seu endere√ßo IP.  A primeira coisa que fazemos √© fazer login no endere√ßo IP digitado.  Em seguida, criamos um √≠ndice de avan√ßo e revers√£o entre todos os endere√ßos IP e todos os usu√°rios, para que voc√™ possa obter todos os endere√ßos IP dos quais um usu√°rio espec√≠fico efetua login, bem como todos os usu√°rios que efetuam login a partir de um endere√ßo IP espec√≠fico. <br><br>  Dessa forma, obtemos a conex√£o entre o atributo e o usu√°rio.  Pode haver muitos desses atributos.  Podemos come√ßar a coletar informa√ß√µes n√£o apenas sobre endere√ßos IP, mas tamb√©m fotos, dispositivos dos quais o usu√°rio entrou - sobre tudo o que podemos determinar. <br><br><img src="https://habrastorage.org/webt/i3/kw/8e/i3kw8el8s0_psz5w_d1hoxwui_s.jpeg"><br><br>  Coletamos essas estat√≠sticas e as associamos ao usu√°rio.  Para cada um dos atributos, podemos coletar contadores detalhados. <br><br>  Temos uma modera√ß√£o manual que decide qual usu√°rio √© bom, o que √© ruim e, em algum momento, o usu√°rio √© bloqueado ou reconhecido como normal.  Podemos obter dados separadamente para cada atributo, quantos usu√°rios totais, quantos deles est√£o bloqueados, quantos s√£o reconhecidos como normais. <br><br>  Tendo essas estat√≠sticas para cada um dos atributos, podemos determinar aproximadamente quem √© o remetente de spam e quem n√£o √©. <br><br><img src="https://habrastorage.org/webt/og/tj/tk/ogtjtkfpogqabof2yd_reen33ts.jpeg"><br><br>  Digamos que temos dois endere√ßos IP - 80% dos spammers em um e 1% no segundo.  Obviamente, o primeiro √© muito mais spam, voc√™ precisa fazer algo com ele e aplicar algum tipo de san√ß√£o. <br><br>  O mais simples √© escrever <strong>regras heur√≠sticas</strong> .  Por exemplo, se os usu√°rios bloqueados tiverem mais de 80% e os que forem considerados normais - menos de 5%, esse endere√ßo IP ser√° considerado ruim.  Em seguida, banimos ou fazemos outra coisa com todos os usu√°rios com esse endere√ßo IP. <br><br><h3>  Cole√ß√£o de estat√≠sticas de textos <br></h3><br>  Al√©m dos atributos √≥bvios que os usu√°rios possuem, voc√™ tamb√©m pode fazer uma an√°lise de texto.  Voc√™ pode analisar automaticamente as mensagens do usu√°rio, isolar delas tudo o que est√° relacionado ao spam: mencionar mensageiros, telefones, email, links, dom√≠nios etc. e coletar exatamente as mesmas estat√≠sticas. <br><br><img src="https://habrastorage.org/webt/wr/t2/oo/wrt2oo4ybijxo1cx3odkuf917pi.jpeg"><br><br>  Por exemplo, se um nome de dom√≠nio foi enviado em mensagens por 100 usu√°rios, dos quais 50 foram bloqueados, esse nome de dom√≠nio est√° incorreto.  Pode ser colocado na lista negra. <br><br>  Receberemos uma grande quantidade de estat√≠sticas adicionais para cada um dos usu√°rios com base nos textos das mensagens.  N√£o √© necess√°rio aprendizado de m√°quina para isso. <br><br><h3>  Pare palavras <br></h3><br>  Al√©m das coisas √≥bvias - telefones e links - voc√™ pode extrair frases ou palavras do texto que s√£o especialmente comuns para spammers.  Voc√™ pode manter essa lista de palavras de parada manualmente. <br><br>  Por exemplo, nas contas de spammers e scammers, a frase: "Existem muitas falsifica√ß√µes" √© frequentemente encontrada.  Eles escrevem que geralmente s√£o os √∫nicos aqui preparados para algo s√©rio, todos os outros fingimentos, dos quais em nenhum caso se pode confiar. <br><br>  Nos sites de namoro de acordo com as estat√≠sticas, os remetentes de spam com mais frequ√™ncia do que as pessoas comuns usam a frase: "Estou procurando um relacionamento s√©rio".  √â improv√°vel que uma pessoa comum escreva isso em um site de namoro - com uma probabilidade de 70%, este √© um spammer que est√° tentando atrair algu√©m. <br><br><h3>  Pesquise contas semelhantes <br></h3><br>  Com estat√≠sticas sobre atributos e palavras de parada encontradas nos textos, voc√™ pode criar um sistema para procurar contas semelhantes.  Isso √© necess√°rio para encontrar e banir todas as contas criadas pela mesma pessoa.  Um remetente de spam bloqueado pode registrar imediatamente uma nova conta. <br><br>  Por exemplo, um usu√°rio Harold efetua login, acessa o site e fornece seus atributos bastante exclusivos: endere√ßo IP, foto, palavra de parada que ele usou.  Talvez ele at√© tenha se inscrito com uma conta falsa no Facebook. <br><br><img src="https://habrastorage.org/webt/qr/he/g-/qrheg-lipc_-e6qakgidkfcz7lu.jpeg"><br><br>  Podemos encontrar todos os usu√°rios semelhantes a ele que possuem um ou mais desses atributos correspondentes.  Quando sabemos com certeza que esses usu√°rios est√£o conectados, usando o √≠ndice direto e reverso, encontramos os atributos, e por eles de todos os usu√°rios, e os classificamos.  Se, digamos o primeiro Harold, bloquearmos, o resto tamb√©m ser√° f√°cil de "matar" usando esse sistema. <br><br>  Todos os m√©todos que acabei de descrever s√£o muito simples: √© f√°cil coletar estat√≠sticas e, em seguida, pesquisar usu√°rios usando esses atributos.  Mas, apesar da facilidade, com a ajuda de coisas simples - modera√ß√£o simples, estat√≠sticas simples, palavras simples de parada - eles conseguem <strong>derrotar 50% do spam</strong> . <br><br>  Em nossa empresa, nos primeiros seis meses de trabalho, o departamento Antispam ganhou 50% de spam.  Os 50% restantes, como voc√™ sabe, s√£o muito mais complicados. <br><br><h2>  Como dificultar a vida dos spammers <br></h2><br>  Os spammers est√£o inventando algo, tentando complicar nossas vidas, e estamos tentando combat√™-los.  Esta √© uma guerra sem fim.  Existem muito mais deles do que n√≥s e, a cada passo, criamos seu pr√≥prio caminho m√∫ltiplo. <br><br><blockquote>  Estou certo de que as confer√™ncias de spammers est√£o ocorrendo em algum lugar onde os palestrantes falam sobre como derrotaram o Badoo Antispam, sobre seus KPIs ou sobre como criar spam escal√°vel e tolerante a falhas usando a tecnologia mais recente. <br></blockquote><br>  Infelizmente, n√£o somos convidados para tais confer√™ncias. <br><br>  Mas podemos dificultar a vida dos spammers.  Por exemplo, em vez de mostrar diretamente ao usu√°rio a janela "Voc√™ est√° bloqueado", voc√™ pode usar o chamado <strong>banimento Stealth</strong> - √© quando n√£o dizemos ao usu√°rio que ele foi banido.  Ele nem deveria suspeitar disso. <br><br><img src="https://habrastorage.org/webt/pt/3b/xm/pt3bxmfuyowj_0nkhjxnh3-yn14.jpeg"><br><br>  O usu√°rio entra na caixa de areia (Silent Hill), onde tudo parece real: voc√™ pode enviar mensagens, votar, mas na verdade tudo fica no vazio, no nevoeiro.  Ningu√©m nunca ver√° e ouvir√°, ningu√©m receber√° suas mensagens e votos. <br><br>  Tivemos um caso em que um spammer enviou spam por muito tempo, promoveu seus bens e servi√ßos ruins e seis meses depois decidiu usar o servi√ßo como pretendido.  Ele registrou sua conta real: fotos reais, nome etc.  Naturalmente, nosso mecanismo de pesquisa de contas semelhantes descobriu rapidamente e colocou-o na proibi√ß√£o Stealth.  Depois disso, ele escreveu por seis meses no vazio que estava muito sozinho, ningu√©m respondeu.  Em geral, ele derramou toda a sua alma no nevoeiro de Silent Hill, mas n√£o recebeu nenhuma resposta. <br><br>  Os spammers, √© claro, n√£o s√£o tolos.  Eles est√£o tentando, de alguma forma, determinar que entraram na caixa de areia e foram bloqueados, encerraram a conta antiga e encontraram uma nova.  √Äs vezes at√© chegamos √† ideia de que seria bom enviar v√°rios desses spammers para a sandbox juntos, para que eles vendessem um ao outro tudo o que quisessem e se divertissem como quiser.  Por√©m, embora n√£o tenhamos chegado a esse ponto, estamos desenvolvendo outros m√©todos, por exemplo, verifica√ß√£o de foto e telefone. <br><br><img src="https://habrastorage.org/webt/dz/7h/hc/dz7hhcjzwil1qnx_xtgg5itrxy4.jpeg"><br><br>  Como voc√™ sabe, √© dif√≠cil para um spammer que √© um bot e n√£o uma pessoa passar na verifica√ß√£o por telefone ou foto. <br><br>  No nosso caso, a verifica√ß√£o por foto √© assim: o usu√°rio √© solicitado a tirar uma foto com um certo gesto, a foto resultante √© comparada com as fotos que j√° est√£o carregadas no perfil.  Se os rostos s√£o os mesmos, provavelmente a pessoa √© real, carregou suas fotos reais e pode ser deixada para tr√°s por algum tempo. <br><br>  N√£o √© f√°cil para os spammers passarem neste teste.  Temos at√© um pequeno jogo dentro da empresa chamado Guess Who the Spammer.  Dadas quatro fotos, voc√™ precisa entender qual delas √© um spammer. <br><br><img src="https://habrastorage.org/webt/qm/h_/yp/qmh_ypmte7ptgnoyjjjmdudpheg.jpeg"><br><br>  √Ä primeira vista, essas meninas parecem completamente inofensivas, mas assim que come√ßam a ser submetidas √† verifica√ß√£o de fotos, a partir de algum ponto, fica claro que uma delas n√£o √© completamente o que ela afirma ser. <br><br>  De qualquer forma, os spammers t√™m dificuldade em combater a verifica√ß√£o de fotos.  Eles realmente sofrem, tentam contornar isso, enganar e demonstrar todas as suas habilidades no photoshop. <br><br><img src="https://habrastorage.org/webt/bc/gp/hg/bcgphg5m2v4zh5q5aqaqhxx7wtk.jpeg"><br><br>  Os spammers est√£o fazendo tudo o que podem e, √†s vezes, pensam, provavelmente, que tudo isso √© completamente processado por algumas tecnologias modernas incr√≠veis, t√£o mal constru√≠das que s√£o t√£o f√°ceis de enganar. <br><br>  Eles n√£o sabem que cada foto √© novamente verificada manualmente pelos moderadores. <br><br><h2>  Sem tempo <br></h2><br>  De fato, apesar de termos encontrado v√°rias maneiras de dificultar a vida dos spammers, geralmente n√£o h√° tempo suficiente, porque o anti-spam deve funcionar instantaneamente.  Ele deve encontrar e neutralizar o usu√°rio antes de iniciar sua atividade negativa. <br><br>  A melhor coisa que pode ser feita √© determinar, no est√°gio de registro, que o usu√°rio n√£o √© muito bom.  Isso pode ser feito, por exemplo, usando cluster. <br><br><h3>  Cluster de usu√°rio <br></h3><br>  Podemos coletar todas as informa√ß√µes poss√≠veis logo ap√≥s o registro.  Ainda n√£o temos dispositivos com os quais o usu√°rio efetua login, nem fotografias, n√£o h√° estat√≠sticas.  N√£o temos nada para envi√°-lo para verifica√ß√£o, ele n√£o fez nada de suspeito.  Mas j√° temos informa√ß√µes prim√°rias: <br><br><ul><li>  sexo </li><li>  idade </li><li>  pa√≠s de registro; </li><li>  pa√≠s e provedor de IP; </li><li>  Dom√≠nio de email </li><li>  operadora de telefonia (se houver); </li><li>  dados do fb (se houver) - quantos amigos ele tem, quantas fotos ele carregou, quanto tempo ele se registrou l√°, etc. </li></ul><br>  Todas essas informa√ß√µes podem ser usadas para localizar clusters de usu√°rios.  Utilizamos o algoritmo de agrupamento <strong>K-means</strong> simples e popular.  √â perfeitamente implementado em qualquer lugar, √© suportado em qualquer biblioteca MachineLearning, √© perfeitamente paralelo, funciona rapidamente.  Existem vers√µes de streaming desse algoritmo que permitem distribuir usu√°rios em clusters em tempo real.  Mesmo em nossos volumes, tudo isso funciona muito rapidamente. <br><br>  Ap√≥s receber esses grupos de usu√°rios (clusters), podemos executar qualquer a√ß√£o.  Se os usu√°rios forem muito parecidos (o cluster est√° altamente conectado), provavelmente esse √© o registro em massa, ele deve ser interrompido imediatamente.  O usu√°rio ainda n√£o teve tempo de fazer nada, apenas clicou no bot√£o "Registrar" - e isso √© tudo, ele j√° entrou na caixa de areia. <br><br>  As estat√≠sticas podem ser coletadas nos clusters - se 50% do cluster estiver bloqueado, os 50% restantes poder√£o ser enviados para verifica√ß√£o ou moderados individualmente todos os clusters manualmente, examinar os atributos pelos quais eles coincidem e tomar uma decis√£o.  Com base nesses dados, os analistas podem identificar padr√µes. <br><br><h3>  Padr√µes <br></h3><br>  Padr√µes s√£o conjuntos dos atributos de usu√°rio mais simples que conhecemos imediatamente.  Alguns dos padr√µes realmente funcionam de maneira muito eficaz contra certos tipos de spammers. <br><br>  Por exemplo, considere uma combina√ß√£o de tr√™s atributos completamente independentes e bastante comuns: <br><br><ol><li>  O usu√°rio est√° registrado nos EUA; <br></li><li>  Seu provedor √© Privax LTD (operador de VPN); <br></li><li>  Dom√≠nio de email: [mail.ru, list.ru, bk.ru, inbox.ru]. <br></li></ol><br>  Esses tr√™s atributos, aparentemente separadamente representando nada de si mesmos, juntos d√£o a probabilidade de que seja um spammer, quase 90%. <br><br>  Voc√™ pode extrair esses padr√µes quantos desejar para cada tipo de spammer.  Isso √© muito mais eficiente e f√°cil do que exibir manualmente todas as contas ou at√© clusters. <br><br><h3>  Cluster de texto <br></h3><br>  Al√©m de agrupar usu√°rios por atributos, voc√™ pode encontrar usu√°rios que escrevem os mesmos textos.  Claro, isso n√£o √© t√£o simples.  O fato √© que nosso servi√ßo funciona em muitos idiomas.  Al√©m disso, os usu√°rios costumam escrever com abrevia√ß√µes, g√≠rias, √†s vezes com erros.  Bem, as pr√≥prias mensagens s√£o geralmente muito curtas, literalmente de 3-4 palavras (cerca de 25 caracteres). <br><br>  Portanto, se queremos encontrar textos semelhantes entre os bilh√µes de mensagens que os usu√°rios escrevem, precisamos criar algo incomum.  Se voc√™ tentar usar m√©todos cl√°ssicos com base na an√°lise da morfologia e no processamento honesto verdadeiro da linguagem, ent√£o com todas essas restri√ß√µes, g√≠rias, acr√¥nimos e v√°rias l√≠nguas, isso √© muito dif√≠cil. <br><br>  Voc√™ pode fazer um pouco mais simples - aplicar o algoritmo <strong>n-gram</strong> .  Cada mensagem que aparece √© dividida em n gramas.  Se n = 2, esses s√£o bigrams (pares de letras).  Gradualmente, a mensagem inteira √© dividida em pares de letras e as estat√≠sticas s√£o coletadas, quantas vezes cada bigrama ocorre no texto. <br><br><img src="https://habrastorage.org/webt/co/4f/st/co4fst5xivvfiyxlxu8jzy0m2a4.jpeg"><br><br>  Voc√™ n√£o pode parar em bigrams, mas adicione trigramas, skipgrams (estat√≠sticas de letras ap√≥s 1, 2, etc.).  Quanto mais informa√ß√µes obtivermos, melhor.  Mas mesmo os bigrams j√° funcionam muito bem. <br><br>  Em seguida, obtemos um vetor dos bigrams de cada mensagem cujo comprimento √© igual ao quadrado do comprimento do alfabeto. <br><br>  √â muito conveniente trabalhar com esse vetor e agrup√°-lo, porque: <br><br><ul><li>  consiste em n√∫meros; </li><li>  comprimido, n√£o h√° espa√ßos vazios; </li><li>  tamanho sempre fixo. </li><li>  o algoritmo k-means com vetores compactados de tamanho fixo √© muito r√°pido.  Nossos bilh√µes de mensagens est√£o agrupados literalmente em alguns minutos. </li></ul><br>  Mas isso n√£o √© tudo.  Infelizmente, se simplesmente coletarmos todas as mensagens com frequ√™ncia semelhante aos bigrams, obteremos mensagens com frequ√™ncia semelhante aos bigrams.  No entanto, eles n√£o precisam ter, de fato, pelo menos um significado semelhante.  Muitas vezes, existem textos longos nos quais os vetores s√£o muito pr√≥ximos, quase os mesmos, mas os textos em si s√£o completamente diferentes.  Al√©m disso, a partir de um determinado comprimento de texto, esse m√©todo de agrupamento geralmente para de funcionar, porque  as frequ√™ncias dos bigrams s√£o iguais. <br><img src="https://habrastorage.org/webt/n5/cz/x1/n5czx1j8fb0hoskjlrwcqfi4gmg.jpeg"><br><br>  Portanto, voc√™ precisa adicionar a filtragem.  Como os clusters j√° existem, eles s√£o muito pequenos, podemos filtrar facilmente dentro do cluster usando Stemming ou Bag of Words.  Dentro de um pequeno cluster, voc√™ pode literalmente comparar todas as mensagens com todos e obter o cluster no qual s√£o garantidas as mesmas mensagens que coincidem n√£o apenas nas estat√≠sticas, mas tamb√©m na realidade. <br><br>  Portanto, fizemos clustering - e, no entanto, para n√≥s (e para clustering) √© muito importante saber a verdade sobre o usu√°rio.  Se ele est√° tentando esconder a verdade de n√≥s, precisamos agir. <br><br><h3>   <br></h3><br>     ‚Äî  VPN, TOR, Proxy, .   ,   ,    ,       . <br><br>  ,    ,      ¬´   IP¬ª. <br><br><img src="https://habrastorage.org/webt/4f/mm/cz/4fmmczwlvswrgpf2lwenmap_ojg.jpeg"><br><br>        VPN ‚Äî    ,     IP-    ,    IP- VPN, Proxy  . <br><br>       : <br><br><ol><li> <strong>  ISP</strong> (Internet Service Provider),    IP-   .    ,     . <br></li><li> <strong>  Whois</strong> .  IP-  Whois    : ; ; ,    IP-;  ,   IP-    ..        ,      IP-. <br></li><li> <strong> GeolP.</strong>    ,  IP-   ,   ,     IP-   , , ,   IP- -  . <br></li><li> <strong> </strong> ‚Äî       IP- ,       GeolP, Whois,   . <br></li></ol><br>    ,   ,     ,   IP- VPN  . <br><br><img src="https://habrastorage.org/webt/xn/3-/3r/xn3-3rzsxwp1j8vkwfzqbqwf2ia.jpeg"><br><br>   <strong> </strong> ,           ‚Äî   , ,   ..,     ,  IP-  VPN. <br><br> ,    .       ,       advanced-,        100% .        . <br><br>       ,  IP-   VPN,      ,    IP-   .     , ,     .   SOCKS-proxy,          IP-   . <br><br>  ,    ,       ,   <strong>p0f</strong> .  ,      fingerprinting     ,      :   , VPN-, Proxy  ..     ,    . <br><br><h2>    <br></h2><br>  ,     , , ,  ,  :         ?  ‚Äî   !   ,               ,  ,     . <br><br>       ‚Äî         ?       .       2  ,       . <br><br>        ,    ,   ,      ,    ,    ,      ,      . <br><br><img src="https://habrastorage.org/webt/kh/ta/q4/khtaq4exl7jt9eqlx_7bkbq0toq.jpeg"><br><br>    ,     ,     ? <br><br><h3> ¬´User Decency¬ª <br></h3><br>     ‚Äî   ,            . <br><br>   ¬´¬ª : <br><br><ul><li>  ; </li><li>  ; </li><li>  ; </li><li>  ; </li><li> . </li></ul><br>              .    <strong>  </strong> .    ,       ,           ,        . <br><br>        ,   ,    ¬´ <strong> </strong> ¬ª.    , ,  ,  ,         .         . <br><br>      1, ,  ,      ,      ‚Äî        . <br><br><img src="https://habrastorage.org/webt/fn/oq/27/fnoq274iaylcaenxrn7ne2xbluk.jpeg"><br><br>         . <br><br><h3> False positive <br></h3><br> ,    ‚Äî    . ,       IP-. ,    -,          . , fingerprint,     ,  ,   ‚Äî    ,    ,     ,   ,   - . <br><br>  :            : ¬´,    ‚Äî   Pornhub ‚Äî     ?¬ª     ,    -   ,            . <br><br>      .   ,  ,      ,       . <br><br>    - ¬´Pornhub¬ª.   -      ,  -  . <br><br><img src="https://habrastorage.org/webt/hc/-b/sr/hc-bsrvrndwftksm6hpepc_jyhi.jpeg"><br><br>  -         -,           . <br><br>   ,        ,   .     : , , , ,   ..    ,   ¬´¬ª         .    ,  ,  ,   .       ,     ,      . <br><br>     ,         . <br><br><h2>  - <br></h2><br>    ‚Äî           MachineLearning,    ,             0  1 ‚Äî    . <br><img src="https://habrastorage.org/webt/bg/oa/tb/bgoatbaeeo_0zxpxfafc-d7qxl0.jpeg"><br><br>     ,     ,     <strong> </strong> ,   .       ,       ,          .            ,   -  ,  . <br><br>  ,           ‚Äî   .        ‚Äî   ,      . <br><br>     ,     (   )  ,       ,     . , ,    ,              :  ,  ,   .         . <br><br><blockquote>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HighLoad++ 2018</a> ,            , : <br><br><ul><li>       ML-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,        <br></li><li>    NVIDIA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   ,        . <br></li><li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>  use case    . <br></li></ul><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">youtube-</a> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ‚Äî ,           . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426843/">https://habr.com/ru/post/pt426843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt426825/index.html">Algumas dicas para freelancers</a></li>
<li><a href="../pt426831/index.html">Conversa desagrad√°vel, herpetologista e completa surpresa</a></li>
<li><a href="../pt426835/index.html">An√°lise comparativa e detalhada de plug-ins de cache para WordPress</a></li>
<li><a href="../pt426837/index.html">Transmiss√£o de v√≠deo em seu site que funciona</a></li>
<li><a href="../pt426839/index.html">Esqueceu o Total.js?</a></li>
<li><a href="../pt426849/index.html">4 ferramentas para executar comandos em v√°rios servidores Linux simultaneamente</a></li>
<li><a href="../pt426851/index.html">Desenvolvimento Web moderno: escolha sua aventura</a></li>
<li><a href="../pt426853/index.html">‚ÄúS na IoT significa seguran√ßa‚Äù: foi adotada a primeira lei do mundo sobre prote√ß√£o de dispositivos inteligentes - entendemos qual √© a ess√™ncia</a></li>
<li><a href="../pt426861/index.html">Uma nova ca√ßa √† mat√©ria escura acontece sob a montanha</a></li>
<li><a href="../pt426863/index.html">Dispon√≠vel sobre quaternions e seus benef√≠cios</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>