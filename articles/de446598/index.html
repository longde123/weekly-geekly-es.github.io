<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍✈️ 🍕 🏂🏻 Neuerstellen von CRT-Schriftarten 👩🏼‍🤝‍👩🏻 👩🏼‍🎤 🗒️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Glyphenstudien an DEC VT100- und VT220-Terminals 

 Vor kurzem hat mich die Emulation analoger Medien ein wenig mitgerissen: Ich wollte die Rastergraf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neuerstellen von CRT-Schriftarten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446598/"> <i>Glyphenstudien an DEC VT100- und VT220-Terminals</i> <br><br>  Vor kurzem hat mich die Emulation analoger Medien ein wenig mitgerissen: Ich wollte die Rastergrafiken von CRTs wie auf den „Glasterminals“ der Vergangenheit wie der legendären VT-Serie der Digital Equipment Corporation (DEC) neu erstellen.  Dabei stellte sich eine Reihe von Fragen zu den Funktionen der Schriftanzeige in CRT-Pixelgrafiken.  Ich frage mich, wie die Schriftarten tatsächlich ausgesehen haben und ob es möglich ist, sie gemäß den Spezifikationen zu rekonstruieren. <br><br><img src="https://habrastorage.org/webt/y3/qh/t4/y3qht4lf3uu5uqkqdlk6rj0f-sg.png"><br>  <i><font color="gray">Moderne TrueType-Schriftarten erstellen VT220-Glyphen neu.</font></i>  <i><font color="gray">Beachten Sie, dass VT-Terminals zwei Auflösungsmodi unterstützen: einen für 132 Zeichen pro Zeile und einen für 80 Zeichen (Zeichenmatrix 9 × 10 bzw. 10 × 10). In letzterem Fall wird das Intervall um ein Pixel verlängert</font></i> <br><br>  Aufgrund der Fülle an technischen Informationen auf Websites wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vt100.net</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bitsavers.org können</a> Sie das Erscheinungsbild dieser Schriftarten leicht bestimmen.  Zum Beispiel können wir Glyphen aus der Terminal-Firmware wiederherstellen.  Es gibt sogar TrueType-Schriftarten, die die VT220-Typografie wiederholen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Glass TTY VT220</a> mit Rasterlinien und <a href="">DEC Terminal Modern</a> mit modernen, glatten Umrissen (siehe Abbildung oben). <br><a name="habracut"></a><br>  Bei näherer Betrachtung unterscheiden sich diese Schriftarten erheblich voneinander, aber keine von ihnen sieht richtig aus.  Im Vergleich zu Fotos des echten VT100 machen sich die Unterschiede nicht nur in der Schriftdichte, sondern auch in der Größe und Form der Umrisse und im allgemeinen „Gefühl“ der Schrift bemerkbar.  Terminalfotos können jedoch auch nicht das tatsächliche Gefühl der Schriftdichte vermitteln, da dies stark von den Aufnahmeparametern abhängt: <br><br><img src="https://habrastorage.org/webt/f6/t5/zi/f6t5zipsa1icpxbc8jerhj3hxcs.jpeg"><br>  <i><font color="gray">Abenteuerspiel Colossal CavePhoto auf dem Bildschirm von VT100.</font></i>  <i><font color="gray">Foto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wikipedia, Dave Fisher</a> , 2008, Wikimedia Commons (bearbeitet, NL).</font></i> <br><br><img src="https://habrastorage.org/webt/x7/mp/or/x7mpor5pzdlcxnipb56fgjrsm_s.jpeg"><br>  <i><font color="gray">Zeigen Sie die Verzeichnisliste auf dem VT100 an.</font></i>  <i><font color="gray">Foto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jason Scott</a> , 2013. Creative Commons (bearbeitet, NL).</font></i> <br><br>  Da die Fotos nicht sehr hilfreich sind, ist es Zeit, einen Blick auf die Firmware zu werfen. <br><br><h1>  Firmware </h1><br>  Es gibt Kopien des ROM, Sie können einfach echte Schriftarten daraus extrahieren, die perfekt zum Original passen, oder? .. Was könnte schief gehen? <br><br><img src="https://habrastorage.org/webt/jb/tc/nt/jbtcntimehavutnlbkme3kk8_ru.png"><br>  <i><font color="gray">Der Inhalt des ROM von den Klemmen VT100 (links) und VT220 (rechts).</font></i>  <i><font color="gray">Die VT200-Partition wurde von Paul Flo Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vt100.net</a> (2008) durchgeführt.</font></i>  <i><font color="gray">VT100 ergänzt von mir, N. L.).</font></i>  <i><font color="gray">Die Zeichen 'a', 'c', 'g', '2', '6', '7', '9', '@', '%', '{', '}', '|' , '°' und die Form der Steuerzeichen (␉ ␍ ␊ ␤ ␋).</font></i>  <i><font color="gray">Darüber hinaus hat VT220 mehr Zeichen</font></i> <br><br>  Das sieht auch falsch aus.  Natürlich erstrecken sich Glyphen vertikal bis ungefähr zur doppelten Höhe, aber dies ist nicht die einzige Verzerrung.  Charaktere sehen einfach nicht richtig aus.  Schauen Sie sich zum Beispiel 'p' und 'q' oder die Punkte des stromabwärtigen rechten Strichs von 'k' an, ganz zu schweigen von den lustigen Umrissen von '6' und '9' auf dem VT100 oder der verzerrten '2'!  Darüber hinaus beträgt die Zeichenmatrix bei näherer Betrachtung nur 8 × 10, während wir mindestens 9 × 10 (und 10 × 10 für einen Modus mit 80 Spalten) erwartet haben, wie in den Spezifikationen beschrieben.  Dies ist eindeutig nicht das, was auf dem Bildschirm angezeigt wird. <br><br><h1>  Phosphor </h1><br>  Schauen wir uns noch einmal die Handbücher an, insbesondere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das Technische Handbuch der VT100-Serie</a> (2. Auflage, EK-VT100-TM-002; DEC, Maynard, Massachsetts, 1979).  Es heißt, dass die Sache in der Verzögerung des Leuchtstoffs (Phosphor) ist: <br><br><img src="https://habrastorage.org/webt/jx/hj/bp/jxhjbpuolfxlznuwuy4swjaxli8.png"><br>  <i><font color="gray">Pulsdauer und Phosphoraktivierungsprofil für VT100 und VT200 (Technisches Handbuch der VT100-Serie, EK-VT100-TM-002, S. 4-78).</font></i>  <i><font color="gray">Beachten Sie, dass Signalimpulsprofile stark idealisiert und in analoger Realität auch geneigt sind</font></i> <br><br>  Die Zeit der vollständigen Aktivierung des Leuchtstoffs ist tatsächlich länger als die Pulsdauer für ein Pixel (40 Nanosekunden).  Dies bedeutet, dass, wenn wir versuchen, nur ein Pixel anzuzeigen, der Leuchtstoff an dieser bestimmten Stelle niemals seine volle Aktivierungsstufe erreicht, was zu einem verschwommenen Bild unterschiedlicher Helligkeit zwischen den stumpfen, dünneren Abschnitten und den dichteren, dickeren führt.  Daher muss die Typografie angepasst werden, um Impulse mit doppelter Dauer (80 ns) zu erzeugen, um ein klares Bild und lesbaren Text bereitzustellen. <br><br><img src="https://habrastorage.org/webt/mb/ts/i7/mbtsi7hleah73ui8i5icki9jczq.png"><br>  <i><font color="gray">Impulse mit einfacher und doppelter Dauer und Phosphoraktivierung (von dort, herausgegeben von NL)</font></i> <br><br><h1>  Punktdehnungsmuster </h1><br>  Zu diesem Zweck verwenden VT-Terminals ein spezielles Punktdehnungsverfahren: Einzelne Zeilen der Zeichenmatrix aus dem ROM werden im laufenden Betrieb modifiziert, wodurch alle Impulse des aktiven Pixels um ein weiteres Pixel erweitert werden.  Wenn sich ein Pixel im ROM befindet, werden zwei auf dem Bildschirm angezeigt.  Wo zwei in einer Reihe, werden drei angezeigt. <br><br>  Somit erweitert sich unsere 8 × 10-Matrix auf die erwarteten 9 × 10 (oder 10 × 10 im 80-Spalten-Modus, bei dem das letzte Pixel zum Zeichnen von Linien durch einen anderen Impuls gestreckt wird). <br><br><img src="https://habrastorage.org/webt/uw/ft/m2/uwftm2o-ua4zckayml2_t0pmsym.png"><br>  <i><font color="gray">Dehnungspunkte in VT100 und VT200 (Technisches Handbuch der VT100-Serie, EK-VT100-TM-002, S. 4-78)</font></i> <br><br>  Dies führt jedoch zu unterschiedlichen Ergebnissen für Zeichen normaler Größe und doppelter Breite!  Dank der Wunder der Dehnungspunkte enthält eine Schriftart zwei Schriftarten, von denen jede von der Größe des Bildschirms abhängt! <br><br><img src="https://habrastorage.org/webt/ra/fw/03/rafw034u4t10ij1_t5qidmuvx88.png"><br><ol><li>  <i><font color="gray">Wie im ROM</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Einzelpunkt-Streckbreite</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Doppelte Breite mit Punktdehnung</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Einzelbreite mit Punktdehnung und Verzögerung (Leuchtstoff)</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Doppelte Breite mit Punktdehnung und Verzögerung (Leuchtstoff)</font></i> </li></ol> <i><font color="gray"><br></font></i>  <i><font color="gray">(1, 2, 3 nach Paul Flo Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vt100.net</a> , 4 und 5 von mir hinzugefügt, NL)</font></i> <br><br>  Es ist von grundlegender Bedeutung, dass das Bild (2) gepunktete Linien aufweist, die sich von den klaren Linien bei modernen Schriftrekonstruktionen unterscheiden.  Wenn wir jedoch sinusförmige und kosinusähnliche Diagramme der Leuchtstoffaktivierung hinzufügen (Abb. 4 und 5 sowie ein Diagramm mit einem Aktivierungsdiagramm oben), erhalten wir eine genauere Version der tatsächlichen Anzeige auf dem Bildschirm (denken Sie daran, dass VT100 und VT220 recht auffällige Rasterlinien zeigen). <br><br><img src="https://habrastorage.org/webt/ld/0t/pi/ld0tpixi_wnpxj4rojloxszhlbk.png"><br>  <i><font color="gray">VT220-Zeichenmuster (80-Spalten-Modus).</font></i> <i><font color="gray"><br><br></font></i> <ol><li>  <i><font color="gray">Wie im ROM</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Einzelpunkt-Streckbreite</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Phosphoraktivierungsgrafiken hinzugefügt</font></i> <i><font color="gray"><br></font></i> </li><li>  <i><font color="gray">Phosphorglühen hinzugefügt</font></i> </li></ol><br>  <i><font color="gray">(1 und 23 nach Paul Flo Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vt100.net</a> , 3, 4 und Negativ von mir hinzugefügt, N. L.)</font></i> <br><br>  Es gibt ein ziemlich extremes Beispiel dafür, wie das Medium das Erscheinungsbild der typografischen Form bestimmt oder wie das Design von Glyphen unter Berücksichtigung des Mediums und seiner spezifischen technologischen Einschränkungen erstellt wird, um die gewünschte Typografie zu erzielen.  Betrachtet man die Phosphoraktivierungseffekte, die Verzögerung und das Leuchten, wird deutlich, warum unterschiedliche Fotos der Bildschirme von VT-Terminals je nach Verschlusszeit der Kamera unterschiedliche Schriftbreiten aufweisen, während die allgemeine Glätte der Schrift erhalten bleibt. <br><br>  Hier ist eine weitere Darstellung der Schriftarten im ROM unter Verwendung der beschriebenen Effekte, die dem realen Bildschirmbild besser ähnlich sind: <br><br><img src="https://habrastorage.org/webt/pp/ti/57/ppti57nawm_vucjof_hpejdika0.png"><br>  <i><font color="gray">Sichtbare Glyphen VT100 (links) und VT220 (rechts)</font></i> <br><br>  Die doppelt breiten VT100-Zeichen werden im Vergleich zu den normalen einfach breiten Zeichen (schwarz auf weiß und auch negativ, wie sie auf dem Bildschirm wahrgenommen werden) unten angezeigt: <br><br><img src="https://habrastorage.org/webt/2a/0x/le/2a0xleueenpzyyfvfbiofkenobu.png"><br><br><h1>  Bilder von der Werkbank </h1><br>  Und schließlich zwei Bilder von meiner funktionierenden „Workbench“, auf denen ich versuche, den Bildschirm des analogen Terminals in einem Webbrowser mithilfe von HTML5 und der Canvas-API neu zu erstellen.  Vielleicht ein bisschen Retro-Unschärfe, aber Sie haben die Idee: <br><br><img src="https://habrastorage.org/webt/eb/re/fk/ebrefkqficqooxj_bi108wvglyq.png"><br>  <i><font color="gray">VT100-Emulation (Screenshot)</font></i> <br><br><img src="https://habrastorage.org/webt/rp/wk/ab/rpwkabj6rb_hbzl2sstf2odhqwa.png"><br>  <i><font color="gray">VT220-Emulation (Screenshot)</font></i> <br><br>  Und das ist alles für heute ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de446598/">https://habr.com/ru/post/de446598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de446582/index.html">Überlegungen zum Solar Hosting für Bienen</a></li>
<li><a href="../de446586/index.html">Netzwerkeinstellungen von FreeRadius über DHCP</a></li>
<li><a href="../de446588/index.html">Überprüfen des Roslyn-Quellcodes</a></li>
<li><a href="../de446590/index.html">39 neue Funktionen in Java 12</a></li>
<li><a href="../de446592/index.html">Überprüfen des Quellcodes von Roslyn</a></li>
<li><a href="../de446602/index.html">Maximaler Gleichstrom durch Feldeffekttransistor</a></li>
<li><a href="../de446604/index.html">ESET: Neue Backdoor-Lieferprogramme für OceanLotus Cybergroup</a></li>
<li><a href="../de446606/index.html">Überprüfen Sie, wie gut Sie in der additiven Technologie sind</a></li>
<li><a href="../de446608/index.html">Überwindung des dritten Gesetzes der organisatorischen Schwerkraft</a></li>
<li><a href="../de446612/index.html">In dem Moment, als wir anfingen, an Innovation zu glauben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>