<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÇüèæ üöµüèº ‚òùüèº Texturas para la introducci√≥n de 64k: c√≥mo se hace hoy üîô üöØ üîº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo es la segunda parte de nuestra serie H - Immersion . La primera parte se puede leer aqu√≠: Inmersi√≥n en Inmersi√≥n . 

 Al crear una anima...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Texturas para la introducci√≥n de 64k: c√≥mo se hace hoy</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419007/">  <i>Este art√≠culo es la segunda parte de nuestra serie</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>H - Immersion</i></a> <i>.</i>  <i>La primera parte se puede leer aqu√≠:</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>Inmersi√≥n en Inmersi√≥n</i></a> <i>.</i> <br><br>  Al crear una animaci√≥n de solo 64 KB, es dif√≠cil usar im√°genes preparadas.  No podemos almacenarlos de la manera tradicional, porque no es lo suficientemente eficiente, incluso si aplica compresi√≥n, por ejemplo, JPEG.  Una soluci√≥n alternativa es la generaci√≥n de procedimientos, es decir, escribir c√≥digo que describa la creaci√≥n de im√°genes durante la ejecuci√≥n del programa.  Nuestra implementaci√≥n de esta soluci√≥n fue un generador de texturas, una parte fundamental de nuestra cadena de herramientas.  En esta publicaci√≥n explicaremos c√≥mo lo desarrollamos y lo usamos en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>H - Immersion</i></a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a8/2ee/a7e/6a82eea7ea42a6ca5cf4b437545b3893.jpg"></div><br>  <i>Los reflectores submarinos iluminan los detalles del fondo marino.</i> <br><a name="habracut"></a><br><h2>  Versi√≥n temprana </h2><br>  La generaci√≥n de texturas fue uno de los primeros elementos de nuestra base de c√≥digo: las texturas de procedimiento ya se utilizaron en nuestra primera introducci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>B - Incubaci√≥n</i></a> .  <a href="">El c√≥digo</a> consist√≠a en un conjunto de funciones que rellenan, filtran, transforman y combinan texturas, as√≠ como un gran bucle que omite todas las texturas.  Estas funciones se escribieron en C ++ puro, pero luego se agreg√≥ la interacci√≥n C API para que el int√©rprete C <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PicoC</a> pueda evaluarlas.  En ese momento, utilizamos PicoC para reducir el tiempo que toma cada iteraci√≥n: de esta manera pudimos cambiar y recargar texturas durante la ejecuci√≥n del programa.  Cambiar al subconjunto C fue un peque√±o sacrificio en comparaci√≥n con el hecho de que ahora podr√≠amos cambiar el c√≥digo y ver el resultado inmediatamente, sin molestarnos en cerrar, recompilar y volver a cargar toda la demostraci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70d/88e/4c9/70d88e4c948bfbd24f7d003b5a92f6af.png"></div><br>  <i>Usando un patr√≥n simple, un poco de ruido y deformaci√≥n, podemos obtener una textura de madera estilizada.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e28/a67/83b/e28a6783bd53715bb1514bc6aa2c655f.jpg"></div><br>  <i>En esta escena</i> del taller <i>de</i> F - Felix <i>se utilizaron varias texturas de madera.</i> <br><br>  Durante alg√∫n tiempo, exploramos las capacidades de este generador y, como resultado, lo publicamos en un servidor web con un peque√±o script PHP y una interfaz web simple.  Podr√≠amos escribir el c√≥digo de textura en un campo de texto, y el script lo pas√≥ al generador, que luego arroj√≥ el resultado como un archivo PNG para mostrar en la p√°gina.  Muy pronto, comenzamos a dibujar en el trabajo durante el almuerzo y compartimos nuestras peque√±as obras maestras con otros miembros del grupo.  Esta interacci√≥n nos motiv√≥ al proceso creativo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f15/be6/722/f15be672247f38176102734d115a5001.png"></div><br>  <i>Galer√≠a web de nuestro antiguo generador de texturas.</i>  <i>Todas las texturas se pueden editar en el navegador.</i> <br><br><h2>  Redise√±o completo </h2><br>  Durante mucho tiempo, el generador de textura permaneci√≥ casi sin cambios;  pensamos que era bueno y nuestra efectividad dej√≥ de aumentar.  Pero una vez que descubrimos que hay muchos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">artistas</a> en los foros de Internet que demuestran sus texturas generadas por procedimientos, as√≠ como tambi√©n organizan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desaf√≠os</a> sobre diversos temas.  El contenido procesal alguna vez fue una caracter√≠stica de la escena de demostraci√≥n, pero <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Allegorithmic</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ShaderToy</a> y herramientas similares lo hicieron accesible al p√∫blico en general.  No prestamos atenci√≥n a esto, y comenzaron a ponernos f√°cilmente en los om√≥platos.  Inaceptable! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/12a/7cb/e33/12a7cbe33257454ca8e23c53dd84ef00.jpg"></div><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sof√° de tela</a> .</i>  <i>Una textura de tela totalmente procesal creada en Substance Designer.</i>  <i>Publicado por: Imanol Delgado.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.artstation.com/imanoldelgado</a></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b3e/25a/47e/b3e25a47ed73c407de4335f5e58cc87b.jpg" alt="imagen"></div><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Piso del bosque</a> .</i>  <i>Textura de suelo forestal completamente procesal creada por Substance Designer.</i>  <i>Publicado por Daniel Thiger.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.artstation.com/dete</a></i> <br><br>  Durante mucho tiempo hemos necesitado repensar nuestras herramientas.  Afortunadamente, muchos a√±os de trabajo con el mismo generador de texturas nos permitieron reconocer sus defectos.  Adem√°s, nuestro generador de malla naciente tambi√©n nos dijo c√≥mo deber√≠a ser la canalizaci√≥n de contenido procesal. <br><br>  El error arquitect√≥nico m√°s importante fue la implementaci√≥n de la generaci√≥n como un conjunto de operaciones con objetos de textura.  Desde el punto de vista de una perspectiva de alto nivel, este puede ser el enfoque correcto, pero desde el punto de vista de la implementaci√≥n, funciones como <b>texture.DoSomething ()</b> o <b>Combine (textureA, textureB)</b> tienen serios inconvenientes. <br><br>  Primero, el estilo OOP requiere que declares estas funciones como parte de la API, sin importar cu√°n simples sean.  Este es un problema grave porque no escala bien y, lo que es m√°s importante, crea fricciones innecesarias en el proceso creativo.  No quer√≠amos cambiar la API cada vez que necesit√°bamos probar algo nuevo.  Esto complica la experimentaci√≥n y limita la libertad creativa. <br><br>  En segundo lugar, en t√©rminos de rendimiento, este enfoque requiere que procese datos de textura en ciclos tantas veces como haya operaciones.  Esto no ser√≠a especialmente importante si estas operaciones fueran costosas con respecto al costo de acceder a grandes fragmentos de memoria, pero generalmente esto no es as√≠.  Con la excepci√≥n de una fracci√≥n muy peque√±a de operaciones, por ejemplo, generar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ruido</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">relleno de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Perlin</a> , son b√°sicamente muy simples y requieren solo unas pocas instrucciones sobre el punto de textura.  Es decir, eludimos los datos de textura para realizar operaciones triviales, lo cual es extremadamente ineficiente desde el punto de vista del almacenamiento en cach√©. <br><br>  La nueva estructura resuelve estos problemas mediante la reorganizaci√≥n de la l√≥gica.  La mayor√≠a de las funciones en la pr√°ctica realizan independientemente la misma operaci√≥n para cada elemento de textura.  Por lo tanto, en lugar de escribir una funci√≥n <b>texture.DoSomething ()</b> que omita todos los elementos, podemos escribir <b>texture.ApplyFunction (f)</b> , donde <b>f (element)</b> funciona solo para un solo elemento de textura.  Entonces <b>f (elemento)</b> se puede escribir de acuerdo con una textura espec√≠fica. <br><br>  Esto parece un cambio menor.  Sin embargo, esta estructura simplifica la API, hace que el c√≥digo de generaci√≥n sea m√°s flexible y expresivo, m√°s amigable con la cach√© y permite el procesamiento paralelo con facilidad.  Muchos de los lectores ya se dieron cuenta de que esto es esencialmente un sombreador.  Sin embargo, la implementaci√≥n real sigue siendo el c√≥digo C ++ ejecutado en el procesador.  A√∫n conservamos la capacidad de realizar operaciones fuera del ciclo, pero usamos esta opci√≥n solo cuando es necesario, por ejemplo, por convoluci√≥n. <br><br><h3>  Fue: </h3><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     . // API . //    -  API. //      . class ProceduralTexture { void DoSomething(parameters) { for (int i = 0; i &lt; size; ++i) { //   . (*this)[i] = ‚Ä¶ } } void PerlinNoise(parameters) { ‚Ä¶ } void Voronoi(parameters) { ‚Ä¶ } void Filter(parameters) { ‚Ä¶ } void GenerateNormalMap() { ‚Ä¶ } }; void GenerateSomeTexture(texture t) { t.PerlinNoise(someParameter); t.Filter(someOtherParameter); ‚Ä¶ //  .. t.GenerateNormalMap(); }</span></span></code> </pre> <br><h3>  Se convirti√≥ en: </h3><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//       . // API . //     . //      . class ProceduralTexture { void ApplyFunction(functionPointer f) { for (int i = 0; i &lt; size; ++i) { //    . (*this)[i] = f((*this)[i]); } } }; void GenerateNormalMap(ProceduralTexture t) { ‚Ä¶ } void SomeTextureGenerationPass(void* out, PixelInfo in) { result = PerlinNoise(in); result = Filter(result); ‚Ä¶ //  .. *out = result; } void GenerateSomeTexture(texture t) { t.ApplyFunction(SomeTextureGenerationPass); GenerateNormalMap(t); }</span></span></code> </pre> <br><h2>  Paralelizaci√≥n </h2><br>  La generaci√≥n de textura lleva tiempo, y un candidato obvio para reducir este tiempo es la ejecuci√≥n de c√≥digo paralelo.  Como m√≠nimo, puedes aprender a generar m√∫ltiples texturas a la vez.  Esto es exactamente lo que hicimos para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>F <em>-</em> el taller de Felix</i></a> , y esto redujo enormemente el tiempo de carga. <br><br>  Sin embargo, esto no ahorra tiempo donde m√°s se necesita.  Todav√≠a lleva mucho tiempo generar una textura.  Esto se aplica al cambio a medida que continuamos recargando la textura una y otra vez antes de cada modificaci√≥n.  En cambio, es mejor paralelizar el c√≥digo interno de generaci√≥n de texturas.  Como ahora el c√≥digo consiste esencialmente en una gran funci√≥n aplicada en un bucle a cada texel, la paralelizaci√≥n se vuelve simple y eficiente.  Reduce el costo de los experimentos, ajustes y borradores, lo que afecta directamente el proceso creativo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/cb7/21f/ac9cb721febdfc0b32300bb02f84fefe.jpg"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/191/c1e/a6d/191c1ea6de84670abe256fb67e7dc165.jpg"></div><br>  <i>Ilustraci√≥n de una idea que exploramos y descartamos para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>H - Inmersi√≥n</i></a> : una decoraci√≥n de mosaico con forro de oricalco.</i>  <i>Aqu√≠ se muestra en nuestra herramienta de edici√≥n interactiva.</i> <br><br><h2>  Generaci√≥n lateral de GPU </h2><br>  Si esto a√∫n no es obvio, entonces dir√© que la generaci√≥n de texturas se realiza por completo en la CPU.  Quiz√°s algunos de ustedes est√©n leyendo estas l√≠neas ahora y est√©n perplejos "pero ¬øpor qu√©?".  Parece que el paso obvio es la generaci√≥n de textura en el procesador de video.  Para empezar, aumentar√° la tasa de generaci√≥n en un orden de magnitud.  Entonces, ¬øpor qu√© no lo usamos? <br><br>  La raz√≥n principal es que el objetivo de nuestro peque√±o redise√±o era permanecer en la CPU.  Cambiar a una GPU significar√≠a mucho m√°s trabajo.  Tendr√≠amos que resolver problemas adicionales para los que todav√≠a no tenemos suficiente experiencia.  Al trabajar con la CPU, tenemos una comprensi√≥n clara de lo que queremos y sabemos c√≥mo solucionar los errores anteriores. <br><br>  Sin embargo, la buena noticia es que, gracias a la nueva estructura, experimentar con la GPU ahora parece bastante trivial.  Probar combinaciones de ambos tipos de procesadores ser√° un experimento interesante para el futuro. <br><br><h2>  Generaci√≥n de textura y sombreado f√≠sicamente preciso. </h2><br>  Otra limitaci√≥n del dise√±o anterior era que la textura se consideraba solo como una imagen RGB.  Si necesit√°bamos generar m√°s informaci√≥n, digamos la textura difusa y la textura de las normales para la misma superficie, entonces nada nos impidi√≥ hacerlo, pero la API no ayud√≥ mucho.  Esto se ha vuelto especialmente importante en el contexto del sombreado con base f√≠sica (PBR). <br><br>  En una tuber√≠a tradicional sin PBR, generalmente se usan texturas de color, en las que se hornea mucha informaci√≥n.  Dichas texturas a menudo representan la apariencia final de la superficie: ya tienen un cierto volumen, las grietas se oscurecen e incluso puede haber reflejos en ellas.  Si se usan varias texturas al mismo tiempo, los detalles a gran y peque√±a escala generalmente se combinan para agregar mapas normales o reflectividad de superficie. <br><br>  Los transportadores de PBR de superficie generalmente usan conjuntos de texturas m√∫ltiples que representan valores f√≠sicos en lugar del resultado art√≠stico deseado.  La textura de color difusa, que est√° m√°s cerca de lo que a menudo se llama el "color" de la superficie, generalmente es plana y poco interesante.  El color especular est√° determinado por el √≠ndice de refracci√≥n de la superficie.  La mayor√≠a de los detalles y la variabilidad se toman de las texturas de las normales y la rugosidad (rugosidad) (que alguien puede considerar igual, pero con dos escalas diferentes).  La reflectividad percibida de una superficie se convierte en una consecuencia de su nivel de rugosidad.  En esta etapa, ser√° m√°s l√≥gico pensar en t√©rminos no de materiales, sino de materiales. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e6/ad2/e95/2e6ad2e9555afadc279ff0227d1ff54a.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2d/3a4/71f/c2d3a471f7fb9a352db83454e0288a91.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/446/8d1/52c/4468d152ce8ba5b8a4f563c8cc428533.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b58/dad/d05/b58dadd05ca838c5fdc4ec5daec0855b.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a8/2ee/a7e/6a82eea7ea42a6ca5cf4b437545b3893.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/156/2a7/53f/1562a753fe3172e4add501ed110d3f7d.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1e/91d/c4e/f1e91dc4ec162b76e1ba139f22e0e1d9.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf5/627/9e8/cf56279e8263eaea1411824f60d10503.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a9/525/b03/0a9525b03c6033b76587107f7a87a4bf.jpg"></div><br>  La nueva estructura nos permite declarar formatos arbitrarios de p√≠xeles para texturas.  Habi√©ndolo hecho parte de la API, le permitimos tratar con todo el c√≥digo repetitivo.  Despu√©s de declarar el formato de p√≠xel, podemos centrarnos en el c√≥digo creativo sin gastar demasiado esfuerzo procesando estos datos.  En tiempo de ejecuci√≥n, generar√° varias texturas y las transferir√° de forma transparente a la GPU. <br><br>  En algunas tuber√≠as PBR, los colores difusos y especulares no se transmiten directamente.  En cambio, se utilizan los par√°metros de "color base" y "metalidad", lo que tiene sus ventajas y desventajas.  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>H - Inmersi√≥n,</i></a> utilizamos el modelo especular difuso +, y el material generalmente consta de cinco capas: <br><br><ol><li>  Color difuso (RGB; 0: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vantablack</a> ; 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nieve fresca</a> ). </li><li>  Color especular (RGB: fracci√≥n de luz reflejada a 90 ¬∞, tambi√©n conocida como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>F0</i> o <i>R0</i></a> ). </li><li>  Rugosidad (A; 0: perfectamente lisa; 1: similar a la goma). </li><li>  Normal (XYZ; vector unitario). </li><li>  Elevaci√≥n del terreno (A; utilizado para el mapeo de oclusi√≥n de paralaje). </li></ol><br>  Cuando se usa, la informaci√≥n de emisi√≥n de luz se agrega directamente al sombreador.  No nos pareci√≥ necesario tener oclusi√≥n ambiental, porque en la mayor√≠a de las escenas no hay iluminaci√≥n ambiental.  Sin embargo, no me sorprender√° que tengamos capas adicionales u otro tipo de informaci√≥n, por ejemplo, anisotrop√≠a u opacidad. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8b8/185/de9/8b8185de93298b085276109a8f30efef.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2c/6bb/876/a2c6bb876297e1b0a21fbe8463e19b66.jpg"></div><br>  Las im√°genes de arriba muestran un experimento reciente con la generaci√≥n de oclusi√≥n ambiental local basada en la altitud.  Para cada direcci√≥n, recorremos una distancia predeterminada y mantenemos la mayor pendiente (diferencia de altura dividida por la distancia).  Luego calculamos la oclusi√≥n a partir de la pendiente promedio. <br><br><h2>  Restricciones y trabajo futuro </h2><br>  Como puede ver, la nueva estructura se ha convertido en una mejora importante sobre la anterior.  Adem√°s, ella alienta la expresi√≥n creativa.  Sin embargo, ella todav√≠a tiene limitaciones que queremos eliminar en el futuro. <br><br>  Por ejemplo, aunque no hubo problemas en esta introducci√≥n, notamos que la asignaci√≥n de memoria podr√≠a ser un obst√°culo.  Al generar texturas, se utiliza una matriz de valores flotantes.  Con texturas grandes con muchas capas, puede encontrar r√°pidamente un problema con la asignaci√≥n de memoria.  Hay varias formas de resolverlo, pero todas tienen sus inconvenientes.  Por ejemplo, podemos generar texturas mosaico por mosaico, mientras que la escalabilidad ser√° mejor, sin embargo, la implementaci√≥n de algunas operaciones, como la convoluci√≥n, se vuelve menos obvia. <br><br>  Adem√°s, en este art√≠culo, a pesar de la palabra "materiales" utilizada, hablamos solo de texturas, pero no de sombreadores.  Sin embargo, el uso de materiales tambi√©n debe conducir a sombreadores.  Esta contradicci√≥n refleja las limitaciones de la estructura existente: la generaci√≥n de textura y el sombreado son dos partes separadas separadas por un puente.  Intentamos facilitar el cruce de este puente, pero de hecho queremos que estas partes se conviertan en una sola.  Por ejemplo, si un material tiene par√°metros est√°ticos y din√°micos, entonces queremos describirlos en un solo lugar.  Este es un tema complejo y a√∫n no sabemos si hay una buena soluci√≥n, pero no nos adelantemos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a5/ee7/42d/0a5ee742d8f5f83b3f0255176caa90c3.jpg" alt="imagen"></div><br>  <i>Un experimento para crear una textura de tela similar al trabajo de Imadol Delgado que se muestra arriba.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es419007/">https://habr.com/ru/post/es419007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418997/index.html">Contribuci√≥n real al c√≥digo abierto real</a></li>
<li><a href="../es418999/index.html">[Anuncio, Peter] Reuni√≥n de JUG.ru con Andrei Belyaev y Alexei Stukalov - Troll oprime a CUBA: Preguntas frecuentes</a></li>
<li><a href="../es419001/index.html">5 "super habilidades" necesarias para el trabajo del futuro</a></li>
<li><a href="../es419003/index.html">Resumen de noticias de blockchain</a></li>
<li><a href="../es419005/index.html">Excursi√≥n a la subestaci√≥n 220/110/20</a></li>
<li><a href="../es419009/index.html">Clang e IDE: una historia sobre la amistad y la amistad</a></li>
<li><a href="../es419011/index.html">Jinja2 en el mundo C ++, segunda parte. Renderizado</a></li>
<li><a href="../es419013/index.html">Atribuci√≥n basada en embudos para empresas B2B SaaS, ya que consideramos el valor de todos los esfuerzos de marketing</a></li>
<li><a href="../es419017/index.html">Novedades de RestraintLayout 1.1</a></li>
<li><a href="../es419019/index.html">AlterEgo: un dispositivo que puede leer (algunos) pensamientos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>