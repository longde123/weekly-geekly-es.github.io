<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå∑ üí£ ü§£ Wir schreiben einen "Taschenrechner" in C #. Teil I. Wertberechnung, Ableitung, Vereinfachung und andere G√§nse üö£üèø üîô üí™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! 

 Aus irgendeinem Grund ist unser Taschenrechner mit etwas verbunden, das jeder Anf√§nger schreiben sollte. Vielleicht, weil historisch gesehen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir schreiben einen "Taschenrechner" in C #. Teil I. Wertberechnung, Ableitung, Vereinfachung und andere G√§nse</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482228/">  Hallo! <br><br>  Aus irgendeinem Grund ist unser Taschenrechner mit etwas verbunden, das jeder Anf√§nger schreiben sollte.  Vielleicht, weil historisch gesehen Computer f√ºr diesen Zweck geschaffen wurden, um zu z√§hlen.  Aber wir werden einen schwierigen Taschenrechner schreiben, nat√ºrlich nicht sympisch, sondern um grundlegende algebraische Operationen wie Differenzierung, Vereinfachung und Funktionen wie Kompilieren ausf√ºhren zu k√∂nnen, um Berechnungen zu beschleunigen. <br><br><div class="spoiler">  <b class="spoiler_title">Weniger Wasser!</b>  <b class="spoiler_title">Worum geht es in dem Artikel?</b> <div class="spoiler_text">  Hier geht es oberfl√§chlich darum, einen Ausdruck zu konstruieren, aus einer Zeichenfolge zu analysieren, eine Variable zu substituieren, eine Ableitung zu analysieren, eine Gleichung und ein bestimmtes Integral numerisch zu l√∂sen, komplexe Zahlen in das LaTeX-Format zu rendern, Funktionen zu kompilieren, Klammern zu vereinfachen, zu erweitern und bla bla bla.  Wahrscheinlich nicht in einem Artikel. <br>  <i>F√ºr diejenigen, die dringend etwas klonen m√ºssen, ein <a href="https://github.com/Angourisoft/MathS" rel="nofollow">Link zum Repository</a> .</i> <br></div></div><br>  Wir nehmen die Kekse aus dem neuen Jahr und fahren los! <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">F√ºr wen ist dieser Artikel?</b> <div class="spoiler_text">  Ich denke, dass der Artikel f√ºr Anf√§nger n√ºtzlich sein kann, aber vielleicht finden auch diejenigen, die etwas erfahrener sind, etwas Interessantes.  Ich hoffe jedoch, dass ich einen Artikel schreiben kann, damit er gelesen werden kann, ohne √ºberhaupt ein C # -Programmierer zu sein. <br></div></div><br><h2>  Ausdrucksassemblierung </h2><br><h3>  Was ist ein Ausdruck? </h3><br><div class="spoiler">  <b class="spoiler_title">Als ich klein war ...</b> <div class="spoiler_text">  Dann wollte ich nat√ºrlich einen Taschenrechner schreiben.  Was sollte er k√∂nnen?  Vier grundlegende Operationen und im Prinzip viel mehr.  Daher bestand meine Aufgabe darin, den Wert eines Zeichenfolgenausdrucks zu berechnen, z. B. "1 + (3/4 - (5 + 3 * 1))".  Ich nahm meinen Lieblingsdelphin und schrieb einen Parser, der zuerst rekursiv in eckige Klammern gesetzt wurde, dann den Ausdruck in eckigen Klammern durch einen Wert ersetzte und die Klammern entfernte.  Grunds√§tzlich ein f√ºr mich damals recht funktionierender Weg. <br></div></div><br>  Dies ist nat√ºrlich keine Zeile.  Es ist ziemlich offensichtlich, dass eine mathematische Formel entweder ein Baum oder ein Stapel ist, und hier h√∂ren wir beim ersten Mal auf.  Das hei√üt, jeder Knoten, jeder Knoten dieses Baums ist eine Art von Operation, Variable oder Konstante. <br><br><img src="https://habrastorage.org/webt/ih/id/g2/ihidg2enlm7vi-es5t5agdoplks.png"><br><br>  Eine Operation ist entweder eine Funktion oder ein Operator, im Prinzip ungef√§hr dasselbe.  Ihre Kinder sind die Argumente einer Funktion (Operator). <br><br><h3>  Klassenhierarchie in Ihrem Code </h3><br>  Nat√ºrlich kann die Implementierung beliebig sein.  Die Idee ist jedoch, dass, wenn Ihr Baum nur aus Knoten und Bl√§ttern besteht, diese unterschiedlich sind.  Deshalb nenne ich diese "Dinge" - Entit√§ten.  Daher wird die obere Klasse die abstrakte Klasse Entity sein. <br><br><div class="spoiler">  <b class="spoiler_title">Abstrakt?</b> <div class="spoiler_text">  Wie jeder vom Erlernen einer einfachen Sprache wei√ü, ist eine abstrakte Klasse gut, da sie einerseits einige Klassen verallgemeinert und andererseits die Logik und das Verhalten einiger Objekte voneinander trennt.  Ein Objekt einer abstrakten Klasse kann nicht erstellt werden, sein Erbe jedoch. <br></div></div><br>  Dar√ºber hinaus wird es vier Nachfolgeklassen geben: NumberEntity, VariableEntity, OperatorEntity, FunctionEntity. <br><br><h3>  Wie erstelle ich einen Ausdruck? </h3><br>  Zun√§chst erstellen wir einen Ausdruck im Code, d.h. <br><br><pre><code class="plaintext hljs">var x = new VariableEntity("x"); var expr = x * x + 3 * x + 12;</code> </pre> <br>  Wenn Sie eine leere Klasse "VariableEntity" deklarieren, wird ein solcher Code einen Fehler ausl√∂sen. Sie sagen, dass sie nicht wissen, wie sie multiplizieren und summieren sollen. <br><br><h5>  Operatoren √ºberschreiben </h5><br>  Eine sehr wichtige und n√ºtzliche Funktion in den meisten Sprachen, mit der Sie die Ausf√ºhrung von Rechenoperationen anpassen k√∂nnen.  Es ist syntaktisch je nach Sprache unterschiedlich implementiert.  Zum Beispiel eine Implementierung in C # <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> YourClass <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> +(YourClass a, YourClass b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> YourClass(a.ToString() + b.ToString()); }</code> </pre><br>  <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/operator-overloading" rel="nofollow">Weitere Informationen zum √úberschreiben von Anweisungen in C #</a> <br>  Die R√ºbe wird <a href="" rel="nofollow">hier</a> umgesetzt. <br><br><h5>  (Nicht) explizites Casting </h5><br>  In kompilierten Sprachen wie C # ist so etwas normalerweise vorhanden und erm√∂glicht es Ihnen, den Typ bei Bedarf ohne einen zus√§tzlichen Aufruf von myvar.ToAnotherType () umzusetzen.  So w√§re es zum Beispiel bequem zu schreiben <br><br><pre> <code class="plaintext hljs">NumberEntity myvar = 3;</code> </pre><br>  Anstelle des √úblichen <br><br><pre> <code class="plaintext hljs">NumberEntity myvar = new NumberEntity(3);</code> </pre><br>  <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/user-defined-conversion-operators" rel="nofollow">Mehr zum Typ Casting in C #</a> <br>  Die R√ºbe ist auf <a href="" rel="nofollow">dieser</a> Linie implementiert. <br><br><h5>  H√§ngen </h5><br>  Die Entity-Klasse verf√ºgt √ºber ein untergeordnetes Feld. Dies ist nur eine Liste von Entities, die die Argumente f√ºr diese Entity sind. <br><br><div class="spoiler">  <b class="spoiler_title">Gedanken</b> <div class="spoiler_text">  Tats√§chlich k√∂nnen nur zwei Objektklassen untergeordnete Objekte haben: OperatorEntity und FunctionEntity.  Das hei√üt, Sie k√∂nnen im Prinzip eine Art NodeEntity erstellen und diese beiden Klassen daraus erben sowie eine LeafEntity erstellen und VariableEntity und NumberEntity daraus erben. <br><img src="https://habrastorage.org/webt/ft/i6/kj/fti6kj3h23-tmsd8g30gyyqtyks.png"><br></div></div><br>  Wenn wir eine Funktion oder einen Operator aufrufen, sollten wir eine neue Entit√§t erstellen und die untergeordneten Elemente einf√ºgen, von denen aus die Funktion oder der Operator aufgerufen wird.  Zum Beispiel sollte der theoretische Betrag ungef√§hr so ‚Äã‚Äãaussehen: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Entity <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> +(Entity a, Entity b){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OperatorEntity(<span class="hljs-string"><span class="hljs-string">"+"</span></span>); res.Children.Add(a); res.Children.Add(b); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br>  Das hei√üt, wenn wir nun Entit√§t x und Entit√§t 3 haben, gibt x + 3 die Essenz des Summenoperators mit zwei Kindern zur√ºck: 3 und x.  So k√∂nnen wir Ausdrucksb√§ume bauen. <br><br>  Ein Funktionsaufruf ist einfacher und nicht so sch√∂n wie bei einem Operator: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sin</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Entity a</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FunctionEntity(<span class="hljs-string"><span class="hljs-string">"sin"</span></span>); res.Children.Add(a); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br>  Das Aufh√§ngen in R√ºben ist <a href="" rel="nofollow">hier</a> implementiert. <br><br>  Ok, wir haben einen Ausdrucksbaum erstellt. <br><br><h2>  Variablensubstitution </h2><br>  Hier ist alles sehr einfach.  Wir haben eine Entit√§t - wir pr√ºfen, ob es sich um eine Variable handelt. Wenn ja, geben wir den Wert zur√ºck, andernfalls durchlaufen wir die untergeordneten Elemente. <br><br>  <a href="" rel="nofollow">Diese</a> riesige 48-zeilige Datei implementiert eine solch komplexe Funktion. <br><br><h2>  Wertberechnung </h2><br>  Eigentlich f√ºr was das alles ist.  Hier sollen wir Entity eine Art Methode hinzuf√ºgen <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Eval</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IsLeaf) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MathFunctions.InvokeEval(Name, Children); }</code> </pre><br>  Das Blatt ist unver√§ndert, aber f√ºr alles andere haben wir eine benutzerdefinierte Berechnung.  Ich werde noch einmal nur ein Beispiel geben: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Eval</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;Entity&gt; args</span></span></span><span class="hljs-function">)</span></span> { MathFunctions.AssertArgs(args.Count, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = args[<span class="hljs-number"><span class="hljs-number">0</span></span>].Eval(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NumberEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NumberEntity(Number.Sin((r <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> NumberEntity).Value)); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r.Sin(); }</code> </pre><br>  Wenn das Argument eine Zahl ist, erzeugen wir eine numerische Funktion, andernfalls geben wir sie so zur√ºck, wie sie war. <br><br><h3>  Nummer? </h3><br>  Dies ist die einfachste Einheit, Nummer.  Daran k√∂nnen arithmetische Operationen durchgef√ºhrt werden.  Standardm√§√üig ist es komplex.  Er hat auch Operationen wie Sin, Cos und einige andere definiert. <br><br>  Bei Interesse wird Nummer hier beschrieben. <br><br><h2>  Derivat </h2><br>  Jeder kann die Ableitung numerisch berechnen, und eine solche Funktion wird wirklich in einer Zeile geschrieben: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derivative</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; f, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> =&gt; (f(x + <span class="hljs-number"><span class="hljs-number">1.0e-5</span></span>) - f(x)) * <span class="hljs-number"><span class="hljs-number">1.0e+5</span></span>;</code> </pre><br>  Aber wir wollen nat√ºrlich ein analytisches Derivat.  Da wir bereits einen Ausdrucksbaum haben, k√∂nnen wir jeden Knoten gem√§√ü der Differenzierungsregel rekursiv ersetzen.  Es sollte ungef√§hr so ‚Äã‚Äãfunktionieren: <br><br><img src="https://habrastorage.org/webt/6g/7t/6c/6g7t6ctcfoill4nroqcknz6gaa4.png"><br><br>  Hier zum Beispiel, wie der Betrag in meinem Code implementiert ist: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;Entity&gt; args, VariableEntity variable</span></span></span><span class="hljs-function">)</span></span> { MathFunctions.AssertArgs(args.Count, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = args[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Derive(variable) + b.Derive(variable); }</code> </pre><br>  Aber die Arbeit <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">List&lt;Entity&gt; args, VariableEntity variable</span></span></span><span class="hljs-function">)</span></span> { MathFunctions.AssertArgs(args.Count, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = args[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = args[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Derive(variable) * b + b.Derive(variable) * a; }</code> </pre><br>  Und hier ist eine Problemumgehung an sich: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Derive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">VariableEntity x</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IsLeaf) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> VariableEntity &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name == x.Name) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NumberEntity(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NumberEntity(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MathFunctions.InvokeDerive(Name, Children, x); }</code> </pre><br>  Dies ist die Entity-Methode.  Und wie wir sehen, hat das Blatt nur zwei Zust√§nde - entweder ist es eine Variable, nach der wir unterscheiden, dann ist ihre Ableitung 1 oder es ist eine Konstante (Zahl oder VariableEntity), dann ist ihre Ableitung 0 oder ein Knoten, dann gibt es eine Referenz nach Namen (InvokeDerive) bezieht sich auf das Funktionsverzeichnis, in dem sich das gew√ºnschte befindet (z. B. die Summe oder der Sinus). <br><br>  Beachten Sie, dass ich so etwas wie dy / dx hier nicht belasse und sofort sage, dass die Ableitung der Variablen <b>,</b> durch die wir nicht unterscheiden, 0 ist. Aber hier <a href="https://habr.com/ru/post/150043/">wird</a> es anders gemacht. <br><br>  Alle Unterscheidungen werden in <a href="" rel="nofollow">einer Datei beschrieben</a> , weitere sind jedoch nicht erforderlich. <br><br><h2>  Vereinfachung des Ausdrucks.  Muster </h2><br>  Eine Vereinfachung des Ausdrucks ist grunds√§tzlich nicht trivial.  Welcher Ausdruck ist zum Beispiel einfacher: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mn>2</mn></msup><mo>&amp;#x2212;</mo><msup><mi>y</mi><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.439ex" height="2.78ex" viewBox="0 -935.7 3202.9 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-32" x="809" y="513"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2212" x="1248" y="0"></use><g transform="translate(2249,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-32" x="706" y="513"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup><mo>‚àí</mo><msup><mi>y</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> x ^ 2 - y ^ 2 </script>  oder <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.27ex" height="2.66ex" viewBox="0 -832 6143.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2212" x="1184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="2184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="2682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="3071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="3461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="4256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="5256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="5754" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>‚àí</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> (x - y) (x + y) </script>  ?  Wir halten uns jedoch an einige Ideen und m√∂chten auf deren Grundlage Regeln aufstellen, die den Ausdruck genau vereinfachen. <br><br>  Es ist m√∂glich, bei jedem Eval zu schreiben, dass, wenn wir die Summe haben und die Kinder arbeiten, wir vier Optionen aussortieren und wenn irgendwo etwas gleich ist, wir den Faktor herausnehmen ... Aber das will ich nat√ºrlich nicht.  Daher k√∂nnen Sie das System von Regeln und Mustern erraten.  Also, was wollen wir?  So etwas wie diese Syntax: <br><br><pre> <code class="plaintext hljs">{ any1 / (any2 / any3) -&gt; any1 * any3 / any2 }, { const1 * var1 + const2 * var1 -&gt; (const1 + const2) * var1 }, { any1 + any1 * any2 -&gt; any1 * (Num(1) + any2) },</code> </pre><br>  Hier ist ein Beispiel f√ºr einen Baum, in dem ein Teilbaum gefunden wurde (gr√ºn eingekreist), der dem Muster any1 + const1 * any1 entspricht (any1 ist orange eingekreist). <br><br><img src="https://habrastorage.org/webt/fe/jp/-l/fejp-l9krgdtvhw8d-ccpcekuko.png"><br><br>  Wie Sie sehen, ist es f√ºr uns manchmal wichtig, dass dieselbe Entit√§t wiederholt wird, um beispielsweise den Ausdruck x + a * x zu verk√ºrzen. Wir m√ºssen x dabei haben, da x + a * y nicht mehr reduziert wird.  Daher m√ºssen wir einen Algorithmus erstellen, der nicht nur √ºberpr√ºft, ob der Baum mit dem Muster √ºbereinstimmt, sondern auch <br><br><ol><li>  Stellen Sie sicher, dass dasselbe Objektmuster mit demselben Objekt √ºbereinstimmt. </li><li>  Aufschreiben, was was entspricht, dann ersetzen. </li></ol><br>  Der Einstiegspunkt sieht ungef√§hr so ‚Äã‚Äãaus: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> Dictionary&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">, Entity&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EqFits</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Entity tree</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Entity&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!tree.PatternMakeMatch(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, res)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }</code> </pre><br>  In tree.PaternMakeMatch f√ºllen wir das W√∂rterbuch rekursiv mit Schl√ºsseln und ihren Werten.  Hier ist ein Beispiel f√ºr eine Liste von Musterentit√§ten selbst: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern any1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">100</span></span>, PatType.COMMON); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern any2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">101</span></span>, PatType.COMMON); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern const1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">200</span></span>, PatType.NUMBER); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern const2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">201</span></span>, PatType.NUMBER); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Pattern func1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pattern(<span class="hljs-number"><span class="hljs-number">400</span></span>, PatType.FUNCTION);</code> </pre><br>  Wenn wir any1 * const1 - func1 usw. schreiben, hat jeder Knoten eine Nummer - das ist der Schl√ºssel.  Mit anderen Worten, wenn Sie das W√∂rterbuch ausf√ºllen, erscheinen diese Zahlen als Schl√ºssel: 100, 101, 200, 201, 400 ... Und wenn Sie einen Baum bauen, werden Sie den Wert des Schl√ºssels betrachten und ihn ersetzen. <br><br>  <a href="https://github.com/Angourisoft/MathS/tree/master/AngouriMath/Functions/Evaluation/Patterns" rel="nofollow">Hier umgesetzt</a> . <br><br><h2>  Vereinfachung.  Baumsortierung </h2><br>  In dem <a href="https://habr.com/ru/post/150043/">Artikel</a> , den ich bereits angesprochen habe, hat der Autor beschlossen, es einfach zu machen und praktisch nach dem Hash des Baumes zu sortieren.  Er schaffte es, a und -a, b + c + b auf 2b + c zu reduzieren.  Aber wir wollen nat√ºrlich auch, dass (x + y) + x * y - 3 * x reduziert wird und im Allgemeinen kompliziertere Dinge. <br><br><h5>  Muster funktionieren nicht? </h5><br>  Im Allgemeinen sind Muster, was wir zuvor getan haben, eine unglaublich wunderbare Sache.  Dadurch k√∂nnen Sie den Unterschied zwischen den Quadraten und der Summe der Quadrate von Sinus und Cosinus sowie anderen komplexen Dingen verringern.  Die elementare Handfl√§che (((((x + 1) + 1) + 1) + 1) wird jedoch nicht reduziert, da die Hauptregel hier die Kommutativit√§t der Terme ist.  Daher besteht der erste Schritt darin, die "linearen Kinder" zu isolieren. <br><br><h5>  "Lineare Kinder" </h5><br>  Tats√§chlich m√∂chten wir f√ºr jeden Knoten der Summe oder Differenz (und √ºbrigens des Produkts / der Division) eine Liste von Begriffen (Faktoren) erhalten. <br><br><img src="https://habrastorage.org/webt/-x/ku/yw/-xkuywdj1ovbr9rsam0lrhhcw0q.png"><br><br>  Dies ist grunds√§tzlich unkompliziert.  Lassen Sie die Funktion LinearChildren (Entity node) eine Liste zur√ºckgeben, dann betrachten wir child in node.Children: Wenn child keine Summe ist, dann result.Add (child), andernfalls result.AddRange (LinearChildren (child)). <br><br>  Nicht der sch√∂nste Weg <a href="" rel="nofollow">hier</a> umgesetzt. <br><br><h5>  Kinder gruppieren </h5><br>  Wir haben also eine Liste mit Kindern, aber wie geht es weiter?  Angenommen, wir haben sin (x) + x + y + sin (x) + 2 * x.  Selbstverst√§ndlich erh√§lt unser Algorithmus f√ºnf Terme.  Als n√§chstes wollen wir nach √Ñhnlichkeit gruppieren, zum Beispiel sieht x wie 2 * x mehr aus als sin (x). <br><br>  Hier ist eine gute Gruppierung: <br><br><img src="https://habrastorage.org/webt/s6/qz/eo/s6qzeoeqfech1ow5c8n_nciq9ek.png"><br><br>  Da die darin enthaltenen Muster die Umwandlung von 2 * x + x in 3 * x weiter verarbeiten. <br><br>  Das hei√üt, wir gruppieren zuerst nach einem <i>Hash</i> und f√ºhren dann MultiHang durch - Konvertieren der n-ary-Summation in eine Bin√§rzahl. <br><br><h5>  Knoten-Hash </h5><br>  Einerseits, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> x </script>  und <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.057ex" viewBox="0 -728.2 2295.9 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> x + 1 </script>  sollte in einer Gruppe platziert werden.  Auf der anderen Seite, falls verf√ºgbar <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>&amp;#x2217;</mo><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.754ex" height="1.455ex" viewBox="0 -520.7 2046.9 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="1474" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>‚àó</mo><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> a * x </script>  in eine Gruppe setzen mit <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.492ex" height="2.66ex" viewBox="0 -832 4517.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="1442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="3627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="4127" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>‚àó</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-6"> y * (x + 1) </script>  sinnlos. <br><br><div class="spoiler">  <b class="spoiler_title">Gedanken</b> <div class="spoiler_text">  Wenn Sie dar√ºber nachdenken, dann <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>&amp;#x2217;</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mo>+</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>x</mi><mo>+</mo><mi>y</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.74ex" height="2.762ex" viewBox="0 -831.5 15388.2 1189" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="2269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="3269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="3989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="4712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="5101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="5896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="6897" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="7397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-3D" x="8065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="9121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-61" x="9510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="10262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="11263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="11760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="12372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="13095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="13889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="14890" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>‚àó</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>‚àó</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo><mo>‚àó</mo><mi>x</mi><mo>+</mo><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> a * x + y * (x + 1) = (a + y) * x + y </script>  .  Obwohl es mir scheint, ist dies praktisch nicht einfacher und sicherlich nicht notwendig.  Auf jeden Fall ist Vereinfachung nie eine offensichtliche Sache, und dies ist sicherlich nicht das erste, was beim Schreiben eines ‚ÄûTaschenrechners‚Äú geschrieben wird. <br></div></div><br>  Deshalb implementieren wir eine mehrstufige Sortierung.  Erstens geben wir das vor <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.057ex" viewBox="0 -728.2 2295.9 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-8"> x + 1 </script>  - das Gleiche.  Sortiert, beruhigt.  Dann geben wir das vor <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.057ex" viewBox="0 -728.2 2295.9 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-9"> x + 1 </script>  kann nur mit anderen platziert werden <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.057ex" viewBox="0 -728.2 2295.9 885.9" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-10"> x + 1 </script>  .  Und jetzt unsere <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.566ex" height="2.66ex" viewBox="0 -832 4549.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="1863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="2658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="3659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="4159" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>‚àó</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-11"> a * (x + 1) </script>  und <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.492ex" height="2.66ex" viewBox="0 -832 4517.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2217" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="1442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-2B" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-31" x="3627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="4127" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>‚àó</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-12"> y * (x + 1) </script>  endlich zusammengetan.  Ganz einfach umgesetzt: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hash</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SortLevel level</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> FunctionEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name + <span class="hljs-string"><span class="hljs-string">"_"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Join(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> child <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Children <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> child.Hash(level)); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> NumberEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> level == SortLevel.HIGH_LEVEL ? <span class="hljs-string"><span class="hljs-string">""</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name + <span class="hljs-string"><span class="hljs-string">" "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> VariableEntity) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"v_"</span></span> + Name; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (level == SortLevel.LOW_LEVEL ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Name + <span class="hljs-string"><span class="hljs-string">"_"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>) + <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Join(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> child <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Children <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> child.Hash(level) != <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> child.Hash(level)); }</code> </pre><br>  Wie Sie sehen k√∂nnen, beeinflusst die Funktion die Sortierung in keiner Weise (nat√ºrlich, weil <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.418ex" height="2.66ex" viewBox="0 -832 1902 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMAIN-29" x="1512" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13"> f (x) </script>  mit <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-14"> x </script>  im Allgemeinen nicht verbunden).  Wie eine Variable, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> x </script>  mit <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/482228/&amp;xid=17259,15700023,15700186,15700191,15700259,15700271,15700302&amp;usg=ALkJrhjKkxvkyUuMJL_slaTnPkqm0vyaIQ#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-16"> y </script>  Nun, es klappt nicht, zu mischen.  Die Konstanten und Operatoren werden jedoch nicht auf allen Ebenen ber√ºcksichtigt.  In dieser Reihenfolge ist der Vereinfachungsprozess selbst <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Entity </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Simplify</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> level</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      :   ,   ,     . . var stage1 = this.InnerSimplify(); Entity res = stage1; for (int i = 0; i &lt; level; i++) { //     .    -  x  x+1 (  ),  -  x-1  x+1 (,   ),  -  x+1  x+1 ( ). switch (i) { case 0: res = res.Sort(SortLevel.HIGH_LEVEL); break; case 2: res = res.Sort(SortLevel.MIDDLE_LEVEL); break; case 4: res = res.Sort(SortLevel.LOW_LEVEL); break; } //    . res = TreeAnalyzer.Replace(Patterns.CommonRules, res).InnerSimplify(); } return res; }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Gedanken</b> <div class="spoiler_text">  Ist das die beste Implementierung?  Wenn du private Nachrichten schreibst, gibt es vielleicht bessere Ideen.  Ich habe lange dar√ºber nachgedacht, wie man es so sch√∂n wie m√∂glich macht, obwohl es meiner Meinung nach alles andere als sch√∂n ist. <br></div></div><br>  Ich sortiere den Baum <a href="" rel="nofollow">hier</a> . <br><br><h2>  "Zusammenstellung" von Funktionen </h2><br>  In Anf√ºhrungszeichen - da es sich nicht um den IL-Code selbst handelt, sondern nur um einen sehr schnellen Befehlssatz.  Aber es ist sehr einfach. <br><br><h5>  Ersatzproblem </h5><br>  Um den Wert einer Funktion zu berechnen, m√ºssen wir zum Beispiel nur die Variablensubstitution und -eval aufrufen <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = MathS.Var(<span class="hljs-string"><span class="hljs-string">"x"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> expr = x * x + <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = expr.Substitute(x, <span class="hljs-number"><span class="hljs-number">5</span></span>).Eval();</code> </pre><br>  Aber es funktioniert langsam, ungef√§hr 1,5 Mikrosekunden pro Sinus. <br><br><h5>  Anleitung </h5><br>  Um die Berechnung zu beschleunigen, f√ºhren wir eine Funktionsberechnung auf dem Stapel durch, und zwar: <br><br>  1) Wir haben die FastExpression-Klasse entwickelt, die eine Liste von Anweisungen enth√§lt <br><br>  2) Beim Kompilieren werden die Anweisungen in umgekehrter Reihenfolge gestapelt, dh wenn es eine Funktion x * x + sin (x) + 3 gibt, sind die Anweisungen ungef√§hr so: <br><br><pre> <code class="plaintext hljs">PUSHVAR 0 //    0 - x CALL 6 //    6 -  PUSHCONST 3 CALL 0 //    0 -  PUSHVAR 0 PUSHVAR 0 CALL 2 CALL 0</code> </pre><br>  Als n√§chstes f√ºhren wir diese Anweisungen aus und geben die Nummer zur√ºck. <br><br>  Ein Beispiel f√ºr die Ausf√ºhrung einer Summenanweisung: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sumf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Stack&lt;Number&gt; stack</span></span></span><span class="hljs-function">)</span></span> { Number n1 = stack.Pop(); Number n2 = stack.Pop(); stack.Push(n1 + n2); }</code> </pre><br>  Der Sinus-Aufruf wurde von 1500ns auf 60ns reduziert (das System Complex.Sin arbeitet f√ºr 30ns). <br>  Die R√ºbe wird <a href="https://github.com/Angourisoft/MathS/tree/master/AngouriMath/Functions/Evaluation/Compilation" rel="nofollow">hier</a> umgesetzt. <br><br>  Fuh, alles scheint vorerst zu sein.  Es gibt zwar noch etwas zu erz√§hlen, aber es scheint mir, dass der Umfang f√ºr einen Artikel ausreicht.  Interessiert sich jemand f√ºr die Fortsetzung?  N√§mlich: Parsen aus einer Zeichenfolge, Formatieren in Latex, einem bestimmten Integral und anderen Extras. <br><br>  <a href="https://github.com/Angourisoft/MathS" rel="nofollow">Verkn√ºpfen Sie das Repository</a> mit dem gesamten Code sowie den Tests und Beispielen. <br><br><div class="spoiler">  <b class="spoiler_title">Gedanken</b> <div class="spoiler_text">  Eigentlich arbeite ich weiter an diesem Projekt.  Es wird unter MIT vertrieben (das hei√üt, Sie k√∂nnen damit tun, was Sie wollen), und es wird niemals geschlossen oder kommerziell.  Wenn es Verbesserungs- und Beitragsideen gibt, sind Pull-Requests sehr willkommen. <br></div></div><br>  Vielen Dank f√ºr Ihre Aufmerksamkeit! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482228/">https://habr.com/ru/post/de482228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482218/index.html">Java Digest f√ºr den 27. Dezember</a></li>
<li><a href="../de482220/index.html">Lokalisierung von Aruco-Markern</a></li>
<li><a href="../de482222/index.html">Webanwendung auf Kotlin + Spring Boot + Vue.js (Add-On)</a></li>
<li><a href="../de482224/index.html">Wenn ein Designer ein kleiner Programmierer sein muss</a></li>
<li><a href="../de482226/index.html">Top 20 Apps, die ein Gesundheitsdienstleister nicht verpassen darf</a></li>
<li><a href="../de482230/index.html">Der Kampf der WEB-Server. Teil 2 - Realistisches HTTPS-Szenario:</a></li>
<li><a href="../de482232/index.html">StackOverflow ist mehr als nur eine Sammlung von Antworten auf dumme Fragen</a></li>
<li><a href="../de482234/index.html">Digitale zu analoge und gemischte Modellierung in PADS Professional</a></li>
<li><a href="../de482240/index.html">Wir bauen die ersten TP-Link-Ger√§te mit Wi-Fi 6 auseinander: Archer AX6000 Router und Archer TX3000E Adapter</a></li>
<li><a href="../de482244/index.html">Ergebnisse der Blindkameratests: iPhone, Pixel, Huawei, Samsung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>