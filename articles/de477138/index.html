<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍✈️ 🍌 😟 Ob Richard Hendricks dumm war oder lineare Suche versus binäre 🍛 👲🏻 🏵️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich denke, auf Habré gibt es Fans der Silicon Valley-Serie . Diese Woche zeigten sie zum ersten Mal in allen sechs Spielzeiten einen großen Code - nat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ob Richard Hendricks dumm war oder lineare Suche versus binäre</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/477138/"><p><img src="https://habrastorage.org/webt/oq/v2/qx/oqv2qxmb0rlwnlbr_fqptouqp_s.jpeg"></p><br><p>  Ich denke, auf Habré gibt es Fans <strong>der Silicon Valley-Serie</strong> .  Diese Woche zeigten sie zum ersten Mal in allen sechs Spielzeiten einen großen Code - natürlich möchte ich hier sofort darauf eingehen. </p><br><p>  Um den Hauptcharakter Richard Hendrix zu demütigen, zeigt sein ehemaliger Chef bei einem Treffen ein Fragment seines alten Codes.  Dort wird eine lineare Suche auf die bereits sortierten Daten angewendet - damit wird die Aufgabe erledigt, aber sie sieht sehr ineffizient aus. </p><br><p>  Richard selbst argumentiert nicht, dass der Code schlecht ist.  Unter den Zuschauern der Serie fand seine Entscheidung jedoch plötzlich Verteidiger, und jetzt frage ich mich, was Habr von ihrer Position hält. </p><a name="habracut"></a><br><p>  Richards bekanntes Code-Snippet sieht folgendermaßen aus: </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!element.equals(sortedList.get(index)) &amp;&amp; sortedList.size() &gt; ++index); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> index &lt; sortedList.size() ? index : -<span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br><p>  Hier dreht sich eine lineare Suche der Reihe nach um jedes Element einer sortierten Liste, bis es zu dem richtigen Element kommt.  In der Regel bevorzugen sie die binäre Suche nach sortierten Daten, bei der die Menge jedes Mal in zwei Hälften geteilt und die ungeeignete Hälfte als Ganzes verworfen wird (da die Anzahl der Iterationen in der linearen Suche mit zunehmender Datenmenge viel schneller zunimmt als in der binären).  Aber im subreddit / r / SiliconValleyHBO erschien der folgende <a href="https://www.reddit.com/r/SiliconValleyHBO/comments/dxwufe/silicon_valley_6x04_episode_discussion/f7x8pvq/">Kommentar</a> : </p><br><blockquote>  "Ich möchte ein wenig studieren und darauf hinweisen, dass sich Richards" Fehler "bei der Verwendung der linearen Suche anstelle der binären Suche nach sortierten Daten in vielen Fällen als produktiver herausstellt.  Bei riesigen Datensätzen (ich glaube, die Schwelle liegt bei Millionen von Elementen) ist die binäre Suche schneller.  Wenn Ihr Datensatz jedoch nicht riesig ist, wird eine lineare Suche vom Prozessor besser zwischengespeichert, eignet sich besser für die Verzweigungsvorhersage, und Ihr Algorithmus kann auch vektorisiert werden.  Lineare Suchen erfordern mehr Iterationen, aber jede ist wahnsinnig schneller als eine binäre Suchiteration.  Dies ist nicht intuitiv und widerspricht allem, was Sie an der Universität gelehrt haben, ist es aber. <br><br>  Dieser <a href="https://youtu.be/FJJTYQYB1JQ">Bericht ist</a> sehr interessant und zeigt einige erstaunliche Ergebnisse realer Leistungsmessungen. “ </blockquote><p>  Und andere Mitglieder des Threads unterstützten den Kommentator: Ja, theoretisch sind alle Iterationen gleich, aber auf echter Hardware mit echten Optimierungen ist alles völlig anders.  So wie der Schöpfer der Serie, Mike Judge, in den 80er Jahren im Valley arbeitete, als all diese L1-Caches und die Verzweigungsvorhersage nicht besonders ausgeprägt waren, lag das CPU-Verhalten viel näher am idealen Modell - dies ist ein Beispiel in der Serie. </p><br><p>  Für mich, wie der Kommentar sagt, klingt alles widersinnig, aber es wurde interessant herauszufinden, ob Richard Recht haben könnte.  Natürlich stört es die Tatsache, dass nicht der gesamte Kontext in der Reihe angegeben ist. Beispielsweise wissen wir nicht, wie viele Daten durchlaufen wurden.  Einerseits arbeitete Richard dann für den Internetgiganten Hooli, wo er wahrscheinlich mit Millionen von Aufzeichnungen zu tun hatte, andererseits war es sein erster Arbeitstag, und er konnte nicht sofort in Millionen gestürzt werden.  Wir stellen die Frage so: Auch wenn die binäre Suche für die meisten Aufgaben in Hooli eindeutig besser ist, ist es wahrscheinlich, dass Richard die richtige Entscheidung für seine Bedingungen getroffen hat und andere Charaktere ihn vergeblich auslachen, ohne den Kontext zu kennen? </p><br><p>  Um das zu verstehen, habe ich einen von Reddit zitierten <a href="https://youtu.be/FJJTYQYB1JQ">Bericht</a> geöffnet.  Wie versprochen erwies es sich als interessant (nicht überraschend, da dies ein Bericht von <strong>Andrei Alexandrescu ist</strong> ), aber nachdem ich mir einen Teil angesehen und durch den Rest geklickt hatte, sah ich dort keine Vergleichsmessungen der binären und linearen Suche. </p><br><p>  Aber ich erinnerte mich, dass derselbe Alexandrescu auf unserer DotNext-Konferenz auch über Leistung sprach.  Ich öffnete die <a href="https://habr.com/ru/company/jugru/blog/425191/">Textversion</a> seines Berichts, den wir für Habr erstellt hatten, und suchte nach dem Wort "linear".  Es stellte sich unter anderem heraus, dass es nur ein Beispiel für ein merkwürdiges Szenario gab, in dem diese Suche viel effektiver wäre als eine binäre (Suche nach übereinstimmenden Elementen von zwei Mengen in dem Fall, in dem diese Mengen identisch sind) - dies ist jedoch ein sehr spezifischer Fall, für den es keine allgemeine Schlussfolgerung gibt. " lineare Suche wird unterschätzt. " </p><br><p>  Googelte, was das moderne Internet dazu sagt - fand aber im Grunde genommen Antworten auf Stack Overflow, wo sie einfach "benutze binäre, weniger Iterationen" schrieben.  Es gab auch Fälle, in denen sie versuchten, ein Benchmarking durchzuführen, aber für mich auch nicht sehr überzeugend wirkten. </p><br><p>  Hier bittet die Option natürlich darum, "sich selbst zu vergleichen, um alles selbst auf echter Hardware zu sehen". </p><br><p>  Wenn ich jedoch bei all meinen Besuchen bei DotNext etwas von zwei leistungsbewussten Andreevs (Alexandrescu und <strong>Akinshina</strong> ) <strong>gelernt habe</strong> , ist es eine Erkenntnis, wie oft Menschen falsch benchmarken und wie viel sie nicht berücksichtigen.  Daher habe ich ein geringes Vertrauen in zufällige Internet-Posts mit Benchmarks, aber für mich selbst noch weniger. </p><br><p>  Glücklicherweise gibt es Leute auf Habr, die weit mehr verstehen als ich (zum Beispiel derselbe Andrey <a href="https://habr.com/ru/users/dreamwalker/" class="user_link">DreamWalker</a> Akinshin, der ein ganzes Buch über Benchmarking geschrieben hat).  Wenn Sie das Thema verstehen, teilen Sie uns daher in den Kommentaren mit, wie alles wirklich ist.  Zu welcher Datengröße kann ein linearer Ansatz immer noch eine gute Wahl sein?  Wie wahrscheinlich ist es, dass Richard alles richtig gemacht hat, auch wenn er selbst nicht bereit ist, es zu verteidigen? </p><br><p>  Und wenn es keine sachkundigen Kommentatoren gibt, muss ich Akinshin beim <a href="https://dotnext-piter.ru/%3Futm_source%3Dhabr%26utm_medium%3D477138%26utm_campaign%3Ddotnext19piter">nächsten</a> DotNext an die Batterie anschließen und den Benchmark erstellen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de477138/">https://habr.com/ru/post/de477138/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de477126/index.html">Admin in 5 Minuten. Frontend - React-Admin, Backend - Flask-RESTful</a></li>
<li><a href="../de477128/index.html">Habra Detektiv am Wochenende</a></li>
<li><a href="../de477130/index.html">"Eugene Onegin": Inversion (N.-F. Geschichte)</a></li>
<li><a href="../de477132/index.html">Personenbezogene Daten in der Russischen Föderation: Wer sind wir alle? Wohin gehen wir?</a></li>
<li><a href="../de477136/index.html">Wie FL.ru Benutzer täuscht, indem es einen Dienst zweimal verkauft und dabei gegen seine eigenen Regeln verstößt</a></li>
<li><a href="../de477142/index.html">Wie Zugriffsmodifikatoren die Entwicklung junger Fachkräfte hemmen</a></li>
<li><a href="../de477144/index.html">Wie Sie Ihr HTML reaktionsschnell machen, indem Sie eine Zeile CSS-Code hinzufügen</a></li>
<li><a href="../de477146/index.html">Sprechen Sie über den Tod</a></li>
<li><a href="../de477148/index.html">AI-basiertes IntelliSense für Ihren Code</a></li>
<li><a href="../de477154/index.html">Box zum Speichern von Daten in Go-Anwendungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>