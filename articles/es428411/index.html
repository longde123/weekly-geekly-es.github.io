<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê≥ üßëüèø‚Äçü§ù‚Äçüßëüèø üöí Radar tecnol√≥gico: lista de idiomas, herramientas y plataformas que pasaron por Lamoda üíΩ üò° üë©üèΩ‚Äçü§ù‚Äçüë®üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En los comentarios de nuestro √∫ltimo art√≠culo , hubo muchas preguntas sobre las tecnolog√≠as que utilizamos. En este art√≠culo, yo, Igor Mosyagin, desar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Radar tecnol√≥gico: lista de idiomas, herramientas y plataformas que pasaron por Lamoda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lamoda/blog/428411/">  En los comentarios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de nuestro √∫ltimo art√≠culo</a> , hubo muchas preguntas sobre las tecnolog√≠as que utilizamos.  En este art√≠culo, yo, Igor Mosyagin, desarrollador de I + D de Lamoda, les contar√© sobre ellos.  Debajo del corte, encontrar√° una lista exhaustiva de idiomas, herramientas, plataformas y tecnolog√≠as que han pasado por nuestras manos.  El frontend, el backend, la base de datos, los corredores de mensajes, las memorias cach√© y el monitoreo, el desarrollo y el equilibrio son una descripci√≥n detallada de lo que usamos hoy y lo que hemos abandonado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/631/247/aab/631247aab11173978faf7c3f35cf4c74.png"><br><br>  Mis colegas y yo estamos listos para discutir en los comentarios o en el stand de la compa√±√≠a en HighLoad ++ 2018. <br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://radar.thoughtworks.com/%3FsheetId%3D">Ver el radar en grande y detallado aqu√≠.</a> <br><br>  Como ya dijimos, una gran cantidad de tecnolog√≠as y herramientas diferentes est√°n involucradas en Lamoda.  Y esto no es casualidad.  De lo contrario, no podemos hacer frente a la carga!  Tenemos un gran almac√©n automatizado.  Nuestro centro de atenci√≥n telef√≥nica cuenta con 500 empleados, y los procesos que hemos creado nos permiten volver a llamar al cliente dentro de los 5 minutos posteriores a la realizaci√≥n del pedido.  Nuestro servicio de entrega opera a intervalos de 15 minutos.  Pero adem√°s de nuestros propios sistemas, tenemos integraci√≥n B2B con otras tiendas en l√≠nea.  Con una variedad de tareas y los requisitos de un negocio tan din√°mico como el comercio electr√≥nico, el crecimiento de la pila t√©cnica es inevitable, porque queremos resolver cada problema con las tecnolog√≠as m√°s adecuadas.  La diversidad es inevitable.  Hablaremos sobre los principales representantes de nuestra pila a continuaci√≥n.  Pero comencemos con los mecanismos que nos permiten no perdernos en esta variedad. <br><br><h2>  Esenciales de arquitectura </h2><br>  Estamos avanzando activamente hacia la arquitectura de microservicios.  La mayor√≠a de los sistemas ya se han construido de acuerdo con esta ideolog√≠a: hace dos a√±os pasamos por una etapa de transici√≥n con nuestros problemas y sus soluciones.  Pero no nos detendremos en los detalles de este proceso: un informe de Andrey Evsyukov " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caracter√≠sticas de los microservicios en el ejemplo de una plataforma e-Com</a> " dir√° mucho m√°s sobre esto. <br><br>  Para no agravar la diversidad tecnol√≥gica, hemos introducido una "dictadura de pr√°cticas comprobadas", seg√∫n la cual se recomienda a los creadores de nuevos chips que utilicen aquellas tecnolog√≠as y herramientas que ya se utilizan en alg√∫n lugar de la empresa.  La mayor√≠a de los servicios se comunican entre s√≠ a trav√©s de la API (utilizamos nuestra modificaci√≥n de la segunda versi√≥n del est√°ndar JSONRPC), pero cuando la l√≥gica de negocios lo permite, tambi√©n utilizamos el bus de datos para la interacci√≥n. <br><br>  El uso de otras tecnolog√≠as no est√° prohibido.  Sin embargo, cualquier idea nueva debe probarse en un comit√© de arquitectura especialmente creado, que incluya l√≠deres de las √°reas principales. <br><br>  Considerando la pr√≥xima propuesta, el comit√© da luz verde al experimento u ofrece alg√∫n tipo de reemplazo de la pila existente.  Por cierto, esta decisi√≥n depende en gran medida de las circunstancias actuales del negocio.  Por ejemplo, si un equipo llega la v√≠spera de la venta del Black Friday y anuncia que introducir√° tecnolog√≠a en la producci√≥n de la que el comit√© nunca antes hab√≠a o√≠do hablar, lo m√°s probable es que sea rechazada.  Por otro lado, se puede dar luz verde al mismo experimento si se introduce una nueva tecnolog√≠a o herramienta en circunstancias comerciales menos cr√≠ticas, y la implementaci√≥n comenzar√° con pruebas fuera de la producci√≥n. <br><br>  El Comit√© de Arquitectura tambi√©n es responsable de mantener el radar de Tecnolog√≠a, haciendo los cambios necesarios cada 2-3 meses.  Uno de los prop√≥sitos de este recurso es dar a los equipos una idea de qu√© tipo de experiencia ya tiene la empresa. <br><br>  Pero pasemos a lo m√°s interesante: al an√°lisis de los sectores de nuestro radar. <br><br>  Vale la pena se√±alar que utilizamos una interpretaci√≥n ligeramente no est√°ndar de las categor√≠as de adopci√≥n de tecnolog√≠a: <br><br><ul><li>  ADOPTAR - tecnolog√≠as y herramientas que se implementan y utilizan activamente; <br></li><li>  PRUEBA: tecnolog√≠as y herramientas que ya han pasado la etapa de prueba y se est√°n preparando para trabajar con la producci√≥n (o incluso que ya trabajan all√≠); <br></li><li>  EVALUACI√ìN: herramientas de prueba que se est√°n evaluando actualmente y que a√∫n no afectan la producci√≥n.  Con su participaci√≥n, solo se implementan proyectos de prueba; <br></li><li>  HOLD: en esta categor√≠a tenemos experiencia, pero las herramientas mencionadas solo se utilizan con el apoyo de los sistemas existentes; no se lanzan nuevos proyectos en ellas. <br></li></ul><br><h2>  Desarrollo </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/486/47d/0e7/48647d0e7dd4e562c7802a04854c4247.png"><br><br><h3>  PHP - Python - Ir </h3><br>  El primer lenguaje en el que queremos detenernos es PHP.  Hoy resuelve solo una parte de las tareas de back-end de la tienda, e inicialmente todo el back-end trabaj√≥ en PHP.  A medida que el negocio se expandi√≥ en el front-end, se not√≥ una falta de velocidad y productividad: en aquel entonces utilizamos PHP 5, por lo que Python lo reemplaz√≥ (primero 2.x, y luego 3.x).  Sin embargo, PHP le permite escribir modelos de negocios ricos, por lo que este lenguaje se ha mantenido en la oficina administrativa para automatizar diversos procesos operativos, en particular, la integraci√≥n con tiendas en l√≠nea de terceros o servicios de entrega, as√≠ como la automatizaci√≥n de un estudio de contenido que elabora tarjetas de productos.  Ahora ya estamos usando PHP 7. En PHP hemos escrito muchas bibliotecas para uso interno: integraci√≥n y envoltorios sobre nuestra infraestructura, capa de integraci√≥n entre servicios, varios ayudantes reutilizados.  El primer lote de bibliotecas ya se ha llevado a c√≥digo abierto en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nuestro github.com</a> , y el resto, el m√°s "maduro", llegar√° pronto.  Uno de los primeros fue una m√°quina de estado, que, presente en casi todas las aplicaciones, se asegura de que con el pedido antes de enviar todas las acciones necesarias. <br><br>  Con el tiempo, Python tambi√©n se ha vuelto insuficiente para el backend de una tienda.  Ahora preferimos un Go m√°s productivo y liviano. <br><br>  Quiz√°s la transici√≥n a Go fue un cambio importante, ya que ahorr√≥ una gran cantidad de hardware y recursos humanos; la eficiencia ha aumentado significativamente.  Los primeros que hicieron los primeros proyectos en Go fueron RnD, no quer√≠an lidiar con las limitaciones t√©cnicas de Python.  Luego, en el equipo de desarrollo m√≥vil, hab√≠a personas que estaban familiarizadas con √©l y lo promovieron a la producci√≥n.  Desde su presentaci√≥n, realizamos pruebas y quedamos m√°s que satisfechos con el resultado.  En casos separados, despu√©s de que parte del proyecto fue reescrito desde Python to Go, la carga de los nodos del cl√∫ster disminuy√≥ significativamente.  Por ejemplo, reescribir el motor de c√°lculo de descuentos para la canasta de Python to Go nos permiti√≥ procesar 8 veces m√°s solicitudes con las mismas capacidades de hardware, y el tiempo promedio de respuesta API se redujo en 25 veces.  Es decir  Ir result√≥ ser m√°s eficiente que Python (si lo escribe correctamente), incluso si no es tan conveniente para el desarrollador. <br><br>  Dado que el desarrollo m√≥vil tuvo que interactuar con docenas de API internas, se cre√≥ un generador de c√≥digo que, de acuerdo con la descripci√≥n del servicio API (de acuerdo con la especificaci√≥n Swagger), un cliente puede generar en Go.  As√≠ que On Go comenz√≥ a corresponder gradualmente con los servicios y herramientas existentes, especialmente aquellos que crearon el "cuello de botella" para la carga.  Adem√°s de facilitar la vida del desarrollador de backend m√≥vil, hemos simplificado las siguientes convenciones internas sobre c√≥mo desarrollar API, c√≥mo nombrar m√©todos, c√≥mo pasar par√°metros y cosas similares.  Esta estandarizaci√≥n ha facilitado el desarrollo y la implementaci√≥n de nuevos servicios para todos los equipos. <br><br>  Hoy, Go ya se usa en casi todas partes, en todas las interacciones en tiempo real con los usuarios, en el back-end del sitio y las aplicaciones m√≥viles, as√≠ como en los servicios con los que est√°n asociados.  Y donde no hay necesidad de un procesamiento y una respuesta r√°pidos, por ejemplo, en las tareas de interacci√≥n con el almac√©n de datos, Python permanece, ya que no tiene igual para las tareas de procesamiento de datos (aunque aqu√≠ hay penetraci√≥n de Go). <br><br>  Como puede ver en el radar, tenemos Java en el activo.  Se utiliza en el Sistema de gesti√≥n de almacenes (WMS), lo que ayuda a recoger r√°pidamente los pedidos.  Hasta ahora, tenemos una pila bastante antigua all√≠ y un modelo de arquitectura antiguo: un monolito que gira en Wildfly 10 y 8 Java Hotspot, y tambi√©n hay un cliente remoto y Rich en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">plataforma de aplicaciones Netbeans</a> (ahora esta funcionalidad se transfiere a la web).  Aqu√≠, en nuestro arsenal, tenemos almacenamientos est√°ndar para la empresa e incluso nuestro propio monitoreo.  Desafortunadamente, no encontramos una herramienta que pueda visualizar bien el funcionamiento del almac√©n y los procesos importantes en √©l (cuando una secci√≥n est√° sobrecargada, por ejemplo), y la hicimos nosotros mismos. <br><br>  Utilizamos Python como el lenguaje principal para el aprendizaje autom√°tico: creamos sistemas de recomendaci√≥n y clasificamos el cat√°logo, corregimos errores tipogr√°ficos en las consultas de b√∫squeda y tambi√©n resolvemos otros problemas en conjunto con Spark en un cl√∫ster Hadoop (PySpark).  Python nos ayuda a automatizar el c√°lculo de m√©tricas internas y pruebas AB. <br><br><h3>  Desarrollo frontend y m√≥vil </h3><br>  La interfaz de la tienda en l√≠nea de escritorio, as√≠ como los sitios m√≥viles, est√° escrita en JavaScript.  Ahora la interfaz se est√° moviendo gradualmente a la especificaci√≥n ES6, creando nuevos proyectos de acuerdo con ella.  Usamos vue.js como marco principal, pero nos detendremos en √©l con m√°s detalle en la secci√≥n de herramientas. <br><br>  El desarrollo de aplicaciones para plataformas m√≥viles es una unidad separada en la compa√±√≠a, que incluye grupos de back-end, as√≠ como aplicaciones de Android e iOS con sus propias herramientas y pilas de tecnolog√≠a, que, debido a las diferencias de plataforma, no siempre es posible unificar en toda la unidad. <br><br>  Durante dos a√±os, todo el nuevo desarrollo de Android ha estado en marcha en Kotlin, lo que nos permite escribir c√≥digo m√°s conciso y comprensible.  Entre las caracter√≠sticas m√°s utilizadas, nuestros desarrolladores llaman: Smartcast, clases selladas, funciones de extensi√≥n, constructores de tipo seguro (DSL), funcionalidad stdlib. <br><br>  El desarrollo de iOS est√° en marcha en Swift, que reemplaz√≥ a Objective-C. <br><br><h2>  Idiomas especiales </h2><br>  La gama de tareas de Lamoda no se limita al desarrollo de un "escaparate" para diferentes plataformas, respectivamente, tenemos una serie de idiomas que solo se utilizan dentro de sus sistemas, funcionan bien all√≠, pero no se implementar√°n en otras partes de la infraestructura: <br><br><ul><li>  R: utilizado para el procesamiento de datos y las secuencias de comandos de informes en el marco de Business Intelligence (BI).  No est√° en producci√≥n y ya no se usa para nuevas tareas, pero a√∫n tenemos una serie de dichos scripts.  Al resolver problemas con R, nos dimos cuenta de que este lenguaje no es para aplicaciones altamente cargadas.  En nuevas tareas, usamos Python y otras tecnolog√≠as que son incompatibles con R. <br></li><li>  Scala: utilizado por la oficina de desarrollo en Vilnius para desarrollar un sistema de automatizaci√≥n de call center.  Inicialmente, este sistema se escribi√≥ en PHP, pero durante la transici√≥n a una arquitectura de microservicio, se reescribieron varios componentes en Scala.  Tambi√©n en √©l, el equipo de Ingenier√≠a de Datos escribe trabajos de Spark. <br></li><li>  TypeScript que estamos viendo.  La entrega ya est√° implementada con su ayuda, y en el futuro usaremos TypeScript + vue.js en la interfaz. <br></li><li>  Lua se usa para configurar nginx (a trav√©s de la API nginx), en otros proyectos no lo es y nunca lo ser√°. <br></li><li>  Somos una empresa de moda y seguimos la moda para la programaci√≥n funcional.  Por ejemplo, un emulador de dispositivo de clasificaci√≥n en uno de nuestros almacenes est√° escrito en Haskell. <br></li></ul><br><h2>  Gesti√≥n de datos </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/4b3/e03/071/4b3e03071fbd703b0a21b6c6bd6ea380.png"><br><br><h3>  DBMS, b√∫squeda y an√°lisis de datos </h3><br>  Como muchas de las bases de datos m√°s diversas que hemos implementado en PostgreSQL, se usa donde se necesitan bases de datos relacionales, por ejemplo, para almacenar un directorio.  Es bastante f√°cil encontrar especialistas en esta tecnolog√≠a, adem√°s, hay muchos servicios diferentes disponibles. <br><br>  Por supuesto, PostgreSQL no es el √∫nico DBMS que se puede encontrar en nuestra infraestructura de TI.  En algunos sistemas m√°s antiguos, por ejemplo, se usa MySQL, mientras que WMS tiene un poco de MongoDB.  Sin embargo, para cargas elevadas y escalado (teniendo en cuenta el resto de nuestra pila de tecnolog√≠a), no los usamos para nuevos proyectos.  En general, PostgreSQL es nuestro todo. <br><br>  El Aerospike tambi√©n es visible en el radar.  Lo usamos bastante activamente, pero luego el acuerdo de licencia cambi√≥ para el producto, por lo que la versi√≥n "nuestra" result√≥ ser un poco corta.  Sin embargo, ahora lo miramos de nuevo.  Quiz√°s reconsideremos nuestra actitud hacia el instrumento y lo usaremos m√°s activamente.  Ahora Aerospike se utiliza en el servicio de agregaci√≥n de eventos de visualizaci√≥n de p√°ginas y el trabajo del usuario con la cesta, as√≠ como en el servicio de prueba social ("5 personas agregaron este producto a favoritos esta semana").  Ahora estamos haciendo recomendaciones a√∫n m√°s pronunciadas al respecto. <br><br>  Apache Solr se utiliza para buscar datos de producci√≥n.  Paralelamente, tambi√©n utilizamos ElasticSearch.  Ambas soluciones son de c√≥digo abierto, pero si antes, cuando est√°bamos implementando la b√∫squeda, Apache Solr ya ten√≠a la tercera o cuarta versi√≥n y se estaba desarrollando activamente, y ElasticSearch ni siquiera ten√≠a la primera versi√≥n estable: era demasiado pronto para usarla en producci√≥n.  Ahora los roles han cambiado: es mucho m√°s f√°cil encontrar soluciones para ElasticSearch, y nos han llegado nuevas personas que son buenas para prepararlo.  Sin embargo, en la producci√≥n tenemos Solr, y no pasaremos a otra soluci√≥n al menos hasta el Black Friday 2018. <br><br><img src="https://habrastorage.org/webt/e-/zv/yt/e-zvytvyg9cp2fnsux3xiwvec8c.png"><br>  <i>Comparaci√≥n de la din√°mica de las consultas de b√∫squeda Apache Solr (azul) y ElasticSearch (rojo), seg√∫n Google Trends</i> <br><br>  El an√°lisis de datos se produce en varios sistemas, en particular, utilizamos activamente Apache Hadoop.  Al mismo tiempo, la columna Vertica DBMS se usa para almacenar marts de datos (con un volumen total de aproximadamente 4 TB).  Sobre estas vitrinas, se construyen informes financieros, operativos y comerciales.  Para muchas de nuestras tareas ETL, anteriormente utilizamos Luigi, pero ahora nos estamos moviendo a Apache Airflow.  Tambi√©n utilizamos Pentaho para el almacenamiento relacional, en el que hay alrededor de mil tareas regulares de ETL. <br><br>  Parte del an√°lisis y preparaci√≥n de datos para otros sistemas se lleva a cabo en Spark.  En algunos lugares, esta no es solo una herramienta de an√°lisis, sino tambi√©n parte de nuestra arquitectura lambda. <br><br>  Los sistemas ERP juegan un papel importante en la infraestructura de TI: Microsoft Dynamics AX y 1C.  Como DBMS, se utiliza Microsoft SQL Server.  Y para los informes, sus componentes, como los servicios de an√°lisis y los servicios de informes. <br><br><h3>  Almacenamiento en cach√© </h3><br>  Para el almacenamiento en cach√© usamos Redis.  Anteriormente, esta tarea fue realizada por MemCached, no pod√≠a usarse como almacenamiento de valor clave con un volcado peri√≥dico en el disco, por lo que la abandonamos. <br><br><h3>  Colas de mensajes </h3><br>  Como agente de eventos, utilizamos dos herramientas a la vez: Apache Kafka y RabbitMQ. <br>  Apache Kafka es una herramienta que nos permite procesar decenas de miles de mensajes en varios sistemas donde se necesitan mensajes.  Se implementan cl√∫steres de Kafka separados para algunas partes altamente cargadas del sistema, por ejemplo, para eventos de usuario o registro (tuvimos un buen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">informe sobre el registro en Highload ++ 2017</a> ).  Kafka le permite hacer frente a 6000 mil mensajes masivos por segundo con un uso m√≠nimo de hierro. <br><br>  En sistemas internos, utilizamos RabbitMQ para acciones diferidas. <br><br><h2>  Plataformas e Infraestructura </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/7f3/766/c97/7f3766c97395b3578d4375f441c1d1ce.png"><br><br><h3>  Entrega continua </h3><br>  Para la implementaci√≥n, se usa Kubernetes, que reemplaz√≥ el paquete Nomad + Consul de Hashicorp.  La pila anterior funcion√≥ muy mal con las actualizaciones de hardware.  Cuando nuestro equipo de operaciones cambi√≥ los servidores f√≠sicos en los que giraban los nodos y se almacenaron los contenedores, se rompi√≥ y se bloque√≥ peri√≥dicamente, no queriendo elevarse.  No hab√≠a una versi√≥n estable en ese momento.  Adem√°s, no utilizamos lo √∫ltimo en ese momento: 0.5.6, que todav√≠a necesitaba actualizarse.  La actualizaci√≥n a la √∫ltima versi√≥n beta requiri√≥ algo de trabajo.  Por lo tanto, se decidi√≥ abandonarlo y cambiar a los Kubernetes m√°s populares. <br><br>  Ahora Nomad y C√≥nsul todav√≠a se usan en QA, pero en el futuro tambi√©n deber√≠a mudarse a Kubernetes. <br><br>  Para implementar la entrega continua, se utilizan contenedores Docker, a los que migramos hace dos a√±os.  Para nuestros servicios altamente cargados (cesta, cat√°logo, sitio web, sistema de gesti√≥n de pedidos), la capacidad de recoger r√°pidamente algunos contenedores adicionales de un servicio es importante, por lo que tenemos contenedores en todas partes.  Y Docker es uno de los m√©todos de contenedorizaci√≥n m√°s populares, por lo que su presencia en el radar es bastante l√≥gica. <br><br>  Como servidor de compilaci√≥n e integraci√≥n continua, Bamboo se implementa, se utiliza junto con Jira y Bitbucket (pila est√°ndar). <br><br>  Jenkins tambi√©n se menciona en el radar.  Experimentamos con √©l, pero no lo arrastraremos a nuevos proyectos.  Es una gran herramienta, pero simplemente no cabe en nuestra pila porque ya tenemos Bamboo. <br><br>  Recolectados con Bamboo docker-container se almacenan en el repositorio bajo el control de Artifactory. <br><br><h3>  Gesti√≥n de procesos y balanceo </h3><br>  Usamos NGINX Plus, pero no en t√©rminos de equilibrio, porque sus m√©tricas no son suficientes para nuestras tareas.  No puede decir, por ejemplo, qu√© solicitud se enruta o congela con mayor frecuencia.  Por lo tanto, HAProxy se usa para equilibrar la carga.  Puede funcionar de manera r√°pida y eficiente junto con nginx, sin cargar el procesador y la memoria.  Adem√°s, las m√©tricas que necesitamos est√°n listas para usar: HAproxy puede mostrar estad√≠sticas por nodos, por la cantidad de conexiones en este momento, por lo ocupado que est√° el ancho de banda y mucho m√°s. <br><br>  UWSGI se usa para ejecutar aplicaciones de Python sincr√≥nicas.  Php-fpm se utiliz√≥ como administrador de procesos en todos los servicios PHP. <br><br><h3>  Monitoreo </h3><br>  Utilizamos Prometheus para recopilar m√©tricas de nuestras aplicaciones y m√°quinas host (m√°quinas virtuales), as√≠ como de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">base de datos de series temporales para la aplicaci√≥n</a> .  Recopilamos registros, para esto usamos la pila ELK, como sistema de alerta usamos Icinga, que est√° configurado tanto para ELK como para Prometheus.  Ella env√≠a alertas por correo y SMS.  El servicio de soporte 6911 recibe las mismas alertas y decide atraer ingenieros de servicio. <br><br>  Prometheus est√° involucrado en casi todas partes, y para esto tenemos bibliotecas para todos los idiomas, que permiten usar solo un par de l√≠neas de c√≥digo para conectar sus m√©tricas al proyecto.  Por ejemplo, una biblioteca para PHP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">est√° disponible en c√≥digo abierto</a> ). <br><br>  Para mostrar visualmente los resultados del monitoreo en forma de hermosos paneles, se utiliza Grafana.  B√°sicamente, recopilamos todos los paneles de Prometheus, aunque a veces otros sistemas tambi√©n pueden servir como fuentes. <br><br>  Para detectar y agregar errores autom√°ticamente, utilizamos Sentry, que est√° integrado con Jira y facilita el inicio de un rastreador de tareas para cada uno de los problemas de producci√≥n.  √âl sabe c√≥mo capturar el error con algo de retroceso e informaci√≥n adicional, por lo que es conveniente debutar. <br><br>  Las estad√≠sticas sobre el c√≥digo de las solicitudes de extracci√≥n creadas se recopilan mediante SonarQube. <br><br><h2>  Marcos y herramientas </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e26/88a/e33/e2688ae33a6efe4be82eee1bea2d1384.png"><br><br>  Durante el desarrollo de la infraestructura de TI de Lamoda, experimentamos con casi tres docenas de herramientas diferentes, por lo que esta categor√≠a es la m√°s "a gran escala" en nuestro radar.  Hasta la fecha, se utilizan activamente: <br><br><ul><li>  Symfony 3.xy m√°s recientemente, Symfony 4.x, para desarrollo en PHP; <br></li><li>  Django y el motor de plantillas Jinja para el desarrollo de Python.  Por cierto, Jinja se usa, incluso, para la configuraci√≥n en Ansible; <br></li><li>  Frasco: para servicios internos (junto con Django), pero en producci√≥n no lo arrastramos; <br></li><li>  Spring - en desarrollo Java; <br></li><li>  Bootstrap: para una variedad de herramientas internas en el desarrollo web (panel de administraci√≥n, tableros caseros, etc.); <br></li><li>  jQuery: para el desarrollo de js; <br></li><li>  OpenAPI (Swagger): para la documentaci√≥n de todos los servicios API, incluidos  que se utilizan para la generaci√≥n de c√≥digo anterior en Go; <br></li><li>  Webpack: para empaquetar JS y minimizar CSS; <br></li><li>  Selenio: para probar la interfaz; <br></li><li>  WireMock, JMeter, Allure y otros tambi√©n se utilizan en las pruebas; <br></li><li>  Ansible: para la gesti√≥n de la configuraci√≥n; <br></li><li>  Kibana: para visualizar resultados de b√∫squeda en ElasticSearch. <br></li></ul><br>  Me gustar√≠a hablar sobre el desarrollo de JavaScript por separado.  Nosotros, como muchos, tenemos todo un campo de experimentos.    JavaScript   .               ‚Äî Angular, ReactJS, vue.js.   ¬´ ¬ª, ,  vue.js,        ,     . <br><br><h2>    </h2><br>         ,     GO, PHP, Java, JavaScript,    PostgreSQL,    Docker  Kubernetes. <br><br> ,       .   ,         ,       .   -,        .      ,     ,   ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es428411/">https://habr.com/ru/post/es428411/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es428395/index.html">El libro "M√≠nimo te√≥rico para Big Data. Todo lo que necesitas saber sobre big data ‚Äù</a></li>
<li><a href="../es428401/index.html">Procesos de desarrollo a trav√©s de los ojos de la explotaci√≥n. Una mirada desde el otro lado de la barricada.</a></li>
<li><a href="../es428403/index.html">El resumen de eventos para profesionales de recursos humanos en el campo de TI para noviembre de 2018</a></li>
<li><a href="../es428407/index.html">6 tramas t√≠picas de la literatura mundial</a></li>
<li><a href="../es428409/index.html">21 de octubre an√°lisis de incidentes en github</a></li>
<li><a href="../es428413/index.html">Sistemas de enfriamiento en centros de datos Selectel</a></li>
<li><a href="../es428415/index.html">Descripci√≥n general del controlador de nube TP-Link Omada OC200</a></li>
<li><a href="../es428417/index.html">Aprendizaje autom√°tico en MatLab / Octave: ejemplos de algoritmos admitidos por f√≥rmulas</a></li>
<li><a href="../es428419/index.html">Arrastra y desliza en RecyclerView. Parte 2: arrastrar y soltar controladores, cuadr√≠culas y animaciones personalizadas</a></li>
<li><a href="../es428421/index.html">Sistema flexible para probar y recopilar m√©tricas de programas utilizando el conjunto de pruebas LLVM como ejemplo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>