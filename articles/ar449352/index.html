<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๐ผ ๐ค ููู ุจูููุง ุงูุฑุตุฏ ุนูู ุจุฑูููุซููุณ ุ Clickhouse ู ELK ๐ช ๐ท๏ธ ๐๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงุณูู ุงูุทูู ุจุงุฏูุฑูู. ุฃูุง ุฃุนูู ูู ูุฑูุฒ ุงูุชูููุงุช ุงููุชูุฏูุฉ ูุฃุดุงุฑู ูู ุฅุฏุงุฑุฉ ุงููุธุงู. ูุจู ุดูุฑ ุ ุงูุชูู ูุคุชูุฑูุง ุงูุชุฌุงุฑู ุ ุญูุซ ุชุจุงุฏููุง ุชุฌุฑุจุชูุง ูุน ูุฌุชูุน ุชูููููุฌู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููู ุจูููุง ุงูุฑุตุฏ ุนูู ุจุฑูููุซููุณ ุ Clickhouse ู ELK</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449352/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงุณูู ุงูุทูู ุจุงุฏูุฑูู.  ุฃูุง ุฃุนูู ูู ูุฑูุฒ ุงูุชูููุงุช ุงููุชูุฏูุฉ ูุฃุดุงุฑู ูู ุฅุฏุงุฑุฉ ุงููุธุงู.  ูุจู ุดูุฑ ุ ุงูุชูู ูุคุชูุฑูุง ุงูุชุฌุงุฑู ุ ุญูุซ ุชุจุงุฏููุง ุชุฌุฑุจุชูุง ูุน ูุฌุชูุน ุชูููููุฌูุง ุงููุนูููุงุช ูู ูุฏููุชูุง.  ุชุญุฏุซุช ุนู ูุฑุงูุจุฉ ุชุทุจููุงุช ุงูููุจ.  ูุงูุช ุงููุงุฏุฉ ูุฎุตุตุฉ ูููุณุชูู ุงููุจุชุฏุฆ ุฃู ุงููุชูุณุท โโุ ูุงูุชู ูู ุชุจูู ูุฐู ุงูุนูููุฉ ูู ููุทุฉ ุงูุตูุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/uj/x8/ej/ujx8ej4lg5vvhtvxczpnxnq4xkm.jpeg" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl"> ุญุฌุฑ ุงูุฒุงููุฉ ูู ุฃู ูุธุงู ูุฑุงูุจุฉ ูู ุงูุญู ููุดุงูู ุงูุนูู.  ุงููุฑุงูุจุฉ ูู ุฃุฌู ุงููุฑุงูุจุฉ ูุง ุชูู ุฃู ุฃุญุฏ.  ูุงุฐุง ุชุฑูุฏ ุงูุดุฑูุฉุ  ุจุญูุซ ูุนูู ูู ุดูุก ุจุณุฑุนุฉ ูุฏูู ุฃุฎุทุงุก.  ูุฑูุฏ ุงูุนูู ุงุณุชุจุงููุฉ ุ ุญุชู ูุชููู ูู ุชุญุฏูุฏ ุงููุดููุงุช ูู ุงูุฎุฏูุฉ ูุงููุถุงุก ุนูููุง ูู ุฃุณุฑุน ููุช ูููู.  ูุฐู ุ ูู ุงููุงูุน ุ ูู ุงูููุงู ุงูุชู ููุช ุจุญููุง ุทูุงู ุงูุนุงู ุงููุงุถู ูู ูุดุฑูุน ุฃุญุฏ ุนููุงุฆูุง. </p><a name="habracut"></a><br><h2 id="o-proekte" style=";text-align:right;direction:rtl">  ุนู ุงููุดุฑูุน </h2><br><p style=";text-align:right;direction:rtl">  ุงููุดุฑูุน ูู ูุงุญุฏ ูู ุฃูุจุฑ ุจุฑุงูุฌ ุงูููุงุก ูู ุงูุจูุงุฏ.  ูุญู ูุณุงุนุฏ ุชุฌุงุฑ ุงูุชุฌุฒุฆุฉ ุนูู ุฒูุงุฏุฉ ูุชูุฑุฉ ูุจูุนุงุชูู ูู ุฎูุงู ุฃุฏูุงุช ุงูุชุณููู ุงููุฎุชููุฉ ูุซู ุจุทุงูุงุช ุงูููุงูุขุช.  ูู ุงููุฌููุน ุ ูุชุถูู ุงููุดุฑูุน 14 ุชุทุจูููุง ุชุนูู ุนูู ุนุดุฑุฉ ุฎูุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุฅุฌุฑุงุก ุงูููุงุจูุงุช ุ ูุงุญุธุช ูุฑุงุฑูุง ูุชูุฑุงุฑูุง ุฃู ุงููุดุฑููู ูุง ูุฑุงูุจูู ุฏุงุฆููุง ุชุทุจููุงุช ุงูููุจ ุจุดูู ุตุญูุญ: ุญุชู ุงูุขู ุ ุชููู ุงููุซูุฑูู ุนู ููุงููุณ ูุธุงู ุงูุชุดุบูู ููุฑุงูุจุฉ ุงูุฎุฏูุงุช ุฃุญูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุชู ุ ูุงูุช Icinga ูู ุฃุณุงุณ ูุธุงู ูุฑุงูุจุฉ ุงูุนููุงุก ูู ูุจู.  ุงููุง ูู ุชุญู ุงููุดุงูู ุงููุฐููุฑุฉ ุฃุนูุงู.  ุบุงูุจูุง ูุง ุฃุจูุบูุง ุงูุนููู ููุณู ุจุงููุดุงูู ุ ูุนูู ุงูุฃูู ูู ููู ูุฏููุง ุจุจุณุงุทุฉ ุจูุงูุงุช ูุงููุฉ ูููุตูู ุฅูู ุฃุณูู ุงูุณุจุจ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุงู ููุงู ููู ูุงุถุญ ูุนูู ุชุทููุฑูุง.  ุฃุนุชูุฏ ุฃู ุฃููุฆู ุงูุฐูู ูู ุนูู ุฏุฑุงูุฉ ุจู Icinga ุณูู ููููููู.  ูุฐูู ุ ูุฑุฑูุง ุฅุนุงุฏุฉ ุชุตููู ูุธุงู ูุฑุงูุจุฉ ุชุทุจููุงุช ุงูููุจ ุนูู ุงููุดุฑูุน ุจุงููุงูู. </p><br><h2 id="prometheus" style=";text-align:right;direction:rtl">  ุจุฑูููุซููุณ </h2><br><p style=";text-align:right;direction:rtl">  ููุฏ ุงุฎุชุฑูุง ุจุฑูููุซููุณ ุจูุงุกู ุนูู ุซูุงุซุฉ ูุคุดุฑุงุช ุฑุฆูุณูุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููุงู ุนุฏุฏ ูุจูุฑ ูู ุงูููุงููุณ ุงููุชุงุญุฉ.  ูู ุญุงูุชูุง ุ ููุงู 60 ุฃูู ูููู.  ุจุงูุทุจุน ุ ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงูุบุงูุจูุฉ ุงูุนุธูู ูููู ูุง ูุณุชุฎุฏููุง (ุฑุจูุง ุญูุงูู 95 ูช).  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูููุง ุฑุฎูุตุฉ ูุณุจูุง.  ุจุงููุณุจุฉ ููุง ุ ูุฐุง ูุชุทุฑู ุขุฎุฑ ุจุงูููุงุฑูุฉ ูุน Icinga ุงููุณุชุฎุฏูุฉ ุณุงุจููุง.  ูู ุฐูู ุ ูุงูุช ุฅุถุงูุฉ ุงูููุงููุณ ุจูุซุงุจุฉ ุฃูู ูุนูู: ูุงูุช ุงูููุงููุณ ุงููุชููุฑุฉ ุจุงูุธุฉ ุงูุซูู (ุงูุธุฑ ููุท ุงูููุฏ ุงููุตุฏุฑู ูุฃู ููุญู ุฅุถุงูู).  ุฃู ูููู ุฅุถุงูู ูุงู ูุตูุง Bash ุฃู Python ุ ูุงูุฐู ูู ููู ุฅุทูุงูู ุฑุฎูุตูุง ูู ุญูุซ ุงูููุงุฑุฏ ุงููุณุชูููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุณุชููู ูุฐุง ุงููุธุงู ูููุฉ ุตุบูุฑุฉ ูุณุจููุง ูู ุงูููุงุฑุฏ.  ุชุญุชูู ุฌููุน ููุงููุณูุง ุนูู 600 ููุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ู 15ูช ูู ูุฌููุนุฉ ูุงุญุฏุฉ ูุงุซููู ูู IOPS.  ุจุงูุทุจุน ุ ูุฌุจ ุนููู ุชุดุบูู ูุตุฏุฑู ุงูููุงููุณ ุ ููููู ุฌููุนุง ููุชูุจูู ูู Go ููุง ูุฎุชูููู ุฃูุถูุง ูู ุงูุดุฑุงูุฉ.  ูุง ุฃุนุชูุฏ ุฃู ูุฐู ูุดููุฉ ูู ุงููุงูุน ุงูุญุฏูุซ. </li><li style=";text-align:right;direction:rtl">  ูุฌุนู ูู ุงููููู ุงูุชุจุฏูู ุฅูู Kubernetes.  ุจุงููุธุฑ ุฅูู ุฎุทุท ุงูุนููู ุ ูุฅู ุงูุงุฎุชูุงุฑ ูุงุถุญ. </li></ol><br><h2 id="elk" style=";text-align:right;direction:rtl">  ELK </h2><br><p style=";text-align:right;direction:rtl">  ูู ุงูุณุงุจู ุ ูู ูุฌูุน ุงูุณุฌูุงุช ุฃู ูุนุงูุฌูุง.  ุงูุนููุจ ูุงุถุญุฉ ููุฌููุน.  ููุฏ ุงุฎุชุฑูุง ELK ุ ูุธุฑูุง ูุฃู ูุฏููุง ุจุงููุนู ุฎุจุฑุฉ ูู ูุฐุง ุงููุธุงู.  ูุญู ุชุฎุฒูู ุณุฌูุงุช ุงูุชุทุจูู ููุท ููุงู.  ูุงูุช ูุนุงููุฑ ุงูุงุฎุชูุงุฑ ุงูุฑุฆูุณูุฉ ูู ุงูุจุญุซ ุนู ุงููุต ุงููุงูู ูุณุฑุนุชู. </p><br><h2 id="slickhouse" style=";text-align:right;direction:rtl">  Slickhouse </h2><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ููุน ุงูุงุฎุชูุงุฑ ุนูู InfluxDB.  ููุฏ ุฃุฏุฑููุง ุงูุญุงุฌุฉ ุฅูู ุฌูุน ุณุฌูุงุช Nginx ุ ูุงูุฅุญุตุงุฆูุงุช ูู pg_stat_statements ุ ูุชุฎุฒูู ุจูุงูุงุช Prometheus ุงูุชุงุฑูุฎูุฉ.  ูู ููู ูุญุจ Influx ุ ุญูุซ ุจุฏุฃ ุจุดูู ุฏูุฑู ูู ุงุณุชููุงู ูููุฉ ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ูุชุญุทูุช.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฃุฑุฏุช ุชุฌููุน ุงูุทูุจุงุช ุจูุงุณุทุฉ remote_addr ุ ูุงูุชุฌููุน ูู ููุงุนุฏ ุงูุจูุงูุงุช ูุฐู ููุท ุจุงูุนูุงูุงุช.  ุนูุงูุงุช ุงูุทุฑูู (ุงูุฐุงูุฑุฉ) ุ ุนุฏุฏูู ูุญุฏูุฏ ูุดุฑูุท. </p><br><p style=";text-align:right;direction:rtl">  ุจุฏุฃูุง ุงูุจุญุซ ูุฑุฉ ุฃุฎุฑู.  ููุง ุจุญุงุฌุฉ ุฅูู ูุงุนุฏุฉ ุชุญููููุฉ ุจุฃูู ุงุณุชููุงู ููููุงุฑุฏ ุ ูููุถู ุฃู ูููู ุฐูู ูุน ุถุบุท ุงูุจูุงูุงุช ุนูู ุงููุฑุต. </p><br><p style=";text-align:right;direction:rtl">  ุชูู Clickhouse ุจุฌููุน ูุฐู ุงููุนุงููุฑ ุ ููู ูุฃุณู ุฃุจุฏูุง ููุฐุง ุงูุงุฎุชูุงุฑ.  ูุง ููุชุจ ุฃู ูููุงุช ูุณุชุญูุฉ ูู ุงูุจูุงูุงุช ููู (ุนุฏุฏ ุงูุฅุฏุฎุงูุงุช ูู ููุท ุญูุงูู ุฎูุณุฉ ุขูุงู ูู ุงูุฏูููุฉ). </p><br><h2 id="newrelic" style=";text-align:right;direction:rtl">  NewRelic </h2><br><p style=";text-align:right;direction:rtl">  ุชุงุฑูุฎูุง ูุงู NewRelic ูุนูุง ูุฃูู ูุงู ุงุฎุชูุงุฑ ุงูุนููู.  ูุณุชุฎุฏููุง ุจุงุนุชุจุงุฑูุง APM. </p><br><h2 id="zabbix" style=";text-align:right;direction:rtl">  Zabbix </h2><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู Zabbix ุญุตุฑููุง ููุฑุงูุจุฉ ุงูุตูุฏูู ุงูุฃุณูุฏ ููุนุฏูุฏ ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. </p><br><h2 id="opredelenie-podhoda-k-monitoringu" style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ููุฌ ุงูุฑุตุฏ </h2><br><p style=";text-align:right;direction:rtl">  ุฃุฑุฏูุง ุฃู ูุญูู ุงููููุฉ ุ ูุจุงูุชุงูู ุชูุธูู ูููุฌ ุงูุฑุตุฏ. </p><br><p style=";text-align:right;direction:rtl">  ููููุงู ุจุฐูู ุ ูุณูุช ูุธุงููุง ุฅูู ุงููุณุชููุงุช ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฃุฌูุฒุฉ ู VMS. </li><li style=";text-align:right;direction:rtl">  ูุธุงู ุงูุชุดุบูู </li><li style=";text-align:right;direction:rtl">  ุฎุฏูุงุช ุงููุธุงู ุ ูููุฉ ุงูุจุฑูุฌูุงุช ุ </li><li style=";text-align:right;direction:rtl">  ุงูุชุทุจููุ </li><li style=";text-align:right;direction:rtl">  ููุทู ุงูุนูู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูุฌุนู ูุฐุง ุงูููุฌ ููุงุณุจูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญู ูุนุฑู ูู ุงููุณุคูู ุนู ุนูู ูู ูุณุชูู ูู ุงููุณุชููุงุช ุ ูุจูุงุกู ุนูู ุฐูู ุ ูููููุง ุฅุฑุณุงู ุชูุจููุงุช ุ </li><li style=";text-align:right;direction:rtl">  ูููููุง ุงุณุชุฎุฏุงู ุงูุจููุฉ ุนูุฏ ููุน ุงูุชูุจููุงุช - ุณูููู ูู ุงูุบุฑูุจ ุฅุฑุณุงู ุชูุจูู ุญูู ุนุฏู ุฅููุงููุฉ ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุฏูุง ูููู ุงูุฌูุงุฒ ุงูุธุงูุฑู ููู ุบูุฑ ูุชููุฑ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ูููุชูุง ูู ุงูุชุดุงู ุงููุฎุงููุงุช ูู ุงููุธุงู ุ ูุฌุจ ุนูููุง ูู ูู ูุณุชูู ุชุญุฏูุฏ ูุฌููุนุฉ ูุนููุฉ ูู ุงูููุงููุณ ุงูุชู ูุฌุจ ุงูุงูุชุจุงู ุฅูููุง ุนูุฏ ูุชุงุจุฉ ููุงุนุฏ ุงูุชูุจูู.  ุจุนุฏ ุฐูู ุ ุณูุชุทุฑู ุฅูู ูุณุชููุงุช "VMS" ู "ูุธุงู ุงูุชุดุบูู" ู "ุฎุฏูุงุช ุงููุธุงู ุ ุญุฒูุฉ ุงูุจุฑุงูุฌ". </p><br><h2 id="virtualnye-mashiny" style=";text-align:right;direction:rtl">  ุขูุงุช ุงูุชุฑุงุถูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุงูุงุณุชุถุงูุฉ ุชุนุทููุง ูุนุงูุฌ ุ ูุฑุต ุ ุฐุงูุฑุฉ ูุดุจูุฉ.  ููุน ุฃูู ุงุซููู ูุฏููุง ูุดุงูู.  ูุฐูู ุงูููุงููุณ: </p><br><p style=";text-align:right;direction:rtl">  ููุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุงููุณุฑููุฉ - ุนูุฏ ุดุฑุงุก ุฌูุงุฒ ุงูุชุฑุงุถู ุนูู Amazon (t2.micro ุ ุนูู ุณุจูู ุงููุซุงู) ุ ูุฌุจ ุฃู ุชููู ุฃูู ูู ูุชู ุชุฎุตูุต ูุฌููุนุฉ ุฃุณุงุณูุฉ ูุงููุฉ ูู ุงููุนุงูุฌ ุ ูููู ููุท ุญุตุฉ ูู ููุชูุง.  ูุนูุฏ ุงุณุชููุงุฏูุง ุ ุณูุชู ุฃุฎุฐ ุงููุนุงูุฌ ููู. </p><br><p style=";text-align:right;direction:rtl">  ูุณูุญ ูู ูุฐุง ุงููููุงุณ ุจุชุชุจุน ูุซู ูุฐู ุงููุญุธุงุช ูุงุชุฎุงุฐ ุงููุฑุงุฑุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ูู ุงูุถุฑูุฑู ุฃุฎุฐ ุชุนุฑููุฉ ุจุฏููุฉ ุฃู ุชูุฒูุน ูุนุงูุฌุฉ ููุงู ูุทูุจุงุช ุงูุฎูููุฉ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุนูู ุฎูุงุฏู ูุฎุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  IOPS + CPU iowait time - ูุณุจุจ ูุง ุ ุงูุนุฏูุฏ ูู ุดุฑูุงุช ุงูุงุณุชุถุงูุฉ ุงูุณุญุงุจูุฉ ุชุฎุทุฆ ุจุนุฏู ุชุณููู IOPS.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุงูุฌุฏูู ุงูุฒููู ูุน ุงูุฎูุงุถ IOPS ููุณ ุญุฌุฉ ููู.  ูุฐูู ุ ูุฌุฏุฑ ุฌูุน ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ iowait.  ูุน ูุฐุง ุงูุฒูุฌ ูู ุงูุฑุณูู ุงูุจูุงููุฉ - ูุน ุงูุฎูุงุถ IOPS ูุชููุนุงุช I / O ุนุงููุฉ - ููููู ุจุงููุนู ุงูุชุญุฏุซ ุฅูู ุงูุงุณุชุถุงูุฉ ูุญู ุงููุดููุฉ. </p><br><h2 id="operacionnaya-sistema" style=";text-align:right;direction:rtl">  ูุธุงู ุงูุชุดุบูู </h2><br><p style=";text-align:right;direction:rtl">  ููุงููุณ ูุธุงู ุงูุชุดุบูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุชุงุญุฉ ูู ูช ุ </li><li style=";text-align:right;direction:rtl">  ุงููุดุงุท ุจุงุณุชุฎุฏุงู ุงููุจุงุฏูุฉ: vmstat swapin ุ ุงููุจุงุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ inodes ุงููุชุงุญุฉ ูุงููุณุงุญุฉ ุงูุญุฑุฉ ุนูู ูุธุงู ุงููููุงุช ูู ูช </li><li style=";text-align:right;direction:rtl">  ูุชูุณุท โโุงูุญูู </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูุงุชุตุงูุงุช ูู ููุงูุฉ tw. </li><li style=";text-align:right;direction:rtl">  ูููุชุฑุงู ุงูุฌุฏูู ุงูุงูุชูุงุก. </li><li style=";text-align:right;direction:rtl">  ูููู ูุฑุงูุจุฉ ุฌูุฏุฉ ุงูุดุจูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ss ุ ุญุฒูุฉ iproute2 - ุงุญุตู ูู ูุคุดุฑูุง ุนูู ูุคุดุฑ ูุงุชุตุงูุงุช RTT ููุฌููุนุฉ ุจุชูุฑูุบูุง. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุนูู ูุณุชูู ูุธุงู ุงูุชุดุบูู ุ ูุฏููุง ููุงู ูุซู ุงูุนูููุงุช.  ูู ุงูููู ุชุณููุท ุงูุถูุก ูู ุงููุธุงู ุนูู ูุฌููุนุฉ ูู ุงูุนูููุงุช ุงูุชู ุชูุนุจ ุฏูุฑูุง ููููุง ูู ุนูููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูุฏูู ุงูุนุฏูุฏ ูู pgpool ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฌูุน ุงููุนูููุงุช ููู ูููู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ุงูููุงููุณ ูู ููุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ. </li><li style=";text-align:right;direction:rtl">  ุงูุฐุงูุฑุฉ ูู ูู ุงูููุงู ุงูุฃูู ุงููููู. </li><li style=";text-align:right;direction:rtl">  IO - ููุถู ูู IOPS ุ </li><li style=";text-align:right;direction:rtl">  FileFd - ูุชุญ ูุงูุญุฏ. </li><li style=";text-align:right;direction:rtl">  ุญุงูุงุช ูุดู ูุจูุฑุฉ ููุตูุญุงุช - ุญุชู ุชุชููู ูู ููู ุงูุนูููุฉ ุงูุชู ูุชู ุชุจุงุฏููุง. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชู ูุดุฑ ูู ุงููุฑุงูุจุฉ ูู Docker ุ ููุญู ูุณุชุฎุฏู advisor ูุฌูุน ุงูุจูุงูุงุช ุงููุชุฑูุฉ.  ุนูู ุงูุฃุฌูุฒุฉ ุงูุฃุฎุฑู ุ ูุณุชุฎุฏู ุนูููุฉ ุงููุตุฏุฑ. </p><br><h2 id="sistemnye-servisy-stek-po" style=";text-align:right;direction:rtl">  ุฎุฏูุงุช ุงููุธุงู ุ ูููุฉ ุงูุจุฑูุฌูุงุช </h2><br><p style=";text-align:right;direction:rtl">  ููู ุชุทุจูู ุชูุงุตููู ุงูุฎุงุตุฉ ุ ููู ุงูุตุนุจ ุงูุชูููุฒ ุจูู ูุฌููุนุฉ ูู ุงูููุงููุณ. </p><br><p style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ุนุงูููุฉ ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนุฏู ุงูุทูุจ </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูุงุฎุทุงุก </li><li style=";text-align:right;direction:rtl">  ุงููููู. </li><li style=";text-align:right;direction:rtl">  ุงูุชุดุจุน. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฃุจุฑุฒ ุงูุฃูุซูุฉ ุนูู ุงููุฑุงูุจุฉ ุนูู ูุฐุง ุงููุณุชูู ูู Nginx ู PostgreSQL. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฎุฏูุฉ ุงูุฃูุซุฑ ุชุญููููุง ูู ูุธุงููุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุงุนุชุฏูุง ุฃู ูุฏููุง ูุดุงูู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ููุนุฑูุฉ ูุง ุชูุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฑุฃููุง ุญูููุฉ ุนุงููุฉ ุนูู ุงูุฃูุฑุงุต ุ ููู ุงูุดุนุงุฑุงุช ูู ุชุธูุฑ ุฃู ุดูุก ุญููุง.  ููุฏ ุญูููุง ูุฐู ุงููุดููุฉ ูุน pg_stat_statements ุ ุทุฑููุฉ ุนุฑุถ ุชุฌูุน ุฅุญุตุงุฆูุงุช ุญูู ุงูุทูุจุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ูู ุงุญุชูุงุฌุงุช ุงููุดุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูุฑุณู ูุดุงุท ุทูุจุงุช ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ: </p><br><img src="https://habrastorage.org/webt/6r/fm/rp/6rfmrp9k711d0azcv7thr3bfapu.jpeg"><br><img src="https://habrastorage.org/webt/j7/dn/ki/j7dnki6of_-n3l33xe5mz9xapkk.jpeg"><br><p style=";text-align:right;direction:rtl">  ูู ุดูุก ุจุณูุท ููุงุถุญ ุ ููู ุทูุจ ูููู ุงูุฎุงุต. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู ูููุชุฉ ูููุธุฑ ูู ุณุฌูุงุช Nginx.  ููุณ ูู ุงููุณุชุบุฑุจ ุฃู ุงููููู ูููู ููุฒุนูู ุฃู ูุฐูุฑูู ูู ูุงุฆูุฉ ุชูู ุงููุทููุจุฉ.  ุงูุชูุณูู ุงูููุงุณู ููุณ ุบูู ุจุงููุนูููุงุช ููุญุชุงุฌ ุฅูู ุชูุณูุน. </p><br><p style=";text-align:right;direction:rtl">  ุดุฎุตูุง ุ ุฃุถูุช request_time ุ upstream_response_time ุ body_bytes_sent ุ request_length ุ request_id ุ ูุญู ูุฑุณู ููุช ุงูุงุณุชุฌุงุจุฉ ูุนุฏุฏ ุงูุฃุฎุทุงุก: </p><br><img src="https://habrastorage.org/webt/3l/wp/cw/3lwpcwwdctrsk7mgnexjmxstsxq.jpeg"><br><img src="https://habrastorage.org/webt/zk/w9/ak/zkw9akpuwajs85xktgcm6wtar1m.jpeg"><br><p style=";text-align:right;direction:rtl">  ูุฑุณู ููุช ุงูุงุณุชุฌุงุจุฉ ูุนุฏุฏ ุงูุฃุฎุทุงุก.  ูู ุชุชุฐูุฑุ  ูู ุชุญุฏุซุช ุนู ุฃูุฏุงู ุงูุนููุ  ุจุณุฑุนุฉ ูุฏูู ุฃุฎุทุงุกุ  ููุฏ ุฃุบูููุง ุจุงููุนู ูุฐู ุงููุดููุงุช ุจุงุณุชุฎุฏุงู ูุฎุทุทูู.  ูุนูููู ููููู ุจุงููุนู ุงุณุชุฏุนุงุก ุงููุณุคูููู ูุงุฌุจ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุธูุช ูุดููุฉ ุฃุฎุฑู - ูุถูุงู ุงููุถุงุก ุงูุณุฑูุน ุนูู ุฃุณุจุงุจ ุงูุญุงุฏุซ. </p><br><h2 id="ustranenie-incidentov" style=";text-align:right;direction:rtl">  ุฅุฏุงุฑุฉ ุงูุญูุงุฏุซ </h2><br><p style=";text-align:right;direction:rtl">  ูููู ุชูุณูู ุงูุนูููุฉ ุจุฑูุชูุง ูู ุชุญุฏูุฏ ุงููุดููุฉ ุฅูู ุญููุง ุฅูู ุนุฏุฏ ูู ุงูุฎุทูุงุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ุงููุดููุฉ </li><li style=";text-align:right;direction:rtl">  ุฅุฎุทุงุฑ ุงููุณุคูู ูู ุงูุฎุฏูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฑุฏ ุงููุนู ุนูู ุงูุญุงุฏุซ ุ </li><li style=";text-align:right;direction:rtl">  ุงููุถุงุก ุนูู ุงูุฃุณุจุงุจ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุงูููู ุฃู ููุนู ูุฐุง ูู ุฃุณุฑุน ููุช ูููู.  ูุฅุฐุง ูู ูุชููู ูู ูุณุจ ุงููุซูุฑ ูู ุงูููุช ูู ูุฑุงุญู ุชุญุฏูุฏ ุงููุดููุฉ ูุฅุฑุณุงู ุฅุดุนุงุฑ - ูุณูู ูุบุงุฏุฑูู ููุฏุฉ ุฏูููุชูู ูู ุฃู ุญุงู ุ ุซู ุงูุชุงููุฉ ูู ูุฌุฑุฏ ุญูู ูู ููุณ ุงูุชุญุณูู. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ููุท ูุชุฎูู ุฃู ุงููุงุชู ุฑู ูู ุงูุฎุฏูุฉ.  ูุงุฐุง ุณููุนูุ  ุงุจุญุซ ุนู ุฅุฌุงุจุงุช ููุฃุณุฆูุฉ - ูุง ุงูุฐู ุชู ูุณุฑู ุ ูุฃูู ูุชู ูุณุฑู ุ ูููููุฉ ุงูุฑุฏุ  ุฅููู ููููุฉ ุงูุฅุฌุงุจุฉ ุนูู ูุฐู ุงูุฃุณุฆูุฉ: </p><br><img src="https://habrastorage.org/webt/p_/kj/wj/p_kjwjrqkewlj50zmcy1hz9cuju.jpeg"><br><p style=";text-align:right;direction:rtl">  ูููู ุจุจุณุงุทุฉ ุจุชุถููู ูู ูุฐู ุงููุนูููุงุช ูู ูุต ุงูุฅุดุนุงุฑ ุ ููููุญู ุฑุงุจุทูุง ุฅูู ุตูุญุฉ wiki ุชุตู ููููุฉ ุงูุงุณุชุฌุงุจุฉ ููุฐู ุงููุดููุฉ ุ ูููููุฉ ุญููุง ูุชุตุนูุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุฒูุช ูู ุฃูู ุฃู ุดูุก ุนู ุทุจูุฉ ุงูุชุทุจูู ูููุทู ุงูุนูู.  ูุณูุก ุงูุญุธ ุ ูู ูุชู ุชุทุจูู ูุฌููุนุฉ ุงูููุงููุณ ุจุนุฏ ูู ุทูุจุงุชูุง.  ุงููุตุฏุฑ ุงููุญูุฏ ูุจุนุถ ุงููุนูููุงุช ุนูู ุงูุฃูู ูู ูุฐู ุงููุณุชููุงุช ูู ุงูุณุฌูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุจุถุน ููุงุท. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุงูุชุจ ุงูุณุฌูุงุช ุงูููุธูุฉ.  ูุง ุญุงุฌุฉ ูุชุถููู ุงูุณูุงู ูู ูุต ุงูุฑุณุงูุฉ.  ูุฐุง ูุฌุนู ูู ุงูุตุนุจ ุชุฌููุนูุง ูุชุญููููุง.  ูุณุชุบุฑู Logstash ููุชูุง ุทูููุงู ูุชุทุจูุน ูู ูุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ุซุงููุง ุ ุงุณุชุฎุฏู ูุณุชููุงุช ุงูุฎุทูุฑุฉ ุจุดูู ุตุญูุญ.  ูู ูุบุฉ ููุง ูุนูุงุฑูุง ุงูุฎุงุต.  ุฃูุง ุดุฎุตูุงู ุฃููุฒ ุจูู ุฃุฑุจุนุฉ ูุณุชููุงุช: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุฎุทุฃ </li><li style=";text-align:right;direction:rtl">  ุฎุทุฃ ุฌุงูุจ ุงูุนููู </li><li style=";text-align:right;direction:rtl">  ุฎุทุฃ ูู ุตุงูุญูุง ุ ูุญู ูุง ูุฎุณุฑ ุงููุงู ุ ูุญู ูุง ูุชุญูู ุงููุฎุงุทุฑ ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฎุทุฃ ูู ุตุงูุญูุง ุ ูุญู ูุฎุณุฑ ุงููุงู. </li></ol><br><p style=";text-align:right;direction:rtl">  ุฃูุง ุฃูุฎุต.  ูู ุงูุถุฑูุฑู ูุญุงููุฉ ุฅูุดุงุก ุงููุฑุงูุจุฉ ุจุฏูุฉ ูู ููุทู ุงูุนูู.  ุญุงูู ูุฑุงูุจุฉ ุงูุชุทุจูู ููุณู ูุงูุนูู ุจุงุณุชุฎุฏุงู ููุงููุณ ูุซู ุนุฏุฏ ุงููุจูุนุงุช ูุนุฏุฏ ุชุณุฌููุงุช ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ ูุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุดุทูู ุญุงูููุง ููุง ุฅูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุนููู ุจุงููุงูู ุนุจุงุฑุฉ ุนู ุฒุฑ ูุงุญุฏ ูู ูุชุตูุญู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ูุฑุงูุจุฉ ูุง ุฅุฐุง ูุงู ูุชู ุงูุถุบุท ุนููู ููุนูู ุจุดูู ุตุญูุญ.  ูู ุดูุก ุขุฎุฑ ุบูุฑ ููู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ูุฏูู ูุฐุง ุ ููููู ูุญุงููุฉ ุงููุญุงู ุจู ูู ุณุฌูุงุช ุงูุชุทุจูู ูุณุฌูุงุช Nginx ููุง ุฅูู ุฐูู ุ ููุง ูุนููุง.  ูุฌุจ ุฃู ุชููู ุฃูุฑุจ ูุง ูููู ุฅูู ุงูุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ุชุนุฏ ููุงููุณ ูุธุงู ุงูุชุดุบูู ูููุฉ ุจุงูุทุจุน ุ ููููุง ููุณุช ูุซูุฑุฉ ููุงูุชูุงู ุจุงููุณุจุฉ ููุฃุนูุงู ุงูุชุฌุงุฑูุฉ ุ ููุง ูุฏูุน ููุงุจููุง. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar449352/">https://habr.com/ru/post/ar449352/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar449342/index.html">ุฃูุฑุงูู ุนุดูุงุฆู ุนูู ุฃุณุงุณ ุงูุชูููุน ุงูุฑููู blockchain</a></li>
<li><a href="../ar449344/index.html">Kodim - ุงูุจูุชุฒุง</a></li>
<li><a href="../ar449346/index.html">MODX Digest # 4 (ูู 8 ุฅูู 22 ุฃุจุฑูู 2019)</a></li>
<li><a href="../ar449348/index.html">Buildroot - ุงูุฌุฒุก 2. ุฅูุดุงุก ุชูููู ููุญุฉ ุงูุฎุงุต ุจู. ุชุทุจูู ุงูุดุฌุฑุฉ ุงูุฎุงุฑุฌูุฉ ุ rootfs- ุชุฑุงูุจ ุ ูุงูุจุฑุงูุฌ ุงููุตูุฉ ุจุนุฏ ุงูุจูุงุก</a></li>
<li><a href="../ar449350/index.html">Keybase ูุชููู ุตุญูุญ</a></li>
<li><a href="../ar449356/index.html">ุงูุนูููุงุช ุงูุชุฌุงุฑูุฉ. ุงุณุชุฎุฑุงุฌ ูููุฐุฌ BPMN ูู ุงููุณุชูุฏ. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar449358/index.html">ุญุฏูุฏ ุฌุฏูุฏุฉ ูู ุงูููุฒูุงุก</a></li>
<li><a href="../ar449360/index.html">ูุงูุช Microsoft ุจุชูููู ุงููุงูุน ุงูุงูุชุฑุงุถู ููุฃุดุฎุงุต ุถุนุงู ุงูุจุตุฑ</a></li>
<li><a href="../ar449362/index.html">UPS ููุฑุนุงูุฉ ุงูุตุญูุฉ: ุชุฌุฑุจุฉ ุฏูุชุง ููุฅููุชุฑูููุงุช ุงูุตุญูุฉ</a></li>
<li><a href="../ar449364/index.html">ุงูุฎูููุฉ: ูุง ูู ุงูุชุณููู ุงููุณุชูุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>