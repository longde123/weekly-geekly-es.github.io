<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò∞ üë©üèæ‚Äçüè≠ üë®üèæ‚Äç‚öïÔ∏è Uso de Clickhouse como reemplazo de ELK, Big Query y TimescaleDB üë©üèª‚Äçüéì üë≤üèø üî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Clickhouse es un motor de base de datos del sistema de gesti√≥n de bases de datos de consulta anal√≠tica de c√≥digo abierto (OLAP) creado por Yandex. Yan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Uso de Clickhouse como reemplazo de ELK, Big Query y TimescaleDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/483112/">  <a href="https://clickhouse.yandex/">Clickhouse</a> es un motor de base de datos del sistema de gesti√≥n de bases de datos de consulta anal√≠tica de c√≥digo abierto (OLAP) creado por Yandex.  Yandex, CloudFlare, VK.com, Badoo y otros servicios de todo el mundo lo utilizan para almacenar grandes cantidades de datos (inserte miles de l√≠neas por segundo o petabytes de datos almacenados en el disco). <br><br>  En el DBMS de "cadena" habitual, cuyos ejemplos son MySQL, Postgres, MS SQL Server, los datos se almacenan en este orden: <br><br><img src="https://habrastorage.org/webt/op/as/zd/opaszdhxefzryaitjqttg8sk_to.jpeg"><br><br>  En este caso, los valores relacionados con una fila se almacenan f√≠sicamente uno al lado del otro.  En un DBMS columnar, los valores de diferentes columnas se almacenan por separado, y los datos de una columna se almacenan juntos: <br><br><img src="https://habrastorage.org/webt/oj/17/vg/oj17vgwsilwf8mri4-whzqzm31s.jpeg"><a name="habracut"></a><br><br>  Ejemplos de DBMS en columna son Vertica, Paraccel (Actian Matrix, Amazon Redshift), Sybase IQ, Exasol, Infobright, InfiniDB, MonetDB (VectorWise, Actian Vector), LucidDB, SAP HANA, Google Dremel, Google PowerDrill, Druid, kdb +. <br><br>  La compa√±√≠a de <a href="https://qwintry.com/">reenv√≠o de correo Qwintry</a> comenz√≥ a usar Clickhouse en 2018 para generar informes y qued√≥ muy impresionada con su simplicidad, escalabilidad, compatibilidad con SQL y velocidad.  La velocidad de este DBMS estaba rodeada de magia. <br><br><h3>  Simplicidad </h3><br>  Clickhouse se instala en Ubuntu con un solo comando.  Si conoce SQL, puede comenzar a usar Clickhouse de inmediato para sus necesidades.  Sin embargo, esto no significa que pueda ejecutar "show create table" en MySQL y copiar y pegar SQL en Clickhouse. <br><br>  En comparaci√≥n con MySQL, en este DBMS hay diferencias importantes de tipos de datos en las definiciones de esquemas de tabla, por lo que para un trabajo c√≥modo todav√≠a necesita algo de tiempo para cambiar las definiciones del esquema de tabla y estudiar los motores de tabla. <br><br>  Clickhouse funciona muy bien sin ning√∫n software adicional, pero si desea utilizar la replicaci√≥n, deber√° instalar ZooKeeper.  El an√°lisis del rendimiento de las consultas muestra excelentes resultados: las tablas del sistema contienen toda la informaci√≥n y todos los datos se pueden obtener utilizando el antiguo y aburrido SQL. <br><br><h3>  Rendimiento </h3><br><br><ul><li> Punto de <a href="https://clickhouse.yandex/benchmark.html">referencia que</a> compara Clickhouse con Vertica y MySQL en un servidor de configuraci√≥n: dos z√≥calos de CPU Intel¬Æ Xeon¬Æ E5-2650 v2 @ 2.60GHz;  128 GiB RAM;  md RAID-5 en 8 6TB SATA HDD, ext4. </li><li>  Punto de <a href="https://www.altinity.com/blog/2017/6/20/clickhouse-vs-redshift">referencia que</a> compara Clickhouse con el almacenamiento de datos en la nube de Amazon RedShift. </li><li>  Extractos del <a href="https://blog.cloudflare.com/how-cloudflare-analyzes-1m-dns-queries-per-second/">Blog de Cloudflare Clickhouse Performance</a> : </li></ul><br><img src="https://habrastorage.org/webt/oo/2c/0d/oo2c0dfcidwr9fsilydx_b9jilw.jpeg"><br><br>  La base de datos ClickHouse tiene un dise√±o muy simple: todos los nodos del cl√∫ster tienen la misma funcionalidad y solo usan ZooKeeper para la coordinaci√≥n.  Creamos un peque√±o grupo de varios nodos y realizamos pruebas, durante las cuales descubrimos que el sistema tiene un rendimiento bastante impresionante, que corresponde a las ventajas declaradas en los puntos de referencia de los DBMS anal√≠ticos.  Decidimos analizar m√°s de cerca el concepto detr√°s de ClickHouse.  El primer obst√°culo para la investigaci√≥n fue la falta de herramientas y el peque√±o tama√±o de la comunidad ClickHouse, por lo que profundizamos en el dise√±o de este sistema de administraci√≥n de bases de datos para comprender c√≥mo funciona. <br><br>  ClickHouse no admite la recepci√≥n de datos directamente de Kafka (en este momento ya sabe c√≥mo hacerlo), ya que es solo una base de datos, por lo que escribimos nuestro propio servicio de adaptador en Go.  Ley√≥ los mensajes codificados de Cap'n Proto de Kafka, los convirti√≥ a TSV y los insert√≥ en ClickHouse en lotes a trav√©s de la interfaz HTTP.  M√°s tarde, reescribimos este servicio para usar la biblioteca Go junto con nuestra propia interfaz ClickHouse para mejorar el rendimiento.  Al evaluar el rendimiento de recibir paquetes, descubrimos algo importante: result√≥ que en ClickHouse este rendimiento depende en gran medida del tama√±o del paquete, es decir, el n√∫mero de filas insertadas al mismo tiempo.  Para comprender por qu√© sucede esto, examinamos c√≥mo ClickHouse almacena datos. <br><br>  El motor principal, o m√°s bien, la familia de motores de mesa utilizados por ClickHouse para almacenar datos, es MergeTree.  Este motor es conceptualmente similar al algoritmo LSM utilizado por Google BigTable o Apache Cassandra, pero evita construir una tabla de memoria intermedia y escribe datos directamente en el disco.  Esto le proporciona un excelente rendimiento de escritura, ya que cada paquete insertado se clasifica solo por la clave primaria de "clave primaria", se comprime y se escribe en el disco para formar un segmento. <br><br>  La ausencia de una tabla de memoria o cualquier concepto de "actualizaci√≥n" de los datos tambi√©n significa que solo se pueden agregar; el sistema no admite cambiarlos ni eliminarlos.  Hoy, la √∫nica forma de eliminar datos es eliminarlos por meses calendario, ya que los segmentos nunca cruzan el l√≠mite del mes.  El equipo de ClickHouse est√° trabajando activamente para que esta caracter√≠stica sea personalizable.  Por otro lado, esto hace que la grabaci√≥n y fusi√≥n de segmentos sea perfecta, por lo que el ancho de banda de recepci√≥n se escala linealmente con el n√∫mero de inserciones paralelas hasta que las E / S o los n√∫cleos est√©n saturados. <br>  Sin embargo, este hecho tambi√©n significa que el sistema no es adecuado para paquetes peque√±os, por lo tanto, los servicios e inserciones de Kafka se utilizan para el almacenamiento en b√∫fer.  Adem√°s, ClickHouse en el fondo contin√∫a realizando constantemente la fusi√≥n de segmentos, de modo que muchas peque√±as piezas de informaci√≥n se combinar√°n y grabar√°n m√°s veces, aumentando as√≠ la intensidad de grabaci√≥n.  En este caso, demasiadas partes no relacionadas causar√°n un estrangulamiento agresivo de los insertos mientras contin√∫e la fusi√≥n.  Descubrimos que el mejor compromiso entre la recepci√≥n de datos en tiempo real y el rendimiento de la recepci√≥n es recibir un n√∫mero limitado de inserciones por segundo en la tabla. <br><br>  La clave para el rendimiento de lectura de tablas es la indexaci√≥n y el posicionamiento de datos en el disco.  Independientemente de cu√°n r√°pido sea el procesamiento, cuando el motor necesite escanear terabytes de datos del disco y usar solo una parte de ellos, llevar√° tiempo.  ClickHouse es un almac√©n de columnas, por lo que cada segmento contiene un archivo para cada columna (columna) con valores ordenados para cada fila.  Por lo tanto, las columnas enteras que no est√°n en la consulta se pueden omitir primero, y luego se pueden procesar varias celdas en paralelo con la ejecuci√≥n vectorizada.  Para evitar una exploraci√≥n completa, cada segmento tiene un peque√±o archivo de √≠ndice. <br><br>  Dado que todas las columnas est√°n ordenadas por "clave principal", el archivo de √≠ndice contiene solo las etiquetas (filas capturadas) de cada en√©sima fila para poder almacenarlas en la memoria incluso para tablas muy grandes.  Por ejemplo, puede establecer la configuraci√≥n predeterminada "marcar cada 8192a fila", luego la indexaci√≥n "exigua" de la tabla con 1 bill√≥n.  Las l√≠neas, que se ajustan f√°cilmente a la memoria, ocupar√°n solo 122.070 caracteres. <br><br><h3>  Desarrollo del sistema </h3><br>  El desarrollo y la mejora de Clickhouse se pueden rastrear hasta el <a href="https://github.com/yandex/ClickHouse/pulse">repositorio de Github</a> y asegurarse de que el proceso de "crecimiento" avance a un ritmo impresionante. <br><br><img src="https://habrastorage.org/webt/zl/iw/iz/zliwizhn6we2o5easwfkystr5g0.jpeg"><br><br><h3>  Popularidad </h3><br>  Clickhouse parece estar creciendo exponencialmente, especialmente en la comunidad de habla rusa.  La conferencia del a√±o pasado High load 2018 (Mosc√∫, del 8 al 9 de noviembre de 2018) mostr√≥ que monstruos como vk.com y Badoo usan Clickhouse, con el que pegan datos (por ejemplo, registros) de decenas de miles de servidores al mismo tiempo.  En un video de 40 minutos, <a href="https://www.youtube.com/watch%3Fv%3DpbbcMcrQoXw">Yuri Nasretdinov del equipo VKontakte habla sobre c√≥mo se hace esto</a> .  Pronto publicaremos la transcripci√≥n en Habr para la conveniencia de trabajar con el material. <br><br><h3>  √Åreas de aplicaci√≥n </h3><br>  Despu√©s de pasar un tiempo investigando, creo que hay √°reas en las que ClickHouse puede ser √∫til o capaz de reemplazar por completo otras soluciones m√°s tradicionales y populares, como MySQL, PostgreSQL, ELK, Google Big Query, Amazon RedShift, TimescaleDB, Hadoop, MapReduce, Pinot y Druid.  Los siguientes son detalles sobre el uso de ClickHouse para actualizar o reemplazar por completo los DBMS anteriores. <br><br><h3>  Extendiendo MySQL y PostgreSQL </h3><br>  M√°s recientemente, reemplazamos parcialmente MySQL con ClickHouse para la <a href="https://www.mautic.org/">plataforma de boletines informativos Mautic</a> .  El problema era que MySQL, debido a su dise√±o mal concebido, registraba cada correo electr√≥nico enviado y cada enlace en este correo electr√≥nico con un hash base64, creando una gran tabla MySQL (email_stats).  Despu√©s de enviar solo 10 millones de cartas a los suscriptores del servicio, esta tabla ocupaba 150 GB de espacio de archivos, y MySQL comenz√≥ a "aburrirse" en consultas simples.  Para solucionar el problema del espacio de archivos, utilizamos con √©xito la compresi√≥n de la tabla InnoDB, que la redujo 4 veces.  Sin embargo, todav√≠a no tiene sentido almacenar m√°s de 20-30 millones de correos electr√≥nicos en MySQL solo por el simple hecho de leer la historia, ya que cualquier consulta simple que, por alguna raz√≥n, necesite realizar un escaneo completo conduce a un intercambio y una gran carga de E / S, por sobre el cual recibimos regularmente advertencias de Zabbix. <br><br><img src="https://habrastorage.org/webt/t6/h9/3d/t6h93dxzyu7l_ddcmb9g-zhctwk.jpeg"><br><br>  Clickhouse utiliza dos algoritmos de compresi√≥n que reducen la cantidad de datos en aproximadamente <a href="https://www.altinity.com/blog/2017/11/21/compression-in-clickhouse">3-4 veces</a> , pero en este caso particular los datos fueron especialmente "comprimibles". <br><br><img src="https://habrastorage.org/webt/rd/8o/0x/rd8o0xpshmzaqfmbzblzp-cgczm.jpeg"><br><br><h3>  Reemplazo ELK </h3><br>  Seg√∫n nuestra propia experiencia, la pila ELK (ElasticSearch, Logstash y Kibana, en este caso particular, ElasticSearch) requiere muchos m√°s recursos para ejecutar de lo que es necesario para almacenar registros.  ElasticSearch es un gran motor si necesita una buena b√∫squeda de registro de texto completo (y no creo que realmente lo necesite), pero me pregunto por qu√© de hecho se ha convertido en el motor de registro est√°ndar.  Su rendimiento de recepci√≥n en combinaci√≥n con Logstash nos cre√≥ problemas incluso con cargas bastante peque√±as y requiri√≥ la adici√≥n de una cantidad creciente de RAM y espacio en disco.  Como base de datos, Clickhouse es mejor que ElasticSearch por las siguientes razones: <br><br><ul><li>  Soporte de dialecto SQL; </li><li>  La mejor relaci√≥n de compresi√≥n de datos almacenados; </li><li>  Soporte para b√∫squedas de expresiones regulares de expresiones regulares en lugar de b√∫squedas de texto completo; </li><li>  Planificaci√≥n de consultas mejorada y mayor rendimiento general. </li></ul><br>  Actualmente, el mayor problema que surge al comparar ClickHouse con ELK es la falta de soluciones para los registros de env√≠o, as√≠ como la falta de documentaci√≥n y ayudas de capacitaci√≥n sobre este tema.  Al mismo tiempo, cada usuario puede configurar ELK utilizando la Gu√≠a Digital del Oc√©ano, que es muy importante para la r√°pida implementaci√≥n de dichas tecnolog√≠as.  Aqu√≠ hay un motor de base de datos, pero todav√≠a no hay Filebeat para ClickHouse.  S√≠, hay un sistema <a href="https://www.fluentd.org/">fluido</a> para trabajar con registros de <a href="https://github.com/flant/loghouse">loghouse</a> , hay una herramienta de <a href="https://github.com/Altinity/clicktail">cola de clic</a> para ingresar archivos de registro en ClickHouse, pero todo esto lleva m√°s tiempo.  Sin embargo, ClickHouse todav√≠a lidera debido a su simplicidad, por lo que incluso los principiantes lo instalan de manera primaria y comienzan a usarlo completamente en solo 10 minutos. <br><br>  Prefiriendo soluciones minimalistas, intent√© usar FluentBit, una herramienta para enviar registros con una cantidad muy peque√±a de memoria, junto con ClickHouse, mientras intentaba evitar usar Kafka.  Sin embargo, las incompatibilidades menores, como los <a href="https://github.com/fluent/fluent-bit/issues/848">problemas de formato de fecha</a> , deben corregirse antes de que esto se pueda hacer sin una capa proxy que convierta los datos de FluentBit a ClickHouse. <br><br>  Como alternativa a Kibana, puede usar <a href="https://github.com/Vertamedia/clickhouse-grafana">Grafana</a> como el <a href="https://github.com/Vertamedia/clickhouse-grafana">backend de</a> ClickHouse.  Seg√∫n tengo entendido, esto puede causar problemas de rendimiento al representar una gran cantidad de puntos de datos, especialmente con versiones anteriores de Grafana.  En Qwintry, a√∫n no lo hemos intentado, pero de vez en cuando aparecen quejas sobre esto en el canal de soporte ClickHouse en Telegram. <br><br><h3>  Sustituci√≥n de Google Big Query y Amazon RedShift (soluci√≥n para grandes empresas) </h3><br>  El caso de uso ideal para BigQuery es descargar 1 TB de datos JSON y realizar consultas anal√≠ticas sobre ellos.  Big Query es un gran producto cuya escalabilidad es dif√≠cil de sobreestimar.  Este es un software mucho m√°s complejo que ClickHouse, que se ejecuta en un cl√∫ster interno, pero desde el punto de vista del cliente, tiene mucho en com√∫n con ClickHouse.  BigQuery puede subir de precio r√°pidamente tan pronto como pague por cada SELECT, por lo que esta es una soluci√≥n SaaS real con todas sus ventajas y desventajas. <br><br>  ClickHouse es la mejor opci√≥n cuando realiza muchas consultas computacionalmente costosas.  Cuantas m√°s consultas SELECT ejecute cada d√≠a, m√°s sentido tiene reemplazar Big Query con ClickHouse, porque dicho reemplazo le ahorrar√° miles de d√≥lares cuando se trata de muchos terabytes de datos procesados.  Esto no se aplica a los datos almacenados, que es bastante barato de procesar en Big Query. <br><br>  El art√≠culo del cofundador de Altinity, Alexander Zaitsev, <a href="https://www.altinity.com/blog/2017/10/23/migration-to-clickhouse">"Cambiando a ClickHouse",</a> habla sobre los beneficios de tal migraci√≥n de DBMS. <br><br><h3>  Sustituci√≥n de TimescaleDB </h3><br>  TimescaleDB es una extensi√≥n PostgreSQL que optimiza el trabajo con series de tiempo en una base de datos regular ( <a href="https://docs.timescale.com/v1.0/introduction">https://docs.timescale.com/v1.0/introduction</a> , <a href="https://habr.com/ru/company/zabbix/blog/458530/">https://habr.com/en/company/zabbix/blog/458530 /</a> ). <br><br>  Aunque ClickHouse no es un competidor serio en el nicho de series temporales, pero la estructura de columnas y la ejecuci√≥n vectorial de consultas, en la mayor√≠a de los casos de procesamiento de consultas anal√≠ticas, es mucho m√°s r√°pido que TimescaleDB.  Al mismo tiempo, el rendimiento de recibir datos de paquetes ClickHouse es aproximadamente 3 veces mayor, adem√°s, utiliza 20 veces menos espacio en disco, lo cual es realmente importante para procesar grandes cantidades de datos hist√≥ricos: <a href="https://www.altinity.com/blog/ClickHouse-for-time-series">https://www.altinity.com/blog/ClickHouse-for -tiempo-serie</a> . <br><br>  A diferencia de ClickHouse, la √∫nica forma de ahorrar espacio en disco en TimescaleDB es usar ZFS o sistemas de archivos similares. <br><br>  Es probable que las pr√≥ximas actualizaciones de ClickHouse introduzcan la compresi√≥n delta, lo que lo har√° a√∫n m√°s adecuado para procesar y almacenar datos de series temporales.  TimescaleDB puede ser una mejor opci√≥n que un ClickHouse desnudo en los siguientes casos: <br><br><ul><li>  instalaciones peque√±as con una cantidad muy peque√±a de RAM (&lt;3 GB); </li><li>  una gran cantidad de INSERT peque√±os que no desea almacenar en fragmentos grandes; </li><li>  mejor consistencia, uniformidad y requisitos de ACID; </li><li>  Soporte PostGIS; </li><li>  fusion√°ndose con las tablas existentes de PostgreSQL, ya que Timescale DB es esencialmente PostgreSQL. </li></ul><br><h3>  Competencia con los sistemas Hadoop y MapReduce </h3><br>  Hadoop y otros productos MapReduce pueden realizar muchos c√°lculos complejos, pero generalmente funcionan con grandes retrasos. ClickHouse soluciona este problema al procesar terabytes de datos y entregar resultados casi instant√°neamente.  Por lo tanto, ClickHouse es mucho m√°s eficiente para realizar una investigaci√≥n anal√≠tica r√°pida e interactiva, lo que deber√≠a ser interesante para los especialistas en procesamiento de datos. <br><br><h3>  Competencia con Pinot y Druida </h3><br>  Los competidores m√°s cercanos de ClickHouse son Pinot y Druid, un producto de c√≥digo abierto columnar escalable linealmente.  Un excelente trabajo al comparar estos sistemas fue publicado en un art√≠culo de <a href="https://medium.com/%40leventov/comparison-of-the-open-source-olap-systems-for-big-data-ClickHouse-druid-and-pinot-8e042a5ed1c7">Roman Leventov</a> del 1 de febrero de 2018. <br><br><img src="https://habrastorage.org/webt/4c/26/hb/4c26hbndeb9gj0mq86lyfrmpc0e.jpeg"><br><br>  Este art√≠culo requiere actualizaci√≥n: establece que ClickHouse no admite las operaciones ACTUALIZAR y ELIMINAR, lo cual no es del todo cierto para las √∫ltimas versiones. <br><br>  No tenemos suficiente experiencia con estos DBMS, pero no me gusta la complejidad de la infraestructura utilizada para ejecutar Druid y Pinot: se trata de un mont√≥n de "partes m√≥viles" rodeadas de Java por todos lados. <br><br>  Druid y Pinot son proyectos de incubadoras de Apache, cuyo progreso de desarrollo est√° cubierto en detalle por Apache en las p√°ginas de sus proyectos de GitHub.  Pinot apareci√≥ en la incubadora en octubre de 2018, y Druid naci√≥ 8 meses antes, en febrero. <br><br>  La falta de informaci√≥n sobre c√≥mo funciona AFS me da algunas, y quiz√°s preguntas tontas.  Me pregunto si los autores de Pinot notaron que la Fundaci√≥n Apache est√° m√°s dispuesta hacia los druidas, ¬øy esta actitud hacia el competidor caus√≥ envidia?  ¬øSe ralentizar√° el desarrollo de Druid y Pinot se acelerar√° si los patrocinadores que apoyan al primero de repente se interesan en el segundo? <br><br><h3>  Desventajas de ClickHouse </h3><br>  Inmadurez: Obviamente, esto todav√≠a no es una tecnolog√≠a aburrida, pero en cualquier caso, no se observa nada similar en otros DBMS columnares. <br><br>  Los insertos peque√±os no funcionan bien a alta velocidad: los insertos deben dividirse en piezas grandes, porque el rendimiento de los insertos peque√±os disminuye en proporci√≥n al n√∫mero de columnas en cada fila.  As√≠ es como ClickHouse almacena datos en el disco: cada columna significa 1 archivo o m√°s, por lo que para insertar 1 fila que contenga 100 columnas, debe abrir y escribir al menos 100 archivos.  Esta es la raz√≥n por la cual se requiere un intermediario para almacenar las inserciones en el b√∫fer (a menos que el cliente mismo proporcione el almacenamiento en b√∫fer), generalmente se trata de Kafka o alg√∫n tipo de sistema de gesti√≥n de colas.  Tambi√©n puede usar el motor de la tabla de almacenamiento intermedio para luego copiar grandes fragmentos de datos en tablas MergeTree. <br><br>  Las uniones de tabla est√°n limitadas por la RAM del servidor, ¬°pero al menos est√°n ah√≠!  Por ejemplo, Druid y Pinot no tienen tales conexiones en absoluto, ya que son dif√≠ciles de implementar directamente en sistemas distribuidos que no admiten el movimiento de grandes piezas de datos entre nodos. <br><br><h3>  Conclusiones </h3><br>  En los pr√≥ximos a√±os, planeamos hacer un uso extensivo de ClickHouse en Qwintry, ya que este DBMS proporciona un excelente equilibrio de rendimiento, baja sobrecarga, escalabilidad y simplicidad.  Estoy bastante seguro de que comenzar√° a extenderse r√°pidamente tan pronto como la comunidad ClickHouse presente m√°s formas de usarlo en instalaciones peque√±as y medianas. <br><br><h3>  Un poco de publicidad :) </h3><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  Ap√≥yenos haciendo un pedido o recomendando a sus amigos <a href="https://ua-hosting.company/cloudvps/nl">VPS basado en la nube para desarrolladores desde $ 4.99</a> , un <b>an√°logo √∫nico de servidores de nivel b√°sico que inventamos para usted:</b> <a href="https://habr.com/company/ua-hosting/blog/347386/">toda la verdad sobre VPS (KVM) E5-2697 v3 (6 n√∫cleos) 10GB DDR4 480GB SSD 1Gbps desde $ 19 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>Dell R730xd 2 veces m√°s barato en el centro de datos Equinix Tier IV en Amsterdam?</b>  ¬°Solo tenemos <b><a href="https://ua-hosting.company/serversnl">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV desde $ 199</a> en los Pa√≠ses Bajos!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - ¬°desde $ 99!</b></b>  Lea sobre <a href="https://habr.com/company/ua-hosting/blog/329618/">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://habr.com/company/ua-hosting/blog/329618/">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/483112/">https://habr.com/ru/post/483112/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483082/index.html">La caza de vulnerabilidades es un 7% m√°s efectiva</a></li>
<li><a href="../483084/index.html">C√°mara con funci√≥n de seguimiento</a></li>
<li><a href="../483086/index.html">Resultados de 2019: qu√© activos resultaron ser los m√°s rentables para los inversores rusos</a></li>
<li><a href="../483094/index.html">C√≥mo hice realidad mi sue√±o cuando visit√© la oficina rusa de Microsoft</a></li>
<li><a href="../483110/index.html">Rostov del Don: empresas de TI, comunidades y eventos en 2019</a></li>
<li><a href="../483114/index.html">Las ventanas modales que merecemos</a></li>
<li><a href="../483116/index.html">Hacer un tubo de telescopio en casa</a></li>
<li><a href="../483118/index.html">Lo que se agregar√° a JavaScript en 2020</a></li>
<li><a href="../483120/index.html">¬øC√≥mo conectar tarjetas en una proyecci√≥n elipsoide, si no se proporciona?</a></li>
<li><a href="../483124/index.html">El gadget m√°s masivo en el futuro cercano (no un tel√©fono inteligente)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>