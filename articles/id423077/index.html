<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📊 🤷🏿 🐤 Panduan Perakitan X86 untuk Pemula 🙇🏼 📶 ⌛️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saat ini, jarang diperlukan untuk menulis di assembler murni, tetapi saya merekomendasikan ini kepada siapa pun yang tertarik dalam pemrograman. Anda ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Panduan Perakitan X86 untuk Pemula</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423077/"> Saat ini, jarang diperlukan untuk menulis di assembler murni, tetapi saya merekomendasikan ini kepada siapa pun yang tertarik dalam pemrograman.  Anda akan melihat hal-hal dari sudut yang berbeda, dan keterampilan akan berguna ketika men-debug kode dalam bahasa lain. <br><br>  Pada artikel ini, kita akan menulis dari awal kalkulator <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">notasi Polandia terbalik (RPN)</a> di assembler x86 murni.  Ketika kita selesai, kita dapat menggunakannya seperti ini: <br><br><pre><code class="bash hljs">$ ./calc <span class="hljs-string"><span class="hljs-string">"32+6*"</span></span> <span class="hljs-comment"><span class="hljs-comment"># "(3+2)*6"    30</span></span></code> </pre> <br>  Semua kode untuk artikel ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Ini banyak dikomentari dan dapat berfungsi sebagai materi pendidikan bagi mereka yang sudah tahu assembler. <br><br>  Mari kita mulai dengan menulis program <i>Hello world</i> dasar <i>!</i>  untuk memeriksa pengaturan lingkungan.  Kemudian mari kita beralih ke panggilan sistem, tumpukan panggilan, susunan bingkai, dan konvensi pemanggilan x86.  Kemudian, untuk latihan, kita akan menulis beberapa fungsi dasar dalam assembler x86 - dan mulai menulis kalkulator RPN. <br><a name="habracut"></a><br>  Diasumsikan bahwa pembaca memiliki beberapa pengalaman pemrograman dalam C dan pengetahuan dasar arsitektur komputer (misalnya, apa itu register prosesor).  Karena kita akan menggunakan Linux, Anda juga harus dapat menggunakan baris perintah Linux. <br><br><h1>  Pengaturan lingkungan </h1><br>  Seperti yang telah disebutkan, kami menggunakan Linux (64-bit atau 32-bit).  Kode di atas tidak berfungsi pada Windows atau Mac OS X. <br><br>  Untuk instalasi, Anda hanya perlu GNU <code>ld</code> linker dari <code>binutils</code> , yang sudah diinstal pada sebagian besar distribusi, dan assembler NASM.  Di Ubuntu dan Debian, Anda dapat menginstal keduanya dengan satu perintah: <br><br><pre> <code class="bash hljs">$ sudo apt-get install binutils nasm</code> </pre> <br>  Saya juga merekomendasikan menyimpan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tabel ASCII</a> . <br><br><h1>  Halo dunia! </h1><br>  Untuk memverifikasi lingkungan, simpan kode berikut dalam file <code>calc.asm</code> : <br><br><pre> <code class="hljs 1c">;   <span class="hljs-built_in"><span class="hljs-built_in"></span></span> _start     ; . global _start ;   .rodata  <span class="hljs-built_in"><span class="hljs-built_in"></span></span> ( <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ) ;   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ,       section .rodata ;     hello_world.   NASM ;   ,   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  , ;  . <span class="hljs-number"><span class="hljs-number">0</span></span>xA =  <span class="hljs-built_in"><span class="hljs-built_in"></span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>x0 =    hello_world: db <span class="hljs-string"><span class="hljs-string">"Hello world!"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>xA, <span class="hljs-number"><span class="hljs-number">0</span></span>x0 ;   .text,     section .text _start: mov eax, <span class="hljs-number"><span class="hljs-number">0</span></span>x04 ;  <span class="hljs-built_in"><span class="hljs-built_in"></span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>   eax (<span class="hljs-number"><span class="hljs-number">0</span></span>x04 = write()) mov ebx, <span class="hljs-number"><span class="hljs-number">0</span></span>x1 ;   (<span class="hljs-number"><span class="hljs-number">1</span></span> =  , <span class="hljs-number"><span class="hljs-number">2</span></span> =  ) mov ecx, hello_world ;     mov edx, <span class="hljs-number"><span class="hljs-number">14</span></span> ;   int <span class="hljs-number"><span class="hljs-number">0</span></span>x80 ;  <span class="hljs-built_in"><span class="hljs-built_in"></span></span>  <span class="hljs-number"><span class="hljs-number">0</span></span>x80,   ;     mov eax, <span class="hljs-number"><span class="hljs-number">0</span></span>x01 ; <span class="hljs-number"><span class="hljs-number">0</span></span>x01 = exit() mov ebx, <span class="hljs-number"><span class="hljs-number">0</span></span> ; <span class="hljs-number"><span class="hljs-number">0</span></span> =   int <span class="hljs-number"><span class="hljs-number">0</span></span>x80</code> </pre> <br>  Komentar menjelaskan struktur umum.  Untuk daftar register dan instruksi umum, lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Assembler University of Virginia x86</a> .  Dengan diskusi lebih lanjut tentang panggilan sistem, ini akan menjadi lebih penting. <br><br>  Perintah berikut mengumpulkan file assembler ke file objek, dan kemudian mengkompilasi file yang dapat dieksekusi: <br><br><pre> <code class="bash hljs">$ nasm -f elf_i386 calc.asm -o calc $ ld -m elf_i386 calc.o -o calc</code> </pre> <br>  Setelah memulai, Anda akan melihat: <br><br><pre> <code class="bash hljs">$ ./calc Hello world!</code> </pre> <br><h3>  Makefile </h3><br>  Ini adalah bagian opsional, tetapi Anda bisa membuat <code>Makefile</code> untuk menyederhanakan pembuatan dan tata letak di masa depan.  Simpan di direktori yang sama dengan <code>calc.asm</code> : <br><br><pre> <code class="hljs powershell">CFLAGS= <span class="hljs-operator"><span class="hljs-operator">-f</span></span> elf32 LFLAGS= <span class="hljs-literal"><span class="hljs-literal">-m</span></span> elf_i386 all: calc calc: calc.o ld <span class="hljs-variable"><span class="hljs-variable">$</span></span>(LFLAGS) calc.o <span class="hljs-literal"><span class="hljs-literal">-o</span></span> calc calc.o: calc.asm nasm <span class="hljs-variable"><span class="hljs-variable">$</span></span>(CFLAGS) calc.asm <span class="hljs-literal"><span class="hljs-literal">-o</span></span> calc.o clean: rm <span class="hljs-operator"><span class="hljs-operator">-f</span></span> calc.o calc .INTERMEDIATE: calc.o</code> </pre> <br>  Kemudian, alih-alih instruksi di atas, jalankan make. <br><br><h1>  Panggilan sistem </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panggilan sistem Linux</a> memberitahu OS untuk melakukan sesuatu untuk kita.  Dalam artikel ini, kami hanya menggunakan dua panggilan sistem: <code>write()</code> untuk menulis baris ke file atau streaming (dalam kasus kami, ini adalah perangkat output standar dan kesalahan standar) dan <code>exit()</code> untuk keluar dari program: <br><br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">syscall</span></span> <span class="hljs-number"><span class="hljs-number">0x01</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> error_code) error_code -  <span class="hljs-number"><span class="hljs-number">0</span></span>         (  <span class="hljs-number"><span class="hljs-number">1</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">syscall</span></span> <span class="hljs-number"><span class="hljs-number">0x04</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">write</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fd, char *string, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">length</span></span>) fd —  <span class="hljs-number"><span class="hljs-number">1</span></span>   , <span class="hljs-number"><span class="hljs-number">2</span></span>      string —      <span class="hljs-keyword"><span class="hljs-keyword">length</span></span> —    </code> </pre> <br>  Panggilan sistem dikonfigurasikan dengan menyimpan nomor panggilan sistem dalam register <code>eax</code> , dan kemudian argumennya dalam <code>ebx</code> , <code>ecx</code> , <code>edx</code> dalam urutan itu.  Anda mungkin memperhatikan bahwa <code>exit()</code> hanya <code>exit()</code> satu argumen - dalam hal ini ecx dan edx tidak masalah. <br><br><table><tbody><tr><th>  Eax </th><th>  ebx </th><th>  ECX </th><th>  edx </th></tr><tr><td align="center">  Nomor panggilan sistem </td><td align="center">  arg1 </td><td align="center">  arg2 </td><td align="center">  arg3 </td></tr></tbody></table><br><br><h1>  Tumpukan panggilan </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/2b0/574/ea2/2b0574ea20054a1e428d6f0518a80388.png"><br><br>  Tumpukan panggilan adalah struktur data yang menyimpan informasi tentang setiap panggilan ke suatu fungsi.  Setiap panggilan memiliki bagiannya sendiri di tumpukan - "bingkai".  Ini menyimpan beberapa informasi tentang panggilan saat ini: variabel lokal dari fungsi ini dan alamat kembali (di mana program harus pergi setelah fungsi dijalankan). <br><br>  Segera saya perhatikan satu hal yang tidak jelas: tumpukan memori semakin <i>berkurang</i> .  Ketika Anda menambahkan sesuatu ke bagian atas tumpukan, itu dimasukkan pada alamat memori yang lebih rendah dari item sebelumnya.  Dengan kata lain, saat tumpukan bertambah, alamat memori di bagian atas tumpukan berkurang.  Untuk menghindari kebingungan, saya akan selalu mengingatkan Anda tentang fakta ini. <br><br>  Instruksi <code>push</code> sesuatu di atas tumpukan, dan <code>pop</code> muncul data dari sana.  Misalnya, <code>push </code> mengalokasikan tempat di bagian atas tumpukan dan menempatkan nilai dari register <code>eax</code> sana, dan <code>pop </code> mentransfer data apa pun dari atas tumpukan ke <code>eax</code> dan membebaskan area memori ini. <br><br>  Tujuan dari register <code>esp</code> adalah untuk menunjuk ke bagian atas tumpukan.  Setiap data di atas <code>esp</code> dianggap tidak mengenai tumpukan, ini adalah data sampah.  Menjalankan pernyataan <code>push</code> (atau <code>pop</code> ) bergerak <code>esp</code> .  Anda dapat memanipulasi <code>esp</code> secara langsung, jika Anda memberikan laporan atas tindakan Anda. <br><br>  Register <code>ebp</code> mirip dengan <code>esp</code> , hanya saja selalu menunjuk kira-kira ke tengah frame stack saat ini, tepat sebelum variabel lokal dari fungsi saat ini (kita akan membicarakannya nanti).  Namun, memanggil fungsi lain tidak bergerak secara otomatis, itu harus dilakukan secara manual setiap kali. <br><br><h1>  Konvensi pemanggilan arsitektur X86 </h1><br>  Di x86, tidak ada konsep fungsi bawaan seperti pada bahasa tingkat tinggi.  <code>goto</code> <code>call</code> pada dasarnya hanya <code>jmp</code> ( <code>goto</code> ) ke alamat memori lain.  Untuk menggunakan rutinitas sebagai fungsi dalam bahasa lain (yang dapat mengambil argumen dan mengembalikan data), Anda harus mengikuti konvensi pemanggilan (ada banyak konvensi, tetapi kami menggunakan CDECL, konvensi paling populer untuk x86 di antara kompiler C dan programmer assembler).  Ini juga memastikan bahwa register rutin tidak bingung ketika memanggil fungsi lain. <br><br><h3>  Aturan Penelepon </h3><br>  Sebelum memanggil fungsi, penelepon harus: <br><br><ol><li>  Simpan register yang harus disimpan oleh penelepon ke tumpukan.  Fungsi yang dipanggil dapat mengubah beberapa register: agar tidak kehilangan data, pemanggil harus menyimpannya dalam memori sampai didorong ke stack.  Ini adalah <code>edx</code> <code>eax</code> , <code>ecx</code> dan <code>edx</code> .  Jika Anda tidak menggunakan salah satunya, maka Anda tidak dapat menyimpannya. </li><li>  Tulis argumen fungsi ke stack dalam urutan terbalik (argumen terakhir pertama, argumen pertama pertama di akhir).  Pemesanan ini memastikan bahwa fungsi yang dipanggil menerima argumennya dari tumpukan dengan urutan yang benar. </li><li>  Panggil subrutin. </li></ol><br>  Jika memungkinkan, fungsi akan menyimpan hasilnya dalam <code>eax</code> .  Segera setelah <code>call</code> penelepon harus: <br><br><ol><li>  Hapus argumen fungsi dari tumpukan.  Ini biasanya dilakukan dengan hanya menambahkan jumlah byte ke <code>esp</code> .  Jangan lupa bahwa tumpukan tumbuh turun, jadi untuk menghapus dari tumpukan, Anda harus menambahkan byte. </li><li>  Kembalikan register yang disimpan dengan mengeluarkannya dari tumpukan dengan urutan terbalik.  Fungsi yang dipanggil tidak akan mengubah register lainnya. </li></ol><br>  Contoh berikut menunjukkan bagaimana aturan ini berlaku.  Asumsikan bahwa fungsi <code>_subtract</code> mengambil dua argumen integer (4-byte) dan mengembalikan argumen pertama dikurangi yang kedua.  Dalam subrutin <code>_mysubroutine</code> panggil <code>_subtract</code> dengan argumen <code>10</code> dan <code>2</code> : <br><br><pre> <code class="hljs perl">_mysubroutine: ; ... ;  -  ; ... <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx ;   (    eax) <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> ;  ,      <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> call _subtract ; eax   <span class="hljs-number"><span class="hljs-number">10</span></span>-<span class="hljs-number"><span class="hljs-number">2</span></span>=<span class="hljs-number"><span class="hljs-number">8</span></span> add esp, <span class="hljs-number"><span class="hljs-number">8</span></span> ;  <span class="hljs-number"><span class="hljs-number">8</span></span>    (   <span class="hljs-number"><span class="hljs-number">4</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> edx ;    <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx ; ... ;  - ,        eax ; ...</code> </pre> <br><h3>  Aturan yang disebut rutin </h3><br>  Sebelum menelepon, subrutin harus: <br><br><ol><li>  Simpan pointer register dasar <code>ebp</code> dari frame sebelumnya dengan menuliskannya ke stack. </li><li>  Sesuaikan <code>ebp</code> dari frame sebelumnya ke saat ini (nilai <code>esp</code> saat ini). </li><li>  Alokasikan lebih banyak ruang pada stack untuk variabel lokal, jika perlu, pindahkan pointer <code>esp</code> .  Saat tumpukan bertambah, Anda perlu mengurangi memori yang hilang dari <code>esp</code> . </li><li>  Simpan register dari rutin yang dipanggil ke tumpukan.  Ini adalah <code>ebx</code> , <code>edi</code> dan <code>esi</code> .  Tidak perlu menyimpan register yang tidak direncanakan untuk diubah. </li></ol><br>  Tumpukan panggilan setelah langkah 1: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d15/55e/4c4/d1555e4c4d0851f1f8ddec2b527e4877.png"><br><br>  Tumpukan panggilan setelah langkah 2: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ba/e1a/9bc/2bae1a9bc4aff273c6badbd5ec94d2c8.png"><br><br>  Tumpukan panggilan setelah langkah 4: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c4/4bf/a7b/8c44bfa7bfb67546110925a9606e27cd.png"><br><br>  Dalam diagram ini, alamat pengirim ditunjukkan di setiap bingkai tumpukan.  Secara otomatis didorong ke stack oleh pernyataan <code>call</code> .  <code>ret</code> mengambil alamat dari atas tumpukan dan melompat ke sana.  Kita tidak memerlukan instruksi ini, saya hanya menunjukkan mengapa variabel lokal dari fungsi adalah 4 byte di atas <code>ebp</code> , tetapi argumen fungsi adalah 8 byte di bawah <code>ebp</code> . <br><br>  Dalam diagram terakhir, Anda juga dapat melihat bahwa variabel lokal dari fungsi selalu mulai 4 byte di atas <code>ebp</code> dari alamat <code>ebp-4</code> (kurangi di sini, karena kita bergerak ke atas tumpukan), dan argumen fungsi selalu dimulai 8 byte di bawah <code>ebp</code> dari alamat <code>ebp+8</code> (tambahan, karena kita bergerak ke bawah tumpukan).  Jika Anda mengikuti aturan konvensi ini, itu akan terjadi dengan variabel dan argumen fungsi apa pun. <br><br>  Ketika fungsi selesai dan Anda ingin kembali, Anda harus terlebih dahulu mengatur <code>eax</code> ke nilai kembali fungsi, jika perlu.  Selain itu, Anda perlu: <br><br><ol><li>  Kembalikan register yang disimpan dengan mengeluarkannya dari tumpukan dengan urutan terbalik. </li><li>  Kosongkan ruang pada tumpukan yang dialokasikan oleh variabel lokal di langkah 3, jika perlu: dengan hanya menginstal <code>esp</code> di ebp </li><li>  Kembalikan penunjuk dasar <code>ebp</code> dari frame sebelumnya dengan mengeluarkannya dari tumpukan. </li><li>  Kembali dengan <code>ret</code> </li></ol><br>  Sekarang kita menerapkan fungsi <code>_subtract</code> dari contoh kita: <br><br><pre> <code class="hljs perl">_subtract: <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ebp ;      mov ebp, esp ;  ebp ;          ,      ;       ,     ;   ;    mov eax, [ebp+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;      eax.  ;       ebp+<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eax</span></span></span><span class="hljs-function">, [</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ebp</span></span></span><span class="hljs-function">+12] </span></span>;      ebp+<span class="hljs-number"><span class="hljs-number">12</span></span>   ;  ;   , eax     ;     ,     ;       ,       <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ebp ;      ret</code> </pre> <br><h3>  Masuk dan keluar </h3><br>  Dalam contoh di atas, Anda dapat melihat bahwa fungsi selalu berjalan dengan cara yang sama: <code>push ebp</code> , <code>mov ebp</code> , <code>esp</code> , dan alokasi memori untuk variabel lokal.  Set x86 memiliki instruksi praktis yang melakukan semua ini: <code>enter ab</code> , di mana <code>a</code> adalah jumlah byte yang ingin Anda alokasikan untuk variabel lokal, <code>b</code> adalah "level bersarang", yang akan selalu kita atur ke <code>0</code> .  Selain itu, fungsi selalu berakhir dengan instruksi <code>pop ebp</code> dan <code>mov esp</code> , <code>ebp</code> (meskipun mereka diperlukan hanya ketika mengalokasikan memori untuk variabel lokal, tetapi dalam hal apapun tidak membahayakan).  Ini juga dapat diganti dengan satu pernyataan: <code>leave</code> .  Kami melakukan perubahan: <br><br><pre> <code class="hljs perl">_subtract: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;        ebp ;       ,     ;   ;    mov eax, [ebp+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;      eax.  ;       ebp+<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eax</span></span></span><span class="hljs-function">, [</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ebp</span></span></span><span class="hljs-function">+12] </span></span>;      ebp+<span class="hljs-number"><span class="hljs-number">12</span></span>  ;   ;   , eax     ;     ,     leave ;      ret</code> </pre> <br><h1>  Menulis Beberapa Fungsi Dasar </h1><br>  Setelah menguasai konvensi pemanggilan, Anda dapat mulai menulis beberapa rutinitas.  Mengapa tidak menggeneralisasi kode yang menampilkan "Halo dunia!" Untuk menampilkan setiap baris: fungsi <code>_print_msg</code> . <br><br>  Di sini kita membutuhkan fungsi <code>_strlen</code> lain untuk menghitung panjang string.  Di C, akan terlihat seperti ini: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> <span class="hljs-built_in"><span class="hljs-built_in">strlen</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *s) { <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> length = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (*s != <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//   length++; s++; } //   return length; }</span></span></code> </pre> <br>  Dengan kata lain, dari awal baris, kami menambahkan 1 ke nilai kembali untuk setiap karakter kecuali nol.  Segera setelah karakter nol diperhatikan, kami mengembalikan nilai yang terakumulasi dalam loop.  Di assembler, ini juga cukup sederhana: Anda dapat menggunakan fungsi <code>_subtract</code> ditulis sebelumnya sebagai basis: <br><br><pre> <code class="hljs 1c">_strlen: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;        ebp ;       ,    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ;   ;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mov</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eax</span></span></span><span class="hljs-function">, 0 ; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">length</span></span></span><span class="hljs-function"> = 0 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mov</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ecx</span></span></span><span class="hljs-function">, [</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ebp</span></span></span><span class="hljs-function">+8] ; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">   ;  </span></span></span></span>)   ecx (   ; ,      ) _strlen_loop_start: ;  ,   <span class="hljs-keyword"><span class="hljs-keyword"></span></span> cmp byte [ecx], <span class="hljs-number"><span class="hljs-number">0</span></span> ;       . <span class="hljs-keyword"><span class="hljs-keyword"></span></span> ;    <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-number"><span class="hljs-number">32</span></span>  (<span class="hljs-number"><span class="hljs-number">4</span></span> ). ;    .    ;     ( <span class="hljs-built_in"><span class="hljs-built_in"></span></span>) je _strlen_loop_end ;  <span class="hljs-keyword"><span class="hljs-keyword"></span></span>     inc eax ;    ,  <span class="hljs-number"><span class="hljs-number">1</span></span>    add ecx, <span class="hljs-number"><span class="hljs-number">1</span></span> ;       jmp _strlen_loop_start ;      _strlen_loop_end: ;  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eax</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> ; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function">  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">leave</span></span></span><span class="hljs-function"> ; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title"></span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ret</span></span></span></span></code> </pre> <br>  Sudah tidak buruk kan?  Menulis kode C terlebih dahulu dapat membantu, karena sebagian besar langsung dikonversi menjadi assembler.  Sekarang Anda dapat menggunakan fungsi ini di <code>_print_msg</code> , tempat kami menerapkan semua pengetahuan yang diperoleh: <br><br><pre> <code class="hljs perl">_print_msg: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;    mov eax, <span class="hljs-number"><span class="hljs-number">0x04</span></span> ; <span class="hljs-number"><span class="hljs-number">0x04</span></span> =   <span class="hljs-keyword"><span class="hljs-keyword">write</span></span>() mov ebx, <span class="hljs-number"><span class="hljs-number">0x1</span></span> ; <span class="hljs-number"><span class="hljs-number">0x1</span></span> =   mov ecx, [ebp+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;       , ;   edx   .    _strlen <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax ;     (    edx) <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> dword [ebp+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;   _strlen  _print_msg.  NASM ; ,    ,  , . ;      dword (<span class="hljs-number"><span class="hljs-number">4</span></span> , <span class="hljs-number"><span class="hljs-number">32</span></span> ) call _strlen ; eax     mov edx, eax ;     edx,     add esp, <span class="hljs-number"><span class="hljs-number">4</span></span> ;  <span class="hljs-number"><span class="hljs-number">4</span></span>    ( <span class="hljs-number"><span class="hljs-number">4</span></span>-  char*) <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx ;     <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax ;      _strlen,     <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">0x80</span></span> leave ret</code> </pre> <br>  Dan lihat buah dari kerja keras kami, menggunakan fungsi ini di program lengkap "Halo, dunia!". <br><br><pre> <code class="hljs pgsql">_start: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;     (    ) push hello_world ;    _print_msg <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> _print_msg mov eax, <span class="hljs-number"><span class="hljs-number">0x01</span></span> ; <span class="hljs-number"><span class="hljs-number">0x01</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>() mov ebx, <span class="hljs-number"><span class="hljs-number">0</span></span> ; <span class="hljs-number"><span class="hljs-number">0</span></span> =   <span class="hljs-type"><span class="hljs-type">int</span></span> <span class="hljs-number"><span class="hljs-number">0x80</span></span></code> </pre> <br>  Percaya atau tidak, kami telah membahas semua topik utama yang diperlukan untuk menulis program assembler x86 dasar!  Sekarang kita memiliki semua bahan pengantar dan teori, jadi kita akan benar-benar berkonsentrasi pada kode dan menerapkan pengetahuan yang diperoleh untuk menulis kalkulator RPN kami.  Fungsinya akan lebih lama dan bahkan akan menggunakan beberapa variabel lokal.  Jika Anda ingin segera melihat program yang sudah selesai, ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dia</a> . <br><br>  Bagi Anda yang tidak terbiasa dengan notasi Polandia terbalik (kadang-kadang disebut notasi Polandia terbalik atau notasi postfix), di sini ekspresi dievaluasi menggunakan tumpukan.  Oleh karena itu, Anda perlu membuat stack, serta fungsi <code>_pop</code> dan <code>_push</code> untuk memanipulasi tumpukan ini.  Anda juga akan <code>_print_answer</code> fungsi <code>_print_answer</code> , yang akan menampilkan representasi string dari hasil numerik di akhir perhitungan. <br><br><h1>  Susun penciptaan </h1><br>  Pertama, kita mendefinisikan ruang dalam memori untuk stack kita, serta <code>stack_size</code> variabel global.  Dianjurkan untuk mengubah variabel-variabel ini sehingga mereka tidak jatuh di bagian <code>.rodata</code> , tetapi dalam <code>.data</code> . <br><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">section</span></span> .<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> stack_size: dd 0 ;   dword (4 )   0 stack: times 256 dd 0 ;   </span></span></code> </pre> <br>  Sekarang Anda dapat menerapkan fungsi <code>_push</code> dan <code>_pop</code> : <br><br><pre> <code class="hljs powershell">_push: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;    ,    push eax push edx mov eax, [<span class="hljs-type"><span class="hljs-type">stack_size</span></span>] mov edx, [<span class="hljs-type"><span class="hljs-type">ebp</span></span>+<span class="hljs-number"><span class="hljs-number">8</span></span>] mov [<span class="hljs-type"><span class="hljs-type">stack</span></span> + <span class="hljs-number"><span class="hljs-number">4</span></span>*<span class="hljs-type"><span class="hljs-type">eax</span></span>], edx ;    .   ;       dword inc dword [<span class="hljs-type"><span class="hljs-type">stack_size</span></span>] ;  <span class="hljs-number"><span class="hljs-number">1</span></span>  stack_size ;     pop edx pop eax leave ret _pop: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;     dec dword [<span class="hljs-type"><span class="hljs-type">stack_size</span></span>] ;   <span class="hljs-number"><span class="hljs-number">1</span></span>  stack_size mov eax, [<span class="hljs-type"><span class="hljs-type">stack_size</span></span>] mov eax, [<span class="hljs-type"><span class="hljs-type">stack</span></span> + <span class="hljs-number"><span class="hljs-number">4</span></span>*<span class="hljs-type"><span class="hljs-type">eax</span></span>] ;       eax ;     ,     leave ret</code> </pre> <br><h1>  Output angka </h1><br>  <code>_print_answer</code> jauh lebih rumit: Anda harus mengonversi angka menjadi string dan menggunakan beberapa fungsi lainnya.  Anda akan <code>_putc</code> fungsi <code>_putc</code> , yang menghasilkan satu karakter, fungsi <code>mod</code> untuk menghitung sisa pembagian (modul) dari dua argumen dan <code>_pow_10</code> untuk menaikkan ke kekuatan 10. Kemudian Anda akan mengerti mengapa mereka dibutuhkan.  Ini cukup sederhana, ini kodenya: <br><br><pre> <code class="hljs powershell">_pow_10: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> mov ecx, [<span class="hljs-type"><span class="hljs-type">ebp</span></span>+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;  ecx (  )  ;  mov eax, <span class="hljs-number"><span class="hljs-number">1</span></span> ;   <span class="hljs-number"><span class="hljs-number">10</span></span> (<span class="hljs-number"><span class="hljs-number">10</span></span>**<span class="hljs-number"><span class="hljs-number">0</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>) _pow_10_loop_start: ;  eax  <span class="hljs-number"><span class="hljs-number">10</span></span>,  ecx   <span class="hljs-number"><span class="hljs-number">0</span></span> cmp ecx, <span class="hljs-number"><span class="hljs-number">0</span></span> je _pow_10_loop_end imul eax, <span class="hljs-number"><span class="hljs-number">10</span></span> sub ecx, <span class="hljs-number"><span class="hljs-number">1</span></span> jmp _pow_10_loop_start _pow_10_loop_end: leave ret _mod: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> push ebx mov edx, <span class="hljs-number"><span class="hljs-number">0</span></span> ;   mov eax, [<span class="hljs-type"><span class="hljs-type">ebp</span></span>+<span class="hljs-number"><span class="hljs-number">8</span></span>] mov ebx, [<span class="hljs-type"><span class="hljs-type">ebp</span></span>+<span class="hljs-number"><span class="hljs-number">12</span></span>] idiv ebx ;  <span class="hljs-number"><span class="hljs-number">64</span></span>-  [<span class="hljs-type"><span class="hljs-type">edx</span></span>:<span class="hljs-type"><span class="hljs-type">eax</span></span>]  ebx.    ;  <span class="hljs-number"><span class="hljs-number">32</span></span>-  eax,    edx  ; . ;    eax,   edx.  ,  ;       , ;    . mov eax, edx ;     () pop ebx leave ret _putc: enter <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> mov eax, <span class="hljs-number"><span class="hljs-number">0</span></span>x04 ; write() mov ebx, <span class="hljs-number"><span class="hljs-number">1</span></span> ;   lea ecx, [<span class="hljs-type"><span class="hljs-type">ebp</span></span>+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;   mov edx, <span class="hljs-number"><span class="hljs-number">1</span></span> ;   <span class="hljs-number"><span class="hljs-number">1</span></span>  int <span class="hljs-number"><span class="hljs-number">0</span></span>x80 leave ret</code> </pre> <br>  Jadi, bagaimana kita memperoleh angka individu dalam suatu angka?  Pertama, perhatikan bahwa digit terakhir dari angka tersebut adalah sisa dari pembagian dengan 10 (misalnya, <code>123 % 10 = 3</code> ), dan digit berikutnya adalah sisa dari pembagian dengan 100, dibagi dengan 10 (misalnya, <code>(123 % 100)/10 = 2</code> ).  Secara umum, Anda dapat menemukan digit angka tertentu (dari kanan ke kiri) dengan menemukan <code>( % 10**n) / 10**(n-1)</code> , di mana jumlah unit akan <code>n = 1</code> , jumlah puluhan adalah <code>n = 2</code> dan seterusnya. <br><br>  Dengan menggunakan pengetahuan ini, Anda dapat menemukan semua digit angka dari <code>n = 1</code> hingga <code>n = 10</code> (ini adalah jumlah bit maksimum dalam bilangan bulat 4-byte yang ditandatangani).  Tetapi jauh lebih mudah untuk pergi dari kiri ke kanan - jadi kami dapat mencetak setiap karakter segera setelah kami menemukannya dan menyingkirkan nol di sisi kiri.  Oleh karena itu, kami memilah angka-angka dari <code>n = 10</code> hingga <code>n = 1</code> . <br><br>  Di C, program akan terlihat seperti ini: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAX_DIGITS 10 void print_answer(int a) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (a </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; 0) { //    putc('-'); //   «» a = -a; //     } int started = 0; for (int i = MAX_DIGITS; i &gt; 0; i--) { int digit = (a % pow_10(i)) / pow_10(i-1); if (digit == 0 &amp;&amp; started == 0) continue; //     started = 1; putc(digit + '0'); } }</span></span></span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang Anda mengerti mengapa kami membutuhkan ketiga fungsi ini. </font><font style="vertical-align: inherit;">Mari kita implementasikan ini di assembler:</font></font><br><br><pre> <code class="hljs perl">%define MAX_DIGITS <span class="hljs-number"><span class="hljs-number">10</span></span> _print_answer: enter <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ;  <span class="hljs-number"><span class="hljs-number">1</span></span>    <span class="hljs-string"><span class="hljs-string">"started"</span></span>   C <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ebx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> edi <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> esi mov eax, [ebp+<span class="hljs-number"><span class="hljs-number">8</span></span>] ;   <span class="hljs-string"><span class="hljs-string">"a"</span></span> cmp eax, <span class="hljs-number"><span class="hljs-number">0</span></span> ;    ,    ;  jge _print_answer_negate_end ; call putc <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-string"><span class="hljs-string">'-'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> <span class="hljs-number"><span class="hljs-number">0x2d</span></span> ;  <span class="hljs-string"><span class="hljs-string">'-'</span></span> call _putc add esp, <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax neg eax ;     _print_answer_negate_end: mov byte [ebp-<span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-number"><span class="hljs-number">0</span></span> ; started = <span class="hljs-number"><span class="hljs-number">0</span></span> mov ecx, MAX_DIGITS ;  i _print_answer_loop_start: cmp ecx, <span class="hljs-number"><span class="hljs-number">0</span></span> je _print_answer_loop_end ;  pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>  ecx.   ebx   <span class="hljs-string"><span class="hljs-string">"digit"</span></span>   C. ;    edx = pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i-<span class="hljs-number"><span class="hljs-number">1</span></span>),  ebx = pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i) <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx dec ecx ; i-<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx ;    _pow_1<span class="hljs-number"><span class="hljs-number">0</span></span> call _pow_1<span class="hljs-number"><span class="hljs-number">0</span></span> mov edx, eax ; edx = pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i-<span class="hljs-number"><span class="hljs-number">1</span></span>) add esp, <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx ;   i  ecx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax ; end pow_1<span class="hljs-number"><span class="hljs-number">0</span></span> call mov ebx, edx ; digit = ebx = pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i-<span class="hljs-number"><span class="hljs-number">1</span></span>) imul ebx, <span class="hljs-number"><span class="hljs-number">10</span></span> ; digit = ebx = pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i) ;  _mod  (a % pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i)),   (eax mod ebx) <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ebx ; arg2, ebx = digit = pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i) <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax ; arg1, eax = a call _mod mov ebx, eax ; digit = ebx = a % pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i+<span class="hljs-number"><span class="hljs-number">1</span></span>), almost there add esp, <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax ;   mod ;  ebx ( <span class="hljs-string"><span class="hljs-string">"digit"</span></span> )  pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i) (edx).    ; ,   idiv     edx, eax.  ; edx   ,    - ;   <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> esi mov esi, edx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax mov eax, ebx mov edx, <span class="hljs-number"><span class="hljs-number">0</span></span> idiv esi ; eax   () mov ebx, eax ; ebx = (a % pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i)) / pow_1<span class="hljs-number"><span class="hljs-number">0</span></span>(i-<span class="hljs-number"><span class="hljs-number">1</span></span>),  <span class="hljs-string"><span class="hljs-string">"digit"</span></span>   C <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> esi ; end division cmp ebx, <span class="hljs-number"><span class="hljs-number">0</span></span> ;  digit == <span class="hljs-number"><span class="hljs-number">0</span></span> jne _print_answer_trailing_zeroes_check_end cmp byte [ebp-<span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-number"><span class="hljs-number">0</span></span> ;  started == <span class="hljs-number"><span class="hljs-number">0</span></span> jne _print_answer_trailing_zeroes_check_end jmp _print_answer_loop_continue ; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> _print_answer_trailing_zeroes_check_end: mov byte [ebp-<span class="hljs-number"><span class="hljs-number">4</span></span>], <span class="hljs-number"><span class="hljs-number">1</span></span> ; started = <span class="hljs-number"><span class="hljs-number">1</span></span> add ebx, <span class="hljs-number"><span class="hljs-number">0x30</span></span> ; digit + <span class="hljs-string"><span class="hljs-string">'0'</span></span> ;  putc <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ebx call _putc add esp, <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax ;   putc _print_answer_loop_continue: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ecx</span></span></span><span class="hljs-function">, 1 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jmp</span></span></span><span class="hljs-function"> _</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_answer_loop_start</span></span></span><span class="hljs-function"> _</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print_answer_loop_end</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pop</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">esi</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pop</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">edi</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pop</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ebx</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">leave</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ret</span></span></span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itu adalah ujian yang sulit! </font><font style="vertical-align: inherit;">Semoga komentar membantu mengatasinya. </font><font style="vertical-align: inherit;">Jika sekarang Anda berpikir: "Mengapa Anda tidak menulis saja </font></font><code>printf("%d")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?", Maka Anda akan menyukai bagian akhir artikel, di mana kami akan mengganti fungsinya hanya dengan itu! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang kita memiliki semua fungsi yang diperlukan, masih menerapkan logika dasar di </font></font><code>_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dan itu saja!</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Membalikkan perhitungan notasi Polandia </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti yang telah kami katakan, notasi balik Polandia dihitung menggunakan tumpukan. </font><font style="vertical-align: inherit;">Saat membaca, nomor didorong ke tumpukan, dan saat membaca, operator diterapkan ke dua objek di bagian atas tumpukan. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Misalnya, jika kita ingin menghitung </font></font><code>84/3+6*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ungkapan ini juga bisa ditulis dalam bentuk </font></font><code>6384/+*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), prosesnya adalah sebagai berikut:</font></font><br><br><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Langkah </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Simbol </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tumpuk sebelumnya </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Susun setelah </font></font></th></tr><tr><td align="center">  1 </td><td align="center"> <code>8</code> </td> <td align="center"> <code>[]</code> </td> <td align="center"> <code>[8]</code> </td> </tr><tr><td align="center">  2 </td><td align="center"> <code>4</code> </td> <td align="center"> <code>[8]</code> </td> <td align="center"> <code>[8, 4]</code> </td> </tr><tr><td align="center">  3 </td><td align="center"> <code>/</code> </td> <td align="center"> <code>[8, 4]</code> </td> <td align="center"> <code>[2]</code> </td> </tr><tr><td align="center">  4 </td><td align="center"> <code>3</code> </td> <td align="center"> <code>[2]</code> </td> <td align="center"> <code>[2, 3]</code> </td> </tr><tr><td align="center">  5 </td><td align="center"> <code>+</code> </td> <td align="center"> <code>[2, 3]</code> </td> <td align="center"> <code>[5]</code> </td> </tr><tr><td align="center">  6 </td><td align="center"> <code>6</code> </td> <td align="center"> <code>[5]</code> </td> <td align="center"> <code>[5, 6]</code> </td> </tr><tr><td align="center">  7 </td><td align="center"> <code>*</code> </td> <td align="center"> <code>[5, 6]</code> </td> <td align="center"> <code>[30]</code> </td> </tr></tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika input adalah ekspresi postfix yang valid, maka pada akhir perhitungan hanya ada satu elemen yang tersisa di stack - ini adalah jawabannya, hasil dari perhitungan. </font><font style="vertical-align: inherit;">Dalam kasus kami, angkanya adalah 30. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam assembler, Anda perlu mengimplementasikan sesuatu seperti kode ini di C:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-built_in"><span class="hljs-built_in">stack</span></span>[<span class="hljs-number"><span class="hljs-number">256</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// , 256      int stack_size = 0; int main(int argc, char *argv[]) { char *input = argv[0]; size_t input_length = strlen(input); for (int i = 0; i &lt; input_length; i++) { char c = input[i]; if (c &gt;= '0' &amp;&amp; c &lt;= '9') { //   —   push(c - '0'); //          } else { int b = pop(); int a = pop(); if (c == '+') { push(a+b); } else if (c == '-') { push(ab); } else if (c == '*') { push(a*b); } else if (c == '/') { push(a/b); } else { error("Invalid input\n"); exit(1); } } } if (stack_size != 1) { error("Invalid input\n"); exit(1); } print_answer(stack[0]); exit(0); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sekarang kita memiliki semua fungsi yang diperlukan untuk mengimplementasikan ini, mari kita mulai. </font></font><br><br><pre> <code class="hljs perl">_start: ;  _start   ,    . ;   esp    argc ( ),  ; esp+<span class="hljs-number"><span class="hljs-number">4</span></span>   argv. , esp+<span class="hljs-number"><span class="hljs-number">4</span></span>    ; , esp+<span class="hljs-number"><span class="hljs-number">8</span></span> -       mov esi, [esp+<span class="hljs-number"><span class="hljs-number">8</span></span>] ; esi = <span class="hljs-string"><span class="hljs-string">"input"</span></span> = argv[<span class="hljs-number"><span class="hljs-number">0</span></span>] ;  _strlen      <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> esi call _strlen mov ebx, eax ; ebx = input_length add esp, <span class="hljs-number"><span class="hljs-number">4</span></span> ; end _strlen call mov ecx, <span class="hljs-number"><span class="hljs-number">0</span></span> ; ecx = <span class="hljs-string"><span class="hljs-string">"i"</span></span> _main_loop_start: cmp ecx, ebx ;  (i &gt;= input_length) jge _main_loop_end mov edx, <span class="hljs-number"><span class="hljs-number">0</span></span> mov dl, [esi + ecx] ;          ; edx.   edx . ; edx =  c = input[i] cmp edx, <span class="hljs-string"><span class="hljs-string">'0'</span></span> jl _check_operator cmp edx, <span class="hljs-string"><span class="hljs-string">'9'</span></span> jg _print_error <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">edx</span></span></span><span class="hljs-function">, '0' </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mov</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eax</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">edx</span></span></span><span class="hljs-function"> </span></span>; eax =  c - <span class="hljs-string"><span class="hljs-string">'0'</span></span> (,  ) jmp _push_eax_and_continue _check_operator: ;   _pop    b  edi, a  b -  eax <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ebx call _pop mov edi, eax ; edi = b call _pop ; eax = a <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ebx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx ; end call _pop cmp edx, <span class="hljs-string"><span class="hljs-string">'+'</span></span> jne _subtract add eax, edi ; eax = a+b jmp _push_eax_and_continue _subtract: cmp edx, <span class="hljs-string"><span class="hljs-string">'-'</span></span> jne _multiply <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eax</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">edi</span></span></span><span class="hljs-function"> </span></span>; eax = ab jmp _push_eax_and_continue _multiply: cmp edx, <span class="hljs-string"><span class="hljs-string">'*'</span></span> jne _divide imul eax, edi ; eax = a*b jmp _push_eax_and_continue _divide: cmp edx, <span class="hljs-string"><span class="hljs-string">'/'</span></span> jne _print_error <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> edx ;  edx,      idiv mov edx, <span class="hljs-number"><span class="hljs-number">0</span></span> idiv edi ; eax = a/b <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> edx ;   eax     _push_eax_and_continue: ;  _push <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax ;   call _push add esp, <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> edx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> ecx <span class="hljs-keyword"><span class="hljs-keyword">pop</span></span> eax ;  call _push inc ecx jmp _main_loop_start _main_loop_end: cmp byte [stack_size], <span class="hljs-number"><span class="hljs-number">1</span></span> ;  (stack_size != <span class="hljs-number"><span class="hljs-number">1</span></span>),   jne _print_error mov eax, [stack] <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> eax call _print_answer ; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> a final newline <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> <span class="hljs-number"><span class="hljs-number">0xA</span></span> call _putc ; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> successfully mov eax, <span class="hljs-number"><span class="hljs-number">0x01</span></span> ; <span class="hljs-number"><span class="hljs-number">0x01</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>() mov ebx, <span class="hljs-number"><span class="hljs-number">0</span></span> ; <span class="hljs-number"><span class="hljs-number">0</span></span> =   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">0x80</span></span> ;    _print_error: <span class="hljs-keyword"><span class="hljs-keyword">push</span></span> error_msg call _print_msg mov eax, <span class="hljs-number"><span class="hljs-number">0x01</span></span> mov ebx, <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-number"><span class="hljs-number">0x80</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda juga perlu menambahkan baris </font></font><code>error_msg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke bagian ini </font></font><code>.rodata</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="hljs 1c">section .rodata ;     error_msg.  db  NASM ;    ,   <span class="hljs-keyword"><span class="hljs-keyword"></span></span>  ; . <span class="hljs-number"><span class="hljs-number">0</span></span>xA =  <span class="hljs-built_in"><span class="hljs-built_in"></span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>x0 =    error_msg: db <span class="hljs-string"><span class="hljs-string">"Invalid input"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>xA, <span class="hljs-number"><span class="hljs-number">0</span></span>x0</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan kita selesai! </font><font style="vertical-align: inherit;">Kejutkan semua teman Anda jika Anda memilikinya. </font><font style="vertical-align: inherit;">Saya harap sekarang Anda akan bereaksi lebih hangat terhadap bahasa tingkat tinggi, terutama jika Anda ingat bahwa banyak program lama ditulis sepenuhnya atau hampir sepenuhnya dalam assembler, misalnya, RollerCoaster Tycoon yang asli! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semua kode ada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Terima kasih sudah membaca! </font><font style="vertical-align: inherit;">Saya dapat melanjutkan jika Anda tertarik.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tindakan selanjutnya </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda dapat berlatih dengan menerapkan beberapa fungsi tambahan: </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kembalikan pesan kesalahan alih-alih segfault jika program tidak menerima argumen. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tambahkan dukungan untuk ruang ekstra antara operan dan operator dalam input. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tambahkan dukungan untuk operan multi-bit. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Izinkan angka negatif. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ganti </font></font><code>_strlen</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan fungsi dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pustaka C standar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan </font></font><code>_print_answer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ganti dengan panggilan </font></font><code>printf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ol><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bahan tambahan </font></font></h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panduan Assembler Virginia University x86</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah akun yang lebih rinci dari banyak topik yang kami bahas, termasuk informasi tambahan tentang semua instruksi x86 populer.</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">«   Intel»</a> .    x86 —   ,      .        ,    ,      . </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NASM: Intel x86 Instruction Reference</a> —       x86. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id423077/">https://habr.com/ru/post/id423077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id423067/index.html">Alat Pengembang Python dari Microsoft. Memulai</a></li>
<li><a href="../id423069/index.html">Acara Istimewa Apple, September 2018 [arsip terjemahan teks]</a></li>
<li><a href="../id423071/index.html">Saya tidak takut dengan NDA Anda</a></li>
<li><a href="../id423073/index.html">Sistem file antarplanet - hash (identitas) sepele, blok DAG dan Protokol Buffer</a></li>
<li><a href="../id423075/index.html">Mengapa CFO sangat ingin menerjemahkan belanja modal pada TI ke dalam operasi</a></li>
<li><a href="../id423079/index.html">Poin-poin penting dari wawancara dengan Elon Musk di Joe Rogan</a></li>
<li><a href="../id423083/index.html">Bagaimana saya menjadi pengembang di ABBYY</a></li>
<li><a href="../id423085/index.html">Penyeimbangan beban penyetelan halus</a></li>
<li><a href="../id423087/index.html">Jangan mendorong mata saya</a></li>
<li><a href="../id423089/index.html">Programmer di MBLT DEV 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>