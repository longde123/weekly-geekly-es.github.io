<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คต๐ผ ๐ง๐ป ๐ฒ๏ธ Docker + Laravel = โค ๐จ๐ผโ๐ฌ ๐จ๐ปโ๐จ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃุชุญุฏุซ ุนู ุชุฌุฑุจุชู ูู "ุชุบููู" ุชุทุจูู Laravel ูู ุญุงููุฉ Docker ุจุญูุซ ูููู ููุทูุฑู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุงูุฎูููุฉ ุงูุนูู ูุญูููุง ูุนู ุ ููุงู ุฅุทูุงูู ุน...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Docker + Laravel = โค</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425101/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/89c/b0e/91f/89cb0e91fd1efafb24b66b7ee44dc1b0.png" alt="ูุงุฑุงููู ุฅู ุฏููุฑ"></p><br><p style=";text-align:right;direction:rtl"> ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃุชุญุฏุซ ุนู ุชุฌุฑุจุชู ูู "ุชุบููู" ุชุทุจูู Laravel ูู ุญุงููุฉ Docker ุจุญูุซ ูููู ููุทูุฑู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุงูุฎูููุฉ ุงูุนูู ูุญูููุง ูุนู ุ ููุงู ุฅุทูุงูู ุนูู ุงูุฅูุชุงุฌ ุจุณูุทูุง ูุฏุฑ ุงูุฅููุงู.  ุฃูุถูุง ุ ุณุชููู CI ุชููุงุฆููุง ุจุชุดุบูู ูุญููุงุช ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุซุงุจุชุฉ ูุงุฎุชุจุงุฑุงุช <code>phpunit</code> ูุจูุงุก ุงูุตูุฑ. </p><br><p style=";text-align:right;direction:rtl">  "ููุง ูู ุงูุชุนููุฏ ูู ุงููุงูุนุ"  - ููููู ุงูููู ุ ูุณุชููู ุนูู ุญู ุฌุฒุฆููุง.  ูุงูุญูููุฉ ูู ุฃู ุงููุซูุฑ ูู ุงูููุงูุดุงุช ูู ุงููุฌุชูุนุงุช ุงููุงุทูุฉ ุจุงูุฑูุณูุฉ ูุงููุชุญุฏุซูู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ููุฑุณุฉ ููุฐุง ุงูููุถูุน ุ ูุณูู ุฃูุณู ูุดุฑูุทูุง ุชูุฑูุจูุง ุฌููุน ุงูููุงุถูุน ุงูุชู ุชูุช ุฏุฑุงุณุชูุง ุฅูู ุงููุฆุงุช ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "ุฃูุง ุฃุณุชุฎุฏู ุนุงูู ุงูุฑุตูู ูู ุฃุฌู ุงูุชูููุฉ ุงููุญููุฉ. ุฃุถุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฑุงุฏูู</a> ููุง ุฃุนุฑู ุงููุดุงูู".  ุฑุงุฆุน ุ ูููู ูุงุฐุง ุนู ุฅุทูุงู ุงูุฃุชูุชุฉ ูุงูุฅูุชุงุฌุ </li><li style=";text-align:right;direction:rtl">  "ุฃููู ุจุฌูุน ุญุงููุฉ ูุงุญุฏุฉ <em>(ูุชุฌุงูุณุฉ)</em> ุงุณุชูุงุฏูุง ุฅูู <code>fedora:latest</code> (~ 230 ููุฌุง ุจุงูุช) ุ ูุฃุถุน ุฌููุน ุงูุฎุฏูุงุช (nginx ุ ู db ุ ูุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ููุง ุฅูู ุฐูู) ูููุง ุ ููู ุจุชุดุบูู ูู ุดูุก ุฏุงุฎู ุงููุดุฑู."  ุฃูุถุง ููุชุงุฒุฉ ูุณููุฉ ุงูุจุฏุก ุ ูููู ูุงุฐุง ุนู ุฅูุฏููููุฌูุฉ "ุญุงููุฉ ูุงุญุฏุฉ - ุนูููุฉ ูุงุญุฏุฉ"ุ  ูุงุฐุง ุนู ุงูููุงุฒูุฉ ูุฅุฏุงุฑุฉ ุงูุนูููุงุชุ  ูุง ูู ุญุฌู ุงูุตูุฑุฉุ </li><li style=";text-align:right;direction:rtl">  "ุฅููู ุฃุฌุฒุงุก ูู ุงูุชููุฆุฉ ุ ุงูููุณู ูุน ููุชุทูุงุช ูู ูุตูุต sh ุ ูุฅุถุงูุฉ ููู env ุณุญุฑูุฉ ุ ูุงุณุชุฎุฏุงููุง."  ุดูุฑุงู ููู ุ ููู ูุงุฐุง ุนู ูุซุงู ุญู ูุงุญุฏ ุนูู ุงูุฃูู ูููููู ุฃู ุฃุดุนูู ูุฃูุนุจ ุจุงููุงููุ </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ูุง ุชูุฑุฃู ุฃุฏูุงู ูู ุชุฌุฑุจุฉ ุฐุงุชูุฉ ูุง ุชุฏุนู ุฃููุง ุงูุญูููุฉ ุงููุทููุฉ.  ุฅุฐุง ูุงู ูุฏูู ุฅุถุงูุงุช ุฃู ูุคุดุฑุงุช ุนูู ุนุฏู ุงูุฏูุฉ - ูุฑุญุจูุง ุจู ูู ุงูุชุนูููุงุช. </p><br><blockquote style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ุฅูู ุงูุตุจุฑ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุงุจุท ุฅูู ุงููุณุชูุฏุน</a> ุ ุงุณุชูุณุงุฎ ููููู ุจุฏุก ุชุทุจูู Laravel ููู ุจุฃูุฑ ูุงุญุฏ.  ููุง ุฃูู ููุณ ูู ุงูุตุนุจ ุชุดุบููู ุนูู ููุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฒุฑุนุฉ</a> ุ ุฃู "ุฑุจุท" ุงูุญุงููุงุช ุจุดูู ุตุญูุญ ุ ุฃู ุงุณุชุฎุฏุงู ุฅุตุฏุงุฑ ุจูุงูุฉ <code>docker-compose.yml</code> ูููุทุฉ ุงูุทูุงู. </blockquote><a name="habracut"></a><br><h2 id="chast-teoreticheskaya" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก ุงููุธุฑู </h2><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฃุฏูุงุช ุงูุชู ุณูุณุชุฎุฏููุง ูู ุนูููุง ุ ููุง ุงูุฐู ุณูุฑูุฒ ุนูููุ  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุชุซุจูุช ุนูู ุงููุถูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>docker</code> - ูู ููุช ูุชุงุจุฉ ูุฐุง ุงูุชูุฑูุฑ ุ ุงุณุชุฎุฏูุช ุงูุฅุตุฏุงุฑ <code>18.06.1-ce</code> </li><li style=";text-align:right;direction:rtl">  <code>docker-compose</code> - ูุชูุงุกู ูุน ุฑุจุท ุงูุญุงููุงุช ูุชุฎุฒูู ููู ุงูุจูุฆุฉ ุงููุงุฒูุฉ ุ  ุงูุฅุตุฏุงุฑ <code>1.22.0</code> </li><li style=";text-align:right;direction:rtl">  <code>make</code> - ูุฏ ุชูุงุฌุฃ ุ ููููุง ุชูุงุณุจ ุชูุงูุง ูู ุณูุงู ุงูุนูู ูุน ุนุงูู ุงููููุงุก </li></ul><br><blockquote style=";text-align:right;direction:rtl">  ููููู <code>curl -fsSL get.docker.com | sudo sh</code> <code>docker</code> ุนูู ุฃูุธูุฉ ุชุดุจู <code>debian</code> ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>curl -fsSL get.docker.com | sudo sh</code>  <code>curl -fsSL get.docker.com | sudo sh</code> ุ ููู <code>docker-compose</code> ุงูุฃูุถู ุชุซุจูุช <code>docker-compose</code> ุจุงุณุชุฎุฏุงู <code>pip</code> ุ ูุฃู ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช ุชุนูุด ูู ูุณุชูุฏุนุงุชูุง ( <code>apt</code> ูุชุฎููุฉ ูุซูุฑูุง ุ ููุงุนุฏุฉ ุนุงูุฉ). </blockquote><p style=";text-align:right;direction:rtl">  ูุฐุง ูููู ูุงุฆูุฉ ุงูุชุจุนูุงุช.  ูุง ุณุชุณุชุฎุฏูู ููุนูู ูุน ุดูุฑุฉ ุงููุตุฏุฑ - <code>phpstorm</code> ุฃู <code>netbeans</code> ุฃู <code>vim</code> dead - ุงูุฃูุฑ ูุชุฑูู ูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุงูู ูู ุณุคุงู ูุฌูุงุจ ูุฑุชุฌู ูู ุณูุงู ุชุตููู ุตูุฑุฉ <em>(ูุง ุฃุฎุงู ูู ูุฐู ุงููููุฉ)</em> : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุณ: ุงูุตูุฑุฉ ุงูุฃุณุงุณูุฉ - ุฃูููุง ุฃูุถู ููุงุฎุชูุงุฑุ</strong> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุฌ:</strong> ุงูุฐู "ุฃุฑู" ุ ุจูุง ุฒุฎุฑูุฉ.  ุนูู ุฃุณุงุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>alpine</code></a> <em>(~ 5 ููุฌุง ุจุงูุช) ุ</em> ููููู ุฌูุน ูู ูุง ูุดุชููู ููุจู ุ ูููู ุนูู ุงูุฃุฑุฌุญ ุณูููู ุนููู ุงููุนุจ ูุน ุชุฌููุน ุงูุฎุฏูุงุช ูู ุงููุตุฏุฑ.  ูุจุฏูู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>jessie-slim</code></a> <em>(~ 30 Mb)</em> .  ุฃู ุงุณุชุฎุฏู ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง ูู ูุดุฑูุนุงุชู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุณ: ูุง ุฃูููุฉ ูุฒู ุงูุตูุฑุฉุ</strong> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุฌ:</strong> ุงูุฎูุงุถ ุญุฌู ุญุฑูุฉ ุงููุฑูุฑ ุ ุงูุฎูุงุถ ุงุญุชูุงู ุญุฏูุซ ุฎุทุฃ ุนูุฏ ุงูุชูุฒูู (ุจูุงูุงุช ุฃูู - ุงุญุชูุงู ุฃูู) ุ ุงูุฎูุงุถ ูู ุงูููุงู ุงููุณุชููู.  ูุงุนุฏุฉ "ุงูุฌุงุฐุจูุฉ ููุซููุฉ" (ยฉ "Snatch") ูุง ุชุนูู ุจุดูู ุฌูุฏ ููุง. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุณ: ููู ุตุฏููู <code>%friend_name%</code> ูููู ุฃู ุงูุตูุฑุฉ "ุงููุชุฌุงูุณุฉ" ุฐุงุช ุงูุชุจุนูุงุช <code>%friend_name%</code> ูู ุฃูุถู ุทุฑููุฉ.</strong> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุฌ:</strong> ููุนุฏ ููุท.  ูุญุชูู ุงูุชุทุจูู ุนูู 3 ุชุจุนูุงุช - PG ู Redis ู PHP.  ูุฃุฑุฏุช ุงุฎุชุจุงุฑ ููู ุณุชุชุตุฑู ูู ุญุฒู ูู ุฅุตุฏุงุฑุงุช ูุฎุชููุฉ ูู ูุฐู ุงูุชุจุนูุงุช.  PG - ุงูุฅุตุฏุงุฑุงุช 9.6 ู 10 ุ Redis - 3.2 ู 4.0 ุ PHP - 7.0 ู 7.2.  ูู ุญุงู ูุงู ูู ุฅุฏูุงู ุตูุฑุฉ ูููุตูุฉ - ุชุญุชุงุฌ ุฅูู 6 ูููุง ุ ููุง ุชุญุชุงุฌ ุญุชู ุฅูู ุฌูุนูุง - ูู ุดูุก ุฌุงูุฒ ููููู ุนูู <code>hub.docker.com</code> .  ุฅุฐุง ูุงูุช ุ ูุฃุณุจุงุจ ุฅูุฏููููุฌูุฉ ุ "ูุนุจุฃุฉ" ุฌููุน ุงูุชุจุนูุงุช ูู ุญุงููุฉ ูุงุญุฏุฉ ุ ุนููู ุฅุนุงุฏุฉ ุชุฌููุนูุง ูุน ุงูุฃููุงู ... 8 ูุฑุงุชุ  ุฃุถู ุงูุขู ุงูุดุฑุท ุงูุฐู ูุง ุชุฒุงู ุชุฑุบุจ ูู ุชุดุบููู ุจุงุณุชุฎุฏุงู <code>opcache</code> .  ูู ุญุงูุฉ ุงูุชุญูู ุ ูุฐุง ุจุจุณุงุทุฉ ุชุบููุฑ ูู ุนูุงูุงุช ุงูุตูุฑ ุงููุณุชุฎุฏูุฉ.  ูู ุงูุณูู ุชุดุบูู ุงูููููููุซ ูุตูุงูุชู ุ ููููู ุงูุทุฑูู ุฅูู ุงูุนุฏู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุณ: ููุงุฐุง ุงููุดุฑู ูู ุงูุญุงููุฉ ุดุฑูุฑุ</strong> </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุฌ:</strong> ูุฃู <code>PID 1</code> .  ุฅุฐุง ููุช ูุง ุชุฑูุฏ ุงููุซูุฑ ูู ุงููุดููุงุช ุงููุชุนููุฉ ุจุนูููุงุช ุงูุฒููุจู ููุฏูู ุงููุฏุฑุฉ ุนูู "ุฅุถุงูุฉ ุงูุณุนุฉ" ุจูุฑููุฉ ุนูุฏ ุงูุถุฑูุฑุฉ - ุญุงูู ุชุดุบูู ุนูููุฉ ูุงุญุฏุฉ ููู ุญุงููุฉ.  ุงูุงุณุชุซูุงุก ุงูุบุฑูุจ ูู <code>nginx</code> ูุน ุนูุงููุง ู <code>php-fpm</code> ุ ุงูุฐูู ูุฏููู ุงููุฏุฑุฉ ุนูู ุฅูุชุงุฌ ุงูุนูููุงุช ุ ูููู ุนูููู ุชุญูู ูุฐุง (ุนูุงูุฉ ุนูู ุฐูู ุ ููุณูุง ุณูุฆูู ูู ุงูุฑุฏ ุนูู <code>SIGTERM</code> ุ ุจุดูู ุตุญูุญ ุชูุงููุง "ูุชู" ุนูุงููู).  ูู ุฎูุงู ุฅุทูุงู ุฌููุน ุงูุดูุงุทูู ููุดุฑู ุ ุชูุงุฏ ุชููู ูู ุงููุคูุฏ ุฃู ุชุชุนุงูู ูุน ุงููุดุงูู.  ุนูู ุงูุฑุบู ูู ุฃูู ูู ุจุนุถ ุงูุญุงูุงุช ุ ูุตุนุจ ุงูุงุณุชุบูุงุก ุนููุง ุ ูููู ูุฐู ุงุณุชุซูุงุกุงุช ุจุงููุนู. </p><br></li></ul><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃู ูุฑุฑุช ุงูููุฌ ุงูุฑุฆูุณูุฉ ุ ุฏุนูุง ููุชูู ุฅูู ุชุทุจูููุง.  ูุฌุจ ุฃู ูููู ูุงุฏุฑูุง ุนูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>web|api</code> - ูุนุทู ุซุงุจุชูุง ุจุงุณุชุฎุฏุงู <code>nginx</code> ุ <code>nginx</code> ูุญุชูู ุฏููุงูููููุง ุจุงุณุชุฎุฏุงู <code>fpm</code> </li><li style=";text-align:right;direction:rtl">  <code>scheduler</code> - ูู ุจุชุดุบูู ูุฌุฏูู ุงูููุงู ุงูุฃุตูู </li><li style=";text-align:right;direction:rtl">  <code>queue</code> - ูุนุงูุฌุฉ ุงูููุงู ูู ููุงุฆู ุงูุงูุชุธุงุฑ </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ุฃุณุงุณูุฉ ูููู ุชูุณูุนูุง ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ุงูุขู ุฏุนูุง ููุชูู ุฅูู ุงูุตูุฑ ุงูุชู ูุฌุจ ุฃู ูุฌูุนูุง ูู ุฃุฌู ุฃู ูููู ุชุทุจูููุง "ุจุงูุฅููุงุน" (ูุชู ุฅุนุทุงุก ุฃุณูุงุก ุงูุฑููุฒ ุงูุฎุงุตุฉ ุจูู ุจูู ููุณูู): </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>PHP + PHP-FPM</code> ( <strong>ุชุทุจูู</strong> ) - ุงูุจูุฆุฉ ุงูุชู ุณูุชู ุชูููุฐ ุงูููุฏ ูููุง.  ูุธุฑูุง ูุฃู ุฅุตุฏุงุฑุงุช PHP ู FPM ุณุชููู ูู ููุณูุง ุจุงููุณุจุฉ ููุง - ูุฅููุง ูุฌูุนูุง ูู ุตูุฑุฉ ูุงุญุฏุฉ.  ูุฐูู ูู ุงูุฃุณูู ุฅุฏุงุฑุชูุง ุจุงุณุชุฎุฏุงู ุงูุชููููุงุช ุ ูุณูููู ุชูููู ุงูุญุฒู ูุชุทุงุจููุง.  ุจุงูุทุจุน - ุณูุชู ุชุดุบูู FPM ูุนูููุงุช ุงูุชุทุจูู ูู ุญุงููุงุช ูุฎุชููุฉ </li><li style=";text-align:right;direction:rtl">  <code>nginx</code> ( <strong>nginx</strong> ) - ูุฐุง ูู ูุฒุนุฌู ุชุณููู ุงูุชููููุงุช ูุงููุญุฏุงุช ุงูุงุฎุชูุงุฑูุฉ ูู <code>nginx</code> - ุณูููู ุจุชุฌููุน ุตูุฑุฉ ูููุตูุฉ ูุนูุง.  ูุธุฑูุง ูุฃููุง ุฎุฏูุฉ ูููุตูุฉ ุ ูุฅู ูุฏููุง ููู ุฅุฑุณุงุก ุฎุงุต ุจูุง ูุณูุงููุง </li><li style=";text-align:right;direction:rtl">  ูุตุงุฏุฑ ุงูุชุทุจูู ( <strong>ุงููุตุงุฏุฑ</strong> ) - ุณูุชู ุชุณููู ุงููุตุฏุฑ ุจุงุณุชุฎุฏุงู ุตูุฑุฉ ูููุตูุฉ ุ ูุฑูุน <code>volume</code> ูุนูู ูู ุญุงููุฉ ูุน ุงูุชุทุจูู.  ุงูุตูุฑุฉ ุงูุฃุณุงุณูุฉ ูู <code>alpine</code> ุ ูุฏุงุฎููุง ูุง ุชูุฌุฏ ุณูู ูุตุงุฏุฑ ูุน ุชุจุนูุงุช ูุซุจุชุฉ ููุฌูุนุฉ ุจุงุณุชุฎุฏุงู ุฃุตูู ุญุฒู ุงูููุจ (ุฃุฏูุงุช ุงูุจูุงุก) </li></ul><br><p style=";text-align:right;direction:rtl">  ุฅุทูุงู ุฎุฏูุงุช ุชุทููุฑ ุฃุฎุฑู ูู ุญุงููุงุช ุ <code>hub.docker.com</code> ูู <code>hub.docker.com</code> ุ  ุนูู ุงูุฅูุชุงุฌ ุ ูู ูุงุญูุฉ ุฃุฎุฑู - ููู ุชุนูู ุนูู ุฎูุงุฏู ูููุตูุฉ ุ ูุฌูุนุฉ.  ูู ูุง ุชุจูู ููุง ูู ุฅุฎุจุงุฑ ุงูุชุทุจูู <em>(ูู ุฎูุงู ุงูุจูุฆุฉ)</em> ุจุงูุนูุงููู / ุงูููุงูุฐ ูุงูุชูุงุตูู ุงูุชู ูู ุงูุถุฑูุฑู ุทุฑููุง.  ุงูุฃูุซุฑ ุจุฑูุฏุฉ ูู ุงุณุชุฎุฏุงู ุงูุชุดุงู ุงูุฎุฏูุฉ ููุฐุง ุงูุบุฑุถ ุ ูููู ููุณ ูู ูุฐุง ุงูููุช. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃู ูุฑุฑุช ูู ุงูุฌุฒุก ุงููุธุฑู ุ ุฃูุชุฑุญ ุงูุงูุชูุงู ุฅูู ุงูุฌุฒุก ุงูุชุงูู. </p><br><h2 id="chast-prakticheskaya" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก ุงูุนููู </h2><br><p style=";text-align:right;direction:rtl">  ุฃูุชุฑุญ ุชูุธูู ุงููููุงุช ูู ุงููุณุชูุฏุน ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css">. โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">docker</span></span> #    <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>   โ  โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span> โ  โ  โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dockerfile</span></span> โ  โ  โโโ ... โ  โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">nginx</span></span> โ  โ  โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dockerfile</span></span> โ  โ  โโโ ... โ  โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">sources</span></span> โ    โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dockerfile</span></span> โ    โโโ ... โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">src</span></span> #   โ โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span> โ โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">bootstrap</span></span> โ โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">config</span></span> โ โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">artisan</span></span> โ โโโ ... โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">docker-compose</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.yml</span></span> # <span class="hljs-selector-tag"><span class="hljs-selector-tag">Compose-</span></span>    โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Makefile</span></span> โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">CHANGELOG</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.md</span></span> โโโ <span class="hljs-selector-tag"><span class="hljs-selector-tag">README</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.md</span></span></code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ููููู ุงูุชุนุฑู ุนูู ุงููููู ูุงููููุงุช ุจุงูููุฑ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุฑุงุจุท</a> . </blockquote><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก ุฎุฏูุฉ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ docker build \ --tag %local_image_name% \ -f ./docker/%service_directory%/Dockerfile ./docker/%service_directory%</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูููู ุงูุงุฎุชูุงู ุงููุญูุฏ ูู ุชุฌููุน ุงูุตูุฑุฉ ูุน ุงููุตุงุฏุฑ - ูุฐูู ุ <code>./src</code> ุถุจุท ุณูุงู ุงูุชุฌููุน (ุงููุณูุทุฉ ุงููุชุทุฑูุฉ) ุนูู <code>./src</code> . </p><br><p style=";text-align:right;direction:rtl">  ุชูุตู ููุงุนุฏ ุชุณููุฉ ุงูุตูุฑ ูู ุงูุณุฌู ุงููุญูู ุจุงุณุชุฎุฏุงู ุชูู ุงูุชู ูุณุชุฎุฏููุง <code>%root_directory_name%_%service_name%</code> ุจุดูู ุงูุชุฑุงุถู ุ ููู: <code>%root_directory_name%_%service_name%</code> .  ุฅุฐุง ูุงู ุฏููู ุงููุดุฑูุน ูุณูู <code>my-awesome-project</code> ุ ููุงูุช ุงูุฎุฏูุฉ ุชุณูู <code>redis</code> ุ ููู ุงูุฃูุถู ุงุฎุชูุงุฑ ุงุณู ุงูุตูุฑุฉ (ูุญูู) ูุงุฎุชูุงุฑ <code>my-awesome-project_redis</code> ุนูู ุงูุชูุงูู. </p><br><blockquote style=";text-align:right;direction:rtl">  ูุชุณุฑูุน ุนูููุฉ ุงูุจูุงุก ุ ููููู ุฅุฎุจุงุฑ ุนุงูู ุงููููุงุก ุจุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุตูุฑุฉ ุงูุชู ุชู ุชุฌููุนูุง ุณุงุจููุง ุ ูููุฐุง ุ ูุชู ุงุณุชุฎุฏุงู <code>--cache-from %full_registry_name%</code> ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช <code>--cache-from %full_registry_name%</code> .  ูุจุงูุชุงูู ุ ุณูุธูุฑ ุจุฑูุงูุฌ docker docker ูุจู ุจุฏุก ุชุนูููุงุช ูุนููุฉ ูู ููู Dockerfile - ูู ุชุบูุฑุ  ูุฅุฐุง ูู ููู (ุงูุชุฌุฒุฆุฉ ุชุชูุงุฑุจ) - ุณุชุชุฎุทู ุงูุชุนูููุงุช ุ ุจุงุณุชุฎุฏุงู ุงูุทุจูุฉ ุงููุนุฏุฉ ุจุงููุนู ูู ุงูุตูุฑุฉ ุ ูุงูุชู ุณุชุฎุจุฑูุง ุจุงุณุชุฎุฏุงููุง ูุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช.  ูุฐุง ุงูุดูุก ููุณ ุณูุฆูุง ูุฐุง ุณูุนูุฏ ุจูุงุก ุงูุนูููุฉ ุ ุฎุงุตุฉ ุฅุฐุง ูู ูุชุบูุฑ ุดูุก :) <br><br>  ุงูุชุจู ุฅูู ูุตูุต <code>ENTRYPOINT</code> ูุชุดุบูู ุญุงููุงุช ุงูุชุทุจูู. </blockquote><p style=";text-align:right;direction:rtl">  ุชู ุฌูุน ุตูุฑุฉ ุงูุจูุฆุฉ ูุฅุทูุงู ุงูุชุทุจูู (ุงูุชุทุจูู) ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุญูููุฉ ุฃูู ูู ูุนูู ููุท ุนูู ุงูุฅูุชุงุฌ ุ ูููู ุฃูุถูุง ูุญูููุง ุ ูุญุชุงุฌ ุงููุทูุฑูู ุฅูู ุงูุชูุงุนู ูุนู ุจุดูู ูุนุงู.  ูุฌุจ ุฃู ูููู ุชุซุจูุช ูุฅุฒุงูุฉ ุชุจุนูุงุช <code>composer</code> ุ ูุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช <code>unit</code> ุ ูุณุฌูุงุช <code>tail</code> ูุงุณุชุฎุฏุงู ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ุงููุฃูููุฉ ( <code>php /app/artisan</code> โ <code>art</code> ุ <code>composer</code> โ <code>c</code> ) ุจุฏูู ุฃู ุฅุฒุนุงุฌ.  ุนูุงูุฉ ุนูู ุฐูู - ุณูุชู ุงุณุชุฎุฏุงูู ุฃูุถูุง ูุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช <code>unit</code> ููุญููุงุช ุงูุดูุฑุฉ ุงูุซุงุจุชุฉ ( <code>phpstan</code> ูู ุญุงูุชูุง) ุนูู CI.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ููู Dockerfile ุงูุฎุงุต ุจู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชูู ุนูู <code>xdebug</code> ุชุซุจูุช <code>xdebug</code> ุ ูููู ุงููุญุฏุฉ ุงูููุทูุฉ ููุณูุง ุบูุฑ ูููููุฉ (ูุชู ุชูููููุง ููุท ุจุงุณุชุฎุฏุงู CI). </p><br><blockquote style=";text-align:right;direction:rtl">  ุฃูุถูุง ุจุงููุณุจุฉ ุฅูู <code>composer</code> ูุชู <code>hirak/prestissimo</code> ุญุฒูุฉ <code>hirak/prestissimo</code> ุ ููุง ูุนุฒุฒ ุฅูู ุญุฏ ูุจูุฑ ุชุซุจูุช ุฌููุน ุงูุชุจุนูุงุช. </blockquote><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุฅูุชุงุฌ ุ ูููู ุจุชุฑููุจ ูุญุชููุงุช ุงูุฏููู <code>/src</code> ูู ุงูุตูุฑุฉ ูุน ุงููุตุงุฏุฑ (ุงููุตุงุฏุฑ) ุฏุงุฎููุง ูู ุฏููู <code>/app</code> .  ูู ุฃุฌู ุงูุชุทููุฑ ุ "ูููู ุจุชูุฑูุฑ" ุงูุฏููู ุงููุญูู ุจูุตุงุฏุฑ ุงูุชุทุจูู ( <code>-v "$(pwd)/src:/app:rw"</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูููุง ูููู ุฃุญุฏ ุงูุชุนููุฏุงุช - ูุฐู ูู <strong>ุญููู ุงููุตูู ุฅูู ุงููููุงุช</strong> ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงูุญุงููุฉ.  ูุงูุญูููุฉ ูู ุฃู ุงูุนูููุงุช ุงูุชู ูุชู ุชุดุบูููุง ุฏุงุฎู ุงูุญุงููุฉ ุจุดูู ุงูุชุฑุงุถู ุชุจุฏุฃ ูู ุงูุฌุฐุฑ ( <code>root:root</code> ) ุ ูุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ูุฐู ุงูุนูููุงุช (ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุงูุณุฌูุงุช ุ ูุงูุฌูุณุงุช ุ ููุง ุฅูู ุฐูู) - ุฃูุถูุง ุ ููุชูุฌุฉ ูุฐูู - ููุณ ูุฏูู ุฃู ุดูุก "ูุญูููุง" ูุนูู ููููู ุงูููุงู ุจุฐูู ุฏูู ุชูููุฐ <code>sudo chown -R $(id -u):$(id -g) /path/to/sources</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุญู ูุงุญุฏ ุ ุงุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">fixuid</a> ุ ููู ูุฐุง ุงูุญู ุจุณูุท.  ุจุฏุช ูู ุฃูุถู ุทุฑููุฉ ูุฅุนุงุฏุฉ <code>USER_ID</code> ุงููุญูู ู <code>GROUP_ID</code> ุฏุงุฎู ุงูุญุงููุฉ ุ <a href="">ูุจุฏุก ุงูุนูููุงุช ุจูุฐู ุงูููู</a> .  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุงุณุชุจุฏุงู ุงูููู <code>1000:1000</code> (ุงูููู ุงูุงูุชุฑุงุถูุฉ ูููุณุชุฎุฏู ุงููุญูู ุงูุฃูู) ุจุงูุชุฎูุต ูู ุงูููุงููุฉ <code>$(id -u):$(id -g)</code> ุ ูุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุฏุงุฆููุง ุชุฌุงูุฒูุง ( <code>$ USER_ID=666 docker-compose up -d</code> ) ุฃู ูุถุน ููู ุฅูุดุงุก ุนุงูู <code>.env</code> ููู <code>.env</code> . </p><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ ุนูุฏูุง <code>php-fpm</code> ุฅุทูุงู <code>php-fpm</code> ูุญูููุง <code>php-fpm</code> ูุง ุชูุณ ุชุนุทูู <code>opcache</code> ููู - ูุฅูุง ูููุงู ุงููุซูุฑ ูู "ูุนู ูุงุฐุง ุจุญู ุงูุฌุญูู!"  ุณูุชู ุชูููุฑูุง ูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ุฅูู ุงูุงุชุตุงู "ุงููุจุงุดุฑ" ุจู redis ู postgres ุ ููุช ุจุทุฑุญ ููุงูุฐ ุฅุถุงููุฉ "ุฎุงุฑุฌ" ( <code>15432</code> ู <code>15432</code> ุนูู ุงูุชูุงูู) ุ ูุฐูู ูุง ุชูุฌุฏ ูุดุงูู ูู "ุงูุงุชุตุงู ููุนุฑูุฉ ูุง ูู ูููู ูู ุญููุง" ูู ุญูุซ ุงููุจุฏุฃ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุญุชูุธ ุจุงูุญุงููุฉ ูุน ุชุดุบูู <code>app</code> ุงุณู ุงูุฑูุฒ ( <code>--command keep-alive.sh</code> ) ูุบุฑุถ ุงููุตูู ุจุณูููุฉ ุฅูู ุงูุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ุจุนุถ ุงูุฃูุซูุฉ ุนูู ุญู ุงููุดููุงุช ุงูููููุฉ ุจุงุณุชุฎุฏุงู <code>docker-compose</code> : </p><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงูุนูููุฉ </th><th>  ุงูุฃูุฑ ุงูุฌุงุฑู </th></tr></thead><tbody><tr><td>  ูู ุจุชุซุจูุช ุญุฒูุฉ <code>composer</code> </td><td> <code>$ docker-compose exec app composer require package/name</code> </td> </tr><tr><td>  ุชุดุบูู phpunit </td><td> <code>$ docker-compose exec app php ./vendor/bin/phpunit --no-coverage</code> </td> </tr><tr><td>  ุชุซุจูุช ูุงูุฉ ุชุจุนูุงุช ุงูุนูุฏุฉ </td><td> <code>$ docker-compose run --rm node npm install</code> </td> </tr><tr><td>  ุชุซุจูุช ุญุฒูุฉ ุงูุนูุฏุฉ </td><td> <code>$ docker-compose run --rm node npm i package_name</code> </td> </tr><tr><td>  ุฅุทูุงู ุฅุนุงุฏุฉ ุจูุงุก ุญูุฉ ููุฃุตูู </td><td> <code>$ docker-compose run --rm node npm run watch</code> </td> </tr></tbody></table><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุนุซูุฑ ุนูู ุฌููุน ุชูุงุตูู ุงูุฅุทูุงู ูู <strong><a href="">ููู docker-compose.yml</a></strong> . </p><br><h4 id="coy-make-zhiv" style=";text-align:right;direction:rtl"><del>  ุชุดูู </del>  <code>make</code> ููุฏ ุงูุญูุงุฉ! </h4><br><p style=";text-align:right;direction:rtl">  ูุชุงุจุฉ ููุณ ุงูุฃูุงูุฑ ูู ูู ูุฑุฉ ุชุตุจุญ ูููุฉ ุจุนุฏ ุงููุฑุฉ ุงูุซุงููุฉ ุ ูุจูุง ุฃู ุงููุจุฑูุฌูู ูู ูุฎูููุงุช ูุณููุฉ ุจุทุจูุนุชูุง ุ ุฏุนูุง ูุฏุฎู ูู "ุงูุฃุชูุชุฉ" ุงูุฎุงุตุฉ ุจูู.  ุฅู ุงูุงุญุชูุงุธ ุจูุฌููุนุฉ ูู ุงููุตูุต ูุนุฏ ุฎูุงุฑูุง ุ ููููู ููุณ ุฌุฐุงุจูุง ูุซู ููู ูุงุญุฏ ุ ุฎุงุตุฉ ูุฃู ุชุทุจููู ูู ุงูุชุทููุฑ ุงูุญุฏูุซ ูุง <code>Makefile</code> ุญูู. </p><br><blockquote style=";text-align:right;direction:rtl">  ููููู ุงูุนุซูุฑ ุนูู ุงูุฏููู ุงููุงูู ุจุงููุบุฉ ุงูุฑูุณูุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุฑุงุจุท</a> . </blockquote><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุฑู ููู ูุจุฏู ุงูุฌุฑู ูู ุฌุฐุฑ ุงููุณุชูุฏุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">[user@host ~/projects/app] $ make <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> Show this <span class="hljs-built_in"><span class="hljs-built_in">help</span></span> app-pull Application - pull latest Docker image (from remote registry) app Application - build Docker image locally app-push Application - tag and push Docker image into remote registry sources-pull Sources - pull latest Docker image (from remote registry) sources Sources - build Docker image locally sources-push Sources - tag and push Docker image into remote registry nginx-pull Nginx - pull latest Docker image (from remote registry) nginx Nginx - build Docker image locally nginx-push Nginx - tag and push Docker image into remote registry pull Pull all Docker images (from remote registry) build Build all Docker images push Tag and push all Docker images into remote registry login Log <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> to a remote Docker registry clean Remove images from <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> registry --------------- --------------- up Start all containers (<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> background) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> development down Stop all started <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> development containers restart Restart all started <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> development containers shell Start shell into application container install Install application dependencies into application container watch Start watching assets <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> changes (node) init Make full application initialization (install, seed, build assets) <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> Execute application tests Allowed <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> overriding next properties: PULL_TAG - Tag <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pulling images before building own (<span class="hljs-string"><span class="hljs-string">'latest'</span></span> by default) PUBLISH_TAGS - Tags list <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> building and pushing into remote registry (delimiter - single space, <span class="hljs-string"><span class="hljs-string">'latest'</span></span> by default) Usage example: make PULL_TAG=<span class="hljs-string"><span class="hljs-string">'v1.2.3'</span></span> PUBLISH_TAGS=<span class="hljs-string"><span class="hljs-string">'latest v1.2.3 test-tag'</span></span> app-push</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูู ุฌูุฏ ุฌุฏุง ูู ุงูุงุฏูุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุจุฏุก <code>watch</code> ( <code>docker-compose run --rm node npm run watch</code> ) ุ ุชุญุชุงุฌ ุฅูู "ุฑูุน" ุงูุชุทุจูู - ูุง ุนููู ุณูู ุชุญุฏูุฏ ุงููุฏู <code>up</code> ุจุงุนุชุจุงุฑู ุชุงุจุนูุง - ููุง ุฏุงุนู ููููู ุจุดุฃู ูุณูุงู ุงูููุงู ุจุฐูู ูุจู ุงูุงุชุตุงู <code>watch</code> - <code>make</code> ููุณู ุณููุนู ูู ุดูุก ูู ุฃุฌูู.  ูููุทุจู ุงูุดูุก ููุณู ุนูู ุงุฎุชุจุงุฑุงุช ุงูุชุดุบูู ูุงูุชุญูููุงุช ุงูุซุงุจุชุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุจู ุชูููุฐ ุงูุชุบููุฑุงุช - ูู <code>make test</code> ูู ุงูุณุญุฑ ุณูุญุฏุซ ูู! </p><br><p style=";text-align:right;direction:rtl">  ูุบูู ุนู ุงูููู ุ ูุง ุฏุงุนู ููููู ุจุดุฃู ุชุฌููุน ุงูุตูุฑ ูุชูุฒูููุง ูุชุญุฏูุฏ <code>--cache-from</code> ููู ุดูุก ุชูุฑูุจูุงุ </p><br><p style=";text-align:right;direction:rtl">  ููููู ุนุฑุถ ูุญุชููุงุช ููู <code>Makefile</code> ุนูู <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุฑุงุจุท</a></strong> . </p><br><h2 id="chast-avtomaticheskaya" style=";text-align:right;direction:rtl">  ุฌุฒุก ุชููุงุฆู </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุชูู ุฅูู ุงูุฌุฒุก ุงูุฃุฎูุฑ ูู ูุฐู ุงูููุงูุฉ - ูุฐุง ูู ุฃุชูุชุฉ ุนูููุฉ ุชุญุฏูุซ ุงูุตูุฑ ูู Docker Registry.  ุนูู ุงูุฑุบู ูู ุงุณุชุฎุฏุงู ูุซุงู GitLab CI ุงูุฎุงุต ุจู - ูููู ุงูููุฑุฉ ุฅูู ุฎุฏูุฉ ุชูุงูู ุฃุฎุฑู ุ ุฃุนุชูุฏ ุฃููุง ุณุชููู ููููุฉ ุชูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุณูุญุฏุฏ ุชุณููุฉ ุนูุงูุงุช ุงูุตูุฑุฉ ุงููุณุชุฎุฏูุฉ: </p><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงุณู ุงูุนูุงูุฉ </th><th>  ุงููุฌูุฉ </th></tr></thead><tbody><tr><td> <code>latest</code> </td> <td>  ุงูุตูุฑ ุงูุชู ุชู ุฌูุนูุง ูู ุงููุฑุน <code>master</code> . <br>  ุญุงูุฉ ุงูุดูุฑุฉ ูู ุงูุฃุญุฏุซ ุ ูููููุง ููุณุช ุฌุงูุฒุฉ ุจุนุฏ ููุฏุฎูู ูู ุงูุฅุตุฏุงุฑ </td></tr><tr><td> <code>some-branch-name</code> </td> <td>  ุงูุตูุฑ ุงูุชู ุชู ุฌูุนูุง ุนูู ุงูุบุฏุงุก <code>some-branch-name</code> . <br>  ูุจุงูุชุงูู ุ ูููููุง "ุทุฑุญ" ุงูุชุบููุฑุงุช ูู ุฃู ุจูุฆุฉ ุชู ุชูููุฐูุง ููุท ูู ุฅุทุงุฑ ุบุฏุงุก ูุญุฏุฏ ุญุชู ูุจู ุฏูุฌูุง ูุน ุงูุถูุก <code>master</code> - ูููู "ุชูุณูุน" ุงูุตูุฑ ุจูุฐู ุงูุนูุงูุฉ. <br>  ู - ูุนู ุ ุงูุชุบููุฑุงุช ูุฏ ุชุชุนูู ุจูู ูู ููุฏ ูุตูุฑ ุฌููุน ุงูุฎุฏูุงุช ุจุดูู ุนุงู! </td></tr><tr><td> <code>vX.XX</code> </td> <td>  ูู ุงููุงูุน ุ ุฅุตุฏุงุฑ ุงูุชุทุจูู (ูุณุชุฎุฏู ููุดุฑ ุฅุตุฏุงุฑ ูุนูู) </td></tr><tr><td> <code>stable</code> </td> <td>  ุงูุงุณู ุงููุณุชุนุงุฑ ุ ููุนูุงูุฉ ุงูุชู ุชุญุชูู ุนูู ุฃุญุฏุซ ุฅุตุฏุงุฑ (ุงุณุชุฎุฏู ููุดุฑ ุฃุญุฏุซ ุฅุตุฏุงุฑ ุซุงุจุช) </td></tr></tbody></table><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุฅุตุฏุงุฑ ุนู ุทุฑูู ูุดุฑ ุนูุงูุฉ ูู <code>vX.XX</code> ุจุชูุณูู <code>vX.XX</code> </p><br><p style=";text-align:right;direction:rtl">  ูุชุณุฑูุน ุงูุจูุงุก ุ ูุชู ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช <code>./src/vendor</code> ู <code>./src/node_modules</code> + <code>--cache-from</code> ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช <code>--cache-from</code> ุฃุฌู <code>docker build</code> ุ ููุชููู ูู ุงููุฑุงุญู ุงูุชุงููุฉ: </p><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงุณู ุงููุฑุญูุฉ </th><th>  ุงููุฌูุฉ </th></tr></thead><tbody><tr><td> <code>prepare</code> </td> <td>  ุงููุฑุญูุฉ ุงูุชุญุถูุฑูุฉ - ุชุฌููุน ุตูุฑ ุฌููุน ุงูุฎุฏูุงุช <strong>ูุง ุนุฏุง</strong> ุงูุตูุฑุฉ ูุน ุงููุตุฏุฑ </td></tr><tr><td> <code>test</code> </td> <td>  ุงุฎุชุจุงุฑ ุงูุชุทุจูู (ุชุดุบูู <code>phpunit</code> ุ ูุญููุงุช ุงูููุฏ ุงูุซุงุจุช) ุจุงุณุชุฎุฏุงู ุงูุตูุฑ <strong>ุงูุชู ุชู ุฌูุนูุง ูู ูุฑุญูุฉ ุงูุชุญุถูุฑ</strong> </td></tr><tr><td> <code>build</code> </td> <td>  ุชุซุจูุช ุฌููุน ุชุจุนูุงุช <code>composer</code> ( <code>--no-dev</code> ) ุ ูุชุฌููุน <code>assets</code> <code>webpack</code> ุ <code>webpack</code> ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู ุดูุฑุฉ ุงููุตุฏุฑ <strong>ุจูุง ูู ุฐูู</strong> ุงูุนูุงุตุฑ <strong>ุงููุณุชููุฉ</strong> ( <code>vendor/*</code> ุ <code>app.js</code> ุ <code>app.css</code> ) </td></tr></tbody></table><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8c2/873/625/8c2873625893ec1a0605e24bf85ef541.png" alt="ููุทุฉ ุดุงุดุฉ ูุฎุทูุท ุงูุฃูุงุจูุจ"></p><br><blockquote style=";text-align:right;direction:rtl">  ุงูุชุฌููุน ูู ุงููุฑุน <code>master</code> ููุชุฌ <code>push</code> <code>latest</code> ุงูุนูุงูุงุช <code>master</code> </blockquote><p style=";text-align:right;direction:rtl">  ูู ุงููุชูุณุท โโุ ุชุณุชุบุฑู ุฌููุน ูุฑุงุญู ุงูุชุฌููุน <strong>4 ุฏูุงุฆู</strong> ุ ููู ูุชูุฌุฉ ุฌูุฏุฉ ุฌุฏูุง (ุงูุชูููุฐ ุงูููุงุฒู ููููุงู ูู ูู ุดูุก ูุฏููุง). </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุชุนุฑู ุนูู ูุญุชููุงุช ุงูุชูููู ( <strong><code>.gitlab-ci.yml</code></strong> ) <strong><code>.gitlab-ci.yml</code></strong> ูู <strong><a href="">ูุฐุง ุงูุฑุงุจุท</a></strong> . </p><br><h2 id="vmesto-zaklyucheniya" style=";text-align:right;direction:rtl">  ุจุฏูุง ูู ุงูุงุณุชูุชุงุฌ </h2><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ุชูุธูู ุงูุนูู ุจุงุณุชุฎุฏุงู ุชุทุจูู php (ุจุงุณุชุฎุฏุงู <code>Laravel</code> ููุซุงู) ุจุงุณุชุฎุฏุงู Docker ููุณ ุตุนุจูุง ููุบุงูุฉ.  ูุงุฎุชุจุงุฑ ุ ููููู ุดููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูุฏุน</a> ุ ูุงุณุชุจุฏุงู ูู <code>tarampampam/laravel-in-docker</code> ุฎุงุตุฉ ุจู - ุฌุฑุจ ูู ุดูุก "ูุจุงุดุฑ" ุจููุณู. </p><br><p style=";text-align:right;direction:rtl">  ููุฅุทูุงู ุงููุญูู - ูู ุจุชุดุบูู ุฃูุฑูู ููุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://gitlab.com/tarampampam/laravel-in-docker.git ./laravel-in-docker &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-variable"><span class="hljs-variable">$_</span></span> $ make init</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุซู ุงูุชุญ <code>http://127.0.0.1:9999</code> ูู ูุชุตูุญู ุงูููุถู. </p><br><p style=";text-align:right;direction:rtl">  <strong><em>... ุงุบุชูุงู ุงููุฑุตุฉ</em></strong> </p><br><p style=";text-align:right;direction:rtl">  <em>ูู ุงูููุช ุงูุญุงูู ุฃุนูู ุนูู ูุดุฑูุน "ุงูุฑูุฒ ุงูุชููุงุฆู" ููุดุฑูุน TL ุ ููุญู ูุจุญุซ ุนู ูุทูุฑู PHP ุงูููููุจูู ููุณุคููู ุงููุธุงู (ููุน ููุชุจ ุงูุชุทููุฑ ูู ุงููุงุชุฑููุจุฑุฌ).</em>  <em>ุฅุฐุง ููุช ุชุนุชุจุฑ ููุณู ุงูุฃูู ุฃู ุงูุซุงูู - ุงูุชุจ ุฎุทุงุจ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงูุฎุงุต ุจูุง ูุน ุงููุต "ุฃุฑูุฏ ุฃู ุฃููู ูุฑูู ุชุทููุฑ ุ ุงุณุชุฃูู:ูช link_on_summaryูช" ุฅูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู <code>hr@avtocod.ru</code> ุ ููุญู <code>hr@avtocod.ru</code> ุงูุงูุชูุงู.</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar425101/">https://habr.com/ru/post/ar425101/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar425089/index.html">ุชูููููุฌูุง ุงููุนูููุงุช ูู ุนุงูู ุงูุญููุงู: ุจุญุซ ุนู ุทุนุงู ุงูููู ู TCP / IP</a></li>
<li><a href="../ar425091/index.html">ูุง ุงูุฐู ูุฌุฑู ูุน ุชููููุงุช ุดุนุจูุฉ ูุบุงุช ุงูุจุฑูุฌุฉุ</a></li>
<li><a href="../ar425093/index.html">ุญููู ุฅูุชุฑูุช ุงูุฃุดูุงุก ููุฅุณูุงู ูุงูุฎุฏูุงุช ุงููุฌุชูุนูุฉ: ูุงุฐุง ุณุชููู ุงูุนุฏุงุฏุงุช ุงูุฐููุฉ ููู ูุฌุจ ุฃู ุชุฎุฏููุงุ</a></li>
<li><a href="../ar425095/index.html">ูุชุญ ูุฏูุฉ ุนุจุฑ ุงูุฅูุชุฑูุช "Game" 2048</a></li>
<li><a href="../ar425099/index.html">ูุง ูููุชู ูุงููุดููุงุช ุงูุชู ูุงุฌูุชูุง ุนูุฏ ุฅูุดุงุก ูุณุฎุฉ Hacker News</a></li>
<li><a href="../ar425103/index.html">ุฃููู Google Predators ุงููุทุงุฑุฏุฉ ูุฃุทูุงูู</a></li>
<li><a href="../ar425105/index.html">ูุถุน ุงูุชุตููุน Intel ME - ุชูุฏูุฏ ุฎูู ุ ุฃู ูุง ูุฑุงุก ุงูุซุบุฑุฉ CVE-2018-4251 ูู MacBook</a></li>
<li><a href="../ar425107/index.html">ููุฎุต ุงูุชูููููุฌูุง ุงููุงููุฉ: ูุดุงูู ุงูููุงุณุงุช ุงูุญูููุฉ ุนูู ุงููุงุชู ุงููุญููู ุ ูุชุฃุฌูุฑ ููุงุชู Samsung ุ ูุงูุฃูุฑุงู ุงููุงููุฉ ุนูู blockchain</a></li>
<li><a href="../ar425109/index.html">ูุชุงุจ "ุฌุงูุง ูู ุงูุณุญุงุจุฉ. Spring Springุ Spring Cloudุ Cloud Foundry ยป</a></li>
<li><a href="../ar425111/index.html">ุงูุญูู ุงูุฅุนูุงููุฉ ุงูุชู ูููู ุฃู ุชูููู ุงููุงู ูุงูุณูุนุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>