<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๐ฟ ๐ ๐ต ุจููุงููู ูููุชุฑุจุฑุฌ ุณุชุฑูู ุฏููู ุชุฑุฌูุฉ ุงูุชุฑุฌูุฉ โ๏ธ ๐๐ป ๐ฉโ๐งโ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! ุฃูุฏู ููู ุชุฑุฌูุฉ ุงูููุงู " Java 8 Stream Tutorial ". 

 ูููุฑ ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุงุณุชูุงุฏูุง ุฅูู ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุธุฑุฉ ุนุงูุฉ ุดุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจููุงููู ูููุชุฑุจุฑุฌ ุณุชุฑูู ุฏููู ุชุฑุฌูุฉ ุงูุชุฑุฌูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437038/" style=";text-align:right;direction:rtl">  ูุฑุญุจุง ูุง ูุจุฑ!  ุฃูุฏู ููู ุชุฑุฌูุฉ ุงูููุงู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Java 8 Stream Tutorial</a> ". <br><br>  ูููุฑ ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุงุณุชูุงุฏูุง ุฅูู ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุธุฑุฉ ุนุงูุฉ ุดุงููุฉ ุนูู ุงูุชุฏููุงุช ูู Java 8. ุนูุฏูุง ูุฏูุช ูุฃูู ูุฑุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Stream ุ ุดุนุฑุช ุจุงูุญูุฑุฉ ุจุณุจุจ ุงูุงุณู ูุฃูู ูุชูุงูู ูุน InputStream ู OutputStream ูู ุงูุญุฒูุฉ java.io ุ  ููุน ุฐูู ุ ูุฅู ุงูููุงุถูุน ูู Java 8 ูู ุดูุก ูุฎุชูู ุชูุงููุง. <a name="habracut"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎููุท</a> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">monads</a> ุงูุชู ุชูุนุจ ุฏูุฑูุง ููููุง ูู ุชุทููุฑ ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ูู Java. <br><blockquote style=";text-align:right;direction:rtl">  ูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ุ ุชุนุฏ monad ุจููุฉ ุชูุซู ุนูููุฉ ุญุณุงุจูุฉ ูู ุดูู ุณูุณูุฉ ูู ุงูุฎุทูุงุช ุงููุชุนุงูุจุฉ.  ูุญุฏุฏ ููุน ููููู ุงููููุงุฏ ุณูุณูุฉ ุงูุนูููุงุช ุ ูู ุญุงูุชูุง ุ ุณูุณูุฉ ูู ุงูุฃุณุงููุจ ูุน ูุธุงุฆู ูุฏูุฌุฉ ูู ููุน ูุนูู. </blockquote>  ุณูู ูุนููู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ููููุฉ ุงูุชุนุงูู ูุน ุงูุชุฏููุงุช ูุฅุธูุงุฑ ููููุฉ ุงูุชุนุงูู ูุน ุงูุทุฑู ุงููุฎุชููุฉ ุงููุชุงุญุฉ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Stream.  ุณูููู ุจุชุญููู ุชุฑุชูุจ ุงูุนูููุงุช ููุฑู ููู ูุคุซุฑ ุชุณูุณู ุงูุทุฑู ูู ุงูุณูุณูุฉ ุนูู ุงูุฃุฏุงุก.  <code>flatMap</code> ุฃุณุงููุจ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Stream ุงููููุฉ ูุซู <code>reduce</code> <code>collect</code> ู <code>flatMap</code> .  ูู ููุงูุฉ ุงูุฏููู ุ ุณูููู ุงูุชูุงูุง ููุนูู ุงููุชูุงุฒู ูุน ุงูุฌุฏุงูู. <br><br>  ุฅุฐุง ููุช ูุง ุชุดุนุฑ ุจุงูุญุฑูุฉ ูู ุงุณุชุฎุฏุงู ุชุนุจูุฑุงุช lambda ูุงููุงุฌูุงุช ุงููุธูููุฉ ูุงูุฃุณุงููุจ ุงููุฑุฌุนูุฉ ุ ูุณูููู ูู ุงููููุฏ ูู ุฃู ุชุชุนุฑู ุนูู ุฏูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅูู ุงูุงุจุชูุงุฑุงุช ูู Java 8</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฑุฌูุฉ</a> ูู Habrรฉ) ุ ูุจุนุฏ ุฐูู ุชุนูุฏ ุฅูู ุฏุฑุงุณุฉ ุงูุชุฏููุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ููู ุชุนูู ุงูููุงุถูุน </h3><br>  ููุซู ุงูุชุฏูู ุณูุณูุฉ ูู ุงูุนูุงุตุฑ ููููุฑ ุทุฑููุง ูุชููุนุฉ ูุฅุฌุฑุงุก ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุนูู ูุฐู ุงูุนูุงุตุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;String&gt; myList = Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"c2"</span></span>, <span class="hljs-string"><span class="hljs-string">"c1"</span></span>); myList .stream() .filter(s -&gt; s.startsWith(<span class="hljs-string"><span class="hljs-string">"c"</span></span>)) .map(String::toUpperCase) .sorted() .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// C1 // C2</span></span></code> </pre> <br>  ุทุฑู ุงูุชุฏููุงุช <i>ูุชูุณุทุฉ</i> (ูุชูุณุทุฉ) <i>ููุญุทุฉ</i> (ูุญุทุฉ).  ุชูุฑุฌุน ุงูุทุฑู ุงููุณูุทุฉ ุฏูููุง ุ ูุงูุฐู ูุณูุญ ุจุงุณุชุฏุนุงุก ุงูุนุฏูุฏ ูู ูุฐู ุงูุทุฑู ุจุงูุชุชุงุจุน.  ุงูุฃุณุงููุจ ุงูุทุฑููุฉ ุฅูุง ูุง ุชูุฑุฌุน ูููุฉ (ุจุงุทูุฉ) ุฃู ุชูุฑุฌุน ูุชูุฌุฉ ูููุน ุขุฎุฑ ุบูุฑ ุงูุฏูู.  ูู ุงููุซุงู ุฃุนูุงู ุ ุชููู <code>filter</code> <code>map</code> <code>sorted</code> ูุณูุทุฉ ุ <code>forEach</code> ูููุง ุทุฑูู.  ููุญุตูู ุนูู ูุงุฆูุฉ ูุงููุฉ ุจุทุฑู ุงูุชุฏูู ุงููุชุงุญุฉ ุ ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซุงุฆู</a> .  ุชูุนุฑู ุณูุณูุฉ ุงูุนูููุงุช ูุฐู ุฃูุถูุง ุจุงุณู ุฎุท ุฃูุงุจูุจ ุงูุชุดุบูู. <br><br>  ุชูุจู ูุนุธู ุงูุฃุณุงููุจ ูู Stream API ููุนุงููุงุช ุชุนุจูุฑุงุช lambda ุ ููู ูุงุฌูุฉ ูุธูููุฉ ุชุตู ุงูุณููู ุงููุญุฏุฏ ููุฐู ุงูุทุฑููุฉ.  ูุฌุจ ุฃู ูููู ูุนุธููู ูู ููุช ูุงุญุฏ ุบูุฑ ูุชุฏุฎููู ูุนุฏููู ุงูุฌูุณูุฉ.  ูุงุฐุง ูุนูู ูุฐุงุ <br><br>  ุงูุทุฑููุฉ ูุง ุชุชุฏุฎู ุฅุฐุง ูู ุชูู ุจุชุนุฏูู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ุงููุงููุฉ ูุฑุงุก ุงูุฏูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงููุซุงู ุฃุนูุงู ุ ูุง ุชูุฌุฏ ุชุนุจูุฑุงุช lambda ุชุนุฏูู ูุงุฆูุฉ ุตููู ุงููุงุฆูุฉ. <br><br>  ุชููู ุงูุทุฑููุฉ ุจูุง ุฌูุณูุฉ ุฅุฐุง ุชู ุชุญุฏูุฏ ุงูุชุฑุชูุจ ุงูุฐู ูุชู ุจู ุชูููุฐ ุงูุนูููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุง ูุนุชูุฏ ุชุนุจูุฑ lambda ูุงุญุฏ ูู ุงููุซุงู ุนูู ูุชุบูุฑุงุช ูุงุจูุฉ ููุชุบููุฑ ุฃู ุญุงูุงุช ูุณุงุญุฉ ุฎุงุฑุฌูุฉ ูุฏ ุชุชุบูุฑ ูู ููุช ุงูุชุดุบูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฃููุงุน ูุฎุชููุฉ ูู ุงูููุงุถูุน </h3><br>  ูููู ุฅูุดุงุก ุงูุชุฏููุงุช ูู ุงูุจูุงูุงุช ุงููุตุฏุฑ ุงููุฎุชููุฉ ุ ูุฎุงุตุฉ ูู ุงููุฌููุนุงุช.  ุชุฏุนู <code>parllelStream()</code> ุทุฑู <code>stream()</code> ุงูุฌุฏูุฏุฉ <code>stream()</code> ู <code>parllelStream()</code> ูุฅูุดุงุก ุชุฏููุงุช ูุชุชุงุจุนุฉ ููุชูุงุฒูุฉ.  ุงูุฎููุท ุงููุชูุงุฒูุฉ ูุงุฏุฑุฉ ุนูู ุงูุนูู ูู ูุถุน ูุชุนุฏุฏ ุงูุฎููุท (ุนูู ุฎููุท ูุชุนุฏุฏุฉ) ูุณุชุชู ููุงูุดุชูุง ูู ููุงูุฉ ุงูุฏููู.  ูู ุบุถูู ุฐูู ุ ุถุน ูู ุงุนุชุจุงุฑู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุชุณูุณููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a3"</span></span>) .stream() .findFirst() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1</span></span></code> </pre><br>  ููุง ุ ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>stream()</code> ูู ูุงุฆูุฉ ุจุฅุฑุฌุงุน ูุงุฆู ุฏูู ุนุงุฏู. <br>  ููุน ุฐูู ุ ููุนูู ูุน ุฏูู ุ ููุณ ูู ุงูุถุฑูุฑู ุนูู ุงูุฅุทูุงู ุฅูุดุงุก ูุฌููุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a3"</span></span>) .findFirst() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1</span></span></code> </pre><br>  ููุท ุงุณุชุฎุฏู <code>Stream.of()</code> ูุฅูุดุงุก ุฏูู ูู ูุฑุงุฌุน ูุงุฆู ูุชุนุฏุฏุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุชุฏููุงุช ุงููุงุฆูุงุช ุงูุนุงุฏูุฉ ุ ูุญุชูู Java 8 ุนูู ุฃููุงุน ุฎุงุตุฉ ูู ุงูุชุฏููุงุช ููุนูู ูุน ุงูุฃููุงุน ุงูุจุฏุงุฆูุฉ: int ุ long ุ double.  ููุง ูุฏ ุชุฎูู ุ ูุฐุง ูู <code>IntStream</code> ุ <code>LongStream</code> ุ <code>DoubleStream</code> . <br><br>  ูููู ุฃู ุชุณุชุจุฏู ุชุฏููุงุช IntStream ุงูุนุงุฏูุฉ (ุุ) <code>IntStream.range()</code> ุจุงุณุชุฎุฏุงู <code>IntStream.range()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// 1 // 2 // 3</span></span></code> </pre><br>  ูู ูุฐู ุงูุชุฏููุงุช ููุนูู ูุน ุงูุฃููุงุน ุงูุจุฏุงุฆูุฉ ุชุนูู ุชูุงููุง ูุซู ุงูุชุฏููุงุช ุงูุนุงุฏูุฉ ูููุงุฆูุงุช ุ ุจุงุณุชุซูุงุก ูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ุงูุชุฏููุงุช ุงูุจุฏุงุฆูุฉ ุชุนุจูุฑุงุช lambda ุงูุฎุงุตุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ IntFunction ุจุฏูุงู ูู Function ุ ุฃู IntPredicate ุจุฏูุงู ูู Predicate. </li><li style=";text-align:right;direction:rtl">  ุชุฏููุงุช ุจุฏุงุฆูุฉ ุชุฏุนู ุฃุณุงููุจ ูุญุทุฉ ุฅุถุงููุฉ: <code>sum()</code> ู <code>average()</code> <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Arrays.stream(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>}) .map(n -&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> * n + <span class="hljs-number"><span class="hljs-number">1</span></span>) .average() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// 5.0</span></span></code> </pre><br></li></ul><br>  ูู ุงููููุฏ ูู ุจุนุถ ุงูุฃุญูุงู ุชุญููู ุฏูู ุงููุงุฆูุงุช ุฅูู ุฏูู ูู ุงูุนูุงุตุฑ ุงูุจุฏุงุฆูุฉ ุฃู ุงูุนูุณ.  ููุฐุง ุงูุบุฑุถ ุ ุชุฏุนู ุชุฏููุงุช ุงููุงุฆู ุงูุทุฑู ุงูุฎุงุตุฉ: <code>mapToInt()</code> ุ <code>mapToLong()</code> ุ <code>mapToDouble()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a3"</span></span>) .map(s -&gt; s.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>)) .mapToInt(Integer::parseInt) .max() .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// 3</span></span></code> </pre><br>  ูููู ุชุญููู ุชุฏููุงุช ุงูุนูุงุตุฑ ุงูุฃูููุฉ ุฅูู ุชุฏููุงุช ูุงุฆูุงุช ุนู ุทุฑูู ุงุณุชุฏุนุงุก <code>mapToObj()</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .mapToObj(i -&gt; <span class="hljs-string"><span class="hljs-string">"a"</span></span> + i) .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1 // a2 // a3</span></span></code> </pre><br>  ูู ุงููุซุงู ุงูุชุงูู ุ ูุชู ุชุนููู ุฏูู ูู ุฃุฑูุงู ุงููุงุตูุฉ ุงูุนุงุฆูุฉ ุฅูู ุฏูู ูู ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ุซู ูุชู ุชุนูููู ุฅูู ุฏูู ูู ุงููุงุฆูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">2.0</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span>) .mapToInt(Double::intValue) .mapToObj(i -&gt; <span class="hljs-string"><span class="hljs-string">"a"</span></span> + i) .forEach(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// a1 // a2 // a3</span></span></code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุฃูุฑ ุงูุชูููุฐ </h3><br>  ุงูุขู ุจุนุฏ ุฃู ุชุนูููุง ููููุฉ ุฅูุดุงุก ุชุฏููุงุช ูุฎุชููุฉ ูููููุฉ ุงูุชุนุงูู ูุนูุง ุ ุณูุบุทุณ ุจุดูู ุฃุนูู ูููุธุฑ ูู ููููุฉ ุธููุฑ ุนูููุงุช ุงูุจุซ ุฃุณูู ุงูุบุทุงุก. <br><br>  ุณูุฉ ูููุฉ ูู ุงูุทุฑู ุงููุณูุทุฉ ูู <i>ูุณููุง</i> .  ูุง ุชูุฌุฏ ุทุฑููุฉ ุทุฑููุฉ ูู ูุฐุง ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; });</code> </pre><br>  ุนูุฏ ุชูููุฐ ูุฐู ุงูุดูุฑุฉ ุ ูู ูุชู ุฅุฎุฑุงุฌ ุฃู ุดูุก ุฅูู ูุญุฏุฉ ุงูุชุญูู.  ููู ุฐูู ุจุณุจุจ ุชูููุฐ ุงูุทุฑู ุงููุณูุทุฉ ููุท ูู ุญุงูุฉ ูุฌูุฏ ุทุฑููุฉ ุทุฑููุฉ.  ุฏุนูุง ููุณุน ุงููุซุงู ุนู ุทุฑูู ุฅุถุงูุฉ ุทุฑููุฉ <code>forEach</code> ูุญุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s));</code> </pre><br>  ุชูููุฐ ุฌุฒุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฐุง ูุคุฏู ุฅูู ุงูุฅุฎุฑุงุฌ ุฅูู ูุญุฏุฉ ุงูุชุญูู ูููุชูุฌุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">filter: d2 forEach: d2 filter: a2 forEach: a2 filter: b1 forEach: b1 filter: b3 forEach: b3 filter: c forEach: c</code> </pre><br>  ูุฏ ููุงุฌุฆ ุงูุชุฑุชูุจ ุงูุฐู ูุชู ุจู ุชุฑุชูุจ ุงููุชุงุฆุฌ.  ูููู ูููุฑุก ุฃู ูุชููุน ุจุณุฐุงุฌุฉ ุฃู ูุชู ุชูููุฐ ุงูุฃุณุงููุจ "ุฃูููุง": ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ูุฌููุน ุนูุงุตุฑ ุงูุฏูู.  ููุน ุฐูู ุ ุจุฏูุงู ูู ุฐูู ุ ูุชุญุฑู ุงูุนูุตุฑ ุนูู ุทูู ุงูุณูุณูุฉ "ุฑุฃุณูุงู".  ุฃููุงู ุ ููุฑ ุงูุณุทุฑ ุงูุฃูู ูู "d2" ุนุจุฑ ุทุฑููุฉ <code>filter</code> ุ ุซู ุนุจุฑ <code>forEach</code> ูุจุนุฏ ุฐูู ููุท ุ ูุจุนุฏ ุชูุฑูุฑ ุงูุนูุตุฑ ุงูุฃูู ูู ุฎูุงู ุณูุณูุฉ ูุงููุฉ ูู ุงูุฃุณุงููุจ ุ ูุจุฏุฃ ุงูุนูุตุฑ ุงูุชุงูู ูู ุงููุนุงูุฌุฉ. <br><br>  ุจุงููุธุฑ ุฅูู ูุฐุง ุงูุณููู ุ ููููู ุชูููู ุงูุนุฏุฏ ุงููุนูู ููุนูููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .anyMatch(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"anyMatch: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"A"</span></span>); }); <span class="hljs-comment"><span class="hljs-comment">// map: d2 // anyMatch: D2 // map: a2 // anyMatch: A2</span></span></code> </pre><br>  <code>anyMatch</code> ุทุฑููุฉ <code>anyMatch</code> ุฅูู <i>ุญูููุฉ</i> ุจูุฌุฑุฏ ุฃู ูุชู ุชุทุจูู ุงููุณูุฏ ุนูู ุงูุนูุตุฑ ุงููุงุฑุฏ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฐุง ูู ุงูุนูุตุฑ ุงูุซุงูู ูู ุงูุชุณูุณู - "A2".  ููููุง ูุฐูู ุ ูุธุฑูุง ููุชูููุฐ "ุงูุนููุฏู" ูุณูุณูุฉ ุงูุฎููุท ุ ุณูุชู ุงุณุชุฏุนุงุก <code>map</code> ูุฑุชูู ููุท.  ูุจุงูุชุงูู ุ ุจุฏูุงู ูู ุนุฑุถ ุฌููุน ุนูุงุตุฑ ุงูุฏูู ุ ุณูุชู ุงุณุชุฏุนุงุก <code>map</code> ุนุฏุฉ ูุฑุงุช ูุฏุฑ ุงูุฅููุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ููุงุฐุง ุงูุชุณูุณู ููู </h3><br>  ุงููุซุงู ุงูุชุงูู ูุชููู ูู ุทุฑููุชูู <code>forEach</code> ูุทุฑููุฉ <code>forEach</code> .  ุงููุธุฑ ูู ููููุฉ ุชูููุฐ ูุฐู ุงูุฃุณุงููุจ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"A"</span></span>); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s)); <span class="hljs-comment"><span class="hljs-comment">// map: d2 // filter: D2 // map: a2 // filter: A2 // forEach: A2 // map: b1 // filter: B1 // map: b3 // filter: B3 // map: c // filter: C</span></span></code> </pre> <br>  ูู ุงูุณูู ุชุฎููู ุฃู ูู ูู <code>map</code> ูุทุฑููุฉ <code>filter</code> ุชุณูู 5 ูุฑุงุช ุฃุซูุงุก ููุช ุงูุชูููุฐ - ูุฑุฉ ูุงุญุฏุฉ ููู ุนูุตุฑ ูู ุนูุงุตุฑ ุงููุฌููุนุฉ ุงูุฃุตููุฉ ุ ุจูููุง ูุชู ุงุณุชุฏุนุงุก <code>forEach</code> ูุฑุฉ ูุงุญุฏุฉ ููุท - ููุนูุตุฑ ุงูุฐู ุงุฌุชุงุฒ ุงููุฑุดุญ. <br><br>  ููููู ุชูููู ุนุฏุฏ ุงูุนูููุงุช ุจุดูู ูุจูุฑ ุนู ุทุฑูู ุชุบููุฑ ุชุฑุชูุจ ููุงููุงุช ุงูุทุฑููุฉ ุนู ุทุฑูู ูุถุน <code>filter</code> ูู ุงูููุงู ุงูุฃูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); }) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s)); <span class="hljs-comment"><span class="hljs-comment">// filter: d2 // filter: a2 // map: a2 // forEach: A2 // filter: b1 // filter: b3 // filter: c</span></span></code> </pre><br>  ุงูุขู ุงูุฎุฑูุทุฉ ุชุณูู ูุฑุฉ ูุงุญุฏุฉ ููุท.  ูุน ูุฌูุฏ ุนุฏุฏ ูุจูุฑ ูู ุนูุงุตุฑ ุงูุฅุฏุฎุงู ุ ุณููุงุญุธ ุฒูุงุฏุฉ ููุญูุธุฉ ูู ุงูุฅูุชุงุฌูุฉ.  ุถุน ุฐูู ูู ุงูุงุนุชุจุงุฑ ุนูุฏ ุฅูุดุงุก ุณูุงุณู ุทุฑู ูุนูุฏุฉ. <br><br>  ูููู ุจุชูุณูุน ุงููุซุงู ุฃุนูุงู ุนู ุทุฑูู ุฅุถุงูุฉ ุนูููุฉ ูุฑุฒ ุฅุถุงููุฉ - ุงูุทุฑููุฉ ุงููุตููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .sorted((s1, s2) -&gt; { System.out.printf(<span class="hljs-string"><span class="hljs-string">"sort: %s; %s\n"</span></span>, s1, s2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.compareTo(s2); }) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); }) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s));</code> </pre><br>  ุงููุฑุฒ ูู ููุน ุฎุงุต ูู ุงูุชุดุบูู ุงููุชูุณุท.  ูุฐู ูู ุงูุนูููุฉ ุงูุชู ุชุณูู ุงูุญุงูุฉ ุ ูุฃูู ููุฑุฒ ูุฌููุนุฉ ุ ูุฌุจ ุฃู ุชุคุฎุฐ ุญุงูุชูุง ูู ุงูุงุนุชุจุงุฑ ุฎูุงู ุงูุนูููุฉ. <br><br>  ูุชูุฌุฉ ูุชูููุฐ ูุฐุง ุงูุฑูุฒ ุ ูุญุตู ุนูู ุงูุฅุฎุฑุงุฌ ุงูุชุงูู ุฅูู ูุญุฏุฉ ุงูุชุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">sort: a2; d2 sort: b1; a2 sort: b1; d2 sort: b1; a2 sort: b3; b1 sort: b3; d2 sort: c; b3 sort: c; d2 filter: a2 map: a2 forEach: A2 filter: b1 filter: b3 filter: c filter: d2</code> </pre><br>  ุฃููุงู ุ ูุชู ูุฑุฒ ุงููุฌููุนุฉ ุจุฃููููุง.  ุจูุนูู ุขุฎุฑ ุ ูุชู ุชุดุบูู ุงูุทุฑููุฉ ุงูุชู ุชู <code>sorted</code> ุฃูููุงู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุณูู <code>sorted</code> 8 ูุฑุงุช ููุนุฏูุฏ ูู ูุฌููุนุงุช ุงูุนูุงุตุฑ ูู ุงููุฌููุนุฉ ุงููุงุฑุฏุฉ. <br><br>  ูุฑุฉ ุฃุฎุฑู ุ ูููู ุจุชุญุณูู ุชูููุฐ ูุฐุง ุงูุฑูุฒ ุนู ุทุฑูู ุชุบููุฑ ุชุฑุชูุจ ููุงููุงุช ุงูุทุฑููุฉ ูู ุงูุณูุณูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"filter: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); }) .sorted((s1, s2) -&gt; { System.out.printf(<span class="hljs-string"><span class="hljs-string">"sort: %s; %s\n"</span></span>, s1, s2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.compareTo(s2); }) .map(s -&gt; { System.out.println(<span class="hljs-string"><span class="hljs-string">"map: "</span></span> + s); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.println(<span class="hljs-string"><span class="hljs-string">"forEach: "</span></span> + s)); <span class="hljs-comment"><span class="hljs-comment">// filter: d2 // filter: a2 // filter: b1 // filter: b3 // filter: c // map: a2 // forEach: A2</span></span></code> </pre><br>  ูู ูุฐุง ุงููุซุงู ุ ูุง ูุชู <code>sorted</code> ุนูู ุงูุฅุทูุงู.  <code>filter</code> ูููู ูู ุฌูุน ุงููุฏุฎูุงุช ุฅูู ุนูุตุฑ ูุงุญุฏ.  ูู ุญุงูุฉ ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุ ุณูุณุชููุฏ ุงูุฃุฏุงุก ุจุดูู ูุจูุฑ. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุฌุฏุงูู </h3><br>  ูู Java 8 ุ ูุง ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุณูุงุณู ุงูุฑุณุงุฆู.  ุจุนุฏ ุงุณุชุฏุนุงุก ุฃู ุทุฑููุฉ ูุญุทุฉ ุ ููุชูู ุงูุฎูุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Stream&lt;String&gt; stream = Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)); stream.anyMatch(s -&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ok stream.noneMatch(s -&gt; true); // exception</span></span></code> </pre><br>  ุงุณุชุฏุนุงุก <code>noneMatch</code> ุจุนุฏ <code>anyMatch</code> ูู ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ููุชุฌ ุงูุงุณุชุซูุงุก ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">java.lang.IllegalStateException: stream has already been operated upon or closed at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:<span class="hljs-number"><span class="hljs-number">229</span></span>) at java.util.stream.ReferencePipeline.noneMatch(ReferencePipeline.java:<span class="hljs-number"><span class="hljs-number">459</span></span>) at com.winterbe.java8.Streams5.test7(Streams5.java:<span class="hljs-number"><span class="hljs-number">38</span></span>) at com.winterbe.java8.Streams5.main(Streams5.java:<span class="hljs-number"><span class="hljs-number">28</span></span>)</code> </pre><br>  ููุชุบูุจ ุนูู ูุฐุง ุงูููุฏ ุ ูุฌุจ ุฅูุดุงุก ุณูุณูุฉ ุฑุณุงุฆู ุฌุฏูุฏุฉ ููู ุทุฑููุฉ ุทุฑููุฉ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅูุดุงุก <i>ููุฑุฏ</i> ูููุดุฆ ุชุฑุงุจุท ุฌุฏูุฏ ุณูุชู ููู ุชุซุจูุช ูุงูุฉ ุงูุทุฑู ุงููุณูุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; Stream.of(<span class="hljs-string"><span class="hljs-string">"d2"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"b3"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>) .filter(s -&gt; s.startsWith(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)); streamSupplier.get().anyMatch(s -&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ok streamSupplier.get().noneMatch(s -&gt; true); // ok</span></span></code> </pre><br>  ูู ููุงููุฉ ุฅูู ุฃุณููุจ <code>get</code> ุชูุดุฆ ุฎูุทูุง ุฌุฏูุฏูุง ููููู ูู ุฎูุงูู ุงูุงุชุตุงู ุจุฃูุงู ุจุงูุทุฑููุฉ ุงูููุงุฆูุฉ ุงููุทููุจุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุทุฑู ูุชูุฏูุฉ </h3><br>  ุชุฏุนู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุทุฑู ุงููุฎุชููุฉ.  ููุฏ ุชุนุฑููุง ุจุงููุนู ุนูู ุฃูู ุงูุทุฑู.  ููุชุนุฑู ุนูู ุงูุจููุฉ ุ ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซุงุฆู</a> .  ูุงูุขู ููููู ุงูุบูุต ุฃูุซุฑ ูู ุฃุณุงููุจ ุฃูุซุฑ ุชุนููุฏูุง: <code>flatMap</code> ุ <code>flatMap</code> <code>reduce</code> . <br><br>  ุชุดูุฑ ูุนุธู ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ูุฐุง ุงููุณู ุฅูู ููุชุทู ุงูุดูุฑุฉ ุงูุชุงูู ูุฅุธูุงุฑ ุงูุนูููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ String name; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> age; Person(String name, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> age) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.age = age; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } } List&lt;Person&gt; persons = Arrays.asList( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Max"</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Pamela"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"David"</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>));</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุงุฌูุน </h4><br>  <code>Collect</code> ุทุฑููุฉ ุทุฑููุฉ ูููุฏุฉ ููุบุงูุฉ ุ ูุชู ุงุณุชุฎุฏุงููุง ูุชุญููู ุนูุงุตุฑ ุงูุฏูู ุฅูู ููุน ูุฎุชูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุงุฆูุฉ ุฃู ูุฌููุนุฉ ุฃู ุฎุฑูุทุฉ. <br><br>  ููุจู <code>Collector</code> ุฃุฏุงุฉ <code>Collect</code> ุชุญุชูู ุนูู ุฃุฑุจุน ุทุฑู ูุฎุชููุฉ: ููุฑุฏ.  ุชุฑุงูู ุ ุงูููุญุฏ ุ ุงูุชุดุทูุจ.  ูููููุฉ ุงูุฃููู ุ ูุจุฏู ูุฐุง ุงูุฃูุฑ ูุนูุฏูุง ููุบุงูุฉ ุ ูููู Java 8 ูุฏุนู ูุฎุชูู ุฃุฏูุงุช ุงูุชุฌููุน ุงููุฏูุฌุฉ ูู ุฎูุงู ูุฆุฉ <code>Collectors</code> ุ ุญูุซ ูุชู ุชุทุจูู ุงูุฃุณุงููุจ ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง. <br><br>  ุญุงูุฉ ุดุนุจูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;Person&gt; filtered = persons .stream() .filter(p -&gt; p.name.startsWith(<span class="hljs-string"><span class="hljs-string">"P"</span></span>)) .collect(Collectors.toList()); System.out.println(filtered); <span class="hljs-comment"><span class="hljs-comment">// [Peter, Pamela]</span></span></code> </pre> <br>  ููุง ุชุฑูู ุ ูุฅู ุฅูุดุงุก ูุงุฆูุฉ ูู ุนูุงุตุฑ ุงูุจุซ ุฃูุฑ ุจุณูุท ููุบุงูุฉ.  ูุง ุชุญุชุงุฌ ุฅูู ูุงุฆูุฉ ูููู ุงููุซูุฑุ  ุงุณุชุฎุฏู <code>Collectors.toSet()</code> . <br><br>  ูู ุงููุซุงู ุงูุชุงูู ุ ูุชู ุชุฌููุน ุงูุฃุดุฎุงุต ุญุณุจ ุงูุนูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Map&lt;Integer, List&lt;Person&gt;&gt; personsByAge = persons .stream() .collect(Collectors.groupingBy(p -&gt; p.age)); personsByAge .forEach((age, p) -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"age %s: %s\n"</span></span>, age, p)); <span class="hljs-comment"><span class="hljs-comment">// age 18: [Max] // age 23: [Peter, Pamela] // age 12: [David]</span></span></code> </pre><br>  ุฌุงูุนู ูุชููุนุฉ ุจุดูู ูุง ูุตุฏู.  ููููู ุฃูุถูุง ุชุฌููุน ุนูุงุตุฑ ุงููุฌููุนุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุญุฏูุฏ ูุชูุณุท โโุงูุนูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Double averageAge = persons .stream() .collect(Collectors.averagingInt(p -&gt; p.age)); System.out.println(averageAge); <span class="hljs-comment"><span class="hljs-comment">// 19.0</span></span></code> </pre><br>  ููุญุตูู ุนูู ุฅุญุตุงุกุงุช ุฃูุซุฑ ุดูููุงู ุ ูุณุชุฎุฏู ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนุฉ ุชููู ุจุฅุฑุฌุงุน ูุงุฆู ุฎุงุต ุจูุนูููุงุช: ุงูุญุฏ ุงูุฃุฏูู ูุงูุญุฏ ุงูุฃูุตู ูุงููุชูุณุท โโููููู ุ ููุฌููุน ุงูููู ูุนุฏุฏ ุงูุนูุงุตุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">IntSummaryStatistics ageSummary = persons .stream() .collect(Collectors.summarizingInt(p -&gt; p.age)); System.out.println(ageSummary); <span class="hljs-comment"><span class="hljs-comment">// IntSummaryStatistics{count=4, sum=76, min=12, average=19.000000, max=23}</span></span></code> </pre><br>  ุงููุซุงู ุงูุชุงูู ูุฌูุน ุจูู ุฌููุน ุงูุฃุณูุงุก ูู ุณุทุฑ ูุงุญุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">String phrase = persons .stream() .filter(p -&gt; p.age &gt;= <span class="hljs-number"><span class="hljs-number">18</span></span>) .map(p -&gt; p.name) .collect(Collectors.joining(<span class="hljs-string"><span class="hljs-string">" and "</span></span>, <span class="hljs-string"><span class="hljs-string">"In Germany "</span></span>, <span class="hljs-string"><span class="hljs-string">" are of legal age."</span></span>)); System.out.println(phrase); <span class="hljs-comment"><span class="hljs-comment">// In Germany Max and Peter and Pamela are of legal age.</span></span></code> </pre><br>  ููุจู ุฌุงูุน ุงูุงุชุตุงู ูุงุตููุง ุ ููุฐูู ุจุงุฏุฆุฉ ููุงุญูุฉ ุงุฎุชูุงุฑูุฉ. <br><br>  ูุชุญููู ุนูุงุตุฑ ุฏูู ุฅูู ุนุฑุถ ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ููููุฉ ุนุฑุถ ุงูููุงุชูุญ ูุงูููู.  ุชุฐูุฑ ุฃู ุงูููุงุชูุญ ูู ุงูุชุนููู ูุฌุจ ุฃู ุชููู ูุฑูุฏุฉ.  ุฎูุงู ุฐูู ุ ูุญุตู ุนูู <code>IllegalStateException</code> .  ููููู ุฅุถุงูุฉ ูุธููุฉ ุฏูุฌ ุงุฎุชูุงุฑููุง ูุชุฌุงูุฒ ุงูุงุณุชุซูุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Map&lt;Integer, String&gt; map = persons .stream() .collect(Collectors.toMap( p -&gt; p.age, p -&gt; p.name, (name1, name2) -&gt; name1 + <span class="hljs-string"><span class="hljs-string">";"</span></span> + name2)); System.out.println(map); <span class="hljs-comment"><span class="hljs-comment">// {18=Max, 23=Peter;Pamela, 12=David}</span></span></code> </pre><br>  ูุฐูู ุ ุชุนุฑููุง ุนูู ุจุนุถ ุฃููู ุงููุฌูุนูู ุงููุฏูุฌูู.  ุฏุนููุง ูุญุงูู ุจูุงุก ุงูุฎุงุตุฉ ุจู.  ูุฑูุฏ ุชุญููู ุฌููุน ุนูุงุตุฑ ุงูุฏูู ุฅูู ุณุทุฑ ูุงุญุฏ ุ ูุชููู ูู ุฃุณูุงุก ูุจูุฑุฉ ููุตููุฉ ุจุดุฑูุท ุนููุฏู |.  ููููุงู ุจุฐูู ุ ูู ุจุฅูุดุงุก ุฃุฏุงุฉ ุชุฌููุน ุฌุฏูุฏุฉ ุจุงุณุชุฎุฏุงู <code>Collector.of()</code> .  ูุญุชุงุฌ ุฅูู ุงูููููุงุช ุงูุฃุฑุจุนุฉ ููุฌูุนูุง: ุงูููุฑุฏ ุ ุงูุจุทุงุฑูุฉ ุ ุงูููุตู ุ ูุญุฏุฉ ุงูุชุดุทูุจ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Collector&lt;Person, StringJoiner, String&gt; personNameCollector = Collector.of( () -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringJoiner(<span class="hljs-string"><span class="hljs-string">" | "</span></span>), <span class="hljs-comment"><span class="hljs-comment">// supplier (j, p) -&gt; j.add(p.name.toUpperCase()), // accumulator (j1, j2) -&gt; j1.merge(j2), // combiner StringJoiner::toString); // finisher String names = persons .stream() .collect(personNameCollector); System.out.println(names); // MAX | PETER | PAMELA | DAVID</span></span></code> </pre> <br>  ูุธุฑูุง ูุฃู ุงูุณูุงุณู ูู Java ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ ุ ููุญู ูุญุชุงุฌ ุฅูู ูุฆุฉ ูุณุงุนุฏุฉ ูุซู <code>StringJoiner</code> ุชุชูุญ <code>StringJoiner</code> ุฅูุดุงุก ุณูุณูุฉ ูู ุฃุฌููุง.  ูู ุงูุฎุทูุฉ ุงูุฃููู ุ ูููู ุงููููุฑ ุจุฅูุดุงุก <code>StringJoiner</code> ุจุงุณุชุฎุฏุงู ูุญุฏุฏ.  ูุชู ุงุณุชุฎุฏุงู ุงูุจุทุงุฑูุฉ ูุฅุถุงูุฉ ูู ุงุณู ุฅูู <code>StringJoiner</code> . <br><br>  ูุนุฑู ุงูููุตู ููููุฉ ุชูุตูู ุฌูุงุฒู <code>StringJoiner</code> ุจูุงุญุฏ.  ููู ุงูููุงูุฉ ุ ูุจูู ุฌูุงุฒ ุงูุชุดุทูุจ ุงูุณูุณูุฉ ุงููุทููุจุฉ ูู <code>StringJoiner</code> s. <br><br><h4 style=";text-align:right;direction:rtl">  Flatmap </h4><br>  ูุฐูู ุ ุชุนูููุง ููููุฉ ุชุญููู ูุงุฆูุงุช ุงูุฏูู ุฅูู ุฃููุงุน ุฃุฎุฑู ูู ุงููุงุฆูุงุช ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <code>map</code> .  <code>Map</code> ุนุจุงุฑุฉ ุนู ููุน ูู ุงูุทุฑููุฉ ุงููุญุฏูุฏุฉ ุ ุญูุซ ูููู ุชุนููู ูู ูุงุฆู ุฅูู ูุงุฆู ุขุฎุฑ ูุงุญุฏ ููุท.  ูููู ูุงุฐุง ูู ููุช ุชุฑูุฏ ุชุนููู ูุงุฆู ูุงุญุฏ ููุซูุฑ ูู ุงูุฃุดูุงุก ุงูุฃุฎุฑู ุ ุฃู ุนุฏู ุนุฑุถู ุนูู ุงูุฅุทูุงูุ  ูุฐุง ูู ุงูููุงู ุงูุฐู ูุณุงุนุฏ ุทุฑููุฉ <code>flatMap</code> .  <code>FlatMap</code> ูุญูู ูู ูุงุฆู ุฏูู ุฅูู ุฏูู ูู ุงููุงุฆูุงุช ุงูุฃุฎุฑู.  ุซู ูุชู ุญุฒู ูุญุชููุงุช ูุฐู ุงูููุงุถูุน ูู ุงูุฏูู <code>flatMap</code> ูุทุฑููุฉ <code>flatMap</code> . <br><br>  ูู ุฃุฌู ุฅููุงุก ูุธุฑุฉ ุนูู <code>flatMap</code> ุ ุฏุนููุง ูุจูู ุชุฏุฑุฌูุง ูุฑูููุง ููุงุณุจูุง ููููุน ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ String name; List&lt;Bar&gt; bars = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); Foo(String name) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-class"> </span></span>{ String name; Bar(String name) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } }</code> </pre><br>  ูููู ุจุฅูุดุงุก ุจุนุถ ุงููุงุฆูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;Foo&gt; foos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">// create foos IntStream .range(1, 4) .forEach(i -&gt; foos.add(new Foo("Foo" + i))); // create bars foos.forEach(f -&gt; IntStream .range(1, 4) .forEach(i -&gt; f.bars.add(new Bar("Bar" + i + " &lt;- " + f.name))));</span></span></code> </pre><br>  ุงูุขู ูุฏููุง ูุงุฆูุฉ ูู ุซูุงุซุฉ <i>ูู</i> ุ ูู ูููุง ูุญุชูู ุนูู ุซูุงุซุฉ <i>ุฃุดุฑุทุฉ</i> . <br><br>  ููุจู <code>FlatMap</code> ูุธููุฉ ูุฌุจ ุฃู ุชุฑุฌุน ุฏูููุง ูู ุงููุงุฆูุงุช.  ูุจุงูุชุงูู ุ ูู ุฃุฌู ุงููุตูู ุฅูู ูุงุฆูุงุช <i>ุดุฑูุท</i> ูู <i>ูู</i> ุ ูุญุชุงุฌ ููุท ุฅูู ุงูุนุซูุฑ ุนูู ุงููุธููุฉ ุงูููุงุณุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">foos.stream() .flatMap(f -&gt; f.bars.stream()) .forEach(b -&gt; System.out.println(b.name)); <span class="hljs-comment"><span class="hljs-comment">// Bar1 &lt;- Foo1 // Bar2 &lt;- Foo1 // Bar3 &lt;- Foo1 // Bar1 &lt;- Foo2 // Bar2 &lt;- Foo2 // Bar3 &lt;- Foo2 // Bar1 &lt;- Foo3 // Bar2 &lt;- Foo3 // Bar3 &lt;- Foo3</span></span></code> </pre><br>  ูุฐูู ุ ูุฌุญูุง ูู ุชุญููู ุฏูู ูู ุซูุงุซุฉ ูุงุฆูุงุช <i>foo</i> ุฅูู ุฏูู ูููู ูู 9 ูุงุฆูุงุช ุดุฑูุทูุฉ. <br><br>  ุฃุฎูุฑูุง ุ ูููู ุชุฎููุถ ูู ุงูุดูุฑุฉ ุฃุนูุงู ุฅูู ุฎุท ุฃูุงุจูุจ ุจุณูุท ูู ุงูุนูููุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .mapToObj(i -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Foo(<span class="hljs-string"><span class="hljs-string">"Foo"</span></span> + i)) .peek(f -&gt; IntStream.range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) .mapToObj(i -&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bar(<span class="hljs-string"><span class="hljs-string">"Bar"</span></span> + i + <span class="hljs-string"><span class="hljs-string">" &lt;- "</span></span> f.name)) .forEach(f.bars::add)) .flatMap(f -&gt; f.bars.stream()) .forEach(b -&gt; System.out.println(b.name));</code> </pre><br>  <code>FlatMap</code> ูุชุงุญ ุฃูุถูุง ูู ุงููุฆุฉ <code>Optional</code> ุงูููุฏูุฉ ูู Java 8. ุชููู <code>FlatMap</code> ูู ุงููุตู <code>Optional</code> ุจุฅุฑุฌุงุน ูุงุฆู ุงุฎุชูุงุฑู ููุฆุฉ ุฃุฎุฑู.  ูููู ุงุณุชุฎุฏุงู ูุฐุง ูุชุฌูุจ ูุฌููุนุฉ ูู ุงูุดููุงุช <code>null</code> . <br><br>  ุชุฎูู ุจููุฉ ูุฑููุฉ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Outer</span></span></span><span class="hljs-class"> </span></span>{ Nested nested; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span></span>{ Inner inner; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Inner</span></span></span><span class="hljs-class"> </span></span>{ String foo; }</code> </pre><br>  ููุญุตูู ุนูู ุงูุณูุณูุฉ ุงููุชุฏุงุฎูุฉ <i>foo</i> ูู ูุงุฆู ุฎุงุฑุฌู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช <code>null</code> ูุชุนุฏุฏุฉ ูุชุฌูุจ <code>NullPointException</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Outer outer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Outer(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (outer != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; outer.nested != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; outer.nested.inner != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { System.out.println(outer.nested.inner.foo); }</code> </pre><br>  ูููู ุชุญููู ููุณ ุงูุดูุก ุจุงุณุชุฎุฏุงู flatMap ูููุฆุฉ ุงูุงุฎุชูุงุฑูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Optional.of(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Outer()) .flatMap(o -&gt; Optional.ofNullable(o.nested)) .flatMap(n -&gt; Optional.ofNullable(n.inner)) .flatMap(i -&gt; Optional.ofNullable(i.foo)) .ifPresent(System.out::println);</code> </pre><br>  ุชูุฑุฌุน ูู ููุงููุฉ ุฅูู <code>flatMap</code> <code>Optional</code> ูููุงุฆู ุงููุทููุจ ุ ุฅุฐุง ูุงู ููุฌูุฏูุง ุ ุฃู <code>null</code> ุฅุฐุง ูุงู ุงููุงุฆู ููููุฏูุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุฎูุถ </h4><br>  ุชุฌูุน ุนูููุฉ ุงูุชุจุณูุท ุจูู ุฌููุน ุนูุงุตุฑ ุงูุฏูู ูู ูุชูุฌุฉ ูุงุญุฏุฉ.  ูุฏุนู Java 8 ุซูุงุซุฉ ุฃููุงุน ูุฎุชููุฉ ูู ุฃุณุงููุจ ุงูุชูููู. <br><br>  ุงูุฃูู ูููู ูู ุชุฏูู ุงูุนูุงุตุฑ ุฅูู ุนูุตุฑ ุชุฏูู ูุงุญุฏ.  ูุณุชุฎุฏู ูุฐู ุงูุทุฑููุฉ ูุชุญุฏูุฏ ุงูุนูุตุฑ ุฐู ุงูุนูุฑ ุงูุฃูุจุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">persons .stream() .reduce((p1, p2) -&gt; p1.age &gt; p2.age ? p1 : p2) .ifPresent(System.out::println); <span class="hljs-comment"><span class="hljs-comment">// Pamela</span></span></code> </pre> <br>  ุชุฃุฎุฐ ุทุฑููุฉ ุงูุงุฎุชุฒุงู ูุธููุฉ ุชุฌููุน ูุน <i>ุนุงูู ุซูุงุฆู</i> (BinaryOperator).  <code>reduce</code> ููุง ูู <i>ุฏุงูุฉ ุซูุงุฆูุฉ</i> (BiFunction) ุ ุญูุซ ุชูุชูู ููุชุง ุงููุณูุทุชูู ุฅูู ููุณ ุงูููุน.  ูู ุญุงูุชูุง ุ ูููุน <i>ุงูุดุฎุต</i> .  ุงููุธููุฉ ุงูุซูุงุฆูุฉ ูู ููุณูุง ุชูุฑูุจุง <code></code> ุ ููููุง ุชุฃุฎุฐ ุญุฌุฉ ุงุซููู.  ูู ูุซุงููุง ุ ุชูุงุฑู ุงููุธููุฉ ุนูุฑ ุดุฎุตูู ูุชุนูุฏ ุนูุตุฑูุง ูู ุนูุฑ ุฃูุจุฑ. <br><br>  ูุฃุฎุฐ ุงูุดูู ุงูุชุงูู ูู ุทุฑููุฉ ุงูุชุตุบูุฑ ูููุฉ ุฃูููุฉ ูุจุทุงุฑูุฉ ูุน ูุดุบู ุซูุงุฆู.  ูููู ุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ูุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ.  ูุฏููุง - <i>ุดุฎุต</i> ูุญูู ุงุณููุง ูุนูุฑูุง ุ ููุชุฃูู ูู ุฅุถุงูุฉ ุฌููุน ุงูุฃุณูุงุก ููุฌููุน ุงูุณููุงุช ุงูุชู ุนุงุดูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Person result = persons .stream() .reduce(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), (p1, p2) -&gt; { p1.age += p2.age; p1.name += p2.name; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p1; }); System.out.format(<span class="hljs-string"><span class="hljs-string">"name=%s; age=%s"</span></span>, result.name, result.age); <span class="hljs-comment"><span class="hljs-comment">// name=MaxPeterPamelaDavid; age=76</span></span></code> </pre><br>  ุชุฃุฎุฐ ุทุฑููุฉ ุงูุงุฎุชุฒุงู ุงูุซุงูุซุฉ ุซูุงุซุฉ ูุนููุงุช: ุงููููุฉ ุงูุฃูููุฉ ุ ูุงููุฑุงูู ุฐุงุช ุงููุธููุฉ ุงูุซูุงุฆูุฉ ุ ููุธููุฉ ุงูุฏูุฌ ูุซู ุงููุดุบู ุงูุซูุงุฆู.  ูุธุฑูุง ูุฃู ุงููููุฉ ุงูุฃูููุฉ ููููุน ูุง ุชูุชุตุฑ ุนูู ุงูููุน ุดุฎุต ุ ูููููู ุงุณุชุฎุฏุงู ุงูุงุฎุชุตุงุฑ ูุชุญุฏูุฏ ุฅุฌูุงูู ุณููุงุช ุงูุนูุฑ ููู ุดุฎุต: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Integer ageSum = persons .stream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; sum += p.age, (sum1, sum2) -&gt; sum1 + sum2); System.out.println(ageSum); <span class="hljs-comment"><span class="hljs-comment">// 76</span></span></code> </pre><br>  ููุง ุชุฑูู ุ ุญุตููุง ุนูู ุงููุชูุฌุฉ 76 ุ ูููู ูุงุฐุง ูุญุฏุซ ุจุงููุนู ุชุญุช ุงูุบุทุงุกุ <br><br>  ูููู ุจุชูุณูุน ุฌุฒุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฃุนูุงู ูุน ุฅุฎุฑุงุฌ ุงููุต ูุชุตุญูุญ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Integer ageSum = persons .stream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"accumulator: sum=%s; person=%s\n"</span></span>, sum, p); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum += p.age; }, (sum1, sum2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"combiner: sum1=%s; sum2=%s\n"</span></span>, sum1, sum2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum1 + sum2; }); <span class="hljs-comment"><span class="hljs-comment">// accumulator: sum=0; person=Max // accumulator: sum=18; person=Peter // accumulator: sum=41; person=Pamela // accumulator: sum=64; person=David</span></span></code> </pre><br>  ููุง ุชุฑูู ุ ูุฅู ูุธููุฉ ุงูุชุฌููุน ุชุคุฏู ูู ุงูุนูู.  ูุชู ุงุณุชุฏุนุงุคู ุฃููุงู ุจูููุฉ 0 ูุจุฏุฆูุฉ ูุฃูู ุดุฎุต Max.  ูู ุงูุฎุทูุงุช ุงูุซูุงุซ ุงูุชุงููุฉ ุ ูุฒุฏุงุฏ ุงููุฌููุน ุจุงุณุชูุฑุงุฑ ุญุณุจ ุนูุฑ ุงูุดุฎุต ูู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ุญุชู ูุจูุบ ุณู 76 ุนุงููุง. <br><br>  ุฅุฐู ูุงุฐุง ุจุนุฏุ  ูู ุงูููุญุฏ ูู ูุณูู ุฃุจุฏุงุ  ุงููุธุฑ ูู ุงูุชูููุฐ ุงูููุงุฒู ููุฐุง ุงูููุถูุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Integer ageSum = persons .parallelStream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"accumulator: sum=%s; person=%s\n"</span></span>, sum, p); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum += p.age; }, (sum1, sum2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"combiner: sum1=%s; sum2=%s\n"</span></span>, sum1, sum2); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum1 + sum2; }); <span class="hljs-comment"><span class="hljs-comment">// accumulator: sum=0; person=Pamela // accumulator: sum=0; person=David // accumulator: sum=0; person=Max // accumulator: sum=0; person=Peter // combiner: sum1=18; sum2=23 // combiner: sum1=23; sum2=12 // combiner: sum1=41; sum2=35</span></span></code> </pre><br>  ูุน ุงูุชูููุฐ ุงููุชูุงุฒู ุ ูุญุตู ุนูู ุฅุฎุฑุงุฌ ูุญุฏุฉ ุชุญูู ูุฎุชููุฉ ุชูุงููุง.  ุงูุขู ูุชู ุงุณุชุฏุนุงุก ุงูููุญุฏ ุญููุง.    ,     ,  -. <br><br>         . <br><br><h3 style=";text-align:right;direction:rtl">   </h3><br>              .     <code>ForkJoinPool</code>      <code>ForkJoinPool.commonPool()</code> .       5   โ         . <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">ForkJoinPool commonPool = ForkJoinPool.commonPool(); System.out.println(commonPool.getParallelism()); <span class="hljs-comment"><span class="hljs-comment">// 3</span></span></code> </pre><br>             3 .           JVM: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">-Djava.util.concurrent.ForkJoinPool.common.parallelism=5</code> </pre> <br>    <code>parallelStream()</code>     .      <code>parallel()</code>      . <br><br>       ,         (thread)  <code>System.out</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"c2"</span></span>, <span class="hljs-string"><span class="hljs-string">"c1"</span></span>) .parallelStream() .filter(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"filter: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }) .map(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"map: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .forEach(s -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"forEach: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()));</code> </pre><br>         ,   (thread)       (stream): <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">filter: b1 [main] filter: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] map: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] filter: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] map: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] filter: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] forEach: C2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: A2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] map: b1 [main] forEach: B1 [main] filter: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] map: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: A1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: C1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre><br>  ,          (threads)  <code>ForkJoinPool</code> .    ,          (thread). <br><br>      <code>sort</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">Arrays.asList(<span class="hljs-string"><span class="hljs-string">"a1"</span></span>, <span class="hljs-string"><span class="hljs-string">"a2"</span></span>, <span class="hljs-string"><span class="hljs-string">"b1"</span></span>, <span class="hljs-string"><span class="hljs-string">"c2"</span></span>, <span class="hljs-string"><span class="hljs-string">"c1"</span></span>) .parallelStream() .filter(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"filter: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }) .map(s -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"map: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s.toUpperCase(); }) .sorted((s1, s2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"sort: %s &lt;&gt; %s [%s]\n"</span></span>, s1, s2, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> s1.compareTo(s2); }) .forEach(s -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"forEach: %s [%s]\n"</span></span>, s, Thread.currentThread().getName()));</code> </pre><br>       : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">filter: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] filter: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: c1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] filter: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] map: a2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] filter: b1 [main] map: b1 [main] filter: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: a1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] map: c2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] sort: A2 &lt;&gt; A1 [main] sort: B1 &lt;&gt; A2 [main] sort: C2 &lt;&gt; B1 [main] sort: C1 &lt;&gt; C2 [main] sort: C1 &lt;&gt; B1 [main] sort: C1 &lt;&gt; C2 [main] forEach: A1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] forEach: C2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] forEach: B1 [main] forEach: A2 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] forEach: C1 [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br> ,  <code>sort</code>       <i>main</i> .           <code>sort</code>  Stream API     <code>Arrays</code> ,   Java 8, โ <code>Arrays.parallelSort()</code> .    ,        ,   โ      : <br><blockquote style=";text-align:right;direction:rtl">       โโ,      Arrays.sort. </blockquote>      <code>reduce</code>   .   ,          . ,   : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">List&lt;Person&gt; persons = Arrays.asList( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Max"</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Peter"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Pamela"</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"David"</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>)); persons .parallelStream() .reduce(<span class="hljs-number"><span class="hljs-number">0</span></span>, (sum, p) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"accumulator: sum=%s; person=%s [%s]\n"</span></span>, sum, p, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum += p.age; }, (sum1, sum2) -&gt; { System.out.format(<span class="hljs-string"><span class="hljs-string">"combiner: sum1=%s; sum2=%s [%s]\n"</span></span>, sum1, sum2, Thread.currentThread().getName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum1 + sum2; });</code> </pre><br>   ,   :   ,  ,    : <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=Pamela; [main] accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=Max; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">3</span></span>] accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=David; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] accumulator: sum=<span class="hljs-number"><span class="hljs-number">0</span></span>; person=Peter; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] combiner: sum1=<span class="hljs-number"><span class="hljs-number">18</span></span>; sum2=<span class="hljs-number"><span class="hljs-number">23</span></span>; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">1</span></span>] combiner: sum1=<span class="hljs-number"><span class="hljs-number">23</span></span>; sum2=<span class="hljs-number"><span class="hljs-number">12</span></span>; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>] combiner: sum1=<span class="hljs-number"><span class="hljs-number">41</span></span>; sum2=<span class="hljs-number"><span class="hljs-number">35</span></span>; [ForkJoinPool.commonPool-worker-<span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre><br>  ,               .   ,          ( ),      . <br><br>  ,         <code>ForkJoinPool</code> ,     JVM.              ,     (threads),      . <br><br><h3 style=";text-align:right;direction:rtl">    </h3><br>       Java 8 .           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> .         ,     ,         (Martin Fowler) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Collection Pipelines</a> . <br><br>      JavaScript,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Stream.js</a> โ JavaScript  Java 8 Streams API. ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Java 8 Tutorial</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>  )  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Java 8 Nashorn Tutorial</a> . <br><br> ,        ,      .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  GitHub</a> .   ,    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar437038/">https://habr.com/ru/post/ar437038/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar437026/index.html">ูุฑุถุช ุดุฑูุฉ Google ูู ูุฑูุณุง ุบุฑุงูุฉ ูุฏุฑูุง 50 ููููู ููุฑู ุนูู ุฅุฌูุงูู ุงููุงุชุฌ ุงููุญูู ุจุณุจุจ ุณูุก ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</a></li>
<li><a href="../ar437030/index.html">ุฃุชูุชุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ูููุชุจ ูุงุฎุฑ ูุงุญุฏ: ููู ูุจุฏู</a></li>
<li><a href="../ar437032/index.html">ุชุนูููุงุช ุชุซุจูุช NGINX ModSecurity</a></li>
<li><a href="../ar437034/index.html">ุตูุงุฑุงุช ุนุงูููุฉ: Snom A230 ู A210 USB Dongle Review</a></li>
<li><a href="../ar437036/index.html">SAPUI5 ููุฏูู ุงูุฌุฒุก 2: ุชูุฑูู ุฎุทูุฉ ุจุฎุทูุฉ ูุงููุฉ</a></li>
<li><a href="../ar437040/index.html">ูู ุฑูุณูุง ุ ุจุฏุฃ ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ ุงูุนุตุจูุฉ ุงููุญููุฉ "Neurochat"</a></li>
<li><a href="../ar437044/index.html">ููู ุชูุฒู ุงูุชููู: ุฃุนุฏ ูุชุงุจุฉ ุจุฑูุงูุฌู ุนูู Golang</a></li>
<li><a href="../ar437050/index.html">ูุชุงุจ "ุจูุซูู. ุงูุณุจุฑุณ ุจุงูุทุจุน. 3rd ed.</a></li>
<li><a href="../ar437052/index.html">ูุง ุชููุช ูุฑุตุฉ ุงูุชุนูู: ูู ูุญุชุงุฌ ุฃุฎุตุงุฆู ุชูููููุฌูุง ูุนูููุงุช ูู ุงูุฌุงูุนุฉ</a></li>
<li><a href="../ar437054/index.html">ูุนุงูุฌุงุช Intel ุงูุฌุฏูุฏุฉ ูู ุงูุฌูู ุงูุชุงุณุน: Core ูุงูุต GPU</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>