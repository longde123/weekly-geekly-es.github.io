<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôç üë©üèΩ‚Äçüè≠ üö¶ Fazendo um modem de sonar simples üè§ ‚õ™Ô∏è üëâüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° querida! 
 Neste artigo, pela demanda popular, mostraremos como fazer um modem hidroac√∫stico simples: um pouco de processamento de sinal digital, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fazendo um modem de sonar simples</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451800/"><h3>  Ol√° querida! </h3><br>  Neste artigo, pela demanda popular, mostraremos como fazer um modem hidroac√∫stico simples: um pouco de processamento de sinal digital, um pouco de programa√ß√£o, um pouco de placas de circuito impresso caseiras e uma gota de hidrologia pr√°tica. <br><br>  A todos aqueles que est√£o interessados ‚Äã‚Äã- pedimos que seja bem-vindo, ao mundo reverberante da comunica√ß√£o subaqu√°tica! <br><br>  E aqui est√° a imagem relevante, para atrair aten√ß√£o: <br><br><img src="https://habrastorage.org/webt/_8/0u/jz/_80ujzh-1afojo46fevq6egccvg.jpeg"><br><a name="habracut"></a><br><blockquote>  "Em √∫ltima an√°lise, o significado da nossa exist√™ncia √© gastar energia ... E, se poss√≠vel, voc√™ sabe, para que seja interessante para si e para os outros seja √∫til." <br>  (C) ABS, meio-dia, s√©culo XXII </blockquote><h3>  Economize seu tempo - Resumo </h3><br><ul><li>  Modems ac√∫sticos ainda n√£o s√£o vendidos no Aliexpress </li><li>  Existe um m√©todo simples e pouco exigente para a detec√ß√£o de tons de recursos de computa√ß√£o, cuja frequ√™ncia √© 4 vezes menor que a frequ√™ncia de amostragem;  Arduino √© suficiente para implementa√ß√£o </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O exemplo de c√≥digo</a> para PC est√° no GitHub </li><li>  Fabricamos antenas de recep√ß√£o e transmiss√£o de selecionadores de torta de 10 r cada </li><li>  Compramos (ou fazemos sozinhos) uma placa amplificadora no TDA2030 em Ali por 50 rublos </li><li>  Fabricamos um pr√©-amplificador LUT-ohm, com um custo total de ~ 100 rublos </li><li>  N√≥s nos conectamos e vamos para a lagoa </li><li>  Regozijar-se </li></ul><br><h3>  Prel√∫dio Motivacional </h3><br>  Agora voc√™ pode comprar quase tudo no Aliexpress ou eBay.  Especialmente muitas coisas diferentes para a fabrica√ß√£o independente de algo eletr√¥nico baseado no Arduino.  Voc√™ pode criar (se voc√™ simplesmente n√£o comprar isso interessante) uma esta√ß√£o meteorol√≥gica de parada m√∫ltipla com conex√£o √† Internet, um alimentador autom√°tico de gatos, um controlador de cervejaria em casa, mas ainda n√£o pode comprar um modem de sonar, um projetista para sua fabrica√ß√£o ou pelo menos um m√≥dulo para adruino.  Bem e bom!  E n√£o - agora vamos dizer como faz√™-lo e tamb√©m como funciona. <br><br>  Durante muito tempo, todo o laborat√≥rio pensou no que pode ser oferecido aos amantes de fabrica√ß√£o independente.  Algo muito simples, que pode ser coletado por um aluno e de um <s>peda√ßo de pau e uma corda do</s> que todos t√™m em m√£os, mas ao mesmo tempo necessariamente representando pelo menos um valor pr√°tico ou educacional m√≠nimo. <br><br>  Algo que promete uma melhoria longa e emocionante, algo que pode ser transferido posteriormente para o arduino <s>, se estiver errado</s> . <br><br>  Se abordarmos a quest√£o materialmente, gostar√≠amos de oferecer um tutorial detalhado para a fabrica√ß√£o de um dispositivo simples que seria mais ou menos capaz de transmitir dados em um corpo de √°guas rasas (um canal de sonar raso √© o mais complexo), o que significaria a produ√ß√£o m√°xima de uma placa de circuito impresso usando LUT, com um custo total n√£o superior a trezentos rublos em pontos m√≠nimos. <br><br><h3>  O que faremos hoje? </h3><br><ul><li>  lembre-se de como fazer uma antena de sonar adequada e fa√ßa um par; </li><li>  conecte uma das antenas a um PC atrav√©s de um amplificador no TDA por ~ 50 rublos e obtenha um transmissor; </li><li>  no segundo, faremos um pr√©-amplificador usando ~ LUT por ~ 100 rublos; </li><li>  escreveremos <s>(eu j√° escrevi tudo e coloco no Git) um</s> modem simples em C # e tentaremos tudo no corpo d'√°gua mais pr√≥ximo; </li></ul><br><h3>  Do que precisamos para isso? </h3><br><ul><li>  dois elementos piezoel√©tricos.  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de um rel√≥gio ou cart√£o postal</a> ; </li><li>  Cabo RG-174 / U (ou similar) ~ 5 metros; </li><li>  selante ac√©tico; </li><li>  verniz resistente √† √°gua; </li><li>  textolite de folha, um total de aproximadamente 100x200 mm; </li><li>  um amplificador para TDA2030 (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um</a> por 50 rublos); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">componentes de</a> pr√©-amplificador </li></ul><br><h3>  Como isso funciona? </h3><br>  Toda a id√©ia do modem mais simples √© constru√≠da, mais uma vez, no detector mais simples (coincid√™ncia?) De um certo tom, sobre o qual, para minha vergonha, eu n√£o ouvi.  Me contou sobre ele completamente por acaso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">andrey_9999a</a> .  A prop√≥sito, ele tamb√©m fez uma placa de pr√©-amplificador. <br><br>  A esse respeito, lembrei-me de uma cita√ß√£o do livro de Leonard Sasskind "A Batalha do Buraco Negro": <br><blockquote>  ‚ÄúComo conhecedor de vinhos, tenho mais ou menos certeza de que, mesmo com os olhos fechados, consigo distinguir vermelho de branco.  Ainda mais confi√°vel, eu distingo vinho de cerveja.  Mas ent√£o o gosto vai me decepcionar. <br></blockquote>  Posso dizer a mim mesmo que, como engenheiro eletr√¥nico de verdade, tenho mais ou menos certeza de que posso definitivamente soldar dois fios grossos.  Ainda mais confi√°vel, eu distingo um ferro de soldar quente de um frio, mesmo com os olhos fechados, mas a habilidade me decepciona.  Portanto, tudo relacionado ao desenvolvimento e fabrica√ß√£o de placas √© o trabalho dos meus camaradas e colegas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">andrey_9999a</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">StDmitriev</a> . <br><br>  Ent√£o, de volta ao detector.  √â um caso particular simplificado de computa√ß√£o da integral de Fourier: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><msubsup><mi>t</mi><mn>0</mn><mi>T</mi></msubsup><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mi>s</mi><mi>e</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo><mi>d</mi><mi>t</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.875ex" height="3.021ex" viewBox="0 -883.9 10710.2 1300.8" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-69" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6E" x="595" y="0"></use><g transform="translate(1196,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-54" x="511" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-30" x="511" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-66" x="2155" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-28" x="2706" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-78" x="3095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-29" x="3668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-73" x="4057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-65" x="4527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6E" x="4993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-28" x="5594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6F" x="6233" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6D" x="6719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-65" x="7597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-67" x="8064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-61" x="8544" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-74" x="9074" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-29" x="9435" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-64" x="9825" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-74" x="10348" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><msubsup><mi>t</mi><mn>0</mn><mi>T</mi></msubsup><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>s</mi><mi>e</mi><mi>n</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi><mi>t</mi><mo stretchy="false">)</mo><mi>d</mi><mi>t</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ int_0 ^ Tf (x) sen (\ omega t) dt </script></p><br>  No caso de um sinal digital, para calcular a amplitude de uma harm√¥nica arbitr√°ria, ser√° necess√°rio executar uma transformada de Fourier discreta, para Arduina isso √© dif√≠cil, mas o truque √© que se voc√™ tomar <i>Fc</i> como frequ√™ncia portadora, ser√° exatamente 4 vezes menor que a frequ√™ncia de amostragem <i>Fs</i> , ent√£o a amplitude desse harm√¥nico pode ser calculada demonicamente mais f√°cil. <br><br>  Nesse caso, <i>dt = 2œÄ * (Fs / 4) / Fs = œÄ / 2</i> , e apenas 4 amostras caem no per√≠odo da transportadora: <br><br><img src="https://habrastorage.org/webt/__/zm/oe/__zmoe1u0jzgjderykrsaogn0k8.png"><br><br>  Se tudo for deslocado por <i>œÄ / 4,</i> as amostras ter√£o apenas dois valores: ‚àö2 / 2 e -‚àö2 / 2; por simplicidade, deixaremos apenas os sinais - <b>"+" e "-"</b> . <br><br>  A ess√™ncia do m√©todo √© que representamos a fase senoidal como uma sequ√™ncia de sinais <b>"+" "+" "-" "-"</b> e a fase cosseno como <b>"+" "-" "-" "+"</b> . <br><br>  Deixe o sinal de entrada estar no buffer <i>sn</i> , temos dois buffers de m√©dia de anel para as fases seno e cosseno - <i>bs</i> e <i>bc do</i> tamanho <i>N.</i>  Ponteiros para a cabe√ßa e cauda s√£o comuns para eles - <i>bH</i> e <i>bT</i> .  No momento inicial do tempo, <i>bH = N-1, bT = 0</i> .  Contador de ciclo m√©dio <i>C = 0</i> . <br><br>  Tomamos 4 amostras do buffer de entrada e as adicionamos de acordo com as seq√º√™ncias de caracteres. <br><br><div class="spoiler">  <b class="spoiler_title">Exemplo de c√≥digo</b> <div class="spoiler_text"><code>a = sn(i) <br> bs(bH) = a <br> bc(bH) = a <br> s1 = s1 + a - bs(bT) <br> s2 = s2 + a - bc(bT) <br> bH = (bH + 1) % N <br> bT = (bT + 1) % N <br> <br> a = sn(i+1) <br> bs(bH) = a <br> bc(bH) = -a <br> s1 = s1 + a - bs(bT) <br> s2 = s2 - a - bc(bT) <br> bH = (bH + 1) % N <br> bT = (bT + 1) % N <br> <br> a = sn(i+2) <br> bs(bH) = -a <br> bc(bH) = -a <br> s1 = s1 - a - bs(bT) <br> s2 = s2 - a - bc(bT) <br> bH = (bH + 1) % N <br> bT = (bT + 1) % N <br> <br> a = sn(i+3) <br> bs(bH) = -a <br> bc(bH) = a <br> s1 = s1 - a - bs(bT) <br> s2 = s2 + a - bc(bT) <br> bH = (bH + 1) % N <br> bT = (bT + 1) % N</code> <br> </div></div><br>  Ap√≥s cada quatro amostras processadas, verificamos o contador dos ciclos m√©dios e, se excedeu <i>N</i> , calculamos a amplitude da portadora <i>cA</i> : <br><br><pre> <code class="plaintext hljs">if ++cycle &gt;= N cA = sqrt(s1 * s1 + s2 * s2) cycle = 0 end</code> </pre> <br>  √â assim que fica em um sinal ideal: <br><br><img src="https://habrastorage.org/webt/aj/w5/q5/ajw5q5dls4ruoi_gjzdswjay0ko.png"><br><br>  O sinal em si √© mostrado em azul e os valores de amplitude da portadora s√£o mostrados em vermelho (tudo √© reduzido para a faixa -1..1).  Nesse caso, <i>N = 2</i> desde  n√£o h√° barulho e tudo funciona bem de qualquer maneira. <br><br>  Agora adicione um pouco de ru√≠do branco e veja como nosso detector responder√° a isso: <br><br><img src="https://habrastorage.org/webt/ah/ee/0j/ahee0jsjvmnm_cm89jvyroxmrlg.png"><br><br>  Adicionei ru√≠do branco para que a rela√ß√£o sinal-ru√≠do fosse de 0 dB.  Na figura acima, o sinal de ru√≠do √© mostrado em azul, o sinal da fonte em verde e o valor da amplitude em vermelho.  Nesse caso, o detector em <i>N = 2</i> j√° n√£o detectou nada, e o N m√≠nimo no qual ele funciona corretamente √© 32. Ou seja,  o tamanho da janela de processamento nas amostras era <i>32 * 4 = 128</i> amostras. <br><br>  Ou seja, agora podemos analisar o sinal de entrada e avaliar um par√¢metro que quantifica a presen√ßa de uma frequ√™ncia, quatro vezes menor que a frequ√™ncia de amostragem.  Se voc√™ definir um determinado valor limite para esse par√¢metro, tudo poder√° ser binarizado e, falando de uma maneira simples, podemos responder √† pergunta: existe um tom espec√≠fico no sinal de entrada ou n√£o? <br><br>  Isso √© muito bom, mas precisamos transmitir bits, e os bits podem assumir dois valores. <br><br>  Implementar um sistema com dois estados de sinaliza√ß√£o com a ajuda de um √© uma id√©ia mais ou menos, portanto, <i>n√£o</i> codificaremos um dos estados com sil√™ncio (pausa).  Isso tornaria a detec√ß√£o muito dif√≠cil: seria necess√°rio destacar de alguma forma o in√≠cio da premissa, descobrir como organizar seu fim etc. <br><br>  Em vez disso, "1" e "0" codificaremos com pulsos de diferentes comprimentos, entre os bits existe o chamado  intervalo de guarda - porque ainda precisamos lidar com a propaga√ß√£o de caminhos m√∫ltiplos e reverb.  Em termos simples, o intervalo de guarda √© o local (hora) em que todas as reflex√µes do bit anterior, todos os sons posteriores e ecos desaparecem. <br><br>  Olhando para o futuro, levamos em conta que, com essa estrutura de sinal, o algoritmo de opera√ß√£o do receptor √© bastante simplificado: esperamos o tom aparecer, notamos o in√≠cio, esperamos que o tom desapare√ßa e notamos novamente o tempo - se o tempo recebido for mais do que "1", provavelmente levamos um pouco com o valor "1", se parecer mais com "0" - ent√£o aparentemente levamos um pouco com o valor "0". <br><br>  Em geral, podemos dizer que esse √© algum tipo de c√≥digo morse. <br><br><h3>  Parte do software do modem </h3><br>  Para os impacientes - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um exemplo est√° no GitHub</a> .  Foi criado em C # (porque para o PC eu escrevo nele e √© mais conveniente e r√°pido para mim). <br><br>  A maravilhosa biblioteca do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NAudio</a> √© usada para reproduzir e capturar som da entrada do microfone. <br><br>  Toda a l√≥gica do modem est√° na <a href="">classe SUAModem</a> (Modem ac√∫stico subaqu√°tico simples). <br><br>  Os seguintes par√¢metros s√£o passados ‚Äã‚Äãpara o construtor: <br><br>  sRateHz duplo - taxa de amostragem em Hertz; <br>  int wSize - o tamanho da janela de processamento nas amostras; <br>  int oneMultiplier - quantas "janelas" duram um pouco com o valor "1" <br>  int zeroMultiplier - quantas "janelas" duram um pouco com o valor "0" <br>  eThreshold duplo - limiar, vamos falar sobre isso mais tarde <br><br>  Para gerar um sinal a partir de uma matriz de bytes, existe um m√©todo ModulateData (byte [] data)), que retorna uma matriz de amostras assinadas de 16 bits. <br><br><div class="spoiler">  <b class="spoiler_title">public short [] ModulateData (byte [] data)</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">short</span></span></span><span class="hljs-function">[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ModulateData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] data</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> alpha = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> phase = <span class="hljs-number"><span class="hljs-number">0</span></span>; List&lt;<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>&gt; samples = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">short</span></span>&gt;(); BitArray bits = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BitArray(data); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; bits.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sLim = (bits[i]) ? oneDurationSmp : zeroDurationSmp; alpha = <span class="hljs-number"><span class="hljs-number">0</span></span>; phase = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sIdx = <span class="hljs-number"><span class="hljs-number">0</span></span>; sIdx &lt;= sLim; sIdx++) { alpha = Math.Sin(phase); phase += delta; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (phase &gt;= alimit) phase -= alimit; samples.Add(Convert.ToInt16(alpha * <span class="hljs-keyword"><span class="hljs-keyword">short</span></span>.MaxValue)); } samples.AddRange(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span>[defenseIntervalSmp]); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> samples.ToArray(); }</code> </pre><br></div></div><br>  No loop principal por bits transmitidos, a lista de amostras √© preenchida.  Dependendo do bit transmitido atual, o comprimento sLim do sinal gerado nas amostras √© definido.  Um intervalo de guarda √© adicionado ap√≥s cada bit. <br><br><div class="spoiler">  <b class="spoiler_title">Claro ...</b> <div class="spoiler_text">  Muitos podem perceber que, ao gerar um sinal, seria poss√≠vel sem a fun√ß√£o seno, mas este exemplo permite, alterando o valor delta de acordo, alterar a frequ√™ncia do tom gerado. <br><br>  Para gerar um tom com uma frequ√™ncia <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>n</mi></msub></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.713ex" height="2.349ex" viewBox="0 -772.3 1168.1 1011.3" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.555ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6E" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>n</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> F_n </script>  a uma determinada taxa de amostragem <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>s</mi></msub></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.498ex" height="2.349ex" viewBox="0 -772.3 1075.5 1011.3" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.555ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-73" x="910" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> F_s </script>  valor correspondente <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.643ex" height="2.074ex" viewBox="0 -772.3 2429.5 892.8" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.28ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-74" x="1538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-61" x="1900" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ delta </script>  calculado simplesmente: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mo>=</mo><mn>2</mn><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>i</mi><msub><mi>F</mi><mi>n</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><msub><mi>F</mi><mi>s</mi></msub></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.83ex" height="2.762ex" viewBox="0 -831.5 8107.2 1189" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-74" x="1538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-61" x="1900" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-3D" x="2707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-32" x="3763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-70" x="4514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-69" x="5017" y="0"></use><g transform="translate(5363,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-6E" x="910" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMAIN-2F" x="6531" y="0"></use><g transform="translate(7031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/451800/&amp;usg=ALkJrhgZrPhngt1B36z5uC3aux6gG6UBmw#MJMATHI-73" x="910" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mo>=</mo><mn>2</mn><mtext>&nbsp;</mtext><mi>p</mi><mi>i</mi><msub><mi>F</mi><mi>n</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><msub><mi>F</mi><mi>s</mi></msub></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> \ delta = 2 \ pi F_n / F_s </script></p><br></div></div><br>  Para gerar e emitir um sinal, existe o m√©todo TransmitData (byte [] data)), que internamente chama ModulateData: <br><br><div class="spoiler">  <b class="spoiler_title">p√∫blico TransmitData duplo (dados de byte [])</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TransmitData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] data</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> samples = ModulateData(data); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> txTime = ((<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)samples.Length) / SampleRateHz; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rawBytes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[samples.Length * <span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; samples.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bts = BitConverter.GetBytes(samples[i]); rawBytes[i * <span class="hljs-number"><span class="hljs-number">2</span></span>] = bts[<span class="hljs-number"><span class="hljs-number">0</span></span>]; rawBytes[i * <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>] = bts[<span class="hljs-number"><span class="hljs-number">1</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ms = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MemoryStream(rawBytes)) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RawSourceWaveStream(ms, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WaveFormat(Convert.ToInt32(SampleRateHz), <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WaveOutEvent()) { wo.Init(rs); wo.Play(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (wo.PlaybackState == PlaybackState.Playing) { Thread.SpinWait(<span class="hljs-number"><span class="hljs-number">1</span></span>); } } rs.Close(); } ms.Close(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> txTime; }</code> </pre><br></div></div><br>  A classe SUAModem relata a aceita√ß√£o do pr√≥ximo byte usando o evento DataReceivedEventHandler. <br><br>  As amostras de entrada s√£o enviadas para a an√°lise usando o m√©todo ProcessInputSignal (dados curtos []), onde s√£o gravadas no buffer do anel.  A an√°lise ocorre em um thread separado, no m√©todo Receiver. <br><br>  E o pr√≥prio receptor vive no m√©todo Receive: <br><br><div class="spoiler">  <b class="spoiler_title">void privado Receive ()</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Receive</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> a</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (rCnt &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span>) { a = ring[rRPos]; rRPos = (rRPos + <span class="hljs-number"><span class="hljs-number">1</span></span>) % rSize; rCnt--; dRing1[rHead] = a; dRing2[rHead] = a; s1 += a - dRing1[rTail]; s2 += a - dRing2[rTail]; rHead = (rHead + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; rTail = (rTail + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; a = ring[rRPos]; rRPos = (rRPos + <span class="hljs-number"><span class="hljs-number">1</span></span>) % rSize; rCnt--; dRing1[rHead] = a; dRing2[rHead] = -a; s1 += a - dRing1[rTail]; s2 += -a - dRing2[rTail]; rHead = (rHead + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; rTail = (rTail + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; a = ring[rRPos]; rRPos = (rRPos + <span class="hljs-number"><span class="hljs-number">1</span></span>) % rSize; rCnt--; dRing1[rHead] = -a; dRing2[rHead] = -a; s1 += -a - dRing1[rTail]; s2 += -a - dRing2[rTail]; rHead = (rHead + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; rTail = (rTail + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; a = ring[rRPos]; rRPos = (rRPos + <span class="hljs-number"><span class="hljs-number">1</span></span>) % rSize; rCnt--; dRing1[rHead] = -a; dRing2[rHead] = a; s1 += -a - dRing1[rTail]; s2 += a - dRing2[rTail]; rHead = (rHead + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; rTail = (rTail + <span class="hljs-number"><span class="hljs-number">1</span></span>) % windowSize; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (++cycle &gt;= windowSize) { cycle = <span class="hljs-number"><span class="hljs-number">0</span></span>; currentEnergy = Math.Sqrt(s1 * s1 + s2 * s2) / windowSize; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> de = currentEnergy - prevEnergy; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">region</span></span></span><span class="hljs-meta"> analysis </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (skip &gt; 0) skip -= windowSize * 4; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (isRise) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (de &gt; -Threshold) { riseSmp += windowSize * 4; } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> { // analyse symbol isRise = false; double oneDiff = Math.Abs(oneDurationSmp - riseSmp); double zeroDiff = Math.Abs(zeroDurationSmp - riseSmp); </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (oneDiff &gt; zeroDiff) { // Mostly likely "0" AddBit(false); } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> { // Mostly likely "1" AddBit(true); } samplesSinceLastBit = 0; skip = defenseIntervalSmp / 2; } } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (de &gt; Threshold) { isRise = true; riseSmp = windowSize * 4; } } } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endregion</span></span></span><span class="hljs-meta"> prevEnergy = currentEnergy; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (bPos &gt; 0) { samplesSinceLastBit += 4 * windowSize; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (samplesSinceLastBit &gt;= defenseIntervalSmp * 2 + zeroDurationSmp + oneDurationSmp) { DiscardBits(); } } } } }</span></span></code> </pre><br></div></div><br>  Pode ser visto no c√≥digo que a an√°lise √© realizada em 4 amostras. Se desejar, voc√™ pode salvar o estado e processar uma amostra, o que ser√° √∫til ao transferir para algum MK fraco. <br>  √Ä medida que os dados s√£o recebidos, o valor da amplitude s √© calculado na frequ√™ncia sRateHz / 4.  A diferen√ßa entre os valores anteriores e atuais da amplitude √© calculada e depois comparada com um determinado limiar, selecionado experimentalmente.  Um exemplo permite alterar esse limite em tempo real. <br><br>  Um aumento acentuado da amplitude indica o in√≠cio de um "bit", um decl√≠nio acentuado (um pouco menos acentuado devido √† reverbera√ß√£o) indica o final de um "bit". <br><br>  Ap√≥s receber o pr√≥ximo bit, calculamos o intervalo de prote√ß√£o - pulamos o n√∫mero especificado de amostras - h√° todos os tipos de ecos neles, eles apenas interferem conosco. <br><br><h3>  A parte de ferro do modem </h3><br>  Ent√£o, com a estrutura do sinal, tudo est√° claro, como receb√™-lo com muita clareza.  O pequeno √© aprender a irradiar um sinal na √°gua e receb√™-lo da √°gua. <br><br>  Se voc√™ ainda n√£o possui antenas de sonar, √© hora de faz√™-las em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nosso tutorial anterior</a> . <br><br>  Eu fiquei com eles a partir desse momento, ent√£o pulo esta etapa. <br><br>  Conectamos a antena destinada √† transmiss√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na placa do amplificador com aliexpress</a> .  Por v√°rias dezenas de metros (talvez at√© centenas), isso √© suficiente para n√≥s.  N√£o h√° truques aqui - a sa√≠da da placa de som do laptop vai para a entrada do amplificador, que √© alimentado por uma bateria de 12 volts e 4 Ah de √°cido-chumbo.  Nossa antena transmissora hidroac√∫stica de um tweeter piezo est√° conectada √† sa√≠da.  No meu caso, fica assim: <br><br><img src="https://habrastorage.org/webt/za/17/0e/za170ex4xgid-pacrxgcevfkmm8.jpeg"><br><br><img src="https://habrastorage.org/webt/_8/0u/jz/_80ujzh-1afojo46fevq6egccvg.jpeg"><br><br>  Na foto acima, na tela h√° um pequeno spoiler para o pr√≥ximo artigo.  Da pr√≥xima vez nas mesmas gl√¢ndulas, tentaremos novamente transmitir o som do "v√≠deo" atrav√©s da √°gua, mas de uma maneira completamente diferente da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√∫ltima vez</a> . <br><br>  Com uma antena receptora √© um pouco mais complicado.  Embora os tweeters piezo sejam muito sens√≠veis, isso ainda n√£o √© suficiente.  Teremos que montar uma placa de pr√©-amplificador com um filtro na faixa de 5-35 kHz. <br>  O ganho que obtemos √© 1000. <br><br>  O circuito, o design da placa de circuito e a lista de componentes do pr√©-amplificador est√£o no nosso GitHub: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">circuito</a> , faixas - <a href="">camada superior</a> e <a href="">inferior</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BOM</a> . <br><br>  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tecnologia</a> LUT <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">j√°</a> foi discutida centenas de vezes, mas vamos tamb√©m fazer a nossa parte. <br><br><div class="spoiler">  <b class="spoiler_title">Foto do processo</b> <div class="spoiler_text">  Ent√£o, pegamos uma revista adequada, s√≥ t√≠nhamos esta em m√£os: <br><br><img src="https://habrastorage.org/webt/wu/72/zy/wu72zyy3twxj-iovwsbu1oplf0o.jpeg"><br><br>  Pegamos algumas p√°ginas de l√° e imprimimos as camadas usando uma impressora a laser. <br><br><img src="https://habrastorage.org/webt/aq/c8/of/aqc8of9rwkf_jv4df7o6gb4zqt0.jpeg"><br><br>  Combine com agulhas e cola de um lado, como mostra a foto: <br><br><img src="https://habrastorage.org/webt/gr/g5/-l/grg5-lzyj3bpl574on7uycmo7xk.jpeg"><br><br>  Antes de usar o ferro, umedecemos o toner com √°lcool isoprop√≠lico: <br><br><img src="https://habrastorage.org/webt/7k/sp/ru/7ksprumtearv6eixwlfndk9fnoo.jpeg"><br><br>  Passe a folha A4 dobrada quatro vezes: <br><br><img src="https://habrastorage.org/webt/ut/e5/xu/ute5xu86kbik8c542za18_omuna.jpeg"><br><br>  Mergulhe em √°gua morna sob a torneira: <br><br><img src="https://habrastorage.org/webt/rg/lg/98/rglg989tlqi-zotwzq5gwkadbo4.jpeg"><br><br>  E lavamos os restos de papel.  Depois disso, preparamos uma pe√ßa para gravura: <br><br><img src="https://habrastorage.org/webt/dk/lv/jc/dklvjcuntfws7eg27fr4soukldo.jpeg"><br><br>  Cortamos o excesso com a ajuda de uma tesoura para metal ou para quem √© mais conveniente. <br><br>  Envenenamos em cloreto f√©rrico.  Especialmente para o artigo, lan√ßamos uma novidade que acabou sendo t√£o exigente que as bolhas v√™m ativamente do futuro f√≥rum: <br><br><img src="https://habrastorage.org/webt/wc/nq/ri/wcnqrifmzqht9luucn3lt0xf1uc.jpeg"><br><br>  Como resultado, ap√≥s a grava√ß√£o e lavagem do toner, obtemos um produto semi-acabado: <br><br><img src="https://habrastorage.org/webt/vk/de/k7/vkdek7hiqs1p3van-coacl4gkk4.jpeg"><br><br><img src="https://habrastorage.org/webt/ks/x-/hd/ksx-hd6m6qdijzicf1rwgnhwoy4.jpeg"><br><br>  Depois de soldar os componentes e lavar, a placa fica assim. <br><br><img src="https://habrastorage.org/webt/wn/x4/fd/wnx4fd56r1newq2ew6cjr1hmlaa.jpeg"><br></div></div><br>  E parece com a montagem da pe√ßa receptora.  A energia √© fornecida a partir da mesma bateria de 12 volts: <br><br><img src="https://habrastorage.org/webt/mc/03/dj/mc03djslty9veqpq1aqsllzbckq.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Isen√ß√£o de responsabilidade de filtro pequeno</b> <div class="spoiler_text">  Se o leitor quiser mudar a banda, propomos recontar o filtro de 8¬™ ordem montado em um opamp barato de TL084C de 4 canais (DA2 no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">diagrama</a> ), resistores R10-R13, R15-R23 e capacitores C5-C8, C11, C12, C14 e C15 <br><br>  Apenas no caso, aqui est√° a resposta de frequ√™ncia da implementa√ß√£o atual do filtro: <br><br><img src="https://habrastorage.org/webt/bi/pd/dy/bipddyy5zubboog4qimejpdxvjw.png"><br><br>  E aqui est√° outro <a href="">projeto</a> para esse filtro criado no aplicativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Qucs</a> <br></div></div><br><h3>  Experi√™ncias e testes </h3><br>  Para conectar a um laptop, usamos um conector comum de 3,5 mm, a ponta √© um sinal, a do meio n√£o est√° conectada, a terra - <s>poeira em poeira</s> no ch√£o.  Todas as amplifica√ß√µes e todos os efeitos do microfone devem ser desligados e o volume precisar√° ser reproduzido para atingir o n√≠vel ideal.  A cad√™ncia deve ocorrer quando voc√™ toca na antena conectada ao pr√©-amplificador com o dedo e acaricia-o levemente. <br><br>  Se voc√™ simplesmente colocar uma pe√ßa na outra sem um amplificador e pr√©-amplificador e conect√°-las √† entrada e sa√≠da de √°udio, tudo funcionar√° perfeitamente.  Abaixo est√° uma se√ß√£o do sinal e voc√™ pode at√© determinar, a olho nu, onde est√£o os valores dos bits: <br><br><img src="https://habrastorage.org/webt/ft/ny/jm/ftnyjmiapa0uoyeuyhjo2ztaeji.png"><br><br>  O sinal em si √© mostrado em azul, a diferen√ßa entre os valores atuais e anteriores da amplitude (frente) em vermelho e a diferen√ßa entre os valores anteriores e atuais (decl√≠nio) em verde.  Voc√™ pode facilmente "desmodular" esta parte da premissa: 1 0 0 0 1 1 0. Nosso zero √© duas vezes maior que a unidade, e a dura√ß√£o do intervalo de guarda √© igual √† dura√ß√£o de zero. <br><br>  Al√©m disso, tamb√©m sem um amplificador e pr√©-amplificador, abaixamos nossas antenas em um tanque de metal, com dimens√µes 3x1,5x1,5.  Temos isso no laborat√≥rio e fizemos uma regra de que n√£o fazemos comunica√ß√£o se ela n√£o puder trabalhar neste tanque.  O fato √© que, em um volume t√£o fechado de energia, n√£o h√° para onde ir - o som √© maravilhoso e repetidamente refletido das paredes de metal e no ponto de recep√ß√£o do mingau √© obtido.  E, como geralmente verificamos dispositivos prontos com energia calculada para milhares de metros, voc√™ pode imaginar o que est√° acontecendo l√°. <br><br>  Por exemplo, dois de nossos modems <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RedLINE funcionam de</a> forma est√°vel neste tanque apenas a uma dist√¢ncia n√£o superior a dois metros, e dois <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uWAVEs</a> trabalham de forma est√°vel a cerca de 1 metro.  Enquanto o primeiro em √°guas abertas trabalha at√© 8000 metros, e o segundo - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">at√© um quil√¥metro</a> . <br>  Obviamente, todos os produtos comerciais n√£o usam esses esquemas de modula√ß√£o primitiva, que s√£o discutidos no artigo e s√£o muito mais complicados, mas agora √© importante entendermos o b√°sico e fazermos algo √∫til com nossas m√£os. <br><br>  Em geral, baixamos as antenas no tanque a uma dist√¢ncia de cerca de 50 cent√≠metros e j√° conseguimos algo muito menos bonito do que com o contato direto das antenas: <br><br><img src="https://habrastorage.org/webt/zy/my/o9/zymyo9ptbahm3xh60dsv-5hz1mg.png"><br><br>  Embora um intervalo de guarda muito mais longo seja usado aqui, ainda √© vis√≠vel que o eco caminha quase at√© o pr√≥ximo bit, as frentes e, principalmente, os mergulhos est√£o muito emba√ßados.  Mas voc√™ ainda pode determinar o conte√∫do da mensagem: 1 0 0 0 1 1 0 <br><br>  Nos dois casos, enviei a mensagem "123" e esses sete bits pertencem ao s√≠mbolo da unidade. <br>  Parecia algo assim, ent√£o a interface foi levemente refeita <br><br><img src="https://habrastorage.org/webt/om/ym/sw/omymswxytjqy_l6uvzbijcr1pac.png"><br><br>  Na tela acima, pode-se ver que, com essas configura√ß√µes, a transmiss√£o da mensagem ‚ÄúOl√°, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">habr</a> !!!  :-) ", composto por 19 bytes, leva 9.132 segundos, ou seja, a velocidade de transmiss√£o foi de 16,6 bits / s.  A prop√≥sito, para que o modem funcionasse em nosso tanque, tivemos que aumentar o intervalo de guarda para que a velocidade de transmiss√£o ca√≠sse para ~ 3 bits / s. <br><br>  Verificamos o trabalho caseiro na piscina, onde ele ganhava 10 metros constantemente. <br><br><img src="https://habrastorage.org/webt/bq/jh/_n/bqjh_nwss-l-zjzi5hj5m7xru44.jpeg"><br><br>  Tamb√©m nos entregamos a trabalhos caseiros na lagoa.  Usei um hidrofone ativo de design muito semelhante ao proposto no artigo, mas em vez de um tweeter piezo foi utilizado um sensor dos sensores de estacionamento, a bateria foi montada ali em uma bobina na qual o cabo foi enrolado: <br><br><img src="https://habrastorage.org/webt/be/hk/jm/behkjmbi2kz0_sxallhxjwyoqvc.jpeg"><br><br><img src="https://habrastorage.org/webt/yu/ke/-w/yuke-wfwsgcozt5pg77d8g4cic8.png"><br><br>  A antena do receptor e do transmissor desceu diretamente da costa, a profundidade l√° agudamente varia de 0,5 a 2 metros.  Curiosamente, no experimento mostrado na foto acima, as piores condi√ß√µes foram, a dist√¢ncia era de apenas 5 metros - essa era geralmente a configura√ß√£o inicial.  Das 20 mensagens transmitidas, 3 bytes cada, em seis delas um byte foi atingido. <br><br>  Ent√£o, quando conectamos o receptor a um segundo laptop e o movemos para o outro lado da lagoa (dist√¢ncia de cerca de 30 metros), a transmiss√£o foi muito melhor - houve apenas alguns erros com 40 mensagens variando em tamanho de 3 a 13 bytes. <br><br><img src="https://habrastorage.org/webt/wp/bz/6i/wpbz6i4wngzg4fdgfza2bxkr2h0.png"><br><br>  Na pr√≥xima foto no mapa, os locais onde as antenas foram localizadas s√£o vis√≠veis. <br><br><img src="https://habrastorage.org/webt/-i/_u/lk/-i_ulk8o3bsyu4ni7um5tyky73c.png"><br><br><h3>  Conclus√£o e pesquisas adicionais </h3><br>  Como prometido, por alguns rublos montamos um dispositivo de trabalho.  Embora seu valor pr√°tico seja duvidoso, o processo de fabrica√ß√£o e ajuste em uma lagoa ser√° muito √∫til para iniciantes.  Usando o m√©todo de detec√ß√£o de portadora descrito, √© bem poss√≠vel criar v√°rios sistemas de navega√ß√£o simples para uso amador e, o que √© especialmente interessante, a complexidade computacional permite implementar o m√©todo em um microcontrolador simples. <br><br>  Para n√£o ser infundado com rela√ß√£o √† constru√ß√£o de sistemas de navega√ß√£o em sinais simples, d√™ uma olhada no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">interessante trabalho</a> em que eles constru√≠ram um sistema de navega√ß√£o de longo alcance completo.  Nesse sistema, √© determinada a posi√ß√£o do ponteiro, que transmite periodicamente sua profundidade.  O valor da profundidade √© codificado pela dist√¢ncia entre dois pulsos simples em uma determinada frequ√™ncia.  Ent√£o sim, sim, os vasos n√£o s√£o queimados pelos deuses, a estrada ser√° dominada pelo andador, paci√™ncia e trabalho, estudo, estudo, estudo - isso √© tudo. <br><br>  Talvez, se tivermos tempo, faremos um projeto DIY para posicionar um dispositivo aut√¥nomo emitindo sinais simples.  J√° fizemos algo semelhante, mas n√£o DIY, com base nos modems <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uWAVE</a> , sobre os quais tentamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gravar um v√≠deo</a> .  Ser√° muito interessante ouvir suas opini√µes sobre esse assunto - √© muito importante ter a confirma√ß√£o de que voc√™ est√° fazendo algo n√£o em v√£o. <br><br>  No entanto, voltando ao t√≥pico principal, notamos o que poderia ser melhorado no esquema proposto: <br><br><ul><li>  tornar o c√°lculo de limiar adapt√°vel </li><li>  analisar larguras de sinal automaticamente </li><li>  tente usar comprimentos diferentes para diferentes combina√ß√µes de bits </li><li>  <s>aperte a</s> codifica√ß√£o de <s>corre√ß√£o de erros</s> </li><li>  transferir tudo para o arduino </li><li>  o volume e o limiar precisam ser longos e tediosos para selecionar; portanto, seria bom adicionar AGC ao pr√©-amplificador </li></ul><br>  Nesta reuni√£o, declararei encerrado e, se voc√™ estiver interessado no t√≥pico, aqui est√° uma lista de nossos artigos anteriores: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GPS subaqu√°tico do zero por ano</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GPS subaqu√°tico em um rob√¥ subaqu√°tico: experi√™ncia</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fabricamos o menor modem de sonar do mundo</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sobre o efeito das cianobact√©rias nas fun√ß√µes de fala do presidente</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fazendo uma simples antena de sonar com o lixo</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sess√£o de transmiss√£o de v√≠deo de som atrav√©s da √°gua com exposi√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GPS subaqu√°tico em dois transceptores</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Navega√ß√£o debaixo d'√°gua: Rolamento n√£o rolamento - voc√™ est√° fadado ao sucesso</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GPS subaqu√°tico: continua√ß√£o</a> <br><br><h3>  PS </h3><br>  Como sempre, estamos felizes em ouvir coment√°rios e sugest√µes, cr√≠ticas e aplausos) <br><br><h3>  PPS </h3><br>  N√£o remova as gl√¢ndulas longe - da pr√≥xima vez, us√°-las novamente para transmitir o "v√≠deo" atrav√©s da √°gua. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt451800/">https://habr.com/ru/post/pt451800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt451790/index.html">Os perigos da coleta de dados no jogo</a></li>
<li><a href="../pt451792/index.html">Quatro sniffers javascript que prendem voc√™ em lojas on-line</a></li>
<li><a href="../pt451794/index.html">Pixels de recuo da textura</a></li>
<li><a href="../pt451796/index.html">Escrevendo uma extens√£o segura do navegador</a></li>
<li><a href="../pt451798/index.html">Migra√ß√£o de dados com mongoDB e Spring Boot</a></li>
<li><a href="../pt451802/index.html">Comunidade .Net do Raiffeisenbank convida para a UPD mitap Broadcast</a></li>
<li><a href="../pt451806/index.html">iOS Digest No. 5 (27 de abril a 16 de maio)</a></li>
<li><a href="../pt451812/index.html">Agora, bons desenvolvedores s√£o medidos por visualiza√ß√µes e assinantes - e isso √© ruim</a></li>
<li><a href="../pt451814/index.html">RBKmoney Payments under the hood - infraestrutura de plataforma de pagamento</a></li>
<li><a href="../pt451816/index.html">Difus√£o no estilo 2000 em aplicativos modernos do Windows 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>