<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🅾️ 😹 🙀 Verbindungsserver konfigurieren: MS SQL Server und Teradata 🎅🏽 👩🏼‍🤝‍👨🏽 ↩️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! Ich habe mich aus einem einfachen Grund entschlossen, diesen Artikel zu schreiben: Ich habe keine detaillierten Anweisungen zum Einr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verbindungsserver konfigurieren: MS SQL Server und Teradata</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/427437/">  Hallo allerseits!  Ich habe mich aus einem einfachen Grund entschlossen, diesen Artikel zu schreiben: Ich habe keine detaillierten Anweisungen zum Einrichten eines Remote-Verbindungsservers zwischen Teradata- und MS SQL-Servern gefunden. <br><br>  Sberbank speichert Daten auf verschiedenen Servern: oracle, teradata, mssql.  Oft (manchmal mehrmals am Tag) müssen meine Kollegen und ich Aktionen ausführen, die als „effektiv“ bezeichnet werden. Dies ist sehr schwierig: Sie schreiben eine Anfrage, exportieren Daten in eine Datei, importieren sie auf den MSSQL-Server und arbeiten.  Die für eine Anfrage aufgewendete Zeit beträgt mehr als 3 Stunden (ca. 90 Millionen Leitungen). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ku/hg/hi/kuhghiik8oa7l5dtxc6xupaxy0k.jpeg"></div><br>  <em>Effiziente Arbeit</em> <br><a name="habracut"></a><br>  Der Grund für solch komplexe Aktionen ist das Fehlen von Berechtigungen zum Erstellen von Tabellen auf Teradata-Servern.  Aus diesem Grund „laden“ wir die Daten auf den MS SQL Server hoch (mit Berechtigungen ist alles in Ordnung).  Dies war eine Einführung, und jetzt komme ich zur Beschreibung der Abfolge der Aktionen. <br><br>  <strong>Hinweis</strong> : Die Anweisung wurde mit SQL Server Management Studio 12 und Teradata Client Version 15 erstellt (wenn die Teradata-Version niedriger ist, z. B. 14, muss zusätzliche Software von der offiziellen Website heruntergeladen werden). <br><br>  <strong>Schritt 1</strong> - Konfigurieren Sie eine ODBC-Verbindung <br><br>  Gehen Sie zu <em>Systemsteuerung \ System und Sicherheit \ Administration \ ODBC-Datenquellen</em> <br><br>  Klicken Sie im Abschnitt "Benutzerdefinierter DSN" auf "Hinzufügen".  Wählen Sie als Nächstes den Teradata-Treiber aus und füllen Sie die Felder aus. <br><br>  Wichtig: Merken Sie sich den Namen der neuen Quelle.  Wir brauchen es noch. <br><br>  <strong>Schritt 2</strong> - Verbindungsserver <br><br>  Open Management Studio - Serverobjekte - Verbindungsserver - Erstellen Sie einen Verbindungsserver. <br><br>  Die Felder im Abschnitt Allgemein sind: Verbindungsserver - ein beliebiger Name, Anbieter - Microsoft OLE DB-Anbieter für ODBC-Treiber, Produktname - ServiceNow, Datenquelle - der Name der Datenquelle, die in "Schritt 1" erstellt wurde. <br><br><img src="https://habrastorage.org/webt/-u/on/xo/-uonxodiqdheeqjg3jupsazkr98.jpeg"><br>  <em>Verbindungsserverbereich "Allgemein"</em> <br><br>  Felder des Abschnitts "Sicherheit": Remote-Anmeldung - der Name des KM auf dem Teradata-Server, mit Kennwort - das Kennwort des KM auf dem Teradata-Server. <br><br><img src="https://habrastorage.org/webt/ki/gb/9a/kigb9awuwvmg9wzbbancrxp_g3m.jpeg"><br>  <em>Sicherheitsbereich für Verbindungsserver</em> <br><br>  Damit sich niemand über den Verbindungsserver (Teradata) unter meinem KM anmelden kann, füge ich eine Zuordnung der Anmeldenamen auf lokalen und Remote-Servern hinzu.  Gespeichert. <br><br><img src="https://habrastorage.org/webt/ps/ut/hd/psuthdk8raqmuuarw-tgmfqrbm0.jpeg"><br>  <em>Übereinstimmende Anmeldungen auf lokalen und Remote-Servern</em> <br><br>  Öffnen Sie eine neue Anfrage.  Wir schreiben select * from openquery (SERVICENOW, 'select * from dual') und erhalten eine Fehlermeldung.  Zugriff verweigert.  Mach weiter. <br><br><img src="https://habrastorage.org/webt/b8/ux/bd/b8uxbdoasvkdcnouwtxvvjpodv8.jpeg"><br>  <em>Fehlerbeispiel</em> <br><br>  <strong>Schritt 3</strong> - SQLEXPRESS und integriertes KM <br><br>  Wir gehen in den SQL Configuration Manager - SQL Server-Eigenschaften (MSSQLSERVER).  Ändern Sie das Häkchen in "Verwenden Sie das integrierte KM (lokales System) für die Eingabe." <br><br><img src="https://habrastorage.org/webt/u6/b9/zf/u6b9zf6afprcuz-n52ayhr_eswe.jpeg"><br>  <em>SQLEXPRESS und integrierter Ultraschall</em> <br><br>  Wenn Sie Management Studio 12 als Administrator ausführen, funktioniert dies.  Wir müssen nicht unter dem Administrator.  Wir konfigurieren weiter. <br><br>  <strong>Schritt 4</strong> - SQLEXPRESS und Netzwerkdienst <br><br>  Wir gehen in den SQL Configuration Manager - SQL Server-Eigenschaften (MSSQLSERVER).  Ändern Sie das Häkchen in "Verwenden Sie das integrierte KM (Netzwerkdienst) für die Anmeldung", jedoch unter KM <strong>NT-Dienst \ MSSQLSERVER</strong> . <br><br><img src="https://habrastorage.org/webt/qg/xz/kw/qgxzkwexohoiquhseduulcenwak.jpeg"><br>  <em>SQLEXPRESS und Netzwerkdienst</em> <br><br>  Es sollte so sein. <br><br><img src="https://habrastorage.org/webt/dn/0m/fe/dn0mfe7clnytkarqyt8uroq-xnm.jpeg"><br>  <em>SQL Server-Konfigurationsmanager</em> <br><br>  <strong>Schritt 5</strong> - Komponentenservice <br><br>  win + R - dcomcnfg - Computer - Eigenschaften Mein Computer - Registerkarte Standardeigenschaften. <br>  Füllen Sie das folgende Beispiel aus: <br><br><img src="https://habrastorage.org/webt/bq/6b/qf/bq6bqf-bcxnimeyn_sregevaels.jpeg"><br>  <em>Komponentenservice</em> <br><br>  <strong>Schritt 6</strong> - Konfigurieren Sie DCOM <br><br>  win + R - dcomcnfg - Computer - mein Computer - DCOM-Konfiguration - msdainitialize Eigenschaften.  Anwendungs-ID / Anwendungscode kopieren.  Erforderlich, um nach einem Objekt in der Windows-Registrierung zu suchen. <br><br><img src="https://habrastorage.org/webt/kc/gf/dl/kcgfdl__apgwhulli1yfnffc6zk.jpeg"><br>  <em>Msdainitialize Objekteigenschaften</em> <br><br>  Nächster Gewinn + R - Regedit-Suche.  Sie müssen das Objekt anhand des Anwendungscodes in der Registrierung finden und seine Berechtigung eingeben. <br><br><img src="https://habrastorage.org/webt/o6/ik/9s/o6ik9svofbp0x2kgi0mekgqsyn8.jpeg"><br>  <em>Msdainitialize Objektregistrierung</em> <br><br>  Volle Kontrolle für den lokalen PC-Administrator. <br><br><img src="https://habrastorage.org/webt/lr/lc/pk/lrlcpkkqov7_mpocfrjgzqwmpw4.jpeg"><br>  <em>Eigenschaften des msdainitialize-Objekts in der WINDOWS-Registrierung</em> <br><br>  Bestätigen und speichern.  Wir haben dies getan, damit der Abschnitt Sicherheit des Objekts (Anwendungscode) aktiv wird. <br><br><img src="https://habrastorage.org/webt/jv/bj/t-/jvbjt-i9aj7jc2njmjkx5e40i4s.jpeg"><br>  <em>Sicherheitsabschnitt des msdainitialize-Objekts</em> <br><br>  Anpassen - Bearbeiten (die Schaltfläche ist aktiv geworden) - Wir fügen dem <strong>Dienst NT Service \ MSSQLSERVER</strong> die vollen Rechte <strong>hinzu</strong> . <br><br><img src="https://habrastorage.org/webt/dw/ts/vk/dwtsvkbiqe_6c8kpcxl-kuvw9xo.jpeg"><br>  <em>Volle Rechte für den MSSQLSERVER-Dienst</em> <br><br>  Sie müssen dem Dienst Rechte in den Abschnitten gewähren: Start- und Aktivierungsberechtigung, Zugriffsberechtigung, Konfigurationsberechtigung.  Als Nächstes müssen Sie den Dienst MSQSQLSERVER neu starten - <strong>NT-Dienst \ MSSQLSERVER</strong> neu starten / neu <strong>starten</strong> . <br><br>  <strong>Schritt 7</strong> COM-Sicherheit <br><br>  win + R - dcomcnfg - Computer - mein Computer - DCOM-Konfiguration <br>  Ändern Sie den Standardwert, indem Sie den <strong>Dienst NT Service \ MSSQLSERVER hinzufügen</strong> .  Weisen Sie ihm maximale Berechtigungen für Partitionen zu: Start- und Aktivierungsberechtigung, Zugriffsberechtigung. <br><br><img src="https://habrastorage.org/webt/i9/fo/ml/i9fomlcupgjhloz0e7vcks_abue.jpeg"><br>  <em>Zugriffsberechtigung</em> <br><br>  Als Nächstes müssen Sie den Dienst MSQSQLSERVER neu starten - <strong>NT-Dienst \ MSSQLSERVER</strong> neu starten / neu <strong>starten</strong> .  Führen Sie select * from openquery aus (SERVICENOW, 'select * from dual').  Es funktioniert. <br><br><img src="https://habrastorage.org/webt/hq/lb/ug/hqlbugffbalcttxzczvuhe_wexw.jpeg"><br>  <em>Abfrageausführung</em> <br><br>  Ich hoffe, dass dieser Leitfaden bei den Einstellungen der Fernzugriffstechnologie hilft.  Jetzt importieren wir die Daten sofort auf den mssql-Server (was nicht Minuten, sondern Stunden spart).  Eine Anforderung, die früher etwa 3 Stunden lang ausgeführt wurde (Datenexport in eine Datei, Import in mssql), wird nach dem Einrichten der Technologie in 47 Sekunden verarbeitet (Import des Abfrageergebnisses sofort in mssql). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427437/">https://habr.com/ru/post/de427437/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427427/index.html">Wie sie zur IT kommen: über Praktikanten und Joons (das Ergebnis der Umfrage „My Circle“)</a></li>
<li><a href="../de427429/index.html">GUI-Frameworks - pro Thread</a></li>
<li><a href="../de427431/index.html">Wie Android funktioniert, Teil 4</a></li>
<li><a href="../de427433/index.html">Verkehrsausgleich in den IP-Netzen des Betreibers</a></li>
<li><a href="../de427435/index.html">STM32H7 - Uhreinstellung ohne HAL</a></li>
<li><a href="../de427439/index.html">Die ganze Wahrheit über RTOS. Artikel 16. Signale</a></li>
<li><a href="../de427441/index.html">Konvergenz mit Kubernetes</a></li>
<li><a href="../de427443/index.html">Vivisektion des Erfolgs</a></li>
<li><a href="../de427447/index.html">PVS-Studio unterstützt die GNU Arm Embedded Toolchain</a></li>
<li><a href="../de427449/index.html">Wie man Tensorflow versteht und nicht stirbt und sogar etwas über ein Auto lehrt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>