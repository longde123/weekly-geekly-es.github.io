<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💈 🔰 🖨️ 学习OpenGL。 第6.4课-IBL。 镜面曝光 Ⓜ️ 👩🏾‍🤝‍👨🏿 🕝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在上一课中，我们准备了与IBL方法配合使用的PBR模型-为此，我们需要事先准备一个辐射图，以描述间接照明的扩散部分。 在本课程中，我们将关注反射率表示的第二部分-反射镜： 




大号Ó （ p ， ö 米é 克一ö ） = 我Ñ 吨\极限Ó 米Ë 克一个（ķ d ˚F ř 一个Ç Ç p 我 +...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>学习OpenGL。 第6.4课-IBL。 镜面曝光</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429744/"><img align="left" src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" width="300"><br> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一课中，</a>我们准备了与IBL方法配合使用的PBR模型-为此，我们需要事先准备一个辐射图，以描述间接照明的扩散部分。 在本课程中，我们将关注反射率表示的第二部分-反射镜： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大号</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ó </font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-5"><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p </font></font></span><span class="MJXp-mrow" id="MJXp-Span-8"><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"> ö </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;">米</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;">é </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14"><font style="vertical-align: inherit;">克</font></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">一</font></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">ö </font></span></span><span class="MJXp-mrow" id="MJXp-Span-18"><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">）</font></span></span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"> = </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;">我</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23"><font style="vertical-align: inherit;">Ñ </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;">吨</font></span><span class="MJXp-mtext" id="MJXp-Span-25" style="color: red;"><font style="vertical-align: inherit;">\极</font></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow" id="MJXp-Span-27" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">限</font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;">Ó </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32"><font style="vertical-align: inherit;">米</font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;">Ë </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;">克</font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;">一个</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-36"><span class="MJXp-mo" id="MJXp-Span-37" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">（</font></span></span><span class="MJXp-msubsup" id="MJXp-Span-38"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">ķ </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-38"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-40" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">d</font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"> ˚F </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43"><font style="vertical-align: inherit;">ř </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;">一个</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45"><font style="vertical-align: inherit;">Ç </font></span><span class="MJXp-mrow" id="MJXp-Span-46"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;">Ç </font></span></span><span class="MJXp-mrow" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50"><font style="vertical-align: inherit;">p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51"><font style="vertical-align: inherit;">我</font></span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> + </font></span><span class="MJXp-msubsup" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">ķ </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-55" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">小号</font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57"><font style="vertical-align: inherit;"> ˚F </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58"><font style="vertical-align: inherit;">ř </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59"><font style="vertical-align: inherit;">一个</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60"><font style="vertical-align: inherit;">ç </font></span><span class="MJXp-mrow" id="MJXp-Span-61"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62"><font style="vertical-align: inherit;">d </font></span></span><span class="MJXp-mrow" id="MJXp-Span-61"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63"><font style="vertical-align: inherit;">˚F </font></span></span><span class="MJXp-mrow" id="MJXp-Span-61"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64"><font style="vertical-align: inherit;">ģ </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mn" id="MJXp-Span-66"><font style="vertical-align: inherit;">4 </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mo" id="MJXp-Span-68" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">（</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70"><font style="vertical-align: inherit;"> ø </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71"><font style="vertical-align: inherit;">米</font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72"><font style="vertical-align: inherit;">Ë </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73"><font style="vertical-align: inherit;">克</font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">一个</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-76" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">ö</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78"><font style="vertical-align: inherit;"> ç </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79"><font style="vertical-align: inherit;">d </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80"><font style="vertical-align: inherit;">ö </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;">吨</font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82"><font style="vertical-align: inherit;">ñ </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">）</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mrow" id="MJXp-Span-85"><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">（</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88"><font style="vertical-align: inherit;"> Ô </font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89"><font style="vertical-align: inherit;">米</font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90"><font style="vertical-align: inherit;">Ë</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-10">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow" id="MJXp-Span-18"><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-21">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-25" style="color: red;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mrow" id="MJXp-Span-27" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-30">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-36"><span class="MJXp-mo" id="MJXp-Span-37" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-38"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-40" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-41">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-46"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow" id="MJXp-Span-48"><span class="MJXp-mtext" id="MJXp-Span-49">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-55" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-56">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-61"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mn" id="MJXp-Span-66"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mo" id="MJXp-Span-68" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-69">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-76" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-77">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow" id="MJXp-Span-85"><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mtext" id="MJXp-Span-87">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">g</span><span class="MJXp-msubsup" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-94" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-95">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">n</span><span class="MJXp-mrow" id="MJXp-Span-101"><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span><span class="MJXp-mrow" id="MJXp-Span-103"><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-108"><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">p</span><span class="MJXp-mrow" id="MJXp-Span-111"><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">g</span><span class="MJXp-msubsup" id="MJXp-Span-118"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-120" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-121"><span class="MJXp-mo" id="MJXp-Span-122" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">n</span><span class="MJXp-mtext" id="MJXp-Span-124">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">t</span><span class="MJXp-mtext" id="MJXp-Span-129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">g</span><span class="MJXp-msubsup" id="MJXp-Span-134"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-136" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">d</span><span class="MJXp-mtext" id="MJXp-Span-138">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">g</span><span class="MJXp-msubsup" id="MJXp-Span-143"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-145" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="144.033ex" height="2.901ex" viewBox="0 -832 62014 1249" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="963" y="-213"></use><g transform="translate(1124,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="1954" y="0"></use><g transform="translate(2458,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="3538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="4023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="4902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="5368" y="0"></use><g transform="translate(5849,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="748" y="-213"></use></g><g transform="translate(6822,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-3D" x="7929" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="9236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="9581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="10182" y="0"></use><g fill="red" stroke="red" transform="translate(10543,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">极</text></g></g><g transform="translate(11874,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">限</text><g transform="translate(829,-191)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="2942" y="0"></use></g></g><g transform="translate(15259,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(16089,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-66" x="17330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-72" x="17881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="18332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="18862" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="19295" y="0"></use><g transform="translate(19729,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-2B" x="21050" y="0"></use><g transform="translate(22051,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-66" x="23254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-72" x="23805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="24256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="24786" y="0"></use><g transform="translate(25219,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(27584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-34" x="0" y="0"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="1580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="2944" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="3410" y="0"></use><g transform="translate(3891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="5114" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="5547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="6071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="6918" y="0"></use><g transform="translate(7518,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(8348,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="9428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="9914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="10792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="11259" y="0"></use><g transform="translate(11739,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="12863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="13297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="13820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="14306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="14667" y="0"></use><g transform="translate(15268,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g><g transform="translate(43682,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(44512,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="963" y="-213"></use></g><g transform="translate(45538,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="46368" y="0"></use><g transform="translate(46871,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="47951" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="48437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="49315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="49782" y="0"></use><g transform="translate(50262,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(51136,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="51966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="52816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="53250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="53773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="54259" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="54870" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="55356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="56234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="56701" y="0"></use><g transform="translate(57181,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="58055" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="58829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="59314" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="60193" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="60659" y="0"></use><g transform="translate(61140,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> L_o（p，\ omega_o）= \ int \极限_ {\ Omega}（k_d \ frac {c} {\ pi} + k_s \ frac {DFG} {4（\ omega_o \ cdot n）（\ omega_i \ cdot n ）}）L_i（p，\ omega_i）n \ cdot \ omega_i d \ omega_i </script></p><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">目录内容</b> <div class="spoiler_text"> 第1部分。入门 <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Opengl</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">窗口创建</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">你好窗口</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">你好三角形</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">着色器</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">贴图</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">转变</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">坐标系</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">摄影机</a> </li></ol><br> 第2部分。基本照明 <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">色彩</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">照明基础</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">用料</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">纹理贴图</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">光源</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">多种光源</a> </li></ol><br> 第3部分。下载3D模型 <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">阿辛普图书馆</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">网格多边形类</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3D模型类</a> </li></ol><br> 第4部分。高级OpenGL功能 <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">深度测试</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">模板测试</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">混色</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">裁剪面</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">帧缓冲</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">立方卡</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">先进的数据处理</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">高级GLSL</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">几何着色器</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">实例化</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">平滑处理</a> </li></ol><br> 第5部分。高级照明 <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">先进的照明。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Blinn-Fong模型。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">伽玛校正</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">影子卡</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">全向阴影贴图</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">法线贴图</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">视差映射</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">高动态范围</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">布卢姆</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">延迟渲染</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SSAO</a> </li></ol><br> 第6部分。PBR <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">理论</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">分析光源</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">国际劳工联盟</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">漫反射。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">国际劳工联盟</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">镜面曝光。</a> </li></ol><br></div></div><br> 您可能会注意到Cook-Torrens镜像组件（带有一个子表达式 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-146"><span class="MJXp-msubsup" id="MJXp-Span-147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-149" style="vertical-align: -0.4em;">s</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.215ex" height="2.419ex" viewBox="0 -780.1 953.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-73" x="737" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> k_s </script>  ）不是恒定的，取决于入射光的方向以及观察的方向。 对于所有可能的光入射方向以及实时观察的所有可能方向，求解该积分是根本不可行的。 因此，Epic Games的研究人员提出了一种称为<i>分割和逼近</i>的方法，该方法可让您在一定条件下提前部分准备镜像组件的数据。 <br><br> 在这种方法中，反射率表达式的反射镜分量分为两个部分，可以分别进行预卷积，然后在PBR着色器中组合以用作间接镜面辐射源。 与辐照图生成一样，卷积过程在其输入处接收HDR环境图。 <br><br> 要了解分和近似法，让我们再次查看反射率的表达式，只在其中保留镜面分量的子表达式（在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一课中</a>单独考虑了漫射部分）： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-150"><span class="MJXp-msubsup" id="MJXp-Span-151"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-153" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-154"><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">p</span><span class="MJXp-mrow" id="MJXp-Span-157"><span class="MJXp-mo" id="MJXp-Span-158" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-159">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">g</span><span class="MJXp-msubsup" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-166" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-167"><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-170">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">t</span><span class="MJXp-mtext" id="MJXp-Span-174" style="color: red;">\极</span><span class="MJXp-msubsup" id="MJXp-Span-175"><span class="MJXp-mrow" id="MJXp-Span-176" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0.278em; margin-right: 0.278em;">限</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-178" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-179">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">a</span></span></span><span class="MJXp-mrow" id="MJXp-Span-185"><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-msubsup" id="MJXp-Span-187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-189" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-190">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">c</span><span class="MJXp-mrow" id="MJXp-Span-195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">G</span></span><span class="MJXp-mrow" id="MJXp-Span-199"><span class="MJXp-mn" id="MJXp-Span-200">4</span><span class="MJXp-mrow" id="MJXp-Span-201"><span class="MJXp-mo" id="MJXp-Span-202" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">g</span><span class="MJXp-msubsup" id="MJXp-Span-208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-210" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-211">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">n</span><span class="MJXp-mrow" id="MJXp-Span-217"><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mrow" id="MJXp-Span-219"><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-221">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">g</span><span class="MJXp-msubsup" id="MJXp-Span-226"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-228" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-229">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">n</span><span class="MJXp-mrow" id="MJXp-Span-235"><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-237"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-239" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-240"><span class="MJXp-mo" id="MJXp-Span-241" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">p</span><span class="MJXp-mrow" id="MJXp-Span-243"><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-245">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">g</span><span class="MJXp-msubsup" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-252" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-253"><span class="MJXp-mo" id="MJXp-Span-254" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">n</span><span class="MJXp-mtext" id="MJXp-Span-256">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">t</span><span class="MJXp-mtext" id="MJXp-Span-261">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">g</span><span class="MJXp-msubsup" id="MJXp-Span-266"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-268" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">d</span><span class="MJXp-mtext" id="MJXp-Span-270">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">g</span><span class="MJXp-msubsup" id="MJXp-Span-275"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-277" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-279">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">t</span><span class="MJXp-mtext" id="MJXp-Span-283" style="color: red;">\极</span><span class="MJXp-msubsup" id="MJXp-Span-284"><span class="MJXp-mrow" id="MJXp-Span-285" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.278em; margin-right: 0.278em;">限</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-287" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-288">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">a</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-296" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mrow" id="MJXp-Span-297"><span class="MJXp-mo" id="MJXp-Span-298" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">p</span><span class="MJXp-mrow" id="MJXp-Span-300"><span class="MJXp-mo" id="MJXp-Span-301" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-302">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">g</span><span class="MJXp-msubsup" id="MJXp-Span-307"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-309" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-310"><span class="MJXp-mo" id="MJXp-Span-311" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-312">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">g</span><span class="MJXp-msubsup" id="MJXp-Span-317"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-319" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-320"><span class="MJXp-mo" id="MJXp-Span-321" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-msubsup" id="MJXp-Span-322"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-324" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-325"><span class="MJXp-mo" id="MJXp-Span-326" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">p</span><span class="MJXp-mrow" id="MJXp-Span-328"><span class="MJXp-mo" id="MJXp-Span-329" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-330">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">g</span><span class="MJXp-msubsup" id="MJXp-Span-335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-337" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-338"><span class="MJXp-mo" id="MJXp-Span-339" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">n</span><span class="MJXp-mtext" id="MJXp-Span-341">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">t</span><span class="MJXp-mtext" id="MJXp-Span-346">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">g</span><span class="MJXp-msubsup" id="MJXp-Span-351"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-353" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">d</span><span class="MJXp-mtext" id="MJXp-Span-355">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">g</span><span class="MJXp-msubsup" id="MJXp-Span-360"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-362" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="213.754ex" height="2.901ex" viewBox="0 -832 92032.5 1249" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="963" y="-213"></use><g transform="translate(1124,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="1954" y="0"></use><g transform="translate(2458,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="3538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="4023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="4902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="5368" y="0"></use><g transform="translate(5849,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="748" y="-213"></use></g><g transform="translate(6822,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-3D" x="7929" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="9236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="9581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="10182" y="0"></use><g fill="red" stroke="red" transform="translate(10543,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">极</text></g></g><g transform="translate(11874,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">限</text><g transform="translate(829,-191)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="2942" y="0"></use></g></g><g transform="translate(15259,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(16089,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-66" x="17292" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-72" x="17843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="18294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="18824" y="0"></use><g transform="translate(19257,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(21622,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-34" x="0" y="0"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="1580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="2944" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="3410" y="0"></use><g transform="translate(3891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="5114" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="5547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="6071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="6918" y="0"></use><g transform="translate(7518,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(8348,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="9428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="9914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="10792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="11259" y="0"></use><g transform="translate(11739,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="12863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="13297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="13820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="14306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="14667" y="0"></use><g transform="translate(15268,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g><g transform="translate(37720,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="963" y="-213"></use></g><g transform="translate(38746,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="39575" y="0"></use><g transform="translate(40079,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="41159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="41644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="42523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="42989" y="0"></use><g transform="translate(43470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(44344,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="45174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="46024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="46458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="46981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="47467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="48078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="48564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="49442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="49909" y="0"></use><g transform="translate(50389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="51263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="52037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="52522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="53401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="53867" y="0"></use><g transform="translate(54348,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-3D" x="55499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="56805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="57151" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="57751" y="0"></use><g fill="red" stroke="red" transform="translate(58113,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">极</text></g></g><g transform="translate(59443,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">限</text><g transform="translate(829,-191)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="2942" y="0"></use></g></g><g transform="translate(62829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-72" x="693" y="-213"></use></g><g transform="translate(63738,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="64568" y="0"></use><g transform="translate(65072,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="66152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="66637" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="67516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="67982" y="0"></use><g transform="translate(68463,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(69337,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="70417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="70902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="71781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="72247" y="0"></use><g transform="translate(72728,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="748" y="-213"></use></g><g transform="translate(73700,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(74530,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="963" y="-213"></use></g><g transform="translate(75556,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-70" x="76386" y="0"></use><g transform="translate(76890,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="77970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="78455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="79334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="79800" y="0"></use><g transform="translate(80281,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(81154,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6E" x="81984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-63" x="82835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="83268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="83792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-74" x="84277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="84889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="85374" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="86253" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="86719" y="0"></use><g transform="translate(87200,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-64" x="88074" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="88847" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="89333" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="90211" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="90678" y="0"></use><g transform="translate(91158,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> L_o（p，\ omega_o）= \ int \极限_ {\ Omega}（k_s \ frac {DFG} {4（\ omega_o \ cdot n）（\ omega_i \ cdot n）} L_i（p，\ omega_i）n \ cdot \ omega_i d \ omega_i = \ int \极限_ {\ Omega} f_r（p，\ omega_i，\ omega_o）L_i（p，\ omega_i）n \ cdot \ omega_i d \ omega_i </script></p><br> 与准备辐照图一样，该积分无法实时求解。 因此，建议类似地计算反射率表达式的镜像分量的贴图，并在主渲染周期中基于表面的法线从该贴图中进行简单选择。 但是，并不是所有事情都那么简单：由于积分仅取决于以下事实，因此可以轻松获得辐照图 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-363"><span class="MJXp-mtext" id="MJXp-Span-364">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">g</span><span class="MJXp-msubsup" id="MJXp-Span-369"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-371" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.978ex" height="1.817ex" viewBox="0 -520.7 3434.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="1614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="2080" y="0"></use><g transform="translate(2561,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ omega_i </script>  ，并且朗伯扩散分量的恒定子表达式可以从积分的符号中取出。 在这种情况下，积分不仅取决于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-372"><span class="MJXp-mtext" id="MJXp-Span-373">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">g</span><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.978ex" height="1.817ex" viewBox="0 -520.7 3434.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-6D" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-65" x="1614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-67" x="2080" y="0"></use><g transform="translate(2561,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/429744/&amp;usg=ALkJrhhQYHR00nCshdLQM9EXT0MiMwh6jA#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ omega_i </script> 从BR​​DF公式很容易理解： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-381"><span class="MJXp-msubsup" id="MJXp-Span-382"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-384" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mrow" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">p</span><span class="MJXp-mrow" id="MJXp-Span-388"><span class="MJXp-mo" id="MJXp-Span-389" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-msubsup" id="MJXp-Span-390"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-392" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-393"><span class="MJXp-mo" id="MJXp-Span-394" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-msubsup" id="MJXp-Span-395"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-397" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-398"><span class="MJXp-mo" id="MJXp-Span-399" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-400" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-401">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">c</span><span class="MJXp-mrow" id="MJXp-Span-406"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">G</span></span><span class="MJXp-mrow" id="MJXp-Span-410"><span class="MJXp-mn" id="MJXp-Span-411">4</span><span class="MJXp-mrow" id="MJXp-Span-412"><span class="MJXp-mo" id="MJXp-Span-413" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-414">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418">g</span><span class="MJXp-msubsup" id="MJXp-Span-419"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-421" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-422">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">n</span><span class="MJXp-mrow" id="MJXp-Span-428"><span class="MJXp-mo" id="MJXp-Span-429" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mrow" id="MJXp-Span-430"><span class="MJXp-mo" id="MJXp-Span-431" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-432">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">g</span><span class="MJXp-msubsup" id="MJXp-Span-437"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-439" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-440">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">n</span><span class="MJXp-mrow" id="MJXp-Span-446"><span class="MJXp-mo" id="MJXp-Span-447" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> f_r（p，w_i，w_o）= \ frac {DFG} {4（\ omega_o \ cdot n）（\ omega_i \ cdot n）} </script></p><br> 积分下的表达式还取决于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-448"><span class="MJXp-mtext" id="MJXp-Span-449">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">g</span><span class="MJXp-msubsup" id="MJXp-Span-454"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-456" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> \ omega_o </script>  -对于两个方向矢量，几乎不可能从先前准备的立方图中进行选择。 点位置 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-457"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> p </script> 在这种情况下，您将无法考虑-为什么在上一课中对此进行了讨论。 对所有可能组合的积分的初步计算 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-459"><span class="MJXp-mtext" id="MJXp-Span-460">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">g</span><span class="MJXp-msubsup" id="MJXp-Span-465"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-467" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> \ omega_i </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-468"><span class="MJXp-mtext" id="MJXp-Span-469">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">g</span><span class="MJXp-msubsup" id="MJXp-Span-474"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-476" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> \ omega_o </script> 不可能完成实时任务。 <br><br>  Epic Games的分割数量方法通过将初步计算问题分为两个独立的部分来解决此问题，随后可以将其结果合并以获取最终的计算值。 分割和方法从镜像组件的原始表达式中提取两个积分： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-477"><span class="MJXp-msubsup" id="MJXp-Span-478"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-480" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-481"><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">p</span><span class="MJXp-mrow" id="MJXp-Span-484"><span class="MJXp-mo" id="MJXp-Span-485" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-486">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">g</span><span class="MJXp-msubsup" id="MJXp-Span-491"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-493" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-494"><span class="MJXp-mo" id="MJXp-Span-495" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-496" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-497">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">t</span><span class="MJXp-mtext" id="MJXp-Span-501" style="color: red;">\极</span><span class="MJXp-msubsup" id="MJXp-Span-502"><span class="MJXp-mrow" id="MJXp-Span-503" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-504" style="margin-left: 0.278em; margin-right: 0.278em;">限</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-505" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-506">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">a</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-512"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-514" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-515"><span class="MJXp-mo" id="MJXp-Span-516" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">p</span><span class="MJXp-mrow" id="MJXp-Span-518"><span class="MJXp-mo" id="MJXp-Span-519" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-520">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524">g</span><span class="MJXp-msubsup" id="MJXp-Span-525"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-527" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-528"><span class="MJXp-mo" id="MJXp-Span-529" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">d</span><span class="MJXp-mtext" id="MJXp-Span-531">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">g</span><span class="MJXp-msubsup" id="MJXp-Span-536"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-538" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-539" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-mtext" id="MJXp-Span-540">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">t</span><span class="MJXp-mtext" id="MJXp-Span-544" style="color: red;">\极</span><span class="MJXp-msubsup" id="MJXp-Span-545"><span class="MJXp-mrow" id="MJXp-Span-546" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-547" style="margin-left: 0.278em; margin-right: 0.278em;">限</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-548" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-549">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">a</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-555"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-557" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mrow" id="MJXp-Span-558"><span class="MJXp-mo" id="MJXp-Span-559" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">p</span><span class="MJXp-mrow" id="MJXp-Span-561"><span class="MJXp-mo" id="MJXp-Span-562" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-563">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">g</span><span class="MJXp-msubsup" id="MJXp-Span-568"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-570" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-571"><span class="MJXp-mo" id="MJXp-Span-572" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-573">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">g</span><span class="MJXp-msubsup" id="MJXp-Span-578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-580" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mrow" id="MJXp-Span-581"><span class="MJXp-mo" id="MJXp-Span-582" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">n</span><span class="MJXp-mtext" id="MJXp-Span-584">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">t</span><span class="MJXp-mtext" id="MJXp-Span-589">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">g</span><span class="MJXp-msubsup" id="MJXp-Span-594"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-596" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">d</span><span class="MJXp-mtext" id="MJXp-Span-598">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">g</span><span class="MJXp-msubsup" id="MJXp-Span-603"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-605" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> L_o（p，\ omega_o）= \ int \极限_ {\ Omega} L_i（p，\ omega_i）d \ omega_i * \ int \极限_ {\ Omega} f_r（p，\ omega_i，\ omega_o）n \ cdot \ omega_i d \ omega_i </script></p><br> 第一部分的计算结果通常称为<i>预过滤环境图</i> ，它是经过此表达式指定的卷积处理的环境图。 所有这些都与获得辐照图的过程相似，但是在这种情况下，考虑到粗糙度值进行卷积。 较高的粗糙度值导致在卷积过程中使用更多不同的采样向量，从而导致结果更加模糊。 每个下一个选定粗糙度级别的卷积结果存储在准备好的环境图的下一个mip级别中。 例如，一张针对五个不同粗糙度级别进行卷积的环境贴图包含五个mip级别，如下所示： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ad/nt/vq/adntvqtgc_vkrufypnzxeoayx4m.png"></div><br> 样本向量及其散布是根据Cook-Torrens BRDF模型的正态分布函数（ <i>NDF</i> ）确定的。 该功能接受法线向量和观察方向作为输入参数。 由于在初步计算时观察方向是事先未知的，因此Epic Games开发人员不得不再作一个假设：凝视的方向（以及镜面反射的方向）始终与样本的输出方向相同。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-606"><span class="MJXp-mtext" id="MJXp-Span-607">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">g</span><span class="MJXp-msubsup" id="MJXp-Span-612"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-614" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> \ omega_o </script>  。 以代码形式： <br><br><pre><code class="cpp hljs">vec3 N = normalize(w_o); vec3 R = N; vec3 V = R;</code> </pre> <br> 在这种情况下，在环境图的卷积过程中不需要注视方向，这使得实时计算变得可行。 但是另一方面，当与反射面成锐角观察时，我们会失去镜面反射的特征失真，如下图所示（从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">冻伤到PBR</a> ）。 通常，这种折衷被认为是可以接受的。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/qu/8y/qwqu8yar2slqk93dchfih4laxse.png"></div><br> 分割和表达式的第二部分包含镜像组件原始表达式的BRDF。 假设入射能量的亮度在所有方向上均由白光光谱表示（即， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-615"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">L</span><span class="MJXp-mrow" id="MJXp-Span-617"><span class="MJXp-mo" id="MJXp-Span-618" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">p</span><span class="MJXp-mrow" id="MJXp-Span-620"><span class="MJXp-mo" id="MJXp-Span-621" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622">x</span><span class="MJXp-mrow" id="MJXp-Span-623"><span class="MJXp-mo" id="MJXp-Span-624" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-625" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-626">1.0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> L（p，x）= 1.0 </script>  ），则可以使用以下输入参数预先计算BRDF的值：材料粗糙度和法线之间的角度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> n </script> 和光的方向 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-629"><span class="MJXp-mtext" id="MJXp-Span-630">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-631">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-633">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">g</span><span class="MJXp-msubsup" id="MJXp-Span-635"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-637" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> \ omega_i </script>  （或 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-638"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">n</span><span class="MJXp-mtext" id="MJXp-Span-640">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">t</span><span class="MJXp-mtext" id="MJXp-Span-645">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">g</span><span class="MJXp-msubsup" id="MJXp-Span-650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-652" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> n \ cdot \ omega_i </script>  ）  Epic Games方法涉及以二维纹理的形式存储被称为<i>BRDF积分图</i>的二维纹理的形式，用于存储粗糙度和光的法线与方向之间的角度的每种组合的BRDF计算结果，此后将其用作<i>查找表</i> （ <i>LUT</i> ） 。 此参考纹理使用红色和绿色输出通道存储比例和偏移量，以计算表面的菲涅耳系数，最终使我们能够为单独的总和求解表达式的第二部分： <br><br><img src="https://habrastorage.org/webt/5s/so/fw/5ssofwhkncncu263tegajwxm15k.png"><br> 如下创建该辅助纹理：将水平纹理坐标（范围为[0.，1.]）视为输入参数值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-653"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-654">n</span><span class="MJXp-mtext" id="MJXp-Span-655">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">t</span><span class="MJXp-mtext" id="MJXp-Span-660">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">g</span><span class="MJXp-msubsup" id="MJXp-Span-665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-667" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> n \ cdot \ omega_i </script>  BRDF功能； 垂直纹理坐标被视为输入粗糙度值。 <br><br> 结果，有了这样的集成图和预处理的环境图，您可以将它们的样本组合起来以获得镜像组件的积分表达式的最终值： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lod = getMipLevelFromRoughness(roughness); vec3 prefilteredColor = textureCubeLod(PrefilteredEnvMap, refVec, lod); vec2 envBRDF = texture2D(BRDFIntegrationMap, vec2(NdotV, roughness)).xy; vec3 indirectSpecular = prefilteredColor * (F * envBRDF.x + envBRDF.y)</code> </pre><br> 对Epic Games的“分割和”方法的这一回顾应有助于使您对近似反射镜部分负责反射镜分量的过程有一个印象。 现在，让我们尝试自己准备卡数据。 <br><br><h2> 预过滤HDR环境图 </h2><br> 对环境图进行预过滤类似于获取辐照图。 唯一的区别是，现在我们考虑了粗糙度并将每个粗糙度级别的结果保存在三次贴图的新mip级别中。 <br><br> 首先，您必须创建一个新的立方图，其中将包含预过滤的结果。 为了创建必要数量的mip级别，我们只需调用<i>glGenerateMipmaps（）</i> -必要的内存将分配给当前纹理： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> prefilterMap; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;prefilterMap); glBindTexture(GL_TEXTURE_CUBE_MAP, prefilterMap); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; ++i) { glTexImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB16F, <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>); } glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MAG_FILTER, GL_LINEAR); glGenerateMipmap(GL_TEXTURE_CUBE_MAP);</code> </pre><br> 请注意：由于<i>prefilterMap</i>的选择将基于存在的mip级别，因此有必要将缩减过滤器模式设置为<i>GL_LINEAR_MIPMAP_LINEAR</i>以启用三线性过滤。 镜像的预处理图像以仅128x128像素的基本mip级别的分辨率存储在三次方图的不同面上。 对于大多数材料来说，这已经足够了，但是，如果场景中增加了许多光滑，有光泽的表面（例如，一辆崭新的汽车），则可能需要提高此分辨率。 <br><br> 在上一课中，我们通过创建在半球中均匀分布的样本矢量来对环境图进行卷积 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-668"><span class="MJXp-mtext" id="MJXp-Span-669" style="color: red;">\欧</span><span class="MJXp-mrow" id="MJXp-Span-670"><span class="MJXp-mo" id="MJXp-Span-671" style="margin-left: 0.278em; margin-right: 0.278em;">米</span></span><span class="MJXp-mrow" id="MJXp-Span-672"><span class="MJXp-mo" id="MJXp-Span-673" style="margin-left: 0.278em; margin-right: 0.278em;">茄</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> \欧米茄</script> 使用球坐标。 为了获得照射，该方法非常有效，对于镜面反射的计算还不能说。 镜面反射高光的物理学告诉我们，镜面反射光的方向与反射矢量相邻 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-674"></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> </script> 正常表面 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-675"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> n </script> 即使粗糙度不为零： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mh/fx/xq/mhfxxqxaglsggbtfz_1klwkmbga.png"></div><br> 可能的反射出射方向的一般形式称为<i>镜面波瓣</i> （ <i>镜面波瓣</i> ；“镜面辐射图的花瓣”-也许太冗长， <i>大约每秒钟</i> ）。 随着粗糙度的增加，花瓣生长并扩展。 另外，其形状根据光的入射方向而变化。 因此，花瓣的形状高度取决于材料的特性。 <br><br> 回到微表面模型，我们可以想象镜瓣的形状描述了相对于微表面的中值矢量的反射方向，并考虑了光的某些给定方向。 理解到大多数反射光都位于基于中值矢量定向的镜面花瓣内，因此创建以类似方式定向的样本矢量是有意义的。 否则，其中许多将毫无用处。 这种方法称为<i>重要性抽样</i> 。 <br><br><h4> 蒙特卡洛积分和重要性抽样 </h4><br> 为了充分理解样本在意义上的含义，您首先必须熟悉诸如蒙特卡洛积分方法的数学工具。 此方法基于统计和概率理论的组合，可帮助在数值上解决大型样本的统计问题，而无需考虑该样本的<i>每个</i>元素。 <br><br> 例如，您要计算一个国家的平均人口增长。 为了获得准确和可靠的结果，必须衡量<i>每个</i>公民的成长并将结果平均。 但是，由于大多数国家的人口很大，因此这种方法实际上是无法实现的，因为它需要太多资源来执行。 <br> 另一种方法是创建一个较小的子样本，其中填充了原始样本的真正随机（无偏）元素。 接下来，您还要测量增长并对该子样本的结果取平均值。 尽管不是绝对准确，但是至少可以容纳一百个人，并且可以获得结果，但是仍然非常接近实际情况。 该方法的解释在于考虑大数定律。 其本质是这样描述的：在较小的子样本中进行一些测量的结果 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-677"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> N </script> 由原始集合的真正随机元素组成的，将接近对整个初始集合进行的测量的控制结果。 此外，随着增长，近似结果趋于真实 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-679"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> N </script>  。 <br> 蒙特卡洛积分是大数定律在求解积分中的应用。 考虑到整个（可能是无限的）值集，而不是求解积分 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-681"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> x </script> 我们用 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-683"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> N </script> 随机采样点并取平均值。 随着成长 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-685"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> N </script> 保证近似结果接近于积分的精确解。 <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-687"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">O</span><span class="MJXp-mo" id="MJXp-Span-689" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-690">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">t</span><span class="MJXp-mtext" id="MJXp-Span-694">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699">t</span><span class="MJXp-msubsup" id="MJXp-Span-700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701" style="margin-right: 0.05em;">s</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-704"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">b</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-702"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">a</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">f</span><span class="MJXp-mrow" id="MJXp-Span-707"><span class="MJXp-mo" id="MJXp-Span-708" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">x</span><span class="MJXp-mrow" id="MJXp-Span-710"><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">x</span><span class="MJXp-mo" id="MJXp-Span-714" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-715">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">c</span><span class="MJXp-mrow" id="MJXp-Span-720"><span class="MJXp-mn" id="MJXp-Span-721">1</span></span><span class="MJXp-mrow" id="MJXp-Span-722"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">N</span></span><span class="MJXp-mtext" id="MJXp-Span-724">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">u</span><span class="MJXp-msubsup" id="MJXp-Span-727"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-733"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">N</span><span class="MJXp-mo" id="MJXp-Span-735">−</span><span class="MJXp-mn" id="MJXp-Span-736">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-729"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">i</span><span class="MJXp-mo" id="MJXp-Span-731">=</span><span class="MJXp-mn" id="MJXp-Span-732">0</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-737">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-739">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-740">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">c</span><span class="MJXp-mrow" id="MJXp-Span-742"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">f</span><span class="MJXp-mrow" id="MJXp-Span-744"><span class="MJXp-mo" id="MJXp-Span-745" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">x</span><span class="MJXp-mrow" id="MJXp-Span-747"><span class="MJXp-mo" id="MJXp-Span-748" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span><span class="MJXp-mrow" id="MJXp-Span-749"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">f</span><span class="MJXp-mrow" id="MJXp-Span-753"><span class="MJXp-mo" id="MJXp-Span-754" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">x</span><span class="MJXp-mrow" id="MJXp-Span-756"><span class="MJXp-mo" id="MJXp-Span-757" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-26"> O = \ int \ limits_ {a} ^ {b} f（x）dx = \ frac {1} {N} \ sum_ {i = 0} ^ {N-1} \ frac {f（x）} { pdf（x）} </script></p><br> 为了求解积分，我们得到积分的值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-758"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> N </script> 从[a，b]中的样本中随机点中，将结果汇总并除以取平均值的总点数。 项 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-760"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763">f</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> pdf </script> 描述<i>了</i> <i>概率密度函数</i> ，它显示了每个选定值在原始样本中出现的概率。 例如，用于公民成长的功能如下所示： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2j/yh/zd/2jyhzdv02d8-zu_5sjgop6aahac.png"></div><br> 可以看出，使用随机采样点时，与生长150cm的人相比，达到170cm的生长值的机会要高得多。 <br><br> 显然，在蒙特卡洛积分期间，某些采样点比其他采样点更有可能出现在序列中。 因此，在任何用于蒙特卡洛估计的表达式中，我们都使用概率密度函数将所选值除以其出现的概率。 目前，在评估积分时，我们创建了许多均匀分布的采样点：获得任何采样点的机会都是相同的。 因此，我们的估计是<i>无偏的</i> ，这意味着随着采样点数量的增加，我们的估计将收敛到积分的精确解。 <br><br> 但是，有些评估功能存在<i>偏差</i> ，即 这意味着不是以真正随机的方式创建采样点，而是以某种程度或方向占优势。 这样的评估功能使Monte Carlo估计可以<i>更快</i>地收敛到精确解。 另一方面，由于评估函数的偏差，解决方案可能永远不会收敛。 在一般情况下，这被认为是可以接受的折衷方案，尤其是在计算机图形学问题中，因为估计值非常接近分析结果，并且如果其效果在视觉上看起来相当可靠，则不需要此估计值。 我们将很快看到按重要性划分的样本（使用有偏估计函数）允许您创建偏向某个方向的样本点，方法是将每个选定值乘以或除以概率密度函数的相应值，从而加以考虑。 <br><br> 蒙特卡洛积分在计算机图形问题中非常普遍，因为它是一种非常直观的方法，可以通过数值方法来估计连续积分的值，这非常有效。 只需取样一些区域或体积即可（例如，我们的半球 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-764"><span class="MJXp-mtext" id="MJXp-Span-765" style="color: red;">\欧</span><span class="MJXp-mrow" id="MJXp-Span-766"><span class="MJXp-mo" id="MJXp-Span-767" style="margin-left: 0.278em; margin-right: 0.278em;">米</span></span><span class="MJXp-mrow" id="MJXp-Span-768"><span class="MJXp-mo" id="MJXp-Span-769" style="margin-left: 0.278em; margin-right: 0.278em;">茄</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> \欧米茄</script>  ），创建 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-770"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-771">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> N </script> 随机采样点位于内部，并对获得的值进行加权求和。 <br><br> 蒙特卡洛方法是一个非常广泛的讨论主题，在这里我们不再赘述，但有一个更重要的细节：绝对没有一种方法可以创建<i>随机样本</i> 。 默认情况下，每个采样点都是完全（psvedo）随机的-这正是我们所期望的。 但是，利用准随机序列的某些属性，可以创建尽管具有随机性但仍具有有趣属性的向量集。 例如，在为集成过程创建随机样本时，可以使用所谓的<i>低差异序列</i> ，这些<i>序列</i>可确保所创建采样点的随机性，但在一般情况下，它们的<i>分布</i>更为均匀： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3v/wm/eq/3vwmeqom0d-sq_r0nqrobj0tspq.png"></div><br> 使用低失配序列创建用于集成过程的一组样本矢量是<i>准蒙特卡洛</i>积分<i>方法</i> 。 蒙特卡罗准方法的收敛速度比一般方法快得多，对于具有高性能要求的应用程序来说，这是一个非常有吸引力的属性。 <br><br> 因此，我们知道了一般方法和准蒙特卡洛方法，但是还有一个细节可以提供更高的收敛速度：按重要性进行抽样。 <br> 如本课程中已指出的，对于镜面反射，反射光的方向被封装在镜面波瓣中，其大小和形状取决于反射面的粗糙度。 理解镜瓣外的任何（准）随机样本矢量都不会影响镜分量的积分表达，即 没用 使用蒙特卡洛方法的偏倚估计函数将样本矢量的生成集中在镜瓣区域是有意义的。 <br><br> 这就是通过意义进行采样的本质：采样向量的创建被封装在沿着微表面的中值向量定向的特定区域中，其形状由材料的粗糙度决定。 结合使用蒙特卡罗准方法，由于重要采样而在创建样本矢量的过程中具有低失配和偏倚的序列，我们可以实现很高的收敛速度。 由于对解决方案的收敛速度足够快，因此我们可以使用较少数量的样本矢量来获得可接受的足够估计。 原则上，所描述的方法组合使图形应用程序甚至可以实时解决镜像组件的积分问题，尽管初步计算仍然是一种更具收益的方法。 <br><br><h4> 低失配序列 </h4><br> 在本课程中，我们仍将对间接辐射的反射率表达式的镜像分量进行初步计算。 我们将使用具有低失配的随机序列和蒙特卡罗拟方法的重要样本。 使用的序列称为<i>Hammersley序列</i> ，其详细描述由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Holger Dammertz</a>给出。 该序列又基于<i>van der Corput序列</i> ，该<i>序列</i>使用相对于小数点的十进制小数的特殊二进制转换。 <br><br> 使用棘手的按位算术技巧，您可以在着色器中直接直接有效地设置van der Corpute序列，并根据该序列从选择中创建Hammersley序列的第i个元素。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-772"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-773">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> N </script> 项目： <br><br><pre> <code class="plaintext hljs">float RadicalInverse_VdC(uint bits) { bits = (bits &lt;&lt; 16u) | (bits &gt;&gt; 16u); bits = ((bits &amp; 0x55555555u) &lt;&lt; 1u) | ((bits &amp; 0xAAAAAAAAu) &gt;&gt; 1u); bits = ((bits &amp; 0x33333333u) &lt;&lt; 2u) | ((bits &amp; 0xCCCCCCCCu) &gt;&gt; 2u); bits = ((bits &amp; 0x0F0F0F0Fu) &lt;&lt; 4u) | ((bits &amp; 0xF0F0F0F0u) &gt;&gt; 4u); bits = ((bits &amp; 0x00FF00FFu) &lt;&lt; 8u) | ((bits &amp; 0xFF00FF00u) &gt;&gt; 8u); return float(bits) * 2.3283064365386963e-10; // / 0x100000000 } // ---------------------------------------------------------------------------- vec2 Hammersley(uint i, uint N) { return vec2(float(i)/float(N), RadicalInverse_VdC(i)); }</code> </pre><br>  <i>Hammersley（）</i>从多个大小的样本返回低失配序列的第i个元素 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-774"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> N </script>  。 <br><blockquote> 并非所有的OpenGL驱动程序都支持按位操作（例如，WebGL和OpenGL ES 2.0），因此对于某些环境，可能需要使用它们的替代实现： <br><br><pre> <code class="plaintext hljs">float VanDerCorpus(uint n, uint base) { float invBase = 1.0 / float(base); float denom = 1.0; float result = 0.0; for(uint i = 0u; i &lt; 32u; ++i) { if(n &gt; 0u) { denom = mod(float(n), 2.0); result += denom * invBase; invBase = invBase / 2.0; n = uint(float(n) / 2.0); } } return result; } // ---------------------------------------------------------------------------- vec2 HammersleyNoBitOps(uint i, uint N) { return vec2(float(i)/float(N), VanDerCorpus(i, 2u)); }</code> </pre> <br> 我注意到由于旧硬件中对循环运算符的某些限制，此实现通过所有32位进行。 结果，此版本的效率不如第一个选项高-但它可以在任何硬件上运行，甚至在没有位操作的情况下也可以运行。 </blockquote><br><h4>  GGX模型中的重要性样本 </h4><br> 代替了半球内生成的样本矢量的均匀或随机（Monte Carlo）分布 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-776"><span class="MJXp-mtext" id="MJXp-Span-777" style="color: red;">\欧</span><span class="MJXp-mrow" id="MJXp-Span-778"><span class="MJXp-mo" id="MJXp-Span-779" style="margin-left: 0.278em; margin-right: 0.278em;">米</span></span><span class="MJXp-mrow" id="MJXp-Span-780"><span class="MJXp-mo" id="MJXp-Span-781" style="margin-left: 0.278em; margin-right: 0.278em;">茄</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> \欧米茄</script>  ，它出现在我们要求解的积分中，我们将尝试创建矢量，使它们趋向于光的主要反射方向，该矢量的特征是微表面的中值矢量，并取决于表面粗糙度。 采样过程本身将与之前考虑的过程类似：打开一个具有足够大量迭代的循环，创建一个低失配序列的元素，基于此我们在切线空间中创建一个采样矢量，将该矢量传递到世界坐标并使用场景的能量亮度进行采样。 原则上，这些更改仅与以下事实有关：现在，低失配序列的一个元素用于指定新的样本向量： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uint SAMPLE_COUNT = <span class="hljs-number"><span class="hljs-number">4096u</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(uint i = <span class="hljs-number"><span class="hljs-number">0u</span></span>; i &lt; SAMPLE_COUNT; ++i) { vec2 Xi = Hammersley(i, SAMPLE_COUNT);</code> </pre><br> 另外，为了完全形成样本矢量，必须以某种方式将其定向在与给定粗糙度水平相对应的镜瓣方向上。 您可以从理论<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">课上学习</a> NDF（正态分布函数），并与GGX NDF结合使用，以在作者Epic Games领域中指定样本矢量的方法： <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ImportanceSampleGGX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec2 Xi, vec3 N, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> roughness)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = roughness*roughness; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> phi = <span class="hljs-number"><span class="hljs-number">2.0</span></span> * PI * Xi.x; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cosTheta = <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>((<span class="hljs-number"><span class="hljs-number">1.0</span></span> - Xi.y) / (<span class="hljs-number"><span class="hljs-number">1.0</span></span> + (a*a - <span class="hljs-number"><span class="hljs-number">1.0</span></span>) * Xi.y)); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sinTheta = <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(<span class="hljs-number"><span class="hljs-number">1.0</span></span> - cosTheta*cosTheta); <span class="hljs-comment"><span class="hljs-comment">//       vec3 H; Hx = cos(phi) * sinTheta; Hy = sin(phi) * sinTheta; Hz = cosTheta; //        vec3 up = abs(Nz) &lt; 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0); vec3 tangent = normalize(cross(up, N)); vec3 bitangent = cross(N, tangent); vec3 sampleVec = tangent * Hx + bitangent * Hy + N * Hz; return normalize(sampleVec); }</span></span></code> </pre><br> 结果是对于给定的粗糙度和低失配<i>Xi</i>序列的元素，样本矢量近似沿着微表面的中值矢量定向。 请注意，Epic Games根据迪士尼在PBR方法上的原始工作，使用粗糙度值的平方来获得更好的视觉质量。 <br><br> 完成Hammersley序列和样本矢量生成代码的实现后，我们可以给出预过滤和卷积着色器代码： <br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform samplerCube environmentMap; uniform float roughness; const float PI = 3.14159265359; float RadicalInverse_VdC(uint bits); vec2 Hammersley(uint i, uint N); vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness); void main() { vec3 N = normalize(localPos); vec3 R = N; vec3 V = R; const uint SAMPLE_COUNT = 1024u; float totalWeight = 0.0; vec3 prefilteredColor = vec3(0.0); for(uint i = 0u; i &lt; SAMPLE_COUNT; ++i) { vec2 Xi = Hammersley(i, SAMPLE_COUNT); vec3 H = ImportanceSampleGGX(Xi, N, roughness); vec3 L = normalize(2.0 * dot(V, H) * H - V); float NdotL = max(dot(N, L), 0.0); if(NdotL &gt; 0.0) { prefilteredColor += texture(environmentMap, L).rgb * NdotL; totalWeight += NdotL; } } prefilteredColor = prefilteredColor / totalWeight; FragColor = vec4(prefilteredColor, 1.0); }</code> </pre> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们基于一些给定的粗糙度对环境图进行初步过滤，该粗糙度的级别随所得立方图的每个mip级别（从0.0到1.0）变化，并且过滤结果存储在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prefilteredColor</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">接下来，将变量除以整个样品的总重量，对最终结果贡献较小的样品（具有较低的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NdotL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">）也使总重量的增加较少。</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 将预过滤数据保存为MIP级别 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仍然需要编写直接指示OpenGL过滤各种粗糙度级别的环境图，然后将结果保存在目标立方图的一系列mip级别中的代码。在这里，从课程中已经准备好的有关</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">辐照</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图计算的代码会派上用场</font><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="cpp hljs">prefilterShader.use(); prefilterShader.setInt(<span class="hljs-string"><span class="hljs-string">"environmentMap"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); prefilterShader.setMat4(<span class="hljs-string"><span class="hljs-string">"projection"</span></span>, captureProjection); glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxMipLevels = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mip = <span class="hljs-number"><span class="hljs-number">0</span></span>; mip &lt; maxMipLevels; ++mip) { <span class="hljs-comment"><span class="hljs-comment">//        - unsigned int mipWidth = 128 * std::pow(0.5, mip); unsigned int mipHeight = 128 * std::pow(0.5, mip); glBindRenderbuffer(GL_RENDERBUFFER, captureRBO); glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT24, mipWidth, mipHeight); glViewport(0, 0, mipWidth, mipHeight); float roughness = (float)mip / (float)(maxMipLevels - 1); prefilterShader.setFloat("roughness", roughness); for (unsigned int i = 0; i &lt; 6; ++i) { prefilterShader.setMat4("view", captureViews[i]); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, prefilterMap, mip); glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); renderCube(); } } glBindFramebuffer(GL_FRAMEBUFFER, 0);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程类似于辐照图的卷积，但是这次您应该在每个步骤中指定帧缓冲区的大小，将其减小一半以匹配mip级别。</font><font style="vertical-align: inherit;">另外，必须将当前将执行渲染的mip级别指定为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glFramebufferTexture2D（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数的参数</font><font style="vertical-align: inherit;">。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行此代码的结果应该是一个三次方贴图，其中包含每个后续Mip级别的反射越来越模糊的图像。</font><font style="vertical-align: inherit;">您可以将立方图用作skybox的数据源，并从低于零的任何mip级别获取样本：</font></font><br><br><pre> <code class="cpp hljs">vec3 envColor = textureLod(environmentMap, WorldPos, <span class="hljs-number"><span class="hljs-number">1.2</span></span>).rgb;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 此操作的结果将如下图所示： </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f7/la/6t/f7la6ts6ewslfr8fg2kfvtdzuly.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它看起来像一个非常模糊的源环境图。</font><font style="vertical-align: inherit;">如果结果相似，则很可能正确执行了预过滤HDR环境图的过程。</font><font style="vertical-align: inherit;">尝试使用不同的Mip级别的样本进行实验，并观察每个下一个级别的模糊程度逐渐增加。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 预过滤器卷积伪像 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于大多数任务，所描述的方法效果很好，但是迟早您将不得不面对预过滤过程生成的各种工件。</font><font style="vertical-align: inherit;">这是最常见的处理方法。</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 三次方地图接缝的表现 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从初步筛选器处理的立方图中选择具有高粗糙度的表面的值会导致从更接近其链末端的mip级别读取数据。</font><font style="vertical-align: inherit;">从立方图采样时，默认情况下，OpenGL不会在立方图的面之间进行线性插值。</font><font style="vertical-align: inherit;">由于较高的Mip级别具有较低的分辨率，并且考虑到较大的镜瓣而对环境图进行了卷积，因此</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在面部之间不存在纹理过滤</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><i><font style="vertical-align: inherit;">情况</font></i><font style="vertical-align: inherit;">变得很明显：</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mh/dk/dq/mhdkdq1uolf6wc2lzhhrtxxghsy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 幸运的是，OpenGL能够通过一个简单的标志来激活此过滤： </font></font><br><br><pre> <code class="cpp hljs">glEnable(GL_TEXTURE_CUBE_MAP_SEAMLESS);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 只需在应用程序初始化代码中的某个位置设置标志，就可以消除此工件。 </font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 出现亮点 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于一般情况下的镜面反射包含高频细节以及亮度差异很大的区域，因此其卷积需要使用大量采样点来正确考虑环境中HDR反射内部值的较大分散。在示例中，我们已经采集了足够多的样本，但是对于某些场景和高粗糙度的材料来说，这仍然是不够的，您将在明亮区域周围看到许多斑点的外观：</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1e/av/eu/1eaveuoooowy4vsfibkyw_bwqos.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以进一步增加样本数量，但这不是通用的解决方案，在某些情况下，仍然会出现伪像。</font><font style="vertical-align: inherit;">但是您可以使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chetan Jags</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">，该</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">可以减少工件的表现。</font><font style="vertical-align: inherit;">为此，在初步卷积阶段，不是直接从环境图中进行选择，而是根据从被积物的概率分布函数和粗糙度获得的值，从其mip级别之一进行选择：</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> D = DistributionGGX(NdotH, roughness); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pdf = (D * NdotH / (<span class="hljs-number"><span class="hljs-number">4.0</span></span> * HdotV)) + <span class="hljs-number"><span class="hljs-number">0.0001</span></span>; <span class="hljs-comment"><span class="hljs-comment">//        float resolution = 512.0; float saTexel = 4.0 * PI / (6.0 * resolution * resolution); float saSample = 1.0 / (float(SAMPLE_COUNT) * pdf + 0.0001); float mipLevel = roughness == 0.0 ? 0.0 : 0.5 * log2(saSample / saTexel);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 只需记住为环境贴图启用三线性过滤即可成功地从MIP级别中进行选择： </font></font><br><br><pre> <code class="cpp hljs">glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 另外，不要忘了使用OpenGL直接为纹理创建Mip级别，仅在完全形成主Mip级别之后： </font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  HDR      ... [...] //  - glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); glGenerateMipmap(GL_TEXTURE_CUBE_MAP);</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 这种方法出奇地好，即使在高粗糙度下也可以去除几乎所有（经常是所有）滤波后的图点。 </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BRDF的初步计算 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，我们已经成功地使用过滤器处理了环境图，现在我们可以以代表BRDF的单独总和的形式专注于近似的第二部分。</font><font style="vertical-align: inherit;">要刷新内存，请再次查看近似解决方案的完整记录：</font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-782"><span class="MJXp-msubsup" id="MJXp-Span-783"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大号</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-785" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ó</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-786" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-788" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-789"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-790" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-791" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-792" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mo" id="MJXp-Span-793" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-munderover" id="MJXp-Span-794"><span class=""><span class="MJXp-mo" id="MJXp-Span-795" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-796" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-797"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-798"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大号</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-800" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-801" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-803" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-804"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-806" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-807" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-809"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-811" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-812" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> * </font></font></span><span class="MJXp-munderover" id="MJXp-Span-813"><span class=""><span class="MJXp-mo" id="MJXp-Span-814" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-815" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-816"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-817"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ˚F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-819" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-820" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-822" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-823"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-825" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-826" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-827"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-829" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-830" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ </font></font></span><span class="MJXp-mo" id="MJXp-Span-832" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-833"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-835" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ð </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-837"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-839" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-34">L_o(p,\omega_o) = \int\limits_{\Omega} L_i(p,\omega_i) d\omega_i * \int\limits_{\Omega} f_r(p, \omega_i, \omega_o) n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们初步计算了总和的左侧部分，并在单独的立方图中记录了各种粗糙度水平的结果。</font><font style="vertical-align: inherit;">右侧将需要BDRF表达式的卷积以及以下参数：angle</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-840"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ñ </font></font></span><span class="MJXp-mo" id="MJXp-Span-842" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-843"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-845" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，表面粗糙度和菲涅耳系数</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">n \cdot \omega_i</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-846"><span class="MJXp-msubsup" id="MJXp-Span-847"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-849" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36">F_0</script>  。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 该过程类似于为完全白色的环境或恒定的能量亮度集成镜像的BRDF </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-850"><span class="MJXp-msubsup" id="MJXp-Span-851"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-853" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-854" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mn" id="MJXp-Span-855"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37">L_i = 1.0</script>  。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 将BRDF转换为三个变量不是一件容易的事，但是在这种情况下 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-856"><span class="MJXp-msubsup" id="MJXp-Span-857"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-859" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以从描述镜像BRDF的表达式中得出：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38">F_0</script><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-860"><span class="MJXp-munderover" id="MJXp-Span-861"><span class=""><span class="MJXp-mo" id="MJXp-Span-862" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-863" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-864"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-865"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ˚F</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-867" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-868" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-869"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-870" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-871"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-873" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-874" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-875"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-877" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-878" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-880" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-881"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-882" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-883" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-885"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-887" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-888" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-munderover" id="MJXp-Span-889"><span class=""><span class="MJXp-mo" id="MJXp-Span-890" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-891" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-892"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-893"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ˚F</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-895" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-896" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-898" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-899"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-900" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-901" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-902" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-903"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-905" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-906" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mfrac" id="MJXp-Span-907" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-909" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-910"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-912" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-913" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-915" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-917" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-918"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-919" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-920" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-921" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-923" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-925" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-926"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-928" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-930"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-932" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-39">\int\limits_{\Omega} f_r(p, \omega_i, \omega_o) n \cdot \omega_i d\omega_i = \int\limits_{\Omega} f_r(p, \omega_i, \omega_o) \frac{F(\omega_o, h)}{F(\omega_o, h)} n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 在这里 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-933"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是描述菲涅耳集的计算的函数。</font><font style="vertical-align: inherit;">将除数移动到BRDF的表达式中，可以转到以下等效的表示法：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> F </script><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-935"><span class="MJXp-munderover" id="MJXp-Span-936"><span class=""><span class="MJXp-mo" id="MJXp-Span-937" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-938" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-939"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω </font></font></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-940" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-941"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-942" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-943" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-944" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-946" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-947"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-949" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-950" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-951"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-952" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-953" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-954" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-956" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-957"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-959" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-960" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-962" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-963"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ˚F</font></font></span><span class="MJXp-mo" id="MJXp-Span-964" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-965"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-967" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-968" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ</font></font></span><span class="MJXp-mo" id="MJXp-Span-970" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-972" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-973"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-975" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-976"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-977"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-979" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-41">\int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} F(\omega_o, h) n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 替换正确的条目 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-980"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981"><font style="vertical-align: inherit;"></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在菲涅尔-施里克（Fresnel-Schlick）近似上的</font><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-980"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981"><font style="vertical-align: inherit;"> F</font></span></span></span><font style="vertical-align: inherit;">得到：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> F </script><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-982"><span class="MJXp-munderover" id="MJXp-Span-983"><span class=""><span class="MJXp-mo" id="MJXp-Span-984" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-985" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-986"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω </font></font></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-987" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-988"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-990" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-991" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-993" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-994"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-995" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-996" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-997" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-998"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1000" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1001" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1003" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1004"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1006" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1007" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1008"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-1009" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1010" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1011"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F</font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1013" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1014" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></span><span class="MJXp-mo" id="MJXp-Span-1015" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mn" id="MJXp-Span-1016"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span><span class="MJXp-mo" id="MJXp-Span-1017" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1018"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F</font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1020" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1021" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1022"><span class="MJXp-mrow" id="MJXp-Span-1023" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-1024" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mn" id="MJXp-Span-1025"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span><span class="MJXp-mo" id="MJXp-Span-1026" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1027"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1029" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1030" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⋅</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ</font></font></span><span class="MJXp-mo" id="MJXp-Span-1032" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1033" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1034" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-1036" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⋅</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1037"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1038" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1039" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1041"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1043" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-43">\int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} (F_0 + (1 - F_0){(1 - \omega_o \cdot h)}^5) n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 表示表达式 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1044"><span class="MJXp-msubsup" id="MJXp-Span-1045"><span class="MJXp-mrow" id="MJXp-Span-1046" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-1047" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mn" id="MJXp-Span-1048"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-1049" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1050"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1051" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1052" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1053" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ⋅ </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-1055" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1056" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 5</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44">{(1 - \omega_o \cdot h)}^5</script> 怎么 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1057"><span class="MJXp-mrow" id="MJXp-Span-1058"><span class="MJXp-mo" id="MJXp-Span-1059" style="margin-left: 0.111em; margin-right: 0.111em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1061"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1062"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简化关于</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45">/alpha</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1065"><span class="MJXp-msubsup" id="MJXp-Span-1066"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1068" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46">F_0</script>  ： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1069"><span class="MJXp-munderover" id="MJXp-Span-1070"><span class=""><span class="MJXp-mo" id="MJXp-Span-1071" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int">∫</span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1072" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1073">Ω</span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1074" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-1075"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1077" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mo" id="MJXp-Span-1078" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">p</span><span class="MJXp-mo" id="MJXp-Span-1080" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1081"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1083" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1084" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1085"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1086" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1087" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1088" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">F</span><span class="MJXp-mo" id="MJXp-Span-1090" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1091"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1093" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1094" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">h</span><span class="MJXp-mo" id="MJXp-Span-1096" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1097" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1098"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1100" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-1101" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1102" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1103">1</span><span class="MJXp-mo" id="MJXp-Span-1104" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-1105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1107" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-1108" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109">α</span><span class="MJXp-mo" id="MJXp-Span-1110" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111">n</span><span class="MJXp-mo" id="MJXp-Span-1112" style="margin-left: 0.267em; margin-right: 0.267em;">⋅</span><span class="MJXp-msubsup" id="MJXp-Span-1113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1115" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116">d</span><span class="MJXp-msubsup" id="MJXp-Span-1117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1119" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-47">\int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} (F_0 + (1 - F_0)\alpha) n \cdot \omega_i d\omega_i</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1120"><span class="MJXp-munderover" id="MJXp-Span-1121"><span class=""><span class="MJXp-mo" id="MJXp-Span-1122" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int">∫</span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1123" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1124">Ω</span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1125" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-1126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1128" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mo" id="MJXp-Span-1129" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1130">p</span><span class="MJXp-mo" id="MJXp-Span-1131" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1134" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1135" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1136"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1138" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1139" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1140">F</span><span class="MJXp-mo" id="MJXp-Span-1141" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1142"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1144" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1145" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146">h</span><span class="MJXp-mo" id="MJXp-Span-1147" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1148" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1151" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-1152" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1153">1</span><span class="MJXp-mo" id="MJXp-Span-1154" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155">α</span><span class="MJXp-mo" id="MJXp-Span-1156" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-1157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1159" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-1160" style="margin-left: 0.267em; margin-right: 0.267em;">∗</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161">α</span><span class="MJXp-mo" id="MJXp-Span-1162" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">n</span><span class="MJXp-mo" id="MJXp-Span-1164" style="margin-left: 0.267em; margin-right: 0.267em;">⋅</span><span class="MJXp-msubsup" id="MJXp-Span-1165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1166" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1167" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1168">d</span><span class="MJXp-msubsup" id="MJXp-Span-1169"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1171" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-48">\int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} (F_0 + 1*\alpha - F_0*\alpha) n \cdot \omega_i d\omega_i</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1172"><span class="MJXp-munderover" id="MJXp-Span-1173"><span class=""><span class="MJXp-mo" id="MJXp-Span-1174" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int">∫</span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1175" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1176">Ω</span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1177" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-1178"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1179" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1180" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mo" id="MJXp-Span-1181" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1182">p</span><span class="MJXp-mo" id="MJXp-Span-1183" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1184"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1186" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1187" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1190" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1191" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1192"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1193" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1194"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1195" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1196" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1197" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1198"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-1199" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1200" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1201"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1202" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F</font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1203" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1204" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span><span class="MJXp-mo" id="MJXp-Span-1205" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mn" id="MJXp-Span-1206"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span><span class="MJXp-mo" id="MJXp-Span-1207" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1208"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">α</font></font></span><span class="MJXp-mo" id="MJXp-Span-1209" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mo" id="MJXp-Span-1210" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">α</font></font></span><span class="MJXp-mo" id="MJXp-Span-1212" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-1214" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1215"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1216" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1217" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1218"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1219"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1221" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-49">\int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} (F_0 * (1 - \alpha) + \alpha) n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 下一个功能 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1222"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1223"><font style="vertical-align: inherit;"></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将</font><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1222"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1223"><font style="vertical-align: inherit;"> F</font></span></span></span><font style="vertical-align: inherit;">分为两个整数：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> F </script><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1224"><span class="MJXp-munderover" id="MJXp-Span-1225"><span class=""><span class="MJXp-mo" id="MJXp-Span-1226" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral; </font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1227" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1228"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω </font></font></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1229" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-1230"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1232" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1233" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1234"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-1235" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1236"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1237" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1238" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1239" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1241" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1242" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1243" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1245" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1246"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1247" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1248" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1249" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1250"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-1251" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1252" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1254" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F</font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1255" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1256" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span><span class="MJXp-mo" id="MJXp-Span-1257" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mn" id="MJXp-Span-1258"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span><span class="MJXp-mo" id="MJXp-Span-1259" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1260"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">α</font></font></span><span class="MJXp-mo" id="MJXp-Span-1261" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mo" id="MJXp-Span-1262" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1263"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-1264" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1265"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1266" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1267" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1269"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1270" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1271" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1272" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></span><span class="MJXp-munderover" id="MJXp-Span-1273"><span class=""><span class="MJXp-mo" id="MJXp-Span-1274" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆Integral;</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1275" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1276"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1277" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-1278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1279" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1280" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1281" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-1283" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1284"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1286" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1287" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1289" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1290" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1291" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1293" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1295" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1296" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ò</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1297" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ħ </font></font></span><span class="MJXp-mo" id="MJXp-Span-1299" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1300" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">α</font></font></span><span class="MJXp-mo" id="MJXp-Span-1302" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span><span class="MJXp-mo" id="MJXp-Span-1304" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＆CenterDot;＆</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1305"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1307" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ð</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1311" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-51">\int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} (F_0 * (1 - \alpha)) n \cdot \omega_i d\omega_i + \int\limits_{\Omega} \frac{f_r(p, \omega_i, \omega_o)}{F(\omega_o, h)} (\alpha) n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 这样 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1312"><span class="MJXp-msubsup" id="MJXp-Span-1313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1315" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在积分下将是常数，我们可以将其从积分的符号中取出。</font><font style="vertical-align: inherit;">接下来，我们将揭示</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52">F_0</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1316"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1317"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将α</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放入原始表达式中，并获得BRDF的最终条目作为单独的和：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53">\alpha</script><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1318"><span class="MJXp-msubsup" id="MJXp-Span-1319"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1320" style="margin-right: 0.05em;">F</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1321" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-munderover" id="MJXp-Span-1322"><span class=""><span class="MJXp-mo" id="MJXp-Span-1323" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int">∫</span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1324" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1325">Ω</span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1327" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1328" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mo" id="MJXp-Span-1329" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">p</span><span class="MJXp-mo" id="MJXp-Span-1331" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1332"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1334" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1335" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1337" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1338" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1339" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1340" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1341">1</span><span class="MJXp-mo" id="MJXp-Span-1342" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-1343"><span class="MJXp-mrow" id="MJXp-Span-1344" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-1345" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1346">1</span><span class="MJXp-mo" id="MJXp-Span-1347" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-1348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1349" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1350" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1351" style="margin-left: 0.267em; margin-right: 0.267em;">⋅</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352">h</span><span class="MJXp-mo" id="MJXp-Span-1353" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1354" style="vertical-align: 0.5em;">5</span></span><span class="MJXp-mo" id="MJXp-Span-1355" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1356">n</span><span class="MJXp-mo" id="MJXp-Span-1357" style="margin-left: 0.267em; margin-right: 0.267em;">⋅</span><span class="MJXp-msubsup" id="MJXp-Span-1358"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1359" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1360" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1361">d</span><span class="MJXp-msubsup" id="MJXp-Span-1362"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1363" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1364" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1365" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-munderover" id="MJXp-Span-1366"><span class=""><span class="MJXp-mo" id="MJXp-Span-1367" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int">∫</span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1368" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-1369">Ω</span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1370"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1371" style="margin-right: 0.05em;">f</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1372" style="vertical-align: -0.4em;">r</span></span><span class="MJXp-mo" id="MJXp-Span-1373" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1374">p</span><span class="MJXp-mo" id="MJXp-Span-1375" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1376"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1377" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1378" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1379" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1380"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1381" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1382" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1383" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1384"><span class="MJXp-mrow" id="MJXp-Span-1385" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-1386" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1387">1</span><span class="MJXp-mo" id="MJXp-Span-1388" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-1389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1390" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1391" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-1392" style="margin-left: 0.267em; margin-right: 0.267em;">⋅</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1393">h</span><span class="MJXp-mo" id="MJXp-Span-1394" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1395" style="vertical-align: 0.5em;">5</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1396">n</span><span class="MJXp-mo" id="MJXp-Span-1397" style="margin-left: 0.267em; margin-right: 0.267em;">⋅</span><span class="MJXp-msubsup" id="MJXp-Span-1398"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1399" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1400" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1401">d</span><span class="MJXp-msubsup" id="MJXp-Span-1402"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1403" style="margin-right: 0.05em;">ω</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1404" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-54">F_0 \int\limits_{\Omega} f_r(p, \omega_i, \omega_o)(1 - {(1 - \omega_o \cdot h)}^5) n \cdot \omega_i d\omega_i + \int\limits_{\Omega} f_r(p, \omega_i, \omega_o) {(1 - \omega_o \cdot h)}^5 n \cdot \omega_i d\omega_i</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 结果两个积分表示比例和值的偏移量 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1405"><span class="MJXp-msubsup" id="MJXp-Span-1406"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1407" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1408" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分别。</font><font style="vertical-align: inherit;">注意</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55">F_0</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1409"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1410"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">˚F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1411" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1412"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-1413" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1415" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1416" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1417" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1419" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1420" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ö</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1421" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含条目</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56">f(p, \omega_i, \omega_o)</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1422"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1423"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为这些出现相互抵消并从表达式中消失。</font><font style="vertical-align: inherit;">使用已经开发的方法，BRDF卷积可以与输入数据一起进行：矢量之间的粗糙度和角度</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> F </script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1424"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1425"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58">n</script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1426"><span class="MJXp-msubsup" id="MJXp-Span-1427"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1428" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W的</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1429" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59">w_o</script>  。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将结果写在2D纹理- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡络合BRDF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRDF整合地图</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），其将作为在最终着色器使用辅助表值，这便形成了间接镜面照明的最终结果。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRDF卷积着色器直接在平面上工作，使用二维纹理坐标作为卷积过程的输入参数（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NdotV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粗糙度</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。该代码明显类似于预过滤的卷积，但是在此示例向量是在考虑几何函数BRDF和菲涅尔-施里克近似表达式的情况下进行处理的：</font></font><br><br><pre> <code class="plaintext hljs">vec2 IntegrateBRDF(float NdotV, float roughness) { vec3 V; Vx = sqrt(1.0 - NdotV*NdotV); Vy = 0.0; Vz = NdotV; float A = 0.0; float B = 0.0; vec3 N = vec3(0.0, 0.0, 1.0); const uint SAMPLE_COUNT = 1024u; for(uint i = 0u; i &lt; SAMPLE_COUNT; ++i) { vec2 Xi = Hammersley(i, SAMPLE_COUNT); vec3 H = ImportanceSampleGGX(Xi, N, roughness); vec3 L = normalize(2.0 * dot(V, H) * H - V); float NdotL = max(Lz, 0.0); float NdotH = max(Hz, 0.0); float VdotH = max(dot(V, H), 0.0); if(NdotL &gt; 0.0) { float G = GeometrySmith(N, V, L, roughness); float G_Vis = (G * VdotH) / (NdotH * NdotV); float Fc = pow(1.0 - VdotH, 5.0); A += (1.0 - Fc) * G_Vis; B += Fc * G_Vis; } } A /= float(SAMPLE_COUNT); B /= float(SAMPLE_COUNT); return vec2(A, B); } // ---------------------------------------------------------------------------- void main() { vec2 integratedBRDF = IntegrateBRDF(TexCoords.x, TexCoords.y); FragColor = integratedBRDF; }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如您所见，BRDF的卷积实现为上述数学计算的几乎字面形式。</font><font style="vertical-align: inherit;">输入粗糙度和角度的输入参数。</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1431"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，根据样本的重要性形成样本矢量，并使用几何函数和转换后的BRDF菲涅耳表达式进行处理。</font><font style="vertical-align: inherit;">结果，对于每个样本，值的缩放幅度和位移</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60">\theta</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1432"><span class="MJXp-msubsup" id="MJXp-Span-1433"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1434" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1435" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，最后将其平均并以</font><i><font style="vertical-align: inherit;">vec2</font></i><font style="vertical-align: inherit;">形式</font><i><font style="vertical-align: inherit;">返回</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">理论</font></a><font style="vertical-align: inherit;">课中，提到在计算IBL的情况下，BRDF的几何成分略有不同，因为系数</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61">F_0</script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的指定方式不同：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> k </script><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1438"><span class="MJXp-msubsup" id="MJXp-Span-1439"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1440" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1441" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1442"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1443"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1444"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1445"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1446"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1447"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1448" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-1449" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mo" id="MJXp-Span-1450" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1451"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">α </font></font></span><span class="MJXp-mo" id="MJXp-Span-1452" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1453"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1454"><span class="MJXp-mo" id="MJXp-Span-1455" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1456" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-1457"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-63">k_{direct} = \frac{(\alpha + 1)^2}{8}</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1458"><span class="MJXp-msubsup" id="MJXp-Span-1459"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1460" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ķ </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1461" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1463"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乙</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1464"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大号</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1465" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-1466" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-1467"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1468" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">α </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1469" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-1470"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-64">k_{IBL} = \frac{\alpha^2}{2}</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 由于在计算IBL的情况下，卷积BRDF是积分解的一部分，因此我们将使用系数 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1471"><span class="MJXp-msubsup" id="MJXp-Span-1472"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1473" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1474" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1475"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1476"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1477"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于在Schlick-GGX模型中计算几何函数：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65">k_{IBL}</script><font style="vertical-align: inherit;"></font><br><br><pre> <code class="plaintext hljs">float GeometrySchlickGGX(float NdotV, float roughness) { float a = roughness; float k = (a * a) / 2.0; float nom = NdotV; float denom = NdotV * (1.0 - k) + k; return nom / denom; } // ---------------------------------------------------------------------------- float GeometrySmith(vec3 N, vec3 V, vec3 L, float roughness) { float NdotV = max(dot(N, V), 0.0); float NdotL = max(dot(N, L), 0.0); float ggx2 = GeometrySchlickGGX(NdotV, roughness); float ggx1 = GeometrySchlickGGX(NdotL, roughness); return ggx1 * ggx2; }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 请注意系数 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1478"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1479"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k是</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据参数</font><i><font style="vertical-align: inherit;">a</font></i><font style="vertical-align: inherit;">计算</font><i><font style="vertical-align: inherit;">的</font></i><font style="vertical-align: inherit;">。此外，在这种情况下，</font><font style="vertical-align: inherit;">当描述参数</font><i><font style="vertical-align: inherit;">a</font></i><font style="vertical-align: inherit;">时</font><font style="vertical-align: inherit;">，</font><i><font style="vertical-align: inherit;">粗糙度</font></i><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">不是平方</font><i><font style="vertical-align: inherit;">的</font></i><font style="vertical-align: inherit;">，这是在应用此参数的其他地方完成的。我不确定问题出在哪里：是在Epic Games的作品中还是在迪士尼的最初作品中，但是值得一提的是，正是</font><i><font style="vertical-align: inherit;">粗糙度</font></i><font style="vertical-align: inherit;">值对</font><font style="vertical-align: inherit;">参数</font><i><font style="vertical-align: inherit;">a的</font></i><font style="vertical-align: inherit;">直接分配才</font><font style="vertical-align: inherit;">使BRDF集成图完全相同，这在Epic Games出版物中</font><font style="vertical-align: inherit;">有所</font><font style="vertical-align: inherit;">介绍。</font><font style="vertical-align: inherit;">此外，BRDF卷积结果将以大小为512x512的2D纹理形式保存：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> k </script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> brdfLUTTexture; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;brdfLUTTexture); <span class="hljs-comment"><span class="hljs-comment">//   ,     glBindTexture(GL_TEXTURE_2D, brdfLUTTexture); glTexImage2D(GL_TEXTURE_2D, 0, GL_RG16F, 512, 512, 0, GL_RG, GL_FLOAT, 0); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据Epic Games的建议，此处使用16位浮点纹理格式。</font><font style="vertical-align: inherit;">确保将重复模式设置为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GL_CLAMP_TO_EDGE，</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以避免从边缘采样伪像。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们使用相同的帧缓冲区对象，并在全屏四边形的表面上执行着色器：</font></font><br><br><pre> <code class="cpp hljs">glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); glBindRenderbuffer(GL_RENDERBUFFER, captureRBO); glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT24, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, brdfLUTTexture, <span class="hljs-number"><span class="hljs-number">0</span></span>); glViewport(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>); brdfShader.use(); glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); RenderQuad(); glBindFramebuffer(GL_FRAMEBUFFER, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 结果，我们得到一个纹理贴图，该贴图存储了负责BRDF的分割量表达式部分的卷积结果： </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5s/so/fw/5ssofwhkncncu263tegajwxm15k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有了环境图和纹理的初步过滤结果以及BRDF卷积的结果，我们可以恢复基于单独近似值的近似镜面反射照明的积分计算结果。</font><font style="vertical-align: inherit;">恢复的值随后将用作间接或背景镜面辐射。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IBL模型中的最终反射率计算 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，为了获得在反射率的一般表达式中描述间接镜面分量的值，有必要将计算出的近似分量“粘合”为一个单独的整体作为单独的和。</font><font style="vertical-align: inherit;">首先，将适当的采样器添加到最终着色器中以获取预先计算的数据：</font></font><br><br><pre> <code class="cpp hljs">uniform samplerCube prefilterMap; uniform sampler2D brdfLUT;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们通过基于反射向量的预处理环境贴图中的采样来获取表面上的间接镜面反射的值。</font><font style="vertical-align: inherit;">请注意，此处根据表面粗糙度选择采样等级。</font><font style="vertical-align: inherit;">对于较粗糙的表面，反射将</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更加模糊</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br><br><pre> <code class="plaintext hljs">void main() { [...] vec3 R = reflect(-V, N); const float MAX_REFLECTION_LOD = 4.0; vec3 prefilteredColor = textureLod(prefilterMap, R, roughness * MAX_REFLECTION_LOD).rgb; [...] }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在初步卷积阶段，我们仅准备了5个mip级别（从零到第四），常量</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_REFLECTION_LOD</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于限制从生成的mip级别中进行选择。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来，我们根据法线和视图方向之间的粗糙度和角度从BRDF集成图中进行选择：</font></font><br><br><pre> <code class="cpp hljs">vec3 F = FresnelSchlickRoughness(max(dot(N, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>), F0, roughness); vec2 envBRDF = texture(brdfLUT, vec2(max(dot(N, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>), roughness)).rg; vec3 specular = prefilteredColor * (F * envBRDF.x + envBRDF.y);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 从地图获得的值包含该值的缩放比例和位移因子 </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1480"><span class="MJXp-msubsup" id="MJXp-Span-1481"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1482" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1483" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这里取值</font><i><font style="vertical-align: inherit;">F-</font></i><font style="vertical-align: inherit;">菲涅耳系数）。然后将转换后的值</font><i><font style="vertical-align: inherit;">F</font></i><font style="vertical-align: inherit;">与从预过滤图获得的值进行组合，以获得原始积分表达式</font><i><font style="vertical-align: inherit;">-specular</font></i><font style="vertical-align: inherit;">的近似解</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，我们获得了反射率表示部分的解决方案，该部分负责镜面反射。对于一个完整的解决方案模型PBR IBL需要将此与解决方案的表达，这是我们在收到的漫反射结合</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">去年</font></a><font style="vertical-align: inherit;">的教训：</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67">F_0</script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br><br><pre> <code class="cpp hljs">vec3 F = FresnelSchlickRoughness(max(dot(N, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>), F0, roughness); vec3 kS = F; vec3 kD = <span class="hljs-number"><span class="hljs-number">1.0</span></span> - kS; kD *= <span class="hljs-number"><span class="hljs-number">1.0</span></span> - metallic; vec3 irradiance = texture(irradianceMap, N).rgb; vec3 diffuse = irradiance * albedo; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> MAX_REFLECTION_LOD = <span class="hljs-number"><span class="hljs-number">4.0</span></span>; vec3 prefilteredColor = textureLod(prefilterMap, R, roughness * MAX_REFLECTION_LOD).rgb; vec2 envBRDF = texture(brdfLUT, vec2(max(dot(N, V), <span class="hljs-number"><span class="hljs-number">0.0</span></span>), roughness)).rg; vec3 specular = prefilteredColor * (F * envBRDF.x + envBRDF.y); vec3 ambient = (kD * diffuse + specular) * ao;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我注意到，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">镜面反射</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">未乘以</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为它已经包含菲涅耳系数。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们用一组熟悉的球体运行我们的测试应用程序，这些球体具有不断变化的金属性和粗糙度特征，并看看它们在PBR的全部方面的外观：</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eb/wi/sm/ebwismvfoqyrfymot9i4ab1jtp0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您甚至可以走得更远，下载与PBR模型相对应的一组纹理，并从</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真实材料中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取球体</font><font style="vertical-align: inherit;">：</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dn/0c/0c/dn0c0ctjrjf1o3uzwl7b0eyinwm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甚至可以从</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew Maximov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载精美的模型以及准备好的PBR纹理</font><font style="vertical-align: inherit;">：</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/x7/22/opx722vdxpwml-woff07gtfn1rc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我认为您不必说服任何人当前的照明模型看起来更具说服力。而且，无论环境如何，照明在物理上看起来都是正确的。下面使用了几个完全不同的HDR环境图，这些图完全改变了灯光的性质-尽管您不必调整模型中的任何参数，但所有图像在物理上都是可靠的！ （原则上，这种简化材料工作是PBR管道的主要优点，并且可以说获得更好的效果是令人愉悦的结果。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/76/wa/yd/76waydpu8cbudb6igel20llh3ig.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h，我们进入PBR渲染器实质的过程非常艰巨。我们通过一系列步骤得出了结果，当然，第一种方法可能会出错。因此，对于任何问题，我建议您仔细了解</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单色</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纹理</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">球体</font><font style="vertical-align: inherit;">的示例代码</font><font style="vertical-align: inherit;">（当然还有着色器代码！）。或在评论中寻求建议。</font></font><br><br><h2> 接下来是什么？ </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我希望通过阅读这些内容，您已经对PBR渲染模型的工作有所了解，并弄清并成功启动了测试应用程序。在这些课程中，我们在主渲染周期之前为应用程序中的PBR模型计算了所有必要的辅助纹理贴图。对于培训任务，此方法是合适的，但不适用于实际应用。首先，这种初步准备应该发生一次，而不是每个应用程序都启动。其次，如果您决定添加更多的环境图，则还必须在启动时对其进行处理。如果再添加几张卡怎么办？真正的雪球。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这就是为什么通常情况下先准备辐射图和预处理后的环境图，然后将其保存到磁盘上的原因（BRDF集成图不依赖于环境图，因此通常可以计算或下载一次）。因此，您将需要一种格式来存储HDR立方卡，包括其mip级别。好吧，或者您可以使用一种广泛使用的格式来存储和加载它们（因此</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.dds</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持保存Mip级别）。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个重要点：为了在这些课程中深入了解PBR管道，我描述了准备PBR渲染的完整过程，包括对IBL辅助卡的初步计算。但是，在实践中，您也可以使用为您准备这些卡的出色实用程序之一：例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmftStudio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBLBaker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们也没有考虑准备立方图的过程中</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反射样品</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反射探头</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）以及立方图插值和视差校正的相关过程。简而言之，该技术可以描述如下：我们在场景中放置许多反射样本对象，这些对象以立方图的形式形成局部环境图像，然后在其基础上形成IBL模型所需的所有辅助图。通过根据距相机的距离对来自多个样本的数据进行插值，您可以基于图像获得非常详细的照明，其质量实际上仅受我们准备放置在场景中的样本数量的限制。例如，从明亮的街道移到某个房间的黄昏时，此方法可让您正确更改照明。将来我可能会写一堂关于反射测试的课程，但是，目前，我只能推荐下面的Chetan Jags文章进行审核。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（样品的落实，更可以在发动机的原始教程笔者发现</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prim.per。 </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 附加材料 </font></font></h2><br><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚幻引擎4中的真实阴影</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对Epic Games通过分割总和近似化镜像组件的表达式的方法的说明。</font><font style="vertical-align: inherit;">基于本文，编写了IBL PBR课程的代码。</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于物理的阴影和基于图像的照明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一篇出色的文章，描述了在PBR交互式管道应用程序中包括IBL镜像分量计算的过程。</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于图像的照明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关镜面反射IBL和相关问题（包括光探针插值问题）的冗长而详细的文章。</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Moving Frostbite to PBR</a> :       ,     PBR     «AAA». </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Physically Based Rendering – Part Three</a> :  ,  IBL  PBR   JMonkeyEngine. </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Implementation Notes: Runtime Environment Map Filtering for Image Based Lighting</a> :       HDR  ,       . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN429744/">https://habr.com/ru/post/zh-CN429744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN429728/index.html">基于Kotlin的现代MVI架构</a></li>
<li><a href="../zh-CN429732/index.html">您可能会讨厌这个或一个关于代码看起来应该如何的故事</a></li>
<li><a href="../zh-CN429734/index.html">带着偏见飞行的梦想</a></li>
<li><a href="../zh-CN429736/index.html">索斯诺夫斯基的霍格威德。 在MO中引入了罚款以进行分配</a></li>
<li><a href="../zh-CN429738/index.html">Elasticsearch PB群集中的最佳分片排列：线性规划</a></li>
<li><a href="../zh-CN429750/index.html">开发人员手册：DDD食谱（第3部分，应用程序体系结构）</a></li>
<li><a href="../zh-CN429754/index.html">致命的硬件集成错误</a></li>
<li><a href="../zh-CN429756/index.html">如何在运行时配置Nuxt.js环境变量的安装，或者如何做不像每个人都喜欢的事情并且不后悔</a></li>
<li><a href="../zh-CN429758/index.html">为什么SRE文档很重要。 第一部分</a></li>
<li><a href="../zh-CN429762/index.html">MiniDV便携式摄录机</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>