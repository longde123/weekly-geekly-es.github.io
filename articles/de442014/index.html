<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏏 🤦🏽 👴🏿 Dart 2.2 angekündigt: Effizienterer Maschinencode, Unterstützung für Set-Literale 👨 📁 👩🏿‍🤝‍👩🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quelle [Ankündigung von Dart 2.2: Schnellerer nativer Code, Unterstützung für Set-Literale] 

 Heute (26. Februar 2019) geben wir die Veröffentlichung...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dart 2.2 angekündigt: Effizienterer Maschinencode, Unterstützung für Set-Literale</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442014/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle [Ankündigung von Dart 2.2: Schnellerer nativer Code, Unterstützung für Set-Literale]</a> <br><br>  Heute (26. Februar 2019) geben wir die Veröffentlichung des Dart 2.2 SDK bekannt - eines Updates für Dart 2, das eine verbesserte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AOT-</a> Code-Leistung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">(Pre-of-Time)</a> und Unterstützung für Set-Literale bietet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e00/bf1/65f/e00bf165fc32fcf5b051ef51f05e8b70.png" alt="Bild"><br><a name="habracut"></a><br><h4>  Verbesserung der Dartleistung für die Flatterentwicklung </h4><br>  Wir setzen unsere Arbeit fort, um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AOT-kompilierten Code</a> wie Flutter-Anwendungen noch schneller zu machen.  In Dart 2.1 haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wir die Kosten für die</a> Typprüfung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gesenkt</a> , indem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wir die Kosten für</a> die Typprüfung sowohl für von AOT kompilierten Code als auch für Code, der auf einer virtuellen Maschine mit JIT-Kompilierung (Just-in-Time) ausgeführt wird, erheblich gesenkt haben. <br><br>  In Dart 2.2 haben wir uns auf die Leistung von AOT-kompiliertem Code konzentriert und die Leistung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von Mikrobenchmarks um 11-16%</a> verbessert (indem wir die Größe des Codes um ~ 1% erhöht haben).  Diese Verbesserung ist das Ergebnis von Arbeiten über mehrere Quartale, um die Kosten für statische Anrufe zu senken.  Unser optimierter AOT-Code kann das angeforderte Objekt jetzt direkt über einen PC-Aufruf (d. H. Über den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Programmzähler</a> ) aufrufen.  Zuvor mussten wir mehrmals im Objektpool suchen, um die gewünschte Adresse zu ermitteln.  Diese Optimierungen sind besonders nützlich, wenn der Code viele Konstruktoren und statische Methodenaufrufe enthält, z. B. Flutter-Benutzeroberflächencode, der viele Widgets enthält. <br><br><h4>  Unterstützung für Set-Literale in Dart 2.2 </h4><br>  Die Hauptbibliothek von Dart (dart: core) enthält mehrere Sammlungsklassen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Maps</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lists</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sets</a> .  Karten sind Sätze von Schlüssel-Wert-Paaren.  Listen sind geordnete Folgen von Werten, auf die jeweils über den Index zugegriffen werden kann und die mehrmals auftreten können.  Mengen sind ungeordnete Auflistungen von Werten, in denen jeder Wert nur einmal vorkommen kann und in denen effektiv überprüft werden kann, ob die Auflistung einen Wert enthält. <br><br>  Dart-Sammlungen werden normalerweise mit Konstanten zur Kompilierungszeit initialisiert, und Dart bietet eine praktische Syntax zum Schreiben dieser Initialisierung.  In der Dart-Liste können Sie wie folgt initialisieren: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> List&lt;String&gt; releases = [<span class="hljs-string"><span class="hljs-string">'Dart 2.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dart 2.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dart 2.2'</span></span>];</code> </pre> <br>  Bisher unterstützte Dart nur die Literal-Syntax für List und Map, sodass die Initialisierung von Set umständlich war, da wir über die Liste initialisieren mussten: <br><br><pre> <code class="java hljs">Set&lt;String&gt; currencies = Set.of([<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>, <span class="hljs-string"><span class="hljs-string">'USD'</span></span>, <span class="hljs-string"><span class="hljs-string">'JPY'</span></span>]);</code> </pre> <br>  Dieser Code ist nicht nur unpraktisch und ineffizient.  Das Fehlen einer wörtlichen Unterstützung verhindert die Erstellung eines unveränderlichen Satzes zur Kompilierungszeit.  Initialisieren Sie das Set mit der zusätzlichen Literal-Unterstützung von Set in Dart 2.2 und machen Sie es mit einer praktischen neuen Syntax unveränderlich: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Set&lt;String&gt; currencies = {<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>, <span class="hljs-string"><span class="hljs-string">'USD'</span></span>, <span class="hljs-string"><span class="hljs-string">'JPY'</span></span>};</code> </pre> <br>  Echte Beispiele für die Verwendung von Set-Literalen mit dem Befehl Flutter finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Für einen tieferen Einblick in das Problem empfehlen wir Ihnen, sich mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aktualisierten Dart 2.2-Sprachtour</a> vertraut zu machen. <br><br><h4>  Innovation mit dem Dart 2 Common Front-End (CFE) </h4><br>  Dart bietet verschiedene eigene Implementierungen an: die von Flutter verwendete Dart-VM, den dart2js-Compiler und den Dart-Dev-Compiler (dartdevc), die alle den Common Front-End-Compiler verwenden.  Das Dart Common Front End (CFE) analysiert den Dart-Code, führt eine Typinferenz durch und übersetzt den Dart in eine untergeordnete Zwischensprache, die die Back-End-Compiler als Eingabe akzeptieren. <br><br>  Set-Literale sind ein Beispiel für ein Sprachkonstrukt, das wir dank CFE schnell implementieren konnten.  Der Code zum Parsen von Set-Literalen und zum Durchführen von Typinferenzen wurde einmal mit CFE für alle Implementierungen implementiert.  Darüber hinaus haben wir eine Übergangsimplementierung erstellt, die von Back-End-Compilern in der Anfangsphase verwendet werden kann.  In einer Zwischenimplementierung wurde eine veränderbare Version des angegebenen Satzes von Literalen während der Kompilierung in die entsprechende Form übersetzt: <br><br><pre> <code class="java hljs">Set&lt;String&gt; currencies = Set&lt;String&gt;()..add(<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>)..add(<span class="hljs-string"><span class="hljs-string">'USD'</span></span>)..add(<span class="hljs-string"><span class="hljs-string">'JPY'</span></span>);</code> </pre> <br>  Eine Zwischenimplementierung konstanter Set-Literale unterscheidet sich darin, dass sie nicht schrittweise in Teilen zusammengesetzt werden können.  Stattdessen haben wir dies in Form einer privaten unveränderlichen Set-Klasse implementiert, die eine unveränderliche Map umschließt, wobei Set-Elemente Map-Schlüssel sind: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Set&lt;String&gt; currencies = _UnmodifiableSet&lt;String&gt;({<span class="hljs-string"><span class="hljs-string">'EUR'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-string"><span class="hljs-string">'USD'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-string"><span class="hljs-string">'JPY'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>});</code> </pre> <br>  Die unveränderliche Set-Klasse implementiert Methoden in der Set-Schnittstelle und delegiert sie an die interne Map. <br><br>  Im Allgemeinen konnten wir Set-Literale zunächst ausschließlich als Funktion von CFE implementieren.  Das Back-End könnte sofort die CFE-Implementierung verwenden und später seine eigene Unterstützung implementieren.  Dies ermöglichte es den Back-End-Compilern, ihre Unterstützung zu verschieben, bis die Leistungsaspekte dieser Funktion besser verstanden wurden. <br><br><h4>  Dart 2.2 Spezifikation </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dart 2 war ein so bedeutendes Update für Dart,</a> dass wir eine Weile gebraucht haben, um die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offizielle Sprachspezifikation</a> zu aktualisieren und alle von uns vorgenommenen Änderungen zu erfüllen.  Wir haben diese Arbeit endlich abgeschlossen und die Spezifikation wurde auf Version Dart 2.2 aktualisiert.  Wir haben auch die Sprachspezifikation in das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neue Repository</a> verschoben und eine kontinuierliche Integration hinzugefügt, um sicherzustellen, dass die Spezifikation im PDF-Format ständig aktualisiert wird, wenn sich zukünftige Versionen der Dart-Sprache weiterentwickeln.  Sowohl 2.2 als auch zukünftige Dart 2.x-Spezifikationen sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Seite mit den Dart-Spezifikationen</a> verfügbar. <br><br><h4>  So installieren Sie Dart 2.2 </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Dart SDK 2.2</a> ist ab heute auf der Dart-Homepage verfügbar.  Wenn Sie ein Flutter-Entwickler sind, ist Dart 2.2 bereits enthalten.  (Hinweis: Auf dem Befehl der Flutter Doctor-Konsole melden die aktuellen Flutter Master- und Dev-Kanäle Dart 2.2. Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">heutige stabile Version von Flutter 1.2</a> gibt Dart 2.1.2 aus. Diese Version verfügt über dieselben Funktionen wie Dart 2.2.) <br><br>  Das ist alles für jetzt.  Wir wünschen Ihnen viel Spaß mit Dart 2.2! <br><br><hr><br>  Vielen Dank für Ihre Hilfe bei der Übersetzung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">PsyHaSTe</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de442014/">https://habr.com/ru/post/de442014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de442004/index.html">SVG-Filtereffekte. Teil 7. Vorwärts</a></li>
<li><a href="../de442006/index.html">Dateiverwaltung falsch gemacht - Teil 2: Masterpiece of Shit</a></li>
<li><a href="../de442008/index.html">k3s ist ein kleines, aber zertifiziertes Kubernetes von Rancher Labs</a></li>
<li><a href="../de442010/index.html">Python und FPGA. Testen</a></li>
<li><a href="../de442012/index.html">Experiment: Wir sammeln ein Verzeichnis von Einheiten, die einen Pass ausgestellt haben</a></li>
<li><a href="../de442016/index.html">Hacker sind schlimmer als Malen oder wie man Webanwendungen schützt</a></li>
<li><a href="../de442018/index.html">Frühlingsgesetz in Bezug auf die Verfassung. Warum kann</a></li>
<li><a href="../de442020/index.html">Neuer AV1-Codec: Beschleunigt das Laden von Videos in einem Browser</a></li>
<li><a href="../de442022/index.html">Design auf CodeFest. Das ist aber nicht sicher</a></li>
<li><a href="../de442024/index.html">In Russland wird eine nationale Strategie für künstliche Intelligenz entwickelt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>