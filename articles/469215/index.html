<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍮 🧛🏼 👣 Trabajar con fechas en el lenguaje R (características básicas, así como paquetes lubridate y timeperiodsR) 🐱 🚹 📛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Obtenga la fecha actual en cualquier lenguaje de programación, una operación equivalente a "¡Hola mundo!" El lenguaje R no es una excepción. 


 En es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trabajar con fechas en el lenguaje R (características básicas, así como paquetes lubridate y timeperiodsR)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469215/"><p>  Obtenga la fecha actual en cualquier lenguaje de programación, una operación equivalente a "¡Hola mundo!"  El lenguaje R no es una excepción. </p><br><p>  En este artículo, entenderemos cómo se organiza el trabajo con fechas en la sintaxis básica del lenguaje R, y también consideraremos varios paquetes útiles que amplían sus capacidades cuando se trabaja con fechas: </p><br><ul><li> <code>lubridate</code> - un paquete que permite cálculos aritméticos entre fechas; </li><li>  <code>timeperiodsR</code> : un paquete para trabajar con intervalos de tiempo y sus componentes. </li></ul><br><p><img src="https://habrastorage.org/webt/l2/mg/nl/l2mgnl_5u7eejcuu1hazlp5xocg.jpeg"></p><a name="habracut"></a><br><hr><br><h1 id="soderzhanie">  Contenido </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Trabajar con fechas en la sintaxis R básica</a> <br>  1.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Convertir texto a fecha</a> <br>  1.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recuperando componentes de fecha en Base R</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Trabajando con fechas con el paquete lubridate</a> <br>  2.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Convertir texto a fecha usando lubridate</a> <br>  2.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recuperando componentes de fecha usando el paquete lubridate</a> <br>  2.3.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Operaciones aritméticas con fechas.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Trabajo simplificado con períodos, paquete timeperiodsR</a> <br>  3.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Intervalos de tiempo en períodos de tiempo R</a> <br>  3.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Filtrar un vector de fecha con períodos de tiempo R</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conclusión</a> </li></ol><br><hr><br><h1 id="rabota-s-datami-v-bazovom-sintaksise-r">  Trabajar con fechas en la sintaxis R básica </h1><br><h3 id="preobrazovanie-teksta-v-datu">  Convertir texto a fecha </h3><br><p>  En R básico hay un conjunto de funciones para trabajar con fechas.  La desventaja de la sintaxis básica es que el registro de nombres y argumentos de funciones está muy fragmentado y prácticamente no tiene conexión lógica.  Sin embargo, las funciones básicas del lenguaje deben ser conocidas, por lo que comenzaremos con ellas. </p><br><p>  Con mayor frecuencia, al cargar datos en R, desde archivos csv u otras fuentes, obtiene la fecha en forma de texto.  Para <code>as.Date()</code> este texto al tipo de datos correcto, use la función <code>as.Date()</code> . </p><br><pre> <code class="plaintext hljs">#      my_dates &lt;- c("2019-09-01", "2019-09-10", "2019-09-23") #    class(my_dates)</code> </pre> <br><pre> <code class="plaintext hljs">#&gt; [1] "character"</code> </pre> <br><pre> <code class="plaintext hljs">#     my_dates &lt;- as.Date(my_dates) #    class(my_dates)</code> </pre> <br><pre> <code class="plaintext hljs">#&gt; [1] "Date"</code> </pre> <br><p>  Por defecto, <code>as.Date()</code> acepta una fecha en dos formatos: <em>AAAA-MM-DD</em> o <em>AAAA / MM / DD</em> . <br>  Si las fechas en su conjunto de datos están en cualquier otro formato, puede usar el argumento de <code>format</code> para la conversión. </p><br><pre> <code class="plaintext hljs">as.Date("September 26, 2019", format = "%B %d, %Y")</code> </pre> <br><p>  <em>formato</em> acepta en forma de cadena operadores que denotan cualquier intervalo de tiempo y su formato, los valores utilizados con mayor frecuencia se muestran en la tabla a continuación: </p><br><div class="scrollable-table"><table><thead><tr><th>  Formato </th><th>  Descripción </th></tr></thead><tbody><tr><td>  % d </td><td>  Número de día en mes </td></tr><tr><td>  % a </td><td>  Abreviatura para el nombre del día de la semana. </td></tr><tr><td>  % A </td><td>  Nombre completo del día de la semana. </td></tr><tr><td>  % w </td><td>  Número del día de la semana (0-6, donde 0 es domingo) </td></tr><tr><td>  % m </td><td>  Designación de mes de dos dígitos (01-12) </td></tr><tr><td>  % b </td><td>  Abreviatura para el nombre del mes (abril, marzo, ...) </td></tr><tr><td>  % B </td><td>  Nombre completo del mes </td></tr><tr><td>  % y </td><td>  Designación de año de dos dígitos </td></tr><tr><td>  % Y </td><td>  Designación de año de cuatro dígitos </td></tr><tr><td>  % j </td><td>  Número de día del año (001 - 366) </td></tr><tr><td>  % U </td><td>  Número de semana del año (00 - 53), inicio de semana domingo </td></tr><tr><td>  % W </td><td>  Número de semana del año (00 - 53), inicio de semana lunes </td></tr></tbody></table></div><br><p>  En consecuencia, "26 de septiembre de 2019" es el nombre completo del mes, día y año.  Puede describir este formato de fecha con los operadores de la siguiente manera: <code>"%B %d, %Y"</code> . </p><br><p>  <strong>Donde:</strong> </p><br><ul><li>  <code>%B</code> - Nombre completo del mes </li><li>  <code>%d</code> - Número de día en el mes </li><li>  <code>%Y</code> - Designación de año de cuatro dígitos </li></ul><br><p>  Al describir el formato de fecha, es importante incluir todos los caracteres adicionales de su cadena, como guiones, comas, puntos, espacios, etc.  En mi ejemplo, "26 de septiembre de 2019", se coloca una coma después de la fecha, y también se debe poner una coma en la descripción del formato: <code>"%B %d, %Y"</code> . </p><br><p>  Hay situaciones en las que obtiene una fecha que no solo es inapropiada para los formatos estándar <em>(AAAA-MM-DD o AAAA / MM / DD)</em> , sino también en un idioma que difiere de la configuración predeterminada en su sistema operativo.  Por ejemplo, descargó datos donde la fecha se indica en el siguiente formulario: "15 de diciembre de 2019".  Antes de convertir esta cadena en una fecha, debe cambiar la configuración regional. </p><br><pre> <code class="plaintext hljs">#   Sys.setlocale("LC_TIME", "Russian") #     as.Date(" 15, 2019 .", format = "%B %d, %Y")</code> </pre> <br><h3 id="izvlechenie-komponentov-daty-v-bazovom-r">  Recuperando componentes de fecha en Base R </h3><br><p>  No hay muchas funciones en R básico que le permitan extraer cualquier parte de una fecha de un objeto de la clase <em>Fecha</em> . </p><br><pre> <code class="plaintext hljs">current_date &lt;- Sys.Date() #   weekdays(current_date) #     months(current_date) #      quarters(current_date) #     </code> </pre> <br><p>  Además de la clase principal de objetos <em>Date</em> en la base R, hay 2 tipos de datos más que almacenan la marca de tiempo: <em>POSIXlt</em> , <em>POSIXct</em> .  La principal diferencia entre estas clases y <em>Fecha</em> es que almacenan tiempo además de la fecha. </p><br><pre> <code class="plaintext hljs">#      current_time &lt;- Sys.time() #    current_time class(current_time)</code> </pre> <br><pre> <code class="plaintext hljs"># "POSIXct" "POSIXt"</code> </pre><br><p>  La función <code>Sys.time()</code> devuelve la fecha y hora <em>actuales</em> en formato <em>POSIXct</em> .  Este formato es similar en significado a <em>UNIXTIME</em> y almacena el número de segundos desde el comienzo de la era UNIX <em>(medianoche (UTC) desde el 31 de diciembre de 1969 hasta el 1 de enero de 1970)</em> . </p><br><p>  La clase <em>POSIXlt</em> también almacena la hora y la fecha, y todos sus componentes.  Por lo tanto, es un objeto con una estructura más compleja, pero a partir de la cual es fácil obtener cualquier componente de la fecha y hora desde  esencialmente <em>POSIXlt</em> es una <em>lista</em> . </p><br><pre> <code class="plaintext hljs">#      current_time_ct &lt;- Sys.time() #    POSIXlt current_time_lt &lt;- as.POSIXlt(current_time_ct) #      current_time_lt$sec #  current_time_lt$min #  current_time_lt$hour #  current_time_lt$mday #   current_time_lt$mon #  current_time_lt$year #  current_time_lt$wday #   current_time_lt$yday #   current_time_lt$zone #  </code> </pre> <br><p>  La conversión de datos numéricos y de texto a formatos <em>POSIX *</em> se realiza mediante las funciones <code>as.POSIXct()</code> y <code>as.POSIXlt()</code> .  Estas funciones tienen un pequeño conjunto de argumentos. </p><br><ul><li>  x: el número, cadena u objeto de la clase de <em>fecha</em> que se convertirá; </li><li>  tz: zona horaria, el valor predeterminado es "GMT"; </li><li>  formato: descripción del formato de fecha en que se presentan los datos pasados ​​en el argumento x; </li><li>  origen: se usa solo al convertir un número a POSIX, debe pasar un objeto de fecha a este argumento y el tiempo a partir del cual se cuentan los segundos.  Normalmente se usa para la traducción de UNIXTIME. </li></ul><br><p>  Si sus datos de fecha y hora se presentan en <em>UNIXTIME</em> , utilice el siguiente ejemplo para convertirlos en una fecha comprensible y legible: </p><br><pre> <code class="plaintext hljs">#  UNIXTIME    as.POSIXlt(1570084639, origin = "1970-01-01")</code> </pre> <br><p>  En origen, puede especificar cualquier marca de tiempo.  Por ejemplo, si en sus datos la fecha y la hora se indican como la cantidad de segundos que comienzan el 15 de septiembre de 2019 a las 12:15, para convertirlas en una fecha, use: </p><br><pre> <code class="plaintext hljs">#  UNIXTIME       15  2019 12:15 as.POSIXlt(1546123, origin = "2019-09-15 12:15:00")</code> </pre> <br><h1 id="rabota-s-datami-s-pomoschyu-paketa-lubridate">  Trabajando con fechas con el paquete lubridate </h1><br><p>  <code>lubridate</code> quizás el paquete más popular para trabajar con fechas en R. Le proporciona tres clases más adicionales. </p><br><ul><li>  duraciones - duración, es decir  número de segundos entre dos marcas de tiempo; </li><li>  períodos: los períodos le permiten realizar cálculos entre fechas de intervalos legibles por humanos: días, meses, semanas, etc. </li><li>  intervalos: objetos que proporcionan el punto inicial y final en el tiempo. </li></ul><br><p>  La instalación de paquetes adicionales en el lenguaje R se realiza mediante la función estándar <code>install.packages()</code> . </p><br><p>  Instalación del paquete <code>lubridate</code> : </p><br><pre> <code class="plaintext hljs">install.packages("lubridate")</code> </pre> <br><h3 id="preobrazovanie-teksta-v-datu-s-pomoschyu-lubridate">  Convertir texto a fecha usando lubridate </h3><br><p>  Las funciones del paquete <code>lubridate</code> simplifican enormemente el proceso de conversión de texto a fecha, y también le permiten realizar cualquier operación aritmética con fechas y horas. </p><br><p>  Las funciones <code>today()</code> y <code>now()</code> lo ayudarán a obtener la fecha actual, o la fecha y la hora. </p><br><pre> <code class="plaintext hljs">today() #   now() #    </code> </pre> <br><p>  Para convertir una cadena en una fecha, <code>lubridate</code> tiene una familia completa de funciones cuyos nombres siempre consisten en tres letras e indican una secuencia de componentes de fecha: </p><br><ul><li>  y - año </li><li>  m - mes </li><li>  d - día </li></ul><br><div class="spoiler">  <b class="spoiler_title">Lista de funciones para convertir texto a la fecha a través de lubridate</b> <div class="spoiler_text"><ul><li> <code>ymd()</code> </li> <li> <code>ydm()</code> </li> <li> <code>mdy()</code> </li> <li> <code>myd()</code> </li> <li> <code>dmy()</code> </li> <li> <code>dym()</code> </li> <li> <code>yq()</code> </li> </ul></div></div><br><p>  Algunos ejemplos para convertir cadenas a fechas: </p><br><pre> <code class="plaintext hljs">ymd("2017 jan 21") mdy("March 20th, 2019") dmy("1st april of 2018")</code> </pre> <br><p>  Como puede ver, <code>lubridate</code> mucho más eficiente para reconocer descripciones de fechas en forma de texto, y le permite convertir texto a fecha sin usar operadores adicionales para describir el formato. </p><br><h3 id="izvlechenie-komponentov-dat-s-pomoschyu-paketa-lubridate">  Recuperando componentes de fecha usando el paquete lubridate </h3><br><p>  También usando <code>lubridate</code> puede obtener cualquier componente de una fecha: </p><br><pre> <code class="plaintext hljs">dt &lt;- ymd("2017 jan 21") year(dt) #  month(dt) #  mday(dt) #    yday(dt) #    wday(dt) #  </code> </pre> <br><h3 id="arifmeticheskie-operacii-s-datami">  Operaciones aritméticas con fechas. </h3><br><p>  Pero, la funcionalidad más importante y básica de <code>lubridate</code> es la capacidad de realizar varias operaciones aritméticas con fechas. </p><br><p>  El redondeo de una fecha se realiza mediante tres funciones: </p><br><ul><li>  <code>floor_date</code> - redondeando a la hora pasada más cercana </li><li>  <code>ceiling_date</code> - redondeando al futuro cercano </li><li>  <code>round_date</code> - redondeando a la hora más cercana </li></ul><br><p>  Cada una de estas funciones tiene un argumento de <em>unidad</em> , que le permite especificar una unidad de redondeo: segundo, minuto, hora, día, semana, mes, bimestre, trimestre, temporada, medio año, año </p><br><pre> <code class="plaintext hljs">dt &lt;- ymd("2017 jan 21") round_date(dt, unit = "month") #    round_date(dt, unit = "3 month") #   3  round_date(dt, unit = "quarter") #    round_date(dt, unit = "season") #    round_date(dt, unit = "halfyear") #   </code> </pre> <br><p>  Entonces, descubramos cómo obtener una fecha que será 8 días después de la fecha actual y realicemos otros cálculos aritméticos entre dos fechas. </p><br><pre> <code class="plaintext hljs">today() + days(8) #     8  today() - months(2) #    2   today() + weeks(12) #     12  today() - years(2) #    2  </code> </pre> <br><h1 id="uproschyonnaya-rabota-s-periodami-paket-timeperiodsr">  Trabajo simplificado con períodos, paquete timeperiodsR. </h1><br><p>  <code>timeperiodsR</code> es un paquete nuevo para trabajar con fechas que se publicó en CRAN en septiembre de 2019. </p><br><p>  Instalación del paquete <code>timeperiodsR</code> : </p><br><pre> <code class="plaintext hljs">install.packages("timeperiodsR")</code> </pre> <br><p>  El objetivo principal es determinar rápidamente un cierto intervalo de tiempo en relación con una fecha determinada.  Por ejemplo, usando sus funciones, puede fácilmente: </p><br><ul><li>  Obtenga la última semana, mes, trimestre o año en R. </li><li>  Obtenga el número especificado de intervalos de tiempo relativos a la fecha, por ejemplo, las últimas 4 semanas. </li><li>  Es fácil extraer sus componentes del intervalo de tiempo obtenido: las fechas de inicio y finalización, el número de días que caen dentro del intervalo, la secuencia completa de fechas que lo ingresan. </li></ul><br><p>  El nombre de todas las funciones del paquete <code>timeperiodsR</code> intuitivo y consta de dos partes: <em>dirección</em> _ <em>intervalo</em> , donde: </p><br><ul><li>  <strong>dirección</strong> en la que es necesario moverse en relación con una fecha determinada: last_n, previous, this, next, next_n. </li><li>  <strong>intervalo de</strong> tiempo para calcular el período: día, semana, mes, trimestre, año. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Conjunto completo de funciones:</b> <div class="spoiler_text"><ul><li> <code>last_n_days()</code> </li> <li> <code>last_n_weeks()</code> </li> <li> <code>last_n_months()</code> </li> <li> <code>last_n_quarters()</code> </li> <li> <code>last_n_years()</code> </li> <li> <code>previous_week()</code> </li> <li> <code>previous_month()</code> </li> <li> <code>previous_quarter()</code> </li> <li> <code>previous_year()</code> </li> <li> <code>this_week()</code> </li> <li> <code>this_month()</code> </li> <li> <code>this_quarter()</code> </li> <li> <code>this_year()</code> </li> <li> <code>next_week()</code> </li> <li> <code>next_month()</code> </li> <li> <code>next_quarter()</code> </li> <li> <code>next_year()</code> </li> <li> <code>next_n_days()</code> </li> <li> <code>next_n_weeks()</code> </li> <li> <code>next_n_months()</code> </li> <li> <code>next_n_quarters()</code> </li> <li> <code>next_n_years()</code> </li> <li> <code>custom_period()</code> </li> </ul></div></div><br><h3 id="vremennye-intervaly-v-timeperiodsr">  Intervalos de tiempo en períodos de tiempo R </h3><br><p>  Estas funciones son útiles cuando necesita crear informes basados ​​en datos de la última semana o mes.  Para obtener el último mes, use la función del mismo nombre <code>previous_month()</code> : </p><br><pre> <code class="plaintext hljs">prmonth &lt;- previous_month()</code> </pre> <br><p>  Después de lo cual tendrá un objeto <em>prprth</em> de la clase <em>tpr</em> , desde el cual puede obtener fácilmente los siguientes componentes: </p><br><ul><li>  fecha de inicio del período, en nuestro ejemplo este es el último mes </li><li>  fecha de finalización del período </li><li>  el número de días incluidos en el período </li><li>  secuencia de fechas incluidas en el período </li></ul><br><p>  Además, puede obtener cada uno de los componentes de diferentes maneras: </p><br><pre> <code class="plaintext hljs">#    prmonth$start start(prmonth) #    prmonth$end end(prmonth) #   prmonth$sequence seq(prmonth) #      prmonth$length length(prmonth)</code> </pre> <br><p>  También puede obtener cualquiera de los componentes utilizando el argumento de <em>parte</em> , que está presente en cada una de las funciones del paquete.  Valores posibles: inicio, final, secuencia, longitud. </p><br><pre> <code class="plaintext hljs">previous_month(part = "start") #   previous_month(part = "end") #   previous_month(part = "sequence") #   previous_month(part = "length") #    </code> </pre> <br><p>  Entonces, veamos todos los argumentos disponibles en las funciones del paquete <code>timeperiodsR</code> : </p><br><ul><li>  <code>x</code> : la fecha de referencia a partir de la cual se calculará el período de tiempo; de forma predeterminada, la fecha actual; </li><li>  <code>n</code> - El número de intervalos que se incluirán en el período, por ejemplo, 3 semanas anteriores; </li><li>  <code>part</code> : qué componente del objeto <code>tpr</code> necesita obtener, por defecto <code>all</code> ; </li><li>  <code>week_start</code> : el argumento está presente solo en las funciones para trabajar con semanas, y le permite especificar el número del día de la semana que se considerará su comienzo, de manera predeterminada, el comienzo de la semana es lunes, pero puede especificar cualquiera de 1 - lunes a 7 - domingo. </li></ul><br><p>  Por lo tanto, puede calcular cualquier período de tiempo relativo a la fecha actual o cualquier otra fecha dada, daré algunos ejemplos más: </p><br><hr><br><pre> <code class="plaintext hljs">#  3   #  6  2019  #   -  last_n_weeks(x = "2019-10-06", n = 3, week_start = 1)</code> </pre> <br><pre> <code class="plaintext hljs"> Time period: from 9 September of 2019, Monday to 29 September of 2019, Sunday</code> </pre> <br><p>  6 de octubre es domingo: <br><img src="https://habrastorage.org/getpro/habr/post_images/32c/cca/606/32ccca60658416fc953de4ed8016226e.png" alt="6 de octubre de 2019"></p><br><p>  Necesitamos un período que, en relación con el 6 de octubre, tome 3 semanas anteriores.  No incluye la semana del 6 de octubre.  En consecuencia, este es el período del 9 al 29 de septiembre. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/68f/749/599/68f7495999a3da01e764710b169a5a2b.png" alt="3 semanas a partir del 6 de octubre de 2019"></p><br><hr><br><pre> <code class="plaintext hljs">#     4  #  16  2019  previous_month(x = "2019-09-16", n = 4)</code> </pre> <br><pre> <code class="plaintext hljs"> Time period: from 1 May of 2019, Wednesday to 31 May of 2019, Friday</code> </pre> <br><p>  En este ejemplo, estamos interesados ​​en el mes que fue hace 4 meses, si procedemos del 16 de septiembre de 2019, en consecuencia, fue mayo de 2019. </p><br><h3 id="filtraciya-vektora-dat-s-pomoschyu-timeperiodsr">  Filtrar un vector de fecha con períodos de tiempo R </h3><br><p>  Existen varios operadores para filtrar fechas en <code>timeperiodsR</code> de tiempo <code>timeperiodsR</code> : </p><br><ul><li>  % left_out%: compara dos objetos de la clase tpr y devuelve el valor de la izquierda, que no está en la derecha. </li><li>  % left_in%: compara dos objetos de la clase tpr y devuelve fechas del objeto izquierdo que se incluyen en el derecho. </li><li>  % right_out%: compara dos objetos de la clase tpr y devuelve el valor de la derecha, que está ausente en la izquierda. </li><li>  % right_in%: compara dos objetos de la clase tpr y devuelve las fechas del objeto derecho que están presentes en el izquierdo. </li></ul><br><pre> <code class="plaintext hljs">period1 &lt;- this_month("2019-11-07") period2 &lt;- previous_week("2019-11-07") period1 %left_in% period2 #    period1    period2 period1 %left_out% period2 #    period1     period2 period1 %right_in% period2 #    period2    period1 period1 %right_out% period2 #    period2     period1</code> </pre> <br><h1 id="zaklyuchenie">  Conclusión </h1><br><p>  Examinamos en detalle las clases de objetos que están diseñados en el lenguaje R para trabajar con fechas.  Además, ahora puede realizar operaciones aritméticas en fechas y obtener rápidamente cualquier período de tiempo utilizando el paquete <code>timeperiodsR</code> . </p><br><p>  Si está interesado en el lenguaje R, lo invito a suscribirse a mi canal de telegramas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">R4marketing</a> , en el que a diario comparto materiales útiles sobre el uso del lenguaje R para resolver mis tareas cotidianas. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469215/">https://habr.com/ru/post/469215/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469203/index.html">Fuerte "caffe" para el desayuno y los hackathons: por qué es importante para el desarrollo de la comunidad de Data Science</a></li>
<li><a href="../469205/index.html">Datos del museo Art. Desempaquete "Electrónica MS 0511"</a></li>
<li><a href="../469209/index.html">La diferencia entre las lámparas LED de Philips y las caras</a></li>
<li><a href="../469211/index.html">Cómo ICD está desarrollando un ecosistema para clientes bancarios</a></li>
<li><a href="../469213/index.html">Explorando analizadores combinatorios con Rust</a></li>
<li><a href="../469217/index.html">En mi humilde opinión Saint TeamLead Conf 2019</a></li>
<li><a href="../469219/index.html">Las 20 mejores funciones de navegación en IntelliJ IDEA. Parte 2</a></li>
<li><a href="../469221/index.html">Cascadeur: prediciendo la pose de seis puntos de un personaje</a></li>
<li><a href="../469223/index.html">Retroiluminación LED como puerta trasera</a></li>
<li><a href="../469229/index.html">Proyecto de clubes de robótica "GoROBO": una startup del acelerador de la Universidad ITMO lo hace</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>