<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîè üç± üëµüèº Test de performances des applications Flutter üî∂ üö† üò´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le framework Flutter fonctionne bien et rapidement par d√©faut, mais cela signifie-t-il que vous n'avez pas du tout besoin de penser aux performances? ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Test de performances des applications Flutter</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451840/"><p>  Le framework Flutter fonctionne bien et rapidement par d√©faut, mais cela signifie-t-il que vous n'avez pas du tout besoin de penser aux performances?  Non.  Il est absolument r√©el d'√©crire des applications Flutter qui seront lentes.  D'autre part, vous pouvez √©galement utiliser le framework au maximum et rendre vos applications non seulement rapides, mais aussi efficaces, consommant moins de temps processeur et batterie. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/bb9/950/aa7/bb9950aa7d75e64e402d3ffdd8958c97.png"></p><br><p> <em>Voici ce que nous voulons voir: un r√©sultat statistiquement significatif de la comparaison de deux versions de votre application par une m√©trique significative.</em>  <em>Lisez la suite pour savoir comment.</em> </p><a name="habracut"></a><br><p>  Il existe quelques directives g√©n√©rales pour optimiser les performances dans Flutter: </p><br><ul><li>  Engagez le moins de widgets possible lors de la mise √† jour de l'√©tat. </li><li>  Mettre √† jour l'√©tat uniquement lorsque cela est n√©cessaire. </li><li> Supprimez les t√¢ches gourmandes en calcul de vos m√©thodes de <code>build</code> et, id√©alement, de l'isolat principal. </li></ul><br><p>  La triste v√©rit√© est que pour de nombreuses questions sur l'optimisation des performances, la r√©ponse sera ¬´quelle chance¬ª.  Cette optimisation particuli√®re vaut-elle l'effort et le co√ªt de maintenance pour ce widget particulier?  Cette approche particuli√®re a-t-elle un sens dans cette situation particuli√®re? </p><br><p>  La seule r√©ponse utile √† ces questions est le test et la mesure.  Quantifiez la fa√ßon dont chaque choix affecte les performances et prenez des d√©cisions en fonction de ces donn√©es. </p><br><p>  La bonne nouvelle est que Flutter fournit d'excellents outils de profilage des performances comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dart DevTools</a> (actuellement dans la version d'aper√ßu), qui comprend l'inspecteur Flutter, ou vous pouvez utiliser l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">inspecteur Flutter</a> directement √† partir d'Android Studio (avec le plugin Flutter install√©).  Vous disposez d'un <code>Flutter Driver</code> pour tester votre application et le <code>Profile mode</code> pour enregistrer les informations de performances. </p><br><p>  La mauvaise nouvelle est que les smartphones modernes sont trop intelligents. </p><br><h1 id="problema-s-regulyatorami">  Le probl√®me avec les r√©gulateurs </h1><br><p>  La quantification des performances des applications Flutter est particuli√®rement difficile pour les contr√¥leurs iOS et Android.  Ces <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©mons au</a> niveau du syst√®me contr√¥lent la vitesse des processeurs centraux et graphiques en fonction de la charge.  Bien s√ªr, cela est bon, car il offre un fonctionnement fluide avec une consommation de batterie r√©duite. </p><br><p>  L'inconv√©nient est que vous pouvez rendre votre application beaucoup plus rapide en augmentant la quantit√© de travail qu'elle effectue. </p><br><p>  Vous pouvez voir ci-dessous comment l'ajout d'un cycle d'appels d'impression sans signification √† l'application a fait passer le r√©gulateur √† une fr√©quence accrue, ce qui a rendu l'application beaucoup plus rapide et ses performances plus pr√©visibles. <br><img src="https://habrastorage.org/getpro/habr/post_images/0bd/5e4/b29/0bd5e4b299bc338e4a65aba9f0a91bda.png"></p><br><p>  <em>Le probl√®me avec les r√©gulateurs: par d√©faut, vous ne pouvez pas faire confiance √† vos num√©ros.</em>  <em>Dans ce diagramme d'√©tendue, nous avons des ex√©cutions distinctes sur l'axe x (marqu√©es par l'heure exacte √† laquelle elles ont commenc√©) et le temps de g√©n√©ration sur l'axe Y. Comme vous pouvez le voir, lorsque nous introduisons des instructions d'impression compl√®tement inutiles, cela conduit au fait que le temps de construction diminue mais pas en place.</em> </p><br><p>  Dans cette exp√©rience, le pire code a entra√Æn√© un temps de construction plus rapide (voir ci-dessus), un temps de tramage plus rapide et une fr√©quence d'images plus √©lev√©e.  Lorsqu'un code objectivement pire conduit √† des indicateurs de performance am√©lior√©s, vous ne pouvez pas vous fier √† ces indicateurs comme guide (recommandation). </p><br><p>  Ce n'est qu'un exemple de la fa√ßon dont les tests de performances des applications mobiles peuvent √™tre intuitifs et complexes. </p><br><p>  Ci-dessous, je partage quelques-uns des conseils que j'ai rassembl√©s en travaillant sur l'application <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Developer Quest de</a> Flutter pour Google I / O. </p><br><h1 id="obschie-sovety">  Conseils g√©n√©raux </h1><br><ul><li>  Ne mesurez pas les performances en mode d√©bogage ( <code>DEBUG mode</code> ).  Mesurez les performances uniquement en <code>Profile mode</code> profil. </li><li>  Mesurez sur un appareil r√©el, pas sur iOS Simulator ou Android Emulator.  Les √©mulateurs logiciels sont parfaits pour le d√©veloppement, mais ont des caract√©ristiques de performances diff√©rentes des vraies.  Flutter ne vous permettra pas de travailler en mode profilage sur un appareil simul√©, car cela n'a aucun sens.  Les donn√©es que vous collectez de cette mani√®re ne s'appliquent pas aux performances r√©elles. </li><li>  Id√©alement, utilisez exactement le m√™me appareil physique.  Faites-en votre appareil de test de performances d√©di√© et ne l'utilisez jamais pour autre chose. </li><li>  D√©couvrez les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outils de profilage des performances</a> Flutter. </li></ul><br><h1 id="cpugpu-regulyatory">  R√©gulateurs CPU / GPU </h1><br><p>  Comme indiqu√© ci-dessus, les syst√®mes d'exploitation modernes modifient la fr√©quence de chaque processeur et GPU √† leur disposition en fonction de la charge et de certaines autres heuristiques.  (Par exemple, toucher l'√©cran augmente g√©n√©ralement la vitesse de votre t√©l√©phone Android.) </p><br><p>  Sur Android, vous pouvez d√©sactiver ces contr√¥les.  Nous appelons ce processus ¬´verrouillage de mise √† l'√©chelle¬ª. </p><br><ul><li>  Cr√©ez un script qui d√©sactive les commandes de votre appareil pour tester les performances.  Vous pouvez utiliser l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple Skia</a> pour vous inspirer.  Vous pouvez √©galement consulter l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API CPU Unix</a> . </li><li>  Vous voudrez peut-√™tre quelque chose de moins polyvalent et plus l√©ger si vous ne faites pas autant de tests que Skia.  Consultez le script shell dans Developer Quest pour voir o√π aller.  Par exemple, la partie suivante du script d√©finit la CPU pour le contr√¥leur d'espace utilisateur (le seul contr√¥leur qui ne modifie pas la fr√©quence du processeur lui-m√™me). <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env bash GOV="userspace" echo "Setting CPU governor to: ${GOV}" adb shell "echo ${GOV} &gt; /sys/devices/system/cpu/cpu${CPU_NO}/cpufreq/scaling_governor" ACTUAL_GOV=`adb shell "cat /sys/devices/system/cpu/cpu${CPU_NO}/cpufreq/scaling_governor"` echo "- result: ${ACTUAL_GOV}"</span></span></code> </pre> </li><li>  Votre objectif ici n'est pas de simuler des performances r√©elles (les utilisateurs n'√©teignent pas les r√©gulateurs sur leurs appareils), mais d'avoir des indicateurs de performances comparables entre les d√©marrages. </li><li>  √Ä la fin, vous devez exp√©rimenter et adapter le script shell au p√©riph√©rique que vous utiliserez.  Cela fonctionne, mais jusqu'√† ce que vous le fassiez, vos donn√©es de performances vous tromperont. </li></ul><br><p><img src="https://habrastorage.org/webt/x4/fw/o5/x4fwo5lyzfo7osrcbjgpfjd7whi.gif"></p><br><p>  <em>Une premi√®re version de Developer Quest, test√©e avec le pilote Flutter sur mon bureau.</em> </p><br><h1 id="flutter-driver">  Pilote de flottement </h1><br><p>  Flutter Driver vous permet de tester automatiquement votre application.  Lisez la section <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Performance Profiling¬ª</a> sur flutter.dev pour savoir comment l'utiliser lors du profilage de votre application. </p><br><ul><li>  Pour tester les performances, ne testez pas manuellement votre application.  Utilisez toujours le pilote Flutter pour obtenir des donn√©es vraiment indicatives. </li><li>  √âcrivez votre code de pilote Flutter pour qu'il v√©rifie ce que vous voulez vraiment mesurer.  Si vous avez besoin des performances globales de l'application, essayez de parcourir toutes les parties de l'application et faites ce que l'utilisateur ferait. </li><li>  Si votre application comporte un √©l√©ment de caract√®re al√©atoire ( <code>Random</code> , √©v√©nements de r√©seau, etc.), cr√©ez un "faux" pour de telles situations.  Les tests doivent √™tre aussi proches les uns des autres que possible. </li><li>  Si vous le souhaitez, vous pouvez ajouter des √©v√©nements personnalis√©s √† la chronologie √† l'aide des <code>startSync()</code> et <code>finishSync()</code> de la classe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Timeline</a> .  Cela peut √™tre utile si vous √™tes int√©ress√© par les performances d'une fonction particuli√®re.  Mettez <code>startSync()</code> √† son d√©but et <code>finishSync()</code> √† sa fin. </li><li>  Enregistrez √† la fois le r√©sum√© ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">writeSummaryToFile</a> ) et, plus important encore, la chronologie brute ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">writeTimelineToFile</a> ). </li><li>  Testez plusieurs fois chaque version de votre application.  Pour Developer Quest, j'ai pass√© 100 d√©marrages.  (Lorsque vous mesurez des choses qui peuvent √™tre bruyantes, comme l'utilisation de la m√©trique p99, vous pourriez avoir besoin de beaucoup plus d'ex√©cutions.) Pour les syst√®mes bas√©s sur POSIX, cela signifie simplement faire quelque chose comme ceci: <code>for i in {1..100}; do flutter drive --target=test_driver/perf.dart --profile; done</code> <code>for i in {1..100}; do flutter drive --target=test_driver/perf.dart --profile; done</code>  <code>for i in {1..100}; do flutter drive --target=test_driver/perf.dart --profile; done</code> . <br><img src="https://habrastorage.org/getpro/habr/post_images/add/92b/950/add92b950ec34ce95edb9095a57186a3.png"></li></ul><br><p>  <em>Outil de chronologie de Chrome pour v√©rifier les r√©sultats de profilage dans Flutter.</em> </p><br><h1 id="timeline">  Chronologie </h1><br><p>  La chronologie est la sortie brute de vos r√©sultats de profilage.  Flutter √©crit ces informations dans un fichier JSON, qui peut √™tre t√©l√©charg√© dans <code>chrome://tracing</code> . </p><br><ul><li>  D√©couvrez comment ouvrir la chronologie compl√®te dans Chrome.  Vous ouvrez simplement <code>chrome://tracing</code> dans le navigateur Chrome, cliquez sur ¬´Charger¬ª et s√©lectionnez le fichier JSON.  Vous pouvez en lire plus dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce petit guide</a> .  (Il existe √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un outil de chronologie Flutter</a> qui se trouve actuellement dans l'aper√ßu technique. Je ne l'ai pas utilis√© car le projet Developer Quest a √©t√© lanc√© avant que les outils Flutter ne soient pr√™ts.) </li><li>  Utilisez les touches WSAD pour parcourir la chronologie dans <code>chrome://tracing</code> et 1234 pour changer les modes de fonctionnement. </li><li>  Lorsque vous configurez les tests de performances pour la premi√®re fois, envisagez d'ex√©cuter Flutter Driver avec l'outil Systrace Android.  Cela vous donne une meilleure id√©e de ce qui se passe r√©ellement dans l'appareil, y compris des informations sur la mise √† l'√©chelle de la fr√©quence du processeur.  Ne mesurez pas l'application enti√®re avec Systrace, car cela rendra tout plus lent et moins pr√©visible. </li><li>  Comment ex√©cuter Android Systrace avec Flutter Driver?  Tout d'abord, lancez Android Systrace avec <code>/path/to/your/android/sdk/platform-tools/systrace/systrace.py --atrace-categories=gfx,input,view,webview,wm,am,sm,audio,video,camera,hal,app,res,dalvik,rs,bionic,power,pm,ss,database,network,adb,pdx,sched,irq,freq,idle,disk,load,workq,memreclaim,regulators,binder_driver,binder_lock</code> .  Ensuite, <code>flutter run test_driver/perf.dart --profile --trace-systrace</code> application <code>flutter run test_driver/perf.dart --profile --trace-systrace</code> .  Enfin, ex√©cutez Flutter Driver <code>flutter drive --driver=test_driver/perf_test.dart --use-existing-app=http://127.0.0.1:NNNNN/</code> (o√π NNNNN est le port qui vous donne l'application de flutter √† ex√©cuter ci-dessus). </li></ul><br><h1 id="metriki">  Mesures </h1><br><p>  Il vaut mieux regarder autant de m√©triques que possible, mais j'ai d√©cid√© que certaines sont plus utiles que d'autres. </p><br><ul><li><p>  Le temps de g√©n√©ration et le temps de pixellisation (les m√©triques fournies par d√©faut √† l'aide de <code>TimelineSummary</code> ) ne sont utiles que pour les tests de performances vraiment difficiles, qui ne comprennent pas grand-chose d'autre que la cr√©ation d'une interface utilisateur. </p><br></li><li><p>  Ne consid√©rez pas <code>TimelineSummary.frameCount</code> comme un moyen de calculer des images par seconde (FPS).  Les outils de profilage Flutter ne fournissent pas d'informations sur la fr√©quence d'images r√©elle.  <code>TimelineSummary</code> fournit la m√©thode <code>countFrames()</code> , mais elle ne compte que le nombre d'assemblages de trames termin√©s.  Une application bien optimis√©e qui limite les reconstructions (mises √† jour) inutiles aura un FPS inf√©rieur √† une application non optimis√©e qui reconstruit fr√©quemment. </p><br></li><li><p>  Personnellement, j'obtiens les donn√©es les plus utiles en mesurant le temps processeur total pass√© √† ex√©cuter le code Dart.  Cela compte le code ex√©cut√© √† la fois dans vos m√©thodes de <code>build</code> et en dehors.  En supposant que vous ex√©cutez des tests de profilage sur un appareil verrouill√© √† l'√©chelle, le temps total du processeur peut √™tre consid√©r√© comme une bonne approximation de la quantit√© de batterie plus / moins consomm√©e par votre application. <br><img src="https://habrastorage.org/getpro/habr/post_images/bca/5e4/cf8/bca5e4cf8e41dc0fbb7a314de92ef507.png"></p><br></li><li><p>  Le moyen le plus simple de conna√Ætre le temps processeur total pass√© √† ex√©cuter le code Dart est d'estimer le nombre d'√©v√©nements <code>MessageLoop:FlushTasks</code> sur la chronologie.  Pour Developer Quest, j'ai √©crit <a href="">un outil Dart</a> pour les extraire. </p><br></li><li><p>  Pour rechercher les fichiers ind√©sirables (corbeille) (c'est-√†-dire les images perdues), recherchez les extr√™mes.  Par exemple, pour un cas sp√©cifique de Developer Quest et le p√©riph√©rique sur lequel nous avons test√©, il est utile de jeter un ≈ìil au temps de g√©n√©ration du 95e centile.  (Le temps de g√©n√©ration du 90e centile √©tait trop similaire, m√™me si vous comparez le code avec des niveaux de performances compl√®tement diff√©rents, et les nombres du 99e centile sont g√©n√©ralement bruyants. Vos performances peuvent varier.) <br><img src="https://habrastorage.org/getpro/habr/post_images/496/e74/50c/496e7450c256ea47b319c66b7faea88d.png"></p><br></li><li><p>  Comme mentionn√© ci-dessus, testez chaque version de votre application plusieurs (peut-√™tre 100) fois.  Utilisez ensuite des donn√©es moyennes ou centiles avec des champs d'erreur.  Mieux encore, utilisez des tableaux de r√©partition. </p><br></li></ul><br><h1 id="rezultaty">  R√©sultats </h1><br><p>  Apr√®s le r√©glage, vous pouvez comparer en toute confiance les validations et mener des exp√©riences.  Ci-dessous, vous pouvez voir la r√©ponse √† un dilemme commun: "cette optimisation des co√ªts de maintenance en vaut-elle la peine?" <br><img src="https://habrastorage.org/getpro/habr/post_images/6e7/2c7/0e0/6e72c70e0077c95ce8d68abe26d886f5.png"></p><br><p>  Je pense que dans <em>ce</em> cas <em>particulier</em> , la r√©ponse est oui.  Gr√¢ce √† quelques lignes de code, chaque passage automatis√© de notre application prend en moyenne 12% de temps CPU en moins. </p><br><p>  Mais - et c'est le principal message de cet article - les mesures d'une autre optimisation peuvent montrer quelque chose de compl√®tement diff√©rent.  Il est tentant mais erron√© d'essayer d'extrapoler une mesure de performance trop largement. </p><br><p>  En d'autres termes: "quelle chance."  Et nous devons le supporter. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451840/">https://habr.com/ru/post/fr451840/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451826/index.html">Stimuler l'absurdit√© marketing: des cas prouv√©s</a></li>
<li><a href="../fr451828/index.html">Le principal secret de Google I / O 2019, introuvable sur Internet</a></li>
<li><a href="../fr451830/index.html">En bref avec la mise en ≈ìuvre de la BCE AES 128</a></li>
<li><a href="../fr451832/index.html">Comment comprendre quand les mandataires sont allong√©s: v√©rification des emplacements physiques des mandataires du r√©seau √† l'aide de l'algorithme de g√©olocalisation actif</a></li>
<li><a href="../fr451834/index.html">Accidents majeurs dans les centres de donn√©es: causes et effets</a></li>
<li><a href="../fr451842/index.html">Se retrouver</a></li>
<li><a href="../fr451848/index.html">Automatisation de la gestion des certificats SSL de Let's Encrypt √† l'aide du d√©fi DNS-01 et d'AWS</a></li>
<li><a href="../fr451852/index.html">Ex√©cution de code arbitraire √† distance dans RDP</a></li>
<li><a href="../fr451854/index.html">Interview - 10 questions sur Swift. Partie 1</a></li>
<li><a href="../fr451856/index.html">Installez openmeetings 5.0.0-M1. Conf√©rences WEB sans Flash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>