<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐤 👨🏻‍🍳 💾 So machen Sie Codeüberprüfungen schneller und effizienter 👩🏾‍🤝‍👨🏼 🚴🏿 👧🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie erfolgt normalerweise eine Codeüberprüfung? Sie senden eine Poolanfrage, erhalten Feedback, nehmen Korrekturen vor, senden Korrekturen für eine zw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So machen Sie Codeüberprüfungen schneller und effizienter</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/443402/"><img src="https://habrastorage.org/webt/gt/ju/n7/gtjun7gekpsrao-jtxcywmayajg.jpeg" alt="Bild"><br><br>  Wie erfolgt normalerweise eine Codeüberprüfung?  Sie senden eine Poolanfrage, erhalten Feedback, nehmen Korrekturen vor, senden Korrekturen für eine zweite Überprüfung, erhalten dann die Genehmigung und führen eine Zusammenführung durch.  Es klingt einfach, aber in Wirklichkeit kann der Überprüfungsprozess sehr zeitaufwändig sein. <br><br>  Stellen Sie sich vor, Sie haben eine Poolanfrage mit Hunderten von Änderungszeilen.  Der Prüfer sollte viel Zeit darauf verwenden, den Code vollständig zu lesen und die vorgeschlagenen Änderungen zu verstehen.  Infolgedessen kann der gesamte Prozess von der Erstellung einer Poolanforderung bis zu ihrer Genehmigung mehrere Tage dauern - dies ist sowohl für den Prüfer als auch für den Autor der Änderungen nicht sehr angenehm.  Und die Chancen stehen gut, dass der Rezensent am Ende noch etwas verpasst.  Oder die Prüfung ist möglicherweise zu oberflächlich, und im schlimmsten Fall kann die Poolanforderung sofort abgelehnt werden. <br><br>  Es stellt sich heraus, dass die Überprüfung umso geringer ist, je größer die Poolanforderung ist. <br><a name="habracut"></a><br>  Wie vermeide ich solche Situationen?  Wie kann die Poolanfrage für den Prüfer einfacher und verständlicher gemacht und der gesamte Prozess optimiert werden? <br><br>  <i>Wir übersetzen einen Artikel unseres Backend-Entwicklers Sergey Zhuk über die Funktionsweise des Codeüberprüfungsprozesses des Skyeng-Teams für mobile Anwendungen.</i> <i><br></i> <br><h2>  Kategorien ändern </h2><br>  Stellen wir uns vor, Sie haben eine Aufgabe - neue Funktionen im Projekt zu implementieren.  Die Poolanforderung, an der Sie arbeiten, kann verschiedene Kategorien von Änderungen enthalten.  Natürlich wird es einen neuen Code geben.  Im Laufe der Arbeit stellen Sie jedoch möglicherweise fest, dass einige Codes im Voraus überarbeitet werden müssen, damit neue Funktionen hinzugefügt werden können.  Oder mit dieser neuen Funktionalität wurde eine Duplizierung in dem Code angezeigt, den Sie entfernen möchten.  Oder Sie haben plötzlich einen Fehler gefunden und möchten ihn beheben.  Wie soll die endgültige Poolanfrage aussehen? <br><br>  Schauen wir uns zunächst an, welche Kategorien von Änderungen mit Code auftreten können. <br><br><ol><li>  Funktionsänderungen. </li><li>  Strukturelles Refactoring - Änderungen an Klassen, Schnittstellen, Methoden und Bewegungen zwischen Klassen. </li><li>  Einfaches Refactoring - kann mithilfe der IDE durchgeführt werden (z. B. Extrahieren von Variablen / Methoden / Konstanten, Vereinfachen von Bedingungen). </li><li>  Klassen umbenennen und verschieben - Namespace neu organisieren. </li><li>  Nicht verwendeten (toten) Code entfernen. </li><li>  Korrekturcode-Stil. </li></ol><br><h2>  Strategieüberprüfung </h2><br>  Es ist sehr wichtig zu verstehen, dass jede dieser Kategorien unterschiedlich überprüft wird, und wenn der Prüfer sie berücksichtigt, sollte er sich auf verschiedene Dinge konzentrieren.  Man kann sagen, dass jede Kategorie von Änderungen ihre eigene Überprüfungsstrategie beinhaltet. <br><br><ol><li>  <b>Funktionsänderung:</b> Lösung von Geschäftsproblemen und Systemdesign. </li><li>  <b>Strukturelles Refactoring:</b> Abwärtskompatibilität und Designverbesserung. </li><li>  <b>Primitives Refactoring:</b> Verbesserte Lesbarkeit.  Diese Änderungen können hauptsächlich mithilfe der IDE vorgenommen werden (z. B. Extrahieren von Variablen / Methoden / Konstanten usw.). </li><li>  <b>Klassen umbenennen / verschieben: Hat sich die</b> Namespace-Struktur verbessert? </li><li>  <b>Nicht verwendeten Code entfernen:</b> abwärtskompatibel. </li><li> <b>Korrekturcodestil:</b> Meistens erfolgt die Zusammenführungspoolanforderung sofort. </li></ol><br>  Es werden verschiedene Ansätze verwendet, um Änderungen in verschiedenen Kategorien zu überprüfen. Daher variiert auch der Zeit- und Arbeitsaufwand für deren Überprüfung. <br><br>  <b>Funktionsänderungen.</b>  Dies ist der längste Prozess, da die Domänenlogik geändert werden muss.  Der Prüfer prüft, ob das Problem behoben ist, und prüft, ob die vorgeschlagene Lösung am besten geeignet ist oder verbessert werden kann. <br><br>  <b>Strukturelles Refactoring.</b>  Dieser Prozess benötigt viel weniger Zeit als funktionale Änderungen.  Es kann jedoch Vorschläge und Meinungsverschiedenheiten darüber geben, wie genau der Code organisiert werden soll. <br><br>  Wenn in 99% der Fälle die verbleibenden Kategorien überprüft werden, erfolgt die Zusammenführung sofort. <br><br><ol><li>  Einfaches Refactoring.  Ist der Code lesbarer geworden?  - Merzhim. </li><li>  Klassen umbenennen / verschieben.  Wurde die Klasse in einen besseren Namespace verschoben? - Merzh. </li><li>  Das Entfernen von nicht verwendetem (totem) Code ist merzhim. </li><li>  Korrekturen Codestil oder Formatierung - merzh.  Ihre Kollegen sollten dies während der Codeüberprüfung nicht überprüfen, dies ist die Aufgabe des Linter. </li></ol><br><h2>  Warum sollten Änderungen kategorisiert werden? </h2><br>  Wir haben bereits diskutiert, dass verschiedene Kategorien von Änderungen unterschiedlich überarbeitet werden.  Beispielsweise überprüfen wir funktionale Änderungen basierend auf den Geschäftsanforderungen und beim strukturellen Refactoring die Abwärtskompatibilität.  Und wenn wir mehrere Kategorien mischen, wird es für den Prüfer schwierig sein, mehrere Prüfungsstrategien gleichzeitig im Auge zu behalten.  Und höchstwahrscheinlich wird der Prüfer mehr Zeit als nötig mit der Poolanforderung verbringen, und aus diesem Grund kann er etwas verpassen.  Wenn die Poolanforderung verschiedene Arten von Änderungen enthält, muss der Prüfer bei jeder Korrektur alle diese Kategorien erneut überarbeiten.  Zum Beispiel haben Sie strukturelles Refactoring und funktionale Änderungen gemischt.  Auch wenn das Refactoring gut durchgeführt wird, aber ein Problem mit der Implementierung der Funktion vorliegt, muss der Prüfer nach den Korrekturen von Anfang an die gesamte Poolanforderung prüfen.  Überprüfen Sie sowohl das Refactoring als auch die Funktionsänderungen erneut.  Der Prüfer verbringt also mehr Zeit mit der Poolanforderung.  Anstatt sofort eine separate Poolanforderung mit Refactoring in Betracht zu ziehen, sollte der Prüfer den gesamten Code erneut überprüfen. <br><br><h2>  Was genau ist es nicht wert, gemischt zu werden </h2><br>  <b>Umbenennen / Löschen einer Klasse und deren Umgestaltung.</b>  Hier stoßen wir auf Git, das solche Änderungen nicht immer richtig versteht.  Ich meine große Änderungen, wenn sich viele Zeilen ändern.  Wenn Sie eine Klasse umgestalten und dann irgendwohin verschieben, nimmt Git sie nicht als bewegend wahr.  Stattdessen interpretiert Git diese Änderungen so, dass eine Klasse entfernt und eine andere erstellt wird.  Dies führt zu einer Reihe von Fragen während der Codeüberprüfung.  Und der Autor des Codes wird gefragt, warum er diesen hässlichen Code geschrieben hat, obwohl dieser Code mit geringfügigen Änderungen einfach von einem Ort zum anderen verschoben wurde. <br><br>  <b>Alle funktionalen Änderungen + jegliches Refactoring.</b>  Wir haben diesen Fall bereits oben besprochen.  Dies führt dazu, dass der Prüfer zwei Überprüfungsstrategien gleichzeitig im Auge behält.  Selbst wenn das Refactoring gut durchgeführt wird, können wir diese Änderungen nicht verzögern, bis funktionale Änderungen genehmigt werden. <br><br>  <b>Alle mechanischen Änderungen + alle vom Menschen vorgenommenen Änderungen.</b>  Mit "mechanischen Änderungen" meine ich jede Formatierung, die mit der IDE oder der Codegenerierung durchgeführt wird.  Zum Beispiel wenden wir den neuen Codestil an und erhalten 3000 Zeilenänderungen.  Und wenn wir diese Änderungen mit funktionalen oder anderen von einer Person vorgenommenen Änderungen mischen, werden wir den Prüfer zwingen, diese Änderungen und Gründe mental zu klassifizieren: Dies ist eine Änderung, die von einem Computer vorgenommen wird - sie kann übersprungen werden, und diese von einer Person vorgenommene Änderung ist erforderlich auschecken.  Der Prüfer verbringt also viel zusätzliche Zeit mit der Überprüfung. <br><br><h2>  Beispiel </h2><br>  Hier ist eine Poolanforderung mit einer Methodenfunktion, die die Clientverbindung zu Memcached sanft schließt: <br><br><img src="https://habrastorage.org/webt/wp/wl/yd/wpwlydfdjopmq-u3bmqz4ied0yg.gif" alt="Bild"><br><br>  Selbst wenn die Poolanforderung klein ist und nur hundert Codezeilen enthält, ist es immer noch schwierig, sie zu überprüfen.  Wie Sie den Commits entnehmen können, enthält es verschiedene Kategorien von Änderungen: <br><br><ul><li>  funktional (neuer Code), </li><li>  Refactoring (Erstellen / Verschieben von Klassen), </li><li>  Korrekturcode-Stil (Entfernen überschüssiger Dockblöcke). </li></ul><br>  Gleichzeitig umfasst die neue Funktionalität selbst nur 10 Zeilen: <br><br><img src="https://habrastorage.org/webt/o9/-u/ab/o9-uabrrduisot1lhx4irj0wiue.png" alt="Bild"><br><br>  Infolgedessen sollte der Prüfer den gesamten Code und überprüfen <br><br><ul><li>  Stellen Sie sicher, dass das Refactoring in Ordnung ist. </li><li>  Überprüfen Sie, ob die neue Funktionalität korrekt implementiert ist. </li><li>  Stellen Sie fest, ob diese Änderung automatisch von der IDE oder von der Person generiert wurde. </li></ul><br>  Daher ist eine solche Poolanforderung schwer zu überprüfen.  Um die Situation zu korrigieren, können Sie diese Commits in separate Zweige aufteilen und für jeden einen Pool von Anforderungen erstellen. <br><br><h3>  1. Refactoring: Klassenextraktion </h3><br><img src="https://habrastorage.org/webt/7y/ai/j5/7yaij5qwqbtplzc69gyygb6pegc.gif" alt="Bild"><br><br>  Es gibt nur zwei Dateien.  Der Prüfer sollte nur das neue Design überprüfen.  Wenn alles in Ordnung ist - Merzhim. <br><br><h3>  2. Der nächste Schritt ist auch das Refactoring. Wir verschieben die beiden Klassen einfach in einen neuen Namespace </h3><br><img src="https://habrastorage.org/webt/ts/oz/wc/tsozwcmiscduh_kuxl0faixxa_c.gif" alt="Bild"><br><br>  Eine solche Poolanforderung ist recht einfach zu überprüfen und kann sofort instanziiert werden. <br><br><h3>  3. Überschüssige Dockblöcke entfernen </h3><br><img src="https://habrastorage.org/webt/hb/gb/-q/hbgb-qzdyajjvwh0pb2ifizephq.gif" alt="Bild"><br><br>  Nichts interessantes hier.  Merzhim. <br><br><h3>  4. Die Funktion selbst </h3><br><img src="https://habrastorage.org/webt/mj/32/i_/mj32i_k_kskqinnkqyngw1rzzck.gif" alt="Bild"><br><br>  Und jetzt enthält die Poolanforderung mit Funktionsänderungen nur noch den gewünschten Code.  Ihr Prüfer kann sich also nur auf diese Aufgabe konzentrieren.  Die Poolanfrage ist klein und leicht zu überprüfen. <br><br><h2>  Fazit </h2><br>  <b>Faustregel:</b> <br><blockquote>  Erstellen Sie keine großen Poolanforderungen mit gemischten Änderungskategorien. </blockquote>  Je größer die Poolanforderung ist, desto schwieriger ist es für den Prüfer, die von Ihnen vorgeschlagenen Änderungen zu verstehen.  Höchstwahrscheinlich wird eine große Poolanfrage mit Hunderten von Codezeilen abgelehnt.  Teilen Sie es stattdessen in kleine logische Teile auf.  Wenn Ihr Refactoring in Ordnung ist, Funktionsänderungen jedoch Fehler enthalten, kann das Refactoring leicht zurückgehalten werden, sodass Sie und Ihr Prüfer sich auf die Funktionalität konzentrieren können, ohne den gesamten Code von Anfang an zu betrachten. <br><br>  Befolgen Sie immer die folgenden Schritte, bevor Sie die Poolanforderung senden: <br><br><ul><li>  Optimieren Sie Ihren Code zum Lesen.  Code ist viel besser lesbar als geschrieben; </li><li>  Beschreiben Sie die vorgeschlagenen Änderungen, um den notwendigen Kontext für ihr Verständnis bereitzustellen. </li><li>  Überprüfen Sie immer Ihren Code, bevor Sie eine Poolanforderung erstellen.  Und tun Sie es so, als wäre es der Code eines anderen.  Manchmal hilft es, etwas zu finden, das Sie verpasst haben.  Dies verringert die Wahrscheinlichkeit der Ablehnung Ihrer Poolanforderung und die Anzahl der Korrekturen. </li></ul><br>  Mein Kollege <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Oleg Antonevich</a> erzählte mir von der Idee, Änderungen in Kategorien zu unterteilen. <br><br>  <i>Vom Herausgeber: Sergey schreibt viele interessante Dinge über Programmierung und PHP, und manchmal übersetzen wir etwas: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Streaming-Videoserver</a> , der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HTML-Dateien rendert</a> .</i>  <i>Fühlen Sie sich frei, ihm Fragen in den Kommentaren zu diesem Artikel zu stellen - er wird antworten!</i> <i><br><br></i>  <i>Wir erinnern Sie auch daran, dass wir immer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">viele interessante Stellen</a> für Entwickler haben!</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443402/">https://habr.com/ru/post/de443402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443392/index.html">Spielspeicherverlauf: von Passwörtern auf Papier bis zu Wolken</a></li>
<li><a href="../de443394/index.html">Blazor 0.9.0 experimentelle Version jetzt verfügbar</a></li>
<li><a href="../de443396/index.html">3D-Druck und Airsoft: Wie ich "Laufwerk" gedruckt habe</a></li>
<li><a href="../de443398/index.html">Implementierung von ERP in Industrieunternehmen: Alevtina Svetozarovna und Excel gegen harte Architekten und die englische Fabrik</a></li>
<li><a href="../de443400/index.html">Zählen von Fehlern im Windows-Rechner</a></li>
<li><a href="../de443404/index.html">Das neue Ziel der NASA für die Suche nach außerirdischen Zivilisationen: technologische Zeichen</a></li>
<li><a href="../de443406/index.html">Top 20 Fehler bei der Arbeit mit Multithreading in C ++ und Möglichkeiten, sie zu vermeiden</a></li>
<li><a href="../de443408/index.html">Photonen, Quanten und Fock-Zustand: Manipulationen auf Quantenebene mit einem Hochfrequenzresonator</a></li>
<li><a href="../de443412/index.html">Warum Programmierer weiterhin ausführliches Java verwenden, obwohl es prägnantes Python gibt</a></li>
<li><a href="../de443414/index.html">Wegweiser: Wenn Haltepunkte nicht ausreichen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>