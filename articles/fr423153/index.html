<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÇ üóúÔ∏è üìØ Guide Node.js, partie 2: JavaScript, V8, quelques astuces de d√©veloppement üßùüèæ ü§¶üèΩ üèè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En publiant la premi√®re partie de la traduction de ce guide sur Node.js, nous avons d√©cid√© de conna√Ætre l'opinion du public sur l'opportunit√© de conti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guide Node.js, partie 2: JavaScript, V8, quelques astuces de d√©veloppement</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423153/">  En publiant la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re partie de la</a> traduction de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> guide sur Node.js, nous avons d√©cid√© de conna√Ætre l'opinion du public sur l'opportunit√© de continuer √† travailler sur le projet et avons men√© une petite enqu√™te.  Il s'est av√©r√© qu'environ 94% de ceux qui ont vot√© ont appuy√© notre initiative.  Alors rencontrez la deuxi√®me partie du tutoriel Node.js. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br>  Aujourd'hui, nous allons parler du type de connaissances JS dont vous avez besoin pour d√©velopper efficacement des applications pour la plate-forme Node.js, discuter des diff√©rences entre le navigateur et le code JavaScript c√¥t√© serveur, et parler des moteurs JS et de certaines techniques de d√©veloppement Node.js. <br><br><div class="spoiler">  <b class="spoiler_title">[Nous vous conseillons de lire] Autres parties du cycle</b> <div class="spoiler_text">  Partie 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations g√©n√©rales et mise en route</a> <br>  Partie 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JavaScript, V8, quelques astuces de d√©veloppement</a> <br>  Partie 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">H√©bergement, REPL, travailler avec la console, les modules</a> <br>  Partie 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fichiers npm, package.json et package-lock.json</a> <br>  Partie 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm et npx</a> <br>  Partie 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">boucle d'√©v√©nements, pile d'appels, temporisateurs</a> <br>  Partie 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Programmation asynchrone</a> <br>  Partie 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, Partie 8: Protocoles HTTP et WebSocket</a> <br>  Partie 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, partie 9: utilisation du syst√®me de fichiers</a> <br>  Partie 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, Partie 10: Modules standard, flux, bases de donn√©es, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PDF complet du guide Node.js</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">De quel type de connaissances JS ai-je besoin pour le d√©veloppement de Node.js?</font> </h2><br>  Supposons que vous venez de commencer la programmation.  √Ä quelle profondeur avez-vous besoin d'apprendre JavaScript pour r√©ussir √† ma√Ætriser Node.js?  Il est difficile pour un d√©butant d'atteindre un tel niveau lorsqu'il acquiert une confiance suffisante dans ses comp√©tences professionnelles.  En outre, lorsque vous √©tudiez la programmation, vous pouvez penser que vous ne comprenez pas exactement o√π se termine JavaScript du navigateur et le d√©veloppement de Node.js. <br><br>  Si vous √™tes au tout d√©but du chemin d'un programmeur JavaScript, je vous conseillerais, avant d'√©crire pour Node.js, de bien ma√Ætriser les concepts de langage suivants: <br><br><ul><li>  Constructions lexicales. </li><li>  Expressions. </li><li>  Types. </li><li>  Variables </li><li>  Les fonctions </li><li>  Ce mot-cl√©. </li><li>  Fonctions fl√©ch√©es </li><li>  Cycles </li><li>  Port√©es. </li><li>  Tableaux </li><li>  Cha√Ænes de mod√®le. </li><li>  Appliquez un point-virgule. </li><li>  Travaillez en mode strict. </li></ul><br>  En fait, cette liste continue, mais si vous ma√Ætrisez tout cela, cela signifie que vous jetterez une bonne base pour un d√©veloppement productif des clients et des serveurs en JavaScript. <br>  Les concepts de langage suivants sont √©galement tr√®s importants pour comprendre les id√©es de programmation asynchrone, qui sont l'une des parties de base de Node.js.  En particulier, nous parlons de ce qui suit: <br><br><ul><li>  Fonctions de programmation et de rappel asynchrones. </li><li>  Minuteries. </li><li>  Des promesses. </li><li>  Construction asynchrone / wait. </li><li>  Court-circuits. </li><li>  Cycle d'√©v√©nements. </li></ul><br>  Il existe de nombreux supports JavaScript qui permettent aux d√©butants d'apprendre la langue.  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici</a> le cours de formation de l'auteur pour ce guide, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici une</a> section tr√®s utile de MDN, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici le</a> tutoriel pour javascript.ru.  Vous pouvez apprendre les m√©canismes JavaScript de base sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">freecodecamp.com</a> . <br><br>  Ci-dessus, nous avons parl√© de la fa√ßon dont les d√©butants peuvent √™tre pr√©occup√©s par la question de savoir o√π se situe la fronti√®re entre le d√©veloppement JavaScript du serveur et du client.  Parlons-en. <br><br><h2>  <font color="#3AC1EF">Diff√©rences entre la plateforme Node.js et le navigateur</font> </h2><br>  En quoi le d√©veloppement JS pour Node.js est-il diff√©rent de la programmation par navigateur?  La similitude entre ces environnements est que le m√™me langage est utilis√© √† la fois l√† et l√†.  Mais le d√©veloppement d'applications con√ßues pour s'ex√©cuter dans un navigateur est tr√®s diff√©rent du d√©veloppement d'applications serveur.  Malgr√© l'utilisation du m√™me langage, il existe certaines diff√©rences cl√©s qui transforment ces deux types de d√©veloppement en activit√©s compl√®tement diff√©rentes. <br><br>  Il convient de noter que si quelqu'un qui avait l'habitude de faire l'apprentissage frontal pour d√©marrer Node.js, il a une occasion tr√®s s√©rieuse de ma√Ætriser rapidement tout ce qui est n√©cessaire car il √©crira dans une langue qu'il conna√Æt d√©j√†.  Si le besoin d'apprendre un nouvel environnement est ajout√© et le besoin d'apprendre une nouvelle langue, la t√¢che est beaucoup plus compliqu√©e. <br>  Ainsi, la principale diff√©rence entre le client et le serveur est l'environnement pour lequel vous devez programmer, dans les √©cosyst√®mes de ces environnements. <br><br>  Dans le navigateur, la majeure partie du travail concerne diverses op√©rations avec des documents Web via le DOM, ainsi que l'utilisation d'autres API de plate-forme Web, telles que, par exemple, des m√©canismes pour travailler avec des cookies.  Node.js, bien s√ªr, a tout cela.  Il n'y a aucun objet <code>document</code> , aucun objet <code>window</code> , ainsi que d'autres objets fournis par le navigateur. <br><br>  Le navigateur, quant √† lui, ne dispose pas des m√©canismes logiciels disponibles dans l'environnement Node.js et existe sous la forme de modules pouvant √™tre connect√©s √† l'application.  Par exemple, il s'agit d'une API pour acc√©der au syst√®me de fichiers. <br><br>  Une autre diff√©rence entre le d√©veloppement client et serveur dans JS est que lorsque vous travaillez dans un environnement Node.js, le d√©veloppeur a un contr√¥le total sur l'environnement.  Sauf si vous d√©veloppez une application open source qui peut √™tre ex√©cut√©e n'importe o√π, vous savez exactement, par exemple, sur quelle version de Node.js votre projet fonctionnera.  C'est tr√®s pratique par rapport √† l'environnement client o√π votre code doit fonctionner dans le navigateur de l'utilisateur.  De plus, cela signifie que vous pouvez, sans crainte de probl√®mes, utiliser les derni√®res fonctionnalit√©s de la langue. <br><br>  √âtant donn√© que JavaScript se d√©veloppe extr√™mement rapidement, les navigateurs n'ont tout simplement pas assez de temps pour mettre en ≈ìuvre rapidement toutes ses innovations.  De plus, tous les utilisateurs ne travaillent pas sur les derni√®res versions des navigateurs.  En cons√©quence, les d√©veloppeurs qui souhaitent utiliser quelque chose de nouveau dans leurs programmes sont oblig√©s d'en tenir compte, de veiller √† la compatibilit√© de leurs applications avec les navigateurs qu'ils utilisent, ce qui peut entra√Æner la n√©cessit√© d'abandonner les fonctionnalit√©s JavaScript modernes.  Vous pouvez bien s√ªr utiliser le transporteur Babel pour convertir le code dans un format compatible avec la norme EcmaScript 5, qui est pris en charge par tous les navigateurs, mais vous n'en aurez pas besoin lorsque vous travaillerez avec Node.js. <br><br>  Une autre diff√©rence entre Node.js et les navigateurs est que Node.js utilise le syst√®me de modules <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CommonJS</a> , tandis que dans les navigateurs, vous pouvez voir le d√©but de la mise en ≈ìuvre de la norme ES Modules.  En pratique, cela signifie qu'actuellement dans Node.js, la construction <code>require()</code> est utilis√©e pour connecter le code externe et l' <code>import</code> dans le code du navigateur. <br><br><h2>  <font color="#3AC1EF">V8 et autres moteurs JavaScript</font> </h2><br>  V8 est le nom du moteur JavaScript utilis√© dans le navigateur Google Chrome.  C'est lui qui est responsable de l'ex√©cution du code JavaScript, qui p√©n√®tre dans le navigateur lorsque l'on travaille sur Internet.  V8 fournit un runtime pour JavaScript.  DOM et autres API de plate-forme Web sont fournis par le navigateur. <br><br>  Le moteur JS est ind√©pendant du navigateur dans lequel il s'ex√©cute.  C'est ce fait qui a permis l'√©mergence et le d√©veloppement de la plateforme Node.js.  Le V8 a √©t√© choisi comme moteur pour Node.js en 2009.  En raison de la croissance explosive de la popularit√©, Node.js V8 s'est av√©r√© √™tre un moteur qui est maintenant responsable de l'ex√©cution d'une √©norme quantit√© de code JS c√¥t√© serveur. <br><br>  L'√©cosyst√®me de Node.js est immense.  Gr√¢ce √† cela, le V8 est √©galement utilis√©, √† travers des projets comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Electron</a> , pour d√©velopper des applications bureautiques. <br><br>  Il convient de noter qu'en plus du V8, il existe d'autres moteurs: <br><br><ul><li>  Firefox utilise le moteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SpiderMonkey</a> . </li><li>  Safari utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JavaScriptCore</a> (√©galement appel√© Nitro). </li><li>  Edge utilise le moteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chakra</a> . </li></ul><br>  La liste des moteurs JS ne se limite pas √† cela. <br><br>  Ces moteurs impl√©mentent la sp√©cification ECMA-262, √©galement appel√©e ECMAScript.  C'est cette sp√©cification qui standardise JavaScript.  La derni√®re version de la norme est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h3>  <font color="#3AC1EF">D√©veloppement du moteur JS et aspiration aux performances</font> </h3><br>  Le moteur V8 est √©crit en C ++, il est constamment am√©lior√©.  Il peut fonctionner sur de nombreux syst√®mes, en particulier Mac, Windows et Linux.  Ici, nous ne parlerons pas des d√©tails de la mise en ≈ìuvre de la V8.  Des informations √† leur sujet peuvent √™tre trouv√©es dans d'autres publications, y compris sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site officiel de V8</a> .  Ils changent avec le temps, parfois tr√®s s√©rieusement. <br><br>  Le V8 √©volue constamment, on peut en dire autant des autres moteurs.  Cela conduit notamment √† une augmentation des performances des navigateurs Web et de la plateforme Node.js.  Les fabricants de moteurs de navigation sont constamment en concurrence, luttant pour la vitesse d'ex√©cution du code, cela dure depuis de nombreuses ann√©es.  Tout cela profite aux utilisateurs et aux programmeurs. <br><br><h3>  <font color="#3AC1EF">‚ñç Interpr√©tation et compilation</font> </h3><br>  JavaScript est consid√©r√© comme un langage interpr√©t√©, mais les moteurs modernes sont loin de n'interpr√©ter que du code JS.  Ils le compilent.  Cette tendance peut √™tre observ√©e depuis 2009, lorsque le compilateur JavaScript a √©t√© ajout√© dans Firefox 3.5, apr√®s quoi d'autres fabricants de moteurs et de navigateurs ont adopt√© cette id√©e. <br><br>  V8 compile JavaScript pour am√©liorer les performances du code.  Depuis l'av√®nement de Google Maps en 2004, JavaScript a √©volu√©, √©volu√© d'une langue dans laquelle, pour impl√©menter les fonctionnalit√©s interactives des applications Web, ils √©crivaient g√©n√©ralement quelques dizaines de lignes, dans une langue dans laquelle des applications de navigateur compos√©es de milliers voire de centaines sont √©crites. mille lignes de code.  De telles applications peuvent fonctionner pendant des heures dans le navigateur, ce qui est tr√®s diff√©rent des anciens sc√©narios d'utilisation de JS, le code sur lequel, par exemple, ne pouvait √™tre utilis√© que pour v√©rifier l'exactitude des donn√©es saisies dans les formulaires.  Dans les conditions modernes, la compilation du code a beaucoup de sens, car bien que l'ex√©cution de cette √©tape puisse retarder le moment o√π le code est lanc√©, apr√®s la compilation, le code est beaucoup plus productif que celui qui serait trait√© exclusivement par l'interpr√©teur et s'ex√©cuterait plus rapidement, mais fonctionnerait plus lentement. <br><br>  Maintenant, apr√®s avoir discut√© de certaines dispositions concernant les moteurs JS, l'interpr√©tation et la compilation du code, passons √† la pratique.  √Ä savoir, parlons de la fa√ßon de fermer les applications Node.js. <br><br><h2>  <font color="#3AC1EF">Quitter l'application Node.js</font> </h2><br>  Il existe plusieurs fa√ßons de fermer les applications Node.js. <br><br>  Ainsi, lorsque vous ex√©cutez un programme dans la console, vous pouvez terminer son travail en utilisant le raccourci clavier <code>ctrl+c</code> .  Mais nous nous int√©ressons davantage aux m√©thodes logicielles de fermeture des applications.  Et nous allons peut-√™tre commencer par la commande la plus grossi√®re pour quitter le programme, qui, comme vous le comprendrez maintenant, vaut mieux ne pas l'utiliser. <br><br>  Le module de <code>process</code> noyau fournit une m√©thode pratique qui vous permet de quitter par programme une application Node.js.  Cela ressemble √† ceci: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>()</code> </pre> <br>  Lorsque Node.js rencontre une telle commande dans le code, cela conduit au fait que son processus se termine instantan√©ment.  Cela signifie qu'absolument tout ce que le programme a fait sera plut√¥t grossier et interrompu inconditionnellement.  Nous parlons de rappels non invit√©s, de requ√™tes r√©seau en cours d'ex√©cution au moment de la publication, d'actions avec des fichiers, d'op√©rations d'√©criture dans <code>stdout</code> ou <code>stderr</code> . <br><br>  Si cette situation vous convient, vous pouvez utiliser cette m√©thode.  Lorsque vous l'appelez, vous pouvez lui transmettre un entier qui sera per√ßu par le syst√®me d'exploitation comme le code de sortie du programme. <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  Par d√©faut, ce code est d√©fini sur 0, ce qui signifie une r√©ussite.  D'autres codes de sortie ont des significations diff√©rentes, ce qui peut √™tre utile pour les utiliser dans votre propre syst√®me afin d'√©tablir l'interaction de certains programmes avec d'autres. <br>  Des d√©tails sur les codes d'arr√™t du programme peuvent √™tre trouv√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Vous pouvez √©galement affecter un code de sortie √† la propri√©t√© <code>process.exitCode</code> .  Cela ressemble √† ceci: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.exitCode = <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Une fois le programme termin√©, Node.js renverra ce code au syst√®me. <br><br>  Il convient de noter que le travail du programme se terminera naturellement de lui-m√™me apr√®s avoir ex√©cut√© toutes les actions qui y sont sp√©cifi√©es.  Cependant, dans le cas de Node.js, il existe souvent des programmes qui, dans des conditions id√©ales, sont con√ßus pour fonctionner pendant une dur√©e ind√©termin√©e.  Nous parlons, par exemple, de serveurs HTTP comme celui-ci: <br><br><pre> <code class="hljs coffeescript">const express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>) const app = express() app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req, res)</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.send(<span class="hljs-string"><span class="hljs-string">'Hi!'</span></span>) }) app.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Server ready'</span></span>))</code> </pre> <br>  Un tel programme, si rien ne se passe, en th√©orie, peut fonctionner pour toujours.  Dans ce cas, si vous appelez <code>process.exit()</code> , les op√©rations effectu√©es par celui-ci au moment de l'appel de cette commande seront interrompues.  Et c'est mauvais. <br><br>  Pour terminer le travail de ces programmes, vous devez utiliser le signal <code>SIGTERM</code> et effectuer les actions n√©cessaires √† l'aide du gestionnaire appropri√©. <br><br>  Veuillez noter que pour utiliser l'objet de <code>process</code> , vous n'avez pas besoin de connecter quoi que ce soit √† l'aide de <code>require</code> , car cet objet est disponible par d√©faut pour les applications Node.js. <br><br>  Prenons l'exemple suivant: <br><br><pre> <code class="hljs coffeescript">const express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>) const app = express() app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req, res)</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.send(<span class="hljs-string"><span class="hljs-string">'Hi!'</span></span>) }) app.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Server ready'</span></span>)) process.<span class="hljs-literal"><span class="hljs-literal">on</span></span>(<span class="hljs-string"><span class="hljs-string">'SIGTERM'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { app.close(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Process terminated'</span></span>) }) })</code> </pre> <br>  Quels sont les signaux?  Les signaux sont un moyen d'interaction entre les processus dans la norme POSIX (Portable Operating System Interface).  Ce sont des notifications envoy√©es au processus afin de l'informer de certains √©v√©nements. <br><br>  Par exemple, un signal <code>SIGKILL</code> indique √† un processus qu'il doit s'arr√™ter imm√©diatement.  Cela fonctionne id√©alement comme <code>process.exit()</code> . <br><br>  Le signal <code>SIGTERM</code> indique au processus qu'il doit effectuer une proc√©dure d'arr√™t normale.  Ces signaux sont envoy√©s par les gestionnaires de processus, tels que les <code>upstart</code> ou les <code>supervisord</code> , et par de nombreux autres. <br><br>  Vous pouvez envoyer un tel signal √† partir du programme lui-m√™me, en utilisant la commande suivante: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.kill(<span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.pid, <span class="hljs-symbol"><span class="hljs-symbol">'SIGTERM</span></span>')</code> </pre> <br>  Pour mener √† bien une telle commande, vous devez conna√Ætre le <code>PID</code> processus que vous pr√©voyez de terminer. <br><br><h2>  <font color="#3AC1EF">Lecture des variables d'environnement √† partir de Node.js</font> </h2><br>  Le module de noyau de <code>process</code> a la propri√©t√© <code>env</code> , qui donne acc√®s √† toutes les variables d'environnement qui ont √©t√© d√©finies au moment du d√©marrage du processus. <br><br>  Voici un exemple de travail avec la variable d'environnement <code>NODE_ENV</code> , qui, par d√©faut, est d√©finie sur <code>development</code> : <br><br><pre> <code class="hljs mel">process.<span class="hljs-keyword"><span class="hljs-keyword">env</span></span>.NODE_ENV <span class="hljs-comment"><span class="hljs-comment">// "development"</span></span></code> </pre> <br>  Si, avant d'ex√©cuter le script, d√©finissez-le sur <code>production</code> , cela indiquera √† Node.js que le programme s'ex√©cute dans un environnement de production. <br><br>  De m√™me, vous pouvez travailler avec d'autres variables d'environnement, par exemple celles que vous d√©finissez vous-m√™me. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Aujourd'hui, nous avons abord√© la programmation bas√©e sur navigateur et c√¥t√© serveur en JavaScript, parl√© des moteurs JS, comment fermer les applications serveur et comment lire les variables d'environnement √† partir des programmes Node.js.  La prochaine fois, nous parlerons de l'h√©bergement des applications Node.js, comment utiliser Node.js en mode REPL, comment travailler avec des arguments qui peuvent √™tre pass√©s aux scripts lorsqu'ils sont appel√©s, comment interagir avec la console et comment concevoir le code dans le formulaire modules. <br><br>  <b>Chers lecteurs!</b>  Quels tutoriels JavaScript recommanderiez-vous aux d√©butants? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423153/">https://habr.com/ru/post/fr423153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423143/index.html">Octobre Slerm: Intensif sur Kubernetes</a></li>
<li><a href="../fr423145/index.html">Extension PHP et Kotlin Native. Troisi√®me partie, probablement finale</a></li>
<li><a href="../fr423147/index.html">√Ä propos de la strat√©gie et du format de stockage √† l'√®re Hadoop</a></li>
<li><a href="../fr423149/index.html">Comparaison directe des m√©thodes de correction de la myopie au laser ou de ce que vous payez lorsque vous choisissez ReLEx SMILE</a></li>
<li><a href="../fr423151/index.html">Objets globaux en PHP</a></li>
<li><a href="../fr423155/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 8: Mod√®le de s√©curit√© r√©seau, partie 2</a></li>
<li><a href="../fr423157/index.html">Utilisation de la fonction connect () de react-redux</a></li>
<li><a href="../fr423159/index.html">Bonne f√™te du programmeur! Aimez vos d√©veloppeurs</a></li>
<li><a href="../fr423161/index.html">Les entreprises veulent des donn√©es personnelles</a></li>
<li><a href="../fr423163/index.html">Connexion de CryptoPro √† Mono</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>