<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè∞ üõµ üë∑üèº An√°lise de muta√ß√£o ou como testar testes üñ®Ô∏è üö¥ üë∂üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nunca h√° muitos testes - todo mundo sabe disso. Memes sobre testes de unidade e integra√ß√£o n√£o s√£o mais muito divertidos. Mas ainda n√£o sabemos se √© p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>An√°lise de muta√ß√£o ou como testar testes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/421141/">  Nunca h√° muitos testes - todo mundo sabe disso.  Memes sobre testes de unidade e integra√ß√£o n√£o s√£o mais muito divertidos.  Mas ainda n√£o sabemos se √© poss√≠vel confiar nos resultados da aprova√ß√£o nos testes e qual porcentagem de cobertura nos permitir√° n√£o permitir que erros sejam produzidos.  Se altera√ß√µes fatais no c√≥digo ignoram os testes, sem afetar o resultado, a solu√ß√£o sugere a si mesma - voc√™ precisa testar os testes! <br><br><img src="https://habrastorage.org/webt/6w/kv/4n/6wkv4nyll_4lnom-dlicndmsuhu.png"><br><br>  A abordagem para automatizar essa tarefa foi o relat√≥rio de Mark Langovoy no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Frontend Conf</a> .  O v√≠deo e o artigo s√£o curtos, e as id√©ias s√£o muito √∫teis - voc√™ precisa tomar nota. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-1820HwCJUA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Sobre o palestrante:</strong> Mark <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Langovoi</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">marklangovoi</a> ) trabalha em Yandex no projeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Yandex.Tolok</a> .  Esta √© uma plataforma de crowdsourcing para marcar rapidamente grandes quantidades de dados.  Os clientes baixam dados que, por exemplo, precisam ser preparados para uso em algoritmos de aprendizado de m√°quina, e estabelecem um pre√ßo e, por outro lado, os artistas podem concluir tarefas e ganhar dinheiro. <br><br>  Em seu tempo livre, Mark desenvolve o Krasnodar Devodar Developer Days, uma das 19 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comunidades de TI</a> cujos ativistas convidamos para o Frontend Conf em Moscou. <br><br><h2>  Teste <br></h2><br>  Existem diferentes tipos de testes automatizados. <br><img src="https://habrastorage.org/webt/xv/dl/of/xvdlofex2xlqouaertrnrkq804c.png"><br><br>  Durante <strong>testes de unidade</strong> populares <strong>,</strong> escrevemos testes para pequenas pe√ßas (m√≥dulos) de um aplicativo.  Eles s√£o f√°ceis de escrever, mas √†s vezes durante a integra√ß√£o com outros m√≥dulos, eles podem n√£o se comportar exatamente como esper√°vamos. <br><br>  Para evitar isso, podemos escrever <strong>testes de integra√ß√£o</strong> que testar√£o a opera√ß√£o de nossos m√≥dulos juntos. <br><img src="https://habrastorage.org/webt/ri/6k/gy/ri6kgykpne6mwcobow5wqwhphmq.png"><br><br>  Eles s√£o um pouco mais complicados, ent√£o hoje vamos nos concentrar nos testes de unidade. <br><br><h2>  Teste de unidade <br></h2><br>  Qualquer projeto que queira pelo menos alguma estabilidade m√≠nima est√° escrevendo testes de unidade. <br><br>  Considere um exemplo. <br><br><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Signal</span></span></span><span class="hljs-class"> </span></span>{ on(callback) { ... } off(callback) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callbackIndex = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners.indexOf(callback); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (callbackIndex === <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners = [ ...this.listeners.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, callbackIndex - <span class="hljs-number"><span class="hljs-number">1</span></span>), ...this.listeners.slice(callbackIndex) ]; } trigger() { ... } }</code> </pre> <br>  Existe uma classe Signal - este √© um emissor de eventos, que possui um m√©todo ativado para inscri√ß√£o e um m√©todo desativado para excluir uma assinatura - verificamos se o retorno de chamada est√° contido na matriz de assinantes e, em seguida, exclu√≠-lo.  E, √© claro, existe um m√©todo de acionador que chamar√° retornos de chamada assinados. <br><br>  Temos um teste simples para este exemplo que chama os m√©todos on e off e, em seguida, o acionador, para verificar se o retorno de chamada n√£o foi chamado ap√≥s o cancelamento da inscri√ß√£o. <br><br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'off method should remove listener'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> signal = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Signal(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> wasCalled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callback = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { wasCalled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }; signal.on(callback); signal.off(callback); signal.trigger(); expect(wasCalled).toBeFalsy(); });</code> </pre><br><h3>  Crit√©rios de avalia√ß√£o da qualidade <br></h3><br>  Quais s√£o os crit√©rios para avaliar a qualidade desse teste? <br><br>  <strong>A cobertura de c√≥digo</strong> √© o crit√©rio mais popular e conhecido que mostra quantos por cento das linhas de c√≥digo foram executadas quando o teste foi executado. <br><img src="https://habrastorage.org/webt/8q/i8/om/8qi8om5vmjpwbthvc31xspmwtcu.png"><br><br>  Voc√™ pode ter uma cobertura de c√≥digo de 70%, 80% ou toda a 90%, mas isso significa que quando voc√™ coletar a pr√≥xima compila√ß√£o para produ√ß√£o, tudo ficar√° bem ou algo pode dar errado? <br><br>  Vamos voltar ao nosso exemplo. <br><br>  Sexta √† noite, voc√™ est√° cansado, est√° terminando o pr√≥ximo recurso.  E ent√£o voc√™ encontra esse c√≥digo que seu colega escreveu.  Algo sobre voc√™ parecia complicado e assustador para voc√™. <br><br><pre> <code class="javascript hljs"> ...this.listeners.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, callbackIndex - <span class="hljs-number"><span class="hljs-number">1</span></span>), ...this.listeners.slice(callbackIndex)</code> </pre><br>  Voc√™ decidiu que provavelmente pode limpar a matriz: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Signal</span></span></span><span class="hljs-class"> </span></span>{ ... off(callback) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callbackIndex = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners.indexOf(callback); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (callbackIndex === <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listeners = []; } ... }</code> </pre><br>  Comprometi-me, montei o projeto e enviei-o para produ√ß√£o.  Testes aprovados - por que n√£o?  E ele foi descansar em um bar. <br><br><img src="https://habrastorage.org/webt/zv/ds/pb/zvdspbqun8lcjabukmbkna-eivo.png"><br><br>  Mas de repente, tarde da noite, uma liga√ß√£o tocou no receptor, dizendo que tudo estava caindo, as pessoas n√£o podiam usar o produto e, em geral, os neg√≥cios desperdi√ßavam dinheiro!  Voc√™ queima, voc√™ est√° amea√ßado de demiss√£o. <br><br><img src="https://habrastorage.org/webt/5q/ac/4x/5qac4xp9819iwt9dwwue9rfvan8.png"><br><br>  Como lidar com isso?  O que fazer com os testes?  Como pegar tais erros est√∫pidos primitivos?  Quem testar√° os testes? <br><br>  Obviamente, voc√™ pode contratar um ex√©rcito de engenheiros de controle de qualidade - deixe-os sentar e aplaudir nosso aplicativo. <br><br><img src="https://habrastorage.org/webt/5n/7s/rd/5n7srdm7g3tk0iiakgj3oft8zum.png"><br><br>  Ou contrate a automa√ß√£o do controle de qualidade.  Eles podem ser responsabilizados por escrever testes - por que escrever por conta pr√≥pria se h√° pessoas especiais para isso? <br><br>  Mas, na verdade, √© caro, ent√£o hoje falaremos sobre an√°lise mutacional ou teste mutacional. <br><br><h2>  Teste de muta√ß√£o <br></h2><br>  Essa √© uma maneira de automatizar o processo de teste de nossos testes.  Seu objetivo √© identificar testes ineficazes e incompletos, isto √©, de fato, s√£o <strong>testes de teste</strong> . <br><br>  A id√©ia √© alterar trechos de c√≥digo, executar testes neles e, se os testes n√£o ca√≠rem, eles estar√£o incompletos. <br><br>  As altera√ß√µes s√£o feitas usando certas opera√ß√µes - <strong>mutadores</strong> .  Eles substituem, por exemplo, mais por menos, multiplicam por divis√£o e outras opera√ß√µes semelhantes.  Os mutadores podem alterar trechos de c√≥digo, substituir condi√ß√µes em enquanto, zero matrizes em vez de adicionar algum elemento √† matriz. <br><img src="https://habrastorage.org/webt/mu/xh/nb/muxhnbcmixwyzkp3xwoa5t0zywi.png"><br><br>  Como resultado da aplica√ß√£o de muta√ß√µes ao c√≥digo-fonte, ele sofre muta√ß√£o e se torna um <strong>mutante</strong> . <br><br>  Os mutantes s√£o divididos em duas categorias: <br><br><ol><li>  <strong>Morto</strong> - aqueles em que conseguimos identificar desvios, ou seja, nos quais pelo menos um teste caiu. </li><li>  <strong>Os sobreviventes</strong> foram os que fugiram de n√≥s e trouxeram o bug para a produ√ß√£o. </li></ol><br>  Para avaliar a qualidade, existe uma m√©trica <strong>MSI (Mutation Score Indicator)</strong> - a porcentagem de mutantes mortos e sobreviventes.  Quanto maior a diferen√ßa entre testes de cobertura de c√≥digo e MSI, pior a porcentagem de cobertura de c√≥digo reflete a relev√¢ncia de nossos testes. <br><br>  Isso era um pouco de teoria, e agora considere como ele pode ser usado em JavaScript. <br><br><h3>  Solu√ß√£o Javascript <br></h3><br>  Existe apenas uma ferramenta de teste de muta√ß√£o em desenvolvimento ativo no JavaScript - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Stryker</a> .  Este nome foi dado ao instrumento em homenagem ao personagem do X-homem William Stryker - o criador de "Arma X" e um lutador com todos os mutantes. <br><br><img src="https://habrastorage.org/webt/6w/kv/4n/6wkv4nyll_4lnom-dlicndmsuhu.png"><br><br>  Stryker n√£o √© um corredor de teste como Karma ou Jest;  nem √© uma estrutura de teste como Mocha ou Jasmine.  Essa √© uma estrutura de teste de muta√ß√£o que complementa sua infraestrutura atual. <br><br><h3>  Sistema de plug-in <br></h3><br>  O Stryker √© muito flex√≠vel, totalmente constru√≠do em um sistema de plug-in, a maioria dos quais √© escrita por desenvolvedores do Stryker. <br><img src="https://habrastorage.org/webt/j3/2r/-n/j32r-ns1i8trfuitelgg3y_dpqu.png"><br><br>  Existem plugins para executar testes no Jest, Karma e Mocha.  Existe integra√ß√£o com os frameworks Mocha (stryker-mocha-framework) Jasmine (stryker-jasmine) e conjuntos de mutadores prontos para JavaScript, TypeScript e at√© para o Vue: <br><br><ul><li>  mutador stryker-javascript; </li><li>  stryker-typescript; </li><li>  Stryker-Vue-Mutator. </li></ul><br>  Mutators for React est√£o inclu√≠dos no stryker-javascript-mutator.  Al√©m disso, voc√™ sempre pode escrever seus pr√≥prios mutadores. <br><br>  Se voc√™ precisar converter o c√≥digo antes da execu√ß√£o, poder√° usar plug-ins para Webpack, Babel ou TypeScript. <br><img src="https://habrastorage.org/webt/6f/qi/b3/6fqib3tsj-cjmqcnmpiyc45rmc4.png"><br><br>  Tudo isso √© configurado de forma relativamente simples. <br><br><h3>  Configura√ß√£o <br></h3><br>  A configura√ß√£o n√£o √© dif√≠cil: voc√™ s√≥ precisa especificar na configura√ß√£o JSON qual executor de teste (e / ou estrutura de teste e / ou transpiler) voc√™ usa, al√©m de instalar os plugins apropriados a partir do npm. <br><br>  O simples utilit√°rio de console <strong>stryker-cli</strong> pode fazer tudo isso em um modo de pergunta e resposta.  Ela perguntar√° o que voc√™ usa e se configurar√°. <br><br><h3>  Como isso funciona? <br></h3><br>  O ciclo de vida √© simples e consiste nas seguintes etapas: <br><br><ul><li>  Lendo e analisando a configura√ß√£o.  Stryker baixa a configura√ß√£o e analisa-a para v√°rios plugins, configura√ß√µes, exclus√£o de arquivos, etc. </li><li>  Fa√ßa o download de plugins de acordo com a configura√ß√£o. </li><li>  Executando testes no c√≥digo-fonte para verificar se os testes s√£o relevantes agora (de repente eles j√° est√£o quebrados). </li><li>  Se tudo estiver bem, um conjunto de mutantes ser√° gerado a partir dos arquivos que permitimos que sejam alterados. </li><li>  Executando testes em mutantes. </li></ul><br><img src="https://habrastorage.org/webt/6v/ww/yn/6vwwynfb_hq570upwyur0zrp5fq.png"><br><br>  Acima est√° um exemplo de como iniciar o Stryker: <br><br><ul><li>  Stryker inicia; </li><li>  l√™ uma configura√ß√£o; </li><li>  carrega as depend√™ncias necess√°rias; </li><li>  localiza arquivos que sofrer√£o muta√ß√£o; </li><li>  executa testes no c√≥digo fonte; </li><li>  cria 152 mutantes; </li><li>  executa testes em 8 threads (neste caso, com base no n√∫mero de n√∫cleos da CPU). </li></ul><br>  Como n√£o √© um processo r√°pido, √© melhor faz√™-lo em alguns servidores de CI / CD. <br><br>  Ap√≥s passar em todos os testes, Stryker fornece um breve relat√≥rio sobre os arquivos com o n√∫mero de mutantes criados, mortos e sobreviventes, bem como a porcentagem da propor√ß√£o de mutantes mortos para sobreviventes (MSI) e os mutadores usados. <br><br>  Esses s√£o problemas em potencial que n√£o estavam previstos em nossos testes. <br><br><h3>  Resumir <br></h3><br>  <strong>O teste de muta√ß√£o √© √∫til e interessante</strong> .  Ele pode encontrar problemas nos est√°gios iniciais dos testes e sem a participa√ß√£o de pessoas.  Isso reduzir√° o tempo para valida√ß√£o de solicita√ß√£o de recebimento, por exemplo, devido ao fato de que desenvolvedores qualificados n√£o ter√£o que gastar tempo na valida√ß√£o de solicita√ß√£o de recebimento, que j√° tem problemas em potencial.  Ou salve a produ√ß√£o se voc√™ decidir preparar um novo lan√ßamento na sexta √† noite. <br><br>  Stryker √© uma ferramenta flex√≠vel de teste de muta√ß√µes multithread.  Est√° em desenvolvimento ativo, mas at√© agora √∫mido, ainda n√£o chegou √† vers√£o principal.  Por exemplo, durante a prepara√ß√£o deste relat√≥rio, seus desenvolvedores finalmente tornaram poss√≠vel no plug-in para Babel especificar o arquivo de configura√ß√£o e corrigir a integra√ß√£o Jest.  Este √© um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projeto</a> OpenSource que pode ser ajudado a desenvolver. <br><br><div class="spoiler">  <b class="spoiler_title">Perguntas frequentes</b> <div class="spoiler_text">  <em>- Como testar testes de muta√ß√£o?</em>  <em>Certamente, tamb√©m h√° um erro.</em>  <em>No primeiro exemplo de teste de unidade, a cobertura foi de 90%.</em>  <em>Parece que est√° tudo bem, mas ainda assim os casos escaparam quando tudo caiu e pegou fogo.</em>  <em>Por conseguinte, por que deveria haver a sensa√ß√£o de que est√° tudo bem depois de cobrir esses testes mutacionais?</em> <br><br>  - N√£o estou dizendo que o teste de muta√ß√£o √© uma bala de prata e curar√° tudo.  Naturalmente, pode haver alguns casos loucos lim√≠trofes ou a aus√™ncia de algum tipo de mutador.  Primeiro de tudo, erros t√≠picos s√£o facilmente capturados.  Por exemplo, voc√™ coloca uma verifica√ß√£o na idade, define-a para &lt;18 (era necess√°rio &lt;=) e no teste esqueceu de fazer uma verifica√ß√£o de caso de fronteira.  Voc√™ fez outra compara√ß√£o com o mutador e, como resultado, o teste caiu (ou n√£o caiu) e voc√™ entende que tudo est√° bom ou tudo est√° ruim.  Tais coisas s√£o rapidamente capturadas.  Esta √© uma maneira de simplesmente anexar testes corretamente, encontrar pontos ausentes. <br><br>  <em>- Muitas vezes voc√™ tem uma situa√ß√£o de "atordoado e saiu"?</em>  <em>Eu acho que isso n√£o √© verdade.</em> <br><br>  - N√£o, mas acho que em muitos projetos essas coisas existem.  Naturalmente, isso n√£o √© verdade.  Muitas pessoas pensam que a cobertura do c√≥digo ajuda a verificar tudo, voc√™ pode sair com seguran√ßa e n√£o se preocupar - mas n√£o √© assim. <br><br>  <em>- Direi imediatamente qual √© o problema.</em>  <em>Temos muitos tipos de redutores e outras coisas que testamos mutacionalmente, e existem muitos deles.</em>  <em>Isso tudo cresce e acontece que, para cada solicita√ß√£o pull, o teste de muta√ß√£o √© iniciado, o que leva muito tempo.</em>  <em>√â poss√≠vel executar apenas o que mudou?</em> <br><br>  "Eu acho que voc√™ pode configur√°-lo voc√™ mesmo."  Por exemplo, no lado do desenvolvedor, quando ele pressiona, confirma, voc√™ pode criar um plug <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">-</a> in com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fiapos</a> que executar√° apenas arquivos que foram alterados.  No CI / CD, isso tamb√©m √© poss√≠vel.  No nosso caso, o projeto √© muito grande e antigo, e praticamos testes no local.  N√≥s n√£o verificamos tudo, porque vai demorar uma semana, haver√° centenas de milhares de muta√ß√µes.  Eu recomendaria fazer verifica√ß√µes no local ou organizar eu mesmo um processo seletivo de inicializa√ß√£o.  Eu n√£o vi uma ferramenta pronta para essa integra√ß√£o. <br><br>  <em>- A integridade de todas as poss√≠veis muta√ß√µes √© fornecida para um peda√ßo de c√≥digo espec√≠fico?</em>  <em>Se n√£o, como exatamente as muta√ß√µes s√£o selecionadas?</em> <br><br>  - Eu pessoalmente n√£o verifiquei, mas tamb√©m n√£o encontrei nenhum problema com isso.  Stryker deve gerar todas as muta√ß√µes poss√≠veis no mesmo trecho de c√≥digo. <br><br>  <em>- Quero perguntar sobre instant√¢neos.</em>  <em>Meu teste de unidade testa a l√≥gica e, incluindo o layout do componente de rea√ß√£o de captura instant√¢nea.</em>  <em>Naturalmente, se eu mudar algum design l√≥gico, meu layout mudar√° ali.</em>  <em>Esse √© o comportamento esperado, n√£o √©?</em> <br><br>  - Sim, esse √© o significado deles: voc√™ atualiza os instant√¢neos manualmente. <br><br>  <em>- Ent√£o, de alguma forma, voc√™ ignora os instant√¢neos neste relat√≥rio?</em> <br><br>  - Provavelmente, os instant√¢neos precisam ser atualizados com anteced√™ncia e, em seguida, executar o teste de muta√ß√£o; caso contr√°rio, haver√° muito lixo do Stryker. <br><br>  <em>- Pergunta sobre servidores de CI.</em>  <em>Para testes de unidade simples, no GitLab existem rep√≥rteres para o que voc√™ quiser, que exibe a porcentagem de testes bem-sucedidos que voc√™ pode configurar, com ou sem falha.</em>  <em>E o Stryker?</em>  <em>Ele apenas exibe o tablet no console, mas o que posso fazer a seguir?</em> <br><br>  - Eles t√™m rep√≥rter em HTML, voc√™ pode criar seus pr√≥prios rep√≥rteres - tudo √© personaliz√°vel de forma flex√≠vel.  Talvez haja algumas ferramentas espec√≠ficas, mas como ainda estamos testando a muta√ß√£o pontual, n√£o encontrei integra√ß√µes espec√≠ficas com o TeamCity e ferramentas similares de CI / CD. <br><br>  <em>- Quanto os testes de muta√ß√£o aumentam o suporte para os testes que voc√™ tem em geral?</em>  <em>Ou seja, os testes s√£o dif√≠ceis e os testes precisam ser reescritos quando o c√≥digo √© reescrito, etc. √Äs vezes, √© mais f√°cil reescrever o c√≥digo do que os testes.</em>  <em>E aqui tamb√©m tenho testes mutacionais.</em>  <em>Quanto custa para uma empresa?</em> <br><br>  - Primeiro, provavelmente corrigirei se o c√≥digo de reescrita para fins de teste est√° errado.  O c√≥digo deve ser f√°cil de testar.  Quanto ao que precisa ser conclu√≠do, √© novamente importante para os neg√≥cios que os testes sejam o mais completos e eficazes poss√≠veis.  Se eles n√£o estiverem completos, isso significa que pode ocorrer um erro que trar√° perdas.  Naturalmente, voc√™ pode testar apenas as partes mais importantes para os neg√≥cios. <br><br>  <em>"Ainda assim, quanto mais caro se torna quando os testes de muta√ß√£o aparecem, do que se eles n√£o estivessem l√°".</em> <br><br>  - S√£o tantos testes ruins agora.  Se os testes forem mal escritos agora, voc√™ ter√° que adicionar muito.  O teste de muta√ß√£o encontrar√° casos que n√£o s√£o cobertos por testes. <br><br>  <em>- No slide com os resultados da verifica√ß√£o Stryker, existem muitos vorings, eles s√£o cr√≠ticos ou n√£o cr√≠ticos.</em>  <em>Como lidar com falsos positivos?</em> <br><br>  - A quest√£o sutil √© o que √© considerado falso.  Perguntei aos caras da nossa equipe o que aconteceu de interessante com eles.  Houve um exemplo sobre o texto do erro.  Stryker relatou que os testes n√£o responderam √† altera√ß√£o do texto do erro.  Parece ser um batente, mas menor. <br><br>  <em>- Voc√™ v√™ esses erros e ignora os n√£o cr√≠ticos no modo manual?</em> <br><br>  "Temos uma verifica√ß√£o no local, ent√£o sim." <br><br>  <em>Eu tenho uma pergunta pr√°tica.</em>  <em>Quando voc√™ implementou isso, qual porcentagem dos testes voc√™ falhou?</em> <br><br>  - N√£o o implementamos em todo o projeto, mas houve pequenos problemas no novo projeto.  Portanto, n√£o sei dizer os n√∫meros exatos, mas, em geral, a abordagem definitivamente melhorou a situa√ß√£o. <br></div></div><br><blockquote>  Veja outras apresenta√ß√µes front-end, igualmente √∫teis, em nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">canal</a> no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">youtube</a> , todos os relat√≥rios tem√°ticos de todas as nossas confer√™ncias chegam gradualmente l√°.  Ou assine a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">newsletter</a> e manteremos voc√™ informado sobre todos os novos materiais e not√≠cias de futuras confer√™ncias. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt421141/">https://habr.com/ru/post/pt421141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt421131/index.html">Vulnerabilidade cr√≠tica dos servidores 1Cloud</a></li>
<li><a href="../pt421133/index.html">LINKa. Teclado de papel. Bot√µes extra grandes</a></li>
<li><a href="../pt421135/index.html">Au / Ni / MgO: transfer√™ncia de calor em nanoescala</a></li>
<li><a href="../pt421137/index.html">Como funciona o Chrome sem cabe√ßa</a></li>
<li><a href="../pt421139/index.html">Frontend Conf - cuidando do usu√°rio</a></li>
<li><a href="../pt421143/index.html">Aurora Labs Impressora 3D mini-metal S-Titanium Pro</a></li>
<li><a href="../pt421147/index.html">Monstros ap√≥s as f√©rias: AMD Threadripper 2990WX 32-Core e 2950X 16-Core</a></li>
<li><a href="../pt421149/index.html">Algumas palavras sobre gradientes</a></li>
<li><a href="../pt421153/index.html">CPU de 24 n√∫cleos, mas n√£o consigo digitar um email (parte 2)</a></li>
<li><a href="../pt421155/index.html">Impress√£o 3D em 2018: a coisa mais interessante da ind√∫stria</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>