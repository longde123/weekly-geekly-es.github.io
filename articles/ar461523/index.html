<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๐ฟ ๐จ๐พโ๐ป WAL ูู PostgreSQL: 4. ุณุฌู ุงูุฅุนุฏุงุฏ ๐ง๐พโ๐คโ๐ง๐ฝ ๐ค ๐ด๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฐูู ุ ุชุนุฑููุง ุนูู ุฌูุงุฒ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุ ูุจุงุณุชุฎุฏุงู ูุซุงูู ุ ุฃุฏุฑููุง ุฃูู ุนูุฏูุง ูุชู ููุฏ ูุญุชููุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุฃุซูุงุก ุงููุดู ุ ููุฒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WAL ูู PostgreSQL: 4. ุณุฌู ุงูุฅุนุฏุงุฏ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/461523/" style=";text-align:right;direction:rtl">  ูุฐูู ุ ุชุนุฑููุง ุนูู ุฌูุงุฒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช</a> ุ ูุจุงุณุชุฎุฏุงู ูุซุงูู ุ ุฃุฏุฑููุง ุฃูู ุนูุฏูุง ูุชู ููุฏ ูุญุชููุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุฃุซูุงุก ุงููุดู ุ ููุฒู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุณุฌูู ุณุฌู ูุง ูุจู ุงููุชุงุจุฉ</a> ูุงุณุชุนุงุฏุชู.  ููุชุตุฑ ุญุฌู ูููุงุช ุงูุณุฌู ุงููุทููุจุฉ ูููุช ุงูุงุณุชุฑุฏุงุฏ ุจุณุจุจ ูุฌูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุทุฉ ุชูุชูุด ูุชู</a> ุชูููุฐูุง ุจุดูู ุฏูุฑู. <br><br>  ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ ุ ุจุญุซูุง ุจุงููุนู ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุฅุนุฏุงุฏุงุช ุงููููุฉ ุงููุชุนููุฉ ุจุงููุฌูุฉ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ูู ูุฐู ุงูููุงูุฉ (ุงูุฃุฎูุฑุฉ ูู ูุฐู ุงูุณูุณูุฉ) ุ ุณููุธุฑ ูู ูุดููุงุช ุงูุชูููู ุงูุชู ูู ุชุชู ููุงูุดุชูุง ุจุนุฏ: ูุณุชููุงุช ุงูุณุฌู ูุงูุบุฑุถ ูููุง ุ ููุฐูู ููุซูููุฉ ูุฃุฏุงุก ุงูุชุณุฌูู. <br><br><h1 style=";text-align:right;direction:rtl">  ูุณุชููุงุช ุงูุณุฌู </h1><br>  ุงูุบุฑุถ ุงูุฃุณุงุณู ูู ุณุฌู prerecord ูู ุชูููุฑ ุงููุฏุฑุฉ ุนูู ุงูุชุนุงูู ูู ุงููุดู.  ูููู ุ ุฅุฐุง ููุช ูุง ุชุฒุงู ุจุญุงุฌุฉ ุฅูู ุงูุงุญุชูุงุธ ุจุฌุฑูุฏุฉ ุ ููููู ุชูููููุง ูุน ููุงู ุฃุฎุฑู ุ ูุฅุถุงูุฉ ูุฏุฑ ูุนูู ูู ุงููุนูููุงุช ุงูุฅุถุงููุฉ ุฅูููุง.  ููุงู ุนุฏุฉ ูุณุชููุงุช ูู ูุทุน ุงูุฃุดุฌุงุฑ.  ูุชู ุชุนููููุง ุจูุงุณุทุฉ ุงููุนููุฉ <em>wal_level</em> ููุชู ุชูุธูููุง ุจุญูุซ ูุชุถูู ุณุฌู ูู ูุณุชูู ุชุงูู ูู ุดูุก ูุฏุฎู ูู ุณุฌู ุงููุณุชูู ุงูุณุงุจู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุดูุก ุขุฎุฑ ุฌุฏูุฏ. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุฃุฏูู </h2><br>  ูุชู ุชุนููู ุงูุญุฏ ุงูุฃุฏูู ููุณุชูู ูููู ูู ุฎูุงู ุงููููุฉ <em>wal_level</em> = ุงูุญุฏ ุงูุฃุฏูู ููุถูู ููุท ุงูุงูุชุนุงุด ุจุนุฏ ุงููุดู.  ูุชูููุฑ ูุณุงุญุฉ ุ ูุง ูุชู ุชุณุฌูู ุงูุนูููุงุช ุงููุชุนููุฉ ุจูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูุฌูุงุนูุฉ (ูุซู CREATE TABLE AS SELECT ุฃู CREATE INDEX).  ุจุฏูุงู ูู ุฐูู ุ ุชุชู ูุชุงุจุฉ ุงูุจูุงูุงุช ุงููุงุฒูุฉ ุนูู ุงูููุฑ ุนูู ุงููุฑุต ุ ููุชู ุฅุถุงูุฉ ูุงุฆู ุฌุฏูุฏ ุฅูู ุฏููู ุงููุธุงู ููุตุจุญ ูุฑุฆููุง ุนูุฏ ุงูุงูุชุฒุงู ุจุงููุนุงููุฉ.  ูู ุญุงูุฉ ุญุฏูุซ ุนุทู ุฃุซูุงุก ุงูุนูููุฉ ุ ุชุธู ุงูุจูุงูุงุช ุงููุณุฌูุฉ ุจุงููุนู ุบูุฑ ูุฑุฆูุฉ ููุง ุชูุชูู ุงูุชูุงุณู.  ูู ุญุงูุฉ ุญุฏูุซ ุงููุดู ุจุนุฏ ุงูุชูุงู ุงูุนูููุฉ ุ ูุฅู ูู ูุง ููุฒู ูุฏ ุงูุชูู ุจุงููุนู ุฅูู ุงููุฑุต ููุง ูุญุชุงุฌ ุฅูู ุชุณุฌูู. <br><br>  ููุฑู.  ุฃููุงู ุ ูู ุจุชุนููู ุงููุณุชูู ุงููุทููุจ (ููุฐุง ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ุชุบููุฑ ูุนููุฉ ุฃุฎุฑู - <em>max_wal_senders</em> ). <br><br><pre style=";text-align:right;direction:rtl"><code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> wal_level = minimal; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> max_wal_senders = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main restart</code> </pre><br>  ูุงุญุธ ุฃู ุชุบููุฑ ุงููุณุชูู ูุชุทูุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู. <br><br>  ุชุฐูุฑ ุงูููุถุน ุงูุญุงูู ูู ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/353927BC (1 row)</code> </pre><br>  ุงูุขู ูููู ุจุฅูุดุงุก ุงูุฌุฏูู (CREATE TABLE AS SELECT) ููุชุงุจุฉ ุงูููุถุน ูู ุงูุณุฌู ูุฑุฉ ุฃุฎุฑู.  ูุง ููู ููุฏุงุฑ ุงูุจูุงูุงุช ุงููุญุฏุฏุฉ ุจูุงุณุทุฉ ุจูุงู SELECT ูู ูุฐู ุงูุญุงูุฉ ุ ูุฐูู ุณููุชุตุฑ ุนูู ุณุทุฑ ูุงุญุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> wallevel <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> n; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/353A7DFC (1 row)</code> </pre><br>  ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงููุฃูููุฉ pg_waldump ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุฅุฏุฎุงูุงุช ุงูุณุฌู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">postgres$ /usr/lib/postgresql/11/bin/pg_waldump -p /var/lib/postgresql/11/main/pg_wal -s 0/353927BC -e 0/353A7DFC</code> </pre><br>  ุจุนุถ ุงูุชูุงุตูู ุ ุจุงูุทุจุน ุ ูุฏ ุชุฎุชูู ูู ุฅุทูุงู ุฅูู ุขุฎุฑ ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ุ ูุฐุง ูุง ุญุฏุซ.  ูุดูุฑ ุฅุฏุฎุงู ูุฏูุฑ Heap2 ุฅูู ุงูุชูุธูู ุ ููู ุนุจุงุฑุฉ ุนู ุชูุธูู ูู ุงูุตูุญุฉ ูุฃุญุฏ ุงูุฌุฏุงูู ูู ูุชุงููุฌ ุงููุธุงู (ูููู ุชูููุฒ ูุงุฆูุงุช ุงููุธุงู ุจุณูููุฉ ุจุงูุนูู ุงููุฌุฑุฏุฉ ุจูุงุณุทุฉ ุงูุฑูู "ุงููุตูุฑ" ูููุง ูุชุนูู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Heap2 len (rec/tot): 59/ 7587, tx: 0, lsn: 0/353927BC, prev 0/35392788, desc: CLEAN remxid 101126, blkref #0: rel 1663/16386/1247 blk 8 FPW</code> </pre><br>  ุซู ููุงู ุณุฌู ุญูู ุงูุญุตูู ุนูู OID ุงูุชุงูู ููุฌุฏูู ุงูุฐู ุณูููู ุจุฅูุดุงุฆู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: XLOG len (rec/tot): 30/ 30, tx: 0, lsn: 0/35394574, prev 0/353927BC, desc: NEXTOID 82295</code> </pre><br>  ุงูุขู ุฅูุดุงุก ุงููุนูู ููุฌุฏูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Storage len (rec/tot): 42/ 42, tx: 0, lsn: 0/35394594, prev 0/35394574, desc: CREATE base/16386/74103</code> </pre><br>  ููุน ุฐูู ุ ูู ูุชู ุชุณุฌูู ุฅุฏุฎุงู ุงูุจูุงูุงุช ูู ุฌุฏูู.  ุซู ููุงู ุงูุนุฏูุฏ ูู ุงูุฅุฏุฎุงูุงุช ุญูู ุฅุฏุฑุงุฌ ุตููู ูู ุฌุฏุงูู ูููุงุฑุณ ูุฎุชููุฉ - ูุณุฌู ูุฐุง PostgreSQL ุงูุฌุฏูู ุงูุฐู ุชู ุฅูุดุงุคู ูู ุฏููู ุงููุธุงู (ุฃุนุทููุง ูู ุดูู ูุฎุชุตุฑ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Heap len (rec/tot): 203/ 203, tx: 101127, lsn: 0/353945C0, prev 0/35394594, desc: INSERT off 71, blkref #0: rel 1663/16386/1247 blk 8 rmgr: Btree len (rec/tot): 53/ 685, tx: 101127, lsn: 0/3539468C, prev 0/353945C0, desc: INSERT_LEAF off 37, blkref #0: rel 1663/16386/2703 blk 2 FPW ... rmgr: Btree len (rec/tot): 53/ 2393, tx: 101127, lsn: 0/353A747C, prev 0/353A6788, desc: INSERT_LEAF off 10, blkref #0: rel 1664/0/1233 blk 1 FPW</code> </pre><br>  ูุฃุฎูุฑุงู ุ ุชุซุจูุช ุงููุนุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Transaction len (rec/tot): 34/ 34, tx: 101127, lsn: 0/353A7DD8, prev 0/353A747C, desc: COMMIT 2019-07-23 18:59:34.923124 MSK</code> </pre><br><h2 style=";text-align:right;direction:rtl">  ุทุจู ุงูุงุตู </h2><br>  ุนูุฏูุง ูุณุชุนูุฏ ุงููุธุงู ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุ ูุจุฏุฃ ูู ุญุงูุฉ ูุธุงู ุงููููุงุช ููููู ุงูุจูุงูุงุช ุชุฏุฑูุฌูุงู ุฅูู ููุทุฉ ุงูุงุณุชุฑุฏุงุฏ ุ ููุนูุฏ ุชุดุบูู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุงููุคุฑุดูุฉ.  ูููู ุฃู ูููู ุนุฏุฏ ูุฐู ุงูุณุฌูุงุช ูุจูุฑูุง ููุบุงูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุนุฏุฉ ุฃูุงู) ุ ุฃู ุฃู ูุชุฑุฉ ุงูุงุณุชุฑุฏุงุฏ ูู ุชุบุทู ููุทุฉ ุชุญูู ูุงุญุฏุฉ ุ ุจู ุชุบุทู ุงููุซูุฑ.  ูุฐูู ุ ูู ุงููุงุถุญ ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุณุชูู ุงูุณุฌู ูุง ูููู - ุฅุฐุง ูู ูุชู ุชุณุฌูู ุจุนุถ ุงูุนูููุงุช ุ ููู ูุนุฑู ุจุจุณุงุทุฉ ุฃูู ููุฒู ุชูุฑุงุฑูุง.  ูุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุ ูุฌุจ ุชุณุฌูู <em>ุฌููุน</em> ุงูุนูููุงุช. <br><br>  ูููุทุจู ุงูุดูุก ููุณู ุนูู ุงููุณุฎ ุงููุชูุงุซู - ูู ูุชู ููู ุฃู ุดูุก ูู ูุชู ุชุณุฌููู ุฅูู ุงููุณุฎุฉ ุงููุชูุงุซูุฉ ููู ูุชู ุฅุนุงุฏุฉ ุฅูุชุงุฌู.  ูููู ุฅุฐุง ุฃุฑุฏูุง ุชูููุฐ ุงูุทูุจุงุช ุนูู ูุณุฎุฉ ุทุจู ุงูุฃุตู ุ ููุง ูุฒุงู ุงูุฃูุฑ ูุนูุฏูุง. <br><br>  ุฃููุงู ุ ูุญุชุงุฌ ุฅูู ูุนูููุงุช ุญูู ุงูุฃููุงู ุงูุญุตุฑูุฉ ุงูุชู ุชุญุฏุซ ุนูู ุงูุฎุงุฏู ุงูุฃุณุงุณู ุ ุญูุซ ูุฏ ุชุชุนุงุฑุถ ูุน ุงูุทูุจุงุช ุนูู ุงููุณุฎุฉ ุงููุชูุงุซูุฉ.  ูุชู ุชุณุฌูู ูุฐู ุงูุฃููุงู ูุชุทุจูููุง ุนูู ุงููุณุฎุฉ ุงููุชูุงุซูุฉ (ููุงุจุฉ ุนู ุนูููุฉ ุจุฏุก ุงูุชุดุบูู). <br><br>  ุซุงููุงู ุ ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุทุงุช ุจูุงูุงุช</a> ุ ูููุฐุง ุ ููุง ูุฐูุฑ ุ ููุงู ุญุงุฌุฉ ุฅูู ูุนูููุงุช ุญูู ุงููุนุงููุงุช ุงูุฌุงุฑูุฉ.  ูู ุญุงูุฉ ุงููุณุฎุฉ ุงููุชูุงุซูุฉ ุ ูุญู ูุง ูุชุญุฏุซ ููุท ุนู ุงููุนุงููุงุช ุงููุญููุฉ ุ ูููู ุฃูุถูุง ุนู ุงููุนุงููุงุช ุนูู ุงูุฎุงุฏู ุงูุฑุฆูุณู.  ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูููู ูุฐู ุงููุนูููุงุช ูู ูุชุงุจุชูุง ุจุดูู ุฏูุฑู ุฅูู ุงูุณุฌู (ูุญุฏุซ ูุฐุง ูู 15 ุซุงููุฉ). <br><br>  ูุชู ุชุนููู ูุณุชูู ุงูุณุฌู ุ ุงูุฐู ูุถูู ุงููุฏุฑุฉ ุนูู ุงูุงุณุชุฑุฏุงุฏ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฅููุงููุฉ ุงููุณุฎ ุงููุชูุงุซู ุงููุงุฏู ุ ุจูุงุณุทุฉ ุงููููุฉ wal_level = <em>ุงููุณุฎุฉ ุงููุชูุงุซูุฉ</em> .  (ูุจู ุงูุฅุตุฏุงุฑ 9.6 ุ ูุงู ููุงู ูุณุชููุงู ูููุตูุงู ููุฃุฑุดูู ู hot_byby ุ ูููู ุจุนุฏ ุฐูู ุชู ุฏูุฌููุง ูู ูุงุญุฏ ูุดุชุฑู ูุงุญุฏ.) <br><br>  ุจุฏุกูุง ูู PostgreSQL 10 ุ ูุชู ุชุนููู ูุฐุง ุงููุณุชูู ุงูุชุฑุงุถููุง (ููุจู ุฐูู ูุงู ุงูุญุฏ ุงูุฃุฏูู).  ูุฐูู ุ ููุท ุฅุนุงุฏุฉ ุชุนููู ุงููุนููุงุช ุฅูู ุงูููู ุงูุงูุชุฑุงุถูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RESET</span></span> wal_level; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RESET</span></span> max_wal_senders;</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main restart</code> </pre><br>  ูููู ุจุญุฐู ุงูุฌุฏูู ูููุฑุฑ ููุณ ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช ุชูุงููุง ููุง ุญุฏุซ ูู ุงููุฑุฉ ุงูุฃุฎูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> wallevel; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/353AF21C (1 row)</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> wallevel <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> n; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/353BE51C (1 row)</code> </pre><br>  ุชุญูู ุงูุขู ูู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">postgres$ /usr/lib/postgresql/11/bin/pg_waldump -p /var/lib/postgresql/11/main/pg_wal -s 0/353AF21C -e 0/353BE51C</code> </pre><br>  ุชูุธูู ุ ุงูุญุตูู ุนูู OID ุ ุฅูุดุงุก ุฌุฏูู ูุงูุชุณุฌูู ูู ุฏููู ุงููุธุงู - ูู ุงูููุช ุงูุญุงูู ุ ูู ุดูุก ููุง ูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Heap2 len (rec/tot): 58/ 58, tx: 0, lsn: 0/353AF21C, prev 0/353AF044, desc: CLEAN remxid 101128, blkref #0: rel 1663/16386/1247 blk 8 rmgr: XLOG len (rec/tot): 30/ 30, tx: 0, lsn: 0/353AF258, prev 0/353AF21C, desc: NEXTOID 82298 rmgr: Storage len (rec/tot): 42/ 42, tx: 0, lsn: 0/353AF278, prev 0/353AF258, desc: CREATE base/16386/74106 rmgr: Heap len (rec/tot): 203/ 203, tx: 101129, lsn: 0/353AF2A4, prev 0/353AF278, desc: INSERT off 73, blkref #0: rel 1663/16386/1247 blk 8 rmgr: Btree len (rec/tot): 53/ 717, tx: 101129, lsn: 0/353AF370, prev 0/353AF2A4, โฆ rmgr: Btree len (rec/tot): 53/ 2413, tx: 101129, lsn: 0/353BD954, prev 0/353BCC44, desc: INSERT_LEAF off 10, blkref #0: rel 1664/0/1233 blk 1 FPW</code> </pre><br>  ููู ุดูุฆุง ุฌุฏูุฏุง.  ุณุฌู ุงูููู ุงูุญุตุฑู ุงููุชุนูู ุจูุฏูุฑ ุงูุงุณุชุนุฏุงุฏ - ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุจุญุธุฑ ุฑูู ุงููุนุงููุฉ (ููุงุฐุง ูู ูุทููุจ ุ ุณูุชุญุฏุซ ุจุงูุชูุตูู ูู ุณูุณูุฉ ุงูููุงูุงุช ุงูุชุงููุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Standby len (rec/tot): 42/ 42, tx: 101129, lsn: 0/353BE2D8, prev 0/353BD954, desc: LOCK xid 101129 db 16386 rel 74106</code> </pre><br>  ููุฐุง ุณุฌู ุญูู ุฅุฏุฑุงุฌ ุตููู ูู ุฌุฏูููุง (ูุงุฑู ุฑูู ุงูููู ุจุงููุณุจ ุงูููุถุญุฉ ุฃุนูุงู ูู ุณุฌู CREATE): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Heap len (rec/tot): 59/ 59, tx: 101129, lsn: 0/353BE304, prev 0/353BE2D8, desc: INSERT+INIT off 1, blkref #0: rel 1663/16386/74106 blk 0</code> </pre><br>  ุณุฌู ุงูุงูุชุฒุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Transaction len (rec/tot): 421/ 421, tx: 101129, lsn: 0/353BE340, prev 0/353BE304, desc: COMMIT 2019-07-23 18:59:37.870333 MSK; inval msgs: catcache 74 catcache 73 catcache 74 catcache 73 catcache 50 catcache 49 catcache 7 catcache 6 catcache 7 catcache 6 catcache 7 catcache 6 catcache 7 catcache 6 catcache 7 catcache 6 catcache 7 catcache 6 catcache 7 catcache 6 snapshot 2608 relcache 74106 snapshot 1214</code> </pre><br>  ููุดูุฑ ุณุฌู ุขุฎุฑ ุ ูุงูุฐู ูุญุฏุซ ุจุดูู ุฏูุฑู ูุบูุฑ ูุฑุชุจุท ุจุงููุนุงููุฉ ุงูููุชููุฉ ุ ุฅูู ูุฏูุฑ ุงูุงุณุชุนุฏุงุฏ ูููุฏู ุชูุงุฑูุฑ ุนู ุงููุนุงููุงุช ุงูุฌุงุฑูุฉ ุญุงูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmgr: Standby len (rec/tot): 50/ 50, tx: 0, lsn: 0/353BE4E8, prev 0/353BE340, desc: RUNNING_XACTS nextXid 101130 latestCompletedXid 101129 oldestRunningXid 101130</code> </pre><br><h2 style=";text-align:right;direction:rtl">  ููุทูู </h2><br>  ุฃุฎูุฑูุง ุ ูุชู ุชุนููู ุงููุณุชูู ุงูุฃุฎูุฑ ุญุณุจ ูููุฉ ุงููุนููุฉ <em>wal_level</em> = ุงูููุทููุฉ ููููุฑ ุฅููุงููุฉ ูู ุงูุชุดููุฑ ุงูููุทูู ูุงูุชูุฑุงุฑ ุงูููุทูู.  ูุฌุจ ุชููููู ุนูู ุฎุงุฏู ุงููุดุฑ. <br><br>  ูู ูุฌูุฉ ูุธุฑ ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุ ูุง ูุฎุชูู ูุฐุง ุงููุณุชูู ุนูููุงู ุนู ุงููุณุฎุฉ ุงููุชูุงุซูุฉ - ูุชู ุฅุถุงูุฉ ุงูุฅุฏุฎุงูุงุช ุงููุชุนููุฉ ุจุฃุตูู ุงููุณุฎ ุงููุชูุงุซู ูุงูุฅุฏุฎุงูุงุช ุงูููุทููุฉ ุงูุชุนุณููุฉ ุงูุชู ูููู ุฅุถุงูุชูุง ุฅูู ุณุฌู ุงูุชุทุจูู.  ูุนุชูุฏ ูู ุงูุชุฑููุฒ ุงูููุทูู ุจุดูู ุฃุณุงุณู ุนูู ูุนูููุงุช ุญูู ุงููุนุงููุงุช ุงูุฌุงุฑูุฉ ุ ูุธุฑูุง ูุฃูู ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููุทุฉ ูู ุงูุจูุงูุงุช ูุชุชุจุน ุงูุชุบููุฑุงุช ูู ูุชุงููุฌ ุงููุธุงู. <br><br>  ุงูุขู ูู ูุฏุฎู ูู ุชูุงุตูู ุนูููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุชูุฑุงุฑ - ูุฐุง ููุถูุน ูุจูุฑ ูุณูุณูุฉ ูููุตูุฉ ูู ุงูููุงูุงุช. <br><br><h1 style=";text-align:right;direction:rtl">  ููุซูููุฉ ุงูุณุฌู </h1><br>  ูู ุงููุงุถุญ ุฃู ุขููุฉ ุนูู ุฏูุชุฑ ุงูููููุฉ ูุฌุจ ุฃู ุชููู ููุซููุฉ ูุชููุฑ ุถูุงูุงุช ูุฅููุงููุฉ ุงูุงุณุชุฑุฏุงุฏ ูู ุฃู ุญุงูุงุช (ูุง ุชุชุนูู ุ ุจุงูุทุจุน ุ ุจุงูุฃุถุฑุงุฑ ุงูุชู ูุญูุช ุจุดุฑูุฉ ุงูุจูุงูุงุช).  ุชุชุฃุซุฑ ุงูููุซูููุฉ ุจุงูุนุฏูุฏ ูู ุงูุนูุงูู ุ ูุงูุชู ุณููุธุฑ ูู ุชุฎุฒูููุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุณุงุฏ ุงูุจูุงูุงุช ู atomicity ุงูุชุณุฌููุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุฎุฒูู ุงููุคูุช </h2><br>  ููุงู ุงูุนุฏูุฏ ูู ุฐุงูุฑุงุช ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุณุงุฑ ุงูุจูุงูุงุช ุฅูู ุชุฎุฒูู ุบูุฑ ูุชุบูุฑ (ูุซู ูุญุฑู ุงูุฃูุฑุงุต ุงูุซุงุจุชุฉ). <br><br>  ุนูุฏูุง ูุทูุจ ุจุฑูุงูุฌ (ุฃู ุ ูููู ูู ุญุงูุชูุง PostgreSQL) ูู ูุธุงู ุงูุชุดุบูู ูุชุงุจุฉ ุดูุก ูุง ุนูู ุงููุฑุต ุ ูุฅู ูุธุงู ุงูุชุดุบูู ูููู ุงูุจูุงูุงุช ุฅูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุตุฉ ุจู ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู.  ูุญุฏุซ ุงูุชุณุฌูู ุงููุนูู ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ุงุนุชูุงุฏูุง ุนูู ุฅุนุฏุงุฏุงุช ุจุฑูุงูุฌ ุฌุฏููุฉ I / O ููุธุงู ุงูุชุดุบูู. <br><br>  ุนูุฏูุง ููุฑุฑ ูุธุงู ุงูุชุดุบูู ูุชุงุจุฉ ุงูุจูุงูุงุช ุ ูุฅููุง ุชูุน ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุญุฑู ุงูุฃูุฑุงุต (ุงููุฑุต ุงูุตูุจ).  ูููู ุฃู ุชุคุฏู ุฅููุชุฑูููุงุช Drive ุฃูุถูุง ุฅูู ุชุฃุฎูุฑ ุงูุชุณุฌูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฌูุน ุงูุจูุงูุงุช ูู ูุฌููุนุงุช ุชููู ุฃูุซุฑ ุฑุจุญูุฉ ููุชุณุฌูู ูู ููุณ ุงูููุช.  ูุฅุฐุง ุชู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุญูู RAID ุ ูุธูุฑ ูุณุชูู ุขุฎุฑ ูู ุงูุชุฎุฒูู ุงููุคูุช ุจูู ูุธุงู ุงูุชุดุบูู ููุญุฑู ุงูุฃูุฑุงุต. <br><br>  ูุจุงูุชุงูู ุ ุฅุฐุง ูู ุชุชุฎุฐ ุชุฏุงุจูุฑ ุฎุงุตุฉ ุ ููู ุบูุฑ ุงููุงุถุญ ุชูุงููุง ูุชู ุณูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ุจุฃูุงู.  ูุฐุง ููุณ ููููุง ูู ุงูุนุงุฏุฉ ุ ูููู ููุงู ุฃูุงูู ุญุฑุฌุฉ ุญูุซ ูุญุชุงุฌ PostgreSQL ุฅูู ุงูุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ููุชูุจุฉ ุจุดูู ุขูู.  ุฃููุงู ููุจู ูู ุดูุก ุ ูุฐุง ููููุงุช (ุฅุฐุง ูู ูุตู ุฅุฏุฎุงู ุฏูุชุฑ ุงูููููุฉ ุฅูู ุงููุฑุต ุ ูุณูุฎุชูู ูุน ุจุงูู ูุญุชููุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู) ูููุทุฉ ุชูุชูุด (ูุฌุจ ุฃู ุชููู ูุชุฃูุฏูุง ูู ุฃู ุงูุตูุญุงุช ุงููุชุณุฎุฉ ููุชูุจุฉ ุจุงููุนู ุนูู ุงููุฑุต).  ูููู ููุงู ุญุงูุงุช ุฃุฎุฑู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชูููุฐ ุนูููุงุช ุบูุฑ ููููุฉ ุนูู ุงููุณุชูู ุงูุฃุฏูู ุ ุฅูุฎ. <br><br>  ูููุฑ ูุธุงู ุงูุชุดุบูู ุงูุฃุฏูุงุช ุงูุชู ูุฌุจ ุฃู ุชุถูู ุงููุชุงุจุฉ ุงูููุฑูุฉ ููุจูุงูุงุช ุฅูู ุฐุงูุฑุฉ ุบูุฑ ูุชููุจุฉ.  ููุงู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฑุงุช ุ ูููููุง ุชููุณู ุฅูู ุฎูุงุฑูู ุฑุฆูุณููู: ุฅูุง ุฃู ูุชู ุฅุนุทุงุก ุฃูุฑ ุงูุชุฒุงูู ุจุนุฏ ุงูุชุณุฌูู (fsync ุ fdatasync) ุ ุฃู ุนูุฏ ูุชุญ ููู (ุฃู ุงููุชุงุจุฉ ุฅููู) ุ ูุชู ุงูุฅุดุงุฑุฉ ุฅูู ุนูุงูุฉ ุฎุงุตุฉ ูููุฒุงููุฉ ุฃู ุญุชู ุงูุชุณุฌูู ุงููุจุงุดุฑ ุ ูุชุฌุงูุฒ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุธุงู ุงูุชุดุบูู. <br><br>  ุจุงููุณุจุฉ ููุณุฌู ุ ุชุณูุญ ูู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ pg_test_fsync ุจุงุฎุชูุงุฑ ุงูุทุฑููุฉ ุงูุฃูุณุจ ููุธุงู ุชุดุบูู ูุนูู ููุธุงู ูููุงุช ูุญุฏุฏ ุ ููุชู ุชุซุจูุชู ูู ูุนููุฉ ุชูููู <em>wal_sync_method</em> .  ุชุชู ูุฒุงููุฉ ุงููููุงุช ุงูุนุงุฏูุฉ ุฏุงุฆููุง ุจุงุณุชุฎุฏุงู fsync. <br><br>  ุงูููุทุฉ ุงูุฏูููุฉ ูู ุฃูู ุนูุฏ ุงุฎุชูุงุฑ ุทุฑููุฉ ุ ูุฌุจ ูุฑุงุนุงุฉ ุฎุตุงุฆุต ุงูุฌูุงุฒ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุญุฏุฉ ุชุญูู ูุฏุนููุฉ ุจูุงุณุทุฉ ุจุทุงุฑูุฉ ุงุญุชูุงุทูุฉ ุ ููุง ููุฌุฏ ุณุจุจ ูุนุฏู ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุตุฉ ุจูุง ุ ูุฃู ุงูุจุทุงุฑูุฉ ุณุชุญูุธ ุงูุจูุงูุงุช ูู ุญุงูุฉ ุงููุทุงุน ุงูุชูุงุฑ ุงูููุฑุจุงุฆู. <br><br><blockquote style=";text-align:right;direction:rtl">  ุชุญุชูู ุงููุซุงุฆู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนุฏูุฏ ูู ุงูุชูุงุตูู</a> ุญูู ูุฐุง ุงูููุถูุน. <br></blockquote><br>  ูู ุฃู ุญุงู ุ ุชููู ุงููุฒุงููุฉ ููููุฉ ููุง ุชุญุฏุซ ุฃูุซุฑ ูู ุงููุงุฒู (ุณูุนูุฏ ุฅูู ูุฐู ุงููุดููุฉ ุฃูู ููููุงู ุนูุฏูุง ูุชุญุฏุซ ุนู ุงูุฃุฏุงุก). <br><br>  ุจุดูู ุนุงู ุ ูููู ุฅููุงู ุชุดุบูู ุงููุฒุงููุฉ (ุงููุนููุฉ <em>fsync</em> ูุณุคููุฉ ุนู ูุฐุง) ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ูุฌุจ ุฃู ุชูุณู ููุซูููุฉ ุงูุชุฎุฒูู.  ูู ุฎูุงู ุชุนุทูู <em>fsync</em> ุ ูุฅูู ุชูุงูู ุนูู ุฃูู ูุฏ ูุชู ููุฏ ุงูุจูุงูุงุช ูู ุฃู ููุช ุจุดูู ูุง ุฑุฌุนุฉ ููู.  ุฑุจูุง ูููู ุงูุฎูุงุฑ ุงููุญูุฏ ุงููุนููู ูุงุณุชุฎุฏุงู ูุฐุง ุงูุฎูุงุฑ ูู ุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ ูุคูุชูุง ุ ุนูุฏูุง ูููู ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ุจุณูููุฉ ูู ูุตุฏุฑ ุขุฎุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ุฃุซูุงุก ุงูุชุฑุญูู ุงูุฃููู). <br><br><h2 style=";text-align:right;direction:rtl">  ุชูู ุงูุจูุงูุงุช </h2><br>  ุงูุฌูุงุฒ ุบูุฑ ูุงูู ููุฏ ุชุชูู ุงูุจูุงูุงุช ุนูู ุงููุณุงุฆุท ุ ุนูุฏ ุฅุฑุณุงู ุงูุจูุงูุงุช ุนุจุฑ ูุจูุงุช ุงููุงุฌูุฉ ุ ููุง ุฅูู ุฐูู. ุชุชู ูุนุงูุฌุฉ ุจุนุถ ูุฐู ุงูุฃุฎุทุงุก ุนูู ูุณุชูู ุงูุฃุฌูุฒุฉ ุ ููู ุจุนุถูุง ูุง ูุชู ูุนุงูุฌุชูุง. <br><br>  ูู ุฃุฌู ุงูุชุดุงู ุงููุดููุฉ ูู ุงูููุช ุงูููุงุณุจ ุ ูุชู ุชูููุฑ ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุฏุงุฆูุง ูุน ุงูุงุฎุชุจุงุฑู. <br><br>  ูููู ุฃูุถูุง ุญูุงูุฉ ุตูุญุงุช ุงูุจูุงูุงุช ูู ุฎูุงู ุงูุงุฎุชุจุงุฑุงุช.  ูู ุงูููุช ุงูุญุงูู ุ ูุง ูููู ุงูููุงู ุจุฐูู ุฅูุง ุนูุฏ ุชููุฆุฉ ุงููุชูุฉ ุ ูููู ูู PostgreSQL 12 ุณูููู ูู ุงููููู ุชุดุบูููุง ูุฅููุงููุง ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ pg_checksums (ุนูู ุงูุฑุบู ูู ุนุฏู ุงูุชูุงููุง ุจุนุฏ ุ ูููู ููุท ุนูุฏ ุฅููุงู ุงูุฎุงุฏู). <br><br>  ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ุ ูุฌุจ ุชุถููู ุงูุงุฎุชุจุงุฑุงุช ุ ุนูู ุงูุฑุบู ูู ุงููููุงุช ุงูุนุงูุฉ ูุญุณุงุจูุง ููุฑุงูุจุชูุง.  ูุฐุง ูููู ูู ุงุญุชูุงู ุนุฏู ุงูุชุดุงู ุงููุดู ูู ุงูููุช ุงูููุงุณุจ. <br><br><blockquote style=";text-align:right;direction:rtl">  ูููู ุ ูููู ูุง ููุบู. <br>  ุฃููุงู ุ ูุชู ุงูุชุญูู ูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ููุท ุนูุฏ ุงููุตูู ุฅูู ุงูุตูุญุฉ - ูุจุงูุชุงูู ุ ูุฏ ูุง ูุชู ููุงุญุธุฉ ุงูุถุฑุฑ ุญุชู ูุชู ุงููุตูู ุฅูู ูุงูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ.  ูุฐุง ูู ุงูุณุจุจ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pg_probackup</a> ุจุงูุชุญูู ูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ูุฌููุน ุตูุญุงุช ุงููุชูุฉ ุฃุซูุงุก ุงููุณุฎ ุงูุงุญุชูุงุทู. <br>  ุซุงููุงู ุ ุชุนุชุจุฑ ุงูุตูุญุฉ ุงูููููุกุฉ ุจุงูุฃุตูุงุฑ ุตุญูุญุฉ - ุฅุฐุง ูุงู ูุธุงู ุงููููุงุช ุนู ุทุฑูู ุงูุฎุทุฃ "ููุบู" ุงูููู ุ ููุฏ ููุฑ ูุฐุง ุฏูู ุฃู ููุงุญุธู ุฃุญุฏ. <br>  ุซุงูุซูุง ุ ุชุญูู ุงูุงุฎุชุจุงุฑูุฉ ุงูุทุจูุฉ ุงูุฑุฆูุณูุฉ ููุท ูู ูููุงุช ุงูุจูุงูุงุช.  ุงูุทุจูุงุช ุงููุชุจููุฉ ูุงููููุงุช ุงูุฃุฎุฑู (ุนูู ุณุจูู ุงููุซุงู ุ ุญุงูุงุช ุงููุนุงููุงุช XACT) ููุณุช ูุญููุฉ ูู ูุจู ุฃู ุดูุก. <br>  ููุฃุณู. <br></blockquote><br>  ุฏุนููุง ูุฑู ููู ูุนูู.  ุฃููุงู ุ ุชุฃูุฏ ูู ุชูููู ุนูููุงุช ุงููุฌููุน ุงูุงุฎุชุจุงุฑู (ุถุน ูู ุงุนุชุจุงุฑู ุฃู ูุฐุง ููุณ ูู ุงูุญุงู ุนูุฏ ุชุซุจูุช ุญุฒูุฉ ุนูู ุฃูุธูุฉ ุชุดุจู ุฏุจูุงู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> data_checksums;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> data_checksums ---------------- on (1 row)</code> </pre><br>  ุงููุนููุฉ <em>data_checksums</em> ูููุฑุงุกุฉ ููุท. <br><br>  ููุง ูู ุงูููู ุงูุฐู ููุฌุฏ ุจู ุฌุฏูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_relation_filepath(<span class="hljs-string"><span class="hljs-string">'wallevel'</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_relation_filepath ---------------------- base/16386/24890 (1 row)</code> </pre><br>  ุฃููู ุงูุฎุงุฏู ููู ุจุชุบููุฑ ุจุถุนุฉ ุจุงูุช ูู ุตูุญุฉ ุงูุตูุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงุญุฐู ุฅุฏุฎุงู ุงูุณุฌู ุงูุฃุฎูุฑ ูู ุฑุฃุณ LSN. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main stop</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">postgres$ dd if=/dev/zero of=/var/lib/postgresql/11/main/base/16386/24890 oflag=dsync conv=notrunc bs=1 count=8</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">8+0 records in 8+0 records out 8 bytes copied, 0,0083022 s, 1,0 kB/s</code> </pre><br>  ูู ุญูุซ ุงููุจุฏุฃ ุ ูุง ูููู ุฅููุงู ุงูุฎุงุฏู.  ูููู ุฃู ุชููู ุงูุตูุญุฉ ููุชูุจุฉ ุนูู ุงููุฑุต ูุชู ุฅุฌุจุงุฑูุง ุนูู ุงูุฎุฑูุฌ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช (ูุฅูุง ูุฅู ุงูุฎุงุฏู ุณูุนูู ูุน ุงูุตูุญุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช).  ููู ูุซู ูุฐุง ุงูุณููุงุฑูู ุฃูุซุฑ ุตุนูุจุฉ ูู ุงูุชูุงุซุฑ. <br><br>  ูุจุฏุฃ ุงูุขู ุงูุฎุงุฏู ููุญุงูู ูุฑุงุกุฉ ุงูุฌุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main start</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> wallevel;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">WARNING: page verification failed, calculated checksum 23222 but expected 50884 ERROR: invalid page in block 0 of relation base/16386/24890</code> </pre><br>  ูููู ูุงุฐุง ูู ูู ูููู ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉุ  ุชุณูุญ <em>ูู</em> ุงููุนููุฉ <em>ignore_checksum_failure</em> ุจูุญุงููุฉ ูุฑุงุกุฉ ุงูุฌุฏูู ุ ุจุดูู ุทุจูุนู ูุน ุฎุทุฑ ุงูุญุตูู ุนูู ุจูุงูุงุช ูุดููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ignore_checksum_failure = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> wallevel;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">WARNING: page verification failed, calculated checksum 23222 but expected 50884 n --- 1 (1 row)</code> </pre><br>  ุจุงูุทุจุน ุ ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุดูุก ูุณูุฑ ุนูู ูุง ูุฑุงู ุ ูุฃููุง ุฃูุณุฏูุง ุนููุงู ุงูุตูุญุฉ ููุท ุ ูููุณ ุงูุจูุงูุงุช ููุณูุง. <br><br>  ูุฃูุซุฑ ุดูุก ูุงุญุฏ.  ุนูุฏ ุชุดุบูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ุ ุชุชู ูุชุงุจุฉ ุฃุฌุฒุงุก ูู ุงููุทุงูุจุงุช ุฅูู ุงูุณุฌู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏุฑุณูุงูุง</a> ุณุงุจููุง) ุ ูุธุฑูุง ูุฃู ุงูุชุบููุฑ ูู ุฃู ุดูุก ุ ุญุชู ุบูุฑ ุฃุณุงุณู ุ ูุคุฏู ุฃูุถูุง ุฅูู ุชุบููุฑ ูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู.  ุนูุฏ ุฅููุงู ุชุดุบูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ุ ุชููู ุงููุนููุฉ <em>wal_log_hints</em> ูุณุคููุฉ ุนู ูุชุงุจุฉ ุจุช ุชูููุญ ูู <em>ุงูุณุฌู</em> . <br><br>  ูุชู ุฏุงุฆููุง ุชุณุฌูู ุงูุชุบููุฑุงุช ูู ุชูููุญุงุช ุงูุจุชุงุช ูุตูุฑุฉ <em>ุตูุญุฉ ูุงููุฉ</em> (FPI ุ ุตูุฑุฉ ุตูุญุฉ ูุงููุฉ) ุ ููุง ูุฒูุฏ ูู ุญุฌู ุงูุณุฌู ุจุงูุชุฑุชูุจ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุงูููุทูู ุชูููู ุถุบุท ุงูุตูุฑ ุงููุงููุฉ ุจุงุณุชุฎุฏุงู ุงููุนููุฉ <em>wal_compression</em> (ุธูุฑุช ูุฐู ุงููุนููุฉ ูู ุงูุฅุตุฏุงุฑ 9.5).  ุฃุฏูุงู ูุญู ููุธุฑ ุฅูู ุฃุฑูุงู ูุญุฏุฏุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุณุฌู ุงูุฐุฑูุฉ </h2><br>  ูุฃุฎูุฑุง ุ ููุงู ูุดููุฉ ุฐุฑูุฉ ุงูุณุฌู.  ุชุณุชุบุฑู ุตูุญุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช 8 ูููู ุจุงูุช ุนูู ุงูุฃูู (ูููู ุฃู ุชููู 16 ุฃู 32 ูููู ุจุงูุช) ุ ูุนูู ูุณุชูู ููุฎูุถ ุ ูุญุฏุซ ุงูุชุณุฌูู ูู ูุชู ุชููู ุนุงุฏุฉ ุฃุตุบุฑ (ุนุงุฏุฉ 512 ุจุงูุช ุฃู 4 ููููุจุงูุช).  ูุฐูู ุ ูู ุญุงูุฉ ุงููุทุงุน ุงูุชูุงุฑ ุงูููุฑุจุงุฆู ุ ูุฏ ูุชู ุชุณุฌูู ุตูุญุฉ ุงูุจูุงูุงุช ุฌุฒุฆููุง.  ูู ุงููุงุถุญ ุฃูู ุฃุซูุงุก ุงูุงุณุชุฑุฏุงุฏ ุ ูุง ูุนูู ูุชุทุจูู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุงูุนุงุฏูุฉ ุนูู ูุฐู ุงูุตูุญุฉ. <br><br>  ููุญูุงูุฉ ุ ูุณูุญ ูู PostgreSQL ุจุงููุชุงุจุฉ ุฅูู <em>ุงูุตูุฑุฉ ูุงููุฉ ููุตูุญุฉ</em> ุนูุฏ ุชุบููุฑูุง ูุฃูู ูุฑุฉ ุจุนุฏ ุจุฏุงูุฉ ููุทุฉ ุงูุชูุชูุด (ูุชู ุชุณุฌูู ููุณ ุงูุตูุฑุฉ ุนูุฏ ุชุบููุฑ ุจุช ุชูููุญ ุงูุฃุฏูุงุช).  <em>ุชุชุญูู</em> ุงููุนููุฉ <em>full_page_writes ูู ุฐูู</em> ุ ููุชู ุชูููููุง ุงูุชุฑุงุถููุง. <br><br>  ูู ุญุงูุฉ ููุงุฌูุฉ ุตูุฑุฉ ุตูุญุฉ ุฃุซูุงุก ุงูุงุณุชุนุงุฏุฉ ูู ุณุฌู ูุง ุ ุชุชู ูุชุงุจุชูุง ุจุดูู ุบูุฑ ูุดุฑูุท (ุจุฏูู ุงูุชุญูู ูู LSN) ุฅูู ุงููุฑุต: ููุงู ุซูุฉ ุฃูุจุฑ ุจูุง ุ ูุฃูู ุ ูุซู ุฃู ุณุฌู ุณุฌู ุ ูุญูู ุจูุงุณุทุฉ ุงููุฌููุน ุงูุงุฎุชุจุงุฑู.  ููุชู ุจุงููุนู ุชุทุจูู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุงูุนุงุฏูุฉ ุนูู ูุฐู ุงูุตูุฑุฉ ุงูุตุญูุญุฉ ุงููุถูููุฉ. <br><br>  ุนูู ุงูุฑุบู ูู ุฃู PostgreSQL ูุณุชุซูู ุงููุณุงุญุฉ ุบูุฑ ุงููุฎุตุตุฉ ูู ุตูุฑุฉ ุงูุตูุญุฉ ุงููุงููุฉ (ูุธุฑูุง ุณุงุจููุง ุฅูู ุจููุฉ ุงููุชูุฉ) ุ ุฅูุง ุฃู ุญุฌู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุงูุฐู ุชู ุฅูุดุงุคู ูุฒูุฏ ุจุดูู ูุจูุฑ.  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูููู ุชุญุณูู ุงููููู ุนู ุทุฑูู ุถุบุท ุงูุตูุฑ ุงููุงููุฉ (ูุนููุฉ <em>ุงูุถุบุท</em> ). <br><br>  ูู ุฃุฌู ุงูุดุนูุฑ ุจุงูุชุบููุฑ ูู ุญุฌู ุงูุณุฌู ุจุทุฑููุฉ ูุง ุ ุณูููู ุจุฅุฌุฑุงุก ุชุฌุฑุจุฉ ุจุณูุทุฉ ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ pgbench.  ููุณุชุนุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ pgbench -i test</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">dropping old tables... creating tables... generating data... 100000 of 100000 tuples (100%) done (elapsed 0.15 s, remaining 0.00 s) vacuuming... creating primary keys... done.</code> </pre><br>  <em>ูุชู</em> ุชูููู <em>ุงูุฎูุงุฑ full_page_writes</em> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> full_page_writes;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> full_page_writes ------------------ on (1 row)</code> </pre><br>  ูู ุจุชุดุบูู ููุทุฉ ุงูุฅููุงู ูุชุดุบูู ุงูุงุฎุชุจุงุฑ ููุฏุฉ 30 ุซุงููุฉ ุนูู ุงูููุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CHECKPOINT</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/38E04A08 (1 row)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ pgbench -T 30 test</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">starting vacuum...end. transaction type: &lt;builtin: TPC-B (sort of)&gt; scaling factor: 1 query mode: simple number of clients: 1 number of threads: 1 duration: 30 s number of transactions actually processed: 26851 latency average = 1.117 ms tps = 895.006720 (including connections establishing) tps = 895.095229 (excluding connections establishing)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/3A69C478 (1 row)</code> </pre><br>  ุญุฌู ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_size_pretty(<span class="hljs-string"><span class="hljs-string">'0/3A69C478'</span></span>::pg_lsn - <span class="hljs-string"><span class="hljs-string">'0/38E04A08'</span></span>::pg_lsn);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 25 MB (1 row)</code> </pre><br>  ูู ุงูุขู ุจุฅููุงู ุชุดุบูู ุงููุนููุฉ full_page_writes: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> full_page_writes = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_reload_conf();</code> </pre><br>  ููุฑุฑ ุงูุชุฌุฑุจุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CHECKPOINT</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/3A69C530 (1 row)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ pgbench -T 30 test</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">starting vacuum...end. transaction type: &lt;builtin: TPC-B (sort of)&gt; scaling factor: 1 query mode: simple number of clients: 1 number of threads: 1 duration: 30 s number of transactions actually processed: 27234 latency average = 1.102 ms tps = 907.783080 (including connections establishing) tps = 907.895326 (excluding connections establishing)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/3BE87658 (1 row)</code> </pre><br>  ุญุฌู ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_size_pretty(<span class="hljs-string"><span class="hljs-string">'0/3BE87658'</span></span>::pg_lsn - <span class="hljs-string"><span class="hljs-string">'0/3A69C530'</span></span>::pg_lsn);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 24 MB (1 row)</code> </pre><br>  ูุนู ุ ููุฏ ุงูุฎูุถ ุงูุญุฌู ุ ูููู ููุณ ุนูู ุงูุฅุทูุงู ุจููุณ ุงูุฃูููุฉ ุงูุชู ูุฏ ูุชููุนูุง ุงููุฑุก. <br><br>  ูุงูุณุจุจ ูู ุฐูู ูู ุชููุฆุฉ ุงููุชูุฉ ุจุงุณุชุฎุฏุงู ูุฌููุนุงุช ุงุฎุชุจุงุฑูุฉ ูู ุตูุญุงุช ุงูุจูุงูุงุช ุ ูุจุงูุชุงูู ูุง ูุฒุงู ูุชุนูู ุนููู ูุชุงุจุฉ ุตูุฑ ุงูุตูุญุฉ ูุงููุฉ ูู ุงูุณุฌู ุนูุฏ ุชุบููุฑ ุจุช ุชูููุญ ุงูุฃุฏูุงุช.  ุชุดูู ูุฐู ุงูุจูุงูุงุช (ูู ุญุงูุชูุง) ุญูุงูู ูุตู ุฅุฌูุงูู ุงูุญุฌู ุ ูุงูุฐู ูููู ุฑุคูุชู ูู ุฎูุงู ุงููุธุฑ ุฅูู ุงูุฅุญุตุงุฆูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">postgres$ /usr/lib/postgresql/11/bin/pg_waldump --stats -p /var/lib/postgresql/11/main/pg_wal -s 0/3A69C530 -e 0/3BE87658</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Type N (%) Record size (%) FPI size (%) ---- - --- ----------- --- -------- --- XLOG 1721 ( 1,03) 84329 ( 0,77) 13916104 (100,00) Transaction 27235 ( 16,32) 926070 ( 8,46) 0 ( 0,00) Storage 1 ( 0,00) 42 ( 0,00) 0 ( 0,00) CLOG 1 ( 0,00) 30 ( 0,00) 0 ( 0,00) Standby 4 ( 0,00) 240 ( 0,00) 0 ( 0,00) Heap2 27522 ( 16,49) 1726352 ( 15,76) 0 ( 0,00) Heap 109691 ( 65,71) 8169121 ( 74,59) 0 ( 0,00) Btree 756 ( 0,45) 45380 ( 0,41) 0 ( 0,00) -------- -------- -------- Total 166931 10951564 [44,04%] 13916104 [55,96%]</code> </pre><br>  ูู ุฃุฌู ุงูุงูุชูุงุฒ ุ ุฃุฒูุช ุงูุตููู ุงูุตูุฑูุฉ ูู ุงูุฌุฏูู.  ุงูุชุจู ุฅูู ุงูุฎุท ุงูููู (ุงูุฅุฌูุงูู) ููุงุฑู ุญุฌู ุงูุตูุฑ ุงููุงููุฉ (ุญุฌู FPI) ูุน ุญุฌู ุงูุณุฌูุงุช ุงูุนุงุฏูุฉ (ุญุฌู ุงูุณุฌู). <br><br>  ูุง ูููู ุชุนุทูู ุงููุนููุฉ <em>full_page_writes</em> ุฅูุง ุฅุฐุง ูุงู ูุธุงู ุงููููุงุช ูุงูุฃุฌูุฒุฉ ุงููุณุชุฎุฏูุฉ <em>ููุญุฏููุง</em> ูุถููุงู ุงูุชุณุฌูู ุงูุฐุฑู.  ูููู ุ ููุง ูุฑู ุ ูุง ููุฌุฏ ุณุจุจ ูุจูุฑ ููุฐุง (ุนูู ุงูุชุฑุงุถ ุฃู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ูุฏุฑุฌ). <br><br>  ุงูุขู ุฏุนููุง ูุฑู ููู ูุณุงุนุฏ ุงูุถุบุท. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> full_page_writes = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> wal_compression = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_reload_conf();</code> </pre><br>  ูุฑุฑ ููุณ ุงูุชุฌุฑุจุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CHECKPOINT</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/3BE87710 (1 row)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ pgbench -T 30 test</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">starting vacuum...end. transaction type: &lt;builtin: TPC-B (sort of)&gt; scaling factor: 1 query mode: simple number of clients: 1 number of threads: 1 duration: 30 s number of transactions actually processed: 26833 latency average = 1.118 ms tps = 894.405027 (including connections establishing) tps = 894.516845 (excluding connections establishing)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_current_wal_insert_lsn();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_current_wal_insert_lsn --------------------------- 0/3CBD3EA8 (1 row)</code> </pre><br>  ุญุฌู ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_size_pretty(<span class="hljs-string"><span class="hljs-string">'0/3CBD3EA8'</span></span>::pg_lsn - <span class="hljs-string"><span class="hljs-string">'0/3BE87710'</span></span>::pg_lsn);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 13 MB (1 row)</code> </pre><br>  ุงูุฎูุงุตุฉ: ูู ุธู ูุฌูุฏ ุนุฏุฏ ูุจูุฑ ูู ุตูุฑ ุงูุตูุญุฉ ูุงููุฉ (ูุธุฑูุง <em>ููุงุฎุชุจุงุฑุงุช</em> ุฃู <em>full_page_writes</em> ุ ุฃู ุฏุงุฆููุง ุชูุฑูุจูุง) ุ ูู ุงููุฑุฌุญ ุงุณุชุฎุฏุงู ุงูุถุบุท ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู ูุฐุง ูุญููู ุงููุนุงูุฌ. <br><br><h1 style=";text-align:right;direction:rtl">  ุฅูุชุงุฌูุฉ </h1><br>  ุฃุซูุงุก ุชุดุบูู ุงูุฎุงุฏู ุงูุนุงุฏู ุ ูุญุฏุซ ุชุณุฌูู ูุชุณูุณู ูุณุชูุฑ ููููุงุช ุงูุณุฌู.  ูุธุฑูุง ูุนุฏู ูุฌูุฏ ูุตูู ุนุดูุงุฆู ุ ุชุชุนุงูู ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุซุงุจุชุฉ ุงูุนุงุฏูุฉ ูุน ูุฐู ุงููููุฉ.  ููู ุทุจูุนุฉ ุงูุชุญููู ูุฐู ุชุฎุชูู ุจุดูู ูุจูุฑ ุนู ููููุฉ ุงููุตูู ุฅูู ูููุงุช ุงูุจูุงูุงุช. <br><br>  ูุฐูู ุ ูููู ูู ุงููููุฏ ุนุงุฏุฉู ูุถุน ุงูุณุฌู ุนูู ูุฑุต ูุนูู ูููุตู (ุฃู ุตููู ูุฑุต) ูุซุจุช ุนูู ูุธุงู ูููุงุช ุงูุฎุงุฏู.  ุจุฏูุงู ูู ุฏููู $ PGDATA / pg_wal ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ุฅูู ุงูุฏููู ุงููุทุงุจู. <br><br><blockquote style=";text-align:right;direction:rtl">  ููุงู ุจุนุถ ุงูููุงูู ุงูุชู ูุง ุชุญุชุงุฌ ูููุง ูููุงุช ุงูุณุฌู ููุท ุฅูู ุงููุชุงุจุฉ ูููู ุฃูุถูุง ูููุฑุงุกุฉ.  ุงูุฃูู ูู ุญุงูุฉ ุงุณุชุฑุฏุงุฏ ูููููุฉ ุจุนุฏ ุงููุดู.  ูุงูุซุงูู ูู ุฃูู ุชุงููุฉ.  ูุญุฏุซ ุฐูู ูู ุญุงูุฉ ุงุณุชุฎุฏุงู ุงููุณุฎ ุงููุชูุงุซู ุงููุชุฏูู ููู ุชุชููู ุงููุณุฎุฉ ุงููุชูุงุซูุฉ ูู ุชููู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุฃุซูุงุก ูุฌูุฏูุง ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุนูู ุงูุฎุงุฏู ุงูุฑุฆูุณู.  ุซู ูุฌุจ ุนูู ุนูููุฉ walsender ูุฑุงุกุฉ ุงูุจูุงูุงุช ุงูุถุฑูุฑูุฉ ูู ุงููุฑุต.  ุณูุชุญุฏุซ ุนู ูุฐุง ุจูุฒูุฏ ูู ุงูุชูุตูู ุนูุฏูุง ูุตู ุฅูู ุงููุณุฎ ุงููุชูุงุซู. <br></blockquote><br>  ูุชู ุงูุชุณุฌูู ูู ุฃุญุฏ ูุถุนูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชุฒุงูู - ุนูุฏ ุงุฑุชูุงุจ ูุนุงููุฉ ูุง ุ ูููู ุงุณุชูุฑุงุฑ ุงูุนูู ูุณุชุญูููุง ุฅูู ุฃู ูุชู ูุถุน ุฌููุน ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุญูู ูุฐู ุงููุนุงููุฉ ุนูู ุงููุฑุต </li><li style=";text-align:right;direction:rtl">  ุบูุฑ ูุชุฒุงูู - ูุชู ุฅููุงู ุงููุนุงููุฉ ุนูู ุงูููุฑ ุ ููุชู ูุชุงุจุฉ ุงูุณุฌู ูู ุงูุฎูููุฉ. </li></ul><br>  ูุชู ุชุญุฏูุฏ ุงููุถุน ุงููุชุฒุงูู ุจูุงุณุทุฉ ุงููุนููุฉ <em>synchronous_commit</em> ููุชู ุชููููู ุงูุชุฑุงุถููุง. <br><br>  ูุธุฑูุง ูุฃู ุงูุชุฒุงูู ูุฑุชุจุท ุจุฅุฏุฎุงู / ุฅุฎุฑุงุฌ ุญูููู (ุฃู ุจุทูุก) ุ ููู ุงููููุฏ ุงูููุงู ุจู ุจุฃูู ูุฏุฑ ูููู.  ููููุงู ุจุฐูู ุ ุชุณุชุบุฑู ุนูููุฉ ุงูุตูุงูุฉ ุงูุชู ุชููู ุงููุนุงููุฉ ูุชูุชุจ ุงูุณุฌู ูููุฉ ูุตูุฑุฉ ุ ุชุญุฏุฏูุง ุงููุนููุฉ <em>ุงูุงูุชุฒุงู_ุงูุชุฃุฎูุฑ</em> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ูุฐุง ูุญุฏุซ ููุท ุฅุฐุง ูุงู ูุฏู ุงููุธุงู ุนูู ุงูุฃูู </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฑุชุจุงุทุงุช</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุงููุนุงููุงุช ุงููุดุทุฉ. ุงูุฑูุงู ููุง ุนูู ุญูููุฉ ุฃูู ุฎูุงู ูุชุฑุฉ ุงูุงูุชุธุงุฑ ุณูุชู ุงูุงูุชูุงุก ูู ุจุนุถ ุงููุนุงููุงุช ูุณูููู ูู ุงููููู ูุฒุงููุฉ ุณุฌูุงุชูู ุฏูุนุฉ ูุงุญุฏุฉ. ูุดุจู ูุฐุง ููู ุชูุณู ุจุงุจ ุงููุตุนุฏ ุญุชู ูุชุณูู ูุดุฎุต ูุง ุฃู ูุณูุท ูู ุงููุงุจููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนููุฉ ุงูุงูุชุฑุงุถูุฉ ูู </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf_siblings</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 5 ุ ู </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf_delay</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 0 ุ ูุฐูู ูุง ููุฌุฏ ุงูุชุธุงุฑ ูุนูู. ุชุบููุฑ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commit_delay</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูููุฏ ููุท ูู ุงูุฃูุธูุฉ ุงูุชู ุชูููุฐ ุนุฏุฏ ูุจูุฑ ูู OLTP-ุงููุนุงููุงุช ูุตูุฑุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุซู ุชููู ุงูุนูููุฉ ุจูุณุญ ุงูุณุฌู ุฅูู ุงููุฑุต ุฅูู LSN ุงููุทููุจุฉ (ุฃู ุฃูุซุฑ ููููุงู ุฅุฐุง ุชูุช ุฅุถุงูุฉ ุฅุฏุฎุงูุงุช ุฌุฏูุฏุฉ ุฃุซูุงุก ููุช ุงูุงูุชุธุงุฑ). ุจุนุฏ ุฐูู ุ ุชุนุชุจุฑ ุงูุตููุฉ ููุชููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ุงูุชุณุฌูู ุงููุชุฒุงูู ุ ูุชู ุถูุงู ุงููุชุงูุฉ (ุงูุญุฑู D ูู ุงุฎุชุตุงุฑ ACID) - ุฅุฐุง ุชู ุชูููุฐ ุงููุนุงููุฉ ุ ููู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุงูุฎุงุตุฉ ุจูุง ููุฌูุฏุฉ ุจุงููุนู ุนูู ุงููุฑุต ููู ูุชู ููุฏูุง. ุงูุฌุงูุจ ุงูุขุฎุฑ ูู ุฃู ุงูุชุณุฌูู ุงููุชุฒุงูู ูุฒูุฏ ูู ุฒูู ุงูุงุณุชุฌุงุจุฉ (ุงูุฃูุฑ COMMIT ูุง ููุฑุฌุน ุงูุชุญูู ุญุชู ููุชูู ุงูุชุฒุงูู) ููููู ูู ุฃุฏุงุก ุงููุธุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุญุตูู ุนูู ูุชุงุจุฉ ุบูุฑ ูุชุฒุงููุฉ ุนู ุทุฑูู ุชุนููู </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุฒุงูู</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = ุฅููุงู (ุฃู ูุญูู). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุซูุงุก ุงูุชุณุฌูู ุบูุฑ ุงููุชุฒุงูู ุ ุชููู ุนูููุฉ ูุงุชุจ ุงูุณุฌู ุจุฅุนุงุฏุฉ ุชุนููู ุฅุฏุฎุงูุงุช ุฏูุชุฑ ุงูููููุฉ ุ ูุน ุชุจุฏูู ุฏูุฑุงุช ุงูุงูุชุธุงุฑ (ุงูุชู ูุชู ุชุนููููุง ุจูุงุณุทุฉ ุงููุนููุฉ</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wal_writer_delay</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font><em><font style="vertical-align: inherit;">200 ูููู ุซุงููุฉ</font></em><font style="vertical-align: inherit;"> ุจุดูู ุงูุชุฑุงุถู). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุงูุงุณุชููุงุธ ุจุนุฏ ุงูุงูุชุธุงุฑ ุงูุชุงูู ุ ุชุชุญูู ุงูุนูููุฉ ูู ุธููุฑ ุตูุญุงุช WAL ุงููุงููุฉ ูู ุขุฎุฑ ูุฑุฉ. ูู ุญุงูุฉ ูุฌูุฏูุง ุ ุชุชุฌุงูู ุงูุนูููุฉ ุงูุตูุญุฉ ุงูุญุงููุฉ ุบูุฑ ุงููุนุจุฆุฉ ูุชุณุฌูู ุงูุณุฌูุงุช ุงูููููุกุฉ ุจุงููุงูู ููุท. (ุตุญูุญ ุ ุฃููุง ููุณุช ุฏุงุฆููุง ูู ูู ูุฑุฉ: ูุชููู ุงูุชุณุฌูู ุ ููุตู ุฅูู ููุงูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ููุณุชูุฑ ูู ุจุฏุงูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ุงููุฑุฉ ุงูุชุงููุฉ.) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูู ุชูู ุตูุญุฉ ูุงุญุฏุฉ ููุชูุฆุฉ ุ ูุณุชููู ุงูุนูููุฉ ุจูุชุงุจุฉ ุงูุตูุญุฉ ุงูุญุงููุฉ (ุบูุฑ ูุงููุฉ) ูููุฌูุฉ - ูุณุจุจ ูุฌูู ุงุณุชููุธุชุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฏู ูุฐู ุงูุฎูุงุฑุฒููุฉ ุฅูู ุนุฏู ูุฒุงููุฉ ุงูุตูุญุฉ ููุณูุง ุนุฏุฉ ูุฑุงุช ุฅุฐุง ูุงู ุฐูู ูููููุง ุ ููู ุฃูุฑ ููู ูุฏูู ูุจูุฑ ูู ุงูุชุบููุฑุงุช.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุชุณุฌูู ุบูุฑ ุงููุชุฒุงูู ุฃูุซุฑ ูุนุงููุฉ ูู ุงูุชุณุฌูู ุงููุชุฒุงูู - ูุง ุชูุชุธุฑ ุชุบููุฑุงุช ุงูุงูุชุฒุงู ุงูุชุณุฌูู. ููุน ุฐูู ุ ุชุชูุงูุต ุงูููุซูููุฉ: ูุฏ ุชุฎุชูู ุงูุจูุงูุงุช ุงูููุชูุทุฉ ูู ุญุงูุฉ ุญุฏูุซ ุนุทู ูู ุญุงูุฉ ุงููุถุงุก ุฃูู ูู 3 ร </font><font style="vertical-align: inherit;">ููุช </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wal_writer_delay</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจูู ุงูุงูุชุฒุงู ูุงููุดู </font><font style="vertical-align: inherit;">(ูุงูุฐู ุ ุจุดูู ุงูุชุฑุงุถู ุ ูุฒูุฏ ููููุงู ุนู ูุตู ุซุงููุฉ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจูู ุงูุงุฎุชูุงุฑ ุงูุตุนุจ - ุงูููุงุกุฉ ุฃู ุงูููุซูููุฉ - ูุน ูุณุคูู ุงููุธุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุฌู ููุงุญุธุฉ: ุนูู ุนูุณ ุฅููุงู ุงููุฒุงููุฉ ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fsync</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = off) ุ ูุง ูุคุฏู ุงููุถุน ุบูุฑ ุงููุชุฒุงูู ุฅูู ุงุณุชุญุงูุฉ ุงูุงุณุชุฑุฏุงุฏ. ูู ุญุงูุฉ ุญุฏูุซ ุนุทู ุ ุณูุณุชูุฑ ุงููุธุงู ูู ุงุณุชุนุงุฏุฉ ุญุงูุฉ ูุชูุงุณูุฉ ุ ูููู ุฑุจูุง ุชููู ุจุนุถ ุฃุญุฏุซ ุงููุนุงููุงุช ุบุงุฆุจุฉ ููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนููุฉ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synchronous_commit</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุชุนููู ูุฌุฒุก ูู ุงููุนุงููุงุช ุงููุฑุฏูุฉ. ูุชูุญ ูู ุฐูู ุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ ูู ุฎูุงู ุงูุชุถุญูุฉ ุจููุซูููุฉ ุฌุฒุก ููุท ูู ุงููุนุงููุฉ. ูููู ุฃู ุงููุนุงููุงุช ุงููุงููุฉ ุชุญุชุงุฌ ุฏุงุฆููุง ุฅูู ุฅุตูุงุญูุง ุจุดูู ูุชุฒุงูู ุ ููููู ูู ุจุนุถ ุงูุฃุญูุงู ุฅููุงู ุฑุณุงุฆู ุงูุฏุฑุฏุดุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ููุง ูุฐูู ุงููุถุนูู ูุนููุงู ูุนูุง. ุญุชู ูุน ุงูุงูุชุฒุงู ุงููุชุฒุงูู ุ ุณูุชู ูุชุงุจุฉ ุณุฌูุงุช ุงููุนุงููุงุช ุงูุทูููุฉ ุจุดูู ุบูุฑ ูุชุฒุงูู ูุชุญุฑูุฑ ูุฎุงุฒู WAL ุงููุคูุชุฉ. ูุฅุฐุง ุ ุนูุฏ ุฅุนุงุฏุฉ ุชุนููู ุตูุญุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุ ุงุชุถุญ ุฃู ุฅุฏุฎุงู ุฏูุชุฑ ุงูููููุฉ ุงูููุงุจู ููุณ ุนูู ุงููุฑุต ุจุนุฏ ุ ูุณูุชู ุฅุนุงุฏุฉ ุชุนูููู ุนูู ุงูููุฑ ูู ุงููุถุน ุงููุชุฒุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุญุตูู ุนูู ููุฑุฉ ุนูุง ูุนุทูู ุงูุงูุชุฒุงู ุบูุฑ ุงููุชุฒุงูู ุ ูุญุงูู ุชูุฑุงุฑ ุงุฎุชุจุงุฑ pgbench ูู ูุฐุง ุงููุถุน.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> synchronous_commit = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_reload_conf();</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ pgbench -T 30 test</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">starting vacuum...end. transaction type: &lt;builtin: TPC-B (sort of)&gt; scaling factor: 1 query mode: simple number of clients: 1 number of threads: 1 duration: 30 s number of transactions actually processed: 45439 latency average = 0.660 ms tps = 1514.561710 (including connections establishing) tps = 1514.710558 (excluding connections establishing)</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงุณุชุฎุฏุงู ุงูุชุฒุงูู ุงููุชุฒุงูู ุ ุชููููุง ุญูุงูู 900 ูุนุงููุฉ ูู ุงูุซุงููุฉ (tps) ุ ูุน ุงูุชุฒุงู ุบูุฑ ูุชุฒุงูู - 1500. ุจุงูุทุจุน ุ ูู ูุธุงู ุญูููู ุชุญุช ุงูุญูู ุงูุญูููู ุ ุณุชููู ุงููุณุจุฉ ูุฎุชููุฉ ุ ููู ูู ุงููุงุถุญ ุฃู ุงูุชุฃุซูุฑ ูููู ุฃู ูููู ููููุง ููุบุงูุฉ ูู ุงููุนุงููุงุช ุงููุตูุฑุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงููุฑุญูุฉ ุ ุงูุชูุช ุณูุณูุฉ ุงูููุงูุงุช ุญูู ุงูููููุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ุธู ููุงู ุดูุก ููู ูุฑุงุก ุงูููุงููุณ ุ ููุง ุชุฌุฏ ุตุนูุจุฉ ูู ุงููุชุงุจุฉ ูู ุงูุชุนูููุงุช. </font><font style="vertical-align: inherit;">ุดูุฑุง ููู ุฌููุนุง! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุนุฏ ุฐูู ุ ุณูููู ูุฏููุง ูุบุงูุฑุงุช ูุซูุฑุฉ ูู ุนุงูู ุงูุฃููุงู ุ ููู ูุฐู ูุตุฉ ุฃุฎุฑู.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar461523/">https://habr.com/ru/post/ar461523/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar461507/index.html">ููุงุฐุง ูุฑุฑูุง ุฅุทูุงู StartupDrive ูู ุดุฑูุฉ Gazprom Neft ููุดุฑูุงุช ุ ูุงูุฐู ูุฌุญ ุจุงููุนู ูู ุฐูู</a></li>
<li><a href="../ar461509/index.html">ูุณุงุนุฏู ุงูุณูุฑ: ูุฌููุนุฉ ูุฎุชุงุฑุฉ ูู ุงูุฃุฏูุงุช ูุงูุงูุณุณูุงุฑุงุช</a></li>
<li><a href="../ar461511/index.html">ุจูุซูู ุฅุฏุงุฑุฉ ุงูุงุนุชูุงุฏ: ููุงุฑูุฉ ุจูู ุงูููุฌ</a></li>
<li><a href="../ar461517/index.html">ุฃูุถู ุฎูุงุฑุฒููุงุช ูุณุฎ ููุตู ูู C ู C ++. ูุงููู OS ูุชุงุจ ุงูุทุจุฎ</a></li>
<li><a href="../ar461519/index.html">ุฃูุถู ุฎูุงุฑุฒููุงุช ูุณุฎ ููุตู ูู C ู C ++. Haiku OS ูุตูุฉ ูุฌููุนุฉ</a></li>
<li><a href="../ar461525/index.html">ููู ูุนูุช ุดุฑูุท ุงูุชูุฑูุฑ ุญูุง ุงูุชููู (ุฏุงุฆุฑู)</a></li>
<li><a href="../ar461527/index.html">ุงูุฅุฑุชูุงุน ุงูุตูุชู DIY</a></li>
<li><a href="../ar461531/index.html">ุชูู ุชุงู ุชู ุ ุงูุฌุฒุก 6: ูุงุฑูุฑุฉ ูุงููุฑูุณ / RabbitMQ</a></li>
<li><a href="../ar461533/index.html">ุชุตูุฑ ููููู ูู ุงูุณูุฉ ุงูุฃููู ููุทูู ุนูู ุฃููุงุท ุจุทุงููุฉ</a></li>
<li><a href="../ar461535/index.html">C ++ ู FIX ู Oracle ู PL / SQL: ูุง ูุญุชุงุฌ ูุชุฎุตุต ุชูููููุฌูุง ุงููุนูููุงุช ุฅูู ูุนุฑูุชู ููุญุตูู ุนูู ูุธููุฉ ูู ูุฌุงู ุงูุชูููู + ูุฑุต ุนูู ุญููููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>