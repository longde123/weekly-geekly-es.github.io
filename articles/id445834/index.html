<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§–ğŸ¼ ğŸ¥© ğŸ˜¶ Mengembangkan keterampilan menggunakan pengelompokan dan visualisasi data dalam Python ğŸ“ˆ â„¹ï¸ ğŸ‘©ğŸ¼â€ğŸ«</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! 

 Hari ini kita akan mengembangkan keterampilan menggunakan alat pengelompokan dan visualisasi data dalam Python. Dalam dataset yang dise...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mengembangkan keterampilan menggunakan pengelompokan dan visualisasi data dalam Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/445834/"><img src="https://habrastorage.org/webt/bg/ys/iw/bgysiwphjir0ghlyg7ntyua47wg.png" alt="gambar"><br><br>  Halo, Habr! <br><br>  Hari ini kita akan mengembangkan keterampilan menggunakan alat pengelompokan dan visualisasi data dalam Python.  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dataset yang</a> disediakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di Github</a> , kami akan menganalisis beberapa karakteristik dan membangun satu set visualisasi. <br><br>  Menurut tradisi, pada awalnya, kami mendefinisikan tujuan: <br><br><ul><li>  Kelompokkan data berdasarkan jenis kelamin dan tahun dan visualisasikan dinamika umum kesuburan kedua jenis kelamin; </li><li>  Temukan nama paling populer dalam sejarah; </li><li>  Pisahkan seluruh periode waktu dalam data menjadi 10 bagian dan untuk masing-masing menemukan nama paling populer dari setiap jenis kelamin.  Untuk setiap nama yang ditemukan, visualisasikan dinamikanya sepanjang waktu; </li><li>  Untuk setiap tahun, hitung berapa banyak nama yang 50% orang tutupi dan visualisasikan (kita akan melihat berbagai nama untuk setiap tahun); </li><li>  Pilih 4 tahun dari seluruh periode dan tampilkan untuk setiap tahun distribusi dengan huruf pertama dalam nama dan dengan huruf terakhir dalam nama; </li><li>  Buat daftar beberapa orang terkenal (presiden, penyanyi, aktor, pahlawan film) dan evaluasi dampaknya terhadap dinamika nama.  Bangun visualisasi. </li></ul><br>  Lebih sedikit kata, lebih banyak kode! <br><br>  Ayo pergi. <br><a name="habracut"></a><br><h4>  Kelompokkan data berdasarkan jenis kelamin dan tahun dan visualisasikan dinamika umum tingkat kelahiran kedua jenis kelamin: </h4><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) datalist = <span class="hljs-string"><span class="hljs-string">'https://raw.githubusercontent.com/wesm/pydata-book/2nd-edition/datasets/babynames/yob{year}.txt'</span></span> dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframes.append(dataframe.assign(year=year)) result = pd.concat(dataframes) sex = result.groupby(<span class="hljs-string"><span class="hljs-string">'sex'</span></span>) births_men = sex.get_group(<span class="hljs-string"><span class="hljs-string">'M'</span></span>).groupby(<span class="hljs-string"><span class="hljs-string">'year'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) births_women = sex.get_group(<span class="hljs-string"><span class="hljs-string">'F'</span></span>).groupby(<span class="hljs-string"><span class="hljs-string">'year'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) births_men_list = births_men.aggregate(np.sum)[<span class="hljs-string"><span class="hljs-string">'count'</span></span>].tolist() births_women_list = births_women.aggregate(np.sum)[<span class="hljs-string"><span class="hljs-string">'count'</span></span>].tolist() fig, ax = plt.subplots() fig.set_size_inches(<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>) index = np.arange(len(years)) stolb1 = ax.bar(index, births_men_list, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, color=<span class="hljs-string"><span class="hljs-string">'c'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) stolb2 = ax.bar(index + <span class="hljs-number"><span class="hljs-number">0.4</span></span>, births_women_list, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.8</span></span>, color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'    '</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_xticklabels(years) ax.set_xticks(index + <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>) fig.tight_layout() plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/s6/wg/ft/s6wgftfappxjfseustjqtqtskck.png" alt="gambar"><br><br><h4>  Temukan nama paling populer dalam sejarah: </h4><br><pre> <code class="python hljs">years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>) dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframes.append(dataframe) result = pd.concat(dataframes) names = result.groupby(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sum().sort_values(<span class="hljs-string"><span class="hljs-string">'count'</span></span>, ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) names.head(<span class="hljs-number"><span class="hljs-number">10</span></span>)</code> </pre><br><img src="https://habrastorage.org/webt/io/kg/af/iokgafyfhwxgpuidxyb_b8bkzpy.png" alt="gambar"><br><br><h4>  Kami membagi seluruh periode waktu dalam data menjadi 10 bagian dan untuk setiap bagian kami menemukan nama paling populer dari masing-masing jenis kelamin.  Untuk setiap nama yang ditemukan, visualisasikan dinamika sepanjang waktu: </h4><br><pre> <code class="python hljs">years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>) part_size = int((years[years.size - <span class="hljs-number"><span class="hljs-number">1</span></span>] - years[<span class="hljs-number"><span class="hljs-number">0</span></span>]) / <span class="hljs-number"><span class="hljs-number">10</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span> parts = {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetPart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(year)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int((year - years[<span class="hljs-number"><span class="hljs-number">0</span></span>]) / part_size) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: index = GetPart(year) r = years[<span class="hljs-number"><span class="hljs-number">0</span></span>] + part_size * index, min(years[years.size - <span class="hljs-number"><span class="hljs-number">1</span></span>], years[<span class="hljs-number"><span class="hljs-number">0</span></span>] + part_size * (index + <span class="hljs-number"><span class="hljs-number">1</span></span>)) parts[index] = str(r[<span class="hljs-number"><span class="hljs-number">0</span></span>]) + <span class="hljs-string"><span class="hljs-string">'-'</span></span> + str(r[<span class="hljs-number"><span class="hljs-number">1</span></span>]) dataframe_parts = [] dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframe_parts.append(dataframe.assign(years=parts[GetPart(year)])) dataframes.append(dataframe.assign(year=year)) result_parts = pd.concat(dataframe_parts) result = pd.concat(dataframes) result_parts_sums = result_parts.groupby([<span class="hljs-string"><span class="hljs-string">'years'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>], as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sum() result_parts_names = result_parts_sums.iloc[result_parts_sums.groupby([<span class="hljs-string"><span class="hljs-string">'years'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>], as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-string"><span class="hljs-string">'count'</span></span>].idxmax())] result_sums = result.groupby([<span class="hljs-string"><span class="hljs-string">'year'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>], as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sum() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> groupName, groupLabels <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result_parts_names.groupby([<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>]).groups.items(): group = result_sums.groupby([<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>]).get_group(groupName) fig, ax = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) label = group[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] ax.plot(group[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], group[<span class="hljs-string"><span class="hljs-string">'count'</span></span>], label=label.aggregate(np.max), color=<span class="hljs-string"><span class="hljs-string">'b'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">'-'</span></span>) ax.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">11</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/yp/o_/m0/ypo_m0sbnz5uwtlfssqi7qdx1jm.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/-8/yv/2m/-8yv2mombfbnydfbunco2zsyvoi.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/xd/gj/rg/xdgjrgmc6j45urnemdyuxbakzaw.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/bo/rm/tv/bormtvijzrxv_d7icxk8jtegygq.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/ch/eu/zg/cheuzgfafycl74ao12uhno6wgiw.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/79/gq/q9/79gqq9mujeudutjhgr3-sdntqio.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/ax/dp/5g/axdp5gpy3o_ddx3qu8tkwhlbcom.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/tn/mq/yt/tnmqythfuz1eh4ieryvrfsnntzc.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/lj/m5/qq/ljm5qqp3k6h7ycvbc3j0alfpr6u.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/mb/br/xq/mbbrxqwybqakmhj6wwfxc8pnses.png" alt="gambar"><br><br><h4>  Untuk setiap tahun, kami menghitung berapa nama 50% orang yang mencakup dan memvisualisasikan data ini: </h4><br><pre> <code class="python hljs">dataframe = pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'year'</span></span>: [], <span class="hljs-string"><span class="hljs-string">'count'</span></span>: []}) years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) csv = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) names = csv.groupby(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).aggregate(np.sum) names[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] = names.sum()[<span class="hljs-string"><span class="hljs-string">'count'</span></span>] names[<span class="hljs-string"><span class="hljs-string">'percent'</span></span>] = names[<span class="hljs-string"><span class="hljs-string">'count'</span></span>] / names[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] * <span class="hljs-number"><span class="hljs-number">100</span></span> names = names.sort_values([<span class="hljs-string"><span class="hljs-string">'percent'</span></span>], ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) names[<span class="hljs-string"><span class="hljs-string">'cum_perc'</span></span>] = names[<span class="hljs-string"><span class="hljs-string">'percent'</span></span>].cumsum() names_filtered = names[names[<span class="hljs-string"><span class="hljs-string">'cum_perc'</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">50</span></span>] dataframe = dataframe.append(pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'year'</span></span>: [year], <span class="hljs-string"><span class="hljs-string">'count'</span></span>: [names_filtered.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>]]})) fig, ax1 = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">22</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>)) ax1.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">12</span></span>) ax1.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">12</span></span>) ax1.plot(dataframe[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], dataframe[<span class="hljs-string"><span class="hljs-string">'count'</span></span>], color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">'-'</span></span>) ax1.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/9y/fm/1e/9yfm1etlu5uiju5ug0qmundf-q0.png" alt="gambar"><br><br><h4>  Pilih 4 tahun dari seluruh periode dan tampilkan untuk setiap tahun distribusi dengan huruf pertama dalam nama dan dengan huruf terakhir dalam nama: </h4><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ascii_lowercase, ascii_uppercase fig_first, ax_first = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) fig_last, ax_last = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) index = np.arange(len(ascii_uppercase)) years = [<span class="hljs-number"><span class="hljs-number">1944</span></span>, <span class="hljs-number"><span class="hljs-number">1978</span></span>, <span class="hljs-number"><span class="hljs-number">1991</span></span>, <span class="hljs-number"><span class="hljs-number">2003</span></span>] colors = [<span class="hljs-string"><span class="hljs-string">'r'</span></span>, <span class="hljs-string"><span class="hljs-string">'g'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>] n = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) csv = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) names = csv.groupby(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).aggregate(np.sum) count = names.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] dataframe = pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'letter'</span></span>: [], <span class="hljs-string"><span class="hljs-string">'frequency_first'</span></span>: [], <span class="hljs-string"><span class="hljs-string">'frequency_last'</span></span>: []}) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> letter <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ascii_uppercase: countFirst = (names[names.name.str.startswith(letter)].count()[<span class="hljs-string"><span class="hljs-string">'count'</span></span>]) countLast = (names[names.name.str.endswith(letter.lower())].count()[<span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframe = dataframe.append(pd.DataFrame({ <span class="hljs-string"><span class="hljs-string">'letter'</span></span>: [letter], <span class="hljs-string"><span class="hljs-string">'frequency_first'</span></span>: [countFirst / count * <span class="hljs-number"><span class="hljs-number">100</span></span>], <span class="hljs-string"><span class="hljs-string">'frequency_last'</span></span>: [countLast / count * <span class="hljs-number"><span class="hljs-number">100</span></span>]})) ax_first.bar(index + <span class="hljs-number"><span class="hljs-number">0.3</span></span> * n, dataframe[<span class="hljs-string"><span class="hljs-string">'frequency_first'</span></span>], <span class="hljs-number"><span class="hljs-number">0.3</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, color=colors[n], label=year) ax_last.bar(index + bar_width * n, dataframe[<span class="hljs-string"><span class="hljs-string">'frequency_last'</span></span>], <span class="hljs-number"><span class="hljs-number">0.3</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, color=colors[n], label=year) n += <span class="hljs-number"><span class="hljs-number">1</span></span> ax_first.set_xlabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax_first.set_ylabel(<span class="hljs-string"><span class="hljs-string">', %'</span></span>) ax_first.set_title(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ax_first.set_xticks(index) ax_first.set_xticklabels(ascii_uppercase) ax_first.legend() ax_last.set_xlabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax_last.set_ylabel(<span class="hljs-string"><span class="hljs-string">', %'</span></span>) ax_last.set_title(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ax_last.set_xticks(index) ax_last.set_xticklabels(ascii_uppercase) ax_last.legend() fig_first.tight_layout() fig_last.tight_layout() plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/ju/jo/0n/jujo0n1yuyi8enow6nufuvjjmtq.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/nb/88/gb/nb88gblc8qawtidkxc7hugzt8-k.png" alt="gambar"><br><br><h4>  Mari kita membuat daftar beberapa orang terkenal (presiden, penyanyi, aktor, pahlawan film) dan mengevaluasi dampaknya terhadap dinamika nama: </h4><br><pre> <code class="python hljs">celebrities = {<span class="hljs-string"><span class="hljs-string">'Frank'</span></span>: <span class="hljs-string"><span class="hljs-string">'M'</span></span>, <span class="hljs-string"><span class="hljs-string">'Britney'</span></span>: <span class="hljs-string"><span class="hljs-string">'F'</span></span>, <span class="hljs-string"><span class="hljs-string">'Madonna'</span></span>: <span class="hljs-string"><span class="hljs-string">'F'</span></span>, <span class="hljs-string"><span class="hljs-string">'Bob'</span></span>: <span class="hljs-string"><span class="hljs-string">'M'</span></span>} dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframes.append(dataframe.assign(year=year)) result = pd.concat(dataframes) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> celebrity, sex <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> celebrities.items(): names = result[result.name == celebrity] dataframe = names[names.sex == sex] fig, ax = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">10</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">10</span></span>) ax.plot(dataframe[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], dataframe[<span class="hljs-string"><span class="hljs-string">'count'</span></span>], label=celebrity, color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">'-'</span></span>) ax.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/pn/v-/q6/pnv-q66lueerg-jdlbcz9kqz8q0.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/b1/n2/yk/b1n2ykya8vxvfxmem0td-_i_jy4.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/wo/e8/wo/woe8wohlz-mhow1zlb82u-lnyey.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/tm/ht/vn/tmhtvnaidpxfufo-ka2reqvt8vs.png" alt="gambar"><br><br>  Untuk pelatihan, Anda dapat menambahkan rentang hidup selebritas ke visualisasi dari contoh terakhir untuk mengevaluasi secara visual pengaruhnya terhadap dinamika nama. <br><br>  Tentang ini, semua tujuan kami tercapai dan terpenuhi.  Kami telah mengembangkan keterampilan menggunakan alat pengelompokan data dan visualisasi dengan Python, dan kami akan terus bekerja dengan data.  Setiap orang akan dapat menarik kesimpulan tentang data yang sudah jadi dan divisualisasikan untuk dirinya sendiri. <br><br>  Semua pengetahuan! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445834/">https://habr.com/ru/post/id445834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445822/index.html">Kenapa Jaop? Mengapa raket?</a></li>
<li><a href="../id445824/index.html">Pembuatan Kode di Dart. Bagian 1. Dasar-dasar</a></li>
<li><a href="../id445826/index.html">Kami berjalan keliling kota dengan bijak - 2: keliling kota dalam lingkaran menggunakan algoritma genetika</a></li>
<li><a href="../id445828/index.html">Spektrum matahari Cina</a></li>
<li><a href="../id445832/index.html">Radiasi: pembunuh tak terlihat dan putri-putrinya atau sedikit tentang radon</a></li>
<li><a href="../id445838/index.html">Robotika untuk anak-anak: mata robot</a></li>
<li><a href="../id445844/index.html">GitLab 11.9 Dirilis dengan Deteksi Rahasia dan Berbagai Aturan Resolusi Permintaan Marge</a></li>
<li><a href="../id445846/index.html">Postgres Profesional</a></li>
<li><a href="../id445850/index.html">Perbaikan Sharp Memowriter EL-7000 Note Perangkat Penyimpanan dan Pencetakan Setelah Baterai Kebocoran</a></li>
<li><a href="../id445852/index.html">Cara membuat pemicu DAG di Aliran Udara menggunakan API Eksperimental</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>