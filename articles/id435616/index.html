<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ğŸ¾ ğŸ‘¨ğŸ»â€ğŸ« ğŸ›¸ Bagaimana Peer Zoning menyederhanakan kehidupan kami dan membantu menyeimbangkan muatan EMC VPLEX ğŸ° ğŸ‘‹ğŸ½ âœ´ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada dua masalah dalam infrastruktur penyimpanan kami. Pertama, ada 960 zona "Penggagas tunggal - Target tunggal" pada SAN, yang mempersulit administra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana Peer Zoning menyederhanakan kehidupan kami dan membantu menyeimbangkan muatan EMC VPLEX</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/icl_services/blog/435616/">  Ada dua masalah dalam infrastruktur penyimpanan kami.  Pertama, ada 960 zona "Penggagas tunggal - Target tunggal" pada SAN, yang mempersulit administrasi jaringan SAN.  Dan kedua, beban tidak seimbang pada direksi EMC VPLEX.  Berkat pengenalan zonasi Peer, kami mengurangi jumlah zona sebanyak 120 kali, mengurangi separuh waktu para insinyur dan mendapat beban yang kurang lebih seragam pada direksi EMC VPLEX.  Selanjutnya, saya akan memberi tahu Anda bagaimana kami melakukannya. <br><br>  Dalam infrastruktur pelanggan: <br><br><ul><li>  satu EMC VPLEX di setiap pusat data di konfigurasi Metro; </li><li>  total 120 server terhubung ke mereka; </li><li>  dua pabrik SAN, yang masing-masing memiliki dua sakelar SAN Brokat. </li></ul><br>  Dalam diagram, terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/oi/kv/96/oikv96lm4lvabbxkbn_jaotnw7o.jpeg"><br><br><a name="habracut"></a>  Skema ini disederhanakan - hanya menunjukkan satu server dan koneksi ke pabrik (server lain terhubung dengan cara yang sama), hanya port front-end (FE) dari EMC VPLEX yang diindikasikan, penyimpanan back-end tidak ditampilkan dan mesin dan direktur EMC VPLEX tidak ditampilkan. <br><br>  Dalam konfigurasi saat ini: <br><br><ul><li>  setiap EMC VPLEX memiliki 4 mesin </li><li>  setiap mesin memiliki dua direktur </li><li>  masing-masing direktur dengan 4 FE-port. </li></ul><br>  Total 4 * 2 * 4 = 32 port FE, 16 di antaranya terhubung ke Fabric1 untuk toleransi kesalahan dan 16 port lainnya ke Fabric2. <br><br>  Setiap server memiliki dua HBA: HBA0 dan HBA1.  Koneksi ke pabrik serupa - untuk toleransi kesalahan, HBA0 terhubung ke Fabric1, HBA1 terhubung ke Fabric2. <br><br>  Menurut praktik terbaik EMC VPLEX, setiap server HBA memiliki zona pada satu FE-port dari masing-masing empat mesin.  Ketika kami menggunakan zonasi inisiator tunggal, itu adalah 4 zona per pabrik, total 8 jalur melalui dua pabrik untuk satu server. <br><br>  Pada gambar, terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/cz/2k/dh/cz2kdh0uqvcfyo4qqusxmxbkkja.jpeg"><br><br>  Setahun yang lalu, kami menggunakan zonasi penggagas tunggal dan melakukan zonasi sesuai dengan prinsip "Penggagas tunggal - target tunggal" di setiap zona.  Jadi, jika Anda hitung, ada 4 zona * 120 server = 480 zona untuk satu pabrik, dan 8 zona * 120 server = 960 zona untuk dua pabrik, masing-masing.  Pengenalan Peer Zoning membantu mengurangi jumlah zona sebanyak 120 (!) Times, menguranginya menjadi 8 - 4 zona rekan di setiap pabrik. <br><br>  Tidak seperti zonasi pemrakarsa tunggal, zona Peer terdiri dari kepala sekolah (sasaran) dan anggota (pemrakarsa).  Anggota dalam satu zona Peer hanya berinteraksi dengan kepala sekolah.  Namun, setiap anggota tidak melihat anggota lainnya.  Begitu juga prinsipal: satu prinsipal tidak berinteraksi dengan prinsipal lainnya. <br><br>  Kami mengelompokkan port VPLEX FE ke dalam grup dan menciptakan 4 zona Peer di setiap pabrik. <br><br>  <b>Bagaimana kami menerapkannya</b> <br><br>  Untuk mematuhi semua praktik terbaik EMC, kami melakukannya sebagai berikut. <br>  Port VPLEX termasuk dalam zona PEER_VPLEX_Fabric1_Group1 sebagai prinsipal: <br><br>  Engine1_directorB_FC01 <br>  Engine2_directorA_FC01 <br>  Engine3_directorB_FC01 <br>  Engine4_directorA_FC01 <br><br>  Port VPLEX termasuk dalam zona PEER_VPLEX_Fabric1_Group2 sebagai prinsipal: <br><br>  Engine1_directorA_FC01 <br>  Engine2_directorB_FC01 <br>  Engine3_directorA_FC01 <br>  Engine4_directorB_FC01 <br><br>  Port VPLEX termasuk dalam zona PEER_VPLEX_Fabric2_Group1 sebagai prinsipal: <br><br>  Engine1_directorA_FC00 <br>  Engine2_directorB_FC00 <br>  Engine3_directorA_FC00 <br>  Engine4_directorB_FC00 <br><br>  Dan sebagainya. <br><br>  Secara skematis: <br><br><img src="https://habrastorage.org/webt/t4/4i/hq/t44ihqffzwx8b_1iwbgaijejpuw.jpeg"><br><br>  Sekarang, saat menambahkan server baru ke SAN, cukup menambahkan WWN server baru ke zona Peer yang ada. <br><br>  Sebagai hasil dari penerapan zonasi Peer, administrasi zona jaringan SAN sangat disederhanakan, yang setidaknya menyelamatkan insinyur dua kali. <br><br>  Selain itu, adalah mungkin untuk mencapai direktur load balancing. <br>  Di bawah ini adalah grafik untuk Pemanfaatan Lancar yang diambil dari EMC ViPR SRM dari masing-masing direktur baik EMC VPLEX cluster-1 dan cluster-2. <br><br>  Kuning menunjukkan tanggal mulai pengenalan PeerZoning bertahap ke front-end. <br><br><img src="https://habrastorage.org/webt/0g/ow/z0/0gowz0oshckiz-cs90xty8rclfa.png"><br><br><img src="https://habrastorage.org/webt/ur/dk/hr/urdkhr44dksj12z-tsjw7rbppzu.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id435616/">https://habr.com/ru/post/id435616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id435606/index.html">Bagaimana cara menulis unit test untuk para aktor? Pendekatan SObjectizer</a></li>
<li><a href="../id435608/index.html">Layar DIY</a></li>
<li><a href="../id435610/index.html">Telur paskah untuk ZX Spectrum - di album musik dan film</a></li>
<li><a href="../id435612/index.html">Percayai Codd atau fasilitas Anda?</a></li>
<li><a href="../id435614/index.html">Rust News # 4 (Desember 2018)</a></li>
<li><a href="../id435618/index.html">Pengalaman Persiapan Pekerjaan Google saya</a></li>
<li><a href="../id435620/index.html">Ide-ide futurolog yang menjadi kenyataan</a></li>
<li><a href="../id435624/index.html">Pilihan laporan menarik dari Konferensi 35C3</a></li>
<li><a href="../id435626/index.html">Bagaimana kami menemukan kerentanan kritis AspNetCore.Mvc dan beralih ke serialisasi kami sendiri</a></li>
<li><a href="../id435628/index.html">Pemblokir iklan bawaan browser Chrome dimulai 9 Juli</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>