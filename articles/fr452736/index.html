<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏼 🛄 📿 Cryptage des messages dans SecureDialogues 😞 🆕 🐑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cryptage, signature numérique, protection des données sont des termes assez courants chez les informaticiens. 


 J'ai déjà écrit de nombreuses public...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cryptage des messages dans SecureDialogues</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452736/"><p>  Cryptage, signature numérique, protection des données sont des termes assez courants chez les informaticiens. </p><br><p>  J'ai déjà écrit de nombreuses publications, articles et livres intéressants sur ces sujets.  Après avoir lu l'un d'eux, j'ai décidé de m'essayer à la pratique.  Et c'est ainsi que le projet est né, qui sera discuté ci-dessous. </p><a name="habracut"></a><br><h2 id="kratkoe-opisanie-prilozheniya">  Dossier d'application </h2><br><p>  L'application <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SecureDialogues</a> ajoute un niveau de cryptage aux messages transmis via des services tels que <strong>Gmail</strong> .  L'application <strong>elle-même</strong> effectue l'autorisation pour les services configurés à l'aide du protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OAuth2</a> , reçoit et envoie des messages.  À la base, il s'agit d'un <strong>messager régulier</strong> qui fournit une protection cryptographique aux messages, à moins que l'un des <strong>services tiers ne</strong> puisse être utilisé pour le transfert. </p><br><p>  Les données sur le disque dur sont cryptées à l'aide de l'algorithme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AES</a> avec une clé de <strong>256</strong> bits, qui est extraite du mot de passe entré au démarrage, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RSA est</a> utilisé pour la signature numérique.  Les messages utilisateur sont codés avec une clé de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">session</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AES</a> <strong>256</strong> bits. </p><br><p>  Les codes sources sont disponibles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le lien</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>wiki du</strong> projet</a> . </p><br><p>  Le lancement de l'application dans le conteneur <strong>Docker</strong> est disponible, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus sur le lien</a> . </p><br><h2 id="cel-sozdaniya">  But de la création </h2><br><p>  L'application a été créée dans un but très spécifique - c'était intéressant pour moi de travailler avec la cryptographie sur un projet pratique.  Et pas dans un texte simple, comme «insérer le texte ici, mais ici, prenez le message codé», mais de telle sorte qu'il existe une <strong>signature numérique</strong> , <strong>un cryptage asymétrique</strong> , des <strong>clés de session</strong> et d'autres choses intéressantes.  Par conséquent, le projet messenger a été choisi. </p><br><p>  En l'absence de toute l'infrastructure nécessaire pour l'envoi de messages, cette fonction est déléguée à des services existants comme <strong>Gmail</strong> ou <strong>VKontakte</strong> . </p><br><h2 id="opisanie-interfeysa">  Description de l'interface </h2><br><p>  Au premier démarrage, l'application vous demandera de saisir un mot de passe: </p><br><p><img src="https://habrastorage.org/webt/hz/uk/xe/hzukxemyweyrvxmtlhcwiy_3exw.png"></p><br><p>  Ce mot de passe est utilisé pour crypter les données stockées sur le disque dur, telles que: clés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RSA</a> , jetons d'autorisation pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OAuth2</a> , données sur les services et contacts. </p><br><p>  <strong>Les messages</strong> et informations sur les <strong>boîtes</strong> de <strong>dialogue</strong> <strong>ne</strong> <strong>sont</strong> <strong>pas enregistrés</strong> , c'est-à-dire qu'à la fin de l'application, les données sur les messages reçus et les boîtes de dialogue ouvertes sont perdues. </p><br><p>  Lors des lancements ultérieurs, l'application demande également un mot de passe pour décrypter et télécharger les données précédemment enregistrées. </p><br><p>  Vue de la fenêtre principale de l'application: </p><br><p><img src="https://habrastorage.org/webt/nx/oa/cq/nxoacqnhcd8nwqhxrmhm2j2xuyc.png"></p><br><p>  Avant de pouvoir envoyer le premier message, vous devez effectuer deux étapes: </p><br><ul><li>  Mettre en place une connexion au <strong>service</strong> pour l'envoi de messages ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus sur le wiki</a> ); </li><li>  Ajouter une personne de <strong>contact</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus sur le wiki</a> ); </li></ul><br><p>  La chose la plus importante, à cause de laquelle le <strong>contact est</strong> ajouté avant le début de l'échange, est la <strong>clé publique</strong> .  Chaque message envoyé entre utilisateurs doit être signé par l'expéditeur.  Si le destinataire n'a pas pu vérifier la signature numérique à l'aide de la clé publique, un tel message est rejeté. </p><br><p>  De plus, la clé publique est utilisée pour crypter la clé de session. </p><br><p>  Une fois toutes les étapes préliminaires terminées, vous pouvez démarrer le dialogue.  Pour ce faire, il y a un bouton correspondant dans la fenêtre principale de l'application ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus sur le wiki</a> ).  Lors de la création d'une conversation, <strong>une</strong> <strong>clé de</strong> session <strong>est</strong> <strong>générée</strong> qui <strong>crypte</strong> tous les messages de cette conversation. </p><br><p>  Toutes les boîtes de dialogue sont affichées dans la fenêtre principale à gauche.  Une fois que votre interlocuteur a confirmé la création d'un dialogue, vous pouvez y envoyer et recevoir des messages: </p><br><p><img src="https://habrastorage.org/webt/ue/84/sd/ue84sdhtslgobjwqeytzfbmxmkg.png"></p><br><p>  Pour envoyer ou lire des messages dans la boîte de dialogue souhaitée, vous devez la sélectionner en cliquant sur le bouton gauche de la souris. </p><br><p>  Les messages de l'utilisateur distant s'affichent à gauche et les vôtres à droite.  Si le message n'a pas encore été remis, il s'affiche en gris: </p><br><p><img src="https://habrastorage.org/webt/73/p7/3b/73p73bp8_z5t86sb7yi9lhgjzv4.png"></p><br><p>  L'application trie la liste des boîtes de dialogue dans l'ordre suivant - tout en haut, il y aura des boîtes de dialogue actives pour lesquelles l'envoi de messages est autorisé, et tout en bas, il y en aura de fermées.  En outre, l'ordre est affecté par le moment où la boîte de dialogue change.  Le dialogue actif que le dernier message reçu sera avant tout, et le premier fermé sera en bas.  Pour chaque dialogue, un indicateur du nombre de messages non lus s'affiche, le cas échéant: </p><br><p><img src="https://habrastorage.org/webt/tq/jw/c9/tqjwc9jiahvl5tnxokc5igfldbu.png"></p><br><p>  Le statut du dialogue est surligné en couleur: </p><br><ul><li>  les boîtes de dialogue fermées sont <strong>rouges</strong> </li><li>  les dialogues actifs sont affichés en <strong>vert</strong> , il leur est possible d'envoyer des messages </li><li>  <strong>des</strong> dialogues <strong>gris</strong> sont en préparation. </li></ul><br><p>  Voici un exemple de ce à quoi ressemble un simple message avec <strong>un</strong> texte du <strong>monde!</strong>  : </p><br><p><img src="https://habrastorage.org/webt/5k/gt/0v/5kgt0vea72khtnnyj0edubpdu3s.png"></p><br><h2 id="signalnyy-obmen">  Échange de signaux </h2><br><p>  L'échange de messages entre les interlocuteurs <strong>A</strong> et <strong>B</strong> comprend les étapes suivantes: </p><br><ul><li> la partie <strong>A</strong> génère une commande pour créer une boîte de dialogue ( <code>CREATE_DIALOG</code> ) et la signe avec sa clé privée; </li><li>  la partie <strong>B</strong> demande à l'utilisateur le consentement pour créer un dialogue, et si l'utilisateur est d'accord, une clé de session <strong>T</strong> et une chaîne aléatoire <strong>R</strong> sont générées, qui sont individuellement chiffrées avec la clé publique <strong>A</strong> et placées dans le corps du message ( <code>VERIFY_KEY</code> ).  L'ensemble du message est signé avec la clé privée <strong>B.</strong> </li><li>  le côté <strong>A</strong> déchiffre la clé de session et la chaîne aléatoire, chiffre la chaîne aléatoire avec la clé de session, ajoute le résultat au <code>KEY_VERIFICATION</code> message <code>KEY_VERIFICATION</code> .  Signe l'intégralité du message avec sa clé privée. </li><li>  le côté <strong>B</strong> déchiffre la chaîne aléatoire, vérifie si le résultat correspond à la chaîne <strong>R</strong> , si tout est correct, le message signé <code>ACCEPT_DIALOG</code> , ce qui signifie que le dialogue est établi et que l'échange de messages est possible. </li></ul><br><p>  L'établissement d'un dialogue réussi et l'échange de signaux sont illustrés dans la figure: </p><br><p><img src="https://habrastorage.org/webt/jw/a4/_h/jwa4_hiyxjz3buv1kvae_2xgc9a.png"></p><br><h2 id="dalneyshee-razvitie-proekta">  Poursuite du développement du projet </h2><br><p>  À l'heure actuelle, l'application fournit déjà des capacités de base pour le cryptage et l'authentification des messages via la signature numérique.  Mais la liste des services pris en charge est extrêmement petite. </p><br><p>  À l'avenir, il est prévu de l'augmenter.  Des travaux sont déjà en cours pour y inclure <strong>VKontakte</strong> . </p><br><p>  Le projet contient également une augmentation du contenu informatif de l'interface utilisateur, comme l'ajout d'un état de connexion à un service (actif, erreur de connexion, etc.). </p><br><p>  L'algorithme de vérification des messages en double ne fonctionne pas de la meilleure façon, il est prévu de le finaliser. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr452736/">https://habr.com/ru/post/fr452736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr452722/index.html">Se faire des amis CI, tests unitaires et base de données</a></li>
<li><a href="../fr452724/index.html">Phoenix LiveView: quand le code javascript est amusant *</a></li>
<li><a href="../fr452726/index.html">Cute bones 3D: matériau osseux hyperélastique pour les défauts du crâne en plastique</a></li>
<li><a href="../fr452730/index.html">Certification des systèmes d'information sur le principe des segments standards. Mythes et réalité</a></li>
<li><a href="../fr452734/index.html">Migrer automatiquement les applications iOS (ARM) vers macOS (x86) à l'aide de Bitcode</a></li>
<li><a href="../fr452738/index.html">Courte critique du téléphone IP Snom D717</a></li>
<li><a href="../fr452740/index.html">Une sélection de jeux de données pour l'apprentissage automatique</a></li>
<li><a href="../fr452742/index.html">Configuration du test automatique d'une application hybride</a></li>
<li><a href="../fr452744/index.html">Existe-t-il une vie complète d'un éloigné sans échanges indépendants?</a></li>
<li><a href="../fr452746/index.html">Le livre "L'art de la programmation dans R. Immerger dans le Big Data"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>