<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤚🏿 👩🏼‍✈️ ◻️ HPC基础架构的存储，或者我们如何在理研日本研究中心收集65 PB的存储 ⏹️ 👩‍💼 🎺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="datacenterknowledge.com 

 去年，实施了目前最大的基于RAIDIX的存储安装。 RIKEN计算科学研究所（日本）部署了一个由11个故障转移群集组成的系统。 该系统的主要目的是用于HPC基础结构（HPCI）的存储，该存储是作为学术信息（基于SINET网络）的大规模学术交流的一...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HPC基础架构的存储，或者我们如何在理研日本研究中心收集65 PB的存储</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/raidix/blog/431230/"><img src="https://habrastorage.org/webt/gt/hj/ib/gthjibaqdw82ss1jxo2tmhpa97o.jpeg"><br>  <i><font color="#99999">datacenterknowledge.com</font></i> <br><br> 去年，实施了目前最大的基于RAIDIX的存储安装。  RIKEN计算科学研究所（日本）部署了一个由11个故障转移群集组成的系统。 该系统的主要目的是用于HPC基础结构（HPCI）的存储，该存储是作为学术信息（基于SINET网络）的大规模学术交流的一部分而实现的。 <br><br> 该项目的显着特征是其总容量为65 PB，其中系统的可用容量为51.4 PB。 为了更好地理解此值，我们添加了6512个磁盘，每个磁盘10 TB（在安装时是最新的）。 好多 <br><a name="habracut"></a><br> 该项目的工作全年进行，此后，系统稳定性的监视持续了大约一年。 所获得的指标满足规定的要求，现在我们可以为我们谈谈这项记录和重大项目的成功。 <br><br><h2>  RIKEN Institute计算中心的超级计算机 </h2><br> 在ICT行业，RIKEN研究所主要以其传奇的“ K-计算机”（源自日本的“ kei”，意为10万亿）而闻名，该计算机在发布时（2011年6月）被认为是世界上功能最强大的超级计算机。 <br><br><div class="spoiler">  <b class="spoiler_title">阅读有关K-计算机的信息</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.nytimes.com/2011/06/20/technology/20computer.html</a> <br></div></div><br> 超级计算机可以帮助计算科学中心实施复杂的大规模研究：它可以对气候，天气条件和分子行为进行建模，计算和分析核物理中的反应，地震预测等等。 超级计算机的能力还用于更多的“日常”和应用研究-搜索油田和预测股市趋势。 <br><br> 这样的计算和实验会生成大量数据，其价值和重要性不能被高估。 为了充分利用这一点，日本科学家开发了一个单一信息空间的概念，来自不同研究中心的HPC专业人员将可以访问所接收的HPC资源。 <br><br><h2> 高性能计算基础架构（HPCI） </h2><br>  HPCI在SINET（科学信息网）的基础上运行，SINET是在日本大学和研究中心之间交换科学数据的骨干网。 目前，SINET汇集了约850个研究所和大学，为影响核物理，天文学，大地测量学，地震学和计算机科学的研究提供了巨大的信息交流机会。 <br><br>  HPCI是一个独特的基础架构项目，在日本的大学和研究中心之间形成了高性能计算领域的统一信息交换系统。 <br><br> 通过以可访问的形式结合“ K”超级计算机和其他研究中心的功能，科学界在使用超级计算机计算创建的有价值数据时会获得明显的收益。 <br><br> 为了向HPCI环境提供有效的联合用户访问权限，对存储的访问速度提出了很高的要求。 并且由于K计算机的“高生产率”，RIKEN计算科学研究所的存储集群的计算得出的工作量至少为50 PB。 <br><br>  HPCI项目基础结构建立在Gfarm文件系统之上，该文件系统具有较高的性能，并将分散的存储群集组合到单个共享空间中。 <br><br><h2>  Gfarm文件系统 </h2><br>  Gfarm是由日本工程师开发的开源分布式文件系统。  Gfarm是高级工业科学技术研究院（AIST）的发展成果，并且该系统的名称是指Grid Data Farm使用的体系结构。 <br><br> 该文件系统结合了许多看似不兼容的属性： <br><br><ul><li> 体积和性能上的高可扩展性 </li><li> 支持多个研究中心的单一名称空间的远程网络分布 </li><li>  POSIX API支持 </li><li> 并行计算所需的高性能 </li><li> 资料储存安全性 </li></ul><br>  Gfarm使用来自多个服务器的存储资源来创建虚拟文件系统。 数据由元数据服务器分发，并且分发方案本身对用户隐藏。 我必须说，Gfarm不仅由存储集群组成，而且还包括使用相同服务器资源的计算网格。 该系统的操作原理类似于Hadoop：提交的工作“降低”到数据所在的节点。 <br><br> 文件系统架构是不对称的。 角色分配明确：存储服务器，元数据服务器，客户端。 但是同时，所有三个角色都可以由同一台机器执行。 存储服务器存储许多文件副本，元数据服务器以主从模式运行。 <br><br><h2> 项目工作 </h2><br>  Core Micro Systems是日本RAIDIX的战略合作伙伴和独家供应商，它在RIKEN计算科学中心进行了实施。 为实施该项目，花费了大约12个月的艰苦工作，不仅Core Micro Systems的员工，而且Reydix团队的技术专家都参与其中。 <br><br> 同时，过渡到另一个存储系统似乎不太可能：现有系统具有很多技术约束，使向任何新品牌的过渡变得复杂。 <br><br> 在冗长的测试，检查和改进中，RAIDIX在处理如此大量的数据时始终显示出高性能和高效率。 <br><br> 关于改进，值得多讲一点。 不仅需要创建存储系统与Gfarm文件系统的集成，还需要扩展软件的某些功能。 例如，为了满足技术规范的既定要求，有必要尽快开发和实施自动直写技术。 <br><br> 系统本身的部署是系统的。  Core Micro Systems的工程师认真，准确地进行了测试的每个阶段，从而逐渐增加了系统的规模。 <br><br>  2017年8月，系统容量达到18 PB时，完成了第一个部署阶段。 同年10月，实施了第二阶段，该阶段的容量上升到创纪录的51 PB。 <br><br><h2> 解决方案架构 </h2><br> 该解决方案是通过RAIDIX存储系统和Gfarm分布式文件系统的集成创建的。 与Gfarm结合使用，可以使用11个双控制器RAIDIX系统创建可扩展存储。 <br><br> 通过8 x SAS 12G连接到Gfarm服务器。 <br><br><img src="https://habrastorage.org/webt/ii/3x/wk/ii3xwkawuyvwht0pczwonxbumnu.png"><br><br>  <i><font color="#99999">图</font></i>  <i><font color="#99999">1.每个节点都有一个单独的数据服务器的集群映像</font></i> <br><br>  （1）48Gbps×8个SAN Mesh连接; 带宽：384Gbps <br>  （2）48Gbps×40网格FABRIC连接; 带宽：1920Gbps <br><br><h3> 双控制器平台配置 </h3><br><table><tbody><tr><td> 中央处理器 </td><td> 英特尔至强E5-2637-4个 </td></tr><tr><td> 主机板 </td><td> 与支持PCI Express 3.0 x8 / x16的处理器型号兼容 </td></tr><tr><td> 内部缓存 </td><td> 每个节点256 GB </td></tr><tr><td> 底盘 </td><td>  2U </td></tr><tr><td>  SAS控制器，用于连接磁盘架，服务器和写入缓存同步 </td><td>  Broadcom 9305 16e，9300 8e </td></tr><tr><td> 硬碟 </td><td>  HGST氦气10TB SAS硬盘 </td></tr><tr><td> 心跳同步 </td><td> 以太网1 GbE </td></tr><tr><td>  CacheSync同步 </td><td>  6个SAS 12G </td></tr></tbody></table><br> 故障转移群集的两个节点都通过每个节点的20个SAS 12G端口连接到10个JBOD（每个磁盘10 TB的60个磁盘）。 在这些磁盘架上，创建了58个10TB RAID6阵列（8个数据磁盘（D）+ 2个奇偶校验磁盘（P）），并为“热交换”分配了12个磁盘。 <br><br>  10 JBOD =&gt; 58×RAID6（8个数据磁盘（D）+ 2个奇偶校验磁盘（P）），580个HDD + 12个HDD的LUN用于“热插拔”（占总容量的2.06％） <br><br> 每个群集592个HDD（10TB SAS / 7.2k HDD）* HDD：HGST（MTBF：250万小时） <br><br><img src="https://habrastorage.org/webt/qv/vc/0e/qvvc0egbrc1txvsztmx3o6yl918.png"><br><br>  <i><font color="#99999">图</font></i>  <i><font color="#99999">2.具有10个JBOD连接图的故障转移群集</font></i> <br><br><h3> 通用系统和连接图 </h3><br><img src="https://habrastorage.org/webt/6m/ju/xv/6mjuxvlhx5zlcnqb1eopx9nknfu.png"><br><br>  <i><font color="#99999">图</font></i>  <i><font color="#99999">3. HPCI系统内单个群集的映像</font></i> <br><br><h2> 关键项目指标 </h2><br><blockquote> 每个群集的可用容量： <b>4.64 PB</b> （（RAID6 / 8D + 2P）LUN×58） <br><br> 整个系统的总可用容量： <b>51.04 PB</b> （4.64 PB×11个群集）。 <br><br> 系统总容量： <b>65 PB</b> 。 <br><br> 系统性能为：写入<b>17 GB / s</b> ，读取<b>22 GB / s</b> 。 <br><br>  11个RAIDIX存储系统上群集的磁盘子系统的总性能： <b>250 GB / s</b> 。 </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN431230/">https://habr.com/ru/post/zh-CN431230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN431218/index.html">我是如何制作Lovecraft漫画游戏的</a></li>
<li><a href="../zh-CN431220/index.html">生物学家看我们衰老的根源</a></li>
<li><a href="../zh-CN431222/index.html">网站存档</a></li>
<li><a href="../zh-CN431226/index.html">FPGA Cyclone IV的Snake游戏（带有VGA和SPI游戏杆）</a></li>
<li><a href="../zh-CN431228/index.html">光的障碍物：液晶助您一臂之力</a></li>
<li><a href="../zh-CN431232/index.html">我们在Node.js上生成漂亮的SVG占位符</a></li>
<li><a href="../zh-CN431234/index.html">12月11日，莫斯科-Alfa JS MeetUp</a></li>
<li><a href="../zh-CN431236/index.html">如何在2018年用Objective-C编写 第一部分</a></li>
<li><a href="../zh-CN431238/index.html">2018年12月IT领域人力资源专业人员的事件摘要</a></li>
<li><a href="../zh-CN431242/index.html">TLS和Web证书</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>