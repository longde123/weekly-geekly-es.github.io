<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥩 ✊🏾 👨🏼‍🤝‍👨🏻 Java: réduire les journaux multilignes en un journal unifilaire à l'aide de Spring and Logback ou Log4j2 🈷️ 🚒 👨‍👨‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Logback et Log4j2 sont parmi les frameworks de journalisation JAVA les plus connus. Le cadre Logback est utilisé uniquement en conjonction avec la bib...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java: réduire les journaux multilignes en un journal unifilaire à l'aide de Spring and Logback ou Log4j2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/482804/">  Logback et Log4j2 sont parmi les frameworks de journalisation JAVA les plus connus.  Le cadre Logback est utilisé uniquement en conjonction avec la bibliothèque SLF4J, qui est une interface pour les systèmes de journalisation des événements.  Log4j2 est la deuxième version améliorée de l'enregistreur Log4, une bibliothèque de journalisation dans laquelle l'API et l'implémentation sont séparées, ce qui vous permet d'utiliser l'API Log4j 2 en conjonction avec l'implémentation d'un autre enregistreur. <br><br>  Spring Music est une application permettant d'utiliser le service de base de données d'environnement Cloud Foundry conjointement avec Spring Framework et Spring Boot.  Il a été créé pour stocker les mêmes objets de domaine dans l'un des nombreux référentiels différents - relationnel objet, orienté document ou distribué (magasin de valeurs-clés). <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/l-/hz/_y/l-hz_yl1hq_kzdyka5tt2vfeac0.jpeg"><br><br>  Les deux enregistreurs les plus courants utilisés avec Spring / Spring Boot sont Logback et Log4j2.  Jusqu'à récemment, le développeur disposait d'une plus grande liberté d'action concernant le format des journaux et les fichiers eux-mêmes utilisés pour la journalisation.  Cependant, dans le monde moderne de l'implémentation et de la mise à l'échelle des conteneurs, la journalisation offre généralement des solutions d'entreprise qui nécessitent un certain niveau de standardisation. <br><br>  L'un des plus gros problèmes est que les exceptions Java entraînent généralement un traçage de pile multi-lignes important dans les journaux.  Pour cette raison, au lieu d'un seul événement de journal indiquant une exception ou un message d'erreur, vous avez plus de 100 journaux différents, un pour chaque ligne de la trace de pile, entrecoupés d'autres événements de journal provenant d'autres services ou instances de service. <br><br>  Cet article décrit comment configurer l'application Spring Boot pour réduire les exceptions sur une seule ligne pour l'enregistreur Logback et Log4j2.  Cela nous permet de considérer la journalisation des exceptions et le traçage de pile comme un seul journal des événements. <br><br><img src="https://habrastorage.org/webt/lr/dv/je/lrdvjed8d9tknggbl67_x-1utt4.jpeg"><br>  <i>Classes d'erreur et d'exception dans JAVA</i> <br><br><img src="https://habrastorage.org/webt/wp/0t/ea/wp0teazjqbomtgcorljap3bqoig.jpeg"><br>  <i>Exceptions d'exception JAVA cochées et non cochées</i> <br><br><h3>  Spring Music App </h3><br>  Dans cet article, pour la journalisation personnalisée, une version personnalisée de l'application <a href="https://github.com/fabianlee/spring-music">Spring-Music</a> est utilisée, ce qui est nécessaire pour le fonctionnement des enregistreurs Logback et Log4j2.  Vous devez d'abord vous assurer que nous pouvons le recréer à partir de la source.  Le projet nécessite Java8, donc la première étape consiste à installer Java8 sur votre hôte Ubuntu. <br><br><img src="https://habrastorage.org/webt/wy/ex/md/wyexmd40eutwvvmmwue1w5lek44.jpeg"><br><br>  Ensuite, nous prenons le code source du projet avec <a href="https://github.com/fabianlee/spring-music">github</a> et créons l'assembly en utilisant les scripts intégrés du système de construction Gradle: <br><br><img src="https://habrastorage.org/webt/cb/sq/z7/cbsqz7dxfedqwrmluhluwjurg6m.jpeg"><br><br><h3>  Réduire les exceptions multilignes à l'aide de Logback </h3><br>  Passons à autre chose et créons une archive jar du projet jar avec l'implémentation de l'enregistreur Logback à l'aide de la commande Gradle standard: <br><br><img src="https://habrastorage.org/webt/2j/4a/wp/2j4awpr_x34ktywzv_6ktimg3us.jpeg"><br><br>  Le fichier «build / libs / spring-music.jar» est auto-exécutable et contient un Tomcat intégré lié à localhost: 8080.  Le fichier jar est appelé à l'aide de la commande: <br><br><img src="https://habrastorage.org/webt/wk/4c/sj/wk4csj5eugehsudwfdghrilmjrk.jpeg"><br><br>  L'appel de <a href="http://localhost:8080/">http: // localhost: 8080</a> dans le navigateur vous montrera une page avec une liste d'albums, et la ligne de journal qui ressemble à ceci sera affichée dans la console: <br><br><img src="https://habrastorage.org/webt/gz/af/za/gzafzavwxyid2nlhpeqxgygk9kc.jpeg"><br><br>  Cette syntaxe de ligne de journal est définie dans « <a href="">src / main / resources / logback-spring.xml</a> » à l'aide d'un modèle personnalisé: <br><br><img src="https://habrastorage.org/webt/w7/px/fv/w7pxfvjh0rbm8adl-ctlhqs8wf8.jpeg"><br><br>  Les variables $ {...} sont extraites de application.properties et des propriétés système, qui peuvent être consultées sur la page <a href="http://localhost:8080/env">http: // localhost: 8080 / env</a> .  Cependant, la partie du code dont nous avons besoin se trouve immédiatement après le message (% m). <br><br><img src="https://habrastorage.org/webt/ec/ov/ia/ecoviai9hbwvzt_-bve6nxrq2ps.jpeg"><br><br>  Le mot 'MULTIEXCEPTION' n'a pas de signification particulière, c'est juste un marqueur de chaîne unique qui nous permet de savoir où se termine le message (% m) et où commence l'exception.  Si vous le souhaitez, vous pouvez laisser ce marqueur. <br><br>  En outre, au lieu d'insérer simplement un espace réservé% xException qui lancerait une grande trace de pile avec des caractères de nouvelle ligne, nous convertissons la valeur avec la fonction% replace et remplaçons tous les caractères de nouvelle ligne par l'expression «\ u2028», qui est une <a href="https://en.wikipedia.org/wiki/Newline">vue de délimiteur de chaîne Unicode.</a> . <br><br>  La suppression des caractères "\ n" de la trace de pile signifie que la trace de pile sera désormais envoyée sous forme de ligne unique.  Pour le prouver, accédez à <a href="http://localhost:8080/errors/throw">http: // localhost: 8080 / errors / throw</a> , où se trouve un <a href="">contrôleur d'erreur</a> qui déclenche intentionnellement une NullPointerException avec le code suivant: <br><br><img src="https://habrastorage.org/webt/rv/5a/qs/rv5aqssa51ra4h9l1tbuzxiev3o.jpeg"><br><br>  Cela crée une ligne de journal dans la console, illustrée ci-dessous: <br><br><img src="https://habrastorage.org/webt/rb/cr/zp/rbcrzpn1tbfhmhjvqkcyo5xxrxg.jpeg"><br><br>  On peut voir ici que l'expression «u2028» sépare ce qui était autrefois un saut de ligne dans la trace de pile.  Maintenant, le message d'exception et la trace de pile seront envoyés comme une unité. <br><br><img src="https://habrastorage.org/webt/xu/jy/zc/xujyzcqchwq1l0xiu8ekqgvnupo.jpeg"><br><br><h3>  Réduire les exceptions multilignes à l'aide de Log4j2 </h3><br>  Pour remplacer le script de construction par défaut et utiliser Log4j2 comme implémentation de sauvegarde de ce projet, vous devez utiliser le fichier «build-log4j2.gradle». <br><br><img src="https://habrastorage.org/webt/xu/jy/zc/xujyzcqchwq1l0xiu8ekqgvnupo.jpeg"><br><br>  Le fichier «build / libs / spring-music.jar» est auto-exécutable et utilise le Tomcat intégré, qui est lié à localhost: 8080.  Comme dans l'exemple précédent, le fichier jar est appelé à l'aide de la commande: <br><br><img src="https://habrastorage.org/webt/ya/te/ts/yatetsvficn_m3sqomw1ypprwzq.jpeg"><br><br>  L'appel de <a href="http://localhost:8080/">http: // localhost: 8080 à l'</a> aide d'un navigateur affichera une page avec une liste d'albums avec une sortie de ligne de journal vers la console qui ressemble à ceci: <br><br><img src="https://habrastorage.org/webt/x-/m0/qf/x-m0qfiewf26kw1dax6qusy9zr8.jpeg"><br><br>  Cette syntaxe de ligne de journal est définie dans « <a href="">src / main / resources / log4j2.xml</a> » à l'aide d'un modèle personnalisé: <br><br><img src="https://habrastorage.org/webt/xj/4f/tt/xj4fttbx2c8px2rcm8pcswuzbbu.jpeg"><br><br>  Les variables $ {...} sont extraites de application.properties et des propriétés système, qui peuvent être consultées sur la page <a href="http://localhost:8080/env">http: // localhost: 8080 / env</a> .  Cependant, la partie du code dont nous avons besoin se trouve immédiatement après le message (% m). <br><br><img src="https://habrastorage.org/webt/ji/js/yw/jijsywze7vx1sfdud20-5dvhezg.jpeg"><br><br>  Le mot 'MULTIEXCEPTION' n'a pas de signification particulière, c'est juste un marqueur de ligne unique de notre choix, qui vous permet de savoir où se termine le message (% m) et où commence l'exception.  Si vous voulez, vous pouvez le laisser. <br><br>  Mais après cela, au lieu d'insérer simplement un espace réservé% xException qui lancerait une grande trace de pile avec des caractères de nouvelle ligne, nous convertissons la valeur avec la fonction% replace, qui remplace tous les caractères de nouvelle ligne avec l'expression «\ u2028», qui est un <a href="https://en.wikipedia.org/wiki/Newline">délimiteur Chaînes Unicode</a> . <br><br>  La suppression des caractères "\ n" de la trace de pile signifie que la trace de pile sera désormais envoyée sur une seule ligne.  Pour le prouver, accédez à <a href="http://localhost:8080/errors/throw">http: // localhost: 8080 / errors / throw</a> , où se trouve un <a href="">contrôleur d'erreur</a> qui déclenche intentionnellement une NullPointerException à l'aide du code suivant: <br><br><img src="https://habrastorage.org/webt/f8/28/xx/f828xxcvqh2ps2ubr15aj6dscly.jpeg"><br><br>  Cela crée une ligne de journal dans la console, illustrée ci-dessous: <br><br><img src="https://habrastorage.org/webt/fl/9g/zg/fl9gzgv2yso3zsvpk2acummun28.jpeg"><br><br>  Comme vous pouvez le voir, ici l'expression «u2028» sépare ce qui était un saut de ligne dans la trace de la pile.  Maintenant, le message d'exception et la trace de pile seront envoyés comme une unité. <br><br><h3>  Conclusions </h3><br>  La possibilité de réduire la trace multi-lignes de la pile Java en une seule ligne signifie que cette technique peut être considérée comme une solution de journalisation centralisée unique. <br>  Il n'y a aucune raison de gaspiller des ressources informatiques et humaines pour restaurer la trace de pile du côté destination en utilisant des identificateurs de corrélation, de grandes tailles de pile, une utilisation élevée du processeur et une analyse intelligente s'il est beaucoup plus efficace d'effectuer ce pliage du côté source. <br><br>  Dans ce cas, le caractère Unicode peut toujours être remplacé du côté de la collecte des journaux (par exemple, du côté du pipeline pour la collecte, le filtrage et la normalisation des journaux Logstash) pour restaurer le message dans son format d'origine. <br><br><h3>  Matériel de référence </h3><br><ul><li>  <a href="https://docs.cloudfoundry.org/loggregator/architecture.html">https://docs.cloudfoundry.org/loggregator/architecture.html#metron</a> (architecture de journalisation CF) <br>  <a href="http://docs.pivotal.io/pivotalcf/2-0/devguide/deploy-apps/streaming-logs.html">docs.pivotal.io/pivotalcf/2-0/devguide/deploy-apps/streaming-logs.html#format</a> (types de journaux de flux) </li><li>  <a href="https://docs.pivotal.io/tiledev/2-0/nozzle.html">https://docs.pivotal.io/tiledev/2-0/nozzle.html#examples</a> (format de journal pour les composants CF = &lt;$ {PRI}&gt; $ {VERSION} $ {TIMESTAMP} $ {HOST_IP} $ {APP_NAME} $ {PROD_ID} $ {MSG_ID} $ {SD-ELEMENT-instance} $ {MESSAGE}) </li><li>  <a href="http://grokconstructor.appspot.com/do/construction">http://grokconstructor.appspot.com/do/construction</a> (version en ligne des modèles Grok) </li><li>  <a href="https://github.com/cloudfoundry/dropsonde-protocol">https://github.com/cloudfoundry/dropsonde-protocol</a> (Cloud Foundry Dropsonde Protocol for Structured Data Serialization) </li><li>  <a href="https://logback.qos.ch/manual/layouts.html">https://logback.qos.ch/manual/layouts.html</a> (formats de composants pour convertir un message entrant en chaîne) </li><li>  <a href="https://www.elastic.co/guide/en/logstash/current/plugins-codecs-protobuf.html">https://www.elastic.co/guide/en/logstash/current/plugins-codecs-protobuf.html</a> (entrée protobuf logstash) </li><li>  <a href="https://github.com/cloudfoundry-community/firehose-to-syslog">https://github.com/cloudfoundry-community/firehose-to-syslog</a> (envoi des événements firehose de Cloud Foundry au syslog) </li><li>  <a href="http://schd.ws/hosted_files/cfsummit2016/f7/MonitoringCloudFoundry-LearningAboutTheFirehose.pdf">http://schd.ws/hosted_files/cfsummit2016/f7/MonitoringCloudFoundry-LearningAboutTheFirehose.pdf</a> (affichage de parties de systèmes de journalisation UDP et TCP CF) </li><li>  <a href="https://github.com/cloudfoundry-community/logsearch-for-cloudfoundry">https://github.com/cloudfoundry-community/logsearch-for-cloudfoundry</a> (pile ELK pour CF) </li><li>  <a href="https://discuss.pivotal.io/hc/en-us/articles/223207207-Why-Loggregator-may-lose-logs">https://discuss.pivotal.io/hc/en-us/articles/223207207-Why-Loggregator-may-lose-logs</a> (prévision de perte pour msgs / sec) </li><li>  <a href="http://scottfrederick.cfapps.io/blog/2014/02/20/cloud-foundry-and-logstash">http://scottfrederick.cfapps.io/blog/2014/02/20/cloud-foundry-and-logstash</a> (comment diviser l'événement syslog 5424 en plusieurs parties) </li><li>  <a href="https://logz.io/blog/cloud-foundry-elk-stack/">https://logz.io/blog/cloud-foundry-elk-stack/</a> (séparation en 5424 syslog, un service intégré tel qu'une plate-forme pour visualiser et analyser les données Kibana) </li><li>  <a href="https://docs.cloudfoundry.org/loggregator/cli-plugin.html">https://docs.cloudfoundry.org/loggregator/cli-plugin.html</a> (plug-in CF CLI pour afficher firehost) </li><li>  <a href="">https://github.com/cloudfoundry/loggregator-release/blob/develop/docs/java-multi-line-work-around.md</a> (contournement de la déconnexion pour l'exception multiligne) </li><li>  <a href="https://stackoverflow.com/questions/23096129/make-logback-include-the-t-between-date-and-time-in-its-date-format-for-str">https://stackoverflow.com/questions/23096129/make-logback-include-the-t-between-date-and-time-in-its-date-format-for-str</a> (format de date et d'heure de déconnexion) </li><li>  <a href="http://cloud.rohitkelapure.com/2016/06/multi-line-java-stack-traces-out-of.html">http://cloud.rohitkelapure.com/2016/06/multi-line-java-stack-traces-out-of.html</a> (format de chaîne de journalisation pour le pliage d'exceptions) </li><li>  <a href="https://discuss.elastic.co/t/match-and-replace-unicode-characters/56656">https://discuss.elastic.co/t/match-and-replace-unicode-characters/56656</a> (l'idée d'utiliser Ruby pour remplacer Unicode dans les cas où Mutate ne fonctionne pas) </li><li>  <a href="https://www.diycode.cc/projects/cloudfoundry/loggregator">https://www.diycode.cc/projects/cloudfoundry/loggregator</a> (journalisation et manifeste BOSH) </li><li>  <a href="https://www.elastic.co/guide/en/logstash/5.0/breaking-changes.html">https://www.elastic.co/guide/en/logstash/5.0/breaking-changes.html</a> (événement de changement critique.get () pour Ruby) </li><li>  <a href="https://medium.com/%40martatatiana/aws-lambda-in-java-8-log4j2-and-scattered-stacktrace-in-cloudwatch-a4aea2e7bf2a">https://medium.com/@martatatiana/aws-lambda-in-java-8-log4j2-and-scattered-stacktrace-in-cloudwatch-a4aea2e7bf2a</a> (LogEventPatternConverter - convertisseur de logger personnalisé log4j2) </li><li>  <a href="https://springframework.guru/using-log4j-2-spring-boot/">https://springframework.guru/using-log4j-2-spring-boot/</a> (en utilisant log4j2 dans Spring Boot) </li><li>  <a href="https://www.quickprogrammingtips.com/spring-boot/using-log4j2-with-spring-boot.html">https://www.quickprogrammingtips.com/spring-boot/using-log4j2-with-spring-boot.html</a> (partage de log4j2 et Spring Boot) </li><li>  <a href="https://logging.apache.org/log4j/2.x/manual/layouts.html">https://logging.apache.org/log4j/2.x/manual/layouts.html</a> (modèles log4j2) </li><li>  <a href="http://www.codepreference.com/2016/04/configurable-thread-context-tags-log4j2.html">http://www.codepreference.com/2016/04/configurable-thread-context-tags-log4j2.html</a> (variable de contexte pour la journalisation en streaming) </li><li>  <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html</a> (paramètres de configuration externes de Spring Boot) </li><li>  <a href="http://logging.apache.org/log4j/2.x/manual/configuration.html">http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution</a> (remplacement des propriétés log4j2) </li></ul><br><h3>  Un peu de publicité :) </h3><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en recommandant à vos amis <a href="https://ua-hosting.company/cloudvps/nl">des VPS basés sur le cloud pour les développeurs à partir de 4,99 $</a> , un <b>analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://habr.com/company/ua-hosting/blog/347386/">Toute la vérité sur les VPS (KVM) E5-2697 v3 (6 cœurs) 10 Go DDR4 480 Go SSD 1 Gbit / s à partir de 19 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher au centre de données Equinix Tier IV à Amsterdam?</b>  Nous avons seulement <b><a href="https://ua-hosting.company/serversnl">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV à partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - à partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://habr.com/company/ua-hosting/blog/329618/">création d'un bâtiment d'infrastructure.</a>  <a href="https://habr.com/company/ua-hosting/blog/329618/">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482804/">https://habr.com/ru/post/fr482804/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482790/index.html">Oubliez le cryptage homomorphique: nous avons maintenant un cryptage fonctionnel</a></li>
<li><a href="../fr482794/index.html">Réseaux de neurones. Où est-ce que tout va</a></li>
<li><a href="../fr482798/index.html">Voir la forêt derrière les arbres</a></li>
<li><a href="../fr482800/index.html">Mes recherches pour le panneau de contrôle physique d'une maison intelligente</a></li>
<li><a href="../fr482802/index.html">Inclusion à distance des scripts Mikrotik de Telegram v 2.0</a></li>
<li><a href="../fr482806/index.html">La propagande du régime totalitaire, l'antisémitisme et l'homophobie dans le manuel de programmation 2019? - c'est possible</a></li>
<li><a href="../fr482810/index.html">Pouvez-vous faire confiance aux conseils médicaux des robots? Les médecins ne sont pas encore sûrs.</a></li>
<li><a href="../fr482812/index.html">Les mathématiciens ont réalisé une percée dans l'étude du problème «dangereux»</a></li>
<li><a href="../fr482814/index.html">Vue générale de l'arborescence, mise en œuvre et pas seulement</a></li>
<li><a href="../fr482816/index.html">Arthur Khachuyan: Intelligence artificielle en marketing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>