<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç¶ üßúüèø üë©üèΩ‚Äçüåæ IDE AirTest et reconnaissance d'image - Automatisation des tests de jeux mobiles bas√©s sur la reconnaissance d'image üö∫ üöµüèª üàöÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans l' article pr√©c√©dent, nous avons rencontr√© AirTest IDE , mais juste au cas o√π, r√©p√©tons: AirTest IDE a √©t√© d√©velopp√© par NetEase et est con√ßu pou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IDE AirTest et reconnaissance d'image - Automatisation des tests de jeux mobiles bas√©s sur la reconnaissance d'image</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462587/"><p> Dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article pr√©c√©dent,</a> nous avons rencontr√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AirTest IDE</a> , mais juste au cas o√π, r√©p√©tons: AirTest IDE a √©t√© d√©velopp√© par NetEase et est con√ßu pour les applications "difficiles √† automatiser", telles que les jeux.  En fait, ils sont le principal objectif des d√©veloppeurs, bien que cela ne cesse pas d'utiliser AirTest pour d'autres applications. </p><br><p>  Ce travail est le deuxi√®me d'une s√©rie consacr√©e √† l'IDE AirTest.  Vous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pouvez trouver le</a> premier article de synth√®se sur AirTest IDE <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , et le troisi√®me et dernier, qui est consacr√© au cadre d'automatisation Poco UI, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">par ce lien</a> . </p><br><p>  Aujourd'hui, je vais vous parler de l'un des 2 principaux cadres - AirTest.  <strong>AirTest</strong> est un cadre multiplateforme pour automatiser l'interface utilisateur, bas√© sur les principes de la reconnaissance d'image ( <strong>Image Recognition</strong> ), qui, selon les d√©veloppeurs, convient aux jeux et aux applications.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le projet AirTest</a> sur GitHub contient 4 projets: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Airtest</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Poco</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">iOS-Tangent</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">multi-device-runner</a> . </p><br><p>  Et maintenant passons √† la partie amusante! </p><br><p><img src="https://habrastorage.org/webt/hm/wq/hx/hmwqhxdmwp-ygtplkw6vn66juug.jpeg" alt="image"></p><a name="habracut"></a><br><h2 id="kak-rabotaet-airtest">  Fonctionnement d'AirTest </h2><br><p>  AirTest traite les captures d'√©cran r√©sultantes en fonction du processus de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">seuillage</a> .  L'essentiel est de comparer l'intensit√© des pixels de l'image avec un certain nombre ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">valeur seuil</a> ) et, si la valeur du pixel est sup√©rieure, de lui attribuer une couleur (le blanc est le plus souvent utilis√©).  Sinon, une couleur diff√©rente est attribu√©e - le noir.  Par cons√©quent, la sortie est une image en noir et blanc.  Une limitation naturelle en d√©coule - AirTest ne prend pas en compte la couleur lors de la reconnaissance.  Par exemple, si vous utilisez un objet avec la m√™me silhouette, mais diff√©rent, par exemple, la coloration et que vous devez v√©rifier la pr√©sence d'un √©l√©ment avec une palette de couleurs sp√©cifique, cela sera extr√™mement difficile et peut ne pas fonctionner du tout. </p><br><p>  Par exemple, dans le cadre du test IDE AirTest, il a √©t√© d√©cid√© de travailler avec le jeu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Marvel Puzzle Quest</a> .  Lors du chargement, les personnages de cet univers de bande dessin√©e clignotent √† l'√©cran dans un certain ordre.  De temps en temps, leurs costumes changent et c'est la premi√®re fois que je suis alert√©.  Dans l'exemple ci-dessous, je m'attendais, dans le cadre du test, √† Spider-Man dans le classique, et re√ßu dans un costume furtif.  En fait, le test a r√©ussi, mais cela s'est produit √† cause de ce qui pr√©c√®de - l'utilisation d'une image en noir et blanc pendant la reconnaissance.  Un exemple de ce qui √©tait attendu et de ce qui s'est finalement produit: </p><br><p><img src="https://habrastorage.org/webt/wv/te/xh/wvtexhrzu8jsuqpb3qkhm86owgo.png" alt="image"></p><br><h3 id="uluchshenie-veroyatnosti-uspeshnogo-zaversheniya-testov">  Am√©lioration des chances de r√©ussite des tests </h3><br><p>  Comme vous l'avez d√©j√† compris, la reconnaissance d'image est loin d'√™tre une panac√©e, bien qu'elle fonctionne bien ici.  Pour √©crire des tests de qualit√©, vous ne pouvez pas √©viter d'√©crire du code et, par cons√©quent, de conna√Ætre les bases de Python.  Par exemple, avant de rechercher un √©l√©ment sp√©cifique, il serait bon de s'assurer qu'il est bien √† l'√©cran.  Il y a des moments o√π AirTest ¬´manque¬ª et peut prendre le mauvais article pour celui dont vous avez besoin.  De temps en temps, il y a des probl√®mes avec la reconnaissance du texte que vous voulez trouver en utilisant la reconnaissance d'image.  AirTest peut confondre les r√©sultats et supposer que le texte dont vous avez besoin est √† l'√©cran, mais, en fait, le texte est compl√®tement diff√©rent.  Le processus d'analyse des r√©sultats est con√ßu pour simplifier le syst√®me de rapport qui est d√©j√† int√©gr√© dans l'IDE AirTest.  Vous pouvez cr√©er et ouvrir un rapport une fois le test / script termin√© √† l'aide du raccourci clavier Ctrl / Cmd + L. </p><br><p>  Selon les recommandations g√©n√©rales, je voudrais √©galement souligner les points suivants. </p><br><ul><li>  Prenez des captures d'√©cran des √©l√©ments dont vous avez besoin.  Je veux dire, si vous avez besoin d'un bouton qui, par exemple, est sur une texture complexe √† l'arri√®re, essayez de faire un √©cran uniquement avec le bouton afin de ne pas perdre de temps √† traiter l'arri√®re, ce qui, en fait, n'est pas n√©cessaire.  Dans ce cas, la recherche ne d√©pendra pas de ce qui est affich√© sur le fond et vous obtiendrez un r√©sultat plus pr√©cis en moins de temps. </li><li>  Essayez d'√©viter la reconnaissance d'images qui ne contiennent que du texte, comme  la reconnaissance r√©ussie ("taux de r√©ussite") dans ce cas sera consid√©rablement r√©duite. </li><li>  Bien que la cr√©ation de captures d'√©cran pendant l'enregistrement automatique de code (enregistrement automatique de script) soit une fonction assez pratique, mais √† certains endroits, les captures d'√©cran ne sont pas tr√®s informatives.  Il est pr√©f√©rable de les cr√©er manuellement afin de stocker des informations de recherche plus utiles dans vos photos. </li></ul><br><p>  Et si vous voulez demander "Est-il possible de modifier les param√®tres du processus de recherche d'images?", Alors je vais vous r√©pondre - oui, c'est possible. </p><br><h3 id="nastroyki-poiska-izobrazheniy-image-recognition">  Param√®tres de reconnaissance d'image </h3><br><p>  L'utilisateur est autoris√© et encourag√© √† travailler avec les param√®tres de reconnaissance d'image pour obtenir les r√©sultats souhait√©s, pour optimiser le temps et la probabilit√© de reconnaissance r√©ussie des √©l√©ments (taux de r√©ussite) √† l'√©cran.  Ces param√®tres sont stock√©s dans la fen√™tre de l'√©diteur d'image et pour l'ouvrir, vous devez double-cliquer sur l'image souhait√©e dans l'√©diteur de script.  Les param√®tres de reconnaissance de chaque image doivent √™tre modifi√©s s√©par√©ment ou des variables globales doivent √™tre utilis√©es si, par exemple, vous souhaitez augmenter les exigences de pr√©cision pour l'op√©ration de seuil pour votre projet. </p><br><div class="spoiler">  <b class="spoiler_title">Fen√™tre de l'√©diteur d'images</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ex/on/wt/exonwtjyt59f9vk5mgwjtozz698.png" alt="image"></p></div></div><br><p>  L'Editeur d'images contient une zone de travail, ainsi que des boutons "Instantan√© + Reconnaissance" et "Afficher l'aide".  Le premier est charg√© de comparer votre image actuelle avec la version de l'instantan√©.  L'image instantan√©e est captur√©e √† partir de la fen√™tre actuelle sur votre appareil.  Le deuxi√®me bouton ouvre le manuel fonctionnel de l'√©diteur d'images.  Dans la partie droite de la fen√™tre, l'image de recherche actuelle est affich√©e, ainsi que des param√®tres tels que le nom de fichier, le seuil, target_pos et rgb. </p><br><ul><li>  <strong>Le</strong> champ du nom de <strong>fichier</strong> est responsable du nom de l'image actuellement enregistr√©e (toutes les images sont enregistr√©es dans le dossier du projet). </li><li>  <strong>seuil</strong> enregistre la valeur du pourcentage de co√Øncidence (de 0 √† 1) des images apr√®s reconnaissance.  Plus la valeur est √©lev√©e, plus l'exigence de pr√©cision de correspondance d'image est √©lev√©e.  Comme mentionn√© ci-dessus, AirTest convertit les images en noir et blanc (en fonction de la mise en ≈ìuvre du seuil) et, par cons√©quent, la couleur n'est pas prise en compte lors de la reconnaissance. </li><li>  <strong>La</strong> case √† cocher <strong>RVB</strong> est con√ßue pour ¬´activer et ajouter¬ª de la couleur lors de la reconnaissance d'image et ainsi commencer √† en tenir compte.  Cependant, gardez √† l'esprit que l'inclusion de cette fonctionnalit√© ne garantit toujours pas 100% du r√©sultat.  Par exemple, si vous avez 2 boutons identiques qui ne diff√®rent que par la couleur d'arri√®re-plan, la probabilit√© d'une reconnaissance incorrecte (par exemple, dans assert_exists / assert_not_exists) sera assez √©lev√©e. </li><li>  <strong>target_pos</strong> est responsable du point de l'image sur lequel AirTest clique apr√®s la reconnaissance.  Par d√©faut, la valeur est 5, mais vous pouvez la changer de 1 √† 9, o√π 1 est le coin sup√©rieur gauche de votre image de travail et 9 est le coin inf√©rieur droit.  L'emplacement des neuf points est clairement indiqu√© dans la capture d'√©cran ci-dessous.  Vous pouvez √©galement lire √† ce sujet dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation officielle.</a> <br>  Dans cet exemple, le bouton central est s√©lectionn√© pour la reconnaissance.  Le contour montre les bordures de la s√©lection. </li></ul><br><p><img src="https://habrastorage.org/webt/hy/9d/pg/hy9dpgjrq_b3mk87vn4uq839v8y.png" alt="image"></p><br><h2 id="napisanie-avtomatizirovannyh-testov-pri-pomoschi-airtest">  √âcriture de tests automatis√©s avec AirTest </h2><br><p>  Toutes les commandes de travail du framework AirTest se trouvent dans la fen√™tre AirTestAssistant dans le coin sup√©rieur gauche de l'IDE Airtest.  S'il n'y est pas, vous pouvez d√©finir la <em>disposition de fen√™tre</em> par d√©faut √† l'aide de <em>Fen√™tre -&gt; Disposition par d√©faut</em> . </p><br><div class="spoiler">  <b class="spoiler_title">Emplacement de la fen√™tre de l'assistant AirTest</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/lr/yr/om/lryromif73kpuavg-iqgegnqa5y.png" alt="image"></p></div></div><br><p>  Dans la version actuelle du programme, vous pouvez utiliser les commandes suivantes disponibles dans la fen√™tre de l'Assistant AirTest: </p><br><ol><li>  <strong>tactile</strong> - cette commande simule un geste tactile sur un appareil mobile.  Touch a les param√®tres suivants - touch (v, times = 1, duration = 0.01, right_click = False). <br><ul><li>  v - image ou coordonn√©e (x, y) </li><li>  fois - le nombre de clics.  La valeur par d√©faut est 1 </li><li>  dur√©e - la dur√©e de la mise en attente apr√®s avoir touch√© l'√©cran.  Avec ce param√®tre, vous pouvez simuler un "appui long" (long_touch).  La valeur par d√©faut est 0,01 seconde. </li><li>  clic droit - cliquez sur le "bouton droit de la souris".  Ne peut √™tre utilis√© que dans les programmes Windows. </li></ul></li><li>  <strong>wait</strong> - en attente de l'√©l√©ment d'interface utilisateur.  La commande a les param√®tres suivants - attendre (v, timeout = TIMEOUT, intervalle = 5, intervalfunc = None). <br><ul><li>  v - l'image que le programme attend </li><li>  timeout - timeout.  La valeur par d√©faut est 20. </li><li>  intervalfunc - fonction utilisateur (personnalis√©e).  Si l'image n'est pas trouv√©e, cette fonction sera ex√©cut√©e. </li><li>  interval - intervalle entre la comparaison d'images <br>  La fonction retourne ce qui suit: si une image est trouv√©e, alors les coordonn√©es centrales de l'image donn√©e sont retourn√©es, sinon TargetNotFoundError est lev√©e </li></ul></li><li>  <strong>swipe</strong> - cette commande simule un geste de glissement sur un appareil mobile ("glissement de l'√©cran").  Swipe a les param√®tres suivants: swipe (v1, v2 = None, vector = None, duration = 0.01). <br><ul><li>  v1 - la valeur √† partir de laquelle svayp commence.  Il peut s'agir d'une image ou d'une coordonn√©e donn√©e (x, y) </li><li>  v2: glissez la valeur de fin (la commande est ex√©cut√©e de v1 √† v2).  Ce param√®tre a une priorit√© plus √©lev√©e que le param√®tre "vecteur" </li><li>  vecteur [x, y] - est cr√©√© pendant le fonctionnement d'AirTest ou vous pouvez le d√©finir vous-m√™me.  Indique le chemin √† parcourir.  Pour balayer vers la droite, X doit √™tre positif, √† son tour, Y doit √™tre positif pour balayer vers le bas. </li><li>  √©tapes - n'a pas utilis√© ce param√®tre et n'a pas trouv√© comment il est appliqu√© dans la pratique.  L'info-bulle donne ce qui suit: "le n≈ìud dans le chemin de balayage, 5 par d√©faut".  Je suppose que le vecteur de direction de balayage sera divis√© en ¬´sections¬ª et au lieu de permuter instantan√©ment du point A au point B, le balayage sera simul√© avec de petites pauses dans les n≈ìuds sp√©cifi√©s dans ce param√®tre, comme s'il simulait un mouvement par phases.  Par exemple, si la valeur est 5, le vecteur sera divis√© en 5 segments. </li><li>  duration - la dur√©e du balayage.  La valeur par d√©faut est 0,5 seconde. </li></ul></li><li>  <strong>existe</strong> - une v√©rification existe pour l'√©l√©ment que vous attendez sur l'√©cran du moniteur de l'appareil.  existe a les param√®tres suivants: existe (v) <br><ul><li>  v - image <br>  La fonction retourne ce qui suit: si une image est trouv√©e, alors les coordonn√©es du centre de l'image sont retourn√©es, sinon False. </li></ul></li><li>  <strong>text</strong> - commande de saisie de <strong>texte</strong> .  text a les param√®tres suivants: text (text, enter = True, search = False) <br><ul><li>  texte - cha√Æne de texte √† saisir </li><li>  enter - ce param√®tre est responsable de l'opportunit√© d'utiliser "Enter" apr√®s avoir saisi du texte.  La valeur par d√©faut est True. </li><li>  recherche - n'a pas utilis√© ce param√®tre et n'a pas trouv√© comment il est appliqu√© dans la pratique.  L'info-bulle donne les informations suivantes: "forcer" Rechercher "ou non apr√®s la saisie".  La valeur par d√©faut est False. </li></ul></li><li>  <strong>keyevent</strong> - √©mulation de la pression de boutons physiques sur l'appareil, tels que HOME, BACK, MENU, POWER, etc.  Param√®tres de cette commande: keyevent (keyname) <br><ul><li>  keyname - nom du bouton (POWER, HOME, etc.) </li></ul></li><li>  <strong>instantan√©</strong> - cr√©er une capture d'√©cran de l'√©cran dans l'√©tat actuel.  Options par d√©faut: instantan√© (nom de fichier = Aucun, msg = "test-point") <br><ul><li>  nom de fichier - enregistrez la capture d'√©cran actuelle dans un fichier s√©par√©.  Vous pouvez ignorer cette option. </li><li>  msg - description de ce point de test.  Ce texte sera affich√© dans le rapport HTML, qui peut √™tre cr√©√© apr√®s le test. <br>  Cette fonction renvoie les √©l√©ments suivants: nom de fichier (nom de fichier). </li></ul></li><li>  <strong>sommeil</strong> - le test de course "s'endort" pendant un certain temps.  Valeurs par d√©faut: sleep (secs = 1.0) <br><ul><li>  secs - timeout.  La valeur par d√©faut est 1 seconde. </li></ul></li><li>  <strong>assert_exists</strong> - v√©rifie si un √©l√©ment existe.  Param√®tres de cette commande: assert_exists (v, msg = "test-point") <br><ul><li>  v - image avec l'√©l√©ment dont la pr√©sence est v√©rifi√©e </li><li>  msg - description de ce point de test.  Ce texte sera affich√© dans le rapport HTML, qui peut √™tre cr√©√© apr√®s le test. <br>  Cette fonction retourne ce qui suit: si une image est trouv√©e, alors les coordonn√©es du point central de cette image sont retourn√©es, sinon une AssertionError est lev√©e </li></ul></li><li>  <strong>assert_not_exists</strong> - v√©rifie que l'√©l√©ment n'est pas pr√©sent sur l'√©cran de l'appareil.  Param√®tres pour cette commande: assert_not_exists (v, msg = "test-point") <br><ul><li>  v - image avec l'√©l√©ment dont la pr√©sence est v√©rifi√©e </li><li>  msg - description de ce point de test.  Ce texte sera affich√© dans le rapport HTML, qui peut √™tre cr√©√© apr√®s le test. </li></ul></li><li>  <strong>assert_equal</strong> - v√©rifie que l'attribut est √©gal √† la valeur sp√©cifi√©e.  Param√®tres pour cette commande: assert_equal (premier, deuxi√®me, msg = "test-point") <br><ul><li>  premier - le premier √©l√©ment √† comparer </li><li>  second - le deuxi√®me √©l√©ment √† comparer </li><li>  msg - description de ce point de test.  Ce texte sera affich√© dans le rapport HTML, qui peut √™tre cr√©√© apr√®s le test. </li></ul></li><li>  <strong>assert_not_equal</strong> - v√©rifie que l'attribut n'est pas √©gal √† la valeur sp√©cifi√©e.  Param√®tres pour cette commande: assert_not_equal (first, second, msg = "test-point") <br><ul><li>  premier - le premier √©l√©ment √† comparer </li><li>  second - le deuxi√®me √©l√©ment √† comparer </li><li>  msg - description de ce point de test.  Ce texte sera affich√© dans le rapport HTML, qui peut √™tre cr√©√© apr√®s le test. </li></ul></li></ol><br><p>  Ces commandes sont divis√©es en 3 groupes principaux: op√©rations, <strong>fonctions auxiliaires</strong> et <strong>assertions</strong> .  Vous pouvez s√©lectionner le groupe dont vous avez besoin en utilisant le filtre appropri√© (un menu d√©roulant juste en dessous du nom de la fen√™tre). </p><br><div class="spoiler">  <b class="spoiler_title">Filtre de groupe d'√©quipe</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/mt/vg/gd/mtvggd5lefzxlku-9ajljrv0evk.png" alt="image"></p></div></div><br><p>  Les √©quipes qui ont besoin d'une image activent les fonctions d'enregistrement de capture d'√©cran imm√©diatement apr√®s avoir cliqu√© sur le bouton correspondant.  Par exemple, pour s√©lectionner l'√©l√©ment √† cliquer sur l'√©cran, s√©lectionnez la commande tactile dans AirTest Assistant et dans la fen√™tre √âcran de l'appareil, sur l'appareil actif, encerclez l'√©l√©ment sur lequel vous souhaitez cliquer.  Apr√®s cela, la commande correspondante appara√Ætra dans la fen√™tre principale (Script Editor), dans notre cas, touchez, avec l'image comme param√®tre.  En cons√©quence, le processus d'automatisation est le suivant (le gif a √©t√© enregistr√© √† partir d'une version obsol√®te d'AirTest IDE): </p><br><p><img src="https://habrastorage.org/webt/hn/je/uc/hnjeucmd5d-b8b8ubej4c5ldmoa.gif" alt="image"></p><br><p>  Si, pour une raison quelconque, vous ne souhaitez pas cr√©er manuellement des captures d'√©cran et / ou √©crire du code en g√©n√©ral, vous pouvez utiliser la fonction d'enregistrement automatique.  Vous pouvez l'activer en cliquant sur le bouton "cam√©ra" en face du menu d√©roulant avec des groupes de commandes dans la fen√™tre de l'Assistant Airtest.  L'enregistrement automatique est une chose assez pr√©cise et pratique, mais, bien s√ªr, ce n'est pas une panac√©e et ne remplacera pas la composition manuelle de code. </p><br><p><img src="https://habrastorage.org/webt/i_/nj/j7/i_njj7gha1mdbooh88eokhyojei.gif" alt="image"></p><br><p>  Il convient de mentionner 3 touches de raccourci suppl√©mentaires - F5 (d√©marrer le script), F10 (arr√™ter le script en cours), Ctrl + L / Cmd + L (cr√©er un rapport bas√© sur le test termin√©). <br>  Vous pouvez ex√©cuter des tests pr√™ts √† l'emploi sans interface utilisateur √† l'aide du terminal (ligne de commande).  Vous trouverez plus d'informations √† ce sujet en g√©n√©ral et sur l'ex√©cution de tests en particulier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Un exemple d'un extrait d'un test √©crit en utilisant le framework AirTest peut √™tre trouv√© sous le spoiler! </p><br><div class="spoiler">  <b class="spoiler_title">Exemple d'autotest √©crit √† l'aide d'AirTest (reconnaissance d'image)</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/_3/4-/hf/_34-hffgtdgomhgjdtjpjddnrc4.png" alt="image"></p></div></div><br><p>  L'interface utilisateur de votre application / jeu ne se compose pas enti√®rement d'ic√¥nes, de boutons, de dos, etc. uniques.  De plus, des √©l√©ments p√©riodiquement visuellement identiques peuvent √™tre trouv√©s sur un seul √©cran, par exemple des boutons, des curseurs, etc.  Le plus souvent, dans de tels cas, AirTest ne pourra pas reconna√Ætre l'√©l√©ment dont vous avez besoin et soit le test √©chouera avec erreur, soit le mauvais √©l√©ment d'interface sera s√©lectionn√© pour d'autres manipulations. </p><br><div class="spoiler">  <b class="spoiler_title">Un exemple de fen√™tre avec plusieurs √©l√©ments identiques</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/t8/fz/v6/t8fzv6yv_wicafos4use8i6zaqu.jpeg" alt="image"></p></div></div><br><p>  Surtout pour de tels cas, un autre cadre a √©t√© d√©velopp√© qui est d√©j√† int√©gr√© √† l'IDE AirTest.  Il est Poco et a √©t√© bri√®vement d√©crit dans un article avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aper√ßu de l'IDE Airtest</a> .  Je vais vous en dire plus sur ce framework dans le prochain article. </p><br><p>  Dites-nous si vous avez d√©j√† utilis√© l'IDE AirTest et ce que vous pensez de cet outil.  Je serai heureux de discuter dans les commentaires! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462587/">https://habr.com/ru/post/fr462587/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462575/index.html">Security Week 32: trou dans iMessage, confidentialit√© de l'entr√©e vocale</a></li>
<li><a href="../fr462577/index.html">Mon exp√©rience de d√©veloppement Nim</a></li>
<li><a href="../fr462581/index.html">Comment nous avons organis√© le premier leasing √©lectronique et √† quoi cela a conduit</a></li>
<li><a href="../fr462583/index.html">Rencontrez le pointeur d√©terministe du ramasse-miettes</a></li>
<li><a href="../fr462585/index.html">Cr√©ation rapide de CRUD avec nest, @ nestjsx / crud et TestMace</a></li>
<li><a href="../fr462589/index.html">Cr√©ez un pipeline pour le traitement en continu des donn√©es. 2e partie</a></li>
<li><a href="../fr462593/index.html">De l'autre c√¥t√© du stand</a></li>
<li><a href="../fr462595/index.html">Audit et test des lettres: ce √† quoi vous devez faire attention lors de la mise en page</a></li>
<li><a href="../fr462597/index.html">Dactylographier et r√©agir</a></li>
<li><a href="../fr462601/index.html">Sauvegarde des serveurs Windows dans AWS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>