<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßïüèø üë®‚Äçüëß üö≥ Auf Wiedersehen HTML, Hallo QML üë©üèæ‚Äçü§ù‚Äçüë©üèΩ üëéüèª üõå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie kann ich eine Webanwendung ohne HTML erstellen? Daf√ºr ben√∂tigen wir: einen neuen Browser, QML und Backend in Java. 
 Ein bisschen Geschichte 


 H...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Auf Wiedersehen HTML, Hallo QML</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473302/"><p><img src="https://habrastorage.org/webt/mt/h1/_d/mth1_dlp5ttlqdlmw5nlnkaguio.png" alt="HTML-Chaos"></p><br><p>  Wie kann ich eine Webanwendung ohne HTML erstellen?  Daf√ºr ben√∂tigen wir: einen neuen Browser, QML und Backend in Java. </p><a name="habracut"></a><br><h3 id="nemnogo-istorii">  Ein bisschen Geschichte </h3><br><p>  HTML wurde von Wissenschaftlern am CERN erstellt, um wissenschaftliche Artikel auszutauschen.  Dann wurde es zu einer bequemen M√∂glichkeit, Informationen im Netzwerk zu ver√∂ffentlichen.  Es wurde klar, dass die Funktionalit√§t von Hyperlinks nicht ausreichte, und dann wurden Komponenten, Formulare und CSS hinzugef√ºgt.  Aber das war nicht genug, wir brauchten Dynamik, f√ºgte JavaScript hinzu.  Aber bei alledem ist es nicht sehr bequem zu entwickeln, so dass in Zukunft js Frameworks erschienen.  Sie versuchen, die Fehler von HTML zu beheben.  Aber ich denke, es ist besser, die Krankheit selbst zu behandeln als die Symptome.  QML wird uns dabei helfen. </p><br><h3 id="pristupim-k-resheniyu">  Kommen wir zur L√∂sung </h3><br><p>  <em>Ich m√∂chte sofort darauf hinweisen, dass diese L√∂sung nicht produktionsbereit ist.</em>  <em>Das ist "Hallo Welt!"</em>  <em>Eine Anwendung, die zeigt, was mit diesen Tools erreicht werden kann.</em> </p><br><h3 id="brauzer">  Browser </h3><br><p>  Da wir keine HTML-Analyse ben√∂tigen, schreiben wir unseren eigenen Browser in Qt5, QML und C ++.  Unser Browser sollte mit der Back-End-Anwendung interagieren und Informationen auf dem Bildschirm anzeigen. </p><br><p>  Browser-Workflow: </p><br><ul><li> Geben Sie in die Adressleiste die URL der Ressource ein und dr√ºcken Sie die <code>enter</code> </li><li>  Laden Sie mithilfe einer HTTP-Anforderung die qml-Datei auf die Festplatte </li><li>  Laden Sie mithilfe einer HTTP-Anforderung die Daten f√ºr die qml-Datei </li><li>  Zeigen Sie die qml-Datei mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Loader an</a> </li></ul><br><p>  TabComponent.qml </p><br><pre> <code class="javascript hljs">... TextInput { <span class="hljs-attr"><span class="hljs-attr">onAccepted</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = siteLoader.loadSite(addressIpt.text) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result === LoadResultType.SUCCESS) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> props = siteLoader.loadProperties(addressIpt.text) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> qmlPath = siteLoader.getMainQmlPath(addressIpt.text) pageLoader.setSource(qmlPath, props) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ... } } } ... Loader { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: pageLoader }</code> </pre> <br><p>  Hier ist <code>siteLoader</code> eine Instanz der C ++ - Klasse, die in qml importiert wird.  Es implementiert die Browser-Logik. </p><br><p>  <code>TextInput</code> ist eine Komponente der Adressleiste im Browser.  Wenn Sie die <code>onAccepted</code> dr√ºcken, wird die Methode <code>onAccepted</code> und die Site- <code>onAccepted</code> ausgef√ºhrt. </p><br><p>  QML kann eine Datei √ºber das Netzwerk anzeigen, aber ich denke nicht, dass dies ein guter Weg ist.  In Zukunft k√∂nnen Sie die Versionsverwaltung schrauben. Wenn die Versionen √ºbereinstimmen, laden Sie die Datei √ºberhaupt nicht herunter, sondern verwenden Sie die entsprechende. </p><br><p>  Das ist der ganze Browser.  Fahren wir mit dem Back-End und der Benutzeroberfl√§che fort. </p><br><h3 id="back-end-i-ui">  Backend und UI </h3><br><p>  Backend und UI sind direkt unsere Webanwendung.  Wir werden den UI-Teil in QML schreiben, und das Back-End wird im <code>spring boot</code> , da ich ein Java-Programmierer bin.  Das erste, was wir brauchen, ist eine qml-Datei mit einer Beschreibung unserer Schnittstelle. </p><br><p>  main.qml </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"lightgray"</span></span> property alias textValue: helloText.text Text { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: helloText anchors.horizontalCenter: parent.horizontalCenter font.pointSize: <span class="hljs-number"><span class="hljs-number">24</span></span> } }</code> </pre> <br><p>  Hier ist alles ganz einfach. </p><br><pre> <code class="javascript hljs">property alias textValue: helloText.text</code> </pre> <br><p>  Diese Zeile wird ben√∂tigt, um die <code>text</code> oben zu ziehen, damit Sie sie in <code>Loader</code> . <br>  F√ºgen Sie nun zwei Endpunkte hinzu: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>( value = <span class="hljs-string"><span class="hljs-string">"/main.qml"</span></span>, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] mainQml() <span class="hljs-keyword"><span class="hljs-keyword">throws</span></span> IOException { ClassPathResource resource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassPathResource(<span class="hljs-string"><span class="hljs-string">"main.qml"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IOUtils.toByteArray(resource.getInputStream()); } <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>( value = <span class="hljs-string"><span class="hljs-string">"/getProperties"</span></span>, produces = MediaType.APPLICATION_JSON_VALUE) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getProperties</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"{\"textValue\": \"Hello World!\"}"</span></span>; } }</code> </pre> <br><p>  Der erste Endpunkt gibt die qml-Datei zur√ºck und der zweite - die erforderlichen Daten.  Das Speichern einer Datei im Klassenpfad ist nicht die beste L√∂sung.  Dar√ºber hinaus k√∂nnen in QML-Anwendungen viele <code>qml</code> und <code>js</code> Dateien vorhanden sein.  Aber wir haben es der Einfachheit halber getan. </p><br><p>  Als Ergebnis erhalten wir: </p><br><p><img src="https://habrastorage.org/webt/uk/um/ph/ukumph8s6qrxsj6rn-t8cahjx2i.png" alt="Hallo Weltbeispiel"></p><br><h3 id="plyusy-i-minusy">  Vorteile und Nachteile </h3><br><p>  Schauen wir uns nun die Vor- und Nachteile dieses Ansatzes an </p><br><h4 id="plyusy">  Vorteile </h4><br><ul><li>  Der Client-UI-Code ist relativ einfach.  Zum Beispiel m√ºssen wir keine CSS-Hacks verwenden, um 2 Spalten mit derselben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">H√∂he zu erstellen</a> . </li><li>  Die Entwicklung der Benutzeroberfl√§che kann im Grafikdesigner Qt Creator erfolgen </li><li>  Vermutlich ist die Anwendungsgeschwindigkeit viel h√∂her als bei HTML </li><li>  Verwenden von Desktop-UI-Komponenten </li></ul><br><h4 id="minusy">  Nachteile </h4><br><ul><li>  Zweiter Browser O RLY?  Bis das Sicherheitsproblem behoben ist, wird niemand den Code in die g√§ngigen Browser aufnehmen, und niemand wird einen zweiten Browser f√ºr "Websites eines anderen Typs" installieren. </li><li>  Sicherheit  Jetzt ist sie einfach abwesend.  Sie k√∂nnen eine Seite erstellen, die die Festplatte formatiert. </li><li>  F√ºr eine Produktionsl√∂sung m√ºssen Sie hundert Fragen l√∂sen: Standard, Sitzungen, Daten-Caching, Sicherheit usw. </li><li>  Alles steckt noch in den Kinderschuhen </li><li>  Das Fehlen einer Bibliothek von UI-Komponenten, die f√ºr die Erstellung von Webanwendungen gesch√§rft wurde </li></ul><br><p>  Bisher gibt es viel mehr Minuspunkte als Pluspunkte.  Nun, das ist verst√§ndlich, das ist nur ein Prototyp, der in ein paar Tagen auf meinen Knien geschrieben wurde.  Aber alle Probleme sind gel√∂st, zumindest sehe ich keine ernsthaften Blocker. </p><br><p>  Warum fragen Sie dann diesen Artikel? </p><br><p>  Ich habe im Internet nichts √Ñhnliches gefunden, vielleicht habe ich schlecht ausgesehen, und etwas √Ñhnliches gibt es bereits.  Oder niemand braucht es einfach.  Auf jeden Fall m√∂chte ich Feedback von Ihnen und von ihnen h√∂ren, um zu verstehen, ob es sich lohnt, dieses Gesch√§ft zu betreiben. </p><br><h3 id="resursy">  Ressourcen </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Drako Webbrowser</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Java Hallo App</a> </li></ul><br><p>  PS Ich m√∂chte darauf hinweisen, dass sich diese Methode grundlegend von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">QmlWeb unterscheidet</a> .  In <code>QmlWeb</code> wird HTML + JS-Code aus der qml-Datei <code>QmlWeb</code> und im Browser gerendert. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473302/">https://habr.com/ru/post/de473302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473292/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 319 (am 21. und 27. Oktober)</a></li>
<li><a href="../de473294/index.html">Speicherverwaltung oder seltener schie√üen Sie sich in den Fu√ü</a></li>
<li><a href="../de473296/index.html">Start ohne Geld. Pers√∂nliche Erfahrung</a></li>
<li><a href="../de473298/index.html">Wie man Prozesse aufbaut und aufh√∂rt, sich √ºber ein Team lustig zu machen</a></li>
<li><a href="../de473300/index.html">PR im digitalen Zeitalter, moderne Treueprogramme und Festivalmarketing</a></li>
<li><a href="../de473306/index.html">Augmented Reality Brillenkonzept. Mein perfektes AR-Headset, das m√∂glich ist</a></li>
<li><a href="../de473308/index.html">So f√ºhren Sie eine Code√ºberpr√ºfung durch Google durch</a></li>
<li><a href="../de473312/index.html">"Big Brother Music": Metal, chinesischer Pop und Oper</a></li>
<li><a href="../de473316/index.html">Saudi-Arabisches Influencer-Marketing, PR-Trends f√ºr 2020 und die profitabelsten digitalen Anzeigenformate</a></li>
<li><a href="../de473318/index.html">Telefonumfragen und CRM-Suchen in 3CX-CFDs, neues WP-Live Chat Support-Plugin, Android-App-Update</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>