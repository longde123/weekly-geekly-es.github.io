<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçö üìç ü§æüèΩ Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: "Seguridad de aplicaciones web", Parte 2 üë∞üèª üßöüèª üõ†Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: "Seguridad de aplicaciones web", Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424295/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Por ejemplo, Django tomar√° estos corchetes angulares, los traducir√° a formato HTML y rehacer√° el resto de los caracteres.  Es decir, si el valor del nombre personalizado contiene corchetes angulares, comillas dobles y similares, se excluir√°n todos estos caracteres.  Har√° que el contenido no se interprete como c√≥digo HTML en el lado del navegador del cliente. <br><br><img src="https://habrastorage.org/webt/bg/sq/ed/bgsqedpvcmvdbjwjps3a84ok0ow.jpeg"><br><br>  As√≠ que ahora sabemos que esta no es una defensa muy confiable contra algunos ataques de secuencias de comandos entre sitios.  La raz√≥n, como mostramos en el ejemplo, es que estas gram√°ticas para HTML, CSS y JavaScript son tan complejas que pueden confundir f√°cilmente el analizador del navegador. <br><br>  Por ejemplo, tenemos algo muy com√∫n hecho en el marco de Django.  Entonces, tiene alguna funci√≥n div, y queremos establecer una clase din√°mica para ello.  Le damos a la clase el valor de var, y as√≠ sucesivamente.  La idea es que cuando Django procesa esto, necesita descubrir cu√°l es el estilo actual y luego pegarlo aqu√≠. <br><br>  En este caso, un atacante puede crear una cadena que define esta clase, por ejemplo, escribe "clase 1".  Todo va bien hasta este punto, porque parece una expresi√≥n CSS v√°lida. <br><br>  Pero entonces el atacante coloca el operador onclick aqu√≠, que es igual al c√≥digo JavaScript que hace que el sistema llame. <br><br><img src="https://habrastorage.org/webt/xx/ix/6z/xxix6zb30_tylvsmsbrynpucipc.jpeg"><br><br>  Como esto est√° mal, el navegador deber√≠a detenerse aqu√≠.  Pero el problema es que si alguna vez has visto el HTML de una p√°gina web real, todo est√° roto y confundido, incluso para sitios leg√≠timos y "amigables".  Entonces, si el navegador se detiene antes de cada expresi√≥n HTML err√≥nea, ni un solo sitio que te guste nunca funcionar√°.  Si alguna vez quieres decepcionarte en el mundo y no te he ayudado lo suficiente, solo abre la consola de JavaScript en tu navegador cuando veas el sitio para ver cu√°ntos errores te dar√°. <br><br>  Puede, por ejemplo, ir a CNN y ver cu√°ntos errores obtiene.  S√≠, b√°sicamente CNN funciona, pero de manera muy desigual.  Por ejemplo, para abrir Acrobat Reader, constantemente debe lanzar excepciones de puntero nulo, y al mismo tiempo se sentir√° un poco enga√±ado por la vida.  Pero en Internet, hemos aprendido a aceptar esto sin mucha indignaci√≥n. <br>  Por lo tanto, dado que los navegadores deben ser muy tolerantes con tales cosas, intentar√°n convertir el c√≥digo malicioso en algo que les parezca razonable.  Y esa es la vulnerabilidad de seguridad. <br><br>  As√≠ es como funciona la desinfecci√≥n de contenido, y a√∫n es mejor que nada.  Puede atrapar muchas cosas da√±inas, pero no puede defenderse de todo. <br><br>  Hay una cosa m√°s en la que pensar: el uso de un lenguaje de marcado menos expresivo.  Veamos qu√© significa. <br><br>  <b>P√∫blico:</b> ¬øqu√© debo hacer si la limpieza de contenido no funciona? <br><br>  <b>Profesor:</b> s√≠, esto es posible, por ejemplo, en este caso Django no podr√° determinar est√°ticamente que es malo.  Por ejemplo, en este caso particular.  Pero en el caso cuando inserto una etiqueta de imagen maliciosa ... <br><br>  <b>P√∫blico:</b> en este caso particular, esperar√≠a que la asignaci√≥n de clase est√© entre comillas y en este caso no deber√≠a tener ning√∫n efecto ... <br><br>  <b>Profesor:</b> bueno, ya ves, hay peque√±os trucos.  Suponiendo que la gram√°tica de HTML y CSS est√© cuidadosamente definida, puede imaginar un mundo en el que los analizadores ideales podr√≠an detectar de alguna manera estos problemas o transformarlos de alguna manera en cosas normales.  Pero, de hecho, la gram√°tica HTML y la gram√°tica CSS sufren imprecisiones.  Adem√°s, los navegadores no implementan especificaciones.  Por lo tanto, si usa una gram√°tica menos expresiva, ser√° mucho m√°s f√°cil para nosotros desinfectar el contenido. <br><br>  Aqu√≠ se usa el t√©rmino Markdown - "marcado f√°cil de leer" en lugar del t√©rmino marcado - marcado ordinario.  La idea principal de Markdown es que est√° dise√±ado como un lenguaje que, por ejemplo, permite a los usuarios publicar comentarios, pero no contiene la capacidad de usar una etiqueta vac√≠a, soporte de applet y similares.  Por lo tanto, en Markdown en realidad es mucho m√°s f√°cil identificar de forma exclusiva la gram√°tica y luego simplemente aplicarla. <br><br><img src="https://habrastorage.org/webt/pw/ul/9c/pwul9ccnk3ss1uycrvipf39mchu.jpeg"><br><br>  La desinfecci√≥n es mucho m√°s f√°cil en un lenguaje simple que en HTML, CSS y JavaScript completos.  Y en cierto modo, esto es como la diferencia entre comprender el c√≥digo C y el c√≥digo Python.  Realmente hay una gran diferencia en la comprensi√≥n de un lenguaje m√°s expresivo.  Por lo tanto, al limitar la expresividad, a menudo mejora la seguridad. <br><br>  Para protegerse contra ataques de secuencias de comandos entre sitios, tambi√©n se utiliza CSP, Pol√≠tica de seguridad de contenido.  La idea de CSP es que permite que el servidor web ... <br>  P√∫blico: Tengo curiosidad por saber acerca de este lenguaje Markdown.  ¬øTodos los navegadores pueden realizar el an√°lisis de idiomas? <br><br>  <b>Profesor:</b> no, no, no.  Simplemente puede convertir varios tipos de idiomas a HTML, pero los navegadores no los entienden en su forma original.  En otras palabras, tiene un sistema de comentarios y utiliza Markdown.  Es decir, los comentarios, antes de mostrarse en la p√°gina, van al compilador Markdown, que los traduce al formato HTML. <br><br>  <b>P√∫blico:</b> ¬øpor qu√© no usar siempre Markdown? <br><br>  <b>Profesor:</b> Markdown le permite usar HTML incrustado, y que yo sepa, hay una manera de deshabilitarlo en el compilador.  Pero podr√≠a estar equivocado sobre eso.  El hecho es que no siempre es posible usar un lenguaje limitado, y no todos quieren hacerlo. <br><br>  Entonces, continuemos la discusi√≥n sobre c√≥mo aumentar la seguridad con la ayuda de la Pol√≠tica de seguridad de contenido.  Esta pol√≠tica permite que el servidor le diga al navegador web qu√© tipos de contenido se pueden cargar en la p√°gina que env√≠a, as√≠ como tambi√©n de d√≥nde debe provenir este contenido. <br><br>  Por ejemplo, en la respuesta HTTP, el servidor puede usar algo como esto: incluye el encabezado Contenido - Seguridad - Pol√≠tica, la fuente predeterminada es propia y recibir√° datos de * .midominio.com. <br><br><img src="https://habrastorage.org/webt/6c/u3/z8/6cu3z8oazkleohxh9fnrvk1_hay.jpeg"><br><br>  Con el operador propio, el servidor indica que el contenido de este sitio debe provenir √∫nicamente del dominio de una p√°gina en particular o de cualquier subdominio de mydomain.com.  Esto significa que si tuvi√©ramos un enlace autom√°tico a foo.com, el servidor enviar√≠a esta p√°gina nuevamente al navegador. <br><br>  Supongamos que un ataque de secuencias de comandos en sitios cruzados intenta crear un enlace a bar.com.  En este caso, el navegador ver√° que bar.com no es propio y no es un dominio de midominio.com, y no saltar√° m√°s esta solicitud.  Este es un mecanismo bastante poderoso en el que puede especificar controles m√°s detallados.  Establece par√°metros que indican que sus im√°genes deben provenir de tal y tal fuente, secuencias de comandos de tal y tal, etc.  En realidad es conveniente. <br><br>  Adem√°s, esta pol√≠tica en realidad evita JavaScript incrustado, por lo que no puede abrir la etiqueta, escribir alg√∫n tipo de secuencia de comandos y cerrar la etiqueta, porque todo lo que puede ir al navegador debe provenir solo de una fuente condicional.  CSP previene cosas peligrosas como usar el argumento de la funci√≥n eval (), que permite que una p√°gina web ejecute c√≥digo JavaScript generado din√°micamente.  Entonces, si el encabezado CSP est√° configurado, el navegador no ejecutar√° eval (). <br><br>  <b>Audiencia:</b> ¬ø <b>Eso</b> es todo lo que protege CSP? <br><br>  <b>Profesor:</b> no.  Hay una lista completa de recursos que realmente protege, y puede configurar la protecci√≥n contra muchas cosas no deseadas, por ejemplo, especificar d√≥nde est√° permitido aceptar CSS salientes y muchas otras cosas. <br><br>  <b>Audiencia: ¬ø</b> Pero adem√°s de eval () hay otras cosas que amenazan la seguridad? <br><br>  <b>Profesor:</b> s√≠, existen.  Por lo tanto, siempre surge la cuesti√≥n de la integridad de la protecci√≥n.  Entonces, por ejemplo, no solo eval puede generar din√°micamente c√≥digo JavaScript.  Tambi√©n hay un constructor de funciones, hay ciertas formas de llamar a un tiempo de espera determinado, vas a la l√≠nea y puedes analizar el c√≥digo de esta manera.  CSP puede deshabilitar todos estos peligrosos vectores de ataque.  Pero esto no es una panacea para el aislamiento completo de exploits maliciosos. <br><br>  <b>Audiencia:</b> ¬øEs cierto que CSP se puede configurar para evitar que se verifiquen todos los scripts internos en la p√°gina? <br><br>  <b>Profesor:</b> s√≠, ayuda a evitar la ejecuci√≥n de c√≥digo generado din√°micamente, mientras que el c√≥digo incrustado debe ignorarse.  El navegador siempre debe obtener el c√≥digo del atributo de origen.  En realidad, no s√© si todos los navegadores hacen esto.  La experiencia personal muestra que los navegadores exhiben comportamientos diferentes. <br><br>  En general, la seguridad de Internet es similar a las ciencias naturales, por lo que las personas simplemente presentan teor√≠as sobre c√≥mo funcionan los navegadores.  Y luego ves c√≥mo sucede esto realmente.  Y la imagen real puede decepcionar, porque nos ense√±an que hay algoritmos, evidencia y similares.  Pero estos navegadores se comportan tan mal que los resultados de su trabajo son impredecibles. <br><br>  Los desarrolladores de navegadores intentan estar un paso por delante de los atacantes, y m√°s adelante en la conferencia ver√°n ejemplos de esto.  De hecho, CSP es algo muy bueno. <br><br>  Otra cosa √∫til es que el servidor puede establecer un encabezado HTTP llamado X-Content-Type-Options, cuyo valor es insignificante. <br><br><img src="https://habrastorage.org/webt/ow/tj/4n/owtj4npqv9thfxhl6hfa8n5elfg.jpeg"><br><br>  Este encabezado evita que MIME descarte la respuesta del tipo de contenido anunciado, ya que el encabezado le dice al navegador que no anule el tipo de contenido de respuesta.  Con la opci√≥n nosniff, si el servidor dice que el contenido es text / html, el navegador lo mostrar√° como text / html. <br>  En pocas palabras, este encabezado evita que el navegador "olfatee" la respuesta del tipo de contenido declarado para que la situaci√≥n no ocurra cuando el navegador dice: "s√≠, olfate√© la falta de coincidencia entre la extensi√≥n del archivo y el contenido real, por lo que convertir√© este contenido en otro contenido comprensible yo una cosa ".  Resulta que de repente le diste a los b√°rbaros las llaves del reino. <br><br>  Por lo tanto, al configurar este encabezado, le est√° diciendo al navegador que no haga nada como esto.  Esto puede mitigar en gran medida los efectos de ciertos tipos de ataques.  Aqu√≠ hay una breve descripci√≥n de algunas vulnerabilidades para los ataques de secuencias de comandos entre sitios. <br><br>  Ahora veamos otro vector de ataque popular: SQL.  Probablemente haya o√≠do hablar de ataques llamados "inyecci√≥n SQL" o ataque de inyecci√≥n SQL.  La esencia de estos ataques es usar la base de datos del sitio web.  Para generar din√°micamente la p√°gina que se muestra al usuario, se emiten consultas de base de datos que se emiten a este servidor interno.  Imagine que tiene una solicitud para seleccionar todos los valores de una tabla espec√≠fica, donde el campo ID de usuario es igual a lo que se determina en Internet de una fuente potencialmente poco confiable. <br><br><img src="https://habrastorage.org/webt/mc/uo/s3/mcuos3xx1tdpkoorj-cg6z_tdeu.jpeg"><br><br>  Todos sabemos c√≥mo terminar√° esta historia: terminar√° muy mal, no habr√° sobrevivientes.  Porque lo que proviene de una fuente no verificada puede causar muchos problemas.  Alternativamente, puede darle a la cadena de identificaci√≥n de usuario el siguiente valor: identificaci√≥n de usuario = ‚Äú0;  BORRAR TABLA ". <br><br>  Entonces, ¬øqu√© pasar√° aqu√≠?  B√°sicamente, la base de datos del servidor dir√°: "OK, establecer√© la ID de usuario en cero, y luego ejecutar√© el comando" eliminar tabla "".  Y eso es todo, ¬°ya est√°! <br><br>  Dicen que hace un par de a√±os apareci√≥ una cierta imagen viral.  Algunas personas en Alemania instalaron placas en los autom√≥viles, en las cuales se escribi√≥ 0;  BORRAR TABLA.  La idea era que las c√°maras de carretera usaran OCR para reconocer su n√∫mero y luego lo pusieran en la base de datos.  En general, la gente del Volkswagen decidi√≥ explotar esta vulnerabilidad al colocar c√≥digo malicioso en sus n√∫meros. <br><br>  No s√© si esto funcion√≥ porque suena gracioso.  Pero me gustar√≠a creer que esto es cierto.  As√≠ que repito nuevamente: la idea de desinfecci√≥n es evitar la ejecuci√≥n de contenido de fuentes no confiables en su sitio. <br><br><img src="https://habrastorage.org/webt/dx/2c/aj/dx2cajp2tth8bgt_-echscd6m-i.jpeg"><br><br>  Por lo tanto, preste atenci√≥n al hecho de que puede haber algunas cosas simples que no funcionan como deber√≠an.  Entonces, usted podr√≠a pensar: "bueno, ¬øpor qu√© no puedo simplemente poner otra cita al principio de la l√≠nea y una m√°s al final para excluir la ejecuci√≥n del c√≥digo malicioso del atacante encerrado entre comillas triples"? <br><br>  ID de usuario = '"+ ID de usuario +'" <br><br>  Pero esto no funcionar√°, porque un atacante siempre puede simplemente poner comillas dentro de la cadena de ataque.  Por lo tanto, en la mayor√≠a de los casos, este "medio pirateo" no le brindar√° tanta seguridad como espera. <br><br>  La soluci√≥n aqu√≠ es que necesita cifrar cuidadosamente sus datos.  Y una vez m√°s, repito que cuando reciba informaci√≥n de una fuente poco confiable, no la inserte en el sistema en la forma en que se encuentra.  Aseg√∫rate de que no pueda saltar de la caja de arena si lo pones all√≠ para realizar una explotaci√≥n maliciosa. <br><br>  Por ejemplo, desea insertar una funci√≥n de escape para evitar el uso del operador de coma sin formato.  Para hacer esto, muchos de los marcos web, como Django, tienen bibliotecas integradas que le permiten evitar consultas SQL para evitar que sucedan tales cosas.  Estos marcos animan a los desarrolladores a nunca interactuar directamente con la base de datos.  Por ejemplo, Django proporciona una interfaz de alto nivel que lo desinfecta. <br><br>  Pero las personas siempre se preocupan por el rendimiento y, a veces, piensan que estos marcos web son demasiado lentos.  Entonces, como ver√° pronto, la gente seguir√° haciendo consultas SQL sin procesar, lo que puede generar problemas. <br><br>  Pueden surgir problemas si el servidor web acepta nombres de ruta de im√°genes no confiables.  Imagine que en alg√∫n lugar de su servidor est√° haciendo algo similar: abra con ‚Äúwww / images /‚Äù + nombre de archivo, donde el nombre de archivo est√° representado por algo como ... / ... / ... / ... / etc / contrase√±a. <br><br><img src="https://habrastorage.org/webt/sa/ro/bv/sarobvldxpltyhqughpaublh9ew.jpeg"><br><br>  Es decir, le da la orden de abrir la imagen en esta direcci√≥n desde un archivo de usuario no confiable, que en realidad puede da√±arlo gravemente.  Por lo tanto, si desea utilizar un servidor web o un marco web, deber√≠a poder detectar estos caracteres peligrosos y evitarlos para evitar la ejecuci√≥n de estos comandos no controlados. <br><br>  Tomemos un descanso de discutir la desinfecci√≥n de contenido y hablemos un poco sobre las cookies.  Las cookies son una forma muy popular de administrar sesiones para vincular a un usuario a un determinado conjunto de recursos que existen en el lado del servidor.  Muchos marcos como Django o Zoobar, que conocer√° m√°s adelante, en realidad colocan un identificador de sesi√≥n aleatorio dentro de las cookies.  La idea es que este ID de sesi√≥n es un √≠ndice en alg√∫n tipo de tabla del lado del servidor: <br><br>  tabla [ID de sesi√≥n] = informaci√≥n del usuario. <br><br>  Es decir, el identificador de sesi√≥n es igual a cierta informaci√≥n del usuario.  Como resultado, este ID de sesi√≥n y las cookies son piezas muy sensibles en su extensi√≥n.  Muchos ataques incluyen el robo de cookies para obtener esta ID de sesi√≥n.  Como discutimos en nuestra √∫ltima conferencia, la misma pol√≠tica de la misma fuente de origen puede ayudarlo, en cierta medida, contra algunos de estos ataques de robo de cookies.  Porque hay reglas basadas en la misma pol√≠tica de origen que impiden la modificaci√≥n arbitraria de las cookies. <br><br>  La sutileza es que no debe compartir un dominio o subdominio con alguien en quien no conf√≠a.  Porque, como dijimos en la √∫ltima conferencia, hay reglas que permiten que dos dominios o subdominios del mismo origen accedan a las cookies del otro.  Y, por lo tanto, si conf√≠a en un dominio en el que no debe confiar, puede establecer directamente el identificador de sesi√≥n en estas cookies, a las que ambos tienen acceso.  Esto permitir√° que el atacante obligue al usuario a usar el identificador de sesi√≥n que elija el atacante. <br><br><img src="https://habrastorage.org/webt/zu/vk/z6/zuvkz6jxe3v6rqnrvhfdfrzk5j8.jpeg"><br><br>  Supongamos que un atacante establece una cookie de usuario de Gmail.  Un usuario inicia sesi√≥n en Gmail y escribe algunas letras.  Un atacante puede usar esta cookie, en particular, usar este identificador de sesi√≥n, descargar Gmail y luego acceder a Gmail como si fuera un usuario v√≠ctima.  Por lo tanto, hay muchas sutilezas que puede hacer con estas cookies para administrar sus sesiones.          . <br><br>  ,  ,      ?     ,  .      ? <br><br>   stateless cookie,  ¬´   ¬ª,  -             , ,  ,     . <br><br> ,     ,        ,     .      ,       .  ,    ,            .        , ,  ,         ,  . <br><br>      ‚Äî     MA ‚Äî Message Authentication Codes,    .   ,  .       HCK  -  m.     ,  ,          K.  ,        ,     .   ,     ,          . <br><br><img src="https://habrastorage.org/webt/ll/z-/f3/llz-f3q7wj73o5ghn8d5urhxb7g.jpeg"><br><br>     ,   .    ,   stateless cookie,    Amazon, , x3.   - Amazon,   AWS,     .  ‚Äì    K,  ‚Äì   AWS,    . <br><br><img src="https://habrastorage.org/webt/dz/qy/tg/dzqytgmk-gbiyefqqk3o-jn9lle.jpeg"><br><br>    ,       AWS  HTTP,       . <br><br> ,        ,   ,      : <br><br> GET /photos/ cat; .jpg HTTP/1.1,        -  AWS: <br><br> HOST: ‚Äî - ‚Äî - ‚Äî ,     , : <br><br> DATE: Mon, June 4,            ,  ,     .    ,   ID ,  ,     ,   . <br><br><img src="https://habrastorage.org/webt/ah/rb/k2/ahrbk2c77e0qvutlug1awoh147s.jpeg"><br><br>      ?       ,        3-  . <br><br>  ,   String To Sign   : <br><br> ‚Äî  HTTP,     GET; <br> ‚Äî     MDS; <br> ‚Äî  ,  html   jpg; <br> ‚Äî ; <br> ‚Äî  ,     ,    . <br><br><img src="https://habrastorage.org/webt/1a/6o/qt/1a6oqtqqp9ee4eq_xegvmbuvmmw.jpeg"><br><br>  ,     ,     HCK MAC.  ,            .         ,         .  ,        .  ? <br><br>   ,  ,     ,          -   .     Amazon  ,      stateless cookie,     MD5       . <br><br>    , ,      ,         cookie,    .      ‚Äì    ,  ,     . <br><br>        ,       .  ,      ,         ‚ÄúHCK, m‚Äù. <br><br><img src="https://habrastorage.org/webt/yt/ez/21/ytez21vos7pryus3awum_33cd0u.jpeg"><br><br>         .                GET /photos/ cat; .jpg HTTP/1.1  ,    ,    .    ,  ,      .    , ?     : ¬´,  ,            ,    ¬ª. <br><br> 56:15 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Curso MIT "Seguridad de sistemas inform√°ticos".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> 9: ¬´ Web-¬ª,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6HhmIlbE0l0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La versi√≥n completa del curso est√° disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</b> al pagar por un per√≠odo de seis meses, puede ordenar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es424295/">https://habr.com/ru/post/es424295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es424277/index.html">Emigraci√≥n y todo sobre eso en los blogs de Telegram</a></li>
<li><a href="../es424279/index.html">C√≥mo abrir una IP en Alemania, si eres un programador, y no llenar conos</a></li>
<li><a href="../es424285/index.html">Consejos de inicio de Y Combinator: Desarrollar mercados de juguetes</a></li>
<li><a href="../es424287/index.html">C√≥mo participamos en InnovateFPGA 2018 y no volvimos a ganar</a></li>
<li><a href="../es424289/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: Seguridad de aplicaciones web, Parte 1</a></li>
<li><a href="../es424297/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 9: Seguridad de aplicaciones web, Parte 3</a></li>
<li><a href="../es424301/index.html">Algoritmo de filtro de imagen de red neuronal adaptativo</a></li>
<li><a href="../es424305/index.html">RIB de arquitectura m√≥vil multiplataforma de Uber</a></li>
<li><a href="../es424307/index.html">GitLab 11.3 lanzado con repositorio Maven y entornos seguros</a></li>
<li><a href="../es424309/index.html">DevCore: parte del software del proyecto DevBoy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>