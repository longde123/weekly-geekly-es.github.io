<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìà üö± üà∂ 3¬∫ lugar na fase de qualifica√ß√£o do DataScienceGame 2018 üñïüèæ üßîüèº üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A fase de qualifica√ß√£o do DataScienceGame2018, que ocorreu no formato kaggle InClass, terminou recentemente. DataScienceGame √© uma competi√ß√£o internac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3¬∫ lugar na fase de qualifica√ß√£o do DataScienceGame 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ods/blog/416817/"><img src="https://habrastorage.org/webt/gi/wr/hk/giwrhkz4e1c8_xzxfb2wwdubwby.png" alt="imagem" width="100%"><br><br>  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fase de qualifica√ß√£o do</a> DataScienceGame2018, que ocorreu no formato kaggle InClass, terminou recentemente.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DataScienceGame</a> √© uma competi√ß√£o internacional de estudantes realizada anualmente.  Nossa equipe conseguiu ficar em 3¬∫ lugar entre mais de 100 equipes e, ao mesmo tempo, N√ÉO chega √† fase final. <br><a name="habracut"></a><br><h2>  Intera√ß√£o da equipe </h2><br><img src="https://habrastorage.org/webt/rx/oj/rf/rxojrf1p-3rm4ce5k5-dcxfb2yy.jpeg" alt="A equipe" width="400" align="right">  Em grandes competi√ß√µes de kaggle, as equipes geralmente s√£o formadas ao longo do caminho por pessoas com uma lideran√ßa quase na tabela de l√≠deres (um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplo t√≠pico de equipe</a> ) e, portanto, representam diferentes cidades e, freq√ºentemente, diferentes pa√≠ses.  Imediatamente, de acordo com os termos da competi√ß√£o, cada equipe deve ser composta por 4 pessoas de uma institui√ß√£o de ensino (representamos o MIPT).  E isso significa que a maioria dos participantes, ao que me parece, todas as discuss√µes ocorreram offline.  Por exemplo, t√≠nhamos a equipe inteira morando em um andar do albergue, ent√£o apenas nos reun√≠amos √† noite com algu√©m na sala. <br><br>  N√£o tivemos separa√ß√£o de tarefas, planejamento ou forma√ß√£o de equipes.  No in√≠cio da competi√ß√£o, apenas nos sentamos em c√≠rculo, discutimos o que podemos fazer no futuro e n√£o o fizemos.  O c√≥digo foi escrito por uma pessoa, e o restante na √©poca simplesmente olhou e deu conselhos.  N√£o gosto muito de escrever c√≥digo, ent√£o gostei dessa intera√ß√£o, apesar de obviamente n√£o ser a melhor.  Mas como a fase de qualifica√ß√£o caiu exatamente na sess√£o da universidade, parte da equipe n√£o conseguiu dedicar muito tempo e eu ainda tinha que escrever o c√≥digo. <br><br><h2>  Descri√ß√£o da tarefa </h2><br>  De acordo com o hist√≥rico fornecido pelo BNP, era necess√°rio prever se o usu√°rio estaria interessado em alguma seguran√ßa (Isin) na pr√≥xima semana ou n√£o.  Ao mesmo tempo, ‚Äúinteresse‚Äù foi determinado pela coluna TradeStatus, que descreveu o status da transa√ß√£o e possu√≠a os seguintes valores exclusivos: <br><br><ol><li>  A transa√ß√£o foi conclu√≠da (ou seja, o usu√°rio comprou / vendeu papel) </li><li>  O usu√°rio olhou para o documento, mas n√£o concluiu uma transa√ß√£o </li><li>  Usu√°rio reservou papel para compra / venda futura </li><li>  A transa√ß√£o n√£o foi conclu√≠da devido a raz√µes t√©cnicas. </li><li>  Segurando </li></ol><br>  Portanto, se TradeStatus assume o valor 1) -4), considera-se que o usu√°rio estava interessado neste documento e n√£o estava interessado em todos os outros casos.  Ao mesmo tempo, o par√°grafo 4) indicou que a linha com esta transa√ß√£o era fict√≠cia e foi feita para relat√≥rios convenientes.  Ou seja, no final de cada m√™s, o status do portf√≥lio de cada usu√°rio foi comparado com o seu estado h√° um m√™s e, se, por exemplo, o usu√°rio de alguma forma no portf√≥lio, a quantidade de uma determinada seguran√ßa aumentou em 10k, ent√£o essa mesma linha marcou "compra" ‚ÄùE com um valor nominal de 10k.  As linhas marcadas como "mantendo" tinham uma vari√°vel de destino 0 (o usu√°rio n√£o estava interessado). <br><br>  Se voc√™ pensar bem, pode entender que o conjunto de dados estava da seguinte forma: os usu√°rios estavam ativos no site do banco - procuraram / compraram pap√©is e todas essas a√ß√µes foram registradas no banco de dados.  Por exemplo, um usu√°rio com id = 15 decidiu adiar papel com id = 7 para compras futuras.  Imediatamente no banco de dados apareceu a linha correspondente ao alvo 1 (o usu√°rio ficou interessado) <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Status da transa√ß√£o </th><th>  Campos adicionais </th><th>  Target </th></tr><tr><td>  15 </td><td>  7 </td><td>  Compra </td><td>  Separe para o futuro </td><td>  ... </td><td>  1 </td></tr></tbody></table><br>  Al√©m disso, foram adicionados registros mensais com o status de reten√ß√£o e o objetivo 0. Por exemplo, o usu√°rio 15 aumentou o n√∫mero de compartilhamentos 93 por algum motivo (talvez ele tenha comprado em outro site), enquanto ele pr√≥prio n√£o usou este documento no site do BNP interagiu (n√£o est√° interessado). <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Status da transa√ß√£o </th><th>  Campos adicionais </th><th>  Target </th></tr><tr><td>  15 </td><td>  93 </td><td>  Compra </td><td>  Segurando </td><td>  ... </td><td>  0 0 </td></tr></tbody></table><br>  Mas, obviamente, para o BNP, n√£o h√° sentido em prever essas mesmas propriedades, porque elas podem ser restauradas sem ambiguidade a partir da base.  Isso significa que h√° outro tipo de tokens que n√£o est√£o na tabela de treinamento, ou seja, triplica o ‚Äúusu√°rio - papel - tipo de transa√ß√£o‚Äù que n√£o aparece no banco de dados.  Ou seja, o usu√°rio N√ÉO estava interessado em uma determinada a√ß√£o, o que significa que ele n√£o interage com ele no sistema BNP; portanto, a linha correspondente n√£o aparece no banco de dados, o que significa que deve ter um objetivo de 0. E isso sugere que voc√™ precisa gerar essas linhas para se treinar ( consulte a se√ß√£o ‚ÄúCompilando uma amostra de treinamento‚Äù).  Tudo isso pode levar a alguma confus√£o, porque muitos participantes provavelmente pensaram - existe um conjunto de dados, existem zeros e uns - voc√™ pode prever.  Mas n√£o √© t√£o simples. <br><br>  Portanto, no trem, h√° uma tabela com o hist√≥rico de transa√ß√µes (ou seja, a intera√ß√£o ‚Äúusu√°rio - papel - tipo de transa√ß√£o‚Äù e algumas informa√ß√µes adicionais sobre elas) e v√°rias outras placas com as caracter√≠sticas do usu√°rio, estoque, condi√ß√µes do mercado global.  No teste, existem apenas triplos "usu√°rio - papel - tipo de transa√ß√£o" e, para cada um desses triplos, √© necess√°rio prever se ele ser√° exibido na pr√≥xima semana.  Por exemplo, voc√™ precisa prever se o ID do usu√°rio = 8 estar√° interessado no ID da a√ß√£o = 46 com o tipo de transa√ß√£o "venda"? <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Target </th></tr><tr><td>  8 </td><td>  46. </td><td>  Para venda </td><td>  ? </td></tr></tbody></table><br><h2>  Recursos de constru√ß√£o de um conjunto de dados </h2><br>  Como, como eu j√° disse, no banco de dados real do BNP n√£o havia linhas com zeros "n√£o retidos", os organizadores de alguma forma geraram essas linhas para o teste.  E onde h√° gera√ß√£o artificial de dados, geralmente h√° rostos e outras informa√ß√µes impl√≠citas que podem melhorar significativamente o resultado sem alterar os modelos / recursos.  Esta se√ß√£o descreve alguns recursos da cria√ß√£o de um conjunto de dados que conseguimos entender, mas que, infelizmente, n√£o nos ajudaram de forma alguma. <br><br><img src="https://habrastorage.org/webt/ji/lc/k5/jilck5wp7nwrmcfyhhfvfiwrd-g.png" width="350" align="right">  Se voc√™ observar o "usu√°rio - papel - tipo de transa√ß√£o" triplica na tabela de teste, √© f√°cil notar que o n√∫mero de transa√ß√µes com os tipos "compra" e "venda" √© exatamente o mesmo, e a tabela √© estritamente classificada por este atributo: primeiro todas as compras, depois todas vendas.  Obviamente, isso n√£o √© um acidente e surge a pergunta: como isso p√¥de acontecer?  Por exemplo, desta maneira: os organizadores pegaram todos os registros reais de seu banco de dados durante a semana em que precisamos fazer uma previs√£o (essas linhas t√™m um objetivo de 1), de alguma forma geraram novas linhas (seu objetivo √© 0), que n√£o coincidem com os descritos acima.  Ent√£o, saiu uma tabela na qual os tipos de transa√ß√µes (compra / venda) s√£o organizados em ordem aleat√≥ria: <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Target </th></tr><tr><td>  8 </td><td>  46. </td><td>  Para venda </td><td>  1 </td></tr><tr><td>  2 </td><td>  6 </td><td>  Compra </td><td>  1 </td></tr><tr><td>  158 </td><td>  73 </td><td>  Compra </td><td>  1 </td></tr><tr><td>  3 </td><td>  29 </td><td>  Para venda </td><td>  0 0 </td></tr><tr><td>  67 </td><td>  9 </td><td>  Compra </td><td>  0 0 </td></tr><tr><td>  17 </td><td>  465 </td><td>  Para venda </td><td>  0 0 </td></tr></tbody></table><br>  Agora √© poss√≠vel definir o tipo de compra para todas as linhas com o tipo de transa√ß√£o ‚Äúvenda‚Äù e, se o destino for um, ele se tornar√° zero (na maioria dos casos, o usu√°rio estava interessado em algum papel com apenas um status: compra ou venda).  Isso resultar√° na seguinte tabela: <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Target </th></tr><tr><td>  8 </td><td>  46. </td><td>  Compra </td><td>  0 0 </td></tr><tr><td>  2 </td><td>  6 </td><td>  Compra </td><td>  1 </td></tr><tr><td>  158 </td><td>  73 </td><td>  Compra </td><td>  1 </td></tr><tr><td>  3 </td><td>  29 </td><td>  Compra </td><td>  0 0 </td></tr><tr><td>  67 </td><td>  9 </td><td>  Compra </td><td>  0 0 </td></tr><tr><td>  17 </td><td>  465 </td><td>  Compra </td><td>  0 0 </td></tr></tbody></table><br>  A √∫ltima etapa permanece: fazer o mesmo, mas substituindo a "compra para venda" e organizando as metas corretas: <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Target </th></tr><tr><td>  8 </td><td>  46. </td><td>  Para venda </td><td>  1 </td></tr><tr><td>  2 </td><td>  6 </td><td>  Para venda </td><td>  0 0 </td></tr><tr><td>  158 </td><td>  73 </td><td>  Para venda </td><td>  0 0 </td></tr><tr><td>  3 </td><td>  29 </td><td>  Para venda </td><td>  0 0 </td></tr><tr><td>  67 </td><td>  9 </td><td>  Para venda </td><td>  0 0 </td></tr><tr><td>  17 </td><td>  465 </td><td>  Para venda </td><td>  0 0 </td></tr></tbody></table><br>  Concatenando a tabela com "compras" e a tabela com "vendas", obtemos (se √©ramos os organizadores) uma tabela como nos foi dada no teste.  √â f√°cil entender que a primeira e a segunda metade das tabelas constru√≠das dessa maneira t√™m a mesma ordem de pares de papel do usu√°rio, o que realmente aconteceu na tabela de teste. <br><br>  Outro recurso foi o fato de existirem muitas linhas no conjunto de dados de treinamento, nas quais o √≠ndice do usu√°rio foi repetido v√°rias vezes seguidas, apesar do fato de o conjunto de dados n√£o ter sido classificado por nenhum dos sinais: <br><table><tbody><tr><th>  ID do usu√°rio </th><th>  ID de seguran√ßa </th><th>  Tipo de transa√ß√£o </th><th>  Target </th></tr><tr><td>  8 </td><td>  46. </td><td>  Para venda </td><td>  ? </td></tr><tr><td>  8 </td><td>  152 </td><td>  Para venda </td><td>  ? </td></tr><tr><td>  8 </td><td>  73 </td><td>  Compra </td><td>  ? </td></tr></tbody></table><br>  O colega de equipe considerou isso normal e o conjunto de dados foi classificado inicialmente pelo ID do usu√°rio, e os organizadores simplesmente estragaram tudo (por exemplo, se o shuffle foi organizado em permuta√ß√µes aleat√≥rias e n√£o havia permuta√ß√µes suficientes).  Tentando se certificar disso, ele passou por quatro embaralhamento de diferentes bibliotecas, mas em nenhum lugar essas repeti√ß√µes freq√ºentes surgiram.  O teste tamb√©m teve esse recurso.  Havia uma id√©ia de que os organizadores n√£o geravam zeros, mas simplesmente pegavam os pares antigos do trem.  Para verificar, decidi fazer o seguinte: para cada par ‚Äúpapel do usu√°rio‚Äù do teste, compare o n√∫mero da linha do trem quando esse par se encontrou pela primeira vez e fa√ßa um gr√°fico disso.  Ou seja, por exemplo, olhamos para a primeira linha do teste, deixe que ela tenha um ID de usu√°rio = 8 e id = paper = 15. Agora, examinamos a tabela de treinamento de cima para baixo e procuramos quando esse par apareceu pela primeira vez, como, por exemplo, 51¬™ linha.  Fizemos uma compara√ß√£o: a 1¬™ linha do teste estava no 51¬∫ trem, portanto, tra√ßamos o ponto com as coordenadas (1, 51) no gr√°fico.  Fazemos isso durante todo o teste e obtemos o seguinte gr√°fico: <br><br><img src="https://habrastorage.org/webt/u_/gy/-z/u_gy-zrw5e0raqf6l-gtflx_9va.png" alt="imagem"><br><br>  Pode-se ver a partir disso que, basicamente, se um casal j√° havia se encontrado antes no trem, na tabela de teste sua posi√ß√£o ser√° maior.  Mas, ao mesmo tempo, existem alguns valores discrepantes no gr√°fico (na verdade n√£o existem tantos, mas devido √† resolu√ß√£o das telas, parece que existe um tri√¢ngulo s√≥lido).  Al√©m disso, o n√∫mero de emiss√µes coincidiu aproximadamente com o n√∫mero esperado de unidades no teste.  Obviamente, tentamos marcar as emiss√µes como unidades e envi√°-las para a tabela de classifica√ß√£o, mas, infelizmente, n√£o funcionou.  Mas ainda me pareceu que poderia haver algum tipo de rosto () e, como capit√£o da equipe, sugeri que dedicasse mais tempo a entender como isso poderia acontecer, e ainda temos tempo para treinar os modelos e gerar os sinais.  Isen√ß√£o de responsabilidade: passamos muito tempo nisso, mas uma semana antes do final da competi√ß√£o, os organizadores escreveram no f√≥rum que apenas triplos nos √∫ltimos 6 meses foram levados para o conjunto de dados de teste, e n√£o todos.  Bem, se voc√™ executar as opera√ß√µes descritas acima, mas nos √∫ltimos 6 meses, e n√£o apenas o conjunto de dados, obter√° uma curva mon√≥tona plana: <img src="https://habrastorage.org/webt/-z/i-/vd/-zi-vdv917xifex8lqd5ftru14w.png" alt="imagem"><br><br>  E isso significa que n√£o h√° rosto aqui e n√£o pode existir. <br><br><h2>  Configura√ß√£o de treinamento </h2><br>  Como no teste voc√™ precisa fazer uma previs√£o de triplos por uma semana, dividiremos o conjunto de dados de treinamento em semanas (ao mesmo tempo, a cada semana h√° uma m√©dia de 20 mil triplos de "usu√°rio - papel - tipo de transa√ß√£o").  Agora, para tr√™s, podemos dizer se ela se conheceu em uma semana espec√≠fica ou n√£o.  Ao mesmo tempo, j√° temos triplos positivos (todas essas entradas s√£o desta semana na tabela de trens) e as negativas precisam ser geradas de alguma forma.  Existem muitas op√ß√µes de como fazer isso.  Por exemplo, voc√™ pode resolver absolutamente todos os triplos que n√£o estavam l√° por uma semana espec√≠fica no conjunto de dados de treinamento.  √â claro que a amostra ficar√° altamente desequilibrada, e isso √© ruim.  Voc√™ pode primeiro gerar usu√°rios proporcionalmente √† frequ√™ncia de sua ocorr√™ncia no conjunto de dados e, de alguma forma, adicionar promo√ß√µes a eles.  Mas com essa abordagem, haver√° v√°rias linhas para as quais estat√≠sticas razo√°veis ‚Äã‚Äãn√£o podem ser calculadas, o que tamb√©m √© ruim.  Como fizemos: pegamos todos os tipos de triplos encontrados anteriormente no trem, copi√°mo-lo, substituindo o buy / sell pelo oposto, e concatenamos essas duas tabelas.  √â claro que duplicatas poderiam ter ocorrido dessa maneira (por exemplo, se o usu√°rio j√° tivesse comprado e vendido um estoque), mas havia poucos deles e, ap√≥s a exclus√£o, uma tabela de 500 mil triplos √∫nicos foi obtida.  Isso √© tudo, agora, a cada semana, para cada triplo, voc√™ pode dizer se ela se encontrou ou n√£o (e quantas vezes?). <br><br>  Como, em ess√™ncia, estamos lidando com s√©ries temporais - um usu√°rio v√™ um an√∫ncio espec√≠fico v√°rias vezes por semana, criaremos uma tabela para treinar o classificador de maneira cl√°ssica para s√©ries temporais.  Nomeadamente, pegaremos a √∫ltima semana dispon√≠vel do trem, veremos se cada tr√™s ‚Äúclientes - compram ou vendem‚Äù se reuniu nesta semana.  Ser√° um alvo.  E contaremos v√°rias estat√≠sticas como recursos, por exemplo, nas √∫ltimas 6 semanas (mais sobre estat√≠sticas na se√ß√£o "Sinais").  Agora vamos esquecer a exist√™ncia da √∫ltima semana e fazer o mesmo, mas para a pen√∫ltima semana e concatenar as tabelas.  Isso pode ser feito v√°rias vezes, aumentando assim o trem de ‚Äúaltura‚Äù, mas, ao mesmo tempo, o intervalo sobre o qual consideramos estat√≠sticas diminui naturalmente.  Repetimos essa opera√ß√£o 10 vezes, porque, se fiz√©ssemos mais, o feriado de Ano Novo e os problemas relacionados seriam direcionados, o que pioraria a qualidade final do modelo.  Imagem explicativa: <br><br><img src="https://habrastorage.org/webt/rq/5a/tv/rq5atvi8hxcjdpygbvmlsjj1jho.png" alt="imagem"><br><br>  Mais informa√ß√µes sobre s√©ries temporais e valida√ß√£o em s√©ries temporais podem ser encontradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><h2>  Sinais </h2><br>  Como eu disse, havia muitas tabelas que de alguma forma caracterizavam o usu√°rio, as a√ß√µes ou as condi√ß√µes do mercado global (principais moedas e alguns indicadores).  Mas todos eles quase n√£o melhoraram a qualidade, e os principais sinais foram estat√≠sticas calculadas para os pares "cliente - isin" e tripla "cliente - isin - compre ou venda", por exemplo: <br><br><ul><li>  Com que frequ√™ncia um casal / tr√™s se encontrou nas √∫ltimas 1, 2, 5, 20, 100 semanas? </li><li>  Estat√≠sticas sobre intervalos de tempo entre reuni√µes de um par / triplos em um conjunto de dados (m√©dia, padr√£o, max, min) </li><li>  A dist√¢ncia no tempo at√© a primeira / √∫ltima vez que um casal / tr√™s se encontrou </li><li>  A propor√ß√£o de cada valor TradeStatus para um par / triplo </li><li>  Estat√≠sticas de quantas vezes por semana ocorre um casal / triplo (m√©dia, padr√£o, m√°ximo, min) </li></ul><br>  Al√©m disso, no √∫ltimo dia da competi√ß√£o, li no formul√°rio que, para vender uma a√ß√£o, voc√™ deve primeiro compr√°-la.  Esse conhecimento permite que voc√™ crie muitos sinais mais √∫teis, mas, por alguma raz√£o, para mim n√£o era √≥bvio. <br><br>  No c√≥digo, tudo isso foi expresso por uma fun√ß√£o de 200 linhas de comprimento, que gerou sinais semelhantes para cada um dos dez trens (para a parte em que o alvo, por exemplo, semana 7, n√£o devemos usar as informa√ß√µes para os dias 8 e 9).  Considerando tabelas adicionais, foram recrutados cerca de 300 sinais.  Como eu j√° disse, geramos 500k triplos √∫nicos e tomamos as √∫ltimas 10 semanas como metas, portanto, a tabela de treinamento "alta" era de 500k * 10 = 5kk linhas. <br><br>  Mais algumas confiss√µes foram descritas na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">decis√£o do segundo lugar</a> .  Os caras constru√≠ram uma tabela de usu√°rio / papel, em que em cada c√©lula havia uma unidade se o usu√°rio estivesse interessado neste trabalho e zero caso contr√°rio.  Ao calcular a dist√¢ncia de cosseno entre usu√°rios nesta tabela, voc√™ pode obter a converg√™ncia de usu√°rios entre si.  Se voc√™ aplicar o PCA √† tabela de similaridade resultante, obter√° um conjunto de recursos que caracterizam o usu√°rio de alguma forma. <br><br><h2>  Modelos ou brigar por mil√©simos </h2><br>  Vale a pena notar que por quase tr√™s semanas ningu√©m conseguiu superar a linha de base do BNP, que tinha uma velocidade de 0,794 (ROC AUC) na tabela de classifica√ß√£o, e isso apesar do fato de que a decis√£o de ‚Äúsimplesmente contar o n√∫mero de vezes que o casal se conheceu antes‚Äù deu 0,71 na tabela de classifica√ß√£o, e alguns os participantes receberam todos os 0,74 sem o uso de aprendizado de m√°quina. <br><br>  Al√©m disso, no aprendizado da m√°quina, no √∫ltimo dia da competi√ß√£o (que coincidentemente coincidiu com o final da sess√£o), decidimos parar <s>se voc√™ entende o que quero dizer</s> e fazer uma grande mistura de modelos diferentes treinados em diferentes subconjuntos de sinais com diferentes n√∫meros de semanas em Train.  Como eu j√° disse, nossa amostra de treinamento consistiu em 1.5k linhas, com uma meta entre elas cerca de 150k.  O tamanho do teste foi de 400k, enquanto o n√∫mero estimado de unidades foi de 20k (em m√©dia, de fato, existem tantos triplos √∫nicos).  Ou seja, a propor√ß√£o de unidades no teste foi significativamente maior do que no trem.  Portanto, em todos os nossos modelos, ajustamos o par√¢metro scale_pos_weight, que atribui o peso √†s classes.  Mais informa√ß√µes sobre esse par√¢metro podem ser encontradas na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">an√°lise da</a> melhor solu√ß√£o de um dos DataScienceGame do ano passado.  A matriz de correla√ß√£o das previs√µes de nossos modelos √© mostrada na figura: <br><br><img src="https://habrastorage.org/webt/ep/cs/7b/epcs7bnwwfvlibcusbo19h_imqc.png" alt="imagem"><br><br>  Como voc√™ pode ver, t√≠nhamos muitos modelos diferentes, o que nos permitiu obter 0,80204 de velocidade na tabela de classifica√ß√£o. <br><br><h2>  Por que n√£o vamos √† Fran√ßa para a fase final </h2><br>  Como resultado, mostramos um bom resultado e ocupamos o terceiro lugar no ranking da tabela de classifica√ß√£o.  Mas os organizadores estabelecem as seguintes regras para a sele√ß√£o dos finalistas: <br><br><ol><li>  N√£o mais que 20 melhores equipes </li><li>  N√£o mais do que 5 melhores times do pa√≠s </li><li>  N√£o mais que 1 equipe de uma institui√ß√£o educacional </li></ol><br>  E tudo ficaria bem se outra equipe do Instituto de F√≠sica e Tecnologia de Moscou, com a velocidade de 0,80272, n√£o estivesse em segundo lugar.  Ou seja, estamos apenas 0,00068 atrasados.  √â uma pena, mas n√£o h√° nada a ser feito.  Provavelmente, os organizadores fizeram essas regras para que as pessoas de uma universidade n√£o se ajudassem de maneira alguma, mas, no nosso caso, n√£o sab√≠amos nada sobre a equipe vizinha e n√£o a contatamos de forma alguma. <br><br><h2>  Sum√°rio </h2><br>  Este ano, em setembro, em Paris, cinco equipes da R√∫ssia, uma da Ucr√¢nia e duas da Alemanha e Finl√¢ndia, compostas por estudantes de l√≠ngua russa, competir√£o pelo primeiro lugar.  Um total de 8 equipes da ru-community, que mais uma vez comprovam o dom√≠nio do ru-segmento de data data.  E estou sendo <s>transferido para Sharaga,</s> treino e trabalho comigo mesmo, para que no pr√≥ximo ano ainda possa superar a fase de qualifica√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416817/">https://habr.com/ru/post/pt416817/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416805/index.html">Como passar um tempo em uma confer√™ncia de neg√≥cios para um bom uso? Dicas do ISPsystem bizdedev</a></li>
<li><a href="../pt416807/index.html">Jeffrey Richter chega √† R√∫ssia: an√∫ncio da confer√™ncia DotNext 2018 em Moscou</a></li>
<li><a href="../pt416809/index.html">Modelos de snooker Elo e EloBet</a></li>
<li><a href="../pt416813/index.html">Quando 2 x 3 = 2 ou mais uma vez sobre virtualiza√ß√£o de dados</a></li>
<li><a href="../pt416815/index.html">Como paramos de passar uma semana emitindo um stand-dev</a></li>
<li><a href="../pt416819/index.html">Adeus, microsservi√ßos: de cem crian√ßas problem√°ticas a uma estrela</a></li>
<li><a href="../pt416821/index.html">Como o JS funciona: comunica√ß√µes WebRTC e P2P</a></li>
<li><a href="../pt416823/index.html">Sangue, suor e pixels: o que √© o livro de Jason Schreier</a></li>
<li><a href="../pt416825/index.html">Como N√ÉO ser um desenvolvedor med√≠ocre</a></li>
<li><a href="../pt416827/index.html">Contentores para adultos (parte 02): um guia pr√°tico de terminologia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>