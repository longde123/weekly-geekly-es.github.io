<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüíº üöπ üôÜüèø Recomenda√ß√µes em Okko: como ganhar centenas de milh√µes multiplicando duas matrizes üç¥ üïµüèª üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Voc√™ est√° familiarizado com uma situa√ß√£o em que passa muito tempo escolhendo um filme compar√°vel ao tempo em que o assistiu? Para os usu√°rios de cinem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recomenda√ß√µes em Okko: como ganhar centenas de milh√µes multiplicando duas matrizes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/454224/"><p><img src="https://habrastorage.org/webt/lz/br/1e/lzbr1ep8ur0j8t_guasvydsyob8.jpeg" alt="Rekko - personalizadas personalizadas no cinema online Okko"></p><br><p>  Voc√™ est√° familiarizado com uma situa√ß√£o em que passa muito tempo escolhendo um filme compar√°vel ao tempo em que o assistiu?  Para os usu√°rios de cinemas on-line, esse √© um problema comum e, para os pr√≥prios cinemas - lucros perdidos. </p><br><p>  Felizmente, temos o Rekko - um sistema de recomenda√ß√µes pessoais que ajuda com sucesso os usu√°rios de Okko h√° um ano a escolher filmes e s√©ries de mais de dez mil unidades de conte√∫do.  No artigo, mostrarei como est√° organizado do ponto de vista algor√≠tmico e t√©cnico, como abordamos seu desenvolvimento e como avaliamos os resultados.  Bem, tamb√©m vou falar sobre os resultados do teste A / B anual. </p><a name="habracut"></a><br><p>  Primeiro, um pouco de hist√≥ria.  Okko come√ßou sua exist√™ncia em 2011 como parte de Iota, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">come√ßando</a> com o nome Yota Play. </p><br><p><img src="https://habrastorage.org/webt/mv/a1/56/mva156eoduu0n4mxwzndqw8okia.jpeg" alt="Interface antiga do Yota Play"></p><br><div class="spoiler">  <b class="spoiler_title">J√° em 2011, os usu√°rios aceitaram com entusiasmo a ideia de assistir a um filme legalmente na Internet</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/x9/qt/lw/x9qtlwkwdtshpzms52bk2_fcsem.png" alt="Registros de usu√°rios sobre o custo do conte√∫do em um cinema on-line"></p></div></div><br><p>  O Yota Play era um servi√ßo exclusivo para a √©poca: ele se integrava estreitamente √†s redes sociais e usava informa√ß√µes sobre filmes vistos e classificados por amigos em v√°rias partes do servi√ßo, incluindo recomenda√ß√µes. </p><br><p><img src="https://habrastorage.org/webt/tg/es/vx/tgesvx1rincasogqygiajdlbkbc.jpeg" alt="Recomenda√ß√µes sociais sobre o Yota Play"></p><br><p>  Em 2012, foi decidido complementar as recomenda√ß√µes sociais com as algor√≠tmicas.  Foi assim que o "Oracle" apareceu - o primeiro sistema de recomenda√ß√£o do cinema online Okko.  Aqui est√£o alguns trechos de seu documento de design: </p><br><blockquote>  Uma abordagem semelhante foi usada no sistema implementado de recomenda√ß√µes pessoais.  A escala de n√≠veis √© usada do ‚Äúnada‚Äù (vazio, aus√™ncia) ao ‚Äútudo‚Äù (completamente, no m√°ximo).  No intervalo [127 .. + 127] 0 - √© o meio ou "norma".  Nesta escala, tamb√©m s√£o avaliados o grau de simpatia pelo personagem principal e o pre√ßo subjetivo do produto e o grau de cor "vermelha".  Por exemplo, o tamanho do universo √© estimado em +127 (na escala de dimens√µes) e a escurid√£o √© estimada em 127 (na escala de intensidade da luz). <br><br>  Ao fazer recomenda√ß√µes, √© importante n√£o apenas os antecedentes, mas tamb√©m a natureza do usu√°rio em particular.  O perfil pessoal tamb√©m cont√©m quatro escalas de tipos de caracteres (de acordo com K. Leonhard - demonstrativo, pedante, travado, empolgado). <br><br>  Os limites fisiol√≥gicos do c√©rebro n√£o dependem das propriedades do car√°ter de uma pessoa e de qu√£o amig√°vel e soci√°vel ele √©.  Segundo o professor, existem restri√ß√µes no neoc√≥rtex, o departamento respons√°vel por pensamentos e fala conscientes.  Essa restri√ß√£o tamb√©m √© levada em considera√ß√£o no sistema implementado, especialmente no desenvolvimento de recomenda√ß√µes para um tipo de car√°ter pedante e na forma√ß√£o de uma amostra desses usu√°rios entre as conex√µes sociais. </blockquote><p><img src="https://habrastorage.org/webt/2m/uu/lx/2muulx2mhqmdcnpife9rzqvosr8.jpeg" alt="Filmado do filme &quot;Medo e √≥dio em Las Vegas&quot;"></p><br><p>  Como voc√™ j√° entendeu, os tempos eram selvagens, os limites fisiol√≥gicos do c√©rebro n√£o se limitavam a nada e o pr√≥prio neoc√≥rtex com overclock podia gerar recomenda√ß√µes pessoais √† velocidade da luz.  Portanto, o modelo foi decidido entrar imediatamente em produ√ß√£o. </p><br><p>  Tanto quanto se pode julgar pelos artefatos sobreviventes da civiliza√ß√£o antiga, "Oracle" era uma mistura selvagem de algoritmos de filtragem colaborativa, temperados generosamente com as regras de neg√≥cios. </p><br><p><img src="https://habrastorage.org/webt/0o/no/pg/0onopgsv10ay9p1gghbbkuy-bsq.jpeg" alt="Arquitetura &quot;Oracle&quot;"></p><br><p>  Em meados de 2013, todos come√ßaram a desistir um pouco e finalmente foi decidido verificar a qualidade da m√°quina de recomenda√ß√£o.  Para fazer isso, um editor especialmente treinado preencheu as se√ß√µes principais do aplicativo e o teste A / B foi lan√ßado: metade dos usu√°rios viu a sa√≠da do algoritmo, metade - a escolha do editor. </p><br><p>  √â agora que estamos lendo artigos sobre as pr√≥ximas vit√≥rias da intelig√™ncia artificial e, horrorizados, imaginamos o dia em que ele perder√° nosso trabalho.  Ent√£o, em 2013, a situa√ß√£o era diferente: uma pessoa derrotou heroicamente o carro, criando ainda mais empregos no departamento de conte√∫do.  O Oracle foi desligado e nunca foi ligado novamente.  Logo, todas as fichas sociais desapareceram e o Yota Play se transformou em Okko. </p><br><p><img src="https://habrastorage.org/webt/zg/iy/si/zgiysix9gjqhvyvlzxxhbtkpjeo.jpeg" alt="A interface do cinema online Okko imediatamente ap√≥s renomear"></p><br><p>  O per√≠odo de 2013 a 2016 foi marcado pelo ‚Äúinverno‚Äù da intelig√™ncia artificial e pelo regime totalit√°rio do departamento de conte√∫do: n√£o houve recomenda√ß√µes pessoais no servi√ßo. </p><br><p>  Em meados de 2017, ficou claro que voc√™ n√£o pode mais viver assim.  Os sucessos da Netflix eram bem conhecidos de todos e todo o setor estava se movendo rapidamente para a personaliza√ß√£o.  Os usu√°rios n√£o estavam mais interessados ‚Äã‚Äãem servi√ßos est√°ticos "burros", eles j√° estavam come√ßando a se acostumar com interfaces "inteligentes", entendendo-os perfeitamente e prevendo todos os seus desejos. </p><br><p>  Como primeira itera√ß√£o, decidimos nos integrar com dois grandes fornecedores russos de recomenda√ß√µes.  Uma vez por dia, os dois servi√ßos pegavam os dados necess√°rios de Okko, carregavam suas caixas pretas em servidores distantes e carregavam os resultados. </p><br><p>  De acordo com os resultados do teste A / B de seis meses, n√£o foram encontradas diferen√ßas estatisticamente significativas nos grupos controle e teste. </p><br><p>  No final deste teste A / B, vim para Okko para come√ßar a tornar o servi√ßo verdadeiramente pessoal com o chefe de an√°lise, Mikhail Alekseev ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">malekseev</a> ).  Menos de um ano depois, Danil Kazakov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">xaph</a> ) se juntou a n√≥s, finalmente formando a equipe atual. </p><br><h2 id="obschie-soobrazheniya">  Considera√ß√µes gerais </h2><br><p>  Quando um problema de neg√≥cios que h√° muito tempo √© estudado pela comunidade mundial surge √† sua frente, o que, al√©m disso, precisa ser resolvido rapidamente, √© tentador tomar a primeira solu√ß√£o popular de rede neural profunda que √© empurrada para ele, enfiar os dados nela com uma p√°, empurr√°-la e jog√°-la no produto. </p><br><p><img src="https://habrastorage.org/webt/wc/yk/q1/wcykq1ofa4dbrgtlxzgwvnwnrj8.png" alt="Hist√≥ria em quadrinhos de xkcd.com sobre aprendizado de m√°quina"></p><br><p>  O principal √© n√£o sucumbir a essa tenta√ß√£o.  A tarefa da comunidade cient√≠fica - atingir velocidade m√°xima em conjuntos de dados podres e sint√©ticos - geralmente n√£o coincide com a tarefa comercial - ganhar mais dinheiro, gastando menos recursos. </p><br><p><img src="https://habrastorage.org/webt/kz/7j/lv/kz7jlvh1g1-kyj_aivbafyjcei4.png"></p><br><p>  N√£o, isso n√£o significa que voc√™ n√£o precisa de redes recorrentes e pode arrecadar bilh√µes usando o m√©todo k vizinhos mais pr√≥ximos.  Pode acontecer que, nos seus dados, a decomposi√ß√£o cl√°ssica da matriz permita que voc√™ ganhe 100 milh√µes adicionais condicionais por ano e redes recorrentes - 105 milh√µes por ano.  Ao mesmo tempo, a manuten√ß√£o de um rack de servidores com placas de v√≠deo para essas mesmas redes custar√° 10 milh√µes por ano e levar√° v√°rios meses extras para ser desenvolvida e implementada, e a simples integra√ß√£o de uma decomposi√ß√£o de matriz pronta em outra se√ß√£o da lista de servi√ßos e mala direta exigir√° um m√™s de melhorias e dar√° outros 100 milh√µes condicionais por ano. </p><br><p>  Portanto, √© importante come√ßar com o b√°sico - m√©todos b√°sicos comprovados - e avan√ßar para abordagens cada vez mais modernas, certifique-se de medir e prever que efeito cada novo m√©todo ter√° sobre os neg√≥cios, quanto custar√° e quanto permitir√° ganhar. </p><br><p>  Okko pode medir bem.  Literalmente, todo novo recurso, toda inova√ß√£o que passamos por um teste A / B, √© examinada no contexto de uma variedade de grupos de usu√°rios, os efeitos s√£o verificados quanto √† signific√¢ncia estat√≠stica e somente depois que √© tomada a decis√£o de aceitar ou rejeitar a nova funcionalidade. </p><br><p><img src="https://habrastorage.org/webt/a3/qs/52/a3qs52_u3h315fc3uilbjcfue6y.jpeg"></p><br><p>  O painel atual da Rekko, por exemplo, compara os grupos de controle e teste para mais de 50 m√©tricas, incluindo receita, tempo gasto no servi√ßo, tempo para selecionar um filme, n√∫mero de visualiza√ß√µes por assinatura, convers√£o para compra e renova√ß√£o autom√°tica e muitas outras.  E sim, ainda mantemos um pequeno grupo de usu√°rios que nunca receberam recomenda√ß√µes personalizadas (desculpe). </p><br><p><img src="https://habrastorage.org/webt/ji/wk/wa/jiwkwartjggsztf_2tnsv1yfezc.png"></p><br><h2 id="o-rekomendatelnyh-sistemah">  Sobre sistemas de recomenda√ß√£o </h2><br><p>  Para come√ßar, uma pequena introdu√ß√£o aos sistemas de recomenda√ß√£o. </p><br><p>  O objetivo do sistema de recomenda√ß√£o √© que, para cada usu√°rio <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>m</mi><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.817ex" height="2.057ex" viewBox="0 -780.1 2935 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="1289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-55" x="2167" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>m</mi><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> u \ em U </script>  em sua hist√≥ria de interagir com elementos <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.752ex" height="2.057ex" viewBox="0 -780.1 2046 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="1541" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> i \ in I </script>  para construir uma rela√ß√£o de ordem no conjunto de todos os elementos.  Isso significa o seguinte: independentemente dos dois elementos arbitr√°rios que usamos, sempre podemos dizer qual √© o mais prefer√≠vel para o usu√°rio e qual √© o menor. </p><br><p><img src="https://habrastorage.org/webt/l5/er/eb/l5erebrzv_nfgsliqcvwsgnms4u.jpeg" alt="Ilustra√ß√£o da rela√ß√£o de ordem em muitos filmes"></p><br><p>  Essa tarefa bastante geral pode ser reduzida para uma mais simples: mapear elementos para um conjunto no qual uma rela√ß√£o de ordem j√° est√° definida.  Por exemplo, em um conjunto de n√∫meros reais.  Nesse caso, √© necess√°rio que cada usu√°rio e cada elemento consiga prever um certo valor - quanto esse usu√°rio prefere esse elemento. </p><br><p><img src="https://habrastorage.org/webt/jf/jq/ur/jfjqur-h18fc3rzmphqaqwcnpoi.jpeg" alt="Ilustra√ß√£o do mapeamento de muitos filmes para muitos n√∫meros reais"></p><br><p>  Tendo uma rela√ß√£o de pedidos em nossos elementos, somos capazes de resolver muitos problemas de neg√≥cios, por exemplo, escolher entre todos os elementos N os mais relevantes para o usu√°rio ou classificar os resultados da pesquisa de acordo com suas prefer√™ncias. </p><br><p>  Idealmente, precisamos de toda uma fam√≠lia de relacionamentos de ordem sens√≠veis ao contexto.  Se o usu√°rio inseriu a cole√ß√£o "A√ß√£o", ele provavelmente preferir√° o filme "Destruidor" ao filme "Oscar", mas na cole√ß√£o "Filmes com Sylvester Stallone", a prefer√™ncia pode muito bem ser o oposto.  Exemplos semelhantes podem ser dados para o dia da semana, hora do dia ou dispositivo a partir do qual o usu√°rio entrou no servi√ßo. </p><br><p><img src="https://habrastorage.org/webt/-_/o4/qj/-_o4qjhy9azdbrp4plydn7yjkya.jpeg" alt="Ilustra√ß√£o do mapeamento de v√°rios filmes para v√°rios n√∫meros reais, levando em considera√ß√£o o contexto"></p><br><p>  Tradicionalmente, todos os m√©todos para construir recomenda√ß√µes pessoais s√£o divididos em tr√™s grandes grupos: filtragem colaborativa (CF), modelos de conte√∫do (modelos de conte√∫do, CM) e modelos h√≠bridos que combinam as duas primeiras abordagens. </p><br><p>  Os m√©todos de filtragem colaborativa usam informa√ß√µes sobre as intera√ß√µes de todos os usu√°rios e todos os elementos.  Essas informa√ß√µes, como regra, s√£o apresentadas na forma de uma matriz esparsa, em que as linhas correspondem aos usu√°rios, as colunas aos elementos e o usu√°rio e o elemento cont√™m o valor que caracteriza a intera√ß√£o entre eles ou uma lacuna se n√£o houver essa intera√ß√£o.  A tarefa de construir uma rela√ß√£o de ordem aqui se reduz √† tarefa de preencher os elementos ausentes da matriz. </p><br><p><img src="https://habrastorage.org/webt/_h/m3/7j/_hm37jb5xe7ddcdyg1nanl3fsbk.jpeg" alt="Ilustra√ß√£o da matriz de intera√ß√£o para m√©todos de filtragem colaborativa"></p><br><p>  Esses m√©todos, como regra, s√£o f√°ceis de entender e implementar, r√°pidos, mas n√£o mostram o melhor resultado. </p><br><p>  Modelos de conte√∫do - m√©todos arbitr√°rios de aprendizado de m√°quina para resolver problemas de classifica√ß√£o ou regress√£o, parametrizados por um determinado conjunto de par√¢metros <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.912ex" height="2.057ex" viewBox="0 -780.1 2545.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="2016" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ theta </script>  .  Na entrada, eles aceitam os atributos do usu√°rio e os atributos do elemento, e a sa√≠da √© o grau de relev√¢ncia do elemento fornecido para esse usu√°rio.  Esses modelos n√£o s√£o ensinados sobre as intera√ß√µes de todos os usu√°rios e todos os elementos, como m√©todos de filtragem colaborativa, mas apenas sobre precedentes individuais. </p><br><p><img src="https://habrastorage.org/webt/lx/lp/pd/lxlppd-mzqmhiy7yidyly3jeclu.jpeg" alt="Ilustra√ß√£o do modelo de conte√∫do"></p><br><p>  Esses modelos, em regra, s√£o muito mais precisos que os m√©todos de filtragem colaborativa, mas s√£o muito mais lentos.  Imagine se tivermos uma fun√ß√£o de alguma forma geral que aceite sinais de usu√°rios e elementos como entrada, ela dever√° ser chamada para cada par <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi><mo>,</mo><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.685ex" height="2.66ex" viewBox="0 -832 7614.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="2142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="2587" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="3755" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-55" x="4355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="5123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="5568" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="6164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="6509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="7110" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>,</mo><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi><mo>,</mo><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> (u, i), u \ in U, i \ in I </script>  .  No caso de mil usu√°rios e dez mil elementos, esse √© um milh√£o de chamadas. </p><br><p>  Os modelos h√≠bridos combinam os pontos fortes de ambas as abordagens, oferecendo recomenda√ß√µes de qualidade em um per√≠odo de tempo razo√°vel. </p><br><p>  A abordagem h√≠brida mais popular atualmente √© uma arquitetura de duas camadas, em que o modelo de filtragem colaborativa seleciona um pequeno n√∫mero (100 - 1000) de candidatos de todos os elementos poss√≠veis, que s√£o classificados por um modelo de conte√∫do muito mais poderoso.  √Äs vezes, pode haver v√°rios est√°gios de sele√ß√£o de candidatos e um modelo cada vez mais complexo √© usado em cada novo n√≠vel. </p><br><p><img src="https://habrastorage.org/webt/gg/mm/aj/ggmmaj0ypd3aioq8uqwg985w_uu.jpeg" alt="Ilustra√ß√£o da arquitetura em duas camadas"></p><br><p>  Essa arquitetura tem muitas vantagens: </p><br><ol><li>  As partes colaborativas e de conte√∫do n√£o est√£o interconectadas e podem ser treinadas separadamente com diferentes frequ√™ncias; </li><li>  A qualidade √© sempre melhor do que a de um modelo colaborativo separadamente; </li><li>  A velocidade √© muito maior que a do modelo de conte√∫do separadamente; </li><li>  "Gr√°tis", obtemos vetores de um modelo colaborativo, que pode ser usado para resolver problemas relacionados. </li></ol><br><p>  Se falamos de tecnologias espec√≠ficas, existem muitas combina√ß√µes poss√≠veis. </p><br><p>  Como parte colaborativa, voc√™ pode levar assinaturas de usu√°rios, conte√∫do popular, conte√∫do popular entre os amigos do usu√°rio, aplicar fatora√ß√£o de matriz ou tensor, treinar DSSM ou qualquer outro m√©todo com previs√£o bastante r√°pida. </p><br><p>  Como modelo de conte√∫do, qualquer abordagem pode ser usada em geral, da regress√£o linear √†s grades profundas. </p><br><p>  No Okko, atualmente estamos focando em uma combina√ß√£o de fatora√ß√£o de matriz com perda de WARP e aumento de gradiente sobre as √°rvores, que discutirei agora em detalhes. </p><br><h2 id="pervyy-etap-otbor-kandidatov">  Etapa um: sele√ß√£o de candidatos </h2><br><p>  Acho que n√£o estou mentindo se disser que os algoritmos de fatora√ß√£o de matriz s√£o de longe os m√©todos mais populares de filtragem colaborativa.  A ess√™ncia do m√©todo √© clara a partir do nome: estamos tentando apresentar a matriz j√° mencionada de intera√ß√µes do usu√°rio com o conte√∫do pelo produto de duas matrizes de classifica√ß√£o inferior, uma das quais ser√° uma ‚Äúmatriz do usu√°rio‚Äù e a outra uma ‚Äúmatriz de elementos‚Äù.  Com essa decomposi√ß√£o, podemos restaurar a matriz original juntamente com todos os valores ausentes. </p><br><p><img src="https://habrastorage.org/webt/rn/_t/fv/rn_tfvt7uh_z56ojjyiqt-zpmky.jpeg" alt="Ilustra√ß√£o de decomposi√ß√£o de matriz"></p><br><p>  Nesse caso, √© claro, somos livres para escolher um crit√©rio para a similaridade das matrizes dispon√≠veis e restauradas.  O crit√©rio mais simples √© o desvio padr√£o. </p><br><p>  Vamos <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> p_u </script>  - linha da matriz do usu√°rio correspondente ao usu√°rio <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>m</mi><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.817ex" height="2.057ex" viewBox="0 -780.1 2935 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="1289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-55" x="2167" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>m</mi><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> u \ em U </script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> q_i </script>  - coluna da matriz do elemento correspondente ao elemento <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.752ex" height="2.057ex" viewBox="0 -780.1 2046 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="1541" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> i \ in I </script>  .  Ent√£o, ao multiplicar matrizes, seu produto <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.15ex" height="2.419ex" viewBox="0 -780.1 8245.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="2159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="2457" y="0"></use><g transform="translate(2924,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="3932" y="0"></use><g transform="translate(4377,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="5418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="5869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="6399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="6999" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="7480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="7778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> \ langle p_u, q_i \ rangle </script>  significar√° a magnitude da intera√ß√£o pretendida entre o usu√°rio especificado e o elemento.  Agora calculando o desvio padr√£o entre essa quantidade e o valor conhecido a priori da intera√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.789ex" height="1.817ex" viewBox="0 -520.7 1200.6 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="572" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-10"> r_ {ui} </script>  para todos os pares de usu√°rios e elementos em intera√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>m</mi><mi>T</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.316ex" height="2.66ex" viewBox="0 -832 4441.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="2392" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="2858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-54" x="3737" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>m</mi><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-11"> (u, i) \ em T </script>  , obtemos uma fun√ß√£o de perda que pode ser minimizada. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="63.315ex" height="3.383ex" viewBox="0 -987.6 27260.7 1456.5" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="2329" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="2674" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-54" x="3275" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="15358" y="0"></use><g transform="translate(15748,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="17171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="18422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="18720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="19250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="19850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="20331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="20629" y="0"></use><g transform="translate(21096,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="22104" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="23590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="24041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="24571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="25171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="25652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="25950" y="0"></use><g transform="translate(26417,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {(u, i) \ in T} (r_ {ui} - \ langle p_u, q_i \ rangle) ^ 2 </script></p><br><p>  Como regra, a regulariza√ß√£o ainda √© adicionada a ela. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="121.977ex" height="3.383ex" viewBox="0 -987.6 52517.7 1456.5" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="2329" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="2674" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-54" x="3275" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="15358" y="0"></use><g transform="translate(15748,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="17171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="18422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="18720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="19250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="19850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="20331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="20629" y="0"></use><g transform="translate(21096,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="22104" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="23590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="24041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="24571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="25171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="25652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="25950" y="0"></use><g transform="translate(26417,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2B" x="27482" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="28733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="29032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="29561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-62" x="30440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-64" x="30869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="31393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="31922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="32562" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="33031" y="0"></use><g transform="translate(33604,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="35237" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-56" x="35535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="36305" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="36771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="37223" y="0"></use><g transform="translate(37584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="38843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-56" x="39294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="40064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="40530" y="0"></use><g transform="translate(40982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2B" x="42019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="43270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="43740" y="0"></use><g transform="translate(44312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="45785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-56" x="46083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="46853" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="47319" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="47771" y="0"></use><g transform="translate(48132,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="49173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-56" x="49625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="50394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="50861" y="0"></use><g transform="translate(51312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="52128" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {(u, i) \ in T} (r_ {ui} - \ langle p_u, q_i \ rangle) ^ 2 + \ lambda (\ sum_u \ lVert p_u \ rVert ^ 2 + \ sum_i \ lVert q_i \ rVert ^ 2) </script></p><br><p>  Tal problema n√£o √© convexo e NP-complexo.  No entanto, √© f√°cil perceber que, ao fixar uma das matrizes, a tarefa se transforma em regress√£o linear em rela√ß√£o √† segunda matriz, o que significa que podemos procurar uma solu√ß√£o iterativamente, congelando alternadamente a matriz do usu√°rio ou a matriz de elementos.  Essa abordagem √© chamada de m√≠nimos quadrados alternados (ALS). </p><br><p><img src="https://habrastorage.org/webt/pj/fd/-o/pjfd-owy8_ujaucnfd1pc4cilbc.jpeg"></p><br><p>  A principal vantagem do ALS √© a velocidade e a capacidade de paralelizar facilmente.  Por isso, ele √© t√£o amado em Yandex.Zen e Vkontakte, onde usu√°rios e elementos somam dezenas de milh√µes. </p><br><p>  No entanto, se estamos falando sobre a quantidade de dados que cabe em uma m√°quina, o ALS n√£o resiste √†s cr√≠ticas.  Seu principal problema √© que ele otimiza a fun√ß√£o de perda incorreta.  Lembre-se da formula√ß√£o da tarefa de construir um sistema de recomenda√ß√£o.  Queremos obter a rela√ß√£o da ordem no conjunto e otimizar o desvio padr√£o. </p><br><p>  √â f√°cil dar um exemplo de matriz para o qual o desvio padr√£o ser√° m√≠nimo, mas a ordem dos elementos √© irremediavelmente destru√≠da. </p><br><p>  Vamos ver o que podemos fazer sobre isso.  Na cabe√ßa do usu√°rio, todos os elementos com os quais ele interagiu s√£o organizados em alguma ordem.  Por exemplo, ele sabe com certeza que Interstellar √© melhor que Gravity, Gravity e Alien s√£o igualmente bons filmes, e s√£o todos um pouco piores que Terminator.  Ao mesmo tempo, ele tamb√©m experimenta uma certa atitude em rela√ß√£o aos filmes que o usu√°rio ainda n√£o assistiu e o mesmo para todos.  Ele pode acreditar que esses filmes s√£o a priori piores do que aqueles que ele assistiu.  Ou ele pode considerar que, por exemplo, Prometeu √© um filme ruim, e qualquer filme que ele ainda n√£o assistiu ser√° melhor que ele. </p><br><p><img src="https://habrastorage.org/webt/gk/pn/0b/gkpn0byianfyacfeq1byt0cfsd8.jpeg" alt="Ilustra√ß√£o da rela√ß√£o de ordem em muitos filmes na cabe√ßa do usu√°rio"></p><br><p>  Imagine que, de acordo com alguns sinais de comportamento do usu√°rio no servi√ßo, possamos restaurar essa ordem exibindo o elemento com o qual ele interagiu, em um n√∫mero inteiro usando a fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>o</mi><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Z</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.677ex" height="2.057ex" viewBox="0 -780.1 11916.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3A" x="2041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-55" x="2597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="3615" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3976" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="4322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="5200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="5667" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="6136" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="6891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="7252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="7988" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="8866" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="9396" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="9757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-62" x="10334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-62" x="10763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-5A" x="11193" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo>:</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>Z</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-14"> \ rho: U \ times I \ to \ mathbb {Z} </script>  .  Muitos dos filmes com os quais o usu√°rio <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> u </script>  interagiram, denotam como <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="622" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-16"> I_u </script>  .  N√≥s concordamos que <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.488ex" height="2.66ex" viewBox="0 -832 5807.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="3583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="4250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-30" x="5306" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-17"> \ rho (u, j) = 0 </script>  se o usu√°rio n√£o interagiu com o filme <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-18"> j </script>  isso √© <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE3;</mo></mrow><mi>o</mi><mi>e</mi><mi>m</mi><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.371ex" height="2.419ex" viewBox="-11.5 -780.1 4465.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="662" y="0"></use><g transform="translate(1263,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">√£</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="1677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="2163" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="2629" y="0"></use><g transform="translate(3508,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="622" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi><mtext>&nbsp;</mtext><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>√£</mo></mrow><mi>o</mi><mi>e</mi><mi>m</mi><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> j \ n√£o em I_u </script>  .  Portanto, se o usu√°rio considerou o filme ruim, ent√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.332ex" height="2.66ex" viewBox="0 -832 5740.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3C" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-30" x="5239" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-20"> \ rho (u, i) <0 </script>  e se for bom, ent√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.332ex" height="2.66ex" viewBox="0 -832 5740.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="1763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="2153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="2725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3E" x="4183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-30" x="5239" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-21"> \ rho (u, i)> 0 </script>  . </p><br><p><img src="https://habrastorage.org/webt/cm/c1/xb/cmc1xb-_9fpvcdjszrwuu5yg45q.jpeg" alt="Ilustra√ß√£o de uma fun√ß√£o que descreve um valor inteiro da intera√ß√£o usu√°rio-filme"></p><br><p>  Agora podemos entrar no ranking <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo>:</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>o</mi><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.849ex" height="2.057ex" viewBox="0 -780.1 12421.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3A" x="2380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-55" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="3954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="4316" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="4661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="5540" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="6006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="6476" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="7230" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="7592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="8327" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="9206" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="9735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="10097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-62" x="10673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-62" x="11103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-4E" x="11532" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo>:</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>I</mi><mtext>&nbsp;</mtext><mi>t</mi><mi>o</mi><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22"> rank: U \ times I \ to \ mathbb {N} </script>  . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>m</mi><mi>I</mi><mo>:</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msub><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="93.25ex" height="3.021ex" viewBox="0 -832 40149.1 1300.8" role="img" focusable="false" style="vertical-align: -1.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-73" x="5829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="6298" y="0"></use><g transform="translate(6871,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="766" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="1232" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="2111" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3A" x="2615" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="3247" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="3699" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="4275" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="4761" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="5150" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="5723" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="6001" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="6414" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3C" x="6803" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="7935" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-68" x="8387" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="8963" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="9449" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="9838" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="10411" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="10689" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="11035" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="16178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="16539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="17006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="17578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="17940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="18391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="19270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="19774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="20414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="20712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="21242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="21842" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="22323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="22621" y="0"></use><g transform="translate(23088,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="24096" y="0"></use><g transform="translate(24541,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="25582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="26033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="26563" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="27163" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="27644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="27942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3C" x="28687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="29743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2B" x="30466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="31716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="32015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="32544" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="33145" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="33625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="33924" y="0"></use><g transform="translate(34390,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="35399" y="0"></use><g transform="translate(35844,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="36932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="37384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="37913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="38514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="38994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="39293" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="39759" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mtext>&nbsp;</mtext><mi>e</mi><mi>m</mi><mi>I</mi><mo>:</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msub><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&lt;</mo><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> rank (u, i) = \ sum_ {j \ em I: \ rho (u, j) <\ rho (u, i)} \ textrm {I} (\ langle p_u, q_i \ rangle <1 + \ langle p_u, q_j \ rangle) </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.073ex" height="2.66ex" viewBox="0 -832 5198 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="1650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="2012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6D" x="2463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="3342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="3846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="4236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="4808" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-24"> \ textrm {I} (x) </script>  aqui denota a fun√ß√£o do indicador e √© igual √† unidade se <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-25"> x </script>  true e zero caso contr√°rio. </p><br><p>  Vamos parar por um minuto e pensar no que significa essa classifica√ß√£o. </p><br><p>  N√≥s consertamos o usu√°rio <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-26"> u </script>  , este √© um usu√°rio espec√≠fico, qual deles - n√£o estamos interessados.  Assim, seu vetor <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-27"> p_u </script>  ser√° corrigido. </p><br><p>  Pegue agora qualquer filme que ele assistiu, por exemplo, Interestelar.  Na f√≥rmula, isso <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-28"> i </script>  .  Em seguida, encontramos um filme que o usu√°rio considera pior que o Interestelar.  Podemos escolher entre "Atra√ß√£o", "Alien", "Prometeu" ou qualquer filme que ele ainda n√£o tenha assistido. </p><br><p><img src="https://habrastorage.org/webt/qv/mn/gm/qvmngmkgovxbalbbtbpdqjdnmrc.jpeg" alt="Ilustra√ß√£o de desordem"></p><br><p>  Pegue a "Atra√ß√£o".  Na f√≥rmula, isso <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-29"> j </script>  .  ,    ¬´¬ª <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">q_i</script>     ,    ,     ¬´¬ª <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>j</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.947ex" height="2.057ex" viewBox="0 -520.7 838.2 885.9" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>j</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">q_j</script>      .      .     ¬´¬ª,  ¬´¬ª    ,       . </p><br><p>   ,        ,  ¬´¬ª.    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.024ex" height="2.66ex" viewBox="0 -832 2593.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="2204" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">r(u, i)</script>         ,    . </p><br><p>       . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.093ex" height="5.672ex" viewBox="0 -1039.5 10804.1 2442.1" role="img" focusable="false" style="vertical-align: -3.258ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="959" y="0"></use><g transform="translate(2015,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJSZ2-2211" x="778" y="0"></use><g transform="translate(0,-1102)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2208" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-55" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="2007" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="2286" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2208" x="2631" y="0"></use><g transform="translate(2332,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="622" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3D5" x="5183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="5779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="6169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="6620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="7150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6B" x="7750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="8272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="8661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="9234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="10025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="10414" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><munder><mo>‚àë</mo><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mo>‚àà</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>‚àà</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>œï</mi><mo stretchy="false">(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-33">L = \sum_{u \in U, i \in I_u} \phi (rank(u, i))</script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo>:</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>N</mi></mrow><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.293ex" height="2.419ex" viewBox="0 -780.1 4431.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3A" x="874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJAMS-4E" x="1430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2192" x="2430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJAMS-52" x="3709" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œï</mi><mo>:</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">N</mi></mrow><mo stretchy="false">‚Üí</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-34">\phi: \mathbb{N} \to \mathbb{R}</script> ‚Äî  ,      .     ,        .     ,  ,          . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.364ex" height="6.877ex" viewBox="0 -1662 5753.7 2960.8" role="img" focusable="false" style="vertical-align: -3.017ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="2225" y="0"></use><g transform="translate(3282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="735" y="1627"></use></g><g transform="translate(4726,0)"><g transform="translate(286,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="137" y="-686"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>œï</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>‚àë</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-35">\phi(x) = \sum_{i=1}^x \frac{1}{i}</script></p><br><p>    .       ? , ,        ,              ,           . </p><br><p>     :       .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">j</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.633ex" height="2.66ex" viewBox="-38.5 -832 6730.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="1910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="2323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3C" x="2990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="4046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="4939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="5512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="6302" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-37">p(u, j) < p(u, i)</script>     ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.255ex" height="2.78ex" viewBox="0 -832 9151.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-27E8" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1397" y="0"></use><g transform="translate(1842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-27E9" x="2633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3C" x="3301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="4357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2B" x="5080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-27E8" x="6080" y="0"></use><g transform="translate(6470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="7478" y="0"></use><g transform="translate(7923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-27E9" x="8761" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">‚ü®</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">‚ü©</mo><mo>&lt;</mo><mn>1</mn><mo>+</mo><mo fence="false" stretchy="false">‚ü®</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence="false" stretchy="false">‚ü©</mo></math></span></span><script type="math/tex" id="MathJax-Element-38">\langle p_u , q_i \rangle < 1 + \langle p_u , q_j \rangle</script>  .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.066ex" height="2.178ex" viewBox="0 -780.1 2611.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="2111" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>‚àí</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-39">N - 1</script>      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-40"> N </script> ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">i</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2248;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230A;</mo><mfrac><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mo>&amp;#x2212;</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230B;</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.327ex" height="5.431ex" viewBox="0 -1558.2 9613.2 2338.3" role="img" focusable="false" style="vertical-align: -1.812ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2248" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-230A" x="5579" y="0"></use><g transform="translate(6023,0)"><g transform="translate(120,0)"><rect stroke="none" width="2904" height="60" x="0" y="220"></rect><g transform="translate(60,719)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-7C" x="783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="2284" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-4E" x="1008" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-230B" x="9168" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>‚âà</mo><mo fence="false" stretchy="false">‚åä</mo><mfrac><mrow><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo><mo>‚àí</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence="false" stretchy="false">‚åã</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-42">rank(u, i) \approx \lfloor \frac{\lvert I \rvert - 1}{N} \rfloor</script></p><br><p>  onde <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.465ex" height="2.66ex" viewBox="0 -832 1061.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-7C" x="783" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo></math></span></span><script type="math/tex" id="MathJax-Element-43">\lvert I \rvert</script> ‚Äî   . </p><br><p>   ,   ,         ,   . </p><br><p>     WARP        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WSABIE: Scaling Up To Large Vocabulary Image Annotation</a> .   ,          ,     .          10%. </p><br><p>     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-44">\rho(u, i)</script>  .  Okko       : </p><br><ol><li>  ; </li><li>   ; </li><li>    ( ); </li><li>   ; </li><li>    0  10. </li></ol><br><p>      ,          ,   .       399 ,  ,   .       ,     .      -,        . </p><br><p>  ‚Äî  .      ,  explicit :               ,   .  ,   ,   implicit . </p><br><p>  ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-45">\rho(u, i)</script>    ,     .    .        ,     . </p><br><p><img src="https://habrastorage.org/webt/vm/qy/rx/vmqyrx0t4ts9hnrh6ixb2bc7e3w.png" alt="Exemplos de gr√°ficos de classifica√ß√£o para v√°rios tipos de consumo"></p><br><p>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.091ex" height="2.66ex" viewBox="0 -832 5205.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="3993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-63" x="4772" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mo>‚àí</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">\rho(u, i) = -c</script> ,          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.283ex" height="2.66ex" viewBox="0 -832 4427.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-63" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>œÅ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">\rho(u, i) = c</script> ,  . </p><br><p>     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cython</a> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LightFM</a> . </p><br><h2 id="vtoroy-etap-ranzhirovanie">  :  </h2><br><p><img src="https://habrastorage.org/webt/sf/p3/lm/sfp3lmbozxs5riogkbuwp9yuka8.jpeg"></p><br><p>     ,   top-N   :            .    ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Approximate nearest neighbor algorithm based on navigable small world graphs</a>        . </p><br><p>  , ,    ,    ,        .   ,       -  ,   .      :     ,   . </p><br><p> Esses problemas s√£o evitados pelos modelos de conte√∫do.  Eles s√£o poderosos, expressivos e voc√™ pode colocar quaisquer sinais neles, mas s√£o extremamente lentos.  A solu√ß√£o √© executar o modelo de conte√∫do n√£o em todos os elementos, mas em candidatos obtidos da decomposi√ß√£o da matriz.  Pode haver quantos candidatos voc√™ conseguir processar, mas de prefer√™ncia pelo menos o dobro do que voc√™ mostra aos usu√°rios.  No nosso caso, para os 100 filmes recomendados, a melhor solu√ß√£o foi usar 400 candidatos. </p><br><p><img src="https://habrastorage.org/webt/x8/yk/jg/x8ykjgbsvsfisy1-usfx9lsd7b4.jpeg"></p><br><p>  Os atributos que enviamos ao modelo de conte√∫do podem ser divididos em tr√™s grupos: atributos do usu√°rio, atributos do elemento e sinais de intera√ß√£o.  No total, s√£o obtidos cerca de 50 sinais. </p><br><p>  Como sinais dos usu√°rios, usamos estat√≠sticas agregadas de seu comportamento no servi√ßo, por exemplo: </p><br><ul><li>  Porcentagem de exibi√ß√£o da assinatura </li><li>  distribui√ß√£o de dispositivos a partir dos quais o usu√°rio efetua login no aplicativo, </li><li>  tempo de vida no servi√ßo, </li><li>  etc. </li></ul><br><p>  Para filmes, usamos quase todas as meta-informa√ß√µes dispon√≠veis: g√™nero, ano de lan√ßamento, pa√≠s, ator, diretor, limite de idade etc. As m√©tricas agregadas de neg√≥cios tamb√©m ajudam: porcentagem de visitas ao cart√£o, n√∫mero de visualiza√ß√µes, adi√ß√µes a favoritos, distribui√ß√£o por m√©todos de visualiza√ß√£o, dispositivos etc. </p><br><p>  Sinais de intera√ß√£o incluem rapidez na sele√ß√£o de candidatos e estat√≠sticas agregadas para todas as intera√ß√µes anteriores de usu√°rios e filmes, com a participa√ß√£o dos mesmos atores, diretores e roteiristas do filme em quest√£o. </p><br><p>  A pergunta mais comum que surge quando se trata de classificar candidatos com um modelo de segundo n√≠vel √© como treinar esse modelo.  Somente no caso da fatora√ß√£o matricial, precis√°vamos de dois conjuntos, separados por tempo - treinamento e teste.  No caso de um sistema de dois est√°gios, precisaremos de tr√™s deles - dois de treinamento e um teste. </p><br><p><img src="https://habrastorage.org/webt/8s/21/uq/8s21uqwknfro5hoexboth6n6f2y.png" alt="Ilustra√ß√£o da divis√£o de dados em conjuntos de treinamento e teste para um modelo de dois n√≠veis"></p><br><p>  No primeiro conjunto de treinamento, treinaremos o modelo de primeiro n√≠vel e formaremos candidatos.  Dos candidatos, √© importante excluir os elementos com os quais o usu√°rio interagiu neste conjunto.  Em seguida, veremos com quais candidatos o usu√°rio interagiu no segundo conjunto de treinamento.  N√≥s os chamamos de positivos e os candidatos restantes de negativos.  Este ser√° o nosso conjunto de treinamento para o modelo de conte√∫do. </p><br><p><img src="https://habrastorage.org/webt/zd/dn/zw/zddnzwixuanlugakzjdv8hxe4j8.png" alt="Ilustra√ß√£o da forma√ß√£o de um conjunto de treinamento para um modelo de dois n√≠veis"></p><br><p>  Por que isso funciona?  Primeiramente, treinamos o modelo exatamente nos dados em que ele ser√° usado - a sa√≠da do modelo de primeiro n√≠vel.  Em segundo lugar, dentre todos os poss√≠veis exemplos negativos, tomamos os mais complexos - aqueles que o modelo de primeiro n√≠vel chama de relevantes para o usu√°rio, mas n√£o s√£o. </p><br><p>  O que vem a seguir?  A solu√ß√£o mais simples e mais √≥bvia √© resolver o problema de classifica√ß√£o bin√°ria e classificar os elementos em ordem decrescente de probabilidade como um exemplo positivo.  Mas podemos lembrar novamente a afirma√ß√£o do problema de construir um sistema de recomenda√ß√£o, entender que a classifica√ß√£o bin√°ria n√£o √© o problema que estamos resolvendo e passar novamente ao problema de classifica√ß√£o. </p><br><p>  No XGBoost e no LightGBM, a principal fun√ß√£o de perda para tarefas de classifica√ß√£o √© o LambdaMART.  Se voc√™ n√£o entrar em detalhes, a intui√ß√£o por tr√°s disso √© bastante simples.  Se <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.217ex" height="2.66ex" viewBox="0 -832 2246.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="550" y="0"></use><g transform="translate(940,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="1856" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-48"> f (x_i) </script>  - sa√≠da do modelo, por exemplo <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.129ex" height="1.817ex" viewBox="0 -520.7 916.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-49"> x_i </script>  , ent√£o a probabilidade de o elemento <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-50"> i </script>  ter√° uma classifica√ß√£o mais alta que o elemento <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-51"> j </script>  ser√° igual </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></mrow><mo>.</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.332ex" height="2.78ex" viewBox="0 -832 20379 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="345" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="1556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-50" x="2612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="3364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="3753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="4349" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="4829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="5191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="5603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="6270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-66" x="7577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-72" x="8127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-61" x="8579" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-63" x="9108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="9542" y="0"></use><g transform="translate(10042,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2B" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-65" x="1973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="2439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-70" x="3012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="3515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-66" x="3905" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="4455" y="0"></use><g transform="translate(4845,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="5809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="6421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-66" x="7422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="7972" y="0"></use><g transform="translate(8362,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="9278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="9668" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2E" x="20100" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>‚àí</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-52"> P_ {ij} = P (i \ gt j) = \ frac {1} {1 + \ exp (f (x_j) - f (x_i))}. </script></p><br><p>  A fun√ß√£o de perda pode ser escrita da seguinte maneira. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.584ex" height="2.78ex" viewBox="0 -832 17042.8 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="2015" y="0"></use><g transform="translate(2794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="4261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="5045" y="0"></use><g transform="translate(5526,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="7026" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="8027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="8416" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="9139" y="0"></use><g transform="translate(10140,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="11357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="11997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6F" x="12295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="12781" y="0"></use><g transform="translate(13261,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-2212" x="1112" y="0"></use><g transform="translate(2112,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-29" x="3391" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><mo>‚àí</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>‚àí</mo><mo stretchy="false">(</mo><mn>1</mn><mo>‚àí</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mn>1</mn><mo>‚àí</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-53"> L = - Y_ {ij} \ log {P_ {ij}} - (1 - Y_ {ij}) \ log {(1-P_ {ij})} </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.828ex" height="2.66ex" viewBox="0 -780.1 1217.5 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-54"> Y_ {ij} </script>  aqui est√° a verdadeira probabilidade de classifica√ß√£o.  Vamos defini-lo como 1 se <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.297ex" height="2.298ex" viewBox="0 -728.2 1850 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="1076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="1437" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-55"> i \ gt j </script>  0 se <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.032ex" height="2.419ex" viewBox="0 -780.1 1736 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6C" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-74" x="894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-67" x="1255" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-56"> i \ lt g </script>  e 0,5 no caso <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>=</mo><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.859ex" height="2.298ex" viewBox="0 -728.2 2092.1 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMAIN-3D" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhgg0e03mi0YlNVoldxVXQ8xEOLpLA#MJMATHI-6A" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-57"> i = j </script>  . </p><br><p>  Um modelo de dois n√≠veis oferece um aumento de 50% nas m√©tricas em compara√ß√£o com um modelo de n√≠vel √∫nico.  A fun√ß√£o de perda de classifica√ß√£o adiciona outros 10%. </p><br><h2 id="bonus-pohozhie-filmy">  B√¥nus: filmes relacionados </h2><br><p>  Lembre-se, nas vantagens de nossa abordagem, mencionei os vetores "livres" da fatora√ß√£o matricial que podem ser usados ‚Äã‚Äãpara resolver problemas relacionados?  Ent√£o, uma dessas tarefas - a busca por filmes semelhantes - decidimos. </p><br><p><img src="https://habrastorage.org/webt/pa/zp/bt/pazpbtfnwf1idcvg-qijo5wksac.jpeg" alt="Ilustra√ß√£o de uma pesquisa por filmes semelhantes"></p><br><p>  A solu√ß√£o para a desgra√ßa √© simples: para cada filme, pegamos seu vetor e procuramos os mais pr√≥ximos na dist√¢ncia do cosseno.  Parece bastante adequado aos olhos.  O pr√≥ximo n√≠vel √© adicionar informa√ß√µes meta e usar algoritmos gr√°ficos. </p><br><p><img src="https://habrastorage.org/webt/ng/op/lf/ngoplf1c7oow_rrqxw6_lmujgwo.jpeg" alt="Filmes parecidos com Rekko e com ele"></p><br><h2 id="tehnicheskaya-realizaciya">  Implementa√ß√£o t√©cnica </h2><br><p>  Al√©m da parte algor√≠tmica, quero falar um pouco sobre a implementa√ß√£o.  O Rekko consiste em tr√™s componentes: lynch, rekko-tasks e rekko-service. </p><br><p>  O Lynch roda em uma m√°quina poderosa, acorda periodicamente, prepara dados para o microsservi√ßo e os coloca no S3. </p><br><p>  Os microsservi√ßos Rekko-tasks e rekko-service est√£o localizados no ambiente do produto Okko, junto com todos os outros microsservi√ßos e bancos de dados.  O primeiro deles monitora constantemente o S3 em busca de altera√ß√µes, se houver, faz o download e as coloca em bases de compras.  O segundo microsservi√ßo usa esses resultados calculados para responder em tempo real √†s solicita√ß√µes do usu√°rio e calcular suas recomenda√ß√µes. </p><br><p><img src="https://habrastorage.org/webt/i3/u3/ar/i3u3arrkx8ducuzbryj-efwzxmg.jpeg" alt="Arquitetura de servi√ßo"></p><br><p>  Os microsservi√ßos s√£o escritos em Python usando falcon, gunicorn e gevent e n√£o representam nada de interessante, exceto a l√≥gica de neg√≥cios.  Como todos os outros microsservi√ßos do ambiente do produto Okko, eles s√£o fechados pelo balanceador. </p><br><p>  Lynch √© muito mais interessante. </p><br><p>  O que precisa ser feito para calcular a pr√≥xima parte das recomenda√ß√µes para os usu√°rios?  Pelo menos: </p><br><ol><li>  Baixe novos dados que apareceram desde a √∫ltima recontagem; </li><li>  Processe-os; </li><li>  Fatora√ß√£o da matriz do trem; </li><li>  Criar candidatos </li><li>  Reorganizar candidatos; </li><li>  Aplicar regras de neg√≥cios </li><li>  Descarregar. </li></ol><br><p>  Parece que n√£o parece assustador, voc√™ pode colocar cada parte em uma fun√ß√£o separada e simplesmente cham√°-las por sua vez: </p><br><pre><code class="python hljs">data = extract_data() data = transform_data(data) mf_model = train_mf_model(data) candidates = build_candidates(mf_model) predictions = build_predictions(content_model, candidates) upload_predictions(predictions)</code> </pre> <br><p>  Bem, tudo fez um √≥timo trabalho, discordamos?  Na verdade n√£o.  Mas e se a folha inteira cair em algum lugar?  Bem, por exemplo, devido √† falta de mem√≥ria.  Teremos que reiniciar tudo novamente, mesmo se j√° gastamos algumas horas treinando o modelo e construindo candidatos. </p><br><p>  Bem, ent√£o vamos salvar todos os resultados intermedi√°rios em arquivos e, ap√≥s a queda, verificar quais j√° existem, restaurar o estado e iniciar os c√°lculos no momento certo.  De fato, essa ideia √© ainda pior que a anterior.  Um programa pode ser interrompido no meio da grava√ß√£o em um arquivo e, embora exista, ele estar√° em um estado incorreto.  Na melhor das hip√≥teses, todo o c√°lculo cair√°; na pior das hip√≥teses, terminar√° com o resultado errado. </p><br><p>  Ok, vamos escrever para o arquivo at√¥mico.  E retiramos cada fun√ß√£o em uma entidade separada e indicamos as depend√™ncias entre elas.  O resultado √© uma cadeia de c√°lculos, sendo que cada elemento pode ser executado ou n√£o. </p><br><p><img src="https://habrastorage.org/webt/le/ou/1r/leou1rkpcgl-g9mkkwygytfgwvu.jpeg" alt="Ilustra√ß√£o de tarefas dependentes"></p><br><p>  J√° n√£o √© ruim.  Mas, na realidade, todos os c√°lculos necess√°rios dificilmente ser√£o descritos por uma lista.  A fatora√ß√£o da matriz de aprendizado exigir√° n√£o apenas dados de transa√ß√£o, mas tamb√©m classifica√ß√µes de usu√°rios, os candidatos √† constru√ß√£o exigir√£o uma lista de filmes lembrados para exclu√≠-los, o c√°lculo de filmes semelhantes exigir√° fatora√ß√£o matricial treinada e meta-informa√ß√µes do cat√°logo, e assim por diante.  Nossas tarefas n√£o s√£o mais constru√≠das em uma lista simplesmente conectada, mas em um gr√°fico direcionado sem ciclos (Gr√°fico Ac√≠clico Dirigido, DAG). </p><br><p><img src="https://habrastorage.org/webt/-e/cc/nw/-eccnwex1lkhzeha9qwnk0er6au.jpeg" alt="Ilustra√ß√£o DAG"></p><br><p>  O DAG √© uma organiza√ß√£o de computa√ß√£o extremamente popular.  Existem duas estruturas principais para a constru√ß√£o de um DAG: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Airflow</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Luigi</a> .  N√≥s, em Okko, decidimos o √∫ltimo.  O Luigi √© desenvolvido no Spotify, est√° desenvolvendo-se ativamente, √© completamente escrito em python, √© facilmente extens√≠vel e permite que voc√™ organize c√°lculos com muita flexibilidade. </p><br><p>  Uma tarefa no Luigi √© definida por uma classe que herda do <code>luigi.Task</code> e implementa tr√™s m√©todos necess√°rios: <code>requires</code> , <code>luigi.Task</code> e <code>run</code> .  √â assim que uma tarefa t√≠pica se parece: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># RekkoTask  luigi.Task   class DoSomething(RekkoTask): #   date: datetime.datetime = luigi.DateSecondParameter() #   resources = { 'cores': 4, 'aws': 1, 'memory': 8 } # Namespace     task_namespace = 'Transform' def requires(self): # ,          return { 'data': DownloadData(date=self.date), 'element_mapping': MakeElementMapping(date=self.date) } def output(self): #      #       ,        s3 return luigi.LocalTarget( os.path.join(self.data_root, f'some_output_{self.date}.msg'), format=luigi.format.Nop ) def run(self): #  ,     #      with self.input()['data'].open('r') as f: data = pd.read_csv(f) with self.input()['element_mapping'].open('r') as f: element_mapping = json.load(f) #       result = ... #         Splunk self.log( n_results=len(result) ) #    with self.output().open('w') as f: result.to_msgpack(f)</span></span></code> </pre> <br><p>  Luigi garantir√° que as tarefas sejam conclu√≠das na ordem correta, sem exceder o consumo de recursos dispon√≠veis.  Se as tarefas puderem ser executadas em paralelo, elas ser√£o executadas em paralelo, maximizando a utiliza√ß√£o da CPU e minimizando o tempo geral de execu√ß√£o.  Se alguma tarefa falhar, ele a reiniciar√° v√°rias vezes e, em caso de falha, nos informar√°.  Nesse caso, todas as tarefas que podem ser executadas ser√£o executadas.  Isso significa, por exemplo, que um erro na tarefa de classificar candidatos n√£o impede a contagem e o upload de uma lista de filmes semelhantes. </p><br><p>  Atualmente, o Lynch consiste em 47 tarefas √∫nicas, produzindo cerca de 100 de suas c√≥pias.  Alguns deles est√£o ocupados com o trabalho direto, outros est√£o contando m√©tricas e enviando-os para a nossa ferramenta Splunk BI.  Lynch tamb√©m envia periodicamente estat√≠sticas b√°sicas e relat√≥rios sobre seu trabalho para n√≥s por telegrama.  Ele tamb√©m escreve sobre erros, mas no PM. </p><br><h2 id="monitoring-splity-i-rezultaty">  Monitoramento, divis√£o e resultados </h2><br><p><img src="https://habrastorage.org/webt/lc/3p/5j/lc3p5jberk7xqscaocnrr01bxja.jpeg"></p><br><p>  A primeira regra da Data Science: n√£o conte a ningu√©m sobre sal√°rios na Data Science.  A segunda regra da ci√™ncia de dados: aquilo que n√£o pode ser medido n√£o pode ser melhorado. </p><br><p>  Tentamos acompanhar tudo.  Antes de tudo, √© claro que isso classifica m√©tricas em dados hist√≥ricos.  Eles ajudam, mesmo na fase da pesquisa, a escolher o melhor modelo dentre v√°rios e a escolher hiper par√¢metros. </p><br><p>  Para os modelos que trabalham em produ√ß√£o, tamb√©m consideramos m√©tricas, mas j√° no dia a dia.  Essas m√©tricas s√£o bastante vol√°teis, mas elas podem ser ditas se o modelo de repente, por algum motivo, se degradar.  Quando um novo modelo √© lan√ßado no produto, voc√™ pode deix√°-lo em repouso por uma semana e garantir que as m√©tricas n√£o caiam.  Depois disso, voc√™ pode habilit√°-lo para alguns usu√°rios, executar o teste A / B e monitorar as m√©tricas de neg√≥cios. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/655/c71/0c9/655c710c96fa12b795f4a0457d592b47.png"></p><br><p>  Al√©m disso, consideramos a distribui√ß√£o de recomenda√ß√µes por g√™nero, pa√≠s, ano, tipo etc. Isso nos permite entender a natureza atual das prefer√™ncias do usu√°rio, compar√°-la com dados reais de visualiza√ß√£o e detectar erros nas regras de neg√≥cios. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b0c/494/02a/b0c49402add8febc6b6d667e766f32df.png"></p><br><p>  Tamb√©m √© importante acompanhar as distribui√ß√µes de todas as caracter√≠sticas usadas.  Uma mudan√ßa acentuada neles pode ser causada por um erro na fonte de dados e levar a resultados imprevis√≠veis. </p><br><p>  Mas, √© claro, a coisa mais importante que requer muita aten√ß√£o s√£o as m√©tricas de neg√≥cios.  Como parte do sistema de recomenda√ß√£o, as principais m√©tricas de neg√≥cios para n√≥s s√£o: </p><br><ol><li>  Receita de modelos de consumo transacional e de assinatura (receita TVOD / SVOD); </li><li>  Receita m√©dia por visitante (receita m√©dia por visitante, ARPV); </li><li>  O cheque m√©dio (pre√ßo m√©dio por compra, APPP); </li><li>  M√©dia de compras por usu√°rio (APPU); </li><li>  Convers√£o para compra (CR para compra); </li><li>  Convers√£o para visualizar por assinatura (CR para assistir); </li><li>  Convers√£o durante o per√≠odo de avalia√ß√£o (CR para avalia√ß√£o). </li></ol><br><p>  Ao mesmo tempo, analisamos separadamente as m√©tricas das se√ß√µes ‚ÄúRecomenda√ß√µes‚Äù e ‚ÄúSimilares‚Äù e as m√©tricas de todo o servi√ßo como um todo, a fim de levar em considera√ß√£o o efeito de redistribui√ß√£o e considerar a situa√ß√£o de diferentes √¢ngulos. </p><br><p>  Pode parecer um painel comparando v√°rios modelos: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fd7/fcd/79f/fd7fcd79f0d63925319dc394844b6dc4.jpg"></p><br><p>  Como eu disse no come√ßo, comparamos n√£o apenas modelos entre si, mas tamb√©m um grupo de usu√°rios com recomenda√ß√µes contra um grupo de usu√°rios sem recomenda√ß√µes.  Isso nos permite avaliar o efeito l√≠quido da implementa√ß√£o do Rekko e entender onde estamos no momento e que margem de melhoria ainda permanece.  De acordo com este teste A / B, atualmente temos: </p><br><ul><li>  ARPV + 3,5% </li><li>  ARPV com margem + 5% </li><li>  APPU + 4,3% </li><li>  RC para julgamento + 2,6% </li><li>  CR para assistir + 2,5% </li><li>  APPP -1% </li></ul><br><p>  Os filmes em um cinema online podem ser divididos em dois grupos: novos itens e conte√∫do antigo.  J√° sabemos como vender boas not√≠cias.  O principal objetivo das recomenda√ß√µes pessoais √© obter o conte√∫do antigo relevante para os usu√°rios do cat√°logo.  Isso leva a um aumento no n√∫mero de compras e na subsid√™ncia do cheque m√©dio, uma vez que esse conte√∫do √© naturalmente mais barato.  Mas esse conte√∫do tamb√©m possui uma margem alta, que compensa a subsid√™ncia do cheque e aumenta a receita. </p><br><p>  Conte√∫do de assinatura mais relevante levou a um aumento da convers√£o durante o per√≠odo de avalia√ß√£o e visualiza√ß√£o por assinatura. </p><br><h2 id="rekko-challenge">  Desafio Rekko </h2><br><p>  De 18 de fevereiro a 18 de abril de 2019, em conjunto com a plataforma Boosters, realizamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o</a> Rekko Challenge, onde convidamos os participantes a criar um sistema de recomenda√ß√£o baseado em dados de produtos an√¥nimos. </p><br><p><img src="https://habrastorage.org/webt/lc/93/ef/lc93efrsjm1w45ud7ftqev9leus.png" alt="Tabela Vencedor do Desafio Rekko"></p><br><p>  Espera-se que os participantes que constru√≠ram um sistema de dois n√≠veis semelhante ao nosso estivessem no topo.  Os vencedores que ocuparam o primeiro e o terceiro lugares conseguiram adicionar ao conjunto RNN.  E o participante do oitavo lugar conseguiu subir nele usando apenas modelos de filtragem colaborativa. </p><br><p>  Evgeni Smirnov, que ficou em segundo lugar na competi√ß√£o, escreveu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um artigo</a> onde falou sobre sua decis√£o. </p><br><p>  No momento, a competi√ß√£o est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dispon√≠vel</a> na forma de uma caixa de prote√ß√£o, para que todos os interessados ‚Äã‚Äãem sistemas de recomenda√ß√£o possam tentar e obter experi√™ncia √∫til. </p><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><p>  Com este artigo, queria mostrar que os sistemas de recomenda√ß√£o em produ√ß√£o n√£o s√£o nada dif√≠ceis, mas divertidos e lucrativos.  O principal √© pensar em objetivos, n√£o os meios para alcan√ß√°-los e medir constantemente tudo. </p><br><p>  Em artigos futuros, falaremos ainda mais sobre a cozinha interna do Okko, portanto, n√£o esque√ßa de se inscrever e curtir. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454224/">https://habr.com/ru/post/pt454224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454210/index.html">Enchantjs esquecidos + novo 1C-Bitrix = Jogo para motiva√ß√£o do cliente</a></li>
<li><a href="../pt454214/index.html">Eu odeio quase todo software</a></li>
<li><a href="../pt454216/index.html">Foram encontradas evid√™ncias de que todas as altera√ß√µes s√£o uma mistura de ordem e chance</a></li>
<li><a href="../pt454220/index.html">Term√¥metro de dois d√≠gitos</a></li>
<li><a href="../pt454222/index.html">Atualize o subsistema de disco do servidor antigo com o barramento PCIe 1.0 - 2.0</a></li>
<li><a href="../pt454226/index.html">Mem√≥ria em dom√≠nios magn√©ticos cil√≠ndricos. Parte 1. Princ√≠pio do trabalho</a></li>
<li><a href="../pt454232/index.html">POO em linguagens de programa√ß√£o gr√°fica. Parte 2 MOS e OOP</a></li>
<li><a href="../pt454240/index.html">An√°lise wavelet. Parte 3</a></li>
<li><a href="../pt454242/index.html">"Olha, que jetpack eu tenho!" "Ah, olha que foguete eu tenho!" (notas do campeonato de foguetes)</a></li>
<li><a href="../pt454246/index.html">Variedades de coordenadas usadas na GUI do Unity3d</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>