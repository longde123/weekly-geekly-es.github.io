<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😹 💒 🎃 Fehlerbehandlung in Vue 😨 📂 🤛🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das ganze letzte Jahr habe ich mit meinem Lieblings-Framework Vue.js gearbeitet und es beschrieben und dargestellt. Und mir wurde klar, dass ich die F...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fehlerbehandlung in Vue</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/460539/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/ur/ja/ucurjalrgazboinj11chmjhp1h4.jpeg"></div><br>  Das ganze letzte Jahr habe ich mit meinem Lieblings-Framework Vue.js gearbeitet und es beschrieben und dargestellt.  Und mir wurde klar, dass ich die Fehlerbehandlung in Vue noch nicht herausgefunden habe.  Ich möchte dies erklären, indem ich sage, dass ich perfekten Code schreibe, aber wir alle wissen, wie die Dinge wirklich sind.  In den letzten Tagen habe ich mit den verschiedenen von Vue bereitgestellten Methoden zur Fehlerbehandlung experimentiert und beschlossen, meine Entdeckungen mitzuteilen.  Natürlich wird diese Überprüfung nicht alle möglichen Szenarien abdecken, aber ich hoffe, es hilft Ihnen! <a name="habracut"></a><br><br><h2>  Fehler </h2><br>  Um verschiedene Verarbeitungsmethoden zu testen, habe ich mich entschlossen, drei verschiedene Arten von Fehlern zu verwenden (zumindest zu Beginn).  Im ersten Fall war es nur ein Aufruf einer nicht vorhandenen Variablen: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, {{name}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  In diesem Beispiel erhält der Benutzer keine Fehlermeldung, aber eine Warnung [Vue warn] wird in der Konsole angezeigt. <br><br><img src="https://habrastorage.org/webt/0h/er/r7/0herr79zvq2adraeve6kuavuavm.png"><br><br>  So sieht die Ausführung dieses Beispiels aus: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/qweOKB" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Im zweiten Beispiel habe ich versucht, eine Variable an eine berechnete Eigenschaft zu binden, die einen Fehler erzeugen sollte: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, {{name2}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>:<span class="hljs-string"><span class="hljs-string">'#app'</span></span>, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>:{ name2() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } } })</code> </pre><br>  In diesem Fall werden sowohl die Warnung [Vue warn] als auch die übliche Fehlermeldung in der Konsole angezeigt, dem Benutzer wird jedoch nichts ausgegeben. <br><br><img src="https://habrastorage.org/webt/x5/vf/vx/x5vfvxxzegbkolkkcttdgp5me8k.png"><br><br>  So läuft der Code für dieses Beispiel ab: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/BEXoOw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Im dritten Beispiel habe ich eine Methode verwendet, die einen Fehler auslösen sollte. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"doIt"</span></span></span><span class="hljs-tag">&gt;</span></span>Do It<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>:<span class="hljs-string"><span class="hljs-string">'#app'</span></span>, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>:{ doIt() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } } })</code> </pre><br>  Wie im vorherigen Fall wird eine Meldung zu diesem Fehler in der Konsole zweimal angezeigt: eine Warnung und eine Meldung zu diesem Fehler.  Im Gegensatz zu ihm tritt ein Fehler jedoch nur auf, wenn die Taste tatsächlich gedrückt wird. <br><br><img src="https://habrastorage.org/webt/qc/d5/dm/qcd5dmvfjaq_qs4zpxt375rjil8.png"><br><br>  Und hier ist eine Demo für dieses Beispiel: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/oOKjJb" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Bevor wir fortfahren, möchte ich klarstellen, dass diese Beispiele nicht alle Arten von Fehlern zeigen, die Sie machen können.  Dies sind nur einige der wichtigsten, die meiner Meinung nach häufig in Anwendungen zu finden sind, die auf Vue.js basieren. <br><br>  Wie können Sie mit Fehlern in Vue-Anwendungen umgehen?  Ich muss sagen, ich war ein wenig überrascht, dass es im Haupthandbuch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zum Vue-Framework</a> keinen Abschnitt zur Fehlerbehandlung gibt. <br><br><img src="https://habrastorage.org/webt/p9/uu/lu/p9uuluauw5egp5h5y9p3ss1t8ws.png"><br><br>  Ja, es gibt einen ähnlichen Abschnitt im Handbuch, der jedoch sehr kurz ist und dessen gesamte Bedeutung in das folgende Zitat passt: <br><br>  <i>„Wenn beim Rendern von Komponenten ein Laufzeitfehler auftritt, wird dieser an die globale Konfigurationsfunktion Vue.config.errorHandler übergeben, sofern einer angegeben wurde.</i>  <i>Es wäre wahrscheinlich nützlich, diesen Hook in Verbindung mit einem Bug-Tracking-Service wie Sentry zu verwenden, zumal seine Integration in Vue offiziell unterstützt wird. “</i> <br><br>  Meiner Meinung nach sollte dieses Thema in der Dokumentation etwas ausführlicher behandelt werden (und ich denke, dass es bei der Ergänzung hilfreich sein könnte).  Im Allgemeinen läuft die Fehlerbehandlung in Vue auf folgende Mittel ab: <br><br><ul><li>  <b>errorHandler;</b> </li><li>  <b>warnHandler;</b> </li><li>  <b>renderError;</b> </li><li>  <b>errorCaptured;</b> </li><li>  <b>window.onerror</b> (dieses Tool ist nicht spezifisch für Vue). </li></ul><br>  Schauen wir uns diese Tricks genauer an. <br><br><h2>  Fehlerbehandlungsroutine Nummer eins: errorHandler </h2><br>  Das erste Mittel ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">errorHandler</a> .  Wie Sie wahrscheinlich vermutet haben, ist dies der Standard-Fehlerhandler für Vue.js-Anwendungen.  Sie können es wie folgt zuweisen: <br><br><pre> <code class="javascript hljs">Vue.config.errorHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, vm, info</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre><br>  In der obigen Funktionsdeklaration ist err die Beschreibung des aktuellen Fehlers, info die Zeichenfolge der für Vue spezifischen Fehlerinformationen und vm die aktuelle Vue-Anwendung.  Denken Sie daran, dass mehrere Vue-Anwendungen gleichzeitig auf derselben Webseite ausgeführt werden können.  Diese Fehlerbehandlungsroutine gilt für alle.  Betrachten Sie das folgende einfache Beispiel: <br><br><pre> <code class="javascript hljs">Vue.config.errorHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, vm, info</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Error: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${err.toString()}</span></span></span><span class="hljs-string">\nInfo: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${info}</span></span></span><span class="hljs-string">`</span></span>); }</code> </pre><br>  Im Falle des ersten Fehlers führt dieser Code keine Aktion aus.  Wenn Sie sich erinnern, wird dadurch eine <i>Warnung</i> und keine Fehlermeldung generiert. <br><br>  Im zweiten Fall wird der Fehler verarbeitet und der folgende Text angezeigt: <br><br><pre> <code class="bash hljs">Error: ReferenceError: x is not defined Info: render</code> </pre> <br>  Schließlich liefert das dritte Beispiel das folgende Ergebnis: <br><br><pre> <code class="bash hljs">Error: ReferenceError: x is not defined Info: v-on handler</code> </pre> <br>  Beachten Sie, wie „nützlich“ die Informationen in den beiden vorherigen Beispielen unter der Überschrift Info sind.  Lassen Sie uns nun überprüfen, wie das folgende Tool funktioniert. <br><br><h2>  Fehlerbehandlungsroutine Nummer zwei: warnHandler </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">warnHandler</a> behandelt - was würden Sie denken?  - Vue-Warnungen.  Beachten Sie, dass dieser Handler in der Produktion ignoriert wird.  Der Handler für diese Methode unterscheidet sich ebenfalls geringfügig vom vorherigen: <br><br><pre> <code class="javascript hljs">Vue.config.warnHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg, vm, trace</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre> <br>  Die ersten beiden Argumente - msg und vm - bedürfen keiner weiteren Erläuterung, und das Ablaufverfolgungsargument muss ein Komponentenbaum sein.  Betrachten Sie ein Beispiel: <br><br><pre> <code class="javascript hljs">Vue.config.warnHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg, vm, trace</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Warn: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${msg}</span></span></span><span class="hljs-string">\nTrace: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${trace}</span></span></span><span class="hljs-string">`</span></span>); }</code> </pre> <br>  Das erste Beispiel enthält jetzt einen Handler für die von ihm generierte Warnung und gibt Folgendes zurück: <br><br><img src="https://habrastorage.org/webt/n-/vs/b5/n-vsb5ddofte7axiscbaduwoymw.png"><br><br>  Das zweite und dritte Beispiel werden nicht geändert.  Live-Beispiele für alle drei Fälle sind unten aufgeführt. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/oOKxEa" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/PgMNao" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/wZVGEK" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Nummer drei Fehlerbehandlungsroutine: renderError </h2><br>  Jetzt werde ich eine dritte Fehlerbehandlungsmethode demonstrieren: renderError.  Im Gegensatz zu den beiden vorherigen ist dieses Tool von der Komponente abhängig und nicht universell.  Wie bei warnHandler ist dieser Produktionshandler deaktiviert. <br><br>  Um es zu verwenden, fügen Sie es in Ihre Komponente / Anwendung ein.  Das Folgende ist ein modifiziertes Beispiel aus der Dokumentation. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>:<span class="hljs-string"><span class="hljs-string">'#app'</span></span>, renderError (h, err) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h(<span class="hljs-string"><span class="hljs-string">'pre'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">style</span></span>: { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'red'</span></span> }}, err.stack) } })</code> </pre><br>  Wenn dieser Fehlerbehandler im ersten Beispiel verwendet wird, tut er nichts, was, wenn Sie darüber nachdenken, logisch erscheint, da das erste Beispiel eine Warnung und keinen Fehler enthält.  Wenn Sie diesen Handler im zweiten Beispiel überprüfen, in dem die berechnete Eigenschaft einen Fehler ausgibt, wird das Ergebnis auf dem Bildschirm angezeigt.  Sie können dies in der folgenden codePen-Demo sehen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/NmQrwa" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ehrlich gesagt verstehe ich nicht ganz, warum ich dieses Tool verwenden soll, wenn die Konsole viel bequemer ist. Wenn jedoch die Qualitätskontrollabteilung oder andere Tester mit der Browserkonsole nicht vertraut sind, kann ihnen eine einfachere Fehlermeldung auf dem Bildschirm helfen. <br><br><h2>  Nummer vier Fehlerbehandlungsroutine: errorCaptured </h2><br>  Schließlich gibt es das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">errorCaptured-</a> Tool (speziell für Vue), das mich verwirrt hat und ehrlich gesagt immer noch etwas verwirrend ist.  In der Dokumentation heißt es: <br><br>  <i>Wird aufgerufen, wenn in einer untergeordneten Komponente ein Fehler auftritt.</i>  <i>Dieser Hook erhält drei Argumente: einen Fehler, eine Instanz der Komponente, die den Fehler verursacht hat, und eine Zeichenfolge, die Informationen darüber enthält, wo der Fehler behoben wurde.</i>  <i>Der Hook kann false zurückgeben, um eine weitere Weitergabe des Fehlers zu verhindern. "</i> <br><br>  Nach meinen Recherchen (auch hier bezweifle ich dies stark) sollte dieser Fehlerbehandler nur von der übergeordneten Komponente verwendet werden, die den Fehler der untergeordneten Komponente behandelt.  Soweit ich weiß, kann es nicht in der Hauptinstanz von Vue verwendet werden, sondern nur in einer Komponente mit untergeordneten Elementen. <br><br>  Um dies zu überprüfen, habe ich diese übergeordneten und untergeordneten Komponenten erstellt: <br><br><pre> <code class="javascript hljs">Vue.component(<span class="hljs-string"><span class="hljs-string">'cat'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">template</span></span>:<span class="hljs-string"><span class="hljs-string">` &lt;div&gt;&lt;h1&gt;Cat: &lt;/h1&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;`</span></span>, <span class="hljs-attr"><span class="hljs-attr">props</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">required</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> } }, errorCaptured(err,vm,info) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`cat EC: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${err.toString()}</span></span></span><span class="hljs-string">\ninfo: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${info}</span></span></span><span class="hljs-string">`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }); Vue.component(<span class="hljs-string"><span class="hljs-string">'kitten'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">template</span></span>:<span class="hljs-string"><span class="hljs-string">'&lt;div&gt;&lt;h1&gt;Kitten: {{ dontexist() }}&lt;/h1&gt;&lt;/div&gt;'</span></span>, <span class="hljs-attr"><span class="hljs-attr">props</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">required</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> } } });</code> </pre> <br>  Beachten Sie, dass die Kätzchenkomponente einen Fehler enthält.  Wenn ich nun versuche, diese Komponente wie folgt zu verwenden, <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cat</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my cat"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kitten</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kitten</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cat</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Ich werde eine Nachricht vom Handler erhalten: <br><br><pre> <code class="bash hljs">cat EC: TypeError: dontexist is not a <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> info: render</code> </pre> <br>  Sie können dies im folgenden Beispiel sehen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/MRMbYJ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Also ja, ein interessantes Werkzeug.  Ich glaube, dass es hauptsächlich von denen verwendet wird, die Komponentenbibliotheken mit Eltern-Kind-Beziehungen erstellen.  Dieses Tool ist für den Bibliotheksentwickler besser geeignet als für den normalen Entwickler, wenn eine solche Unterteilung sinnvoll ist.  Aber auch dies ist nur mein erster Eindruck von diesem Tool. <br><br><h2>  Ein einziges Tool zum Verwalten von allem auf der Welt: window.onerror </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hf/2z/hv/hf2zhv1yy2sxrrj-qcq68cci9qa.png"></div><br>  Die letzte (und leistungsstärkste) Option ist die Verwendung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">window.onerror</a> , einem globalen Fehlerbehandler für <i>alles</i> , was passieren kann, wenn Ihr JavaScript-Code ausgeführt wird.  Dieser Handler hat das folgende Format: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message, source, line, column, error</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre><br>  Wahrscheinlich ist das einzige, was Sie im obigen Code nicht erraten können, die Bedeutung des Quellarguments, bei dem es sich um die URL des Skripts handelt. <br><br>  Hier beginnt der Spaß.  Wenn Sie diese Funktion definieren, aber Vue.config.errorHandler <i>nicht</i> verwenden, hilft dies Ihnen nicht.  Vue erwartet, dass Sie Vue.config.errorHandler definieren. Wenn Sie dies nicht tun, wird der Fehler nicht über seine Grenzen hinaus weitergegeben.  Wahrscheinlich macht das Sinn ... Ich weiß es nicht einmal, für mich macht das nicht viel Sinn.  Eine noch seltsamere Sache: Nehmen wir an, es liegt ein Fehler in Ihrem Vue-Fehlerhandler selbst vor.  Es erreicht auch nicht den window.onerror-Handler. <br><br>  Hier ist eine Demo zu CodePen mit einem entsprechenden Beispiel.  Ich habe den Fehler in errorHandler auskommentiert, aber wenn Sie den Kommentar entfernen, werden Sie feststellen, dass der globale Fehlerbehandler nicht funktioniert.  Dies funktioniert nur in einem Fall: Wenn Sie die zweite Taste drücken. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://codepen.io/cfjedimaster/embed/preview/WWVowN" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Fazit </h2><br>  Ich hoffe, dass das Material in diesem Artikel für die Leser nützlich sein wird.  Wie bereits zu Beginn geschrieben, habe ich gerade angefangen, mich mit diesem Thema zu befassen, also warte ich natürlich auf Kommentare, Kommentare und Vorschläge.  Ich freue mich zu lesen, wie andere Entwickler diese Tools in ihren Anwendungen verwenden! <br><br>  <i>Foto am Anfang des Artikels: Autor - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">David Kovalenko</a> , Unsplash-Website</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de460539/">https://habr.com/ru/post/de460539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de460527/index.html">Problemlösung mit pwnable.kr 06 - zufällig und 09 - Fehler</a></li>
<li><a href="../de460531/index.html">Neugierige Perversionen aus der IT-Welt - 5</a></li>
<li><a href="../de460533/index.html">Sie haben die Idee eines IT-Produkts, was kommt als nächstes?</a></li>
<li><a href="../de460535/index.html">Erstellen eines minimalen Docker-Containers für Go-Apps</a></li>
<li><a href="../de460537/index.html">ZuriHac: Funktionale Programmierung üben</a></li>
<li><a href="../de460541/index.html">Suchen Sie in einer Millisekunde nach Gesichtskonturen mit einem Ensemble von Regressionsbäumen</a></li>
<li><a href="../de460543/index.html">Neue Zertifizierungen für Entwickler von Cisco. Branchenzertifizierungsübersicht</a></li>
<li><a href="../de460547/index.html">Antiquitäten: Psion 5MX und Leben im Ruhestand</a></li>
<li><a href="../de460551/index.html">Portugal Die besten Strände und tausend Startups pro Jahr</a></li>
<li><a href="../de460555/index.html">Bericht vom PyDaCon-Treffen bei der Mail.ru Group am 22. Juni</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>