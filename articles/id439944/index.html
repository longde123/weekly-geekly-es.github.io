<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ² ğŸ‘©ğŸ½â€ğŸ­ ğŸˆ·ï¸ SAPUI5 untuk boneka bagian 5: Latihan selangkah demi selangkah yang lengkap ğŸ‘©â€ğŸš’ ğŸ—‚ï¸ ğŸ‘¼ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendahuluan & Rekap 


 Dalam posting blog sebelumnya , kami belajar cara membuat tingkat kedua menelusuri (detail detail) dan cara berinteraksi denga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SAPUI5 untuk boneka bagian 5: Latihan selangkah demi selangkah yang lengkap</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439944/"><p><img src="https://habrastorage.org/webt/f_/1e/85/f_1e85uxxgb8ffaoa_8kdmqnce8.png"></p><br><h3 id="introduction--recap">  Pendahuluan &amp; Rekap </h3><br><p>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting blog sebelumnya</a> , kami belajar cara membuat tingkat kedua menelusuri (detail detail) dan cara berinteraksi dengan OData dan ODataModel (v2) untuk menghapus catatan database. </p><br><h3 id="what-will-be-covered-on-this-exercise">  Apa yang akan dibahas pada latihan ini </h3><br><p>  Dengan Bagian 5 dari seri posting blog ini, kita akan belajar cara membuat SimpleForm dalam Dialog yang memungkinkan kita untuk memperbarui informasi dari Item Pesanan Penjualan. </p><br><p>  Sebelum memperbarui pesanan basis data, kami harus memeriksa apakah semua yang diketik oleh pengguna memvalidasi kendala kami. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ODataModel</a> : kami telah menggunakannya untuk menampilkan informasi sisi server tentang Mitra Bisnis, Pesanan Penjualan, dan Item Pesanan Penjualan kami.  Kami juga menggunakannya untuk menghapus catatan basis data.  Kami sekarang akan menggunakannya untuk memperbarui catatan berkat metode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">submitChanges</a> atau hapus apa yang telah kami lakukan dengan metode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">resetChanges</a> . </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penjilidan Ekspresi</a> : peningkatan sintaks mengikat SAPUI5, yang memungkinkan untuk menyediakan ekspresi alih-alih fungsi formatter khusus </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SimpleForm</a> : tata letak yang memungkinkan pengguna untuk membuat bentuk pixel-sempurna </li></ul><a name="habracut"></a><br><p>  Jadi tugas utama kami di sini adalah memungkinkan pengguna untuk mengedit Item Pesanan Penjualan dan mengirimkan perubahan tersebut (jika dilakukan) ke sistem backend. </p><br><p>  Inilah daftar hal-hal yang harus Anda lakukan untuk mencapai hasil akhir: </p><br><ul><li>  Tambahkan kolom baru ke tabel untuk menampilkan nilai Catatan (itulah bidang yang akan kami perbarui) </li><li>  Jadikan Nama Produk aktif ( <em>titleActive = â€trueâ€</em> ) dan tangani acara titlePress </li><li>  Buat Fragmen dengan di dalam <em>Dialog</em> yang berisi <em>SimpleForm</em> kami </li><li>  SimpleForm akan berisi pasangan <em>Label</em> / Input untuk setiap bidang Item Pesanan Penjualan kami </li><li>  Semua kolom Input tidak akan dapat diedit kecuali untuk Note </li><li>  Buat tombol Simpan dialog diaktifkan hanya jika Catatan yang diketik oleh pengguna memiliki panjang lebih besar dari nol </li><li>  Tangani tombol simpan dengan mengirim semua perubahan pengguna! </li></ul><br><p><img src="https://habrastorage.org/webt/9u/mz/rv/9umzrvvko1xir-vv8gsiism21ns.gif"></p><br><h3 id="lets-code">  Mari kode </h3><br><h4 id="uiux">  UI / UX </h4><br><p>  Kami sudah berbicara banyak tentang UI / UX dalam seri posting blog ini.  Seperti yang sudah Anda pahami, ini adalah topik penting bagi saya.  UX yang baik dapat membuat perbedaan besar pada akhir hari yang memungkinkan pengguna akhir untuk meningkatkan kinerjanya dan mengurangi kesalahan keseluruhan yang bisa ia lakukan. </p><br><blockquote>  Itu sebabnya Anda harus selalu, selalu memberikan umpan balik kepada pengguna.  Umpan balik yang jelas, intuitif, dibuat dengan baik </blockquote><p>  Ambil contoh layar ini: </p><br><p><img src="https://habrastorage.org/webt/iq/tk/kf/iqtkkfqoi-lapmrk0aume16pxcq.png"></p><br><p>  Mengapa tombol Simpan dinonaktifkan?  Mengapa pengguna tidak dapat menyelesaikan tugas? </p><br><p>  UX yang baik memberikan umpan balik dengan jelas kepada pengguna.  Anda harus selalu mengajukan pertanyaan ini kepada Anda: </p><br><ul><li>  Apakah pengguna sadar bahwa dia kehilangan beberapa informasi yang diperlukan? </li><li>  Dapatkah pengguna memahami informasi mana yang hilang atau memiliki nilai tidak valid? </li><li>  Saya membantu pengguna untuk memperbaiki kesalahan itu? </li><li>  Ketika pengguna telah memperbaiki kesalahan, apakah saya benar memberikan umpan balik (highlight hijau, aktifkan tombol Simpan) </li></ul><br><p>  Jadi sekarang pengguna tahu apa yang harus ia lakukan.  Apa yang terjadi ketika dia mengetik nilai Note baru yang benar dan mengklik tombol "Simpan"? </p><br><ul><li>  Kami memeriksa apakah pengguna telah mengirimkan beberapa perubahan (nilai berubah ke model).  Jika tidak ada perubahan, kami hanya memberi tahu pengguna jika tidak, kami akan tetap melakukan daftar tugas poin </li><li>  Atur Dialog ke status sibuk </li><li>  Minta kerangka kerja untuk memberikan semua perubahan dengan submitChanges </li><li>  Dengarkan callback jika berhasil atau salah </li><li>  Berikan umpan balik visual kepada pengguna dengan pesan ok atau kesalahan </li><li>  Perbarui Tabel dengan nilai-nilai baru (dilakukan secara otomatis oleh SAPUI5) </li></ul><br><h4 id="user-validation">  Validasi pengguna </h4><br><p>  Ada banyak cara untuk menambahkan validasi pengguna ke bidang Anda.  Dalam contoh sederhana kami, saya ingin menerapkan kasus penggunaan sederhana untuk memeriksa hanya jika bidang Catatan telah diisi atau tidak.  Jika bidang Catatan kosong Anda harus menonaktifkan tombol Simpan dan meminta kesalahan yang menyorot bidang Catatan dan menjelaskan masalah ini. </p><br><p>  Untuk melakukan itu kita perlu mendengarkan <em>liveChange</em> (acara ini dipicu setiap kali pengguna mengubah nilai) acara di bidang Input Catatan dan menerapkannya pada Pengontrol kami seperti ini </p><br><pre><code class="javascript hljs">validateNote: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oEvent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oResourceBundle = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getView().getModel(<span class="hljs-string"><span class="hljs-string">"i18n"</span></span>).getResourceBundle(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sValue = oEvent.getParameter(<span class="hljs-string"><span class="hljs-string">"value"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oSource = oEvent.getSource(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( sValue &amp;&amp; sValue.trim().length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ) { oSource.setValueState(ValueState.Success); oSource.setValueStateText(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { oSource.setValueState(ValueState.Error); oSource.setValueStateText(oResourceBundle.getText(<span class="hljs-string"><span class="hljs-string">"errorEmptyNote"</span></span>)); } }</code> </pre> <br><h4 id="update-odata-model-record">  Perbarui catatan model OData </h4><br><p>  Inilah bagian inti dari latihan kami.  Ketika pengguna mengklik tombol Simpan kita akan menjalankan metode di sisi Pengendali kami. </p><br><pre> <code class="javascript hljs">onSalesOrderItemDialogSave: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oEvent</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> controller = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oResourceBundle = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getView().getModel(<span class="hljs-string"><span class="hljs-string">"i18n"</span></span>).getResourceBundle(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bCompact = !!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getView().$().closest(<span class="hljs-string"><span class="hljs-string">".sapUiSizeCompact"</span></span>).length; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oModel = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getView().getModel(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( oModel.hasPendingChanges() ) { controller._oEditDialog.setBusy(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); oModel.submitChanges({ <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oData</span></span></span><span class="hljs-function">) </span></span>{ MessageBox.success( oResourceBundle.getText(<span class="hljs-string"><span class="hljs-string">"saveSaleItemSuccess"</span></span>), { <span class="hljs-attr"><span class="hljs-attr">styleClass</span></span>: bCompact ? <span class="hljs-string"><span class="hljs-string">"sapUiSizeCompact"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> }); controller._oEditDialog.setBusy(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); controller._oEditDialog.close(); }, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oError</span></span></span><span class="hljs-function">) </span></span>{ MessageBox.error( oResourceBundle.getText(<span class="hljs-string"><span class="hljs-string">"saveSaleItemError"</span></span>), { <span class="hljs-attr"><span class="hljs-attr">styleClass</span></span>: bCompact ? <span class="hljs-string"><span class="hljs-string">"sapUiSizeCompact"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> }); controller._oEditDialog.setBusy(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); controller._oEditDialog.close(); } }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { MessageBox.success( oResourceBundle.getText(<span class="hljs-string"><span class="hljs-string">"saveSaleItemNoChanges"</span></span>), { <span class="hljs-attr"><span class="hljs-attr">styleClass</span></span>: bCompact ? <span class="hljs-string"><span class="hljs-string">"sapUiSizeCompact"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> }); controller._oEditDialog.close(); } }</code> </pre> <br><p>  Kode ini cukup sederhana dan kita tidak perlu menentukan terlalu banyak parameter.  Satu-satunya hal yang perlu diingat adalah menjalankan <em>submitChanges</em> hanya jika model memiliki beberapa perubahan untuk dilakukan kalau tidak Dialog Anda akan dalam keadaan sibuk tanpa batas karena keberhasilan / kesalahan callback (saya pikir untuk bug kerangka kerja) tidak akan dipanggil. </p><br><h3 id="conclusion-and-whats-next">  Kesimpulan dan apa selanjutnya? </h3><br><p>  Jika Anda ingin melihat hasil akhirnya, Anda dapat langsung pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cabang step_5 dari Proyek GitHub kami</a> . </p><br><p>  Bagian berikutnya saya pikir akan membahas tes tapi saya pikir saya akan mengambil sedikit jeda dari seri ini karena saya ingin membahas beberapa hal penting seperti SplitApp vs FlexibleColumnLayout;) </p><br><p>  Tapi jangan panik, kami hanya berbicara tentang beberapa minggu!  Anda harus menyelesaikan banyak latihan! </p><br><h3 id="feedback-needed">  Umpan balik dibutuhkan </h3><br><p>  Apa pendapat Anda tentang seri ini?  Apakah Anda ingin lebih fokus pada beberapa aspek SAPUI5 tertentu? </p><br><p>  Tuliskan di bagian komentar!  Selamat coding untuk semua orang! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439944/">https://habr.com/ru/post/id439944/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439934/index.html">Proses bisnis. Ekstrak model BPMN dari dokumen. Bagian 1</a></li>
<li><a href="../id439936/index.html">Teknologi 3D untuk pengecoran: cara membuat cetakan untuk casting dalam seminggu</a></li>
<li><a href="../id439938/index.html">Apa yang harus dipanggil: kebijakan privasi dan kebijakan privasi</a></li>
<li><a href="../id439940/index.html">Teamlead Conf Msk 2019: hasil kampanye aplikasi, laporan, pertimbangan</a></li>
<li><a href="../id439942/index.html">Docker: apa yang perlu diketahui oleh setiap pengembang .Net</a></li>
<li><a href="../id439946/index.html">Mengapa kami memilih Elektron</a></li>
<li><a href="../id439948/index.html">Intel SVT-AV1: Open Source AV1 Encoder untuk Tugas Berat</a></li>
<li><a href="../id439950/index.html">3rd Turing Test: syarat untuk berpartisipasi dan hadiah untuk pemenang</a></li>
<li><a href="../id439952/index.html">Hosting Node.js https server dengan SSL yang diperbarui secara otomatis di cloud dan bagaimana saya mengatur siklus pengembangan (+ git, bereaksi)</a></li>
<li><a href="../id439958/index.html">CodeFest X 30-31 Maret. Bagian Masa Depan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>