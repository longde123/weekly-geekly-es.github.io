<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏬 👨🏻‍🍳 🧑 Oracle APEX Rapports 👩🏼‍🤝‍👨🏿 🦎 👩🏿‍🤝‍👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article décrit trois types de rapports au sommet: Classic Report, Interactive Report (IR) et Interactive Grid (IG). Classic Report est le plus sim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Oracle APEX Rapports</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446736/"><p>  Cet article décrit trois types de rapports au sommet: Classic Report, Interactive Report (IR) et Interactive Grid (IG).  Classic Report est le plus simple d'entre eux, mais en combinaison avec d'autres composants vous permet de faire des choses tout à fait inattendues.  IR et IG ont beaucoup plus de capacités prêtes à l'emploi, mais ce sont à peu près des choses en soi.  D'une part, leurs capacités étendues rendent inutile une sorte de réglage supplémentaire, d'autre part, ces mêmes capacités limitent très sévèrement la possibilité de faire quelque chose de plus.  Une grande partie de ce qui s'applique au rapport classique s'applique également à eux. </p><br><p><img src="https://habrastorage.org/webt/rz/u8/4v/rzu84vxvkjqg2f0udg97gx5pf-i.png" alt="KDPV"></p><a name="habracut"></a><br><h2 id="oglavlenie">  Table des matières </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rapport classique</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Formatage des données supplémentaires</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Formatage avec les propriétés de colonne</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Formatage en modifiant un modèle</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ajouter interactif</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Événements de type «cliquez sur la ligne du rapport»</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modification des données avec Classic Report</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rapport interactif (IR)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Grille interactive (IG)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Création de colonnes non SQL</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nouveaux types de colonnes</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rapports maître-détails basés sur IG</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Traitement de la saisie de données dans IG</a> </p><br><h2 id="classic-report">  Rapport classique </h2><br><p>  Il existe deux façons de créer un rapport.  La première consiste à créer avec la page, via l'assistant de création de page: sélectionnez le type de page "Rapport", puis le sous-type "Rapport classique", puis suivez les étapes de l'assistant pour définir les propriétés de la page, et la dernière étape consiste à spécifier la source de données.  Une nouvelle page sera créée avec un rapport, sur lequel, si vous le souhaitez, vous pourrez ensuite ajouter autre chose.  Cette méthode a une valeur plutôt historique, avant l'avènement du concepteur de page moderne dans la version 5.0, c'était vraiment plus facile. </p><br><p> La deuxième façon - sur la page déjà créée dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Page Designer</a> dans le menu de gauche de l'onglet " <code>Rendering</code> " (c'est la première là-bas), trouvez la branche " <code>Regions</code> ", faites un clic droit dessus et sélectionnez " <code>Create Region</code> ".  Ensuite, vous devez spécifier dans le groupe de propriétés " <code>Identification</code> " sur le panneau de droite: " <code>Title</code> " - le titre sous lequel le rapport sera affiché sur la page, et " <code>Type</code> " - " <code>Classic Report</code> ";  dans le groupe " <code>Source</code> ": " <code>Location</code> " - " <code>Local Database</code> " (un champ relativement nouveau, il n'était pas dans 5.x), " <code>Type</code> " - " <code>SQL Query</code> ", " <code>SQL Query</code> " - la requête elle-même.  Ça suffit. </p><br><div class="spoiler">  <b class="spoiler_title">Requête SQL sur laquelle d'autres exemples sont construits et KDPV</b> <div class="spoiler_text"><p>  Création d'une table: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> students <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, trunc(<span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> - dbms_random.value(<span class="hljs-number"><span class="hljs-number">18</span></span> * <span class="hljs-number"><span class="hljs-number">365</span></span> - <span class="hljs-number"><span class="hljs-number">180</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span> * <span class="hljs-number"><span class="hljs-number">365</span></span> + <span class="hljs-number"><span class="hljs-number">180</span></span>)) birthdate, trunc(<span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> - <span class="hljs-number"><span class="hljs-number">8</span></span>) examdate, trunc(<span class="hljs-number"><span class="hljs-number">50</span></span> + dbms_random.value * <span class="hljs-number"><span class="hljs-number">50</span></span>) rating <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual);</code> </pre> <br><p>  Requête pour le rapport: </p><br><pre> <code class="sql hljs"> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate, rating, rn, <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> rn &lt;= <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'highrating'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> color, apex_item.checkbox(<span class="hljs-number"><span class="hljs-number">1</span></span>) chbx <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate, rating, row_number() <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> rating <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span>) rn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> students) <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span></code> </pre> </div></div><br><p>  Une fois que vous avez entré le texte de la requête, l'apex l'analysera de lui-même et détectera les colonnes.  Les paramètres de région avec un rapport dans le panneau de gauche ressembleront à ceci: </p><br><p><img src="https://habrastorage.org/webt/op/m_/kz/opm_kzpzo_ac4ilrbchxxay0qqk.png" alt="Paramètres du rapport"></p><br><p>  Il y a trois sections principales: </p><br><ul><li>  une section dont le nom est le " <code>Title</code> " de la région: les propriétés de la région y sont configurées; </li><li>  " <code>Columns</code> ": une liste de colonnes, chacune ayant ses propres paramètres; </li><li>  " <code>Attributes</code> ": propriétés du rapport lui-même, c'est-à-dire des plaques de données en particulier (je ne sais pas qui, mais au début, j'étais confus pendant longtemps, où sont les propriétés de la région et où sont les propriétés du rapport; en particulier, la région et le rapport ont chacun leur propre " <code>Template</code> " , et si vous avez modifié le " <code>Template</code> " et que le type de rapport / région n'a pas changé, vérifiez si vous les avez mélangés les uns aux autres). </li></ul><br><p>  Caractéristiques de base de Classic Report: </p><br><ul><li>  Alignement (gauche, centre, droite) des en-têtes de colonne et des données de colonne, définition d'un masque de format pour les nombres et les dates; </li><li>  Tri: si vous spécifiez " <code>Sortable</code> " - " <code>Yes</code> " dans les propriétés de la colonne, alors sur la page l'en-tête de cette colonne sera représenté par un lien qui sera trié en cliquant.  Vous pouvez trier les données soit en ajoutant " <code>Order by</code> " à la requête, soit en définissant le tri dans les propriétés de la colonne, mais vous ne pouvez pas faire les deux ensemble; </li><li>  " <code>Pagination</code> ": vous pouvez spécifier le nombre de lignes par page (" <code>Attributes</code> " → " <code>Number of Rows</code> ") et ajuster l'apparence du sélecteur de page (plusieurs options au choix).  Faites également attention au paramètre " <code>Maximum Rows to Process</code> ": il définit le nombre de lignes de requête qui se retrouveront dans le tableau.  Tous les tri, " <code>Pagination</code> " et ainsi de suite seront appliqués à ce nombre de lignes.  Si votre requête est censée / devrait renvoyer davantage, augmentez ce nombre; </li><li>  " <code>When No Data Found</code> ": lorsque la requête renvoie 0 lignes, le tableau n'est pas du tout affiché (même le titre, c'est une caractéristique du moteur), et dans cette section, vous pouvez spécifier un message qui sera affiché à la place du tableau avec le résultat; </li><li>  <code>Download</code> données vers CSV: configuré dans la section " <code>Download</code> ". </li></ul><br><p>  Les colonnes ont un champ "Type", dans lequel vous pouvez sélectionner l'une des différentes options pour afficher le résultat: </p><br><ul><li>  "Texte brut": c'est l'option par défaut - juste le résultat de la requête. </li><li>  "Texte brut (basé sur la liste de valeurs)": si vous avez un champ dans la requête qui fait référence à une table de recherche, vous pouvez remplacer une valeur de la recherche en utilisant ce champ (mais il vaut mieux, bien sûr, simplement le sceller dans la requête elle-même). </li><li>  "Lien": permet de créer un lien.  À propos des liens, il y aura un article séparé. </li><li>  "Afficher l'image" et "Télécharger BLOB": ces types vous permettent d'accéder aux fichiers qui sont stockés dans une table dans une colonne de type <code>BLOB</code> .  Le premier affiche le fichier sous forme d'image (si c'est une image, bien sûr), et le second affiche un lien de téléchargement. </li><li>  "Graphique en pourcentage": affiche un nombre de 0 à 100 sous forme d'image avec une barre de progression. </li><li>  "Colonne cachée": utilisée lorsque la valeur de la requête est quelque chose d'auxiliaire (par exemple, pour le formatage), mais ne doit pas être affichée à l'écran. </li></ul><br><h3 id="dopolnitelnoe-formatirovanie-dannyh">  Formatage des données supplémentaires </h3><br><h6 id="formatirovanie-s-pomoschyu-svoystv-stolbcov">  Formatage avec les propriétés de colonne </h6><br><p>  Prenons un exemple dans lequel nous avons une liste d'étudiants qui réussissent un examen (la requête SQL a été donnée ci-dessus).  Nous avons une plaque de résultat, et nous voulons mettre en évidence les trois meilleurs résultats en rouge et en gras.  Pour nous aider à venir les paramètres de la colonne " <code>Column formatting</code> ".  Lorsque l'apex rend le rapport, il crée un tableau HTML et place les valeurs des résultats de la requête dans ses cellules ( <code>&lt;td&gt;&lt;/td&gt;</code> ).  La propriété " <code>HTML Expression</code> " vous permet de spécifier du code HTML arbitraire à la place.  S'il est vide, l'apex mettra la valeur de la requête à l'intérieur de la balise <code>td</code> , et s'il n'est pas vide, alors le contenu de la propriété.  Dans l'expression " <code>HTML Expression</code> ", vous pouvez utiliser des liens vers la valeur de n'importe quelle colonne de la requête, pour cela, vous devez inclure son nom entre les deux caractères <code>#</code> .  Dans la demande, dans mon exemple, il y a des colonnes " <code>RATING</code> " (le résultat qui doit être affiché) et " <code>COLOR</code> " (il calcule le nom de la classe CSS qui définira le style de surbrillance, selon la valeur de la colonne " <code>RATING</code> ").  Dans la propriété " <code>HTML Expression</code> " de la colonne " <code>RATING</code> ", écrivez: </p><br><pre> <code class="plaintext hljs">&lt;span class="#COLOR#"&gt;#RATING#&lt;span&gt;</code> </pre> <br><p>  Et la classe CSS de classement <code>highrating</code> - <code>highrating</code> peut être décrite dans les propriétés de la page (" <code>CSS</code> " → " <code>Inline</code> "): </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.highrating</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: bold; }</code> </pre> <br><p>  Tout est prêt.  Si vous ouvrez maintenant la page, vous verrez les trois résultats les plus élevés surlignés en rouge. </p><br><p>  Et bien sûr, ce problème peut être résolu de nombreuses manières alternatives.  Par exemple, n'utilisez pas de classes CSS, mais calculez la couleur dans la requête SQL et insérez-la dans l'attribut <code>style</code> , ou décrivez la classe CSS souhaitée dans la page ou le modèle de rapport.  Il existe de nombreuses variantes, choisissez qui est le plus proche. </p><br><p>  <strong>Remarque:</strong> pour masquer toutes les colonnes supplémentaires utilisées pour le formatage ou certains calculs intermédiaires, sélectionnez " <code>Hidden Column</code> " dans les propriétés de la colonne " <code>Identification</code> " → " <code>Type</code> ". </p><br><h6 id="formatirovanie-putem-izmeneniya-shablona">  Formatage en modifiant un modèle </h6><br><p>  Le formatage à l'aide des propriétés de colonne présente un inconvénient: vous ne pouvez pas influencer le format de la cellule elle-même, c'est-à-dire la balise <code>td</code> .  Pour cette raison, par exemple, il ne sera pas possible de remplir complètement la cellule avec n'importe quelle couleur (car dans les fichiers CSS apex standard, la cellule du tableau a un <code>padding</code> non nul et il y aura une bordure blanche à l'intérieur). </p><br><p>  Prenez le même exemple que ci-dessus et ajoutez une surbrillance jaune pour les lignes avec les trois meilleurs résultats. </p><br><p>  Pour ce faire, procédez comme suit: </p><br><ol><li>  Nous allons dans " <code>Shared Components</code> " → " <code>User Interface</code> " → " <code>Templates</code> ", dans la liste des modèles qui apparaît, cliquez sur l'en-tête de la colonne " <code>Type</code> " et sélectionnez " <code>Report</code> " dans la liste des valeurs qui apparaît.  Nous trouvons maintenant le modèle " <code>Standard</code> " (il est utilisé par défaut) et dans la colonne la plus à droite de la liste (" <code>Copy</code> ") cliquez sur le bouton pour créer une copie du modèle.  Dans la fenêtre qui apparaît, donnez un nom au modèle, par exemple, "Standard avec surbrillance". </li><li><p>  Les propriétés du modèle sont ouvertes.  Sous l'onglet " <code>Column Template</code> ", le champ " <code>Column Template 1</code> " contient quelque chose comme ceci: </p><br><pre> <code class="plaintext hljs">&lt;td class="t-Report-cell" #ALIGNMENT# headers="#COLUMN_HEADER_NAME#"&gt;#COLUMN_VALUE#&lt;/td&gt;</code> </pre> <br><p>  Il s'agit du modèle de cellule tel qu'il est utilisé actuellement.  Sur cet onglet, vous pouvez spécifier jusqu'à quatre modèles de cellule alternatifs, le choix entre ceux-ci s'effectuant en fonction du résultat du calcul des conditions de chacun des modèles.  Nous avons un champ <code>RN</code> dans la demande - le numéro de série du résultat (c'est-à-dire que le meilleur résultat est le numéro 1, le suivant est 2, etc.), ici nous allons l'utiliser.  Le premier modèle (par la condition du problème) ne doit être appliqué qu'aux lignes dans lesquelles la valeur de la colonne <code>RN</code> supérieure à trois.  Dans les propriétés du modèle dans le champ " <code>Column Template 1 Condition</code> ", sélectionnez " <code>Use Based on PL/SQL Expression</code> ", et dans le champ " <code>Column Template 1 Expression</code> ", écrivez: </p><br><pre> <code class="plaintext hljs">:RN &gt; 3</code> </pre> <br><p>  Et il ne reste plus qu'à ajouter un modèle alternatif (dans le champ " <code>Column Template 2</code> "): </p><br><pre> <code class="plaintext hljs">&lt;td class="t-Report-cell highlighted" #ALIGNMENT# headers="#COLUMN_HEADER_NAME#"&gt;#COLUMN_VALUE#&lt;/td&gt;</code> </pre> <br><p>  Ici, la classe en <code>highlighted</code> est ajoutée à la classe de cellule standard ( <code>td</code> ).  Reste maintenant à cliquer sur le bouton "Appliquer les modifications". </p><br></li><li>  Revenez à Page Designer.  Nous retrouvons notre rapport, dans la propriété " <code>Attributes</code> " → " <code>Appearance</code> " → " <code>Template</code> ", sélectionnez notre nouveau modèle "Standard avec surlignage" dans la liste. </li><li>  Comme dans l'exemple précédent, dans les propriétés de la page (" <code>CSS</code> " → " <code>Inline</code> "), nous décrivons notre nouvelle classe en <code>highlighted</code> : </li></ol><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.highlighted</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: lightyellow <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; }</code> </pre> <br><p>  Nous sauvegardons la page, vérifions le résultat (cela devrait être comme dans l'image au début de l'article). </p><br><h3 id="dobavlyaem-interaktiva">  Ajouter interactif </h3><br><h6 id="sobytiya-vida-klik-na-stroke-otcheta">  Événements de type «cliquez sur la ligne du rapport» </h6><br><p>  L'une des tâches les plus courantes consiste à déterminer le numéro de ligne sur lequel l'utilisateur a cliqué.  Pour les événements dans le navigateur au sommet, les composants de Dynamic Action (DA) sont responsables.  Malheureusement, malgré le grand nombre de types différents, il n'y a pas de DA typique pour traiter un clic sur une ligne de rapport.  Mais il est relativement facile à imiter.  Par exemple, nous allons créer un rapport maître-détail à partir de deux rapports classiques sur la base du rapport de la section précédente. <br>  Le deuxième rapport ici sera un tableau avec des numéros de téléphone.  En cliquant sur le premier tableau il sera mis à jour et affichera le numéro de téléphone de la personne sélectionnée (et sans recharger la page!).  Pour ce rapport, créez une autre région de type "Rapport classique". </p><br><div class="spoiler">  <b class="spoiler_title">La demande sera, par exemple,</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> phone <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">'1684313'</span></span> phone_num <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'6843513'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'8916311'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'6843213'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'6513218'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'9561311'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'9843135'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> phone_num <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> phone <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = :P2_ROW_ID</code> </pre> </div></div><br><p>  Composants nécessaires de la solution: </p><br><ol><li><p>  Une méthode pour identifier une chaîne sélectionnée par l'utilisateur.  À cet effet, la colonne <code>ID</code> convient.  Malheureusement, si cette colonne est marquée comme cachée (très souvent, des idishers supplémentaires ne montrent pas l'utilisateur pour ne pas surcharger l'interface), elle ne sera pas du tout rendue par le moteur, et ces données ne seront pas présentes sur la page.  Mais ils peuvent être ajoutés à une colonne existante de la même manière que celle utilisée pour formater la sortie.  Prenons une colonne (par exemple, la première visible) et dans le champ " <code>Column formatting</code> " → " <code>HTML Expression</code> ", écrivez: </p><br><pre> <code class="plaintext hljs">&lt;span class="click" data-id="#ID#"&gt;&lt;/span&gt;#NAME#</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Vous pouvez insérer ce code directement dans la requête SQL, mais il vaut mieux ne pas</b> <div class="spoiler_text"><p>  Il existe une autre option pour faire de même - ajoutez ce code HTML directement à la demande: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;span class="click" data-id="'</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> || <span class="hljs-string"><span class="hljs-string">'"&gt;&lt;/span&gt;'</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ...</code> </pre> <br><p>  Le résultat dans son ensemble sera le même, mais le tri par le champ de <code>name</code> cessera de fonctionner, car le moteur SGBD considérera cette ligne entière comme des données et triera par elle.  Et si vous le faites via le " <code>Column formatting</code> ", les données selon lesquelles le tri sera effectué ne contiendront rien de superflu. <br>  De plus, dans ce cas, pour afficher le code HTML dans la colonne, vous devrez abandonner l'échappement des caractères spéciaux, ce qui constitue également une faille de sécurité potentielle. </p></div></div><br></li><li>  Identifiant du rapport (dans le cas où plusieurs rapports de ce type figurent sur la page).  La région a la propriété " <code>Advanced</code> " → " <code>Static ID</code> ", mettez là la valeur <code>my_rep</code> .  La valeur de cette propriété est utilisée dans le code HTML de la page.  L'élément <code>div</code> qui contient la région recevra l'attribut <code>id</code> avec cette valeur.  Si le champ " <code>Static ID</code> " est vide, l'apex utilisera l'identifiant de région des tables système pour l'attribut <code>id</code> .  Il vaut mieux ne pas s'y fier, car lors du transfert de l'application vers un autre serveur cet identifiant <del>  peut changer </del>  presque garanti de changer. </li><li>  Un élément pour le stockage temporaire de la valeur <code>ID</code> de la ligne sélectionnée.  Créons un élément <code>P2_ROW_ID</code> type " <code>Hidden</code> " (ce nom, comme vous pouvez le voir, est utilisé dans la requête qui renvoie la liste des téléphones). </li><li><p>  Ensuite, vous devez créer une action dynamique.  Ouvrez Page Designer, dans le panneau de gauche de l'onglet "Actions dynamiques", trouvez la branche "Cliquez", cliquez dessus avec le bouton droit, sélectionnez "Créer une action dynamique" dans le menu.  Ensuite, remplissez les propriétés DA suivantes: </p><br><ul><li>  " <code>Identification</code> " → " <code>Name</code> ": un nom significatif, sinon vous vous perdrez dans ces interminables "Nouveau", "Nouveau2", "Nouveau3", etc. </li><li>  " <code>When</code> " → " <code>Selection Type</code> ": " <code>jQuery Selector</code> "; </li><li><p>  dans le champ « <code>jQuery Selector</code> » qui apparaît ensuite: ici vous pouvez spécifier un sélecteur qui pointera vers une <code>span</code> invisible supplémentaire avec un identifiant de ligne: </p><br><pre> <code class="plaintext hljs">#my_rep table.t-Report-report tr</code> </pre> <br></li></ul><br></li></ol><br><p>  Ensuite, créons des actions pour ce DA (" <code>True Actions</code> "): </p><br><ul><li><p>  La première action obtient l' <code>ID</code> ligne sélectionnée et le stocke dans un élément.  Vous devez définir les valeurs de propriété suivantes: " <code>Action</code> " - " <code>Set Value</code> ", " <code>Set Type</code> " - " <code>JavaScript Expression</code> ", " <code>JavaScript Expression</code> " - le code suivant: </p><br><pre> <code class="plaintext hljs"> this.triggeringElement.querySelector('span.click').dataset.id</code> </pre> <br><p>  Dans la propriété " <code>Affected Elements</code> " → " <code>Selection Type</code> ", sélectionnez " <code>Item(s)</code> ", dans la propriété " <code>Item(s)</code> ", sélectionnez l'élément <code>P2_ROW_ID</code> . </p><br></li><li>  La deuxième action envoie la valeur de l'élément au serveur.  Propriétés: " <code>Action</code> " - " <code>Execute PL/SQL Code</code> ", " <code>PL/SQL Code</code> " - just <code>null;</code>  , " <code>Items to Submit</code> " - <code>P2_ROW_ID</code> (en fait, toute cette action est nécessaire pour envoyer la valeur de l'élément au serveur - il n'y a pas de moyen plus simple de le faire; alternativement, au lieu de ces deux <code>Actions</code> vous pouvez en créer une avec un javascript à l'intérieur, qui calculera la valeur, et envoyer au serveur - et ce ne sera même pas beaucoup plus difficile). </li><li>  La troisième action met à jour le deuxième rapport (Détail).  Propriétés: " <code>Action</code> " - " <code>Refresh</code> ", " <code>Affected Elements</code> " → " <code>Selection Type</code> " - sélectionnez " <code>Region</code> ", dans " <code>Region</code> " sélectionnez la deuxième région avec les téléphones. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Note d'action dynamique</b> <div class="spoiler_text"><p>  À l'avenir, j'écrirai un article détaillé séparé sur DA et de nombreux autres composants apex d'entrée de gamme afin que tout débutant comprenne immédiatement comment et lequel des travaux suivants, mais pour l'instant imaginez que le lecteur sait déjà tout cela. </p></div></div><br><p>  C’est tout.  Si vous avez suivi toutes ces étapes et que vous n'avez rien oublié, vous aurez deux rapports sur la page, et lorsque vous cliquez sur une ligne du premier rapport, le second sera mis à jour et affichera les données de la personne sélectionnée. </p><br><h6 id="izmenenie-dannyh-s-pomoschyu-classic-report">  Modification des données avec Classic Report </h6><br><p>  Dans l'apex des versions anciennes, il y avait un type de rapport connu sous le nom de forme tabulaire (il existe toujours en principe, bien qu'il soit marqué comme hérité), qui permettait de modifier les données dans plusieurs lignes du tableau à la fois.  Il a été remplacé par une grille interactive beaucoup plus puissante.  Ici, je vais montrer comment utiliser les moyens improvisés pour assembler un analogue d'une forme tabulaire à tube chaud.  Prenez le même tableau que dans l'exemple précédent et ajoutez la possibilité de modifier le nom et le prénom de la personne. <br>  Pour l'édition des données, dont le montant n'est même pas connu à l'avance, approximativement, nous aurons besoin des <code>APEX_ITEM</code> et <code>APEX_APPLICATION</code> .  Le premier vous permet de créer des éléments en runtime (la création, dans ce cas, est la génération du HTML correspondant), et le second vous permet d'accéder aux données saisies dans les champs créés en runtime. <br>  Considérez la fonction <code>APEX_ITEM.TEXT</code> comme <code>APEX_ITEM.TEXT</code> (elle retourne le code HTML d'une simple entrée de texte).  Voici comment cette fonction est déclarée dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> : </p><br><pre> <code class="sql hljs">APEX_ITEM.TEXT( p_idx IN NUMBER, p_value IN VARCHAR2 DEFAULT NULL, p_size IN NUMBER DEFAULT NULL, p_maxlength IN NUMBER DEFAULT NULL, p_attributes IN VARCHAR2 DEFAULT NULL, p_item_id IN VARCHAR2 DEFAULT NULL, p_item_label IN VARCHAR2 DEFAULT NULL) RETURN VARCHAR2;</code> </pre> <br><p>  Les paramètres à partir de la seconde décrivent ce que le code HTML contiendra: la valeur dans le champ de saisie, les attributs supplémentaires, les restrictions de longueur, etc. Le paramètre le plus important dans notre cas est le premier (c'est le seul paramètre requis, les autres ont des valeurs par défaut).  Ce paramètre peut prendre des valeurs de 1 à 50, puis le nombre saisi ici sera utilisé pour accéder aux données saisies par l'utilisateur.  Chaque numéro correspond à la collection PL / SQL <code>APEX_APPLICATION.G_FXX</code> , où <code>XX</code> est <code>01</code> , <code>02</code> , ... <code>50</code> . <br>  Pour notre tâche, nous avons besoin de trois champs de table: <code>id</code> , <code>name</code> , <code>name</code> <code>surname</code> .  Le premier doit être masqué, le deuxième et le troisième doivent être des champs de saisie. </p><br><ol><li><p>  Nous créons un rapport basé sur la requête SQL: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> apex_item.hidden(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) || apex_item.text(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, apex_item.text(<span class="hljs-number"><span class="hljs-number">3</span></span>, surname) surname, birthdate, examdate <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> students</code> </pre> <br></li><li>  Dans les propriétés des colonnes <code>NAME</code> et <code>NAME</code> , nous <code>SURNAME</code> l'échappement des caractères: dans " <code>Security</code> " → " <code>Escape special characters</code> " nous définissons " <code>No</code> ". </li><li>  Créez un bouton " <code>Save</code> ", les paramètres peuvent être laissés par défaut. </li><li><p>  Nous créons le processus " <code>After Submit</code> " avec les propriétés: " <code>Identification</code> " → " <code>Type</code> " - " <code>PL/SQL</code> ";  " <code>Server-side Conditions</code> " → " <code>When Button Pressed</code> enfoncé" - bouton " <code>Save</code> ".  Et le code pour enregistrer les données dans la base de données: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> apex_application.g_f01.first .. apex_application.g_f01.last <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> students <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = apex_application.g_f02(i), surname = apex_application.g_f03(i) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = apex_application.g_f01(i); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br></li></ol><br><p>  Comme vous pouvez le voir, cela semble très simple.  Il ne reste plus qu'à mentionner un piège désagréable à travailler avec <code>APEX_ITEM</code> .  Si vous souhaitez ainsi ajouter des cases à cocher au rapport: </p><br><pre> <code class="plaintext hljs">select ... apex_item.checkbox2(4, id) from students</code> </pre> <br><p>  Ensuite, vous aurez autant d'éléments dans la collection <code>APEX_APPLICATION.G_F04</code> qu'il y a de cases à cocher, tandis que dans toutes les autres collections, le nombre d'éléments sera égal au nombre de lignes affichées à l'écran, et la valeur que vous passerez comme deuxième paramètre à la fonction <code>apex_item.checkbox2</code> tombera dans le contenu de la collection <code>apex_item.checkbox2</code> .  Ainsi, si vous utilisez une collection avec des données de cases à cocher dans un code similaire à celui ci-dessus, vous pouvez rencontrer l'exception <code>NO DATA FOUND</code> . </p><br><h2 id="interactive-report-ir">  Rapport interactif (IR) </h2><br><p>  Interactive Report est une combinaison polyvalente prête à l'emploi dans laquelle il existe un grand nombre de fonctions pour travailler avec des données.  Il suffit de les activer dans les paramètres (plus précisément, ne les désactivez pas, car par défaut presque tout y est inclus).  Sur la page IR, cela ressemble presque à un rapport régulier, seulement au-dessus, il y a un panneau supplémentaire avec un champ de saisie pour la recherche et le bouton " <code>Actions</code> ".  Le bouton " <code>Actions</code> " affiche un menu supplémentaire à partir duquel toutes les autres fonctions sont disponibles.  Je vais seulement énumérer brièvement les possibilités: </p><br><ul><li>  Panneau de recherche: permet de rechercher le texte spécifié dans toutes les colonnes du rapport; </li><li>  " <code>Actions</code> " → " <code>Columns</code> ": paramétrer l'affichage des colonnes (séquence, masquer / afficher); </li><li>  " <code>Actions</code> " → " <code>Filter</code> ": outils de filtrage des données qui vous permettent de sélectionner un champ, opération de filtrage (plus, moins, égal, contient du texte, etc.); </li><li>  " <code>Actions</code> " → " <code>Data</code> ": manipulation des données (tri, calcul, agrégation et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flashback</a> ); </li><li>  " <code>Actions</code> " → " <code>Format</code> ": paramètres d'affichage des données;  vous permet de mettre en surbrillance les données nécessaires (les couleurs de surbrillance et les conditions des données sont ajustées), de faire une coupure de contrôle (je ne sais pas comment on l'appelle en russe, ça ressemble à ça), sélectionnez le nombre de lignes de rapport sur la page; </li><li>  " <code>Actions</code> " → " <code>Chart</code> ", " <code>Group by</code> ", " <code>Pivot</code> ": les noms parlent d'eux-mêmes - construction de tableaux, graphiques, rapports de synthèse basés sur des données IR; </li><li>  " <code>Actions</code> " → " <code>Report</code> ": permet à l'utilisateur final d'enregistrer le rapport sous un nom spécifique.  Dans ce cas, tous les paramètres définis à partir de tous les éléments de menu décrits ci-dessus seront enregistrés et chaque utilisateur aura les leurs; </li><li>  " <code>Actions</code> " → " <code>Download</code> ": export des données, 5 formats sont supportés: CSV, PDF, XLS, HTML, RTF. </li></ul><br><p>  Lequel des éléments ci-dessus sera disponible pour l'utilisateur est configuré dans les propriétés du rapport: " <code>Attributes</code> " → groupes de propriétés " <code>Search Bar</code> ", " <code>Actions Menu</code> ", " <code>Download</code> ". <br>  Interactive Report      ,    Classic Report.        ,  HTML    (    ).      — " <code>Remove HTML</code> ",   HTML     (       ,    ). <br>    ,      . <br> -,  IR      " <code>Template</code> ".        , CSS-  ,     — IR    ,      .    ,  . (,  - ,   ,   ,   .) <br> -,       .  " <code>Sequence</code> "   ,    .    ,    :  ,    ,   " <code>Actions</code> " → " <code>Columns</code> "     .   :    " <code>Actions</code> " → " <code>Report</code> "  " <code>Save Report</code> ",       " <code>Primary</code> " —           (   " <code>Primary</code> "  ,      IDE       IDE). </p><br><h2 id="interactive-grid-ig"> Interactive Grid (IG) </h2><br><p> Interactive Grid —    Interactive Report.      5.1. IG    IR,       ,     .  IG   javascript API,        (  18.2, ).           . </p><br><div class="spoiler"> <b class="spoiler_title">      ,  - </b> <div class="spoiler_text"><p>           ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ), ,   ,   -   .      5.1,      ,   : </p><br><p><img src="https://habrastorage.org/webt/co/c9/4j/coc94jjjcuf3xei_6cchcxpqosk.png" alt=" JS API IG"></p><br><p> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ) </p><br><p> ,    (     ),         .      (   ),  <code>.invoke( "add-row" )</code>    <code>.invoke( "row-add-row" )</code> . <br>  -, , . </p></div></div><br><div class="spoiler"> <b class="spoiler_title"> ,    Interactive Grid,   , </b> <div class="spoiler_text"><p>      .     (   ),   5. -  ,         .     ,         .    — " ". </p><br><p>   (  IR) —   .   (  )       ,          .  IDE -  .   IG    :       ,       ,      ,    . ,    5      ,    ,   -.      ,     ,    —  ,    ,    ,     (     "Actions" → "Columns":       ). </p><br><p>   —  . ,      ,   5.1       IG.   IG   ,    ,    —       " <code>Actions</code> " → " <code>Report</code> " → " <code>Save</code> ".         .           —  , -. </p></div></div><br><h6 id="sozdanie-stolbcov-ne-cherez-sql">     SQL </h6><br><p>   Classic Report   Interactive Report      SQL  (      ,     SQL ),   IG      .                " <code>Create Column</code> ".    ,     " <code>Source</code> " → " <code>Type</code> "  " <code>None</code> " (       SQL ,     ),   " <code>Database Column</code> " / " <code>SQL Expression</code> "        .  ,             .    ,   (  ,    ),    . </p><br><h6 id="novye-tipy-stolbcov">    </h6><br><p>    (   IR)   .  : </p><br><ul><li> " <code>Actions Menu</code> ".         -"" (   — ,   ""?).         — , ,     . . </li><li> " <code>Checkbox</code> ".    ,       ,       " <code>Row Selector</code> " (. ).  ,       ,    (    ),   ,   —   ,   . </li><li> " <code>Color picker</code> ". ,  ,    .     : </li></ul><br><p><img src="https://habrastorage.org/webt/hv/ev/xd/hvevxdxttene0nsyzqs9edwtv0y.png" alt="Capture d'écran du sélecteur de couleurs"></p><br><ul><li> " <code>Row Selector</code> ".     ,    ,  ,  ,       javascript  PL/SQL . </li><li>  (" <code>Date picker</code> ", " <code>Number field</code> ", " <code>Password</code> ",   ) —         .          <code>APEX_ITEM</code> (      Classic Report)      . </li></ul><br><p>   -     " <code>Download BLOB</code> ".           ,      Interactive Report    Classic Report.       —    ? (       "    IG".) </p><br><h6 id="master-detail-otchety-na-osnove-ig"> Master-Detail    IG </h6><br><p>  IG     Master-Detail .     ,    Classic Report .     ,    IG .   Master   ,   ,       (  → " <code>Source</code> " → " <code>Primary Key</code> "  " <code>Yes</code> ").  Detail      " <code>Master-Detail</code> " → " <code>Master Region</code> "       .   ,    ,     " <code>Master-Detail</code> " → " <code>Master Column</code> "      .    .     Master    Detail   . </p><br><h4 id="obrabotka-vvoda-dannyh-v-ig">     IG </h4><br><p>  ,      IG —     ,    .   IG       / . , ,    (   <code>STUDENTS</code>   )        ,      :      ,  ,    — ,   — .     IG       <code>STUDENTS</code> : </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> students</code> </pre> <br><p>    (" <code>Attributes</code> " → " <code>Edit</code> " → " <code>Enabled</code> "),     " <code>Processing</code> ",         IG (      : "IG — Save Interactive Grid Data"),    " <code>Settings</code> " → " <code>Target Type</code> "  " <code>PL/SQL Code</code> ",     " <code>PL/SQL Code to Insert/Update/Delete</code> "   : </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> :<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> := initcap(:<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); :SURNAME := initcap(:SURNAME); case :APEX$ROW_STATUS when 'I' then <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> students (<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (:<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, :SURNAME, :BIRTHDATE, :EXAMDATE); when 'U' then <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> students <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = :<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, surname = :SURNAME, birthdate = :BIRTHDATE, examdate = :EXAMDATE <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = :<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>; when 'D' then <span class="hljs-comment"><span class="hljs-comment">-- 'D'  ,     --  -    end case; end;</span></span></code> </pre> <br><p>        .   <code>APEX$ROW_STATUS</code>     <code>I</code> , <code>U</code>  <code>D</code> (insert, update, delete)    ,      ( , / ).     ,   (   ,    ):          SQL-,             ,               .   ,   <code>NAME</code> , <code>SURNAME</code> , <code>BIRTHDATE</code>  <code>EXAMDATE</code> . <br>       <code>APEX$ROW_NUM</code> ,     ,    ,  <code>APEX$ROW_SELECTOR</code> ,    <code>X</code>  ,        " <code>Row Selector</code> ". </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446736/">https://habr.com/ru/post/fr446736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446724/index.html">Comment les développeurs iOS cherchent à monter la barre avec le cloud computing</a></li>
<li><a href="../fr446726/index.html">Deep Learning en calcul de flux optique</a></li>
<li><a href="../fr446728/index.html">Comment la puissance reçue de la charge sans fil change en fonction de l'emplacement du téléphone</a></li>
<li><a href="../fr446730/index.html">Section backend sur DUMP: Serverless, Postgres and Go, .NET Core, GraphQL et plus</a></li>
<li><a href="../fr446732/index.html">Les feropodes n'aideront pas: recherche et modélisation mathématique des pièges à fosse pour les larves de fourmis lionnes</a></li>
<li><a href="../fr446738/index.html">Bases du traitement du langage naturel pour le texte</a></li>
<li><a href="../fr446740/index.html">Utiliser Python pour créer des rapports dans une seule entreprise</a></li>
<li><a href="../fr446742/index.html">Thèmes de la Top 3D Expo 2019: «Anisoprinting - la technologie pour la production de structures composites d'une nouvelle génération», Fedor Antonov</a></li>
<li><a href="../fr446744/index.html">VR avec interfaces neuronales - une immersion complète dans la réalité virtuelle</a></li>
<li><a href="../fr446746/index.html">Un employé d'UBS a entendu une conversation sur un voisin du train Eurostar et a découvert un accord de 15 milliards de dollars. Maintenant, lui et la banque seront condamnés à une amende</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>