<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÆ üñçÔ∏è üéà Utilisation de dates en langage R (fonctionnalit√©s de base, ainsi que les packages lubridate et timeperiodsR) ü¶Ü üßõüèº üë¥üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Obtenez la date actuelle dans n'importe quel langage de programmation, une op√©ration √©quivalente √† "Hello world!" Le langage R ne fait pas exception. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utilisation de dates en langage R (fonctionnalit√©s de base, ainsi que les packages lubridate et timeperiodsR)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469215/"><p>  Obtenez la date actuelle dans n'importe quel langage de programmation, une op√©ration √©quivalente √† "Hello world!"  Le langage R ne fait pas exception. </p><br><p>  Dans cet article, nous allons examiner le fonctionnement des dates dans la syntaxe R de base, ainsi que quelques packages utiles qui √©tendent ses capacit√©s lors de l'utilisation de dates: </p><br><ul><li> <code>lubridate</code> - un package qui permet des calculs arithm√©tiques entre les dates; </li><li>  <code>timeperiodsR</code> - un package pour travailler avec des intervalles de temps et leurs composants. </li></ul><br><p><img src="https://habrastorage.org/webt/l2/mg/nl/l2mgnl_5u7eejcuu1hazlp5xocg.jpeg"></p><a name="habracut"></a><br><hr><br><h1 id="soderzhanie">  Table des mati√®res </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Utilisation de dates dans la syntaxe de base R</a> <br>  1.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Convertir le texte en date</a> <br>  1.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©cup√©ration des composants de date dans Base R</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Travailler avec des dates avec le package lubridate</a> <br>  2.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Convertir du texte en date √† l'aide de Lubrifier</a> <br>  2.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©cup√©ration des composants de date √† l'aide du package lubridate</a> <br>  2.3.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Op√©rations arithm√©tiques avec dates</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Travail simplifi√© avec p√©riodes, package timeperiodsR</a> <br>  3.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intervalles de temps en timeperiodsR</a> <br>  3.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Filtrage d'un vecteur de date avec timeperiodsR</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conclusion</a> </li></ol><br><hr><br><h1 id="rabota-s-datami-v-bazovom-sintaksise-r">  Utilisation de dates dans la syntaxe de base R </h1><br><h3 id="preobrazovanie-teksta-v-datu">  Convertir le texte en date </h3><br><p>  Dans R de base, il existe un ensemble de fonctions pour travailler avec les dates.  Le moins de la syntaxe de base est que le registre des noms et des arguments des fonctions est tr√®s fragment√© et n'a pratiquement pas de connexion logique.  N√©anmoins, les fonctions de base du langage doivent √™tre connues, nous allons donc commencer par elles. </p><br><p>  Le plus souvent, lors du chargement de donn√©es dans R, √† partir de fichiers csv ou d'autres sources, vous obtenez la date sous forme de texte.  Pour <code>as.Date()</code> ce texte en type de donn√©es correct, utilisez la fonction <code>as.Date()</code> . </p><br><pre> <code class="plaintext hljs">#      my_dates &lt;- c("2019-09-01", "2019-09-10", "2019-09-23") #    class(my_dates)</code> </pre> <br><pre> <code class="plaintext hljs">#&gt; [1] "character"</code> </pre> <br><pre> <code class="plaintext hljs">#     my_dates &lt;- as.Date(my_dates) #    class(my_dates)</code> </pre> <br><pre> <code class="plaintext hljs">#&gt; [1] "Date"</code> </pre> <br><p>  Par d√©faut, <code>as.Date()</code> accepte une date dans deux formats: <em>AAAA-MM-JJ</em> ou <em>AAAA / MM / JJ</em> . <br>  Si les dates de votre ensemble de donn√©es sont dans un autre format, vous pouvez utiliser l'argument <code>format</code> pour la conversion. </p><br><pre> <code class="plaintext hljs">as.Date("September 26, 2019", format = "%B %d, %Y")</code> </pre> <br><p>  <em>format</em> accepte sous forme d'op√©rateurs sous forme de cha√Æne indiquant tout intervalle de temps et son format, les valeurs les plus fr√©quemment utilis√©es sont indiqu√©es dans le tableau ci-dessous: </p><br><div class="scrollable-table"><table><thead><tr><th>  Format </th><th>  La description </th></tr></thead><tbody><tr><td>  % d </td><td>  Num√©ro du jour en mois </td></tr><tr><td>  % a </td><td>  Abr√©viation du nom du jour de la semaine </td></tr><tr><td>  % A </td><td>  Nom complet du jour de la semaine </td></tr><tr><td>  % w </td><td>  Num√©ro du jour de la semaine (0-6, o√π 0 est le dimanche) </td></tr><tr><td>  % m </td><td>  D√©signation du mois √† deux chiffres (01-12) </td></tr><tr><td>  % b </td><td>  Abr√©viation du nom du mois (avril, mars, ...) </td></tr><tr><td>  % B </td><td>  Nom du mois complet </td></tr><tr><td>  % y </td><td>  D√©signation de l'ann√©e √† deux chiffres </td></tr><tr><td>  % Y </td><td>  D√©signation de l'ann√©e √† quatre chiffres </td></tr><tr><td>  % j </td><td>  Num√©ro de jour de l'ann√©e (001 - 366) </td></tr><tr><td>  % U </td><td>  Num√©ro de semaine de l'ann√©e (00 - 53), d√©but de semaine dimanche </td></tr><tr><td>  % W </td><td>  Num√©ro de semaine de l'ann√©e (00-53), d√©but de semaine lundi </td></tr></tbody></table></div><br><p>  Par cons√©quent, ¬´26 septembre 2019¬ª est le nom complet du mois, du jour et de l'ann√©e.  Vous pouvez d√©crire ce format de date avec les op√©rateurs comme suit: <code>"%B %d, %Y"</code> . </p><br><p>  <strong>O√π:</strong> </p><br><ul><li>  <code>%B</code> - Nom complet du mois </li><li>  <code>%d</code> - Num√©ro du jour du mois </li><li>  <code>%Y</code> - D√©signation de l'ann√©e √† quatre chiffres </li></ul><br><p>  Lors de la description du format de date, il est important d'inclure tous les caract√®res suppl√©mentaires de votre cha√Æne, tels que des tirets, des virgules, des points, des espaces, etc.  Dans mon exemple, "26 septembre 2019", une virgule est plac√©e apr√®s la date et une virgule doit √©galement √™tre plac√©e dans la description du format: <code>"%B %d, %Y"</code> . </p><br><p>  Dans certaines situations, vous obtenez une date non seulement non conforme aux formats standard <em>(AAAA-MM-JJ ou AAAA / MM / JJ)</em> , mais √©galement dans une langue qui diff√®re du param√®tre par d√©faut de votre syst√®me d'exploitation.  Par exemple, vous avez t√©l√©charg√© des donn√©es dont la date est indiqu√©e sous la forme suivante: "15 d√©cembre 2019".  Avant de convertir cette cha√Æne en une date, vous devez modifier les param√®tres r√©gionaux. </p><br><pre> <code class="plaintext hljs">#   Sys.setlocale("LC_TIME", "Russian") #     as.Date(" 15, 2019 .", format = "%B %d, %Y")</code> </pre> <br><h3 id="izvlechenie-komponentov-daty-v-bazovom-r">  R√©cup√©ration des composants de date dans Base R </h3><br><p>  Il n'y a pas beaucoup de fonctions dans R de base qui vous permettent d'extraire n'importe quelle partie d'une date d'un objet de la classe <em>Date</em> . </p><br><pre> <code class="plaintext hljs">current_date &lt;- Sys.Date() #   weekdays(current_date) #     months(current_date) #      quarters(current_date) #     </code> </pre> <br><p>  En plus de la classe principale d'objets <em>Date</em> dans le R de base, il existe 2 autres types de donn√©es qui stockent l'horodatage: <em>POSIXlt</em> , <em>POSIXct</em> .  La principale diff√©rence entre ces classes et <em>Date</em> est qu'elles stockent l'heure en plus de la date. </p><br><pre> <code class="plaintext hljs">#      current_time &lt;- Sys.time() #    current_time class(current_time)</code> </pre> <br><pre> <code class="plaintext hljs"># "POSIXct" "POSIXt"</code> </pre><br><p>  La fonction <code>Sys.time()</code> renvoie la date et l'heure <em>actuelles au</em> format <em>POSIXct</em> .  Ce format a une signification similaire √† <em>UNIXTIME</em> et stocke le nombre de secondes depuis le d√©but de l'√®re UNIX <em>(minuit (UTC) du 31 d√©cembre 1969 au 1er janvier 1970)</em> . </p><br><p>  La classe <em>POSIXlt</em> stocke √©galement l'heure et la date et tous leurs composants.  Par cons√©quent, c'est un objet avec une structure plus complexe, mais √† partir duquel il est facile d'obtenir n'importe quel composant de la date et de l'heure car  essentiellement <em>POSIXlt</em> est une <em>liste</em> . </p><br><pre> <code class="plaintext hljs">#      current_time_ct &lt;- Sys.time() #    POSIXlt current_time_lt &lt;- as.POSIXlt(current_time_ct) #      current_time_lt$sec #  current_time_lt$min #  current_time_lt$hour #  current_time_lt$mday #   current_time_lt$mon #  current_time_lt$year #  current_time_lt$wday #   current_time_lt$yday #   current_time_lt$zone #  </code> </pre> <br><p>  La conversion des donn√©es num√©riques et textuelles aux formats <em>POSIX *</em> est effectu√©e par les fonctions <code>as.POSIXct()</code> et <code>as.POSIXlt()</code> .  Ces fonctions ont un petit ensemble d'arguments. </p><br><ul><li>  x - Le nombre, la cha√Æne ou l'objet de la classe <em>Date</em> √† convertir; </li><li>  tz - Fuseau horaire, la valeur par d√©faut est "GMT"; </li><li>  format - Description du format de date dans lequel les donn√©es transmises dans l'argument x sont pr√©sent√©es; </li><li>  origin - Utilis√© uniquement lors de la conversion d'un nombre en POSIX, vous devez passer un objet date √† cet argument et l'heure √† partir de laquelle les secondes sont compt√©es.  G√©n√©ralement utilis√© pour la traduction √† partir d'UNIXTIME. </li></ul><br><p>  Si vos donn√©es de date et d'heure sont pr√©sent√©es dans <em>UNIXTIME</em> , utilisez l'exemple suivant pour les convertir en une date compr√©hensible et lisible: </p><br><pre> <code class="plaintext hljs">#  UNIXTIME    as.POSIXlt(1570084639, origin = "1970-01-01")</code> </pre> <br><p>  √Ä l'origine, vous pouvez sp√©cifier n'importe quel horodatage.  Par exemple, si dans vos donn√©es la date et l'heure sont indiqu√©es en nombre de secondes √† partir du 15 septembre 2019 12:15, alors pour les convertir en date, utilisez: </p><br><pre> <code class="plaintext hljs">#  UNIXTIME       15  2019 12:15 as.POSIXlt(1546123, origin = "2019-09-15 12:15:00")</code> </pre> <br><h1 id="rabota-s-datami-s-pomoschyu-paketa-lubridate">  Travailler avec des dates avec le package lubridate </h1><br><p>  <code>lubridate</code> peut <code>lubridate</code> √™tre le package le plus populaire pour travailler avec des dates dans R. Il vous offre trois autres classes suppl√©mentaires. </p><br><ul><li>  dur√©es - dur√©e, c.-√†-d.  nombre de secondes entre deux horodatages; </li><li>  p√©riodes - les p√©riodes vous permettent d'effectuer des calculs entre des dates d'intervalles lisibles par l'homme: jours, mois, semaines, etc. </li><li>  intervalles - objets fournissant le point initial et final dans le temps. </li></ul><br><p>  L'installation de packages suppl√©mentaires en langage R est effectu√©e par la fonction standard <code>install.packages()</code> . </p><br><p>  Installation du paquet de <code>lubridate</code> : </p><br><pre> <code class="plaintext hljs">install.packages("lubridate")</code> </pre> <br><h3 id="preobrazovanie-teksta-v-datu-s-pomoschyu-lubridate">  Convertir le texte en date √† l'aide de Lubridate </h3><br><p>  Les fonctions du package <code>lubridate</code> simplifient consid√©rablement le processus de conversion de texte en date et vous permettent √©galement d'effectuer toutes les op√©rations arithm√©tiques avec des dates et des heures. </p><br><p>  Les fonctions <code>today()</code> et <code>now()</code> vous aideront √† obtenir la date actuelle, ou la date et l'heure. </p><br><pre> <code class="plaintext hljs">today() #   now() #    </code> </pre> <br><p>  Pour convertir une cha√Æne en date, <code>lubridate</code> dispose de toute une famille de fonctions dont les noms se composent toujours de trois lettres et indiquent une s√©quence de composants de date: </p><br><ul><li>  y - ann√©e </li><li>  m - mois </li><li>  d - jour </li></ul><br><div class="spoiler">  <b class="spoiler_title">Liste des fonctions pour convertir du texte √† ce jour via lubridate</b> <div class="spoiler_text"><ul><li> <code>ymd()</code> </li> <li> <code>ydm()</code> </li> <li> <code>mdy()</code> </li> <li> <code>myd()</code> </li> <li> <code>dmy()</code> </li> <li> <code>dym()</code> </li> <li> <code>yq()</code> </li> </ul></div></div><br><p>  Quelques exemples de conversion de cha√Ænes en dates: </p><br><pre> <code class="plaintext hljs">ymd("2017 jan 21") mdy("March 20th, 2019") dmy("1st april of 2018")</code> </pre> <br><p>  Comme vous pouvez le voir, <code>lubridate</code> beaucoup plus efficace pour reconna√Ætre les descriptions de date sous forme de texte et vous permet de convertir du texte en date sans utiliser d'op√©rateurs suppl√©mentaires pour d√©crire le format. </p><br><h3 id="izvlechenie-komponentov-dat-s-pomoschyu-paketa-lubridate">  R√©cup√©ration des composants de date √† l'aide du package lubridate </h3><br><p>  En utilisant √©galement <code>lubridate</code> vous pouvez obtenir n'importe quel composant √† partir d'une date: </p><br><pre> <code class="plaintext hljs">dt &lt;- ymd("2017 jan 21") year(dt) #  month(dt) #  mday(dt) #    yday(dt) #    wday(dt) #  </code> </pre> <br><h3 id="arifmeticheskie-operacii-s-datami">  Op√©rations arithm√©tiques avec dates </h3><br><p>  Mais, la fonctionnalit√© la plus importante et la plus √©l√©mentaire du <code>lubridate</code> est la capacit√© d'effectuer diverses op√©rations arithm√©tiques avec des dates. </p><br><p>  L'arrondi d'une date est assur√© par trois fonctions: </p><br><ul><li>  <code>floor_date</code> - arrondi √† l'heure pass√©e la plus proche </li><li>  <code>ceiling_date</code> - arrondi au futur proche </li><li>  <code>round_date</code> - arrondi √† l'heure la plus proche </li></ul><br><p>  Chacune de ces fonctions a un argument d' <em>unit√©</em> , qui vous permet de sp√©cifier une unit√© d'arrondi: seconde, minute, heure, jour, semaine, mois, bimestre, trimestre, saison, demi-ann√©e, ann√©e </p><br><pre> <code class="plaintext hljs">dt &lt;- ymd("2017 jan 21") round_date(dt, unit = "month") #    round_date(dt, unit = "3 month") #   3  round_date(dt, unit = "quarter") #    round_date(dt, unit = "season") #    round_date(dt, unit = "halfyear") #   </code> </pre> <br><p>  Voyons donc comment obtenir une date qui sera 8 jours apr√®s la date actuelle et effectuons divers autres calculs arithm√©tiques entre deux dates. </p><br><pre> <code class="plaintext hljs">today() + days(8) #     8  today() - months(2) #    2   today() + weeks(12) #     12  today() - years(2) #    2  </code> </pre> <br><h1 id="uproschyonnaya-rabota-s-periodami-paket-timeperiodsr">  Travail simplifi√© avec des p√©riodes, package timeperiodsR. </h1><br><p>  <code>timeperiodsR</code> est un nouveau package pour travailler avec des dates qui a √©t√© publi√© sur CRAN en septembre 2019. </p><br><p>  Installation du package <code>timeperiodsR</code> : </p><br><pre> <code class="plaintext hljs">install.packages("timeperiodsR")</code> </pre> <br><p>  Le but principal est de d√©terminer rapidement un certain intervalle de temps par rapport √† une date donn√©e.  Par exemple, en utilisant ses fonctions, vous pouvez facilement: </p><br><ul><li>  Obtenez la semaine derni√®re, le mois, le trimestre ou l'ann√©e en R. </li><li>  Obtenez un nombre donn√© de plages horaires par rapport √† une date, comme les 4 derni√®res semaines. </li><li>  Il est facile d'extraire ses composants de l'intervalle de temps obtenu: les dates de d√©but et de fin, le nombre de jours qui tombent dans l'intervalle, la s√©quence compl√®te des dates qui y entrent. </li></ul><br><p>  Le nom de toutes les fonctions du package <code>timeperiodsR</code> intuitif et se compose de deux parties: <em>direction</em> _ <em>intervalle</em> , o√π: </p><br><ul><li>  <strong>direction</strong> dans laquelle il faut se d√©placer par rapport √† une date donn√©e: last_n, previous, this, next, next_n. </li><li>  <strong>intervalle de</strong> temps pour le calcul de la p√©riode: jour, semaine, mois, trimestre, ann√©e. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Ensemble complet de fonctionnalit√©s:</b> <div class="spoiler_text"><ul><li> <code>last_n_days()</code> </li> <li> <code>last_n_weeks()</code> </li> <li> <code>last_n_months()</code> </li> <li> <code>last_n_quarters()</code> </li> <li> <code>last_n_years()</code> </li> <li> <code>previous_week()</code> </li> <li> <code>previous_month()</code> </li> <li> <code>previous_quarter()</code> </li> <li> <code>previous_year()</code> </li> <li> <code>this_week()</code> </li> <li> <code>this_month()</code> </li> <li> <code>this_quarter()</code> </li> <li> <code>this_year()</code> </li> <li> <code>next_week()</code> </li> <li> <code>next_month()</code> </li> <li> <code>next_quarter()</code> </li> <li> <code>next_year()</code> </li> <li> <code>next_n_days()</code> </li> <li> <code>next_n_weeks()</code> </li> <li> <code>next_n_months()</code> </li> <li> <code>next_n_quarters()</code> </li> <li> <code>next_n_years()</code> </li> <li> <code>custom_period()</code> </li> </ul></div></div><br><h3 id="vremennye-intervaly-v-timeperiodsr">  Intervalles de temps en timeperiodsR </h3><br><p>  Ces fonctions sont utiles lorsque vous devez cr√©er des rapports bas√©s sur les donn√©es de la derni√®re semaine ou du dernier mois.  Pour obtenir le dernier mois, utilisez la fonction du m√™me nom <code>previous_month()</code> : </p><br><pre> <code class="plaintext hljs">prmonth &lt;- previous_month()</code> </pre> <br><p>  Apr√®s quoi, vous aurez un objet <em>prprth</em> de la classe <em>tpr</em> , √† partir duquel vous pourrez facilement obtenir les composants suivants: </p><br><ul><li>  la date de d√©but de la p√©riode, dans notre exemple, c'est le dernier mois </li><li>  date de fin de p√©riode </li><li>  le nombre de jours inclus dans la p√©riode </li><li>  s√©quence de dates incluses dans la p√©riode </li></ul><br><p>  De plus, vous pouvez obtenir chacun des composants de diff√©rentes mani√®res: </p><br><pre> <code class="plaintext hljs">#    prmonth$start start(prmonth) #    prmonth$end end(prmonth) #   prmonth$sequence seq(prmonth) #      prmonth$length length(prmonth)</code> </pre> <br><p>  Vous pouvez √©galement obtenir l'un des composants √† l'aide de l'argument <em>part</em> , qui est pr√©sent dans chacune des fonctions du package.  Valeurs possibles: d√©but, fin, s√©quence, longueur. </p><br><pre> <code class="plaintext hljs">previous_month(part = "start") #   previous_month(part = "end") #   previous_month(part = "sequence") #   previous_month(part = "length") #    </code> </pre> <br><p>  <code>timeperiodsR</code> tous les arguments disponibles dans les fonctions du package <code>timeperiodsR</code> : </p><br><ul><li>  <code>x</code> - La date de r√©f√©rence √† partir de laquelle la p√©riode sera calcul√©e; par d√©faut, la date actuelle; </li><li>  <code>n</code> - Le nombre d'intervalles qui seront inclus dans la p√©riode, par exemple, 3 semaines pr√©c√©dentes; </li><li>  <code>part</code> - Quel composant de l'objet <code>tpr</code> vous devez obtenir, par d√©faut <code>all</code> ; </li><li>  <code>week_start</code> - L'argument est pr√©sent uniquement dans les fonctions de travail avec les semaines, et vous permet de sp√©cifier le num√©ro du jour de la semaine qui sera consid√©r√© comme son d√©but, par d√©faut le d√©but de la semaine est le lundi, mais vous pouvez sp√©cifier n'importe lequel de 1 - lundi √† 7 - dimanche. </li></ul><br><p>  Ainsi, vous pouvez calculer n'importe quelle p√©riode par rapport √† la date actuelle ou √† toute autre date donn√©e, je vais donner quelques exemples suppl√©mentaires: </p><br><hr><br><pre> <code class="plaintext hljs">#  3   #  6  2019  #   -  last_n_weeks(x = "2019-10-06", n = 3, week_start = 1)</code> </pre> <br><pre> <code class="plaintext hljs"> Time period: from 9 September of 2019, Monday to 29 September of 2019, Sunday</code> </pre> <br><p>  Le 6 octobre est dimanche: <br><img src="https://habrastorage.org/getpro/habr/post_images/32c/cca/606/32ccca60658416fc953de4ed8016226e.png" alt="6 octobre 2019"></p><br><p>  Nous avons besoin d'une p√©riode qui, par rapport au 6 octobre, prendra 3 semaines pr√©c√©dentes.  Non compris la semaine du 6 octobre.  Il s'agit donc de la p√©riode du 9 au 29 septembre. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/68f/749/599/68f7495999a3da01e764710b169a5a2b.png" alt="3 semaines √† partir du 6 octobre 2019"></p><br><hr><br><pre> <code class="plaintext hljs">#     4  #  16  2019  previous_month(x = "2019-09-16", n = 4)</code> </pre> <br><pre> <code class="plaintext hljs"> Time period: from 1 May of 2019, Wednesday to 31 May of 2019, Friday</code> </pre> <br><p>  Dans cet exemple, nous sommes int√©ress√©s par le mois qui √©tait il y a 4 mois, si nous proc√©dons du 16 septembre 2019, en cons√©quence, c'√©tait mai 2019. </p><br><h3 id="filtraciya-vektora-dat-s-pomoschyu-timeperiodsr">  Filtrage d'un vecteur de date avec timeperiodsR </h3><br><p>  Il existe plusieurs op√©rateurs pour filtrer les dates dans <code>timeperiodsR</code> : </p><br><ul><li>  % left_out% - compare deux objets de la classe tpr et renvoie la valeur de gauche, qui n'est pas √† droite. </li><li>  % left_in% - compare deux objets de la classe tpr et renvoie les dates de l'objet gauche qui sont incluses dans celle de droite. </li><li>  % right_out% - compare deux objets de la classe tpr, et renvoie la valeur de droite, absente √† gauche. </li><li>  % right_in% - compare deux objets de la classe tpr et retourne les dates de l'objet droit pr√©sentes dans celui de gauche. </li></ul><br><pre> <code class="plaintext hljs">period1 &lt;- this_month("2019-11-07") period2 &lt;- previous_week("2019-11-07") period1 %left_in% period2 #    period1    period2 period1 %left_out% period2 #    period1     period2 period1 %right_in% period2 #    period2    period1 period1 %right_out% period2 #    period2     period1</code> </pre> <br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  Nous avons examin√© en d√©tail les classes d'objets con√ßues en langage R pour travailler avec des dates.  Vous pouvez √©galement maintenant effectuer des op√©rations arithm√©tiques sur des dates et obtenir rapidement toutes les p√©riodes de temps en utilisant le package <code>timeperiodsR</code> . </p><br><p>  Si vous √™tes int√©ress√© par la langue R, je vous invite √† vous abonner √† ma cha√Æne de t√©l√©gramme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R4marketing</a> , dans laquelle je partage quotidiennement des documents utiles sur l'utilisation de la langue R pour r√©soudre mes t√¢ches quotidiennes. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr469215/">https://habr.com/ru/post/fr469215/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr469195/index.html">DevOpsProdigy KubeGraf v1.1.0</a></li>
<li><a href="../fr469205/index.html">Museum DataArt. D√©baller "Electronics MS 0511"</a></li>
<li><a href="../fr469209/index.html">Comment les lampes LED Philips bon march√© diff√®rent des lampes ch√®res</a></li>
<li><a href="../fr469211/index.html">Comment ICD d√©veloppe un √©cosyst√®me pour les clients des banques</a></li>
<li><a href="../fr469213/index.html">Explorer les analyseurs combinatoires avec Rust</a></li>
<li><a href="../fr469217/index.html">IMHO Saint TeamLead Conf 2019</a></li>
<li><a href="../fr469219/index.html">Top 20 des fonctionnalit√©s de navigation sur IntelliJ IDEA. 2e partie</a></li>
<li><a href="../fr469221/index.html">Cascadeur: pr√©dire la pose en six points d'un personnage</a></li>
<li><a href="../fr469223/index.html">R√©tro√©clairage LED comme porte d√©rob√©e</a></li>
<li><a href="../fr469229/index.html">Le projet des clubs de robotique ¬´GoROBO¬ª - une startup de l'acc√©l√©rateur de l'Universit√© ITMO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>