<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö±Ô∏è üßì üê¥ Guia do JavaScript Parte 6: Exce√ß√µes, ponto e v√≠rgula, literais de modelo üì© üî≠ üêß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os t√≥picos nesta parte da tradu√ß√£o do tutorial em JavaScript ser√£o manipula√ß√£o de exce√ß√µes, recursos autom√°ticos de ponto e v√≠rgula e literais de mode...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guia do JavaScript Parte 6: Exce√ß√µes, ponto e v√≠rgula, literais de modelo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/430376/">  Os t√≥picos nesta parte da tradu√ß√£o do tutorial em JavaScript ser√£o manipula√ß√£o de exce√ß√µes, recursos autom√°ticos de ponto e v√≠rgula e literais de modelo. <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1: primeiro programa, recursos de linguagem, padr√µes</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2: estilo do c√≥digo e estrutura do programa</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3: vari√°veis, tipos de dados, express√µes, objetos</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 4: recursos</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 5: matrizes e loops</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 6: exce√ß√µes, ponto e v√≠rgula, literais curinga</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 7: modo estrito, esta palavra-chave, eventos, m√≥dulos, c√°lculos matem√°ticos</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 8: Vis√£o geral dos recursos do ES6</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 9: Vis√£o geral dos padr√µes ES7, ES8 e ES9</a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/jf/eo/1s/jfeo1s-pygp9g5pazca5kjwvwoa.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Manipula√ß√£o de exce√ß√£o</font> </h2><br>  Quando um problema ocorre durante a execu√ß√£o do c√≥digo, ele √© expresso como uma exce√ß√£o no JavaScript.  Se voc√™ n√£o tomar medidas para lidar com exce√ß√µes, quando elas ocorrerem, o programa ser√° interrompido e uma mensagem de erro ser√° exibida no console. <br><br>  Considere o seguinte snippet de c√≥digo. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'message text'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notObj <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) =&gt;</span></span> a.value <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(fn(obj)) <span class="hljs-comment"><span class="hljs-comment">//message text console.log('Before') //Before console.log(fn(notObj)) //,    console.log('After')</span></span></code> </pre> <br>  Aqui temos uma fun√ß√£o que planejamos usar para processar objetos que possuem a propriedade <code>value</code> .  Ela retorna essa propriedade.  Se voc√™ usar esta fun√ß√£o para a finalidade pretendida, ou seja, para transferir para ela um objeto com o qual foi projetada para trabalhar, nenhum erro ser√° gerado quando for executado.  Mas se voc√™ passar algo inapropriado para ele, no nosso caso, uma vari√°vel declarada, mas n√£o inicializada, ocorrer√° um erro ao tentar acessar a propriedade <code>value</code> de valor <code>undefined</code> .  Uma mensagem de erro ser√° exibida no console, a execu√ß√£o do programa ser√° interrompida. <br><br>  Aqui est√° o que parece quando voc√™ executa esse c√≥digo no Node.js. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/42d/eec/eaa/42deeceaad05edd38b8581f65b4de563.png"></div><br>  <i><font color="#999999">Exce√ß√£o TypeError no Node.js</font></i> <br><br>  Se algo assim ocorrer no c√≥digo JS de uma p√°gina da web, uma mensagem semelhante ser√° enviada ao console do navegador.  Se isso acontece em um programa real, digamos - no c√≥digo do servidor da Web, esse comportamento √© extremamente indesej√°vel.  Seria bom ter um mecanismo que permita, sem interromper o programa, capturar o erro e tomar medidas para corrigi-lo.  Esse mecanismo existe no JavaScript, √© representado pelo construto <code>try...catch</code> . <br><br><h3>  <font color="#3AC1EF">Tryconstruction try ... catch</font> </h3><br>  A constru√ß√£o <code>try...catch</code> permite capturar e manipular exce√ß√µes.  Nomeadamente, inclui um bloco <code>try</code> , que inclui c√≥digo que pode causar um erro, e um <code>catch</code> , no qual o controle √© transferido quando ocorre um erro.  <code>try</code> blocos de <code>try</code> n√£o incluem absolutamente todo o c√≥digo do programa.  As partes dele que podem causar erros de tempo de execu√ß√£o s√£o colocadas l√°.  Por exemplo, chamadas para fun√ß√µes que precisam trabalhar com determinados dados recebidos de fontes externas.  Se a estrutura desses dados for diferente do que a fun√ß√£o espera, pode ocorrer um erro.  Aqui est√° a apar√™ncia do diagrama de design <code>try...catch</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     } catch (e) { //  }</span></span></code> </pre> <br>  Se o c√≥digo for executado sem erros, o <code>catch</code> (manipulador de exce√ß√µes) n√£o ser√° executado.  Se ocorrer um erro, o objeto de erro √© transferido para l√° e algumas a√ß√µes s√£o tomadas para combater esse erro. <br><br>  Aplicamos essa constru√ß√£o em nosso exemplo, protegendo com sua ajuda se√ß√µes perigosas do programa - aquelas nas quais a fun√ß√£o <code>fn()</code> chamada. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'message text'</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> notObj <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> fn = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) =&gt;</span></span> a.value <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(fn(obj)) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(e.message) } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Before'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//Before try {   console.log(fn(notObj)) } catch (e) {   console.log(e.message) //Cannot read property 'value' of undefined } console.log('After') //After</span></span></code> </pre> <br>  Vejamos os resultados da execu√ß√£o desse c√≥digo no Node.js. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b8b/5f7/e5e/b8b5f7e5e4745ec45d69bd9f642cef70.png"></div><br>  <i><font color="#999999">Tratamento de erros no Node.js</font></i> <br><br>  Como voc√™ pode ver, se voc√™ comparar este exemplo com o anterior, agora todo o c√≥digo ser√° executado, o que est√° localizado antes da linha do problema e o que est√° localizado depois dele.  N√≥s ‚Äúprocessamos‚Äù o erro simplesmente imprimindo no console os valores da propriedade <code>message</code> do objeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Error</a> .  Qual ser√° o tratamento do erro que ocorreu no c√≥digo realmente usado depende do erro. <br><br>  Discutimos o bloco <code>try...catch</code> acima, mas, de fato, esse construto inclui outro bloco - <code>finally</code> . <br><br><h3>  <font color="#3AC1EF">Block finalmente bloqueia</font> </h3><br>  O bloco <code>finally</code> cont√©m c√≥digo que √© executado independentemente de um erro ter ocorrido ou n√£o no c√≥digo que √© executado no bloco <code>try</code> .  Aqui est√° como fica. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  } catch (e) { //  } finally { //  }</span></span></code> </pre> <br>  O bloco <code>finally</code> tamb√©m pode ser usado se o bloco <code>try...catch...finally</code> n√£o tiver um <code>catch</code> .  Nesta abordagem, √© usado da mesma maneira que na constru√ß√£o com o <code>catch</code> , por exemplo, para liberar recursos ocupados no bloco <code>try</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Blocos de tentativa aninhados</font> </h3><br>  Os blocos de tentativa podem ser aninhados juntos.  Nesse caso, a exce√ß√£o √© processada no <code>catch</code> mais pr√≥ximo. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  try {   //   } finally {   // -  } } catch (e) { }</span></span></code> </pre> <br>  Nesse caso, se ocorrer uma exce√ß√£o no bloco <code>try</code> interno, ela ser√° processada no <code>catch</code> externo. <br><br><h3>  <font color="#3AC1EF">Exception Exce√ß√£o auto-gerada</font> </h3><br>  Exce√ß√µes podem ser lan√ßadas por voc√™, usando a instru√ß√£o <code>throw</code> .  Aqui est√° como fica. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> value</code> </pre> <br>  Ap√≥s a execu√ß√£o desta instru√ß√£o, o controle √© transferido para o <code>catch</code> mais pr√≥ximo ou, se esse bloco n√£o for encontrado, o programa ser√° interrompido.  O valor da exce√ß√£o pode ser qualquer coisa.  Por exemplo, um objeto de erro definido pelo usu√°rio. <br><br><h2>  <font color="#3AC1EF">Sobre ponto e v√≠rgula</font> </h2><br>  O uso de ponto e v√≠rgula no JavaScript √© opcional.  Alguns programadores ficam sem eles, contando com um sistema de arranjo autom√°tico para eles e colocando-os somente onde for absolutamente necess√°rio.  Algumas pessoas preferem coloc√°-los sempre que poss√≠vel.  O autor deste material refere-se √† categoria de programadores que desejam passar sem ponto e v√≠rgula.  Ele diz que decidiu ficar sem eles no outono de 2017, definindo Prettier para exclu√≠-los sempre que poss√≠vel sem a inser√ß√£o expl√≠cita deles.  Na sua opini√£o, c√≥digo sem ponto e v√≠rgula parece mais natural e f√°cil de ler. <br><br>  Talvez possamos dizer que a comunidade de desenvolvedores de JS √© dividida, em rela√ß√£o ao ponto e v√≠rgula, em dois campos.  Ao mesmo tempo, tamb√©m existem guias de estilo JavaScript que prescrevem ponto-e-v√≠rgula expl√≠cito e guias que recomendam ficar sem eles. <br><br>  Tudo isso √© poss√≠vel devido ao fato de o JavaScript possuir um sistema para ponto e v√≠rgula autom√°tica (Inser√ß√£o autom√°tica de ponto e v√≠rgula, ASI).  No entanto, o fato de que no c√≥digo JS, em muitas situa√ß√µes, voc√™ pode ficar sem esses caracteres, e o fato de os pontos-e-v√≠rgulas serem colocados automaticamente ao preparar o c√≥digo para execu√ß√£o, n√£o significa que o programador n√£o precise conhecer as regras pelas quais isso acontece.  A ignor√¢ncia dessas regras leva a erros. <br><br><h3>  <font color="#3AC1EF">‚ñç Regras para ponto e v√≠rgula autom√°tico</font> </h3><br>  O analisador JavaScript adiciona automaticamente ponto-e-v√≠rgula ao analisar o texto do programa nas seguintes situa√ß√µes: <br><br><ol><li>  Quando a pr√≥xima linha come√ßa com um c√≥digo que interrompe o c√≥digo atual (o c√≥digo de um determinado comando pode estar localizado em v√°rias linhas). </li><li>  Quando a pr√≥xima linha come√ßa com o caractere <code>}</code> , que fecha o bloco atual. </li><li>  Quando o final do arquivo com o c√≥digo do programa for detectado. </li><li>  Na linha com o comando de <code>return</code> . </li><li>  Na linha com o comando <code>break</code> . </li><li>  Na linha com o comando <code>throw</code> . </li><li>  Na linha com o comando <code>continue</code> . </li></ol><br><h3>  <font color="#3AC1EF">‚ñç Exemplos de c√≥digo que n√£o funcionam conforme o esperado</font> </h3><br>  Aqui est√£o alguns exemplos que ilustram as regras acima.  Por exemplo, o que voc√™ acha que ser√° exibido como resultado da execu√ß√£o do seguinte fragmento de c√≥digo? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hey = <span class="hljs-string"><span class="hljs-string">'hey'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> you = <span class="hljs-string"><span class="hljs-string">'hey'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> heyYou = hey + <span class="hljs-string"><span class="hljs-string">' '</span></span> + you [<span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">letter</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(letter))</code> </pre> <br>  Quando voc√™ tenta executar esse c√≥digo, ser√° <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> um erro <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> sistema <code>Uncaught TypeError: Cannot read property 'forEach' of undefined</code> , com base na regra n¬∫ 1, ele tenta interpretar o c√≥digo da seguinte maneira. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hey = <span class="hljs-string"><span class="hljs-string">'hey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> you = <span class="hljs-string"><span class="hljs-string">'hey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> heyYou = hey + <span class="hljs-string"><span class="hljs-string">' '</span></span> + you[<span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>].forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">letter</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(letter))</code> </pre> <br>  O problema pode ser resolvido colocando um ponto e v√≠rgula ap√≥s a pen√∫ltima linha do primeiro exemplo. <br><br>  Aqui est√° outro peda√ßo de c√≥digo. <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>).toString()</code> </pre> <br>  O resultado de sua execu√ß√£o ser√° a sa√≠da da string <code>"3"</code> .  Mas o que acontece se algo assim aparecer no pr√≥ximo snippet de c√≥digo? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a + b (a + b).toString()</code> </pre> <br>  Nessa situa√ß√£o, um erro <code>TypeError: b is not a function</code> ser√° exibido <code>TypeError: b is not a function</code> pois o c√≥digo acima ser√° interpretado da seguinte maneira. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> c = a + b(a + b).toString()</code> </pre> <br>  Vamos agora dar uma olhada em um exemplo baseado na regra 4. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span> } })()</code> </pre> <br>  Voc√™ pode pensar que esse IIFE retornar√° um objeto que cont√©m a propriedade <code>color</code> , mas na verdade n√£o √©.  Em vez disso, a fun√ß√£o retornar√° <code>undefined</code> porque o sistema adiciona um ponto-e-v√≠rgula ap√≥s o comando de <code>return</code> . <br><br>  Para resolver um problema semelhante, a chave de abertura do literal do objeto deve ser colocada na mesma linha do comando de <code>return</code> . <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span> } })()</code> </pre> <br>  Se voc√™ observar o seguinte fragmento de c√≥digo, poder√° pensar que ele exibir√° <code>0</code> na caixa de mensagem. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span> ? alert(<span class="hljs-number"><span class="hljs-number">0</span></span>) : alert(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Mas gera 2, porque, de acordo com a regra n¬∫ 1, esse c√≥digo √© representado da seguinte maneira. <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span> ? alert(<span class="hljs-number"><span class="hljs-number">0</span></span>) : alert(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Voc√™ deve ter cuidado ao usar ponto e v√≠rgula no JavaScript.  Voc√™ pode conhecer ambos os fervorosos apoiadores de ponto e v√≠rgula e seus oponentes.  De fato, ao decidir se o ponto-e-v√≠rgula √© necess√°rio no seu c√≥digo, voc√™ pode confiar no fato de o JS oferecer suporte √† substitui√ß√£o autom√°tica, mas todos devem decidir por si pr√≥prios se s√£o necess√°rios no c√≥digo ou n√£o.  O principal √© aplicar a abordagem escolhida de forma consistente e razo√°vel.  Em rela√ß√£o √† coloca√ß√£o de ponto e v√≠rgula e √† estrutura do c√≥digo, podemos recomendar as seguintes regras: <br><br><ul><li>  Usando o comando <code>return</code> , organize o que deve retornar da fun√ß√£o na mesma linha que o comando.  O mesmo vale para os comandos <code>break</code> , <code>throw</code> , <code>continue</code> . </li><li>  Preste aten√ß√£o especial √†s situa√ß√µes em que uma nova linha de c√≥digo come√ßa com um colchete, pois essa linha pode ser combinada automaticamente com a anterior e apresentada pelo sistema como uma tentativa de chamar uma fun√ß√£o ou uma tentativa de acessar um elemento da matriz. </li></ul><br>  Em geral, pode-se dizer que, independentemente de voc√™ colocar ponto-e-v√≠rgula ou confiar no posicionamento autom√°tico, teste o c√≥digo para garantir que ele funcione exatamente como o esperado. <br><br><h2>  <font color="#3AC1EF">Aspas e literais curinga</font> </h2><br>  Vamos falar sobre os recursos do uso de aspas em JavaScript.  Ou seja, estamos falando dos seguintes tipos de cota√ß√£o permitidos nos programas JS: <br><br><ul><li>  Aspas simples. </li><li>  Aspas duplas. </li><li>  Cita√ß√µes de volta. </li></ul><br>  As aspas simples e duplas, em geral, podem ser consideradas iguais. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bike = <span class="hljs-string"><span class="hljs-string">"bike"</span></span></code> </pre> <br>  Praticamente n√£o h√° diferen√ßa entre eles.  Talvez a √∫nica diferen√ßa not√°vel seja que, nas cadeias de caracteres entre aspas simples, voc√™ precisa escapar do caractere de aspas simples e nas cadeias de caracteres entre aspas duplas, o caractere √© duplo. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'te\'st'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">'te"st'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">"te\"st"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = <span class="hljs-string"><span class="hljs-string">"te'st"</span></span></code> </pre> <br>  Em guias de estilo diferentes, voc√™ encontra uma recomenda√ß√£o para usar aspas simples e uma recomenda√ß√£o para usar aspas duplas.  O autor deste material diz que, no c√≥digo JS, ele se esfor√ßa para usar aspas √∫nicas, usando aspas duplas apenas no c√≥digo HTML. <br><br>  Os backticks apareceram em JavaScript com o lan√ßamento do padr√£o ES6 em 2015.  Eles, entre outros novos recursos, possibilitam descrever convenientemente seq√º√™ncias de v√°rias linhas.  Essas cadeias tamb√©m podem ser especificadas usando aspas regulares - usando a sequ√™ncia de escape <code>\n</code> .  Parece assim. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">'A string\non multiple lines'</span></span></code> </pre> <br>  V√≠rgulas invertidas (normalmente o bot√£o para inseri-las est√° localizado √† esquerda da tecla num√©rica 1 no teclado) ficam sem <code>\n</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">`A string on multiple lines`</span></span></code> </pre> <br>  Mas as possibilidades de aspas n√£o est√£o limitadas a isso.  Portanto, se uma string √© descrita usando aspas, √© poss√≠vel substituir valores do c√°lculo de express√µes JS nela usando a constru√ß√£o <code>${}</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> multilineString = <span class="hljs-string"><span class="hljs-string">`A string on </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">+</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> lines`</span></span></code> </pre> <br>  Tais cadeias s√£o chamadas literais de modelo. <br><br>  Literais de modelo t√™m os seguintes recursos: <br><br><ul><li>  Eles suportam texto de v√°rias linhas. </li><li>  Eles possibilitam a interpola√ß√£o de strings; express√µes internas podem ser usadas neles. </li><li>  Eles permitem que voc√™ trabalhe com modelos marcados, possibilitando a cria√ß√£o de seus pr√≥prios idiomas espec√≠ficos do dom√≠nio (DSL, idioma espec√≠fico do dom√≠nio). </li></ul><br>  Vamos falar sobre esses recursos. <br><br><h3>  <font color="#3AC1EF">UltTexto multil√≠ngue</font> </h3><br>  Ao definir textos com v√°rias linhas com aspas, √© necess√°rio lembrar que os espa√ßos nesses textos s√£o t√£o importantes quanto os outros caracteres.  Por exemplo, considere o seguinte texto multilinha. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`First               Second`</span></span></code> </pre> <br>  Sua conclus√£o dar√° aproximadamente o seguinte. <br><br><pre> <code class="javascript hljs">First               Second</code> </pre> <br>  Ou seja, quando esse texto foi inserido no editor, √© poss√≠vel que o programador esperasse que as palavras <code>First</code> e <code>Second</code> , ao serem exibidas, aparecessem estritamente uma na outra, mas, na verdade, n√£o √© assim.  Para contornar esse problema, voc√™ pode iniciar o texto de m√∫ltiplas linhas com um avan√ßo de linha e, imediatamente ap√≥s fechar as aspas, chamar o m√©todo <code>trim()</code> , que remover√° os caracteres de espa√ßo em branco no in√≠cio ou no final da linha.  Esses caracteres, em particular, incluem espa√ßos e tabula√ß√µes.  Os caracteres de fim de linha tamb√©m ser√£o exclu√≠dos. <br><br>  Parece assim. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">` First Second`</span></span>.trim()</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Interpola√ß√£o</font> </h3><br>  Por interpola√ß√£o, aqui queremos dizer a convers√£o de vari√°veis ‚Äã‚Äãe express√µes em strings.  Isso √© feito usando a constru√ß√£o <code>${}</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> variable = <span class="hljs-string"><span class="hljs-string">'test'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ variable }</span></span></span><span class="hljs-string">`</span></span> <span class="hljs-comment"><span class="hljs-comment">//something test</span></span></code> </pre> <br>  Voc√™ pode adicionar qualquer coisa ao bloco <code>${}</code> - mesmo express√µes. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string2 = <span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${foo() ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'y'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> }</span></span></span><span class="hljs-string">`</span></span></code> </pre> <br>  O texto <code>something 6</code> entrar√° na constante da <code>string</code> , ou o texto <code>something x</code> ou o texto <code>something y</code> ser√° gravado na constante <code>string2</code> .  Depende se a fun√ß√£o <code>foo()</code> retorna true ou false (o operador tern√°rio √© usado aqui, que, se o que for antes do ponto de interroga√ß√£o for verdadeiro, retorna o que vem depois do ponto de interroga√ß√£o, retornando o que vem ap√≥s o c√≥lon). <br><br><h3>  <font color="#3AC1EF">TemplatesModelos marcados</font> </h3><br>  Modelos marcados s√£o usados ‚Äã‚Äãem muitas bibliotecas populares.  Entre eles est√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Styled Components</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apollo</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GraphQL</a> . <br><br>  A sa√≠da de tais padr√µes est√° sujeita a alguma l√≥gica definida pela fun√ß√£o.  Aqui est√° um exemplo ligeiramente revisado em uma de nossas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">publica√ß√µes,</a> ilustrando como trabalhar com seq√º√™ncias de caracteres de modelo marcadas. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> esth = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">helper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">strs, ...keys</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> str1 = strs[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">//ES const str2 = strs[1] //is let additionalPart = '' if (keys[0] == 8) { //8   additionalPart = 'awesome' } else {   additionalPart = 'good' } return `${str1}${keys[0]}${str2}${additionalPart}.` } const es = helper`ES ${esth} is ` console.log(es) //ES 8 is awesome.</span></span></code> </pre> <br>  Aqui, se o n√∫mero <code>8</code> escrito na constante <code>esth</code> , a linha <code>ES 8 is awesome</code> ser√° em <code>es</code> .  Caso contr√°rio, haver√° outra linha.  Por exemplo, se <code>esth</code> n√∫mero <code>6</code> , parecer√° que <code>ES 6 is good</code> . <br><br>  O Styled Components usa modelos marcados para definir seq√º√™ncias de caracteres CSS. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Button = styled.button<span class="hljs-string"><span class="hljs-string">` font-size: 1.5em; background-color: black; color: white; `</span></span>;</code> </pre> <br>  No Apollo, eles s√£o usados ‚Äã‚Äãpara definir consultas GraphQL. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> query = gql<span class="hljs-string"><span class="hljs-string">` query {   ... } `</span></span></code> </pre> <br>  Sabendo como os modelos com tags funcionam, √© f√°cil entender que <code>styled.button</code> e <code>gql</code> dos exemplos anteriores s√£o apenas fun√ß√µes. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gql</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">literals, ...expressions</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre> <br>  Por exemplo, a fun√ß√£o <code>gql()</code> retorna uma string que pode ser o resultado de qualquer c√°lculo.  O par√¢metro <code>literals</code> dessa fun√ß√£o √© uma matriz que cont√©m o conte√∫do de um literal de modelo dividido em partes, <code>expresions</code> cont√©m os resultados da avalia√ß√£o de express√µes. <br><br>  Vamos analisar a pr√≥xima linha. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = helper<span class="hljs-string"><span class="hljs-string">`something </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> `</span></span></code> </pre> <br>  A fun√ß√£o <code>helper</code> obt√©m a matriz de <code>literals</code> cont√©m dois elementos.  No primeiro, haver√° <code>something</code> com um espa√ßo a seguir, no segundo haver√° uma linha vazia - ou seja, o que est√° entre a express√£o <code>${1 + 2 + 3}</code> e o final da linha.  Haver√° um elemento na matriz de <code>espressions</code> - <code>6</code> . <br>  Aqui est√° um exemplo mais complexo. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> string = helper<span class="hljs-string"><span class="hljs-string">`something another </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'x'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> new line </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> test`</span></span></code> </pre> <br>  Aqui, na fun√ß√£o <code>helper</code> , a pr√≥xima matriz ser√° o primeiro par√¢metro. <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'something\nanother '</span></span>, <span class="hljs-string"><span class="hljs-string">'\nnew line '</span></span>, <span class="hljs-string"><span class="hljs-string">'\ntest'</span></span> ]</code> </pre> <br>  A segunda matriz ser√° assim. <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span> ]</code> </pre> <br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>  Hoje falamos sobre manipula√ß√£o de exce√ß√µes, sobre substitui√ß√£o autom√°tica de ponto e v√≠rgula e sobre literais de modelo em JavaScript.  Da pr√≥xima vez, examinaremos alguns conceitos mais importantes da linguagem.  Em particular - trabalhe em modo estrito, temporizadores, c√°lculos matem√°ticos. <br><br>  <b>Caros leitores!</b>  Voc√™ usa os recursos de modelos marcados em JavaScript? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430376/">https://habr.com/ru/post/pt430376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430362/index.html">Apresentando o Amazon Corretto, um OpenJDK gratuito com suporte a longo prazo</a></li>
<li><a href="../pt430364/index.html">‚ÄúParece-me que estamos chegando ao momento em que todos ser√£o capazes de codificar. C√≥digo √© liberdade.</a></li>
<li><a href="../pt430366/index.html">VR-kitchen: o que n√£o √© vis√≠vel no capacete</a></li>
<li><a href="../pt430372/index.html">Carro de hidrog√™nio. √â hora de dizer adeus √† gasolina?</a></li>
<li><a href="../pt430374/index.html">Engenharia de dados e muito mais: grava√ß√µes de v√≠deo e slides da reuni√£o</a></li>
<li><a href="../pt430378/index.html">J2CL - Antes tarde do que nunca</a></li>
<li><a href="../pt430380/index.html">Guia JavaScript Parte 5: matrizes e loops</a></li>
<li><a href="../pt430382/index.html">Guia de JavaScript Parte 4: Recursos</a></li>
<li><a href="../pt430384/index.html">Criando mapas a partir de recursos de ru√≠do</a></li>
<li><a href="../pt430386/index.html">Usina de armazenamento de estado s√≥lido a ser constru√≠da na √çndia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>