<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§±üèæ üôáüèø ‚§¥Ô∏è Haxe 4: Was ist neu? ‚ôÄÔ∏è üçÉ üö•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich mache Sie auf eine √úbersetzung des Berichts von Alexander Kuzmenko (seit April dieses Jahres arbeitet er offiziell als Entwickler des Haxe-Compile...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Haxe 4: Was ist neu?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455389/"><p>  Ich mache Sie auf eine √úbersetzung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Berichts von Alexander Kuzmenko</a> (seit April dieses Jahres arbeitet er offiziell als Entwickler des Haxe-Compilers) √ºber √Ñnderungen in der Haxe-Sprache aufmerksam, die seit der Ver√∂ffentlichung von Haxe 3.4 aufgetreten sind. </p><br><img src="https://habrastorage.org/webt/0m/0e/mw/0m0emw609dcl9ycql2oa069lzfu.jpeg" alt="Bild"><br><p>  Mehr als zweieinhalb Jahre sind seit der Ver√∂ffentlichung von Haxe 3.4 vergangen.  In dieser Zeit wurden 7 Patch-Releases, 5 Preview-Releases von Haxe 4 und 2 Release-Kandidaten von Haxe 4 ver√∂ffentlicht. Die neue Version war weit entfernt und fast fertig ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">etwa 20 Probleme</a> m√ºssen noch gel√∂st werden). </p><a name="habracut"></a><br><img src="https://habrastorage.org/webt/jh/wp/7_/jhwp7_vztjntd_31hhmpqqreabe.png" alt="Vor langer Zeit ..."><br><p>  Alexander dankte der Haxe-Community f√ºr die Meldung von Fehlern und f√ºr ihren Wunsch, an der Entwicklung der Sprache teilzunehmen.  Dank <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">des Haxe-Evolution-Projekts</a> werden in Haxe 4 folgende Dinge angezeigt: </p><br><ul><li>  Inline-Markup </li><li>  Inlining-Funktionen am Anrufort </li><li>  Pfeilfunktionen </li></ul><br><img src="https://habrastorage.org/webt/kn/qf/fu/knqffu_thrc2godjucb5t4izbt0.png" alt="Bild"><br><p>  Im Rahmen dieses Projekts werden auch m√∂gliche Innovationen diskutiert, wie z. B.: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Versprechen</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">polymorphes dies</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Standardtypen</a> (Standardtypparameter). </p><br><p>  Als n√§chstes sprach Alexander <b>√ºber die √Ñnderungen in der Syntax der Sprache</b> . </p><br><img src="https://habrastorage.org/webt/pg/jn/sy/pgjnsymvkyhlespf0rcj-dw6j8s.png" alt="Neue Syntax zur Beschreibung von Funktionstypen"><br><p> Die erste ist die neue Syntax zur Beschreibung der Syntax von Funktionstypen.  Die alte Syntax war etwas seltsam. <br>  Haxe ist eine Multi-Paradigma-Programmiersprache, die immer erstklassige Funktionen unterst√ºtzt, aber die Syntax zur Beschreibung von Funktionstypen wurde von einer funktionalen Sprache geerbt (und unterscheidet sich von der in anderen Paradigmen verwendeten).  Programmierer, die mit der funktionalen Programmierung vertraut sind, erwarten, dass Funktionen mit dieser Syntax das automatische Currying unterst√ºtzen.  Aber in Haxe ist das nicht so. <br>  Der Hauptnachteil der alten Syntax ist laut Alexander die Unf√§higkeit, die Namen der Argumente zu bestimmen, weshalb Sie lange Annotationskommentare mit einer Beschreibung der Argumente schreiben m√ºssen. <br>  Aber jetzt haben wir eine neue Syntax zur Beschreibung von Funktionstypen (die √ºbrigens im Rahmen der Haxe-Evolution-Initiative zur Sprache hinzugef√ºgt wurden), bei der eine solche M√∂glichkeit besteht (obwohl dies optional, aber empfohlen ist).  Die neue Syntax ist einfacher zu lesen und kann sogar als Teil der Dokumentation f√ºr den Code betrachtet werden. <br>  Ein weiterer Nachteil der alten Syntax zur Beschreibung von Funktionstypen war ihre Inkonsistenz - die Notwendigkeit, den Typ der Funktionsargumente anzugeben, auch wenn die Funktion keine Argumente akzeptiert: <code>Void-&gt;Void</code> (diese Funktion akzeptiert keine Argumente und gibt nichts zur√ºck). <br>  In der neuen Syntax wird dies eleganter implementiert: <code>()-&gt;Void</code> </p><br><img src="https://habrastorage.org/webt/xv/nr/fq/xvnrfqcbcxakqrci6y_p1hibh_4.png" alt="Pfeilfunktionen"><br><p>  Das zweite sind Pfeilfunktionen oder Lambda-Ausdr√ºcke - eine Kurzform zur Beschreibung anonymer Funktionen.  Die Community hat lange darum gebeten, sie der Sprache hinzuzuf√ºgen, und schlie√ülich ist es passiert! <br>  In solchen Funktionen wird anstelle des Schl√ºsselworts <code>return</code> die Zeichenfolge <code>-&gt;</code> (daher lautet der Syntaxname "Pfeilfunktion"). <br>  In der neuen Syntax bleibt es m√∂glich, die Argumenttypen festzulegen (da das automatische Typinferenzsystem dies nicht immer so tun kann, wie es der Programmierer w√ºnscht, kann der Compiler beispielsweise <code>Float</code> anstelle von <code>Int</code> ). <br>  Die einzige Einschr√§nkung der neuen Syntax besteht darin, dass der R√ºckgabetyp nicht explizit festgelegt werden kann.  Bei Bedarf haben Sie die Wahl, entweder die alte Syntax oder die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Check-Type-Syntax</a> im Hauptteil der Funktion zu verwenden, die dem Compiler den R√ºckgabetyp mitteilt. </p><br><img src="https://habrastorage.org/webt/wh/ri/-8/whri-8d5u0nvjgkiybnrjp1vrag.png" alt="Pfeilfunktionen haben keine andere Darstellung im Syntaxbaum"><br><p>  Pfeilfunktionen haben keine spezielle Darstellung im Syntaxbaum, sondern werden wie normale anonyme Funktionen verarbeitet.  Die Sequenz <code>-&gt;</code> wird durch das Schl√ºsselwort <code>return</code> . </p><br><img src="https://habrastorage.org/webt/nd/8c/kt/nd8cktem7lhra7ll-qao6hdatva.png" alt="final - jetzt ist ein Schl√ºsselwort"><br><p>  Die dritte √Ñnderung - <code>final</code> nun zu einem Schl√ºsselwort (in Haxe 3 war <code>final</code> eines der im Compiler integrierten Meta-Tags). <br>  Wenn Sie es auf eine Klasse anwenden, wird die Vererbung von dieser Klasse verboten. Gleiches gilt f√ºr Schnittstellen.  Durch Anwenden des <code>final</code> Qualifikationsmerkmals auf eine Klassenmethode wird verhindert, dass es in untergeordneten Klassen √ºberschrieben wird. <br>  In Haxe gab es jedoch eine M√∂glichkeit, die durch das <code>final</code> Schl√ºsselwort auferlegten Einschr√§nkungen zu umgehen. Sie k√∂nnen hierf√ºr das Meta-Tag <code>@:hack</code> (dies sollte jedoch nur erfolgen, wenn dies unbedingt erforderlich ist). </p><br><img src="https://habrastorage.org/webt/ec/v3/mp/ecv3mpajsnrn6kxkrwx3rwkqlwe.png" alt="Deklarieren optionaler Felder in anonymen Stra√üen"><br><p>  Die vierte √Ñnderung ist eine M√∂glichkeit, optionale Felder in anonymen Strukturen zu deklarieren.  Bisher wurde hierf√ºr das <code>@:optional</code> Meta-Tag <code>@:optional</code> jetzt einfach ein Fragezeichen vor dem Feldnamen ein. </p><br><img src="https://habrastorage.org/webt/r8/i3/qb/r8i3qbo2r2seeqtyns2yhsbr5r8.png" alt="Abstrakte auflistungen"><br><p>  F√ºnftens sind abstrakte Aufz√§hlungen zu einem vollst√§ndigen Mitglied der Haxe-Typfamilie geworden, und anstelle des Meta-Tags <code>@:enum</code> Schl√ºsselwort <code>@:enum</code> jetzt verwendet, um sie zu deklarieren. </p><br><img src="https://habrastorage.org/webt/ew/b3/xt/ewb3xtnkjr_fdk4jtcdj-ezboao.png" alt="Schl√ºsselwort extern"><br><p>  Eine √§hnliche √Ñnderung betraf das Meta-Tag <code>@:extern</code> . </p><br><img src="https://habrastorage.org/webt/pb/g3/ip/pbg3ipuxlefguxcw5m-2qybtuqq.png" alt="Neue Syntax f√ºr Typvereinigung"><br><p>  Seventh ist eine neue Typ-Schnittpunktsyntax, die die Essenz expandierender Strukturen besser widerspiegelt. <br>  Dieselbe neue Syntax wird verwendet, um Einschr√§nkungen f√ºr Typparameter zu begrenzen. Sie vermittelt die Einschr√§nkungen, die einem Typ auferlegt wurden, genauer.  F√ºr eine Person, die mit Haxe nicht vertraut ist, k√∂nnte die alte Syntax <code>MyClass&lt;T:(Type1, Type2)&gt;</code> als Voraussetzung daf√ºr angesehen werden, dass der Typ des Parameters <code>T</code> entweder <code>Type1</code> oder <code>Type2</code> .  Die neue Syntax besagt ausdr√ºcklich, dass <code>T</code> gleichzeitig <code>Type1</code> und <code>Type2</code> muss. </p><br><img src="https://habrastorage.org/webt/e9/un/cj/e9uncj0a6tk4uh0keuuopuwokgy.png" alt="Vereinfachte Syntax zum Deklarieren eines leeren W√∂rterbuchs"><br><p>  Das achte ist die M√∂glichkeit, mit <code>[]</code> einen leeren <code>Map</code> Container zu deklarieren (wenn Sie jedoch den Typ der Variablen nicht explizit angeben, gibt der Compiler den Typ f√ºr diesen Fall als Array aus). </p><br><p>  Nachdem wir √ºber die √Ñnderungen in der Syntax gesprochen haben, fahren wir mit der Beschreibung <b>neuer Funktionen in der Sprache fort</b> . <br>  Beginnen wir mit den neuen Schl√ºsselwert-Iteratoren </p><br><img src="https://habrastorage.org/webt/gw/sg/3v/gwsg3vpv6qco2n61v4zxh0dfzvw.png" alt="Schl√ºsselwert-iteratoren"><br><p>  F√ºr ihre Verwendung wurde eine neue Syntax hinzugef√ºgt. <br>  Um solche Iteratoren zu unterst√ºtzen, muss der Typ entweder die <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> -Methode implementieren <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> oder die <code>hasNext():Bool</code> -Methoden <code>hasNext():Bool</code> und <code>next():{key:K, value:V}</code> .  Gleichzeitig ist der Typ <code>KeyValueIterator&lt;K, V&gt;</code> ein Synonym f√ºr einen regul√§ren Iterator in der anonymen Struktur <code>Iterator&lt;{key:K, value:V}&gt;</code> . <br>  Schl√ºsselwert-Iteratoren werden f√ºr einige Typen aus der Haxe-Standardbibliothek ( <code>String</code> , <code>Map</code> , <code>DynamicAccess</code> ) <code>DynamicAccess</code> , und es wird auch daran gearbeitet, sie f√ºr Arrays zu implementieren. </p><br><img src="https://habrastorage.org/webt/67/-f/g0/67-fg0qimh9gu7b8qvkaazjf4ti.png" alt="Anliegen f√ºr neue Iteratoren f√ºr andere Typen"><br><p>  Bei Zeichenfolgen wird der Zeichenindex in der Zeichenfolge als Schl√ºssel verwendet, und der Zeichencode am angegebenen Index wird als Wert verwendet (wenn das Zeichen selbst ben√∂tigt wird, kann die Methode <code>String.fromCharCode()</code> verwendet werden). <br>  F√ºr den <code>Map</code> Container funktioniert der neue Iterator genauso wie die alte Iterationsmethode, dh er empf√§ngt ein Array von Schl√ºsseln im Container und durchl√§uft diesen, wobei Werte f√ºr jeden der Schl√ºssel angefordert werden. <br>  Bei <code>DynamicAccess</code> (einem Wrapper f√ºr anonyme Objekte) arbeitet der Iterator mit Reflection (um eine Liste der Felder eines Objekts mit der <code>Reflect.fields()</code> -Methode <code>Reflect.fields()</code> und um Feldwerte anhand ihrer Namen mit der <code>Reflect.field()</code> -Methode <code>Reflect.field()</code> ). </p><br><img src="https://habrastorage.org/webt/ml/u7/qj/mlu7qjpnq86muxduteld_riofzu.png" alt="Neuer Makrointerpreter"><br><p>  Haxe 4 verwendet einen v√∂llig neuen Makrointerpreter, "eval".  Simon Krajewski, der Autor des Dolmetschers, hat dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im offiziellen Blog von Haxe</a> sowie in seinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letztj√§hrigen Fortschrittsbericht ausf√ºhrlich beschrieben</a> . <br>  Die wichtigsten √Ñnderungen in der Arbeit des Dolmetschers: </p><br><ul><li>  es ist um ein Vielfaches schneller als der alte Makrointerpreter (durchschnittlich viermal) </li><li>  unterst√ºtzt interaktives Debuggen (bisher konnte f√ºr Makros nur die Konsolenausgabe verwendet werden) </li><li>  es wird verwendet, um den Compiler im Interpreter-Modus auszuf√ºhren (zuvor wurde daf√ºr neko verwendet. √úbrigens √ºbertrifft eval auch neko in der Geschwindigkeit). </li></ul><br><img src="https://habrastorage.org/webt/f3/ef/e8/f3efe8ko9czu8tdyo5kzjswkfto.png" alt="Unicode-Wahrnehmungung"><br><p>  Die Unicode-Unterst√ºtzung f√ºr alle Plattformen (mit Ausnahme von Neko) ist eine der gr√∂√üten √Ñnderungen in Haxe 4. Simon hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letztes Jahr</a> ausf√ºhrlich dar√ºber gesprochen.  Hier ein kurzer √úberblick √ºber den aktuellen Stand der Unterst√ºtzung von Unicode-Zeichenfolgen in Haxe: </p><br><ul><li>  F√ºr Lua, PHP, Python und eval (Makrointerpreter) ist die vollst√§ndige Unicode-Unterst√ºtzung implementiert (UTF8-Codierung). </li><li>  F√ºr andere Plattformen (JavaScript, C #, Java, Flash, HashLink und C ++) wird die UTF16-Codierung verwendet. </li></ul><br><p>  Daher funktionieren die Zeilen in Haxe f√ºr Zeichen, die in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mehrsprachigen Hauptebene enthalten sind</a> , auf dieselbe Weise. Bei Zeichen au√üerhalb dieser Ebene (z. B. f√ºr Emoji) kann der Code f√ºr die Arbeit mit Zeilen je nach Plattform zu unterschiedlichen Ergebnissen f√ºhren (dies ist jedoch immer noch besser). als die Situation, die wir in Haxe 3 haben, als jede Plattform ihr eigenes Verhalten hatte). </p><br><img src="https://habrastorage.org/webt/5o/o2/fp/5oo2fp2s4h2t9rpqnvfyrbwb7gs.png" alt="Neue String-Iteratoren"><br><p>  F√ºr Unicode-codierte Zeichenfolgen (sowohl in UTF8 als auch in UTF16) wurden der Haxe-Standardbibliothek spezielle Iteratoren hinzugef√ºgt, die auf ALLEN Plattformen f√ºr alle Zeichen (sowohl innerhalb der mehrsprachigen Hauptebene als auch dar√ºber hinaus) gleicherma√üen funktionieren: </p><br><pre> <code class="plaintext hljs">haxe.iterators.StringIteratorUnicode haxe.iterators.StringKeyValueIteratorUnicode</code> </pre> <br><img src="https://habrastorage.org/webt/3k/zv/xu/3kzvxup9p5crewap3u76tnfqhlg.png" alt="Funktionen f√ºr die Unicode-Aufgaben"><br><p>  Aufgrund der Tatsache, dass die Implementierung von Zeichenfolgen von Plattform zu Plattform unterschiedlich ist, m√ºssen einige Nuancen ihrer Arbeit ber√ºcksichtigt werden.  In UTF16 ben√∂tigt jedes Zeichen 2 Bytes, sodass der Zugriff auf ein Zeichen in einer Zeichenfolge nach Index schnell erfolgt, jedoch nur innerhalb der mehrsprachigen Hauptebene.  Auf der anderen Seite werden in UTF8 alle Zeichen unterst√ºtzt, dies wird jedoch auf Kosten einer langsamen Suche nach einem Zeichen in einer Zeichenfolge erreicht (da Zeichen eine unterschiedliche Anzahl von Bytes im Speicher belegen k√∂nnen, muss f√ºr den Zugriff auf ein Zeichen per Index jedes Mal von Anfang an durch die Zeile iteriert werden).  Wenn Sie mit gro√üen Zeichenfolgen in Lua und PHP arbeiten, m√ºssen Sie daher ber√ºcksichtigen, dass der Zugriff auf ein beliebiges Zeichen sehr langsam funktioniert (auch auf diesen Plattformen wird die Zeichenfolgenl√§nge jedes Mal neu berechnet). <br>  Obwohl f√ºr Python die vollst√§ndige Unicode-Unterst√ºtzung deklariert ist, gilt diese Einschr√§nkung nicht f√ºr Python, da die darin enthaltenen Zeilen etwas anders implementiert sind: F√ºr Zeichen in der mehrsprachigen Hauptebene wird die UTF16-Codierung verwendet, und f√ºr breitere Zeichen (3 und mehr Bytes) Python verwendet UTF32. <br>  F√ºr den eval-Makrointerpreter sind zus√§tzliche Optimierungen implementiert: Die Zeichenfolge ‚Äûwei√ü‚Äú, ob sie Unicode-Zeichen enth√§lt.  Falls es keine solchen Zeichen enth√§lt, wird die Zeichenfolge so interpretiert, dass sie aus ASCII-Zeichen besteht (wobei jedes Zeichen 1 Byte ben√∂tigt).  Der sequentielle Zugriff per Index in eval wird ebenfalls optimiert: Die Position des zuletzt aufgerufenen Zeichens wird in der Zeile zwischengespeichert.  Wenn Sie sich also zuerst dem 10. Zeichen in der Zeichenfolge zuwenden, wird eval beim n√§chsten Umdrehen des 20. Zeichens nicht vom Anfang der Zeile an, sondern ab dem 10. Zeichen danach suchen.  Au√üerdem wird die Zeichenfolgenl√§nge in eval zwischengespeichert, dh sie wird nur bei der ersten Anforderung berechnet. </p><br><img src="https://habrastorage.org/webt/je/gi/ne/jegineguad8fp4dlqyhfbboxy8c.png" alt="Namespace-Besetzung f√ºr Kompilierungsflags"><br><p>  In Haxe 4 werden Namespaces f√ºr Kompilierungsflags unterst√ºtzt, die beispielsweise zum Organisieren von Code beim Schreiben benutzerdefinierter Bibliotheken hilfreich sein k√∂nnen. <br>  Au√üerdem wurde ein reservierter Namespace f√ºr Kompilierungsflags angezeigt - <code>target</code> , der vom Compiler verwendet wird, um die Zielplattform und ihr Verhalten zu beschreiben: </p><br><ul><li>  <code>target.name</code> - Plattformname (js, cpp, php usw.) </li><li>  <code>target.utf16</code> - sagt, dass die Unicode-Unterst√ºtzung mit <code>target.utf16</code> implementiert wird </li><li>  <code>target.sys</code> - <code>target.sys</code> an, ob Klassen aus dem sys-Paket verf√ºgbar sind (z. B. um mit dem Dateisystem zu arbeiten). </li><li>  <code>target.static</code> - <code>target.static</code> an, ob die Plattform statisch ist (auf statischen Plattformen d√ºrfen die Basistypen <code>Int</code> , <code>Float</code> und <code>Bool</code> nicht <code>null</code> als Wert haben). </li><li>  <code>target.threaded</code> - <code>target.threaded</code> an, ob die Plattform Multithreading unterst√ºtzt </li></ul><br><img src="https://habrastorage.org/webt/qt/ue/c_/qtuec_vbswkwgylwnidy9xuaeou.png" alt="Namespace-Besetzung f√ºr Meta-Tags"><br><p>  In √§hnlicher Weise wurde die Namespace-Unterst√ºtzung f√ºr Meta-Tags angezeigt.  Bisher gibt es keine reservierten Namespaces f√ºr Meta-Tags in der Sprache, aber die Situation kann sich in Zukunft √§ndern. </p><br><img src="https://habrastorage.org/webt/cc/yj/ye/ccyjyemwz1ti9vgddvccyu4iqeq.png" alt="Neuer Typ - ReadOnlyArray"><br><p>  Der <code>ReadOnlyArray</code> Typ <code>ReadOnlyArray</code> der Haxe-Standardbibliothek hinzugef√ºgt - eine Abstraktion √ºber ein regul√§res Array, in der nur Methoden zum Lesen von Daten aus dem Array verf√ºgbar sind. </p><br><img src="https://habrastorage.org/webt/jr/ia/2o/jria2ovebta0bwm-lezr7jvv7ao.png" alt="Endfelder und lokale variabel"><br><p>  Eine weitere Neuerung in der Sprache sind Endfelder und lokale Variablen. <br>  Wenn beim Deklarieren eines Klassenfelds oder einer lokalen Variablen <code>final</code> anstelle des Schl√ºsselworts <code>var</code> wird, bedeutet dies, dass das angegebene Feld oder die angegebene Variable nicht neu zugewiesen werden kann (wenn der Compiler dies versucht, wird ein Fehler ausgegeben).  Gleichzeitig kann der Status ge√§ndert werden, sodass das endg√ºltige Feld oder die endg√ºltige Variable keine Konstante ist. </p><br><img src="https://habrastorage.org/webt/j-/8u/f9/j-8uf9asp_ivqbxn8kypatexma0.png" alt="Der Compiler steuert die Initialisierung der Rechte Felder"><br><p>  Die Werte der endg√ºltigen Felder m√ºssen entweder beim Deklarieren oder im Konstruktor initialisiert werden, da sonst der Compiler einen Fehler ausl√∂st. </p><br><img src="https://habrastorage.org/webt/2h/yd/wi/2hydwitcbuwstefblzdr09sxqzk.png" alt="Hashlink"><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HashLink</a> ist eine neue Plattform mit einer eigenen virtuellen Maschine, die speziell f√ºr Haxe entwickelt wurde.  HashLink unterst√ºtzt die sogenannte ‚ÄûDual Compilation‚Äú - der Code kann entweder in Bytecode (der sehr schnell ist, den Debugging-Prozess entwickelter Anwendungen beschleunigt) oder in C-Code (der sich durch eine h√∂here Leistung auszeichnet) kompiliert werden.  Nicholas widmete HashLink mehreren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Haxe-Blog-Posts</a> und sprach <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der letztj√§hrigen Konferenz in</a> Seattle √ºber ihn.  Die HashLink-Technologie wird in beliebten Spielen wie Dead Cells und Northgard verwendet. </p><br><img src="https://habrastorage.org/webt/zy/a4/eh/zya4eh5l7t3zqihviw5qvtcrsfc.png" alt="Null sicherheit"><br><p>  Ein weiteres neues interessantes Merkmal von Haxe 4 ist die Null-Sicherheit, die sich noch im Versuchsstadium befindet (aufgrund von Fehlalarmen und unzureichenden Codesicherheitspr√ºfungen). <br>  Was ist Nullsicherheit?  Wenn Ihre Funktion nicht explizit deklariert, dass sie <code>null</code> als Parameterwerte akzeptieren kann, gibt der Compiler den entsprechenden Fehler aus, wenn Sie versuchen, <code>null</code> an sie zu √ºbergeben.  Dar√ºber hinaus m√ºssen Sie f√ºr Funktionsparameter, deren Wert <code>null</code> kann, vom Compiler zus√§tzlichen Code schreiben, um solche F√§lle zu √ºberpr√ºfen und zu behandeln. <br>  Diese Funktion ist standardm√§√üig deaktiviert, hat jedoch keinen Einfluss auf die Geschwindigkeit der Codeausf√ºhrung (sofern Sie sie dennoch aktivieren), da die beschriebenen √úberpr√ºfungen nur in der Kompilierungsphase durchgef√ºhrt werden.  Es kann f√ºr den gesamten Code sowie schrittweise f√ºr einzelne Felder, Klassen und Pakete aktiviert werden (wodurch ein schrittweiser √úbergang zu einem sichereren Code erm√∂glicht wird).  Hierf√ºr k√∂nnen Sie spezielle Meta-Tags und Makros verwenden. <br>  Die Modi, in denen Null-Sicherheit funktionieren kann, sind: <code>Strict</code> (am strengsten), <code>Loose</code> (der Standardmodus) und <code>Off</code> (zum Deaktivieren von √úberpr√ºfungen f√ºr einzelne Pakete und Typen). </p><br><img src="https://habrastorage.org/webt/mn/9l/jh/mn9ljhu2_wwwonpjo7qhcoiasyw.png" alt="Standard-null-sicherheits√ºberpr√ºfungsmodus"><br><p>  F√ºr die auf der Folie gezeigte Funktion ist die Null-Sicherheitspr√ºfung aktiviert.  Wir sehen, dass diese Funktion einen optionalen Parameter <code>s</code> , dh wir k√∂nnen <code>null</code> als Parameterwert √ºbergeben.  Beim Versuch, Code mit einer solchen Funktion zu kompilieren, erzeugt der Compiler eine Reihe von Fehlern: </p><br><ul><li>  beim Versuch, auf ein Feld des Objekts <code>s</code> zuzugreifen (da es m√∂glicherweise <code>null</code> ) </li><li>  beim Versuch, eine Variable str zuzuweisen, die, wie wir sehen, nicht <code>null</code> (andernfalls h√§tten wir sie nicht als <code>String</code> , sondern als <code>Null&lt;String&gt;</code> deklarieren sollen) </li><li>  beim Versuch, ein Objekt <code>s</code> von einer Funktion zur√ºckzugeben (da die Funktion nicht <code>null</code> ) </li></ul><br><p>  Wie k√∂nnen diese Fehler behoben werden? </p><br><img src="https://habrastorage.org/webt/ku/w-/l8/kuw-l8prqna5xq7c21ushemgtqs.png" alt="Beheben Sie null Sicherheitsl√ºcken"><br><p>  Wir m√ºssen dem Code nur eine Nullpr√ºfung hinzuf√ºgen (innerhalb des Blocks mit <code>null</code> ‚Äûwei√ü‚Äú der Compiler, dass <code>s</code> nicht <code>null</code> kann und sicher damit verwendet werden kann) und au√üerdem sicherstellen, dass die Funktion keine <code>null</code> ! </p><br><img src="https://habrastorage.org/webt/x1/xj/jp/x1xjjpwn8ikrulbtulxj_iixlq4.png" alt="Bei der √úberpr√ºfung der Nullsicherheit ber√ºcksichtigt der Compiler die Ausf√ºhrungsreihenfolge des Programms"><br><p>  Dar√ºber hinaus ber√ºcksichtigt der Compiler bei der √úberpr√ºfung der Nullsicherheit die Reihenfolge, in der Programme ausgef√ºhrt werden.  Wenn der Compiler beispielsweise nach dem √úberpr√ºfen des Werts des Parameters <code>s</code> auf null, um die Funktion zu beenden (oder eine Ausnahme auszul√∂sen), ‚Äûwei√ü‚Äú, dass der Parameter <code>s</code> nach einer solchen √úberpr√ºfung nicht mehr <code>null</code> kann und sicher verwendet werden kann. </p><br><img src="https://habrastorage.org/webt/6f/vq/cj/6fvqcjbu-dixmrxcfuwtd8mskvk.png" alt="Strenger Modus f√ºr die Durchf√ºhrung von Null-Sicherheits√ºberpr√ºfungen"><br><p>  Wenn der Compiler den strengen √úberpr√ºfungsmodus f√ºr die Nullsicherheit aktiviert, sind zus√§tzliche √úberpr√ºfungen f√ºr <code>null</code> erforderlich, wenn zwischen der ersten √úberpr√ºfung des Werts f√ºr <code>null</code> und dem Versuch, auf das Feld des Objekts zuzugreifen, ein Code ausgef√ºhrt wurde, der ihn auf <code>null</code> . </p><br><img src="https://habrastorage.org/webt/ci/6m/u4/ci6mu4zsvkdjf33vvbetz30mf2m.png" alt="Lose Modus zum Durchf√ºhren von Null-Sicherheits√ºberpr√ºfungen"><br><p>  Im Loose-Modus (standardm√§√üig verwendet) ben√∂tigt der Compiler keine solchen √úberpr√ºfungen (dieses Verhalten wird √ºbrigens auch standardm√§√üig in TypeScript verwendet). </p><br><img src="https://habrastorage.org/webt/je/wo/5q/jewo5qwzmavidsf-jss4bwug79i.png" alt="√úberpr√ºfen der Initialisierung von Feldern beim Durchf√ºhren von √úberpr√ºfungen auf Nullsicherheit"><br><p>  Wenn die Pr√ºfung auf Nullsicherheit aktiviert ist, pr√ºft der Compiler au√üerdem, ob die Felder in den Klassen initialisiert sind (direkt bei der Deklaration oder im Konstruktor).  Andernfalls gibt der Compiler beim Versuch, ein Objekt einer solchen Klasse zu √ºbergeben, sowie beim Versuch, Methoden f√ºr solche Objekte aufzurufen, Fehler aus, bis alle Felder des Objekts initialisiert sind.  Solche √úberpr√ºfungen k√∂nnen f√ºr einzelne Felder der Klasse <code>@:nullSafety(Off)</code> indem sie mit dem Meta-Tag <code>@:nullSafety(Off)</code> markiert werden. <br>  Alexander hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letzten Oktober</a> in Haxe mehr √ºber Null-Sicherheit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gesprochen</a> . </p><br><img src="https://habrastorage.org/webt/ui/f3/za/uif3zavird4vri76gqfiaukfsxo.png" alt="Generieren von ES6-Klassen f√ºr JavaScript"><br><p>  In Haxe 4 wurde die M√∂glichkeit eingef√ºhrt, ES6-Klassen f√ºr JavaScript zu generieren. Die <code>js-es=6</code> erfolgt √ºber das Kompilierungsflag <code>js-es=6</code> . </p><br><img src="https://habrastorage.org/webt/z7/5c/ow/z75cowptrmqn5bxfa7oerxkxsro.png" alt="In-Place-Funktionalit√§t"><br><p>  Das Einbetten von Funktionen am Ort eines Anrufs (Call-Site-Inlining) bietet mehr Optionen zum Steuern des Gleichgewichts zwischen Codeleistung und -gr√∂√üe.  Diese Funktionalit√§t wird auch in der Haxe-Standardbibliothek verwendet. <br>  Wie ist sie  Sie k√∂nnen den Funktionsk√∂rper (mit dem <code>inline</code> ) nur an den Stellen einbetten, an denen eine hohe Leistung gew√§hrleistet werden muss (z. B. bei Bedarf eine ausreichend umfangreiche Methode in der Schleife aufrufen), w√§hrend der Funktionsk√∂rper an anderen Stellen nicht eingebettet ist.  Infolgedessen wird die Gr√∂√üe des generierten Codes geringf√ºgig erh√∂ht. </p><br><img src="https://habrastorage.org/webt/ke/0y/wf/ke0ywfco0j5pbynruiqr4mgqhxw.png" alt="Automatische Erweiterungen f√ºr Typen"><br><p>  Automatische Verwendung (automatische Erweiterungen f√ºr Typen) bedeutet, dass Sie jetzt f√ºr Typen statische Erweiterungen an der Stelle der Typdeklaration deklarieren k√∂nnen.  Dadurch entf√§llt die Notwendigkeit, jedes Mal das <code>using type;</code> Typkonstrukt zu verwenden <code>using type;</code>  in jedem Modul, in dem Typ- und Erweiterungsmethoden verwendet werden.  Momentan wird diese Art der Erweiterung nur f√ºr √úbertragungen implementiert, aber in der endg√ºltigen Version (und in n√§chtlichen Builds) kann sie nicht nur f√ºr √úbertragungen verwendet werden. </p><br><img src="https://habrastorage.org/webt/ru/ts/6s/ruts6snzqmgjdbx1g0kmjc92oxw.png" alt="√úberschreiben des Operators f√ºr den Zugriff auf die Felder eines Objekts"><br><p>  In Haxe 4 kann der Operator f√ºr den Zugriff auf Felder eines Objekts f√ºr abstrakte Typen neu definiert werden (nur f√ºr Felder, die im Typ nicht vorhanden sind).  Verwenden Sie dazu Methoden, die mit dem Meta-Tag <code>@:op(ab)</code> . </p><br><img src="https://habrastorage.org/webt/qv/fu/fj/qvfufjhriheejf1q6i0epu82pw8.png" alt="Eingebautes Markup"><br><p>  Das integrierte Markup ist ein weiteres experimentelles Feature in Haxe.  Der integrierte Markup-Code wird vom Compiler nicht als XML-Dokument verarbeitet - der Compiler sieht ihn als Zeichenfolge, die in das Meta-Tag <code>@:markup</code> .           . </p><br><img src="https://habrastorage.org/webt/ms/an/zi/msanzicye9bpsmkbw55m6zcs34a.png" alt="   "><br><p>    -,   - <code>@:markup</code>    ,     . </p><br><img src="https://habrastorage.org/webt/pg/ek/2w/pgek2wa4v-ocjxauyq6e9oopvfc.png" alt="      untyped-"><br><p>               (  <code>untyped</code> ).           . ,   ,  <code>Js.build()</code>     - <code>@:markup</code>     ,        <code>&lt;js&gt;</code> ,     js-. </p><br><img src="https://habrastorage.org/webt/gk/vd/1f/gkvd1f3duuldpzde1zmmgvwbkza.png" alt=" -  - "><br><p>  Haxe 4     -  - ,    ‚Äî       . </p><br><img src="https://habrastorage.org/webt/br/gp/0c/brgp0cim1eozg7jjcopjmtx1xys.png" alt="     "><br><p>       .  ,        .   ,   <code>Int</code> ,      ,    C. </p><br><img src="https://habrastorage.org/webt/cj/3g/lf/cj3glfbn9l5owjjunjtrsn2jzvw.png" alt="     "><br><p>         ‚Äî       . </p><br><p> <b>     :</b> </p><br><img src="https://habrastorage.org/webt/y4/hl/fw/y4hlfwwz_db02rgmsj4f1jgw6r8.png" alt=" JVM- "><br><p>    JVM-   JDK,            Java-.    .         . </p><br><img src="https://habrastorage.org/webt/wj/ut/_z/wjut_zypg87r1f508zovsks2dio.png" alt=""><br><p>      ,     <code>async</code> / <code>await</code>  <code>yield</code> .       (   C#,       ).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>     Haxe    github. </p><br><img src="https://habrastorage.org/webt/ou/7r/gh/ou7rghzmynbwwvah6l7rumqpl8i.png" alt=",    "><br><p>  Haxe  <a href="">,    </a> .     ( )     .        ,    . </p><br><img src="https://habrastorage.org/webt/ty/y4/xw/tyy4xwdn9olejstawrdlqbux_tu.png" alt=" API     "><br><p>       API     .     ,   ,    API    . </p><br><p>      Haxe 4  ! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de455389/">https://habr.com/ru/post/de455389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de455375/index.html">UDR in Pascal schreiben</a></li>
<li><a href="../de455377/index.html">IoT-Architektur</a></li>
<li><a href="../de455379/index.html">(Statisch) Auswahl optimaler Container in C ++ - Programmen</a></li>
<li><a href="../de455381/index.html">Der technische Support von 3CX antwortet: Erfassen Sie den SIP-Verkehr auf dem PBX-Server</a></li>
<li><a href="../de455387/index.html">Grundlegendes zum maschinellen Lernen in Elastic Stack (auch bekannt als Elasticsearch, auch bekannt als ELK)</a></li>
<li><a href="../de455391/index.html">Teil 1: RISC-V / RocketChip in einem unnat√ºrlichen Lebensraum</a></li>
<li><a href="../de455393/index.html">√úber die Verwendung parametrischer Methoden zur Spektralsch√§tzung im Radar - die MUSIC-Methode. Erg√§nzung zum Artikel</a></li>
<li><a href="../de455397/index.html">Wie wir das neue Netzwerk auf Huawei im Moskauer B√ºro entworfen und implementiert haben, Teil 1</a></li>
<li><a href="../de455401/index.html">Tcl f√ºr Cisco IOS in einfachen Beispielen</a></li>
<li><a href="../de455403/index.html">Von f√ºnf Cent bis zum Spiel der Gottheiten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>