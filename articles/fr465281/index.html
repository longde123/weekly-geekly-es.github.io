<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕴🏻 🕞 ⁉️ Surveillance continue du glucose (NMH) avec la pompe Medtronic 640g 🤬 🆚 🧀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il se trouve qu'il y a un peu moins d'un an, ma fille est tombée malade du diabète de type 1 (insulino-dépendant). Après un mois d'utilisation des «st...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Surveillance continue du glucose (NMH) avec la pompe Medtronic 640g</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465281/"><img src="https://habrastorage.org/webt/z1/dt/da/z1dtdanh2_1-adea6snwi6fgr5g.png"><br>  Il se trouve qu'il y a un peu moins d'un an, ma fille est tombée malade du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">diabète de type 1</a> (insulino-dépendant).  Après un mois d'utilisation des «stylos», nous sommes passés à la pompe Medtronic 640g avec prise en charge NMG.  Sous le chat, je vais vous dire comment j'ai fait la surveillance du glucose en utilisant les données d'une pompe.  Attention, trafic. <br><a name="habracut"></a><br>
<h3>  Présentation </h3><br>  Je ne décrirai pas toutes les caractéristiques et les «avantages» et les «inconvénients» de cette pompe, cela dépasse le cadre de l'article.  Ces informations sont facilement accessibles sur Internet.  Je ne m'attarderai que sur les points nécessaires à la compréhension. <br><br>  L'un des principaux objectifs du diabète de type 1 est de maintenir une glycémie optimale.  Le fait est que le taux de glucose change assez rapidement en fonction de divers facteurs - nourriture, activité physique, hormones, changements météorologiques, sommeil, même une simple promenade dans le parc peut affecter considérablement les niveaux de glucose.  Par conséquent, il est important de mesurer le taux de glucose aussi souvent que possible, idéalement toutes les 5 minutes 24/7.  Il est extrêmement difficile d'y parvenir avec un glucomètre conventionnel, par conséquent, le NMG est utilisé.  Ils sont différents.  Vous pouvez lire et regarder la vidéo plus en détail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Avoir une pompe de surveillance est très bon et aide à résoudre de nombreux problèmes.  Sur la pompe, vous pouvez voir les valeurs actuelles de glucose, ainsi qu'un graphique de ses changements ces derniers temps. <br><br>  La pompe, avec toutes les lectures, est toujours avec une fille, ce qui signifie qu'il n'est pas possible de voir les lectures à distance.  La fille n'est pas toujours à proximité, elle va à l'école, fréquente le poste.  les cours, les promenades, en général, mènent une vie bien remplie.  Ma femme et moi travaillons.  Les appels constants à un téléphone portable, sortir du lit plusieurs fois (parfois des dizaines !!!) par nuit ne rendent pas le sommeil et les nerfs plus forts. <br><br><h3>  Entrer les données </h3><br>  La mise en œuvre et le principe de fonctionnement de NMG sont décrits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  La seule chose à laquelle je veux faire attention est que cette pompe est connectée à l'émetteur via le protocole <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ZigBee</a> .  Au total, j'ai trouvé 3 appareils pouvant fonctionner avec cette pompe: <br><br><ul><li>  L' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">émetteur</a> Guardian 2 Link lui-même </li><li>  CareLink USB MMT-7306, le soi-disant  "Lecteur flash noir" </li><li>  Globomètre Contour NEXT LINK 2.4 </li></ul><br>  Pour le moment, sur ces 3 appareils en Russie, seul l'émetteur est vendu.  En fait, c'est lui qui transfère les données à la pompe sur le taux de glucose.  J'ai vu le «lecteur flash» uniquement chez notre médecin traitant et avec lui, nous avons téléchargé les données de la pompe plusieurs fois dans son programme et imprimé les graphiques.  Ensuite, ce "lecteur flash" nous est devenu inaccessible, car  elle a été donnée à une autre ville et quand elle revient personne ne sait.  Ils disent que ce "lecteur flash" est le seul dans toute la Russie, je ne sais pas combien ces informations sont vraies.  Il n'est pas réaliste d'acheter un glucomètre et une clé USB en Russie.  A ma question, les représentants officiels disent qu '"ils n'ont pas encore passé la certification en Russie, quand ce sera, on ne sait pas, on attend".  Après une longue recherche, j'ai pu acheter un glucomètre en Angleterre.  Un remerciement spécial à tous ceux qui m'ont aidé. <br><br>  Ainsi, le compteur peut être connecté à la pompe et il a un port USB, il peut donc être connecté à un ordinateur.  Après une longue recherche, j'ai trouvé un projet sur GitHub qui m'a permis de lire les données de la pompe à travers ce compteur.  J'en profite pour exprimer ma gratitude à l'auteur de ces projets - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lennart Goedhart</a> .  Il a fait un très bon travail pour étudier le protocole et a affiché le résultat en accès gratuit.  Il ne reste plus qu'à mettre en œuvre le plan. <br><br><h3>  Énoncé du problème </h3><br>  Pour pouvoir surveiller les relevés de la pompe sur un ordinateur, un téléphone portable en ligne «sans inscription ni SMS». <br><br><h3>  Solution </h3><br><h4>  Le fer </h4><br>  Dans la première version, le Raspberry Pi Zero W a été choisi, ce qui n'a pas besoin d'être présenté.  Il est petit, pas gourmand et a à bord tout ce dont vous avez besoin.  Pour cela, il a été acheté en supplément.  équipement: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Waveshare SIM7000C</a> - modem 2.5G + GPS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hub USB 4 ports Waveshare</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onduleur</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Raspberry Pi Zero</a> .  Tout cela peut être facilement acheté sur Aliexpress.  La sélection de tous ces composants a été basée sur le fait que tout cela a de petites dimensions et est assemblé comme une «tarte».  La nourriture est fournie par Power Bank.  Au test, la capacité de 6000 mA est suffisante pour une journée "légère", c'est-à-dire  de 8 h à 20 h, ce qui est tout à fait acceptable pour moi.  Poids Power Bank environ 130 gr.  et il ne tirera pas trop sa poche. <br><br>  Plus d'informations sur l'alimentation, plus précisément sur l'onduleur Raspberry Pi Zero.  Lors de la planification, j'ai pensé qu'il pourrait bien être la principale source de nutrition, mais je me suis trompé.  En pratique, elle dure 1 heure.  Par conséquent, je ne vois aucune raison de l'utiliser. <br><br><img src="https://habrastorage.org/webt/vc/oq/vn/vcoqvnbx_jco7y0jao0jwg6_vqa.jpeg"><br>  <i>Première version.</i> <br><br>  Pendant le fonctionnement, il s'est avéré que travailler avec USB dans Pi Zero laisse beaucoup à désirer.  Le Wi-Fi tombait périodiquement - GPRS n'est pas si critique, mais le gel du compteur est déjà important.  De plus, il n'était pas possible de «déformer» l'USB à distance - l'alimentation est fournie directement au port USB. <br><br>  Au final, j'ai acheté le Raspberry Pi 3. Le choix était dû à la présence du Wi-Fi à bord et à la présence de ports USB complets. <br><br><img src="https://habrastorage.org/webt/gs/xt/4f/gsxt4fjpnpjwp2bybc1zclht1yw.jpeg"><br>  <i>La deuxième version, sans glucomètre et Waveshare SIM7000C.</i> <br><br>  Pour réduire la taille, j'ai dû sacrifier un connecteur Ethernet et souder mon câble USB pour connecter le compteur.  À l'avenir, il est prévu de se débarrasser du corps du compteur et de le souder directement à la framboise. <br>  Développement et impression du boîtier - dans les plans. <br><br><h4>  Logiciels </h4><br>  La principale exigence est l'accès aux données depuis n'importe quel appareil, y compris les smartphones.  Élever un serveur sur une framboise n'avait pas de sens - lors de la communication via un modem, nous avons une adresse IP "grise", qui a ruiné tous les plans.  De plus, garder une connexion GPRS constante ne faisait pas partie de mes plans en raison des économies d'énergie.  Heureusement, j'avais déjà configuré Zabbix et la décision a été prise de lui transférer des données.  En tant que "beaux" graphismes, Grafana était foutu. <br><br>  Ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projet a</a> été pris comme base d'un logiciel sur la framboise.  Comme il s'est avéré <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus tard</a> , ce n'était qu'un concept.  En général, il est assez efficace et pour le moment, il exécute mes tâches. <br><br>  La logique de travail est la suivante: toutes les 5 minutes, je collecte les données de la pompe et de la framboise et les transfère à Zabbix via zabbix_sender.  De plus, il existe une "télécommande par SMS". <br><br>  Voici à quoi cela ressemble dans le navigateur (sur le téléphone - de la même manière): <br><br><img src="https://habrastorage.org/webt/ie/pk/wy/iepkwy1gfnnhadljfxjrek9_b9q.png"><br>  <i>Lecture actuelle du glucose, de l'insuline active et tendance (une forte baisse ou augmentation du niveau)</i> <br><br><img src="https://habrastorage.org/webt/lf/k8/-h/lfk8-hspebemremh0pdndoueedg.png"><br>  <i>graphique du glucose et de l'insuline active</i> <br><br><img src="https://habrastorage.org/webt/0m/fw/dg/0mfwdgbov5xjs3lbrto9ks9ypo0.png"><br>  <i>Volume d'insuline de la pompe, batterie, débit basal temporaire et débit basal</i> <br><br><img src="https://habrastorage.org/webt/e0/gz/hz/e0gzhz1u0zpngnoee2hkubbdd6k.png"><br>  <i>température du processeur framboise, niveau Wi-Fi, modem</i> <br><br><img src="https://habrastorage.org/webt/-y/fi/m_/-yfim_i1diahxuepe6acqnsboxi.png"><br>  <i>Données GPS</i> <br><br>  À l'heure actuelle, l'appareil exécute les fonctionnalités minimales prévues.  Vous pouvez contrôler le niveau de glucose actuel, ainsi que d'autres paramètres.  En conséquence, moins d'appels, se levant la nuit, il suffit de regarder les graphiques sur le téléphone. <br><br>  Les plans pour un avenir proche comprennent la modification de la logique de travail, l'ajout de notifications SMS aux valeurs critiques, etc.  À l'avenir, passez au nœud js basé sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> projet. <br><br>  Je poste le code sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465281/">https://habr.com/ru/post/fr465281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465271/index.html">Les pirates informatiques volent et blanchissent de l'argent grâce aux services de livraison de nourriture et de réservation d'hôtel.</a></li>
<li><a href="../fr465273/index.html">Comment les développeurs de logiciels Microgaming protègent les utilisateurs contre les hacks</a></li>
<li><a href="../fr465275/index.html">Alice obtient des compétences</a></li>
<li><a href="../fr465277/index.html">Analyser et analyser la sémantique pour le référencement: 5 modèles gratuits de Google Sheets</a></li>
<li><a href="../fr465279/index.html">Reconnaissance faciale à l'aide de réseaux siamois</a></li>
<li><a href="../fr465283/index.html">«Il y a tout ce dont on a besoin, et rien ne rend furieux» - la vérité parle à travers les lèvres du client</a></li>
<li><a href="../fr465285/index.html">Comme nous l'avons écrit, l'interface de notre propre panneau de contrôle d'hébergement: framework et backdoors</a></li>
<li><a href="../fr465289/index.html">Le condensé des événements pour les professionnels des RH dans le domaine des TI pour septembre 2019</a></li>
<li><a href="../fr465291/index.html">Plus près du sol: comment j'ai changé le coworking en maison de village</a></li>
<li><a href="../fr465293/index.html">Comment nous avons abandonné le grand hackathon et commencé à faire des voyages pour des équipes individuelles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>