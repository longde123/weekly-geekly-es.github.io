<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∏ üë®üèæ‚Äçüè´ üÜô Conector de diagn√≥stico OBD-II como interfaz para IoT üëÖ üõ≥Ô∏è üåû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√ârase una vez, a mediados de los 90, durante el advenimiento del procesador Pentium Pro, uno de los fundadores de Intel Gordon Moore se√±al√≥ que: ‚ÄúSi l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conector de diagn√≥stico OBD-II como interfaz para IoT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/unet/blog/408941/">  √ârase una vez, a mediados de los 90, durante el advenimiento del procesador Pentium Pro, uno de los fundadores de Intel Gordon Moore se√±al√≥ que: ‚ÄúSi la industria automotriz se desarrollara al ritmo de la evoluci√≥n de la industria de semiconductores, hoy Rolls-Royce podr√≠a conducir medio mill√≥n millas por gal√≥n de gasolina, y ser√≠a m√°s barato tirarlo que pagar el estacionamiento ".  Pero, tal vez, ya hoy la industria automotriz est√° dando un paso de desarrollo gigante en la direcci√≥n de un cambio fundamental en el tipo de combustible y la tecnolog√≠a para conducir un autom√≥vil.  Casi recientemente, se presentan autom√≥viles el√©ctricos comerciales y autom√≥viles impulsados ‚Äã‚Äãpor hidr√≥geno, y el piloto autom√°tico se est√° convirtiendo en el componente deseado del "llenado" electr√≥nico del veh√≠culo.  En su mayor parte, solo un avance r√°pido en la industria automotriz se debe al surgimiento de soluciones confiables y seguras basadas en electr√≥nica inteligente para sistemas de control a bordo de autom√≥viles.  Pero, ¬ød√≥nde est√° Internet en el autom√≥vil en la vida cotidiana, d√≥nde est√° la tecnolog√≠a de Internet de las cosas (IoT), as√≠ como el conocido concepto de un autom√≥vil conectado a la red (Connected Car)? <br><br><img src="https://habrastorage.org/webt/wx/d9/lt/wxd9lt00v41ta-q6gyxxgtmssx0.jpeg"><br>  <font color="gray"><i>El Rolls-Royce 103EX.</i></font>  <font color="gray"><i>Rolls-Royce presenta un auto conceptual el√©ctrico sin conductor, completo con un sill√≥n de seda - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The Telegraph</a> .</i></font> <br><a name="habracut"></a><br>  De hecho, todas las tecnolog√≠as anteriores ya existen y se utilizan, sin embargo, solo en soluciones suficientemente separadas.  La raz√≥n de esto son los estrictos requisitos de seguridad que ciertamente deben implementarse al lanzar cualquier nueva tecnolog√≠a o soluci√≥n en el transporte.  Por lo tanto, no se puede decir que cuando se sube a un autom√≥vil con un tel√©fono inteligente, puede obtener autom√°ticamente una soluci√≥n IoT o Connected Car.  En la mayor√≠a de los pa√≠ses, y esto es muy l√≥gico, existe una prohibici√≥n del uso de un tel√©fono inteligente u otros dispositivos mientras se conduce, y si hablamos de asistentes de voz, en la mayor√≠a de los casos ahora son molestos y distraen, tanto al conductor como a los pasajeros.  A su vez, el centro de medios, pantallas de video adicionales y excelente ac√∫stica, por supuesto, son componentes muy atractivos de un autom√≥vil moderno.  Pero quiero ponerme al d√≠a con la palabra, y notar que es bueno amortiguar la m√∫sica y solo mirar por la ventana las calles o la naturaleza que pasa.  Por supuesto, hay atascos de tr√°fico, pero en esta publicaci√≥n el objetivo es tener en cuenta no solo algunos componentes √©ticos o considerar los problemas de exceso de informaci√≥n de los usuarios de la carretera, sino considerar los componentes "invisibles" de las tecnolog√≠as de IoT que ya se utilizan en veh√≠culos y est√°n disponibles para un uso generalizado. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/gXpDx22dSiU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Hoy, una soluci√≥n interesante y muy prometedora para IoT automotriz es la plataforma Open Connected Car de Mojio.  Esta plataforma con una interfaz abierta (API) proporciona un servicio en la nube para autom√≥viles "conectados" y las ofertas comerciales ya est√°n disponibles.  Por ejemplo, el gigante de telecomunicaciones T-Mobile, basado en esta plataforma, ofrece el servicio SyncUP DRIVE.  Esta es una soluci√≥n de hardware y software basada en un dispositivo port√°til conectado al autom√≥vil a trav√©s del conector de diagn√≥stico <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OBD-II</a> y la aplicaci√≥n m√≥vil correspondiente.  Gracias a este enfoque, es posible realizar de manera efectiva un monitoreo continuo de los par√°metros de operaci√≥n de su autom√≥vil y en cualquier momento obtener su ubicaci√≥n actual.  La aplicaci√≥n puede hablar sobre estilos de conducci√≥n, advertir sobre el mantenimiento preventivo y tambi√©n notificar al propietario sobre problemas con el veh√≠culo.  Adem√°s, SyncUP DRIVE implementa un punto de acceso Wi-Fi en el autom√≥vil utilizando el acceso a trav√©s del protocolo de alta velocidad del est√°ndar LTE m√≥vil. <br><br><img src="https://habrastorage.org/webt/em/tc/ps/emtcpswczvhsacuttewampbi6dk.png"><br>  <font color="gray"><i>La plataforma abierta de autom√≥viles conectados - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mojio</a></i></font> <br><br>  Se utiliza un conector de diagn√≥stico OBD-II est√°ndar para conectarse al veh√≠culo.  La mayor√≠a de los autom√≥viles de producci√≥n producidos despu√©s de 1996 ya tienen este conector.  Aunque dicho conector de diagn√≥stico est√° estandarizado, admite varios protocolos de varios sistemas de control del motor (se utilizan f√≠sicamente diferentes contactos en el conector) que el m√≥dulo de comunicaci√≥n IoT debe conocer.  En consecuencia, en diferentes marcas de autom√≥viles puede haber diferentes buses internos para obtener datos de diagn√≥stico de la unidad de control del motor (ECU - Unidad de control electr√≥nico).  Para trabajar con el servicio SyncUP DRIVE, se ofrece una soluci√≥n basada en el m√≥dulo ZTEWelink VM6200S. <br><br>  El m√≥dulo VM6200S admite la conexi√≥n a trav√©s del protocolo m√≥vil LTE, contiene un sensor de aceleraci√≥n integrado de 3 ejes y un giroscopio de 3 ejes, receptor de se√±al GPS, chip OBD-II, con soporte para los protocolos ISO 15765-4 (CAN), ISO 14230-4 KWP (Keyword Protocol 2000), ISO 9141-2 (autom√≥viles Chrysler, Euro y Asia), SAE J1850 PWM (veh√≠culos Ford), SAE J1850 VPW (veh√≠culos GM).  Por lo tanto, el m√≥dulo le permite implementar un punto de acceso Wi-Fi 802.11 b / g / n /, registrar eventos mientras conduce, realizar diagn√≥sticos del motor, evaluar el ahorro de combustible, etc.  Y dado que los socios de Mojio son proyectos de Amazon Alexa, el servicio IFTTT y otros, todas las perspectivas se abren para los desarrolladores e integradores de soluciones hasta crear una IoT social basada en un autom√≥vil "conectado", como parte de dicha infraestructura. <br><br><img src="https://habrastorage.org/webt/yk/ay/bd/ykaybdys59rvcgp4_fktlbr3w1q.jpeg"><br>  <font color="gray"><i>Dispositivo OBD VM6200S4G - ZTEWelink Corporation</i></font> <br><br>  Pero no solo SyncUP DRIVE est√° ahora en el mercado, por ejemplo, muchas compa√±√≠as ofrecen algo similar.  Por supuesto, el dispositivo autom√°tico Samsung Connect presentado recientemente es una de esas propuestas interesantes que convierten el autom√≥vil en un dispositivo conectado.  La soluci√≥n de Samsung utiliza la red m√≥vil de generaci√≥n 4G LTE de la misma manera e implementa un punto de acceso Wi-Fi dentro del autom√≥vil: 802.11 a / b / g / n.  El dispositivo autom√°tico Connect es compatible con Bluetooth v4.1, contiene un receptor GPS, sensor de aceleraci√≥n, giroscopio y se basa en un procesador de 4 n√∫cleos con una frecuencia de 1.2GHz y el sistema operativo Tizen.  Cabe se√±alar que el gigante electr√≥nico coreano Samsung habla sobre la seguridad del sistema a trav√©s del uso de Samsung Knox, una soluci√≥n m√≥vil con protecci√≥n de nivel empresarial.  De hecho, Samsung Knox es una soluci√≥n de software y hardware para mejorar la protecci√≥n del sistema operativo Android. <br><br><img src="https://habrastorage.org/webt/b1/lg/t3/b1lgt3mnkkvh8jouptfu2w8b2gc.jpeg"><br>  <font color="gray"><i>Samsung Connect auto</i></font> <br><br>  Por lo tanto, la informaci√≥n obtenida mediante la lectura de datos del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OBD-II</a> , las coordenadas actuales de la ubicaci√≥n del receptor GPS y los par√°metros de la din√°mica del veh√≠culo, obtenidos de los sensores girosc√≥picos, en el momento actual y de hecho, se convirtieron en la base para convertir cualquier veh√≠culo en Dispositivo IoT.  Adem√°s, puede considerar escenarios para utilizar la informaci√≥n agregada recibida de los autom√≥viles, aplicar diversas t√©cnicas de procesamiento de Big Data y no debe olvidarse de las posibilidades de combinar dichos datos con la informaci√≥n de la infraestructura de las carreteras inteligentes.  Pero antes de comenzar a procesar los datos, primero debe obtenerlos, por lo que en esta publicaci√≥n nos centraremos en el componente de hardware de la implementaci√≥n de escenarios de trabajo a nivel del conector de diagn√≥stico OBD-II. <br><br>  De una forma u otra, pero todas las soluciones discutidas anteriormente son productos industriales m√°s avanzados, en comparaci√≥n con un lector de c√≥digos de diagn√≥stico convencional basado en el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ELM327</a> de la compa√±√≠a canadiense Elm Electronics.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ELM327</a> es un convertidor universal de protocolos utilizado en autobuses de diagn√≥stico de autom√≥viles en un protocolo en serie como RS-232. <br><br><img src="https://habrastorage.org/webt/bd/fl/ti/bdfltiij2wefjc2hs9iegcrg67c.png"><br>  <font color="gray"><i>Diagrama de bloques de un chip ELM327 v2.2 - Elm Electronics</i></font> <br><br>  La interacci√≥n con ELM327 se lleva a cabo mediante comandos AT est√°ndar admitidos por el chip.  Solo necesita organizar el intercambio de mensajes de texto utilizando el protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RS-232</a> , que ya se ha convertido en un cl√°sico (o m√°s bien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UART</a> , porque estamos hablando solo del flujo de datos, no de los niveles de se√±al).  Y la conexi√≥n f√≠sica de bajo nivel en s√≠ a trav√©s de USB, Bluetooth o Wi-Fi simplemente se implementa utilizando el protocolo de conversi√≥n en serie de chips UART.  Resulta que para convertir el autom√≥vil en un dispositivo IoT, es suficiente, sin olvidar coordinar los niveles de voltaje, conectar el chip ELM327 al conector de diagn√≥stico OBD-II y, por ejemplo, poner el convertidor de interfaz serial en Bluetooth o Wi-Fi en la salida de este chip.  Luego, puede "leer" los diagn√≥sticos del veh√≠culo desde su tel√©fono inteligente.  Sin embargo, hay muchos m√≥dulos o bloques listos para usar en el mercado.  Y su precio en AliExpress oscila entre US $ 2.50 y US $ 10.  Aunque el m√≥dulo no debe consumir mucha energ√≠a, ser√° muy conveniente si el bot√≥n de apagado ya est√° presente.  Por cierto, desde el punto de vista de la seguridad, esto tampoco es malo. <br><br><img src="https://habrastorage.org/webt/2-/yq/4k/2-yq4kpvpmmay4csvmstieigi_c.jpeg"><br>  <font color="gray"><i>Adaptador de diagn√≥stico de coche Mini ELM327 Bluetooth OBD-II V1.5</i></font> <br><br>  Ahora puede conectar el m√≥dulo est√°ndar Mini ELM327 Bluetooth OBD-II V1.5 (es interesante que en muchas fuentes se recomienda usar m√≥dulos con la versi√≥n anterior del firmware 1.5, y no nuevos con la versi√≥n 2.2, es decir, como un argumento de operaci√≥n m√°s estable del m√≥dulo en el antiguo firmware y soporte para m√°s autos, pero esto es muy subjetivo) y experimente conectando el tel√©fono inteligente al m√≥dulo seleccionado, por ejemplo, para la plataforma Android, puede usar uno de los programas de diagn√≥stico m√°s populares Torque Lite (OBD2 y Car) o Torque Pro (OBD 2 y Car) as√≠ como cualquier cosa n  m√°s f√°cil de usar, o sus logros. <br><br><img src="https://habrastorage.org/webt/nv/ff/qe/nvffqeyv0gpaxedvswhtk6a30e4.jpeg"><br>  <font color="gray"><i>La aplicaci√≥n Torque Pro se ejecuta en Android.</i></font> <br><br>  Por cierto, quiero se√±alar un servicio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MockUPhone</a> muy conveniente con una maqueta gratuita de dispositivos modernos, que fue muy √∫til para preparar una captura de pantalla del programa Torque.  Pero esta es una ligera desviaci√≥n del tema de la publicaci√≥n.  Cabe se√±alar que, en la mayor√≠a de los casos, el conector OBD-II, al que est√° conectado el m√≥dulo de diagn√≥stico, se encuentra debajo de la columna de direcci√≥n del autom√≥vil. <br><br><img src="https://habrastorage.org/webt/gv/gy/fv/gvgyfvzqitu32obmtknn7cnu5da.jpeg"><br>  <font color="gray"><i>Comenzando con OBD-II - SparkFun Electronics</i></font> <br><br>  Est√° claro que hay muchas soluciones preparadas.  Pero si estamos hablando de desarrollar un servicio basado en IoT o m√°s espec√≠ficamente: se est√° implementando el concepto Connected Car, entonces es bastante conveniente usar el emulador de red de informaci√≥n a bordo del auto para no correr siempre hacia el auto.  Por ejemplo, Mojio ofrece un simulador de autom√≥viles en l√≠nea para trabajar con su API, y utilizando el servicio en la nube IBM Watson IoT Platform como ejemplo, en el art√≠culo: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Env√≠o de datos del veh√≠culo a la plataforma IBM Watson IoT - IBM developerWorks Recipes</a> " se propone para enviar a la nube de datos desde un transporte significa utilizar una aplicaci√≥n m√≥vil, por ejemplo, " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IBM IoT for Automotive - OBDII Fleet Management App para Android</a> ", que interact√∫a con el servicio en la nube desplegado " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IBM IoT for Automotive (Bluemix) - Fleet Management Starter Application</a> ", pero si no se distrae con estos proyectos, puede use solo un emulador de datos: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Car Simulator</a> ".  Es cierto que todas estas soluciones, b√°sicamente, emulan los datos ya recibidos, y estamos interesados ‚Äã‚Äãen el emulador de la red de informaci√≥n a bordo.  La soluci√≥n m√°s famosa es ECUsim 2000, cuyo costo comienza en US $ 200 y depende de la cantidad de protocolos emulados compatibles. <br><br><img src="https://habrastorage.org/webt/p6/f2/hz/p6f2hzxzn86wrgci0es-j_r0dgk.jpeg"><br>  <font color="gray"><i>Simulador OBD ECUsim 2000 - ScanTool</i></font> <br><br>  Por supuesto, un emulador profesional no puede ser reemplazado, pero los entusiastas y geeks pueden estar interesados ‚Äã‚Äãen la implementaci√≥n independiente de un proyecto menos complejo en un Arduino o Raspberry Pi.  Por ejemplo, puede restringirse a la interfaz CAN (Controller Area Network) m√°s com√∫n.  En un momento, el est√°ndar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CAN</a> propuesto por Bosch hizo un progreso significativo en el desarrollo de sistemas para electr√≥nica automotriz.  Si un autom√≥vil en Internet apareci√≥ recientemente, entonces el concepto de una red dentro de un autom√≥vil ha existido desde mediados de los a√±os 80.  La idea es muy simple, y como Ethernet hizo un gran avance en las redes de computadoras, CAN se convirti√≥ en la base para comunicaciones confiables dentro del autom√≥vil. <br><br><img src="https://habrastorage.org/webt/1-/rr/8e/1-rr8er1qx_evsnys-2hc6ndzcw.png"><br>  <font color="gray"><i>Una red de autobuses CAN basada en Arduino - Henry's Bench</i></font> <br><br>  Anteriormente, en un autom√≥vil, por regla general, los autobuses y cables de varios m√≥dulos y dispositivos conectados "flu√≠an" a la unidad central de control del motor.  El bus CAN de dos hilos en serie permiti√≥ implementar m√≥dulos inteligentes ya independientes, por ejemplo, la unidad de control central se convirti√≥ en uno de esos m√≥dulos que "se comunican" entre s√≠ a trav√©s del protocolo de red.  Esto reduce significativamente la cantidad de cableado dentro del autom√≥vil. <br><br>  A diferencia de Ethernet, la red CAN es mucho m√°s confiable, lo que llev√≥ a su uso no solo en la industria automotriz, sino tambi√©n en sistemas de automatizaci√≥n industrial, soluciones para el hogar inteligente, etc.  En el nivel f√≠sico, CAN utiliza una l√≠nea de dos hilos, CAN Lo y CAN Hi, que transmiten los datos empaquetados en un paquete.  En los extremos del bus hay resistencias coincidentes de 120 ohmios, y tambi√©n se debe usar un mazo de cables para suprimir la interferencia.  La velocidad de transferencia de datos puede alcanzar 1 Mbps. <br><br><img src="https://habrastorage.org/webt/if/rh/lo/ifrhlo06vmiuaf7ipkjhngrovb4.png"><br>  <font color="gray"><i>Una red de √°rea del controlador (bus CAN)</i></font> <br><br>  La transferencia de datos al bus CAN recuerda un poco al modelo de editor-suscriptor, donde cada dispositivo en el bus tiene un identificador √∫nico y cuando un dispositivo transmite datos, todos los dem√°s escuchan y toman una decisi√≥n basada en este identificador: ¬ølos necesitan espec√≠ficamente? datos a recibir y procesar o no.  En general, el protocolo es bastante complicado, pero para un microcontrolador o microprocesador es poco probable que tenga que escribir una implementaci√≥n CAN, as√≠ como pensar en las caracter√≠sticas del medio f√≠sico de transferencia de datos.  Para resolver estos problemas, ya hay controladores de bus de hardware ya preparados, y para la coincidencia de nivel, a menudo se utilizan convertidores integrados.  Por ejemplo, el controlador MCP2515 con SPI y el transceptor (chip de nivel correspondiente) MCP2551.  Es sobre la base de estos microcircuitos que se propuso el proyecto Arduino OBD2 Simulator, publicado en la plataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Instructable</a> .  Para implementarlo, solo necesita la placa Arduino UNO y el escudo CAN-BUS, por ejemplo, Seeed Technology. <br><br><img src="https://habrastorage.org/webt/kg/av/py/kgavpyoaa2n_x3lwvojs8zljiti.jpeg"><br>  <font color="gray"><i>Experimentos con el simulador Arduino OBD2</i></font> <br><br>  En principio, para el desarrollo de un emulador de datos OBD-II, una fuente de alimentaci√≥n de CC 12V para el m√≥dulo ELM327, as√≠ como un conector OBD-II, no da√±ar√°n.  Sin embargo, el convertidor sin nombre DC-DC-USB-TO-12V bien puede resolver el problema, porque  Tal vez haya disponibles varias fuentes de alimentaci√≥n para 5V para cualquier desarrollador de Internet de las cosas y no solo.  Para conectarse al OBD-II, se requerir√°n dos cables de informaci√≥n CAN_H y CAN_L, as√≠ como la presencia de 12 V de potencia, pero como se se√±al√≥ anteriormente, 12 V solo es necesario para garantizar la operabilidad del m√≥dulo ELM327. <br><br><img src="https://habrastorage.org/webt/kz/mw/-c/kzmw-crivoyb07chmevezznxyvy.png"><br>  <font color="gray"><i>CAN-BUS Shield V1.2 - Wiki de desarrollo limitado</i></font> <br><br>  En la placa de expansi√≥n Shield CAN-BUS, es muy conveniente no usar el conector D-SUB, sino simplemente un bloque de terminales para dos contactos (CAN_H, CAN_L).  Desde el punto de vista del desarrollo de c√≥digo de software, debe tenerse en cuenta que los entusiastas de los prototipos publicaron en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> .  Ahora las placas Seeed han cambiado y, en cualquier caso, para el controlador MCP2515, es mejor usar nuevos controladores del mismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Seeed-Studio</a> .  Por supuesto, el programa original deber√° modificarse ligeramente para los nuevos controladores, pero esto es un par de minutos. <br><br><img src="https://habrastorage.org/webt/yq/me/li/yqmelislz2chb8q02rgk3cgmwq4.png"><br>  <font color="gray"><i>Trabajando con CAN-BUS en un Arduino IDE basado en un simulador de ECU OBD2 de bajo costo</i></font> <br><br>  Sin embargo, el ejemplo considerado es muy primitivo, ya que todos los par√°metros enviados a trav√©s del protocolo OBD-II simplemente se generan aleatoriamente, no hay conexi√≥n entre los par√°metros de operaci√≥n del motor, etc.  Como continuaci√≥n del proyecto, el desarrollo de una aplicaci√≥n similar a la GUI del emulador OBD-II de Freematics es obvio.  Este es un shell gr√°fico de c√≥digo abierto que se utiliza en la soluci√≥n de hardware <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Freematics OBD-II Emulator</a> . <br><br><img src="https://habrastorage.org/webt/8d/vp/wu/8dvpwumfchp8cs30kwhiwdj5boa.png"><br>  <font color="gray"><i>Freematics OBD-II Emulator GUI - Freematics</i></font> <br><br>  Por lo tanto, habiendo ensamblado un m√≥dulo basado en Arduino que permite trabajar con CAN, es muy posible crear un emulador OBD-II, ya que el protocolo de diagn√≥stico est√° bien descrito y no es dif√≠cil implementarlo.  Cabe se√±alar que la interacci√≥n entre el microcontrolador y el bus CAN a bordo es una tarea completamente diferente y debe comprender que los protocolos internos de alto nivel de este bus no est√°n documentados por los fabricantes de autom√≥viles y, por otro lado, no deben integrarse en el dispositivo interno de la electr√≥nica del autom√≥vil, de modo que de ninguna manera Reducir la seguridad de los veh√≠culos.  Si hablamos de CAN en general, es bastante posible utilizar el protocolo CANopen abierto de alto nivel para desarrollar sus dispositivos basados ‚Äã‚Äãen este bus. <br><br>  Sigue siendo el caso para los peque√±os: un poco de tiempo libre y placer para llevar a cabo el desarrollo de su c√≥digo.  Es cierto, ¬ød√≥nde est√° este momento para encontrar al final del a√±o?  Pero seremos optimistas.  Pero hablando del uso de dicho emulador OBD-II, la direcci√≥n m√°s directa es el desarrollo de su propio m√≥dulo para el conector de diagn√≥stico.  Por ejemplo, puede tomar el proyecto abierto Carloop como punto de partida, que tiene como objetivo crear un m√≥dulo para conectar el autom√≥vil a la nube utilizando tecnolog√≠as 3G, Wi-Fi o Bluetooth. <br><br><img src="https://habrastorage.org/webt/qk/lr/sz/qklrszijfy8fd7qhtjwwswowlgu.jpeg"><br>  <font color="gray"><i>Bluetooth Carloop</i></font> <br><br>  El proyecto Carloop se basa en el uso de placas: Particle Photon (basado en el m√≥dulo Wi-Fi Cypress BCM43362 que admite 802.11b / g / n; la familia de controladores ARM Cortex M3 - STM32F205 a una frecuencia de 120Mhz; memoria flash de 1MB; 128KB de RAM) y Electr√≥n (placas con soporte para conectarse a una red m√≥vil 3G / 2G).  La plataforma Particle en s√≠ es muy interesante porque se basa en el servicio de conexi√≥n de dispositivos IoT basado en la nube, un IDE basado en la nube para el desarrollo, por ejemplo, basado en placas Photon, que usan un lenguaje similar a C / C ++ para Arduino.  De hecho, Particle es un tema separado para publicaci√≥n, y el proyecto Carloop definitivamente merece una atenci√≥n especial por parte de los entusiastas del autom√≥vil, como un dispositivo IoT conectado. <br><br>  Al conectar el autom√≥vil a Internet y a los servicios de IoT, puede implementar muchos escenarios que sin duda contribuir√°n a la facilidad de uso de los veh√≠culos, aumentar√°n la comodidad y, simplemente, una soluci√≥n efectiva a los problemas cotidianos, por supuesto, incluida la soluci√≥n de transporte.  Por ejemplo, las compa√±√≠as de seguros ya pueden tener en cuenta los datos sobre el estilo de conducci√≥n, la fiabilidad del motor y los componentes del veh√≠culo.  La ubicaci√≥n actual del autom√≥vil ser√° relevante para los servicios de taxi y alquiler de autom√≥viles.          IoT,    ,     ,  - . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/m4ypWq9dMV0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br> ,      ‚Äì           OBD-II,       ,       .     .    ,        Connected Car,  ¬´ ¬ª   , ,   ,      IoT       .           . <br><br><h3>    : </h3><br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Car Hacking:      ? ‚Äì </a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">- 25 ! ‚Äì Computerworld</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">T‚ÄëMobile SyncUP DRIVE ‚Äì T-MOBILE</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ZTE  Mojio        ‚Äì ZTE Corporation</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Samsung Knox ‚Äì SAMSUNG</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> CAN  ‚Äì  ¬´¬ª</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">     ‚Äî      ‚Äì IBM developerWorks</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vehicle telematics analytics using Watson IoT Platform Cloud Analytics ‚Äì IBM developerWorks Recipes</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  CAN   CANopen ‚Äì </a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   CANopen ‚Äì  </a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">     Arduino   ‚Äì Geektimes</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Wiring the MCP2515 Controller Area Network CAN BUS Diagnostics ‚Äì 14CORE</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Arduino OBD2 ELM327 I2C-LCD HC05 Bluetooth ‚Äì Instructables</a> <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> Android     OBDII  ‚Äì </a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es408941/">https://habr.com/ru/post/es408941/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es408929/index.html">Los desarrolladores de algunos juegos m√≥viles extraen criptomonedas en los tel√©fonos inteligentes de los usuarios</a></li>
<li><a href="../es408931/index.html">Analisis del portatil ASUS N580VD</a></li>
<li><a href="../es408933/index.html">Reemplazo de un presostato mec√°nico por uno digital (para propietarios de pozos)</a></li>
<li><a href="../es408935/index.html">Antena inteligente para redes LTE</a></li>
<li><a href="../es408939/index.html">Informe final sobre el proyecto satelital Mayak</a></li>
<li><a href="../es408943/index.html">Lo que el aburrimiento le hace a una persona: la ciencia de la conciencia errante</a></li>
<li><a href="../es408945/index.html">El millonario an√≥nimo de bitcoin entrega $ 86 millones a organizaciones ben√©ficas.</a></li>
<li><a href="../es408947/index.html">Revisi√≥n del registrador ruso demasiado barato AdvoCam-FD4</a></li>
<li><a href="../es408949/index.html">C√≥mo tomar el control de ti mismo desde las redes sociales</a></li>
<li><a href="../es408953/index.html">Toshiba present√≥ un disco duro "helio" con una capacidad de 14 TB</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>