<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì† üõåüèª üçä Como, na realidade, um patch de vulnerabilidades Meltdown and Spectre afeta o desempenho ‚ùå üë®üèº‚Äçüç≥ üëÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Desde a publica√ß√£o de informa√ß√µes sobre as vulnerabilidades do Meltdown, as paix√µes j√° se acalmaram. A Microsoft conseguiu lan√ßar um patch, livrar-se ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como, na realidade, um patch de vulnerabilidades Meltdown and Spectre afeta o desempenho</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/410069/">  Desde a publica√ß√£o de informa√ß√µes sobre as vulnerabilidades do Meltdown, as paix√µes j√° se acalmaram.  A Microsoft conseguiu lan√ßar um patch, livrar-se de problemas com ele, recuper√°-lo e lan√ß√°-lo novamente. <br><br>  Aconteceu que eu tinha em m√£os dois sistemas com caracter√≠sticas pr√≥ximas: <br>  i5 7600K + Z270 e i7 3770K + Z77.  Ambos os sistemas t√™m o Windows 10 Pro instalado com o √∫ltimo conjunto de atualiza√ß√µes.  O sistema operacional est√° instalado no SSD. Para os testes, usamos um NVME SSD separado, o mesmo nos dois casos.  Testes gr√°ficos foram conduzidos com o princ√≠pio de "andar como andar" no GTX 1080Ti, mas ao mesmo tempo, em cen√°rios realistas para essa placa de v√≠deo.  Ou seja, n√£o foi feita nenhuma redu√ß√£o das configura√ß√µes gr√°ficas para identificar a depend√™ncia pura do processador.  Nesse hardware, decidiu-se verificar a veracidade das declara√ß√µes da Microsoft sobre o efeito dos patches no desempenho do ferro moderno e antigo, mas ainda n√£o muito desatualizado. <br><a name="habracut"></a><br>  O vice-presidente executivo da Microsoft, Windows, Terry Myerson, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">escreveu</a> em um post oficial do blog: <br><br><blockquote>  Resumindo os resultados atuais da pesquisa, podemos dizer o seguinte: <br><br>  Em computadores executando o Windows 10 em processadores modernos (pertencentes a gera√ß√µes de 2016 ou mais recentes, ou seja, Skylake, Kabylake e mais recentes), os testes demonstrar√£o uma desacelera√ß√£o no poder por unidades de porcentagem, o que a grande maioria dos usu√°rios n√£o ser√° capaz de perceber, j√° que em absoluto a diferen√ßa de magnitude ser√° medida em milissegundos. <br><br>  Computadores com Windows 10 em processadores relativamente mais antigos (incluindo gera√ß√µes at√© 2015, inclusive, Haswell e mais antigos) em alguns testes podem mostrar uma queda mais significativa no desempenho, talvez alguns usu√°rios percebam isso. <br><br>  O desempenho dos sistemas que executam o Windows Server em qualquer processador sofrer√° um impacto consider√°vel, especialmente em aplicativos que usam intensamente a E / S ao ativar o isolamento de c√≥digo n√£o confi√°vel. </blockquote><br>  Para testar v√°rios aspectos do desempenho do sistema, foram utilizados: <br><br><ul><li>  3DMark Time Spy 1.1 </li><li>  CineBench R15.038 </li><li>  AS SSD Benchmark 1.7.4739.38088 </li><li>  Crystal DiskMark 5.5.0 </li></ul><br>  A ativa√ß√£o e desativa√ß√£o do isolamento do processo foi realizada pelo utilit√°rio InSpectre.  Uma atualiza√ß√£o do BIOS com patches de microc√≥digo est√° instalada na placa-m√£e Z270. <br><br>  Resultado esperado: de acordo com as declara√ß√µes oficiais da Microsoft, a degrada√ß√£o do desempenho na antiga CPU deve ser v√°rias vezes maior.  Com base na an√°lise de publica√ß√µes e declara√ß√µes de representantes da Microsoft, a E / S deve sofrer mais. <br><br><h2>  Vamos l√°! </h2><br>  (uma <i>pequena observa√ß√£o antes das capturas de tela com os resultados</i> ) <br><br>  N√£o foi poss√≠vel testar configura√ß√µes completamente equivalentes na primeira vez devido √† falta de um slot M.2 na placa-m√£e antiga e √† aus√™ncia de um raiser PCI-E-&gt; M.2.  Ele foi encomendado em uma conhecida plataforma de negocia√ß√£o chinesa e, enquanto isso, eu fazia testes no NVME SSD (A-Data XPG SX8000 512GB) no Kaby Lake e no SATA (Silicon Power S55 240GB (Phison) na Ivy Bridge. Os resultados eram diretamente incompar√°veis mas curioso. <br><br>  Capturas de tela dos testes: <br><br>  i5 7600K @ 4315 (102,76 * 42) <br><br>  Patch desativado: <br><br><img src="https://habrastorage.org/webt/4a/m8/bu/4am8bu5ebimxnwkltbvefr-7_50.png"><br><br>  Patch ativado: <br><br><img src="https://habrastorage.org/webt/2y/rw/op/2yrwoppx7ku-w8mfekvrkjawekk.png"><br><br>  i7 3770K @ 4355 (103,7 * 42) <br><br>  Patch desativado: <br><br><img src="https://habrastorage.org/webt/ct/gk/fw/ctgkfwknc5byvllt3n6gmwbmjai.png"><br><br>  Patch ativado: <br><br><img src="https://habrastorage.org/webt/fs/xy/2j/fsxy2jkyxylq1bjcyrddlfjpo28.png"><br><br>  Hmm ... os resultados foram ainda mais do que interessantes.  O desempenho das pr√≥prias CPUs em c√°lculos complexos variava dentro da margem de erro.  O golpe mais forte, como a Microsoft temia, foi a entrada / sa√≠da.  E ent√£o as diferen√ßas come√ßam com o que era esperado. <br><br>  A queda no desempenho de E / S no novo processador (Kaby Lake, i5 7600K) ap√≥s a ativa√ß√£o do patch no pior cen√°rio do cen√°rio CrystalMark Write 4K foi de mais de 70%.  Setenta e dois por cento!  Se o IO se apresentar no novo processador assim, o que acontecer√° com o velho francamente ?!  E no antigo i7 3770K em 2011, a queda no desempenho foi na pior das hip√≥teses cerca de 6%.  Sim, e os n√∫meros absolutos para unidades t√£o diferentes com o patch ativado diferem para n√£o dizer √†s vezes.  A Microsoft e a Intel s√£o loucas?  Ou n√£o percebemos algo? <br><br>  Ent√£o, onde est√° o gargalo?  Ainda faltava ser visto, aguardava o aumento do PCI-E -&gt; M.2 e repetia os testes.  Olhando para o futuro, direi que testes em condi√ß√µes iguais n√£o funcionaram.  O NVME SSD foi executado na largura de banda PCI-E.2 x2. <br><br>  Aqui est√£o os resultados da execu√ß√£o do teste: <br><br>  Patch desativado: <br><br><img src="https://habrastorage.org/webt/va/jw/r8/vajwr8azt3ovlyojvfm3n39mwlo.png"><br><br>  Patch ativado: <br><br><img src="https://habrastorage.org/webt/eq/dn/mj/eqdnmjkq5yb07oktkr1yab6ejc4.png"><br><br>  Tabela de resumo dos resultados: <br><br><img src="https://habrastorage.org/webt/gw/dv/jo/gwdvjo9icjszvwea9ad0dlkh7ce.png"><br><br><h2>  Sum√°rio </h2><br><h3>  M√°s not√≠cias </h3><br>  Drives r√°pidos, mesmo em CPUs modernas, ap√≥s a instala√ß√£o do patch, perdem at√© 70% do desempenho em v√°rios cen√°rios. <br><br><h3>  Boas not√≠cias </h3><br><ol><li>  Mesmo unidades muito r√°pidas perdem desempenho em CPUs mais antigas, na pior das hip√≥teses, n√£o em novas, apesar das declara√ß√µes altas da Intel.  A verifica√ß√£o confi√°vel ainda n√£o foi poss√≠vel em condi√ß√µes absolutamente iguais.  Mas!  Dado o limite de largura de banda nos processadores mais antigos, eles perdem %% menos.  Obviamente, os idosos est√£o cedo em repouso, n√£o importa o quanto a Intel queira vender mais pedras novas. </li><li>  Os SSDs dom√©sticos convencionais perdem muito pouco desempenho.  Sobre o disco r√≠gido, geralmente fico quieto.  I.e.  na vida cotidiana, n√£o usando um computador como servidor de banco de dados, voc√™ precisa se esfor√ßar bastante para perceber a diferen√ßa no hardware comum. </li><li>  Em uma carga puramente do processador, n√£o h√° diferen√ßa antes e depois. </li><li>  Os jogadores podem n√£o se preocupar - a velocidade de renderiza√ß√£o varia da ativa√ß√£o do patch dentro da margem de erro. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt410069/">https://habr.com/ru/post/pt410069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt410055/index.html">Compara√ß√£o honesta de c√¢mera com telefone e c√¢mera SLR</a></li>
<li><a href="../pt410059/index.html">Musk explicou por que a SpaceX n√£o tem medo de lan√ßar um foguete com 27 motores</a></li>
<li><a href="../pt410061/index.html">Harley-Davidson lan√ßa motocicleta el√©trica</a></li>
<li><a href="../pt410063/index.html">NASA aprendeu a eliminar dinamicamente a distor√ß√£o do pic√¥metro da √≥ptica do telesc√≥pio</a></li>
<li><a href="../pt410065/index.html">Sat√©lites centen√°rios</a></li>
<li><a href="../pt410071/index.html">Sat√©lite chin√™s usa criptografia qu√¢ntica para realizar videoconfer√™ncia intercontinental segura</a></li>
<li><a href="../pt410073/index.html">"Vacina" antic√¢ncer mata tumores cancer√≠genos em camundongos</a></li>
<li><a href="../pt410075/index.html">Entrevista Revolu√ß√£o do call center: quais trabalhadores de escrit√≥rio ser√£o substitu√≠dos por rob√¥s</a></li>
<li><a href="../pt410077/index.html">Tesla concluiu com sucesso a manobra e seguiu para Marte</a></li>
<li><a href="../pt410081/index.html">ZX Spectrum 128k DIY</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>