<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÜ üë®‚Äçüíº üë®üèæ‚Äçüé§ Estad√≠sticas y monitoreo de scripts PHP en tiempo real. ClickHouse y Grafana van a ayudar a Pinba üë©‚Äçüëß‚Äçüëß ‚úãüèæ üë®üèª‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo, le mostrar√© c√≥mo usar pinba con clickhouse y grafana en lugar de pinba_engine y pinboard. 

 En un proyecto phba, pinba es probablem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estad√≠sticas y monitoreo de scripts PHP en tiempo real. ClickHouse y Grafana van a ayudar a Pinba</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444610/"> En este art√≠culo, le mostrar√© c√≥mo usar pinba con clickhouse y grafana en lugar de pinba_engine y pinboard. <br><br>  En un proyecto phba, pinba es probablemente la √∫nica forma confiable de comprender lo que est√° sucediendo con el rendimiento.  Es cierto que pinba generalmente se implementa solo cuando ya se observan problemas y no est√° claro d√≥nde excavar. <br><br>  A menudo, nadie tiene idea de cu√°ntas veces por segundo / minuto se llama un script en particular y comienza a optimizar "al tacto", comenzando desde aquellos lugares que parecen m√°s l√≥gicos. <br><br>  Alguien analiza los registros nginx, y alguien ralentiza las solicitudes en una base de datos. <br><br>  Por supuesto, pinba no ser√≠a superfluo, pero hay varias razones por las que no est√° en todos los proyectos. <br><br> <a href=""><img src="https://habrastorage.org/webt/br/zm/qz/brzmqzc8itwc2lt3gjp0q2p-kse.png"></a> <br><a name="habracut"></a><br>  Y la primera raz√≥n es la instalaci√≥n. <br><br>  Para obtener m√°s o menos alg√∫n tipo de "escape" de la introducci√≥n de pinba, es muy deseable ver las m√©tricas no solo en los √∫ltimos minutos, sino tambi√©n durante un largo per√≠odo de tiempo (de d√≠as a meses). <br><br>  Para hacer esto, necesitas: <br><br><ul><li>  instale la extensi√≥n para php (y tal vez desee un m√≥dulo para nginx) </li><li>  compilar extensi√≥n para mysql </li><li>  instalar pinboard y configurar cron </li></ul><br>  Debido a la peque√±a cantidad de informaci√≥n sobre pinba, muchos tienen la impresi√≥n de que funcion√≥ solo en php5 y que ha estado en el pasado, pero como veremos m√°s adelante, esto no es as√≠. <br><br>  El primer paso es el m√°s f√°cil, todo lo que necesita hacer es ejecutar el comando: <br><br><pre><code class="bash hljs">apt install php-pinba</code> </pre> <br>  En los repositorios, esta extensi√≥n es hasta php 7.3 inclusive y no necesita compilar nada. <br><br>  Despu√©s de ejecutar el comando de instalaci√≥n, obtenemos de inmediato una extensi√≥n que funciona y que recopila y env√≠a las m√©tricas de cada script (duraci√≥n, memoria, etc.) en formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">protobuf</a> por udp a 127.0.0.1 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">{0002</a> . <br><br>  Nadie ha detectado o procesado a√∫n estos paquetes de udp, pero no afecta la velocidad o la estabilidad de sus scripts php. <br><br>  Hasta hace poco, solo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pinba_engine</a> era la √∫nica aplicaci√≥n que pod√≠a capturar y procesar estos paquetes udp.  La descripci√≥n de la instalaci√≥n " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">simple y concisa</a> " desalienta el deseo de leerla y profundizar en ella nuevamente.  En las listas de dependencias de un kil√≥metro hay nombres de paquetes y nombres de programas y enlaces a p√°ginas individuales con su instalaci√≥n, y esos tienen sus propios enlaces a otras dependencias.  Para lidiar con esta basura, nadie tiene ni el tiempo ni el deseo. <br><br>  El proceso de instalaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pinba2</a> no se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ha</a> vuelto <a href="">mucho m√°s f√°cil</a> . <br><br>  Quiz√°s alg√∫n d√≠a pinba10 se pueda instalar con uno o dos comandos y no leer un mont√≥n de material para entender c√≥mo hacerlo, pero hasta ahora no es as√≠. <br><br>  Si a√∫n instal√≥ pinba_engine, esta es solo la mitad de la batalla.  Despu√©s de todo, sin un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tabl√≥n de anuncios,</a> tendr√° que limitarse a los datos solo en los √∫ltimos minutos o agregar, guardar y visualizar sus datos usted mismo.  Es bueno que el pinboard sea bastante f√°cil de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instalar</a> . <br><br>  Parecer√≠a, ¬øpor qu√© tanto sufrimiento si todas las m√©tricas de php ya van al puerto udp en formato protobuf y todo lo que se necesita es escribir una aplicaci√≥n que las capture y almacene en alg√∫n tipo de almacenamiento?  Aparentemente, aquellos desarrolladores a quienes se les ocurri√≥ esta idea inmediatamente se sentaron a escribir sus bicicletas, algunas de las cuales cayeron en el github. <br><br>  La siguiente es una revisi√≥n de cuatro proyectos de c√≥digo abierto que almacenan m√©tricas en el almacenamiento, de las cuales estos datos son f√°ciles de obtener y visualizar, por ejemplo, utilizando grafana. <br><br><h4>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">olegfedoseev / pinba-server</a> (noviembre de 2017) </h4><br>  udp server on go, que almacena m√©tricas en OpenTSDB.  Quiz√°s si ya usa OpenTSDB en el proyecto, tal soluci√≥n le conviene, de lo contrario, le recomiendo pasar. <br><br><h4>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Olegfedoseev / pinba-influxdb</a> (junio de 2018) </h4><br>  servidor udp en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">marcha</a> , del mismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">habrayuzer</a> que esta vez guarda m√©tricas en InfluxDB.  En muchos proyectos, InfluxDB ya se est√° utilizando para el monitoreo, por lo que esta soluci√≥n puede ser excelente para ellos. <br><br>  Pros: <br><br><ul><li>  InfluxDB le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">permite</a> agregar las m√©tricas recibidas y eliminar el original despu√©s de un tiempo especificado. </li></ul><br>  Contras: <br><br><ul><li>  Esta soluci√≥n no guarda la informaci√≥n del temporizador. </li><li>  InfluxDB guardar√° las direcciones de p√°gina como etiquetas y, si tiene muchas direcciones de p√°gina √∫nicas, esto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aumentar√° el consumo de</a> memoria.  A partir de cierto momento, " <a href="">comenzar√° a comer recuerdos como si no fuera en s√≠ mismo</a> ".  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fuente</a> ) </li></ul><br><h4>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ClickHouse-Ninja / Proton</a> (enero de 2019) </h4><br>  udp server on go que almacena m√©tricas en ClickHouse.  Esta es la decisi√≥n de mi amigo.  Fue despu√©s de conocerlo que decid√≠ que era hora de enfrentarnos a pinbu y clickhouse. <br><br>  Pros: <br><br><ul><li>  Clickhouse es ideal para tales tareas, le permite comprimir tanto los datos que puede almacenar todos los datos sin procesar incluso sin agregaciones </li><li>  si es necesario, puede agregar f√°cilmente las m√©tricas resultantes </li><li>  plantilla confeccionada para grafana </li><li>  guarda la informaci√≥n del temporizador </li></ul><br>  Contras: <br><br><ul><li>  <s><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">falla fatal</a></s> </li><li>  no existe una configuraci√≥n en la que sea posible configurar el nombre de la base de datos y las tablas, la direcci√≥n y el puerto del servidor. </li><li>  Al guardar datos sin procesar, se utiliza una tabla auxiliar de diccionario para almacenar direcciones de p√°ginas y dominios, lo que posteriormente complica las consultas. </li><li>  otras peque√±as cosas que fluyen desde el primer menos </li></ul><br><h4>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pinba-server / pinba-server</a> (abril de 2019) </h4><br>  servidor udp en php que almacena m√©tricas en ClickHouse.  Esta es mi soluci√≥n resultante de mi conocimiento de pinba, ClickHouse y protobuf.  Mientras estaba lidiando con todo este grupo, escrib√≠ una "prueba de concepto", que inesperadamente para m√≠ no consumi√≥ recursos significativos (30 mb de RAM y menos del 1% de uno de los ocho n√∫cleos de procesador), as√≠ que decid√≠ compartirlo con el p√∫blico. <br><br>  Los pros son los mismos que en la soluci√≥n anterior, tambi√©n utilic√© los nombres habituales del pinba_engine original.  Tambi√©n agregu√© una configuraci√≥n que le permite ejecutar varias instancias de pinbaserver a la vez para guardar las m√©tricas en diferentes tablas; esto es √∫til si desea recopilar datos no solo de php, sino tambi√©n de nginx. <br>  Contras: un "defecto fatal" y esas peque√±as cosas con las que personalmente no se sentir√° c√≥modo, pero mi soluci√≥n es "tan simple como las zapatillas" y consta de solo alrededor de 100 l√≠neas de c√≥digo, por lo que cualquier desarrollador de php puede cambiar lo que no le gusta en un par de minutos. <br><br>  <b>Principio de funcionamiento</b> <br><br>  Se escucha el puerto udp 30002. Todos los paquetes entrantes se decodifican de acuerdo con el esquema protobuf y se agregan.  Una vez por minuto, el paquete se inserta en el clickhouse en la tabla pinba.requests.  (todos los par√°metros est√°n configurados en la <a href="">configuraci√≥n</a> ) <br><br>  <b>Un poco sobre clickhouse</b> <br><br>  Clickhouse admite varios motores de almacenamiento.  El m√°s utilizado es MergeTree. <br><br>  Si en alg√∫n momento decide almacenar datos agregados todo el tiempo, y datos sin procesar solo para el √∫ltimo, puede crear una vista materializada con una agrupaci√≥n y limpiar la tabla principal pinba.requests peri√≥dicamente, mientras que todos los datos permanecer√°n en la vista materializada.  Adem√°s, al crear la tabla pinba.requests, puede especificar "engine = Null", entonces los datos en bruto no se guardar√°n en el disco y, al mismo tiempo, seguir√°n en la vista materializada y se almacenar√°n agregados.  Utilizo este esquema para las m√©tricas nginx, porque en nginx tengo 50 veces m√°s solicitudes que en php. <br><br>  Entonces, has recorrido un largo camino y no quisiera dejarte a mitad de camino, as√≠ que habr√° una descripci√≥n detallada de la instalaci√≥n y configuraci√≥n de mi soluci√≥n y todo lo que necesitas, as√≠ como las trampas en las que se estrell√≥ m√°s de un barco.  Todo el proceso de instalaci√≥n se describe para Ubuntu 18.04 LTS y Centos 7, en otras distribuciones y versiones, el proceso puede variar ligeramente. <br><br><h4>  Instalaci√≥n </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Realic√©</a> todos los comandos necesarios en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dockerfile</a> para facilitar la reproducibilidad de las instrucciones.  Solo las dificultades se describir√°n a continuaci√≥n. <br><br>  <b>php pinba</b> <br><br>  Despu√©s de la instalaci√≥n, aseg√∫rese de que en el archivo /etc/php/7.2/fpm/conf.d/20-pinba.ini tenga todas las opciones sin comentar.  En algunas distribuciones (por ejemplo, centos) se pueden comentar. <br><br><pre> <code class="plaintext hljs">extension=pinba.so pinba.enabled=1 pinba.server=127.0.0.1:30002</code> </pre> <br>  <b>clickhouse</b> <br><br>  Durante la instalaci√≥n, clickhouse le pedir√° que establezca una contrase√±a para el usuario predeterminado.  De manera predeterminada, este usuario est√° disponible desde todas las direcciones IP, por lo que si no tiene un firewall en el servidor, aseg√∫rese de establecer una contrase√±a para √©l.  Esto tambi√©n se puede hacer despu√©s de la instalaci√≥n en el archivo /etc/clickhouse-server/users.xml. <br><br>  Tambi√©n vale la pena se√±alar que clickhouse usa varios puertos, incluido el 9000. Este puerto tambi√©n se usa para php-fpm en algunas distribuciones (por ejemplo, centos).  Si ya tiene este puerto en uso, puede cambiarlo por otro en el archivo /etc/clickhouse-server/config.xml. <br><br>  <b>grafana con complemento de clickhouse</b> <br><br>  Despu√©s de instalar grafana, use el nombre de usuario y la contrase√±a de administrador.  En la primera entrada, el graphan le pedir√° que establezca una nueva contrase√±a. <br><br>  A continuaci√≥n, vaya al men√∫ "+" -&gt; importar y especifique el n√∫mero del tablero para importar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">10011</a> .  Prepar√© y llen√© este tablero para que no tenga que volver a hacerlo usted mismo. <br><br>  Grafana admite trabajar con Clickhouse a trav√©s de un complemento de terceros, pero para los complementos de terceros, grafana no funciona alertas (un boleto para esto ha estado sucediendo durante varios a√±os). <br><br>  <b>servidor pinba</b> <br><br>  Instalar protobuf y libevent es opcional, pero mejora el rendimiento del servidor pinba.  Si instala pinba-server en una carpeta que no sea / opt, tambi√©n necesitar√° corregir el archivo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">script systemd</a> . <br><br>  <b>m√≥dulo pinba bajo nginx</b> <br><br>  Para compilar el m√≥dulo, necesita las fuentes de la misma versi√≥n de nginx que ya est√° instalada en su servidor, as√≠ como las mismas opciones de compilaci√≥n; de lo contrario, el ensamblado tendr√° √©xito, pero cuando se conecte el m√≥dulo, se generar√° un error de que el m√≥dulo es incompatible binario.  Las opciones de compilaci√≥n se pueden ver con el comando nginx -V <br><br>  <b>Trucos de la vida</b> <br><br>  Todos mis sitios funcionan solo en https.  El campo de esquema deja de tener sentido, as√≠ que lo uso para separar la web / consola. <br><br>  En los scripts accesibles desde la web que uso: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ini_get(<span class="hljs-string"><span class="hljs-string">'pinba.enabled'</span></span>)) { pinba_schema_set(<span class="hljs-string"><span class="hljs-string">'web'</span></span>); }</code> </pre><br>  Y en la consola (por ejemplo, guiones de corona): <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ini_get(<span class="hljs-string"><span class="hljs-string">'pinba.enabled'</span></span>)) { pinba_schema_set(<span class="hljs-string"><span class="hljs-string">'console'</span></span>); }</code> </pre> <br>  En mi tablero en graphan hay un interruptor web / consola para ver las estad√≠sticas por separado. <br><br>  Tambi√©n puede transferir sus etiquetas a pinbu, por ejemplo: <br><br><pre> <code class="php hljs">pinba_tag_set(<span class="hljs-string"><span class="hljs-string">'country'</span></span>, $countryCode);</code> </pre> <br>  <b>Eso es todo</b> <br><br>  Una gran solicitud para responder las encuestas bajo el art√≠culo. <br><br>  Tradicionalmente, advierto que no aconsejo ni ayudo a trav√©s de mensajes personales de Habr y las redes sociales. <br><br>  Comience un boleto en github. <br><br>  Adem√°s, apoye la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">versi√≥n en ingl√©s de</a> este art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en reddit con los me gusta</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444610/">https://habr.com/ru/post/444610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444594/index.html">O grande</a></li>
<li><a href="../444596/index.html">Yoduro: Mozilla Interactive Science Editor</a></li>
<li><a href="../444598/index.html">El CD tiene 40 a√±os y est√° muerto (¬øverdad?)</a></li>
<li><a href="../444600/index.html">Revisi√≥n de 14 cms sin cabeza 2019</a></li>
<li><a href="../444602/index.html">Encapsulaci√≥n en C ++ y C</a></li>
<li><a href="../444612/index.html">Da√±o macro para el c√≥digo C ++</a></li>
<li><a href="../444614/index.html">Toda la historia de Linux. Parte II: altibajos corporativos</a></li>
<li><a href="../444616/index.html">Creaci√≥n de su propia grabadora de voz de Android con Kotlin</a></li>
<li><a href="../444620/index.html">Uso de archivos de secuencia de kernel de Linux</a></li>
<li><a href="../444622/index.html">Paquete R tidyr y sus nuevas funciones pivot_longer y pivot_wider</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>