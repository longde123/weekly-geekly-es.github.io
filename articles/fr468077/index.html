<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏟️ 👨🏼‍🎓 🍭 Posit les tests de façon adulte. Analyse spectrale 🥧 🎤 🙈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les discussions sur les avantages et les inconvénients du nouveau format révolutionnaire à virgule flottante Posit se poursuivent. L'argument suivant ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Posit les tests de façon adulte. Analyse spectrale</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468077/"> Les discussions sur les avantages et les inconvénients du nouveau format révolutionnaire à virgule flottante Posit se poursuivent.  L'argument suivant dans la discussion était l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">affirmation selon</a> laquelle la tâche de Posit est en fait de stocker de manière compacte les données et de ne pas être utilisées du tout dans les calculs;  en même temps, les calculs eux-mêmes sont effectués dans l'arithmétique Quire avec une plus grande précision, qui est également incluse dans la norme Posit. <br><br>  Eh bien, stockez donc stocker.  Que signifie «stocker» des nombres après des calculs effectués avec une plus grande précision que le format de stockage ne le permet?  Cela signifie arrondir et arrondir signifie faire des erreurs.  Les erreurs peuvent être estimées de différentes manières - et pour ne pas se répéter, nous utilisons aujourd'hui l'analyse spectrale en utilisant la transformée de Fourier. <a name="habracut"></a><br><br><h3>  Introduction très courte </h3><br>  Si nous prenons un signal sous la forme d'une sinusoïde et effectuons une transformée de Fourier dessus, alors dans le spectre, nous devrions obtenir un seul pic;  en fait, le spectre peut contenir à la fois des harmoniques avec une fréquence qui est un multiple de la tonalité fondamentale obtenue à la suite de la distorsion non linéaire et une plage de bruit obtenue à la suite du bruit, des interférences et de la numérisation.  Ici, nous mesurerons le niveau de ces bruits. <br><br><h3>  Commencer </h3><br>  Pour le rendre encore plus intéressant, comme signal de test, nous prenons non pas une sinusoïde, mais plusieurs;  il faut s'assurer que les périodes de ces sinusoïdes s'insèrent parfaitement dans la période de la transformée de Fourier discrète.  Dans Wolfram Mathematica, cela peut être fait, par exemple, comme ceci: <br><br><pre><code class="plaintext hljs">sz = 8192; data = Table[2 Sum[ Sin[Prime[j] k 2 Pi/sz + j*j]/sz, {j, 100, 200, 2}] // N, {k, 0, sz - 1}];</code> </pre> <br>  Les nombres premiers sont utilisés ici pour une décimation inégale des fréquences;  et j * j décale la phase de la sinusoïde en fonction de la fréquence pour éviter de fortes pointes dans le signal de test, lui fournissant une amplitude plus ou moins uniforme.  Le signal reçu visuellement ressemble à ceci: <br><br><img src="https://habrastorage.org/webt/p_/qv/bh/p_qvbhrwz3eyzvlfnrvj5fqbrqa.png"><br><br>  Ensuite, nous le normalisons à l'unité par la valeur maximale, puis le convertissons en un entier 32 bits Int, Float, Posit et à nouveau en Double.  Si les affirmations des auteurs sont correctes, l'erreur introduite par la transformation Double → Posit → Double sera plus proche de Doublé que de Float. <br><br>  Nous analyserons le niveau de bruit en unités standard pour le traitement du signal - décibels, ce qui nous permet de comparer les valeurs sur une échelle logarithmique.  Comme outil, j'ai utilisé mon propre analyseur de spectre, une fois écrit à des fins de recherche. <br><br><div class="spoiler">  <b class="spoiler_title">tableau de comparaison</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td>  Seuil d'audition </td><td>  0 dB </td></tr><tr><td>  Feuilles bruissantes </td><td>  10 dB </td></tr><tr><td>  Chuchotements </td><td>  20 dB </td></tr><tr><td>  Horloge qui tourne </td><td>  30 db </td></tr><tr><td>  Chambre calme </td><td>  40 dB </td></tr><tr><td>  Rue calme </td><td>  50 db </td></tr><tr><td>  Conversation </td><td>  60 dB </td></tr><tr><td>  Rue bruyante </td><td>  70 dB </td></tr><tr><td>  Niveau dangereux </td><td>  75 dB </td></tr><tr><td>  Marteau pneumatique </td><td>  90 dB </td></tr><tr><td>  Train de métro </td><td>  100 dB </td></tr><tr><td>  Musique forte </td><td>  110 dB </td></tr><tr><td>  Seuil de douleur </td><td>  120 dB </td></tr><tr><td>  Sirène </td><td>  130 dB </td></tr><tr><td>  Lancement de fusée </td><td>  150 dB </td></tr><tr><td>  Niveau mortel </td><td>  180 dB </td></tr><tr><td>  Arme à bruit </td><td>  200 db </td></tr></tbody></table></div><br></div></div><br>  Donc: <br><br>  bleu - flotteur <br>  rouge - Posit <br>  violet - Int32 <br>  bleu - Double <br><br><img src="https://habrastorage.org/webt/-8/qu/xn/-8quxnkkjywzwl4uabhl06onxh0.png"><br><br>  Posit, bien sûr, s'est avéré être un peu mieux que Float - mais il est encore loin du niveau Double.  Et en même temps - pire qu'Int32!  C'est logique - parce qu'une partie des bits prend un ordre de grandeur ... Utilisons cet ordre - augmentons l'amplitude de notre signal à 1000: <br><br><img src="https://habrastorage.org/webt/cu/sg/3v/cusg3v0bh6a_b-symbferg6xroi.png"><br><br>  Soudain (et en fait assez attendu), le bruit de Float et Posit a rattrapé.  Allez-y - augmentez l'amplitude à un milliard: <br><br><img src="https://habrastorage.org/webt/zt/tf/et/zttfetctsl-9naldglij7vtrxoi.png"><br><br>  Float montre le même niveau et Posit commence à être à la traîne.  Une nouvelle augmentation de l'amplitude (ici 10 <sup>15</sup> ) entraîne une nouvelle augmentation de la plage de bruit: <br><br><img src="https://habrastorage.org/webt/ey/li/vq/eylivqh1i8mjrn2odcsf6nf0wv0.png"><br><br><h3>  Conclusion </h3><br>  Le miracle ne s'est toujours pas produit.  L'analyse spectrale n'a pas confirmé les affirmations des auteurs selon lesquelles l'utilisation du format Posit comme stockage peut fournir une précision proche de Double.  Même dans les meilleures conditions, la plage de bruit de Posit n'était que de 20 décibels inférieure à Float, mais en même temps supérieure à Int32 de 10 décibels et supérieure à Double de 60 décibels. <br><br>  Bien sûr, Posit peut bien trouver une application utile - comme protection contre le dépassement de la plage autorisée, lorsque les émissions dépassant considérablement les valeurs normales n'entraîneront pas d'écrêtage ou de débordement.  Mais même dans ce scénario, Posit agit plus comme un compromis entre Int et Float, plutôt que comme un format numérique nettement meilleur. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468077/">https://habr.com/ru/post/fr468077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468063/index.html">Angulareact</a></li>
<li><a href="../fr468067/index.html">Fonctionnement de la composition alpha</a></li>
<li><a href="../fr468071/index.html">Eduard Medvedev, CTO chez Tungsten Labs: «Nous avons grandi au point où la technologie peut causer des dommages considérables»</a></li>
<li><a href="../fr468073/index.html">Andrei Terekhov: "Vous pouvez dire autant que vous le souhaitez que l'Américain est meilleur, mais notre voiture ne tombe jamais en panne"</a></li>
<li><a href="../fr468075/index.html">L'utilisation des réseaux de neurones siamois dans la recherche</a></li>
<li><a href="../fr468079/index.html">Dimensions personnalisées dans Google Analytics qui nous ont fait économiser plus d'une fois</a></li>
<li><a href="../fr468081/index.html">«Données anonymes» ou ce qui est prévu dans 152-FZ</a></li>
<li><a href="../fr468083/index.html">API Android Camera2 depuis la bouilloire</a></li>
<li><a href="../fr468085/index.html">Le livre "Safe DevOps. Fonctionnement efficace du système</a></li>
<li><a href="../fr468087/index.html">Méthode de division bisectionnelle dans les tests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>