<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👧‍👦 👨🏽‍🔧 🌦️ Pola untuk penguji. Proksi (alternatif) 🤾🏿 👰🏻 🤳🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebelum itu 
 Hai Saya Dima dan saya tidak tahu polanya. Sedangkan untuk tester, bukan untuk mengatakan bahwa itu bermasalah. Bagaimana dengan automat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pola untuk penguji. Proksi (alternatif)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414253/"><h2>  Sebelum itu </h2><br>  Hai  Saya Dima dan saya tidak tahu polanya.  Sedangkan untuk tester, bukan untuk mengatakan bahwa itu bermasalah.  Bagaimana dengan automator ..?  Baiklah, jujur ​​saja, Anda bisa hidup juga. <br><br>  Dari ruang obrolan, konferensi, dan komunikasi dengan kolega, jelas: pola utama - PageObject - dipelajari, apa lagi yang dibutuhkan? <br><br>  Dan di sini ada paragraf besar pemikiran tentang mengapa kita tidak benar-benar menggunakan pola desain: apakah kita tidak mengenal mereka, atau apakah itu baik tanpa mereka?  Ada juga pendalaman dalam sejarah bahwa pola bukan untuk Anda, tetapi selama beberapa dekade terbukti pengetahuan dan teknik, argumen untuk dan menyebutkan kawan-kawan terkenal yang menentang. <br><br>  Tapi, pada akhirnya, mengetahui polanya pasti tidak akan menyakitkan. <br><br>  Jadi, sama sekali tidak mendesak Anda untuk memutar templat di mana-mana ke dalam kode, saya mulai menerbitkan serangkaian artikel tentang pola. <br><br><h4>  Lebih banyak tentang format dan mari kita pergi </h4><br>  Artikel / buku / video kursus tentang pola itu sendiri cukup baik.  Dan saya yakin Anda dapat dengan mudah menemukan sumber daya dengan penjelasan yang kompeten, contoh tentang YP, email favorit Anda, dll. <br><br>  Tugas artikel ini dan selanjutnya adalah berbicara tentang pola kepada mereka yang sudah bekerja dengan kode, tetapi tidak memiliki dasar teori yang baik.  Jadi artikel ini mungkin bagi saya di tempat pertama. <br><br>  Ya, karena saya sendiri seorang penguji, dan bahkan di lingkaran teman-teman saya ada banyak yang sama, ceritanya akan cenderung ke arah otomatisasi pengujian. <br><br>  Beberapa pola tampak aneh dan tidak terlalu berguna.  Dan dengan beberapa, sebaliknya, Anda akan menemukan bahwa Anda telah menerapkan sesuatu seperti ini untuk waktu yang lama, Anda hanya tidak tahu bahwa itu disebut itu. <br>  Bagaimanapun, saya harap Anda menemukan sesuatu yang berguna untuk diri Anda sendiri. <br><br>  Dan ya, saya akan sangat senang atas kritik membangun dalam komentar. <br><br>  Di sini <br><br><ul><li>  untuk diriku sendiri - bilang </li><li>  apa yang akan diberitahukan </li><li>  mengapa - diberitahu </li><li>  untuk siapa dan bagaimana - diceritakan </li></ul><br>  Anda bisa mulai. <br><a name="habracut"></a><br><hr><br><h2>  Proxy - Proxy - Deputi </h2><br><h3>  Teori (sedikit) </h3><br>  Pola proxy (dalam edisi Rusia, <i>Deputi</i> ).  Idenya adalah memberikan untuk bekerja bukan objek nyata, tetapi substitusi yang menggunakan metode objek + logika kita, jika kita menambahkan satu.  Itu saja. <br><br>  Bagaimana cara melakukannya: <br><br>  1. Buat antarmuka dengan metode publik dari objek yang ingin kita ganti <br>  2. Buat kelas itu <br>  - mengimplementasikan antarmuka ini <br>  - Memiliki akses ke objek asli untuk memanggil metode-metodenya <br>  3. Tambahkan logika Anda ke metode kelas yang dibuat <br><br><h3>  Berlatih </h3><br>  Dalam praktiknya, itu harus lebih jelas. <br><br>  <b>Dano:</b> Kami memiliki WebDriver.  Dan dia memiliki metode findElements (oleh); <br><br>  <b>Tugas:</b> Saya benar-benar perlu mencatat berapa banyak elemen yang ditemukan oleh pemilih. <br>  Setiap kali saya memanggil metode <br><br><pre><code class="java hljs">driver.findElements(By.cssSelector(<span class="hljs-string"><span class="hljs-string">".item"</span></span>));</code> </pre> <br>  Saya ingin melihat catatan di log - berapa banyak elemen yang ditemukan <br><br>  <b>Solusi 1.</b> Di dahi.  Apa yang ada di sana: Saya menggunakannya. <br>  Kami hanya menerima dan, dengan setiap panggilan, tulis berapa banyak yang ditemukan: <br><br><pre> <code class="java hljs">List&lt;WebElement&gt; items = driver.findElements(By.cssSelector(<span class="hljs-string"><span class="hljs-string">".item"</span></span>)); logger.info(<span class="hljs-string"><span class="hljs-string">"Found {} items"</span></span>, items.size());</code> </pre><br>  Opsinya normal, sementara panggilan semacam itu, well, katakanlah, 7. Meskipun kelemahan dari pendekatan ini sudah jelas bagi siapa saja yang memiliki setidaknya satu kali "sedikit mengubah kode mereka". <br><br>  <b>Solusi 2.</b> Kami menggunakan proxy. <br>  WebDriver adalah antarmuka.  Metode dinyatakan, tetapi tidak ada implementasi.  Implementasi termasuk ChromeWebDriver, FirefoxWebDriver, dll. <br><br>  Kami, dalam pengujian, tidak harus bekerja dengan kelas khusus untuk chrome atau safari.  Kelas hanya perlu mengimplementasikan antarmuka WebDriver.  Kami akan melakukan ini: <br><br><ol><li><blockquote>  Kami membuat antarmuka dengan metode publik dari objek yang ingin kami ganti </blockquote>  Dalam contoh kami, antarmuka seperti itu sudah ada - WebDriver. <br></li><li><blockquote>  Buat kelas itu <br>  - mengimplementasikan antarmuka ini <br>  - Memiliki akses ke objek asli untuk memanggil metode-metodenya </blockquote><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoggerWebDriver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebDriver</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebDriver driver; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String s)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;WebElement&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(By by)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> WebElement </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findElement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(By by)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-comment"><span class="hljs-comment">//     }</span></span></code> </pre></li><li><blockquote>  Tambahkan logika Anda ke metode kelas yang dibuat </blockquote><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoggerWebDriver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebDriver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebDriver driver; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger logger = LogManager.getLogger(LoggerWebDriver.class); LoggerWebDriver() { <span class="hljs-comment"><span class="hljs-comment">//    . // , ()     this.driver = new ChromeDriver(); } public void get(String var1) { driver.get(var1); } public List&lt;WebElement&gt; findElements(By var1) { List&lt;WebElement&gt; items = driver.findElements(var1); logger.info("Selector {}. Found {} elements", var1.toString(), items.size()); return items; } public WebElement findElement(By var1) { return driver.findElement(var1); } //     }</span></span></code> </pre> </li></ol><br>  <b>Apa yang terjadi</b> <br><br>  Ditambahkan ke kelas <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> WebDriver driver;</code> </pre> <br>  Ini adalah objek yang sama yang ingin kita ganti.  Ini adalah metodenya yang akan kita panggil lebih lanjut. <br><br>  Sekarang, Anda dapat melihat, misalnya, pada metode <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String var1)</span></span></span><span class="hljs-function"> </span></span>{ driver.get(var1); }</code> </pre> <br>  Semua yang dilakukan metode ini adalah panggilan get () pada driver sebenarnya. <br><br>  Dan inilah metodenya <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;WebElement&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findElements</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(By var1)</span></span></span><span class="hljs-function"> </span></span>{ List&lt;WebElement&gt; items = driver.findElements(var1); logger.info(<span class="hljs-string"><span class="hljs-string">"Selector {}. Found {} elements"</span></span>, var1.toString(), items.size()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items; }</code> </pre> <br>  Kami telah berkembang sesuai dengan tugas kami. <br><br>  Hanya itu yang dapat Anda gunakan dalam tes: <br><br><pre> <code class="java hljs">WebDriver driver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LoggerWebDriver(); driver.get(<span class="hljs-string"><span class="hljs-string">"http://google.com"</span></span>); List&lt;WebElement&gt; items = driver.findElements(By.cssSelector(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// =&gt; Selector By.cssSelector: a. Found 48 elements</span></span></code> </pre> <br><hr><br>  Di sini  Polanya bagus jika Anda perlu menutup log, caching, inisialisasi malas, kontrol akses ke metode.  Secara umum, jika Anda menulis kode dan Anda benar-benar ingin memiliki semacam interaksi dengan fitur Anda, salah satu opsi adalah proxy. <br><br>  Sekarang kita tahu satu pola lagi, izinkan saya mengingatkan Anda bahwa ketika palu ada di tangan Anda, segala sesuatu di sekitar kita tampaknya paku.  Ingatlah itu. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id414253/">https://habr.com/ru/post/id414253/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id414239/index.html">Windows dan sistem file case-sensitive</a></li>
<li><a href="../id414243/index.html">Opus gratis tentang perekrutan, wawancara, dan sampah di pasar personel TI</a></li>
<li><a href="../id414245/index.html">Model Regresi Polinomial</a></li>
<li><a href="../id414249/index.html">Infrastruktur kunci publik: Perpustakaan GCrypt sebagai alternatif untuk OpenSSL dengan dukungan untuk kriptografi Rusia</a></li>
<li><a href="../id414251/index.html">Pengembangan tanpa pemrograman: setelah semua, hack hidup?</a></li>
<li><a href="../id414255/index.html">Mimpi Yang Dipatenkan Programmer - Bagian II</a></li>
<li><a href="../id414261/index.html">Di mana Anda menyimpan data?</a></li>
<li><a href="../id414263/index.html">Apakah ada kehidupan di luar Roscosmos? Tinjauan eksplorasi ruang angkasa pribadi Rusia</a></li>
<li><a href="../id414265/index.html">Richard Hamming: Bab 7. Kecerdasan Buatan - II</a></li>
<li><a href="../id414267/index.html">Bagaimana cara mengganti akuntan dengan robot?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>