<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèΩ üëâ üë©üèΩ‚Äçüè≠ De l'API d'abord sur Swagger au contrat unique sur RAML ‚ùï ü•ò üõåüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut% username%! 

 Vous savez probablement ce que sont les API et combien en d√©pend dans votre projet. De plus, je crois √©galement que vous connaiss...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>De l'API d'abord sur Swagger au contrat unique sur RAML</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419525/"><img src="https://habrastorage.org/webt/cj/pv/it/cjpvit3gxuwcyybj7ifn7xzv8gw.png" alt="image"><br><br>  Salut% username%! <br><br>  Vous savez probablement ce que sont les API et combien en d√©pend dans votre projet.  De plus, je crois √©galement que vous connaissez d√©j√† la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re</a> approche de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> et que vous savez que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Swagger</a> et son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API ouverte</a> sont parmi les outils les plus populaires pour l'aider √† suivre. <br><br>  Mais dans cet article, je veux d'abord parler de l'approche de la mise en ≈ìuvre de l'API, conceptuellement diff√©rente de ce que Swagger et Apiary proposent.  √Ä la t√™te de l'id√©e se trouve le concept de <i>contrat unique</i> et la possibilit√© de sa mise en ≈ìuvre bas√©e sur RAML 1.0. <br><br>  Sous la coupe: <br><br><ul><li>  Une br√®ve description des principes de l'API d'abord; </li><li>  <i>Contrat unique</i> - introduction d'un concept, conditions pr√©alables √† l'apparition, examen de la possibilit√© de sa mise en ≈ìuvre sur la base de l'OEA (Swagger); </li><li>  RAML + annotations + superpositions comme base pour le <i>contrat unique</i> , exemples; </li><li>  Probl√®mes RAML, d√©saccords conceptuels des d√©veloppeurs; </li><li>  L'id√©e d'un service SaaS bas√© sur l'id√©e ci-dessus (photo prototype ci-dessus). </li></ul><br><br><a name="habracut"></a><br><h2>  De l'API d'abord sur Swagger au contrat unique sur RAML </h2><br>  Lors de la conception de syst√®mes logiciels modernes, la t√¢che se pose souvent de coordonner et de d√©velopper des interfaces pour l'interaction de leurs composants les uns avec les autres.  Au cours de la derni√®re d√©cennie, le SPA et les applications mobiles √©paisses interagissant avec le serveur via des API ont gagn√© en popularit√© et en d√©veloppement.  Auparavant, le d√©veloppement d'un site Web interactif √©tait effectu√© par une modification √©tape par √©tape du code c√¥t√© serveur pour g√©n√©rer un balisage HTML avec son transfert ult√©rieur vers le navigateur du client, mais maintenant le d√©veloppement d'applications Web dynamiques s'est d√©plac√© vers la cr√©ation d'une API de service unique et le d√©veloppement parall√®le de nombreuses applications (y compris SPA) fonctionnant avec cette API comme source de donn√©es principale.  Cette approche vous permet de partager plus facilement les t√¢ches, d'organiser des √©quipes sp√©cialis√©es uniquement dans des technologies sp√©cifiques (attirer des sp√©cialistes plus sp√©cialis√©s), d'organiser le d√©veloppement parall√®le aux toutes premi√®res √©tapes, et vous permet √©galement de cr√©er un point de communication unique - une interface API. <br><br>  Un tel point de communication unique n√©cessite une d√©finition formelle et sans ambigu√Øt√©, ce document est une sp√©cification API.  Pour d√©velopper et documenter les sp√©cifications des API aujourd'hui, diff√©rentes technologies et langages sont utilis√©s, par exemple: OAS (Swagger), Apiary et RAML. <br><br>  Les trois points suivants d√©terminent la nature de la premi√®re approche de l'API: <br><br><ol><li>  L'API devrait √™tre la toute premi√®re interface client de l'application d√©velopp√©e; </li><li>  Tout d'abord, une sp√©cification API est d√©velopp√©e, puis la partie logicielle de ses clients; </li><li>  Les √©tapes de vie d'une API doivent co√Øncider avec les √©tapes de vie de sa documentation. </li></ol><br>  Si nous consid√©rons le processus bas√© sur ce qui pr√©c√®de, alors la sp√©cification d'API est au centre du processus de d√©veloppement, et tous les n≈ìuds qui composent le syst√®me et utilisent cette API comme passerelle d'interaction sont des clients de la sp√©cification d'API.  Ainsi, la partie serveur du syst√®me peut √™tre consid√©r√©e comme la m√™me API de sp√©cification client, comme tout autre n≈ìud qui utilise l'API pour communiquer avec lui.  Les mod√®les de domaine d'application ne doivent pas n√©cessairement correspondre aux mod√®les d√©crits dans la sp√©cification d'API.  Leurs √©ventuelles co√Øncidences intentionnelles avec les structures de classe dans le code d'application client ou avec les structures de sch√©ma de base de donn√©es sont introduites plut√¥t pour simplifier le processus de d√©veloppement, par exemple, lors de l'utilisation d'un g√©n√©rateur de code selon la sp√©cification OAS.  Logiquement, ce qui pr√©c√®de peut √™tre r√©sum√© sous la d√©finition de <i>contrat unique</i> .  <i>Contrat unique</i> - de nombreux clients. <br><br><h3>  Contrat unique.  Outils de contrat et biblioth√®ques </h3><br><blockquote>  Le terme <i>contrat unique</i> ne revendique aucune participation √† la critique de son utilisation dans le texte de l'article.  Son application, dans ce contexte, est personnellement mon id√©e. </blockquote>  L'extension du concept d' <i>API</i> √† un <i>contrat unique</i> plus g√©n√©ral nous permet de consid√©rer la sp√©cification d'API non seulement comme une description formelle de l'interface entre les composants du syst√®me, mais √©galement comme un <i>contrat unique</i> utilis√© par un certain nombre de biblioth√®ques et d'outils externes comme source de configuration.  Dans ce cas, ces outils et biblioth√®ques peuvent √™tre per√ßus comme des clients sous contrat avec des applications SPA ou mobiles.  Exemples de tels clients: <br><br><ul><li>  G√©n√©rateur de documentation </li><li>  API de serveur fictif </li><li>  Service de test de r√©sistance </li><li>  Biblioth√®que de validation des demandes / r√©ponses </li><li>  G√©n√©rateur de code </li><li>  G√©n√©rateur d'interface utilisateur </li><li>  etc. </li></ul><br>  <i>Le contrat unique</i> pour ces clients est un fichier de configuration et une source de donn√©es uniques.  Les instruments contractuels ne fonctionnent que sur la base des informations obtenues d'un contrat particulier.  De toute √©vidence, pour la fonctionnalit√© compl√®te de clients h√©t√©rog√®nes tels que l'API du faux serveur, une description d'API ne suffit pas, des m√©ta-informations suppl√©mentaires sont n√©cessaires, par exemple, une description de la relation entre les param√®tres de demande GET (identifiant de ressource) et les donn√©es que le serveur doit renvoyer, des indices pointant vers les champs de r√©ponse et param√®tres de requ√™te utilis√©s pour organiser la pagination.  De plus, cet exemple sera examin√© plus en d√©tail.  Des informations sp√©cifiques pour des instruments sp√©cifiques, en m√™me temps, doivent exister et √™tre inextricablement conserv√©es dans le document principal, sinon cela violera le concept d'un contrat unique. <br><br><h3>  Swagger (OAS) en tant qu'outil de description de contrat unique </h3><br>  Les Swagger (OAS) et Apiary (Blueprint) les plus populaires sur le march√© vous permettent de d√©crire les API HTTP √† l'aide de langages sp√©ciaux: API ouverte bas√©e sur YAML ou JSON, Blueprint bas√©e sur Markdown, ce qui facilite la lecture des sp√©cifications.  Il existe √©galement de nombreux outils et biblioth√®ques cr√©√©s par la grande communaut√© open source.  Swagger est actuellement largement distribu√© et, pourrait-on dire, est devenu le standard de facto des API en premier.  De nombreux syst√®mes externes prennent en charge l'importation des sp√©cifications Swagger, telles que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SoapUI</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Readme.io</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apigee</a> , etc.  De plus, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hub</a> et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rucher</a> SaaS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Swagger</a> existants permettent aux utilisateurs de cr√©er des projets, de t√©l√©charger ou de cr√©er leurs propres sp√©cifications, d'utiliser les g√©n√©rateurs de documentation et les serveurs fictifs int√©gr√©s, ainsi que de publier des liens pour y acc√©der de l'ext√©rieur. <br><br>  Swagger avec son OAS 3.0 semble assez confiant et sa fonctionnalit√© pour d√©crire l'API (particuli√®rement simple) est suffisante dans la plupart des cas.  Voici une liste des avantages et des inconv√©nients de Swagger: <br><br>  Avantages: <br><br><ul><li>  Langage de description clair et facile √† lire; </li><li>  Grande communaut√© open source; </li><li>  De nombreux √©diteurs, g√©n√©rateurs, biblioth√®ques officiels et open source; </li><li>  La pr√©sence d'une √©quipe de d√©veloppement de base travaillant constamment sur le d√©veloppement et l'am√©lioration du format; </li><li>  Hub de Shareware pour les sp√©cifications; </li><li>  Documentation officielle d√©taill√©e; </li><li>  Seuil d'entr√©e bas. </li></ul><br>  Inconv√©nients: <br><br><ul><li>  Prise en charge de la modularit√© faible; </li><li>  Manque d'exemples auto-g√©n√©r√©s de r√©ponses aux requ√™tes bas√©es sur une description de leurs structures; </li><li>  Il y a souvent des probl√®mes avec la mauvaise stabilit√© des produits SmartBear (auteurs fanfaronneurs) et la r√©action tardive du d√©veloppeur √† cela (l'avis est bas√© uniquement sur l'exp√©rience personnelle d'utilisation et l'exp√©rience de notre √©quipe). </li></ul><br>  Mais la principale limitation qui ne permet pas d'utiliser l'OEA comme moyen de d√©crire le <i>contrat unique</i> est le manque de capacit√© √† joindre des m√©tadonn√©es personnalis√©es pour d√©crire des param√®tres suppl√©mentaires des outils / biblioth√®ques cibles. <br>  Par cons√©quent, tous les outils qui fonctionnent sur la base des sp√©cifications de Swagger doivent se contenter de l'ensemble d'informations pouvant accueillir le format de base. <br><br>  Par exemple, la mise en ≈ìuvre d'un serveur Smart Mock API n√©cessite plus d'informations qu'un document de sp√©cification ne peut fournir, c'est pourquoi la Swagger Hub Mock API int√©gr√©e est uniquement capable de g√©n√©rer de fausses donn√©es bas√©es sur des types / structures de donn√©es obtenues √† partir d'un document de sp√©cification.  Sans aucun doute, cela ne suffit pas et une telle fonctionnalit√© de faux serveur ne peut √™tre satisfaite que par un simple client API. <br><br>  Dans notre entreprise, lors du d√©veloppement d'un des projets (React SPA + API server), la fonctionnalit√© de faux serveur suivante √©tait requise: <br><br><ul><li>  imitation de la pagination.  Le serveur ne doit pas renvoyer des valeurs compl√®tement al√©atoires des champs currentPage, nextPage, pagesTotal en r√©ponse aux demandes de liste, mais √™tre capable de simuler le comportement r√©el du m√©canisme de pagination avec la g√©n√©ration des valeurs de ces m√©tapoles en fonction de la valeur de page re√ßue du client; </li><li>  g√©n√©rer des corps de r√©ponse contenant divers ensembles de donn√©es en fonction du param√®tre sp√©cifique de la demande entrante; </li><li>  la possibilit√© de construire de vraies relations entre de faux objets: le champ <i>foo_id</i> de l'entit√© <i>Bar</i> doit faire r√©f√©rence √† l'entit√© <i>Foo</i> g√©n√©r√©e pr√©c√©demment.  Ceci peut √™tre r√©alis√© en ajoutant la prise en charge de l'idempotency au serveur simul√©; </li><li>  imitation du travail de diff√©rentes m√©thodes d'autorisation: OAuth2, JWT, etc. </li></ul><br>  Sans tout cela, il est tr√®s difficile de d√©velopper SPA en parall√®le avec le d√©veloppement de la partie serveur du syst√®me.  Et, en m√™me temps, un tel serveur factice, en raison de ce qui a √©t√© d√©crit pr√©c√©demment, est presque impossible √† mettre en ≈ìuvre sans m√©ta-informations sp√©cifiques suppl√©mentaires qui pourraient √™tre stock√©es directement dans la sp√©cification API et l'informer du comportement requis lors de la simulation du prochain point de terminaison.  Ce probl√®me peut √™tre r√©solu en ajoutant les param√®tres requis sous la forme d'un fichier s√©par√© avec des configurations parall√®les √† la sp√©cification OAS de base, mais, dans ce cas, vous devez prendre en charge ces deux sources diff√©rentes s√©par√©ment. <br><br>  S'il y aura plus d'un faux serveur avec des outils fonctionnant dans l'environnement de d√©veloppement selon ce principe, alors nous aurons un ¬´zoo¬ª d'outils, chacun, ayant sa propre fonctionnalit√© unique, est oblig√© d'avoir son propre fichier de configuration unique, logiquement li√© √† l'API de base -sp√©cifications, mais en r√©alit√© situ√©es s√©par√©ment et vivant ¬´leur propre vie¬ª. <br><br><img src="https://habrastorage.org/webt/-1/2j/nx/-12jnxo_wzra4vl923py0d4hgnk.png" alt="image"><br><br>  Probl√®me: le d√©veloppeur sera oblig√© de maintenir la pertinence de toutes les configurations apr√®s avoir chang√© les versions de la sp√©cification de base, souvent dans des endroits et des formats compl√®tement diff√©rents. <br><br>  Quelques exemples de services qui fonctionnent sur un principe similaire: <br><br><ul><li>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SoapUI</a></i> est un syst√®me pour tester les interfaces REST &amp; SOAP.  Prend en charge l'importation d'un projet √† partir de la sp√©cification Swagger.  Lors de la modification de la sp√©cification Swagger de base, la configuration d'un projet bas√© sur une liste d'appels API continue d'exister en parall√®le et n√©cessite une synchronisation manuelle; </li><li>  Autres produits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SmartBear</a> ; </li><li>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apigee</a></i> est un service de gestion du cycle de vie de l'API.  Il utilise les sp√©cifications Swagger comme mod√®les, √† partir desquels il permet d'initialiser ses configurations de services internes.  Il n'y a pas non plus de synchronisation automatique; </li><li>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Readme.io</a></i> est un service qui vous permet de cr√©er une belle documentation bas√©e sur la sp√©cification Swagger, et dispose √©galement d'un m√©canisme pour suivre les modifications apport√©es √† la sp√©cification de base et r√©soudre les conflits en mettant √† jour la configuration du projet c√¥t√© service.  Cela n√©cessitait certainement une complexit√© inutile pour d√©velopper ce service. </li></ul><br>  Vous pouvez ajouter de nombreux autres services √† cette liste qui fournissent la fonction d'int√©gration avec la sp√©cification Swagger.  L'int√©gration pour la plupart d'entre eux signifie la copie habituelle de la structure de base de la sp√©cification Swagger et l'auto-compl√©tion ult√©rieure des champs de configuration locale sans prise en charge de la synchronisation avec les modifications de la sp√©cification de base. <br><br><h3>  RAML, annotations, superpositions </h3><br>  Le d√©sir de trouver un outil qui exclut la restriction OAS mentionn√©e pr√©c√©demment, nous permettant de consid√©rer la sp√©cification comme un contrat unique pour tous les outils clients, nous a conduit √† nous familiariser avec le langage RAML.  Il y a suffisamment d'√©crit sur RAML, vous pouvez le lire, par exemple, ici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://www.infoq.com/articles/power-of-raml</a> .  Les d√©veloppeurs de RAML ont essay√© de placer le support du langage pour la modularit√© au niveau de son concept.  D√©sormais, chaque entreprise ou d√©veloppeur individuel peut cr√©er ses propres dictionnaires publics pr√™ts √† l'emploi lors de la conception de l'API, red√©finir et h√©riter des mod√®les de donn√©es pr√™ts √† l'emploi.  √Ä partir de la version 1.0, RAML prend en charge 5 types de modules externes diff√©rents: <i>inclure, biblioth√®que, extension, trait, superposition</i> , ce qui permet d'utiliser chacun de mani√®re aussi flexible que possible en fonction de la t√¢che. <br><br>  Le moment est venu de discuter de la principale possibilit√© de RAML, qui, pour des raisons qui ne sont pas compl√®tement comprises, n'a pas d'analogues dans l'OEA et Blueprint - Annotations. <br><blockquote>  Les annotations dans RAML permettent d'attacher des m√©tadonn√©es personnalis√©es aux structures de langage sous-jacentes. </blockquote>  C'est cette fonction RAML qui est devenue la raison de la r√©daction de cet article. <br><br>  Un exemple: <br><br><pre><code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Example API mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> # Annotation <span class="hljs-keyword"><span class="hljs-keyword">types</span></span> block may be placed <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> file annotationTypes: validation-rules: description: | Describes <span class="hljs-keyword"><span class="hljs-keyword">strict</span></span> validation rules <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the model properties. Can be used <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> validation library allowedTargets: [ TypeDeclaration ] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string[] <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>-tip: description: | Can be used <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> Documentation generator <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> showing tips allowedTargets: [ <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span>, DocumentationItem, TypeDeclaration ] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string condition: description: | Named example can be returned <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> condition <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> evaluated <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>. Can be used <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> Intelligent mock <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> allowedTargets: [ Example ] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>: Article: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: id: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-type"><span class="hljs-type">integer</span></span> title: string paragraphs: Paragraph[] createdAt: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string (validation-rules): ["regex:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?Z?/"] Paragraph: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: <span class="hljs-keyword"><span class="hljs-keyword">order</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-type"><span class="hljs-type">integer</span></span> (validation-rules): ["min:0"] content: string (validation-rules): ["max-length:1024"] /articles/{articleId}: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: (<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>-tip): This endpoint <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> deprecated description: <span class="hljs-keyword"><span class="hljs-keyword">Returns</span></span> Article <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ID responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/<span class="hljs-type"><span class="hljs-type">json</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: Article</code> </pre> <br>  Les structures d'annotation utilisateur elles-m√™mes doivent avoir des descriptions claires en RAML.  Pour cela, une section sp√©ciale <i>annotationTypes</i> est utilis√©e, dont les d√©finitions peuvent √©galement √™tre extraites du module externe.  Ainsi, il devient possible de d√©finir des param√®tres sp√©ciaux d'un outil externe sous forme d'annotations attach√©es √† la d√©finition de base de l'API RAML.  Afin d'√©viter d'encombrer la sp√©cification de base avec un grand nombre d'annotations pour divers outils externes, il est possible de les transf√©rer dans des fichiers s√©par√©s - des <i>superpositions</i> (et √©galement des <i>extensions</i> ), avec une classification par port√©e.  Voici ce qui est dit sur les superpositions dans la documentation RAML ( <a href="">https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md#overlays</a> ): <br><blockquote>  Une superposition ajoute ou remplace les n≈ìuds d'une d√©finition d'API RAML tout en pr√©servant ses aspects comportementaux et fonctionnels.  Certains n≈ìuds d'une d√©finition d'API RAML sp√©cifient le comportement d'une API: ses ressources, m√©thodes, param√®tres, corps, r√©ponses, etc.  Ces n≈ìuds ne peuvent pas √™tre modifi√©s en appliquant une superposition.  En revanche, d'autres n≈ìuds, tels que les descriptions ou les annotations, r√©pondent √† des pr√©occupations au-del√† de l'interface fonctionnelle, telles que la documentation descriptive √† caract√®re humain dans un certain langage, ou les informations de mise en ≈ìuvre ou de v√©rification √† utiliser dans les outils automatis√©s.  Ces n≈ìuds peuvent √™tre modifi√©s en appliquant une superposition. <br><br>  Les superpositions sont particuli√®rement importantes pour s√©parer l'interface de l'impl√©mentation.  Les superpositions permettent des cycles de vie distincts pour les aspects comportementaux de l'API qui doivent √™tre √©troitement contr√¥l√©s, comme un contrat entre le fournisseur d'API et ses consommateurs, par rapport √† ceux qui n√©cessitent peu de contr√¥le, tels que les aspects orient√©s vers l'humain ou la mise en ≈ìuvre qui peuvent √©voluer √† allures diff√©rentes.  Par exemple, l'ajout de crochets pour les outils de test et de surveillance, l'ajout de m√©tadonn√©es pertinentes √† un registre d'API ou la fourniture d'une documentation humaine mise √† jour ou traduite peuvent √™tre r√©alis√©s sans modifier aucun aspect des aspects comportementaux de l'API.  Ces choses peuvent √™tre contr√¥l√©es via une version rigoureuse et un processus de gestion des changements. </blockquote>  En d'autres termes, cette fonctionnalit√© vous permet de ¬´s√©parer le grain de l'ivraie¬ª, par exemple, la description principale de la sp√©cification API, des m√©ta-informations suppl√©mentaires sp√©cifiques √† un outil particulier l'utilisant pour le travail.  Les m√©ta-informations de chaque superposition distincte sont ¬´accroch√©es¬ª sur divers blocs de la sp√©cification sous forme d'annotations. <br><br>  Un exemple de structure de base: <br><br><pre> <code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Phrases API mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>: Phrase: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: content: string /phrases: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: queryParameters: whoSaid: string responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/<span class="hljs-type"><span class="hljs-type">json</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: Phrase</code> </pre><br>  Superposition: <br><pre> <code class="hljs vbscript">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> Overlay usage: Applies annotations <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Intelligent mock <span class="hljs-built_in"><span class="hljs-built_in">server</span></span> extends: example_for_article_2_1.raml annotationTypes: condition: description: | Named example can be returned <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> condition <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> evaluated <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> allowedTargets: Example /phrases: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/json: examples: firstExample: (condition): $whoSaid <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Hamlet content: <span class="hljs-string"><span class="hljs-string">"To be, or not to be?"</span></span> secondExample: (condition): $whoSaid <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Homer Simpson content: <span class="hljs-string"><span class="hljs-string">"D'oh!"</span></span></code> </pre><br>  En cons√©quence, il devient possible de mettre en ≈ìuvre un contrat unique: toutes les informations fonctionnelles, comportementales et m√©ta sont stock√©es et versionn√©es en un seul endroit, et les outils de contrat - les clients du contrat, doivent prendre en charge les annotations utilis√©es dans cette sp√©cification.  D'un autre c√¥t√©, ce sont les outils eux-m√™mes qui peuvent pr√©senter leurs propres exigences en mati√®re d'annotations, qui doivent √™tre ¬´accroch√©es¬ª √† la sp√©cification - cela offrira un plus large √©ventail de possibilit√©s lors du d√©veloppement d'outils contractuels. <br><br>  Le concept ci-dessus est illustr√© dans la figure ci-dessous: <br><br><img src="https://habrastorage.org/webt/w1/0i/aj/w10iajxxllknypbvu6gwcvwrtkc.png" alt="image"><br><br>  Parmi les inconv√©nients de cette approche, on peut distinguer la grande complexit√© de la synchronisation manuelle du fichier de sp√©cification de base et de chacun des superpositions: lors de la mise √† jour de la structure de la sp√©cification de base, vous devez appliquer les changements requis dans les structures des superpositions.  Ce probl√®me devient plus grave lorsque plusieurs superpositions apparaissent. <br><br>  Une solution possible et la plus √©vidente serait de d√©velopper un √©diteur sp√©cial ou un module compl√©mentaire pour l'√©diteur RAML en ligne existant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/mulesoft/api-designer</a> .  La zone d'√©dition reste inchang√©e, mais il devient possible de cr√©er des onglets: chaque nouvel onglet est une fen√™tre d'√©dition de la superposition qui lui est affect√©e.  Lors de la modification de la structure de base de la sp√©cification dans la fen√™tre principale, les structures de tous les onglets cr√©√©s changent √©galement et lorsqu'une incompatibilit√© de la nouvelle structure avec les annotations existantes situ√©es dans les superpositions d'onglets est d√©tect√©e, un avertissement appara√Æt.  Un examen plus d√©taill√© d'un tel √©diteur est un sujet distinct et m√©rite un examen s√©rieux. <br><br><h3>  D√©veloppements existants </h3><br>  Dans la recherche de solutions existantes qui sont pr√®s de r√©aliser l'id√©e d'utiliser des annotations comme moyen de d√©crire les m√©ta-informations, les solutions suivantes ont √©t√© trouv√©es: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/raml-org/raml-annotations</a> r√©f√©rentiel contenant des annotations officielles approuv√©es par la communaut√© des d√©veloppeurs RAML.  Dans la version actuelle, seules les annotations OAuth2 sont disponibles.  Ils peuvent √™tre utilis√©s par des outils externes pour obtenir des m√©ta-informations d√©crivant les aspects de l'impl√©mentation OAuth2 pour la sp√©cification API d√©velopp√©e; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/petrochenko-pavel-a/raml-annotations</a> biblioth√®que d'annotations utilisateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@ petrochenko-pavel-a</a> avec un regroupement logique par domaine d'application.  Le projet est plus exp√©rimental, mais illustre parfaitement l'id√©e d'utiliser des annotations.  Les groupes d'annotations les plus int√©ressants: <br><ul><li>  <i>additionalValidation.raml</i> - annotations pour d√©crire des r√®gles suppl√©mentaires pour la validation des mod√®les de sp√©cification.  Ils peuvent √™tre utilis√©s, par exemple, par la biblioth√®que du serveur pour valider les requ√™tes selon la sp√©cification RAML; </li><li>  <i>mock.raml</i> - annotations pour d√©crire les d√©tails du serveur simul√© sur la base de la sp√©cification RAML; </li><li>  <i>semanticContexts.raml</i> - annotations pointant vers le contexte s√©mantique des blocs structurels d√©clar√©s individuels de la sp√©cification RAML; </li><li>  <i>structural.raml</i> - annotations clarifiant le r√¥le d'une entit√© RAML distincte dans la structure globale du mod√®le de domaine d√©crit; </li><li>  <i>uiCore.raml</i> - un exemple d'annotations <i>pouvant</i> √™tre utilis√©es par les outils de g√©n√©ration d'interface utilisateur bas√©s sur la sp√©cification RAML; </li></ul></li></ul><br>  Le r√©f√©rentiel contient √©galement des biblioth√®ques de types d'utilitaires pouvant √™tre utilis√©es comme primitives dans la description des structures de donn√©es de la sp√©cification RAML. <br><br><h3>  Probl√®mes RAML </h3><br>  Malgr√© la fonctionnalit√©, la progressivit√© de l'id√©e de base et l'attention des grands fabricants de logiciels (cisco, spotify, vmware, etc.), RAML a aujourd'hui de graves probl√®mes qui peuvent devenir fatals en ce qui concerne son succ√®s: <br><br><ul><li>  Petite communaut√© open source fragment√©e; </li><li>  Une strat√©gie incompr√©hensible du principal d√©veloppeur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RAML</a> est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mulesoft</a> .  La soci√©t√© d√©veloppe des produits qui ne sont qu'une copie des solutions bas√©es sur l'OEA existantes (incluses dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plate-forme Anypoint</a> ), au lieu de cr√©er des services qui mettent l'accent sur les avantages de RAML par rapport √† Swagger; </li><li>  La cons√©quence du premier paragraphe: un petit nombre de biblioth√®ques / outils open-source; </li><li>  Seuil d'entr√©e plus √©lev√© que l'OEA (c'est √©trange, mais beaucoup de gens le pensent); </li><li>  En raison du grand nombre de bogues et de probl√®mes avec UX / UI, le principal service totalement inadapt√© et repoussant les utilisateurs est le point d'entr√©e de RAML - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://anypoint.mulesoft.com/</a> . </li></ul><br><h3>  D√©saccord conceptuel.  Premi√®re conclusion </h3><br>  Il existe des contradictions au sein de la communaut√© concernant le concept de base.  Quelqu'un pense que RAML est un <i>langage de d√©finition de mod√®le</i> , et quelqu'un pense que c'est un <i>langage de d√©finition d'API</i> comme OAS ou Blueprint (les gars qui s'appellent eux-m√™mes d√©veloppeurs RAML le mentionnent souvent dans divers commentaires).  Le concept de <i>langage de d√©finition</i> de <i>mod√®le</i> permettrait √† l'int√©rieur de la sp√©cification RAML de d√©crire le mod√®le de domaine du domaine sans liaison stricte avec le contexte de la description de la ressource API, √©largissant les horizons des options d'utilisation de la sp√©cification avec des outils externes (en fait, cr√©ant la base de l'existence de ce <i>contrat unique</i> !)  Voici une d√©finition du concept d'une ressource qui peut √™tre vue sur les documents de lecture du site Web ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://restful-api-design.readthedocs.io/en/latest/resources.html</a> , d'ailleurs, je recommande √† tout le monde de lire ce merveilleux guide sur la conception d'API): <br><blockquote>  Nous appelons les informations qui d√©crivent les <b><i>types de ressources</i></b> disponibles, leur comportement et leurs relations <b><i>le mod√®le de ressource d'une API</i></b> .  <i><b>Le mod√®le de ressource</b></i> peut √™tre consid√©r√© comme le mappage RESTful du <b><i>mod√®le de donn√©es d'application</i></b> . </blockquote>  Dans le <i><b>mod√®le de donn√©es d'application</b></i> RAML <i><b>,</b></i> ce sont des types d√©clar√©s dans le bloc <i>types</i> , et le <b><i>mod√®le de ressource d'une API</i></b> est ce qui est d√©crit dans le bloc RAML de <i>ressources</i> .  Par cons√©quent, vous devez avoir la capacit√© de d√©crire ce <i><b>mappage</b></i> .  Mais l'impl√©mentation actuelle de RAML ne permet d'effectuer ce <b><i>mappage</i></b> que de 1 √† 1, c'est-√†-dire d'utiliser des types ¬´tels quels¬ª dans la d√©claration de l'API de ressource. <br><br>  Je pense que c'est le principal probl√®me du langage, dont la solution permettra √† RAML d'aller au-del√† du <i>langage de d√©finition d'API</i> et de devenir un <i>langage de d√©finition de mod√®le √†</i> part enti√®re: un langage plus g√©n√©ral (plut√¥t que OAS ou Blueprint) utilis√© pour d√©crire les contrats uniques de syst√®mes, qui sont par essence le noyau formel bon nombre de leurs composants. <br><br>  Ce qui pr√©c√®de fait de RAML un joueur faible qui est actuellement incapable de gagner la comp√©tition contre Swagger.  C'est peut-√™tre pourquoi, en cons√©quence, le principal d√©veloppeur de RAML a pris des mesures drastiques <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://blogs.mulesoft.com/dev/api-dev/open-api-raml-better-together/</a> <br><br><h3>  L'id√©e du Single Contract RAML SaaS </h3><br>  Bas√©e sur le concept de <i>contrat unique</i> , √† partir de l'id√©e d'h√©berger une API de sp√©cifications Swagger bas√©e sur l'OEA, ainsi que sur la possibilit√© pour RAML de d√©clarer des m√©ta-informations et de partager les sp√©cifications de base √† l'aide de superpositions, l'id√©e d'une solution SaaS alternative pour l'h√©bergement et la gestion des sp√©cifications bas√©es sur le langage RAML sugg√®re Surpassez le Swagger Hub et le rucher dans le volume et la qualit√© des fonctionnalit√©s possibles. <br><br>  Le nouveau service, par analogie avec le hub Swagger, sera l'h√©bergement de contrats utilisateur avec la mise √† disposition d'un √©diteur en ligne et la possibilit√© de visualiser les aper√ßus de la documentation avec des mises √† jour en temps r√©el.  La principale diff√©rence devrait √™tre la pr√©sence d'un catalogue de plug-ins contractuels int√©gr√©s au service, dont l'utilisateur pourra installer les sp√©cifications API dans son projet actuel.  Pour l'installation, il sera n√©cessaire d'impl√©menter les annotations RAML requises sp√©cifi√©es dans la documentation du plugin.  Apr√®s avoir ajout√© un nouveau plug-in au projet, un nouvel onglet sera ajout√© dans la fen√™tre de l'√©diteur de code lorsque vous y basculerez, l'√©dition des annotations du plug-in install√© deviendra disponible.  La structure de la sp√©cification de base doit √™tre automatiquement dupliqu√©e dans tous les onglets correspondant aux plugins.  Si des conflits surviennent entre la structure de base et les annotations d√©j√† existantes, un m√©canisme sp√©cial devrait offrir des options pour sa solution, ou la r√©soudre automatiquement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/le/5g/go/le5ggomtfukodgechbdyhugpafq.png" alt="image"></div><br>  Techniquement, chaque onglet sera une abstraction de la superposition RAML contenant des annotations de chaque plugin sp√©cifique.  Cela garantit que la sp√©cification est compatible avec tout outil prenant en charge RAML 1.0. <br><br>  Le r√©pertoire du plugin doit √™tre ouvert pour expansion par la communaut√© open source.  Il est √©galement possible d'impl√©menter des plug-ins payants, ce qui peut servir d'incitation au d√©veloppement de nouveaux. <br><br>  Plugins possibles: documentation API avec prise en charge d'un grand nombre d'annotations pour un param√©trage flexible de son rendu, serveur factice ¬´intelligent¬ª (de l'exemple ci-dessus), biblioth√®ques t√©l√©chargeables pour valider les requ√™tes ou la g√©n√©ration de code, outils de d√©bogage pour les requ√™tes API sortantes pour les applications mobiles (proxy de mise en cache), tests de charge avec la mise en place de tests de flux √† travers des annotations, divers plugins pour l'int√©gration avec des services externes. <br><br>  Cette id√©e du service pr√©sente des avantages √©vidents par rapport aux services existants pour la gestion des sp√©cifications de l'API, et sa mise en ≈ìuvre ouvre la voie √† un changement possible dans l'approche de la mise en ≈ìuvre de tout syst√®me externe qui est en quelque sorte li√© √† l'API. <br><br><h3>  Deuxi√®me conclusion </h3><br>  Le but de cet article n'est pas de critiquer Swagger, Apiary ou d'autres outils standard de facto pour d√©velopper des API, mais plut√¥t d'examiner la diff√©rence conceptuelle avec l'approche des sp√©cifications de conception promue par RAML, d'essayer d'abord d'introduire le concept de <i>contrat</i> et d'envisager la possibilit√© de sa mise en ≈ìuvre bas√©e sur RAML.  Un autre objectif √©tait le d√©sir d'attirer l'attention bien m√©rit√©e des d√©veloppeurs sur RAML pour le d√©veloppement ult√©rieur possible de sa communaut√©. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Site officiel RAML</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Canal d√©tendu</a> <br>  <a href="">Sp√©cification</a> <br><br>  Merci de votre attention. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419525/">https://habr.com/ru/post/fr419525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419511/index.html">typeof (T) vs. TypeOf‚ü®T‚ü©</a></li>
<li><a href="../fr419513/index.html">Configurer la politique de s√©curit√© des mots de passe dans Zimbra</a></li>
<li><a href="../fr419515/index.html">Comment une startup ¬´sans marque¬ª a obtenu 240 millions de dollars pour vaincre Amazon</a></li>
<li><a href="../fr419519/index.html">Conseils pour les jeux mobiles: Partie 1, lancement en douceur</a></li>
<li><a href="../fr419523/index.html">L'√©quipe PVS-Studio est impartiale lors de la r√©daction d'articles</a></li>
<li><a href="../fr419527/index.html">Comment le rythme cardiaque retentit: conversion du cardiogramme papier au format WAV</a></li>
<li><a href="../fr419531/index.html">Choisir la paire parfaite pour vos oreilles: dix conseils pratiques</a></li>
<li><a href="../fr419535/index.html">Mise √† jour sur le grille-pain</a></li>
<li><a href="../fr419537/index.html">CyberDemons: Intelligence artificielle DOOM 2016</a></li>
<li><a href="../fr419539/index.html">Webinaire ouvert "Programmation asynchrone en Python"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>