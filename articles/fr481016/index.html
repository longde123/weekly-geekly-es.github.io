<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüî¨ üíÖüèº üöô Exp√©rience VonmoTrade. Partie 1: √âchanges et technologie moderne üßï üëºüèª üöì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La s√©rie d'articles met en √©vidence la tentative de cr√©er un syst√®me r√©actif par une seule personne avec un budget minimum et dans les plus brefs d√©la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exp√©rience VonmoTrade. Partie 1: √âchanges et technologie moderne</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481016/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ug/vx/tm/ugvxtmtcasedx_hsmqskdxvc4qo.png"></div><br><p>  La s√©rie d'articles met en √©vidence la tentative de cr√©er un syst√®me r√©actif par une seule personne avec un budget minimum et dans les plus brefs d√©lais. </p><br><p>  Objectifs de l'exp√©rience: </p><br><ul><li>  Une meilleure compr√©hension du sujet et une meilleure expertise technique </li><li>  Identification des forces et faiblesses de l'utilisation des langages fonctionnels et des projets open source dans le d√©veloppement de syst√®mes de trading <br>  Cet article pr√©sente la partie motivationnelle du projet et la d√©composition de la t√¢che. </li></ul><a name="habracut"></a><br><p>  J'avais pr√©vu de commencer l'exp√©rience au printemps 2019, mais les circonstances ont d√©plac√© les d√©lais.  Par cons√©quent, je m'excuse aupr√®s des quelques abonn√©s qui attendaient des articles sur ce sujet. </p><br><h2 id="kak-ya-doshel-do-takoy-zhizni">  Comment suis-je arriv√© √† une telle vie? </h2><br><p>  Quand j'ai r√©alis√© que je me lassais de la routine des projets de travail, j'ai voulu faire quelque chose d'inhabituel.  J'ai consid√©r√© divers sujets et orientations, dont le processus de mise en ≈ìuvre a √©t√© un d√©fi pour moi.  Les principales exigences du projet ont √©t√© formul√©es: </p><br><ul><li>  Un domaine de connaissance qui m'int√©resse; </li><li>  Nature distribu√©e et hautement accessible de l'application; </li><li>  Grande capacit√© d'information et grands volumes de donn√©es stock√©es caract√©ristiques des applications gourmandes en donn√©es; </li><li>  Tirez le meilleur parti des projets open source. </li></ul><br><p>  Comme il y avait d√©j√† une certaine exp√©rience dans le d√©veloppement d'entrep√¥ts de donn√©es d'objets, l'id√©e est n√©e de d√©velopper un th√®me et d'√©crire une nouvelle impl√©mentation de stockage compatible s3 en utilisant un codage redondant et des fonctions de hachage rapides.  Mais je voulais quelque chose de plus int√©ressant.  Du point de vue du d√©veloppeur, les syst√®mes financiers sont curieux de conna√Ætre leur travail en mode quasi-temps r√©el, un grand nombre de mises √† jour et la quantit√© de donn√©es stock√©es.  J'ai donc d√©cid√© de faire ma mise en place du syst√®me d'√©change. </p><br><h2 id="pro-birzhi">  √Ä propos des √©changes </h2><br><p>  Au sens large, la bourse (du lat. Bursa - portefeuille) est un march√© o√π les vendeurs et les acheteurs font des transactions.  En fonction de ce qu'est un actif n√©goci√© (instrument), les sp√©cificit√©s de l'√©change sont d√©termin√©es: </p><br><ul><li>  marchandise, y compris la bourse du travail </li><li>  stock </li><li>  monnaie </li><li>  futures </li></ul><br><p>  Historiquement, les √©changes ont en effet √©t√© le lieu de rassemblement des acheteurs, vendeurs et courtiers (interm√©diaires) √† l'heure fix√©e par laquelle les transactions ont √©t√© effectu√©es. <br>  Les principales fonctions de l'√©change sont les suivantes: </p><br><ul><li>  Organisation du processus d'√©change de devises: <br><ul><li>  D√©finition des r√®gles commerciales conform√©ment √† la loi applicable </li><li>  Fixer des normes de produit </li><li>  Mat√©riel et dotation </li></ul></li><li>  Activit√© d'information.  Fournir des informations sur les prix des instruments, les march√©s et les entreprises; </li><li>  √âlaboration de mod√®les de contrats; </li><li>  R√®glement des diff√©rends (arbitrage); </li><li>  Fournir certaines garanties pour l'ex√©cution des transactions. </li></ul><br><p>  Les bourses modernes sont des parquets organis√©s qui fonctionnent selon des r√®gles sp√©cifiques et concentrent l'offre et la demande.  L'√©conomie de l'√©change est √©galement tr√®s claire, plus il y a de transactions sur l'√©change, plus la r√©compense de l'√©change pour les services fournis est √©lev√©e. </p><br><p>  Ainsi, les caract√©ristiques g√©n√©rales de la solution sont compr√©hensibles, il est maintenant n√©cessaire de limiter la quantit√© de travail afin que la mise en ≈ìuvre de l'id√©e puisse se rencontrer dans un d√©lai raisonnable. </p><br><h2 id="mvp">  MVP </h2><br><p>  Des ressources limit√©es d√©coule la fonctionnalit√© limit√©e du prototype.  Mais des choses essentielles et fondamentales doivent √™tre pleinement mises en ≈ìuvre. </p><br><h3 id="dekompoziciya-zadachi-i-vybor-arhitektury">  D√©composition des probl√®mes et s√©lection de l'architecture </h3><br><p>  Sur le plan technique, l'√©change est un syst√®me de mise en file d'attente dans lequel les participants g√©n√®rent un flux d'appels - commandes, et le syst√®me, selon des r√®gles pr√©c√©demment connues, effectue des actions sur eux. </p><br><p>  Les commandes doivent √™tre effectu√©es avec le moins de temps possible.  L'√©change doit √™tre tol√©rant aux pannes et hautement accessible. </p><br><p>  Nous divisons le projet en parties service et parties publiques.  La partie service vous permettra de g√©rer les composants de la plateforme et le processus de trading de la bourse.  La partie publique comprend les interfaces d'interaction client: API Web, API de trading, sous-syst√®me de notification.  Les deux parties seront bas√©es sur une plate-forme d'application distribu√©e responsable de l'√©volutivit√© et de la fiabilit√© du syst√®me dans son ensemble. </p><br><p>  Comme nous sommes limit√©s par le budget, nous n'utiliserons que des solutions open source √©prouv√©es pour organiser le stockage des donn√©es.  Pour les donn√©es syst√®me chaudes, Tarantool est applicable, et pour PostgreSQL froid. </p><br><p>  Nous allons d√©crire la composition pr√©vue du syst√®me (l'image est cliquable): <br></p><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/qx/ae/ew/qxaeewotutdwkirapp61qwo-rbi.png"></a> </div><p></p><br><p>  On a le sentiment que l'architecture et le design ne sont pas diff√©rents des syst√®mes conventionnels.  O√π est le d√©fi?  Pour r√©pondre, envisagez le processus de cr√©ation d'ordres et de cl√¥ture des transactions pour l'√©change de devises. </p><br><p>  <strong>Cr√©ation de commande</strong> </p><br><ol><li>  V√©rifier l'autorisation </li><li>  Assurez-vous que l'utilisateur dispose actuellement de suffisamment de fonds pour cr√©er une commande. </li><li>  Cr√©er une commande </li><li>  Avertissez l'utilisateur de la cr√©ation ou de l'erreur </li></ol><br><p>  <strong>Accord de cl√¥ture</strong> </p><br><ol><li>  Trouver une commande de paire </li><li>  V√©rifier l'ad√©quation des fonds au bilan des parties pour cl√¥turer la transaction </li><li>  Transaction fixe: transfert entre comptes + transfert de commission d'√©change vers un compte de commission d'√©change. </li><li>  Sauvegardez l'historique des ordres ex√©cut√©s. </li><li>  Mettre √† jour les donn√©es d'informations: donn√©es de trading brutes et donn√©es agr√©g√©es pour les graphiques. </li><li>  Avertissez toutes les parties int√©ress√©es de la transaction. </li></ol><br><p>  Les difficult√©s commencent lorsque nous passons d'un monolithe fonctionnant sur la m√™me machine √† un syst√®me distribu√© tol√©rant aux pannes d√©ploy√© sur un cluster.  Je fixe la performance minimale du syst√®me au niveau de 5 √† 7 000 transactions ferm√©es par seconde pour chaque march√©.  Cela impose des restrictions suppl√©mentaires sur l'architecture et le travail avec les donn√©es. </p><br><p>  Conform√©ment au principe KISS, chaque application ne doit ex√©cuter que les fonctions n√©cessaires au traitement de l'entit√© qui y est impl√©ment√©e: march√©, compte, autorisation, etc. </p><br><p>  VTrade est construit sur les principes de la mise √† l'√©chelle horizontale.  Chaque application peut √™tre ex√©cut√©e au pluriel.  Cela vous permet d'atteindre la tol√©rance aux pannes et le niveau de performance requis. </p><br><h2 id="tehnologicheskiy-stek">  Pile technologique </h2><br><p>  Afin de ne pas multiplier l'entropie, nous restreignons les langages et technologies utilis√©s. <br>  Pour le serveur, cet ensemble comprendra: </p><br><ol><li>  Erlang  √Ä mon avis, le langage id√©al pour construire des choses d'infrastructure. </li><li>  Rouille.  Id√©al pour les choses syst√®me et les probl√®mes d'optimisation. </li><li>  PostgreSQL  Comme base principale pour le stockage de donn√©es √† long terme </li><li>  Tarantool.  En tant que stockage de donn√©es √† chaud (uniquement pour le temps de MVP) </li><li>  Clickhouse.  Pour analyser les journaux et les capacit√©s d'analyse approfondie. </li><li>  Linux  Le syst√®me doit prendre en charge les distributions modernes. </li></ol><br><p>  Le logiciel client est impl√©ment√© √† l'aide du cadre Vue √† l'aide de Vuex. </p><br><p>  √âtant donn√© que le projet implique initialement un grand nombre de composants, afin d'assurer le bon niveau de qualit√© de la solution finale, nous √©crirons un grand nombre de tests bas√©s sur les propri√©t√©s et de tests d'int√©gration. </p><br><h2 id="pro-plany">  √Ä propos des plans </h2><br><p>  Dans un avenir proche, je pr√©vois d'analyser les fondements de la th√©orie et de me plonger dans la pratique dans les domaines suivants: </p><br><ul><li>  Des mandats.  Types, fonctionnalit√©s de traitement.  Aspects du stockage des informations commerciales. </li><li>  Livre des mandats.  Repr√©sentation visuelle du march√©. </li><li>  Historique des ench√®res.  Impressions, graphiques, histoire personnelle. </li></ul><br><p>  Comme on dit ... Si int√©ress√©, comme, abonnement) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481016/">https://habr.com/ru/post/fr481016/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481000/index.html">Informatique sans serveur bas√©e sur OpenWhisk, partie 4</a></li>
<li><a href="../fr481004/index.html">Java Digest du 18 d√©cembre</a></li>
<li><a href="../fr481010/index.html">16 conseils de d√©veloppement pour Android dans Kotlin. 3e partie</a></li>
<li><a href="../fr481012/index.html">Ce que j'ai appris en 10 ans sur Stack Overflow</a></li>
<li><a href="../fr481014/index.html">Je / WE n'h√©berge pas Ayhor. Ou comment cracher face √† l'industrie</a></li>
<li><a href="../fr481018/index.html">Et encore une fois sur la protection des infrastructures virtuelles</a></li>
<li><a href="../fr481020/index.html">√âcrire un simulateur de saisie tactile en utilisant du JavaScript pur: Partie 2</a></li>
<li><a href="../fr481024/index.html">Pourquoi j'ai abandonn√© l'API Google Maps</a></li>
<li><a href="../fr481028/index.html">Guide d'organisation d'une connexion √† distance √† un automate industriel √† l'aide d'OpenVPN</a></li>
<li><a href="../fr481030/index.html">Quel genre de cyberdec voudrais-je faire pour moi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>