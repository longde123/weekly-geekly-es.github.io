<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚂 💘 🎄 Reduzca el tiempo de inactividad al actualizar Zimbra 🤾🏾 🐡 🔇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entre las ventajas de Zimbra Collaboration Suite Open-Source Edition, como la confiabilidad, el alto rendimiento, así como una solución gratuita, tamb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reduzca el tiempo de inactividad al actualizar Zimbra</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/445206/"> Entre las ventajas de Zimbra Collaboration Suite Open-Source Edition, como la confiabilidad, el alto rendimiento, así como una solución gratuita, también se debe mencionar la aparición bastante frecuente de versiones nuevas de Zimbra y la incorporación regular de características que la comunidad demanda en ellas.  Entonces, por ejemplo, solo durante el año pasado, se han agregado características como la capacidad de recuperar la contraseña de forma independiente por parte del usuario, la capacidad de cambiar el calendario predeterminado, el soporte para libretas de direcciones jerárquicas y otras oportunidades comerciales útiles.  Sin embargo, históricamente, a los gerentes de TI en Rusia no les gustan particularmente las actualizaciones. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="imagen"><a name="habracut"></a><br><br>  La antigua regla del mundo de que no debe tocar lo que funciona tan bien se ha establecido firmemente en los jefes de los expertos rusos de TI a finales de los 90.  De hecho, romper la estabilidad de las soluciones de actualización, así como los cambios abruptos de las interfaces, que se introdujeron en un estupor de usuarios, eran comunes en ese momento.  Sin embargo, los nuevos tiempos plantean nuevos desafíos para los gerentes de TI, y ahora el enfoque de "no tocar lo que funciona" simplemente no es aplicable.  La información sobre la detección de vulnerabilidades se está extendiendo por todo el mundo tan rápidamente, y los ejércitos de ciberatacantes están escribiendo exploits para estas vulnerabilidades a un ritmo tal que el uso de versiones obsoletas de software en la empresa conlleva enormes riesgos para la seguridad de la información.  Y especialmente estos riesgos son grandes cuando se trata de plataformas de colaboración. <br><br>  Otro argumento típico en contra de la actualización periódica de los sistemas de información en las empresas es la necesidad de suspender su trabajo durante la instalación de actualizaciones.  Y tal argumento es realmente decisivo para las grandes empresas y los proveedores de SaaS para quienes la disponibilidad cercana al 100% del servicio es importante.  Es por eso que cada desarrollador, al diseñar y desarrollar su propia solución, trata de minimizar o reducir completamente a cero el tiempo de inactividad de una solución de software al actualizarla.  Los desarrolladores de Zimbra no son la excepción. <br><br>  Actualmente, es posible actualizar Zimbra Collaboration Suite en la empresa sin tiempo de inactividad del sistema de información en sí, pero en realidad este proceso resultará en una migración sin interrupciones de un servidor Zimbra a otro, donde una versión más reciente de ZCS ya está instalada usando Zextras Suite.  Ya hemos descrito este proceso en un artículo anterior.  Aquellos que no estén listos para asignar capacidades de servidor adicionales para la migración pueden usar una serie de consejos para reducir el tiempo de inactividad de Zimbra durante el proceso de actualización. <br><br>  El proceso de actualización en sí mismo es una repetición del proceso de instalación de Zimbra utilizando una versión más nueva de la distribución.  En otras palabras, es suficiente simplemente descargar la última versión de ZCS de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zimbra.com</a> , y cuando comience la instalación, el programa detectará automáticamente el Zimbra instalado en el servidor y luego ofrecerá actualizarlo.  En la mayoría de las situaciones, la actualización se realiza automáticamente, pero si está actualizando desde la versión 8.6 de Zimbra o posterior, es posible que deba reinstalar los módulos memcached y zimbra-proxy, que se han convertido en obligatorios para la instalación a partir de la versión Zimbra 8.7. <br><br>  No hay consejos para optimizar el tiempo de actualización de Zimbra para quienes utilizan la solución de servidor único.  Por lo general, estas opciones de instalación se utilizan en pequeñas empresas que pueden darse el lujo de interrumpir el sistema de colaboración, especialmente si planea actualizar Zimbra por la tarde o por la noche. <br><br>  En cuanto a la instalación multiservidor de Zimbra, existen varios trucos para reducir el tiempo de inactividad del sistema de información.  En primer lugar, esto se refiere a la instalación de actualizaciones.  Entonces, antes que nada, debe actualizar el servidor con LDAP.  En el caso de que en su empresa, además del LDAP principal, haya servidores con réplica LDAP, para evitar un largo tiempo de inactividad durante su actualización, puede "actualizar" una réplica LDAP a LDAP Master, al mismo tiempo que usa un firewall para prohibir las conexiones a este LDAP Maestro  Si su infraestructura solo tiene un servidor LDAP, puede evitar un largo tiempo de inactividad durante su actualización creando un servidor virtual de réplica LDAP.  Después de actualizar el maestro LDAP, será posible volver a ponerlo en funcionamiento y luego actualizar los servidores LDAP restantes. <br><br>  Próximos servidores con Zimbra MTA y Zimbra Proxy.  Si está actualizando desde versiones anteriores de Zimbra, luego de actualizar los servidores con MTA, no es superfluo ejecutar los siguientes comandos en la interfaz de línea de comandos para que la configuración predeterminada sea correcta: <br><br><pre><code class="plaintext hljs">zmprov mcf zimbraMtaCommandDirectory /opt/zimbra/common/sbin zmprov mcf zimbraMtaDaemonDirectory /opt/zimbra/common/libexec zmprov mcf zimbraMtaMailqPath /opt/zimbra/common/sbin/mailq zmprov mcf zimbraMtaManpageDirectory /opt/zimbra/common/share/man zmprov mcf zimbraMtaNewaliasesPath /opt/zimbra/common/sbin/newaliases zmprov mcf zimbraMtaSendmailPath /opt/zimbra/common/sbin/sendmail</code> </pre> <br>  Solo después de que se hayan actualizado todos los nodos con LDAP, MTA y Proxy, puede comenzar a actualizar sus almacenes de correo.  Como todos los anteriores, los servidores con buzones deben actualizarse uno por vez.  La función doMoveMailbox, que está cosida en el winterlet Zextras Powerstore y le permite transferir buzones de usuario de un buzón a otro dentro de la misma infraestructura, ayudará a evitar la inaccesibilidad de los buzones.  Por ejemplo, el comando <b>zxsuite powerstore doMoveMailbox -a user@company.ru -f mailstore1.company.ru -t mailstore2.company.ru sync</b> transferirá la <b>carpeta</b> de usuario <b>user@company.ru</b> del primer almacén de correo al segundo, dejando la entrada correspondiente en LDAP .  Después de eso, debe eliminar el buzón del servidor anterior utilizando el comando del formulario <b>zmpurgeoldmbox -a usuario@empresa.ru -s mailstore1.company.ru</b> .  Y después de que se complete la actualización del almacenamiento de correo, puede realizar la transferencia en la dirección opuesta, para que todo vuelva a su estado original.  Tenga en cuenta que si lo desea y tiene una lista completa de buzones ubicados en el almacén de correo, puede automatizar el proceso de transferencia de buzones a un nuevo servidor y viceversa.  También puede usar el <b>comando doMoveMailbox</b> para evitar la falta de disponibilidad de los buzones más importantes para su empresa. <br><br>  Después de que se hayan actualizado todos los almacenamientos de correo, el proceso de actualización de la instalación multiservidor de Zimbra puede considerarse completado.  El tiempo de inactividad notable para los usuarios, si usó el comando <b>doMoveMailbox</b> para todos los buzones, prácticamente se evitó. <br><br>  Para todas las preguntas relacionadas con la Suite Zextras, puede contactar al representante de la compañía "Zextras" Katerina Triandafilidi por correo electrónico katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/445206/">https://habr.com/ru/post/445206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445196/index.html">Kubernetes 1.14: Resumen de las innovaciones clave</a></li>
<li><a href="../445198/index.html">Reproductor de consola Cmus para Linux</a></li>
<li><a href="../445200/index.html">Los proveedores de Internet solicitan al Ministerio de Comunicaciones que les permita ingresar a sus hogares sin un contrato</a></li>
<li><a href="../445202/index.html">Happy Potter y el orden de CSS</a></li>
<li><a href="../445204/index.html">Conversión de flujo de bases de datos Firebird 2.5 a formato ODS12 (Firebird 3.0)</a></li>
<li><a href="../445208/index.html">Niveles de madurez de TI empresarial</a></li>
<li><a href="../445210/index.html">Colonia de criptomonedas</a></li>
<li><a href="../445212/index.html">NetBIOS en manos de un hacker</a></li>
<li><a href="../445214/index.html">Bombeamos ganchos React con FRP</a></li>
<li><a href="../445220/index.html">AMD Radeon VII: Chip de gama alta (Parte 3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>