<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤚🏻 👷🏻 🛥️ 2. Analyse du journal des points de contrôle: SmartEvent 📪 🛴 👩🏾‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour chers collègues. La dernière fois, dans l'article «1. Analyse des journaux de Check Point: l'application officielle de Check Point pour Splunk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>2. Analyse du journal des points de contrôle: SmartEvent</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tssolution/blog/436464/"><img src="https://habrastorage.org/webt/f5/nk/9x/f5nk9xtvbba6zicqjt_99apnkdu.png"><br><br>  Bonjour chers collègues.  La dernière fois, dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Analyse des journaux de Check Point: l'application officielle de Check Point pour Splunk »,</a> nous avons discuté de l'analyse des journaux de Security Gateway sur la base de l'application officielle du système de journalisation Splunk.  En conclusion, ils sont arrivés à la conclusion que bien que l'application en tant que solution rapide soit très pratique, mais à ce stade, elle est incomplète - un grand nombre de tableaux de bord ne sont pas configurés, ce qui est très important de prêter attention à l'ingénieur de sécurité afin de comprendre ce qui se passe dans l'organisation du point de vue de la sécurité des informations.  Dans cet article, nous discuterons des possibilités de visualiser et d'analyser les journaux avec la fonctionnalité SmartEvent, à laquelle il convient de prêter attention, et examinerons les options disponibles pour l'automatisation des événements. <br><a name="habracut"></a><br>  SmartEvent compare les journaux de toutes les passerelles Check Point pour identifier les activités suspectes, suivre les tendances et enquêter sur les incidents de sécurité des informations.  L'analyse des données a lieu en temps réel, ce qui vous permet de répondre rapidement à un événement.  SmartEvent est inclus dans la liste des produits sur le serveur de gestion, mais il nécessite une licence distincte, se compose de vues et de rapports que vous pouvez créer vous-même ou utiliser ceux préinstallés. <br><br>  En fait, pour que la fonctionnalité fonctionne, il vous suffit d'activer la lame dans les paramètres du serveur de gestion, vous obtenez immédiatement un ensemble de rapports qui peuvent être générés, en plus il y a la possibilité de créer de nouveaux rapports en fonction de vos tâches, en plus du composant logiciel enfichable Paramètres et stratégie SmartEvent, les règles d'automatisation des événements sont configurées. <br><br>  Prenons d'abord les rapports SmartEvent standard.  J'attire également l'attention sur la version du système d'exploitation GAIA R80.20 installée sur le serveur de gestion. <br><br><h3>  Rapports SmartEvent standard </h3><br>  Avec un grand nombre d'événements de sécurité prédéfinis et facilement personnalisables, vous pouvez lancer SmartEvent et commencer à collecter des informations sur les menaces en quelques minutes.  Immédiatement après l'activation de la lame, vous avez la possibilité de créer un grand nombre de rapports SmartEvent standard, que vous pouvez voir dans l'image ci-dessous. <br><br><img src="https://habrastorage.org/webt/ny/lp/3u/nylp3udwjrgwsmdy2j6wemuqalw.png"><br><br>  Les rapports intégrés permettent un processus de protection continu.  Et c'est une condition préalable à la sécurité de l'information. <br>  Passons en revue brièvement les principaux points de vue et rapports. <br><br>  <b>1) Prévention des menaces</b> <br><br>  Les informations les plus intéressantes de cette analyse sont une liste de toutes les signatures IPS qui ont été détectées mais non bloquées.  Selon les paramètres de la politique de sécurité, de nombreuses signatures ne peuvent être détectées, ce n'est pas souhaitable, mais pire encore, lorsque ces signatures ont été remarquées dans le trafic et qu'aucune autre action n'est entreprise, il peut toujours y avoir une telle variante de l'événement que cette signature particulière peut être une menace pour votre infrastructure Par conséquent, l'ingénieur doit définitivement revoir ce rapport et prendre des mesures sur ces événements, par exemple, mettre les signatures en mode Empêcher.  Vous devez également vérifier les hôtes identifiés par Security Gateway comme des ordinateurs infectés. <br><br><img src="https://habrastorage.org/webt/cq/hu/i4/cqhui43q5kmiq93musegf2-u6bg.png"><br><br>  <b>2) Résumé du contrôle de sécurité</b> <br><br>  Je pense que si vous avez déjà Check Point ou que vous avez testé ce produit, alors ce rapport, vous en êtes sûr.  Résumé de contrôle de sécurité donne une image complète de l'état de la sécurité des informations dans l'organisation et des processus indésirables qui se produisent dans votre infrastructure.  Cependant, je ne peux pas conseiller d'utiliser le rapport comme matériel quotidien pour le travail, car une énorme quantité d'informations va simplement interférer et distraire.  Il est plus judicieux de générer un rapport avec une certaine fréquence de comparaison avec sa version précédente pour s'assurer que les changements dans la politique de sécurité ont apporté une action positive. <br><br>  <b>3) Activité utilisateur</b> <br><br>  Il s'agit d'un rapport très pratique sur l'activité des utilisateurs internes, cependant, de mon point de vue, il est plus pratique d'afficher séparément les statistiques d'utilisation des applications à haut risque par les utilisateurs, et pas seulement une liste de toutes les applications. <br><br><img src="https://habrastorage.org/webt/wn/r_/1y/wnr_1yaluw7qs-p1dxrndqlh7xq.png"><br><br><img src="https://habrastorage.org/webt/1a/vl/d6/1avld6v59puybqc4pbdn5yws5ny.png"><br><br>  <b>4) Système de prévention des intrusions (IPS)</b> <br><br>  Un rapport intelligent sur la surveillance des performances du système IPS, pour moi le tableau le plus intéressant est Top Services et Top Connections.  Ce rapport est très utile pour optimiser correctement le système IPS pour les services.Par conséquent, sur la base de ce rapport, il est possible d'identifier les actions des attaquants pour rechercher des vulnérabilités dans votre infrastructure, puis, à son tour, vous pouvez configurer correctement la stratégie de prévention des menaces pour les services sans perturber l'entreprise. processus. <br><br><img src="https://habrastorage.org/webt/md/ff/ov/mdffovf9abt9cb5ura4_qclcoz0.png"><br><br>  <b>5) Lame de conformité</b> <br><br>  Le logiciel Check Point Compliance Blade est une solution intégrée de surveillance de la conformité pour les pratiques de sécurité informatique existantes. <br>  Ce rapport contient des suggestions pour modifier les politiques afin de respecter les meilleures pratiques et les normes de sécurité de l'information de base.  Si vous ne savez pas comment sécuriser correctement votre infrastructure, ces recommandations donnent une bonne idée de la façon de configurer le pare-feu, cependant, il vaut la peine de comprendre quels processus doivent être bloqués et lesquels ne le sont pas, par rapport à votre organisation.  Je ne suis pas sûr qu'il sera intéressant pour vous de voir ce rapport tous les jours, mais il vaut vraiment la peine d'être lu au moins une fois. <br><br><img src="https://habrastorage.org/webt/0f/e1/3j/0fe13j1uuquw7fd7paohsa9bjns.png"><br><br>  <b>6) Services cloud</b> <br><br>  Dans le rapport sur l'utilisation des applications cloud, vous verrez des statistiques sur l'utilisation des services cloud, en règle générale, la chose la plus intéressante ici est l'utilisation de disques cloud, et combien de Mo sont téléchargés et téléchargés, dans le rapport vous ne verrez que des statistiques résumées, il est plus important de surveiller la quantité de trafic que les utilisateurs drainent de leur les travaux dans les disques cloud, car il peut s'agir de documents qui constituent des informations confidentielles. <br><br><img src="https://habrastorage.org/webt/ga/dp/vl/gadpvl9lby21tvz6vwkw68xanzq.png"><br><br>  <b>7) Filtrage des applications et des URL</b> <br><br>  Je ne doute pas que le «filtrage des applications et des URL» est le rapport prédéfini le plus populaire.  Le «filtrage des applications et des URL» contient des informations sur les visites des sites potentiellement dangereux et les plus populaires.  Des statistiques sont collectées pour les catégories les plus visitées, les sites et la quantité de trafic pour chaque utilisateur individuel, une compréhension claire de ce que font les employés vient.  Un document indispensable dans la rédaction et la modernisation des règles pour les lames de contrôle d'application et de filtrage d'URL. <br><br><img src="https://habrastorage.org/webt/1j/fg/gx/1jfggxi3fajws69wf8ahakdlnse.png"><br><br>  Vous pouvez également lire l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Tableaux de bord Check Point - c'est ce que j'aime»</a> , dans lequel vous pouvez en apprendre davantage sur les tableaux de bord, les fonctionnalités de la fonctionnalité et, par conséquent, pourquoi ils l'aiment tant. <br><br><h3>  Créez votre rapport </h3><br>  Bien que les rapports prédéfinis soient très pratiques, vous ne pouvez pas mettre tous les champignons dans le même panier.  Presque tous les ingénieurs sont confrontés au fait qu'ils doivent configurer leurs rapports, qui contiendront des informations potentiellement importantes pour la performance de leurs fonctions de travail, en fonction des caractéristiques de l'appareil et de la nature de l'organisation. <br><br>  Puisque nous avons mentionné le désir de collecter des statistiques sur la quantité de trafic qui va aux applications cloud, essayons de faire un exemple typique - un tableau.  Créons un rapport sur le trafic téléchargé sur les disques cloud, qui comprendra des informations sur les utilisateurs, les adresses IP et la quantité de trafic qui va aux applications cloud. <br><br>  Créez un rapport - en choisissant le menu <b>Nouveau rapport</b> , définissez le nom <b>Trafic de service cloud</b> . <br><br><img src="https://habrastorage.org/webt/hd/ee/kq/hdeekqqgxog3d0kbjqu9-g1uafi.png"><br><br>  Ensuite, ajoutez le tableau à la page vierge: <b>Ajouter un widget -&gt; Tableau</b> . <br>  Définissez le nom de la table, par exemple, <b>«Table Cloud»</b> , puis laissez le type <b>Table statistique</b> .  Dans ce cas, les données statistiques résumées calculées seront affichées, si vous sélectionnez <b>Journal Table</b> , alors la table sera composée de données pour chaque événement individuel, dans le contexte de notre tâche, nous n'avons pas besoin de cette option. <br><br>  Ensuite, vous devez décider des paramètres de création de la table, vous devez voir l'utilisateur, le nom de l'application cloud où les données sont téléchargées, la quantité de trafic sortant, et vous devez également envisager l'option lorsque le nom d'utilisateur est manquant, c'est-à-dire que vous devez ajouter une colonne supplémentaire avec l'adresse IP à partir de laquelle Il y a une connexion.  En conséquence, nous sélectionnons les paramètres <b>Source</b> , <b>Utilisateur</b> , <b>Nom de l'application</b> , <b>Trafic Sent Bytes</b> . <br><br><img src="https://habrastorage.org/webt/rs/-y/oy/rs-yoy1jazefy9v-rmvyiyykfa4.png"><br><br>  Ensuite, vous devez configurer et trier correctement les paramètres.  En tant que premier paramètre, sélectionnez Source, en fonction de la taille de l'organisation, définissez le nombre maximal de valeurs ( <b>Nombre de valeurs</b> ), j'ai spécifié 100, triez par valeur propre, car il s'agit du paramètre principal, qui ne dépend pas d'autres paramètres. <br><br><img src="https://habrastorage.org/webt/uu/eh/xa/uuehxazw8kiz2d4jkp3mfiihurs.png"><br><br>  Ensuite, configurez les paramètres <b>Utilisateur</b> , <b>Nom d'application</b> et <b>Trafic octets envoyés</b> de la même manière.  Triez simplement les résultats par source. <br><br><img src="https://habrastorage.org/webt/xa/w9/9g/xaw99gnmuxctr2_ad3nl1fvajqm.png"><br><br><img src="https://habrastorage.org/webt/b7/ir/8a/b7ir8ax_u6ioewx3mz7wwmathde.png"><br><br><img src="https://habrastorage.org/webt/wd/cx/4j/wdcx4jkzwy9lk762d-xveqwk1kc.png"><br><br>  Nous définissons la structure, en conséquence, un tableau sera publié pour tous les utilisateurs et applications, dont il y a un grand nombre, et nous ne sommes intéressés que par les applications cloud, nous allons définir un filtre pour résoudre ce problème (l'icône est au même niveau que le titre). <br><br>  En tant que champ, sélectionnez <b>Application Category</b> , l'opération <b>Equals</b> , définissez le nom du groupe - <b>File Storage and Sharing</b> . <br><br><img src="https://habrastorage.org/webt/xl/vb/y2/xlvby2ntgmzlh8kjpweq3jns3qm.png"><br><br>  Après cela, nous étendons le tableau à toute la page, enregistrons les modifications - Terminé.  De plus, si nous avons un grand nombre de résultats dans le tableau et que tout ne tient pas sur une seule page, il vaut la peine d'installer l'extension des résultats sur de nouvelles pages, pour cela, nous allons dans <b>Options -&gt; Afficher les paramètres</b> . <br><br><img src="https://habrastorage.org/webt/jr/3k/an/jr3kan7wqum9_ax4l9osbaf3cqo.png"><br><br>  En conséquence, nous obtenons un tableau prêt à l'emploi, vous pouvez étudier les résultats. <br><br><img src="https://habrastorage.org/webt/5k/bo/il/5kboil6aaefahjacrddmrmd73gc.png"><br><br>  Dans le rapport, vous pouvez également configurer des graphiques, des graphiques, etc.  Le principe est à peu près le même partout.  La boîte à outils pour l'utilisateur moyen est assez transparente et ne nécessite pas de talents particuliers.  Il reste à considérer la fonctionnalité d'automatisation de SmartEvent, qui n'est pas très populaire, mais de mon point de vue, qui joue un rôle important pour assurer les processus de sécurité de l'information. <br><br><h3>  Automatisation SmartEvent </h3><br>  Il existe un utilitaire spécial dans SmartEvent du même nom pour la gestion des lames, qui vous permet de configurer la génération et l'ajustement des événements de sécurité, et l'automatisation des actions pour ces événements. <br><br>  L'arbre de gestion est divisé en 2 branches: la stratégie d'événement et les paramètres globaux.  Tous les événements détectés par SmartEvent sont classés dans la branche de stratégie d'événements.  Lorsqu'un événement est sélectionné, ses propriétés personnalisées sont affichées dans le panneau de détails et la description de l'événement est affichée dans le panneau de description.  Le nettoyage de la propriété supprime ce type d'événement de la stratégie lors de sa prochaine installation. <br><br>  Dans Paramètres généraux, les paramètres initiaux sont définis, mais il est fort probable que la seule chose qui soit nécessaire soit: <br><br><ol><li>  La configuration des travaux hors ligne est un chargement d'anciens journaux dans SmartEvent, qui n'étaient pas sur le serveur de gestion, ou SmartEvent a été activé après la création de ces journaux. </li><li>  Création d'actions automatiques dans les réactions automatiques. </li></ol><br>  Pour chaque stratégie, vous pouvez définir une action automatique. <br>  Une action automatique est l'achèvement d'un ensemble donné d'actions soumises à l'exécution d'un événement, qui comprend: <br><br><ol><li>  Envoi d'un e-mail </li><li>  Envoi d'interruptions SNMP </li><li>  Bloc IP source </li><li>  Bloquer l'attaque d'événement </li><li>  Exécution d'un script externe. </li></ol><br><img src="https://habrastorage.org/webt/wx/bj/mi/wxbjmibjraeg_npv44mvimnp4bk.png"><br><br>  Chaque option est tout à fait applicable dans la vie réelle, en fonction de l'événement pour lequel vous définissez l'action automatique, par exemple, pour certains événements de nature controversée, vous pouvez définir l'action pour envoyer une lettre à l'ingénieur et bloquer les adresses IP pour d'autres événements, par exemple, en cas de tentative de numérisation votre réseau ou attaque de virus.  L'action automatique est superposée dans les propriétés de l'événement. <br><br><img src="https://habrastorage.org/webt/37/gg/9c/37gg9cvxz-xhodcuy4lfstqt13a.png"><br><br>  Il est possible de configurer l'exécution du script pour un événement spécifique, mais dans ce mode, je pense que ce n'est pas très pratique et approprié, car la fonctionnalité est assez limitée, et vous ne pouvez pas configurer l'entrée du script, car elle est requise pour certaines tâches, il est facile de faire une erreur car la trivialité du système, par conséquent, tout ce qui concerne les scripts est préférable de laisser sur le système de journalisation comme Splunk + Check Point API, une plus grande gamme de capacités et des fonctionnalités presque illimitées. <br><br><h3>  Conclusion </h3><br>  Nous décrivons les principaux rapports qui devraient intéresser un ingénieur en sécurité de l'information: <br><br><ol><li>  Prévention des menaces </li><li>  Système de prévention des intrusions (IPS) </li><li>  Filtrage des applications et des URL </li><li>  Rapports personnalisés </li></ol><br>  Si nous considérons SmartEvent comme un simple système de journalisation et d'analyse, qui produit également tous les rapports nécessaires avec des préréglages minimaux, alors c'est une solution idéale. <br>  Une interface triviale pour créer vos rapports, tout ce qui est nécessaire pour l'analyse ultérieure des incidents de sécurité et pour maintenir les processus SI dans l'organisation.  De plus, il s'agit d'un processus continu qui nécessite la participation constante d'un ingénieur.  Mais si nous considérons ce produit comme une solution SIEM, il présente des inconvénients, des fonctionnalités limitées pour automatiser et corréler les événements, il est difficile à configurer et il est impossible de construire un centre unique pour surveiller et gérer le système de sécurité de l'information dans une organisation sur la base de cela.  Considérez tous les détails et comparez les différentes solutions pour l'analyse des journaux Check Point dans les articles suivants. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436464/">https://habr.com/ru/post/fr436464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436452/index.html">7 domaines de développement Linux en 2019</a></li>
<li><a href="../fr436454/index.html">Questions et réponses sur JavaScript</a></li>
<li><a href="../fr436456/index.html">Créer un effet de distribution des couleurs dans Unity</a></li>
<li><a href="../fr436458/index.html">Progrès et battage médiatique dans la recherche en IA</a></li>
<li><a href="../fr436460/index.html">Le choix de la technologie, de l'architecture et du design dans les projets logiciels - sans espèces</a></li>
<li><a href="../fr436466/index.html">Electron: développement d'applications de bureau en HTML, CSS et JavaScript</a></li>
<li><a href="../fr436468/index.html">Expérience législative avec l'innovation numérique</a></li>
<li><a href="../fr436472/index.html">Conférence DEFCON 20. Capture en 60 secondes: d'un compte invité à un administrateur de domaine Windows. Partie 1</a></li>
<li><a href="../fr436474/index.html">Conférence DEFCON 20. Capture en 60 secondes: d'un compte invité à un administrateur de domaine Windows. 2e partie</a></li>
<li><a href="../fr436476/index.html">Cloud pour les assureurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>