<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥦 👨🏽‍🎓 ♀️ Verwenden der Microsoft Kinect 360-Kamera in ROS Indigo 👩🏼‍⚕️ ✍🏼 🔷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, lieber Habratchiteli! 
 
 Jüngste Beobachtungen und persönliche Erfahrungen haben gezeigt, dass das Anschließen einer Microsoft Kinect Xbox...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwenden der Microsoft Kinect 360-Kamera in ROS Indigo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/396291/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guten Tag, lieber Habratchiteli! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jüngste Beobachtungen und persönliche Erfahrungen haben gezeigt, dass das Anschließen einer Microsoft Kinect Xbox 360-Kamera zur Verwendung in ROS Indigo unter Ubuntu 14.04 häufig Probleme verursacht. </font><font style="vertical-align: inherit;">Insbesondere beim Starten des ROS-Pakets openni_launch kann das Gerät nicht erkannt werden und es wird der Fehler "Kein Gerät verbunden" generiert. </font><font style="vertical-align: inherit;">In diesem Artikel werde ich meine schrittweise Methode zum Einrichten der Umgebung für die Verwendung von Microsoft Kinect von ROS Indigo beschreiben. </font><font style="vertical-align: inherit;">Wer interessiert sich bitte unter dem Schnitt!</font></font><a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Kinect Kamera</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Sensor wurde bereits im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausführlich </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">beschrieben</font></a><font style="vertical-align: inherit;"> . Kurz gesagt, Microsoft Kinect ist eine 3D-Kamera (RGB-D, dh Rot, Grün, Blau und Tiefe), die auf der Strukturlichttechnologie basiert und es Ihnen ermöglicht, eine Tiefenkarte der Oberflächen von Objekten zu erhalten, die in das Sichtfeld der Kamera fallen. Die Tiefenkarte kann in eine dreidimensionale „Wolke“ von Punkten umgewandelt werden, in der jeder Punkt die genauen Koordinaten X, Y und Z im Raum und in einigen Fällen die Farbe im RGB-Format aufweist. Punktwolken werden zur Rekonstruktion von Objekten, zur Erstellung von Geländekarten in der Servicerobotik, zur Objekterkennung und für viele andere Aufgaben im Bereich Computer Vision in 3D verwendet. </font></font><br>
<br>
<img src="https://habrastorage.org/files/d4d/4b0/3a8/d4d4b03a8c5641b58ff2228a37da09bd.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ROS unterstützt den Kinect-Sensor. Die vom Sensor empfangene „Wolke“ von Punkten kann im Programm rviz visuell angezeigt werden.</font></font><br>
<br>
<img src="https://habrastorage.org/files/cdc/d60/cbd/cdcd60cbdeaf455aa75278b445f7dfe7.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ROS verfügt über spezielle Pakete für openni_launch und openni_camera für die Verwendung des Kinect-Sensors.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Treiberinstallation für Microsoft Kinect Sensor</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst müssen Sie die OpenNI-Bibliothek installieren, die für eine Reihe von RGB-D-Sensoren (Kinect, ASUS Xtion, PrimeSense) vorgesehen ist. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren Sie einige zusätzliche Pakete, die OpenNI zur Installation benötigt:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install git build-essential python libusb-1.0-0-dev freeglut3-dev openjdk-7-jdk<font></font>
sudo apt-get install doxygen graphviz mono-complete<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren Sie jetzt OpenNI 1.5.4 direkt von den Quellen:</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/OpenNI/OpenNI.git
<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> OpenNI<font></font>
git checkout Unstable-1.5.4.0<font></font>
<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Platform/Linux/CreateRedist<font></font>
chmod +x RedistMaker<font></font>
./RedistMaker<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laden Sie jetzt die avin-KinectSensor-Bibliothek für den Kinect-Sensor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> herunter </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs">unzip avin2-SensorKinect-v0.93-5.1.2.1-0-g15f1975.zip 
<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> avin2-SensorKinect-15f1975/Bin
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie je nach Systemtyp (32 oder 64 Bit) das entsprechende Installationsprogramm aus. </font><font style="vertical-align: inherit;">Führen Sie für ein 32-Bit-System die folgenden Schritte aus:</font></font><br>
 <br>
<pre><code class="bash hljs">tar -xjf SensorKinect093-Bin-Linux-x86-v5.1.2.1.tar.bz2
<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Sensor-Bin-Linux-x86-v5.1.2.1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für ein 64-Bit-System werden wir Folgendes tun:</font></font><br>
<br>
<pre><code class="bash hljs">tar -xjf SensorKinect093-Bin-Linux-x64-v5.1.2.1.tar.bz2
<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Sensor-Bin-Linux-x64-v5.1.2.1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schließen Sie die Installation ab:</font></font><br>
<br>
<pre><code class="bash hljs">sudo ./install.sh
</code></pre><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installieren Sie openni_ * -Pakete</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als letztes müssen wir die </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Pakete </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openni_launch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openni_camera</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> installieren </font><font style="vertical-align: inherit;">, mit denen Sie Daten von OpenNI-kompatiblen Tiefenkameras in ROS empfangen und damit arbeiten können. </font><font style="vertical-align: inherit;">Die Installation dieser Pakete ist sehr einfach:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install ros-indigo-openni-camera ros-indigo-openni-launch
</code></pre><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überprüfen der Treiberinstallation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt ist alles fertig! </font><font style="vertical-align: inherit;">Überprüfen Sie den Erfolg der Installation. </font><font style="vertical-align: inherit;">Laufen Sie in verschiedenen Terminals:</font></font><br>
<br>
<pre><code class="bash hljs">roscore<font></font>
roslaunch openni_launch openni.launch depth_registration:=<span class="hljs-literal"><span class="hljs-literal">true</span></span><font></font>
rosrun rviz rviz<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Setzen des Arguments depth_registration: = true gibt an, dass die OpenNI-Registrierung aktiviert und XYZRGB-Daten von der Kamera empfangen werden sollen (Tiefe und Farbe). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erweitern Sie in rviz zunächst den Abschnitt Globale Optionen in der linken Spalte Anzeigen und legen Sie den Wert / camera_link für das Feld Festrahmen wie im Bild fest: </font></font><br>
<br>
<img src="https://habrastorage.org/files/70e/b0e/005/70eb0e005a074870b98aa12d89a18a17.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher legen wir das erforderliche Koordinatensystem für die korrekte Anzeige der Daten von der Kinect-Kamera fest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In rviz erstellen wir eine neue Anzeige. Klicken Sie dazu auf die Schaltfläche Hinzufügen und wählen Sie den Anzeigetyp PointCloud2 wie im Bild aus: </font></font><br>
<br>
<img src="https://habrastorage.org/files/610/db0/7d2/610db07d2c014b75ac2a3d3505187b31.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie das Thema / camera / depth_registered / points für die neue Anzeige aus. Wählen </font></font><br>
<br>
<img src="https://habrastorage.org/files/455/5a5/7d0/4555a57d0b104e21b3fa7e5fceb47ab4.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie anschließend den Wert „RGB8“ für das Feld Color Transformer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt sehen wir ein ähnliches Bild:</font></font><br>
<br>
<img src="https://habrastorage.org/files/173/aeb/e7c/173aebe7c36541719448f3008708546a.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Wert „RGB8“ können Sie eine farbige „Punktwolke“ anzeigen, bei der jeder Punkt X-, Y-, Z-Koordinaten und RGB-Farben aufweist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte Ihre Aufmerksamkeit auf die Tatsache lenken, dass Microsoft Kinect Xbox 360 nur mit USB 2.0 funktioniert. </font><font style="vertical-align: inherit;">Das Anschließen der Kamera über USB 3.0 kann zu einem Geräteerkennungsfehler führen, über den ich ganz am Anfang des Artikels gesprochen habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das offizielle ROS-Portal bietet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tutorials</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum Arbeiten mit RGB-D-Kameradaten mithilfe der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Point Cloud Library</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese Tutorials enthalten alle Informationen, die Sie benötigen, um mit Punktwolken zu beginnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich wünsche Ihnen viel Glück bei der Verwendung von RGBD-Kameras in ROS zur Lösung Ihrer Computer-Vision-Probleme!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de396291/">https://habr.com/ru/post/de396291/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de396279/index.html">Vergleich der drahtlosen Alarm-Kits Ajax StarterKit und Xiaomi Smart Home Suite</a></li>
<li><a href="../de396283/index.html">Die Geburt, Blütezeit und der Tod des Telegraphen</a></li>
<li><a href="../de396285/index.html">Die Public Domain als Element des Handels oder als ich nach Tolstois "Krieg und Frieden" suchte ...</a></li>
<li><a href="../de396287/index.html">Wann werden wir nützliche Heimroboter haben?</a></li>
<li><a href="../de396289/index.html">Beliebte Anerkennung: Musikprojekte auf Kickstarter</a></li>
<li><a href="../de396293/index.html">Япония выпустит последний видеомагнитофон VHS</a></li>
<li><a href="../de396295/index.html">Meer der Klarheit Tag 2: Kunstangriffe</a></li>
<li><a href="../de396299/index.html">Physik in der Tierwelt: Geckopfote</a></li>
<li><a href="../de396301/index.html">Theoretisch mögliche Weltraum-Megastrukturen</a></li>
<li><a href="../de396303/index.html">Der Besitzer des größten Torrent-Trackers der Welt wurde verhaftet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>