<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö£üèª üë∂üèΩ üë©üèΩ‚Äçüíº Sistemas multiagentes na constru√ß√£o de espa√ßos virtuais üç≤ üßôüèΩ üéÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um dos problemas cr√≠ticos que surgem ao criar sistemas multiusu√°rio √© o dimensionamento. Existem v√°rias solu√ß√µes para esses problemas: sharding, model...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistemas multiagentes na constru√ß√£o de espa√ßos virtuais</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/419129/">  Um dos problemas cr√≠ticos que surgem ao criar sistemas multiusu√°rio √© o dimensionamento.  Existem v√°rias solu√ß√µes para esses problemas: sharding, modelo de servi√ßo, sistema de componentes de entidade.  Hoje vamos considerar todas as op√ß√µes e tamb√©m discutir um caso pr√°tico para resolver o problema.  Inscreva-se agora! <br><br><img src="https://habrastorage.org/webt/s1/_h/go/s1_hgomg5gsnukfd8hs4gdql6so.jpeg"><a name="habracut"></a><br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a></b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a></b> <br><br>  <i>Eu passo a palavra aos autores.</i> <br><br><h2>  Abordagens tradicionais para a constru√ß√£o de sistemas multiusu√°rio.  Arquitetura de servi√ßo </h2><br>  Historicamente, o primeiro m√©todo para resolver o problema de dimensionamento foi o sharding - dividindo todo o sistema em v√°rios servidores por qualquer crit√©rio, sem um estado geral do mundo.  Ou seja, at√© um certo n√∫mero de usu√°rios, eles podem estar no mesmo servidor, ver um ao outro e interagir um com o outro;  mas, ao adicionar novos, eles acabaram em c√≥pias do espa√ßo virtual em execu√ß√£o em outro servidor e, portanto, n√£o puderam interagir com outros.  √â claro que isso n√£o √© uma solu√ß√£o para o problema, √© uma solu√ß√£o alternativa.  E embora o sharding fa√ßa sentido mesmo agora, em muitos casos s√£o necess√°rias abordagens que possam realmente aumentar a carga poss√≠vel no servidor. <br><br>  A segunda t√©cnica comum √© o modelo de servi√ßo.  O servidor possui v√°rios componentes que podem ser facilmente duplicados.  Por exemplo, este √© um banco de dados e trabalha com ele, ou um servidor de ativos que os envia para um cliente ou um servidor de autoriza√ß√£o.  Todos esses servi√ßos s√£o diferenciados pelo fato de que voc√™ pode t√™-los em v√°rias inst√¢ncias e paralelizar solicita√ß√µes para eles. <br><br><h2>  O principal problema √© o estado compartilhado </h2><br>  Mas o principal problema √© diferente.  O que fazer com um estado espec√≠fico do mundo, o estado do espa√ßo virtual?  Suponha que nosso ‚Äúmundo‚Äù consista em uma cena 3D, um conjunto de objetos e v√°rios usu√°rios conectados.  Teoricamente, podemos duplicar alguns componentes de software respons√°veis ‚Äã‚Äãpor trabalhar com a cena no lado do servidor.  Mas o problema √© que o estado da cena √© uma coisa comum a todos esses componentes.  Assim, ao paralelizar os manipuladores, precisamos resolver de alguma forma o problema de sincronizar o trabalho com os dados e, ao mesmo tempo, na pr√≥pria sincroniza√ß√£o, podemos perder mais desempenho do que vencer no paralelismo. <br><br><h2>  Solu√ß√£o: Sistema Entidade-Componente.  Problemas no caso do Extremo Oriente </h2><br>  Uma das abordagens relativamente recentes para esses problemas √© o ECS (Entity - Component System).  Nesta vers√£o, representamos o objeto do sistema como uma determinada entidade que possui algumas propriedades.  Por exemplo, essa pode ser a posi√ß√£o de um objeto no espa√ßo e sua velocidade.  Al√©m disso, tudo o que armazenamos no pr√≥prio objeto s√£o apenas alguns dados, mas n√£o a l√≥gica de trabalhar com eles.  Ou seja, no nosso caso, seis n√∫meros ser√£o simplesmente atribu√≠dos ao objeto - o vetor de coordenadas e o vetor de velocidade. <br><br>  A segunda parte do ECS √© worker, um sistema que trabalha com um tipo espec√≠fico de componente.  Por exemplo, no nosso caso, pode ser um sistema que altera as coordenadas de um objeto a cada segundo, adicionando velocidade a elas.  A id√©ia principal √© que o trabalhador n√£o sabe nada sobre o objeto em si - apenas possui uma fila, um pipeline de componentes que deve processar de acordo com certas regras.  Por conseguinte, podemos paralelizar trabalhadores, bem como servi√ßos paralelizados. <br><br><h2>  Sistemas de agente como m√©todo de escrever c√≥digo paralelo </h2><br>  A abordagem multiagente tamb√©m n√£o √© uma novidade especial, mas recentemente o interesse por sistemas de agentes vem crescendo.  Existem v√°rios artigos razoavelmente bons que falam sobre isso em detalhes; portanto, listamos brevemente apenas os princ√≠pios mais gerais de tais sistemas: <br><br><ol><li>  O componente principal do sistema √© um componente chamado agente ou ator.  De certa forma, assemelha-se a um objeto familiar a todos, mas o ator n√£o possui m√©todos p√∫blicos, a √∫nica maneira de se comunicar com ele √© enviar uma mensagem; </li><li>  Para enviar uma mensagem ao agente, existe o conceito de "links".  O link fornece uma certa interface (em v√°rias implementa√ß√µes, pode parecer muito diferente), o que permite enviar mensagens.  Uma das propriedades importantes aqui √© a transpar√™ncia da localiza√ß√£o e a presen√ßa de cada agente com um endere√ßo - uma sequ√™ncia que permite que voc√™ obtenha um link para o agente, independentemente de sua localiza√ß√£o f√≠sica, ou seja,  o agente pode estar localizado e trabalhar no sistema do agente no mesmo computador ou talvez em outro - nesse caso, o link √© obtido em algum endere√ßo de rede; </li><li>  O agente tem uma fila de mensagens e eles s√£o processados ‚Äã‚Äãsequencialmente.  Um agente pode ser uma m√°quina de estados que altera estados e manipuladores de mensagens na ordem de rea√ß√£o a eles; </li><li>  Como regra, os sistemas multiagentes s√£o hier√°rquicos, ou seja, os agentes formam um tipo de √°rvore.  Nesse caso, um erro em um dos agentes n√£o para o sistema inteiro, apenas um agente espec√≠fico √© desconectado, enviando uma mensagem de erro ao seu ancestral.  Uma das abordagens populares para lidar com esses erros √© deix√°-lo travar - quando um agente falha, simplesmente criamos uma nova c√≥pia dele; </li><li>  Criar um novo agente n√£o √© uma opera√ß√£o que consome muitos recursos, e criar o pr√≥prio sistema √© muito caro. </li></ol><br>  Muitas vezes, os sistemas de agentes s√£o usados ‚Äã‚Äãapenas na abordagem usando o ECS.  Como o sistema do agente facilita a cria√ß√£o do n√∫mero necess√°rio de trabalhadores e o paralelismo do trabalho, simplesmente distribuindo o fluxo de mensagens entre eles, isso parece uma abordagem muito promissora.  Por exemplo, √© assim que o SpatialOS da Improvable funciona. <br><br>  Os problemas surgem aqui em um plano ligeiramente diferente.  A abordagem do ECS √© bastante simples, mas, em princ√≠pio, n√£o pode ser chamada de intuitiva, especialmente para programadores inexperientes.  Portanto, a cria√ß√£o do c√≥digo do usu√°rio nesse sistema √© uma tarefa n√£o trivial.  Al√©m disso, surgem d√∫vidas sobre a portabilidade de v√°rios objetos entre inst√¢ncias do servidor virtual, porque, juntamente com o objeto, devemos transferir todos os trabalhadores se eles (para esse tipo de componente) n√£o estiverem presentes em outro servidor.  Em princ√≠pio, algumas implementa√ß√µes de sistemas de agentes podem resolver alguns desses problemas, mas escolhemos uma abordagem diferente. <br><br><h2>  Nosso caso √© a ess√™ncia do Extremo Oriente como agente </h2><br>  No nosso caso, cada objeto de espa√ßo virtual √© um agente, ou melhor, um sistema de agentes.  Comparando com o ECS cl√°ssico, podemos dizer que cada entidade em n√≥s carrega um sistema de "trabalhadores trabalhadores", vinculado ao pr√≥prio objeto.  Ao mesmo tempo, todas as vantagens do sistema do agente s√£o preservadas (ou seja, podemos executar esse objeto em um encadeamento separado, em uma m√°quina separada etc., simplesmente alterando as configura√ß√µes do servidor), mas o objeto permanece port√°til e a cria√ß√£o de scripts para ele n√£o requer divis√£o ECS . <br><br>  Nesse caso, o estado do mundo √© dividido no estado de objetos individuais e cada um deles pode ser processado separadamente.  No cliente, tamb√©m constru√≠mos um sistema de agente, que √© um tipo de reflexo do status do servidor, e associamos cada agente ao agente.  Entre outras coisas, isso tamb√©m aumenta a confiabilidade do sistema, pois se um objeto individual falhar, apenas esse objeto ser√° desativado e n√£o todo o espa√ßo virtual. <br>  Em um pouco mais detalhadamente, fica assim: <br><br><img src="https://habrastorage.org/webt/81/at/0d/81at0dd-wlkdcnx5abgrktulxv0.png"><br><br>  Qualquer objeto de espa√ßo √© um pequeno sistema de agente que consiste no agente principal da entidade criada quando o servidor √© iniciado, que n√£o √© um agente de cont√™iner de componente e um conjunto de componentes do manipulador de mensagens.  Para conectar o cliente, a propriedade de transpar√™ncia da rede √© usada, ou seja, cada objeto espec√≠fico no cliente possui um link para o objeto do agente do servidor.  Ao mesmo tempo, ao conectar, um novo agente √© criado dinamicamente, que √© um descendente do principal. <br><br><img src="https://habrastorage.org/webt/sx/zc/zj/sxzczji0iavh3gibmxwv9pkitm4.png"><br><br>  Um sistema de agente tamb√©m √© criado no lado do cliente, mas os agentes da entidade s√£o formados por uma mensagem do lado do servidor.  Ap√≥s a cria√ß√£o, o agente recebe um link para o agente do servidor e cria um componente de processamento de mensagens que inclui filas para receber e enviar mensagens do servidor.  Um objeto do Unity tamb√©m √© criado e partes do cliente dos componentes do objeto herdadas do MonoBehaviour.  Ao mesmo tempo, a parte do Unity e a parte do agente trabalham em diferentes segmentos, o manipulador de mensagens √© respons√°vel pela sincroniza√ß√£o (se poss√≠vel, √© minimizado). <br><br>  Algo assim (sem detalhes especiais) se parece com a implementa√ß√£o de espa√ßo virtual din√¢mico na variante JIF.  No pr√≥ximo artigo, falaremos sobre big data pessoal e trabalharemos com estat√≠sticas, bem como sobre blockchain. <br><br><h2>  Os autores </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A Jedium</a> √© uma empresa parceira da Microsoft que trabalha no campo da realidade virtual aumentada e da intelig√™ncia artificial.  A Jedium desenvolveu uma estrutura para simplificar o desenvolvimento de projetos complexos no Unity, parte dos quais est√° dispon√≠vel publicamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no GitHub</a> .  A Jedium planeja reabastecer o reposit√≥rio com novos m√≥dulos de estrutura, bem como solu√ß√µes de integra√ß√£o com o Microsoft Azure. <br><br><img src="https://habrastorage.org/webt/jh/ag/3n/jhag3namj6wkh2bvqqo6_ftaj80.png" align="left" width="70">  <b>Vitaliy Chashchin</b> - Desenvolvedor de software com mais de 10 anos de experi√™ncia no design e implementa√ß√£o de aplicativos cliente-servidor tridimensionais - do conceito √† completa implementa√ß√£o e integra√ß√£o de aplicativos e solu√ß√µes no campo da realidade virtual.  Arquiteto de Sistemas Jedium LLC, MSc em TI. <br><br><img src="https://habrastorage.org/webt/v3/pv/lq/v3pvlqbh3g0yastjzzsrckofgeo.jpeg" align="left" width="70">  <b>Alexey Sarafanov</b> <br><br>  Gerente de Marketing na Jedium LLC. <br><br><img src="https://habrastorage.org/webt/-7/j2/bl/-7j2bl1twtkxgfndf1a2xmzduzs.jpeg" align="left" width="70">  <b>Sergey Kudryavtsev</b> <br><br>  CEO e fundador da Jedium LLC. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419129/">https://habr.com/ru/post/pt419129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt419117/index.html">‚Äú√â dif√≠cil para mim entender a motiva√ß√£o de um cientista de dados que n√£o v√™ beleza na matem√°tica‚Äù - Kirill Danilyuk, cientista de dados</a></li>
<li><a href="../pt419119/index.html">A caneta inteligente premium Montblanc √© a caneta inteligente mais cara at√© hoje</a></li>
<li><a href="../pt419123/index.html">As desvantagens do freelancer. Experi√™ncia pessoal</a></li>
<li><a href="../pt419125/index.html">O retorno da esta√ß√£o sovi√©tica. An√°lise e documentos</a></li>
<li><a href="../pt419127/index.html">Tr√™s reencarna√ß√µes de uma loja online. Como drenar dinheiro, tempo e por que os modelos s√£o bons</a></li>
<li><a href="../pt419131/index.html">A data preliminar de lan√ßamento do m√≥dulo lunar SpaceIL anunciada</a></li>
<li><a href="../pt419133/index.html">Webinars de sexta-feira: aprendendo a programar gratuitamente</a></li>
<li><a href="../pt419135/index.html">Sexta-feira JS: jogo de JS e CSS de 0 linhas</a></li>
<li><a href="../pt419137/index.html">Registro de atividades usando a API Web Beacon</a></li>
<li><a href="../pt419141/index.html">O phishing sexual est√° ganhando for√ßa nos EUA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>