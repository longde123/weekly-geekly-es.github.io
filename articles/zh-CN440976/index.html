<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📔 👩🏾‍🎨 🧥 我扫描了整个奥地利，发现... 🚳 💆 🗼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... IP摄像机，打印机，过程控制系统等等 
 免责声明 ：本文是几周工作的结果。 我在Cert.at中告知服务器所有者最大的问题（如果可以找到的话）以及其他问题。 此外，我没有尝试登录任何需要密码的设备/服务/站点。 

 首先：如何获取整个国家的所有IP地址？ 

 这很简单。 IP地址不是由...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我扫描了整个奥地利，发现...</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440976/"><h1>  ... IP摄像机，打印机，过程控制系统等等 </h1><br>  <font color="gray"><b>免责声明</b> ：本文是几周工作的结果。</font>  <font color="gray">我在Cert.at中告知服务器所有者最大的问题（如果可以找到的话）以及其他问题。</font>  <font color="gray">此外，我没有尝试登录任何需要密码的设备/服务/站点。</font> <br><br>  <b>首先：如何获取整个国家的所有IP地址？</b> <br><br> 这很简单。  IP地址不是由国家“生成”的，而是由中央机构分配的。 这意味着有按国家列出的所有IP地址的列表。 <br><br> 任何人都可以<a href="">下载这样的列表</a> 。 键入<code>grep Austria IP2LOCATION-LITE-DB1.CSV &gt; austria.csv</code>然后<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">运行一个简单的脚本</a>将IP地址转换为方便的格式。 <br><a name="habracut"></a><br> 分配给奥地利的1100万个IPv4地址。 更准确地说是11,170,487。 <br><br> 如果您不想自己打扰IP地址，请使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Shodan.io</a> 。 <br><br><h1> 第一个目标：未修补的Windows </h1><br> 当然，该国没有任何系统管理员会在未经过滤的情况下将Windows SMB端口暴露给网络，对吗？ <br><br> <code>masscan -p445 --rate 300 -iL austria.ips -oG austria.445.scan &amp;&amp; cat austria.445.scan | wc -l</code> <br> <br>  <b>在Windows下找到1273个完全开放的系统</b> 。 <br><br> 哇 仅凭这一事实就使系统管理员不知所措，但是自从Shadowbrokers发布ETERNALBLUE漏洞以来，大多数IT专业人员都会同意将不受保护的Windows计算机放到Web上是不好的。 <br><br>  <b>从正面来看，没有1273辆汽车容易受到ETERNALBLUE的攻击</b> 。 <br><br><h1>  Windows足够了，开放解析器又如何呢？ </h1><br> 您听说过开放式解决方案吗？ 如果不是，您是否可以听到有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DDoS攻击的信息</a> ？ 这是Internet上的实际问题。 <br><br> 它是这样工作的：攻击者从伪造的IP地址（攻击的目标）发送一个小的DNS查询，服务器用更大的数据包响应该IP地址。 攻击者仅花费40字节的流量，而开放的解析器将4,000字节发送给受害者。 因此，攻击者甚至可以从常规智能手机中通过大量流量来攻击大型公司的服务器。 这<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">经常</a>发生。 <br><br> 检查奥地利有多少开放的解决方案。 <br><br><h3> 使用UDP端口53扫描整个奥地利 </h3><br> 我在该国发现了8728个公共DNS服务器，占奥地利所有IP地址的0.08％。 <br><br> <code>masscan -pU:53 -iL austria.ips -oG austria.53.scan &amp;&amp; cat austria.53.scan | wc -l</code> <br> <br> 但这并不意味着什么。 更重要的是，它们是否开放解析器？ <br><br><h3> 搜索开放式解析器 </h3><br> 方法很简单：使用<code>dig</code>命令，我们检查解析我提供的随机地址是否可以在该IP上正常工作。 对于具有所有IP的文件，我将<code>dig +short test.openresolver.com TXT @ip.of.dns.server</code> 。 如果收到<b>检测到Open-Resolver的</b>响应，则会记录该地址。 <br><br> 不幸的是……使用这种方法，我发现<b>所有奥地利DNS服务器中有25％是开放解析器</b> 。 但是，通常它仅占奥地利IP地址的0.02％。 <br><br><h1> 奥地利还有哪些脆弱的地方？ </h1><br> 我很高兴你问。 最简单的方法是检查端口80（Web服务器和代理）。 <br><br><h1> 网络服务器 </h1><br>  67 626奥地利IP地址在端口80（http）上响应。 其中，有40,776个响应了一个简单的GET请求（这样的浏览器可以发送），如果删除了错误消息，则剩下17,392个真正正常工作的Web服务器。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/306/6c0/fec/3066c0fec163184abe28d26f731e3d08.png"></div><br> 最受欢迎的Apache（发送<code>Server</code>标头的Apache）。 我发现的最旧版本-2012年的<code>Apache 1.3.12</code>在Windows服务器上运行。 双重噩梦。 <br><br> 我还在<code>Windows CE</code>设备上找到了四台服务器。 该系统于1996年发布，并在2013年完全停止了支持。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebc/db3/311/ebcdb331194e1008e8b60c4dad9cc97e.png"><br>  <i><font color="gray">其他旧设备</font></i> <br><br><h3> 可视化17,000个网站 </h3><br> 我编写了一个脚本，该脚本使用WKHTMLTOIMAGE稍后创建拼贴画来捕获任何站点的屏幕截图。 最初的拼贴画相当无聊，因为许多站点仅显示白页或错误消息。 我必须对图像中的最小颜色数进行过滤。 <br><br> 请记住，这些站点不全是奥地利站点，而是Web服务器为所有IP地址提供的首页。 <br><br> 这是拼贴画。 <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/951/7f9/8cf/9517f98cf448aff7e4b68d6ed60610da.jpg"></a> <br>  <i><font color="gray"><a href="">完整</a> 3000×14500px版本占用12 MB</font></i> <br><br><h1> 打印机...为什么不呢？ </h1><br> 我发现九台没有登录的HP打印机，可以从Internet完全访问它们。 没有密码，甚至无法打印。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/84c/205/232/84c20523292d8e4e90ce36954659210c.jpg"><br>  <i><font color="gray">没有密码的打印机（是的，我可以在它们上打印）</font></i> <br><br> 在此屏幕上，仍然有机会通过网站发送传真。 但是所有者很幸运：由于该设备具有传真号码，所以我给他打电话，然后他从互联网上删除了打印机。 干得好！ <br><br><h1> 网路摄影机 </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/5e2/195/f16/5e2195f16e06ef5429f66696a5020b76.jpg"><br>  <i><font color="gray">家庭安全系统显示某人的房子</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f43/f3f/da3/f43f3fda35b7b8ab7f9745a6bbcddbf4.jpg"><br>  <i><font color="gray">有人在图片上方编辑了文字层，并写下了“ 1984”</font></i> <br><br> 这些只是300多个不带密码的视频广播摄像机中的两个。 如果有的话，可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a>找到所有相机。 <br><br><h3> 最后，我将向您展示一些我发现的奇怪的东西。 </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/fac/5f7/943/fac5f79436eb88c4e2d5b7954e1ba5c2.png"><br>  <i><font color="gray">智能家居。</font></i>  <i><font color="gray">灯光和扬声器控制</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e7/6a9/b78/5e76a9b786bbe8879c977178f958a636.jpg"><br>  <i><font color="gray">污水处理厂</font></i> <br><br><h1> 结论 </h1><br> 奥地利是一个小国，但在信息安全领域，它与其他国家一样存在同样的问题。 应更清楚地识别危害，设备供应商和制造商应通过提供安全的默认配置来帮助用户。 <br><br> 公司应聘请优秀的系统管理员来监控网络基础架构，并使服务器保持最新状态。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440976/">https://habr.com/ru/post/zh-CN440976/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN440960/index.html">Orange Pi 2G-IOT：雷区地图</a></li>
<li><a href="../zh-CN440962/index.html">通讯提供商将有义务签订住宅建筑物连接合同</a></li>
<li><a href="../zh-CN440966/index.html">将KELLER传感器连接到MATLAB</a></li>
<li><a href="../zh-CN440972/index.html">Innopolis大学将举办俄罗斯第一所国际自动驾驶汽车设计学校</a></li>
<li><a href="../zh-CN440974/index.html">科特林拼图，卷。 2：新一批难题</a></li>
<li><a href="../zh-CN440978/index.html">无线Wi-Fi可编程房间恒温器，带有空气质量监测器和其他实用功能</a></li>
<li><a href="../zh-CN440980/index.html">2月23日正在等待男人的礼物是什么？ 调查结果</a></li>
<li><a href="../zh-CN440984/index.html">降低获取率将如何影响我们（持卡人）-2</a></li>
<li><a href="../zh-CN440986/index.html">机车：我们对自行式轨道车的了解</a></li>
<li><a href="../zh-CN440988/index.html">Google开设.dev域区域</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>