<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦇 🚴 🧝🏻 Fungsi untuk mendokumentasikan database PostgreSQL. Bagian satu 🔫 😜 😵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selama bekerja dengan PostgreSQL, lebih dari seratus fungsi untuk bekerja dengan direktori sistem telah terakumulasi: pg_class, pg_attribute, pg_const...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fungsi untuk mendokumentasikan database PostgreSQL. Bagian satu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415575/">  Selama bekerja dengan PostgreSQL, lebih dari seratus fungsi untuk bekerja dengan direktori sistem telah terakumulasi: pg_class, pg_attribute, pg_constraints, dll. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zc/rx/ta/zcrxta08dnfat5cqpgid4lyq7by.png"></div><br>  Apa yang harus dilakukan dengan mereka?  Mereka digunakan relatif jarang.  Sertakan dalam proyek apa pun?  Pelanggan Krasnoyarsk tidak akan membayar "omong kosong" seperti itu.  Namun, bagaimana jika mereka bermanfaat bagi orang lain selain penulis.  Dan dia memutuskan untuk meletakkannya, seperti membaca buku, di lemari umum untuk mereka yang menginginkannya. <br><a name="habracut"></a><br>  Seseorang ingin menggunakannya dalam pekerjaan mereka.  Dan seseorang tertarik selain dari pengalaman mereka dengan katalog sistem. <br><br>  Tetapi agar tidak mengubah publikasi menjadi enumerasi yang membosankan, tidak diketahui mengapa fungsi-fungsi itu dibuat, saya memutuskan untuk memikirkan fungsi-fungsi itu yang bisa disatukan oleh tujuan bersama.  Oleh karena itu, fungsi yang digunakan untuk menampilkan daftar karakteristik tabel tabel arbitrer dipilih. <br><br>  Daftar diperpanjang karakteristik tabel database dikembalikan oleh fungsi <b>admtf_Table_ComplexFeatures</b> , yang akan disebut fungsi kepala dalam artikel ini.  Dengan demikian, artikel akan dibatasi untuk mempertimbangkan fungsi-fungsi yang dipanggil dalam proses mengeksekusi fungsi kepala. <br><br>  Paruh pertama artikel memberikan komentar tentang implementasi fungsi.  Yang kedua adalah kode sumber fungsi.  Bagi pembaca yang hanya tertarik pada teks sumber, kami sarankan segera melanjutkan ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lampiran</a> . <br><p>  <b>Lihat juga</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi untuk mendokumentasikan database PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian dua</a> ;</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi untuk mendokumentasikan database PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian tiga</a> .</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi untuk mendokumentasikan database PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Akhir (bagian empat)</a> .</b> <br></p><br><br><a name="ExpFeatures"></a><br><h3>  Apa fitur canggih yang sedang kita bicarakan? </h3><br>  Untuk mendapatkan ide tentang apa yang dimaksud dengan karakteristik yang diperluas dari tabel database, kita mulai dengan mempertimbangkan daftar karakteristik berikut.  Daftar ini berisi karakteristik tabel database Street yang dikembalikan oleh <b>admtf_Table_ComplexFeatures ( <i>'publik'</i> , <i>'street'</i> )</b> . <br><p>  Tabel di bawah ini berisi daftar fitur Street table yang disingkat.  Seperangkat karakteristik lengkap dari tabel ini diberikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam Bahan Pelengkap Lampiran 2.</a> <br><br>  <strong>Tabel 1. Fitur lanjutan dari tabel Street.</strong> <br><img src="https://habrastorage.org/webt/zj/5x/jn/zj5xjnygaeedplccbe_itjr7fpu.png"><br></p><div class="spoiler">  <b class="spoiler_title">Versi teks dari tabel pada gambar</b> <div class="spoiler_text"><table width="95" border="1"><tbody><tr><th width="5">  Kategori </th><th width="5">  Tidak. </th><th width="15">  Judul </th><th width="20">  Komentar </th><th width="20">  jenis </th><th width="20">  Jenis dasar </th><th width="5">  ?  bukan NULL </th></tr><tr><td width="5">  tbl </td><td width="5">  0 </td><td width="15">  jalan </td><td width="20">  Daftar jalan di pemukiman </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  att </td><td width="5">  1 </td><td width="15">  kode sandi </td><td width="20">  Kode negara </td><td width="20">  kode sandi </td><td width="20">  smallint </td><td width="5">  t </td></tr><tr><td width="5">  att </td><td width="5">  2 </td><td width="15">  localityid </td><td width="20">  ID komunitas </td><td width="20">  localityid </td><td width="20">  bilangan bulat </td><td width="5">  t </td></tr><tr><td width="5">  att </td><td width="5">  3 </td><td width="15">  streetid </td><td width="20">  ID jalan desa </td><td width="20">  streetid </td><td width="20">  smallint </td><td width="5">  t </td></tr><tr><td width="5">  att </td><td width="5">  4 </td><td width="15">  streettypeacrm </td><td width="20">  Akronim Jalan </td><td width="20">  streettypeacrm </td><td width="20">  karakter (8) </td><td width="5">  f </td></tr><tr><td width="5">  att </td><td width="5">  5 </td><td width="15">  nama jalan </td><td width="20">  Nama jalan </td><td width="20">  streettypeacrm </td><td width="20">  varchar (150) </td><td width="5">  t </td></tr><tr><td width="5">  pk </td><td width="5">  0 </td><td width="15">  xpkstreet </td><td width="20">  Kunci utama meja jalan </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  pkatt </td><td width="5">  1 </td><td width="15">  kode sandi </td><td width="20">  Kode negara </td><td width="20">  kode sandi </td><td width="20">  smallint </td><td width="5">  t </td></tr><tr><td width="5">  fk01 </td><td width="5">  1 </td><td width="15">  fk_street_locality </td><td width="20">  Meja kunci asing </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  fk02 </td><td width="5">  2 </td><td width="15">  fk_street_streettype </td><td width="20">  Meja kunci asing </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  idx01 </td><td width="5">  1 </td><td width="15">  xie1 jalan </td><td width="20">  Indeks berdasarkan jenis dan nama jalan pemukiman </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  idx02 </td><td width="5">  2 </td><td width="15">  xie2jalan </td><td width="20">  Kode pos </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  idx03 </td><td width="5">  3 </td><td width="15">  xie3jalan </td><td width="20">  Indeks nama jalan semua pemukiman </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5">  idx04 </td><td width="5">  4 </td><td width="15">  xpkstreet </td><td width="20">  Indeks unik (kunci utama) dari tabel jalan </td><td width="20"></td><td width="20"></td><td width="5"></td></tr></tbody></table><br></div></div><br><p>  Merinci permusuhan pada set huruf dan angka ini, Anda dapat melihat bahwa kita berbicara tentang karakteristik biasa dari tabel database: </p><br><ul><li>  Nama tabel; </li><li>  Daftar atribut tabel dan tipenya; </li><li>  Kunci utama dan daftar kunci asing tabel, bersama dengan atribut tabel yang menyusunnya </li><li>  Daftar indeks tabel. </li></ul><br><p>  Keunikan setiap entri dari daftar karakteristik dijamin oleh nilai-nilai bidang "kategori" dan nomor seri ("Tidak.") Dari karakteristik. </p><br><br>  <strong>Tabel 2. Kategori karakteristik tabel.</strong> <br><img src="https://habrastorage.org/webt/sy/j9/5z/syj95z_zta0nii9_9-n7zaxzq3q.png"><br><div class="spoiler">  <b class="spoiler_title">Versi teks dari tabel pada gambar</b> <div class="spoiler_text"><table><tbody><tr><th>  Akronim </th><th>  Janji temu </th></tr><tr><td>  tb </td><td>  Karakteristik tabel </td></tr><tr><td>  att </td><td>  Karakteristik Atribut Tabel </td></tr><tr><td>  seq </td><td>  Karakteristik urutan </td></tr><tr><td>  pk </td><td>  Fitur Utama Utama </td></tr><tr><td>  pkAtt </td><td>  Karakteristik Atribut Kunci Utama </td></tr><tr><td>  fk99 </td><td>  Fitur Utama Asing </td></tr><tr><td>  fk99att </td><td>  Karakteristik Atribut Kunci Asing </td></tr><tr><td>  fk99rtbl </td><td>  Karakteristik tabel direferensikan oleh kunci asing </td></tr><tr><td>  fk99ratt </td><td>  Karakteristik atribut dari tabel yang dirujuk oleh kunci asing </td></tr><tr><td>  Idx99 </td><td>  Karakteristik indeks </td></tr><tr><td>  Idx99att </td><td>  Karakteristik Atribut Indeks </td></tr><tr><td>  Inhtbl99 </td><td>  Karakteristik tabel yang dihasilkan </td></tr></tbody></table><br></div></div><br><p>  Nilai kategori diperlukan untuk membedakan kelompok karakteristik yang berbeda satu sama lain.  Nomor seri, untuk membedakan karakteristik dalam grup. </p><br><p>  Beberapa kunci asing (KUNCI ASING) dan indeks dapat dideklarasikan dalam tabel database.  Oleh karena itu, nilai kategori untuk karakteristik ini dan turunannya berisi nomor seri.  Misalnya, entri dengan kunci “Kategori” = <strong>idx02att</strong> dan “No.” = <strong>1</strong> menunjukkan atribut pertama dari indeks ke-2. </p><br><p>  Dalam daftar kategori di atas, lokasi nomor seri ditunjukkan sebagai '99'. </p><br><p>  <strong>Komentar 1</strong> </p><br><img src="https://habrastorage.org/webt/xt/ye/1l/xtye1lr36ssftr4kmvnwedjgnew.png"><br><div class="spoiler">  <b class="spoiler_title">kode sumber operator pada gambar</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> admtf_Table_ComplexFeatures(<span class="hljs-string"><span class="hljs-string">'pg_catalog'</span></span>,<span class="hljs-string"><span class="hljs-string">'pg_class'</span></span>);</code> </pre> <br></div></div><br><br><p>  Artikel ini memberikan contoh karakteristik tabel, yang dijelaskan secara singkat dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skema tambahan yang</a> dibuat khusus untuk menunjukkan kemampuan fungsi.  Tetapi pembaca, setelah membuat fungsi ini atau itu dalam database-nya, dapat menggunakan nama skema dan tabelnya sebagai parameter.  Selain itu, misalnya, direktori <strong>pg_class</strong> dapat digunakan sebagai parameter, meskipun dalam hal ini sejumlah karakteristik dikeluarkan. </p><p></p><p>  <strong>Akhir dari komentar itu.</strong> </p><br><a name="tfTableCF_def"></a><br><h3>  Struktur fungsi kepala </h3><br><img src="https://habrastorage.org/webt/mn/pw/9w/mnpw9welx2ltfhwiqllgqrp6uyc.png"><br>  <strong>Fig.</strong>  <strong>1. Fungsi yang menyebabkan fungsi kepala.</strong> <br><br>  <strong>Tabel 3. Penugasan fungsi.</strong> <br><img src="https://habrastorage.org/webt/po/yb/et/poybetf0ogfvr0l95pxzdw5m1yq.png"><br><div class="spoiler">  <b class="spoiler_title">Versi teks dari tabel pada gambar</b> <div class="spoiler_text"><table width="95" border="1"><tbody><tr><th width="5">  Tidak. </th><th width="10">  Judul </th><th width="40">  Janji temu </th></tr><tr><td width="5">  1 </td><td width="10">  admtf_Table_Features </td><td width="40">  Fungsi mengembalikan daftar karakteristik tabel database </td></tr><tr><td width="5">  2 </td><td width="10">  admtf_Table_Attributes </td><td width="40">  Fungsi mengembalikan daftar atribut tabel database dan karakteristiknya. </td></tr><tr><td width="5">  3 </td><td width="10">  admtf_Table_Constraintes </td><td width="40">  Fungsi mengembalikan daftar pembatasan tabel database dan karakteristiknya. </td></tr><tr><td width="5">  4 </td><td width="10">  admtf_Table_Indexes </td><td width="40">  Fungsi mengembalikan daftar indeks tabel database dan karakteristiknya. </td></tr><tr><td width="5">  5 </td><td width="10">  admtf_Table_InheritanceChildrens </td><td width="40">  Fungsi mengembalikan daftar tabel yang dihasilkan oleh (IHERITS) dari tabel basis data sumber. </td></tr><tr><td width="5">  6 </td><td width="10">  admtf_Table_Sequences </td><td width="40">  Fungsi mengembalikan daftar urutan (URUTAN) di mana tabel tergantung. </td></tr><tr><td width="5">  7 </td><td width="10">  admtf_PrimaryKey_ComplexFeatures </td><td width="40">  Fungsi mengembalikan daftar lengkap (diperluas) karakteristik kunci utama (PRIMARY KEY) dari tabel database. </td></tr><tr><td width="5">  8 </td><td width="10">  admtf_ForeignKey_ComplexFeatures </td><td width="40">  Fungsi mengembalikan daftar lengkap (diperpanjang) karakteristik kunci asing (KUNCI ASING) dari tabel database. </td></tr><tr><td width="5">  9 </td><td width="10">  admtf_Index_ComplexFeatures </td><td width="40">  Fungsi mengembalikan daftar lengkap (diperluas) karakteristik indeks tabel database. </td></tr><tr><td width="5">  10 </td><td width="10">  admtf_Table_ComplexFeatures </td><td width="40">  Fungsi mengembalikan daftar lengkap (diperluas) karakteristik tabel database. </td></tr></tbody></table><br></div></div><br><p>  <strong>Komentar 2.</strong> </p><br><p>  Deskripsi fungsi akan diatur dalam urutan yang ditunjukkan di atas.  Alasannya adalah bahwa artikel tersebut harus dibagi menjadi beberapa bagian.  Dan fungsi-fungsi yang diatur dalam urutan ini dapat digunakan terlepas dari kenyataan bahwa beberapa di antaranya hanya akan dijelaskan di bagian publikasi berikut. </p><br><p>  <strong>Akhir dari komentar itu.</strong> </p><br><br><h3>  Admtf_Table_Features daftar fungsi karakteristik tabel database </h3><br><a name="tfTableF_def"></a><br><br><p>  Fungsi admtf_Table_Features mengembalikan daftar karakteristik tabel database itu sendiri.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode sumber dapat dilihat dan diunduh di sini.</a> </p><br><p>  Sebagai parameter, fungsi tersebut mengambil nama tabel sumber <b>(a_TableName</b> ) dan nama skema tempat tabel dibuat ( <b>a_SchemaName</b> ). </p><br><p>  Fungsi ini mengekstrak data dasar dari <b>entri</b> katalog <b>pg_class</b> , yang berisi, selain entri tabel, juga mencatat tentang urutan, tampilan, tampilan terwujud, dan tipe komposit.  Oleh karena itu, untuk memilih tabel, kondisi relkind = <b><font color="red">'r' digunakan</font></b> . </p><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> tbl.relname,dsc.description,tbl.relnatts::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>,tbl.relchecks::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>, tbl.relhaspkey,tbl.relhasindex,tbl.relhassubclass,tbl.reltuples::<span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_class tbl <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace nspc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.relnamespace = nspc.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.oid=dsc.objoid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>( nspc.nspname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relkind=<span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(tbl.relname) =<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableName);</code> </pre><br><p>  Selain itu, fungsi mengakses data direktori <b>pg_namespace</b> dan <b>pg_description</b> .  Yang pertama berisi nama skema database, dan yang kedua berisi komentar pada semua objek database. </p><br><p>  Penting untuk memperhatikan kondisi <b>objsubid = 0</b> .  Ini mendefinisikan komentar di atas meja, karena nilai dari bidang objek adalah sama untuk kedua tabel dan atributnya.  Komentar pada atribut tabel terdapat dalam entri di mana <b>objsub</b> cocok dengan jumlah atribut ini. </p><br><br>  <strong>Tabel 4. Hasil dari mengeksekusi fungsi admtf_Table_Features ('public', 'Street').</strong> <br><br><table width="95" border="1"><tbody><tr><th width="10">  Judul </th><th width="20">  Komentar </th><th width="5">  Jumlah atribut </th><th width="5">  Jumlah Kendala PERIKSA </th><th width="5">  ?  apakah ada kunci utama </th><th width="5">  ?  adalah indeks yang diumumkan </th><th width="5">  ?  apakah ada keturunan </th><th width="5">  Jumlah entri dalam tabel </th></tr><tr><td width="10">  jalan </td><td width="20">  Daftar jalan di pemukiman </td><td width="5">  22 </td><td width="5">  0 </td><td width="5">  t </td><td width="5">  t </td><td width="5">  f </td><td width="5">  20150 </td></tr></tbody></table><br><p>  <strong>Komentar 3</strong> </p><br><p>  Perhatikan jumlah atribut tabel jalan.  Ini berbeda secara signifikan dari jumlah atribut yang ditentukan dalam skema bantu. </p><br><p>  Tabel 5. Atribut tambahan dari tabel Street. </p><br><table><tbody><tr><th width="10">  attname </th><th width="5">  atttypid </th><th width="5">  attnum </th><th width="10">  Catatan </th></tr><tr><td width="10">  cmin </td><td width="5">  Tanggal 29 </td><td width="5">  -4 </td><td width="10">  Atribut sistem </td></tr><tr><td width="10">  xmin </td><td width="5">  28 </td><td width="5">  -3 </td><td width="10">  Atribut sistem </td></tr><tr><td width="10">  ctid </td><td width="5">  27 </td><td width="5">  -1 </td><td width="5">  Atribut sistem </td></tr><tr><td width="10">  kode sandi </td><td width="5">  795369 </td><td width="5">  1 </td><td width="5">  Atribut yang valid </td></tr><tr><td width="10">  localityid </td><td width="5">  795352 </td><td width="5">  2 </td><td width="10">  Atribut yang valid </td></tr><tr><td width="10">  streetid </td><td width="5">  795364 </td><td width="5">  3 </td><td width="10">  Atribut yang valid </td></tr><tr><td width="10">  streettypeacrm </td><td width="5">  1919168 </td><td width="5">  4 </td><td width="10">  Atribut yang valid </td></tr><tr><td width="10">  nama jalan </td><td width="5">  1043 </td><td width="5">  5 </td><td width="10">  Atribut yang valid </td></tr><tr><td width="10">  ........ pg.dropped.6 ........ </td><td width="5">  0 </td><td width="5">  6 </td><td width="10">  Atribut jarak jauh </td></tr><tr><td width="10">  ........ pg.dropped.7 ........ </td><td width="5">  0 </td><td width="5">  7 </td><td width="10">  Atribut jarak jauh </td></tr></tbody></table><br><p>  Faktanya adalah bahwa PostgreSQL, selain atribut utama, juga memperhitungkan beberapa atribut sistem, dan bahkan atribut yang dihapus. </p><br><p>  <strong>Komentar akhir</strong> </p><br><br><h3>  Function admtf_Table_Attributes daftar atribut tabel database dan karakteristiknya </h3><a name="tfTableA_def"></a><br><p>  Fungsi <b>admtf_Table_Attributes</b> mengembalikan daftar atribut tabel database.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode sumber dapat dilihat dan diunduh di sini.</a> </p><br><p>  Sebagai parameter, fungsi tersebut mengambil nama tabel sumber ( <b>a_TableName</b> ) dan nama skema tempat tabel dibuat ( <b>a_SchemaName</b> ). </p><br><p>  Fungsi mengambil data utama dari <b>entri</b> direktori <b>pg_attribute</b> dan <b>pg_type</b> .  Yang pertama berisi catatan dengan data tentang atribut tabel, tampilan, tampilan terwujud, tipe komposit, dan bahkan fungsi.  Yang kedua adalah tentang karakteristik tipe atribut. </p><br><p>  Mungkin beberapa klarifikasi diperlukan dengan cara agar pengguna dan tipe dasar didefinisikan dalam fungsi. </p><br><p>  Atribut tabel dideklarasikan dengan tipe kustom jika bidang <b>typbasetype</b> <b>lebih besar</b> dari 0 dalam <b>entri</b> direktori <b>pg_type yang</b> sesuai. Jika tidak, atributnya adalah tipe dasar.  Oleh karena itu, direktori <b>pg_type</b> terlibat dua kali dalam klausa FROM.  Di entri direktori pertama, keberadaan tipe pengguna ditentukan, jika tidak ditentukan ( <b>typbasetype = 0</b> ), maka nilai tipe dasar dihasilkan dari entri ini.  Kalau tidak, tipe dasar ditentukan dari catatan yang btyp.OID = typ.typbasetype. </p><br><p>  Secara langsung garis dengan tipe dasar dibentuk menggunakan fungsi katalog sistem <b>FORMAT_TYPE (type_oid, typemod)</b> .  Parameter pertama di antaranya adalah tipe dasar catatan OID.  Parameter kedua adalah nilai pengubah untuk jenis yang berisi ukuran.  Misalnya, VARCHAR (100) atau NUMERIC (4,2), DECIMAL (4,2).  Nilai parameter <b>typemod</b> diambil dari <b>typ.typtypmod</b> jika atributnya adalah tipe pengguna, jika tidak dari <b>attr.atttypmod</b> , mis.  langsung dari catatan atribut. </p><br><img src="https://habrastorage.org/webt/gv/jx/q0/gvjxq0pb7kjjrv6galmsht5s9do.png"><br><div class="spoiler">  <b class="spoiler_title">kode sumber operator pada gambar</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> attr.attnum, attr.attname::<span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(typ.typbasetype,<span class="hljs-number"><span class="hljs-number">0</span></span>)&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> typ.typname::<span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>, FORMAT_TYPE(<span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NULLIF</span></span>(typ.typbasetype,<span class="hljs-number"><span class="hljs-number">0</span></span>),typ.oid), <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NULLIF</span></span>(typ.typtypmod,<span class="hljs-number"><span class="hljs-number">-1</span></span>),attr.atttypmod))::<span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>), attr.attnotnull, dsc.description <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_attribute <span class="hljs-keyword"><span class="hljs-keyword">attr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class tbl <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.oid = attr.attrelid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_namespace nspc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> tbl.relnamespace = nspc.oid <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_type typ <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> attr.atttypid=typ.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dsc.objoid=attr.attrelid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=attr.attnum <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>( nspc.nspname)=<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_SchemaName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(tbl.relname) =<span class="hljs-keyword"><span class="hljs-keyword">LOWER</span></span>(a_TableName) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> tbl.relkind=<span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.attnum&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.atttypID&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> tbl.relname,attr.attnum;</code> </pre><br></div></div><br><p>  Selain itu, fungsi mengakses data direktori <b>pg_class</b> , <b>pg_namespace</b> dan <b>pg_description</b> .  Direktori pertama dan kedua digunakan untuk mencari atribut dengan nama skema dan tabel database. <br><br>  Direktori ketiga digunakan untuk mengambil komentar untuk atribut tabel. </p><br><p>  Komentar pada atribut tabel ada di entri di mana <b>dsc.objoid</b> berisi OID dari tabel sumber, dan <b>dsc.objsubid adalah</b> nomor seri dari atribut dalam tabel, yaitu.  <b>attr.attnum</b> . </p><br><p>  Untuk mencegah fungsi mengembalikan atribut sistem dan jarak jauh, klausa WHERE menetapkan kondisi <b>attr.attnum&gt; 0 AND attr.atttypID&gt; 0</b> . </p><br><br>  <strong>Tabel 6. Hasil menjalankan fungsi admtf_Table_Attributes ('publik', 'Street').</strong> <br><br><table width="95" border="1"><tbody><tr><th width="5">  Tidak. </th><th width="10">  Judul </th><th width="20">  Jenis khusus </th><th width="20">  Jenis dasar </th><th width="5">  ?  bukan NULL </th><th width="25">  Komentar </th></tr><tr><td width="5">  1 </td><td width="10">  kode sandi </td><td width="20">  kode sandi </td><td width="20">  smallint </td><td width="5">  t </td><td width="25">  Kode negara </td></tr><tr><td width="5">  2 </td><td width="10">  localityid </td><td width="20">  localityid </td><td width="20">  bilangan bulat </td><td width="5">  t </td><td width="25">  ID komunitas </td></tr><tr><td width="5">  3 </td><td width="10">  streetid </td><td width="20">  streetid </td><td width="20">  smallint </td><td width="5">  t </td><td width="25">  ID jalan desa </td></tr><tr><td width="5">  4 </td><td width="10">  streettypeacrm </td><td width="20">  streettypeacrm </td><td width="20">  karakter (8) </td><td width="5">  f </td><td width="25">  Akronim Jalan </td></tr><tr><td width="5">  5 </td><td width="10">  nama jalan </td><td width="20"></td><td width="20">  varchar (150) </td><td width="5">  t </td><td width="25">  Nama jalan pemukiman </td></tr></tbody></table><br><h4>  Versi fungsi menggunakan regclass alias untuk tipe oid </h4><br><p>  Pengidentifikasi objek PostgreSQL (OID) memiliki tipe yang sama dengan OID, yang saat ini diimplementasikan sebagai integer empat-byte yang tidak ditandatangani.  Tetapi karena adanya alias dari tipe ini, integer dapat direpresentasikan sebagai nama objek.  Dan sebaliknya - mengonversi nama objek menjadi bilangan bulat dari tipe OID. </p><br><p>  Sebagai contoh, lihat <b>pernyataan SELECT</b> berikut.  Itu biasa mengambil nama-nama tabel atribut dan nama-nama jenisnya - alih-alih mengakses bidang direktori yang sesuai dengan nama-nama karakteristik ini, mereka digunakan: <br></p><ul><li>  <b>attrelid :: regclass (attrelid :: regclass: NAME)</b> , </li><li>  <b>atttypid :: regtype (atttypid :: regtype: NAME)</b> </li><li>  <b>typbasetype :: regtype (typbasetype :: regtype: NAME)</b> . </li></ul><br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> attr.attname,attr.attrelid::regclass, attr.atttypid::regtype, typ.typbasetype::regtype,attr.attrelid::regclass::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, attr.atttypid::regtype::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,typ.typbasetype::regtype::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_attribute <span class="hljs-keyword"><span class="hljs-keyword">attr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_type typ <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> attr.atttypid=typ.oid <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> attr.attrelid=(<span class="hljs-string"><span class="hljs-string">'public'</span></span>||<span class="hljs-string"><span class="hljs-string">'.'</span></span>||<span class="hljs-string"><span class="hljs-string">'Street'</span></span>)::regclass <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.attnum&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.atttypID&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> attr.attnum;</code> </pre><br><p>  Berikut ini adalah hasil dari mengeksekusi query ini. </p><br><img src="https://habrastorage.org/webt/zr/4_/ga/zr4_gal9s-8jnhihyjia7cq0xvs.png"><br><p>  Dalam daftar nilai output dari operator SELECT sebelum konversi menggunakan alias dari tipe OID, semua nilai kecuali nama atribut adalah angka, tetapi sebagai hasilnya, nama tabel dan tipe atribut ditampilkan.  Jenis nilai output dapat dipertimbangkan di baris kedua dari header tabel. </p><br><p>  Selain itu, dalam klausa WHERE pernyataan, kondisi <b>attr.attrelid = ('public' || '.' || 'Street') :: regclass terletak</b> , di sisi kiri yang merupakan nilai numerik, dan di sebelah kanan adalah string yang dikonversi ke nilai numerik dengan menggunakan alias <b>regclass</b> . </p><br><img src="https://habrastorage.org/webt/7v/tl/nh/7vtlnhnhqmr7idtdcebcsffzjik.png"><br><div class="spoiler">  <b class="spoiler_title">kode sumber operator pada gambar</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> attr.attnum, attr.attname::<span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(typ.typbasetype,<span class="hljs-number"><span class="hljs-number">0</span></span>)&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> typ.typname::<span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>, FORMAT_TYPE(<span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NULLIF</span></span>(typ.typbasetype,<span class="hljs-number"><span class="hljs-number">0</span></span>),typ.oid), <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NULLIF</span></span>(typ.typtypmod,<span class="hljs-number"><span class="hljs-number">-1</span></span>),attr.atttypmod))::<span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>), attr.attnotnull, dsc.description <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_attribute <span class="hljs-keyword"><span class="hljs-keyword">attr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_type typ <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> attr.atttypid=typ.oid <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OUTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_description dsc <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> dsc.objoid=attr.attrelid <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> dsc.objsubid=attr.attnum <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> attr.attrelid=( a_SchemaName ||<span class="hljs-string"><span class="hljs-string">'.'</span></span>|| a_TableName)::regclass <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.attnum&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.atttypID&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> attr.attnum;</code> </pre><br></div></div><br>  Menggunakan alias regclass dari pernyataan utama, Anda dapat menghapus koneksi ke dua direktori.  Tetapi peningkatan seperti itu hampir tidak berpengaruh pada kinerja fungsi - di kedua versi, fungsi dieksekusi dalam 11 ms.  Mungkin karena fakta bahwa tabel tes memiliki beberapa atribut. <br>  <b>Komentar 4</b> <br><p>  Kelemahan serius dalam kondisi dalam bentuk <b>attr.attrelid = (a_SchemaName || '.' || a_TableName) :: regclass</b> dimanifestasikan ketika ada skema dan / atau tabel dengan nama yang tidak biasa dalam database.  Misalnya, <b>"Skema saya"</b> dan / atau <b>"Tabel saya"</b> .  Nilai-nilai tersebut harus ditransmisikan dalam tanda kutip ganda atau menggunakan fungsi QUOTE_IDENT, jika tidak fungsi tersebut akan gagal dengan kesalahan sistem. </p><br><img src="https://habrastorage.org/webt/jt/ak/nv/jtaknvaqwphry4yla4bnlemrdeq.png"><br><div class="spoiler">  <b class="spoiler_title">kode sumber operator pada gambar</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">/*       «   »*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> attr.attname,attr.attrelid::regclass, attr.atttypid::regtype,typ.typbasetype::regtype, attr.attrelid::regclass::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, attr.atttypid::regtype::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,typ.typbasetype::regtype::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_attribute <span class="hljs-keyword"><span class="hljs-keyword">attr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_type typ <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> attr.atttypid=typ.oid <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> attr.attrelid=(<span class="hljs-string"><span class="hljs-string">' '</span></span>||<span class="hljs-string"><span class="hljs-string">'.'</span></span>||<span class="hljs-string"><span class="hljs-string">' '</span></span>)::regclass <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.attnum&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.atttypID&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> attr.attnum; <span class="hljs-comment"><span class="hljs-comment">/*       */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> attr.attname,attr.attrelid::regclass, attr.atttypid::regtype,typ.typbasetype::regtype, attr.attrelid::regclass::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, attr.atttypid::regtype::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>,typ.typbasetype::regtype::<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_attribute <span class="hljs-keyword"><span class="hljs-keyword">attr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_type typ <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> attr.atttypid=typ.oid <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> attr.attrelid=(<span class="hljs-string"><span class="hljs-string">'" "'</span></span>||<span class="hljs-string"><span class="hljs-string">'.'</span></span>||<span class="hljs-string"><span class="hljs-string">'" "'</span></span>)::regclass <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.attnum&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> attr.atttypID&gt;<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> attr.attnum;</code> </pre><br></div></div><br>  Oleh karena itu, saya lebih suka menggunakan kondisi dalam bentuk <b>RENDAH (nspc.nspname) = RENDAH (a_SchemaName) DAN RENDAH (tbl.relname) = RENDAH (a_TableName)</b> , yang tidak menyebabkan kesalahan sistem. <br><br>  <b>Komentar akhir</b> <br><a name="Script1"></a><br><h2>  LAMPIRAN 1. Skrip </h2><a name="tfTableF"></a><br><h3>  Membuat Fungsi admtf_Table_Features </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Komentar pada kode sumber fungsi dapat ditemukan di sini.</a> <br><div class="spoiler">  <b class="spoiler_title">kode sumber fungsi</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Table_Features (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/********************************************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*     ,   */</span></span> <span class="hljs-comment"><span class="hljs-comment">/********************************************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_Features (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (rs_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,rs_TableDescription <span class="hljs-built_in"><span class="hljs-built_in">TEXT</span></span>,rs_NumberOfAttribute <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>,rs_NumberOfChecks <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>,rs_hasPKey <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_hasIndex <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_hasSubClass <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>,rs_NumberOfRow <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> c_TableKind <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CHAR</span></span>:=<span class="hljs-string"><span class="hljs-string">'r'</span></span>; v_TableOID OID; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_TableName NAME; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_TableDescription TEXT; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> v_TableNumberOfRowCalc INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-comment"><span class="hljs-comment">--****************************************************************************************************** BEGIN SELECT INTO rs_TableName,rs_TableDescription,rs_NumberOfAttribute, rs_NumberOfChecks,rs_hasPKey,rs_hasIndex,rs_hasSubClass, rs_NumberOfRow tbl.relname,dsc.description,tbl.relnatts::INTEGER,tbl.relchecks::INTEGER, tbl.relhaspkey,tbl.relhasindex,tbl.relhassubclass,tbl.reltuples::INTEGER FROM pg_class tbl INNER JOIN pg_namespace nspc ON tbl.relnamespace = nspc.oid LEFT OUTER JOIN pg_Description dsc ON tbl.oid=dsc.objoid AND dsc.objsubid=0 WHERE nspc.nspname=LOWER(a_SchemaName) AND tbl.relkind=c_TableKind AND tbl.relname =LOWER(a_TableName); EXECUTE 'SELECT count(*) FROM ' ||LOWER(a_SchemaName) ||'.'||quote_ident(LOWER(a_TableName)) INTO v_TableNumberOfRowCalc; RETURN QUERY SELECT rs_TableName,rs_TableDescription,rs_NumberOfAttribute, rs_NumberOfChecks,rs_hasPKey,rs_hasIndex, rs_hasSubClass,v_TableNumberOfRowCalc AS rs_NumberOfRow; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Features(a_SchemaName NAME,a_TableName NAME) IS '   ,  '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Table_Features (a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)); /********************************************************************************************************/ /*     ,   */ /********************************************************************************************************/ CREATE OR REPLACE FUNCTION admtf_Table_Features (a_SchemaName VARCHAR(256) default 'public', /*     */ a_TableName VARCHAR(256) default NULL /*   */ ) RETURNS TABLE (rs_TableName VARCHAR(256),rs_TableDescription TEXT,rs_NumberOfAttribute INTEGER,rs_NumberOfChecks INTEGER,rs_hasPKey BOOLEAN,rs_hasIndex BOOLEAN,rs_hasSubClass BOOLEAN,rs_NumberOfRow INTEGER) AS $BODY$ DECLARE c_TableKind CONSTANT CHAR:='r'; v_TableOID OID; /*   */ v_TableName VARCHAR(256); /*   */ v_TableDescription TEXT; /*   */ v_TableNumberOfRowCalc INTEGER; /*     */ --****************************************************************************************************** BEGIN RETURN QUERY SELECT tf.rs_TableName::VARCHAR(256), tf.rs_TableDescription::TEXT, tf.rs_NumberOfAttribute::INTEGER, tf.rs_NumberOfChecks::INTEGER, tf.rs_hasPKey::BOOLEAN, tf.rs_hasIndex::BOOLEAN, tf.rs_hasSubClass::BOOLEAN, tf.rs_NumberOfRow::INTEGER FROM admtf_Table_Features(a_SchemaName::NAME,a_TableName::NAME) tf; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Features(a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)) IS '   ,  '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECt * FROM admtf_Table_Features('public'::VARCHAR(256),'Street'::VARCHAR(256)); SELECt * FROM admtf_Table_Features('public':: NAME,'Street'::NAME);</span></span></code> </pre><br></div></div><br><a name="tfTableA"></a><br><h3>  Membuat Fungsi admtf_Table_Attributes </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Komentar pada kode sumber fungsi dapat ditemukan di sini.</a> <br><div class="spoiler">  <b class="spoiler_title">kode sumber fungsi</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Table_Attributes (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/********************************************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-comment"><span class="hljs-comment">/********************************************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_Attributes (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (r_AttributeNumber <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>,r_AttributeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_UserTypeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_TypeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_isNotNULL <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>, r_Description <span class="hljs-built_in"><span class="hljs-built_in">Text</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> c_TableKind <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CHAR</span></span>:=<span class="hljs-string"><span class="hljs-string">'r'</span></span>; v_Scale INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-comment"><span class="hljs-comment">--****************************************************************************************************** BEGIN RETURN QUERY SELECT attr.attnum AS r_AttributeNumber, attr.attname::NAME AS r_AttributeName, CASE WHEN COALESCE(typ.typbasetype,0)&gt;0 THEN typ.typname::NAME ELSE ''::NAME END AS r_UserTypeName, FORMAT_TYPE(COALESCE(NULLIF(typ.typbasetype,0),typ.oid), COALESCE(NULLIF(typ.typtypmod,-1),attr.atttypmod))::NAME AS r_TypeName, attr.attnotnull AS r_isNotNULL, dsc.description AS r_Description FROM pg_attribute attr INNER JOIN pg_class tbl ON tbl.oid = attr.attrelid INNER JOIN pg_namespace nsp ON tbl.relnamespace=nsp.oid LEFT OUTER JOIN pg_type typ ON attr.atttypid=typ.oid LEFT OUTER JOIN pg_type btyp ON typ.typbasetype=btyp.oid LEFT OUTER JOIN pg_description dsc ON dsc.objoid=attr.attrelid AND dsc.objsubid=attr.attnum WHERE LOWER(nsp.nspname)=LOWER(a_SchemaName) AND LOWER(tbl.relname)=LOWER(a_TableName) AND tbl.relkind=c_TableKind AND attr.attnum&gt;0 AND attr.atttypID&gt;0 ORDER BY tbl.relname,attr.attnum; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Attributes(a_SchemaName NAME,a_TableName NAME) IS '   '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Table_Attributes (a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)); /********************************************************************************************************/ /*      */ /********************************************************************************************************/ CREATE OR REPLACE FUNCTION admtf_Table_Attributes (a_SchemaName VARCHAR(256) default 'public', /*     */ a_TableName VARCHAR(256) default NULL /*   */ ) RETURNS TABLE (r_AttributeNumber SMALLINT,r_AttributeName VARCHAR(256),r_UserTypeName VARCHAR(256),r_TypeName VARCHAR(256),r_isNotNULL BOOLEAN, r_Description Text) AS $BODY$ DECLARE c_TableKind CONSTANT CHAR:='r'; v_Scale INTEGER; /*   */ --****************************************************************************************************** BEGIN RETURN QUERY SELECT ta.r_AttributeNumber::SMALLINT, ta.r_AttributeName::VARCHAR(256), ta.r_UserTypeName::VARCHAR(256), ta.r_TypeName::VARCHAR(256), ta.r_isNotNULL::BOOLEAN, ta.r_Description::TEXT FROM admtf_Table_Attributes(a_SchemaName::NAME,a_TableName::NAME) ta; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Attributes(a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)) IS '   '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Table_Attributes('public'::VARCHAR(256),'Street'::VARCHAR(256)); SELECT * FROM admtf_Table_Attributes('public'::NAME,'Street'::NAME);</span></span></code> </pre><br></div></div><br><h3>  Membuat Fungsi admtf_Table_Attributes Menggunakan Regclass Alias </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Komentar pada kode sumber fungsi dapat ditemukan di sini.</a> <br><div class="spoiler">  <b class="spoiler_title">kode sumber fungsi</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> admtf_Table_Attributes (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); <span class="hljs-comment"><span class="hljs-comment">/********************************************************************************************************/</span></span> <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-comment"><span class="hljs-comment">/********************************************************************************************************/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> admtf_Table_Attributes (a_SchemaName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-string"><span class="hljs-string">'public'</span></span>, <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> a_TableName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> (r_AttributeNumber <span class="hljs-built_in"><span class="hljs-built_in">SMALLINT</span></span>,r_AttributeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_UserTypeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_TypeName <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>,r_isNotNULL <span class="hljs-built_in"><span class="hljs-built_in">BOOLEAN</span></span>, r_Description <span class="hljs-built_in"><span class="hljs-built_in">Text</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $<span class="hljs-keyword"><span class="hljs-keyword">BODY</span></span>$ <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> c_TableKind <span class="hljs-keyword"><span class="hljs-keyword">CONSTANT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CHAR</span></span>:=<span class="hljs-string"><span class="hljs-string">'r'</span></span>; v_Scale INTEGER; <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-comment"><span class="hljs-comment">--****************************************************************************************************** BEGIN RETURN QUERY SELECT attr.attnum AS r_AttributeNumber, attr.attname::NAME AS r_AttributeName, CASE WHEN COALESCE(typ.typbasetype,0)&gt;0 THEN typ.typname::NAME ELSE ''::NAME END AS r_UserTypeName, FORMAT_TYPE(COALESCE(NULLIF(typ.typbasetype,0),typ.oid), COALESCE(NULLIF(typ.typtypmod,-1),attr.atttypmod))::NAME AS r_TypeName, attr.attnotnull AS r_isNotNULL, dsc.description AS r_Description FROM pg_attribute attr INNER JOIN pg_type typ ON attr.atttypid=typ.oid LEFT OUTER JOIN pg_type btyp ON typ.typbasetype=btyp.oid LEFT OUTER JOIN pg_description dsc ON dsc.objoid=attr.attrelid AND dsc.objsubid=attr.attnum WHERE attr.attrelid=(LOWER(a_SchemaName)||'.'|| LOWER(a_TableName))::regclass AND attr.attnum&gt;0 AND attr.atttypID&gt;0 ORDER BY attr.attnum; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Attributes(a_SchemaName NAME,a_TableName NAME) IS '   '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; BEGIN TRANSACTION; DROP FUNCTION IF EXISTS admtf_Table_Attributes (a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)); /********************************************************************************************************/ /*      */ /********************************************************************************************************/ CREATE OR REPLACE FUNCTION admtf_Table_Attributes (a_SchemaName VARCHAR(256) default 'public', /*     */ a_TableName VARCHAR(256) default NULL /*   */ ) RETURNS TABLE (r_AttributeNumber SMALLINT,r_AttributeName VARCHAR(256),r_UserTypeName VARCHAR(256),r_TypeName VARCHAR(256),r_isNotNULL BOOLEAN, r_Description Text) AS $BODY$ DECLARE c_TableKind CONSTANT CHAR:='r'; v_Scale INTEGER; /*   */ --****************************************************************************************************** BEGIN RETURN QUERY SELECT ta.r_AttributeNumber::SMALLINT, ta.r_AttributeName::VARCHAR(256), ta.r_UserTypeName::VARCHAR(256), ta.r_TypeName::VARCHAR(256), ta.r_isNotNULL::BOOLEAN, ta.r_Description::TEXT FROM admtf_Table_Attributes(a_SchemaName::NAME,a_TableName::NAME) ta; RETURN; END $BODY$ LANGUAGE plpgsql; COMMENT ON FUNCTION admtf_Table_Attributes(a_SchemaName VARCHAR(256),a_TableName VARCHAR(256)) IS '   '; --ROLLBACK TRANSACTION; COMMIT TRANSACTION; SELECT * FROM admtf_Table_Attributes('public'::VARCHAR(256),'Street'::VARCHAR(256)); SELECT * FROM admtf_Table_Attributes('public'::NAME,'Street'::NAME);</span></span></code> </pre><br></div></div><br><a name="Apendix2"></a><br><h2>  LAMPIRAN 2. Bahan tambahan </h2><br><h3>  Skema basis data bantu </h3><br><a name="scheme_for_tests"></a><br><img src="https://habrastorage.org/webt/qi/rb/9q/qirb9qyb5nzkn3hef8v7pvgyvvs.png"><br><br><ul><li>  <b>NEGARA</b> - Klasifikasi negara di dunia - OKSM (Semua-Rusia klasifikasi negara di dunia); </li><li>  <b>HOUSEADDR</b> - Daftar nomor rumah di jalan-jalan pemukiman; </li><li>  <b>LCLTYTYPE</b> - Direktori jenis permukiman; </li><li>  <b>LOKALITAS</b> - Daftar pemukiman; </li><li> <b>STREET</b> —     ; </li><li> <b>STREETTYPE</b> —   ; </li><li> <b>TERRITORY</b> —   (, , ,   ..); </li><li> <b>TERRITORYTYPE</b> —   . </li></ul><br><br><a name="Street_char"></a><br><h3>    Street () </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">        .</a> <br> <strong> 1.    Street ().</strong> <br><img src="https://habrastorage.org/webt/vw/ze/rp/vwzerpaegckljldqsmbrq22zf_m.png"><br><div class="spoiler"> <b class="spoiler_title">    </b> <div class="spoiler_text"><table width="95" border="1"><tbody><tr><th width="5">  Kategori </th><th width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tidak. </font></font></th><th width="15">  Judul </th><th width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Komentar </font></font></th><th width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jenis </font></font></th><th width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jenis dasar </font></font></th><th width="5">  ?<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bukan NULL </font></font></th></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tbl </font></font></td><td width="5">  0 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jalan </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Daftar jalan di pemukiman </font></font></td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> att </font></font></td><td width="5">  1 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode sandi </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kode negara </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode sandi </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> smallint </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> att </font></font></td><td width="5">  2 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localityid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ID komunitas </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localityid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bilangan bulat </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> att </font></font></td><td width="5">  3 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streetid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ID jalan desa </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streetid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> smallint </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> att </font></font></td><td width="5">  4 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streettypeacrm </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Akronim Jalan </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streettypeacrm </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> karakter (8) </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> att </font></font></td><td width="5">  5 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nama jalan </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nama jalan </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streettypeacrm </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> varchar (150) </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pk </font></font></td><td width="5">  0 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xpkstreet </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kunci utama meja jalan </font></font></td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pkatt </font></font></td><td width="5">  1 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode sandi </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kode negara </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode sandi </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> smallint </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pkatt </font></font></td><td width="5">  2 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localityid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ID komunitas </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localityid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bilangan bulat </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pkatt </font></font></td><td width="5">  3 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streetid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ID jalan desa </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> streetid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> smallint </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fk01 </font></font></td><td width="5">  1 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fk_street_locality </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Meja kunci asing </font></font></td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fk01att </font></font></td><td width="5">  1 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode sandi </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kode negara </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode sandi </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> smallint </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fk01att </font></font></td><td width="5">  2 </td><td width="15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localityid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ID komunitas </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> localityid </font></font></td><td width="20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bilangan bulat </font></font></td><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t </font></font></td></tr><tr><td width="5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fk01rtbl </font></font></td><td width="5">  0 </td><td width="15"> locality </td><td width="20">    </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> fk01ratt </td><td width="5">  1 </td><td width="15"> wcrccode </td><td width="20">   </td><td width="20"> wcrccode </td><td width="20"> smallint </td><td width="5"> t </td></tr><tr><td width="5"> fk01ratt </td><td width="5">  2 </td><td width="15"> localityid </td><td width="20">    </td><td width="20"> localityid </td><td width="20"> integer </td><td width="5"> t </td></tr><tr><td width="5"> fk02 </td><td width="5">  2 </td><td width="15"> fk_street_streettype </td><td width="20">    </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> fk02att </td><td width="5">  1 </td><td width="15"> streettypeacrm </td><td width="20">    </td><td width="20"> streettypeacrm </td><td width="20"> character(8) </td><td width="5"> f </td></tr><tr><td width="5"> fk02rtbl </td><td width="5">  0 </td><td width="15"> streettype </td><td width="20">    </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> fk02ratt </td><td width="5">  1 </td><td width="15"> streettypeacrm </td><td width="20">    </td><td width="20"> streettypeacrm </td><td width="20"> character(8) </td><td width="5"> t </td></tr><tr><td width="5"> idx01 </td><td width="5">  1 </td><td width="15"> xie1street </td><td width="20">         </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> idx01att </td><td width="5">  1 </td><td width="15"> wcrccode </td><td width="20">   </td><td width="20"> wcrccode </td><td width="20"> smallint </td><td width="5"> t </td></tr><tr><td width="5"> idx01att </td><td width="5">  2 </td><td width="15"> localityid </td><td width="20">    </td><td width="20"> localityid </td><td width="20"> integer </td><td width="5"> t </td></tr><tr><td width="5"> idx01att </td><td width="5">  3 </td><td width="15"> streettypeacrm </td><td width="20">    </td><td width="20"> streettypeacrm </td><td width="20"> character(8) </td><td width="5"> f </td></tr><tr><td width="5"> idx01att </td><td width="5">  4 </td><td width="15"> streetname </td><td width="20">     </td><td width="20"></td><td width="20"> varchar(150) </td><td width="5"> t </td></tr><tr><td width="5"> idx02 </td><td width="5">  2 </td><td width="15"> xie2street </td><td width="20">       </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> idx02att </td><td width="5">  1 </td><td width="15"> wcrccode </td><td width="20">   </td><td width="20"> wcrccode </td><td width="20"> smallin </td><td width="5"> t </td></tr><tr><td width="5"> idx02att </td><td width="5">  2 </td><td width="15"> localityid </td><td width="20">    </td><td width="20"> localityid </td><td width="20"> integer </td><td width="5"> t </td></tr><tr><td width="5"> idx02att </td><td width="5">  3 </td><td width="15"> streetname </td><td width="20">     </td><td width="20"></td><td width="20"> varchar(150) </td><td width="5"> t </td></tr><tr><td width="5"> idx03 </td><td width="5">  3 </td><td width="15"> xie3street </td><td width="20">        </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> idx03att </td><td width="5">  1 </td><td width="15"> streetname </td><td width="20">     </td><td width="20"></td><td width="20"> varchar(150) </td><td width="5"> t </td></tr><tr><td width="5"> idx04 </td><td width="5">  4 </td><td width="15"> xpkstreet </td><td width="20">   ( )  street </td><td width="20"></td><td width="20"></td><td width="5"></td></tr><tr><td width="5"> idx04att </td><td width="15">  1 </td><td width="15"> wcrccode </td><td width="20">   </td><td width="20"> wcrccode </td><td width="20"> smallint </td><td width="5"> t </td></tr><tr><td width="5"> idx04att </td><td width="5">  2 </td><td width="15"> localityid </td><td width="20">    </td><td width="20"> localityid </td><td width="20"> integer </td><td width="5"> t </td></tr><tr><td width="5"> idx04att </td><td width="5">  3 </td><td width="15"> streetid </td><td width="20">     </td><td width="20"> streetid </td><td width="20"> smallint </td><td width="5"> t </td></tr></tbody></table><br></div></div><br><h3>   </h3><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi untuk mendokumentasikan database PostgreSQL.</a></b> <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a> ;</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi untuk mendokumentasikan database PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian tiga</a> .</b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Fungsi untuk mendokumentasikan database PostgreSQL.</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Akhir (bagian empat)</a> .</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id415575/">https://habr.com/ru/post/id415575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id415565/index.html">Mengapa (hari ini) kembali 444 tidak selalu berguna</a></li>
<li><a href="../id415567/index.html">Siarkan video h264 tanpa transkoding dari kamera Logitech C920</a></li>
<li><a href="../id415569/index.html">HOWTO setup ubuntu 18.04 sendmail + DKIM + SPF + DMARC atau bagaimana saya berhasil masuk ke dalam benteng Gmail</a></li>
<li><a href="../id415571/index.html">kaggle: Identifikasi Model Kamera IEEE</a></li>
<li><a href="../id415573/index.html">Optimalisasi model untuk pencetakan 3D menggunakan perangkat lunak Blender sebagai contoh</a></li>
<li><a href="../id415577/index.html">Slide kursus "Teknologi dan Pengembangan DBMS"</a></li>
<li><a href="../id415579/index.html">Pelajari OpenGL. Pelajaran 5.5 - Pemetaan Normal</a></li>
<li><a href="../id415581/index.html">International fintech - digest: 12 berita tentang hal terpenting dalam industri</a></li>
<li><a href="../id415587/index.html">StereoPi - perangkat keras kami untuk mempelajari visi komputer, drone, dan robot</a></li>
<li><a href="../id415589/index.html">"Sedikit lagi tentang PD": Perusahaan TV AS akan berhenti menjual geodata pelanggan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>