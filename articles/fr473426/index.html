<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â†”ï¸ ğŸ¤ ğŸ¼ Automatisation des tests End-2-End d'un systÃ¨me d'information intÃ©grÃ©. Partie 1. Organisationnelle ğŸ‘¸ğŸ¼ ğŸï¸ ğŸ‘¦ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Avec cet article, nous ouvrons une sÃ©rie de publications sur la faÃ§on dont nous avons automatisÃ© le processus de test manuel d'un grand systÃ¨me d'info...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisation des tests End-2-End d'un systÃ¨me d'information intÃ©grÃ©. Partie 1. Organisationnelle</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/473426/">  Avec cet article, nous ouvrons une sÃ©rie de publications sur la faÃ§on dont nous avons automatisÃ© le processus de test manuel d'un grand systÃ¨me d'information dans l'un des principaux projets de LANIT et sur les rÃ©sultats. <br><br>  <i>La premiÃ¨re partie - organisationnelle et managÃ©riale - devrait Ãªtre utile principalement Ã  ceux qui sont chargÃ©s de tester l'automatisation et de crÃ©er de tels systÃ¨mes dans leur ensemble.</i>  <i>Les chefs de projet, chefs de groupe et propriÃ©taires de services de tests fonctionnels et automatiques, <b>tous soucieux de la question Â«comment construire un test de bout en bout rentable de leur systÃ¨me informatiqueÂ», trouveront ici un plan et une mÃ©thodologie spÃ©cifiques.</b></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f3/664/45f/8f366445ff952429d3a43ff7911ef34d.jpg"></div>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a></i> <br><a name="habracut"></a><br><h1>  Partie 1 - Organisationnelle et managÃ©riale.  Pourquoi avons-nous eu besoin d'automatisation.  Organisation du processus de dÃ©veloppement et de gestion.  Organisation d'utilisation </h1><br>  Au dÃ©part, il y avait au dÃ©part un systÃ¨me d'information vaste et complexe (nous l'appellerons le Â«SystÃ¨meÂ») avec de nombreux scÃ©narios d'affaires complexes, longs et interconnectÃ©s.  Tous les scripts ont Ã©tÃ© testÃ©s en tant qu'E2E via des interfaces Web exclusivement en mode manuel (il y avait plus d'un millier et demi de ces scÃ©narios de la prioritÃ© la plus critique uniquement).  De plus, tous ces scÃ©narios devaient Ãªtre exÃ©cutÃ©s au moins une fois lors de la rÃ©gression de chaque nouvelle version ou correctif avant la prochaine mise Ã  jour du dÃ©ploiement du produit. <br><br>  Ã€ un certain moment, quand il est devenu complÃ¨tement insupportable de cliquer sur la souris en mode manuel, ils ont dÃ©cidÃ© d'automatiser tout cela.  C'est ce qu'ils ont fait Ã  travers le dÃ©veloppement d'un service sÃ©parÃ© basÃ© sur java + sÃ©lÃ©nium + sÃ©lÃ©niure + sÃ©lÃ©noÃ¯de, qui est Ã©galement appelÃ© <b>"cadre de test"</b> ou simplement <b>"Autotests"</b> . <br><br>  Historiquement, le code du framework de test a Ã©tÃ© dÃ©veloppÃ© par deux Ã©quipes.  Tout d'abord, la premiÃ¨re Ã©quipe a crÃ©Ã© un prototype avec quelques dizaines de scÃ©narios.  Ensuite, la deuxiÃ¨me Ã©quipe pendant un an a mis Ã  l'Ã©chelle le prototype Ã  la fois en largeur (nombre de tests) et en profondeur (des modÃ¨les de codage et de mise en Å“uvre typiques ont Ã©tÃ© introduits). <br><br>  Je suis l'Ã©quipe et le chef d'Ã©quipe de la deuxiÃ¨me Ã©quipe, qui a adoptÃ© le cadre prototype pour la mise Ã  l'Ã©chelle (en mai 2018). <br><br>  Au moment d'Ã©crire ces lignes, la tÃ¢che dÃ©finie il y a un an Ã©tait terminÃ©e et l'Ã©quipe de projet a bÃ©nÃ©ficiÃ© d'un <u><b>service d'</b></u> automatisation stable.  Ce n'est pas en vain que j'ai insistÃ© sur le <u><b>service</b></u> , car initialement la tÃ¢che n'Ã©tait pas dÃ©finie comme le dÃ©veloppement d'une application, mais comme la fourniture d'un service-service pour tester l'automatisation Ã  un groupe de Â«tests fonctionnelsÂ».  Et cette fonctionnalitÃ© a par la suite grandement influencÃ© l'organisation du dÃ©veloppement et l'architecture du cadre de test. <br><br><blockquote><h2>  RÃ©sumÃ© </h2><br>  Environ 1 500 scÃ©narios de test ont Ã©tÃ© automatisÃ©s: dans chaque test, de 200 Ã  2 000 opÃ©rations utilisateur. <br><br>  La capacitÃ© totale du service est jusqu'Ã  60 navigateurs fonctionnant simultanÃ©ment, et ce n'est pas la limite (le nombre peut Ãªtre multipliÃ© par 5 en raison de machines virtuelles). <br>  La durÃ©e totale d'une rÃ©gression complÃ¨te ne dÃ©passe pas 3 heures et le test PreQA est infÃ©rieur Ã  une heure. <br><br>  Une large gamme de fonctionnalitÃ©s a Ã©tÃ© implÃ©mentÃ©e: <br><br><ul><li>  utilisation locale (exÃ©cution en temps rÃ©el) et Ã  distance (via des plans Bamboo); </li><li>  limiter la composition des tests en cours par filtre; </li><li>  un rapport dÃ©taillÃ© avec les rÃ©sultats de chaque Ã©tape du scÃ©nario de test (via le framework Allure); </li><li>  tÃ©lÃ©charger et tÃ©lÃ©charger des fichiers depuis / vers le navigateur, puis vÃ©rifier les rÃ©sultats de leur traitement en termes de format et de contenu des fichiers; </li><li>  comptabilitÃ© et contrÃ´le de la nature asynchrone de l'interface angulaire.  Y compris le contrÃ´le des requÃªtes bloquÃ©es (requÃªte en attente) entre les services Angular et REST; </li><li>  contrÃ´le des journaux du navigateur; </li><li>  enregistrement de test vidÃ©o; </li><li>  suppression de l'instantanÃ© de la page au moment de la "chute" du test; </li><li>  transmission d'Ã©vÃ©nements en ELK; </li><li>  beaucoup plus sur les petites choses ... </li></ul><br></blockquote><br><h1>  Pourquoi tout cela Ã©tait-il nÃ©cessaire? </h1><br>  Au dÃ©but, le but du systÃ¨me Ã©tait assez simple et clair. <br><br>  Imaginez que vous disposez d'un grand systÃ¨me de registre pour gÃ©rer une vaste gamme de documents et leur cycle de vie, qui fournissent quelques centaines de processus mÃ©tier.  De plus, il y a des millions de personnes, des fournisseurs - des dizaines de milliers, des services - des milliers, des documents complexes, y compris le cadre et le modÃ¨le, et les processus mÃ©tier sont fournis de centaines de faÃ§ons diffÃ©rentes ... <br><br>  Tout cela se transforme en mille cinq cents scÃ©narios de test, et ce n'est que la prioritÃ© la plus Ã©levÃ©e et seulement positive. <br><br>  Dans le processus d'automatisation, diverses nuances ont Ã©tÃ© rÃ©vÃ©lÃ©es qui nÃ©cessitaient l'utilisation de diverses solutions. <br><br>  Par exemple, un script peut contenir jusqu'Ã  des centaines d'opÃ©rations distinctes, y compris des opÃ©rations intÃ©ressantes telles que: Â«TÃ©lÃ©chargez un fichier EXCEL avec des donnÃ©es et vÃ©rifiez que le systÃ¨me traite chaque enregistrement du fichierÂ» (pour rÃ©soudre ce problÃ¨me, il a fallu plusieurs Ã©tapes pour prÃ©parer les donnÃ©es, puis vÃ©rifier le rÃ©sultat du chargement dans SystÃ¨me).  Et maintenant, nous ajoutons la restriction de la rÃ©utilisation des donnÃ©es de test: les donnÃ©es de test pour la rÃ©ussite de la plupart des scÃ©narios de test doivent Ãªtre Â«fraÃ®chesÂ» et non utilisÃ©es auparavant dans des scÃ©narios similaires (pendant les tests, l'Ã©tat des donnÃ©es dans le systÃ¨me change, par consÃ©quent, elles ne peuvent pas Ãªtre rÃ©utilisÃ©es pour les mÃªmes contrÃ´les). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/242/0a7/ccc/2420a7ccc161bb7ee6537a73cd6bd33a.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a> <br><br>  Ã€ un moment donnÃ©, les tests manuels du systÃ¨me dans le cadre de la rÃ©gression ont cessÃ© de sembler rentables et assez rapides, et ils ont dÃ©cidÃ© de l'automatiser via l'interface utilisateur Web. <br><br>  En d'autres termes, le groupe de tests fonctionnels ouvre la Â«pageÂ», sÃ©lectionne le Â«groupe de testsÂ», appuie sur le bouton Â«exÃ©cuterÂ» (nous avons utilisÃ© Bamboo).  Ensuite, les autotests (ci-aprÃ¨s dÃ©nommÃ©s autotests. DÃ©signez le produit crÃ©Ã© pour les tests en gÃ©nÃ©ral) Ã©mulent automatiquement les actions des utilisateurs du systÃ¨me via le navigateur (Â«appuyezÂ» sur les boutons nÃ©cessaires, entrez des valeurs dans les champs, etc.), une fois terminÃ©, affichez un rapport dÃ©taillÃ© sur tous Ã©tapes et actions terminÃ©es et rÃ©sultats de la vÃ©rification (correspondance de la rÃ©action attendue du systÃ¨me avec son comportement rÃ©el). <br><br>  Total, le but des autotests est l'automatisation des tests E2E manuels.  Il s'agit d'un systÃ¨me Â«externeÂ» qui ne participe pas au processus de dÃ©veloppement du systÃ¨me sous test et n'est en aucun cas liÃ© aux tests unitaires ou d'intÃ©gration utilisÃ©s par les dÃ©veloppeurs. <br><br><h2>  Buts </h2><br>  Il Ã©tait nÃ©cessaire de rÃ©duire considÃ©rablement les coÃ»ts de main-d'Å“uvre pour effectuer des tests End-2-End et d'augmenter la vitesse des rÃ©gressions complÃ¨tes et rÃ©duites en termes de volume. <br><br><div class="spoiler">  <b class="spoiler_title">Objectifs supplÃ©mentaires</b> <div class="spoiler_text"><ul><li>  assurer une vitesse de dÃ©veloppement Ã©levÃ©e des autotests avec un haut niveau d'autonomie (la nÃ©cessitÃ© de remplir prÃ©alablement les donnÃ©es de test des stands du systÃ¨me / de configurer les autotests pour chaque stand devrait Ãªtre minimisÃ©e); </li><li>  optimiser les dÃ©penses (de temps et financiÃ¨res) pour les communications entre les Ã©quipes d'automatisation, de tests fonctionnels et de dÃ©veloppement de systÃ¨mes; </li><li>  minimiser le risque de divergences entre les autotests effectivement mis en Å“uvre et les attentes initiales de l'Ã©quipe de tests fonctionnels (l'Ã©quipe de tests fonctionnels doit faire confiance sans condition aux rÃ©sultats des autotests). </li></ul></div></div><br><h2>  Les tÃ¢ches </h2><br>  La tÃ¢che principale du dÃ©veloppement a Ã©tÃ© formulÃ©e trÃ¨s simplement - automatiser au cours des 6 prochains mois 1000 scÃ©narios de test de la plus haute prioritÃ©. <br><br>  Le nombre prÃ©vu d'actions de test de base variait de 100 Ã  300, ce qui nous a donnÃ© environ 200 mille mÃ©thodes de test avec 10 Ã  20 lignes de code, sans tenir compte des classes gÃ©nÃ©rales et auxiliaires d'aides, des fournisseurs de donnÃ©es et des modÃ¨les de donnÃ©es. <br><br>  Ainsi, il s'est avÃ©rÃ© que, compte tenu des contraintes de temps (130 jours ouvrables), il Ã©tait nÃ©cessaire de faire au moins 10 tests par jour et en mÃªme temps de s'assurer de la pertinence des autotests mis en Å“uvre en tenant compte des changements intervenus dans le SystÃ¨me (le SystÃ¨me se dÃ©veloppe activement). <br><br>  Selon des estimations d'experts, le travail requis pour dÃ©velopper un autotest Ã©tait de 4 Ã  8 heures.  Nous avons donc au moins une Ã©quipe de 5 personnes (en rÃ©alitÃ©, au plus fort du dÃ©veloppement des autotests, l'Ã©quipe comptait plus de 10 ingÃ©nieurs en automatisation). <br><br>  Les tÃ¢ches Ã  rÃ©soudre Ã©taient Ã©galement comprÃ©hensibles. <br><br><ul><li>  <b>Configurer les processus et la commande:</b> </li><li>  dÃ©finir le processus d'interaction avec le client (groupe de test fonctionnel), fixer le format de description du cas de test comme entrÃ©e pour l'Ã©quipe d'automatisation; </li><li>  organiser le processus de dÃ©veloppement et de maintenance; </li><li>  former une Ã©quipe. <br></li><li>  <b>DÃ©veloppez des autotests avec les fonctionnalitÃ©s suivantes:</b> </li><li>  cliquer automatiquement sur les boutons du navigateur avec une vÃ©rification prÃ©alable de la prÃ©sence d'Ã©lÃ©ments et des informations nÃ©cessaires sur la page; </li><li>  fournir du travail avec des Ã©lÃ©ments complexes tels que Yandex.Map; </li><li>  assurer le chargement des fichiers gÃ©nÃ©rÃ©s automatiquement dans le systÃ¨me, assurer le tÃ©lÃ©chargement des fichiers du systÃ¨me avec vÃ©rification de leur format et de leur contenu. </li><li>  Fournissez un enregistrement Ã  partir des captures d'Ã©cran du navigateur, des vidÃ©os et des journaux internes. </li><li>  Pour offrir la possibilitÃ© de s'intÃ©grer Ã  des systÃ¨mes externes comme un serveur de messagerie, le systÃ¨me de suivi des tÃ¢ches (JIRA) permet de vÃ©rifier les processus d'intÃ©gration entre le systÃ¨me testÃ© et les systÃ¨mes externes. </li><li>  Fournissez un rapport documentÃ© sur toutes les mesures prises, y compris un affichage des valeurs saisies et vÃ©rifiÃ©es, ainsi que tous les investissements nÃ©cessaires. </li><li>  Effectuez des tests dans le volume requis en mode parallÃ¨le. </li><li>  DÃ©ployez des autotests dans l'infrastructure existante. </li><li>  Affinez les scripts de test dÃ©jÃ  automatisÃ©s du concept de cible consonantique (vitesse de raffinement - environ 50 tests par sprint hebdomadaire). </li></ul><br>  Comme je l'ai mentionnÃ© dans l'introduction, au dÃ©but, nous avions un prototype MVP fonctionnel mis en Å“uvre par une autre Ã©quipe, qui devait Ãªtre augmentÃ© de 20 tests Ã  1000, ajoutant de nouvelles fonctionnalitÃ©s en cours de route, et garantissant une Ã©volutivitÃ© et une flexibilitÃ© acceptables pour apporter des modifications. <br><br>  La prÃ©sence d'un prototype fonctionnel en plus Ã  l'entrÃ©e nous a donnÃ© une pile technologique, qui comprenait: Java SE8, JUnit4, Selenium + Selenide + Selenoid, Bamboo en tant que Â«coureurÂ» de tests et Â«constructeurÂ» de rapports Allure.  Comme le prototype fonctionnait bien et offrait les fonctionnalitÃ©s de base nÃ©cessaires, nous avons dÃ©cidÃ© de ne pas modifier la pile technologique, mais de nous concentrer sur le dÃ©veloppement de l'Ã©volutivitÃ© de la solution, l'augmentation de la stabilitÃ© et le dÃ©veloppement des fonctionnalitÃ©s requises manquantes. <br><br>  Fondamentalement, tout semblait rÃ©alisable et optimiste.  De plus, nous avons complÃ¨tement fait face aux tÃ¢ches Ã  un moment donnÃ©. <br><br>  Ce qui suit dÃ©crit les aspects technologiques et de processus individuels du dÃ©veloppement des tests automatiques. <br><br><h1>  Description des autotests.  Histoires d'utilisateurs et fonctionnalitÃ©s </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/345/e52/429/345e524291244a67e411a344257eafa8.png"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a> <br><br>  Les autotests implÃ©mentent l'ensemble d'histoires utilisateur suivant dans le contexte de leur utilisation par le groupe de test: <br><br><ul><li>  automatisation manuelle des tests; </li><li>  rÃ©gression complÃ¨te automatique; </li><li>  contrÃ´le qualitÃ© des assemblages de la chaÃ®ne CI \ CD. </li></ul><br>  Les dÃ©tails de mise en Å“uvre et les dÃ©cisions architecturales seront discutÃ©s dans la <b>Partie 2 - Technique.</b>  <b>Architecture et pile technique.</b>  <b>DÃ©tails de mise en Å“uvre et surprises techniques</b> . <br><br><h2>  Tests automatiques et manuels (User stories) </h2><br>  En tant que testeur, je souhaite effectuer le test E2E cible, qui sera rÃ©alisÃ© sans ma participation directe (en mode automatique) et me fournira un rapport dÃ©taillÃ© dans le cadre des Ã©tapes franchies, y compris les donnÃ©es saisies et les rÃ©sultats obtenus, ainsi que: <br><br><ul><li>  Il devrait Ãªtre possible de sÃ©lectionner diffÃ©rents peuplements cibles avant de commencer le test; </li><li>  devrait Ãªtre capable de gÃ©rer la composition des tests en cours de tous les implÃ©mentÃ©s; </li><li>  Ã  la fin du test, vous devez obtenir une vidÃ©o du test Ã  partir de l'Ã©cran du navigateur; </li><li>  lorsque le test se bloque, vous devez obtenir une capture d'Ã©cran de la fenÃªtre du navigateur actif. </li></ul><br><h2>  RÃ©gression complÃ¨te automatique </h2><br>  En tant que groupe de test, je souhaite effectuer tous les tests tous les soirs sur un banc de test particulier en mode automatique, y compris toutes les fonctionnalitÃ©s du "Test manuel automatique". <br><br><h2>  ContrÃ´le qualitÃ© des assemblages dans la chaÃ®ne CI \ CD </h2><br>  En tant que groupe de test, je souhaite effectuer des tests automatiques des mises Ã  jour dÃ©ployÃ©es du systÃ¨me sur un stand prÃ©-QA dÃ©diÃ© avant de mettre Ã  jour les stands de l'Ã©tape de test fonctionnel cible, qui ont ensuite Ã©tÃ© utilisÃ©s pour les tests fonctionnels. <br><br><h1>  FonctionnalitÃ©s de base implÃ©mentÃ©es </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/347/92c/432/34792c43244275202d123378b2b6b72e.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a> <br><br>  Voici un bref ensemble des principales fonctions implÃ©mentÃ©es des tests automatiques, qui se sont avÃ©rÃ©es essentielles ou simplement utiles.  Les dÃ©tails de la mise en Å“uvre de certaines fonctions intÃ©ressantes seront dans la deuxiÃ¨me partie de l'article. <br><br><h2>  Utilisation locale et Ã  distance </h2><br>  La fonction offrait deux options pour exÃ©cuter les autotests - local et distant. <br><br>  En mode local, le testeur a exÃ©cutÃ© l'autotest requis sur son lieu de travail et a pu observer en mÃªme temps ce qui se passait dans le navigateur.  Le lancement s'est fait Ã  travers le "triangle vert" dans IntelliJ IIDEA -).  La fonction Ã©tait trÃ¨s utile au dÃ©but du projet pour le dÃ©bogage et les dÃ©monstrations, mais maintenant elle n'est utilisÃ©e que par les dÃ©veloppeurs d'autotests. <br><br>  En mode distant, le testeur dÃ©marre l'autotest en utilisant l'interface du plan Bamboo avec les paramÃ¨tres de la composition des tests en cours, un stand et quelques autres paramÃ¨tres. <br><br>  <i>La fonction a Ã©tÃ© implÃ©mentÃ©e Ã  l'aide de la variable d'environnement MODE = REMOTE | LOCAL, selon le navigateur Web local ou distant qui a Ã©tÃ© initialisÃ© dans le cloud <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Selenoid</a> .</i> <br><br><h2>  Limiter la composition des tests en cours par filtre </h2><br>  La fonction permet de limiter la composition des tests en cours en mode d'utilisation Ã  distance pour la commoditÃ© des utilisateurs et de rÃ©duire le temps de test.  Une filtration en deux Ã©tapes est utilisÃ©e.  La premiÃ¨re Ã©tape bloque l'exÃ©cution des tests basÃ©s sur la variable FILTER_BLOCK et sert principalement Ã  exclure de grands groupes de tests de l'exÃ©cution.  La deuxiÃ¨me Ã©tape Â«ignoreÂ» uniquement les tests qui correspondent Ã  la variable FILTER. <br><br>  La valeur des filtres est spÃ©cifiÃ©e comme un ensemble d'expressions rÃ©guliÃ¨res REGEXP1, ..., REGEXPN, appliquÃ©es par le principe de "OU". <br><br>  Lors du dÃ©marrage en mode manuel, il a Ã©tÃ© demandÃ© au testeur de dÃ©finir une variable d'environnement spÃ©ciale en tant que liste d'expressions rÃ©guliÃ¨res applicables Ã  l'annotation spÃ©ciale @ Filter (valeur de chaÃ®ne), qui annotait toutes les mÃ©thodes de test dans les classes de test.  Pour chaque test, cette annotation est unique et est construite sur la base d'un ensemble de balises sÃ©parÃ©es par un trait de soulignement.  Nous utilisons le modÃ¨le minimum suivant SUBSYSTEM_FUNCTION_TEST-ID_ {DEFAULT}, oÃ¹ la balise DEFAULT est pour les tests inclus dans la rÃ©gression nocturne automatique. <br><br>  <i>La fonction est implÃ©mentÃ©e via une extension personnalisÃ©e de la classe org.junit.runners.BlockJUnit4ClassRunner (les dÃ©tails seront donnÃ©s dans la partie 2-1 de la suite de cet article)</i> <br><br><h2>  Documenter le rapport avec les rÃ©sultats pour toutes les Ã©tapes </h2><br>  Les rÃ©sultats du test sont affichÃ©s pour toutes les actions de test (Ã©tapes) avec toutes les informations requises <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">disponibles</a> dans Allure Framework.  Les Ã©numÃ©rer n'a pas de sens.  Il y a suffisamment d'informations sur le site officiel et sur Internet dans son ensemble.  Il n'y a eu aucune surprise en utilisant le framework Allure, et en gÃ©nÃ©ral je le recommande pour son utilisation. <br><br>  Les principales fonctions utilisÃ©es sont: <br><br><ul><li>  affichage de chaque Ã©tape de test (le nom de l'Ã©tape correspond Ã  son nom dans la spÃ©cification de test - script de test); </li><li>  afficher les paramÃ¨tres d'Ã©tape sous une forme lisible par l'homme (grÃ¢ce Ã  la mise en Å“uvre requise de la mÃ©thode toString de toutes les valeurs transmises); </li><li>  Joindre des captures d'Ã©cran, des vidÃ©os et divers fichiers supplÃ©mentaires au rapport; </li><li>  classification des tests par types et sous-systÃ¨mes, ainsi que la liaison de l'autotest avec la spÃ©cification de test dans le systÃ¨me de gestion de lien de test Test Link grÃ¢ce Ã  l'utilisation d'annotations spÃ©cialisÃ©es. </li></ul><br><h2>  TÃ©lÃ©chargez et tÃ©lÃ©chargez des fichiers depuis / vers le navigateur avec leur vÃ©rification et analyse ultÃ©rieures </h2><br>  Travailler avec des fichiers est un aspect extrÃªmement important des scripts de test.  Il Ã©tait nÃ©cessaire de fournir Ã  la fois le tÃ©lÃ©chargement de divers fichiers et le tÃ©lÃ©chargement. <br><br>  <b>Le tÃ©lÃ©chargement de fichiers</b> impliquait tout d'abord le chargement de fichiers EXCEL gÃ©nÃ©rÃ©s dynamiquement dans le systÃ¨me conformÃ©ment au contexte d'exÃ©cution du script de test.  Le tÃ©lÃ©chargement a Ã©tÃ© implÃ©mentÃ© Ã  l'aide de mÃ©thodes standard fournies par les outils de sÃ©lÃ©nium. <br><br>  <b>Le tÃ©lÃ©chargement de fichiers</b> impliquait le tÃ©lÃ©chargement de fichiers en appuyant sur le Â«boutonÂ» du navigateur vers un rÃ©pertoire local avec le Â«transfertÂ» ultÃ©rieur de ce fichier vers le serveur sur lequel les AutoTests ont Ã©tÃ© exÃ©cutÃ©s (le serveur sur lequel l'agent Bamboo distant a Ã©tÃ© installÃ©).  De plus, ce fichier a Ã©tÃ© analysÃ© et analysÃ© en termes de format et de contenu.  Les principaux types de fichiers Ã©taient les fichiers EXCEL et PDF. <br><br>  L'implÃ©mentation de cette fonction s'est avÃ©rÃ©e Ãªtre une tÃ¢che non triviale, principalement en raison du manque de capacitÃ©s de gestion de fichiers standard: pour le moment, la fonction n'est implÃ©mentÃ©e que pour le navigateur Chrome via la page de service Â«chrome: // Downloads /Â». <br><br>  Je vais vous parler en dÃ©tail des dÃ©tails d'implÃ©mentation dans la deuxiÃ¨me partie. <br><br><h2>  ComptabilitÃ© et contrÃ´le de la nature asynchrone de l'interface angulaire.  ContrÃ´le des demandes en attente entre les services Angular et REST </h2><br>  Ã‰tant donnÃ© que l'objet de nos tests Ã©tait basÃ© sur Angular, nous avons dÃ» apprendre Ã  "lutter" avec la nature asynchrone du frontend et des timeouts. <br><br>  En gÃ©nÃ©ral, en plus de org.openqa.selenium.support.ui.FluentWait, nous utilisons une mÃ©thode d'attente spÃ©cialement conÃ§ue qui vÃ©rifie via Javascript les interactions Â«incomplÃ¨tesÂ» avec les services REST frontaux, et sur la base de ce dÃ©lai d'attente dynamique, les tests obtiennent des informations sur le suivi puis attendez encore un peu. <br><br>  Du point de vue de la fonctionnalitÃ©, nous avons pu rÃ©duire considÃ©rablement le temps nÃ©cessaire pour terminer les tests en raison du rejet des attentes statiques oÃ¹ il n'y a aucun moyen de dÃ©terminer diffÃ©remment la fin de l'opÃ©ration.  De plus, cela nous a permis de dÃ©finir des services REST Â«suspendusÂ» avec des problÃ¨mes de performances.  Par exemple, ils ont interceptÃ© un service REST pour lequel le nombre d'enregistrements affichÃ©s sur la page a Ã©tÃ© dÃ©fini sur 10 000 Ã©lÃ©ments. <br><br>  Des informations sur le service REST Â«gelÃ©Â» avec tous les paramÃ¨tres de son appel, pour lesquels le test Â«tombeÂ» pour des raisons d'infrastructure, sont ajoutÃ©es aux rÃ©sultats du test interrompu et sont Ã©galement diffusÃ©es en tant qu'Ã©vÃ©nement dans ELK.  Cela vous permet de transfÃ©rer immÃ©diatement les problÃ¨mes identifiÃ©s aux Ã©quipes de dÃ©veloppement appropriÃ©es du systÃ¨me. <br><br><h2>  ContrÃ´le du journal du navigateur </h2><br>  La fonction de contrÃ´le du journal du navigateur a Ã©tÃ© ajoutÃ©e pour contrÃ´ler les erreurs sur les pages de niveau SÃ‰VÃˆRE afin de recevoir des informations supplÃ©mentaires pour les tests abandonnÃ©s, par exemple, pour surveiller les erreurs comme "... Ã‰chec du chargement de la ressource: le serveur a rÃ©pondu avec un Ã©tat de 500 (erreur interne du serveur)". <br><br>  La composition des erreurs de traitement de page dans le navigateur est appliquÃ©e Ã  chaque rÃ©sultat de test et est Ã©galement dÃ©chargÃ©e en tant qu'Ã©vÃ©nements dans l'ELK. <br><br><h2>  Enregistrement vidÃ©o du test et suppression de l'instantanÃ© de la page au point de "chute" du test </h2><br>  Les fonctions sont implÃ©mentÃ©es pour faciliter le diagnostic et l'analyse des tests abandonnÃ©s. <br><br>  L'enregistrement vidÃ©o est activÃ© sÃ©parÃ©ment pour le mode d'exÃ©cution de test Ã  distance sÃ©lectionnÃ©.  La vidÃ©o est jointe en tant que piÃ¨ce jointe aux rÃ©sultats dans le rapport Allure. <br>  Une capture d'Ã©cran est prise automatiquement lorsque le test se bloque et les rÃ©sultats sont Ã©galement appliquÃ©s au rapport Allure. <br><br><h2>  Passer des Ã©vÃ©nements Ã  ELK </h2><br>  La fonction d'envoi d'Ã©vÃ©nements Ã  ELK est implÃ©mentÃ©e pour permettre une analyse statistique du comportement gÃ©nÃ©ral des AutoTests et de la stabilitÃ© de l'objet de test.  Ã€ l'heure actuelle, des Ã©vÃ©nements ont Ã©tÃ© envoyÃ©s pour terminer les tests avec les rÃ©sultats et la durÃ©e, ainsi que des erreurs de navigateur de niveau SÃ‰VÃˆRE et des services REST fixes de Â«gelÂ». <br><br><h1>  Organisation de dÃ©veloppement </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ee/a24/368/2eea243683bc7a87f0453db38b6c7947.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a> <br><br><h2>  Ã‰quipe de dÃ©veloppement </h2><br>  Nous avions donc besoin d'au moins 5 dÃ©veloppeurs.  Ajoutez une autre personne pour compenser les absences non planifiÃ©es.  Nous en avons 6. Plus un chef d'Ã©quipe, qui est responsable de la fonctionnalitÃ© transversale et de la rÃ©vision du code. <br><br>  Ainsi, nous avons dÃ» prendre 6 dÃ©veloppeurs Java (en rÃ©alitÃ©, au plus fort du dÃ©veloppement des autotests, l'Ã©quipe a dÃ©passÃ© 10 ingÃ©nieurs en automatisation). <br><br>  Compte tenu de l'Ã©tat gÃ©nÃ©ral du marchÃ© et d'une pile technologique assez simple, l'Ã©quipe Ã©tait principalement composÃ©e de stagiaires, la plupart d'entre eux soit juste diplÃ´mÃ©s des universitÃ©s, soit en derniÃ¨re annÃ©e.  En fait, nous recherchions des personnes ayant une connaissance de base de Java.  La prÃ©fÃ©rence a Ã©tÃ© donnÃ©e aux spÃ©cialistes des tests manuels qui souhaiteraient devenir programmeurs et aux candidats motivÃ©s ayant une expÃ©rience (insignifiante) en dÃ©veloppement qui, Ã  l'avenir, souhaitaient devenir programmeurs. <br><br>             ,           (    <b> 2 â€“ .    .     </b> ). <br><br>    ,           ,             .        CodeRush .    . <br><br><h2>   </h2><br>       . ,    , Â«Â»        . <br><br>           () .    code review   merge request ( GitLab).   code review   Â«Â»    (  )       . <br><br>     â€“           .           /   ,         . <br><br> ode review   , ,      ()   -   ,    . ode review  . <br><br>     code review         ,        . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08f/c89/1c7/08fc891c7ccd91d6e6c2235c06149a69.jpg" align="left" width="300">  :     ,      ,      ,     ,         .        ,     ,    ,    / . <br><br>      Â« Â»,      -   -.         -. <br><br>                   ,               .    sprint retrospective event. <br><br><h2>     </h2><br>         - ( )    ,      stakeholder  . <br><br>        â€“    .   ,            ,          .   ,      -    .       . <br><br>        - ( ,      . .),          .     () ,       Â« Â» / Â« Â» ( ,      ,            ). <br><br>  -             -   ( :    -  â€“ ,   - ,   â€” ,    ).  ,       -       /  :    Â« -      (  )Â». <br><br>      -  ,     - (-)      - (Â«Â» ).     Â«Â» -          -  Â«     XÂ» ( ,       -). <br><br><h2>   </h2><br>     ,    .      master,    -. -   -         code review. <br><br>     ,        â€“     ,        . <br><br> : <br><br> <b>(+)</b>        ; <br> <b>(+)</b>              ; <br> <b>(+)</b>  Â«Â»      ; <br> <b>(-)</b>      (); <br> <b>(-)</b>       hotfix . <br><br>       . <br><br> <b></b> <br><br><ul><li>      MASTER. </li><li>  . </li><li>      FEATURE . </li><li>           ,   Â«   Â»  rebase. </li><li> <b>     Gitlab   merge request    .  merge request- :</b> </li><li>  â€”       Â«JiraÂ»; </li><li>  â€”       Bamboo. </li></ul><br> <b>GateKeeper ( )</b> <br><br><ul><li>         Bamboo. </li><li>          . </li><li>  (merge) FEATURE  DEVELOP,            . </li><li>    . </li></ul><br><hr><br> <i><b>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">kotalesssk</a> . <br><br>    1,      , .         2.</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La deuxiÃ¨me partie - la partie technique - est principalement axÃ©e sur les chefs de file des groupes d'automatisation, les tests d'interface utilisateur de bout en bout et l'automatisation des tests. </font><font style="vertical-align: inherit;">Ils y trouveront des recettes spÃ©cifiques pour l'organisation architecturale du code et du dÃ©ploiement, qui soutiennent le dÃ©veloppement en masse parallÃ¨le de grands groupes de tests face Ã  la variabilitÃ© constante des spÃ©cifications de test. </font><font style="vertical-align: inherit;">De plus, vous pouvez trouver dans la deuxiÃ¨me partie la liste complÃ¨te des fonctions nÃ©cessaires aux tests d'interface utilisateur avec quelques dÃ©tails d'implÃ©mentation. </font><font style="vertical-align: inherit;">Et une liste de surprises que vous pourriez Ã©galement rencontrer.</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr473426/">https://habr.com/ru/post/fr473426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr473412/index.html">CrÃ©ation d'un plugin pour Clang Static Analyzer pour rechercher les dÃ©bordements d'entiers</a></li>
<li><a href="../fr473416/index.html">Programme de la confÃ©rence ZeroNights 2019</a></li>
<li><a href="../fr473418/index.html">OSCP - SÃ©curitÃ© offensive</a></li>
<li><a href="../fr473420/index.html">Nous ouvrons la saison des PHP-Meetups Ã  Nizhny Novgorod le 2 novembre</a></li>
<li><a href="../fr473424/index.html">ARM annonce les solutions graphiques Mali-G57 Valhall et Mali-D37, les neuroprocesseurs Ethos-N57 et N37</a></li>
<li><a href="../fr473428/index.html">RCS remplace SMS. Le progrÃ¨s tant attendu, ou un pas en avant de deux en arriÃ¨re?</a></li>
<li><a href="../fr473430/index.html">FAQ sur le travail de l'assistant chauffeur</a></li>
<li><a href="../fr473432/index.html">Trois meilleurs rapports de Saint TeamLead Conf</a></li>
<li><a href="../fr473434/index.html">Une approche systÃ©matique dans les tons turquoises Ã  bord du June</a></li>
<li><a href="../fr473436/index.html">Transformation Le management comme compÃ©tence</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>