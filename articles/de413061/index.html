<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéè üíÉüèª üßùüèº Wie fange ich an, Lisp-Code zu schreiben? üîÇ üë® üíÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oft muss man sehen, wie Anf√§nger Common Lisp ausprobieren und sich dann beschweren, dass es unm√∂glich ist, normal damit zu arbeiten. Dies liegt in der...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie fange ich an, Lisp-Code zu schreiben?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413061/"><p>  Oft muss man sehen, wie Anf√§nger Common Lisp ausprobieren und sich dann beschweren, dass es unm√∂glich ist, normal damit zu arbeiten.  Dies liegt in der Regel daran, dass sie nicht verstehen, wie ein Prozess eingerichtet werden kann, der dieselbe ‚Äûschnelle Antwort‚Äú aus der Entwicklungsumgebung liefert, wenn Sie die Funktion ge√§ndert, kompiliert und die √Ñnderungen sofort innerhalb des bereits ausgef√ºhrten Programms ohne verwendet wurden Neustart. </p><br><p> Sie k√∂nnen verstehen, wie es aussieht, indem Sie sich ein Video auf Youtube ansehen, das die interaktive Entwicklung auf Common Lisp demonstriert. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xzTH_ZqaFKI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><p>  Heute m√∂chte ich zeigen, wie man eine Entwicklungsumgebung f√ºr eine solche Entwicklung einrichtet.  Im Jahr 2018 wurde es dank der st√§ndig verbesserten Abstimmung sehr einfach. </p><br><p>  Ich entschuldige mich im Voraus f√ºr die folgenden Videos, die in Asciinema aufgenommen wurden, und Habrahabr unterst√ºtzt dies nicht.  Klicken Sie auf die Screenshots der Konsole, um Videos anzusehen. </p><br><p>  Installieren Sie zun√§chst <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SBCL</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Roswell</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Emacs</a> .  Ich werde √ºber das Beispiel der Installation von allem in OSX sprechen, und ich w√ºrde mich freuen, wenn Sie in den Kommentaren Ihre Erfahrungen unter Windows und Linux teilen.  Dann kann ich den Artikel mit Beispielen f√ºr alle drei Plattformen erg√§nzen. </p><br><p>  SBCL ist eine der vielen Implementierungen von Common Lisp.  Von den Open Source am schnellsten.  Falls gew√ºnscht, k√∂nnen Sie in SBCL Code mit einer Geschwindigkeit ausf√ºhren, die mit C ++ - Code vergleichbar ist, aber gleichzeitig alle Vorteile der schnellen interaktiven Entwicklung bietet. </p><br><p>  Roswell ist ein Dienstprogramm zum Installieren und Ausf√ºhren von Common Lisp-Programmen.  Sie wei√ü auch, wie man vorkonfigurierte Emacs ausf√ºhrt und Programme in Bin√§rdateien sammelt. </p><br><p>  Sie kennen wahrscheinlich Emacs - ein solches Betriebssystem, das auch einen Code-Editor hat.  Sie k√∂nnen in Common Lisp und in jedem anderen Editor schreiben, aber heute bietet Emacs die beste Integration und Unterst√ºtzung f√ºr die semantische Bearbeitung von Code.  Bei ihm m√ºssen Sie keine Klammern z√§hlen, er erledigt alles f√ºr Sie. </p><br><h3 id="itak-esli-vy-ispolzuete-osx-to-nuzhno-sdelat">  Wenn Sie also OSX verwenden, m√ºssen Sie dies tun </h3><br><pre><code class="bash hljs">brew install roswell emacs</code> </pre> <br><p>  Nachdem das Aufbr√ºhen die Scheibe raschelt und alles, was Sie brauchen, eingelegt hat, laufen Sie einfach im Terminal: </p><br><pre> <code class="bash hljs">ros run</code> </pre> <br><p>  Dieser Befehl gibt Ihnen automatisch die neueste Version von SBCL und startet Lisp repl, wo Sie den Code eingeben k√∂nnen: </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/hm/t7/qs/hmt7qs9r7k60pg9e29ysqa5h6rm.png"></a> </p><br><p>  Dies ist jedoch nicht der Fall, es ist nicht so konzipiert.  Konfigurieren wir Emacs f√ºr die vollst√§ndige Entwicklung: </p><br><pre> <code class="bash hljs">ros emacs</code> </pre> <br><p>  Das Team startet Emacs in der Konsole und konfiguriert Quicklisp, den Paketmanager f√ºr Common Lisp. <br>  Bevor wir fortfahren, konfigurieren wir Terminal, Emacs und OSX so, dass sie gut zusammenarbeiten. </p><br><h3 id="snachala-nado-v-osx-i-iterm-pomenyat-nekotorye-nastroyki">  Zun√§chst m√ºssen Sie einige Einstellungen in OSX und iTerm √§ndern </h3><br><p>  Stellen Sie sicher, dass CapsLock wie Control funktioniert.  Nirgendwo ohne Emacs: </p><br><p><img src="https://habrastorage.org/webt/oi/ep/zh/oiepzhbmmqjcspsciiwocbvmhiu.png"></p><br><p>  Deaktivieren Sie dann alle Kombinationen, die mit der Verwendung von Steuerung und Pfeilen in den Aufnahmen von MissionControl verbunden sind: </p><br><p><img src="https://habrastorage.org/webt/dm/m_/im/dmm_imeldeg6ajv1vevbkeexrss.png"></p><br><p>  Setzen Sie dann iTerm2 und wechseln Sie das Alt-Verhalten in den Profileinstellungen von Normal zu Esc +: </p><br><p><img src="https://habrastorage.org/webt/i7/0h/r7/i70hr7zpgapyz_6_rcn1ix68lek.png"></p><br><p>  Erstellen Sie anschlie√üend eine Datei mit einer minimalen Konfiguration f√ºr Emacs, <code>~/.emacs.d/init.el</code> : </p><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">package-initialize</span></span>) (<span class="hljs-name"><span class="hljs-name">require</span></span> 'package) (<span class="hljs-name"><span class="hljs-name">add-to-list</span></span> 'package-archives '(<span class="hljs-string"><span class="hljs-string">"MELPA"</span></span> . <span class="hljs-string"><span class="hljs-string">"http://melpa.milkbox.net/packages/"</span></span>) <span class="hljs-literal"><span class="hljs-literal">t</span></span>) (<span class="hljs-name"><span class="hljs-name">defun</span></span> install-package (<span class="hljs-name"><span class="hljs-name">package</span></span>) (<span class="hljs-name"><span class="hljs-name">unless</span></span> (<span class="hljs-name"><span class="hljs-name">package-installed-p</span></span> package) (<span class="hljs-name"><span class="hljs-name">package-refresh-contents</span></span>) (<span class="hljs-name"><span class="hljs-name">package-install</span></span> package))) (<span class="hljs-name"><span class="hljs-name">install-package</span></span> 'paredit) (<span class="hljs-name"><span class="hljs-name">install-package</span></span> 'expand-region) (<span class="hljs-name"><span class="hljs-name">defun</span></span> setup-lisp-mode () (<span class="hljs-name"><span class="hljs-name">require</span></span> 'paredit) (<span class="hljs-name"><span class="hljs-name">paredit-mode</span></span>) (<span class="hljs-name"><span class="hljs-name">define-key</span></span> paredit-mode-map (<span class="hljs-name"><span class="hljs-name">kbd</span></span> <span class="hljs-string"><span class="hljs-string">"Cw"</span></span>) 'paredit-backward-kill-word)) (<span class="hljs-name"><span class="hljs-name">add-hook</span></span> 'lisp-mode-hook 'setup-lisp-mode) (<span class="hljs-name"><span class="hljs-name">add-hook</span></span> 'emacs-lisp-mode-hook 'setup-lisp-mode) <span class="hljs-comment"><span class="hljs-comment">;;  Cw           ;;  kill-region (global-set-key (kbd "Cw") 'backward-kill-word) ;;      kmacro- (global-set-key (kbd "Cx Ck") 'kill-region) ;;  indent-new-comment-line (global-set-key (kbd "Mj") (lambda () (interactive) (join-line -1))) ;;    (global-set-key (kbd "Cc rs") 'replace-string) (global-set-key (kbd "Cc rr") 'replace-regexp) ;;    emacs    ;;      =,   ;;    . (global-set-key (kbd "Cc =") 'er/expand-region) ;;      , ;;        (global-set-key (kbd "Cc c") 'comment-or-uncomment-region) (global-set-key (kbd "Cc C-\\") 'goto-last-change) (setq custom-file "~/.emacs.d/customizations.el") (when (file-exists-p custom-file) (load custom-file))</span></span></code> </pre> <br><p>  F√ºhren Sie danach erneut ros emacs aus, dr√ºcken Sie <code>Alt-X</code> und geben Sie den <code>slime</code> .  Als Ergebnis erhalten wir die Befehlszeile zur Eingabe von lisp-Befehlen: </p><br><p><img src="https://habrastorage.org/webt/oy/rw/2p/oyrw2p0znkhm6mylih7tr2f8iaw.png"></p><br><h3 id="teper-mozhno-uzhe-kodit">  Jetzt k√∂nnen Sie bereits codieren </h3><br><p>  Wir werden jedoch keine Befehle in die Wiedergabe eingeben. Es ist besser, sofort mit der Entwicklung eines Mikrodienstes zu beginnen.  Wenn Sie nur eine API ben√∂tigen, ist die Verwendung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ningle</a> der einfachste Weg.  Wenn Sie ein erweitertes Framework wie einen Dschungel ben√∂tigen, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Radiance</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Caveman2 ausprobieren</a> .  Aber jetzt werden wir nichts Kompliziertes tun, sondern ein einfaches HTTP-Cookie aufr√ºhren. </p><br><p>  √ñffnen Sie die Datei <code>server.lisp</code> ( <code>Cx Cf server.lisp</code> ) in Emacs und schreiben Sie Code.  Ungef√§hr so: </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/_h/3v/xy/_h3vxyvwm-d-ba4rjvyfc4f3x2e.png"></a> </p><br><p>  Infolgedessen wird in Ihrer Instanz ein Webserver gestartet, auf dem Sie unterwegs Routen hinzuf√ºgen und Ansichten neu definieren k√∂nnen. </p><br><p>  Hier ist der ganze Code f√ºr die Faulen: </p><br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;; Micro-framework for building API (ql:quickload :ningle) ;; Now ningle is installed and we need to install a clack which is analog of WSGI ;; stack from Python ;; I've pressed Cc Cc to eval this form (ql:quickload :clack) ;; To parse json: (ql:quickload :jonathan) (defvar *app* (make-instance 'ningle:&lt;app&gt;)) (setf (ningle:route *app* "/") ;; in case, if you need to parse or serialize JSON, ;; use Jonthan library. (jonathan:to-json '(:foo 100500))) (defvar *server* nil "This variable will store currently running server instance.") (defun start () (if *server* (format t "Server already started") (setf *server* (clack:clackup *app*)))) (defun stop () (if *server* (clack:stop *server*) (format t "Server is not running")))</span></span></code> </pre> <br><p>  In Lisp werden Konstruktionen in Klammern als "Formulare" bezeichnet.  Formulare, die sich oben befinden und in keinem anderen verschachtelt sind, werden als oberste Ebene bezeichnet.  Solche Formulare k√∂nnen durch Klicken auf <code>Cc Cc</code> kompiliert werden, wenn sich der Cursor in einem solchen Formular befindet.  Wenn Sie CapsLock on <code>ontrol</code> erneut <code>CapsLock</code> , ist diese Kombination sehr bequem zu dr√ºcken. </p><br><p>  Nach dem Kompilieren des Formulars wird sofort eine neue Version der Funktion wirksam und ein Neustart des Servers ist nicht erforderlich.  Es ist also sehr praktisch, Fehler zu debuggen und zu beheben.  Dar√ºber hinaus k√∂nnen Sie den automatischen Testlauf unmittelbar nach dem Kompilieren eines Teils des Codes konfigurieren. Dies ist jedoch eine ganz andere Geschichte. </p><br><p>  Wenn Sie an anderen Themen interessiert sind, schreiben Sie in die Kommentare, ich werde versuchen, auch Beitr√§ge dar√ºber zu verfassen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413061/">https://habr.com/ru/post/de413061/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413045/index.html">macOS + Windows 10 auf einem externen Laufwerk</a></li>
<li><a href="../de413049/index.html">Konfigurieren Sie BGP so, dass Sperren, Version 3, ohne VPS umgangen werden</a></li>
<li><a href="../de413051/index.html">Spaltenbasiertes DBMS im Vergleich zu Kleinbuchstaben. Wie w√§re es mit einem Kompromiss?</a></li>
<li><a href="../de413055/index.html">So erstellen Sie eine globale Startup-Community rund um IT-Inhalte: Eine Techstars Startup Digest Story</a></li>
<li><a href="../de413059/index.html">So bauen Sie den Schutz vor Unternehmensbetrug auf Vortrag auf der YaC 2018</a></li>
<li><a href="../de413063/index.html">Testen eines hausgemachten Thermobechers an einem Phasen√ºbergang</a></li>
<li><a href="../de413065/index.html">Geplante neue Funktionen in C # 8.0</a></li>
<li><a href="../de413069/index.html">Audiosuche, Audio-SEO und Hilfe f√ºr Podcasts - Google-Spezialisten arbeiten bereits daran</a></li>
<li><a href="../de413071/index.html">DeepMind brachte AI bei, YouTube-Videospiele zu spielen</a></li>
<li><a href="../de413073/index.html">So arbeiten Sie mit der Cloud: 30 Materialien, praktische Anleitungen und Tipps zum Thema PD, IS und IaaS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>