<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙎 👩🏾‍🤝‍👩🏽 🤴🏼 Microsoft如何将C＃编译器重写为C＃并将其打开 ❣️ 🥪 ☣️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="由Microsoft首席C＃架构师Mads Torgersen发布 

 罗斯林计划 

 Roslyn是分配给C＃和Visual Basic.NET的开源编译器的代码名称。 该项目始于微软公司生命的最后十年中最黑暗的黑暗-结束时是一个开源项目，一个跨平台，面向C＃的公共通用引擎（以及VB，我将在本...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microsoft如何将C＃编译器重写为C＃并将其打开</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426961/"> <font color="gray">由Microsoft首席C＃架构师Mads Torgersen发布</font> <br><br>  <b>罗斯林计划</b> <br><br>  <b>Roslyn</b>是分配给C＃和Visual Basic.NET的开源编译器的代码名称。 该项目始于微软公司生命的最后十年中最黑暗的黑暗-结束时是一个开源项目，一个跨平台，面向C＃的公共通用引擎（以及VB，我将在本文的其余部分中理所当然地）。 <br><br> 当我在2005年（即.NET 2.0发布之前）加入Microsoft时，有关该项目的第一次讨论（后来称为Roslyn）已经在进行中。 有人谈论将C＃重写为C＃。 这是编程语言的正常做法-语言成熟度的证明。 但是有一个更实际和重要的动机：我们，C＃的创建者，不是我们自己用C＃编程，而是用C ++编程！ 如果您每天都使用C＃编程，那么您会改变主意：使用正在开发的工具的强大功能（折衷）。 <br><a name="habracut"></a><br><blockquote> 用户像旧版本一样依赖于新编译器的行为。 为C＃编写新的编译器是试图查找bug与bug的对应关系。 </blockquote><br> 重写编译器已经被积极使用了几年，难点在于用户就像旧编译器一样依赖于新编译器的行为。 为C＃编写新的编译器是试图查找bug与bug的对应关系。 我不仅在谈论已知的错误，而且还谈论未知的错误以及开发人员经常在不知不觉中发现和使用的不良行为形式。 <br><br> 多年来，这个问题的规模甚至使我们无法启动该项目。 <br><br> 尽管Microsoft语言小组的开发人员从用C＃编写的新C＃编译器中获得了很多好处，但最终用户的价值却不那么明显：新编译器将如何使他们受益？ 也许唯一关心C＃编译器是用C＃编写的人都是编译器开发人员自己。 <br><br> 同时，另一个问题越来越多地表现出来：在C＃代码上运行的不同工具之间的重复劳动。 除了编译器之外，另一个团队致力于在Visual Studio中对IDE进行C＃的IDE支持，并且他们还不得不编写大量代码（当时也使用C ++），以便理解C＃的语法和语义。 <br><br> 同时，来自Microsoft和其他公司的工具（例如StyleCop，CodeRush等）的数量正在增长：它们都应实现有意义的C＃代码处理。 这些程序中的每一个都有其自身略有不同的错误，不同的理解水平，各种折衷和让步。 他们所有人都将花费大量精力来对代码达成共识。 <br><br><blockquote> 我们决定了一个重要的建议：确保世界上只有一个代码库–所有使用C＃代码的工具的一个库！ </blockquote><br> 这项提议的价值来自可用工具数量的增加，尤其是现有工具质量的提高。 语言正确性和性能的所有要求都分配给单个代码库。 只需付出足够的努力，即可打造出一流的品质和出色的多功能性。 我们将为该语言创建一个真正的引擎！ 统一，开放的API，用于C＃代码。 我们将对“编译器”的概念重新定义。 <br><br> 当然，一旦为更广泛的C＃社区创建了API，就不用说它应该是用C＃实现的.NET API。 因此，用C＃编写C＃的长期梦想几乎就像是一个随机的副作用。 <br><br><blockquote> 因此，罗斯林（Roslyn）的想法是开放的：分享C＃的内部工作方式，供全世界以编程方式使用。 对于微软仍然相当封闭的企业文化而言，这本身就是一个大胆的主张。 </blockquote><br> 我们将免费分享知识产权吗？ 我们会授权与我们竞争的工具吗？ <br><br> 在公司讨论中，我们赢得了有关加强生态系统和使用地球上最好的工具创建语言的论据。 与短期货币化和Microsoft资产保护相比，这是C＃和.NET的长期增长。 因此，甚至不提开源代码，对Roslyn的赌注对微软来说是一个大胆的举措。 <br><br> 当然，开发这样的东西并不容易。 罗斯林的前景非常雄心勃勃，充满了技术问题，我们花了五十年的时间来应对一切。 但这是另一个故事。 <br><br> 对于大多数最初的开发，罗斯林仍然是一个封闭的项目。 <br><br><blockquote> 从2009年对该项目进行认真工作的一开始，我们就有想法让编译器打开，但是Microsoft尚未准备好。 </blockquote><br> 自1970年代以来，微软一直具有封闭开发和源代码专利保护的文化。 尽管变化正在进行中，但是它们比我们的团队希望的慢。 <br><br> 实际上，一段时间以来，公司似乎正朝着完全相反的方向发展。 <br><br>  Windows 8项目极大地影响了整个公司。 得益于新的编程模型，他的触角深入到了工具和语言的开发团队中，所有内容都被秘密保密，不仅是在公司内部，甚至在公司内部。 例如，我们当时正在开发的异步功能已与Windows 8编程模型进行了协调和混合，即使在公司内部，我也不敢发布有关其设计的注释，因为担心会意外泄漏有关Windows 8的信息和我头上的问题。 ！ 这为创新创造了可怕的气氛，当然，这也不允许我们依赖开源的C＃编译器。 <br><br> 但是，最终，当Windows 8独树一帜时，该公司开始转型并找到了新的方向，新的领导层和完全不同的理念-我们今天所熟知的Microsoft。 开源现在正在Microsoft内部迅速传播。 <br><br>  F＃在2010年以开放许可证和其自己的组织<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">F＃Software Foundation发行</a> 。 在他周围形成了一个杰出的社区，这很快就引起了我们所有人的嫉妒。 我们的团队顽固地坚持要获得罗斯林的免费许可证-最终，公司基础设施允许这样做。 <br><br> 到2012年，微软成立了Microsoft Open Tech组织，专门致力于开源项目。 罗斯林（Roslyn）进入她的阵营，并正式成为开源项目。 罗斯林对此非常成熟：所有开发资源都是内部的并且是众所周知的，并且项目本身没有遭受可能导致许可冲突的大量依赖关系。 <br><br>  2014年4月，在旧金山的Build Developers Conference上，Anders Halesberg将<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Roslyn作为一个开源项目进行了介绍</a> ，并且源代码本身于4月3日在Apache 2.0许可下的CodePlex（以前的Microsoft存储库平台）上发布。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f28/305/069/f283050692391316a32b261da985e72c.png"><br><br> 同时， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">.NET Foundation被</a>宣布为.NET项目（包括Roslyn）的基础。 <br><br> 此版本已成为真正的新鲜空气！ 我们开始从CodePlex中获得开放性的好处，然后消除了Microsoft开源的其余程序障碍，因此今天，开源已经成为我们许多团队工作方式的自然组成部分。 <br><br><blockquote> 我们不再将GitHub视为发布源代码的地方-这只是我们工作的地方。 </blockquote><br> 在其他方面，该公司还意识到没有必要努力控制一切。 很明显，没有足够的理由让CodePlex存在-Roslyn和其他项目一起迁移到了GitHub，这是事实上的开源项目的主要站点。 不仅代码本身，而且其创建过程都在GitHub中进行：我们不再将GitHub视为发布源代码的场所-这只是我们工作的地方。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/626/240/075/6262400755a6d4c39386803c6477d500.png"><br><br>  C＃语言设计和编译器实现现在是完全开放的过程，并且需要第三方的大量参与。 它们创建包括整个语言功能。  C＃的价值不仅发生在编写函数和修复错误方面，而且还得益于与社区的即时每日反馈循环，从而使我们对课程的理解和纠正更加容易。 <br><br> 这是一段漫长而疯狂的旅程，对我而言，它象征着微软在过去十年中发生的巨大变化。 罗斯林·纳格（Roslyn Nugget）出生于黑暗中，但在开放性思想的熏陶下长大-如今，由于开放源代码的强大功能，其用途有上百万种。 <br><br>  <b>了解Roslyn和C＃语言设计：</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">罗斯林在github上</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub上的C＃</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN426961/">https://habr.com/ru/post/zh-CN426961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN426949/index.html">再现THX Deep Note声音</a></li>
<li><a href="../zh-CN426951/index.html">Altium Designer：如果项目变得复杂，该怎么办？</a></li>
<li><a href="../zh-CN426953/index.html">Arch Linux示例和安装方法</a></li>
<li><a href="../zh-CN426957/index.html">WSGI服务器简介：第一部分</a></li>
<li><a href="../zh-CN426959/index.html">通过kubespray安装kubernetes（本地存储，安装Elasticsearch + Fluentd + Kibana，prometheus）</a></li>
<li><a href="../zh-CN426963/index.html">Flutter应用程序是否梦想基于平台的小部件？</a></li>
<li><a href="../zh-CN426965/index.html">C ++ 2a中的错误处理将发生什么</a></li>
<li><a href="../zh-CN426967/index.html">在线ABAP代码生成器</a></li>
<li><a href="../zh-CN426969/index.html">警惕的Lida：安全测试自动化</a></li>
<li><a href="../zh-CN426971/index.html">错误处理中的宿命论</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>