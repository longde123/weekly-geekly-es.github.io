<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚ÄçüöÄ üõåüèø üåÉ Text-Rendering hasst dich üèôÔ∏è üìü üêö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inhaltsverzeichnis 

- 1. Terminologie 
- 2. H√§ngen Stil, Layout und Form voneinander ab? 
- 3. Text besteht nicht aus separaten Zeichen 3.1. Text√ºber...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Text-Rendering hasst dich</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469529/"><div class="spoiler">  <b class="spoiler_title">Inhaltsverzeichnis</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1. Terminologie</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2. H√§ngen Stil, Layout und Form voneinander ab?</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3. Text besteht nicht aus separaten Zeichen</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Text√ºberlagerung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der Stil kann die Ligatur ver√§ndern</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4. Emoji brechen Farbe und Stil</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5. Gl√§tten ist die H√∂lle</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Subpixel-Offsets unterbrechen den Glyphen-Cache</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Gl√§tten von Subpixeln kann nicht zusammengesetzt werden</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6. Esoterisch</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6.1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schriftarten k√∂nnen SVG enthalten</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6.2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Charaktere k√∂nnen verdammt gro√ü sein</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6.3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Auswahl ist kein Rahmen, aber der Text geht in alle Richtungen</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6.4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie schreibe ich, was unm√∂glich zu schreiben ist?</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6.5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der Stil ist Teil der Schriftart (sofern dies nicht der Fall ist).</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6.6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Keine perfekte Textwiedergabe</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7. Zus√§tzliche Links</a> </li></ul></div></div><br>  Textwiedergabe: Wie kompliziert kann es sein?  Es stellt sich als unglaublich herausfordernd heraus!  Soweit ich wei√ü, zeigt buchst√§blich kein System den Text ‚Äûperfekt‚Äú an.  Irgendwo besser, irgendwo schlechter. <br><br>  Angenommen, Sie m√∂chten beliebigen Text mit beliebigen Schriftarten, Farben und Stilen mit Unterst√ºtzung f√ºr Zeilenumbruch und Texthervorhebung.  Tats√§chlich sind dies die Mindestanforderungen f√ºr die korrekte Anzeige von komplexem Text, einem Terminalfenster, einer Webseite usw. <br><br>  Sagen wir im Allgemeinen sofort: Es gibt keine aufeinanderfolgenden richtigen Antworten, alles ist viel wichtiger als Sie denken und alles wirkt sich auf alles andere aus. <br><br>  Wir werden Themen diskutieren, die nicht in einem einzigen Konzept zusammengefasst sind. Dies sind nur Probleme, mit denen ich mich w√§hrend mehrerer Jahre der Arbeit am Rendern von Text in Firefox auseinandersetzen musste.  Zum Beispiel werden wir die Probleme der Textsegmentierung oder der Verwaltung verschiedener Textbibliotheken f√ºr eine bestimmte Plattform nicht zu ausf√ºhrlich diskutieren, da mich dies nicht allzu interessiert. <br><a name="habracut"></a><br><a name="1"></a><h1>  1. Terminologie </h1><br>  Die Art des Textes ist komplex und Englisch vermittelt schlecht alle Nuancen.  In diesem Dokument werde ich versuchen, die folgenden Bedingungen einzuhalten.  Bitte beachten Sie, dass diese W√∂rter nicht ‚Äûkorrekt‚Äú sind. Ich finde sie nur n√ºtzlich, um englischen Muttersprachlern, die keine Erfahrung in der Linguistik haben, Schl√ºsselkonzepte zu vermitteln. <br><br>  Charaktere: <br><br><ul><li>  Skalar (Skalar): Unicode-Skalar, die "kleinste Einheit" in Unicode (es ist auch ein Codepunkt). <br></li><li>  Zeichen: Ein erweiterter Unicode-Graphemcluster (EGC), die ‚Äûgr√∂√üte Einheit‚Äú in Unicode (m√∂glicherweise bestehend aus mehreren Skalaren). <br></li><li>  Glyphe (Glyphe): Die atomare Einheit des Renderns in einer Schriftart.  Es hat normalerweise eine eindeutige Kennung in der Schriftart. <br></li><li>  Ligatur: Eine Glyphe, die aus mehreren Skalaren und m√∂glicherweise sogar mehreren Zeichen besteht (Muttersprachler k√∂nnen eine Ligatur als mehrere Zeichen darstellen, f√ºr eine Schriftart jedoch nur ein Zeichen). <br></li><li>  Emoji: "Vollfarb" -Glyphe. <img src="https://habrastorage.org/webt/bz/bc/0l/bzbc0lnl6kzkaygl4g6kdufbtpo.png" width="70"></li></ul><br>  Schriftarten <br><br><ul><li>  Schriftart: Ein Dokument, das Zeichen Glyphen zuordnet. <br></li><li>  Schreiben / Schreiben (Skript): Eine Reihe von Glyphen, aus denen eine bestimmte Sprache besteht (Schriftarten implementieren in der Regel bestimmte Skripte). <br></li><li>  Handschriftliche Schriftart (Kursivschrift): Jede Schriftart, in der Glyphen sich ber√ºhren und ineinander flie√üen (z. B. Arabisch). <br></li><li>  Farbe: RGB- und Alpha-Werte f√ºr Schriftarten (f√ºr einige Anwendungsf√§lle nicht erforderlich, dies ist jedoch interessant). <br></li><li>  Stil: Fett und kursiv f√ºr Schriftarten (in praktischen Implementierungen werden normalerweise auch Hinweise, Aliase und andere Einstellungen mitgeliefert). </li></ul><br><a name="2"></a><h1>  2. H√§ngen Stil, Layout und Form voneinander ab? </h1><br>  Hier ist eine kurze √úbersicht, um Ihnen eine Vorstellung davon zu geben, wie eine typische Text-Rendering-Pipeline funktioniert: <br><br><ol><li>  Stilisierung (Parsing-Markup, Abfragesystem f√ºr Schriftarten). <br></li><li>  Layout (Aufteilen von Text in Zeilen). <br></li><li>  Formen, Formen (Berechnung von Glyphen und ihrer Positionen). <br></li><li>  Rasterisierung der erforderlichen Glyphen zum Texturatlas / Cache). <br></li><li>  Zusammensetzung (Kopieren von Glyphen aus dem Atlas an die gew√ºnschte Position). </li></ol><br>  Leider sind diese Schritte nicht so einfach, wie es scheint. <br><br>  Die meisten Schriftarten produzieren bei Bedarf nicht alle m√∂glichen Glyphen.  Da es zu viele Glyphen gibt, implementieren Schriftarten normalerweise nur einen bestimmten Buchstaben.  Endbenutzer wissen dies normalerweise nicht oder k√ºmmern sich nicht darum. Daher sollte ein zuverl√§ssiges System zu anderen Schriftarten wechseln, wenn keine Zeichen verf√ºgbar sind. <br><br>  Obwohl das Markup des folgenden Textes nicht mehrere Schriftarten <i>impliziert</i> , ist es f√ºr ein ordnungsgem√§√ües Rendern auf jedem System erforderlich: Hallo <img src="https://habrastorage.org/webt/s6/z5/b8/s6z5b8fxd5g525xyirad9asxejk.png" width="22">  ‡§Æ‡§®‡•Ä ÿ® ÿ®ÿ≥ŸÖ Â•Ω.  Wir n√§hern uns also gef√§hrlich der Tatsache, dass Schritt 1 (Stilisierung) von Schritt 3 (Formgebung) abh√§ngt! <br><br>  (Alternativ k√∂nnen Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Noto-Ansatz verwenden</a> und eine einzelne Uber-Schriftart verwenden, die alle Zeichen enth√§lt. Obwohl Benutzer die Schriftart dann nicht konfigurieren k√∂nnen und Sie Benutzern auf allen Plattformen keine ‚Äûnative‚Äú Textschnittstelle bereitstellen k√∂nnen. Angenommen, Sie ben√∂tigen eine zuverl√§ssigere Entscheidung). <br><br>  Ebenso m√ºssen Sie f√ºr das Layout wissen, wie viel Platz jedes Textst√ºck einnimmt, dies wird jedoch erst nach dem Formen bekannt!  H√§ngt Schritt 2 von den Ergebnissen von Schritt 3 ab? <br><br>  Aber um zu formen, muss man Layout und Stil kennen, also scheinen wir festzustecken.  Was tun? <br><br>  Erstens werden bei der Stilisierung Cheats angewendet.  Obwohl wir <i>wirklich</i> vollst√§ndige Glyphen erhalten m√∂chten, reichen <i>Skalare</i> f√ºr das Styling aus.  Wenn die Schrift das Schreiben nicht richtig unterst√ºtzt, erhebt sie keinen Anspruch darauf, etwas √ºber Skalare dieser Schrift zu wissen.  So k√∂nnen Sie leicht die "beste" Schriftart wie folgt finden: <br><br>  F√ºr jedes Symbol (EGC) in unserem Text fragen wir jede Schriftart in der Liste (Kaskade) ab, ob alle Skalare, aus denen dieses Symbol besteht, bekannt sind.  Wenn ja, verwenden Sie sie.  Wenn wir ohne Ergebnis am Ende der Liste ankommen, erhalten wir Tofu ( <img src="https://habrastorage.org/webt/qv/6w/jj/qv6wjjqmos_ob7gzmy_ogneaowy.png" width="20">  fehlender Glyphenindikator). <br><br>  Sie haben wahrscheinlich schon einen solchen Indikator gesehen, als Sie sich mit Emoji getroffen haben!  Da einige Emojis tats√§chlich Ligaturen mehrerer einfacherer Emojis sind, kann eine Schriftart die Unterst√ºtzung eines Zeichens anzeigen, indem nur einzelne Komponenten ausgegeben werden.  Auf diese Weise, <img src="https://habrastorage.org/webt/vr/mr/yk/vrmrykt5b5kjdkyj8b4nabjhjac.png" width="22">  kann buchst√§blich so aussehen <img src="https://habrastorage.org/webt/6m/yv/6n/6myv6nhjem72asbiysa_wzah8t4.png" width="70">  wenn die Schriftart "zu alt" ist, um √ºber die neue Ligatur Bescheid zu wissen.  Dies kann auch passieren, wenn Sie eine "zu alte" Unicode-Implementierung haben, die nichts √ºber das neue Zeichen wei√ü, und das Stilsystem dazu zwingen, eine solche teilweise √úbereinstimmung zu akzeptieren. <br><br>  Jetzt wissen wir genau, welche Schriftarten wir verwenden werden, ohne auf Layout oder Form verweisen zu m√ºssen (obwohl die Formgebung unsere Farben √§ndern kann, mehr dazu in den n√§chsten Abschnitten).  K√∂nnen wir in √§hnlicher Weise mit der gegenseitigen Abh√§ngigkeit von Layout und Form umgehen?  Nein!  Dinge wie Absatzumbr√ºche geben Ihnen einen harten Zeilenumbruch, aber die einzige M√∂glichkeit zum Formen ist das iterative Formen! <br><br>  Es muss davon ausgegangen werden, dass der Text in einer Zeile steht, und diese Zeile bilden, bis der Platz leer ist.  An diesem Punkt k√∂nnen Sie Satzvorg√§nge ausf√ºhren und herausfinden, wo der Text unterbrochen werden soll, und die n√§chste Zeile beginnen.  Wiederholen, bis alles erledigt ist. <br><br><a name="3"></a><h1>  3. Text besteht nicht aus separaten Zeichen </h1><br>  Nur nach Englisch zu urteilen, k√∂nnte man denken, dass Ligaturen eine Art bizarrer Unsinn sind.  Ich meine, wen interessiert es <i>wirklich,</i> dass "√¶" "ae" geschrieben wird?  Es stellt sich jedoch heraus, dass einige Sprachen im Wesentlichen ausschlie√ülich aus Ligaturen bestehen.  Zum Beispiel besteht ‡§°‡•ç ÿ® ÿ®ÿ≥ŸÖ aus den einzelnen Zeichen ¬´ÿ® ÿ® ÿ≥ ŸÖ.  In jedem erweiterten Textwiedergabesystem (dh in jedem der Hauptbrowser) sehen diese beiden Zeilen <i>sehr</i> unterschiedlich aus. <br><br>  Und nein: Es geht nicht um den Unterschied zwischen Unicode-Skalaren und erweiterten Graphemclustern.  Wenn Sie ein zuverl√§ssiges Unicode-System (z. B. Swift) bitten, Cluster erweiterter Grapheme dieser Linie anzugeben, werden diese f√ºnf Zeichen ausgegeben! <br><br>  Die Form des Zeichens h√§ngt von seinen Nachbarn ab: Der <b>Text kann Zeichen f√ºr Zeichen nicht korrekt anzeigen</b> . <br><br>  Das hei√üt, Sie sollten eine Shaping-Bibliothek verwenden.  Der Industriestandard hier ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HarfBuzz</a> , und diese Aufgaben sind auf eigene Faust √§u√üerst schwer zu l√∂sen.  Verwenden Sie also HarfBuzz. <br><br><a name="3_1"></a><h3>  3.1.  Text√ºberlagerung </h3><br>  In handgeschriebenen Schriftarten √ºberlappen sich Glyphen h√§ufig, um N√§hte zu vermeiden. Dies kann zu Problemen f√ºhren. <br><br>  Schauen wir uns noch einmal ‡§Æ‡§®‡•Ä ŸÖ ŸÖŸÜÿ¥ an.  Sieht es normal aus  Jetzt erh√∂hen: <br><br><img src="https://habrastorage.org/webt/sb/u0/kv/sbu0kvn9ii-lhltb9y7pqnj67pa.png"><br><br>  Es scheint immer noch sch√∂n, aber lassen Sie uns den Text teilweise transparent machen.  Wenn Sie auf Safari oder Edge sind, sieht der Text m√∂glicherweise gut aus!  Aber auf Firefox oder Chrome ist die Aussicht schrecklich: <br><br><img src="https://habrastorage.org/webt/0m/rs/fq/0mrsfqxdecmizkckojpww0o0iju.png"><br><br>  Das Problem ist, dass Chrome und Firefox versuchen zu <i>betr√ºgen</i> .  Sie haben den Text korrekt geformt, aber sobald sie auf solche Glyphen sto√üen, versuchen sie immer noch, sie separat zu zeichnen.  Dies funktioniert normalerweise einwandfrei, es sei denn, es gibt Transparenz und √úberlappung, die ein solches Dimmen erzeugen. <br><br>  Eine ‚Äûkorrekte‚Äú Implementierung bringt den Text auf eine tempor√§re Oberfl√§che <i>ohne</i> Transparenz und dann auf die Szene <i>mit</i> Transparenz.  Firefox und Chrome tun dies nicht, da es teuer ist und normalerweise nicht f√ºr wichtige westliche Sprachen ben√∂tigt wird.  Interessanterweise verstehen sie das Problem wirklich, weil sie ein solches Skript speziell f√ºr Emoji verarbeiten (aber wir werden sp√§ter darauf zur√ºckkommen). <br><br><a name="3_1"></a><h3>  3.2.  Der Stil kann die Ligatur ver√§ndern </h3><br>  Okay, dieses Beispiel analysieren wir <i>haupts√§chlich</i> aus Neugier, wie Markups brechen k√∂nnen, obwohl ich keine vern√ºnftigen Szenarien kenne, in denen es wirklich weh tun kann.  Hier sind zwei Textteile mit demselben Inhalt, aber unterschiedlichen Farben: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/450/9ef/bcd/4509efbcddabd9a36f7a77372f99a832.png"><br><br>  So sehen sie in Safari aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf0/1f5/057/cf01f505710b9a16186cb8671a852a08.png"><br><br>  So sehen sie in Chrome aus (bei Verwendung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neuen Modellimplementierung</a> ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efa/a09/2d8/efaa092d8e5df031d1f7efbe0fdc991d.png"><br><br>  Und hier sind sie in Firefox: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/450/9ef/bcd/4509efbcddabd9a36f7a77372f99a832.png"><br><br>  Zusammenfassend: <br><br><ul><li>  Safari ist unzureichend <br></li><li>  Chrome analysiert Glyphen, l√§sst jedoch viele Farben fallen <br></li><li>  Firefox analysiert gleichzeitig Glyphen und zeigt Farben an </li></ul><br>  Ich denke, jeder sollte auf Firefox sein, oder?  Aber wenn Sie hineinzoomen, werden wir sehen, dass er etwas sehr Seltsames tut: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/516/9ce/d38/5169ced3843dcd4ab70e98c58b1929ed.png"><br><br>  Er hat diese Ligatur einfach in vier gleiche Teile mit verschiedenen Farben geteilt! <br><br>  Das Problem ist, dass es wirklich keine vern√ºnftige Antwort darauf gibt, was <i>hier zu</i> tun ist.  Wir haben die Ligatur in verschiedene Stile unterteilt, und da die Ligatur gewisserma√üen eine ‚ÄûEinheit‚Äú des Renderns ist, ist es sinnvoll, sich einfach zu weigern, eine solche Trennung zu unterst√ºtzen (wie die meisten). <br><br>  Aus irgendeinem Grund war <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jemand in Firefox wirklich begeistert von einer eleganteren Implementierung</a> .  Sein Ansatz ist es, mehrmals eine Ligatur mit optimalen Masken und verschiedenen Farben zu zeichnen, was √ºberraschend gut funktioniert! <br><br>  Es ist sinnvoll, diese ‚ÄûTeilligaturen‚Äú zu unterst√ºtzen: Nur die Formgebung kann wissen, ob eine bestimmte Ligatur angezeigt wird, und dies h√§ngt von den Systemschriftarten ab, sodass die Ligatur m√∂glicherweise dort erscheint, wo niemand sie erwartet hat!  Ein klassisches Beispiel in englischer Sprache ist eine Ligatur √¶ aus einer vom Benutzer installierten Schriftart am Rand eines Hyperlinks. <br><br>  Es ist auch ziemlich seltsam, dass sich Englisch in der Mitte eines Wortes √§ndern kann, aber keine handgeschriebenen Schriftarten? <br><br>  Fragen Sie nicht einmal nach Code, der Linien mit Teilligaturen bricht. <br><br><a name="4"></a><h1>  4. Emoji brechen Farbe und Stil </h1><br>  Wenn Sie Emojis wie das native System anzeigen, m√ºssen Sie die Einstellungen f√ºr die Textfarbe ignorieren (mit Ausnahme der Transparenz): <br><br><img src="https://habrastorage.org/webt/cp/4d/2f/cp4d2fokoxffueesiohd1urszuu.png"><br><br>  Normalerweise haben Emojis ihre eigenen nat√ºrlichen Farben, und diese Farbe kann sogar eine semantische Bedeutung haben, wie dies bei Hautfarbmodifikatoren der Fall ist.  Au√üerdem: Sie k√∂nnen mehrere Farben haben! <br><br>  Soweit ich das beurteilen kann, gab es vor Emoji kein solches Problem, daher haben verschiedene Plattformen unterschiedliche L√∂sungsans√§tze.  Einige zeigen Emojis als festes Bild (Apple), andere als eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reihe von monochromen <i>Ebenen</i></a> (Microsoft). <br><br>  Der letztere Ansatz ist nicht schlecht, da er sich gut in vorhandene Text-Rendering-Pipelines integriert und die Glyphe ‚Äûnur‚Äú in eine Reihe von monochromen Glyphen aufteilt, mit denen jeder gewohnt ist, zu arbeiten. <br><br>  Dies bedeutet jedoch, dass sich Ihr Stil beim Zeichnen eines ‚Äûeinzelnen‚Äú Glyphen <i>wiederholt</i> √§ndern kann.  Dies bedeutet auch, dass sich die Glyphe ‚Äûeins‚Äú √ºberlappen kann, was zu den im vorherigen Abschnitt erw√§hnten Transparenzproblemen f√ºhrt.  Trotzdem kombinieren Browser die Transparenz von Ebenen in Emojis <i>wirklich</i> richtig! <br><br>  Diese Diskrepanz kann auf drei Arten erkl√§rt werden: <br><br><ul><li>  Sie suchen bereits nach farbigen Glyphen, um sie auf besondere Weise zu verarbeiten. Daher k√∂nnen sie leicht einen speziellen Layoutpfad ausw√§hlen. <br></li><li>  Handgeschriebene Schriftarten mit schlechter Transparenz sehen ein wenig h√§sslich aus, aber Emojis brechen vollst√§ndig zusammen und verwandeln sich in einen unleserlichen Zeichensatz, sodass die zus√§tzliche Arbeit gerechtfertigt ist. <br></li><li>  Westliche Entwickler interessieren sich mehr f√ºr Emojis als f√ºr Sprachen wie Arabisch und Marathi. </li></ul><br>  W√§hlen Sie die Option nach Ihrem Geschmack. <br><br>  Und doch, wie kann man ein Emoticon kursiv oder fett hervorheben?  Diese Stile ignorieren?  Sollten sie synthetisiert werden?  Wer wei√ü‚Ä¶ <br><br>  Scheinen diese Emojis nicht seltsam klein? <br><br>  Ja, aus irgendeinem Grund erh√∂hen einige Systeme heimlich die Schriftgr√∂√üe f√ºr Emojis, damit sie besser aussehen. <br><br><a name="5"></a><h1>  5. Gl√§tten ist die H√∂lle </h1><br>  Die Zeichen im Text sind sehr klein und detailliert.  Es ist sehr wichtig, dass der Text leicht zu lesen ist.  Klingt nach einer Gl√§ttungsaufgabe!  Zur H√∂lle, 480p ist wirklich eine niedrige Aufl√∂sung.  Mehr Gl√§ttung !!! <br><br><img src="https://habrastorage.org/webt/m9/8x/qa/m98xqayxjlpla-5bgc2rmktqpd8.png" align="right">  Es gibt also zwei Haupttypen: <br><br><ul><li>  Graustufengl√§ttung <img src="https://habrastorage.org/webt/sf/xr/qu/sfxrqug5y1yihdid_djblyqhhii.png" width="22"><br></li><li>  Subpixel-Gl√§ttung <img src="https://habrastorage.org/webt/i7/pt/mk/i7ptmkl9iwj6tve6ly5ch7dv-y0.png" width="22"></li></ul><br>  Graustufengl√§ttung ist ein ‚Äûnat√ºrlicher‚Äú Ansatz.  Die Grundidee ist, dass teilweise beschichtete Pixel teilweise Transparenz erhalten.  W√§hrend der Komposition erh√§lt das Pixel den richtigen Farbton, wodurch die Gesamtdetails verbessert werden. <br><br>  Der Begriff ‚ÄûGraustufen‚Äú wird f√ºr eindimensionale Farben verwendet, genau wie unsere eindimensionale Transparenz (ansonsten werden die Glyphen in einer Volltonfarbe angezeigt).  Dar√ºber hinaus zeigt Anti-Aliasing in einer typischen Situation mit schwarzem Text auf wei√üem Hintergrund an den R√§ndern buchst√§blich Graustufen an. <br><br>  Subpixel-Anti-Aliasing ist ein Trick, der die normale Platzierung von Pixeln auf Monitoren missbraucht.  Es ist viel komplizierter. Wenn Sie also wirklich interessiert sind, m√ºssen Sie eine detailliertere Dokumentation lesen. Hier finden Sie nur eine kurze Beschreibung des √ºbergeordneten Konzepts. <br><br>  Die Pixel in Ihrem Monitor sind eigentlich drei kleine Spalten in Rot, Gr√ºn und Blau.  Wenn du rot werden willst, sagst du sozusagen ‚Äûwei√ü schwarz schwarz‚Äú.  Wenn Sie eine blaue Farbe erhalten m√∂chten, geben Sie auf die gleiche Weise "schwarz schwarz wei√ü" an.  Mit anderen Worten, wenn Sie an Blumen basteln, k√∂nnen Sie <i>die</i> horizontale Aufl√∂sung <i>verdreifachen</i> und viel mehr Details erhalten! <br><br>  Sie k√∂nnten denken, dass ein solcher ‚ÄûRegenbogen‚Äú sehr h√§sslich w√§re, aber in der Praxis funktioniert das System ziemlich gut (obwohl einige damit nicht einverstanden sind).  Das menschliche Gehirn liebt es, Muster zu erkennen und zu gl√§tten.  Wenn Sie jedoch einen Screenshot des Texts mit Subpixel-Gl√§ttung aufnehmen, werden alle zus√§tzlichen Farben deutlich angezeigt, wenn Sie die Bildgr√∂√üe √§ndern oder es einfach auf dem Monitor mit einem anderen Subpixel-Layout betrachten.  Aus diesem Grund sehen Screenshots mit Text oft sehr seltsam und schlecht aus. <br><br>  (Im Allgemeinen bedeutet dieses System auch, dass die Farbe des Symbols versehentlich seine wahrgenommene Gr√∂√üe und Position √§ndern kann, was sehr √§rgerlich ist.) <br><br>  Subpixel-Anti-Aliasing ist also ein wirklich sauberer Hack, der die Textverst√§ndlichkeit erheblich verbessern kann. Gro√üartig!  Aber leider ist das auch ein riesiger Splitter im Arsch! <br><br>  Beachten Sie, dass in jedem Anti-Aliasing-System <i>Subpixel-Glyphenverschiebungen</i> auftreten.  Sie m√∂chten immer, dass Ihre gerasterten Glyphen auf volle Pixel ausgerichtet werden. Die Rasterung selbst ist jedoch f√ºr einen bestimmten Subpixel-Offset (einen Wert zwischen 0 und 1) ausgelegt. <br><br>  Um dies zu verstehen, stellen Sie sich ein 1x1 schwarzes Quadrat mit Graustufengl√§ttung vor: <br><br><ul><li>  Wenn der Subpixel-Offset 0 ist, wird w√§hrend der Rasterung nur ein schwarzes Pixel ausgegeben. <br></li><li>  Wenn der Subpixel-Offset 0,5 betr√§gt, werden beim Rastern zwei Pixel mit 50% Grau ausgegeben. </li></ul><br><a name="5_1"></a><h3>  5.1.  Subpixel-Offsets unterbrechen den Glyphen-Cache </h3><br>  Das Rastern von Glyphen erfordert einen erstaunlichen Rechenaufwand. Daher ist es viel besser, sie in einem Texturatlas zwischenzuspeichern.  Aber wie werden Texturen mit Subpixel-Offsets zwischengespeichert?  Jeder Offset hat seine eigene Rasterung! <br><br>  Hier m√ºssen Sie einen Kompromiss zwischen Qualit√§t und Leistung finden. Dies kann durch Optimierung der Subpixel-Offsets erreicht werden.  F√ºr den englischen Text w√§re ein angemessenes Gleichgewicht das Fehlen einer vertikalen Subpixel-Genauigkeit, wobei der horizontale Versatz an eine viertel Ganzzahl gebunden ist.  Dies l√§sst nur vier Subpixel-Positionen √ºbrig, was die Qualit√§t bei gleichbleibender Cache-Gr√∂√üe noch erheblich verbessert. <br><br><a name="5_2"></a><h3>  5.2.  Das Gl√§tten von Subpixeln kann nicht zusammengesetzt werden </h3><br>  Ein sch√∂nes Merkmal von Anti-Aliasing in Graustufen ist, dass Sie frei damit spielen k√∂nnen und es sich anmutig verschlechtert.  Wenn Sie beispielsweise eine Textur mit Text konvertieren (Skalierung, Drehung oder Transformation), wird sie m√∂glicherweise etwas verschwommen, sieht aber im Allgemeinen normal aus. <br><br>  Wenn Sie dasselbe mit Subpixel-Anti-Aliasing tun, sieht es schrecklich aus.  Seine ganze Idee ist es, die Pixel auf dem Display zu manipulieren.  Wenn die Anzeigepixel nicht mit den Pixeln Ihrer Textur √ºbereinstimmen, sind die roten und blauen R√§nder deutlich sichtbar! <br><br>  Sie k√∂nnten denken, dass dies einfach durch eine neue Glyphenrasterung an einem neuen Ort ‚Äûbehoben‚Äú wird.  Wenn die Konvertierung statisch ist, funktioniert dies m√∂glicherweise.  Aber wenn die Transformation eine <i>Animation ist</i> , wird es noch schlimmer.  Dies ist tats√§chlich ein sehr h√§ufiger Browserfehler: Wenn nicht festgestellt wird, dass die Animation mit dem Text stattfindet, <i>zucken</i> die Zeichen, da jede Glyphe zwischen verschiedenen Subpixel-Bindungen mit Hinweisen auf jedes Bild springt. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infolgedessen enthalten Browser mehrere Heuristiken, um solche Animationen zu erkennen, um das Subpixel-Anti-Aliasing f√ºr diesen Teil der Seite (und im Idealfall sogar die Subpixel-Positionierung) zu deaktivieren. Es ist ziemlich schwierig, es zuverl√§ssig zu implementieren, da eine Animation von einem beliebig komplexen JS ausgel√∂st werden kann, ohne dem Browser klare ‚ÄûHinweise‚Äú zu geben. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dar√ºber hinaus ist die Subpixel-Gl√§ttung bei teilweiser Transparenz schwierig anzuwenden. Tats√§chlich konfigurieren wir hier unsere Kan√§le R, G und B so, dass drei Transparenzwerte (einer f√ºr jedes Subpixel) codiert werden, aber der Text selbst hat auch eine Farbe und einen Hintergrund, sodass Informationen leicht verloren gehen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei Verwendung von Graustufen-Anti-Aliasing verf√ºgen wir √ºber einen dedizierten Alphakanal, sodass nichts verloren geht. </font><font style="vertical-align: inherit;">Daher verwenden Browser normalerweise Graustufen, um mit durchscheinenden Objekten zu arbeiten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... au√üer Firefox. </font><font style="vertical-align: inherit;">Wieder wurde in dieser seltsamen Organisation jemand wirklich mitgerissen und tat etwas Kompliziertes: eine Alpha-Komponente. </font><font style="vertical-align: inherit;">Es stellt sich heraus, dass Sie Text mit Subpixel-Anti-Aliasing tats√§chlich korrekt komponieren k√∂nnen, dies erfordert jedoch drei zus√§tzliche Transparenzkan√§le f√ºr R, G und B. Es ist nicht √ºberraschend, dass ein solches Anti-Aliasing den Speicherverbrauch verdoppelt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gl√ºcklicherweise hat die Subpixel-Gl√§ttung im Laufe der Jahre an Relevanz verloren:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Retina-Displays brauchen es √ºberhaupt nicht. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Das Subpixel-Layout auf Telefonen blockiert diesen Trick (ohne ernsthafte Arbeit). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In neueren Versionen von MacOS ist Subpixel-Text auf Betriebssystemebene standardm√§√üig deaktiviert. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chrome scheint aggressiver beim Deaktivieren des Subpixel-Anti-Aliasing zu sein (nicht sicher, ob dies die genaue Richtlinie ist). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Das neue grafische Firefox-Backend (Webrender) hat die Alpha-Komponente der Einfachheit halber aufgegeben. </font></font></li></ul><br><a name="6"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6. Esoterisch </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dieser Teil ist nur eine Sammlung kleiner Dinge, die nicht viel Diskussion verdienen. </font></font><br><br><a name="6_1"></a><h3>  6.1.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schriftarten k√∂nnen SVG enthalten </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das ist schei√üe. </font><font style="vertical-align: inherit;">Diese Schriftarten werden gr√∂√ütenteils von Adobe bereitgestellt, da sie vor einiger Zeit ziemlich gut in die SVG-Datei aufgenommen wurden. </font><font style="vertical-align: inherit;">Manchmal k√∂nnen Sie Teile von SVG einfach ignorieren (ich glaube, dass die Source Code Pro-Schriftart technisch einige SVG-Glyphen enth√§lt, aber in der Praxis werden sie nicht von Websites verwendet), aber im Allgemeinen m√ºssen Sie die SVG-Unterst√ºtzung implementieren, um alle Schriftarten formal zu unterst√ºtzen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und haben Sie schon von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVG-animierten Schriftarten geh√∂rt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ?</font></font> Nein?  Gut.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich denke, dass sie entweder kaputt sind oder nicht √ºberall implementiert sind (Firefox hat sie versehentlich f√ºr eine Weile unterst√ºtzt, weil sie von einem begeisterten Entwickler entwickelt wurden). </font></font><br><br><a name="6_2"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2. </font><font style="vertical-align: inherit;">Charaktere k√∂nnen verdammt gro√ü sein</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie die Anforderung eines Benutzers nach einer sehr gro√üen Schriftart (oder einer sehr gro√üen Zoomstufe) naiv erf√ºllen m√∂chten, treten bei einem Glyphenatlas dieser Gr√∂√üe extreme Speicherverwaltungsprobleme auf, da jedes Zeichen gr√∂√üer als der gesamte Bildschirm sein kann. </font><font style="vertical-align: inherit;">Es gibt verschiedene M√∂glichkeiten, damit umzugehen:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Weigere dich, eine Glyphe zu zeichnen (trauriger Benutzer). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasteren Sie die Glyphe in einer kleineren Gr√∂√üe und erh√∂hen Sie die Skalierung w√§hrend der Komposition (dies ist einfach, bildet jedoch Unsch√§rfen an den R√§ndern). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rasterisieren Sie die Glyphe direkt auf der Oberfl√§che nach der Zusammensetzung (schwierig, m√∂glicherweise teuer). </font></font></li></ul><br><a name="6_3"></a><h3>  6.3.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Auswahl ist kein Rahmen, aber der Text geht in alle Richtungen </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Leute wissen normalerweise, dass die Hauptrichtung des Textes von links nach rechts (Englisch), von rechts nach links (Arabisch) oder von oben nach unten (Japanisch) sein kann. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Also, hier ist ein lustiger Text f√ºr dich:</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo allerseits </font></font><font color="purple"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÿ®ÿ≥ŸÖ ÿßŸÑŸÑŸá ŸÑÿß</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beep Beep !!</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie Text auf dem Desktop mit der Maus von links nach rechts ausw√§hlen, wird die Auswahl zeitweise und zuckt seltsamerweise in der Mitte. </font><font style="vertical-align: inherit;">Dies liegt daran, dass wir Text in einer Zeile von links nach rechts und von rechts nach links mischen, was die ganze Zeit passiert. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuerst erh√∂ht die Auswahl rechts die Auswahl, verringert sie dann aber, bis sie pl√∂tzlich wieder zunimmt. </font><font style="vertical-align: inherit;">Das ist eigentlich ganz richtig: Die Auswahl bleibt einfach stetig </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf der eigentlichen Linie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">So k√∂nnen Sie einen Text korrekt kopieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie m√ºssen dies in Ihrem Code ber√ºcksichtigen, um Text hervorzuheben, sowie im Zeilenumbruchalgorithmus f√ºr das Layout. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das ist aber noch nicht alles. </font></font><br><img src="https://habrastorage.org/webt/h5/vm/ee/h5vmee428zjgkmlcs9syoyhzte0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich hoffe, Sie m√ºssen sich nicht mit solchen Dingen befassen.</font></font><br><br><a name="6_4"></a><h3>  6.4.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wie schreibe ich, was unm√∂glich zu schreiben ist? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die Schrift keine Zeichen enth√§lt, ist es hilfreich, den Benutzer dar√ºber zu informieren. </font><font style="vertical-align: inherit;">Hierf√ºr ist der Buchstabe ‚ÄûTofu‚Äú vorgesehen. </font><font style="vertical-align: inherit;">Sie k√∂nnen einfach einen leeren Tofu (Rechteck) zeichnen und sich darauf beschr√§nken. </font><font style="vertical-align: inherit;">Wenn Sie jedoch wirklich n√ºtzliche Informationen bereitstellen m√∂chten, k√∂nnen Sie den Wert des fehlenden Zeichens schreiben, um das Debuggen zu vereinfachen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber warten Sie, wir verwenden Text, um zu erkl√§ren, dass wir den Text nicht ausgeben k√∂nnen.</font></font> Hm. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie k√∂nnen sagen, dass es im System eine Grundschrift geben sollte, die immer die Zeichen 0-9 und AF anzeigt, aber dies ist eine Annahme f√ºr Weicheier. </font><font style="vertical-align: inherit;">Wenn der Benutzer seine Werkzeuge mit seinen Werkzeugen wirklich zerst√∂rt hat, bietet Firefox einen Ausweg: eine Mikroschrift! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In Firefox gibt es eine kleine, hartcodierte Anordnung von Ein-Bit-Pixelkunst mit einem winzigen Atlas mit genau diesen 16 Zeichen. </font><font style="vertical-align: inherit;">Wenn er Tofu zeichnet, kann er diese Zeichen weiterleiten, ohne sich um Schriftarten k√ºmmern zu m√ºssen.</font></font><br><br><img src="https://habrastorage.org/webt/us/by/n1/usbyn1o8olhyj82uy1b5ljw_pzg.png"><br><br><a name="6_5"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.5. </font><font style="vertical-align: inherit;">Der Stil ist Teil der Schriftart (sofern dies nicht der Fall ist).</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hochwertige Schriftarten werden zun√§chst mit Stilen wie </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kursiv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fett geliefert</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , da es keine einfache algorithmische M√∂glichkeit gibt, diese Effekte sch√∂n anzuzeigen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einige Schriftarten werden jedoch ohne diese Stile geliefert, sodass Sie immer noch eine einfache algorithmische Methode ben√∂tigen, um diese Effekte zu erzielen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die genaue Erkennung und Verarbeitung von Stilen h√§ngt stark vom System und von meinem Fachgebiet ab, daher kann ich sie nicht gut erkl√§ren. Ich w√ºrde mich nur </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit dem Code f√ºr die Schriftbehandlung in Webrender befassen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In jedem Fall ben√∂tigen Sie einen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">synthetischen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fallback. Gl√ºcklicherweise ist die Implementierung eigentlich recht einfach: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synthetische Kursivschrift: Kippen Sie jede Glyphe.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synthetisch fett: Zeichnen Sie jede Glyphe mehrmals mit einem leichten Versatz in Richtung des Textes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ehrlich gesagt, machen diese Ans√§tze ziemlich gut! </font><font style="vertical-align: inherit;">Aber Benutzer k√∂nnen bemerken, dass alles "falsch" scheint. </font><font style="vertical-align: inherit;">Daher k√∂nnen Sie es besser machen, wenn Sie sich anstrengen.</font></font><br><br><a name="6_6"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.6. </font><font style="vertical-align: inherit;">Keine perfekte Textwiedergabe</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jede Plattform hat ihre Fehler, Optimierungen und Macken so lange gehabt, dass sie zur √Ñsthetik geworden sind. </font><font style="vertical-align: inherit;">Selbst wenn Sie fest davon √ºberzeugt sind, dass bestimmte Dinge ideal oder wichtig sind, wird es daher immer eine gro√üe Gruppe von Benutzern mit unterschiedlichen Vorlieben geben. </font><font style="vertical-align: inherit;">Ein robustes Textvisualisierungssystem unterst√ºtzt diese verschiedenen Einstellungen (bei Auswahl angemessener Standardeinstellungen). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihre Konfigurationen sollten das System des Benutzers, bestimmte Schriftarten, bestimmte Anwendungen und bestimmte Texte ber√ºcksichtigen. </font><font style="vertical-align: inherit;">Sie sollten auch versuchen, das native "Aussehen" jeder Plattform (solche Macken) anzupassen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies beinhaltet:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√∂glichkeit, das Subpixel-Anti-Aliasing zu deaktivieren (manche hassen es wirklich). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die F√§higkeit, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jegliches</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anti-Aliasing </font><font style="vertical-align: inherit;">auszuschalten </font><font style="vertical-align: inherit;">(ja, die Leute tun dies).</font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eine Menge plattform- / formatspezifischer Eigenschaften wie Hinweise, Gl√§ttung, Variationen, Gamma usw. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies </font><font style="vertical-align: inherit;">bedeutet auch, dass </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">native</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Textbibliotheken </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">verwendet werden sollten</font></a><font style="vertical-align: inherit;"> , um der √Ñsthetik jedes Systems (Kerntext, DirectWrite und FreeType auf ihren jeweiligen Plattformen) zu entsprechen.</font></font><br><br><a name="7"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7. Zus√§tzliche Links </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hier sind einige weitere Artikel √ºber den Alptraum der Textwiedergabe: </font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Windows muss einige TrueType-Schriftarten patchen, um zu funktionieren."</font></font></a> <br></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"In Firefox gibt es so viele Koordinatenr√§ume."</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de469529/">https://habr.com/ru/post/de469529/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de469509/index.html">Winkelschemata oder wie ich meine Vorlage f√ºr Winkelkli geschrieben habe</a></li>
<li><a href="../de469521/index.html">Ich kaufte ein Motorrad, um zu fahren, nicht um zu fallen</a></li>
<li><a href="../de469523/index.html">Abh√§ngigkeit der Codeleistung vom Kontext der Variablendeklaration in JavaScript</a></li>
<li><a href="../de469525/index.html">Automatisiertes Steuerungssystem f√ºr einen Bergbaubagger</a></li>
<li><a href="../de469527/index.html">Ist die Gegensprechanlage ein Spionageohr?</a></li>
<li><a href="../de469531/index.html">"Programmiersprachen besser und schlechter zu vergleichen, ist eine v√∂llig idiotische Besch√§ftigung."</a></li>
<li><a href="../de469533/index.html">Probleme und Bedrohungen der biometrischen Identifizierung</a></li>
<li><a href="../de469537/index.html">Swift mit Snake kennenlernen</a></li>
<li><a href="../de469541/index.html">Zusammenstellung und Bereitstellung derselben Microservices mit werf und GitLab CI</a></li>
<li><a href="../de469543/index.html">Redis-Skalierung und Failover f√ºr DirectumRX-Dienste</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>