<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖖🏿 🚵🏽 🤸🏼 在图片中查找对象 🏚️ 🧗🏽 ☺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们从事从Adwords（Google的广告平台）购买流量的活动。 该领域的常规任务之一是创建新横幅。 测试表明，随着用户习惯横幅广告，横幅广告会随着时间的流逝而失去有效性。 季节和趋势在变化。 此外，我们的目标是吸引不同的受众群体，而目标明确的横幅广告效果更好。 


 与进入新国家有关，出现了横...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在图片中查找对象</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/joom/blog/445354/"><p> 我们从事从Adwords（Google的广告平台）购买流量的活动。 该领域的常规任务之一是创建新横幅。 测试表明，随着用户习惯横幅广告，横幅广告会随着时间的流逝而失去有效性。 季节和趋势在变化。 此外，我们的目标是吸引不同的受众群体，而目标明确的横幅广告效果更好。 </p><br><p> 与进入新国家有关，出现了横幅广告本地化的问题。 对于每个横幅，您需要使用不同的语言和币种创建版本。 您可以要求设计人员执行此操作，但是此手动工作将给已经稀缺的资源增加额外的负担。 </p><br><p> 它看起来像一个易于自动化的任务。 为此，只需创建一个程序即可在横幅空白上为“价格标签”加上本地化价格，然后在按钮上进行号召性用语（例如“立即购买”）。 如果在图片中打印文本很简单，那么确定放置位置并不总是一件容易的事。  Peppercorns补充说，按钮有不同的颜色，并且形状略有不同。 </p><br><p> 本文致力于：如何在图片中查找指定的对象？ 流行的方法将被整理； 应用领域，功能，优缺点。 上面的方法可以用于其他目的：开发用于安全摄像机的程序，自动化测试UI等。 所描述的困难可以在其他任务中找到，并且所使用的方法可以用于其他目的。 例如，Canny边缘检测器通常用于预处理图像，而关键点的数量可用于评估图像的视觉“复杂性”。 </p><br><p> 我希望所描述的解决方案能够补充您解决问题的工具和窍门。 </p><br><p><img src="https://habrastorage.org/webt/2q/_t/fm/2q_tfmvffjyb1i9k_dlczqceoha.png"></p><a name="habracut"></a><br><p> 代码在Python 3.6中（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">存储库</a> ）； 需要OpenCV库。 希望读者了解线性代数和计算机视觉的基础知识。 </p><br><p> 我们将专注于查找按钮本身。 我们会记得找到价格标签（因为找到矩形也可以用更简单的方法解决），但是请不要这样做，因为解决方案的外观相同。 </p><br><h1 id="template-matching"> 模板匹配 </h1><br><p> 想到的第一个想法是，为什么不只是在图片中选择并找到在像素色差方面与按钮最相似的区域？ 这就是模板匹配的原因-一种基于在图像上找到与模板最相似的空间的方法。 图像的“相似性”由特定指标定义。 即，模板被“叠加”在图像上，并且考虑了图像和模板之间的差异。 差异最小的模板位置，它将指示所需对象的位置。 </p><br><p> 您可以使用不同的选项作为度量标准，例如，模板和图片之间的平方差之和（平方差之和，SSD），或使用互相关（CCORR）。 令<em>f</em>和<em>g</em>分别为尺寸为<em>（k，l）</em>和<em>（m，n）</em>的图像和图案（我们现在将忽略颜色通道）；  <em>i，j-</em>我们“附加”模板的图像上的位置。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-4"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-6" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mrow" id="MJXp-Span-8"><span class="MJXp-mo" id="MJXp-Span-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-11" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;">s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14"><font style="vertical-align: inherit;">u </font></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;">a </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-19"><font style="vertical-align: inherit;">= </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-20"><font style="vertical-align: inherit;">0 .. </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;">m </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-22"><span class="MJXp-mo" id="MJXp-Span-23"><font style="vertical-align: inherit;">，</font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;"> b </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-25"><font style="vertical-align: inherit;">= </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-26"><font style="vertical-align: inherit;">0 .. </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27"><font style="vertical-align: inherit;">n </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">（</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">f </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;">i </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-35"><font style="vertical-align: inherit;">+ </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36"><font style="vertical-align: inherit;">a </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-37"><span class="MJXp-mo" id="MJXp-Span-38"><font style="vertical-align: inherit;">，</font></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"> j </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-40"><font style="vertical-align: inherit;">+ </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;">b</font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> - </font></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">g </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-45" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46"><font style="vertical-align: inherit;">a </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-45" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-47"><span class="MJXp-mo" id="MJXp-Span-48"><font style="vertical-align: inherit;">，</font></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-45" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49"><font style="vertical-align: inherit;"> b </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-50"><span class="MJXp-mrow" id="MJXp-Span-51" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;">）</font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-50"><span class="MJXp-mn MJXp-script" id="MJXp-Span-53" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"> 2</font></span></span></span></font><span class="MJXp-mtext" id="MJXp-Span-12">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-17" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-19"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-20"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-22"><span class="MJXp-mo" id="MJXp-Span-23"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-25"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-26"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-33" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-35"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-37"><span class="MJXp-mo" id="MJXp-Span-38"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-40"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-45" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-47"><span class="MJXp-mo" id="MJXp-Span-48"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-50"><span class="MJXp-mrow" id="MJXp-Span-51" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-53" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.673ex" height="3.262ex" viewBox="0 -987.6 20526 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-53" x="645" y="0"></use><g transform="translate(1291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-44" x="0" y="0"></use><g transform="translate(828,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><g transform="translate(244,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="1175" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="3620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="4926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="5395" y="0"></use><g transform="translate(5968,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="2365" y="0"></use><g transform="translate(2293,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="4073" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="4503" y="0"></use><g transform="translate(3734,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6E" x="6339" y="0"></use></g></g><g transform="translate(11854,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1124" y="0"></use><g transform="translate(1169,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="2483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="2895" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="3674" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="4544" y="0"></use><g transform="translate(5545,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><g transform="translate(374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1359" y="0"></use></g></g><g transform="translate(7387,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1173" y="640"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> SSD_ {i，j} = \ sum_ {a = 0..m，b = 0..n} {（f_ {i + a，j + b}-g_ {a，b}）^ 2} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">R</span><span class="MJXp-msubsup" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-61" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">i</span><span class="MJXp-mrow" id="MJXp-Span-63"><span class="MJXp-mo" id="MJXp-Span-64">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-66" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-67">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">u</span><span class="MJXp-msubsup" id="MJXp-Span-70"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-72" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">a</span><span class="MJXp-mo" id="MJXp-Span-74">=</span><span class="MJXp-mn" id="MJXp-Span-75">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">m</span><span class="MJXp-mrow" id="MJXp-Span-77"><span class="MJXp-mo" id="MJXp-Span-78">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">b</span><span class="MJXp-mo" id="MJXp-Span-80">=</span><span class="MJXp-mn" id="MJXp-Span-81">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mrow" id="MJXp-Span-84"><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-msubsup" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-88" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">i</span><span class="MJXp-mo" id="MJXp-Span-90">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">a</span><span class="MJXp-mrow" id="MJXp-Span-92"><span class="MJXp-mo" id="MJXp-Span-93">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">j</span><span class="MJXp-mo" id="MJXp-Span-95">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">b</span></span></span><span class="MJXp-mtext" id="MJXp-Span-97">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">t</span><span class="MJXp-msubsup" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-104" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">a</span><span class="MJXp-mrow" id="MJXp-Span-106"><span class="MJXp-mo" id="MJXp-Span-107">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-109"><span class="MJXp-mrow" id="MJXp-Span-110" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-112" style="vertical-align: 0.5em;">2</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="53.515ex" height="3.262ex" viewBox="0 -987.6 23041.1 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-4F" x="1521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="2284" y="0"></use><g transform="translate(3044,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><g transform="translate(244,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="1175" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="5304" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="6610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="7079" y="0"></use><g transform="translate(7652,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="2365" y="0"></use><g transform="translate(2293,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="4073" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="4503" y="0"></use><g transform="translate(3734,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6E" x="6339" y="0"></use></g></g><g transform="translate(13538,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1124" y="0"></use><g transform="translate(1169,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="2483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="2895" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="3674" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="4572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="5005" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6F" x="5529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="6014" y="0"></use><g transform="translate(6376,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><g transform="translate(374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1359" y="0"></use></g></g><g transform="translate(8218,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1173" y="640"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> CCORR_ {i，j} = \ sum_ {a = 0..m，b = 0..n} {（f_ {i + a，j + b} \ cdot g_ {a，b}）^ 2} </script></p><br><p> 让我们尝试应用方差来寻找小猫 <br><img src="https://habrastorage.org/webt/yl/jh/rs/yljhrsjvvk02qqkppdp7tameuei.png"></p><br><p> 在图片中 <br><img src="https://habrastorage.org/webt/e6/rl/er/e6rleromcb4st7cpxuisl9qsk-i.png"></p><br><p>  （图片来自PETA照料猫）。 </p><br><p> 左侧图片是图片中位置与模板相似度的度量值（即，不同i，j的SSD值）。 暗区是差异最小的地方。 这是指向最类似于模板的位置的指针-在右图中此位置被圈出。 </p><br><p><img src="https://habrastorage.org/webt/6b/fe/fb/6bfefbafbzjwe710fa4yoqjvuay.png"><img src="https://habrastorage.org/webt/nn/hl/wq/nnhlwqagheaudmhfnvxk6mbwfxu.png"></p><br><p> 互相关实际上是两个图像的卷积。 使用快速傅里叶变换可以快速实现卷积。 根据卷积定理，在傅立叶变换之后，卷积变成简单的元素乘法： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">R</span><span class="MJXp-msubsup" id="MJXp-Span-118"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-120" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">i</span><span class="MJXp-mrow" id="MJXp-Span-122"><span class="MJXp-mo" id="MJXp-Span-123">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-125" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">f</span><span class="MJXp-mtext" id="MJXp-Span-127">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">g</span><span class="MJXp-mo" id="MJXp-Span-139" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">I</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">T</span><span class="MJXp-mrow" id="MJXp-Span-144"><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">T</span><span class="MJXp-mrow" id="MJXp-Span-149"><span class="MJXp-mo" id="MJXp-Span-150" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">f</span><span class="MJXp-mtext" id="MJXp-Span-152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">g</span><span class="MJXp-mrow" id="MJXp-Span-164"><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mrow" id="MJXp-Span-166"><span class="MJXp-mo" id="MJXp-Span-167" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">I</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">T</span><span class="MJXp-mrow" id="MJXp-Span-173"><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">T</span><span class="MJXp-mrow" id="MJXp-Span-178"><span class="MJXp-mo" id="MJXp-Span-179" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">f</span><span class="MJXp-mrow" id="MJXp-Span-181"><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mtext" id="MJXp-Span-183">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">T</span><span class="MJXp-mrow" id="MJXp-Span-191"><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">g</span><span class="MJXp-mrow" id="MJXp-Span-194"><span class="MJXp-mo" id="MJXp-Span-195" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mrow" id="MJXp-Span-196"><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="101.33ex" height="2.78ex" viewBox="0 -780.1 43627.9 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-4F" x="1521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="2284" y="0"></use><g transform="translate(3044,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><g transform="translate(244,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="1175" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="5304" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="6360" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="7160" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="7594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="7939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="8391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="8824" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-65" x="9123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="9589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="10113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="10642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="11112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="11473" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="12232" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="13288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="13792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="14542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="15291" y="0"></use><g transform="translate(15996,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="16826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="17575" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="18325" y="0"></use><g transform="translate(19029,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="19859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="20660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="21093" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="21439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="21890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="22324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-65" x="22622" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="23089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="23612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="24142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="24611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="24973" y="0"></use><g transform="translate(25453,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(26283,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="27391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="28447" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="28952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="29701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="30451" y="0"></use><g transform="translate(31155,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="31985" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="32735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="33484" y="0"></use><g transform="translate(34189,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="35019" y="0"></use><g transform="translate(35569,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="36649" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="37083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6F" x="37606" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="38092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="38453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-46" x="39203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="39952" y="0"></use><g transform="translate(40657,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="41487" y="0"></use><g transform="translate(41967,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(42797,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> CCORR_ {i，j} = f \ circledast g = IFFT（FFT（f \ circledast g））= IFFT（FFT（f）\ cdot FFT（g））</script></p><br><p> 哪里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-198"><span class="MJXp-mtext" id="MJXp-Span-199">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.357ex" height="2.057ex" viewBox="0 -780.1 4890 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="1010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="1356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-63" x="1807" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="2241" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-65" x="2539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="3006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="3529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="4059" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="4528" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ Circledast </script>  -卷积运算符。 这样，我们可以快速计算互相关。  <em>正面实现时，</em>这给出了<em>O（kllog（kl）+ mnlog（mn））</em>相对于<em>O（klmn）</em>的总体复杂度。 差异的平方也可以使用卷积来实现，因为打开括号后，它将变成图像像素值的平方和与互相关之间的差： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-210"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">S</span><span class="MJXp-msubsup" id="MJXp-Span-213"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-215" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">i</span><span class="MJXp-mrow" id="MJXp-Span-217"><span class="MJXp-mo" id="MJXp-Span-218">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-221">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">u</span><span class="MJXp-msubsup" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-226" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">a</span><span class="MJXp-mo" id="MJXp-Span-228">=</span><span class="MJXp-mn" id="MJXp-Span-229">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">m</span><span class="MJXp-mrow" id="MJXp-Span-231"><span class="MJXp-mo" id="MJXp-Span-232">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">b</span><span class="MJXp-mo" id="MJXp-Span-234">=</span><span class="MJXp-mn" id="MJXp-Span-235">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-237"><span class="MJXp-mrow" id="MJXp-Span-238"><span class="MJXp-mo" id="MJXp-Span-239" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">i</span><span class="MJXp-mo" id="MJXp-Span-244">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">a</span><span class="MJXp-mrow" id="MJXp-Span-246"><span class="MJXp-mo" id="MJXp-Span-247">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">j</span><span class="MJXp-mo" id="MJXp-Span-249">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-251" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-252"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-254" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">a</span><span class="MJXp-mrow" id="MJXp-Span-256"><span class="MJXp-mo" id="MJXp-Span-257">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-259"><span class="MJXp-mrow" id="MJXp-Span-260" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-262" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="50.127ex" height="3.262ex" viewBox="0 -987.6 21582.3 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-53" x="645" y="0"></use><g transform="translate(1291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-44" x="0" y="0"></use><g transform="translate(828,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><g transform="translate(244,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="1175" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="3620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="4926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="5395" y="0"></use><g transform="translate(5968,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="2365" y="0"></use><g transform="translate(2293,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="4073" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="4503" y="0"></use><g transform="translate(3734,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6E" x="6339" y="0"></use></g></g><g transform="translate(11854,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1124" y="0"></use><g transform="translate(1169,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="2483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="2895" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="3674" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="4544" y="0"></use><g transform="translate(5545,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><g transform="translate(374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1359" y="0"></use></g></g><g transform="translate(7387,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1173" y="640"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="20803" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> SSD_ {i，j} = \ sum_ {a = 0..m，b = 0..n} {（f_ {i + a，j + b}-g_ {a，b}）^ 2} = </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-264"><span class="MJXp-mo" id="MJXp-Span-265" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-266">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">u</span><span class="MJXp-msubsup" id="MJXp-Span-269"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-271" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">a</span><span class="MJXp-mo" id="MJXp-Span-273">=</span><span class="MJXp-mn" id="MJXp-Span-274">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">m</span><span class="MJXp-mrow" id="MJXp-Span-276"><span class="MJXp-mo" id="MJXp-Span-277">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">b</span><span class="MJXp-mo" id="MJXp-Span-279">=</span><span class="MJXp-mn" id="MJXp-Span-280">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-msubsup" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284" style="margin-right: 0.05em;">f</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-294">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-285"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">i</span><span class="MJXp-mo" id="MJXp-Span-287">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">a</span><span class="MJXp-mrow" id="MJXp-Span-289"><span class="MJXp-mo" id="MJXp-Span-290">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">j</span><span class="MJXp-mo" id="MJXp-Span-292">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">b</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-295" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-296">2</span><span class="MJXp-msubsup" id="MJXp-Span-297"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-299" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">i</span><span class="MJXp-mo" id="MJXp-Span-301">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">a</span><span class="MJXp-mrow" id="MJXp-Span-303"><span class="MJXp-mo" id="MJXp-Span-304">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">j</span><span class="MJXp-mo" id="MJXp-Span-306">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-308"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-310" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">a</span><span class="MJXp-mrow" id="MJXp-Span-312"><span class="MJXp-mo" id="MJXp-Span-313">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-315" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-316"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317" style="margin-right: 0.05em;">g</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-323">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-318"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">a</span><span class="MJXp-mrow" id="MJXp-Span-320"><span class="MJXp-mo" id="MJXp-Span-321">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">b</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-324" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="53.203ex" height="3.383ex" viewBox="0 -883.9 22906.7 1456.5" role="img" focusable="false" style="vertical-align: -1.33ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="1306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="1775" y="0"></use><g transform="translate(2348,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="2365" y="0"></use><g transform="translate(2293,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="4073" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="4503" y="0"></use><g transform="translate(3734,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6E" x="6339" y="0"></use></g></g><g transform="translate(8234,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="804" y="488"></use><g transform="translate(490,-350)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1124" y="0"></use><g transform="translate(1169,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="2483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="2895" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="3674" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="3714" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="4715" y="0"></use><g transform="translate(5215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1124" y="0"></use><g transform="translate(1169,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="2483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="2895" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="3674" y="0"></use></g></g><g transform="translate(8708,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><g transform="translate(374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1359" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="10773" y="0"></use><g transform="translate(11773,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="680" y="488"></use><g transform="translate(477,-350)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><g transform="translate(374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1359" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="22128" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> = \ sum_ {a = 0..m，b = 0..n} {f_ {i + a，j + b} ^ 2-2 f_ {i + a，j + b} g_ {a，b} + g_ {a，b} ^ 2} = </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-325"><span class="MJXp-mo" id="MJXp-Span-326" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-327">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">u</span><span class="MJXp-msubsup" id="MJXp-Span-330"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-332" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">a</span><span class="MJXp-mo" id="MJXp-Span-334">=</span><span class="MJXp-mn" id="MJXp-Span-335">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">m</span><span class="MJXp-mrow" id="MJXp-Span-337"><span class="MJXp-mo" id="MJXp-Span-338">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">b</span><span class="MJXp-mo" id="MJXp-Span-340">=</span><span class="MJXp-mn" id="MJXp-Span-341">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-343"><span class="MJXp-msubsup" id="MJXp-Span-344"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345" style="margin-right: 0.05em;">f</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-355">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">i</span><span class="MJXp-mo" id="MJXp-Span-348">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">a</span><span class="MJXp-mrow" id="MJXp-Span-350"><span class="MJXp-mo" id="MJXp-Span-351">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">j</span><span class="MJXp-mo" id="MJXp-Span-353">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">b</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-356" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-357"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358" style="margin-right: 0.05em;">g</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-364">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-359"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">a</span><span class="MJXp-mrow" id="MJXp-Span-361"><span class="MJXp-mo" id="MJXp-Span-362">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">b</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-365" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-366">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">O</span><span class="MJXp-msubsup" id="MJXp-Span-370"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-372" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">i</span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mo" id="MJXp-Span-375">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">j</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="48.269ex" height="3.383ex" viewBox="0 -883.9 20782.3 1456.5" role="img" focusable="false" style="vertical-align: -1.33ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="1306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="1775" y="0"></use><g transform="translate(2348,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="2365" y="0"></use><g transform="translate(2293,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="4073" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="4503" y="0"></use><g transform="translate(3734,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6E" x="6339" y="0"></use></g></g><g transform="translate(8234,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="804" y="488"></use><g transform="translate(490,-350)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1124" y="0"></use><g transform="translate(1169,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="2483" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="2895" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="3674" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="3714" y="0"></use><g transform="translate(4715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="680" y="488"></use><g transform="translate(477,-350)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><g transform="translate(374,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1359" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="15014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="16014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="16515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="17275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-4F" x="18036" y="0"></use><g transform="translate(18799,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="0" y="0"></use><g transform="translate(244,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6A" x="1175" y="0"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> = \ sum_ {a = 0..m，b = 0..n} {f_ {i + a，j + b} ^ 2 + g_ {a，b} ^ 2}-2CCOR_ {i，j} </script></p><br><p> 详细信息可以在此<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">演示文稿中</a>看到。 </p><br><p> 让我们继续执行。 幸运的是，下诺夫哥罗德英特尔部门的同事们通过创建OpenCV库来照顾我们，它已经使用matchTemplate方法实现了模板搜索（顺便说一句，它使用FFT实现，尽管在文档中没有提到），并且使用了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">不同的差异指标</a> ： </p><br><ul><li>  CV_TM_SQDIFF-像素值差异的平方和 </li><li>  CV_TM_SQDIFF_NORMED-色差平方的总和，标准化到范围0.1.1。 </li><li>  CV_TM_CCORR-模板和图像段的逐元素乘积之和 </li><li>  CV_TM_CCORR_NORMED-元素的总和，规格化为-1..1。 </li><li>  CV_TM_CCOEFF-没有平均值的图像互相关 </li><li>  CV_TM_CCOEFF_NORMED-没有平均值的图像之间的互相关，归一化为-1..1（皮尔森相关） </li></ul><br><p> 我们将使用它们来寻找小猫： </p><br><p><img src="https://habrastorage.org/webt/y8/8f/vi/y88fviifqz-jleg9frdobcnyh9s.png"></p><br><p> 可以看出，只有TM_CCORR无法应付其任务。 这是可以理解的：由于它是标量产品，因此该指标的最大价值将是在将模板与白色矩形进行比较时。 </p><br><p> 您可能会注意到，这些指标要求在所需图像中逐像素匹配图案。 伽玛，亮度或大小的任何偏差都会导致方法无法正常工作。 让我提醒您，这正是我们的情况：按钮可以具有不同的大小和颜色。 </p><br><p> 可以通过应用边缘检测滤镜来解决不同颜色和光线的问题。 此方法仅保留有关图像中明显颜色变化的信息。 让我们将Canny Edge Detector（我们将对其进行进一步分析）应用于不同颜色和亮度的按钮。 左侧是原始横幅，右侧是应用Canny过滤器的结果。 </p><br><p><img src="https://habrastorage.org/webt/bi/dq/wq/bidqwqba0as5nqgbcfkxgkkibvu.png"></p><br><p> 在我们的情况下，还存在大小不同的问题，但是已经解决了。 对数极坐标变换将图片变换为一个空间，在该空间中缩放和旋转将显示为偏移量。 使用此变换，我们可以恢复比例和角度。 之后，通过缩放和旋转模板，您可以找到模板在原始图像中的位置。 您还可以在整个过程中使用FFT，如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基于FFT的平移，旋转和比例不变图像配准技术中所述</a> 。 在文献中，考虑了水平和垂直模式按比例更改而比例因子在较小限制（2.0 ... 0.8）范围内变化的情况。 不幸的是，调整按钮的大小可能很大且不成比例，这可能导致错误的结果。 </p><br><p> 我们应用生成的构造（Canny滤波器，通过对数极坐标变换仅还原比例，通过找到具有最小二次差异的位置来获得位置），以在三张图片中找到按钮。 我们将使用黄色的大按钮作为模板： </p><br><p><img src="https://habrastorage.org/webt/lb/07/vf/lb07vfkchqexignjqteoi7iilek.png"></p><br><p> 同时，横幅上的按钮将具有不同的类型，颜色和大小： </p><br><p><img src="https://habrastorage.org/webt/nz/wv/mj/nzwvmjpywnjdcicgjk1r7qinq5q.png"></p><br><p> 在调整按钮大小的情况下，该方法无法正常工作。 这是由于该方法涉及在水平和垂直方向上按相同的次数调整按钮的大小。 但是，并非总是如此。 在右图中，按钮的大小在垂直方向上没有改变，但在水平方向上却大大减小了。 如果调整大小太大，则由对数极坐标转换引起的失真会使搜索不稳定。 在这方面，在第三种情况下该方法不能检测到按钮。 </p><br><h1 id="keypoint-detection"> 关键点检测 </h1><br><p> 您可以尝试另一种方法：代替寻找整个按钮，让我们找到它的典型部分，例如，按钮的角或边框元素（沿着按钮轮廓的装饰笔触）。 看起来拐角和边界似乎更容易，因为它们是小的（因此很简单）的对象。 位于四个角和边框之间的将是一个按钮。 查找关键点的方法类别称为“关键点检测”，而使用关键点进行比较和搜索图像的算法称为“关键点匹配”。 在图片中搜索图案减少到应用用于检测图案和图片的关键点并且比较图案和图片的关键点的算法。 </p><br><p> 通常，“关键点”是通过查找周围环境具有某些属性的像素自动找到的。 发明了许多找到它们的方法和标准。 所有这些算法都是启发式算法，通常会发现一些特征图像元素-角度或急剧的颜色变化。 好的检测器应能快速工作，并能抵抗图像变换（更改图像时，关键点不应停止/移动）。 </p><br><h2 id="harris-corner-detector"> 哈里斯角落探测器 </h2><br><p> 最基本的算法之一是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Harris角点检测器</a> 。 对于图片（以下我们认为我们正在使用“强度”（即转换为灰度的图像）进行操作），他尝试查找强度差大于某个阈值的附近点。 该算法如下所示： </p><br><ol><li><p> 从强度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-377"><span class="MJXp-mrow" id="MJXp-Span-378"><span class="MJXp-mo" id="MJXp-Span-379" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-8">我</script> 是沿x和y轴的导数（ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-380"><span class="MJXp-msubsup" id="MJXp-Span-381"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-383" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> I_x </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-384"><span class="MJXp-msubsup" id="MJXp-Span-385"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-387" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> I_y </script> 分别）。 例如，可以通过应用Sobel过滤器找到它们。 </p><br></li><li><p> 对于像素，请考虑正方形 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-388"><span class="MJXp-msubsup" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-391" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> I_x </script> 方 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-392"><span class="MJXp-msubsup" id="MJXp-Span-393"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-395" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> I_y </script> 和作品 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-396"><span class="MJXp-msubsup" id="MJXp-Span-397"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-399" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> I_x </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-400"><span class="MJXp-msubsup" id="MJXp-Span-401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-403" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> I_y </script>  。 一些来源将其标记为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-404"><span class="MJXp-msubsup" id="MJXp-Span-405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-407" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">x</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.136ex" height="2.419ex" viewBox="0 -780.1 1350.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><g transform="translate(440,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-15"> I_ {xx} </script>  ， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-410"><span class="MJXp-msubsup" id="MJXp-Span-411"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-413" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.66ex" viewBox="0 -780.1 1297.1 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><g transform="translate(440,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-16"> I_ {xy} </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-416"><span class="MJXp-msubsup" id="MJXp-Span-417"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-419" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.66ex" viewBox="0 -780.1 1297.1 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><g transform="translate(440,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-17"> I_ {xy} </script>  -不会增加清晰度，因为可能会认为它们是强度的二阶导数（事实并非如此）。 </p><br></li><li><p> 对于每个像素，我们考虑具有以下特征的某个邻域（大于1个像素）的总和： </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-422"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">A</span><span class="MJXp-mo" id="MJXp-Span-424" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-425">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">u</span><span class="MJXp-msubsup" id="MJXp-Span-428"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-430" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">x</span><span class="MJXp-mrow" id="MJXp-Span-432"><span class="MJXp-mo" id="MJXp-Span-433">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-435"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">w</span><span class="MJXp-mrow" id="MJXp-Span-437"><span class="MJXp-mo" id="MJXp-Span-438" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">x</span><span class="MJXp-mrow" id="MJXp-Span-440"><span class="MJXp-mo" id="MJXp-Span-441" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">y</span><span class="MJXp-mrow" id="MJXp-Span-443"><span class="MJXp-mo" id="MJXp-Span-444" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-msubsup" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-447" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-448"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-450" style="vertical-align: -0.4em;">x</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.559ex" height="2.78ex" viewBox="0 -780.1 11865.6 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="2334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="2804" y="0"></use><g transform="translate(3376,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="0" y="0"></use><g transform="translate(404,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="1402" y="0"></use></g></g><g transform="translate(5698,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-77" x="0" y="0"></use><g transform="translate(716,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="1546" y="0"></use><g transform="translate(2118,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="2948" y="0"></use><g transform="translate(3446,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(4276,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g><g transform="translate(5221,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> A = \ sum_ {x，y} {w（x，y）I_xI_x} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-451"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">B</span><span class="MJXp-mo" id="MJXp-Span-453" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-454">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">u</span><span class="MJXp-msubsup" id="MJXp-Span-457"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-459" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">x</span><span class="MJXp-mrow" id="MJXp-Span-461"><span class="MJXp-mo" id="MJXp-Span-462">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-464"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">w</span><span class="MJXp-mrow" id="MJXp-Span-466"><span class="MJXp-mo" id="MJXp-Span-467" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">x</span><span class="MJXp-mrow" id="MJXp-Span-469"><span class="MJXp-mo" id="MJXp-Span-470" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">y</span><span class="MJXp-mrow" id="MJXp-Span-472"><span class="MJXp-mo" id="MJXp-Span-473" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-msubsup" id="MJXp-Span-474"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-476" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-477"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-479" style="vertical-align: -0.4em;">y</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.457ex" height="2.78ex" viewBox="0 -780.1 11821.6 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="2343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="2813" y="0"></use><g transform="translate(3385,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="0" y="0"></use><g transform="translate(404,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="1402" y="0"></use></g></g><g transform="translate(5707,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-77" x="0" y="0"></use><g transform="translate(716,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="1546" y="0"></use><g transform="translate(2118,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="2948" y="0"></use><g transform="translate(3446,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(4276,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g><g transform="translate(5221,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-19"> B = \ sum_ {x，y} {w（x，y）I_xI_y} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-480"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">C</span><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-483">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">u</span><span class="MJXp-msubsup" id="MJXp-Span-486"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-488" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">x</span><span class="MJXp-mrow" id="MJXp-Span-490"><span class="MJXp-mo" id="MJXp-Span-491">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-493"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">w</span><span class="MJXp-mrow" id="MJXp-Span-495"><span class="MJXp-mo" id="MJXp-Span-496" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">x</span><span class="MJXp-mrow" id="MJXp-Span-498"><span class="MJXp-mo" id="MJXp-Span-499" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">y</span><span class="MJXp-mrow" id="MJXp-Span-501"><span class="MJXp-mo" id="MJXp-Span-502" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-msubsup" id="MJXp-Span-503"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-505" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-msubsup" id="MJXp-Span-506"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-508" style="vertical-align: -0.4em;">y</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.336ex" height="2.78ex" viewBox="0 -780.1 11769.6 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-73" x="2344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-75" x="2814" y="0"></use><g transform="translate(3386,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="0" y="0"></use><g transform="translate(404,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="1402" y="0"></use></g></g><g transform="translate(5708,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-77" x="0" y="0"></use><g transform="translate(716,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="1546" y="0"></use><g transform="translate(2118,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="2948" y="0"></use><g transform="translate(3446,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(4276,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g><g transform="translate(5168,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-20"> C = \ sum_ {x，y} {w（x，y）I_yI_y} </script></p><br> 与模板检测中一样，可以使用卷积定理有效地执行针对大窗口的此过程。 <br></li><li><p> 对于每个像素，计算值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-509"><span class="MJXp-msubsup" id="MJXp-Span-510"><span class="MJXp-mi" id="MJXp-Span-511" style="margin-right: 0.05em;"></span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-512" style="color: red; vertical-align: 0.5em;">\星</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.417ex" height="2.419ex" viewBox="0 -987.6 1040.8 1041.5" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g fill="red" stroke="red" transform="translate(0,362)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-5C"></use><g transform="translate(353,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">星</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-21"> ^ \星</script> 启发式 </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-513"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">R</span><span class="MJXp-mo" id="MJXp-Span-515" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">t</span><span class="MJXp-mrow" id="MJXp-Span-519"><span class="MJXp-mo" id="MJXp-Span-520" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">H</span><span class="MJXp-mrow" id="MJXp-Span-522"><span class="MJXp-mo" id="MJXp-Span-523" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-524" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">k</span><span class="MJXp-mrow" id="MJXp-Span-526"><span class="MJXp-mo" id="MJXp-Span-527" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">r</span><span class="MJXp-mrow" id="MJXp-Span-530"><span class="MJXp-mo" id="MJXp-Span-531" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">H</span><span class="MJXp-mrow" id="MJXp-Span-533"><span class="MJXp-mo" id="MJXp-Span-534" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-msubsup" id="MJXp-Span-535"><span class="MJXp-mrow" id="MJXp-Span-536" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-537" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-538" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-539" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-540"><span class="MJXp-mo" id="MJXp-Span-541" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">B</span><span class="MJXp-mo" id="MJXp-Span-544" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-545"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-547" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mrow" id="MJXp-Span-548"><span class="MJXp-mo" id="MJXp-Span-549" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-550" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">k</span><span class="MJXp-mrow" id="MJXp-Span-552"><span class="MJXp-mo" id="MJXp-Span-553" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">A</span><span class="MJXp-mo" id="MJXp-Span-555" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">B</span><span class="MJXp-msubsup" id="MJXp-Span-557"><span class="MJXp-mrow" id="MJXp-Span-558" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-559" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-560" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="63.656ex" height="2.78ex" viewBox="0 -987.6 27407.5 1197.1" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-44" x="2093" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-65" x="2922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="3388" y="0"></use><g transform="translate(3750,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-48" x="4580" y="0"></use><g transform="translate(5468,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="6520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6B" x="7521" y="0"></use><g transform="translate(8042,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="8872" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="9577" y="0"></use><g transform="translate(10028,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-48" x="10858" y="0"></use><g transform="translate(11747,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(12577,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="14139" y="0"></use><g transform="translate(15195,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="16025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="16775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="17757" y="0"></use><g transform="translate(18758,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1094" y="583"></use></g><g transform="translate(19986,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="21038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6B" x="22039" y="0"></use><g transform="translate(22560,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="23390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="24363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="25364" y="0"></use><g transform="translate(26123,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1173" y="640"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-22"> R = Det（H）-k（Tr（H））^ 2 =（AB-C ^ 2）-k（A + B）^ 2 </script></p><br> 价值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-23"> k </script> 在[0.04，0.06]范围内根据经验选择 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-563"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-24"> R </script> 一些像素有一定的阈值，然后邻域 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-565"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.664ex" height="1.455ex" viewBox="0 -520.7 716.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-77" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-25"> w </script> 该像素包含一个角度，我们将其标记为关键点。 <br></li><li><p> 先前的公式可以创建彼此相邻的关键点群集，在这种情况下，有必要删除它们。 可以通过检查每个点是否具有值来完成 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-567"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-26"> R </script> 在直接邻居中最大。 如果不是，则将关键点过滤掉。 此过程称为<em>非最大抑制</em> 。 </p><br></li></ol><br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-569"><span class="MJXp-mtext" id="MJXp-Span-570" style="color: red;">\星</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.09ex" height="2.66ex" viewBox="0 -832 1330.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g fill="red" stroke="red"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">星</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-27"> \星</script> 配方 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-571"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-28"> R </script> 选择它是有原因的。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-573"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">A</span><span class="MJXp-mrow" id="MJXp-Span-575"><span class="MJXp-mo" id="MJXp-Span-576" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">B</span><span class="MJXp-mrow" id="MJXp-Span-578"><span class="MJXp-mo" id="MJXp-Span-579" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">C</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.129ex" height="2.298ex" viewBox="0 -780.1 3930.5 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="0" y="0"></use><g transform="translate(750,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="1580" y="0"></use><g transform="translate(2339,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="3169" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-29"> A，B，C </script>  -结构张量的分量-描述邻域中梯度行为的矩阵： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-581"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">H</span><span class="MJXp-mo" id="MJXp-Span-583" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-584" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-585"><span class="MJXp-mo" id="MJXp-Span-586" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">x</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">A</span><span class="MJXp-mrow" id="MJXp-Span-596"><span class="MJXp-mo" id="MJXp-Span-597" style="margin-left: 0.278em; margin-right: 0.278em;">和</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">C</span><span class="MJXp-mspace" id="MJXp-Span-599" style="width: 0em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">C</span><span class="MJXp-mrow" id="MJXp-Span-601"><span class="MJXp-mo" id="MJXp-Span-602" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">B</span><span class="MJXp-mtext" id="MJXp-Span-604" style="color: red;">\结</span><span class="MJXp-mrow" id="MJXp-Span-605"><span class="MJXp-mo" id="MJXp-Span-606" style="margin-left: 0.278em; margin-right: 0.278em;">束</span></span><span class="MJXp-mrow" id="MJXp-Span-607"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614">x</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="6.033ex" viewBox="0 -832 33095.6 2597.7" role="img" focusable="false" style="vertical-align: -4.101ex; max-width: 638px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(11364,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1166" y="0"></use><g fill="red" stroke="red" transform="translate(2222,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">开</text></g></g><g transform="translate(3553,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">始</text></g><g transform="translate(4383,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1382" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="1911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="2273" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="2724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="3070" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="8025" y="0"></use><g transform="translate(8776,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">和</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="9606" y="0"></use></g><g transform="translate(12471,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="0" y="0"></use><g transform="translate(760,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">＆</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="1590" y="0"></use><g fill="red" stroke="red" transform="translate(2349,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">结</text></g></g><g transform="translate(3680,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">束</text></g><g transform="translate(4510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="1382" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="1911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="2273" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-69" x="2724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="3070" y="0"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-30"> H = \开始{pmatrix} A和C \\ C＆B \结束{pmatrix} </script></p><br><p> 该矩阵在许多方面与其协方差矩阵相似。 例如，它们都是正半定矩阵，但是相似性不限于此。 让我提醒您，协方差矩阵具有几何解释。 协方差矩阵的特征向量指示源数据最大方差的方向（在其上计算了协方差），特征值指示沿轴的散布： </p><br><p><img src="https://habrastorage.org/webt/y7/yv/g1/y7yvg148wkaold6x0scnqffqq1m.png"></p><br><p> 图片取自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://www.visiondummy.com/2014/04/geometric-interpretation-covariance-matrix/</a> </p><br><p> 结构张量的特征值也以相同的方式表现：它们描述了梯度的扩散。 在平坦的表面上，结构张量的特征值将很小（因为梯度本身的分布会很小）。 建立在一张带有脸的图片上的结构张量的特征值将有很大的变化：一个数字将很大（并且对应于其自身垂直于该脸的向量），第二个数字很小。 在角度张量上，两个特征值都将很大。 基于此，我们可以建立一个启发式（ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-615"><span class="MJXp-mtext" id="MJXp-Span-616">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">d</span><span class="MJXp-msubsup" id="MJXp-Span-622"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-624" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-625"><span class="MJXp-mo" id="MJXp-Span-626" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-627">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-631">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">d</span><span class="MJXp-msubsup" id="MJXp-Span-633"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-635" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.011ex" height="2.298ex" viewBox="0 -780.1 8615.8 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="2386" y="0"></use><g transform="translate(2909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-31" x="748" y="-213"></use></g><g transform="translate(3892,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="4972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="5271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="5800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="6679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="7108" y="0"></use><g transform="translate(7632,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="748" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-31"> \ lambda_1，\ lambda_2 </script> 是结构张量的特征值）。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-636"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">R</span><span class="MJXp-mo" id="MJXp-Span-638" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-639">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">d</span><span class="MJXp-msubsup" id="MJXp-Span-645"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-647" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-648">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-653">d</span><span class="MJXp-msubsup" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-656" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-657" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">k</span><span class="MJXp-mrow" id="MJXp-Span-659"><span class="MJXp-mo" id="MJXp-Span-660" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-661">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">d</span><span class="MJXp-msubsup" id="MJXp-Span-667"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-669" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-670" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-671">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">d</span><span class="MJXp-msubsup" id="MJXp-Span-677"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-679" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-680"><span class="MJXp-mrow" id="MJXp-Span-681" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-682" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-683" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.831ex" height="2.78ex" viewBox="0 -987.6 22746.4 1197.1" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="2343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="2642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="3171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="4050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="4479" y="0"></use><g transform="translate(5003,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="6236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="6534" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="7064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="7942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="8372" y="0"></use><g transform="translate(8895,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="10101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6B" x="11102" y="0"></use><g transform="translate(11623,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="12703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="13002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="13531" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="14410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="14839" y="0"></use><g transform="translate(15363,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="16568" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="17819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="18118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="18647" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="19526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="19955" y="0"></use><g transform="translate(20479,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="748" y="-213"></use></g><g transform="translate(21462,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1173" y="640"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-32"> R = \ lambda_1 \ lambda_2-k（\ lambda_1 + \ lambda_2）^ 2 </script></p><br><p> 当两个特征值都较大时，此启发式方法的值将较大。 </p><br><p> 特征值之和是矩阵的迹线，可以将其计算为对角线上的元素之和（如果您看一下公式A和B，很明显这也是该区域中梯度长度的平方之和）： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-684"><span class="MJXp-mtext" id="MJXp-Span-685">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">d</span><span class="MJXp-msubsup" id="MJXp-Span-691"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-693" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-694" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-695">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700">d</span><span class="MJXp-msubsup" id="MJXp-Span-701"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-703" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-704" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">r</span><span class="MJXp-mrow" id="MJXp-Span-707"><span class="MJXp-mo" id="MJXp-Span-708" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">H</span><span class="MJXp-mrow" id="MJXp-Span-710"><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-712" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">A</span><span class="MJXp-mo" id="MJXp-Span-714" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">B</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.072ex" height="2.298ex" viewBox="0 -780.1 18114.3 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="2386" y="0"></use><g transform="translate(2909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="4115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="5365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="5664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="6193" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="7072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="7501" y="0"></use><g transform="translate(8025,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="9286" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-54" x="10342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-72" x="11047" y="0"></use><g transform="translate(11498,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-48" x="12328" y="0"></use><g transform="translate(13217,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="14325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="15381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2B" x="16354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="17354" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> \ lambda_1 + \ lambda_2 = Tr（H）= A + B </script></p><br><p> 特征值的乘积是矩阵的行列式，在2x2的情况下也很容易写成： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-716"><span class="MJXp-mtext" id="MJXp-Span-717">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">d</span><span class="MJXp-msubsup" id="MJXp-Span-723"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-725" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-726">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">d</span><span class="MJXp-msubsup" id="MJXp-Span-732"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-734" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-735" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">t</span><span class="MJXp-mrow" id="MJXp-Span-739"><span class="MJXp-mo" id="MJXp-Span-740" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">H</span><span class="MJXp-mrow" id="MJXp-Span-742"><span class="MJXp-mo" id="MJXp-Span-743" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-744" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">B</span><span class="MJXp-mo" id="MJXp-Span-747" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-748"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-750" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="43.246ex" height="2.78ex" viewBox="0 -987.6 18619.8 1197.1" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="2386" y="0"></use><g transform="translate(2909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6C" x="4142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="4441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-6D" x="4970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-62" x="5849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-64" x="6278" y="0"></use><g transform="translate(6802,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="8063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-44" x="9119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-65" x="9948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="10414" y="0"></use><g transform="translate(10776,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-48" x="11606" y="0"></use><g transform="translate(12494,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="13602" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-41" x="14658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-42" x="15409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-2212" x="16391" y="0"></use><g transform="translate(17391,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="1094" y="583"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> \ lambda_1 \ lambda_2 = Det（H）= AB-C ^ 2 </script></p><br><p> 因此，我们可以有效地计算 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-751"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-35"> R </script>  ，用结构张量的分量表示。 </p><br><h2 id="fast"> 快的 </h2><br><p> 哈里斯的方法很好，但是有很多替代方法。 我们不会以与上述方法相同的方式来考虑所有内容，我们只会提及一些流行的技巧，以展示有趣的技巧并将其进行实际比较。 </p><br><p><img src="https://habrastorage.org/webt/k5/4e/a1/k54ea1vfb82j0lsk6o-xhngk0cw.png"><br> 通过FAST算法验证的像素 </p><br><p> 哈里斯方法的替代方法是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FAST</a> 。 顾名思义，FAST比上述方法快得多。 该算法尝试找到位于对象边缘和角落的点，即 在对比差异的地方。 它们的位置如下：FAST在候选像素周围建立一个半径为R的圆，并检查它是否具有长度为t的连续像素段，该像素段比候选像素更暗（或更亮）K个单位。 如果满足此条件，则将像素视为“关键点”。 对于特定的t，我们可以通过添加一些初步的检查来有效地实现此启发式检查，这些检查将切断保证为非拐角的像素。 例如，当 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-753"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754">R</span><span class="MJXp-mo" id="MJXp-Span-755" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-756">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.025ex" height="2.057ex" viewBox="0 -780.1 2594.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-33" x="2093" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-36"> R = 3 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-757"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758">t</span><span class="MJXp-mo" id="MJXp-Span-759" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-760">12</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.263ex" height="1.937ex" viewBox="0 -728.2 2696.6 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-74" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-3D" x="639" y="0"></use><g transform="translate(1695,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-32" x="500" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-37"> t = 12 </script>  ，只需检查4个极端像素中是否有3个连续像素严格比K的中心暗（或更亮）（在图片中-1、5、9、13）。 这种情况使您可以有效地切断绝对不是关键点的候选人。 </p><br><h2 id="sift">  SIFT </h2><br><p> 先前的两种算法都无法抵抗图像大小调整。 如果对象的比例已更改，它们将不允许您在图片中找到模板。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SIFT</a> （尺度不变特征变换）提供了解决此问题的方法。 拍摄从中提取关键点的图像，并开始通过一些小步骤逐渐减小其大小，对于每个比例选项，我们都会找到关键点。 缩放是一个困难的过程，但是可以通过跳过像素来有效地将其缩小2/4/8 / ...时间（在SIFT中，这些多个缩放称为“八度”）。 通过对图片应用具有不同核心尺寸的高斯蓝色，可以近似得出中间比例。 如上所述，这可以有效地在计算上完成。 如果我们先缩小图像，然后再将其放大到原始大小，结果将看起来像-丢失了小的细节，图像变得“模糊”。 </p><br><p><img src="https://habrastorage.org/webt/p3/tn/ao/p3tnao1rjzyg9q6sbhtlttktf_q.png"></p><br><p> 完成此过程后，我们计算相邻刻度之间的差异。 如果在下一个比例尺上不再可见一些小细节，或者相反，在下一个比例尺上开始捕获在上一个比例尺上不可见的某些部分，则这种差异的大（绝对值）值将变为零。 这种技术称为DoG，即高斯差分。 我们可以假设，在这种差异中非常重要的是，已经预示着图像上这个位置有一些有趣的信号。 但是我们对这个关键点最能体现出来的规模感兴趣。 为此，我们不仅将关键点视为与其周围环境不同的点，而且还将其视为在不同图像比例之间差异最大的点。 换句话说，我们不仅要在X和Y空间中选择一个关键点，还要在空间中选择一个关键点 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-761"><span class="MJXp-mrow" id="MJXp-Span-762"><span class="MJXp-mo" id="MJXp-Span-763" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764">X</span><span class="MJXp-mrow" id="MJXp-Span-765"><span class="MJXp-mo" id="MJXp-Span-766" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767">Y</span><span class="MJXp-mrow" id="MJXp-Span-768"><span class="MJXp-mo" id="MJXp-Span-769" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mrow" id="MJXp-Span-770"><span class="MJXp-mo" id="MJXp-Span-771" style="margin-left: 0.278em; margin-right: 0.278em;">比</span></span><span class="MJXp-mrow" id="MJXp-Span-772"><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0.278em; margin-right: 0.278em;">例</span></span><span class="MJXp-mrow" id="MJXp-Span-774"><span class="MJXp-mo" id="MJXp-Span-775" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.32ex" height="2.298ex" viewBox="0 -780.1 6595.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-58" x="829" y="0"></use><g transform="translate(1682,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-59" x="2512" y="0"></use><g transform="translate(3275,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(4105,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">比</text></g><g transform="translate(4935,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">例</text></g><g transform="translate(5765,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-38">（X，Y，比例）</script>  。 在SIFT中，这是通过在DoG（高斯差分）中找到局部高点或低点来完成的。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-776"><span class="MJXp-mn" id="MJXp-Span-777">3</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">x</span><span class="MJXp-mn" id="MJXp-Span-779">3</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-780">x</span><span class="MJXp-mn" id="MJXp-Span-781">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.147ex" height="1.937ex" viewBox="0 -728.2 2646.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-33" x="1073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="1573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMAIN-33" x="2146" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-39"> 3x3x3 </script> 空间立方体 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-782"><span class="MJXp-mrow" id="MJXp-Span-783"><span class="MJXp-mo" id="MJXp-Span-784" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785">X</span><span class="MJXp-mrow" id="MJXp-Span-786"><span class="MJXp-mo" id="MJXp-Span-787" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">Y</span><span class="MJXp-mrow" id="MJXp-Span-789"><span class="MJXp-mo" id="MJXp-Span-790" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mrow" id="MJXp-Span-791"><span class="MJXp-mo" id="MJXp-Span-792" style="margin-left: 0.278em; margin-right: 0.278em;">比</span></span><span class="MJXp-mrow" id="MJXp-Span-793"><span class="MJXp-mo" id="MJXp-Span-794" style="margin-left: 0.278em; margin-right: 0.278em;">例</span></span><span class="MJXp-mrow" id="MJXp-Span-795"><span class="MJXp-mo" id="MJXp-Span-796" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.32ex" height="2.298ex" viewBox="0 -780.1 6595.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-58" x="829" y="0"></use><g transform="translate(1682,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-59" x="2512" y="0"></use><g transform="translate(3275,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(4105,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">比</text></g><g transform="translate(4935,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">例</text></g><g transform="translate(5765,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-40">（X，Y，比例）</script> 在她周围： </p><br><p><img src="https://habrastorage.org/webt/bd/zk/gd/bdzkgddgrifmsizaxknwzbrbboy.png"></p><br><p> 查找关键点并构造SIFT和SURF描述符的算法已申请专利。 即，对于其商业用途，必须获得许可证。 这就是为什么它们不能从主opencv软件包中获得，而只能从单独的opencv_contrib软件包中获得的原因。 但是，到目前为止，我们的研究纯属学术性质，因此，没有什么可以阻止我们参加SIFT比较。 </p><br><h2 id="deskriptory"> 描述符 </h2><br><p> 让我们尝试将某种检测器（例如，Harris）应用于模板和图片。 </p><br><p><img src="https://habrastorage.org/webt/dl/jy/t9/dljyt9d6ngfzvnom-mx1_wt1uh4.png"><img src="https://habrastorage.org/webt/fx/cv/p5/fxcvp5gfb55nzpmfkpvn6jllyiq.png"></p><br><p> 在图片和模板中找到关键点后，您需要以某种方式将它们相互比较。 让我提醒您，到目前为止，我们仅提取了关键点的位置。 这一点的含义（例如，找到的角度指向哪个方向），我们尚未确定。 这样的描述在将图像点和图案相互比较时会有所帮助。 图片中模板的某些点可能会因变形而移动，并被其他对象覆盖，因此仅依靠点相对于彼此的位置似乎是不可靠的。 因此，让我们为每个关键点建立一个邻域，以建立特定的描述（描述符），然后使我们获得几个点（模板中的一个点，图片中的一个点），并比较它们的相似性。 </p><br><h3 id="brief"> 简讯 </h3><br><p>         (..   0  1),       ,  XOR  ,      .    ? ,    N      . ,  i-  ,      ,    —   i-    1.        N.            -     (,   —   ),       :       ,    “”.  ,       (       ).      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">BRIEF</a> . </p><br><p><img src="https://habrastorage.org/webt/ua/su/sh/uasushvojprrhmms6vfjhxhxwsc.png"><br>      .      .  ,   GII     . </p><br><p>  ,    ,    (..        ,    ,  ).    OpenCV        <a href=""></a> . </p><br><h3 id="deskriptor-sift">  SIFT </h3><br><p> SIFT     ,          .    SIFT   1616   ,      44 .      (       ,      ).       8    (, -, ,  ..).       —  8 ,     ,     .        . ,     8-   .         128 (  4*4 = 16 ,    8 ).      . </p><br><h3 id="sravnenie"> 比较方式 </h3><br><p>          ( —   ,      ),  -     : </p><br><p><img src="https://habrastorage.org/webt/qx/er/fs/qxerfsd6yqjzlxroadwnhveb3am.png"></p><br><p>   —            .      ? </p><br><p> ,    .      ,        ,     .  ,     ,      ,    ,    .         ?   BRIEF,          ,        ,      .  ,  BRIEF  1/16    .  SIFT    — -   1/4    . </p><br><p>         SIFT. </p><br><h2 id="sravnenie-detektorov">   </h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，我们将获得的所有知识应用于解决我们的问题。</font><font style="vertical-align: inherit;">在我们的案例中，对关键点检测器的需求就足够了：我们不需要不变性来调整大小，而且不需要极高的性能。</font><font style="vertical-align: inherit;">比较所有三个检测器。</font></font></p><br><table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 哈里斯角落探测器 </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 快的 </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIFT </font></font></th></tr></thead><tbody><tr><td> <a href=""><img src="https://habrastorage.org/webt/-a/bs/dk/-absdkxkvccrzrfa6t0i8arpc_e.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/pa/dl/lk/padllkwce61vmi9t3vv5hskhyv0.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/lu/3d/i-/lu3di-b7fxf3graaaxqsumerpd8.png"></a> </td></tr><tr><td> <a href=""><img src="https://habrastorage.org/webt/6_/6k/5l/6_6k5lr13o0urqqmnbnap3cbb4i.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/vn/i9/hq/vni9hq6ozwaheetajhu6dk-3ckk.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/ch/cr/dq/chcrdqlia0fjz18fmv0clf0bz-a.png"></a> </td></tr><tr><td> <a href=""><img src="https://habrastorage.org/webt/do/as/hs/doashsborvmicatlqa5tdfqfuxc.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/m9/qj/ii/m9qjiitzdkekcwv1kj7gywfjcp8.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/dg/u9/2_/dgu92__jquo-geofs1exakj0vj0.png"></a> </td></tr></tbody></table><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIFT发现按钮上的关键点很少。</font><font style="vertical-align: inherit;">这是可以理解的-按钮是一个很小的扁平对象，并且缩放无助于找到关键点。</font></font></p><br><p>同样，没有一个探测器可以处理第三种情况。 这是可以解释和预期的。 通常，以上方法用于从图片中的模板中查找对象，在该对象中对象可能会部分隐藏，旋转或略微变形。 在我们的例子中，我们不希望找到<em>完全相同的对象</em> ，而是要找到<em>一个与模板（按钮）非常相似的对象</em> 。 这是一个稍微不同的任务。 因此，更改按钮本身的形状（例如，圆角的圆角半径或点的框架的厚度）会更改其中的关键点及其描述符。 此外，关键点将位于按钮的一角。 由于边缘上的位置，这些点将不稳定：它们的确切位置和描述符受按钮旁边绘制的内容的影响。 </p><br><p> 结论-该方法很好，并且可以正确地旋转所需对象的旋转，更改其大小或部分隐藏对象的情况（例如，这对于查找复杂的对象或价格标签非常有用）。 但是，如果对象上很少有可以“抓住”的点，或者对象的形状变化太大，则模板和图像上的关键点和它们可能不一致。 同样，具有许多小细节的背景可能会移动“关键点”或更改其描述符。 </p><br><p> 我们可以提出一个使用关键点坐标的匹配项。 您可以搜索这样的点集，而无需在模板和图片上寻找相似的点对，而是可以在模板和图片上找到关键点的插入点。 在一般情况下，这是一个相当复杂的任务（无论是从计算角度还是从编程角度而言），尤其是在某些点可能移动或不存在的情况下。 但是，考虑到我们有关键点-角度，对于我们而言，找到可以大致形成所需比例的矩形的组就足够了，并且在其中没有关键点。 逐渐地，我们得出以下方法： </p><br><h1 id="contour-detection"> 轮廓检测 </h1><br><p> 通常，按钮是某种矩形对象（有时带有圆角），其侧面与坐标轴平行。 然后，让我们尝试区分对比度差异区域（边缘），并在其中找到轮廓与所需对象轮廓相似的面孔。 此方法称为轮廓检测。 </p><br><h2 id="edge-detection"> 边缘检测 </h2><br><p> 与关键点检测不同，我们不仅对关键点角度感兴趣，而且对边缘感兴趣。 但是，我们可以从那里获取基本思想。 使用高斯滤镜使图像平滑，就像在Harris角检测器中一样。 然后我们计算强度的导数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-797"><span class="MJXp-msubsup" id="MJXp-Span-798"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-800" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-41"> I_x </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-801"><span class="MJXp-msubsup" id="MJXp-Span-802"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-804" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÿ</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhgmCzpJeERu4NTvrHJ250vHH3XE3w#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-42"> I_y </script>  。 由于我们不需要区分边缘的角度，因此我们不需要考虑结构张量-计算梯度的强度就足够了： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-805"><span class="MJXp-msubsup" id="MJXp-Span-806"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-808" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-809" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-810"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-813"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-814" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-815"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-818"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> I_l = I_x ^ 2 + I_y ^ 2 </script>  （顺便说一下，这是 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-819"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ť </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- [R </font></font></span><span class="MJXp-mrow" id="MJXp-Span-822"><span class="MJXp-mo" id="MJXp-Span-823" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-824"><span class="MJXp-mo" id="MJXp-Span-825" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高</font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-826"><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> Tr（高）</script>  ，或来自结构张量的对角线的总和）。 在那之后，我们只剩下就 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-828"><span class="MJXp-msubsup" id="MJXp-Span-829"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-831" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> I_l </script>  （使用已经考虑过的非最大抑制），但作为语言环境，我们将选择8个相邻像素，而不是8个相邻像素，而这些像素是I所针对的像素，并且是相反的： </p><br><p><img src="https://habrastorage.org/webt/au/vm/v7/auvmv7glpynxvkwwg8thg2yfyze.png"></p><br><p> 所讨论的像素是蓝色，箭头是方向I。绿色像素是在非最大抑制期间要考虑的像素。 </p><br><p> 像素比较之所以如此不寻常，是因为我们不想在边框中留出空隙。 在左图中，人脸从上到下，并且由于非最大抑制不会将强度与蓝色上下的像素进行比较，因此我们得到了连续的人脸。 </p><br><p> 显然，一个非最大抑制是不够的，您需要应用某种过滤来去除Il值过低的边缘。 为此，我们采用“双重阈值”技术：我们删除所有具有Il且梯度强度低于Low阈值的像素，并将高于High阈值的所有像素指定为“强边缘”。 渐变强度介于“低”和“高”之间的像素称为“弱边缘”，仅当它们连接到“强边缘”时才保留它们： </p><br><p><img src="https://habrastorage.org/webt/cx/qt/kb/cxqtkbtz7qhbyv69raqyqxbxhs4.png"></p><br><p> 浅蓝色表示“弱肋骨”，深蓝色-强烈。 下部的肋骨被筛出，因为它们没有与任何坚固的肋骨连接。 </p><br><p> 我们刚刚描述了Canny Edge Detector。 迄今为止，它已被广泛地用作一种简单，快速的过程，使您可以找到对象的轮廓。 </p><br><h2 id="border-tracking"> 边界追踪 </h2><br><p> 下一步是在具有发现的面孔的地图中选择轮廓。 找到相关组件（已通过所有检查的相邻像素岛），并检查每个组件，它们看起来像一个按钮。 在Canny中应用非最大抑制之后，我们保证边缘将为一个像素厚，但是让我们依靠它。 对于分配给面部的每个像素，在其旁边有一个非面部像素，我们将其分配给“边框”。 从边界的一个像素移动到另一个像素，我们要么回到相同的像素（然后我们找到了路径），要么回到死胡同（然后，如果途中某个地方有叉子，您可以尝试返回）： </p><br><p><img src="https://habrastorage.org/webt/iz/jj/i_/izjji_u52eu0h9aj-iphph2fjs4.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>介绍<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了</a>考虑到不同边缘情况（例如，当具有厚脸的对象生成内部和外部两个轮廓时）的全边界跟踪算法。 应用此算法后，我们将获得一组可能是按钮的轮廓。 </p><br><h2 id="filtraciya-konturov"> 路径过滤 </h2><br><p> 如何知道我们的电路是一个按钮？ 对于矩形和多边形，有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一种</a>基于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">简化轮廓线</a>的优秀<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">方法</a> 。 如果肋条几乎在一条直线上，则逐渐将它们“塌陷”就足够了，然后计算剩余肋条的数量并检查它们之间的角度。 不幸的是，对于我们的情况，这些方法不适合-我们的矩形具有圆角。 此外，具有复杂几何图形的图形也有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">轮廓匹配</a> -但这也不关乎我们，因为我们只有一个矩形（本文中提供了带有人类轮廓的示例）。 因此，最好根据图形本身的属性制作一个过滤器。 我们知道： </p><br><ul><li> 按钮足够大（面积超过100像素） </li><li> 边平行于坐标轴 </li><li> 图形的面积与边界矩形的面积之比应非常接近于1。 我们将阈值设置为0.8，因为该按钮是边与坐标轴平行的矩形，而缺少的20％是圆角。 </li></ul><br><p> 另外，从使用关键点检测器的经验来看，我们记得按钮下方有一个对比对象时可能会出现问题。 因此，在应用Canny之后，我们会模糊边缘以封闭可能由此类对象引起的小孔。 </p><br><p> 我们应用结果方法： </p><br><p><img src="https://habrastorage.org/webt/2t/29/if/2t29ify9hc0vz1qtj55whhu7npi.png"></p><br><p>  Canny过滤器应用程序（图2）找到了必要的形状，但是由于按钮的复杂形状和渐变，一次发现了许多轮廓，并且由于非最大抑制，其中一些没有闭合。 应用模糊（3张图片）可以解决此问题。 </p><br><h1 id="testirovanie-podhoda"> 测试方法 </h1><br><p> 运行搜索结果图片中的轮廓。 将通过测试的轮廓涂成红色。 如果其中有几个，那么我们需要选择其中最成功的选项。 我们选择最大区域的轮廓，并将其涂成绿色。 </p><br><p>  | <img src="https://habrastorage.org/webt/bi/ku/ls/bikuls_blki6of3jtlyhuuffino.png">  | <img src="https://habrastorage.org/webt/bp/mt/wp/bpmtwpq00xs7zbcjp4gpwsgk6ei.png">  | <img src="https://habrastorage.org/webt/ie/kl/ts/iekltsc8zyvnbha0f3lce22505g.png">  | </p><br><p> 生成的设计在测试图像上找到了按钮。 对所有横幅的运行显示，偶尔（约20个案例中有1个案例）代替了按钮，而是选择了iOS Appstore和Google Apps的矩形图块，或其他矩形对象（手机壳）。 因此，添加了在错误确定的极少数情况下手动指示位置的功能，我们在定位工具中实现了此选项。 </p><br><h1 id="zaklyuchenie"> 结论 </h1><br><p> 总结一下。 无需深度学习的“经典”简历仍然可以工作，并基于此可以解决问题。 它们毫不客气，不需要大量标记数据，功能强大的硬件，并且易于调试。 但是，他们引入了其他假设，因此，在他们的帮助下，并不是每个问题都能得到有效解决。 </p><br><ul><li>  <strong>模板匹配</strong>是最简单的方法，它基于在图像中找到与模板最相似（通过某种简单度量）的位置。 对逐像素匹配有效。 可以使其抗弯曲和尺寸变化较小，但是如果变化较大，则可能无法正常工作。 </li><li>  <strong>关键点检测/匹配</strong> -查找关键点，使图像和模板的点匹配。 检测器可以抵抗旋转，缩放（取决于所选的检测器和描述符），并且可以匹配部分重叠。 但是，只有在对象中有足够的“关键点”并且模板和图像点的位置非常吻合（即，模板和图片上的对象相同）时，此方法才有效。 </li><li>  <strong>轮廓检测</strong> -查找对象的轮廓，并找到与所需对象轮廓相似的轮廓。 此解决方案仅考虑对象的形状，而忽略其内容和颜色（可以是加号也可以是减号）。 <br> 博学的读者可能会注意到，借助现代训练有素的计算机视觉方法可以解决我们的问题。 例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">YOLO</a>网络返回所需对象的边界框-这正是我们感兴趣的。 是的，我们成功地测试并启动了基于深度学习的解决方案-但是这是第二次迭代（已经在本地化工具启动并开始工作之后）。 这些解决方案更能抵抗按钮参数的更改，并具有许多积极的特性：例如，您无需动手拿起阈值和参数，而只需在训练集中添加错误的网络示例（主动学习）即可。 将深度学习用于我们的任务有其问题和有趣之处。 例如，许多现代计算机视觉方法需要大量的标记图像，但是我们没有标记（在许多实际情况下），并且不同标语的总数不超过数千。 因此，我们决定自己布置少量图像，并编写一个生成器，以根据它们创建其他类似的横幅。 在这个方向上有很多<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有趣的技巧</a> 。 还有许多其他陷阱，确定计算机视觉对象位置的任务非常艰巨，并且有很多解决方案。 因此，决定限制文章的视野，并且不考虑基于深度学习的决策。 </li></ul><br><p> 可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">存储库中</a>找到带有记事本的代码，这些记事本可以实现所描述的方法并绘制文章的图片。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN445354/">https://habr.com/ru/post/zh-CN445354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN445344/index.html">OpenVox统一通信平台</a></li>
<li><a href="../zh-CN445346/index.html">如何编写错误的API</a></li>
<li><a href="../zh-CN445348/index.html">SNA Hackathon 2019：简化体系结构-简化功能</a></li>
<li><a href="../zh-CN445350/index.html">Sonata-SIP设置服务器</a></li>
<li><a href="../zh-CN445352/index.html">Kubernetes上的Spark结构化流应用程序。 体验FASTEN RUS</a></li>
<li><a href="../zh-CN445356/index.html">DUMP-2019的移动部分概述：在日常工作中得到最大应用和帮助</a></li>
<li><a href="../zh-CN445358/index.html">在Unity中组织事件系统-通过游戏设计师的眼光</a></li>
<li><a href="../zh-CN445360/index.html">JavaScript采访的5个典型任务：解析和解决方案</a></li>
<li><a href="../zh-CN445362/index.html">《分布式系统》一书。 设计模式</a></li>
<li><a href="../zh-CN445366/index.html">由于SIMD块，如何根据Baikal-T1处理器上的GOST 28147-89加快加密速度</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>