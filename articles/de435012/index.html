<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❌ 🍛 ♂️ Das erste Videospiel für Alice oder Sprachassistent als Gamecontroller 👦🏾 🧘🏿 🧚🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei der Arbeit schaffe ich nützliche Fähigkeiten für Alice und in meiner Freizeit habe ich versucht, mit einem Sprachassistenten mit Freunden in meine...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Das erste Videospiel für Alice oder Sprachassistent als Gamecontroller</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435012/"><img src="https://habrastorage.org/webt/ct/qb/9r/ctqb9rcrgjam2yqq0xgcamfbst0.png"><br><br>  Bei der Arbeit schaffe ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nützliche Fähigkeiten für Alice</a> und in meiner Freizeit habe ich versucht, mit einem Sprachassistenten mit Freunden in meiner häuslichen Umgebung zu spielen.  Ich habe bereits meine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwicklung eines Textspiels</a> für einen oder zwei Spieler beschrieben, aber diesmal teile ich meine Erfahrungen bei der Erstellung eines Videospiels für ein ganzes Unternehmen. <br><a name="habracut"></a><br><h2>  Spielregel </h2><br>  Ich wollte kein vorhandenes Spiel auf Alice portieren, sondern ein originelles Spiel entwickeln, das die Fähigkeit von Alice nutzt, Sprache zu erkennen. <br><br>  Viele Bilder erscheinen in Kreisen und Quadraten in verschiedenen Farben auf dem Bildschirm.  Die Aufgabe des Spielers besteht darin, ein Objektpaar auf demselben Hintergrund zu erkennen und eine Phrase der Form zu bilden: Adjektiv + Substantiv.  Darüber hinaus muss das Adjektiv aus einem Objekt in einem Kreis und ein Substantiv aus einem Objekt in einem Quadrat gebildet werden.  Daher der Name des Spiels - "Round Square". <br><br>  Der Spieler, der die Phrase aufgerufen hat, erhält Punkte.  Der Gewinner ist derjenige, der in der Runde (2 Minuten) 10 Punkte oder die meisten Punkte erzielt hat.  Das Gameplay wird in einem kurzen Video gezeigt. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/TfDA2WrnyNI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Wir haben uns für die Regeln entschieden - gehen Sie zur Technik. <br><br><h2>  Controller </h2><br>  Um das Spielfeld anzuzeigen, benutze ich einen großen Fernseher, auf dem ich die Website des Spiels öffne.  Wenn das Fernsehgerät keine Internetverbindung hat, können Sie das Bild vom Computer darauf anzeigen oder auf dem Monitor abspielen. <br><br>  Der visuelle Teil des Spiels ist in JavaScript geschrieben.  Alle Objekte: Spielfeld und HUD - werden mit den Canvas 2D-API-Methoden zum Zeichnen von Rechtecken, Text und Bildern erstellt.  Einmal alle 50 ms wird der Bildschirm aktualisiert.  Der gesamte Code ist in einer einzigen HTML-Datei konzentriert, einschließlich der im Base64-Format codierten Bilder. <br><br>  Jetzt müssen Sie eine Schnittstelle implementieren, die die Phrasen der Spieler akzeptiert.  Glücklicherweise wird die Aufgabe der Spracherkennung von Sprachassistenten gelöst.  Yandex bietet einen solchen Service kostenlos für Benutzer und Entwickler von Alices Sprachanwendungen (Fähigkeiten) an. <br><br>  Fügen Sie die Fähigkeit hinzu, einen Sprachassistenten zu spielen.  Jetzt kann jeder Spieler die Sprachanwendung auf seinem eigenen Telefon oder in einem intelligenten Lautsprecher aktivieren und Repliken über ein Mikrofon an die Site senden. <br><br><div class="scrollable-table"><table><tbody><tr><th><img src="https://habrastorage.org/webt/qc/os/q5/qcosq5zv0dd0iqapwwmeljipgfu.jpeg"></th><th><img src="https://habrastorage.org/webt/is/cv/rt/iscvrtu-gf2qrs6rxbmy1vluspe.jpeg"></th></tr></tbody></table></div><br><h2>  Backend </h2><br>  Es bleibt, die Replik des Benutzers einer bestimmten Spielpartei zuzuordnen.  Dazu benötigen wir einen Server: Für jeden Stapel wird eine Nummer generiert, eine HTML-Seite registriert sie auf dem Server und zeigt sie dem Benutzer an.  Der Benutzer ruft diese Nummer beim Sprachassistenten an und dieser registriert über den Web-Hook des Servers einen neuen Spieler im entsprechenden Spiel.  Nachfolgende Benutzerrepliken werden über WebSocket auf sein Spiel übertragen. <br><br>  Der Client-Code zum Erstellen eines Web-Sockets und zum erneuten Verbinden beim Trennen der Verbindung sieht folgendermaßen aus: <br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">websocketServerLocation</span></span></span><span class="hljs-function">)</span></span>{ ws = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebSocket(websocketServerLocation); ws.onopen = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ gameN = game.id; }; ws.onclose = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ gameN = <span class="hljs-string"><span class="hljs-string">"--"</span></span>; start(HOST); }; wsSend({<span class="hljs-string"><span class="hljs-string">"gameId"</span></span>: game.id}); } start(HOST);</code> </pre> <br>  Bei Verbindung mit dem Server sendet ihm der Client die Spielnummer.  Unten finden Sie den Servercode, der eine Verbindung herstellt und die Kontrolle über das Spiel mit der akzeptierten Nummer initiiert: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wss = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SocketServer({ server }); wss.on(<span class="hljs-string"><span class="hljs-string">'connection'</span></span>, (ws) =&gt; { ws.on(<span class="hljs-string"><span class="hljs-string">'close'</span></span>, () =&gt; { remConn(ws.gameId); }); ws.on(<span class="hljs-string"><span class="hljs-string">'message'</span></span>, msg =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(msg); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data.gameId) { ws.gameId = data.gameId.toString(); addGame(ws); } }); });</code> </pre><br>  In diesem Fall kann derselbe Server Seiten für den Browser rendern und auf Alices Web-Hooks reagieren: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> server = express().use(bodyParser.json()).use(<span class="hljs-string"><span class="hljs-string">'*'</span></span>, (req, res) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (req.body &amp;&amp; req.body.request) { <span class="hljs-comment"><span class="hljs-comment">//   toAnswer  - res.json({ version: req.body.version, session: req.body.session, response: toAnswer, }); } else { // -   res.sendFile(INDEX); } }).listen(PORT);</span></span></code> </pre><br><h2>  Fazit </h2><br>  Das Ergebnis war ein originelles Videospiel für das Unternehmen.  Es wurde am 28. November 2018 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in Alice veröffentlicht</a> und war das erste Videospiel, das ich für diesen Sprachassistenten kenne. <br><br>  Übrigens, schon vor dem Aufkommen von Alice und Google Assistant fühlten sich die Leute ein Fan der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sprachsteuerung in Spielen</a> .  Dank der Allgegenwart von Geräten mit Mikrofonen und Lautsprechern und der Entwicklung der Sprachtechnologie werden Sprachassistenten zu verfügbaren Gamecontrollern, die eine neue Benutzererfahrung bieten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435012/">https://habr.com/ru/post/de435012/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434996/index.html">Wie ich den Standort über die VK-API freigegeben habe</a></li>
<li><a href="../de434998/index.html">Ein weiterer Artikel zur Auswahl eines Smartphones</a></li>
<li><a href="../de435002/index.html">IDA Pro aktualisieren. Debugger für Sega Mega Drive (Teil 2)</a></li>
<li><a href="../de435006/index.html">Wo und wie machen Kernreaktoren</a></li>
<li><a href="../de435010/index.html">Digitale Texte: Eine Mega-Auswahl an Songs und Clips über Programmierung und Programmierer</a></li>
<li><a href="../de435014/index.html">Dart vs Node.js: Vergleich der Leistung bei HTTP-Server-Implementierungen</a></li>
<li><a href="../de435016/index.html">Was Larry Ellison zu Tesla bringen wird</a></li>
<li><a href="../de435018/index.html">Im Jahr 2018 haben wir endlich begonnen, die Zeit, die wir mit dem Smartphone verbracht haben, ernst zu nehmen</a></li>
<li><a href="../de435020/index.html">Unterhaltungselektronik Hall of Fame: Die Geschichten der besten Geräte der letzten 50 Jahre, Teil 2</a></li>
<li><a href="../de435026/index.html">Wir machen einen Boten *, der auch im Aufzug funktioniert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>