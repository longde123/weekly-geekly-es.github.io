<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฃ ๐คก โ๏ธ ADSM3. ูุธู IPAM / DCIM โบ๏ธ ๐จ๐ปโ๐จ ๐ฏ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุณูุณูุฉ ADSM ุงูุณุงุจูุฉ ุ ูููุง ุจุชุทููุฑ ุฅุทุงุฑ ุงูุฃุชูุชุฉ ุ ุงูุชุดููุง ุณุจุจ ุธููุฑ ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ูููู ุชุนูู. ูู ุงูุฌุฒุก ุงูุฃุฎูุฑ ุ ูููุง ุจุงุฎุชูุงุฑ ูุชุจุฑูุฑ ุชุตููู ุงูุดุจูุฉ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ADSM3. ูุธู IPAM / DCIM</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486000/" style=";text-align:right;direction:rtl"> ูู ุณูุณูุฉ ADSM ุงูุณุงุจูุฉ ุ ูููุง ุจุชุทููุฑ ุฅุทุงุฑ ุงูุฃุชูุชุฉ ุ ุงูุชุดููุง ุณุจุจ ุธููุฑ ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ูููู ุชุนูู.  ูู <a href="https://linkmeup.ru/blog/479.html" rel="nofollow">ุงูุฌุฒุก ุงูุฃุฎูุฑ ุ</a> ูููุง ุจุงุฎุชูุงุฑ ูุชุจุฑูุฑ ุชุตููู ุงูุดุจูุฉ ุ ูุฃุฏูุงุฑ ุงูุฃุฌูุฒุฉ ูุงููุตูุนูู ุ ููุฑุฑุช ุนูู LLD (ุนูููุฉ ุ ูุชูุฌูู ุ ูุนุฏุฏ ูู ุฃูุธูุฉ ุงูุญูู ุงูุฐุงุชู). <br><br>  ูุญู ุงูุขู ุนูู ุงุณุชุนุฏุงุฏ ููุชูููุฑ ูู ููููุฉ ุชุฎุฒูู ูุฐุง ุงูุฌุจู ุจุฃูููู ูู ุงููุนูููุงุช ุซู ุงุณุชุนุงุฏุชู ุจุณูููุฉ. <br><br>  ูุง ุ ุจุงูุทุจุน ุ ููุงู ุดุฑูุงุช ุงูููู ุชุชุชุจุน ุนูุงููู IP ุงููุฎุตุตุฉ ูู ุฌุฏูู ุจูุงูุงุช Excel.  ููู ูุฐุง ููุณ ุทุฑูููุง. <br><br>  ุญุชู ุจุงููุณุจุฉ ูุฃุตุบุฑ ููุชุจ ูู ูุฑุนูู ุ ูุฅู ูุฌูุฏ ูุธุงู ูุฑูุฒู ูุฅุฏุงุฑุฉ ุงูููููุฉ ุงูููุฑูุฉ ูู ูุถุฑ. <br><br>  ุงูุญุงุฌุฉ ุฅูู ูุธุงู ุฌุฑุฏ ูุงุถุญ ุฏูู ูููุฉ. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b44/a21/5cc/b44a215cc7c93ecf6eeca48c41d721d9.svg" width="800"><br><br>  ุฌููุน ูุถุงูุง ADSM: <br><br>  <a href="https://habr.com/ru/post/453516/">0. ADSM.</a>  <a href="https://habr.com/ru/post/453516/">ุงูุฌุฒุก ุตูุฑ.</a>  <a href="https://habr.com/ru/post/453516/">ุชุฎุทูุท</a> <br>  <a href="https://habr.com/ru/post/458622/">1. ADSM.</a>  <a href="https://habr.com/ru/post/458622/">ุงูุฌุฒุก ุงูุฃูู (ูุงูุฐู ูู ุจุนุฏ ุงูุตูุฑ).</a>  <a href="https://habr.com/ru/post/458622/">ุงูุดุจูุฉ ุงูุงูุชุฑุงุถูุฉ</a> <br>  <a href="https://habr.com/ru/post/475614/">2. ADSM.</a>  <a href="https://habr.com/ru/post/475614/">ุงูุฌุฒุก ุงูุซุงูู.</a>  <a href="https://habr.com/ru/post/475614/">ุชุตููู ุงูุดุจูุงุช</a> <br>  <a href="https://habr.com/ru/post/485618/">3. ADSM.</a>  <a href="https://habr.com/ru/post/485618/">ุงูุฌุฒุก ุงูุซุงูุซ.</a>  <a href="https://habr.com/ru/post/485618/">ูุธุงู IPAM / DCIM</a> <br><br>  ูุฐู ุงููุดููุฉ ุณุฃูุฑุณูุง ููุฃูุธูุฉ ุงููุชูุงููุฉ ูู ุฃุชูุชุฉ ุงูุดุจูุงุช - ูุธุงู ุฅุฏุงุฑุฉ ูุณุงุญุฉ ุงูุนููุงู ููุธุงู ุงููุฎุฒูู. <br><br>  ุณูููู ุจุงุฎุชูุงุฑู ูุชุซุจูุชู ุ ูุณูุชุนุงูู ูุน ุงูุจููุฉ ููุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุงุฌูุงุช ุงูุชูุงุนู ูููุฆู.  ููู ุงูุฃุฌุฒุงุก ุงูุชุงููุฉ ุ ุณูุจุฏุฃ ูู ูุชุงุจุฉ ูุตูุต ุจุณูุทุฉ ุชุนูู ุนูู ุฃุชูุชุฉ ุงูุนูููุงุช ุงููุชูุฑุฑุฉ ุ ูุซู ุฅุถุงูุฉ ุฑููู ุฌุฏูุฏุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุฏ ููุช ุจุงููุนู ุจูุดุฑ ููุงูุฉ ูููุตูุฉ ุนู <a href="https://habr.com/ru/post/485618/">ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RESTful</a> ุ ูุงูุชู ููุช ูููุง ุจูุฑุงุฌุนุฉ ูุฎุชุตุฑุฉ ููุจุงุฏุฆูุง ูุนูููุง ุ ูุณูุญุชุงุฌ ุฅูููุง. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ูุญุชูู </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุจููุฉ ุงููุธุงู</b> </li><li style=";text-align:right;direction:rtl">  <b>ูุฎุทุท ุจูุงูุงุช NetBox</b> </li><li style=";text-align:right;direction:rtl">  <b>ุงุณุชูุชุงุฌ</b> </li><li style=";text-align:right;direction:rtl">  <b>ุจุนุถ ุงููุฑูู ุงูุฏูููุฉ ูู ุชุซุจูุช NetBox</b> </li><li style=";text-align:right;direction:rtl">  <b>ููููุง ุนู ุจูุณุชุฌุฑุณ</b> </li><li style=";text-align:right;direction:rtl">  <b>ุฑูุงุจุท ูููุฏุฉ</b> </li></ul><br>  ุงูููู ุ ููุฏู ุงูุณูู ุญูุงูู 12 ุฃุฏุงุฉ ุชููุฐ ูุฐู ุงููููุฉ: ูุฏููุนุฉ ูููุชูุญุฉ ุงููุตุฏุฑ. <br><br>  ุจุงููุณุจุฉ ููููุงู ูู ุณูุณูุฉ ุงูููุงูุงุช ูุฐู ุ ุงุฎุชุฑุช NetBox ููุฃุณุจุงุจ ุงูุชุงููุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูู ูุฌุงูู </li><li style=";text-align:right;direction:rtl">  ุฃูู ูุญุชูู ุนูู ูู ูู ุงูุฃุฌุฒุงุก ุงูุถุฑูุฑูุฉ - ุฅุฏุงุฑุฉ ุงููุฎุฒูู ููุณุงุญุฉ IP. </li><li style=";text-align:right;direction:rtl">  ูุฏููุง ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูุฑูุญุฉ. </li><li style=";text-align:right;direction:rtl">  ุชู ุชุทููุฑู ุจูุงุณุทุฉ Digital Ocean (ูุจุดูู ุฃูุซุฑ ุชุญุฏูุฏุงู ุ ูุญุจูุจ ูู ูุจู ุงูุฌููุน Jeremy Stretch) ูููุณู ุ ุฃู ููุฑุงูุฒ ุงูุจูุงูุงุช.  ูุฐูู ุ ููุงู ูู ูุง ุชุญุชุงุฌู ุชูุฑูุจูุง ุ ููุง ุดูุก ุชูุฑูุจูุง. </li><li style=";text-align:right;direction:rtl">  ุฅูู ูุฏุนูู ุจุดูู ูุดุท (ุณูุงู ุ ุฌูุซุจ ุ ุฌูุฌู ููุฃูุจุงุก ุงูุฅุฎุจุงุฑูุฉ) ููุชู ุชุญุฏูุซู. </li><li style=";text-align:right;direction:rtl">  ูุฐุง ููุชูุญ ุงููุตุฏุฑ </li></ol><br><blockquote style=";text-align:right;direction:rtl">  ูุชูุจูุฉ ุงุญุชูุงุฌุงุช ADSM ุ ููุช ุจูุดุฑ NetBox ูู virtualochka ุนูู ุงูุฎุงุฏู ุงูุฎุงุต ุจูุง (ุจูุถู Anton Klochkov ู <a href="https://miran.ru/" rel="nofollow">Miran</a> ): <a href="http://netbox.linkmeup.ru:45127/" rel="nofollow">http://netbox.linkmeup.ru:45127</a> <br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุช ุจููุก ุฌููุน ุงูุจูุงูุงุช ุงูุชู ูุญุชุงุฌูุง ูู ุงููุณุชูุจู ุชูุฑูุจูุง. <br>  ูุฐูู ุ ููููู ุชุฌุฑุจุฉ ุฌููุน ุงูุฃูุซูุฉ ุชูุฑูุจูุง ูุฏุฑุงุณุฉ ูุธุงู ุงูุจูุงูุงุช ูู ูุถุน ุงููุฑุงุกุฉ ุญุชู ุชููู ุจูุดุฑ ุงูุชุซุจูุช. <br></blockquote>  ูููุฏ ููููุงู ูุจู ุงูุจุฏุก: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://github.com/netbox-community/netbox" rel="nofollow">NetBox ููุณูุง ุนูู ุฌูุซุจ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/netbox-community/netbox-docker" rel="nofollow">ูุณุฎุฉ ุงูุญุงููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://netbox.readthedocs.io/en/stable/" rel="nofollow">ุฃููู ุชุนูููุงุช ุงูุชุซุจูุช ูุฌููุน ูุซุงุฆู ุงูููุชุฌ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/digitalocean/pynetbox" rel="nofollow">Python NetKox SDK</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/api/docs/" rel="nofollow">ูุซุงุฆู API</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://groups.google.com/forum/" rel="nofollow">ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://networktocode.slack.com/" rel="nofollow">NetworkToCode ุณูุงู ุงูููุงุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/485618/">ูุง ูู ุงูุฑุงุญุฉุ</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/" rel="nofollow">ุชุซุจูุช NetBox ูู ADSM</a> </li></ul><br><hr><br><h1 style=";text-align:right;direction:rtl">  ุจููุฉ ุงููุธุงู </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  NetBox ููุชูุจ ูู Python3.  ููุฐุง ุฃูุฑ ุฌูุฏ ุ ูุฃู ุนุฏุฏูุง ูู ุงูุญููู ุงูุฃุฎุฑู ููุชูุจุฉ ุจูุบุฉ php ูุชุบููุฑูุง ุฅุฐุง ูุฒู ุงูุฃูุฑ ููุณ ุจูุฐู ุงูุจุณุงุทุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุทุงุฑ ุงููููุน ููุณู ูู ุฌุงูุบู. </li><li style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ุจูุณุชุฌุฑุณ ููุงุนุฏุฉ ุงูุจูุงูุงุช. </li><li style=";text-align:right;direction:rtl">  WEB-frontend (HTTP-service) - NGINX - ูููู ุจุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู Gunicron. </li><li style=";text-align:right;direction:rtl">  WSGI - Gunicorn - ุงููุงุฌูุฉ ุจูู Nginx ูุงูุชุทุจูู ููุณู. </li><li style=";text-align:right;direction:rtl">  ุฅุทุงุฑ ูุซุงุฆู API - Swagger. </li><li style=";text-align:right;direction:rtl">  ุดูุทูุฉ NetBox - Systemd. </li></ul><br><blockquote style=";text-align:right;direction:rtl">  NetBox ูู ูุดุฑูุน ุดุงุจ ุณุฑูุน ุงูุฎุทู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู 2.7 ุชุฑููุง ุงููุดุฑู ูุจูุซูู 2.7 ุงููุตูู ุฅูููุง ูุตุงูุญ systemd.  ููุฐ ููุช ููุณ ุจุจุนูุฏ ุ ูู ููู ููุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฃู Webhooks. <br><br>  ูุฐูู ุ ูุชุบูุฑ ูู ุดูุก ุจุณุฑุนุฉ ููุฏ ุชุตุจุญ ุงููุนูููุงุช ุงููุงุฑุฏุฉ ูู ุงูููุงูุฉ ูุฏููุฉ ููุช ุงููุฑุงุกุฉ. <br></blockquote><br>  ุจูุนูู ุขุฎุฑ ุ ุฌููุน ุงูููููุงุช ูุงุถุฌุฉ ููุฎุชุจุฑุฉ. <br><br>  ููููุง ูููุคูู ุ ูุง ูุนูุณ NetBox ุงูุญุงูุฉ ุงูุญููููุฉ ููุดุจูุฉ ุ ูููู ุงููุฏู.  ูุฐูู ุ ูุง ูุชู ุชุญููู ุฃู ุดูุก ูู NetBox ูู ุงูุดุจูุฉ - ูุชู ุชูููู ูุฐู ุงูุดุจูุฉ ููููุง ููุญุชููุงุช NetBox. <br>  ูุจุงูุชุงูู ุ ูุนูู NetBox ููุตุฏุฑ ุงูุญูููุฉ ุงููุญูุฏ (ูุฑูุฉ ุงูุชุชุจุน ูุน ูุตุฏุฑ ุงูุญูููุฉ ูุงุญุฏ). <br><br>  ูุงูุชุบููุฑุงุช ุนูู ุงูุดุจูุฉ ูุฌุจ ุฃู ุชููู ูุงุฌูุฉ ุนู ุงูุชุบููุฑุงุช ูู NetBox. <br><br>  ููู ููุงุณุจ ุจุดูู ุฌูุฏ ุงูุฃูุฏููููุฌูุฉ ุงูุชู ุฃุฏุฑุณูุง ูู ูุฐู ุงูุณูุณูุฉ ูู ุงูููุงูุงุช - ุฅุฐุง ููุช ุชุฑูุฏ ุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูู ุงูุดุจูุฉ - ูู ุฃููุงู ุจุฅุฏุฎุงููุง ูู ุงููุธุงู. <br><br><hr><br><h1 style=";text-align:right;direction:rtl">  ูุฎุทุท ุจูุงูุงุช NetBox </h1><br>  ุงููููุชุงู ุงูุฑุฆูุณูุชุงู ุงูุชู ูุญููุง NetBox ูู ุฅุฏุงุฑุฉ ูุณุงุญุฉ ุงูุนููุงู ูุฌุฑุฏูุง. <br><br>  ูู ุบูุฑ ุงููุฑุฌุญ ุฃู ูุตุจุญ NetBox ูู ูุธุงู ุงููุฎุฒูู ุงููุญูุฏ ูู ุงูุดุฑูุฉ ุ ุจู ุณูููู ูุธุงููุง ุฅุถุงูููุง ูุญุฏุฏูุง ูุฌุฑุฏ ุงูุดุจูุฉ ุ ูุน ุฃุฎุฐ ุงูุจูุงูุงุช ูู ุงููุธุงู ุงูุฑุฆูุณู. <br><br>  ูู ุงููุงุถุญ ุ ูู ุญุงูุชูุง ุ ุณูููู ููุงู NetBox ููุท ูุฃุบุฑุงุถ ADSM. <br><blockquote style=";text-align:right;direction:rtl">  ูู ูุฐู ุงููุฑุญูุฉ ุ ุชู ุจุงููุนู ุฅุฏุฎุงู ูุนุธู ุงูุจูุงูุงุช ุงูุฃูููุฉ ูู NetBox. <br>  ูู ูุฐู ุงูุจูุงูุงุช ุ ุณุฃุนุฑุถ ุฃูุซูุฉ ูุฎุชููุฉ ููุนูู ูู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. <br>  ููููู ููุท ุงูุตุนูุฏ ูุฑุคูุฉ: <a href="http://netbox.linkmeup.ru/" rel="nofollow">netbox.linkmeup.ru</a> : 45127 <br>  ูุณุชููู ููุงู ุญุงุฌุฉ ุฅูู ููุณ ุงูุจูุงูุงุช ูู ุงููุณุชูุจู ุ ุนูุฏูุง ููุชูู ุฅูู ุงูุฃุชูุชุฉ. <br></blockquote>  ุจุดูู ุนุงู ุ ูููู ุฑุคูุฉ ูุฎุทุท ุงูุจูุงูุงุช ุจูุงุณุทุฉ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Postgres. <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">List of relations Schema | Name | Type | Owner --------+------------------------------------+-------+-------- public | auth_group | table | netbox public | auth_group_permissions | table | netbox public | auth_permission | table | netbox public | auth_user | table | netbox public | auth_user_groups | table | netbox public | auth_user_user_permissions | table | netbox public | circuits_circuit | table | netbox public | circuits_circuittermination | table | netbox public | circuits_circuittype | table | netbox public | circuits_provider | table | netbox public | dcim_cable | table | netbox public | dcim_consoleport | table | netbox public | dcim_consoleporttemplate | table | netbox public | dcim_consoleserverport | table | netbox public | dcim_consoleserverporttemplate | table | netbox public | dcim_device | table | netbox public | dcim_devicebay | table | netbox public | dcim_devicebaytemplate | table | netbox public | dcim_devicerole | table | netbox public | dcim_devicetype | table | netbox public | dcim_frontport | table | netbox public | dcim_frontporttemplate | table | netbox public | dcim_interface | table | netbox public | dcim_interface_tagged_vlans | table | netbox public | dcim_interfacetemplate | table | netbox public | dcim_inventoryitem | table | netbox public | dcim_manufacturer | table | netbox public | dcim_platform | table | netbox public | dcim_powerfeed | table | netbox public | dcim_poweroutlet | table | netbox public | dcim_poweroutlettemplate | table | netbox public | dcim_powerpanel | table | netbox public | dcim_powerport | table | netbox public | dcim_powerporttemplate | table | netbox public | dcim_rack | table | netbox public | dcim_rackgroup | table | netbox public | dcim_rackreservation | table | netbox public | dcim_rackrole | table | netbox public | dcim_rearport | table | netbox public | dcim_rearporttemplate | table | netbox public | dcim_region | table | netbox public | dcim_site | table | netbox public | dcim_virtualchassis | table | netbox public | django_admin_log | table | netbox public | django_content_type | table | netbox public | django_migrations | table | netbox public | django_session | table | netbox public | extras_configcontext | table | netbox public | extras_configcontext_platforms | table | netbox public | extras_configcontext_regions | table | netbox public | extras_configcontext_roles | table | netbox public | extras_configcontext_sites | table | netbox public | extras_configcontext_tags | table | netbox public | extras_configcontext_tenant_groups | table | netbox public | extras_configcontext_tenants | table | netbox public | extras_customfield | table | netbox public | extras_customfield_obj_type | table | netbox public | extras_customfieldchoice | table | netbox public | extras_customfieldvalue | table | netbox public | extras_customlink | table | netbox public | extras_exporttemplate | table | netbox public | extras_graph | table | netbox public | extras_imageattachment | table | netbox public | extras_objectchange | table | netbox public | extras_reportresult | table | netbox public | extras_tag | table | netbox public | extras_taggeditem | table | netbox public | extras_webhook | table | netbox public | extras_webhook_obj_type | table | netbox public | ipam_aggregate | table | netbox public | ipam_ipaddress | table | netbox public | ipam_prefix | table | netbox public | ipam_rir | table | netbox public | ipam_role | table | netbox public | ipam_service | table | netbox public | ipam_service_ipaddresses | table | netbox public | ipam_vlan | table | netbox public | ipam_vlangroup | table | netbox public | ipam_vrf | table | netbox public | secrets_secret | table | netbox public | secrets_secretrole | table | netbox public | secrets_secretrole_groups | table | netbox public | secrets_secretrole_users | table | netbox public | secrets_sessionkey | table | netbox public | secrets_userkey | table | netbox public | taggit_tag | table | netbox public | taggit_taggeditem | table | netbox public | tenancy_tenant | table | netbox public | tenancy_tenantgroup | table | netbox public | users_token | table | netbox public | virtualization_cluster | table | netbox public | virtualization_clustergroup | table | netbox public | virtualization_clustertype | table | netbox public | virtualization_virtualmachine | table | netbox</code> </pre> <br>  <a href="https://netbox.readthedocs.io/en/stable/" rel="nofollow">ููุฒุงุช NetBox</a> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุฅุฏุงุฑุฉ ุนููุงู IP (IPAM)</b> - ุจุงุฏุฆุงุช IP ุ ูุงูุนูุงููู ุ VRFs ู VLAN </li><li style=";text-align:right;direction:rtl">  <b>ุฑููู ุงููุนุฏุงุช</b> - <b>ุฑููู ุงููุนุฏุงุช</b> ูุฑุชุจุฉ ุญุณุจ ุงููููุน ูุงููุฌููุนุฉ ูุงูุฏูุฑ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฃุฌูุฒุฉ</b> - ุงูุฃุฌูุฒุฉ ูููุงุฐุฌูุง ูุฃุฏูุงุฑูุง ูููููุงุชูุง ููุดุฑูุง </li><li style=";text-align:right;direction:rtl">  <b>ุงูุงุชุตุงูุงุช</b> - <b>ุงุชุตุงูุงุช</b> ุงูุดุจูุฉ ููุญุฏุฉ ุงูุชุญูู ูุงุชุตุงูุงุช ุงูุทุงูุฉ ุจูู ุงูุฃุฌูุฒุฉ </li><li style=";text-align:right;direction:rtl">  <b>ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ</b> - ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ููุฌููุนุงุช ุงูุญูุณุจุฉ </li><li style=";text-align:right;direction:rtl">  <b>ุฏุงุฑุงุช ุงูุจูุงูุงุช</b> - ุงุชุตุงูุงุช ุงููุฒูุฏ </li><li style=";text-align:right;direction:rtl">  <b>ุฃุณุฑุงุฑ</b> - ุชุฎุฒูู ุจูุงูุงุช ุงุนุชูุงุฏ ุงููุณุชุฎุฏู ุงููุดูุฑ </li></ul><br>  ุณูู ุฃุชุทุฑู ูู ูุฐู ุงูููุงูุฉ ุฅูู ุงูุฃุดูุงุก ุงูุชุงููุฉ: DCIM - ุฅุฏุงุฑุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ููุฑูุฒ ุงูุจูุงูุงุช ุ IPAM - ุฅุฏุงุฑุฉ ุนูุงููู IP ุ ุงูุงูุชุฑุงุถูุฉ ุ ุฃุดูุงุก ูุทููุฉ ุฅุถุงููุฉ. <br><br><hr><br>  ุฃูู ุงูุฃุดูุงุก ุฃููุงู. <br><br><h2 style=";text-align:right;direction:rtl">  DCIM </h2><br>  ุงูุฌุฒุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุจูุง ุดู ุงููุนุฏุงุช ุงูููุฌูุฏุฉ ูุฏููุง ูููู ูุชู ุชูุตูููุง ูุน ุจุนุถูุง ุงูุจุนุถ.  ูููู ูู ุดูุก ูุจุฏุฃ <b>ุญูุซ</b> ููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูููุงุทู ูุงูููุงูุน (ุงูููุงุทู / ุงูููุงูุน) </h3><br>  ูู ูููุฐุฌ NetBox ุ ูุชู ุชุซุจูุช ุงูุฌูุงุฒ ุนูู ูููุน ูุง ุ ููู ูููุน ููุชูู ุฅูู ููุทูุฉ ูุง ุ ููููู ุชุฏุงุฎู ุงูููุงุทู.  ููุน ุฐูู ุ ูุง ูููู ุชุซุจูุช ุงูุฌูุงุฒ ุจุจุณุงุทุฉ ูู ุงูููุทูุฉ.  ุฅุฐุง ูุงูุช ููุงู ุญุงุฌุฉ ุ ูุฌุจ ุฅูุดุงุก ูููุน ูููุตู. <br><br>  ุจุงููุณุจุฉ ูุญุงูุชูุง ุ ูุฏ ูุจุฏู ูุฐุง (ูุณูุจุฏู) ููุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/dcim/sites/%3Fregion%3Dru" rel="nofollow">ุฑูุณูุง</a> : <a href="http://netbox.linkmeup.ru:45127/dcim/sites/msk/" rel="nofollow">ููุณูู</a> ุ <a href="http://netbox.linkmeup.ru:45127/dcim/sites/kzn/" rel="nofollow">ูุงุฒุงู</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/dcim/sites/%3Fregion%3Dsp" rel="nofollow">ุฅุณุจุงููุง</a> : <a href="http://netbox.linkmeup.ru:45127/dcim/sites/bcn/" rel="nofollow">ุจุฑุดูููุฉ</a> ุ <a href="http://netbox.linkmeup.ru:45127/dcim/sites/mlg/" rel="nofollow">ูุงููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/dcim/sites/%3Fregion%3Dcn" rel="nofollow">ุงูุตูู</a> : <a href="http://netbox.linkmeup.ru:45127/dcim/sites/sha/" rel="nofollow">ุดูุบูุงู</a> ุ <a href="http://netbox.linkmeup.ru:45127/dcim/sites/Sia/" rel="nofollow">ุดูุงู</a> . </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/703/ab7/358/703ab73587ab4d1fe9079aa548ba93d1.png" width="800"><br><br>  ุฃุฐูุฑู ุฃูู ูููู ุฎุทุทูุง <a href="https://linkmeup.ru/blog/479.html" rel="nofollow">ูุดุจูุชูุง</a> : <a href="https://linkmeup.ru/blog/479.html" rel="nofollow">ADSM2.</a>  <a href="https://linkmeup.ru/blog/479.html" rel="nofollow">ุชุตููู ุงูุดุจูุงุช</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1df/012/888/1df0128888e0708959f6108e176a0de9.png" width="700"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5d/b34/709/d5db34709814c8e1fe07f74b8c9f96fd.png" width="800"><br><br>  ุฏุนููุง ูุฑู ูุง ูุณูุญ API. <br><br>  ูููุง ููู ูุงุฆูุฉ ุจุฌููุน ุงูููุงุทู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/regions/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.regions.all()</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ูููุง ููู ุ ุณุฃูุฏู ุฃูุซูุฉ ุนูู ุญูููุฉ ู pynetbox ุฏูู ุฅุฎุฑุงุฌ ุงููุชูุฌุฉ. <br>  <b>ูุง ุชูุณ</b> ุงูุดุฑุทุฉ ุงููุงุฆูุฉ ูู ููุงูุฉ ุนููุงู URL - ูุจุฏููู ุ ูู ููุฌุญ. <br>  ุชุญุฏุซุช ุนู ููููุฉ ุงุณุชุฎุฏุงู pynetbox ูู ููุงู ุนู <a href="https://habr.com/ru/post/485618/">RESTful API</a> . <br></blockquote>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงูููุงูุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/sites/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.sites.all()</code> </pre><br>  ูุงุฆูุฉ ุงูููุงูุน ูู ููุทูุฉ ูุนููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/sites/?region=ru"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.sites.filter(region=<span class="hljs-string"><span class="hljs-string">"ru"</span></span>)</code> </pre><br><blockquote style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃู ุงูุจุญุซ ููุณ ุจุงูุงุณู ุงููุงูู ุ ูููู ูู ุฎูุงู ูุง ูุณูู <a href="https://qna.habr.com/q/375615" rel="nofollow">ุณุจููุฉ</a> . <br>  <b>Slug</b> ุนุจุงุฑุฉ ุนู ูุนุฑู ูุญุชูู ุนูู ุฃุญุฑู ุขููุฉ ููุท: [0-9A-Za-z-_] ุ ูุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูู URL.  ูุชู ุถุจุทู ุนูุฏ ุฅูุดุงุก ูุงุฆู ุ ุนูู ุณุจูู ุงููุซุงู ุ "bcn" ุจุฏูุงู ูู "Barcelona". <br><img src="https://habrastorage.org/getpro/habr/post_images/3db/6cc/f89/3db6ccf89097c571900457aebbc922fe.png" width="400"><br></blockquote><br><hr><br><h3 style=";text-align:right;direction:rtl">  ุงูุฃุฌูุฒุฉ </h3><br>  ููุฌูุงุฒ ููุณู <a href="http://netbox.linkmeup.ru:45127/dcim/device-roles/" rel="nofollow">ุฏูุฑ</a> ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงููุฑูุฉ ุ ุงูุนููุฏ ุงูููุฑู ุ ุงูุญุงูุฉ ุ ุงูุญุฏูุฏ. <br><br>  ูู ุงููุงุถุญ ุฃูู ููุน ูู ุฃููุงุน ุจุนุถ <a href="http://netbox.linkmeup.ru:45127/dcim/manufacturers/" rel="nofollow">ุงูุจุงุฆุนูู</a> . <br>  ุนูู ุณุจูู ุงููุซุงู ุ <a href="http://netbox.linkmeup.ru:45127/dcim/device-types/%3Fmanufacturer%3Darista" rel="nofollow">ุฃุฑูุณุชุง</a> . <br><br>  ูุจุงูุชุงูู ุ ูุชู ุฅูุดุงุก ุงูุจุงุฆุน ุฃููุงู ุ ุซู ุฏุงุฎู ุงููููุฐุฌ. <br><br>  <a href="http://netbox.linkmeup.ru:45127/dcim/device-types/2/" rel="nofollow">ูุชููุฒ ุงูุทุฑุงุฒ</a> ุจุงูุงุณู ููุฌููุนุฉ ูู ูุงุฌูุงุช ุงูุฎุฏูุฉ ููุงุฌูุฉ ุงูุชุญูู ุนู ุจุนุฏ ููููุฐ ูุญุฏุฉ ุงูุชุญูู ููุฌููุนุฉ ูู ูุญุฏุงุช ุงูุทุงูุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงููุญููุงุช ูุฃุฌูุฒุฉ ุงูุชูุฌูู ูุงููุถููุงุช ูุน ูุงุฌูุงุช Ethernet ุ ููููู ุฅูุดุงุก ุฎูุงุฏู ูุญุฏุฉ ุงูุชุญูู. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/826/9a4/f9f/8269a4f9ffb7f7e66096eff89dc19013.png" width="800"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c81/cce/0f9/c81cce0f9d543eedd4f7c1e1ede5f43f.png" width="500"><br><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน ุงูุฃุฌูุฒุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.devices.all()</code> </pre><br>  ุฌููุน ุงูุฃุฌูุฒุฉ ููููุน ูุนูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?site=mlg"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.devices.filter(site=<span class="hljs-string"><span class="hljs-string">"mlg"</span></span>)</code> </pre><br>  ุฌููุน ุงูุฃุฌูุฒุฉ ูู ุทุฑุงุฒ ูุนูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?model=veos"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.devices.filter(device_type_id=<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br>  ุฌููุน ุงูุฃุฌูุฒุฉ ุงูุชู ููุง ุฏูุฑ ูุญุฏุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?role=leaf"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.devices.filter(role=<span class="hljs-string"><span class="hljs-string">"leaf"</span></span>)</code> </pre><br>  ูููู ุฃู ูููู ุงูุฌูุงุฒ ูู ุฃูุถุงุน ูุฎุชููุฉ: ูุดุท ุ ุบูุฑ ูุชุตู ุ ูุฎุทุท ุ ุฅูุฎ. <br><br>  ุฌููุน ุงูุฃุฌูุฒุฉ ุงููุดุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?status=active"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.devices.filter(status=<span class="hljs-string"><span class="hljs-string">"active"</span></span>)</code> </pre><br><hr><br><h3 style=";text-align:right;direction:rtl">  ูุงุฌูุงุช </h3><br>  ูุฏุนู NetBox ุงูุนุฏูุฏ ูู ุฃููุงุน <a href="http://netbox.linkmeup.ru:45127/api/dcim/_choices/" rel="nofollow">ุงููุงุฌูุงุช</a> ุงููุงุฏูุฉ ู LAG ุ ููุน ุฐูู ุ ูุชู ุฏูุฌ ุฌููุน <a href="http://netbox.linkmeup.ru:45127/api/dcim/_choices/" rel="nofollow">ุงููุงุฌูุงุช</a> ุงูุงูุชุฑุงุถูุฉ ูุซู Vlan / IRB ู ุงูุงุณุชุฑุฌุงุน ุชุญุช ููุน ูุงุญุฏ - Virtual. <br>  ูู ูุงุฌูุฉ ูุฑุชุจุทุฉ ุจุฌูุงุฒ. <br><br>  ูููู ุชูุตูู ูุงุฌูุงุช ุงูุฌูุงุฒ ูุน ุจุนุถูุง ุงูุจุนุถ.  ุณูุชู ุนุฑุถ ูุฐุง ูู ุงููุงุฌูุฉ ููู ุงุณุชุฌุงุจุงุช ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (ุงูุณูุฉ connection_endpoint). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aea/c56/b47/aeac56b47e58145211f5726c8e48cb91.png" width="800"><br><br>  ูููู ุฃู ุชููู ุงููุงุฌูุฉ ูู ุฃูุถุงุน ูุฎุชููุฉ: Tagged ุฃู Access. <br><br>  ููููุง ูุฐูู ุ ูููู ุชุดุบููู ูู ุงูุนูุงูุฉ ูุน ุฃู ุจุฏูู ุดุจูุงุช ูุญููุฉ ุธุงูุฑูุฉ - ูุฐุง ุงููููุน ุฃู ุนุงููู. <br><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน ูุงุฌูุงุช ุงูุฌูุงุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/interfaces/?device=mlg-leaf-0"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.interfaces.filter(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>)</code> </pre><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุดุจูุงุช ูุญููุฉ ุธุงูุฑูุฉ ููุงุฌูุฉ ูุญุฏุฏุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/interfaces/?device=mlg-leaf-0&amp;name=Ethernet7"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.interfaces.get(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Ethernet7"</span></span>).untagged_vlan.vid</code> </pre><br><blockquote style=";text-align:right;direction:rtl">  ูุงุญุธ ุฃููู ููุง ุงุณุชุฎุฏู ุจุงููุนู ุทุฑููุฉ <b>get</b> ุจุฏูุงู ูู <b>ุนุงูู ุงูุชุตููุฉ</b> .  ูุนุฑุถ ุงูููุชุฑ ูุงุฆูุฉ ุ ุญุชู ูู ูุงูุช ุงููุชูุฌุฉ ูุงุฆููุง ูุงุญุฏูุง.  Get - ุฅุฑุฌุงุน ูุงุฆู ูุงุญุฏ ุฃู ูุดู ุฅุฐุง ูุงูุช ูุชูุฌุฉ ุงูุงุณุชุนูุงู ูุงุฆูุฉ ุจุงููุงุฆูุงุช. <br><br>  ูุฐูู ุ ูุฌุจ ุงุณุชุฎุฏุงู get ููุท ุนูุฏูุง ุชููู ูุชุฃูุฏูุง ุชูุงููุง ูู ุฃู ุงููุชูุฌุฉ ุณุชููู ูู ูุณุฎุฉ ูุงุญุฏุฉ. <br><br>  ููุง ุ ูุจุงุดุฑุฉ ุจุนุฏ ุงูุทูุจ ุ ุฃูุชูู ุฅูู ุณูุงุช ุงููุงุฆู.  ุจุงููุนูู ุงูุฏููู ูููููุฉ ุ ูุฐุง ุฎุทุฃ: ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู ุฃู ุดูุก ุญุณุจ ุงูุทูุจ ุ ููู ููุฑุฌุน pynetbox ุฃู ุดูุก ุ ููุง ูุญุชูู ุนูู ุงูุณูุฉ "untagged_vlan". <br><br>  ููุงุญุธ ุฃูุถูุง ุฃูู ููุณ ูู ูู ููุงู ุชุชููุน pynetbox ุณุจููุฉ ุ ูู ููุงู ูุง ุ ูุงุณู. <br></blockquote>  ุชุนุฑู ุนูู ุฃู ูุงุฌูุฉ ุงูุฌูุงุฒ ุงูุฐู ุชุชุตู ุจู ูุงุฌูุฉ ูุนููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/interfaces/?device=mlg-leaf-0&amp;name=Ethernet1"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">iface = nb.dcim.interfaces.get(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>, name=<span class="hljs-string"><span class="hljs-string">"Ethernet1"</span></span>) iface.connected_endpoint.device iface.connected_endpoint.name</code> </pre><br>  ุชุนุฑู ุนูู ุงุณู ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/interfaces/?device=mlg-leaf-0&amp;mgmt_only=true"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.interfaces.get(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>, mgmt_only=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br><hr><br><h3 style=";text-align:right;direction:rtl">  ููุงูุฐ ูุญุฏุฉ ุงูุชุญูู </h3><br>  ููุงูุฐ ูุญุฏุฉ ุงูุชุญูู ููุณุช ูุงุฌูุงุช ุ ูุจุงูุชุงูู ูุชู ุชูุฏูููุง ูููุงุท ููุงูุฉ ูููุตูุฉ. <br>  ูููู ุฑุจุท ููุงูุฐ ุงูุฌูุงุฒ ุจููุงูุฐ ุฎุงุฏู ูุญุฏุฉ ุงูุชุญูู. <br><br>  ุชุนุฑู ุนูู ุฃู ูููุฐ ูุชุตู ุจูุญุฏุฉ ุงูุชุญูู ูู ุฌูุงุฒ ูุนูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/console-ports/?device=mlg-leaf-0"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.console_ports.get(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>).serialize()</code> </pre><br><blockquote style=";text-align:right;direction:rtl">  ุชุชูุญ ูู ุทุฑููุฉ ุฅุฌุฑุงุก <b>ุชุณูุณู</b> ูู pynetbox ุชุญููู ุณูุงุช ูุซูู ููุฆุฉ ูุง ุฅูู ูุงููุณ. <br></blockquote><hr><br><h2 style=";text-align:right;direction:rtl">  IPAM </h2><br><h3 style=";text-align:right;direction:rtl">  VLAN ู VRF </h3><br>  ูููู ุฑุจุทูุง ุจูููุน - ูููุฏ ูุดุจูุฉ ูุญููุฉ ุธุงูุฑูุฉ. <br><br>  ุนูุฏ ุฅูุดุงุก VRF ุ ููููู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุชู ุงูุณูุงุญ ููุณุงุญุฉ ุงูุนููุงู ุจุงูุชูุงุทุน ูุน VRFs ุงูุฃุฎุฑู. <br><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน ุดุจูุงุช ูุญููุฉ ุธุงูุฑูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/vlans/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.ipam.vlans.all()</code> </pre><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน VRFs: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/vrfs/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.ipam.vrfs.all()</code> </pre><br><hr><br><h3 style=";text-align:right;direction:rtl">  ุจุงุฏุฆุงุช IP </h3><br>  ูุฏููู ูููู ูุฑูู.  ูุฏ ููุชูู ุฅูู ุฃู VRF (ุฅุฐุง ูู ููู ูุฐูู ุ ุซู ุงูุนุงูููุฉ). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/94b/ea6/8c4/94bea68c425c9a8bd601c9a0da74193e.png" width="800"><br><br>  ูุญุชูู NetBox ุนูู ุชูุซูู ูุฑุฆู ููุงุณุจ ููุบุงูุฉ ููุจุงุฏุฆุงุช ุงููุฌุงููุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1be/90e/14d/1be90e14da8f4c3bedc4bcb892cb5156.png" width="800"><br><br>  ููููู ุชุญุฏูุฏู ุจุจุณุงุทุฉ ุนู ุทุฑูู ุงูููุฑ ุนูู ุงูุฎุท ุงูุฃุฎุถุฑ. <br><br>  ูููู ุฃู ุชุนูู ุนูู ุงููููุน.  ููููู ุชุญุฏูุฏ ุงูุจุงุฏุฆุฉ ุงููุฑุนูุฉ ุงููุฌุงููุฉ ุงูุชุงููุฉ ุจุงูุญุฌู ุงููุทููุจ ุฃู ุนููุงู IP ุงููุฌุงูู ุงูุชุงูู ูู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. <br><br>  ุชุญุฏุฏ ุนูุงูุฉ / ูุนููุฉ ุงูุงุฎุชูุงุฑ "Is a pool" ูุง ุฅุฐุง ูุงู ุณูุชู ุชุญุฏูุฏ ุนููุงู 0 th ูู ูุฐู ุงูุจุงุฏุฆุฉ ุฃุซูุงุก ุงูุชุญุฏูุฏ ุงูุชููุงุฆู ุ ุฃู ูุง ุฅุฐุง ูุงู ุณูุจุฏุฃ ูู ุงูุฃูู. <br><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุงุฏุฆุงุช IP ููููุน Malaga ูุน ุฏูุฑ Underlay ูุทูู 19: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/prefixes/?site=mlg&amp;role=underlay&amp;mask_length=19"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">prefix = nb.ipam.prefixes.get(site=<span class="hljs-string"><span class="hljs-string">"mlg"</span></span>, role=<span class="hljs-string"><span class="hljs-string">"underlay"</span></span>, mask_length=<span class="hljs-string"><span class="hljs-string">"19"</span></span>)</code> </pre><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุงุฏุฆุงุช ูุฌุงููุฉ ูู ููุทูุฉ ุฑูุณูุง ูุน ุฏูุฑ Underlay: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/prefixes/40/available-prefixes/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">prefix.available_prefixes.list()</code> </pre> <br>  ูู ุจุชูููุฒ ุงูุจุงุฏุฆุฉ ุงููุฌุงููุฉ 24 ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X POST <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/prefixes/40/available-prefixes/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{\"prefix_length\": 24}"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">prefix.available_prefixes.create({<span class="hljs-string"><span class="hljs-string">"prefix_length"</span></span>:24})</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุญุชุงุฌ ุฅูู ุงุฎุชูุงุฑ ุทูู ูู ุฏุงุฎู ูุงุฆู ูุงุญุฏ ุ ูุชู ุงุณุชุฎุฏุงู ุทุฑููุฉ POST ููุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ูููุฉ ุงููุงุฆู ุงูุฃุตู - ูู ูุฐู ุงูุญุงูุฉ - <b>40</b> .  ุงูุชุดููุง ุจุงูุงุชุตุงู ูู ุงููุซุงู ุงูุณุงุจู. <br>  ูู ุญุงูุฉ pynetbox ุ ูููุง ุฃููุงู (ูู ุงููุซุงู ุงูุณุงุจู) ุจุญูุธ ุงููุชูุฌุฉ ุฅูู ูุชุบูุฑ <b>ุงูุจุงุฏุฆุฉ</b> ุ ุซู ุงูุชูููุง ุฅูู ุณูุฉ <b>available_prefixes</b> ูุทุฑููุฉ <b>ุงูุฅูุดุงุก</b> . <br>  ูู <b>ูุนูู</b> ูุฐุง ุงููุซุงู ูู ุฃุฌูู ุ ูุฃู ุงูุฑูุฒ ุงููููุฒ ุจุญุฑู ุงููุชุงุจุฉ ุบูุฑ ุตุงูุญ ุจุงููุนู. <br></blockquote><hr><br><h3 style=";text-align:right;direction:rtl">  ุนูุงููู IP </h3><br>  ุฅุฐุง ูุงู ููุงู ุจุงุฏุฆุฉ ุชุชุถูู ูุฐุง ุงูุนููุงู ุ ูุณุชููู ุฌุฒุกูุง ููู.  ูููู ุฃู ุชููู ูู ุชููุงุก ููุณูุง. <br>  ูุฏ ุชูุชูู ุฅูู ุฃู VRF ุฃู ุชููู ูู Global. <br>  ูููู ุฑุจุทูุง ุจุงููุงุฌูุฉ ุ ูููู ูููู ุชุนููููุง ูู ุงูููุงุก. <br>  ููููู ุชุญุฏูุฏ ุนููุงู IP ุงููุฌุงูู ุงูุชุงูู ูู ุงูุจุงุฏุฆุฉ. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a1/c4d/442/4a1c4d4428f703d9a90766ffa9351fe8.png" width="800"><br><br>  ููููุงู ุจุฐูู ุ ููุท ุงุถุบุท ุนูู ุงูุฎุท ุงูุฃุฎุถุฑ. <br><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุนูุงููู IP ููุงุฌูุฉ ูุญุฏุฏุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/ip-addresses/?interface_id=8"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.ipam.ip_addresses.filter(interface_id=<span class="hljs-number"><span class="hljs-number">8</span></span>)</code> </pre><br>  ุฃู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/ip-addresses/?device=mlg-leaf-0&amp;interface=Ethernet1"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.ipam.ip_addresses.filter(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>, interface=<span class="hljs-string"><span class="hljs-string">"Ethernet1"</span></span>)</code> </pre><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน ุนูุงููู IP ููุฌูุงุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/ip-addresses/?device=mlg-leaf-0"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.ipam.ip_addresses.filter(device=<span class="hljs-string"><span class="hljs-string">"mlg-leaf-0"</span></span>)</code> </pre><br>  ุงูุญุตูู ุนูู ูุงุฆูุฉ ุนูุงููู IP ุจุงุฏุฆุฉ ุงููุชุงุญุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/prefixes/28/available-ips/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">prefix = nb.ipam.prefixes.get(site=<span class="hljs-string"><span class="hljs-string">"mlg"</span></span>, role=<span class="hljs-string"><span class="hljs-string">"leaf-loopbacks"</span></span>) prefix.available_ips.list()</code> </pre><br><blockquote style=";text-align:right;direction:rtl">  ููุง ูุฑุฉ ุฃุฎุฑู ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ูุนุฑู ุงูุจุงุฏุฆุฉ ูู ุนููุงู URL ุงูุฐู ูุฎุชุงุฑ ููู ุงูุนููุงู - ูุฐู ุงููุฑุฉ ูู 28. <br></blockquote>  ูู ุจุชูููุฒ ุนููุงู IP ุงููุฌุงูู ุงูุชุงูู ูู ุงูุจุงุฏุฆุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X POST <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/ipam/prefixes/28/available-ips/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">prefix.available_ips.create()</code> </pre> <br><hr><br><h2 style=";text-align:right;direction:rtl">  ุงูุงูุชุฑุงุถูุฉ </h2><br>  ูุญู ูุง ูุฒุงู ููุงุชู ูู ุฃุฌู ููุจ ุงูุนุงุตูุฉ ุงูุญุฏูุซุฉ.  ุญูุซ ุฏูู ุงูุงูุชุฑุงุถูุฉ. <br><br>  ูุง ูุจุฏู NetBox ููุง ูุนุฏ ููุงููุง ูุณุชุญู ุชุฎุฒูู ูุนูููุงุช ุญูู ุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ (ููููู ุงูุชููู ุญูู ุงูุญุงุฌุฉ ุฅูู ุชุฎุฒูู ุงูุฃุฌูุฒุฉ ุงููุนููุฉ ููู).  ููุน ุฐูู ุ ูุฏ ูููู ูุฐุง ูููุฏูุง ููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅุฏุฎุงู ูุนูููุงุช ุญูู ุนุงูุณุงุช ุงูุทุฑูู ุ ูุญูู ุฃุฌูุฒุฉ ุงูุฎุฏูุฉ ุ ูุซู ุฎูุงุฏู NTP ู Syslog ูุฎูุงุฏู S-Flow ูุขูุงุช ุงูุชุญูู. <br><br>  ูุญุชูู VM ุนูู ูุงุฆูุฉ ูุงุฌูุงุช ุฎุงุตุฉ ุจู - ููู ูุฎุชููุฉ ุนู ูุงุฌูุงุช ุงูุฃุฌูุฒุฉ ุงููุนููุฉ ููุฏููุง ููุทุฉ ููุงูุฉ ูููุตูุฉ ุฎุงุตุฉ ุจูุง. <br><br>  ุญุชู ุชุชููู ูู ุณุฑุฏ ุฌููุน ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/virtualization/virtual-machines/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.virtualization.virtual_machines.all()</code> </pre><br>  ูุฐูู - ูู ุฌููุน ูุงุฌูุงุช ุฌููุน VMs: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/virtualization/interfaces/"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.virtualization.interfaces.all()</code> </pre><br>  ุจุงููุณุจุฉ ูู VM ุ ูุง ููููู ุชุญุฏูุฏ ุฌูุงุฒ hypervisor / ุงููุนูู ุงูุฐู ูุชู ุชุดุบููู ุนููู ุ ูููู ููููู ุชุญุฏูุฏ ูุชูุฉ.  ูุฅู ูู ููู ูู ุดูุก ููุฆูุณุง ููู.  ุงูุฑุฃ ุนูู. <br><br><hr><br><h2 style=";text-align:right;direction:rtl">  ุฃุดูุงุก ูุทููุฉ ุงุถุงููุฉ </h2><br>  ุชุบุทู ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ูู NetBox ูุนุธู ููุงู ุงูุนุฏูุฏ ูู ุงููุณุชุฎุฏููู ุ ูููู ููุณ ุฌููุนูุง.  ูุง ูุฒุงู ุ ุชู ูุชุงุจุฉ ุงูููุชุฌ ุฃุตูุงู ูุญู ูุดุงูู ุดุฑูุฉ ูุนููุฉ.  ููุน ุฐูู ุ ูุฅูู ูุชุทูุฑ ุจูุดุงุท ูุงูุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ ุชุฎุฑุฌ ูู <a href="https://github.com/netbox-community/netbox/releases" rel="nofollow">ูุซูุฑ</a> ูู <a href="https://github.com/netbox-community/netbox/releases" rel="nofollow">ุงูุฃุญูุงู</a> .  ูููุง ูุฐูู ุ ุชุธูุฑ ูุธุงุฆู ุฌุฏูุฏุฉ. <br><br>  ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุฐ ุงูุชุซุจูุช ุงูุฃูู ูู NetBox ููุฐ ุจุถุน ุณููุงุช ุ ุธูุฑุช ุงูุนูุงูุงุช ููู ุ ูุณูุงูุงุช ุงูุชูููู ุ ู webhooks ุ ูุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุฑุงุจุท ุงูุฅุดุฑุงู ุชุบูุฑ ุฅูู systemd ุ ูุชุฎุฒูู ุงููููุงุช ุงูุฎุงุฑุฌู. <br><br>  ุงุญุชุฑุณ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุญููู ุงููุฎุตุตุฉ </h3><br>  ูู ุจุนุถ ุงูุฃุญูุงู ุชุฑูุฏ ุฅุถุงูุฉ ุญูู ุฅูู ุฃู ููุงู ููููู ููู ูุถุน ุจูุงูุงุช ุชุนุณููุฉ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุฃุดุฑ ุฅูู ุฑูู ุงุชูุงููุฉ ุงูุชูุฑูุฏ ุงูุชู ุชู ุจููุฌุจูุง ุดุฑุงุก ุงูููุชุงุญ ุฃู ุงุณู ุงูุฌูุงุฒ ุงููุนูู ุงูุฐู ูุนูู ุนููู VM. <br><br>  ูุฐุง ูู ุงูููุงู ุงูุฐู ูุชู ููู ุฅููุงุฐ ุงูุญููู ุงููุฎุตุตุฉ - ูุซู ูุฐุง ุงูุญูู ุงูุฐู ูุญุชูู ุนูู ูููุฉ ูุตูุฉ ูููู ุฅุถุงูุชูุง ุฅูู ุฃู ููุงู ุชูุฑูุจูุง ูู NetBox. <br><br>  ูู ุจุฅูุดุงุก ุญููู ูุฎุตุตุฉ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1cf/10e/568/1cf10e56808f227ce7f7270581b84a31.png" width="600"><br><br>  ูุฐุง ูู ุงูุดูู ุงูุฐู ูุธูุฑ ุนูุฏ ุชุญุฑูุฑ ุงูุฌูุงุฒ ุงูุฐู ุชู ุฅูุดุงุก ุงูุญูู ุงููุฎุตุต ูู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d3a/c2b/c78/d3ac2bc78d80acccc3895463f7ed7295.png" width="450"><br><br>  ุทูุจ ูุงุฆูุฉ ุจุงูุฃุฌูุฒุฉ ุญุณุจ ุงููููุฉ custom_field <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?cf_contract_number=0123456789"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">nb.dcim.devices.filter(cf_contract_number=<span class="hljs-string"><span class="hljs-string">"0123456789"</span></span>)</code> </pre><br><hr><br><h3 style=";text-align:right;direction:rtl">  ุณูุงู ุงูุชูููู </h3><br>  ูู ุจุนุถ ุงูุฃุญูุงู ุชุฑูุฏ ุดูุก ุฃูุซุฑ ูู ูุต ุบูุฑ ููุธู.  ุซู ูุฃุชู <a href="http://netbox.linkmeup.ru:45127/extras/config-contexts/1/" rel="nofollow">ุณูุงู ุงูุชููุฆุฉ</a> ูู ุนูููุฉ ุงูุฅููุงุฐ. <br><br>  ูุฐู ูุฑุตุฉ ูุชูุฏูู ูุฌููุนุฉ ูู ุงูุจูุงูุงุช ุงููููููุฉ ุจุชูุณูู JSON ุ ูุงูุชู ููุณ ูุฏููุง ููุงู ุขุฎุฑ ููุถุนู. <br><br>  ูุฏ ูููู ูุฐุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุฌููุนุฉ ูู ูุฌุชูุนุงุช BGP ุฃู ูุงุฆูุฉ ุจุฎูุงุฏู Syslog. <br><br>  ูููู ุฃู ูููู ุณูุงู ุงูุชูููู ูุญูููุง - ูููููุง ููุงุฆู ูุนูู - ุฃู ุนูููู ุ ุนูุฏูุง ูุชู ุชููููู ูุฑุฉ ูุงุญุฏุฉ ุ ุซู ููุทุจู ุนูู ุฌููุน ุงููุงุฆูุงุช ุงูุชู ุชูู ุจุดุฑูุท ูุนููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ููุฌูุฏุฉ ูู ููุณ ุงููููุน ุ ุฃู ุชุนูู ุนูู ููุณ ุงููุธุงู ุงูุฃุณุงุณู). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97a/406/224/97a406224499ed35e9c471c3709a8d98.png" width="800"><br><br>  ุชุชู ุฅุถุงูุฉ ุณูุงู ุงูุชูููู ุชููุงุฆููุง ุฅูู ูุชุงุฆุฌ ุงูุงุณุชุนูุงู.  ูู ุงูููุช ููุณู ุ ุชูุฏูุฌ ุงูุณูุงูุงุช ุงููุญููุฉ ูุงูุนุงูููุฉ ูู ุณูุงู ูุงุญุฏ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููุฌูุงุฒ ูุฌุฑุฏ ูุชุงุฉ ุฑูุณูุฉ ุจุณูุทุฉ ุ ููุฌุฏ ููุง ุณูุงู ูุญูู ุ ุณูุญุชูู ุงูุฅุฎุฑุงุฌ ุนูู ุงูููุชุงุญ "config_context": <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?q=russian"</span></span> -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/031/608/4bd/0316084bd52d028434631298a22ba33e.png" width="204"><br><br><hr><br><h3 style=";text-align:right;direction:rtl">  ุนูุงูุงุช </h3><br>  ูู ุงูุตุนุจ ููู ุดูุก ุฌุฏูุฏ ุนู ุงูุนูุงูุงุช.  ูู.  ุฃููุง ูุฑูุญุฉ ูุฅุถุงูุฉ ุฃู ููุฒุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุชูููุฒ ููุงุชูุญ ุชุจุฏูู "byada" ูู ุงูุฏููุนุฉ ุงูุชู ุชูุดู ูููุง ุงูุฐุงูุฑุฉ. <br><br><hr><br><h3 style=";text-align:right;direction:rtl">  Webhooks </h3><br>  ุดูุก ูุง ูููู ุงูุงุณุชุบูุงุก ุนูู ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุฎุฏูุงุช ุฃุฎุฑู ููุชุนุฑู ุนูู ุงูุชุบููุฑุงุช ูู NetBox. <br>  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุจุฏุก ุชุดุบูู ููุชุงุญ ุฌุฏูุฏ ุ ูุชู ุฅุฑุณุงู ุฎุทุงู ุฅูู ูุธุงู ุงูุชุดุบูู ุงูุขูู ุ ูุงูุฐู ูุจุฏุฃ ุนูููุฉ ุฅุนุฏุงุฏ ุงูุฌูุงุฒ ูุชุดุบููู. <br><br><hr><br><h1 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h1><br>  ูู ูุฐู ุงูููุงูุฉ ุ ูุง ุฃูุตุฏ ูุฑุงุนุงุฉ ุฌููุน ููุฒุงุช NetBox ุ ูุฐูู ุณุฃูุฏู ูู ูู ุดูุก ุขุฎุฑ.  ููู ุ ุญุงูู. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฌุฒุก ูู ุจูุงุก ูุธุงู ุงูุชุดุบูู ุงูุขูู ุ ุณุฃุชุทุฑู ููุท ุฅูู ุงูุฃุฌุฒุงุก ุงูุชู ูุญุชุงุฌูุง ุญููุง. <br><br>  ุฃุนูุงู ุ ุชุญุฏุซุช ููุชุฑุฉ ูุฌูุฒุฉ ุนู ูุงููุฉ NetBox ูููู ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ููู. <br><br>  ุฃูุฑุฑ ุฃููู ููุช ุจุงููุนู ุจุฅุฏุฎุงู ุฌููุน ุงูุจูุงูุงุช ุงูุถุฑูุฑูุฉ ุชูุฑูุจูุง ุ ูููููู ุณุญุจ ููู <a href="" rel="nofollow">ุชูุฑูุบ ูุงุนุฏุฉ ุงูุจูุงูุงุช</a> ุจููุณู. <br><br>  ูู ุดูุก ุฌุงูุฒ ูููุฑุญูุฉ ุงูุชุงููุฉ ูู ุงูุชุดุบูู ุงูุขูู: ูุชุงุจุฉ ูุธุงู (ahaha ุ ูุฌุฑุฏ ูุตูุต) ูุชููุฆุฉ ุงูุฃุฌูุฒุฉ ูุฅุฏุงุฑุฉ ุงูุชููุฆุฉ. <br><br><hr><br>  ูููู ูุจู ุงูุงูุชูุงุก ูู ุงูููุงู ุ ุณุฃููู ุจุถุน ูููุงุช ุญูู ุชุซุจูุช ูุชุดุบูู ููููุงุช NetBox. <br><br><h1 style=";text-align:right;direction:rtl">  ุจุนุถ ุงููุฑูู ุงูุฏูููุฉ ูู ุชุซุจูุช NetBox </h1><br>  ูู ุฃุตู ุนูููุฉ ุงูุชุซุจูุช ุจุงูุชูุตูู - ุฅููุง ุฃูุซุฑ ูู ุงูููุตููุฉ ูู <a href="https://netbox.readthedocs.io/en/stable/installation/" rel="nofollow">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . <br><br>  ููููู ุฅููุงุก ูุธุฑุฉ ุนูู ุนูููุฉ ุฅุทูุงู ุตูุฑุฉ ุนุงูู ูููุงุก NetBox ูุงูุนูู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ูู ููุฏูู Dima Figol ( <a href="https://www.youtube.com/watch%3Fv%3DGGXgAlWm9aY%26t%3D9655s" rel="nofollow">ูุฑุฉ ูุงุญุฏุฉ</a> <a href="https://www.youtube.com/watch%3Fv%3Da3yK_WAisPw" rel="nofollow">ููุฑุชูู</a> ) <a href="https://www.youtube.com/watch%3Fv%3DI_Ra3PIR2Lc%26feature%3Dyoutu.be" rel="nofollow">ูุฅููู Garipov</a> . <br><br>  ุจุดูู ุนุงู ุ ุฅุฐุง ุงุชุจุนุช ุฎุทูุงุช ุงูุชุซุจูุช / ุจุฏุก ุงูุชุดุบูู ุจุฏูุฉ ุ ูุณูุนูู ูู ุดูุก. <br>  ูููู ููุง ุงููุฑูู ุงูุฏูููุฉ ุงูุชู ููููู ูุณูุงููุง ุนู ุทุฑูู ุงูุฎุทุฃ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ููู <a href="https://netbox.readthedocs.io/en/stable/installation/2-netbox/" rel="nofollow">config.py ุ</a> ูุฌุจ ููุก ุงููุนููุฉ <a href="https://netbox.readthedocs.io/en/stable/installation/2-netbox/" rel="nofollow">ALLOWED_HOSTS</a> : <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">ALLOWED_HOSTS = [<span class="hljs-string"><span class="hljs-string">'netbox.linkmeup.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'localhost'</span></span>]</code> </pre> <br>  ุชุญุชุงุฌ ููุง ุฅูู ุชุญุฏูุฏ ุฌููุน ุฃุณูุงุก NetBox ุงููุญุชููุฉ ุงูุชู ุณุชููู ุจุงููุตูู ุฅูููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูููู ููุงู ุนููุงู IP ุฎุงุฑุฌู ุฃู 127.0.0.1 ุฃู ุงุณู DNS ูุณุชุนุงุฑ. <br>  ุฅุฐุง ูู ูุชู ุฐูู ุ ููู ูุชู ูุชุญ ูููุน NetBox ุนูู ุงูููุจ ูุณูุธูุฑ 400. </li><li style=";text-align:right;direction:rtl">  ูู ููุณ ุงูููู ุ ูุฌุจ ุชุญุฏูุฏ <a href="https://netbox.readthedocs.io/en/stable/installation/2-netbox/" rel="nofollow">SECRET_KEY</a> ุ ุจุญูุซ ููููู ุงุฎุชุฑุงุน ููุณู ุฃู ุฅูุดุงุก ุจุฑูุงูุฌ ูุตู. </li><li style=";text-align:right;direction:rtl">  ุณุชุธูุฑ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ 502 ุจูุงุจุฉ ุณูุฆุฉ ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูุง ูู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL: ุชุญูู ูู ุงููุถูู (ุฅุฐุง ูุงู ูุซุจุชูุง ุนูู ุฌูุงุฒ ุขุฎุฑ) ุ ูุงููููุฐ ุ ูุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุงุณู ุงููุณุชุฎุฏู ุ ููููุฉ ุงููุฑูุฑ. </li><li style=";text-align:right;direction:rtl">  <a href="" rel="nofollow">ูุจุนุถ ุงูููุช ุงูุขู ุ</a> ูุง ูููุญ NetBox ุจุดูู ุงูุชุฑุงุถู ุฃู ุญููู ูุฑุงุกุฉ ุจุฏูู ุฅุฐู. <br><br>  ูู ูุฐู ุงูุชุบููุฑุงุช ูู ููุณ ุงูุชูููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">EXEMPT_VIEW_PERMISSIONS = [<span class="hljs-string"><span class="hljs-string">'*'</span></span>]</code> </pre> </li><li style=";text-align:right;direction:rtl">  ููุฐูู ุทูุจุงุช API ุณุชุนูุฏ 200 ููู ุชุนูู ุฅุฐุง ูู ููู ููุงู ุดุฑุทุฉ ูุงุฆูุฉ ูู ุนููุงู URL ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูู ุงูููุงูุฉ. <br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices"</span></span></code> </pre> <br></li></ul><br><hr><br><h1 style=";text-align:right;direction:rtl">  ููููุง ุนู ุจูุณุชุฌุฑุณ </h1><br>  ููุงุชุตุงู ุจุงูุฎุงุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">psql -U &lt;i&gt;username&lt;/i&gt; -h &lt;i&gt;hostname&lt;/i&gt; &lt;i&gt;db_name&lt;/i&gt;</code> </pre> <br>  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">psql -U netbox -h localhost netbox</code> </pre> <br>  ูุนุฑุถ ุฌููุน ุงูุฌุฏุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/dt</code> </pre> <br>  ููุฎุฑูุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/q</code> </pre> <br>  ูุชูุฑูุบ ูุงุนุฏุฉ ุงูุจูุงูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pg_dump -U &lt;i&gt;username&lt;/i&gt; -h &lt;i&gt;hostname&lt;/i&gt; &lt;i&gt;db_name&lt;/i&gt; &gt; netbox.sql</code> </pre> <br>  ุฅุฐุง ููุช ูุง ุชุฑูุฏ ุฅุฏุฎุงู ูููุฉ ูุฑูุฑ ูู ูู ูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> *:*:*:&lt;i&gt;username&lt;/i&gt;:&lt;i&gt;password&lt;/i&gt; &gt; ~/.pgpass chmod 600 ~/.pgpass</code> </pre> <br>  ุฅุฐุง ูุงู ูุฏูู ุงูุชุซุจูุช ุงูุฎุงุต ุจู ููุง ุชุฑูุฏ ุฅุฌุฑุงุก ูู ุดูุก ูุฏูููุง ุ ูููููู ุงูููุงู ุจุฐูู ุจุจุณุงุทุฉ ุนู ุทุฑูู ุชูุฑูุบ ูุงุนุฏุฉ ุจูุงูุงุช NetBox ุงูุญุงููุฉ <a href="" rel="nofollow">ููุง</a> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">psql -U &lt;i&gt;username&lt;/i&gt; -h &lt;i&gt;hostname&lt;/i&gt; &lt;i&gt;db_name&lt;/i&gt; &lt; netbox_initial_db.sql</code> </pre> <br>  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฃููุงู ุฅูู ุฅุณูุงุท ุฌููุน ุงูุฌุฏุงูู (ูุนููู ุงูููุงู ุจุฐูู) ุ ูููููู ุฅุนุฏุงุฏ ุงูููู ูุณุจููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">psql -U &lt;i&gt;username&lt;/i&gt; -h &lt;i&gt;hostname&lt;/i&gt; &lt;i&gt;db_name&lt;/i&gt; \o drop_all_tables.sql select <span class="hljs-string"><span class="hljs-string">'drop table '</span></span> || tablename || <span class="hljs-string"><span class="hljs-string">' cascade;'</span></span> from pg_tables; \q psql -U &lt;i&gt;username&lt;/i&gt; -h &lt;i&gt;hostname&lt;/i&gt; &lt;i&gt;db_name&lt;/i&gt; -f drop_all_tables.sql</code> </pre> <br><hr><br><h1 style=";text-align:right;direction:rtl">  ุฑูุงุจุท ูููุฏุฉ </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://github.com/netbox-community/netbox" rel="nofollow">NetBox ููุณูุง ุนูู ุฌูุซุจ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/netbox-community/netbox-docker" rel="nofollow">ูุณุฎุฉ ุงูุญุงููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://netbox.readthedocs.io/en/stable/" rel="nofollow">ุฃููู ุชุนูููุงุช ุงูุชุซุจูุช ูุฌููุน ูุซุงุฆู ุงูููุชุฌ</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://karneliuk.com/2019/04/documenting-your-network-infrastructure-in-netbox-integrating-with-ansible-over-rest-api-and-automating-provisioning-of-cumulus-linux-arista-eos-nokia-sr-os-and-cisco-ios-xr/" rel="nofollow">ุชูุซูู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุดุจูุฉ ูู NetBox ุ ูุงูุงูุฏูุงุฌ ูุน Ansible ุนุจุฑ REST API</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://www.youtube.com/watch%3Fv%3DGGXgAlWm9aY%26t%3D9655s" rel="nofollow">IPAM NetBox ู API ุงูุฎุงุต ุจู ุ Docker ุ ุณุงุนู ุงูุจุฑูุฏ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://www.youtube.com/watch%3Fv%3Da3yK_WAisPw" rel="nofollow">IPAM NetBox ู API ุงูุฎุงุตุฉ ุจู ุ ููุงูุจ ุงูุชูููู ูุน ุจูุซูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://github.com/digitalocean/pynetbox" rel="nofollow">Python NetKox SDK</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/api/docs/" rel="nofollow">ูุซุงุฆู API</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://groups.google.com/forum/" rel="nofollow">ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://networktocode.slack.com/" rel="nofollow">NetworkToCode ุณูุงู ุงูููุงุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/485618/">ูุง ูู ุงูุฑุงุญุฉุ</a> </li><li style=";text-align:right;direction:rtl">  <a href="http://netbox.linkmeup.ru:45127/" rel="nofollow">ุชุซุจูุช NetBox ูู ADSM</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar486000/">https://habr.com/ru/post/ar486000/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar485986/index.html">ุฃูุถู 5 ุงุชุฌุงูุงุช ููุชูุทูู ูู ุนุงู 2020</a></li>
<li><a href="../ar485988/index.html">[Case Locomizer] ููููุฉ ุชุณุฑูุน ุญุณุงุจ ุฎุฑูุทุฉ ุงูุญุฑุงุฑุฉ ุจููุฏุงุฑ 20000 ูุฑุฉ ูู ุบุถูู ุนุงููู ููุตู</a></li>
<li><a href="../ar485990/index.html">ุงูุฃุชูุชุฉ ููุชูุ</a></li>
<li><a href="../ar485996/index.html">APM ูุฑูุฉ ูู ุงูุชุทุจูู</a></li>
<li><a href="../ar485998/index.html">ูููุณ: ููุงุญุธุงุช ุนุงูุฉ. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar486006/index.html">ุชุฎุฒูู ุญุงูุฉ ุงูุฏุฑุฏุดุฉ ุนูู ุงูููุฏุณ</a></li>
<li><a href="../ar486010/index.html">ุนูู ุนุฑุถ ุชูุถูุญู ููุงุชู ูุฏูู - AONDEMO</a></li>
<li><a href="../ar486014/index.html">ุฌููุฉ SLAC: ูุฎุชุจุฑ ุงูุชุณุฑูุน ุงููุทูู ุงูุชุงุจุน ููุฒุงุฑุฉ ุงูุทุงูุฉ ุงูุฃูุฑูููุฉ ูู ุฌุงูุนุฉ ุณุชุงูููุฑุฏ</a></li>
<li><a href="../ar486018/index.html">ูุชุงุฆุฌ ูุณุญ ุงูุฌูุณุฉ</a></li>
<li><a href="../ar486024/index.html">ุฑุณููุงุช ุจุณูุทุฉ ุญูุง ูู R ููุนููู ูุงูุตุญุงูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>