<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëºüèæ ‚è∏Ô∏è üë®üèæ‚Äçüíª Le cheval a labour√© le plus, mais le pr√©sident de la ferme collective n'est pas devenu ü§µüèº üë©‚Äçüë©‚Äçüë¶ ü•Å</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, dans la communaut√© mobile, on peut souvent entendre parler de Flutter, React Native. J'√©tais int√©ress√© √† comprendre le profit de ces pi√®ces...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le cheval a labour√© le plus, mais le pr√©sident de la ferme collective n'est pas devenu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/onetrak/blog/430566/"><img src="https://habrastorage.org/webt/zt/v_/-x/ztv_-xmy6qno8sfayypwhzzdbve.jpeg"><br><br>  R√©cemment, dans la communaut√© mobile, on peut souvent entendre parler de Flutter, React Native.  J'√©tais int√©ress√© √† comprendre le profit de ces pi√®ces.  Et combien ils changeront vraiment des vies lors du d√©veloppement d'applications.  En cons√©quence, 4 applications (identiques du point de vue des fonctions exerc√©es) ont √©t√© cr√©√©es: Android natif, iOS natif, Flutter, React Native.  Dans cet article, j'ai d√©crit ce que j'ai appris de mon exp√©rience et comment des √©l√©ments similaires d'applications sont impl√©ment√©s dans les solutions envisag√©es. <br><a name="habracut"></a><br>  Commentaires: l'auteur de l'article n'est pas un d√©veloppeur professionnel multiplateforme.  Et tout ce qui est √©crit sur le look d'un d√©veloppeur novice pour ces plates-formes.  Mais je pense que cette revue sera utile aux personnes qui utilisent d√©j√† l'une des solutions envisag√©es et qui envisagent d'√©crire des applications pour deux plates-formes ou d'am√©liorer le processus d'interaction entre iOS et Android. <br><br>  En tant qu'application d√©velopp√©e, il a √©t√© d√©cid√© de cr√©er un ¬´chronom√®tre sportif¬ª, qui aidera les personnes impliqu√©es dans le sport lors de l'entra√Ænement par intervalles. <br><br>  L'application se compose de 3 √©crans. <br><br><img src="https://habrastorage.org/webt/ti/sl/cy/tislcyxu0hxhqmfhdrwbirdekpm.jpeg"><br>  <i>√âcran de fonctionnement de la minuterie</i> <br><br><img src="https://habrastorage.org/webt/5c/c-/rz/5cc-rzkivatqkrxzr8u3_vx5fjk.png"><br>  <i>√âcran Historique d'entra√Ænement</i> <br><br><img src="https://habrastorage.org/webt/gn/zg/np/gnzgnpxhthwpy45v5eczwcy3vsc.png"><br>  <i>√âcran Param√®tres du minuteur</i> <br><br>  Cette application m'int√©resse en tant que d√©veloppeur, car les composants suivants qui m'int√©ressent seront affect√©s par sa cr√©ation: <br>  - Disposition <br>  - Vue personnalis√©e <br>  - Travailler avec des listes d'interface utilisateur <br>  - multithreading <br>  - Base de donn√©es <br>  - R√©seau <br>  - stockage cl√©-valeur <br><br>  Il est important de noter que pour Flutter et React Native, nous pouvons cr√©er un pont (canal) vers la partie native de l'application et l'utiliser pour impl√©menter tout ce que le syst√®me d'exploitation fournit.  Mais je me demandais quels cadres donner de la bo√Æte. <br><br><h4>  S√©lection d'outils de d√©veloppement </h4><br>  Pour une application native pour iOS - j'ai choisi l'environnement de d√©veloppement Xcode et le langage de programmation Swift.  Pour Android natif - Android Studio et Kotlin.  React Native d√©velopp√© dans WebStorm, le langage de programmation JS.  Flutter - Android Studio et Dart. <br><br>  Un fait int√©ressant lors du d√©veloppement sur Flutter m'a sembl√© que depuis Android Studio (le principal IDE pour le d√©veloppement Android), vous pouvez ex√©cuter l'application sur un appareil iOS. <br><br><img src="https://habrastorage.org/webt/8_/iv/s6/8_ivs6r70g3r8y4ohnobsxr-dhy.jpeg"><br><br><h4>  Structure du projet </h4><br>  Les structures des projets natifs iOS et Android sont tr√®s similaires.  Il s'agit d'un fichier de mise en page avec les extensions .storyboard (iOS) et .xml (Android), les gestionnaires de d√©pendances Podfile (iOS) et Gradle (Android), les fichiers de code source avec les extensions .swift (iOS) et .kt (Android). <br><br><img src="https://habrastorage.org/webt/lp/ps/gf/lppsgftadltozsl9iozmcc-60gi.png"><br>  <i>Structure de projet Android</i> <br><br><img src="https://habrastorage.org/webt/20/qz/io/20qziosbajzqdvba8gl7t6c6lqm.jpeg"><br>  <i>Structure du projet IOS</i> <br><br>  Les structures natives Flutter et React contiennent les dossiers Android et iOS, qui contiennent les projets natifs habituels pour Android et iOS.  Flutter et React Native se connectent √† des projets natifs en tant que biblioth√®que.  En fait, lorsque vous lancez Flutter sur votre appareil iOS, l'application iOS native habituelle se lance avec la biblioth√®que Flutter connect√©e.  Pour React Native et pour Android, tout est pareil. <br><br>  Flutter et React Native contiennent √©galement des gestionnaires de d√©pendances et fichiers source package.json (React Native) et pubspec.yaml (Flutter) avec les extensions .js (React Native) et .dart (Flutter), qui contiennent √©galement la mise en page. <br><br><img src="https://habrastorage.org/webt/f9/ug/gl/f9uggliwvh87swhlor10b3q2zqc.png"><br>  <i>Structure du projet Flutter</i> <br><br><img src="https://habrastorage.org/webt/k8/03/ba/k803baj9_yx2-izvp08bgs1javm.png"><br>  <i>R√©agir √† la structure du projet natif</i> <br><br><h4>  Disposition </h4><br>  <i>Pour iOS et Android natif, il existe des √©diteurs visuels.</i>  <i>Cela simplifie consid√©rablement la cr√©ation d'√©crans.</i> <br><br><img src="https://habrastorage.org/webt/cm/kp/1u/cmkp1uownsxzwnep8yaswj5vfqq.png"><br>  <i>√âditeur visuel pour Android natif</i> <br><br><img src="https://habrastorage.org/webt/3n/lx/p3/3nlxp33t4ie9pbtvugl6ued2j9q.jpeg"><br>  <i>√âditeur visuel pour iOS natif</i> <br><br>  Il n'y a pas d'√©diteurs visuels pour React Native et Flutter, mais la fonction de rechargement √† chaud est prise en charge, ce qui simplifie au moins en quelque sorte le travail avec l'interface utilisateur. <br><br><img src="https://habrastorage.org/webt/aj/6e/sa/aj6esac22wp321iahissypdtxx0.gif"><br>  <i>Red√©marrage √† chaud dans Flutter</i> <br><br><img src="https://habrastorage.org/webt/ss/t0/bq/sst0bql96qazlkjppaqvkvsadks.gif"><br>  <i>Red√©marrage √† chaud dans React Native</i> <br><br>  Sous Android et iOS, la mise en page est stock√©e dans des fichiers s√©par√©s avec les extensions .xml et .storybord, respectivement.  Dans React Native et Flutter, la mise en page est d√©riv√©e directement du code.  Un point important dans la description de la vitesse de l'interface utilisateur doit √™tre not√© que Flutter a ses propres m√©canismes de rendu, avec lesquels les cr√©ateurs du framework promettent 60 fps.  Et React Native utilise des √©l√©ments d'interface utilisateur natifs qui sont construits √† l'aide de js, ce qui conduit √† leur imbrication excessive. <br><br>  Sous Android et iOS, pour modifier la propri√©t√© View, nous utilisons un lien vers celle-ci √† partir du code et, par exemple, pour changer la couleur d'arri√®re-plan, nous provoquons directement des modifications sur l'objet.  Dans le cas de React Native et Flutter, il existe une autre philosophie: nous modifions les propri√©t√©s √† l'int√©rieur de l'appel setState, et la vue elle-m√™me est redessin√©e en fonction de l'√©tat modifi√©. <br><br>  Exemples de cr√©ation d'un √©cran de minuterie pour chacune des solutions s√©lectionn√©es: <br><br><img src="https://habrastorage.org/webt/bq/at/zb/bqatzbzgv7atcprgtnam0y1tvzm.png"><br>  <i>Disposition de l'√©cran du minuteur sur Android</i> <br><br><img src="https://habrastorage.org/webt/9j/wc/al/9jwcalzgccftknxeyxzliix7l1y.jpeg"><br>  <i>Disposition de l'√©cran du minuteur sur iOS</i> <br><br>  Disposition de l'√©cran du minuteur Flutter <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Scaffold( body: Stack( children: &lt;Widget&gt;[ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Container( color: color, child: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Column( mainAxisAlignment: MainAxisAlignment.spaceBetween, children: &lt;Widget&gt;[ Text( <span class="hljs-string"><span class="hljs-string">" ${getTextByType(trainingModel.type)}"</span></span>, style: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextStyle( fontWeight: FontWeight.bold, fontSize: <span class="hljs-number"><span class="hljs-number">24.0</span></span>), ), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Text( <span class="hljs-string"><span class="hljs-string">"${trainingModel.timeSec}"</span></span>, style: TextStyle( fontWeight: FontWeight.bold, fontSize: <span class="hljs-number"><span class="hljs-number">56.0</span></span>), ), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Row( mainAxisAlignment: MainAxisAlignment.spaceBetween, children: &lt;Widget&gt;[ Text( <span class="hljs-string"><span class="hljs-string">" ${trainingModel.setCount}"</span></span>, style: TextStyle( fontWeight: FontWeight.bold, fontSize: <span class="hljs-number"><span class="hljs-number">24.0</span></span>), ), Text( <span class="hljs-string"><span class="hljs-string">" ${trainingModel.cycleCount}"</span></span>, style: TextStyle( fontWeight: FontWeight.bold, fontSize: <span class="hljs-number"><span class="hljs-number">24.0</span></span>), ), ], ), ], ), padding: <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> EdgeInsets.all(<span class="hljs-number"><span class="hljs-number">20.0</span></span>), ), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Center( child: CustomPaint( painter: MyCustomPainter( <span class="hljs-comment"><span class="hljs-comment">//0.0 trainingModel.getPercent()), size: Size.infinite, ), ) ], )); }</span></span></code> </pre> <br>  Disposition de l'√©cran du minuteur React Native <br><br><pre> <code class="javascript hljs"> render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">flex:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">20</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">flexDirection:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">column</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">justifyContent:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">space-between</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">alignItems:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stretch</span></span></span></span><span class="xml"><span class="hljs-tag">', }}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{height:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">100</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Text</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{textAlign:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">center</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fontSize:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">24</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="xml"> {this.state.value.type} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Text</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{styles.container}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">CanvasTest</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.value}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{styles.center}/</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{height:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">120</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">padding:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">20</span></span></span></span><span class="xml"><span class="hljs-tag">,}}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Text</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{fontSize:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">24</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="xml">  {this.state.value.setCount} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Text</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">padding:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">20</span></span></span></span><span class="xml"><span class="hljs-tag">,}}&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Text</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{textAlign:</span></span></span></span><span class="xml"><span class="hljs-tag"> '</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">right</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fontSize:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">24</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="xml">  {this.state.value.cycleCount} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Text</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); }</span></span></code> </pre><br><h4>  Vue personnalis√©e </h4><br>  Se familiariser avec les solutions, il √©tait important pour moi qu'il √©tait possible de cr√©er absolument n'importe quel composant visuel.  Autrement dit, dessinez ui au niveau des carr√©s, des cercles et des chemins.  Par exemple, un indicateur de minuterie est une telle vue. <br><br><img src="https://habrastorage.org/webt/3g/dy/al/3gdyal4lpcto_nthibi4lywzyus.jpeg"><br><br>  Il n'y avait aucun probl√®me pour iOS natif, car il y a acc√®s √† Layer, sur lequel vous pouvez dessiner tout ce que vous voulez. <br><br><pre> <code class="java hljs"> let shapeLayer = CAShapeLayer() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> angle = (-Double.pi / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">0.000001</span></span> + (Double.pi * <span class="hljs-number"><span class="hljs-number">2</span></span>) * percent) let circlePath = UIBezierPath(arcCenter: CGPoint(x: <span class="hljs-number"><span class="hljs-number">100</span></span>, y: <span class="hljs-number"><span class="hljs-number">100</span></span>), radius: CGFloat(<span class="hljs-number"><span class="hljs-number">95</span></span>), startAngle: CGFloat(-Double.pi / <span class="hljs-number"><span class="hljs-number">2</span></span>), endAngle: CGFloat(angle), clockwise: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) shapeLayer.path = circlePath.cgPa</code> </pre><br>  Pour Android natif, vous pouvez cr√©er une classe qui h√©rite de View.  Et red√©finissez la m√©thode onDraw (Canvas canvas), dans le param√®tre dont l'objet Canvas est dessin√© dessus. <br><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDraw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas)</span></span></span><span class="hljs-function"> </span></span>{ pathCircleOne = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Path(); pathCircleOne.addArc(rectForCircle, -<span class="hljs-number"><span class="hljs-number">90</span></span>, value * <span class="hljs-number"><span class="hljs-number">3.6F</span></span>); canvas.drawPath(pathCircleBackground, paintCircleBackground); }</code> </pre><br>  Pour Flutter, vous pouvez cr√©er une classe qui h√©rite de CustomPainter.  Et remplacez la m√©thode paint (Canvas canvas, Size size), qui dans le param√®tre transmet l'objet Canvas - c'est-√†-dire une impl√©mentation tr√®s similaire √† celle d'Android. <br><br><pre> <code class="java hljs"> <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">paint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Canvas canvas, Size size)</span></span></span><span class="hljs-function"> </span></span>{ Path path = Path() ..addArc( Rect.fromCircle( radius: size.width / <span class="hljs-number"><span class="hljs-number">3.0</span></span>, center: Offset(size.width / <span class="hljs-number"><span class="hljs-number">2</span></span>, size.height / <span class="hljs-number"><span class="hljs-number">2</span></span>), ), -pi * <span class="hljs-number"><span class="hljs-number">2</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span>, pi * <span class="hljs-number"><span class="hljs-number">2</span></span> * _percent / <span class="hljs-number"><span class="hljs-number">100</span></span>); canvas.drawPath(path, paint); }</code> </pre><br>  Pour React Native, aucune solution pr√™te √† l'emploi n'a √©t√© trouv√©e.  Je pense que cela s'explique par le fait que la vue n'est d√©crite que sur js, et elle est construite par des √©l√©ments ui natifs.  Mais vous pouvez utiliser la biblioth√®que react-native-canvas, qui donne acc√®s au canevas. <br><br><pre> <code class="javascript hljs"> handleCanvas = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">canvas</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canvas) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> modelTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> context = canvas.getContext(<span class="hljs-string"><span class="hljs-string">'2d'</span></span>); context.arc(<span class="hljs-number"><span class="hljs-number">75</span></span>, <span class="hljs-number"><span class="hljs-number">75</span></span>, <span class="hljs-number"><span class="hljs-number">70</span></span>, -<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI / <span class="hljs-number"><span class="hljs-number">2</span></span>, -<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">0.000001</span></span> - (<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * <span class="hljs-number"><span class="hljs-number">2</span></span>) * (modelTimer.timeSec / modelTimer.maxValue), <span class="hljs-literal"><span class="hljs-literal">false</span></span>); } }</code> </pre><br><h4>  Utilisation des listes d'interface utilisateur </h4><br><img src="https://habrastorage.org/webt/gn/zg/np/gnzgnpxhthwpy45v5eczwcy3vsc.png"><br><br>  L'algorithme pour Android, iOS, Flutter - les solutions sont tr√®s similaires.  Nous devons indiquer le nombre d'√©l√©ments dans la liste.  Et donnez par le num√©ro de l'√©l√©ment la cellule que vous voulez dessiner. <br>  IOS utilise UITableView pour dessiner des listes, dans lesquelles vous devez impl√©menter des m√©thodes DataSource. <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-function">func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_ tableView: UITableView, numberOfRowsInSection section: Int)</span></span></span><span class="hljs-function"> -&gt; Int </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> countCell } <span class="hljs-function"><span class="hljs-function">func </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_ tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span></span><span class="hljs-function"> -&gt; UITableViewCell </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell }</code> </pre><br>  Pour Android, ils utilisent RecyclerView, dans l'adaptateur dont nous impl√©mentons des m√©thodes iOS similaires. <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAdapter</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">private</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">myDataset</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Array</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt;) : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Adapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAdapter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyViewHolder</span></span></span><span class="hljs-class">&gt;() </span></span>{ <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(holder: MyViewHolder, position: Int)</span></span></span><span class="hljs-function"> </span></span>{ holder.textView.text = myDataset[position] } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItemCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>= myDataset.size }</code> </pre><br>  Pour flutter, ils utilisent un ListView, dans lequel des m√©thodes similaires sont impl√©ment√©es dans le g√©n√©rateur. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ListView.builder( itemCount: getCount() * <span class="hljs-number"><span class="hljs-number">2</span></span>, itemBuilder: (BuildContext context, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HistoryWidget( Key(<span class="hljs-string"><span class="hljs-string">"a ${models[index].workTime}"</span></span>), models[index]); }, )</code> </pre><br>  React Native utilise un ListView.  L'impl√©mentation est similaire aux solutions pr√©c√©dentes.  Mais il n'y a aucune r√©f√©rence au nombre et au nombre d'√©l√©ments dans la liste, dans le DataSource nous d√©finissons la liste des √©l√©ments.  Et dans renderRow, nous impl√©mentons la cr√©ation d'une cellule en fonction de l'√©l√©ment venu. <br><br><pre> <code class="javascript hljs">&lt;ListView dataSource={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.dataSource} renderRow={(data) =&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">HistoryItem</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{data}/</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">} /&gt;</span></span></code> </pre><br><h4>  Multithreading, asynchronie </h4><br>  Quand j'ai commenc√© √† m'occuper du multithreading, de l'asynchronie, j'ai √©t√© horrifi√© par la vari√©t√© des solutions.  Dans iOS - c'est GCD, Operation, dans Android - AsyncTask, Loader, Coroutine, dans React Native - Promise, Async / Await, dans Flutter-Future, Stream.  Les principes de certaines solutions sont similaires, mais la mise en ≈ìuvre est toujours diff√©rente. <br>  Le bien-aim√© Rx est venu √† la rescousse.  Si vous n'√™tes pas d√©j√† amoureux de lui, je vous conseille d'√©tudier.  C'est dans toutes les solutions que je consid√®re sous la forme: RxDart, RxJava, RxJs, RxSwift. <br><br>  Rxjava <br><br><pre> <code class="java hljs"> Observable.interval(<span class="hljs-number"><span class="hljs-number">1</span></span>, TimeUnit.SECONDS) .subscribe(object : Subscriber&lt;Long&gt;() { <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCompleted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ println(<span class="hljs-string"><span class="hljs-string">"onCompleted"</span></span>) } <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e: Throwable)</span></span></span><span class="hljs-function"> </span></span>{ println(<span class="hljs-string"><span class="hljs-string">"onError -&gt; "</span></span> + e.message) } <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l: Long?)</span></span></span><span class="hljs-function"> </span></span>{ println(<span class="hljs-string"><span class="hljs-string">"onNext -&gt; "</span></span> + l!!) } })</code> </pre><br>  Rxswift <br><br><pre> <code class="java hljs">Observable&lt;Int&gt;.interval(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, scheduler: MainScheduler.instance) .subscribe(onNext: { print($<span class="hljs-number"><span class="hljs-number">0</span></span>) })</code> </pre><br>  Rxdart <br><br><pre> <code class="java hljs"> Stream.fromIterable([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) .transform(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntervalStreamTransformer(seconds: <span class="hljs-number"><span class="hljs-number">1</span></span>)) .listen((i) =&gt; print(<span class="hljs-string"><span class="hljs-string">"$i sec"</span></span>);</code> </pre><br>  Rxjs <br><br><pre> <code class="javascript hljs">Rx.Observable .interval(<span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ms */</span></span>) .timeInterval() .take(<span class="hljs-number"><span class="hljs-number">3</span></span>) .subscribe( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Next: '</span></span> + x); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Error: '</span></span> + err); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Completed'</span></span>); })</code> </pre><br>  Comme vous pouvez le voir, le code est tr√®s similaire dans les quatre langues.  Qui √† l'avenir, si n√©cessaire, facilitera votre transition d'une solution de d√©veloppement mobile √† une autre. <br><br><h4>  Base de donn√©es </h4><br>  Dans les applications mobiles, la norme est la base de donn√©es SQLite.  Dans chacune des solutions envisag√©es, un wrapper est √©crit pour travailler avec.  Android utilise g√©n√©ralement la salle ORM. <br><br>  Sur iOS, Core Data.  Flutter peut utiliser le plugin sqflite. <br><br>  Dans React Native - react-native-sqlite-storage.  Toutes ces solutions sont con√ßues diff√©remment.  Et pour que les applications ressemblent, vous devez √©crire des requ√™tes Sqlite manuellement, sans utiliser de wrappers. <br><br>  Il est probablement pr√©f√©rable de regarder vers la biblioth√®que de stockage de donn√©es de Realm, qui utilise son propre noyau pour le stockage de donn√©es.  Il est pris en charge sur iOS, Android et React Native.  Flutter n'a actuellement pas de support, mais les ing√©nieurs de Realm travaillent dans cette direction. <br><br>  Royaume sur Android <br><br><pre> <code class="java hljs">RealmResults&lt;Item&gt; item = realm.where(Item.class) .lessThan(<span class="hljs-string"><span class="hljs-string">"id"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) .findAll();</code> </pre><br>  Royaume sur iOS <br><br><pre> <code class="java hljs">let item = realm.objects(Item.self).filter(<span class="hljs-string"><span class="hljs-string">"id &lt; 2"</span></span>)</code> </pre><br>  Royaume dans React Native <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> item = realm.objects(<span class="hljs-string"><span class="hljs-string">'Item'</span></span>).filtered(<span class="hljs-string"><span class="hljs-string">'id &lt; 2'</span></span>);</code> </pre><br><h4>  Stockage de valeurs-cl√©s </h4><br>  IOS natif utilise UserDefaults.  Dans Android natif, les pr√©f√©rences.  Dans React Native et Flutter, vous pouvez utiliser des biblioth√®ques qui regroupent des magasins de valeurs-cl√©s natifs (SharedPreference (Android) et UserDefaults (iOS)). <br><br>  Android <br><br><pre> <code class="java hljs">SharedPreferences sPref = getPreferences(MODE_PRIVATE); Editor ed = sPref.edit(); ed.putString(<span class="hljs-string"><span class="hljs-string">"my key'"</span></span>, myValue); ed.commit();</code> </pre><br>  iOS <br><br><pre> <code class="java hljs">let defaults = UserDefaults.standard defaults.integer(forKey: <span class="hljs-string"><span class="hljs-string">"my key'"</span></span>) defaults.set(myValue, forKey: <span class="hljs-string"><span class="hljs-string">"my key"</span></span>)</code> </pre><br>  Flutter <br><br><pre> <code class="java hljs">SharedPreferences prefs = await SharedPreferences.getInstance(); prefs.getInt(my key<span class="hljs-string"><span class="hljs-string">') prefs.setInt(my key'</span></span>, myValue)</code> </pre><br>  React native <br><br><pre> <code class="javascript hljs">DefaultPreference.get(<span class="hljs-string"><span class="hljs-string">'my key'</span></span>).then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">) </span></span>{<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(value)}); DefaultPreference.set(<span class="hljs-string"><span class="hljs-string">'my key'</span></span>, myValue).then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'done'</span></span>)});</code> </pre><br><h4>  R√©seau </h4><br>  Pour travailler avec le r√©seau dans iOS et Android natif, il existe un grand nombre de solutions.  Les plus populaires sont Alamofire (iOS) et Retrofit (Android).  React Native et Flutter ont leurs propres clients ind√©pendants de la plate-forme pour se connecter.  Tous les clients sont con√ßus de mani√®re tr√®s similaire. <br><br>  Android <br><br><pre> <code class="java hljs">Retrofit.Builder() .baseUrl(<span class="hljs-string"><span class="hljs-string">"https://timerble-8665b.firebaseio.com"</span></span>) .build() <span class="hljs-meta"><span class="hljs-meta">@GET</span></span>(<span class="hljs-string"><span class="hljs-string">"/messages.json"</span></span>) <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: Observable&lt;Map&lt;String,RealtimeModel&gt;&gt;</span></span></code> </pre><br>  iOS <br><br><pre> <code class="java hljs">let url = URL(string: <span class="hljs-string"><span class="hljs-string">"https://timerble-8665b.firebaseio.com/messages.json"</span></span>) Alamofire.request(url, method: .get) .responseJSON { response in ‚Ä¶</code> </pre><br>  Flutter <br><br><pre> <code class="java hljs">http.Response response = await http.get(<span class="hljs-string"><span class="hljs-string">'https://timerble-8665b.firebaseio.com/messages.json'</span></span>)</code> </pre><br>  React native <br><br><pre> <code class="javascript hljs">fetch(<span class="hljs-string"><span class="hljs-string">'https://timerble-8665b.firebaseio.com/messages.json'</span></span>) .then(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function">) =&gt;</span></span> response.json())</code> </pre><br><h4>  Temps de d√©veloppement </h4><br><img src="https://habrastorage.org/webt/5a/4h/gr/5a4hgr9m-oqtdbwknff2dxtwyeg.png"><br><br>  Il est probablement incorrect de tirer des conclusions en fonction de mon temps de d√©veloppement, car je suis d√©veloppeur Android.  Mais je pense que pour le d√©veloppeur iOS, entrer dans la technologie Flutter et Android semblera plus facile que dans React Native. <br><br><h4>  Conclusion </h4><br>  Commen√ßant √† √©crire un article, je savais ce que j'√©crirais dans la conclusion.  Je vais vous dire quelle solution je pr√©f√®re, quelle solution ne pas utiliser.  Mais ensuite, apr√®s avoir parl√© avec des gens qui utilisent ces solutions en production, j'ai r√©alis√© que mes conclusions √©taient incorrectes, car je regarde tout du c√¥t√© de mon exp√©rience.  L'essentiel, j'ai r√©alis√© que pour chacune des solutions envisag√©es, il existe des projets pour lesquels il est id√©alement adapt√©.  Et parfois, il est vraiment plus rentable pour une entreprise de cr√©er une application multiplateforme, plut√¥t que de labourer le d√©veloppement de deux applications natives.  Et si une solution ne convient pas √† votre projet, ne pensez pas qu'elle est mauvaise en principe.  J'esp√®re que cet article vous sera utile.  Merci d'√™tre arriv√© au bout. <br><br>  En ce qui concerne les modifications d'articles, veuillez √©crire dans un e-mail personnel, je r√©parerai tout avec plaisir. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430566/">https://habr.com/ru/post/fr430566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430556/index.html">GeekBrains lance un cours de formation de chef de produit</a></li>
<li><a href="../fr430558/index.html">Comment fonctionne la notation dans l'industrie de l'autopartage. Partie 1. Pr√©sentation des outils populaires sur les donn√©es r√©elles</a></li>
<li><a href="../fr430560/index.html">Frontend, algorithmes et possum Frederick. Nous analysons les t√¢ches du concours Yandex</a></li>
<li><a href="../fr430562/index.html">Validation des formulaires React. 2e partie</a></li>
<li><a href="../fr430564/index.html">Comment v√©rifier les comp√©tences de PMa pour un projet informatique?</a></li>
<li><a href="../fr430568/index.html">Fintech Digest: taxe sur les ind√©pendants, investissements dans les fintech et investisseurs institutionnels dans la crypto, loi sur la crypto en F√©d√©ration de Russie</a></li>
<li><a href="../fr430570/index.html">Bienvenue dans AppsConf: r√©union th√©matique QualityApps</a></li>
<li><a href="../fr430572/index.html">Cisco HyperFlex en action</a></li>
<li><a href="../fr430574/index.html">Les premiers patients ont re√ßu une th√©rapie cellulaire pour la maladie de Parkinson</a></li>
<li><a href="../fr430576/index.html">Un bon code n'atteindra pas Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>