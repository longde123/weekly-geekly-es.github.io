<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèø üë©‚Äçüî¨ üîã Netflix: o que acontece quando voc√™ clica em reproduzir? üôà ü§πüèæ üë®üèº‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo √© um cap√≠tulo do meu novo livro, Explique a nuvem para uma crian√ßa de dez anos . A primeira op√ß√£o foi escrita especificamente para aqueles...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Netflix: o que acontece quando voc√™ clica em reproduzir?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409583/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a86/b6d/d36/a86b6dd362d675c80d696decff2ce0e8.jpg"></div><br>  Este artigo √© um cap√≠tulo do meu novo livro, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Explique a nuvem para uma crian√ßa de dez anos</a> .  A primeira op√ß√£o foi escrita especificamente para aqueles que precisam de uma introdu√ß√£o √†s nuvens.  Depois, fiz algumas atualiza√ß√µes e adicionei alguns cap√≠tulos - "Netflix: o que acontece quando voc√™ pressiona iniciar?"  e "O que √© computa√ß√£o em nuvem?"  - que j√° est√£o um pouco al√©m do conhecimento de um iniciante.  Eu acho que eles poder√£o interessar at√© pessoas bastante experientes. <br><br>  Portanto, se voc√™ precisa de uma boa introdu√ß√£o √†s nuvens ou conhece algu√©m que precisa, d√™ uma olhada.  Eu acho que voc√™ vai gostar.  Tenho orgulho do que fiz. <br><br>  Escrevi este cap√≠tulo com base em uma d√∫zia de fontes, √†s vezes se contradizendo.  Os principais fatos mudam com o tempo e dependem de quem conta a hist√≥ria e de qual p√∫blico.  Tentei fazer uma hist√≥ria coerente sempre que poss√≠vel.  Observe que este n√£o √© um guia t√©cnico - este √© um artigo com imagens grandes.  Por exemplo, eu nunca mencionei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">microsservi√ßos</a> . <br><br>  Netflix parece t√£o simples.  Clique em "play" e o v√≠deo aparecer√° magicamente.  Simples, certo?  Sim, na verdade n√£o. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/53b/fd6/267/53bfd626796d89f697249e21c064381f.jpg"><br><br>  Ap√≥s nossas discuss√µes no cap√≠tulo "O que √© computa√ß√£o em nuvem?"  voc√™ pode esperar que o Netflix funcione com v√≠deo usando a AWS.  Clique em "play" no aplicativo Netflix e o v√≠deo armazenado no S3 ser√° transmitido diretamente para o seu dispositivo via Internet atrav√©s da Internet. <br><br>  Uma abordagem perfeitamente razo√°vel - para um servi√ßo que √© muito menor. <br><br>  Mas a Netflix est√° completamente errada.  Tudo √© muito mais complicado e interessante do que voc√™ imagina. <br><br>  Para entender o porqu√™, vejamos as estat√≠sticas da Netflix para 2017: <br><br><ul><li>  Mais de 110 milh√µes de assinantes. </li><li>  Trabalhe em mais de 200 pa√≠ses. </li><li>  Receita de US $ 3 bilh√µes por trimestre. </li><li>  Adiciona 5 milh√µes de assinantes por trimestre. </li><li>  Reproduz mais de um bilh√£o de horas de v√≠deo semanalmente.  Em compara√ß√£o, o YouTube reproduz 1 bilh√£o de horas de v√≠deo por dia, enquanto o Facebook reproduz 110 milh√µes de horas de v√≠deo por dia. </li><li>  Em um dia de 2017, 250 milh√µes de horas de v√≠deo foram reproduzidas. </li><li>  Respons√°vel por 37% do pico de tr√°fego da Internet nos EUA. </li><li>  Planeja gastar US $ 7 bilh√µes em novos conte√∫dos em 2018. </li></ul><br><h2>  O que aprendemos? </h2><br>  Netflix √© enorme.  √â global, tem muitos assinantes, reproduz uma enorme quantidade de v√≠deos e tem muito dinheiro. <br><br>  Outro fato pertinente √© que o Netflix funciona por assinatura.  Os assinantes pagam Netflix mensalmente e podem cancelar a assinatura a qualquer momento.  Quando voc√™ pressiona "play" para relaxar no Netflix, seria melhor se esse servi√ßo funcionasse normalmente.  Cancelar inscri√ß√£o de inscritos insatisfeitos. <br><br><h2>  D√™ uma olhada mais profunda </h2><br>  A Netflix √© um √≥timo exemplo das id√©ias que discutimos, portanto, este cap√≠tulo ter√° muito mais detalhes do que descrever outros servi√ßos em nuvem.  Uma raz√£o para explorar a Netflix em profundidade √© que eles fornecem muito mais informa√ß√µes do que outras empresas.  As comunica√ß√µes da Netflix s√£o consideradas um importante ativo cultural, e a empresa mant√©m com mais √™xito seus padr√µes. <br><br>  Eu gostaria de agradecer √† Netflix por sua abertura sobre sua arquitetura.  Ao longo dos anos, a empresa deu centenas de palestras e escreveu centenas de artigos sobre os detalhes de seus padr√µes internos de trabalho.  Isso ajuda a melhorar todo o setor. <br><br>  Outro motivo para esses detalhes detalhados √© que o servi√ßo Netflix √© simplesmente incr√≠vel.  A maioria de n√≥s j√° o usou - e quem n√£o estaria interessado em olhar nos bastidores e descobrir como isso funciona? <br><br><h2>  Netflix √© executado em duas nuvens - AWS e Open Connect </h2><br>  Como a empresa satisfaz os clientes?  Com a ajuda das nuvens.  De fato, duas nuvens diferentes - AWS e Open Connect.  Os dois devem trabalhar juntos sem problemas para produzir muitas horas de conte√∫do de v√≠deo que satisfa√ßa os usu√°rios. <br><br><h2>  Tr√™s partes do Netflix: cliente, back-end, rede de entrega de conte√∫do </h2><br>  Voc√™ pode dividir mentalmente o Netflix em tr√™s partes: cliente, back-end, CDN (rede de distribui√ß√£o de conte√∫do). <br><br>  Cliente - uma interface de usu√°rio executada em qualquer dispositivo usado para exibir listas de v√≠deos e reproduzi-las.  Pode ser um aplicativo m√≥vel em um smartphone, um site em um computador desktop ou at√© mesmo um aplicativo em uma TV inteligente.  A Netflix controla todos os clientes em todos os dispositivos. <br><br>  Tudo o que acontece antes de voc√™ clicar no bot√£o play acontece no back-end em execu√ß√£o na AWS.  Isso inclui coisas como preparar todos os novos v√≠deos recebidos e processar solicita√ß√µes de todos os aplicativos, sites, televisores e outros dispositivos. <br><br>  Tudo o que acontece depois de clicar em "play" √© processado no Open Connect.  Esta √© a rede de entrega de conte√∫do da Netflix.  Ele armazena v√≠deos em v√°rios lugares ao redor do mundo.  Quando voc√™ clica em "reproduzir", o fluxo de v√≠deo vem do Open Connect para o seu dispositivo e √© mostrado pelo cliente.  N√£o se preocupe - falaremos sobre a CDN mais tarde.  Curiosamente, o processo de lan√ßamento de v√≠deo da empresa n√£o se chama "clique em" reproduzir ", mas" clique em "iniciar" no nome ". Cada setor tem seu pr√≥prio jarg√£o. <br><br>  Controlando todas as tr√™s √°reas - cliente, back-end, CDN - a Netflix alcan√ßou total integra√ß√£o vertical.  A empresa controla sua experi√™ncia de assistir a v√≠deos do in√≠cio ao fim.  Portanto, ele simplesmente funciona quando voc√™ clica em "reproduzir" em qualquer parte do mundo.  Voc√™ tem a garantia de obter o conte√∫do de que precisa, aquele que deseja assistir e quando quiser. <br><br>  Vamos ver exatamente como isso acontece. <br><br><h2>  Em 2008, a Netflix come√ßou a se mudar para a AWS </h2><br>  O Netflix est√° em opera√ß√£o desde 1998. No in√≠cio, era vendido por aluguel de DVDs.  Mas a empresa viu o futuro ao transmitir v√≠deo sob demanda.  Em 2007, a Netflix lan√ßou seu servi√ßo de v√≠deo sob demanda, que permitia que os assinantes transmitissem programas de TV e filmes atrav√©s do site da empresa em computadores pessoais ou atrav√©s do software especial da empresa em v√°rias plataformas suportadas, incluindo smartphones e tablets, players digitais e jogos decodificadores e TVs inteligentes. <br><br>  O futuro do streaming de v√≠deo sob demanda pode parecer √≥bvio.  Em princ√≠pio, era.  Pessoalmente, trabalhei em algumas startups tentando emitir v√≠deos sob demanda.  Eles falharam.  E a Netflix estava esperando pelo sucesso.  A empresa definitivamente funcionou bem, mas chegou tarde ao mercado, o que a ajudou.  Em 2007, a Internet era r√°pida e barata o suficiente para suportar servi√ßos de streaming de v√≠deo.  Isso n√£o aconteceu antes.  O advento do tr√°fego m√≥vel r√°pido e n√£o muito caro e a introdu√ß√£o de dispositivos m√≥veis poderosos, como smartphones e tablets, tornaram mais f√°cil e barato assistir a v√≠deos a qualquer hora e em qualquer lugar.  O momento certo √© a chave do sucesso. <br><br><h2>  Netflix come√ßou com seus pr√≥prios data centers </h2><br>  O EC2 estava come√ßando em 2007, na mesma √©poca em que o Netflix estava come√ßando.  Portanto, o Netflix n√£o p√¥de come√ßar a usar o EC2.  A empresa construiu dois data centers localizados nas proximidades.  E eles experimentaram todos os problemas que discutimos nos cap√≠tulos anteriores. <br><br>  Construir data centers √© muito caro.  Leva tempo para encomendar equipamentos, sua instala√ß√£o e lan√ßamento.  Imediatamente ap√≥s o lan√ßamento, eles ficaram sem energia e tudo teve que come√ßar tudo de novo.  O tempo gasto em equipamentos for√ßou a empresa a adotar uma estrat√©gia de escala vertical. <br><br>  A Netflix escreveu grandes programas que rodavam em computadores grandes.  Essa abordagem √© chamada de constru√ß√£o de um mon√≥lito.  Um programa fez tudo.  O problema √© que, se voc√™ crescer t√£o r√°pido quanto o Netflix, √© muito dif√≠cil criar um mon√≥lito confi√°vel.  Ele n√£o era confi√°vel. <br><br><h2>  A nega√ß√£o de servi√ßo for√ßou a Netflix a mudar para a AWS </h2><br>  Em agosto de 2008, a Netflix n√£o p√¥de enviar DVDs por tr√™s dias consecutivos devido a uma falha no banco de dados.  Isso foi inaceit√°vel.  Era necess√°rio resolver alguma coisa.  A experi√™ncia de construir data centers ensinou √† empresa uma coisa importante: n√£o funcionou bem na constru√ß√£o de data centers.  Ela era boa em entregar v√≠deos para seus clientes.  Ela precisava se concentrar em melhorias na entrega de v√≠deo, em vez de melhorias na constru√ß√£o de data centers.  A constru√ß√£o de data centers n√£o era uma vantagem competitiva da empresa - sua vantagem era a entrega de v√≠deo. <br><br>  Naquela √©poca, a Netflix decidiu mudar para a AWS.  A AWS estava apenas come√ßando, por isso foi uma decis√£o ousada.  A empresa mudou-se para a AWS porque precisava de uma infraestrutura mais confi√°vel.  A Netflix queria eliminar todas as fraquezas do sistema.  A AWS ofereceu bancos de dados, armazenamento e data centers redundantes altamente confi√°veis.  A Netflix precisava de servi√ßos em nuvem para n√£o criar mon√≥litos n√£o confi√°veis.  A Netflix queria se tornar um servi√ßo global sem construir seus data centers.  Tais oportunidades em seus antigos datacenters n√£o eram e n√£o poderiam ser. <br><br>  A Netflix escolheu a AWS porque n√£o queria se envolver em trabalho duro indiferenciado.  Trabalho duro indiferenciado √© o que precisa ser feito, mas isso n√£o traz nenhuma vantagem para o neg√≥cio principal, que consiste em fornecer uma visualiza√ß√£o de v√≠deo de qualidade.  A AWS faz todo esse trabalho duro para a Netflix.  E isso d√° aos netflixers a oportunidade de se concentrar em fornecer servi√ßos comerciais valiosos. <br><br>  A mudan√ßa de uma empresa de seus data centers para a AWS levou mais de oito anos.  A Netflix aumentou o n√∫mero de clientes oito vezes durante esse per√≠odo.  A Netflix agora roda em v√°rias centenas de milhares de c√≥pias do EC2. <br><br><h2>  AWS Netflix mais confi√°vel </h2><br>  N√£o que a Netflix nunca tenha tido problemas com a AWS, mas, em geral, seu servi√ßo se tornou muito mais confi√°vel do que antes.  Voc√™ n√£o ver√° mais essas reclama√ß√µes: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af4/f3a/f92/af4f3af926d818952f1562667f6e8662.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/23d/91d/5b2/23d91d5b2ccf5da53507d412ef5ff293.jpg"><br><br>  A empresa se tornou t√£o confi√°vel quanto tomou medidas extraordin√°rias para isso.  Opera em tr√™s regi√µes da AWS: Virg√≠nia do Norte, Portland, Oregon e Dublin, Irlanda.  Em cada um deles, o Netflix opera em tr√™s zonas de acesso diferentes. <br><br>  A empresa n√£o tem planos de aumentar o n√∫mero de regi√µes de trabalho.  Adicionar novas regi√µes √© muito dif√≠cil e caro.  A maioria das empresas opera em apenas uma regi√£o, sem mencionar duas ou tr√™s. <br><br>  A vantagem de trabalhar em tr√™s regi√µes √© que uma delas pode cair e as outras duas se encaixam e atendem clientes da regi√£o afetada.  A Netflix chama a queda da evacua√ß√£o da regi√£o. <br><br>  Considere um exemplo.  Suponha que voc√™ esteja assistindo a um novo epis√≥dio de "House of Cards" em Londres, Inglaterra.  Provavelmente, seu dispositivo est√° conectado √† regi√£o de Dublin, pois √© o mais pr√≥ximo.  O que acontece quando a regi√£o de Dublin cai?  A Netflix deixar√° de funcionar para voc√™?  N√£o.  Quando um problema √© detectado, o Netflix o redireciona para a Virg√≠nia.  Seu dispositivo se comunicar√° com a regi√£o Virgin em vez de Dublin.  Voc√™ pode nem perceber falhas. <br><br>  Com que frequ√™ncia a regi√£o da AWS falha?  Uma vez por mes  Bem, na verdade a regi√£o n√£o falha todos os meses.  A Netflix realiza testes mensais.  A cada m√™s, a Netflix descarta especificamente toda a regi√£o, apenas para garantir que seu sistema lide com falhas regionais.  Voc√™ pode evacuar a regi√£o em seis minutos. <br><br>  A Netflix chama isso de modelo de servi√ßo global.  Cada cliente pode ser atendido de qualquer regi√£o.  Isso √© incr√≠vel.  E isso n√£o acontece automaticamente.  A AWS n√£o possui um molho m√°gico para lidar com a falha de regi√µes ou atender clientes de diferentes regi√µes.  A pr√≥pria Netflix fez o trabalho.  A empresa √© pioneira na cria√ß√£o de sistemas confi√°veis ‚Äã‚Äãusando v√°rias regi√µes.  N√£o conhe√ßo outras empresas que tomariam essas medidas para garantir a confiabilidade do servi√ßo. <br><br>  Outra vantagem de trabalhar nessas tr√™s regi√µes √© que o Netflix pode cobrir o mundo inteiro.  A Netflix realizou verifica√ß√µes e descobriu que, ao iniciar o aplicativo em qualquer lugar do mundo, em qualquer caso, voc√™ receber√° um servi√ßo r√°pido de uma dessas regi√µes. <br><br><h2>  Netflix salva usando a AWS </h2><br>  Isso pode surpreender muitos, mas o AWS para Netflix √© mais barato.  O custo da nuvem em termos de visualiza√ß√£o do v√≠deo sai v√°rias vezes menos do que ao usar data centers antigos.  Porque  Devido √† elasticidade da nuvem. <br><br>  O Netflix pode adicionar servidores conforme necess√°rio e devolv√™-los quando n√£o forem necess√°rios.  Em vez de um monte de computadores adicionais sem fazer nada, apenas aguardando o pico de carga, a empresa usa exatamente quantos computadores forem necess√°rios e quando necess√°rio. <br><br><h2>  O que acontece na AWS antes de voc√™ clicar em reproduzir? </h2><br>  Tudo o que n√£o est√° conectado com o arquivamento do v√≠deo √© processado na AWS.  Isso inclui poder de computa√ß√£o escal√°vel, armazenamento escal√°vel, l√≥gica de neg√≥cios, bancos de dados distribu√≠dos escal√°veis, processamento e an√°lise de big data, recomenda√ß√µes, transcodifica√ß√£o e centenas de outras fun√ß√µes.  Voc√™ n√£o precisa entender todos, mas, como isso pode lhe parecer interessante, explicarei brevemente. <br><br><h2>  Energia e armazenamento escal√°veis ‚Äã‚Äãpara computa√ß√£o </h2><br>  O poder de computa√ß√£o escal√°vel √© EC2 e o armazenamento √© S3.  N√£o h√° nada novo para n√≥s aqui.  Seu dispositivo √© um iPhone, TV, Xbox, smartphone Android, tablet etc.  - comunica-se com um servi√ßo em execu√ß√£o no EC2.  Seu dispositivo recebe uma lista de filmes em potencial para assistir entrando em contato com um computador executando o EC2.  Informa√ß√µes detalhadas sobre o v√≠deo que seu dispositivo recebe l√°.  Tudo funciona da mesma forma que em outros servi√ßos em nuvem. <br><br><h2>  Bancos de dados distribu√≠dos escal√°veis </h2><br>  A Netflix usa o DynamoDB e o Cassandra como bancos de dados distribu√≠dos.  Esses nomes n√£o devem significar nada para voc√™ - s√£o apenas bancos de dados de alta qualidade.  Os dados s√£o armazenados no banco de dados.  Informa√ß√µes sobre seu perfil, contas, todos os filmes assistidos - tudo isso √© armazenado no banco de dados.  Os bancos de dados distribu√≠dos n√£o funcionam em um computador grande, mas em muitos computadores.  Seus dados s√£o copiados para muitos computadores, para que, mesmo que um ou dois computadores que armazenam seus dados falhem, eles estar√£o seguros.  Na realidade, todos os dados s√£o copiados nas tr√™s regi√µes.  Por esse motivo, no caso de uma falha na regi√£o, seus dados estar√£o dispon√≠veis em outra regi√£o para a qual voc√™ ser√° alternado.  E a escala significa que o banco de dados poder√° armazenar o m√°ximo de dados que voc√™ adicionar a ele.  Essa √© uma das principais vantagens dos bancos de dados distribu√≠dos.  Se mais dados chegarem, mais computadores poder√£o ser adicionados. <br><br><h2>  Processamento e an√°lise de big data </h2><br>  Big data √© apenas um monte de dados.  A Netflix coleta muitas informa√ß√µes.  A empresa sabe quem assistiu, quando e onde eles assistiram.  A empresa sabe quais v√≠deos seus clientes visualizaram, mas n√£o fizeram o pedido.  Ela sabe quantas vezes cada v√≠deo foi assistido - e muito mais. <br><br>  Coletar e converter todos os dados em um formato padr√£o √© chamado de processamento.  E extrair significado deles - an√°lise.  Os dados s√£o analisados ‚Äã‚Äãpara obter respostas a perguntas espec√≠ficas. <br><br><h2>  A Netflix personaliza imagens especialmente para voc√™ </h2><br>  Aqui est√° um √≥timo exemplo de como a Netflix o atrai a assistir a mais filmes usando os recursos de an√°lise de dados.  Ao navegar pelas listas, escolhendo o que ver, voc√™ prestou aten√ß√£o ao fato de que para cada filme √© emitida uma foto?  Esta √© a imagem do t√≠tulo. <br><br>  A imagem do t√≠tulo deve intrig√°-lo, atrair sua aten√ß√£o e fazer voc√™ escolher este v√≠deo.  A ideia √© que, quanto mais intrigante a imagem, maior a probabilidade de voc√™ assistir ao v√≠deo.  E quanto mais v√≠deos voc√™ assiste, menor a probabilidade de cancelar a inscri√ß√£o no Netflix. <br><br>  Aqui est√° um exemplo das v√°rias imagens de t√≠tulo da s√©rie Stranger Things: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/368/3d5/31f/3683d531fe4f0fdff525eb466260ed86.jpg"><br><br>  Voc√™ pode se surpreender ao ver que cada imagem de cada v√≠deo √© selecionada especificamente para voc√™.  Nem todo mundo v√™ as mesmas imagens. <br><br>  Anteriormente, todos viram as mesmas imagens do t√≠tulo.  Aqui est√° como funcionou.  Foi mostrada aos clientes uma imagem selecionada aleatoriamente de um conjunto, como a mostrada na ilustra√ß√£o acima.  O Netflix contou todas as visualiza√ß√µes de v√≠deo e registrou a imagem exibida ao usu√°rio quando um v√≠deo foi selecionado.  Suponha, no nosso exemplo da s√©rie, que, ao mostrar a foto central da colagem, o v√≠deo tenha sido assistido 1000 vezes.  E ao mostrar o restante das fotos - apenas uma vez. <br><br>  Como a imagem do grupo era melhor do que as outras para atrair usu√°rios, a Netflix precisou transform√°-la na imagem-t√≠tulo da s√©rie para sempre.  Isso √© chamado de sele√ß√£o baseada em dados.  O Netflix funciona com base na an√°lise de dados.  Os dados s√£o coletados - nesse caso, o n√∫mero de visualiza√ß√µes associadas a cada figura - e usados ‚Äã‚Äãpara tomar as melhores decis√µes - nesse caso, para selecionar uma figura de t√≠tulo. <br><br>  Astuciosamente, mas isso pode ser feito ainda melhor?  Sim, usando ainda mais dados.  Para este t√≥pico, o futuro est√° na solu√ß√£o de problemas, aprendendo com os dados.  N√≥s somos pessoas diferentes.  Voc√™ acha que as mesmas imagens podem nos motivar?  Provavelmente n√£o.  Temos gostos diferentes, prefer√™ncias diferentes.  E a Netflix sabe disso - agora, ela personaliza todas as imagens que mostra.  Ela est√° tentando escolher uma imagem que destaque o aspecto mais importante do v√≠deo para voc√™.  Como ela faz isso? <br><br>  Lembre-se de que o Netflix registra e conta tudo o que voc√™ faz em seu site.  Ela sabe quais filmes voc√™ gosta, quais atores voc√™ gosta, e assim por diante.  Suponha que entre suas recomenda√ß√µes estava o filme "Ca√ßa √† Boa Vontade".  A Netflix deve escolher uma imagem de cabe√ßalho adequada.  O objetivo √© mostrar uma imagem que diga que este filme pode ser do seu interesse.  Que imagem voc√™ precisa mostrar? <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ gosta de com√©dias, a Netflix mostrar√° uma imagem com Robin Williams. Se voc√™ preferir melodramas, a Netflix mostrar√° uma imagem de Matt Damon e Minnie Driver prestes a se beijar. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9b/002/6f5/c9b0026f553c8d004e33ae7dfdb58a7c.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apresentando Robin Williams, o servi√ßo informa que √© prov√°vel que o filme tenha humor e, como a Netflix sabe que voc√™ gosta de com√©dias, este v√≠deo √© ideal para voc√™. Image Matt Damon e Minnie Driver enviam uma mensagem completamente diferente. Se voc√™ gosta de com√©dias e v√™ esta foto, provavelmente sentir√° falta dela. Portanto, escolher a imagem certa √© muito importante. Ele envia uma forte mensagem personalizada contando sobre o tema do filme. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui est√° outro exemplo - Pulp Fiction:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1df/d6d/a0c/1dfd6da0c5c128b97f7d4893c4d2f32d.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ assistiu a muitos filmes com Uma Thurman, provavelmente ver√° a imagem do t√≠tulo com Uma. Se voc√™ assistiu a muitos filmes com Travolta, provavelmente ver√° a imagem do t√≠tulo com John. Veja como escolher a melhor imagem personalizada poss√≠vel pode aumentar a probabilidade de assistir a um v√≠deo espec√≠fico?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Netflix agrada ao seu interesse ao escolher imagens, mas o servi√ßo n√£o deseja mentir para voc√™. Ele n√£o deseja mostrar apenas uma imagem atraente para fazer voc√™ assistir a um v√≠deo que n√£o gosta. N√£o h√° incentivo. O servi√ßo n√£o cobra pelo n√∫mero de visualiza√ß√µes. O servi√ßo tenta minimizar o arrependimento e deseja que voc√™ goste do que est√° assistindo, para selecionar a melhor imagem de t√≠tulo poss√≠vel. E este √© apenas um pequeno exemplo de an√°lise de dados. A Netflix usa essas estrat√©gias em todos os lugares.</font></font><br><br><h2>  Recomenda√ß√µes </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Netflix geralmente mostra de 40 a 50 op√ß√µes de v√≠deo, mas o servi√ßo oferece milhares de v√≠deos. </font><font style="vertical-align: inherit;">Como a Netflix decide o que mostrar? </font><font style="vertical-align: inherit;">Pelo aprendizado de m√°quina. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso faz parte do processamento e an√°lise de big data que acabamos de falar. </font><font style="vertical-align: inherit;">O servi√ßo examina os dados e prev√™ o que voc√™ pode gostar. </font><font style="vertical-align: inherit;">Em geral, tudo o que voc√™ v√™ na tela do Netflix foi selecionado especificamente para voc√™ usando o aprendizado de m√°quina.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transcodifica√ß√£o do arquivo de origem para o formato necess√°rio </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E assim descobrimos como a Netflix lida com o v√≠deo. </font><font style="vertical-align: inherit;">Antes de come√ßar a assistir no seu dispositivo favorito, a Netflix deve converter o v√≠deo no formato que melhor se adequa ao seu dispositivo. </font><font style="vertical-align: inherit;">Esse processo √© chamado de transcodifica√ß√£o. </font><font style="vertical-align: inherit;">Ele converte um arquivo de v√≠deo de um formato para outro, para que o v√≠deo possa ser assistido em diferentes plataformas e dispositivos. </font><font style="vertical-align: inherit;">A Netflix codifica todos os seus v√≠deos na AWS em 300.000 processadores simultaneamente. </font><font style="vertical-align: inherit;">Isso √© mais do que quase qualquer supercomputador!</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fonte de dados Fonte </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quem envia v√≠deos para a Netflix? </font><font style="vertical-align: inherit;">Est√∫dios e associa√ß√µes de produ√ß√£o. </font><font style="vertical-align: inherit;">A Netflix chama isso de dados brutos. </font><font style="vertical-align: inherit;">O novo v√≠deo √© enviado √† equipe de conte√∫do para processamento. </font><font style="vertical-align: inherit;">Ele vem em alta resolu√ß√£o, com muitos terabytes de tamanho. </font><font style="vertical-align: inherit;">Para imaginar um terabyte de informa√ß√£o, imagine 60 pilares de papel, cada um com altura igual √† Torre Eiffel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de assistir ao v√≠deo, o Netflix o exp√µe a um processo severo de v√°rias etapas.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/994/abf/8c5/994abf8c5dfe146ba1d6844a747c37b3.jpg"><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Verifica√ß√£o da qualidade </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro, a Netflix gasta muito tempo verificando a qualidade do v√≠deo. </font><font style="vertical-align: inherit;">Ela procura artefatos digitais, altera√ß√µes de cores, quadros perdidos que podem aparecer devido a tentativas anteriores de transcodifica√ß√£o ou problemas de transfer√™ncia de dados. </font><font style="vertical-align: inherit;">Se algum problema for detectado, o v√≠deo ser√° rejeitado.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transportador de processamento </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de confirmar, a qualidade do v√≠deo √© enviada ao pipeline de processamento. Essa √© uma sequ√™ncia de etapas pelas quais os dados passam antes de serem usados ‚Äã‚Äã- algo como uma correia transportadora em uma f√°brica. Mais de 70 programas de processamento diferentes s√£o usados ‚Äã‚Äãpara criar cada v√≠deo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O processamento de um √∫nico arquivo de v√°rios terabytes √© impratic√°vel; portanto, o primeiro passo no pipeline ser√° dividir o v√≠deo em v√°rios peda√ßos pequenos. As pe√ßas passam ao longo do transportador para que possam ser codificadas em paralelo - ou seja, s√£o processadas simultaneamente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mostramos paraleliza√ß√£o usando um exemplo.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/29f/0ee/c83/29f0eec83a51c561ef380328cf9122fb.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suponha que voc√™ tenha cem c√£es sujos que precisam ser lavados. </font><font style="vertical-align: inherit;">Como ser√° mais r√°pido fazer isso - se uma pessoa lavar um c√£o ap√≥s o outro, ou se voc√™ contratar uma centena de lavadoras de c√£es e lav√°-las todas ao mesmo tempo? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obviamente, o processo ser√° mais r√°pido se cem arruelas trabalharem ao mesmo tempo. </font><font style="vertical-align: inherit;">Isso √© paralelismo. </font><font style="vertical-align: inherit;">√â por isso que a Netflix usa tantos servidores EC2. </font><font style="vertical-align: inherit;">Eles precisam de muitos servidores para processar esses arquivos de v√≠deo gigantes em paralelo. </font><font style="vertical-align: inherit;">E funciona - a empresa afirma que o arquivo de origem pode ser codificado e enviado para a CDN em apenas 30 minutos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando as pe√ßas s√£o codificadas, elas s√£o verificadas para garantir que n√£o apresentem novos problemas. </font><font style="vertical-align: inherit;">Em seguida, eles s√£o coletados novamente em um arquivo e verificados novamente.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O resultado √© um monte de arquivos </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O processo de codifica√ß√£o cria muitos arquivos. </font></font> Porque<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objetivo final da Netflix √© oferecer suporte a todos os dispositivos conectados √† Internet. A empresa come√ßou a operar em 2007 na plataforma Microsoft Windows. Com o tempo, muitos outros dispositivos foram adicionados - Roku, LG, Samsung Blu-ray, Apple Mac, Xbox 360, LG DTV, Sony PS3, Nintendo Wii, Apple iPad, Apple iPad, Apple iPhone, Apple TV, Android, Kindle Fire e Comcast X1.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No total, o Netflix suporta 2.200 dispositivos diferentes. Para cada um deles existe um formato de v√≠deo com a melhor apar√™ncia. Se voc√™ assiste √† Netflix em um iPhone, ver√° o v√≠deo com melhor apar√™ncia em um iPhone. A empresa chama todos os v√°rios formatos de v√≠deo de perfil de codifica√ß√£o. A Netflix tamb√©m cria arquivos otimizados para diferentes velocidades de rede. Se voc√™ assistir a um arquivo em uma rede de alta velocidade, ver√° um v√≠deo de melhor qualidade do que se o assistisse em uma rede mais lenta.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamb√©m existem arquivos para v√°rios formatos de √°udio. </font><font style="vertical-align: inherit;">O √°udio √© codificado em diferentes n√≠veis de qualidade e idiomas diferentes. </font><font style="vertical-align: inherit;">Al√©m disso, existem arquivos com legendas. </font><font style="vertical-align: inherit;">Um v√≠deo pode ter v√°rias legendas em diferentes idiomas. </font><font style="vertical-align: inherit;">Existem v√°rias op√ß√µes de visualiza√ß√£o diferentes para cada v√≠deo. </font><font style="vertical-align: inherit;">O que voc√™ v√™ depende do seu dispositivo, qualidade da conex√£o, tarifa de servi√ßo e escolha do idioma.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ent√£o, quantos arquivos existem? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para a s√©rie, The Crown Netflix armazena cerca de 1200 arquivos. </font><font style="vertical-align: inherit;">A segunda temporada de Stranger Things tem ainda mais arquivos. </font><font style="vertical-align: inherit;">Foi filmado em resolu√ß√£o 8K e tem nove epis√≥dios. </font><font style="vertical-align: inherit;">Os arquivos de origem ocupam muitos terabytes de dados. </font><font style="vertical-align: inherit;">Foram necess√°rias 190.000 horas de processador para codificar apenas uma temporada. </font><font style="vertical-align: inherit;">O resultado s√£o 9.570 arquivos de v√≠deo, √°udio e texto diferentes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora vamos ver como o Netflix reproduz todos esses arquivos.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tr√™s estrat√©gias diferentes para streaming de v√≠deo </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Netflix possui tr√™s estrat√©gias diferentes para reproduzir streaming de v√≠deo: CDN pequeno, CDN de terceiros e Open Connect. </font><font style="vertical-align: inherit;">Vamos come√ßar com a defini√ß√£o de CDN. </font><font style="vertical-align: inherit;">CDN √© uma rede de distribui√ß√£o de conte√∫do. </font><font style="vertical-align: inherit;">Para a Netflix, o conte√∫do √©, obviamente, os arquivos de v√≠deo que discutimos na se√ß√£o anterior. </font><font style="vertical-align: inherit;">Compartilhar significa que os arquivos s√£o copiados de um local central na rede e armazenados em computadores distribu√≠dos em todo o mundo. </font><font style="vertical-align: inherit;">Na Netflix, o local central de armazenamento de arquivos √© S3.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por que criar uma CDN? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A id√©ia √© simples: voc√™ precisa posicionar o v√≠deo o mais pr√≥ximo poss√≠vel dos usu√°rios, distribuindo computadores em todo o mundo. Quando um usu√°rio quiser assistir a um v√≠deo, encontre o computador mais pr√≥ximo dele e organize um fluxo a partir da√≠ para o dispositivo. Os maiores benef√≠cios da CDN s√£o velocidade e confiabilidade. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Imagine que voc√™ est√° assistindo a um v√≠deo em Londres e ele est√° sendo transmitido para voc√™ de Portland, Oregon. O fluxo de v√≠deo precisa passar por muitas redes, incluindo o cabo submarino, para que a conex√£o seja lenta e n√£o confi√°vel. Ao aproximar o v√≠deo das pessoas que o assistem, voc√™ pode tornar a emo√ß√£o de assistir a um v√≠deo mais r√°pida e confi√°vel.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada local do computador que armazena o v√≠deo √© chamado de ponto de presen√ßa (PoP). </font><font style="vertical-align: inherit;">Cada PoP √© um local f√≠sico com acesso √† Internet. </font><font style="vertical-align: inherit;">Existem servidores, roteadores e outros equipamentos de telecomunica√ß√µes. </font><font style="vertical-align: inherit;">Falaremos sobre PoP mais tarde.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A primeira CDN era muito pequena </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 2007, quando a Netflix lan√ßou seu servi√ßo de streaming, ele contava com 36 milh√µes de assinantes em 50 pa√≠ses, que assistiam mais de um bilh√£o de horas de v√≠deo por m√™s e que recebiam v√°rios terabits de dados por segundo. </font><font style="vertical-align: inherit;">Para oferecer suporte ao servi√ßo, a Netflix criou seu pr√≥prio CDN simples em cinco locais diferentes nos Estados Unidos. </font><font style="vertical-align: inherit;">O cat√°logo de v√≠deos da empresa era pequeno o suficiente e todos os arquivos foram armazenados em todos os lugares.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O segundo CDN era muito grande </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 2009, a Netflix decidiu usar uma CDN de terceiros. Naquela √©poca, o custo da CDN come√ßou a cair. Usar redes de terceiros foi uma jogada inteligente para a Netflix. Por que perder tempo e esfor√ßo construindo suas redes se voc√™ pode alcan√ßar imediatamente qualquer lugar do planeta com as CDNs existentes? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Netflix trabalhou para fornecer servi√ßos de CDN a empresas como Akamai, Limelight e N√≠vel 3. N√£o h√° nada de errado em usar CDNs de terceiros. De fato, quase todas as empresas fazem isso. Por exemplo, a NFL usou os servi√ßos da Akamai para apresentar competi√ß√µes de futebol americano ao vivo. Sem criar suas pr√≥prias CDNs, a Netflix liberou tempo para trabalhar em outros projetos priorit√°rios.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A empresa gastou muito tempo e esfor√ßo desenvolvendo clientes mais inteligentes. A Netflix criou algoritmos que se adaptam √†s mudan√ßas nas condi√ß√µes da rede. Mesmo em caso de erros, sobrecargas na rede ou no servidor, a empresa deseja que os usu√°rios tenham a melhor imagem poss√≠vel. Uma das tecnologias desenvolvidas pela empresa - mudar para outra fonte de v√≠deo - por exemplo, para outra CDN ou outro servidor - para obter o melhor resultado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao mesmo tempo, a Netflix gasta muito esfor√ßo no suporte a todos os servi√ßos da AWS mencionados anteriormente. A Netflix chama os servi√ßos da AWS de um plano de refer√™ncia. O plano de controle √© um termo de rede para a parte do sistema que controla todo o resto. No seu corpo, seu c√©rebro √© o plano de controle - controla todo o resto.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E ent√£o a Netflix decidiu que eles poderiam melhorar o servi√ßo desenvolvendo sua pr√≥pria CDN. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O Open Connect foi perfeito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 2011, a Netflix percebeu que, em sua escala, precisavam de uma solu√ß√£o CDN dedicada para maximizar a efici√™ncia da rede. </font><font style="vertical-align: inherit;">A distribui√ß√£o de v√≠deo √© uma compet√™ncia essencial da empresa e pode ser uma enorme vantagem competitiva. </font><font style="vertical-align: inherit;">Portanto, a Netflix come√ßou a desenvolver o Open Connect, seu pr√≥prio CDN especial. </font><font style="vertical-align: inherit;">Tudo come√ßou em 2012. </font><font style="vertical-align: inherit;">O Open Connect tem muitas vantagens:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ela n√£o √© t√£o cara. </font><font style="vertical-align: inherit;">CDNs de terceiros s√£o mais caros. </font><font style="vertical-align: inherit;">Fazer voc√™ mesmo significa economizar muito dinheiro.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melhor qualidade. </font><font style="vertical-align: inherit;">A Netflix argumentou que, ao controlar todo o caminho do v√≠deo - transcodifica√ß√£o, CDN, clientes, dispositivos - ele poderia oferecer excelente qualidade de servi√ßo.</font></font></li><li>  .         .          ,     . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDNs de terceiros devem oferecer suporte a usu√°rios que precisam acessar qualquer conte√∫do de qualquer lugar do mundo. </font><font style="vertical-align: inherit;">A tarefa da Netflix era muito mais simples. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Netflix conhece seus usu√°rios com certeza enquanto se inscrevem. </font><font style="vertical-align: inherit;">Ela sabe quais v√≠deos transferir. </font><font style="vertical-align: inherit;">S√≥ porque voc√™ s√≥ precisa transferir grandes fluxos de v√≠deo, √© poss√≠vel executar v√°rias a√ß√µes para otimizar redes de maneira inteligente que outras CDNs n√£o podem executar. </font><font style="vertical-align: inherit;">A Netflix tamb√©m sabe muito sobre seus clientes. </font><font style="vertical-align: inherit;">A empresa sabe quais v√≠deos eles gostam e quando gostam de assisti-los. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com esse conhecimento, a Netflix construiu uma CDN de alta velocidade. </font><font style="vertical-align: inherit;">Vamos dar uma olhada em como o Open Connect funciona.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abrir dispositivos de conex√£o </font></font></h2><br>  Lembra como discutimos que os computadores CDN s√£o distribu√≠dos pelo mundo?  A Netflix desenvolveu seu pr√≥prio sistema de computador para armazenamento de v√≠deo.  A Netflix chama de dispositivos Open Connect (Open Connect Appliances, OCA).  Veja como era uma das primeiras instala√ß√µes da OCA: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b34/0f8/629/b340f86291912cda64508cf51cb6a14f.jpg"><br><br>  Na foto - v√°rios OCA de uma s√≥ vez.  Os OCA s√£o agrupados em clusters de v√°rios servidores.  Cada OCA √© um servidor r√°pido e otimizado para sa√≠da de arquivos grandes, com muitos discos r√≠gidos ou unidades flash armazenando v√≠deo.  Veja como √© um dos servidores OCA: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dcc/2ec/fd7/dcc2ecfd70116f59a8282e5ed2610496.jpg"><br><br>  Para prop√≥sitos diferentes, existem v√°rios tipos diferentes de OCA.  Existem grandes OCA capazes de armazenar todo o diret√≥rio de v√≠deos da empresa.  Existem OSAs pequenos que podem armazenar apenas parte do diret√≥rio de v√≠deo.  Os OCAs pequenos s√£o preenchidos com arquivos de v√≠deo diariamente durante o hor√°rio de pico durante o cache proativo. <br><br>  Em termos de equipamento, o OSA n√£o tem nada de extraordin√°rio.  Eles s√£o baseados em componentes de PC convencionais e v√°rios fornecedores os montam em v√°rios pacotes.  Voc√™ pode comprar os mesmos computadores, se quiser.  Observe que todos os computadores Netflix est√£o vermelhos.  A empresa os ordena especificamente para que correspondam √† cor do logotipo. <br><br>  Em termos de software, os OSAs usam o FreeBSD OS e o nginx como um servidor web.  Sim, todo OSA √© um servidor web.  Os fluxos de v√≠deo usam nginx.  Se esses nomes n√£o disserem nada a voc√™ - n√£o desanime, eu os incluo apenas para completar a figura. <br><br>  O n√∫mero de OSAs locais depende da confiabilidade que a Netflix deseja obter em um determinado local, a quantidade de tr√°fego que atende e a porcentagem de tr√°fego que esse centro pode enviar como um fluxo.  Ao clicar em "reproduzir", voc√™ assiste a um fluxo de v√≠deo proveniente de um OSA espec√≠fico - como o acima, localizado perto de voc√™. <br><br>  Para uma melhor experi√™ncia de visualiza√ß√£o, a Netflix gostaria de armazenar em cache o v√≠deo em sua casa.  Mas, por enquanto, isso √© impratic√°vel.  A pr√≥xima op√ß√£o mais conveniente √© colocar um mini-Netflix perto de sua casa.  Como isso pode ser feito? <br><br><h2>  Onde a Netflix hospeda o OCA? </h2><br>  A Netflix distribui enormes quantidades de v√≠deo de milhares de servidores localizados em mais de 1000 data centers em todo o mundo.  Veja este mapa de localiza√ß√£o do servidor de v√≠deo: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/989/432/e6e/989432e6e76da6fbc748bf7526e1b0a5.jpg"><br><br>  Outros servi√ßos de v√≠deo, como YouTube e Amazon, entregam v√≠deo em suas pr√≥prias redes.  Essas empresas literalmente criaram suas pr√≥prias redes globais para fornecer v√≠deo aos usu√°rios.  √â muito complicado e caro.  A Netflix adota uma abordagem completamente diferente para criar uma CDN. <br><br>  A Netflix n√£o funciona em sua rede, n√£o funciona em seus pr√≥prios data centers.  Em vez disso, os ISPs concordam em hospedar o OCA.  A Netflix oferece aos provedores gratuitamente para integrar seus servidores √† sua rede, al√©m disso, coloca o OSA pr√≥ximo aos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pontos de troca de tr√°fego</a> (local de troca de internet, IXP). <br><br>  Essa estrat√©gia permite que a Netflix n√£o construa seus pr√≥prios datacenters, mas a empresa obt√©m todas as vantagens de estar nesse centro - apenas pertence a outra pessoa.  Engenhoso!  Vamos dividir os √∫ltimos par√°grafos em etapas mais simples. <br><br><h2>  Usando o ISP para criar uma CDN </h2><br>  O ISP √© seu provedor de servi√ßos de Internet.  √â quem fornece a Internet como um servi√ßo.  Pode ser Verizon, Comcast, Beeline ou um dos milhares de outros.  O principal √© que os ISPs est√£o localizados em todo o mundo e est√£o pr√≥ximos dos clientes.  Ao hospedar o OCA nos datacenters de ISP, a Netflix tamb√©m √© distribu√≠da em todo o mundo e perto de seus clientes. <br><br><h2>  Usando o IXP para criar uma CDN </h2><br>  Um ponto de troca de tr√°fego √© um datacenter em que o ISP e a CDN trocam tr√°fego entre redes.  √â como ir a uma festa para trocar presentes de Natal com os amigos.  Compartilhar √© mais f√°cil se todos estiverem reunidos em um s√≥ lugar. <br><br>  IXP espalhados pelo mundo: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/711/42c/f34/71142cf34f7a2e0377a0e678e09f1cf6.jpg"><br><br>  Aqui est√° a apar√™ncia do IXP em Londres: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ac/d18/980/0acd1898087a4b6bb0c6d191b2429f2b.jpg"><br><br>  Se voc√™ se aproximar desses cabos de fibra √≥ptica amarelos, eis o que voc√™ ver√° (com base no ponto de troca AMS-IX em Amsterd√£): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90d/656/136/90d656136a66b2ccfb7d519b3729819b.jpg"><br><br>  Cada cabo conecta uma rede √† outra.  √â assim que redes diferentes trocam tr√°fego entre si.  IXP √© como um interc√¢mbio rodovi√°rio, apenas com fios: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c85/311/e9f/c85311e9f4c874c23e089313b7cd43f4.jpg"><br><br>  Para a Netflix, essa √© outra vantagem.  Os IXPs est√£o localizados em todo o mundo.  Ao colocar o OSA no IXP, a empresa pode n√£o ter mais seus pr√≥prios data centers. <br><br><h2>  V√≠deo proativamente armazenado em cache no OSA </h2><br>  A Netflix possui v√°rios v√≠deos localizados no S3.  Os computadores transmissores de v√≠deo est√£o localizados em todo o mundo.  S√≥ falta uma coisa: o v√≠deo em si!  A Netflix usa um processo chamado cache proativo para copiar com efici√™ncia o v√≠deo para o OCA. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1b/c17/728/c1bc17728e459f6fb135da8e8cb59cd1.jpg"><br><br>  O que √© cache  cache - cache]?  Este √© um local frequentemente localizado na terra onde cartuchos secretos, alimentos e tesouros s√£o armazenados em segredo.  Voc√™ sabe como esquilos escondem nozes para o inverno?  Todo lugar onde um esquilo escondeu uma noz √© um esconderijo.  No inverno, qualquer esquilo pode encontrar um monte de nozes e mastig√°-las.  Os exploradores do √Årtico enviam pequenas equipes √† frente que armazenam alimentos, combust√≠vel e outros suprimentos pelo caminho a seguir.  Uma equipe maior correndo atr√°s para em cada cache e restaura.  Tanto as prote√≠nas quanto os pesquisadores do √Årtico trabalham proativamente;  eles est√£o fazendo algo com anteced√™ncia para se preparar para o futuro. <br><br>  Cada OCA √© um cache de v√≠deo do que voc√™ provavelmente deseja assistir.  A Netflix armazena em cache o v√≠deo, prevendo o que voc√™ deseja assistir.  Em todo o mundo, a Netflix sabe com grande certeza que seus clientes adoram assistir.  Lembra que dissemos que a Netflix √© uma empresa orientada a dados?  Ela usa dados de popularidade para prever quais v√≠deos seus clientes provavelmente assistir√£o amanh√£ em qualquer lugar.  Por local aqui, entende-se um cluster OSA localizado no ISP ou IXP.  A empresa copia os v√≠deos previstos para um ou mais OCA em cada um dos locais.  Isso √© chamado de layout preliminar.  O v√≠deo est√° hospedado no OSA antes que algu√©m o solicite.  Como resultado, os clientes recebem um excelente servi√ßo.  O v√≠deo que eles querem assistir j√° est√° perto deles, em um formul√°rio pronto para visualiza√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/413/f48/a7b/413f48a7b2b1a431181206df70fabca7.jpg"><br><br>  A Netflix trabalha com os chamados  cache vinculado.  Os OCAs pequenos s√£o hospedados pelo ISP ou IXP.  Eles s√£o pequenos demais para caber no cat√°logo de v√≠deos inteiro.  Em outros lugares, existem OSAs com quase todo o diret√≥rio de v√≠deos do Netflix.  E em outro lugar, h√° lugares onde o OSA cont√©m o cat√°logo inteiro da Netflix.  Eles recebem v√≠deos do S3. <br><br>  Todas as noites, o OSA acorda e pesquisa o servi√ßo da AWS para saber que tipo de v√≠deo ele precisa.  O servi√ßo envia a ele uma lista de v√≠deos que ele deveria ter, constru√≠do com base em previs√µes.  Cada OCA √© respons√°vel por ter todos os v√≠deos nesta lista.  Se um dos OCA em um local tiver um dos v√≠deos necess√°rios, o OCA em cache copiar√° esse v√≠deo dele.  Caso contr√°rio, o v√≠deo ser√° encontrado e retirado de alguns OSA, localizados n√£o muito longe. <br><br>  Como a Netflix prev√™ que ser√° popular amanh√£, sempre haver√° uma desvantagem um dia antes que o v√≠deo seja necess√°rio no OSA.  Isso significa que o v√≠deo pode ser copiado em um momento silencioso, fora do pico de carga, o que reduz bastante o uso da largura de banda do ISP. <br><br>  O Open Connect nunca apresenta erros de cache.  Uma falta √© quando um v√≠deo espec√≠fico √© solicitado √† OSA e ele responde que n√£o o possui.  Ocorrem erros em outras CDNs porque eles n√£o podem copiar todo o conte√∫do em qualquer lugar.  Como o Netflix conhece todos os v√≠deos que precisam ser armazenados em cache, ele sabe exatamente onde e quais v√≠deos est√£o em que momento.  Se um OSA pequeno n√£o tiver o v√≠deo desejado, ele ser√° garantido por um dos principais OSA. <br><br>  E por que a Netflix n√£o copia todos os seus v√≠deos para toda a OCA do mundo?  O diret√≥rio de v√≠deo dela √© grande demais para isso.  Em 2013, o volume do cat√°logo excedeu 3 petabytes;  o que ele √© hoje, n√£o sei, s√≥ posso assumir isso muito mais.  √â por isso que a empresa desenvolveu um m√©todo para selecionar arquivos de v√≠deo que precisam ser armazenados em cada OSA, usando dados que prev√™em que os assinantes desejar√£o assistir. <br><br>  Veja um exemplo.  "House of Cards" √© um programa muito popular.  Para qual OSA ele deve ser copiado?  Provavelmente, em todos os lugares, como assinantes de todo o mundo querem assistir.  Mas e se o v√≠deo n√£o for t√£o popular quanto o House of Cards?  A Netflix decide em quais locais as c√≥pias devem ser armazenadas para melhor atender √†s necessidades de todos os clientes imediatos. <br><br>  Em um s√≥ lugar, os v√≠deos mais populares s√£o copiados para muitos OSA.  Quanto mais popular o v√≠deo, mais servidores armazenam uma c√≥pia dele.  Porque  Se um v√≠deo muito popular tivesse apenas uma c√≥pia, o fluxo de v√≠deo para todos os clientes sobrecarregaria o servidor. <br><br>  Um v√≠deo n√£o √© considerado preparado para distribui√ß√£o se for copiado para apenas um OSA.  A Netflix deseja reproduzir o mesmo conte√∫do ao mesmo tempo em todo o mundo.  Somente quando houver um n√∫mero suficiente de OSA com um n√∫mero suficiente de c√≥pias do v√≠deo para fornecer a qualidade certa, o v√≠deo ser√° considerado preparado para visualiza√ß√£o. <br><br>  Por exemplo, a segunda temporada do programa Demolidor em 2016 foi a primeira vez que a Netflix lan√ßou todos os epis√≥dios da s√©rie em todos os dispositivos em todos os pa√≠ses ao mesmo tempo. <br><br><h2>  Posicionamento OSA: por que os provedores precisam disso? </h2><br>  Por que os fornecedores concordam em hospedar clusters OSA?  √Ä primeira vista, isso √© muito generoso - mas ser√° interessante descobrir que o lucro pessoal est√° realmente envolvido aqui.  Para entender isso, precisamos falar sobre como as redes funcionam.  Neste livro, discutimos que o acesso aos servi√ßos em nuvem √© via Internet.  No caso da Netflix, isso n√£o √© verdade - ao assistir v√≠deo atrav√©s do aplicativo Netflix, ele se comunica com a AWS pela Internet.  [n√£o est√° muito claro que diferen√ßa o autor tinha em mente // aprox.  perev.] <br><br>  A Internet √© a interconex√£o de redes.  Voc√™ tem um provedor que fornece acesso √† Internet.  Eu recebo meu servi√ßo de internet da Comcast.  Isso significa que minha casa est√° conectada √† rede Comcast via fibra √≥tica.  A rede Comcast pertence a eles - isso n√£o √© a Internet, a Internet √© outra coisa. <br><br>  Suponha que eu queira fazer uma pesquisa no Google, digite uma solicita√ß√£o no navegador e pressione Enter.  Meu pedido primeiro passa pela rede Comcast.  O Google n√£o est√° localizado na rede Comcast.  Em algum momento, minha solicita√ß√£o deve ir para a Rede do Google.  Para isso, existe a Internet.  A Internet conecta a rede Comcast √† rede do Google.  Existem protocolos de roteamento que funcionam da maneira de um controlador de tr√°fego de rua e tr√°fego de rede direto.  Quando minha solicita√ß√£o √© enviada √† Internet, ela fica fora da rede da Comcast e fora da Rede do Google.  Ele est√° localizado na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">espinha dorsal da Internet</a> .  A Internet est√° conectada a partir de muitas redes privadas que decidem interagir entre si.  IXP √© uma das maneiras pelas quais as redes se comunicam. <br><br>  Nos EUA, h√° um mapa de redes de fibra distantes: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/204/83b/69a/20483b69a61535edd9aaa59f32f504f4.jpg"><br><br>  A Netflix fez o seguinte com seu Open Connect: hospedava clusters OSA em redes ISP.  Isso significa que, se eu assistir a um v√≠deo do Netflix, estou conversando com um OSA localizado na rede Comcast.  Todo o meu tr√°fego de v√≠deo entra na rede deles e n√£o fica online. <br><br>  A chave para escalar a entrega de v√≠deo √© estar o mais pr√≥ximo poss√≠vel do usu√°rio.  Ao fazer isso, voc√™ n√£o est√° usando backbones da Internet.  As solicita√ß√µes s√£o atendidas na parte local da rede.  Por que isso √© bom?  Lembre-se, dissemos que o Netflix j√° consome mais de 37% do tr√°fego da Internet nos EUA.  Se o ISP n√£o cooperasse com a empresa, usaria ainda mais a Internet.  A Internet n√£o conseguiu lidar com todo o tr√°fego.  Os fornecedores precisariam adicionar mais capacidade, o que √© muito caro. <br><br>  Agora, quase 100% do conte√∫do da Netflix √© transmitido nas redes de provedores.  Isso reduz o custo de manuten√ß√£o da rede, porque n√£o obstrui a Internet.  Ao mesmo tempo, os assinantes do Netflix recebem v√≠deo de alta qualidade e o desempenho da rede melhora para todos.  Todo mundo ganha. <br><br><h2>  Conex√£o aberta confi√°vel e resiliente </h2><br>  J√° discutimos como o Netflix aumenta a confiabilidade do sistema trabalhando em tr√™s regi√µes da AWS.  A arquitetura Open Connect atinge os mesmos objetivos.  Isso pode n√£o ser √≥bvio, mas os OCA s√£o independentes um do outro.  As OCAs funcionam como arquip√©lagos de entrega de v√≠deo independentes.  Os assinantes que recebem v√≠deo de um OSA n√£o sofrem com falhas de outro OSA. <br><br>  O que acontece quando o OSA falha?  O programa cliente que voc√™ est√° usando muda instantaneamente para outro OSA e continua a exibi√ß√£o.  O que acontece se muitas pessoas usam OCA em um s√≥ lugar?  O programa cliente encontra um OSA menos carregado.  O que acontece se a rede usada para transmitir v√≠deo estiver sobrecarregada?  A mesma coisa - o programa encontra outro OSA na rede que funciona melhor.  O Open Connect √© um sistema muito confi√°vel e tolerante a falhas. <br><br><h2>  Netflix controla o cliente </h2><br>  A Netflix lida de maneira inteligente com falhas, pois controla o cliente em todos os dispositivos.  A pr√≥pria empresa desenvolve aplicativos para Android e iOS, para que possamos esperar que os controle.  Mas mesmo em plataformas como a Smart TV, onde a Netflix n√£o criou clientes, ainda a controla porque controla o SDK (pacote de desenvolvimento de aplicativos). <br><br>  SDKs s√£o um conjunto de programas de desenvolvimento que permitem criar aplicativos.  Cada aplicativo Netflix faz solicita√ß√µes da AWS e reproduz v√≠deos usando o SDK.  Ao controlar o SDK, a Netflix pode se adaptar constantemente e em tempo real a redes lentas, falha de OSA e outros poss√≠veis problemas. <br><br>  E finalmente: √© isso que acontece quando voc√™ clica em "reproduzir" <br><br>  Percorremos um longo caminho em dire√ß√£o a isso e aprendemos muito.  Aqui est√° o que sabemos no momento: <br><br><ul><li>  O Netflix pode ser dividido em tr√™s partes: back-end, cliente e CDN. </li><li>  Todas as solicita√ß√µes de clientes s√£o atendidas pela AWS. </li><li>  Todos os v√≠deos s√£o transferidos do dispositivo Open Connect (OCA) mais pr√≥ximo para a CDN. </li><li>  A Netflix trabalha com tr√™s regi√µes da AWS e geralmente pode lidar com falhas em qualquer regi√£o, para que ningu√©m perceba. </li><li>  O novo conte√∫do √© convertido na empresa em v√°rios formatos diferentes, para que voc√™ possa escolher a op√ß√£o mais adequada com base no tipo de dispositivo, qualidade da rede, localiza√ß√£o geogr√°fica e taxa de assinantes. </li><li>  Todos os dias, no Open Connect, a empresa distribui v√≠deos ao redor do mundo sem prever o que os assinantes v√£o querer assistir em diferentes partes do mundo. </li></ul><br>  Aqui est√° a imagem que a Netflix descreve usando o processo de reprodu√ß√£o: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/077/f3a/59e/077f3a59eba98e189f19abfcf4c91a9a.jpg"><br><br>  Vamos terminar: <br><br><ul><li>  Voc√™ seleciona um v√≠deo para assistir usando um cliente em execu√ß√£o em algum dispositivo.  O cliente envia uma solicita√ß√£o de reprodu√ß√£o, indicando qual v√≠deo voc√™ precisa, para o servi√ßo Playback Apps da AWS. </li><li>  N√£o discutimos isso antes, mas a maior parte do que acontece quando voc√™ clica em "reproduzir" est√° relacionada ao licenciamento.  Nem todas as partes do mundo t√™m licen√ßa para visualizar cada v√≠deo.  A Netflix deve determinar se voc√™ tem uma licen√ßa para assistir a um v√≠deo espec√≠fico.  N√£o discutiremos esse t√≥pico chato, mas lembre-se de que isso acontece o tempo todo.  Uma das raz√µes pelas quais a Netflix come√ßou a criar seu pr√≥prio conte√∫do foi uma tentativa de evitar problemas de licenciamento [e ainda existem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">situa√ß√µes absurdas em</a> que a empresa n√£o pode exibir a s√©rie de produ√ß√£o da Netflix porque vendeu seus direitos a um provedor de conte√∫do local - sem mencionar todos os territ√≥rios proibidos para o trabalho de empresas americanas // aprox.  transl.].  A Netflix quer lan√ßar programas para todas as pessoas ao redor do mundo ao mesmo tempo.  Criar seu pr√≥prio conte√∫do √© a maneira mais f√°cil de evitar problemas de licenciamento. </li><li>  Dadas todas as informa√ß√µes relevantes, o servi√ßo Playback Apps retorna a URL para v√°rios, at√© dez, servidores OSA.  Esses s√£o os mesmos URLs que voc√™ pode ver no seu navegador.  A Netflix usa seu endere√ßo IP e informa√ß√µes do seu provedor para determinar quais clusters OSA s√£o melhores para voc√™. </li><li>  O cliente analisa a situa√ß√£o e seleciona o OCA.  Ele verifica a qualidade da conex√£o com cada um deles.  Ele se conectar√° ao OSA mais r√°pido e confi√°vel.  O cliente realiza essas verifica√ß√µes constantemente durante a reprodu√ß√£o do v√≠deo. </li><li>  O cliente est√° tentando escolher a melhor maneira de receber conte√∫do do OSA. </li><li>  O cliente se conecta ao OSA e come√ßa a emitir o fluxo de v√≠deo no seu dispositivo. </li><li>  Ao assistir a um v√≠deo, voc√™ percebeu que a qualidade da imagem est√° mudando?  √Äs vezes, haver√° pixels e, depois de algum tempo, a imagem volta √† alta qualidade novamente?  Isso ocorre porque o cliente se adapta √† qualidade da rede.  Se a qualidade diminuir, o cliente reduzir√° a qualidade do v√≠deo.  Se a qualidade cair muito, o cliente mudar√° para outro OSA. </li></ul><br>  √â o que acontece quando voc√™ clica em "reproduzir" no Netflix.  Quem pensaria que uma coisa t√£o simples, como assistir a um v√≠deo, poderia ser t√£o complicada? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt409583/">https://habr.com/ru/post/pt409583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt409569/index.html">Descolamento de retina - o que √© importante saber sobre ele</a></li>
<li><a href="../pt409571/index.html">Como criar um alien√≠gena - pensamentos sobre o design de esp√©cies ex√≥ticas</a></li>
<li><a href="../pt409575/index.html">Divis√£o por zero, a resposta √© infinita para o nosso universo?</a></li>
<li><a href="../pt409579/index.html">Intel NUC Hades Canyon - Um novo cr√¢nio com c√©rebro. E olhos</a></li>
<li><a href="../pt409581/index.html">Tello Inteligente Minidron</a></li>
<li><a href="../pt409585/index.html">Telegram planeja criar sua pr√≥pria plataforma blockchain</a></li>
<li><a href="../pt409593/index.html">O pop perdeu seu apelo?</a></li>
<li><a href="../pt409595/index.html">Vis√£o geral de pl√°sticos FDM de alta temperatura para impress√£o 3D industrial</a></li>
<li><a href="../pt409597/index.html">Mars Reconnaissance Orbiter parece detectar gelo em Marte</a></li>
<li><a href="../pt409601/index.html">Revis√£o 3Dtool da impressora Zenit 3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>