<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛩️ 🀄️ 👩‍🚀 Atomic Swaps auf den Punkt gebracht 🧑🏼 🧓🏼 🐯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ab Juli 2019 gibt es ungefähr 2.000 Kryptowährungen, aber es gibt keinen einzigen Austauschmechanismus zwischen verschiedenen Blockchains. In diesem A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Atomic Swaps auf den Punkt gebracht</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458646/"><p>  Ab Juli 2019 gibt es ungefähr 2.000 Kryptowährungen, aber es gibt keinen einzigen Austauschmechanismus zwischen verschiedenen Blockchains.  In diesem Artikel betrachten wir vereinfacht, wie eine der Technologien des Austauschs ohne Vermittler angeordnet ist - Atom-Swaps. <br>  Viel Spaß beim Lesen! </p><br><p><img src="https://habrastorage.org/webt/jc/ba/qj/jcbaqjix_if2eyc1wfdplh9y24y.png" alt="Logo"></p><a name="habracut"></a><br><h1 id="atomic-swaps-chto-eto-takoe-i-s-chem-ego-edyat">  Atomic Swaps: Was ist das und womit isst es? </h1><br><p>  Atomic Swaps sind eine Reihe von Transaktionen auf beiden Blockchains, mit denen Sie Münzen ohne Beteiligung eines Dritten umtauschen und dem zweiten Teilnehmer des Umtauschs vertrauen können.  Im Wesentlichen wird eine solche Transaktion erstellt, deren Ausgabe entweder in Gegenwart eines bestimmten Schlüssels oder nach einer bestimmten Zeit ausgegeben werden kann. <br>  Nicht alle Blockchains ermöglichen die Implementierung von AtomicSwap.  Es gibt zwei Hauptanforderungen: </p><br><ul><li>  Unterstützung für intelligente Verträge (Generator dieser sehr "anfänglichen" Transaktion); </li><li>  Verwendung derselben Kryptomagie (Hash-Funktion). </li></ul><br><div class="spoiler">  <b class="spoiler_title">Intelligente Verträge?</b>  <b class="spoiler_title">Nein, nicht gehört</b> <div class="spoiler_text"><p>  Intelligente Verträge sind im weitesten Sinne ein „nicht anhaftender“ Algorithmus, der Aktionen unter bekannten Bedingungen ausführt und sonst nichts.  In unserem Fall kann ein intelligenter Vertrag als große Black Box betrachtet werden, die an die Adresse des Empfängers, die Adresse des Absenders, den Sendebetrag und die Geldaufbewahrungszeit weitergeleitet wird und eine eindeutige Kennung (Hash) zuweist.  Die Ausgabe ist die gewünschte Transaktion mit den Bedingungen. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Hash und seine Freunde</b> <div class="spoiler_text"><p>  Eine Hash-Funktion ist ein weiteres Zeichen aus einer Geschichte der höheren Mathematik.  Konvertiert den Eingabestream in einen anderen Wert.  Dieselben Daten ergeben dasselbe Ergebnis.  Normalerweise ist die Eingabe eine große Zahl, die als geheimer Schlüssel bezeichnet wird, und die Ausgabe ist ein Hash.  Das Zurückkonvertieren eines Hashs in einen geheimen Schlüssel ist nicht möglich. </p></div></div><br><h1 id="kogda-vse-idet-gladko">  Wenn alles reibungslos läuft </h1><br><p>  Betrachten Sie den Austausch zwischen Alice (ja, ja, Alice ist nicht mehr dieselbe) und Bob.  Alice hat Bitcoin (btc), Bob hat Ether (eth).  Beide Zeichen haben Adressen auf beiden Blockchains.  Beispiel: Große Kryptowährungszeichen symbolisieren Blockchains. </p><br><p><img src="https://habrastorage.org/webt/he/-w/pn/he-wpn_bs0onorq7h0fk9lesjoi.png"></p><br><p>  Alice generiert einen Schlüssel (eine große Anzahl) und sagt bescheiden niemandem: </p><br><p><img src="https://habrastorage.org/webt/yg/yp/ki/ygypki8kwue-kfpciozfa1amdao.png"></p><br><p>  Basierend auf dem Schlüssel betrachtet sie den Hash: </p><br><p><img src="https://habrastorage.org/webt/6p/fy/05/6pfy05jkf_gsnkdpnmsobirlksw.png"></p><br><p>  Erstellt einen Vertrag mit einer eindeutigen Kennung, die einem Hash entspricht: </p><br><p><img src="https://habrastorage.org/webt/o0/tb/o7/o0tbo7awy1tggp2hw6_2o4r1bwy.png"></p><br><p>  Sendet Geld an einen Vertrag.  Jetzt kann sie sie nicht eine bestimmte Zeit verbringen (Zeitsperre): </p><br><div class="spoiler">  <b class="spoiler_title">Die Zeit ist abgelaufen oder Zeitsperre</b> <div class="spoiler_text"><p>  Timelock - die Zeit, nach der der Vertragsersteller das Geld zurückgeben kann, wenn er eine Transaktion eines bestimmten Typs sendet (nennen wir es "Rückerstattung").  Für diese Transaktion wird kein geheimer Schlüssel benötigt.  Ein anderer Benutzer kann Geld für die im Vertrag angegebene Adresse des Empfängers abheben (wichtig: nicht seine eigene), wenn er eine Transaktion eines anderen Typs (nennen wir sie einlösen) mit dem geheimen Schlüssel sendet. </p><br><p>  Im Allgemeinen ist der Mechanismus zur Verarbeitung von Vertragstransaktionen wie folgt: </p><br><pre><code class="plaintext hljs">if (transaction_type == "refund" and sender == contract_creater and timelock &lt; now()) { send_to(creator_address); } else if (transaction_type == "redeem" and hash(secret_key) == contract_id) { send_to(receiver_address); }</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/qn/a7/gv/qna7gvo-5i4xwnhcfxwtoe8fay4.png"></p><br><p>  Alice meldet den Hash an Bob.  Jetzt kann er alle Vertragsfelder prüfen (überprüfen): Stellen Sie sicher, dass die Adressen korrekt sind, die Versandmenge, die Lagerzeit des Vertragsgeldes (der Zeitraum, in dem Alice sie nicht zurückziehen kann): </p><br><p><img src="https://habrastorage.org/webt/dz/9g/03/dz9g03vs129wy9zt4lz1kwbwjo0.png"></p><br><p>  Wenn alles in Ordnung ist, erstellt Bob einen Vertrag für die zweite Blockchain ähnlich wie Alisinom (mit derselben Kennung).  Der Empfänger und möglicherweise der Betrag ändern sich (wenn die Rate nicht 1 zu 1 ist). </p><br><p><img src="https://habrastorage.org/webt/y9/he/o3/y9heo3nanmlllp1p1c9wgfoh61m.png"></p><br><p>  Alice prüft den Vertrag: </p><br><p><img src="https://habrastorage.org/webt/u2/ab/px/u2abpxzaey8qdfotjdrcswduroq.png"></p><br><p>  Wenn sie alles verdreifacht, erstellt sie eine Transaktion auf Ethereum, die Geld für Bobs Vertrag ausgibt.  Die einzige Möglichkeit, dies zu tun, besteht darin, einen Schlüssel bereitzustellen.  Jetzt ist bekannt: </p><br><p><img src="https://habrastorage.org/webt/bq/0q/57/bq0q57qn1v7p_hg1zfzus21qiy0.png"></p><br><p>  Alice bekommt eth: </p><br><p><img src="https://habrastorage.org/webt/69/s8/wu/69s8wut5tgijnspuyr7c4conq9u.png"></p><br><p>  Bob schaut auf den Schlüssel und erstellt eine Transaktion, die mit ihrem Schlüssel Geld für Alices Vertrag ausgibt: </p><br><p><img src="https://habrastorage.org/webt/yz/pk/j9/yzpkj9qdzxpfshxb6nt6j-40-y4.png"></p><br><p>  Erfolg!  Wölfe sind voll, Schafe sind in Sicherheit! </p><br><h1 id="kogda-mir-ne-idealen">  Wenn die Welt nicht perfekt ist </h1><br><p>  Manchmal kann jedoch etwas schief gehen.  Es gibt zwei Stellen, an denen der Austausch fehlschlagen kann.  Zu diesem Zweck gibt es einen Mechanismus, um das Geld an ihre rechtmäßigen Eigentümer zurückzugeben. </p><br><p>  Angenommen, Alice als anständiges Mädchen hat Geld für einen Vertrag geschickt, aber nach einem Audit hat Bob seine Meinung über die Trennung von der Luft geändert: </p><br><p><img src="https://habrastorage.org/webt/dz/9g/03/dz9g03vs129wy9zt4lz1kwbwjo0.png"></p><br><p>  Alice wartet auf den Ablauf der im Vertrag festgelegten Zeitsperre (z. B. 48 Stunden) und gibt die Blut-Pings zurück: </p><br><p><img src="https://habrastorage.org/webt/69/vc/dw/69vcdwy1-vgf2fvclawn6gbbfg8.png"></p><br><p>  Eine andere Geschichte erzählt von der launischen Alice, die den atomaren Austausch nicht fortsetzen wollte, nachdem Bob den Vertrag erstellt hatte.  Alternatives Szenario: Alice hat den Schlüssel verloren und kann dies nicht tun: </p><br><p><img src="https://habrastorage.org/webt/u2/ab/px/u2abpxzaey8qdfotjdrcswduroq.png"></p><br><p>  Bob wartet auf die Zeit, um das Geld zu sperren (es ist normalerweise weniger als das von Alice, so dass Alice das Geld von Bob nicht in letzter Minute abhebt und es dann nicht zurückgibt; zum Beispiel 24 Stunden).  Alice gibt ihr Geld nach ihrer Zeitsperre zurück. </p><br><p><img src="https://habrastorage.org/webt/wl/ij/p-/wlijp-qfuo2p7dlqdxycxnhchg0.png"></p><br><h1 id="zaklyuchenie">  Fazit </h1><br><p>  Atomaustausch ist sehr praktisch für Punkt-zu-Punkt-Austausch unter Umgehung von Austausch und Vermittlern.  Die Teilnehmer verpflichten sich, nur eine Provision für den Versand von Transaktionen zu zahlen. </p><br><p>  Zusammenfassend können beim Austausch zwischen A und C an den Blockketten B1 und B2 folgende Schritte unterschieden werden: </p><br><ol><li>  Initialisierung des Vertrages auf B1 durch Teilnehmer A; </li><li>  Hören eines Vertrags über B1 von Teil C; </li><li>  Initialisierung des Vertrages auf B2 durch Teilnehmer C; </li><li>  Hören eines B2-Vertrags von A; </li><li>  Bereitstellung eines Schlüssels und Abheben von Geld an B2 durch Teilnehmer A; </li><li>  Erhalten eines Schlüssels auf B2 durch Teilnehmer C; </li><li>  Geldabhebung bei B1 durch Partei S. </li></ol><br><p>  Die Technologie ist neu, wird aber bereits aktiv eingeführt.  Vielleicht wird sie in naher Zukunft in der Lage sein, das zentralisierte und so ideologisch fremde für den Blockchain-Austausch zu ersetzen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458646/">https://habr.com/ru/post/de458646/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458634/index.html">"Sei nicht böse" oder was Facebook vor uns verbirgt</a></li>
<li><a href="../de458636/index.html">Videobänder von mitap DevLeads aus dem Büro von Tutu.ru.</a></li>
<li><a href="../de458638/index.html">Intel oneAPI Project: viele Architekturen, eine API</a></li>
<li><a href="../de458640/index.html">Einen langen Strich finden</a></li>
<li><a href="../de458642/index.html">Theorie statt Heuristik: Als Frontend-Entwickler besser werden</a></li>
<li><a href="../de458648/index.html">CI / CD mit AWS und Bambus</a></li>
<li><a href="../de458650/index.html">Cyber ​​Challenge. Ein neues Level. Online-Wettbewerb von Rostelecom Solar</a></li>
<li><a href="../de458652/index.html">RamblerFront & Meetup # 7</a></li>
<li><a href="../de458654/index.html">Das Lurk-Virus hat Banken gehackt, während es von gewöhnlichen Angestellten geschrieben wurde</a></li>
<li><a href="../de458658/index.html">Wechsel von virtuellen Maschinen zu LXC-Containern: Gründe, Vorteile und gebrauchsfertige Anweisungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>