<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§µüèΩ üèÅ üò™ Recherche de bogues dans le code source Amazon Web Services SDK for .NET ‚ÜïÔ∏è üíª ‚ô•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations √† tous les fans de critiquer le code de quelqu'un d'autre. :) Aujourd'hui, dans notre laboratoire, le nouveau mat√©riel de recherche est le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recherche de bogues dans le code source Amazon Web Services SDK for .NET</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/437516/"><p><img src="https://habrastorage.org/getpro/habr/post_images/188/292/f27/188292f271dd0648b09f848dbe66efa6.png" alt="Image 1"></p><br>  Salutations √† tous les fans de critiquer le code de quelqu'un d'autre.  :) Aujourd'hui, dans notre laboratoire, le nouveau mat√©riel de recherche est le code source du projet AWS SDK pour .NET.  √Ä un moment donn√©, nous avons √©crit un article sur la v√©rification du kit SDK AWS pour C ++.  Ensuite, il n'y avait rien de particuli√®rement int√©ressant.  Voyons comment la version .NET du kit AWS SDK nous plaira.  Une bonne occasion de d√©montrer une fois de plus les capacit√©s de l'analyseur PVS-Studio, ainsi que de rendre le monde un peu plus parfait. <br><a name="habracut"></a><br>  Le Kit de d√©veloppement logiciel (SDK) .NET Amazon Web Services (AWS) est une bo√Æte √† outils de d√©veloppeur con√ßue pour cr√©er des applications bas√©es sur .NET dans l'infrastructure AWS et simplifier consid√©rablement le processus d'√©criture de code.  Le SDK comprend des suites d'API .NET pour divers services AWS tels qu'Amazon S3, Amazon EC2, DynamoDB et autres.  Le code source du SDK est h√©berg√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> . <br><br>  Comme je l'ai dit, √† un moment donn√©, nous avons √©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article</a> sur la v√©rification du kit SDK AWS pour C ++.  L'article s'est av√©r√© √™tre petit - il n'y a eu que quelques erreurs sur 512 000 lignes de code.  Cette fois, nous avons affaire √† une quantit√© de code beaucoup plus importante, dont environ 34 000 fichiers cs, et le nombre total de lignes de code (√† l'exclusion des lignes vides) est impressionnant de 5 millions.  Une petite partie du code (200 000 lignes dans 664 fichiers cs) tombe sur les tests, je ne les ai pas consid√©r√©s. <br><br>  Si la qualit√© du code .NET de la version SDK est approximativement la m√™me que celle de C ++ (deux erreurs par 512 KLOC), alors nous devrions obtenir environ 10 fois plus d'erreurs.  C'est, bien s√ªr, une m√©thode de calcul tr√®s inexacte qui ne prend pas en compte les caract√©ristiques du langage et de nombreux autres facteurs, mais je ne pense pas que le lecteur veuille maintenant se plonger dans des discussions ennuyeuses.  Au lieu de cela, je propose d'aller directement aux r√©sultats. <br><br>  La v√©rification a √©t√© effectu√©e √† l'aide de PVS-Studio version 6.27.  Incroyablement, l'analyseur a pu d√©tecter environ 40 erreurs dans le code AWS SDK for .NET qui m√©ritaient d'√™tre mentionn√©es.  Cela indique non seulement la haute qualit√© du code SDK (environ 4 erreurs pour 512 KLOC), mais √©galement la qualit√© comparable du travail C # de l'analyseur PVS-Studio par rapport √† C ++.  Excellent r√©sultat! <br><br>  Les auteurs du kit AWS SDK pour .NET sont excellents.  De projet en projet, ils d√©montrent une qualit√© de code incroyable.  Cela peut servir de bon exemple pour d'autres √©quipes.  Mais, bien s√ªr, je ne serais pas le d√©veloppeur d'un analyseur statique si je n'avais pas ins√©r√© mes 5 kopecks.  :) Nous travaillons d√©j√† avec l'√©quipe d'Amazon Lumberyard sur l'utilisation de PVS-Studio.  Mais comme il s'agit d'une tr√®s grande entreprise avec un tas de divisions √† travers le monde, il est tr√®s probable que l'√©quipe AWS SDK for .NET n'ait jamais entendu parler de PVS-Studio.  En tout cas, dans le code SDK, je n'ai trouv√© aucun signe d'utilisation de notre analyseur, bien que cela ne signifie rien.  Cependant, l'√©quipe, au minimum, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilise l'</a> analyseur int√©gr√© √† Visual Studio.  C'est bien, mais les v√©rifications de code peuvent √™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">am√©lior√©es</a> :). <br><br>  En cons√©quence, j'ai quand m√™me r√©ussi √† trouver des erreurs dans le code du SDK, et enfin, il est temps de les partager. <br><br>  <b>Erreur de logique</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3008</a> [CWE-563] La variable 'this.linker.s3.region' re√ßoit des valeurs successives deux fois.  C'est peut-√™tre une erreur.  V√©rifiez les lignes: 116, 114. AWSSDK.DynamoDBv2.Net45 S3Link.cs 116 <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Region { get { .... } <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(value)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = <span class="hljs-string"><span class="hljs-string">"us-east-1"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = value; } }</code> </pre> <br>  L'analyseur avertit de la r√©affectation de la valeur de la m√™me variable.  √Ä partir du code, il devient clair que cela est d√ª √† une erreur qui viole la logique de fonctionnement: la valeur de la variable <i>this.linker.s3.region sera</i> toujours √©gale √† la <i>valeur</i> , quelle que soit la condition <i>if (String.IsNullOrEmpty (value))</i> .  Dans le corps du bloc <i>if</i> , le <i>retour a</i> √©t√© ignor√©.  Le code doit √™tre corrig√© comme suit: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Region { get { .... } <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(value)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = <span class="hljs-string"><span class="hljs-string">"us-east-1"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = value; } }</code> </pre> <br>  <b>R√©cursion infinie</b> <br><br>  <b>PVS-Studio Warning:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3110</a> [CWE-674] Possible r√©cursion infinie √† l'int√©rieur de la propri√©t√© 'OnFailure'.  AWSSDK.ElasticMapReduce.Net45 ResizeJobFlowStep.cs 171 <br><br><pre> <code class="cpp hljs">OnFailure? onFailure = null; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OnFailure? OnFailure { get { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.OnFailure; } <span class="hljs-comment"><span class="hljs-comment">// &lt;= set { this.onFailure = value; } }</span></span></code> </pre> <br>  Un exemple de faute de frappe classique qui provoque une r√©cursion infinie dans l' <i>accesseur</i> <i>get</i> <i>de la</i> propri√©t√© <i>OnFailure</i> .  Au lieu de renvoyer la valeur du champ priv√©, <i>onFailure</i> fait r√©f√©rence √† la propri√©t√© <i>OnFailure</i> .  Option corrig√©e: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OnFailure? OnFailure { get { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onFailure; } <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onFailure = value; } }</code> </pre> <br>  Vous demandez: "Comment cela a-t-il fonctionn√©?"  Jusqu'√† pr√©sent, aucun moyen.  La propri√©t√© n'est utilis√©e nulle part, mais elle est temporaire.  √Ä un moment donn√©, quelqu'un commencera √† l'utiliser et obtiendra certainement un r√©sultat inattendu.  Pour √©viter de telles fautes de frappe, il est recommand√© de ne pas utiliser d'identificateurs qui ne diff√®rent que dans la premi√®re casse. <br><br>  Une autre note √† cette conception est l'utilisation d'un identifiant qui correspond compl√®tement au nom du type <i>OnFailure</i> .  Du point de vue du compilateur, c'est tout √† fait acceptable, mais cela rend la perception humaine du code plus difficile. <br><br>  Une autre erreur similaire: <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3110</a> [CWE-674] Possible r√©cursion infinie √† l'int√©rieur de la propri√©t√© 'SSES3'.  AWSSDK.S3.Net45 InventoryEncryption.cs 37 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SSES3 sSES3; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SSES3 SSES3 { get { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.SSES3; } <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.SSES3 = value; } }</code> </pre> <br>  La situation est identique √† celle d√©crite ci-dessus.  Seulement ici, une r√©cursion infinie se produira lors de l'acc√®s √† la propri√©t√© <i>SSES3 pour</i> la lecture et l'√©criture.  Option corrig√©e: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> SSES3 SSES3 { get { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sSES3; } <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sSES3 = value; } }</code> </pre> <br>  <b>Test de pleine conscience</b> <br><br>  Ce qui suit est une t√¢che d'un programmeur d√©sireux d'utiliser la technique du copier-coller.  Regardez √† quoi ressemble le code dans l'√©diteur Visual Studio et essayez de trouver l'erreur. <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/bfa/71b/1ab/bfa71b1ab4af941c43e5349df51b1614.png" alt="Image 3"></p><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3029</a> Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 91, 95. AWSSDK.AppSync.Net45 CreateApiKeyResponseUnmarshaller.cs 91 <br><br>  J'ai r√©duit le corps de la m√©thode <i>UnmarshallException</i> , supprimant tous les √©l√©ments inutiles.  Vous pouvez maintenant voir que des v√©rifications identiques se succ√®dent: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> override AmazonServiceException </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UnmarshallException</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (errorResponse.Code != null &amp;&amp; errorResponse.Code.Equals(<span class="hljs-string"><span class="hljs-string">"LimitExceededException"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LimitExceededException(errorResponse.Message, innerException, errorResponse.Type, errorResponse.Code, errorResponse.RequestId, statusCode); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (errorResponse.Code != null &amp;&amp; errorResponse.Code.Equals(<span class="hljs-string"><span class="hljs-string">"LimitExceededException"</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LimitExceededException(errorResponse.Message, innerException, errorResponse.Type, errorResponse.Code, errorResponse.RequestId, statusCode); } .... }</code> </pre> <br>  Il peut sembler que l'erreur n'est pas grossi√®re - juste une v√©rification suppl√©mentaire.  Mais souvent, un tel mod√®le peut indiquer des probl√®mes plus graves dans le code lorsque certaines v√©rifications n√©cessaires ne sont pas effectu√©es. <br><br>  Il y a quelques erreurs plus similaires dans le code. <br><br>  <b>Avertissements de PVS-Studio:</b> <br><br><ul><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 75, 79. AWSSDK.CloudDirectory.Net45 CreateSchemaResponseUnmarshaller.cs 75 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 105, 109. AWSSDK.CloudDirectory.Net45 GetSchemaAsJsonResponseUnmarshaller.cs 105 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 201, 205. AWSSDK.CodeCommit.Net45 PostCommentForPullRequestResponseUnmarshaller.cs 201 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 101, 105. AWSSDK.CognitoIdentityProvider.Net45 VerifySoftwareTokenResponseUnmarshaller.cs 101 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 72, 76. AWSSDK.Glue.Net45 UpdateConnectionResponseUnmarshaller.cs 72 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 123, 127. AWSSDK.Neptune.Net45 RestoreDBClusterFromSnapshotResponseUnmarshaller.cs 123 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 167, 171. AWSSDK.Neptune.Net45 RestoreDBClusterFromSnapshotResponseUnmarshaller.cs 167 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 127, 131. AWSSDK.RDS.Net45 RestoreDBClusterFromSnapshotResponseUnmarshaller.cs 127 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 171, 175. AWSSDK.RDS.Net45 RestoreDBClusterFromSnapshotResponseUnmarshaller.cs 171 </li><li>  V3029 Les expressions conditionnelles des instructions ¬´if¬ª situ√©es c√¥te √† c√¥te sont identiques.  V√©rifiez les lignes: 99, 103. AWSSDK.Rekognition.Net45 RecognizeCelebritiesResponseUnmarshaller.cs 99 </li></ul><br>  <b>Tu es quoi</b> <br><br>  <b>PVS-Studio Warning:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3062</a> Un objet 'attributeName' est utilis√© comme argument de sa propre m√©thode.  Pensez √† v√©rifier le premier argument r√©el de la m√©thode ¬´Contient¬ª.  AWSSDK.MobileAnalytics.Net45 CustomEvent.cs 261 <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// &lt;summary&gt; /// Dictionary that stores attribute for this event only. /// &lt;/summary&gt; private Dictionary&lt;string,string&gt; _attributes = new Dictionary&lt;string,string&gt;(); /// &lt;summary&gt; /// Gets the attribute. /// &lt;/summary&gt; /// &lt;param name="attributeName"&gt;Attribute name.&lt;/param&gt; /// &lt;returns&gt;The attribute. Return null of attribute doesn't /// exist.&lt;/returns&gt; public string GetAttribute(string attributeName) { if(string.IsNullOrEmpty(attributeName)) { throw new ArgumentNullException("attributeName"); } string ret = null; lock(_lock) { if(attributeName.Contains(attributeName)) // &lt;= ret = _attributes[attributeName]; } return ret; }</span></span></code> </pre> <br>  L'analyseur a d√©tect√© une erreur dans la m√©thode <i>GetAttribute</i> : la cha√Æne est v√©rifi√©e pour le fait qu'elle se contient.  De la description de la m√©thode, il s'ensuit que si le nom d'attribut (cl√© <i>attributeName</i> ) est trouv√© (dans le dictionnaire <i>_attributes</i> ), alors la valeur d'attribut doit √™tre retourn√©e, sinon <i>null</i> .  En r√©alit√©, comme la condition <i>attributeName.Contains (attributeName) est</i> toujours vraie, une tentative est faite pour renvoyer une valeur par une cl√© qui peut ne pas √™tre trouv√©e dans le dictionnaire.  Ensuite, au lieu de retourner <i>null, une</i> <i>exception KeyNotFoundException</i> sera lev√©e. <br><br>  Essayons de corriger ce code.  Pour mieux comprendre comment proc√©der, jetez un ≈ìil √† une autre m√©thode: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/// &lt;summary&gt; /// Determines whether this instance has attribute the specified /// attributeName. /// &lt;/summary&gt; /// &lt;param name="attributeName"&gt;Attribute name.&lt;/param&gt; /// &lt;returns&gt;Return true if the event has the attribute, else /// false.&lt;/returns&gt; public bool HasAttribute(string attributeName) { if(string.IsNullOrEmpty(attributeName)) { throw new ArgumentNullException("attributeName"); } bool ret = false; lock(_lock) { ret = _attributes.ContainsKey(attributeName); } return ret; }</span></span></code> </pre> <br>  Cette m√©thode v√©rifie si le nom d'attribut (cl√© <i>attributeName</i> ) <i>existe</i> dans le dictionnaire <i>_attributes</i> .  <i>Revenons</i> √† la m√©thode <i>GetAttribute</i> et <i>corrigeons</i> l'erreur: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetAttribute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> attributeName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.IsNullOrEmpty(attributeName)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-string"><span class="hljs-string">"attributeName"</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> ret = null; lock(_lock) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(_attributes.ContainsKey(attributeName)) ret = _attributes[attributeName]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ret; }</code> </pre> <br>  Maintenant, la m√©thode fait exactement ce qui est indiqu√© dans la description. <br><br>  Et encore une petite remarque sur ce fragment de code.  J'ai remarqu√© que les auteurs utilisent le <i>verrouillage</i> lorsqu'ils travaillent avec le dictionnaire <i>_attributes</i> .  De toute √©vidence, cela est n√©cessaire avec un acc√®s multi-thread, mais la construction du <i>verrou</i> est plut√¥t lente et lourde.  Au lieu de <i>Dictionary</i> dans ce cas, il pourrait √™tre plus pratique d'utiliser une version thread-safe du dictionnaire - <i>ConcurrentDictionary</i> .  Ensuite, le besoin de <i>verrouillage</i> dispara√Æt.  Bien que, je ne connaisse peut-√™tre aucune caract√©ristique du projet. <br><br>  <b>Comportement suspect</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3063</a> [CWE-571] Une partie de l'expression conditionnelle est toujours vraie si elle est √©valu√©e: string.IsNullOrEmpty (inferredIndexName).  AWSSDK.DynamoDBv2.PCL ContextInternal.cs 802 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetQueryIndexName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> inferredIndexName = null; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.IsNullOrEmpty(specifiedIndexName) &amp;&amp; indexNames.Count == <span class="hljs-number"><span class="hljs-number">1</span></span>) { inferredIndexName = indexNames[<span class="hljs-number"><span class="hljs-number">0</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (indexNames.Contains(specifiedIndexName, StringComparer.Ordinal)) { inferredIndexName = specifiedIndexName; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.IsNullOrEmpty(inferredIndexName) &amp;&amp; <span class="hljs-comment"><span class="hljs-comment">// &lt;= indexNames.Count &gt; 0) throw new InvalidOperationException("Local Secondary Index range key conditions are used but no index could be inferred from model. Specified index name = " + specifiedIndexName); .... }</span></span></code> </pre> <br>  L'analyseur a alert√© la <i>v√©rification de string.IsNullOrEmpty (inferredIndexName)</i> .  En effet, la cha√Æne <i>inferredIndexName est</i> affect√©e <i>null</i> , puis la valeur de cette variable n'est modifi√©e nulle part, puis pour une raison quelconque, elle est v√©rifi√©e pour <i>null</i> ou une cha√Æne vide.  √áa a l'air suspect.  Examinons de pr√®s l'extrait de code donn√©.  Je ne l'ai d√©lib√©r√©ment pas r√©duit pour une meilleure compr√©hension de la situation.  Ainsi, dans la premi√®re <i>instruction if</i> (et √©galement dans la suivante), la variable <i>specifiedIndexName</i> est v√©rifi√©e d'une mani√®re ou d'une autre.  Selon le r√©sultat des v√©rifications, la variable <i>inferredIndexName</i> re√ßoit une nouvelle valeur.  Prenons maintenant la troisi√®me <i>instruction if</i> .  Le corps de cet op√©rateur (levant une exception) sera ex√©cut√© si <i>indexNames.Count&gt; 0</i> , car la premi√®re partie de la condition est <i>string.IsNullOrEmpty (inferredIndexName)</i> est toujours vrai.  Peut-√™tre que les variables <i>specifiedIndexName</i> et <i>inferredIndexName sont</i> simplement confondues.  Ou le troisi√®me ch√®que doit √™tre sans <i>autre</i> , repr√©sentant une <i>instruction if</i> autonome: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.IsNullOrEmpty(specifiedIndexName) &amp;&amp; indexNames.Count == <span class="hljs-number"><span class="hljs-number">1</span></span>) { inferredIndexName = indexNames[<span class="hljs-number"><span class="hljs-number">0</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (indexNames.Contains(specifiedIndexName, StringComparer.Ordinal)) { inferredIndexName = specifiedIndexName; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.IsNullOrEmpty(inferredIndexName) &amp;&amp; indexNames.Count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidOperationException(....);</code> </pre> <br>  Dans ce cas, il est difficile de donner une r√©ponse d√©finitive sur les options de correction de ce code.  Mais il est absolument n√©cessaire que l'auteur l'inspecte. <br><br>  <b>NullReferenceException</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3095</a> [CWE-476] L'objet 'conditionValues' a √©t√© utilis√© avant d'√™tre v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 228, 238. AWSSDK.Core.Net45 JsonPolicyWriter.cs 228 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeConditions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... foreach (....) { IList&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; conditionValues = keyEntry.Value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (conditionValues.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">// &lt;= continue; .... if (conditionValues != null &amp;&amp; conditionValues.Count != 0) { .... } .... } }</span></span></code> </pre> <br>  Classiques du genre.  La variable <i>conditionValues ‚Äã‚Äãest</i> utilis√©e sans d'abord v√©rifier la valeur <i>null</i> .  De plus, plus loin dans le code, une telle v√©rification est effectu√©e, mais il est trop tard.  :) <br><br>  Le code peut √™tre corrig√© comme suit: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeConditions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... foreach (....) { IList&lt;<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; conditionValues = keyEntry.Value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (conditionValues != null &amp;&amp; conditionValues.Count == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (conditionValues != null &amp;&amp; conditionValues.Count != <span class="hljs-number"><span class="hljs-number">0</span></span>) { .... } .... } }</code> </pre> <br>  Quelques erreurs similaires ont √©t√© trouv√©es dans le code. <br><br>  <b>Avertissements de PVS-Studio:</b> <br><br><ul><li>  V3095 [CWE-476] L'objet 'ts.Listeners' a √©t√© utilis√© avant d'√™tre v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 140, 143. AWSSDK.Core.Net45 Logger.Diagnostic.cs 140 </li><li>  V3095 [CWE-476] L'objet 'obj' a √©t√© utilis√© avant d'√™tre v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 743, 745. AWSSDK.Core.Net45 JsonMapper.cs 743 </li><li>  V3095 [CWE-476] L'objet 'multipartUploadMultipartUploadpartsList' a √©t√© utilis√© avant d'√™tre v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 65, 67. AWSSDK.S3.Net45 CompleteMultipartUploadRequestMarshaller.cs 65 </li></ul><br>  L'avertissement suivant est tr√®s similaire dans sa signification, mais la situation est l'inverse de celle discut√©e ci-dessus. <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3125</a> [CWE-476] L'objet '√©tat' a √©t√© utilis√© apr√®s avoir √©t√© v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 139, 127. AWSSDK.Core.Net45 RefreshingAWSCredentials.cs 139 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateToGeneratedCredentials</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( CredentialsRefreshState state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> errorMessage; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ShouldUpdate) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == null) errorMessage = <span class="hljs-string"><span class="hljs-string">"Unable to generate temporary credentials"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> .... <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AmazonClientException(errorMessage); } state.Expiration -= PreemptExpiryTime; <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... }</span></span></code> </pre> <br>  L'un des fragments de code contient une v√©rification de la valeur de la variable d' <i>√©tat</i> pour l'√©galit√© <i>nulle</i> .  En outre, selon le code, la variable d' <i>√©tat</i> est utilis√©e pour se d√©sinscrire de l'√©v√©nement <i>PreemptExpiryTime</i> , tandis que la v√©rification de <i>null</i> n'est plus effectu√©e et une <i>NullReferenceException est possible</i> .  Option de code plus s√©curis√©e: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateToGeneratedCredentials</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( CredentialsRefreshState state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> errorMessage; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ShouldUpdate) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state == null) errorMessage = <span class="hljs-string"><span class="hljs-string">"Unable to generate temporary credentials"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> .... <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AmazonClientException(errorMessage); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (state != null) state.Expiration -= PreemptExpiryTime; .... }</code> </pre> <br>  Il existe d'autres erreurs similaires dans le code. <br><br>  <b>Avertissements de PVS-Studio:</b> <br><br><ul><li>  V3125 [CWE-476] L'objet 'wrappedRequest.Content' a √©t√© utilis√© apr√®s avoir √©t√© v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 395, 383. AWSSDK.Core.Net45 HttpHandler.cs 395 </li><li>  V3125 [CWE-476] L'objet 'datasetUpdates' a √©t√© utilis√© apr√®s avoir √©t√© v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 477, 437. AWSSDK.CognitoSync.Net45 Dataset.cs 477 </li><li>  V3125 [CWE-476] L'objet 'cORSConfigurationCORSConfigurationcORSRulesListValue' a √©t√© utilis√© apr√®s avoir √©t√© v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 125, 111. AWSSDK.S3.Net45 PutCORSConfigurationRequestMarshaller.cs 125 </li><li>  V3125 [CWE-476] L'objet 'lifecycleConfigurationLifecycleConfigurationrulesListValue' a √©t√© utilis√© apr√®s avoir √©t√© v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 157, 68. AWSSDK.S3.Net45 PutLifecycleConfigurationRequestMarshaller.cs 157 </li><li>  V3125 [CWE-476] L'objet 'this.Key' a √©t√© utilis√© apr√®s avoir √©t√© v√©rifi√© par rapport √† null.  V√©rifiez les lignes: 199, 183. AWSSDK.S3.Net45 S3PostUploadRequest.cs 199 </li></ul><br>  <b>Une r√©alit√© incontest√©e</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3009</a> [CWE-393] Il est √©trange que cette m√©thode renvoie toujours une seule et m√™me valeur de 'true'.  AWSSDK.Core.Net45 Lexer.cs 651 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">State19</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (....) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (....) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'"'</span></span>: .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'\\'</span></span>: .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: .... <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  La m√©thode renvoie toujours <i>true</i> .  Voyons √† quel point cela est critique pour le code appelant.  J'ai suivi l'utilisation de la m√©thode <i>State19</i> .  Il participe au remplissage du tableau des gestionnaires <i>fsm_handler_table</i> avec d'autres m√©thodes similaires (il y en a 28 avec des noms, respectivement, de <i>State1</i> √† <i>State28</i> ).  Il est important de noter ici qu'en plus de <i>State19</i> , des avertissements <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3009</a> [CWE-393] ont √©galement √©t√© √©mis pour certains autres gestionnaires.  Ce sont les gestionnaires: <i>State23, State26, State27, State28</i> .  Alertes √©mises par l'analyseur pour eux: <br><br><ul><li>  V3009 [CWE-393] Il est √©trange que cette m√©thode renvoie toujours une seule et m√™me valeur de 'true'.  AWSSDK.Core.Net45 Lexer.cs 752 </li><li>  V3009 [CWE-393] Il est √©trange que cette m√©thode renvoie toujours une seule et m√™me valeur de 'true'.  AWSSDK.Core.Net45 Lexer.cs 810 </li><li>  V3009 [CWE-393] Il est √©trange que cette m√©thode renvoie toujours une seule et m√™me valeur de 'true'.  AWSSDK.Core.Net45 Lexer.cs 822 </li><li>  V3009 [CWE-393] Il est √©trange que cette m√©thode renvoie toujours une seule et m√™me valeur de 'true'.  AWSSDK.Core.Net45 Lexer.cs 834 </li></ul><br>  Voici √† quoi ressemble la d√©claration et l'initialisation du tableau de gestionnaires: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> StateHandler[] fsm_handler_table; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PopulateFsmTables</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ fsm_handler_table = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StateHandler[<span class="hljs-number"><span class="hljs-number">28</span></span>] { State1, State2, .... State19, .... State23, .... State26, State27, State28 };</code> </pre> <br>  Pour √™tre complet, voyons le code de l'un des gestionnaires, auquel l'analyseur ne s'est pas plaint, par exemple, <i>State2</i> : <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">State2</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (....) { .... <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }</code> </pre> <br>  Et voici comment les gestionnaires sont appel√©s: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NextToken</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { handler = fsm_handler_table[state - <span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! handler (fsm_context)) <span class="hljs-comment"><span class="hljs-comment">// &lt;= throw new JsonException (input_char); .... } .... }</span></span></code> </pre> <br>  Comme vous pouvez le voir, une exception sera lev√©e si <i>false est</i> retourn√©.  Dans notre cas, pour les gestionnaires <i>State19, State23, State26, State27</i> et <i>State28,</i> cela ne se produira jamais.  √áa a l'air suspect.  D'un autre c√¥t√©, jusqu'√† cinq gestionnaires ont un comportement similaire (retournent toujours <i>true</i> ), donc peut-√™tre que cela √©tait pr√©vu et n'est pas le r√©sultat d'une faute de frappe. <br><br>  Pourquoi ai-je insist√© sur tout cela avec autant de d√©tails?  Cette situation est tr√®s indicative dans le sens o√π un analyseur statique n'est souvent capable d'indiquer qu'une conception suspecte.  Et m√™me une personne (pas une machine) qui n'a pas une connaissance suffisante du projet, ayant pass√© du temps √† √©tudier le code, n'est toujours pas en mesure de donner une r√©ponse exhaustive sur la pr√©sence d'une erreur.  Le code doit √™tre √©tudi√© par le d√©veloppeur. <br><br>  <b>Des contr√¥les d√©nu√©s de sens</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3022</a> [CWE-571] L'expression 'doLog' est toujours vraie.  AWSSDK.Core.Net45 StoredProfileAWSCredentials.cs 235 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidCredentialsExistInSharedFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... var doLog = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { doLog = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InvalidDataException) { doLog = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (doLog) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { .... } .... }</span></span></code> </pre> <br>  Faites attention √† la variable <i>doLog</i> .  Apr√®s l'initialisation avec <i>false</i> , alors dans le code cette variable deviendra <i>vraie</i> dans tous les cas.  La v√©rification <i>if (doLog)</i> est donc toujours vraie.  Il y avait peut-√™tre une branche plus t√¥t dans cette m√©thode dans laquelle la variable <i>doLog n'avait</i> pas de valeur, puis au moment de la v√©rification, elle pouvait contenir la <i>fausse</i> valeur obtenue lors de l'initialisation.  Mais maintenant, il n'y a plus de branche. <br><br>  Une autre erreur similaire: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Avertissement</a> <b>PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3022 L'</a> expression '! R√©sultat' est toujours fausse.  AWSSDK.CognitoSync.PCL SQLiteLocalStorage.cs 353 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PutValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> result = PutValueHelper(....); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!result) &lt;= { _logger.DebugFormat(<span class="hljs-string"><span class="hljs-string">"{0}"</span></span>, @<span class="hljs-string"><span class="hljs-string">"Cognito Sync - SQLiteStorage - Put Value Failed"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { UpdateLastModifiedTimestamp(....); } .... }</code> </pre> <br>  L'analyseur pr√©tend que la valeur de la variable de <i>r√©sultat</i> est toujours <i>vraie</i> .  Cela n'est possible que si la m√©thode <i>PutValueHelper renvoie</i> toujours <i>true</i> .  Jetez un ≈ìil √† cette m√©thode: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PutValueHelper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (record == null) { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre> <br>  En effet, la m√©thode retournera <i>vrai</i> dans n'importe quelle condition.  De plus, l'analyseur a √©mis un avertissement pour cette m√©thode.  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3009</a> [CWE-393] Il est √©trange que cette m√©thode renvoie toujours une seule et m√™me valeur de 'true'.  SQLiteLocalStorage.cs 1016 <br><br>  Je n'ai d√©lib√©r√©ment pas cit√© cet avertissement plus t√¥t lorsque je consid√©rais d'autres erreurs du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3009</a> , mais je l'ai enregistr√© pour ce cas.  Ainsi, l'analyseur avait raison d'indiquer l'erreur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3022</a> dans le code appelant. <br><br>  <b>Copiez-collez.</b>  <b>Encore une fois</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3001</a> Il existe des sous-expressions identiques 'this.token == JsonToken.String' √† gauche et √† droite de '||'  op√©rateur.  AWSSDK.Core.Net45 JsonReader.cs 343 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.token == JsonToken.ObjectEnd || <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.token == JsonToken.ArrayEnd || <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.token == JsonToken.String || <span class="hljs-comment"><span class="hljs-comment">// &lt;= this.token == JsonToken.Boolean || this.token == JsonToken.Double || this.token == JsonToken.Int || this.token == JsonToken.UInt || this.token == JsonToken.Long || this.token == JsonToken.ULong || this.token == JsonToken.Null || this.token == JsonToken.String // &lt;= )) { .... } .... }</span></span></code> </pre> <br>  Comparez deux fois le champ <i>this.token</i> avec la valeur <i>JsonToken.String</i> de l'√©num√©ration <i>JsonToken</i> .  L'une des comparaisons devrait probablement contenir une valeur d'√©num√©ration diff√©rente.  Si oui, alors une grave erreur a √©t√© commise. <br><br>  <b>Refactorisation + insouciance?</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3025</a> [CWE-685] Format incorrect.  Un nombre diff√©rent d'√©l√©ments de format est attendu lors de l'appel de la fonction 'Format'.  Arguments non utilis√©s: AWSConfigs.AWSRegionKey.  AWSSDK.Core.Net45 AWSRegion.cs 116 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InstanceProfileAWSRegion</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (region == null) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidOperationException( <span class="hljs-built_in"><span class="hljs-built_in">string</span></span>.Format(CultureInfo.InvariantCulture, <span class="hljs-string"><span class="hljs-string">"EC2 instance metadata was not available or did not contain region information."</span></span>, AWSConfigs.AWSRegionKey)); } .... }</code> </pre> <br>  Probablement, la cha√Æne de format de la m√©thode <i>string.Format</i> contenait pr√©c√©demment le sp√©cificateur de sortie <i>{0}</i> , pour lequel l'argument <i>AWSConfigs.AWSRegionKey a</i> √©t√© d√©fini.  Ensuite, la ligne a √©t√© modifi√©e, le sp√©cificateur a disparu, mais ils ont oubli√© de supprimer l'argument.  Le fragment de code ci-dessus fonctionne sans erreur (une exception serait lev√©e dans le cas contraire - un sp√©cificateur sans argument), mais il a l'air moche.  Le code doit √™tre fix√© comme suit: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (region == null) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidOperationException( <span class="hljs-string"><span class="hljs-string">"EC2 instance metadata was not available or did not contain region information."</span></span>); }</code> </pre> <br>  <b>Dangereux</b> <br><br>  <b>Avertissement PVS-Studio:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">V3083</a> [CWE-367] L'appel non s√©curis√© de l'√©v√©nement 'mOnSyncSuccess', NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.CognitoSync.PCL Dataset.cs 827 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FireSyncSuccessEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Record&gt; records)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mOnSyncSuccess != null) { mOnSyncSuccess(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SyncSuccessEventArgs(records)); } }</code> </pre> <br>  Une situation assez courante d'un appel non s√©curis√© au gestionnaire d'√©v√©nements.  Entre la v√©rification de la variable <i>mOnSyncSuccess</i> pour <i>null</i> et l'appel du gestionnaire, un √©v√©nement peut √™tre d√©sabonn√© et sa valeur deviendra nulle.  La probabilit√© d'un tel sc√©nario est faible, mais il vaut toujours mieux s√©curiser le code: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FireSyncSuccessEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;Record&gt; records)</span></span></span><span class="hljs-function"> </span></span>{ mOnSyncSuccess?.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SyncSuccessEventArgs(records)); }</code> </pre> <br>  Il existe d'autres erreurs similaires dans le code. <br><br>  <b>Avertissements de PVS-Studio:</b> <br><br><ul><li>  V3083 [CWE-367] L'appel non s√©curis√© de l'√©v√©nement 'mOnSyncFailure', NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.CognitoSync.PCL Dataset.cs 839 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.PCL AmazonServiceClient.cs 332 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.PCL AmazonServiceClient.cs 344 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.PCL AmazonServiceClient.cs 357 </li><li>  V3083 [CWE-367] L'appel non s√©curis√© de l'√©v√©nement 'mExceptionEvent', NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.PCL AmazonServiceClient.cs 366 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.PCL AmazonWebServiceRequest.cs 78 </li><li>  V3083 [CWE-367] L'appel non s√ªr de l'√©v√©nement 'OnRead', NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.PCL EventStream.cs 97 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.Android NetworkReachability.cs 57 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.Android NetworkReachability.cs 94 </li><li>  V3083 [CWE-367] L'appel d'√©v√©nement √† risque, NullReferenceException est possible.  Pensez √† affecter un √©v√©nement √† une variable locale avant de l'invoquer.  AWSSDK.Core.iOS NetworkReachability.cs 54 </li></ul><br>  <b>Classe inachev√©e</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Avertissement</a> <b>PVS-Studio: le</b> type V3126 impl√©mentant l'interface IEquatable &lt;T&gt; de type 'JsonData' ne remplace pas la m√©thode 'GetHashCode'.  AWSSDK.Core.Net45 JsonData.cs 26 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JsonData</span></span></span><span class="hljs-class"> :</span></span> IJsonWrapper, IEquatable&lt;JsonData&gt; { .... }</code> </pre> <br>  La classe <i>JsonData</i> contient beaucoup de code, donc je ne l'ai pas donn√© dans son int√©gralit√©, me limitant √† le d√©clarer.  Cette classe ne contient vraiment pas de m√©thode <i>GetHashCode</i> substitu√©e, ce qui n'est pas s√ªr car elle peut conduire √† un comportement erron√© lors de l'utilisation du type <i>JsonData</i> pour fonctionner, par exemple, avec des collections.  Il n'y a probablement pas de probl√®me √† l'heure actuelle, mais la strat√©gie d'utilisation de ce type peut changer √† l'avenir.  Cette erreur est d√©crite plus en d√©tail dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> . <br><br>  <b>Conclusion</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est toutes les erreurs int√©ressantes que j'ai r√©ussi √† d√©tecter dans le code AWS SDK for .NET √† l'aide de l'analyseur statique PVS-Studio. </font><font style="vertical-align: inherit;">Encore une fois, je souligne la qualit√© du projet. </font><font style="vertical-align: inherit;">J'ai trouv√© un tr√®s petit nombre d'erreurs pour 5 millions de lignes de code. </font><font style="vertical-align: inherit;">Bien que, probablement, une analyse plus approfondie des avertissements √©mis me permette d'ajouter quelques erreurs de plus √† cette liste. </font><font style="vertical-align: inherit;">Mais il est √©galement tr√®s probable que j'ai en vain attribu√© certains des avertissements d√©crits √† des erreurs. </font><font style="vertical-align: inherit;">Dans ce cas, des conclusions non ambigu√´s sont toujours faites uniquement par le d√©veloppeur, qui se trouve dans le contexte du code en cours de v√©rification.</font></font><br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez partager cet article avec un public anglophone, veuillez utiliser le lien vers la traduction: Sergey Khrenov. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche d'erreurs dans le code source du SDK Amazon Web Services pour .NET</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437516/">https://habr.com/ru/post/fr437516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437504/index.html">Petits composants: qu'est-ce qui pourrait mal tourner? Nous utilisons le principe de l'enti√®re responsabilit√©</a></li>
<li><a href="../fr437508/index.html">CVE-2019-6111 et autres vuln√©rabilit√©s scp</a></li>
<li><a href="../fr437510/index.html">Que se passe-t-il lorsque vous envoyez des SMS</a></li>
<li><a href="../fr437512/index.html">Quelles sont les fonctions pures en JavaScript?</a></li>
<li><a href="../fr437514/index.html">Recherche d'erreurs dans le code source du SDK Amazon Web Services pour .NET</a></li>
<li><a href="../fr437518/index.html">Attaque des col√©opt√®res</a></li>
<li><a href="../fr437520/index.html">¬´Ma lumi√®re est un miroir! - dites-moi, montrez-moi mon double ... ": concevez un bon cadre et obtenez le second en cadeau</a></li>
<li><a href="../fr437522/index.html">Colonie. Chapitre 22: D√©cision finale</a></li>
<li><a href="../fr437524/index.html">Cr√©er une IA d'√©checs simple: 5 √©tapes faciles</a></li>
<li><a href="../fr437526/index.html">Rendu volum√©trique dans WebGL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>