<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¼ğŸ½ ğŸ§’ ğŸ© éå†QObjectç±»çš„å­çº§æ ‘çš„æƒ°æ€§å®ç° ğŸ“» ğŸš£ğŸ» â—¼ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¼•è¨€ 


æœ¬æ–‡ä½¿ç”¨ç¤ºä¾‹ç¨‹åºå’ŒèŒƒå›´æ¥æ”¹è¿›C ++ä¸­çš„æ ‘éå†çš„æƒ°æ€§å®ç°ï¼Œè¯¥ç¤ºä¾‹æ”¹è¿›äº†Qtæ¡†æ¶ä¸­ç”¨äºå¤„ç†QObjectç±»çš„å­çº§çš„æ¥å£çš„ç¤ºä¾‹ã€‚ å°†è¯¦ç»†è€ƒè™‘åˆ›å»ºç”¨äºå¤„ç†å­å…ƒç´ çš„è‡ªå®šä¹‰è§†å›¾ï¼Œå¹¶ç»™å‡ºæƒ°æ€§å’Œç»å…¸å®ç°ã€‚ åœ¨æ–‡ç« çš„ç»“å°¾ï¼Œæœ‰ä¸€ä¸ªåˆ°åº“çš„é“¾æ¥ä»¥åŠå®Œæ•´çš„æºä»£ç ã€‚ 
 å…³äºä½œè€… 


 æˆ‘åœ¨The Qt Com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>éå†QObjectç±»çš„å­çº§æ ‘çš„æƒ°æ€§å®ç°</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481402/"><h2 id="vvedenie"> å¼•è¨€ </h2><br><p>æœ¬æ–‡ä½¿ç”¨ç¤ºä¾‹ç¨‹åºå’ŒèŒƒå›´æ¥æ”¹è¿›C ++ä¸­çš„æ ‘éå†çš„æƒ°æ€§å®ç°ï¼Œè¯¥ç¤ºä¾‹æ”¹è¿›äº†Qtæ¡†æ¶ä¸­ç”¨äºå¤„ç†<code>QObject</code>ç±»çš„å­çº§çš„æ¥å£çš„ç¤ºä¾‹ã€‚ å°†è¯¦ç»†è€ƒè™‘åˆ›å»ºç”¨äºå¤„ç†å­å…ƒç´ çš„è‡ªå®šä¹‰è§†å›¾ï¼Œå¹¶ç»™å‡ºæƒ°æ€§å’Œç»å…¸å®ç°ã€‚ åœ¨æ–‡ç« çš„ç»“å°¾ï¼Œæœ‰ä¸€ä¸ªåˆ°åº“çš„é“¾æ¥ä»¥åŠå®Œæ•´çš„æºä»£ç ã€‚ </p><a name="habracut"></a><br><h2 id="ob-avtore"> å…³äºä½œè€… </h2><br><p> æˆ‘åœ¨The Qt CompanyæŒªå¨åŠäº‹å¤„æ‹…ä»»é«˜çº§å¼€å‘äººå‘˜ã€‚ æˆ‘ä¸€ç›´åœ¨å¼€å‘å°éƒ¨ä»¶å’ŒQtQuickå…ƒç´ ï¼Œæœ€è¿‘æ˜¯Qt Coreã€‚ æˆ‘ä½¿ç”¨C ++ï¼Œå¹¶ä¸”å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰äº›å…´è¶£ã€‚ æœ‰æ—¶æˆ‘åšæŠ¥å‘Šå¹¶å†™æ–‡ç« ã€‚ </p><br><h2 id="chto-takoe-qt"> ä»€ä¹ˆæ˜¯Qt </h2><br><p>  <a href="https://wiki.qt.io/About_Qt">Qt</a>æ˜¯ç”¨äºåˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰çš„è·¨å¹³å°æ¡†æ¶ã€‚ é™¤äº†ç”¨äºåˆ›å»ºGUIçš„æ¨¡å—ä¹‹å¤–ï¼ŒQtè¿˜åŒ…å«è®¸å¤šç”¨äºå¼€å‘åº”ç”¨ç¨‹åºè½¯ä»¶çš„æ¨¡å—ã€‚ è¯¥æ¡†æ¶ä¸»è¦æ˜¯ç”¨C ++ç¼–ç¨‹è¯­è¨€è®¾è®¡çš„ï¼ŒæŸäº›ç»„ä»¶ä½¿ç”¨<a href="https://doc.qt.io/qt-5/qmlapplications.html">QML</a>å’Œ<a href="https://doc.qt.io/qt-5/qtqml-javascript-expressions.html">JavaScript</a> ã€‚ </p><br><h2 id="klass-qobject">  QObjectç±»åˆ« </h2><br><p>  <a href="https://doc.qt.io/qt-5/qobject.html">QObject</a>æ˜¯å›´ç»•å…¶æ„å»ºQtå¯¹è±¡æ¨¡å‹çš„ç±»ã€‚ ä»<code>QObject</code>ç»§æ‰¿çš„ç±»å¯ä»¥åœ¨æ—¶éš™ä¿¡å·æ¨¡å‹å’Œäº‹ä»¶å¾ªç¯ä¸­ä½¿ç”¨ã€‚ æ­¤å¤–ï¼Œ <code>QObject</code>å…è®¸æ‚¨è®¿é—®å…ƒå¯¹è±¡ç±»ä¿¡æ¯å¹¶å°†å¯¹è±¡ç»„ç»‡æˆæ ‘å½¢ç»“æ„ã€‚ </p><br><h2 id="drevovidnaya-struktura-qobject">  QObjectæ ‘ç»“æ„ </h2><br><p> ä½¿ç”¨<a href="https://doc.qt.io/qt-5/objecttrees.html">æ ‘ç»“æ„</a>æ„å‘³ç€æ¯ä¸ª<code>QObject</code>å¯¹è±¡å¯ä»¥å…·æœ‰ä¸€ä¸ªçˆ¶å¯¹è±¡å’Œé›¶ä¸ªæˆ–å¤š<code>QObject</code>å¯¹è±¡ã€‚ çˆ¶å¯¹è±¡æ§åˆ¶å­å¯¹è±¡çš„ç”Ÿå­˜æœŸã€‚ åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ªå­©å­å°†è¢«è‡ªåŠ¨åˆ é™¤ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> parent = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::make_unique&lt;QObject&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> onDestroyed = [](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> obj){ qDebug(<span class="hljs-string"><span class="hljs-string">"Object %p destroyed."</span></span>, obj); }; QObject::connect(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QObject(parent.get()), &amp;QObject::destroyed, onDestroyed); QObject::connect(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> QObject(parent.get()), &amp;QObject::destroyed, onDestroyed); <span class="hljs-comment"><span class="hljs-comment">//      </span></span></code> </pre> <br><p> ä¸å¹¸çš„æ˜¯ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå¤§å¤šæ•°Qt APIä»…é€‚ç”¨äºåŸå§‹æŒ‡é’ˆã€‚ æˆ‘ä»¬æ­£åœ¨ä¸ºæ­¤åŠªåŠ›ï¼Œä¹Ÿè®¸å¾ˆå¿«æƒ…å†µè‡³å°‘ä¼šéƒ¨åˆ†æ”¹å–„ã€‚ </p><br><p>  <code>QObject</code>ç±»æ¥å£å…è®¸æ‚¨è·å–æ‰€æœ‰å­å¯¹è±¡çš„åˆ—è¡¨å¹¶æŒ‰æŸäº›æ¡ä»¶è¿›è¡Œæœç´¢ã€‚ è€ƒè™‘è·å–æ‰€æœ‰å­å¯¹è±¡åˆ—è¡¨çš„ç¤ºä¾‹ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> parent = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::make_unique&lt;QObject&gt;(); <span class="hljs-comment"><span class="hljs-comment">//  10   for (std::size_t i = 0; i &lt; 10; ++i) { auto obj = new QObject(parent.get()); obj-&gt;setObjectName(QStringLiteral("Object %1").arg(i)); } const auto&amp; children = parent-&gt;children(); qDebug() &lt;&lt; children; // =&gt; (QObject(0x1f7ffa0, name = "Object 0"), ...) qDebug() &lt;&lt; children.count(); // =&gt; 10</span></span></code> </pre> <br><p>  <code>QObject::children</code>æ–¹æ³•è¿”å›ç»™å®šå¯¹è±¡çš„æ‰€æœ‰å­é¡¹çš„åˆ—è¡¨ã€‚ ä½†æ˜¯ï¼Œé€šå¸¸éœ€è¦æ ¹æ®æŸäº›æ¡ä»¶åœ¨å¯¹è±¡çš„æ•´ä¸ªå­æ ‘ä¸­è¿›è¡Œæœç´¢ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> children = parent-&gt;findChildren&lt;QObject&gt;(QRegularExpression(<span class="hljs-string"><span class="hljs-string">"0$"</span></span>)); qDebug() &lt;&lt; children.count();</code> </pre> <br><p> ä¸Šé¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•è·å–åç§°ä»¥0ç»“å°¾çš„<code>QObject</code>ç±»å‹çš„æ‰€æœ‰å­å…ƒç´ çš„åˆ—è¡¨ã€‚ä¸<code>children</code>æ–¹æ³•ä¸åŒï¼Œ <code>findChildren</code>æ–¹æ³•ä»¥é€’å½’æ–¹å¼éå†æ ‘ï¼Œå³åœ¨å¯¹è±¡çš„æ•´ä¸ªå±‚æ¬¡ç»“æ„ä¸­è¿›è¡Œæœç´¢ã€‚ å¯ä»¥é€šè¿‡ä¼ é€’<code>Qt::FindDirectChildrenOnly</code>æ¥æ›´æ”¹æ­¤è¡Œä¸ºã€‚ </p><br><h2 id="nedostatki-interfeysa-raboty-s-dochernimi-elementami"> ä½¿ç”¨å­å…ƒç´ çš„ç•Œé¢çš„ç¼ºç‚¹ </h2><br><p> ä¹ä¸€çœ‹ï¼Œä¼¼ä¹ä¸å­©å­ä¸€èµ·å·¥ä½œçš„ç•Œé¢æ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘ä¸”çµæ´»çš„ã€‚ ä½†æ˜¯ï¼Œä»–å¹¶éæ²¡æœ‰ç¼ºé™·ã€‚ è®©æˆ‘ä»¬è€ƒè™‘å…¶ä¸­çš„ä¸€äº›ï¼š </p><br><ul><li> å†—ä½™æ¥å£ <br> æœ‰ä¸¤ç§ä¸åŒçš„<code>findChildren</code>æ–¹æ³•ï¼ˆä¸ä¹…å‰æœ‰ä¸‰ç§ï¼‰ï¼šç”¨äºæŸ¥æ‰¾ä¸€é¡¹çš„<code>findChild</code>æ–¹æ³•å’Œchildrenæ–¹æ³•ã€‚ å®ƒä»¬å…¨éƒ¨éƒ¨åˆ†é‡å ã€‚ </li><li> ç•Œé¢å¾ˆéš¾æ”¹å˜ <br>  Qtåœ¨å•ä¸ªä¸»è¦ç‰ˆæœ¬ä¸­ä¿è¯äºŒè¿›åˆ¶å…¼å®¹æ€§å’Œæºä»£ç çº§åˆ«çš„å…¼å®¹æ€§ã€‚ å› æ­¤ï¼Œæ‚¨ä¸èƒ½ä»…æ›´æ”¹æ–¹æ³•çš„ç­¾åæˆ–æ·»åŠ æ–°æ–¹æ³•ã€‚ </li><li> ç•Œé¢éš¾ä»¥æ‰©å±• <br> é™¤äº†è¿åå…¼å®¹æ€§ä¹‹å¤–ï¼Œä¾‹å¦‚ï¼Œä¸å¯èƒ½æ ¹æ®æŒ‡å®šçš„æ ‡å‡†è·å¾—å­å…ƒç´ åˆ—è¡¨ã€‚ è¦æ·»åŠ æ­¤åŠŸèƒ½ï¼Œå¿…é¡»ç­‰å¾…ä¸‹ä¸€ä¸ªç‰ˆæœ¬æˆ–åˆ›å»ºå…¶ä»–æ–¹æ³•ã€‚ </li><li> è¿‡åº¦å¤åˆ¶æ‰€æœ‰é¡¹ç›® <br> é€šå¸¸ï¼Œæ‚¨åªéœ€è¦æµè§ˆæŒ‰ç»™å®šæ¡ä»¶è¿‡æ»¤çš„æ‰€æœ‰å­å…ƒç´ çš„åˆ—è¡¨ã€‚ ä¸ºæ­¤ï¼Œä¸å¿…è¿”å›æŒ‡å‘æ‰€æœ‰è¿™äº›å…ƒç´ çš„æŒ‡é’ˆçš„å®¹å™¨ã€‚ </li><li> å¯èƒ½è¿å<a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">SRP</a> <br> è¿™æ˜¯ä¸€ä¸ªé¢‡å…·äº‰è®®çš„é—®é¢˜ï¼Œä½†æ˜¯ï¼Œéœ€è¦æ›´æ”¹ç±»æ¥å£ä»¥è¿›è¡Œæ›´æ”¹ï¼Œä¾‹å¦‚ï¼Œéå†å­çº§çš„æ–¹æ³•çœ‹èµ·æ¥å¾ˆå¥‡æ€ªã€‚ </li></ul><br><h2 id="ispolzovanie-range-v3-dlya-ustraneniya-nekotoryh-nedostatkov"> ä½¿ç”¨range-v3ä¿®å¤ä¸€äº›ç¼ºé™· </h2><br><p>  <a href="https://github.com/ericniebler/range-v3">range-v3</a>æ˜¯ä¸€ä¸ªåº“ï¼Œæä¾›ç”¨äºå¤„ç†å…ƒç´ èŒƒå›´çš„ç»„ä»¶ã€‚ å®é™…ä¸Šï¼Œè¿™æ˜¯ç»å…¸è¿­ä»£å™¨ä¹‹ä¸Šçš„å¦ä¸€å±‚æŠ½è±¡ï¼Œå®ƒä½¿æ‚¨å¯ä»¥ç¼–å†™æ“ä½œå¹¶åˆ©ç”¨æƒ°æ€§è®¡ç®—ã€‚ </p><br><p> ä¹‹æ‰€ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œæ˜¯å› ä¸ºåœ¨ç¼–å†™æœ¬æ–‡æ—¶ï¼Œä½œè€…å°šä¸çŸ¥é“å…·æœ‰å¯¹æ­¤åŠŸèƒ½çš„å†…ç½®æ”¯æŒçš„ç¼–è¯‘å™¨ã€‚ æƒ…å†µå¯èƒ½å¾ˆå¿«å°±ä¼šæ”¹å˜ã€‚ </p><br><p> å¯¹äº<code>QObject</code>ä½¿ç”¨è¿™ç§æ–¹æ³•å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿä»ç±»ä¸­åˆ†ç¦»éå†å­å…ƒç´ æ ‘çš„æ“ä½œï¼Œå¹¶æ ¹æ®ç»™å®šçš„æ¡ä»¶åˆ›å»ºä¸€ä¸ªçµæ´»çš„æ¥å£æ¥æœç´¢å¯¹è±¡ï¼Œå¯ä»¥è½»æ¾åœ°å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ </p><br><h3 id="primer-ispolzovaniya-ranges-v3">  Ranges-v3ç¤ºä¾‹ </h3><br><p> é¦–å…ˆï¼Œè€ƒè™‘ä¸€ä¸ªä½¿ç”¨åº“çš„ç®€å•ç¤ºä¾‹ã€‚ åœ¨ç»§ç»­è¯¥ç¤ºä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸ºå‘½åç©ºé—´å¼•å…¥äº†ç®€åŒ–çš„è¡¨ç¤ºæ³•ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> r = ranges; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> v = r::views; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> a = r::actions;</code> </pre> <br><p> ç°åœ¨è€ƒè™‘ä¸€ä¸ªç¨‹åºç¤ºä¾‹ï¼Œè¯¥ç¨‹åºä»¥ç›¸åçš„é¡ºåºæ‰“å°é—´éš”[1ï¼Œ10ï¼‰ä¸­æ‰€æœ‰å¥‡æ•°çš„å¤šç»´æ•°æ®é›†ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> is_odd = [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> pow3 = [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(n, <span class="hljs-number"><span class="hljs-number">3</span></span>); }; <span class="hljs-comment"><span class="hljs-comment">//  [729,343,125,27,1] std::cout &lt;&lt; (v::ints(1, 10) | v::filter(is_odd) | v::transform(pow3) | v::reverse);</span></span></code> </pre> <br><p> åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰è®¡ç®—éƒ½æ˜¯å»¶è¿Ÿè¿›è¡Œçš„ï¼Œå³ ä¸´æ—¶æ•°æ®é›†ä¸ä¼šåˆ›å»ºæˆ–å¤åˆ¶ã€‚ ä¸Šé¢çš„ç¨‹åºä¸æ­¤ç­‰æ•ˆï¼Œé™¤äº†æ ¼å¼åŒ–è¾“å‡ºï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  729 343 125 27 1 for (int i = 9; i &gt; 0; --i) { if (i % 2 != 0) { std::cout &lt;&lt; std::pow(i, 3) &lt;&lt; " "; } }</span></span></code> </pre> <br><p> ä»ä¸Šé¢çš„ç¤ºä¾‹å¯ä»¥çœ‹åˆ°ï¼Œè¯¥åº“ä½¿æ‚¨å¯ä»¥ä¼˜é›…åœ°ç¼–å†™å„ç§æ“ä½œã€‚ åœ¨<a href="https://github.com/ericniebler/range-v3">range-v3</a>å­˜å‚¨åº“çš„<code>tests</code>å’Œ<code>examples</code>ç›®å½•ä¸­å¯ä»¥æ‰¾åˆ°æ›´å¤šç”¨æ³•ç¤ºä¾‹ã€‚ </p><br><h3 id="klass-dlya-predstavleniya-posledovatelnosti-dochernih-elementov"> ä»£è¡¨ä¸€ç³»åˆ—å­©å­çš„ç±» </h3><br><p>  <code>range-v3</code>åº“æä¾›äº†ç”¨äºåˆ›å»ºå„ç§è‡ªå®šä¹‰åŒ…è£…å™¨ç±»çš„å¸®åŠ©å™¨ç±»ã€‚ å…¶ä¸­åŒ…æ‹¬<code>view</code>ç±»åˆ«ä¸­çš„ç±»ã€‚ è¿™äº›ç±»æ—¨åœ¨ä»¥æŸç§æ–¹å¼è¡¨ç¤ºå…ƒç´ åºåˆ—ï¼Œè€Œæ— éœ€è½¬æ¢å’Œå¤åˆ¶åºåˆ—æœ¬èº«ã€‚ åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œ <code>filter</code>ç±»ç”¨äºä»…è€ƒè™‘åºåˆ—ä¸­ä¸æŒ‡å®šæ¡ä»¶åŒ¹é…çš„é‚£äº›å…ƒç´ ã€‚ </p><br><p> è¦åˆ›å»ºç”¨äºQObjectå­å…ƒç´ çš„æ­¤ç±»ï¼Œå¿…é¡»ä»è¾…åŠ©ç±»<code>ranges::view_facade</code>ç»§æ‰¿å®ƒï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> qt::detail { <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QObject</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">children_view</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> r::view_facade&lt;children_view&lt;T&gt;&gt; { <span class="hljs-comment"><span class="hljs-comment">//   friend r::range_access; //   ,       T *obj; //    (  ) Qt::FindChildOptions opts; //  --    cursor begin_cursor() { return cursor(obj, opts); } public: //  }; } // namespace qt::detail</span></span></code> </pre> <br><p> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥ç±»ä¼šè‡ªåŠ¨å®šä¹‰<code>end_cursor</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›åºåˆ—ç»“å°¾çš„ç¬¦å·ã€‚ å¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥é‡å†™æ­¤æ–¹æ³•ã€‚ </p><br><p> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰æ¸¸æ ‡ç±»æœ¬èº«ã€‚ è¿™æ—¢å¯ä»¥åœ¨<code>children_view</code>ç±»å†…éƒ¨ä¹Ÿå¯ä»¥åœ¨å…¶ä»–èŒƒå›´å†…å®Œæˆï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cursor</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-comment"><span class="hljs-comment">// ,      std::shared_ptr&lt;ObjectVector&gt; children; //    std::size_t current_index = 0; //       decltype(auto) read() const { return (*children)[current_index]; } //     void next() { ++current_index; } //     auto equal(ranges::default_sentinel_t) const { return current_index == children-&gt;size(); } //  };</span></span></code> </pre> <br><p> ä¸Šé¢å®šä¹‰çš„å…‰æ ‡æ˜¯å•æ¬¡é€šè¿‡ã€‚ è¿™æ„å‘³ç€åºåˆ—åªèƒ½åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šç§»åŠ¨ä¸€æ¬¡ã€‚ å¯¹äºæ­¤å®ç°ï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸º æˆ‘ä»¬å­˜å‚¨äº†æ‰€æœ‰å­å¯¹è±¡çš„åºåˆ—ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰ä»»æ„æ–¹å‘å¤šæ¬¡éå†å®ƒä»¬ã€‚ ä¸ºäº†è¡¨æ˜æ‚¨å¯ä»¥å¤šæ¬¡æ‰§è¡Œä¸€ä¸ªåºåˆ—ï¼Œå¿…é¡»åœ¨æ¸¸æ ‡ç±»ä¸­å®ç°ä»¥ä¸‹æ–¹æ³•ï¼š </p><br><pre> <code class="plaintext hljs">auto equal(const cursor &amp;that) const { return current_index == that.current_index; }</code> </pre> <br><p> ç°åœ¨ï¼Œæ‚¨éœ€è¦æ·»åŠ ä»¥ç¡®ä¿æ‰€åˆ›å»ºçš„è§†å›¾å¯ä»¥åŒ…å«åœ¨åˆæˆä¸­ã€‚ ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨è¾…åŠ©åŠŸèƒ½<code>ranges::make_pipeable</code> ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> qt { <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> children = r::make_pipeable([](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;o) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> detail::children_view(o); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find_children</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Qt::FindChildOptions opts = Qt::FindChildrenRecursively)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r::make_pipeable([opts](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;o) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> detail::children_view(o, opts); }); } } <span class="hljs-comment"><span class="hljs-comment">// namespace qt</span></span></code> </pre> <br><p> ç°åœ¨æ‚¨å¯ä»¥ç¼–å†™ä»¥ä¸‹ä»£ç ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;c : root | qt::children) { <span class="hljs-comment"><span class="hljs-comment">//     () } for (auto &amp;&amp;c : root | qt::find_children(Qt::FindDirectChildrenOnly)) { //     }</span></span></code> </pre> <br><h3 id="realizaciya-suschestvuyuschey-funkcionalnosti-klassa-qobject"> å®ç°ç°æœ‰çš„QObjectç±»åŠŸèƒ½ </h3><br><p> åœ¨å®ç°æ¼”ç¤ºæ–‡ç¨¿ç±»ä¹‹åï¼Œæ‚¨å¯ä»¥è½»æ¾å®ç°ä¸å­©å­ä¸€èµ·å·¥ä½œçš„æ‰€æœ‰åŠŸèƒ½ã€‚ ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦å®ç°ä¸‰ä¸ªåŠŸèƒ½ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> qt { <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">const</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">with_type</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">v</span></span></span><span class="hljs-class">:</span></span>:filter([](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;o) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ObjType = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">remove_cv_t</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">remove_pointer_t</span></span>&lt;T&gt;&gt;; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ObjType::staticMetaObject.cast(o); }) | v::transform([](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;o){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;T&gt;(o); }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">by_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> QString &amp;name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v::filter([name](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;obj) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj-&gt;objectName() == name; }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">by_re</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> QRegularExpression &amp;re)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v::filter([re](<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;obj) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> re.match(obj-&gt;objectName()).hasMatch(); }); } } <span class="hljs-comment"><span class="hljs-comment">// namespace qt</span></span></code> </pre> <br><p> ä½œä¸ºä½¿ç”¨ç¤ºä¾‹ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp;c : root | qt::children | qt::with_type&lt;Foo*&gt;) { <span class="hljs-comment"><span class="hljs-comment">//       Foo }</span></span></code> </pre> <br><h3 id="promezhutochnye-vyvody"> ä¸­é—´ç»“è®º </h3><br><p> å¯ä»¥é€šè¿‡ä»£ç åˆ¤æ–­ï¼Œåœ¨ä¸æ›´æ”¹ç±»æ¥å£çš„æƒ…å†µä¸‹æ‰©å±•åŠŸèƒ½éå¸¸ç®€å•ã€‚ æ­¤å¤–ï¼Œæ‰€æœ‰æ“ä½œå‡ç”±å•ç‹¬çš„åŠŸèƒ½è¡¨ç¤ºï¼Œå¹¶å¯ä»¥æŒ‰æ‰€éœ€é¡ºåºæ’åˆ—ã€‚ è¿™å°¤å…¶å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶é¿å…åœ¨ç±»æ¥å£ä¸­ä½¿ç”¨å¸¦æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°ã€‚ è¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç±»æ¥å£çš„å¸è½½å’Œæ›´æ”¹å®ƒçš„åŸå› æœ‰æ‰€å‡å°‘ã€‚ </p><br><p> å®é™…ä¸Šï¼Œæ­¤å®ç°å·²ç»æ¶ˆé™¤äº†å‡ ä¹æ‰€æœ‰åˆ—å‡ºçš„æ¥å£ç¼ºç‚¹ï¼Œé™¤äº†æˆ‘ä»¬ä»ç„¶å¿…é¡»å°†æ‰€æœ‰å­é¡¹éƒ½å¤åˆ¶åˆ°å®¹å™¨ä¹‹å¤–ã€‚ è§£å†³æ­¤é—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨åç¨‹ã€‚ </p><br><h2 id="lenivaya-realizaciya-obhoda-dereva-obektov-s-ispolzovaniem-soprogramm"> ä½¿ç”¨åç¨‹çš„å¯¹è±¡æ ‘éå†çš„å»¶è¿Ÿå®ç° </h2><br><p> åç¨‹ï¼ˆåç¨‹ï¼‰ä½¿æ‚¨å¯ä»¥æš‚åœåŠŸèƒ½å¹¶åœ¨ä»¥åæ¢å¤å®ƒã€‚ æ‚¨å¯ä»¥å°†æ­¤æŠ€æœ¯è§†ä¸ºæŸç§æœ‰é™çŠ¶æ€æœºã€‚ </p><br><p> åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œæ ‡å‡†åº“ç¼ºå°‘èˆ’é€‚ä½¿ç”¨åç¨‹çš„è®¸å¤šé‡è¦å…ƒç´ ã€‚ å› æ­¤ï¼Œå»ºè®®ä½¿ç”¨ç¬¬ä¸‰æ–¹<a href="https://github.com/lewissbaker/cppcoro">cppcoro</a>åº“ï¼Œè¯¥åº“å¾ˆå¯èƒ½ä»¥ä¸€ç§æˆ–å¦ä¸€ç§å½¢å¼è¾“å…¥æ ‡å‡†ã€‚ </p><br><p> é¦–å…ˆï¼Œæˆ‘ä»¬å°†ç¼–å†™å‡½æ•°ä»¥æŒ‰éœ€è¿”å›ä¸‹ä¸€ä¸ªå­çº§ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> qt::detail { cppcoro::recursive_generator&lt;QObject*&gt; takeChildRecursivelyImpl( <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> QObjectList &amp;children, Qt::FindChildOptions opts) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (QObject *c : children) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (opts == Qt::FindChildrenRecursively) { <span class="hljs-function"><span class="hljs-function">co_yield </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">takeChildRecursivelyImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c-&gt;children(), opts)</span></span></span></span>; } co_yield c; } } cppcoro::recursive_generator&lt;QObject*&gt; takeChildRecursively( QObject *root, Qt::FindChildOptions opts = Qt::FindChildrenRecursively) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (root) { <span class="hljs-function"><span class="hljs-function">co_yield </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">takeChildRecursivelyImpl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(root-&gt;children(), opts)</span></span></span></span>; } } } <span class="hljs-comment"><span class="hljs-comment">// namespace qt::detail</span></span></code> </pre> <br><p>  <code>co_yield</code>æŒ‡ä»¤å°†å€¼è¿”å›åˆ°è°ƒç”¨ä»£ç å¹¶æš‚åœåç¨‹ã€‚ </p><br><p> ç°åœ¨ï¼Œå°†æ­¤ä»£ç é›†æˆåˆ°<code>children_view</code>ç±»ä¸­ã€‚ ä»¥ä¸‹ä»£ç ä»…æ˜¾ç¤ºå·²æ›´æ”¹çš„å…ƒç´ ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   children_view //   Data{obj, takeChildRecursively(obj, opts)} struct Data { T *obj; cppcoro::recursive_generator&lt;QObject*&gt; gen; }; std::shared_ptr&lt;Data&gt; m_data; // ... cursor begin_cursor() { return cursor(m_data-&gt;gen.begin()); }</span></span></code> </pre> <br><p> æ¸¸æ ‡ä¹Ÿå¿…é¡»è¢«ä¿®æ”¹ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">children_view</span></span></span><span class="hljs-class">&lt;T&gt;:</span></span>:cursor { cppcoro::recursive_generator&lt;QObject*&gt;::iterator it; <span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>) read() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *it; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ++it; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ranges::</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">default_sentinel_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> it == cppcoro::recursive_generator&lt;QObject*&gt;::iterator(<span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">explicit</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cursor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cppcoro::recursive_generator&lt;QObject*&gt;::iterator it)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">it</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(it)</span></span></span><span class="hljs-function"> </span></span>{} cursor() = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; };</code> </pre> <br><p> è¿™é‡Œçš„æ¸¸æ ‡åªæ˜¯å……å½“å¸¸è§„è¿­ä»£å™¨çš„åŒ…è£…ã€‚ å…¶ä½™ä»£ç å¯ä»¥æŒ‰åŸæ ·ä½¿ç”¨ï¼Œè€Œæ— éœ€è¿›è¡Œå…¶ä»–æ›´æ”¹ã€‚ </p><br><h3 id="opasnosti-lenivogo-obhoda-dereva"> æ‡’æ ‘èµ°çš„å±é™© </h3><br><p> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‡’æƒ°åœ°éå†å„¿ç«¥æ ‘å¹¶ä¸æ€»æ˜¯å®‰å…¨çš„ã€‚ è¿™ä¸»è¦æ¶‰åŠç»•è¿‡å›¾å½¢å…ƒç´ ï¼ˆä¾‹å¦‚ï¼Œå°éƒ¨ä»¶ï¼‰çš„å¤æ‚å±‚æ¬¡ç»“æ„ã€‚ äº‹å®æ˜¯ï¼Œéå†è¿‡ç¨‹ä¸­å¯ä»¥é‡å»ºå±‚æ¬¡ç»“æ„ï¼Œå¹¶ä¸”æŸäº›å…ƒç´ å¯ä»¥å®Œå…¨åˆ é™¤ã€‚ å¦‚æœåœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨æ‡’æƒ°çš„è§£å†³æ–¹æ³•ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºéå¸¸æœ‰è¶£ä¸”ä¸å¯é¢„æµ‹çš„ç»“æœã€‚ </p><br><p> è¿™æ„å‘³ç€åœ¨æŸäº›æƒ…å†µä¸‹å°†æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°å®¹å™¨ä¸­å¾ˆæœ‰ç”¨ã€‚ ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¸®åŠ©å™¨åŠŸèƒ½ï¼š </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> children = ranges::to&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&gt;(root | qt::children);</code> </pre> <br><p> ä¸¥æ ¼æ¥è¯´ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ— éœ€ä½¿ç”¨åç¨‹ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­çš„è§†å›¾ã€‚ </p><br><h2 id="budet-li-eto-v-qt"> å®ƒä¼šåœ¨Qtä¸­å— </h2><br><p> ä¹Ÿè®¸å¯ä»¥ï¼Œä½†æ˜¯åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­ä¸ä¼šã€‚ è¿™æœ‰å‡ ä¸ªåŸå› ï¼š </p><br><ul><li> ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬Qt 6å°†æ­£å¼è¦æ±‚å¹¶æ”¯æŒC ++ 17ï¼Œä½†ä¸ä¼šæ›´é«˜ã€‚ </li><li> æ²¡æœ‰ç¬¬ä¸‰æ–¹åº“ï¼Œæ— æ³•å®ç°å®ƒã€‚ </li><li> é€‚åº”ç°æœ‰çš„ä»£ç åº“å°†ç›¸å¯¹å›°éš¾ã€‚ <br> ä½œä¸ºQt 7ç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œä»–ä»¬å¾ˆå¯èƒ½ä¼šå›åˆ°æ­¤é—®é¢˜ã€‚ </li></ul><br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> æè®®çš„éå†å­å…ƒç´ æ ‘çš„å®ç°æ–¹å¼å¯ä»¥è½»æ¾æ·»åŠ æ–°åŠŸèƒ½ã€‚ ç”±äºæ“ä½œçš„åˆ†ç¦»ï¼Œå› æ­¤å¯ä»¥ç¼–å†™æ›´å¹²å‡€çš„ä»£ç å¹¶ä»ç±»æ¥å£ä¸­åˆ é™¤ä¸å¿…è¦çš„å…ƒç´ ã€‚ </p><br><p> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸¤ä¸ªä½¿ç”¨çš„åº“ï¼ˆrange-v3å’Œcpp-coroï¼‰å‡ä½œä¸ºå¤´æ–‡ä»¶æä¾›ï¼Œä»è€Œç®€åŒ–äº†æ„å»ºè¿‡ç¨‹ã€‚ å°†æ¥ï¼Œå®Œå…¨æœ‰å¯èƒ½æ²¡æœ‰ç¬¬ä¸‰æ–¹åº“ã€‚ </p><br><p> ä½†æ˜¯ï¼Œæ‰€æè¿°çš„æ–¹æ³•å…·æœ‰ä¸€äº›ç¼ºç‚¹ã€‚ å…¶ä¸­ï¼Œå¯ä»¥æ³¨æ„åˆ°è®¸å¤šå¼€å‘äººå‘˜çš„è¯­æ³•ä¸å¯»å¸¸ï¼Œå®ç°çš„ç›¸å¯¹å¤æ‚æ€§å’Œæƒ°æ€§ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å¾ˆå±é™©ã€‚ </p><br><h2 id="dopolnitelno"> é€‰é… </h2><br><p>  <a href="https://github.com/vt4a2h/qobject-with-ranges-mirror">æºä»£ç </a> </p><br><p> ç‰¹åˆ«æ„Ÿè°¢Misha Svetkinï¼ˆ <a href="https://habr.com/ru/users/trilla/" class="user_link">Trilla</a> ï¼‰å¯¹é¡¹ç›®å®æ–½å’Œè®¨è®ºçš„è´¡çŒ®ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN481402/">https://habr.com/ru/post/zh-CN481402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN481388/index.html">åŠ å¯†è´§å¸äº¤æ˜“æ‰€å¦‚ä½•æ„å»ºæŠµæŠ—DeFiçš„åŒºå—é“¾</a></li>
<li><a href="../zh-CN481390/index.html">æ¥è‡ªOpenStreetMap 490ä¸–ç•Œçš„æ–°é—»ï¼ˆ12/03/2019-09/12/2019ï¼‰</a></li>
<li><a href="../zh-CN481392/index.html">å½“æˆ‘ç”¨PHPç¼–å†™é›†ä¸­å¼åŠ å¯†è´§å¸æ—¶ã€‚ ï¼ˆç¬¬1éƒ¨åˆ†-åŸºæœ¬æ‘˜è¦+å¿«é€Ÿå…¥é—¨ï¼‰</a></li>
<li><a href="../zh-CN481394/index.html">åœ¨æ–°æ¸¸æˆä¸­é‡å»ºæˆ‘ä»¬å¯¹æ—§æ¸¸æˆçš„å–œçˆ±</a></li>
<li><a href="../zh-CN481398/index.html">é€‚ç”¨äºæµ‹è¯•äººå‘˜ç­‰çš„åŸºæœ¬Linuxå‘½ä»¤</a></li>
<li><a href="../zh-CN481406/index.html">æ·±å…¥æŠ•å…¥Ilona Maskçš„æŠ•èµ„</a></li>
<li><a href="../zh-CN481416/index.html">å®£å¸ƒåœ¨æ˜æ–¯å…‹ä¸¾è¡Œçš„ç¬¬äºŒæ¬¡AWSèšä¼šï¼ˆ02/13/2020ï¼‰</a></li>
<li><a href="../zh-CN481418/index.html">è§†é¢‘ç¼–è§£ç å™¨çš„å·¥ä½œæ–¹å¼ã€‚ ç¬¬1éƒ¨åˆ†ã€‚åŸºç¡€</a></li>
<li><a href="../zh-CN481420/index.html">15ä¸ªæœ€ä½³å’Œæœ€å¤§çš„å›¾æ ‡åº“</a></li>
<li><a href="../zh-CN481424/index.html">Angularä¸­çš„è‡ªå®šä¹‰æ§ä»¶</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>