<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äç‚úàÔ∏è ü¶ä ‚úçüèø Almacenamiento de AERODISK en procesadores dom√©sticos Elbrus 8C üßõüèæ üï§ üé∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola lectores de Habr. Queremos compartir muy buenas noticias. Finalmente esperamos la producci√≥n en serie real de una nueva generaci√≥n de procesadore...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Almacenamiento de AERODISK en procesadores dom√©sticos Elbrus 8C</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/aerodisk/blog/482434/"><p><img src="https://habrastorage.org/webt/ou/jl/p-/oujlp-a--ob6zgj5myhry58rdkm.jpeg"></p><br><p>  Hola lectores de Habr.  Queremos compartir muy buenas noticias.  Finalmente esperamos la producci√≥n en serie real de una nueva generaci√≥n de procesadores rusos Elbrus 8C.  Oficialmente, se supon√≠a que la producci√≥n en serie comenzar√≠a ya en 2016, pero, de hecho, fue la producci√≥n en masa que comenz√≥ solo en 2019 y actualmente se han lanzado alrededor de 4000 procesadores. </p><br><p>  Casi inmediatamente despu√©s del inicio de la producci√≥n en masa, estos procesadores tambi√©n aparecieron en nuestro Aerodisk, por lo que queremos agradecer a la empresa NORSI-TRANS, que amablemente nos proporcion√≥ su plataforma de hardware Yakhont UVM, que admite procesadores Elbrus 8C, para portar el software de almacenamiento.  Esta es una plataforma moderna y universal que cumple con todos los requisitos del MCST.  Por el momento, la plataforma es utilizada por consumidores especiales y operadores de telecomunicaciones para garantizar la implementaci√≥n de acciones establecidas durante las actividades de b√∫squeda operativa. </p><br><p>  Por el momento, la transferencia se ha completado con √©xito, y ahora el almacenamiento AERODISK est√° disponible en la versi√≥n con procesadores dom√©sticos Elbrus. </p><br><p>  En este art√≠culo, hablaremos sobre los procesadores mismos, su historia, arquitectura y, por supuesto, sobre nuestra implementaci√≥n de almacenamiento en Elbrus. </p><a name="habracut"></a><br><h2 id="istoriya">  La historia </h2><br><p>  La historia de los procesadores Elbrus se origina en los d√≠as de la Uni√≥n Sovi√©tica.  En 1973, en el Instituto de Mec√°nica de Precisi√≥n e Ingenier√≠a Inform√°tica.  S.A.  Lebedev (llamado as√≠ por el mismo Sergey Lebedev, que anteriormente dirigi√≥ el desarrollo del primer MESM inform√°tico sovi√©tico, y m√°s tarde BESM) comenz√≥ el desarrollo de sistemas inform√°ticos multiprocesador llamados "Elbrus".  Vsevolod Sergeevich Burtsev dirigi√≥ el desarrollo, y Boris Artashesovich Babayan, uno de los principales dise√±adores adjuntos, tambi√©n particip√≥ activamente en el desarrollo. </p><br><p><img src="https://habrastorage.org/webt/32/v3/-z/32v3-ztuwe2lzirl5m-iwar5gog.jpeg"><br>  <em>Vsevolod Sergeevich Burtsev</em> </p><br><p><img src="https://habrastorage.org/webt/nn/y7/op/nny7opn3lokxamvfgphpbp2caxw.png"><br>  <em>Boris Artashesovich Babayan</em> </p><br><p> El principal cliente del proyecto fue, por supuesto, las Fuerzas Armadas de la URSS, y esta serie de computadoras finalmente se utiliz√≥ con √©xito para crear centros de comando de computadoras y sistemas de disparo para sistemas de defensa antimisiles, as√≠ como otros sistemas de prop√≥sito especial. </p><br><p>  La primera computadora Elbrus se complet√≥ en 1978.  Ten√≠a una arquitectura modular y pod√≠a incluir de 1 a 10 procesadores basados ‚Äã‚Äãen circuitos de integraci√≥n media.  La velocidad de esta m√°quina alcanz√≥ 15 millones de operaciones por segundo.  La cantidad de RAM, que era com√∫n para los 10 procesadores, era de 2 a 20 palabras de m√°quina de potencia o 64 MB. </p><br><p>  M√°s tarde result√≥ que muchas de las tecnolog√≠as utilizadas en el desarrollo de Elbrus al mismo tiempo se estudiaron en el mundo, y la International Business Machine (IBM) se involucr√≥ en ellas, pero el trabajo en estos proyectos, a diferencia del trabajo en Elbrus, nunca fue se completaron y no dieron como resultado un producto terminado. </p><br><p>  Seg√∫n Vsevolod Burtsev, los ingenieros sovi√©ticos intentaron aplicar la experiencia m√°s avanzada de los desarrolladores nacionales y extranjeros.  La arquitectura de las computadoras Elbrus tambi√©n estuvo influenciada por las computadoras Burroughs, los desarrollos de Hewlett-Packard, as√≠ como la experiencia de los desarrolladores de BESM-6. </p><br><p>  Pero al mismo tiempo, muchos desarrollos fueron originales.  Lo m√°s interesante en "Elbrus-1" fue precisamente su arquitectura. </p><br><p>  La supercomputadora creada fue la primera computadora en la URSS en utilizar la arquitectura superescalar.  El uso masivo de procesadores superescalares en el extranjero comenz√≥ solo en los a√±os 90 del siglo pasado con la llegada de procesadores Intel Pentium asequibles en el mercado. </p><br><p>  Adem√°s, para organizar la transferencia de flujos de datos entre dispositivos perif√©ricos y RAM en la computadora, se podr√≠an utilizar procesadores especiales de entrada / salida.  Podr√≠a haber hasta cuatro de estos procesadores en el sistema; trabajaron en paralelo con el procesador central y ten√≠an su propia memoria dedicada. </p><br><h3 id="elbrus-2">  Elbrus-2 </h3><br><p>  En 1985, Elbrus obtuvo su continuaci√≥n l√≥gica, la computadora Elbrus-2 fue creada y puesta en producci√≥n en serie.  En arquitectura, no era muy diferente de su predecesor, pero utiliz√≥ una nueva base de elementos, lo que permiti√≥ aumentar la productividad general en casi 10 veces, de 15 millones de operaciones por segundo a 125 millones. La memoria RAM de la computadora aument√≥ a 16 millones de palabras de 72 bits o 144 MB.  El rendimiento m√°ximo de los canales de E / S Elbrus-2 fue de 120 MB / s. </p><br><p>  El "Elbrus-2" se utiliz√≥ activamente en los centros de investigaci√≥n nuclear en Chelyabinsk-70 y en Arzamas-16 en el CCM, en el sistema de defensa antimisiles A-135, as√≠ como en otras instalaciones militares. </p><br><p><img src="https://habrastorage.org/webt/z1/i4/t4/z1i4t4rscjdds4558nywm7z3kc8.jpeg"><br>  <em>SPRUT C1200 complejo basado en procesadores Elbrus</em> </p><br><p>  La creaci√≥n de Elbrus fue apreciada por los l√≠deres de la Uni√≥n Sovi√©tica.  Muchos ingenieros recibieron √≥rdenes y medallas.  El dise√±ador general Vsevolod Burtsev y otros especialistas recibieron premios estatales.  Y Boris Babayan fue galardonado con la Orden de la Revoluci√≥n de Octubre. </p><br><p>  Estos premios son m√°s que merecidos, Boris Babayan dijo m√°s tarde: </p><br><blockquote>  "En 1978, hicimos la primera m√°quina superescalar, Elbrus-1. Ahora en Occidente hacen superescalares solo de esta arquitectura. El primer superescalar apareci√≥ en el a√±o 92, el nuestro en el 78. Adem√°s, esa versi√≥n del superescalar que hicimos , similar a Pentium Pro, que Intel hizo en el a√±o 95 ". </blockquote><p>  Estas palabras sobre la primac√≠a hist√≥rica tambi√©n se confirman en los EE. UU., Keith Diefendorff, el desarrollador de Motorola 88110, uno de los primeros procesadores superescalares occidentales, escribi√≥: </p><br><blockquote>  "En 1978, casi 15 a√±os antes de que aparecieran los primeros procesadores superescalares occidentales, se utiliz√≥ un procesador en Elbrus-1, con la emisi√≥n de dos instrucciones por ciclo, cambiando el orden de ejecuci√≥n de las instrucciones, renombrando registros y ejecutando por suposici√≥n". </blockquote><br><h3 id="elbrus-3">  Elbrus-3 </h3><br><p>  Era 1986, y casi inmediatamente despu√©s de completar el trabajo en el segundo Elbrus, ITM &amp; VT comenz√≥ a desarrollar un nuevo sistema Elbrus-3 utilizando una arquitectura de procesador fundamentalmente nueva.  Boris Babayan llam√≥ a este enfoque "post-superescalar".  Fue esta arquitectura, m√°s tarde llamada VLIW / EPIC, la que los procesadores Intel Itanium comenzaron a usar en el futuro (a mediados de los 90) (y en la URSS, estos desarrollos comenzaron en 1986 y terminaron en 1991). </p><br><p>  La idea de gestionar expl√≠citamente el paralelismo de operaciones utilizando un compilador se realiz√≥ por primera vez en este complejo inform√°tico. </p><br><p>  En 1991, se lanz√≥ la primera y, desafortunadamente, la √∫nica computadora Elbrus-3, que no pudieron configurar completamente, y despu√©s del colapso de la Uni√≥n Sovi√©tica, nadie la necesitaba, y los dise√±os y planes permanecieron en papel. </p><br><h3 id="predposylki-k-novoy-arhitekture">  Antecedentes de la nueva arquitectura. </h3><br><p>  El equipo que trabaj√≥ en ITMiVT para crear supercomputadoras sovi√©ticas no se separ√≥, sino que continu√≥ trabajando como una compa√±√≠a separada bajo el nombre MCST (Centro de Tecnolog√≠a SPARK de Mosc√∫).  Y a principios de los 90, el ICST comenz√≥ una cooperaci√≥n activa con Sun Microsystems, donde el equipo del ICST particip√≥ en el desarrollo del microprocesador UltraSPARC. </p><br><p>  Fue durante este per√≠odo que surgi√≥ el proyecto de arquitectura E2K, que originalmente fue financiado por Sun.  M√°s tarde, el proyecto se volvi√≥ completamente independiente y toda la propiedad intelectual en √©l permaneci√≥ con el personal del ICST. </p><br><blockquote>  "Si continuamos trabajando con Sun en esta √°rea, todo habr√≠a pertenecido a Sun. Aunque el 90% del trabajo se realiz√≥ antes de que apareciera Sun".  (Boris Babayan) </blockquote><br><h2 id="arhitektura-e2k">  Arquitectura E2K </h2><br><p>  Cuando discutimos la arquitectura de los procesadores Elbrus, muy a menudo de nuestros colegas en la industria de TI, escuchamos las siguientes declaraciones: </p><br><blockquote>  "Elbrus es arquitectura RISC" <br>  "Elbrus es una arquitectura EPIC" <br>  "Elbrus es la arquitectura SPARC" </blockquote><p>  De hecho, ninguna de estas afirmaciones es completamente cierta, y si lo es, es solo parcialmente. </p><br><p>  La arquitectura E2K es una arquitectura de procesador original separada, las caracter√≠sticas principales de E2K son la eficiencia energ√©tica y la excelente escalabilidad lograda al establecer un paralelismo expl√≠cito de las operaciones.  La arquitectura E2K fue desarrollada por el equipo ICST y se basa en la arquitectura post-superescalar (a la EPIC) con cierta influencia de la arquitectura SPARC (con el pasado RISC).  Al mismo tiempo, en la creaci√≥n de tres de las cuatro arquitecturas b√°sicas (superescalares, superescalares y SPARC), el MCST particip√≥ directamente.  El mundo es realmente peque√±o. </p><br><p>  Para evitar m√°s confusi√≥n, dibujamos un diagrama simple que, aunque simplista, muestra muy claramente las ra√≠ces de la arquitectura E2K. </p><br><p><img src="https://habrastorage.org/webt/_p/di/ek/_pdiekhlikt5q_vpspizfbiznby.png"></p><br><p>  Ahora un poco m√°s sobre el nombre de la arquitectura, en relaci√≥n con el cual tambi√©n hay un malentendido. </p><br><p>  En diferentes fuentes puede encontrar los siguientes nombres de esta arquitectura: "E2K", "Elbrus", "Elbrus 2000", ELBRUS ("ExpLicit Basic Resources Utilization Scheduling", es decir, planificaci√≥n expl√≠cita para el uso de recursos b√°sicos).  Todos estos nombres dicen lo mismo: sobre arquitectura, pero en la documentaci√≥n t√©cnica oficial, as√≠ como en foros t√©cnicos, el nombre E2K se usa para designar arquitectura, por lo que en el futuro si hablamos de arquitectura de procesador, usaremos el t√©rmino "E2K", y si sobre un procesador espec√≠fico, usamos el nombre "Elbrus". </p><br><h3 id="tehnicheskie-osobennosti-arhitektury-e2k">  Caracter√≠sticas t√©cnicas de la arquitectura E2K </h3><br><p>  En arquitecturas tradicionales como RISC o CISC (x86, PowerPC, SPARC, MIPS, ARM), el procesador recibe una secuencia de instrucciones dise√±adas para la ejecuci√≥n secuencial.  El procesador puede detectar operaciones independientes y ejecutarlas en paralelo (superescalaridad) e incluso cambiar su orden (ejecuci√≥n extraordinaria).  Sin embargo, el an√°lisis de dependencia din√°mico y el soporte para ejecuci√≥n extraordinaria tienen sus limitaciones en el n√∫mero de lanzamientos y an√°lisis de comandos por ciclo.  Adem√°s, los bloques correspondientes dentro del procesador consumen una cantidad significativa de energ√≠a, y su implementaci√≥n m√°s complicada a veces conduce a problemas de estabilidad o seguridad. </p><br><p>  En la arquitectura E2K, el compilador toma la mayor parte del trabajo en el an√°lisis de dependencia y optimiza el orden de las operaciones.  El procesador recibe la llamada entrada.  comandos anchos, en cada uno de los cuales est√°n codificadas las instrucciones para todos los dispositivos ejecutivos del procesador que deben ejecutarse en este reloj.  El procesador no necesita analizar dependencias entre operandos u operaciones de reorganizaci√≥n entre comandos anchos: todo esto lo realiza el compilador en funci√≥n del an√°lisis del c√≥digo fuente y la planificaci√≥n de recursos del procesador.  Como resultado, el componente de hardware del procesador puede ser m√°s simple y m√°s econ√≥mico. </p><br><p>  El compilador puede analizar el c√≥digo fuente mucho m√°s a fondo que el hardware del procesador RISC / CISC y encontrar operaciones m√°s independientes.  Por lo tanto, hay m√°s actuadores concurrentes en la arquitectura E2K que en las arquitecturas tradicionales. </p><br><p>  Caracter√≠sticas actuales de la arquitectura E2K: </p><br><ul><li>  6 canales de dispositivos de l√≥gica aritm√©tica (ALU) que funcionan en paralelo. </li><li>  Un archivo de registro de 256 registros de 84 bits. </li><li>  Soporte de hardware para bucles, incluida la canalizaci√≥n.  Mejora la utilizaci√≥n de la CPU. </li><li>  Dispositivo programable de pre-paginaci√≥n de datos as√≠ncronos con canales de lectura separados.  Le permite ocultar retrasos en el acceso a la memoria y hacer un uso completo de ALU. </li><li>  Soporte para computaci√≥n especulativa y predicados de un solo bit.  Permite reducir el n√∫mero de transiciones y ejecutar simult√°neamente varias ramas del programa. </li><li>  Un equipo amplio que es capaz de configurar hasta 23 operaciones en un solo ciclo con un llenado m√°ximo (m√°s de 33 operaciones al empaquetar operandos en instrucciones vectoriales). </li></ul><br><p><img src="https://habrastorage.org/webt/8a/d3/2t/8ad32tlti3athw8wndcx4kg0ngu.png"></p><br><h3 id="emulyaciya-h86">  Emulaci√≥n X86 </h3><br><p>  Incluso en la etapa de dise√±o de la arquitectura, los desarrolladores comprendieron la importancia de admitir software escrito para la arquitectura Intel x86.  Para esto, se implement√≥ un sistema de traducci√≥n din√°mica (es decir, en el proceso de ejecuci√≥n del programa o "sobre la marcha") de c√≥digos binarios x86 en c√≥digos de procesador de la arquitectura E2K.  Este sistema puede funcionar tanto en el modo de aplicaci√≥n (de la manera WINE) como en un modo similar al hipervisor (entonces es posible ejecutar todo el SO hu√©sped para la arquitectura x86). </p><br><p>  Gracias a varios niveles de optimizaci√≥n, es posible lograr una alta velocidad del c√≥digo traducido.  La calidad de la emulaci√≥n de arquitectura x86 se confirma con el lanzamiento exitoso de m√°s de 20 sistemas operativos (incluidas varias versiones de Windows) y cientos de aplicaciones en complejos inform√°ticos de Elbrus. </p><br><h3 id="zaschischennyy-rezhim-ispolneniya-programm">  Modo de ejecuci√≥n de programa protegido </h3><br><p>  Una de las ideas m√°s interesantes heredadas de las arquitecturas Elbrus-1 y Elbrus-2 es la llamada ejecuci√≥n segura de programas.  Su esencia es garantizar el funcionamiento del programa solo con datos inicializados, verificar que todos los accesos a la memoria pertenezcan a un rango v√°lido de direcciones, proporcionar protecci√≥n entre m√≥dulos (por ejemplo, proteger el programa que llama de un error en la biblioteca).  Todos estos controles se realizan en hardware.  Para el modo protegido, hay un compilador completo y una biblioteca de soporte de tiempo de ejecuci√≥n.  Debe entenderse que las restricciones impuestas hacen que sea imposible organizar la ejecuci√≥n de, por ejemplo, c√≥digo escrito en C ++. </p><br><p>  Incluso en el modo de operaci√≥n habitual "desprotegido" de los procesadores Elbrus, hay caracter√≠sticas que aumentan la confiabilidad del sistema.  Por lo tanto, la pila de informaci√≥n vinculante (la cadena de direcciones de retorno para llamadas de procedimiento) se separa de la pila de datos del usuario y no est√° disponible para tales ataques utilizados en virus como falsificaci√≥n de la direcci√≥n de retorno. </p><br><p>  Estos desarrollos no solo nos permiten ponernos al d√≠a y superar en el futuro las arquitecturas de la competencia en t√©rminos de rendimiento y escalabilidad, sino que tambi√©n brindan protecci√≥n contra errores que afectan a x86 / amd64.  Marcadores como Meltdown (CVE-2017-5754), Spectre (CVE-2017-5753, CVE-2017-5715), RIDL (CVE-2018-12126, CVE-2018-12130), Fallout (CVE-2018-12127), ZombieLoad (CVE-2019-11091) y similares. </p><br><p>  La protecci√≥n moderna contra las vulnerabilidades encontradas en la arquitectura x86 / amd64 se basa en parches a nivel del sistema operativo.  Es por eso que la ca√≠da en el rendimiento en las generaciones actuales y anteriores de procesadores de estas arquitecturas es tan notable y var√≠a del 30% al 80%.  Nosotros, como usuarios activos de procesadores x86, sabemos sobre esto, sufrimos y continuamos "comiendo un cactus", pero la soluci√≥n a estos problemas est√° de ra√≠z para nosotros (y, como resultado, para nuestros clientes), un beneficio indudable, especialmente si la soluci√≥n es rusa. </p><br><h3 id="tehnicheskie-harakteristiki">  Especificaciones t√©cnicas </h3><br><p>  A continuaci√≥n se muestran las especificaciones t√©cnicas oficiales de los procesadores Elbrus de las generaciones pasadas (4C), actuales (8C), nuevas (8CB) y futuras (16C) en comparaci√≥n con procesadores Intel x86 similares. </p><br><p><img src="https://habrastorage.org/webt/k5/3a/dn/k53adnhxrse033qqcwvvxrqwyis.png"></p><br><p>  Incluso una mirada superficial a esta tabla muestra (y esto es muy agradable) que el retraso tecnol√≥gico de los procesadores dom√©sticos, que parec√≠a insuperable hace 10 a√±os, ahora parece muy peque√±o, y en 2021 con el lanzamiento de Elbrus-16C (que, entre otras cosas, admitir√° la virtualizaci√≥n) se reducir√° a distancias m√≠nimas. </p><br><h2 id="shd-aerodisk-na-processorah-elbrus-8s">  Almacenamiento de AERODISK en procesadores Elbrus 8C </h2><br><p>  Pasamos de la teor√≠a a la pr√°ctica.  Como parte de la alianza estrat√©gica de las compa√±√≠as MTsST, Aerodisk, Basalt SPO (anteriormente Alt Linux) y NORSI-TRANS, se desarroll√≥ y prepar√≥ un sistema de almacenamiento de datos para la operaci√≥n, que en este momento no es el mejor en t√©rminos de seguridad, funcionalidad, costo y rendimiento. , en nuestra opini√≥n, una soluci√≥n indudablemente digna que puede brindarle el debido nivel de independencia tecnol√≥gica de nuestro pa√≠s. <br>  Ahora los detalles ... </p><br><h3 id="apparatnaya-chast">  Hardware </h3><br><p>  El hardware de almacenamiento se implementa sobre la base de la plataforma universal Yakhont UVM de NORSI-TRANS.  La plataforma Yakhont UVM recibi√≥ el estado de los equipos de telecomunicaciones de origen ruso y est√° incluida en el registro unificado de productos radioelectr√≥nicos rusos.  El sistema consta de dos controladores de almacenamiento separados (2U cada uno), que est√°n interconectados por una interconexi√≥n Ethernet 1G o 10G, as√≠ como con estantes de disco comunes que utilizan una conexi√≥n SAS. </p><br><p>  Por supuesto, esto no es tan hermoso como el formato "Cluster in a box" (cuando los controladores y las unidades con una placa posterior com√∫n est√°n instalados en el mismo chasis 2U), que usualmente usamos, pero tambi√©n estar√° disponible en un futuro pr√≥ximo.  Lo principal aqu√≠ es trabajar bien, pero luego pensaremos en los "arcos". </p><br><p><img src="https://habrastorage.org/webt/ev/mg/s7/evmgs7gsr9wnbjyazymhzry_q78.jpeg"></p><br><p><img src="https://habrastorage.org/webt/2b/sa/ta/2bsatabl7o537ee6kkqngy9uixw.jpeg"></p><br><p>  Bajo el cap√≥, cada controlador tiene una placa base de un solo procesador con cuatro ranuras de RAM (DDR3 para el procesador 8C).  Cada controlador tambi√©n tiene 4 puertos Ethernet 1G (dos de los cuales son utilizados por AERODISK ENGINE como servicio) y tres conectores PCIe para adaptadores Back-end (SAS) y Front-end (Ethernet o FibreChannel). </p><br><p>  Como discos de arranque, utilizamos discos SSD SATA rusos de GS Nanotech, que hemos probado y utilizado repetidamente en proyectos. </p><br><p><img src="https://habrastorage.org/webt/bz/48/nx/bz48nxtpe4j3ja7gmrappql8pmu.jpeg"></p><br><p>  Cuando conocimos la plataforma, la examinamos cuidadosamente.  No tuvimos ninguna pregunta con respecto a la calidad del ensamblaje y la soldadura; todo se hizo de manera ordenada y confiable. </p><br><h3 id="operacionnaya-sistema">  Sistema operativo </h3><br><p>  Como sistema operativo, la versi√≥n del sistema operativo Alt 8SP se utiliza para la certificaci√≥n.  En un futuro pr√≥ximo, planeamos crear un repositorio enchufable y constantemente actualizado para Alt OS con el software de almacenamiento Aerodisk. </p><br><p>  Esta versi√≥n de la distribuci√≥n se basa en la versi√≥n estable actual del kernel Linux 4.9 para E2K (una rama con soporte a largo plazo fue portada por los especialistas del MCST), complementada con parches para funcionalidad y seguridad.  Todos los paquetes en el sistema operativo Alt se recopilaron directamente en Elbrus utilizando el sistema de ensamblaje transaccional original del proyecto ALT Linux Team, lo que permiti√≥ reducir los costos de mano de obra para el puerto y prestar m√°s atenci√≥n a la calidad del producto. </p><br><p>  Cualquier versi√≥n de Alt OS para Elbrus se puede ampliar significativamente en t√©rminos de funcionalidad, utilizando el repositorio disponible (de aproximadamente 6 mil paquetes fuente para la octava versi√≥n a aproximadamente 12 para la novena). </p><br><p>  La elecci√≥n tambi√©n se hizo porque la empresa Basalt SPO, el desarrollador de Alt OS, est√° trabajando activamente con otros desarrolladores de software y dispositivos en varias plataformas, proporcionando una interacci√≥n perfecta en el marco de los sistemas de hardware y software. </p><br><h3 id="po-sistemy-hraneniya-dannyh">  Software de almacenamiento </h3><br><p>  Al portar, inmediatamente abandonamos la idea de usar la emulaci√≥n x86 compatible con E2K, y comenzamos a trabajar con procesadores directamente (ya que Alt ya tiene las herramientas necesarias para esto). </p><br><p>  Entre otras cosas, el modo de ejecuci√≥n nativo proporciona una mayor seguridad (esas mismas tres pilas de hardware en lugar de una) y un mayor rendimiento (no hay necesidad de asignar uno o dos n√∫cleos de ocho para que funcione el traductor binario, y el compilador hace su trabajo mejor que JIT). </p><br><p>  De hecho, en la implementaci√≥n de AERODISK ENGINE en E2K, se admite la mayor parte de la funcionalidad de almacenamiento existente, que se encuentra en x86.  Como software de sistema de almacenamiento, se utiliza la versi√≥n actual de AERODISK ENGINE (A-CORE versi√≥n 2.30) </p><br><p>  Sin ning√∫n problema, las siguientes funciones se lanzaron en E2K y se probaron para su uso en el producto: </p><br><ul><li>  Tolerancia a fallas para hasta dos controladores y E / S de m√∫ltiples rutas (mpio) </li><li>  Acceso a archivos y bloques con vol√∫menes delgados (RDG, agrupaciones DDP; protocolos FC, iSCSI, NFS, SMB, incluida la integraci√≥n con Active Directory) </li><li>  Diferentes niveles de RAID hasta la triple paridad (incluida la capacidad de usar el constructor RAID) </li><li>  Almacenamiento h√≠brido (combinando SSD y HDD en el mismo grupo, es decir, cach√© y desgarro) </li><li>  Opciones de ahorro de espacio con deduplicaci√≥n y compresi√≥n. </li><li>  Instant√°neas de ROW, clones y diferentes opciones de replicaci√≥n </li><li>  Y otras caracter√≠sticas peque√±as pero √∫tiles como QoS, hotspare global, VLAN, BOND, etc. </li></ul><br><p>    E2K      ,   ( )    -,     all-flash   20-30%. </p><br><p>     , ,  ,  . </p><br><h3 id="nemnogo-o-proizvoditelnosti">    </h3><br><p>        , ,    . </p><br><p>  ,    (2xCPU E8C 1.3 Ghz, 32 GB RAM + 4 SAS SSD 800GB 3DWD),     RAM-,     DDP    RAID-10   LUN  500G    LUN-  iSCSI (10G Ethernet)  Linux-.                FIO. </p><br><p>     . </p><br><p><img src="https://habrastorage.org/webt/sd/4g/ox/sd4goxz7ia3wzktjxk3pcl4_xdm.png"></p><br><p>         60%, ..   ,      . </p><br><p> ,    highload     -     , ,    ,     80%  ,    . </p><br><p>                . </p><br><h2 id="svetloe-buduschee">   </h2><br><p>    ,    8      ‚Äì   2019         4000 .  ,     4         5000,    . </p><br><p>  ,     ,    ,    . <br>  2020         8,     .  ,   2020   -8        . </p><br><p>    ‚Äî           . </p><br><p>                      ,              (       -16).   ,        . </p><br><p>         ,      ,      ,         ,   .  ,  ,         . </p><br><p>      ,     ,    ,        -   ,     ‚Äì   ,  ,     .     ,  ,       . </p><br><p><img src="https://habrastorage.org/webt/lv/hn/gm/lvhngmwzjvpif378cj77omw09k4.jpeg"></p><br><p>                        .   ,   ,    ,        ! </p><br><p>    , ,   ,  , , .   . </p><br><p>           -      ,  100%  ‚Äì         ))). </p><br><h3 id="ispolzuemye-materialy">   </h3><br><p>     ,   : <br> <a href="https://www.ixbt.com/cpu/e2k-spec.html">https://www.ixbt.com/cpu/e2k-spec.html</a> </p><br><p>      ¬´¬ª: <br> <a href="https://topwar.ru/34409-istoriya-kompyuterov-elbrus.html">https://topwar.ru/34409-istoriya-kompyuterov-elbrus.html</a> </p><br><p>     e2k: <br> <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581_2000">https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D1%8C%D0%B1%D1%80%D1%83%D1%81_2000</a> </p><br><p>    4-  (-8)  5-  (-8, 2020 ): <br> <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581-8%25D0%25A1">https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D1%8C%D0%B1%D1%80%D1%83%D1%81-8%D0%A1</a> </p><br><p>   6-   (-16, 2021 ): <br> <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581-16%25D0%25A1">https://ru.wikipedia.org/wiki/%D0%AD%D0%BB%D1%8C%D0%B1%D1%80%D1%83%D1%81-16%D0%A1</a> </p><br><p>    : <br> <a href="http://www.elbrus.ru/elbrus_arch">http://www.elbrus.ru/elbrus_arch</a> </p><br><p>   -  ¬´¬ª     : <br> <a href="http://www.mcst.ru/files/5a9eb2/a10cd8/501810/000003/kim_a._k._perekatov_v._i._feldman_v._m._na_puti_k_rossiyskoy_ekzasisteme_plany_razrabotchikov.pdf">http://www.mcst.ru/files/5a9eb2/a10cd8/501810/000003/kim_a._k._perekatov_v._i._feldman_v._m._na_puti_k_rossiyskoy_ekzasisteme_plany_razrabotchikov.pdf</a> </p><br><p>   ¬´¬ª   ,   : <br> <a href="http://www.mcst.ru/files/5472ef/770cd8/50ea05/000001/rossiyskietehnologiielbrus-it-edu9-201410l.pdf">http://www.mcst.ru/files/5472ef/770cd8/50ea05/000001/rossiyskietehnologiielbrus-it-edu9-201410l.pdf</a> </p><br><p>    ,     : <br> <a href="http://www.mcst.ru/e2k_arch.shtml">http://www.mcst.ru/e2k_arch.shtml</a> </p><br><p>    : <br> <a href="https://www.osp.ru/os/1999/05-06/179819">https://www.osp.ru/os/1999/05-06/179819</a> </p><br><p>  ,  : <br> <a href="https://yadi.sk/i/HDj7d31jTDlDgA">https://yadi.sk/i/HDj7d31jTDlDgA <br></a> </p><br><p>       : <br> <a href="https://altlinux.org/%25D1%258D%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581">https://altlinux.org/</a> </p><br><p> <a href="https://sdelanounas.ru/blog/shigorin/">https://sdelanounas.ru/blog/shigorin/</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/482434/">https://habr.com/ru/post/482434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../482420/index.html">JavaFX - a√∫n no est√° muerto</a></li>
<li><a href="../482426/index.html">V√§terchen Frost o seis d√≠gitos para Habr</a></li>
<li><a href="../482428/index.html">Dotnetru 2019. Resultados</a></li>
<li><a href="../482430/index.html">Estudiar no es una loter√≠a, las m√©tricas mienten</a></li>
<li><a href="../482432/index.html">TI en el sistema escolar</a></li>
<li><a href="../482436/index.html">Food Design Digest, diciembre de 2019</a></li>
<li><a href="../482438/index.html">¬øQu√© no debe hacer un especialista en TI en 2020?</a></li>
<li><a href="../482440/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 395 (23-29 de diciembre de 2019)</a></li>
<li><a href="../482442/index.html">La mayor tecnolog√≠a falla en 2019</a></li>
<li><a href="../482446/index.html">Priones: miedo y horror del futuro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>