<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛀🏿 👎🏼 🏚️ Programação dinâmica no mundo real: corte de costura 🚍 👩 👨🏼‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A programação dinâmica tem uma reputação pelo método que você estuda na universidade e só se lembra durante as entrevistas. Mas, de fato, o método é a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programação dinâmica no mundo real: corte de costura</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458110/">  A programação dinâmica tem uma reputação pelo método que você estuda na universidade e só se lembra durante as entrevistas.  Mas, de fato, o método é aplicável em muitas situações.  De fato, esta é uma <b>técnica para resolver efetivamente problemas que podem ser divididos em muitas subtarefas altamente repetitivas</b> . <br><br>  No artigo, mostrarei uma aplicação real interessante da programação dinâmica - a tarefa de escultura de costura.  A tarefa e a metodologia são descritas em detalhes no trabalho de Avidan e Shamir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">“Cortando costuras para redimensionar imagens com base no conteúdo”</a> (artigo em domínio público). <br><br>  Este é um de uma série de artigos sobre programação dinâmica.  Se você deseja aprimorar os métodos, consulte a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">introdução ilustrada à programação dinâmica</a> . <br><a name="habracut"></a><br><h1>  Redimensionar imagem com base no conteúdo </h1><br>  Para resolver um problema real usando a programação dinâmica, você precisa formulá-lo corretamente.  Esta seção descreve as predefinições necessárias para a tarefa selecionada. <br><br>  Os autores do artigo original descrevem o redimensionamento da imagem orientada ao conteúdo, ou seja, alterando a largura ou a altura da imagem com base no conteúdo.  Veja o trabalho original para obter detalhes, e eu ofereço uma breve visão geral.  Suponha que você queira redimensionar a foto de um surfista: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/979/931/22d/97993122dc9a852c8b299974fc643aa8.jpg"><br>  <i><font color="gray">Vista superior de um surfista no meio de um oceano calmo, com ondas turbulentas à direita.</font></i>  <i><font color="gray">Foto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kiril Dobrev</a> no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pixabay</a></font></i> <br><br>  Conforme descrito em detalhes no artigo, existem várias maneiras de reduzir a largura da imagem: são cortes e redimensionamentos padrão, com suas desvantagens inerentes, além de remover colunas de pixels do meio.  Como você pode imaginar, isso deixa uma costura visível na foto, onde a imagem à esquerda e à direita não coincidem.  E dessa maneira, você pode excluir apenas uma quantidade limitada de imagem. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2e/e83/7bc/e2ee837bc6950dd52349e3010f7c9c32.jpg"><br>  <i><font color="gray">Uma tentativa de reduzir a largura cortando o lado esquerdo e cortando o bloco no meio.</font></i>  <i><font color="gray">Este último deixa uma costura visível.</font></i> <br><br>  Avidan e Shamir no artigo descrevem a nova técnica de "escultura de costura".  Primeiro, identifica áreas de “baixa energia” menos importantes e depois calcula as “costuras” de baixa energia que passam pela imagem.  No caso de reduzir a largura da imagem, uma costura vertical é determinada da parte superior da imagem para a parte inferior, que em cada linha é deslocada para a esquerda ou direita por não mais que um pixel. <br><br>  Na foto do surfista, a menor costura de energia percorre o meio da imagem, onde a água é a mais silenciosa.  Isso é consistente com a nossa intuição. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41b/8aa/6d9/41b8aa6d9d587e1ede3c02a2e515d5a0.jpg"><br>  <i><font color="gray">A costura de menor energia encontrada na imagem do surfista é mostrada com uma linha vermelha de cinco pixels de largura para visibilidade, embora, na verdade, a costura tenha apenas um pixel de largura.</font></i> <br><br>  Depois de determinar a costura com menos energia e removê-la, reduzimos a largura da imagem em um pixel.  Repetir esse processo repetidas vezes reduz significativamente a largura da foto inteira. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/00b/ce5/31e/00bce531ebd56e33728f12d0d3103da9.jpg"><br>  <i><font color="gray">Imagem de surfista após redução de largura em 1024 pixels</font></i> <br><br>  Novamente, o algoritmo removeu logicamente a água parada no meio e no lado esquerdo da foto.  Mas, diferentemente do corte, a textura da água à esquerda é preservada e não há transições nítidas.  É verdade que você pode encontrar algumas transições imperfeitas no centro, mas basicamente o resultado parece natural. <br><br><h3>  Definição de energia da imagem </h3><br>  A mágica é encontrar a costura de energia mais baixa.  Para fazer isso, primeiro atribuímos energia a cada pixel da imagem.  Em seguida, usamos a programação dinâmica para encontrar o caminho através da imagem com menos energia - esse algoritmo será discutido em detalhes na próxima seção.  Primeiro, vamos ver como atribuir valores de energia aos pixels. <br><br>  O artigo científico discute várias funções energéticas e suas diferenças.  Não vamos complicar isso e tomar uma função que simplesmente captura a quantidade de mudança de cor em torno de cada pixel.  Para completar, descreverei a função de energia com mais detalhes, caso você queira implementá-la, mas isso é apenas uma predefinição para cálculos de programação dinâmica subsequentes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bee/58c/9a3/bee58c9a39f57d4d548b020ae7e046e0.png"><br>  <i><font color="gray">À esquerda, há três pixels do escuro para o claro.</font></i>  <i><font color="gray">A diferença entre o primeiro e o último é grande.</font></i>  <i><font color="gray">Três pixels escuros à direita, com uma pequena diferença na intensidade da cor</font></i> <br><br>  Para calcular a energia de um pixel específico, observe os pixels à esquerda e à direita dele.  Em termos de componentes, calculamos o quadrado da distância entre eles, ou seja, o quadrado da diferença entre os componentes vermelho, verde e azul e os adicionamos.  Fazemos o mesmo para pixels acima e abaixo do centro.  Por fim, some as distâncias horizontais e verticais. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="53.125ex" height="3.142ex" viewBox="0 -1039.5 22873 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="1357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="1823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="2122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="2483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="3013" y="0"></use><g transform="translate(3585,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-3D" x="4595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="5651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="6291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="7119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="7586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="7884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="8246" y="0"></use><g transform="translate(8775,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="638" y="-213"></use></g><g transform="translate(9732,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="10797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="11798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="12438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="13266" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="13733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="14031" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="14393" y="0"></use><g transform="translate(14922,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="675" y="-213"></use></g><g transform="translate(15904,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="16970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="17971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="18610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="19439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="19905" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="20204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="20565" y="0"></use><g transform="translate(21095,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="607" y="-213"></use></g><g transform="translate(22029,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> | \ Delta x | ^ 2 = (\ Delta r_x) ^ 2 + (\ Delta g_x) ^ 2 + (\ Delta b_x) ^ 2 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.581ex" height="3.262ex" viewBox="0 -1039.5 22638.9 1404.6" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="1357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="1823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="2122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="2483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="3013" y="0"></use><g transform="translate(3510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-3D" x="4520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="5576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="6216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="7044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="7511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="7809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="8171" y="0"></use><g transform="translate(8700,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="638" y="-213"></use></g><g transform="translate(9604,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="10669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="11670" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="12310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="13138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="13605" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="13903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="14265" y="0"></use><g transform="translate(14794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="675" y="-213"></use></g><g transform="translate(15723,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="16789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="17790" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="18429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="19258" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="19724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="20023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="20384" y="0"></use><g transform="translate(20914,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="607" y="-213"></use></g><g transform="translate(21795,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> | \ Delta y | ^ 2 = (\ Delta r_y) ^ 2 + (\ Delta g_y) ^ 2 + (\ Delta b_y) ^ 2 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.234ex" height="3.142ex" viewBox="0 -1039.5 13878.5 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="1428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="1873" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="2371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-3D" x="3038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="4094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="4623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="5451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="5918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="6216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="6578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="7107" y="0"></use><g transform="translate(7680,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="8634" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="9635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-44" x="10164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="10992" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="11459" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-74" x="11757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="12119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="12648" y="0"></use><g transform="translate(13146,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="393" y="675"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> e (x, y) = | \ Delta x | ^ 2 + | \ Delta y | ^ 2 </script></p><br>  A única ressalva - digamos, se um pixel estiver na borda esquerda, não haverá vizinho à esquerda.  Nesse caso, comparamos apenas com o pixel certo.  Verificações semelhantes são realizadas para pixels nas bordas superior, direita e inferior. <br><br>  A função de energia é ótima se os pixels vizinhos tiverem cores muito diferentes e pequena se forem semelhantes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62a/270/c37/62a270c374afe98c9951449496a75041.jpg"><br>  <i><font color="gray">A energia de cada pixel na foto de um surfista: quanto mais leve, mais alto ele é.</font></i>  <i><font color="gray">Como esperado, o surfista tem a maior energia nas ondas médias e turbulentas à direita</font></i> <br><br>  A função de energia funciona bem em uma foto de surfista.  No entanto, é preciso uma gama muito ampla de valores.  Portanto, ao renderizar, parece que na maioria das fotos os pixels têm energia zero.  De fato, existem simplesmente valores muito baixos em comparação com as regiões com maior energia.  Para simplificar a visualização, ampliei o surfista e destaquei esta área. <br><br><h1>  Procure costuras de baixa energia com programação dinâmica </h1><br>  Ao calcular a energia de cada pixel, podemos encontrar a costura com a menor energia, de cima para baixo na imagem.  A mesma análise se aplica às costuras horizontais para reduzir a altura da imagem original.  No entanto, focaremos nos verticais. <br><br>  Vamos começar com a definição: <br><br><ul><li>  Uma costura é uma sequência de pixels, um pixel por linha.  O requisito é que, entre duas linhas consecutivas, a coordenada <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> x </script>  muda em não mais que um pixel.  Isso preserva a sequência de costura. <br></li><li>  A costura com a menor energia é aquela cuja energia total em todos os pixels da costura é minimizada. </li></ul><br>  É importante notar que a junta com a menor energia não passa necessariamente por todos os pixels com a menor energia.  A energia total de todos, não os pixels individuais, é levada em consideração. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3eb/f9d/cd8/3ebf9dcd8be067ac7f5adabfb1bea8e8.png"><br>  <i><font color="gray">A abordagem gananciosa não funciona.</font></i>  <i><font color="gray">Escolhendo um pixel de baixa energia em um estágio inicial, ficamos presos na região de alta energia da imagem (caminho vermelho à direita)</font></i> <br><br>  Como você pode ver, não é possível selecionar o pixel de menor energia na próxima linha. <br><br><h3>  Dividimos o problema em subtarefas </h3><br>  O problema com a abordagem gananciosa é que, ao decidir sobre o próximo passo, não levamos em consideração o restante da costura à frente.  Não podemos olhar para o futuro, mas somos capazes de levar em consideração tudo o que já sabemos até agora. <br><br>  Vamos virar a tarefa de cabeça para baixo.  <i>Em vez de escolher entre vários pixels para continuar uma costura, escolheremos entre várias costuras para ir para um pixel</i> .  O que precisamos fazer é pegar cada pixel e escolher entre os pixels na linha acima, de onde a costura pode vir.  Se cada um dos pixels na linha acima codifica o caminho percorrido até este ponto, então estamos essencialmente olhando para o histórico completo até esse ponto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efe/39e/c83/efe39ec83477a2a410e7b4214bef9377.png"><br>  <i><font color="gray">Para cada pixel, estudamos três pixels na linha acima.</font></i>  <i><font color="gray">Escolha fundamental - qual das costuras deve continuar?</font></i> <br><br>  Isso pressupõe uma subtarefa para cada pixel na imagem.  A subtarefa deve encontrar o melhor caminho para um pixel específico, por isso é uma boa ideia associar a cada pixel a energia da costura de baixa energia que <i>termina nesse pixel</i> . <br><br>  Ao contrário da abordagem gananciosa, a abordagem acima tenta essencialmente todos os caminhos possíveis através da imagem.  É só que, ao verificar todos os caminhos possíveis, as mesmas subtarefas são resolvidas repetidamente, o que torna essa abordagem uma opção ideal para programação dinâmica. <br><br><h3>  Definição de uma relação de recorrência </h3><br>  Como sempre, agora precisamos formalizar a ideia em uma relação recursiva.  Há uma subtarefa correspondente a cada pixel na imagem original, portanto, as entradas para a nossa relação de recorrência podem ser apenas coordenadas <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> x </script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> y </script>  deste pixel.  Isso fornece entradas inteiras, facilitando a organização de subtarefas, bem como a capacidade de armazenar valores calculados anteriormente em uma matriz bidimensional. <br><br>  Definir uma função <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.771ex" height="2.66ex" viewBox="0 -832 3345.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="2956" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-7"> M (x, y) </script>  , que representa a energia da costura vertical com menos energia.  Começa na parte superior da imagem e termina em um pixel <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8"> (x, y) </script>  .  Título <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.442ex" height="2.057ex" viewBox="0 -780.1 1051.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> M </script>  selecionado como no artigo científico original. <br><br>  Primeiro, você precisa de uma versão básica.  Todas as costuras que terminam na linha superior têm apenas um pixel.  Assim, uma costura com energia mínima é apenas um pixel com energia mínima: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.295ex" height="2.66ex" viewBox="0 -832 7446.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-30" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="2959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-3D" x="3626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="4682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="5149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="5538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="6111" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-30" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="7056" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> M (x, 0) = e (x, 0) </script></p><br>  Para pixels nas linhas restantes, observe os pixels na parte superior.  Como a costura deve ser contínua, levamos em conta apenas três pixels localizados no canto superior esquerdo, superior e superior direito.  Nelas, selecionamos a costura com a menor energia, que termina em um desses pixels, e adicionamos a energia do pixel atual: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="9.407ex" viewBox="0 -832 33095.6 4050.2" role="img" focusable="false" style="vertical-align: -7.475ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(5312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="2956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-3D" x="3623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="4679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="5146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="5535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="6108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="6553" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="7050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="7662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6D" x="8913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-69" x="9791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6E" x="10137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-62" x="10987" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="11417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-67" x="11883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-69" x="12364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6E" x="12709" y="0"></use><g transform="translate(13310,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-73" x="1899" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="15678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="16730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="17119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="17914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="18915" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="19415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="19860" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="20580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="21581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="22081" y="0"></use></g><g transform="translate(14013,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="3178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="4179" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="4679" y="0"></use></g><g transform="translate(11047,-2866)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="6403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="7042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6E" x="7509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-64" x="8109" y="0"></use><g transform="translate(8633,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-73" x="1899" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> M (x, y) = e (x, y) + \ min \ begin {cases} M (x - 1, y - 1) \\ M (x, y - 1) \\ M (x + 1, y - 1) \ end {cases} </script></p><br>  Como uma situação limítrofe, considere o caso quando o pixel atual estiver na borda esquerda ou direita da imagem.  Nestes casos, omitimos <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.776ex" height="2.66ex" viewBox="0 -832 6792.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="6403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-12"> M (x-1, y-1) </script>  para pixels na borda esquerda ou <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.776ex" height="2.66ex" viewBox="0 -832 6792.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="6403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13"> M (x + 1, y-1) </script>  na borda direita. <br><br>  Finalmente, você precisa extrair a energia da costura de baixa energia, que cobre toda a altura da imagem.  Isso significa que olhamos para a linha inferior da imagem e selecionamos a costura de menor energia que termina em um desses pixels.  Para foto ampla <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-14"> W </script>  e alto <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> H </script>  pixels: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>x</mi><mo>&amp;lt;</mo><mi>W</mi></mrow></msub><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>H</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.332ex" height="2.66ex" viewBox="0 -832 10476.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-69" x="1128" y="0"></use><g transform="translate(1474,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-30" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-6C" x="854" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-65" x="1152" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1619" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-3C" x="2191" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="2970" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="5016" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="6067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="6457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="7029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-48" x="7474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="8585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="9586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="10086" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>x</mi><mo>&lt;</mo><mi>W</mi></mrow></msub><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>H</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> \ min_ {0 \ le x <W} M (x, H - 1) </script></p><br>  Portanto, temos uma relação de recorrência com todas as propriedades necessárias: <br><br><ul><li>  Uma relação de recorrência possui entradas inteiras. <br></li><li>  A resposta final é fácil de extrair da relação. <br></li><li>  A proporção depende de si mesmo. </li></ul><br><h3>  Verificação da subtarefa DAG (gráfico acíclico orientado) </h3><br>  Como cada subtarefa <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.771ex" height="2.66ex" viewBox="0 -832 3345.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="2956" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17"> M (x, y) </script>  corresponde a um pixel da imagem original, o gráfico de dependência é muito fácil de visualizar.  Basta colocá-los em uma grade bidimensional, como na imagem original! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24f/2a7/9cf/24f2a79cffa7d5c6f1f84bc4ff79d5bc.png"><br>  <i><font color="gray">As subtarefas estão localizadas em uma grade bidimensional, como os pixels na imagem original</font></i> <br><br>  Como segue no cenário base da relação de recorrência, a linha superior das subtarefas pode ser inicializada com os valores de energia de pixels individuais. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/323/ddd/ee2/323dddee252bd76daec13922fd2de43e.png"><br>  <i><font color="gray">A linha superior é independente de outras subtarefas.</font></i>  <i><font color="gray">Observe a ausência de setas na linha superior das células</font></i> <br><br>  Na segunda linha, as dependências começam a aparecer.  Em primeiro lugar, na célula mais à esquerda da segunda linha, estamos diante de uma situação de fronteira.  Como não há células à esquerda, a célula <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.168ex" height="2.66ex" viewBox="0 -832 2225.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-30" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="1835" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-18"> (1,0) </script>  depende apenas das células localizadas diretamente acima e no canto superior direito.  O mesmo acontecerá mais tarde com a célula mais à esquerda na terceira linha. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/946/1fa/21c/9461fa21ce25095b1d960f3a4e8ccbf6.png"><br>  <i><font color="gray">As subtarefas na borda esquerda dependem apenas de duas subtarefas acima delas</font></i> <br><br>  Na segunda célula da segunda linha (1,1), vemos a manifestação mais típica da relação de recorrência.  Essa célula depende de três células: superior esquerda, logo acima e superior direita.  Essa estrutura de dependência se aplica a todas as células "intermediárias" na segunda e nas linhas subseqüentes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/648/1f8/cbd/6481f8cbdaf08c304aab457ea42b520d.png"><br>  <i><font color="gray">As subtarefas entre as bordas esquerda e direita dependem das três subtarefas na parte superior</font></i> <br><br>  Por fim, a célula na borda direita representa a segunda situação limítrofe.  Como não há mais células à direita, isso depende apenas das células diretamente na parte superior e superior esquerda. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a8/38e/551/4a838e551dbe3859974e6fd5c13204d0.png"><br>  <i><font color="gray">As subtarefas na borda direita dependem de apenas duas células na parte superior</font></i> <br><br>  O processo é repetido para todas as linhas subseqüentes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe2/42d/350/fe242d35089994e199c1028fb38554f0.gif"><br>  <i><font color="gray">Como existem muitas setas no gráfico de dependência, esta animação mostra as dependências de cada subtarefa por vez.</font></i> <br><br>  Um gráfico de dependência completo assusta você com um grande número de setas, mas examiná-las uma por vez ajuda a estabelecer padrões explícitos. <br><br><h3>  Implementação de baixo para cima </h3><br>  Depois de realizar essa análise, obtivemos a ordem de processamento: <br><br><ul><li>  Vá da parte superior da imagem para a parte inferior. <br></li><li>  Cada linha pode atuar em qualquer ordem.  A escolha natural é ir da esquerda para a direita. </li></ul><br>  Como cada linha depende apenas da anterior, é necessário salvar apenas duas linhas de dados: uma para a linha anterior e outra para a linha atual.  Movendo da esquerda para a direita, podemos até descartar elementos individuais da linha anterior à medida que são usados.  No entanto, isso complica o algoritmo, pois ele precisa descobrir quais partes da linha anterior podem ser descartadas. <br><br>  No código Python a seguir, a entrada é uma lista de linhas, em que cada linha contém uma lista de números que representam as energias de pixels individuais nessa linha.  A entrada é chamada <code>pixel_energies</code> e <code>pixel_energies[y][x]</code> representa a energia do pixel em coordenadas <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-19"> (x, y) </script>  . <br><br>  Vamos começar calculando a energia das costuras da linha superior, simplesmente copiando as energias individuais dos pixels na linha superior: <br><br><pre> <code class="python hljs">previous_seam_energies_row = list(pixel_energies[<span class="hljs-number"><span class="hljs-number">0</span></span>])</code> </pre> <br>  Em seguida, percorremos as linhas de entrada restantes, calculando as energias da costura para cada linha.  A parte mais "difícil" é determinar a quais elementos da linha anterior se referir, já que não há pixels à esquerda da borda esquerda ou à direita da borda direita. <br><br>  A cada iteração, uma nova lista de energias de costura para a linha atual é criada.  No final da iteração, substituímos os dados da linha anterior pelos dados da linha atual para a próxima iteração.  É assim que descartamos a linha anterior: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Skip the first row in the following loop. for y in range(1, len(pixel_energies)): pixel_energies_row = pixel_energies[y] seam_energies_row = [] for x, pixel_energy in enumerate(pixel_energies_row): # Determine the range of x values to iterate over in the previous # row. The range depends on if the current pixel is in the middle of # the image, or on one of the edges. x_left = max(x - 1, 0) x_right = min(x + 1, len(pixel_energies_row) - 1) x_range = range(x_left, x_right + 1) min_seam_energy = pixel_energy + \ min(previous_seam_energies_row[x_i] for x_i in x_range) seam_energies_row.append(min_seam_energy) previous_seam_energies_row = seam_energies_row</span></span></code> </pre> <br>  Como resultado, <code>previous_seam_energies_row</code> contém a energia da costura para a linha de fundo.  Encontramos o valor mínimo nesta lista - e esta é a resposta! <br><br><pre> <code class="python hljs">min(seam_energy <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> seam_energy <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> previous_seam_energies_row)</code> </pre> <br>  Você pode testar essa implementação envolvendo o código em uma função e, em seguida, chamando-o com a matriz bidimensional criada.  A entrada a seguir foi escolhida para que a abordagem gananciosa falhe, com uma costura óbvia com a menor energia: <br><br><pre> <code class="python hljs">ENERGIES = [ [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], ] print(min_seam_energy(ENERGIES))</code> </pre> <br><h3>  Complexidade espacial e temporal </h3><br>  Cada pixel na imagem original corresponde a uma subtarefa.  Para cada uma das subtarefas, não há mais de três dependências, portanto, resolver cada uma delas envolve uma quantidade constante de trabalho.  A última linha é realizada duas vezes.  Então, para imagem ampla <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-20"> W </script>  e alto <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-21"> H </script>  a complexidade de tempo dos pixels é <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mo>&amp;#xD7;</mo><mi>A</mi><mo>+</mo><mi>L</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.172ex" height="2.66ex" viewBox="0 -832 6101.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-D7" x="2056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-41" x="3057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="4030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4C" x="5030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="5712" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo>×</mo><mi>A</mi><mo>+</mo><mi>L</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-22"> O (L × A + L) </script>  . <br><br>  A cada momento, temos duas listas: uma para a linha anterior e outra para a atual.  No primeiro <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-23"> W </script>  elementos eo segundo aumenta gradualmente para <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-24"> W </script>  .  Assim, a complexidade espacial é igual a <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.18ex" height="2.66ex" viewBox="0 -832 3091.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-32" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="1653" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="2702" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-25"> O (2W) </script>  isso é apenas <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>w</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.247ex" height="2.66ex" viewBox="0 -832 2259 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-77" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="1869" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-26"> O (w) </script>  . <br><br>  Observe que, se realmente descartássemos os elementos de dados da linha anterior, reduziríamos a lista de elementos da linha anterior na mesma velocidade que a lista da linha atual aumenta.  Assim, a complexidade espacial permanecerá <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>w</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.247ex" height="2.66ex" viewBox="0 -832 2259 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-77" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="1869" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-27"> O (w) </script>  .  Embora a largura possa variar, isso geralmente não é tão importante. <br><br><h1>  Ponteiros de retrocesso de baixa energia </h1><br>  Então, descobrimos o significado da costura de baixa energia, mas o que fazer com essa informação?  Afinal, de fato, não estamos preocupados com a importância da energia, mas com a própria costura!  O problema é que não há como o pixel final retornar ao restante da costura. <br><br>  Isso é o que eu perdi nos artigos anteriores, mas o mesmo se aplica a muitos problemas de programação dinâmica.  Por exemplo, se você se lembra da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tarefa de assaltante de casa</a> , encontramos o valor máximo para a quantidade de assaltos, mas não quais casas específicas precisam ser roubadas para obter essa quantia. <br><br><h3>  Representação de ponteiros de volta </h3><br>  Resposta geral: armazene os <i>ponteiros de volta</i> .  Na tarefa de cortar costuras, precisamos não apenas do valor da energia da costura em cada pixel.  Você também precisa saber qual dos pixels da linha anterior levou a essa energia.  Armazenando essas informações, podemos seguir os ponteiros reversos até a linha superior, obtendo as coordenadas de todos os pixels que compõem a junta com menos energia. <br><br>  Primeiro, crie uma classe para armazenar energia e indicadores de retorno.  A energia será usada para calcular subtarefas.  Como o ponteiro para trás determina qual pixel na linha anterior forneceu a energia atual, podemos imaginá-lo simplesmente como a coordenada x. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SeamEnergyWithBackPointer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, energy, x_coordinate_in_previous_row=None)</span></span></span><span class="hljs-function">:</span></span> self.energy = energy self.x_coordinate_in_previous_row = x_coordinate_in_previous_row</code> </pre> <br>  O resultado do cálculo para cada subtarefa não será apenas um número, mas uma instância dessa classe. <br><br><h3>  Armazenamento de ponteiro para trás </h3><br>  No final, você precisa voltar ao longo de toda a altura da imagem, seguindo os sinais reversos para restaurar a costura com menos energia.  Infelizmente, isso significa que você precisa armazenar ponteiros para todos os pixels da imagem, não apenas para a linha anterior. <br><br>  Para isso, simplesmente salvamos o resultado completo de todas as subtarefas, embora seja tecnicamente possível abandonar as energias numéricas da costura das linhas anteriores.  Os resultados são armazenados em uma matriz bidimensional, com a mesma aparência da matriz de entrada. <br><br>  Vamos começar com a primeira linha, que contém apenas energias de pixels individuais.  Como não há linha anterior, todos os ponteiros de trás estão ausentes, mas, por consistência, ainda armazenaremos instâncias de <code>SeamEnergyWithBackPointers</code> : <br><br><pre> <code class="python hljs">seam_energies = [] <span class="hljs-comment"><span class="hljs-comment"># Initialize the top row of seam energies by copying over the top row of # the pixel energies. There are no back pointers in the top row. seam_energies.append([ SeamEnergyWithBackPointer(pixel_energy) for pixel_energy in pixel_energies[0] ])</span></span></code> </pre> <br>  O loop principal funciona basicamente da mesma forma que a implementação anterior, com as seguintes diferenças: <br><br><ul><li>  Os dados da linha anterior contêm instâncias de <code>SeamEnergyWithBackPointer</code> ; portanto, ao calcular o valor da taxa de recorrência, você deve procurar a energia da costura dentro desses objetos. <br></li><li>  Salvando dados para o pixel atual, você precisa criar uma nova instância do <code>SeamEnergyWithBackPointer</code> .  Aqui, armazenaremos a energia da costura para o pixel atual, bem como a coordenada x da linha anterior, usada para calcular a energia da costura atual. <br></li><li>  No final de cada linha, em vez de descartar os dados da linha anterior, simplesmente adicionamos os dados da linha atual a <code>seam_energies</code> . </li></ul><br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Skip the first row in the following loop. for y in range(1, len(pixel_energies)): pixel_energies_row = pixel_energies[y] seam_energies_row = [] for x, pixel_energy in enumerate(pixel_energies_row): # Determine the range of x values to iterate over in the previous # row. The range depends on if the current pixel is in the middle of # the image, or on one of the edges. x_left = max(x - 1, 0) x_right = min(x + 1, len(pixel_energies_row) - 1) x_range = range(x_left, x_right + 1) min_parent_x = min( x_range, key=lambda x_i: seam_energies[y - 1][x_i].energy ) min_seam_energy = SeamEnergyWithBackPointer( pixel_energy + seam_energies[y - 1][min_parent_x].energy, min_parent_x ) seam_energies_row.append(min_seam_energy) seam_energies.append(seam_energies_row)</span></span></code> </pre> <br><h3>  Siga as indicações </h3><br>  Agora toda a tabela de subtarefas está preenchida e podemos restaurar a costura com menos energia.  Começamos procurando a coordenada x na linha inferior, que corresponde à junta com menos energia: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Find the x coordinate with minimal seam energy in the bottom row. min_seam_end_x = min( range(len(seam_energies[-1])), key=lambda x: seam_energies[-1][x].energy )</span></span></code> </pre> <br>  Agora vá da parte inferior da imagem para o topo, alterando <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-28"> y </script>  de <code>len(seam_energies) - 1</code> a zero.  Em cada iteração, adicione o par atual <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-29"> (x, y) </script>  para a lista que representa nossa costura e defina o valor <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-30"> x </script>  para o objeto que <code>SeamEnergyWithBackPointer</code> aponta na linha atual. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Follow the back pointers to form a list of coordinates that form the # lowest-energy seam. seam = [] seam_point_x = min_seam_end_x for y in range(len(seam_energies) - 1, -1, -1): seam.append((seam_point_x, y)) seam_point_x = \ seam_energies[y][seam_point_x].x_coordinate_in_previous_row seam.reverse()</span></span></code> </pre> <br>  Para que a costura seja construída para cima, a lista pode ser lida na ordem inversa, se você precisar de coordenadas de cima para baixo. <br><br><h3>  Complexidade espacial e temporal </h3><br>  A complexidade do tempo é semelhante à anterior, porque ainda precisamos processar cada pixel uma vez.  Depois de olhar para a última linha e encontrar a articulação com menos energia, subimos toda a altura da imagem para restaurar a articulação.  Então, para a imagem <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.339ex" height="2.057ex" viewBox="0 -780.1 3159.9 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-D7" x="1270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-48" x="2271" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi><mo>×</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-31"> W × H </script>  complexidade de tempo é igual <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mo>&amp;#xD7;</mo><mi>A</mi><mo>+</mo><mi>L</mi><mo>+</mo><mi>A</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.756ex" height="2.66ex" viewBox="0 -832 8075.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-D7" x="2056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-41" x="3057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="4030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4C" x="5030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2B" x="5934" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-41" x="6935" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="7685" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo>×</mo><mi>A</mi><mo>+</mo><mi>L</mi><mo>+</mo><mi>A</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32"> O (L × A + L + A) </script>  . <br><br>  Quanto ao volume, ainda mantemos uma quantidade constante de dados para cada subtarefa, mas agora não descartamos nenhum dado.  Então usamos volume <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mo>&amp;#xD7;</mo><mi>A</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.749ex" height="2.66ex" viewBox="0 -832 4197.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-4C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-D7" x="2056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-41" x="3057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="3807" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo>×</mo><mi>A</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-33"> O (L × A) </script>  . <br><br><h1>  Remoção de costura de baixa energia </h1><br>  Assim que a junção vertical com a menor energia for encontrada, podemos simplesmente copiar os pixels da imagem original para uma nova.  Cada linha da nova imagem contém todos os pixels da linha correspondente da imagem original, com exceção do pixel da costura com a menor energia.  Como excluímos um pixel em cada linha, a partir da imagem <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.339ex" height="2.057ex" viewBox="0 -780.1 3159.9 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-D7" x="1270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-48" x="2271" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi><mo>×</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-34"> W × H </script>  então temos a imagem <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.151ex" height="2.66ex" viewBox="0 -832 5662.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-57" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-2212" x="1660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-31" x="2660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-29" x="3161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMAIN-D7" x="3773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhhhCKoqiVHZV0p0mbUv6dVD7khLTQ#MJMATHI-48" x="4773" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>W</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-35"> (W - 1) × H </script>  . <br><br>  Podemos repetir esse processo recontando a função de energia na nova imagem e encontrando a costura de menor energia nela.  Parece tentador encontrar mais de uma costura de baixa energia na imagem original e excluí-las todas de uma vez.  O problema é que as duas costuras podem se cruzar.  Quando o primeiro é excluído, o segundo se torna inválido porque um ou mais pixels estão ausentes. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/B9HPREBePI4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><font color="gray">Animação do processo de remoção de costura.</font></i>  <i><font color="gray">Melhor assistir em tela cheia para ter uma visão mais clara das costuras</font></i> <br><br>  Cada quadro do vídeo é uma imagem em cada iteração com visualização sobreposta da costura com o mínimo de energia. <br><br><h1>  Outro exemplo </h1><br>  O artigo teve muitas explicações detalhadas, então vamos terminar com uma série de lindas fotos!  A foto a seguir mostra uma formação rochosa no Parque Nacional Arches: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ee/947/449/7ee947449ba6b1204b6a3c17b844658b.jpg"><br>  <i><font color="gray">Formação rochosa com um buraco no Parque Nacional Arches.</font></i>  <i><font color="gray">Foto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mike Goad</a> no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flickr</a></font></i> <br><br>  Função de energia para esta imagem: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9b2/aa4/e8f/9b2aa4e8f4f4c736276a1b0c50ee949b.jpg"><br>  <i><font color="gray">A energia de cada pixel na foto: quanto mais leve, maior é.</font></i>  <i><font color="gray">Preste atenção à alta energia ao redor da borda do buraco.</font></i> <br><br>  Como resultado do cálculo, é obtida uma costura com a menor energia.  Observe que ele passa pela rocha à direita, entrando diretamente na formação rochosa, onde a parte iluminada no topo da rocha corresponde à cor do céu.  Talvez você deva escolher uma função de energia melhor! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3b/90a/943/a3b90a94356a10044acb45950af7d8de.jpg"><br>  <i><font color="gray">A costura de menor energia encontrada na imagem é mostrada com uma linha vermelha com cinco pixels de largura para visibilidade, embora, na verdade, a costura tenha apenas um pixel de largura.</font></i> <br><br>  Finalmente, a imagem do arco após o redimensionamento: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/833/166/796/8331667968e36e0bfc80d2d214772379.jpg"><br>  <i><font color="gray">Arco após compressão em 1024 pixels</font></i> <br><br>  O resultado definitivamente não é perfeito: muitas bordas da montanha a partir da imagem original estão distorcidas.  Uma das melhorias pode ser a implementação de uma das outras funções de energia listadas no artigo científico. <br><br><hr><br>  Embora a programação dinâmica seja geralmente discutida em teoria, é um método prático útil para resolver problemas complexos.  Neste artigo, examinamos uma das aplicações da programação dinâmica: redimensionar imagens para caber no conteúdo cortando costuras. <br><br>  Aplicamos os mesmos princípios de dividir uma tarefa em subtarefas menores, analisando as dependências entre essas subtarefas e resolvendo as subtarefas em uma ordem que minimiza a complexidade espacial e temporal do algoritmo.  Além disso, estudamos o uso de ponteiros reversos para não apenas encontrar o valor da energia para a costura ideal, mas também para determinar as coordenadas de cada pixel que compõe esse valor.  Em seguida, aplicamos essas partes a um problema real, que requer algum pré e pós-processamento para o uso realmente eficaz do algoritmo de programação dinâmica. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt458110/">https://habr.com/ru/post/pt458110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt458100/index.html">Python no Visual Studio Code - versão de junho de 2019</a></li>
<li><a href="../pt458102/index.html">Fluxo de trabalho eficaz de desenvolvimento da Web: Confluência, Airtable e muito mais</a></li>
<li><a href="../pt458104/index.html">RDMA dentro do data center na implementação da Huawei</a></li>
<li><a href="../pt458106/index.html">Mergulhe no Jetpack Compose</a></li>
<li><a href="../pt458108/index.html">Redirecionamentos: 301, 302, 307 | Guia de instruções 301</a></li>
<li><a href="../pt458112/index.html">Sony Xperia 10 avaliação</a></li>
<li><a href="../pt458114/index.html">Construindo uma rede legal global para código aberto</a></li>
<li><a href="../pt458116/index.html">SwiftUI e assinaturas renováveis ​​automaticamente</a></li>
<li><a href="../pt458118/index.html">Guia do React Native para desenvolvedores Android iniciantes (com aplicativo de exemplo)</a></li>
<li><a href="../pt458120/index.html">Habr Weekly # 7 / rede Neural despeja pessoas, Airbnb de luxo, no exame terão permissão para pesquisar no Google, no Google Play muitas falsificações</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>