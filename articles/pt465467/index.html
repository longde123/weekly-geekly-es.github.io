<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèø üö£üèæ üèÇüèæ Toda a verdade sobre o RTOS. Artigo 32. Migra√ß√£o do Nucleus SE: recursos e compatibilidade n√£o realizados üé© üó°Ô∏è ü§úüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O principal requisito para o desenvolvimento do Nucleus SE era um alto grau de compatibilidade com o principal produto Mentor RTOS - Nucleus RTOS. O N...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Toda a verdade sobre o RTOS. Artigo 32. Migra√ß√£o do Nucleus SE: recursos e compatibilidade n√£o realizados</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465467/"> O principal requisito para o desenvolvimento do Nucleus SE era um alto grau de compatibilidade com o principal produto Mentor RTOS - Nucleus RTOS.  O Nucleus SE suporta uma certa parte da funcionalidade do Nucleus RTOS, discutida v√°rias vezes em artigos anteriores, mas neste artigo tentarei coletar todas as principais diferen√ßas em um √∫nico local.  Este artigo foi elaborado como uma refer√™ncia r√°pida para todos que mudarem de um n√∫cleo para outro ou est√£o no processo de escolher um kernel para um projeto espec√≠fico. <br><br><img src="https://habrastorage.org/webt/ze/ou/1f/zeou1fuphtq9klkkoewzs-t9i0q.jpeg"><br><br>  Al√©m da funcionalidade limitada ou simplificada, em compara√ß√£o com o Nucleus RTOS, o Nucleus SE tamb√©m foi projetado com √™nfase na maximiza√ß√£o da utiliza√ß√£o da mem√≥ria com amplas op√ß√µes de personaliza√ß√£o.  Uma parte importante dessa abordagem √© a escalabilidade.  Muitos recursos da funcionalidade do kernel podem ser ativados ou desativados conforme necess√°rio.  Obviamente, desabilitar a funcionalidade em uma implementa√ß√£o espec√≠fica aumenta sua incompatibilidade com o Nucleus RTOS. <br><br>  No Nucleus RTOS, um sistema pode ser criado com um n√∫mero indefinido de objetos do kernel, a √∫nica limita√ß√£o aqui √© a quantidade de recursos dispon√≠veis (ou seja, mem√≥ria).  O n√∫cleo SE tem um limite de dezesseis objetos de cada tipo;  o sistema pode ter de uma a dezesseis tarefas e de zero a dezesseis objetos de cada tipo (caixas de correio, filas etc.).  Apesar de esse limite poder ser aumentado, ser√° necess√°rio um esfor√ßo consider√°vel, pois o Nucleus SE faz amplo uso da capacidade de armazenar o √≠ndice de um objeto em uma mordidela (quatro bits).  Al√©m disso, com mais de dezesseis tarefas, √© prov√°vel que o Agendador de prioridades se torne muito ineficiente.  Um aplicativo cuja funcionalidade sofre seriamente com essas limita√ß√µes n√£o √© adequado para o Nucleus SE; nesse caso, o Nucleus RTOS √© uma op√ß√£o muito mais adequada. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Artigos anteriores da s√©rie:</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 31.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Diagn√≥sticos e verifica√ß√£o de erros RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 30.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Procedimentos de inicializa√ß√£o e inicializa√ß√£o do N√∫cleo SE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 29.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Interrup√ß√µes no N√∫cleo SE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 28.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Temporizadores de software</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 27</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hora do sistema</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 26.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Canais: servi√ßos auxiliares e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 25.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Canais de Dados: Introdu√ß√£o e Servi√ßos B√°sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 24.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filas: servi√ßos auxiliares e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 23.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filas: introdu√ß√£o e servi√ßos b√°sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 22.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Caixas de correio: servi√ßos auxiliares e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 21.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Caixas de correio: Introdu√ß√£o e servi√ßos b√°sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 20.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sem√°foros: Servi√ßos Auxiliares e Estruturas de Dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 19.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sem√°foros: introdu√ß√£o e servi√ßos b√°sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 18</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Grupos de Sinalizadores de Eventos: Servi√ßos Auxiliares e Estruturas de Dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 17.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Grupos de Sinalizadores de Eventos: Introdu√ß√£o e Servi√ßos B√°sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 16.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Signals</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parti√ß√µes de mem√≥ria: servi√ßos e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Se√ß√µes de mem√≥ria: introdu√ß√£o e servi√ßos b√°sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Estruturas de dados da tarefa e chamadas de API n√£o suportadas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Servi√ßos para trabalhar com tarefas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefas: configura√ß√£o e introdu√ß√£o √† API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Agendador: recursos avan√ßados e preserva√ß√£o de contexto</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Agendador: implementa√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">N√∫cleo SE: Projeto Interno e Implanta√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 7</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">N√∫cleo SE: Introdu√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Outros servi√ßos RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Intera√ß√£o e sincroniza√ß√£o de tarefas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefas, altern√¢ncia de contexto e interrup√ß√µes</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 3</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefas e planejamento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RTOS: estrutura e modo em tempo real</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RTOS: introdu√ß√£o.</a> <br></div></div><br><h2>  Planejador </h2><br>  Como todos os n√∫cleos modernos em tempo real, o Nucleus RTOS possui um agendador muito flex√≠vel que fornece v√°rios n√≠veis de prioridade (com um n√∫mero indeterminado de tarefas em cada n√≠vel de prioridade), al√©m da capacidade de selecionar o agendador Round Robin e Time Slice.  O Nucleus SE √© muito mais simples e oferece quatro agendadores que devem ser selecionados no tempo de compila√ß√£o: Executar at√© a conclus√£o, Round Robin, Time Slice e Priority.  √â imposs√≠vel combinar agendadores diferentes (ou seja, n√£o h√° agendador composto).  Por exemplo, voc√™ n√£o pode selecionar uma combina√ß√£o de agendadores de Time Slice e Priority.  Al√©m disso, o planejador de prioridade permite atribuir apenas uma tarefa a cada n√≠vel de prioridade, ou seja, existem tantos n√≠veis de prioridade quanto tarefas.  A prioridade da tarefa √© definida durante a compila√ß√£o e n√£o muda mais (como o intervalo de tempo, se o planejador Time Slice estiver selecionado). <br><br><h2>  Chamadas de API </h2><br>  Interface de programa√ß√£o de aplicativos (API) - a "face" vis√≠vel do sistema operacional.  N√£o √© de surpreender que seja aqui que as diferen√ßas entre o Nucleus RTOS e o Nucleus SE sejam mais √≥bvias. <br><br>  A API Nucleus SE √© diferente da API Nucleus RTOS.  No entanto, a API Nucleus SE foi cuidadosamente projetada para que possa ser transferida para o fragmento da API Nucleus RTOS.  Os titulares do Nucleus RTOS licenciado podem obter um "shell" (um arquivo de cabe√ßalho contendo <b>#define</b> macros) que executar√° a transfer√™ncia quase diretamente. <br><br>  Pelo fato de a API Nucleus SE poder ser chamada de "subconjunto" da API Nucleus RTOS, segue-se que algumas chamadas de API est√£o ausentes.  Isso √© verdade e √© um resultado inevit√°vel dos crit√©rios de desenvolvimento do Nucleus SE.  Algumas chamadas de API simplesmente n√£o fazem sentido, pois est√£o associadas a funcionalidades inexistentes; outras foram exclu√≠das para simplificar a implementa√ß√£o de alguns objetos do kernel.  Tudo isso √© descrito em detalhes nas se√ß√µes a seguir deste artigo. <br><br><h3>  Fun√ß√µes comuns da API </h3><br>  O Nucleus RTOS possui fun√ß√µes de API comuns a v√°rios tipos diferentes de objetos do kernel, ou mesmo a todos os tipos de objetos.  Alguns deles tamb√©m foram implementados no Nucleus SE, um bom exemplo dessa fun√ß√£o √© redefinido.  Outras fun√ß√µes n√£o s√£o aplic√°veis ‚Äã‚Äã√† implementa√ß√£o de objetos do kernel no Nucleus SE. <br><br>  <b><i>Criar e excluir</i></b> <br><br>  No Nucleus RTOS, todos os objetos do kernel s√£o din√¢micos; eles s√£o criados e exclu√≠dos conforme necess√°rio.  Portanto, existem chamadas de API para isso.  No Nucleus SE, todos os objetos s√£o est√°ticos (eles s√£o criados durante a montagem), portanto, essas chamadas de API n√£o s√£o necess√°rias. <br><br>  <b><i>Retornando ponteiros para objetos</i></b> <br><br>  O identificador principal (descritor) dos objetos do kernel no Nucleus RTOS √© um ponteiro para o bloco de controle do objeto, que √© atribu√≠do quando o objeto √© criado.  Portanto, h√° tamb√©m um conjunto de chamadas de API que retornam uma lista de ponteiros para objetos de cada tipo.  Como o Nucleus SE usa um √≠ndice simples para identificar objetos do kernel, essas chamadas n√£o s√£o necess√°rias.  Um programa pode pesquisar o kernel para descobrir quantas inst√¢ncias de objetos de um tipo espec√≠fico est√£o configuradas (usando uma chamada como <b>NUSE_Mailbox_Count ()</b> );  se esse valor for <b>n</b> , os √≠ndices de objetos desse tipo ter√£o valores de zero a <b>n-1</b> . <br><br>  <b><i>Transmiss√£o de dados</i></b> <br><br>  Para alguns tipos de objetos do kernel do Nucleus RTOS (como caixas de correio, filas e pipes), uma sobrecarga de API √© fornecida para converter os dados.  Isso permite que voc√™ envie dados para todas as tarefas que esperam dados do objeto.  Essa possibilidade foi exclu√≠da do Nucleus SE para simplifica√ß√£o, pois o acesso aos dados de tais objetos √© sempre realizado no contexto de uma tarefa espec√≠fica, que libera o objeto.  Portanto, para implementar a convers√£o, seria necess√°rio um mecanismo de sinaliza√ß√£o adicional. <br><br><h3>  Objetos de API de recursos exclusivos </h3><br>  Muitos objetos do kernel possuem chamadas de API que s√£o exclusivas para um tipo espec√≠fico de objeto e diferem no Nucleus RTOS e no Nucleus SE. <br><br>  <b><i>As tarefas</i></b> <br><br>  Como o Nucleus RTOS Scheduler √© significativamente mais complexo que o Nucleus SE, algumas fun√ß√µes da API n√£o s√£o necess√°rias: <br><br><ul><li>  Alterar a posi√ß√£o de uma interrup√ß√£o de tarefa - n√£o suportada no Nucleus SE. </li><li>  Alterar prioridade da tarefa - No Nucleus SE, a prioridade da tarefa √© atribu√≠da durante a configura√ß√£o e n√£o pode ser alterada. </li><li>  Alterando o intervalo de tempo da tarefa - no Nucleus SE, o valor do intervalo de tempo √© comum a todas as tarefas e √© definido durante a configura√ß√£o. </li><li>  Conclus√£o da tarefa - O Nucleus SE n√£o suporta o estado da tarefa "conclu√≠da". </li></ul><br>  <b><i>Mem√≥ria din√¢mica</i></b> <br><br>  Como tudo √© criado estaticamente no Nucleus SE, a mem√≥ria din√¢mica n√£o √© suportada (e n√£o √© necess√°ria).  Portanto, as fun√ß√µes de API associadas tamb√©m s√£o desnecess√°rias. <br><br>  <b><i>Signals</i></b> <br><br>  O n√∫cleo RTOS suporta manipuladores de sinal, programas que s√£o executados (como manipuladores de interrup√ß√£o) quando os sinais da tarefa s√£o alterados.  Esse recurso foi exclu√≠do do Nucleus SE; portanto, chamadas de API para gerenciar os sinais e criar um manipulador de sinais n√£o s√£o necess√°rias. <br><br>  <b><i>Interrup√ß√µes</i></b> <br><br>  O Nucleus SE usa a abordagem de interrup√ß√£o sem interrup√ß√µes, simplesmente fornecendo a capacidade de fazer algumas chamadas de API a partir do manipulador de interrup√ß√µes.  Portanto, algumas chamadas da API do Nucleus RTOS que especificam como o kernel deve lidar com interrup√ß√µes n√£o s√£o suportadas. <br><br>  <b><i>Diagn√≥stico</i></b> <br><br>  O Nucleus SE possui servi√ßos de diagn√≥stico muito modestos, seguindo seu estilo de desenvolvimento "restrito", limitando-se √† verifica√ß√£o (opcional) de par√¢metros e √† sa√≠da do c√≥digo da vers√£o do produto.  Portanto, n√£o h√° suporte para chamadas √† API do Nucleus RTOS relacionadas ao log do hist√≥rico e √† confirma√ß√£o de erros. <br><br>  <b><i>Drivers</i></b> <br><br>  O Nucleus RTOS possui uma estrutura formal de driver bem definida e v√°rias fun√ß√µes de API relacionadas ao gerenciamento de drivers.  O n√∫cleo SE n√£o possui essa estrutura; portanto, as chamadas de API correspondentes n√£o s√£o necess√°rias. <br><br><h2>  Funcionalidade de chamada da API </h2><br>  Alguns aspectos da funcionalidade do Nucleus SE, implementados de forma simplificada, levam a diferen√ßas em rela√ß√£o ao Nucleus RTOS.  Alguns deles afetam como as chamadas de API s√£o usadas e os servi√ßos dispon√≠veis. <br><br><h3>  Timeouts </h3><br>  Ao usar o Nucleus RTOS, geralmente h√° situa√ß√µes em que uma chamada de API pode pausar uma tarefa aguardando para acessar um recurso: a tarefa est√° bloqueada.  Essa suspens√£o de uma tarefa pode estar impl√≠cita (ou seja, at√© que o recurso fique dispon√≠vel) ou um valor de tempo limite pode ser especificado.  O N√∫cleo SE fornece o bloqueio por chamadas da API como uma op√ß√£o, no entanto, somente a suspens√£o impl√≠cita pode ser usada (ou seja, uma chamada pode usar apenas <b>NUSE_SUSPEND</b> ou <b>NUSE_NO_SUSPEND</b> , e n√£o um valor de tempo limite).  Esse recurso √© bastante simples de adicionar ao Nucleus SE. <br><br><h3>  Procedimento de suspens√£o </h3><br>  Quando v√°rios tipos de objetos s√£o criados no Nucleus RTOS, uma ordem de suspens√£o pode ser atribu√≠da.  Essa √© uma sequ√™ncia na qual v√°rias tarefas bloqueadas ser√£o retomadas √† medida que os recursos estiverem dispon√≠veis.  Duas op√ß√µes est√£o dispon√≠veis: FIFO, primeiro a entrar, primeiro a sair (primeiro a entrar, primeiro a sair), em que as tarefas s√£o retomadas na mesma ordem em que s√£o bloqueadas;  ou por prioridade, na qual a tarefa com a prioridade mais alta sempre recome√ßa primeiro.  O Nucleus SE n√£o oferece essa op√ß√£o.  Implementa apenas a ordem de prioridade.  De fato, √© mais correto dizer a ordem pelo √≠ndice de tarefas, pois a ordem de suspens√£o pode ser aplicada n√£o apenas ao usar o planejador Priority, mas tamb√©m ao usar os planejadores Round Robin e Time Slice. <br><br><h3>  Funcionalidade de recurso exclusivo </h3><br>  Em alguns casos, foram necess√°rias altera√ß√µes funcionais relacionadas a certos tipos de objetos. <br><br>  <b><i>Manipuladores de sinal</i></b> <br>  Como mencionado acima, a implementa√ß√£o do sinal no Nucleus SE n√£o suporta procedimentos de processamento de sinal. <br><br>  <b><i>Configura√ß√µes do timer do aplicativo</i></b> <br>  O temporizador tem uma dura√ß√£o inicial / dura√ß√£o inicial de opera√ß√£o e uma dura√ß√£o de reinicializa√ß√£o e, opcionalmente, pode executar uma fun√ß√£o definida pelo usu√°rio na conclus√£o.  Essa funcionalidade √© suportada no Nucleus RTOS e no Nucleus SE.  No entanto, o Nucleus SE, diferentemente do Nucleus RTOS, n√£o permite alterar os par√¢metros descritos acima ao chamar a fun√ß√£o API para redefinir.  Al√©m disso, no Nucleus SE, todo o suporte para procedimentos de conclus√£o do timer √© opcional. <br><br>  <b><i>Sinalizadores de evento</i></b> <br>  O n√∫cleo RTOS tem uma op√ß√£o para "absorver" sinalizadores de eventos.  Isso significa que os sinalizadores que correspondem aos crit√©rios definidos pela tarefa s√£o redefinidos.  Essa funcionalidade n√£o √© suportada no Nucleus SE, pois a capacidade de pesquisar os crit√©rios de v√°rias tarefas aumenta significativamente a complexidade do sistema. <br><br><h2>  Tamanhos de dados </h2><br>  Dois crit√©rios de desenvolvimento para o Nucleus SE: manter a simplicidade e minimizar o uso da mem√≥ria, levaram a algumas diferen√ßas nos tamanhos dos elementos de dados em compara√ß√£o com o Nucleus RTOS.  Vale ressaltar que o Nucleus RTOS geralmente usa dados <b>n√£o assinados</b> , o que provavelmente √© de 32 bits.  enquanto o Nucleus SE usa tipos de dados simplificados como <b>U32</b> , <b>U16</b> , <b>U8</b> e assim por diante.  ( <i>Nota do tradutor: na minha opini√£o, o autor √© adequado para sistemas de 8 bits. Nos sistemas modernos, os registros ainda s√£o de 32 bits; portanto, cortar a parte antiga consome mem√≥ria para ciclos de c√≥digo e rel√≥gio para sua execu√ß√£o, e os dados s√£o iguais a 32 bits quando armazenados em mem√≥ria, caso contr√°rio, o desempenho do sistema diminuir√°; portanto, essa abordagem n√£o gera um ganho para os sistemas modernos, e uma perda devido √†s instru√ß√µes adicionadas pelo compilador que cortam a parte antiga pode muito bem.</i> ). <br><br><h3>  Caixas de correio </h3><br>  No Nucleus RTOS, uma caixa de correio armazena uma mensagem que consiste em quatro elementos de dados n√£o assinados.  No Nucleus SE, uma caixa de correio armazena um item de dados <b>ADDR</b> .  Na minha opini√£o, as caixas de correio geralmente s√£o usadas para transferir um endere√ßo (indicando dados espec√≠ficos) de uma tarefa para outra. <br><br><h3>  Filas </h3><br>  No Nucleus RTOS, uma fila processa mensagens de um ou mais elementos de dados <b>n√£o assinados</b> .  A fila tamb√©m pode ser configurada para manipular mensagens de tamanho vari√°vel.  No Nucleus SE, uma fila processa mensagens que consistem em um √∫nico item de dados <b>ADDR</b> .  Na minha opini√£o, as filas s√£o usadas de maneira semelhante √†s caixas de correio.  Al√©m disso, no Nucleus RTOS, o tamanho total da fila (ou seja, o n√∫mero total de elementos n√£o assinados que podem ser colocados na fila) √© especificado como um valor n√£o assinado.  No n√∫cleo SE, esse valor √© do tipo <b>U8</b> .  Portanto, uma fila pode conter menos dados. <br><br><h3>  Canais de dados </h3><br>  No Nucleus RTOS, um canal processa mensagens de um ou mais bytes;  O canal tamb√©m pode ser configurado para lidar com mensagens de tamanho vari√°vel.  No Nucleus SE, um canal processa mensagens que consistem em um ou mais elementos de dados do tipo <b>U8</b> .  O tamanho da mensagem √© definido durante a configura√ß√£o de cada canal.  Al√©m disso, no Nucleus RTOS, o tamanho total do canal (ou seja, o n√∫mero total de bytes que podem ser colocados em um canal) √© especificado como um <b>valor n√£o cantado</b> .  No Nucleus SE, esse valor √© do tipo <b>U8</b> e representa o n√∫mero de mensagens (na chamada da API <b>NUSE_Pipe_Information ()</b> ).  Consequentemente, um canal pode conter menos dados. <br><br><h3>  Grupos de Sinalizadores de Eventos </h3><br>  No Nucleus RTOS, um grupo de sinalizadores de eventos cont√©m 32 sinalizadores;  no n√∫cleo SE, seu n√∫mero √© reduzido para oito.  Esse tamanho foi escolhido porque os prov√°veis ‚Äã‚Äãprocessadores Nucleus SE de destino podem processar dados de 8 bits com efici√™ncia.  Ao mesmo tempo, n√£o ser√° dif√≠cil alterar o n√∫mero de sinalizadores nos grupos de eventos processados ‚Äã‚Äãpelo Nucleus SE. <br><br><h3>  Signals </h3><br>  No Nucleus RTOS, cada tarefa possui um conjunto de 32 sinalizadores de sinal.  No Nucleus SE, os sinais s√£o opcionais e cada tarefa possui um conjunto de 8 sinalizadores.  Esse tamanho foi escolhido porque os prov√°veis ‚Äã‚Äãprocessadores Nucleus SE de destino podem processar com efici√™ncia dados de 8 bits.  Ao mesmo tempo, alterar o n√∫mero de sinalizadores nos conjuntos de sinalizadores processados ‚Äã‚Äãpelo Nucleus SE n√£o ser√° dif√≠cil. <br><br><h3>  Se√ß√µes de mem√≥ria </h3><br>  No n√∫cleo RTOS, o n√∫mero e o tamanho das parti√ß√µes <b>n√£o</b> s√£o <b>assinados</b> .  No N√∫cleo SE, o n√∫mero de parti√ß√µes √© um par√¢metro do tipo <b>U8</b> e o tamanho da parti√ß√£o √© <b>U16</b> .  Isso leva a algumas restri√ß√µes de tamanho de parti√ß√£o e pool. <br><br><h3>  Temporizadores </h3><br>  No Nucleus RTOS, os cron√¥metros (cron√¥metros de aplicativo e cron√¥metros de suspens√£o de tarefas) trabalham com valores <b>n√£o assinados</b> .  No n√∫cleo SE, eles s√£o do tipo <b>U16</b> .  Esse tipo foi escolhido porque os prov√°veis ‚Äã‚Äãprocessadores Nucleus SE de destino podem processar dados de 16 bits com efici√™ncia (e oito bits claramente n√£o s√£o suficientes para usar um timer).  Ao mesmo tempo, alterar o tamanho dos temporizadores no Nucleus SE n√£o ser√° dif√≠cil. <br><br>  O artigo a seguir examinar√° como o Nucleus SE pode ser usado em um projeto de software incorporado. <br><br>  <b>Sobre o autor:</b> Colin Walls trabalha na ind√∫stria eletr√¥nica h√° mais de trinta anos, dedicando a maior parte de seu tempo ao firmware.  Ele agora √© engenheiro de firmware na Mentor Embedded (uma divis√£o da Mentor Graphics).  Colin Walls frequentemente fala em confer√™ncias e semin√°rios, autor de v√°rios artigos t√©cnicos e dois livros sobre firmware.  Vive no Reino Unido.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Blog</a> profissional <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de Colin</a> , e-mail: colin_walls@mentor.com. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt465467/">https://habr.com/ru/post/pt465467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt465455/index.html">Trabalhe com incidentes, melhorando a resposta a incidentes e o valor da d√≠vida t√©cnica. Backend United 4 materiais mitap: Okroshka</a></li>
<li><a href="../pt465457/index.html">Sobre a PBR nos dedos</a></li>
<li><a href="../pt465459/index.html">Uma Breve Hist√≥ria da Videoconfer√™ncia: Do In√≠cio ao Uso Comercial Total</a></li>
<li><a href="../pt465461/index.html">Digita√ß√£o est√°tica em um aplicativo React</a></li>
<li><a href="../pt465463/index.html">Bom nunca √© barato. Mas √© gr√°tis</a></li>
<li><a href="../pt465471/index.html">Voc√™ tentou registrar seu site como uma publica√ß√£o de rede em Roskomnadzor?</a></li>
<li><a href="../pt465475/index.html">Mini-entrevista com Oleg Anastasiev: toler√¢ncia a falhas em Apache Cassandra</a></li>
<li><a href="../pt465477/index.html">Como eu ensinei uma cobra a se jogar usando o Q-Network</a></li>
<li><a href="../pt465479/index.html">Lo-fi de pixel no Unity</a></li>
<li><a href="../pt465483/index.html">Antiguidades: Windows 3.1 e vida sem um bot√£o Iniciar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>