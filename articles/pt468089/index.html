<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úåüèº üë∂üèª üë©üèΩ‚Äçüíº Redefini√ß√£o baseada em edi√ß√£o: √© poss√≠vel na produ√ß√£o? „äôÔ∏è üòÄ ü§öüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Meu nome √© Antonina, sou desenvolvedor Oracle da divis√£o de TI do Sportmaster Lab. Trabalho aqui h√° apenas dois anos, mas gra√ßas a uma equipe amig√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Redefini√ß√£o baseada em edi√ß√£o: √© poss√≠vel na produ√ß√£o?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/468089/"> Oi  Meu nome √© Antonina, sou desenvolvedor Oracle da divis√£o de TI do Sportmaster Lab.  Trabalho aqui h√° apenas dois anos, mas gra√ßas a uma equipe amig√°vel, uma equipe unida, um sistema de orienta√ß√£o e treinamento corporativo, a massa muito cr√≠tica se acumulou quando voc√™ deseja n√£o apenas consumir conhecimento, mas tamb√©m compartilhar sua experi√™ncia. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/1v/vr/yw/1vvrywedjwzo3_hztztisvlbycu.png" width="900"></a> <br><br>  Redefini√ß√£o baseada em edi√ß√£o.  Por que tivemos tanta necessidade de estudar essa tecnologia, al√©m disso, o termo ‚Äúalta disponibilidade‚Äù e como a Redefini√ß√£o baseada em edi√ß√£o nos ajuda a que os desenvolvedores da Oracle economizem tempo? <br><br>  O que √© proposto como uma solu√ß√£o pela Oracle?  O que est√° acontecendo no quintal ao aplicar essa tecnologia, que problemas encontramos ... Em geral, existem muitas perguntas.  Vou tentar respond√™-las em dois posts sobre o assunto, e o primeiro deles j√° est√° em discuss√£o. <br><a name="habracut"></a><br>  Cada equipe de desenvolvedores, criando seu pr√≥prio aplicativo, se esfor√ßa para criar o algoritmo mais acess√≠vel, tolerante a falhas e mais confi√°vel.  Por que todos n√≥s lutamos por isso?  Provavelmente n√£o porque somos t√£o bons e queremos lan√ßar um produto legal.  Mais precisamente, n√£o apenas porque somos t√£o bons.  Tamb√©m √© importante para os neg√≥cios.  Apesar de podermos escrever um algoritmo interessante, cobri-lo com testes de unidade, ver que ele √© tolerante a falhas, ainda (os desenvolvedores da Oracle) temos um problema - somos confrontados com a necessidade de atualizar nossos aplicativos.  Por exemplo, nossos colegas no sistema de fidelidade s√£o for√ßados a fazer isso √† noite. <br><br>  Se isso acontecesse rapidamente, os usu√°rios veriam uma imagem: "Por favor, com licen√ßa!", "N√£o fique triste!", "Espere, temos atualiza√ß√µes e trabalho t√©cnico aqui".  Por que isso √© t√£o importante para os neg√≥cios?  Mas √© muito simples - por um longo tempo, os neg√≥cios t√™m colocado em suas perdas n√£o apenas as perdas de alguns bens reais, valores materiais, mas tamb√©m as perdas por tempo de inatividade da infraestrutura.  Por exemplo, de acordo com a revista Forbes, em 13 anos, um minuto de falta de servi√ßos na Amazon custava 66 mil d√≥lares.  Ou seja, em meia hora os caras perderam quase US $ 2 milh√µes. <br><br>  √â claro que, para m√©dias e pequenas empresas, e n√£o para gigantes como a Amaz√¥nia, essas caracter√≠sticas quantitativas ser√£o significativamente menores, mas, no entanto, em termos relativos, essa continua sendo uma caracter√≠stica significativa da avalia√ß√£o. <br><br><img src="https://habrastorage.org/webt/6i/-9/e5/6i-9e5e2g8_zayjsmfkagvvtlkg.png" width="900"><br><br>  Portanto, precisamos garantir a alta disponibilidade de nosso aplicativo.  Quais s√£o alguns dos lugares potencialmente perigosos que os desenvolvedores da Oracle t√™m para essa acessibilidade? <br><br>  Primeiramente, nosso hardware pode falhar.  N√≥s, como desenvolvedores, n√£o somos respons√°veis ‚Äã‚Äãpor isso.  Os administradores de rede devem garantir que o servidor e os objetos estruturais estejam operacionais.  Estamos levando a uma atualiza√ß√£o de software.  Novamente, as atualiza√ß√µes de software agendadas podem ser divididas em duas classes.  Ou estamos mudando algum tipo de infraestrutura, por exemplo, atualizando o sistema operacional no qual o servidor est√° rodando.  Decidimos mudar para a nova vers√£o do Oracle (seria bom se a migr√°ssemos com sucesso :)) ... Ou, a segunda classe, √© com isso que temos a m√°xima rela√ß√£o - √© atualizar os objetos do aplicativo que estamos desenvolvendo com voc√™. <br><br>  Novamente, esta atualiza√ß√£o pode ser dividida em mais duas classes. <br><br>  Ou alteramos algumas caracter√≠sticas f√≠sicas desse objeto (acho que todo desenvolvedor Oracle √†s vezes encontrou o fato de que seu √≠ndice caiu, ele teve que reconstruir o √≠ndice rapidamente).  Ou, digamos, introduzimos novas se√ß√µes em nossas tabelas, ou seja, nenhuma parada ocorrer√°.  E esse lugar muito problem√°tico √© uma mudan√ßa na l√≥gica do aplicativo. <br><br>  Ent√£o, o que a Redefini√ß√£o baseada em edi√ß√£o tem a ver com isso?  E essa tecnologia - √© apenas sobre como atualizar o aplicativo on-line, em tempo real, sem afetar o trabalho dos usu√°rios. <br><br><img src="https://habrastorage.org/webt/vn/qi/lt/vnqilthbzkpbqaxt83yo_eh0kh8.png" width="900"><br><br>  Quais s√£o os requisitos para esta atualiza√ß√£o online?  Devemos fazer isso despercebido pelo usu√°rio, ou seja, tudo deve permanecer em condi√ß√µes de trabalho, em todos os aplicativos.  Desde que tal situa√ß√£o possa ocorrer quando o usu√°rio se sentou, come√ßou a trabalhar e lembrou-se de que teve uma reuni√£o urgente ou que precisava levar o carro ao servi√ßo.  Ele se levantou e acabou por causa de seu local de trabalho.  E nesse momento, de alguma forma, atualizamos nosso aplicativo, a l√≥gica do trabalho mudou, novos usu√°rios j√° se conectaram a n√≥s, os dados come√ßaram a ser processados ‚Äã‚Äãde uma nova maneira.  Portanto, precisamos garantir a troca de dados entre a vers√£o original do aplicativo e a nova vers√£o do aplicativo.  Aqui est√£o dois requisitos apresentados para atualiza√ß√µes online. <br><br><img src="https://habrastorage.org/webt/gt/k8/v2/gtk8v2v47uemgh9pnpddfzribze.png" width="900"><br><br>  O que √© proposto como uma solu√ß√£o?  A partir da vers√£o 11.2 Release Oracle, a tecnologia de redefini√ß√£o baseada em edi√ß√£o √© introduzida e conceitos como edi√ß√£o, objetos edit√°veis, exibi√ß√£o de edi√ß√£o e gatilho entre edi√ß√µes s√£o introduzidos.  N√≥s nos permitimos uma tradu√ß√£o como "versionamento".  Em geral, a tecnologia EBR com alguma extens√£o pode ser chamada de versionamento de objetos DBMS dentro do pr√≥prio DBMS. <br><br>  Ent√£o, o que √© a Edi√ß√£o como uma entidade? <br><br>  Esse √© um tipo de cont√™iner dentro do qual voc√™ pode alterar e definir o c√≥digo.  Dentro de seu pr√≥prio escopo, dentro de sua pr√≥pria vers√£o.  Nesse caso, os dados ser√£o alterados e gravados apenas nas estruturas vis√≠veis na edi√ß√£o atual.  As representa√ß√µes de vers√£o ser√£o respons√°veis ‚Äã‚Äãpor isso e consideraremos o trabalho deles. <br><br><img src="https://habrastorage.org/webt/5q/t4/8u/5qt48ujp3qjrq5o-aqhmdo8pr2i.png" width="900"><br><br>  √â assim que a tecnologia se parece do lado de fora.  Como isso funciona?  Para iniciantes - no n√≠vel do c√≥digo.  Teremos nosso aplicativo original, vers√£o 1, no qual existem alguns algoritmos que processam nossos dados.  Quando entendemos que precisamos atualizar, ao criar uma nova edi√ß√£o, acontece o seguinte: todos os objetos que processam o c√≥digo s√£o herdados na nova edi√ß√£o ... Ao mesmo tempo, nesta sandbox rec√©m-criada, podemos nos divertir como queremos, invisivelmente para o usu√°rio: podemos mudar qual trabalho fun√ß√µes, procedimentos;  mudar o pacote;  podemos at√© nos recusar a usar qualquer objeto. <br><br>  O que vai acontecer?  A vers√£o original permanece inalterada, permanece dispon√≠vel para o usu√°rio e toda a funcionalidade est√° dispon√≠vel.  Na vers√£o que criamos, na nova edi√ß√£o, os objetos que n√£o foram alterados permaneceram inalterados, isto √©, herdados da vers√£o original do aplicativo.  Com o bloco em que tocamos, os objetos s√£o atualizados na nova vers√£o.  E, √© claro, quando voc√™ exclui um objeto, ele n√£o est√° dispon√≠vel para n√≥s na nova vers√£o do nosso aplicativo, mas permanece funcional na vers√£o original.√â assim que funciona simples no n√≠vel do c√≥digo. <br><br><img src="https://habrastorage.org/webt/jf/4e/hn/jf4ehn23kk2ysfbvmfpxss4ipry.png"><br><br>  O que acontece com as estruturas de dados e o que a vis√£o de vers√£o tem a ver com isso? <br><br><img src="https://habrastorage.org/webt/te/6p/ma/te6pma74mzekuype6ngu2hkpjj4.png" width="900"><br><br>  J√° que por estruturas de dados queremos dizer uma tabela e uma vis√£o de vers√£o, isso √©, de fato, um shell (eu me chamei de ‚Äúpesquisa etol√≥gica‚Äù da nossa tabela), que √© uma proje√ß√£o nas colunas originais.  Quando entendemos que precisamos alterar a opera√ß√£o do nosso aplicativo e, digamos, de alguma forma adicionar colunas √† tabela ou at√© mesmo proibir seu uso, criamos uma nova visualiza√ß√£o de vers√£o em nossa nova vers√£o. <br><br><img src="https://habrastorage.org/webt/o-/8v/va/o-8vvax1gwowb-8qe3htrmfktki.png" width="900"><br><br>  Nesse sentido, usaremos apenas o conjunto de colunas que precisamos, que processaremos.  Portanto, na vers√£o original do aplicativo, os dados s√£o gravados no conjunto definido neste escopo.  O novo aplicativo gravar√° no conjunto de colunas definido em seu escopo. <br><br><img src="https://habrastorage.org/webt/nz/r1/d3/nzr1d3eatoy6qf907f-hwnvyoyy.png" width="900"><br><br>  As estruturas s√£o claras, mas o que acontece com os dados?  E como tudo isso est√° interconectado, tivemos dados armazenados nas estruturas originais.  Quando entendemos que temos um certo algoritmo que nos permite converter dados da estrutura original e decompor esses dados em uma nova estrutura, esse algoritmo pode ser colocado nos chamados gatilhos de vers√£o cruzada.  Eles apenas visam estruturas de diferentes vers√µes do aplicativo.  Ou seja, sujeito √† disponibilidade de tal algoritmo, podemos pendur√°-lo em uma tabela.  Nesse caso, os dados ser√£o transformados das estruturas originais para as novas, e os gatilhos de avan√ßo progressivo ser√£o respons√°veis ‚Äã‚Äãpor isso.  Desde que seja necess√°rio garantir a transfer√™ncia de dados para a vers√£o antiga, novamente, com base em algum tipo de algoritmo, os gatilhos reversos ser√£o respons√°veis ‚Äã‚Äãpor isso. <br><br>  O que acontece quando decidimos que nossa estrutura de dados mudou e estamos prontos para trabalhar em modo paralelo, tanto para a vers√£o antiga do aplicativo quanto para a nova vers√£o do aplicativo?  Podemos simplesmente inicializar o preenchimento de novas estruturas com alguma atualiza√ß√£o ociosa.  Depois disso, ambas as vers√µes do aplicativo ficam dispon√≠veis para uso do usu√°rio.  A funcionalidade permanece para usu√°rios antigos da vers√£o antiga do aplicativo; para novos usu√°rios, a funcionalidade ser√° da nova vers√£o do aplicativo. <br><br><img src="https://habrastorage.org/webt/rg/-_/3l/rg-_3l0qpzoklsp1ilqj8ridkoo.png" width="900"><br><br>  Quando percebemos que todos os usu√°rios do aplicativo antigo estavam desconectados, essa vers√£o podia ficar oculta.  Talvez at√© a estrutura de dados tenha sido alterada.  Lembramos que, conosco, a visualiza√ß√£o de vers√£o na vers√£o rec√©m-criada j√° analisar√° apenas o conjunto de colunas 1, 3,4,5.  Bem e, consequentemente, se n√£o precisarmos dessa estrutura, ela poder√° ser exclu√≠da.  Aqui est√° um breve resumo de como funciona. <br><br><img src="https://habrastorage.org/webt/zf/n9/4a/zfn94ady30lnm4c6p9-vtaub_ny.png" width="900"><br><br>  Quais s√£o as restri√ß√µes impostas?  Ou seja, Oracle bem feito, excelente Oracle, excelente Oracle: eles criaram algo bacana.  A primeira limita√ß√£o no momento s√£o objetos do tipo com vers√£o, s√£o objetos PL / SQL, ou seja, procedimentos, pacotes, fun√ß√µes, gatilhos e assim por diante.  Os sin√¥nimos s√£o versionados e as visualiza√ß√µes s√£o versionadas. <br><br>  O que n√£o √© versionado e nunca ser√° versionado s√£o tabelas e √≠ndices, visualiza√ß√µes materializadas.  Ou seja, na primeira vers√£o, apenas alteramos os metadados e podemos armazenar c√≥pias deles tanto quanto voc√™ deseja ... de fato, um n√∫mero limitado de c√≥pias desses metadados, mas mais sobre isso posteriormente.  O segundo diz respeito aos dados do usu√°rio, e sua replica√ß√£o exigiria muito espa√ßo em disco, o que n√£o √© l√≥gico e √© muito caro. <br><br><img src="https://habrastorage.org/webt/tq/lm/b7/tqlmb7lcbjybq_lbuq2ipn0qnpc.png" width="900"><br><br>  A pr√≥xima limita√ß√£o √© que os objetos do esquema ter√£o vers√£o completa, se e somente se pertencerem ao usu√°rio autorizado pela vers√£o.  De fato, esses privil√©gios para o usu√°rio s√£o apenas algum tipo de marca no banco de dados.  Voc√™ pode conceder essas permiss√µes com o comando usual.  Mas chamo sua aten√ß√£o para o fato de que essa a√ß√£o √© irrevers√≠vel.  Portanto, n√£o vamos arrega√ßar imediatamente as mangas, digitar tudo isso no servidor de batalha e primeiro testaremos. <br><br>  A pr√≥xima limita√ß√£o √© que objetos n√£o-versionados n√£o podem depender dos versionados.  Bem, isso √© bastante l√≥gico.  No m√≠nimo, n√£o entenderemos qual edi√ß√£o, qual vers√£o do objeto olhar.  Neste ponto, gostaria de chamar a aten√ß√£o, porque tivemos que competir com esse momento. <br><br>  Pr√≥ximo.  As visualiza√ß√µes com vers√£o pertencem ao propriet√°rio do esquema, propriet√°rio da tabela e somente em cada vers√£o.  Na sua ess√™ncia, uma visualiza√ß√£o com vers√£o √© um inv√≥lucro de tabela; portanto, fica claro que deve ser exclusivo em todas as vers√µes do aplicativo. <br><br>  O que tamb√©m √© importante, o n√∫mero de vers√µes na hierarquia pode ser 2000. Provavelmente, isso se deve ao fato de voc√™ n√£o carregar o dicion√°rio de alguma maneira.  Eu disse inicialmente que os objetos, ao criar uma nova edi√ß√£o, s√£o herdados.  Agora essa hierarquia √© constru√≠da exclusivamente linear - um pai, um descendente.  Talvez haja algum tipo de estrutura em √°rvore, vejo alguns pr√©-requisitos para isso no fato de que voc√™ pode definir o comando de cria√ß√£o de vers√£o como um herdeiro de uma edi√ß√£o espec√≠fica.  Atualmente, essa √© uma hierarquia estritamente linear e o n√∫mero de links nessa cadeia √© 2000. <br><br>  √â claro que, com algumas atualiza√ß√µes freq√ºentes de nosso aplicativo, esse n√∫mero pode ser esgotado ou ultrapassado, mas a partir do 12¬∫ lan√ßamento do Oracle, as edi√ß√µes extremas criadas nessa cadeia podem ser cortadas sob a condi√ß√£o de que n√£o s√£o mais usadas. <br><br><img src="https://habrastorage.org/webt/b5/xf/uq/b5xfuqo5n7ifpdzfkaw8hvqkgxw.png" width="900"><br><br>  Espero que agora voc√™ entenda aproximadamente como isso funciona.  Se voc√™ decidir - ‚ÄúSim, queremos toc√°-lo‚Äù - o que precisa ser feito para mudar para o uso dessa tecnologia? <br><br>  Primeiras coisas primeiro, voc√™ precisa determinar a estrat√©gia de uso.  Sobre o que √© isso?  Entenda com que frequ√™ncia nossas estruturas de tabela s√£o alteradas, se precisamos usar visualiza√ß√µes com vers√£o, especialmente se precisamos de gatilhos entre vers√µes para garantir altera√ß√µes nos dados.  Ou apenas vers√£o nosso c√≥digo PL / SQL.  No nosso caso, quando est√°vamos testando, vimos que ainda havia tabelas alteradas, portanto provavelmente tamb√©m usaremos visualiza√ß√µes com vers√£o. <br><br>  Al√©m disso, naturalmente, o esquema selecionado recebe privil√©gios com vers√£o. <br>  Depois disso, renomeamos a tabela.  Por que isso √© feito?  Apenas para proteger nossos objetos de c√≥digo PL / SQL da modifica√ß√£o de tabelas. <br><br>  Decidimos lan√ßar um s√≠mbolo afiado no final de nossas tabelas, considerando o limite de 30 caracteres.  Depois disso, as visualiza√ß√µes de vers√£o s√£o criadas com o nome da tabela original.  E eles j√° ser√£o usados ‚Äã‚Äãdentro do c√≥digo.  √â importante que na primeira vers√£o para a qual estamos migrando, a visualiza√ß√£o com vers√£o seja um conjunto completo de colunas na tabela de origem, porque os objetos de c√≥digo PL / SQL podem acessar todas essas colunas exatamente da mesma maneira. <br><br>  Depois disso, superamos os gatilhos DML das tabelas para as visualiza√ß√µes com vers√£o (sim, as visualiza√ß√µes com vers√£o nos permitem colocar gatilhos nelas).  Talvez revogemos as concess√µes das tabelas e as apresentemos √†s visualiza√ß√µes rec√©m-criadas ... Em teoria, todos esses pontos s√£o suficientes, basta recompilar o c√≥digo PL / SQL e as visualiza√ß√µes dependentes. <br><br>  Eu-e-e-e-e ... Naturalmente, testes, testes e tantos testes quanto poss√≠vel.  Por que testes?  N√£o poderia ser t√£o simples.  Sobre o que trope√ßamos? <br><br>  √â sobre isso que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meu segundo post</a> ser√° abordado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468089/">https://habr.com/ru/post/pt468089/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468079/index.html">Dimens√µes personalizadas no Google Analytics que nos salvaram mais de uma vez</a></li>
<li><a href="../pt468081/index.html">"Dados an√¥nimos" ou o que est√° planejado no 152-FZ</a></li>
<li><a href="../pt468083/index.html">API Camera2 do Android da chaleira</a></li>
<li><a href="../pt468085/index.html">O livro "Safe DevOps. Opera√ß√£o eficiente do sistema</a></li>
<li><a href="../pt468087/index.html">M√©todo de divis√£o bissecional em testes</a></li>
<li><a href="../pt468091/index.html">O projeto de lei sobre a cria√ß√£o de um √∫nico banco de dados com os dados dos cidad√£os adotados na Duma do Estado em primeira leitura</a></li>
<li><a href="../pt468093/index.html">Nitratos nos produtos: lojas su√≠√ßas vs lojas russas vs casa de ver√£o</a></li>
<li><a href="../pt468097/index.html">Microsoft Edge - XSS gen√©rico</a></li>
<li><a href="../pt468099/index.html">C / C ++ de Python (CFFI, pybind11)</a></li>
<li><a href="../pt468107/index.html">Como criar um modelo com mais precis√£o do que transfermarkt e n√£o prever ou o que afeta o custo das transfer√™ncias acima de tudo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>