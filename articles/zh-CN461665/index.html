<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✏️ 🌂 🙏🏻 Zen2。 以Ryzen 7 3700x为例的AM4平台的演变 🙇🏾 🚴🏽 🧖🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="AMD继续开发其长期运行的平台AM4。 最近，发布了在Zen 2微体系结构上的新一代Ryzen处理器，总的来说，AMD体系结构的开发周期在某些方面开始类似于Intel的滴答作响，但并非一对一。因此，第二代Ryzen在原有的Zen体系结构上更多地是在固定主要门框的基础上的变化。并以稍微更好的制造工艺实...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zen2。 以Ryzen 7 3700x为例的AM4平台的演变</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461665/"><p>  AMD继续开发其长期运行的平台AM4。 最近，发布了在Zen 2微体系结构上的新一代Ryzen处理器，总的来说，AMD体系结构的开发周期在某些方面开始类似于Intel的滴答作响，但并非一对一。因此，第二代Ryzen在原有的Zen体系结构上更多地是在固定主要门框的基础上的变化。并以稍微更好的制造工艺实施，甚至在2xxx芯片架构-Zen +的名称中也得到了体现。 现在，AMD已推出了芯片组架构。 结果证明这是一个直接的发展循环-AMD在2003年率先将北桥组件转移到内核，首先是将内存控制器转移到K8系列处理器中的CPU，最后是Ryzen第1000和第1000系列成为成熟的SoC，因此在2019年，他们再次将北方带入一个单独的晶体中，尽管与核子位于同一衬底上。 </p><br><p> 俄语有足够的理论材料，评论和测试（例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">超频或寻找极限</a> 。Zen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">体系结构评论</a> ）和英语，但是我个人想在测试中比较新鲜的AMD Ryzen 7 3700x和2700x，与过去使用的相似帖子（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">帖子1</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">帖子2</a> ）。 <a name="habracut"></a></p><br><p>  <strong>UPD 2019/08/04</strong> ：注意！ 所有结果和结论均与AGESA ComboAM4 1.0.0.2上的BIOS版本有关。 关于AGESA 1.0.0.3（BIOS 5204）的测试的补充，请参阅本文的结尾。 </p><br><h2> 测试参加者 </h2><br><p> 主板ASUS ROG Strix X470F-Gaming（BIOS 5007，AGESA ComboAM4 1.0.0.2）： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bm/ze/2y/bmze2yuccrzmiykrot3v9e2_hjo.png"></div><br><p>  G.Skill Trident Z DDR4 DIMM 3600MHz PC4-28800 CL17内存： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5z/rx/b_/5zrxb_a_0gim3wb4exrhft1djiy.png"></div><br><p> 冷却系统Deepcool Captain 360EX。 </p><br><p>  <u>配置1</u> ： <br> 处理器：AMD Ryzen 7 2700X <br>  <b>内存</b> ：G.Skill Trident Z DDR4 DIMM 3600MHz PC4-28800 CL17 @ 3400CL16 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zb/6n/8t/zb6n8t1nkbwav6ohsfqzjcmhifu.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rf/cl/-x/rfcl-xras1lx2-nt3nuh3ggkrce.png"></div><br><p>  <u>配置2</u> ： </p><br><p> 处理器：AMD Ryzen 7 3700X <br>  <b>内存</b> ：G.Skill Trident Z DDR4 DIMM 3600MHz PC4-28800 CL17（DOCP Profile） </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/ev/yo/fqevyo0qz_njyvb9qb9bsfbpdpm.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w3/er/ab/w3erabojrhqff43g-_z6vqnwsn8.png"></div><br><p>  <u>配置3</u> ： </p><br><p> 处理器：AMD Ryzen 7 3700X <br>  <b>内存</b> ：G.Skill Trident Z DDR4 DIMM 3600MHz PC4-28800 CL17 @ 16-16-16-32 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zs/il/gc/zsilgcl1bbn8vdopytskuj-xo8q.png"></div><br><p> 在继续测试结果之前，我想指出一些使测试变得困难的问题： </p><br><ol><li><p>  Ryzen 7 3700x的所有测试均在1903 Windows 10的组装下进行。同时，2700x在10月的组装下进行了测试。 并非所有2700x测试都能在1903年以下运行，但是运行的测试表明May Windows更新至少在AMD平台上降低了系统性能，因此与以前的文章所得出的结果不能直接比较。 在重复运行测试的地方，将对此进行明确说明。 </p><br></li><li><p> 坦率地说，Zen 2平台，或者说它是基于旧式芯片组（例如，主板上的X470芯片组）的主板BIOS的支持，坦率地说，当我尝试在所有设置为“自动”的设置上运行Ryzen 7 3700x处理器时，我收到了很多结果很奇怪，即带有带宽低带宽（以下称为内存带宽）和巨大延迟的新CPU带内存的令人作呕的工作： </p><br></li></ol><br><p> <a href=""><img src="https://habrastorage.org/webt/ac/lv/cw/aclvcwrtajm3ge3elhd-i5ds2q4.jpeg"></a> <br></p><br><p> 在BIOS设置中，显示了北桥的频率为1600 MHz，但实际上它的起始频率为800（根据CPU-Z），并给出了相应的图片。 不仅激活了异步存储模式，还引入了额外的延迟，控制器本身以及Infinity Fabric都以惊人的速度工作。 同时，在内存初始化阶段的POST期间，尝试将北方人的操作频率设置为与内存频率同步导致一次死锁。 </p><br><p> 最终获得工作设置的算法如下： </p><br><ul><li> 跳线重置CMOS </li><li> 加载优化的默认设置，保存设置 </li><li> 关闭电源（即关闭PSU电源，而不仅仅是关闭电源） </li><li> 存储频率设置（激活DOCP配置文件），保存设置 </li><li> 关闭电源（即关闭PSU电源，而不仅仅是关闭电源） </li><li> 将北桥的工作频率设置为等于内存的工作频率，保存设置 </li><li> 关闭电源（即关闭PSU电源，而不仅仅是关闭电源） </li></ul><br><p> 如果您在任何阶段跳过停电，都有机会捕获内存训练错误，因此，由于无法启动进入BIOS，因此需要使用跳线重置设置并重新开始。 不用说，在2700x上完全不需要铃鼓跳舞。 </p><br><p> 从配置中可以看出，测试是在不同的内存频率下进行的。  AMD声称Zen 2微体系结构上的处理器芯片组中的存储控制器已经变得杂乱无章，并且比以前的版本支持更高的频率。 从我的观察来看，这是正确的：在Ryzen 7 2700x上，即使在默认的XMP时序（频率为3600）下，这些内存插槽也无法稳定，而在频率为3400时，时序很难设置。 在Ryzen 7 3700x上，内存立即以其固有频率启动，并允许DRAM-Calculator-for-Ryzen设置定时，而无需铃鼓进行特殊的舞蹈。 </p><br><h3 id="metodika-testirovaniya"> 测试方法 </h3><br><p> 自去年以来，该技术没有发生变化。 </p><br><p>  AM4平台的测试是在Windows 10 Pro 1903操作系统（内部版本18362.239）下进行的 </p><br><p> 使用InSpectre实用程序在所有测试系统上均禁用了Spectre and Meltdown保护。 </p><br><p> 所有测试都进行了几次（至少3或4次），第一次测试的结果被丢弃，因为第一次测试的结果明显受I / O延迟的影响。 取得了最大的结果，其余的测试运行进行了检查以检查是否可能出现异常。 </p><br><h2> 性能表现 </h2><br><h3> 密码 </h3><br><p><img src="https://habrastorage.org/webt/f9/wp/l4/f9wpl4ysbvuc1fhv4gzdjvxug9w.png"><br></p><br><div class="spoiler">  <b class="spoiler_title">密码9.0</b> <div class="spoiler_text"><p> 锐龙7 2700x <br><img src="https://habrastorage.org/webt/s_/zz/th/s_zzth6_cpftzefocj2e9kdvc7k.png"><br><br> 锐龙7 3700x DOCP <br><img src="https://habrastorage.org/webt/ik/jv/8o/ikjv8onxu91pikdypaa97zdt3fs.png"><br><br>  Ryzen 7 3700x手动计时 <br><img src="https://habrastorage.org/webt/x7/d1/_j/x7d1_jfogrxd6g9yej7xq4_vfoy.png"><br></p></div></div><br><h3> 记忆力测试 </h3><br><p><img src="https://habrastorage.org/webt/rs/jf/8i/rsjf8i0ljth9rwbkstz8mxf06wa.png"><br></p><br><div class="spoiler">  <b class="spoiler_title">AIDA 64内存和缓存基准</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/yi/ex/qy/yiexqyw0szisf-6xtxspragwzam.png"><br></p><br><img src="https://habrastorage.org/webt/su/v8/oe/suv8oeiuvrkcljpmwkzufdsleus.png"><br><img src="https://habrastorage.org/webt/o3/dm/xr/o3dmxrlfmomqi0ufanxpqlp7kpm.png"></div></div><br><p> 在内存性能方面，坦率地说进展是这样。 没有免费从带有内核的芯片上卸下存储控制器的方法-延迟增加，整体性能下降。 此外，与上一代产品相比，您可以看到写入速度下降了两倍，读取/复制速度也下降了两倍。 显然，cIOD芯片组针对两个CCX芯片组进行了优化，并且在一个芯片组上产生的结果有些歪斜（是的，Ryzen 9也没有写入速度）。 但这是一方面。 另一方面，就读取速度和合并的读取/写入负载而言，没有这种故障。 鉴于平均而言，代码中的读写关联为3/1，因此折衷方案似乎是合理的。 考虑到增加的高速缓存速度和沉重的第三级高速缓存，那么内存就来了。 </p><br><h3> 渲染图 </h3><br><p><img src="https://habrastorage.org/webt/xs/mf/fw/xsmffwv9oaiz2dkaioc94geym2s.png"><br></p><br><div class="spoiler">  <b class="spoiler_title">Cinebench r15</b> <div class="spoiler_text"><p> <a href=""><img src="https://habrastorage.org/webt/o0/yc/k_/o0yck_9kb5shpgznbpjxysdrrhm.png"></a> </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Cinebench r20</b> <div class="spoiler_text"><p> <a href=""><img src="https://habrastorage.org/webt/yq/8c/e0/yq8ce0m6hxieyj32khmvcani200.png"></a> </p></div></div><br><h3 id="proyavka-raw-snimkov"> 显影RAW图像 </h3><br><p><img src="https://habrastorage.org/webt/nk/ia/ou/nkiaoul7hgwohkigbogkblfru98.png"><br></p><br><p> 但是在处理英特尔处理器仍在稳定运行的2D图形方面，第三个千分之三系列取得了如此突破。 在Adobe Lightroom 7.5中加速一倍半！ </p><br><h3 id="3dmark">  3Dmark </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/pi/xf/p3/pixfp3exbzdif5lvzklug8z6cdw.png"></a> </p><br><h3 id="proizvoditelnost-v-igrah"> 游戏表现 </h3><br><p><img src="https://habrastorage.org/webt/dc/td/9d/dctd9dbtzuecsy-waeantxp0djm.png"><br></p><br><div class="spoiler">  <b class="spoiler_title">设置截图</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/fu/yz/jl/fuyzjldj-jazbbicznlnde0nyws.png"><br><img src="https://habrastorage.org/webt/qe/wq/1e/qewq1egx8t5u6wtjachoudnklwc.png"><br><img src="https://habrastorage.org/webt/fz/g6/li/fzg6liryrmgnlftbavwavfjqiga.png"><br><img src="https://habrastorage.org/webt/pk/ew/u3/pkewu3-8uwj-t6q91wkkqc1u79i.png"><br><img src="https://habrastorage.org/webt/tb/ri/sa/tbrisadvd87no2y3kxdhpkaka80.png"><br><img src="https://habrastorage.org/webt/wm/na/ui/wmnaui_isjoezn_rm43xojollxm.png"><br><img src="https://habrastorage.org/webt/tb/lb/eh/tblbehpfhrdbnazjlv63-xui8mc.png"><br><img src="https://habrastorage.org/webt/pj/h6/1k/pjh61kewkhgurhxhmytn2b-xgxg.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">内置基准测试结果的屏幕截图</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/lz/5y/4j/lz5y4jkmd_0qua7nw830qe220e8.png"></p><br><p><img src="https://habrastorage.org/webt/ea/n4/-p/ean4-p4sgvihe5ovan-qr_u7odo.png"></p><br><p><img src="https://habrastorage.org/webt/1i/30/j4/1i30j4jkmd4eqsk1xqaazvewud0.png"></p><br><p><img src="https://habrastorage.org/webt/xs/gy/wm/xsgywmvolccj-of2uts30kabqw0.png"></p></div></div><br><h3 id="temperatura-i-energopotreblenie"> 温度和功耗 </h3><br><p> 尽管声称的TDP为65W，但Rayzen 7 3700x卵石却显得异常狂热。 闲置温度为35至50度。 负载下的消耗和温度在很大程度上取决于负载的性质（突然！）。 </p><br><p> 在典型的游戏负载下，CPU内核的频率在4.25-4.35 GHz附近波动，此模式下的平均功耗为95-100W。 </p><br><p> 在渲染负载下，处理器开始消耗120W左右的功率： </p><br><p> <a href=""><img src="https://habrastorage.org/webt/o8/1a/at/o81aatqc7phemoi_vlefzewilhk.png"></a> </p><br><p> 在压力测试（Prime95 Small FFT）下，功耗跃升至170瓦以上，即使在风扇高速运转且频率降至4-4.05GHz的水桶下，温度仍保持在95度： </p><br><p> <a href=""><img src="https://habrastorage.org/webt/aj/_e/is/aj_eiswpibjyqua-tbtskjx76ye.png"></a> </p><br><h3 id="zaklyuchenie"> 结论 </h3><br><p> 第三千个AMD Ryzen系列处理器确实很有趣，但是他们周围普遍的热情信息背景使我寄予了很高的期望，但这并没有真正实现。 </p><br><p> 一方面，每个周期的性能确实得到了提高，但是只有在某些情况下，不用显微镜才能注意到。 一般而言，频率潜力平均增长了50-100MHz，我们没有谈论任何突破。 他们开始在记忆上工作，甚至比上一代还差。 声明的TDP为65W，处理器会毫不犹豫地消耗几乎三倍的电量，同时它会预热，从而使三段式水箱不再应付冷却问题。 坦率地说，到目前为止，支持这些处理器的BIOS还很原始。 所有这些都因微码中的错误（x570芯片组的主板上的RDRAND）而引起。 当然，一切都被割掉了，但是我很长一段时间都没有见过这样的原油产品。 </p><br><p> 另一方面，这是同一AM4平台上的第三代处理器。 如果将3700x与第一代Ryzen进行比较，则在渲染中我们在2.5年内已经获得了1.5倍的加速。 在这一代中，AMD再次设法增加了消费类处理器中的内核数量-尽管仍然短缺，但已经有条件地提供了12个内核，并且价格与人类无异，同一平台上的16核CPU即将出现。 是的，该平台取得了成功-在2.5年的时间里，它并没有变成南瓜，不需要更换主板，内存兼容性和频率潜力再次得到加强，即使在同一主板上，新处理器也很可能会允许以更高的频率启动内存。时间紧迫。 </p><br><p> 通常，产品再次被混合。 它从来都不是完美的，但是即使没有“花钱”预订，它也已经提供了出色的性能，并且其性价比通常很高。 几个月后，BIOS就会赶上版本。 总的来说，AMD拥有一切。 </p><br><h3 id="upd-ot-20190804-testy-na-agesa-comboam4-1003-patch-ab">  UPD自2019/08/04起。 测试AGESA ComboAM4 1.0.0.3补丁AB </h3><br><p> 显然，就像我在上面写的，最初的BIOS似乎有些歪曲。 在AGESA ComboAM4 1.0.0.3补丁AB上发布更新的BIOS之后，发生了许多变化： </p><br><ul><li> 功率限制已调整为AMD规格。  PPT限制从114W降低到88W； </li><li> 营养限制。 在旧的BIOS上，尽管设置了114W的限制，但处理器却消耗了将近180，没有良心的束缚，现在这个数字不起作用，并且没有超过BIOS中设置的能量限制。 </li><li> 我可以正常工作，但是感觉是要在S3电源破损的中国主板上工作。  Comp入睡，然后在试图唤醒时紧紧地挂着。 现在一切正常。 </li></ul><br><p> 显然，所有这些都不会影响测试结果。 我还没有设法将它们全部淘汰，但是主要的被赶走了，这就是发生的情况： </p><br><div class="spoiler">  <b class="spoiler_title">测试截图</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wv/ze/uf/wvzeufmpyhp-boykuli3vi4bwoa.png"></p><br><p><img src="https://habrastorage.org/webt/an/me/hq/anmehqyllxju90yutrsn1t8khas.png"></p><br><p><img src="https://habrastorage.org/webt/pc/ys/vk/pcysvkswr57tpy_wfvlv2afo8xg.png"></p></div></div><br><p> 结果是结果下降了2-4％，峰值功耗几乎降低了两倍，工作温度和电压也相应降低了。 现在，是的，毫无保留，我们可以说AMD取得了巨大的成功-快速，节能和廉价的处理器。 我认为，如果将PPT提高到3800x（105W）的水平，您可以获得几乎相同的结果。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN461665/">https://habr.com/ru/post/zh-CN461665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN461655/index.html">上周第373期来自前端世界的新鲜材料摘要（2019年7月22日至28日）</a></li>
<li><a href="../zh-CN461657/index.html">购买Red Hat：它将帮助Blue Giant争取混合云领导力</a></li>
<li><a href="../zh-CN461659/index.html">神经网络和深度学习，第4章：神经网络可以计算任何函数的视觉证明</a></li>
<li><a href="../zh-CN461661/index.html">基于组件的开发指南</a></li>
<li><a href="../zh-CN461663/index.html">Linux如何引入Windows的故事</a></li>
<li><a href="../zh-CN461669/index.html">PHP摘要161号（2019年7月15日至29日）</a></li>
<li><a href="../zh-CN461673/index.html">给新手程序员或我的职业生涯回顾的8个技巧</a></li>
<li><a href="../zh-CN461677/index.html">电子艺术几乎完美的图书馆</a></li>
<li><a href="../zh-CN461679/index.html">优质电子艺术图书馆</a></li>
<li><a href="../zh-CN461685/index.html">LED疗法或21世纪的“青春苹果”</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>