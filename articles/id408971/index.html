<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎂 🐙 💅🏿 Luncurkan DAB multipleks di rumah 🛑 🧑🏿 🚻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai Geektimes. 

 Siaran digital mulai diperkenalkan secara bertahap di berbagai negara. Di Eropa dan Australia itu adalah DAB / DAB + standar , di Ra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Luncurkan DAB multipleks di rumah</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/408971/">  Hai Geektimes. <br><br>  Siaran digital mulai diperkenalkan secara bertahap di berbagai negara.  Di Eropa dan Australia itu adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DAB / DAB + standar</a> , di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Radio HD</a> USA, di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CDR</a> Cina (China Digital Radio).  Dari plus bagi pengguna adalah suara yang lebih bersih karena aliran digital, layanan tambahan (misalnya, nama lagu dan nama artis pada layar penerima), dan, dalam kasus DAB, jumlah stasiun lebih besar dibandingkan dengan FM.  Penerima radio digital sekarang relatif murah, dengan harga mulai sekitar $ 40. <br><br>  Rusia belum secara resmi bergabung dengan salah satu standar, tetapi jika ini terjadi, kemungkinan besar akan menjadi DAB.  Operasi uji telah dilakukan di Moskow, dan penerima pasar Eropa untuk Federasi Rusia secara geografis lebih mudah diakses daripada yang Amerika.  Mobil-mobil Eropa baru (yang, sekali lagi, lebih banyak daripada yang Amerika) sering sudah dilengkapi dengan penerima DAB.  Sementara itu, untuk tujuan pengujian, siapa pun dapat memulai DAB di rumah, dengan transceiver SDR. <br><br><img src="https://habrastorage.org/webt/k6/rc/e8/k6rce8vbccstuywusg8ks1ypvwc.jpeg"><br>  (Sumber Gambar / Getty) <br><br>  Detail di bawah cut (hati-hati, banyak konfigurasi panjang dan membosankan). <br><a name="habracut"></a><br><h2>  Bagaimana cara kerjanya </h2><br>  Sayangnya, standar yang berbeda tidak kompatibel satu sama lain. <br><br>  <b>DAB</b> Eropa adalah aliran MP2 atau AAC yang ditransmisikan menggunakan ODFM dalam saluran dengan frekuensi dari 174 hingga 239 MHz.  Sebanyak mungkin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lebih dari 30 saluran</a> , masing-masing selebar sekitar 1,5 MHz, beberapa stasiun dapat ditransmisikan secara bersamaan dalam satu saluran.  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wikipedia</a> , penggunaan DAB saat menggunakan bit rate 192kbps adalah 3 kali lebih efektif dalam hal jumlah stasiun daripada FM konvensional. <br><br>  Spektrum satu saluran DAB pada layar SDR terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/vh/vr/xp/vhvrxpbqxv01zeh3dfd79vgbixi.jpeg"><br><br>  Sebagai perbandingan, jadi pada skala yang sama, stasiun FM terlihat seperti: <br><br><img src="https://habrastorage.org/webt/4v/-h/xp/4v-hxptupkzj4v56wyiw15vb9si.jpeg"><br><br>  Di American <b>HD Radio,</b> mereka mengambil jalur yang berbeda - saluran digital ditambahkan "ke samping" ke stasiun FM yang ada.  Ini memungkinkan kami untuk tidak mengalokasikan frekuensi baru dan meninggalkan kompatibilitas dengan penerima lama.  Kelemahannya adalah bahwa di kota-kota besar, siaran FM sudah diambil.  Di sisi lain, bahkan jumlah maksimum 50 stasiun untuk FM cukup baik, kemungkinan besar pendengar tidak membutuhkannya. <br><br>  Spektrum Radio HD terlihat seperti ini (tangkapan layar dari youtube): <br><br><img src="https://habrastorage.org/webt/yr/gn/dm/yrgndmvs0ptdz60a32m8xed1668.jpeg"><br><br>  <b>CDR</b> Cina memutuskan untuk menyalin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pendekatan Amerika</a> , sayangnya, pengetahuan saya tentang Cina tidak cukup untuk menemukan informasi lebih rinci tentang itu. <br><br>  Sedangkan untuk penerima, harga mereka di amazon berkisar dari $ 30 untuk model paling sederhana, hingga&gt; $ 100 untuk yang lebih canggih dengan layar sentuh, Wifi atau layar warna. <br><br><img src="https://habrastorage.org/webt/ft/ig/ah/ftigahoz4mqxvdvuriguzc9q-bs.jpeg"><br><br>  Tapi "Chukchi bukan pembaca", jadi kami akan meluncurkan radio uji dalam format DAB / DAB + sendiri.  HD Radio, sayangnya, tidak berfungsi, formatnya ditutup, dan tidak ada encoders untuk itu. <br><br><h2>  Jalankan DAB / DAB + </h2><br>  Prosesnya sebenarnya tidak rumit, tetapi sangat melelahkan dalam hal menciptakan konfigurasi yang diperlukan.  Untuk pengujian, kita membutuhkan Linux dan SDR dengan kemampuan untuk mentransfer, misalnya, HackRF atau USRP. <br><br><h3>  1. Kompilasi proyek </h3><br>  Linux diperlukan untuk mengkompilasi encoder.  Saya menggunakan Ubunty, gambar yang sudah jadi untuk VirtualBox diunduh dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://www.osboxes.org/ubuntu/</a> . <br><br>  <b>Kompilasi ODR-AudioEnc</b> <br>  Pertama Anda perlu mengkompilasi audio encoder DAB / DAB +, Anda dapat menemukannya di halaman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/Opendigitalradio/ODR-AudioEnc</a> . <br><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/Opendigitalradio/ODR-AudioEnc.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ODR-AudioEnc/ ./bootstrap ./configure --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-alsa --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-vlc make sudo make install</code> </pre> <br>  <b>Kompilasi ODR-DabMux</b> <br>  ODR-DabMux menggabungkan aliran digital menjadi satu multipleks.  Pelajari lebih lanjut di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/Opendigitalradio/ODR-DabMux</a> . <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/Opendigitalradio/ODR-DabMux.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ODR-DabMux/ ./bootstrap.sh ./configure make sudo make install</code> </pre><br>  <b>Kompilasi ODR-DabMod</b> <br>  Ini adalah modulator yang benar-benar mengirim data ke pemancar.  Prinsip perakitannya sama, perintah untuk mengunduh: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/Opendigitalradio/ODR-DabMod.git</code> </pre><br>  Jika selama perakitan semua perpustakaan tidak cukup, mereka harus diinstal menggunakan apt-get. <br><br>  Sekarang semua bagian dari proyek dirakit, <s>dan dengan semua ini kami akan mencoba untuk lepas landas</s> . <br><br><h3>  2. Konfigurasi </h3><br>  Sayangnya, USRP tidak bekerja di mesin virtual, dan meletakkan Linux penuh ke disk terlalu malas.  Oleh karena itu, saya tidak mempertimbangkan mode siaran streaming - multipleks dikompilasi dari file mp3 yang sudah disiapkan, dan file IQ yang dihasilkan diluncurkan di bawah Windows.  Ya, secara umum, siaran streaming tidak diperlukan untuk rumah, tidak ada tugas untuk membuat "stasiun bajak laut". <br><br>  Berbagai pengaturan dijelaskan secara lebih rinci di sini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://opendigitalradio.github.io/mmbtools-doc/mmbtools.pdf</a> . <br><br>  <b>Persiapan data</b> <br>  Akan ada 2 saluran dalam multiplex kami, yang mana saya mengunduh 2 file mp3 dari youtube dan menamainya (soundcard) sound01.mp3 dan sound02.mp3. <br><br>  Konversi file ke WAV dengan bit rate 48000: <br>  ffmpeg -i sound01.mp3 -ar 48000 sound01.wav <br>  ffmpeg -i sound02.mp3 -ar 48000 sound02.wav <br><br>  Konversikan ke format DAB: <br>  odr-audioenc --dab -b 128 -i sound01.wav -o prog1.mp2 <br>  odr-audioenc --dab -b 128 -i sound02.wav -o prog2.mp2 <br><br>  Outputnya harus 2 file prog1.mp2 dan prog2.mp2. <br><br>  <b>Penciptaan Multipleks</b> <br><br>  Pertama, Anda perlu membuat file yang menjelaskan konfigurasi "stasiun radio" kami.  Biarkan saya mengingatkan Anda bahwa dalam satu saluran DAB mungkin ada banyak stasiun, masing-masing dengan parameternya sendiri. <br><br>  Buat file "config.mux" dengan teks berikut: <br><br><pre> <code class="cpp hljs">general { dabmode <span class="hljs-number"><span class="hljs-number">1</span></span> nbframes <span class="hljs-number"><span class="hljs-number">2000</span></span> ; Set to <span class="hljs-literal"><span class="hljs-literal">true</span></span> to enable logging to syslog syslog <span class="hljs-literal"><span class="hljs-literal">false</span></span> ; Enable timestamp definition necessary <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> SFN ; This also enables time encoding <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> the MNSC. tist <span class="hljs-literal"><span class="hljs-literal">false</span></span> } remotecontrol { telnetport <span class="hljs-number"><span class="hljs-number">0</span></span> } ensemble { id <span class="hljs-number"><span class="hljs-number">0x4fff</span></span> ecc <span class="hljs-number"><span class="hljs-number">0xec</span></span> ; Extended Country Code local-time-offset <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> international-table <span class="hljs-number"><span class="hljs-number">1</span></span> label <span class="hljs-string"><span class="hljs-string">"mmbtools"</span></span> shortlabel <span class="hljs-string"><span class="hljs-string">"mmbtools"</span></span> } services { srv-p1 { label <span class="hljs-string"><span class="hljs-string">"Station1"</span></span> } srv-p2 { label <span class="hljs-string"><span class="hljs-string">"Station2"</span></span> } } subchannels { sub-p1 { type audio inputfile <span class="hljs-string"><span class="hljs-string">"prog1.mp2"</span></span> bitrate <span class="hljs-number"><span class="hljs-number">128</span></span> id <span class="hljs-number"><span class="hljs-number">10</span></span> protection <span class="hljs-number"><span class="hljs-number">4</span></span> } sub-p2 { type audio inputfile <span class="hljs-string"><span class="hljs-string">"prog2.mp2"</span></span> bitrate <span class="hljs-number"><span class="hljs-number">128</span></span> id <span class="hljs-number"><span class="hljs-number">11</span></span> protection <span class="hljs-number"><span class="hljs-number">4</span></span> } } components { comp-p1 { service srv-p1 subchannel sub-p1 } comp-p2 { service srv-p2 subchannel sub-p2 } } outputs { output1 <span class="hljs-string"><span class="hljs-string">"file://output.eti?type=raw"</span></span> }</code> </pre><br>  Konfigurasi tersebut menjelaskan saluran yang akan berada dalam multipleks dan sumber datanya.  Parameter nbframes menentukan berapa banyak frame untuk dibuat; 2000 frame sesuai dengan sekitar satu menit pemutaran. <br><br>  Saat file disimpan, buat multipleks: <br><br><pre> <code class="bash hljs">odr-dabmux config.mux</code> </pre> <br>  Keluaran harus berupa file <b>output.eti</b> , dalam kasus saya, ukurannya 12MB. <br><br>  <b>Transfer</b> <br><br>  Ada dua kemungkinan.  Di Linux "nyata", odr-dabmod dapat secara langsung mengirimkan data ke transceiver, tetapi tidak bekerja di bawah VM.  Oleh karena itu, sebagai parameter output, saya menetapkan file mentah yang akan berisi data yang kompatibel dengan Gnu Radio. <br><br>  Buat file config.ini: <br><br><pre> <code class="bash hljs">[input] transport = file <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> = output.eti loop=0 [modulator] digital_gain=0.9 rate=2048000 [output] output = file [fileoutput] format = complexf_normalised ;format = s8 filename = output.iq</code> </pre><br>  Di sini titik kuncinya adalah format output dan jenisnya.  Untuk USRP, saya menggunakan format complexf_normalised, untuk HackRF, secara teori, 8-bit s8 cocok. <br><br>  Simpan konfigurasi, mulai konversi: <br><br><pre> <code class="bash hljs">odr-dabmod config1.ini</code> </pre> <br>  Itu saja!  Outputnya harus config.iq, dalam kasus saya, berukuran sekitar 700MB untuk satu menit perekaman (format float IQ).  Kami menyalinnya ke komputer "utama", dan Linux dapat ditutup. <br><br><h3>  3. Pengujian </h3><br>  Seperti yang saya katakan sebelumnya, saya tidak punya penerima DAB, saya tidak mendengarkan Chukchi, saya tidak mendengarkan radio sama sekali :) Untuk pengujian, saya menggunakan "peluit" RTL-SDR dan program gratis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Welle.io</a> . <br><br>  Pertama-tama, hubungkan receiver, jalankan Welle.io dan temukan saluran gratis.  Dalam kasus saya, 12B memengaruhi mereka: <br><br><img src="https://habrastorage.org/webt/cx/cl/md/cxclmd0xuxfdrffiloyf1xjxmpy.jpeg"><br><br>  Kami ingat frekuensinya, dan membuat grafik paling sederhana untuk transmisi ke Gnu Radio: <br><br><img src="https://habrastorage.org/webt/cq/wu/jg/cqwujgyqzl2vj1t7eu2l26dedck.jpeg"><br><br>  Kami mulai, tunggu beberapa detik, dan ... kami mendengar musik yang direkam melalui welle.io. <br><br><img src="https://habrastorage.org/webt/2x/ra/wv/2xrawv5tsbezvfknzsa3jcwctlo.jpeg"><br><br>  Kami memastikan bahwa jumlah saluran dan namanya sesuai dengan yang ditentukan dalam konfigurasi. <br><br>  Ya, seluruh "kompleks pemancar" terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/kr/9b/f2/kr9bf28cmcwyl_3nysdxmggf7o4.jpeg"><br><br><h3>  Kesimpulan </h3><br>  Bukan dewa yang membakar pot, dan sangat mungkin untuk menyentuh teknologi modern di rumah tanpa meninggalkan desktop. <br><br>  Antena, tentu saja, tidak disetel ke frekuensi yang diinginkan (dan saya tidak memiliki penganalisa antena), daya maksimum dari USB3 mungkin tidak lebih dari 1W, dan bahkan kemudian didistribusikan melalui pita 1,5 MHz.  Jadi jangkauan transmisi maksimum sekitar 0,5m. <br><br>  Jika seseorang ingin mengulang percobaan dengan kekuatan yang lebih besar, pencarian ebay untuk kata "RF Power Amplifier" menyediakan banyak tautan yang berguna (secara resmi, Anda memerlukan lisensi untuk penyiaran, tentu saja, Anda harus memastikan bahwa layanan lain tidak terganggu). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id408971/">https://habr.com/ru/post/id408971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id408953/index.html">Toshiba memperkenalkan hard drive "helium" dengan kapasitas 14 TB</a></li>
<li><a href="../id408955/index.html">SBU mencari pendiri ForkLog dan menyita semua peralatan dari kantor</a></li>
<li><a href="../id408957/index.html">Di Rusia, mereka akan mengembangkan roket yang dapat digunakan kembali yang dapat bersaing dengan Falcon 9</a></li>
<li><a href="../id408963/index.html">Bagaimana pembagi optik kami "dipanggang"</a></li>
<li><a href="../id408969/index.html">Fiksi psikedelik (bab 2)</a></li>
<li><a href="../id408973/index.html">Wanhao Duplicator I3 Mini - pencetakan 3D yang terjangkau</a></li>
<li><a href="../id408975/index.html">Ulasan helm Lenovo Explorer VR: kenal VR dengan usaha minimal</a></li>
<li><a href="../id408977/index.html">Pesawat ruang angkasa paling gila</a></li>
<li><a href="../id408979/index.html">Kaspersky Lab di pengadilan AS menuntut untuk mencabut larangan pengadaan publik atas program-programnya</a></li>
<li><a href="../id408981/index.html">Apakah pengetahuan ilmiah memiliki batasan?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>