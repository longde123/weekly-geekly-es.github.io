<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∏ üíì üåª Finden des richtigen Weges zum Trennen von Website-Inhalten mithilfe von Webpack ‚úñÔ∏è üî± ‚õàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Den besten Weg zu finden, um Webprojektmaterialien zu organisieren, kann eine entmutigende Aufgabe sein. Es gibt viele verschiedene Szenarien f√ºr Benu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Finden des richtigen Weges zum Trennen von Website-Inhalten mithilfe von Webpack</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423483/">  Den besten Weg zu finden, um Webprojektmaterialien zu organisieren, kann eine entmutigende Aufgabe sein.  Es gibt viele verschiedene Szenarien f√ºr Benutzer, um mit Projekten zu arbeiten, viele Technologien und andere Faktoren, die ber√ºcksichtigt werden m√ºssen. <br><br>  Der Autor des Materials, dessen √úbersetzung wir heute ver√∂ffentlichen, sagt, dass er hier alles erz√§hlen m√∂chte, was Sie f√ºr die kompetente Vorbereitung von Webprojektmaterialien f√ºr die Arbeit wissen m√ºssen.  Zun√§chst geht es darum, wie Sie eine Strategie zum Trennen von Site-Dateien ausw√§hlen, die f√ºr ein bestimmtes Projekt und seine Benutzer am besten geeignet ist.  Zweitens werden die Mittel zur Umsetzung der gew√§hlten Strategie gepr√ºft. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/7fe/270/c2c/7fe270c2cd5aad585ca616a6f3704704.jpg" alt="Bild"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Allgemeine Informationen</font> </h2><br>  Laut dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webpack-Glossar</a> gibt es zwei Strategien f√ºr die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gemeinsame</a> Nutzung von Dateien.  Dies ist Bundle-Splitting und Code-Splitting.  Diese Begriffe scheinen austauschbar zu sein, sind es aber nicht. <br><br><ul><li>  Das Aufteilen eines Bundles ist eine Technik zum Aufteilen gro√üer Bundles in mehrere Teile, bei denen es sich um kleinere Dateien handelt.  Solche Dateien werden in jedem Fall, wenn Sie mit einem einzelnen Bundle arbeiten, von allen Benutzern der Site heruntergeladen.  Die St√§rke dieser Technik besteht darin, die Verwendung browserbasierter Caching-Mechanismen zu verbessern. </li><li>  Die Codetrennung ist ein Ansatz, bei dem der Code bei Bedarf dynamisch geladen wird.  Dies f√ºhrt dazu, dass der Benutzer nur den Code herunterl√§dt, den er ben√∂tigt, um zu einem bestimmten Zeitpunkt mit einem bestimmten Teil der Site zu arbeiten. </li></ul><br>  Die Code-Aufteilung scheint viel interessanter zu sein als die Code-Aufteilung.  Tats√§chlich besteht das Gef√ºhl, dass in vielen Artikeln zu unserem Thema der Schwerpunkt auf der Trennung von Code liegt. Diese Technik wird als der einzig sinnvolle Weg zur Optimierung von Site-Materialien angesehen. <br><br>  Ich m√∂chte jedoch sagen, dass es f√ºr viele Websites die erste Strategie ist, die viel wertvoller ist - die Trennung von B√ºndeln.  Und vielleicht k√∂nnen buchst√§blich alle Webprojekte von ihrer Implementierung profitieren. <br><br>  Lassen Sie uns n√§her darauf eingehen. <br><br><h2>  <font color="#3AC1EF">Trennung von B√ºndeln</font> </h2><br>  Die Technik zum Teilen von B√ºndeln basiert auf einer sehr einfachen Idee.  Wenn Sie eine gro√üe Datei haben und eine einzelne Codezeile darin √§ndern, muss der normale Benutzer beim n√§chsten Besuch der Website die gesamte Datei herunterladen.  Wenn Sie diese Datei jedoch in zwei Dateien aufteilen, muss derselbe Benutzer nur die ge√§nderte herunterladen, und die zweite Datei wird aus dem Browser-Cache entnommen. <br><br>  Da die Optimierung von Site-Materialien durch Aufteilen von Bundles mit dem Caching verbunden ist, m√ºssen Benutzer, die die Site zum ersten Mal besuchen, ohnehin alle Materialien herunterladen, sodass es f√ºr sie keinen Unterschied macht, ob diese Materialien als einzelne Datei oder als mehrere Dateien dargestellt werden . <br><br>  Es scheint mir, dass zu viel √ºber die Leistung von Webprojekten gesprochen wird, wenn Benutzer die Website zum ersten Mal besuchen.  Vielleicht liegt dies zum Teil daran, dass der erste Eindruck, den das Projekt auf den Benutzer hinterl√§sst, wichtig ist und dass die Datenmenge, die den Benutzern beim ersten Besuch der Website √ºbermittelt wird, einfach und bequem zu messen ist. <br><br>  Wenn es um regelm√§√üige Besucher geht, kann es schwierig sein, die Auswirkungen der auf sie angewendeten Materialoptimierungstechniken zu messen.  Aber wir m√ºssen einfach die Konsequenzen solcher Optimierungen kennen. <br><br>  Um diese Dinge zu analysieren, ben√∂tigen Sie so etwas wie eine Tabelle.  Sie m√ºssen auch eine strenge Liste von Bedingungen erstellen, unter denen wir jede der untersuchten Caching-Strategien testen k√∂nnen. <br><br>  Hier ist ein Skript, das der allgemeinen Beschreibung im vorherigen Absatz entspricht: <br><br><ul><li>  Alice besucht unsere Seite 10 Wochen lang einmal pro Woche. </li><li>  Wir aktualisieren die Seite einmal pro Woche. </li><li>  Jede Woche aktualisieren wir die Produktlistenseite. </li><li>  Dar√ºber hinaus haben wir eine Seite mit Produktdetails, an der wir jedoch noch nicht arbeiten. </li><li>  In der f√ºnften Woche f√ºgen wir den Projektmaterialien ein neues npm-Paket hinzu. </li><li>  In der achten Woche aktualisieren wir eines der bereits im Projekt verwendeten npm-Pakete. </li></ul><br>  Es gibt Leute (wie mich), die versuchen, ein solches Szenario so realistisch wie m√∂glich zu gestalten.  Aber das m√ºssen Sie nicht tun.  Das reale Szenario spielt hier keine Rolle.  Warum das so ist - wir werden es bald herausfinden. <br><br><h3>  <font color="#3AC1EF">‚ñç Ausgangsbedingungen</font> </h3><br>  Angenommen, die Gesamtgr√∂√üe unseres JavaScript-Pakets betr√§gt beachtliche 400 KB, und wir √ºbertragen dies unter den aktuellen Bedingungen als einzelne <code>main.js</code> Datei an den Benutzer.  Wir haben eine Webpack-Konfiguration, die im Allgemeinen der folgenden √§hnelt (ich habe die Dinge entfernt, die f√ºr unsere Konversation nicht relevant sind): <br><br><pre> <code class="hljs lua">const <span class="hljs-built_in"><span class="hljs-built_in">path</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); module.exports = { entry: <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/index.js'</span></span>), <span class="hljs-built_in"><span class="hljs-built_in">output</span></span>: {   <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'dist'</span></span>),   filename: <span class="hljs-string"><span class="hljs-string">'[name].[contenthash].js'</span></span>, }, };</code> </pre> <br>  Webpack benennt die resultierende Datei <code>main.js</code> , wenn die Konfiguration einen einzelnen Eintrag enth√§lt. <br><br>  Wenn Sie keine sehr gute Vorstellung davon haben, mit dem Cache zu arbeiten, denken Sie daran, dass ich jedes Mal, <code>main.js</code> ich <code>main.js</code> hier schreibe, etwas wie <code>main.xMePWxHo.js</code> .  Eine verr√ºckte Folge von Zeichen ist ein Hash des Inhalts einer Datei, was in der Konfiguration als <code>contenthash</code> .  Die Verwendung dieses Ansatzes f√ºhrt dazu, dass sich beim √Ñndern des Codes auch die Dateinamen √§ndern, wodurch der Browser gezwungen wird, neue Dateien herunterzuladen. <br><br>  In √úbereinstimmung mit dem obigen Szenario √§ndert sich die <code>contenthash</code> Zeile des Pakets, wenn wir jede Woche einige √Ñnderungen am Site-Code vornehmen.  Infolgedessen muss Alice beim w√∂chentlichen Besuch unserer Website eine neue Datei mit 400 KB hochladen. <br><br>  Wenn wir ein sch√∂nes Tablet (mit einer bisher nutzlosen Ergebniszeile) erstellen, das Daten zum w√∂chentlichen Datenvolumen enth√§lt, das pro Datei geladen wird, erhalten wir Folgendes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3b6/fa6/424/3b6fa6424d43c147b40c5347e4dfa104.png"></div><br>  <i><font color="#999999">Die vom Benutzer hochgeladene Datenmenge</font></i> <br><br>  Als Ergebnis stellt sich heraus, dass der Benutzer in 10 Wochen 4,12 MB Code heruntergeladen hat.  Dieser Indikator kann verbessert werden. <br><br><h3>  <font color="#3AC1EF">‚ñç Trennung von Paketen von Drittanbietern vom Hauptcode</font> </h3><br>  Teilen Sie das gro√üe Paket in zwei Teile.  Unser eigener Code befindet sich in der Datei <code>main.js</code> und Code von Drittanbietern in der Datei <code>vendor.js</code> .  Dies ist ganz einfach. Die folgende Webpack-Konfiguration hilft uns dabei: <br><br><pre> <code class="hljs lua">const <span class="hljs-built_in"><span class="hljs-built_in">path</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); module.exports = { entry: <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'src/index.js'</span></span>), <span class="hljs-built_in"><span class="hljs-built_in">output</span></span>: {   <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'dist'</span></span>),   filename: <span class="hljs-string"><span class="hljs-string">'[name].[contenthash].js'</span></span>, }, optimization: {   splitChunks: {     chunks: <span class="hljs-string"><span class="hljs-string">'all'</span></span>,   }, }, };</code> </pre> <br>  Webpack 4 versucht, dem Entwickler das Leben so einfach wie m√∂glich zu machen. Er tut also alles, was er kann, und verlangt nicht, dass ihm genau gesagt wird, wie die B√ºndel in Teile zerlegt werden sollen. <br><br>  Diese Art des automatischen Verhaltens des Programms f√ºhrt zu einigen Freuden, wie zum Beispiel: "Nun, was f√ºr ein Reiz dieses Webpacks ist", und zu vielen Fragen im Geiste: "Was wird mit meinen Bundles gemacht?". <br><br>  In jedem Fall teilt das Hinzuf√ºgen von <code>optimization.splitChunks.chunks = 'all'</code> zur Konfigurationskonfiguration Webpack mit, dass es alles aus <code>node_modules</code> und in die <code>vendors~main.js</code> des <code>vendors~main.js</code> . <br><br>  Nachdem wir das Bundle so grundlegend getrennt haben, l√§dt Alice, die regelm√§√üig w√∂chentlich unsere Website besucht, bei jedem Besuch die Datei <code>main.js</code> mit 200 <code>main.js</code> herunter.  Sie wird die Datei <code>vendor.js</code> nur dreimal herunterladen.  Dies wird w√§hrend der Besuche in der ersten, f√ºnften und achten Woche geschehen.  Hier ist die entsprechende Tabelle, in der nach dem Willen des Schicksals die Gr√∂√üen der <code>vendor.js</code> <code>main.js</code> und <code>vendor.js</code> in den ersten vier Wochen zusammenfallen und 200 <code>main.js</code> <code>vendor.js</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f52/61f/49f/f5261f49f5f3dba9c34fec5f83a142b2.png"></div><br>  <i><font color="#999999">Die vom Benutzer hochgeladene Datenmenge</font></i> <br><br>  Als Ergebnis stellt sich heraus, dass die vom Benutzer √ºber 10 Wochen heruntergeladene Datenmenge 2,64 MB betrug.  Das hei√üt, im Vergleich zu vor der Trennung des B√ºndels verringerte sich das Volumen um 36%.  Kein so schlechtes Ergebnis durch Hinzuf√ºgen einiger Zeilen zur Konfigurationsdatei.  √úbrigens, bevor Sie weiterlesen - machen Sie dasselbe in Ihrem Projekt.  Und wenn Sie ein Upgrade von Webpack 3 auf 4 ben√∂tigen, machen Sie es und machen Sie sich keine Sorgen, da der Vorgang recht einfach und dennoch kostenlos ist. <br><br>  Es scheint mir, dass die hier betrachtete Verbesserung etwas abstrakt aussieht, da sie sich √ºber 10 Wochen erstreckt.  Wenn wir jedoch die Datenmenge ber√ºcksichtigen, die an einen treuen Benutzer gesendet wird, bedeutet dies eine ehrliche Reduzierung dieses Volumens um 36%.  Dies ist ein sehr gutes Ergebnis, das jedoch verbessert werden kann. <br><br><h3>  <font color="#3AC1EF">‚ñç Markieren Sie Pakete in separaten Dateien</font> </h3><br>  Die Datei <code>vendor.js</code> das gleiche Problem wie die urspr√ºngliche <code>main.js</code>  Es besteht in der Tatsache, dass das √Ñndern eines in dieser Datei enthaltenen Pakets dazu f√ºhrt, dass ein normaler Benutzer die gesamte Datei erneut herunterladen muss. <br><br>  Warum erstellen wir nicht f√ºr jedes npm-Paket separate Dateien?  Es ist nicht schwierig, dies zu tun. Zerlegen wir also unsere <code>react</code> , <code>lodash</code> , <code>redux</code> , <code>moment</code> usw. in separate Dateien.  Die folgende Webpack-Konfiguration hilft uns dabei: <br><br><pre> <code class="hljs markdown">const path = require('path'); const webpack = require('webpack'); module.exports = { entry: path.resolve(<span class="hljs-strong"><span class="hljs-strong">__dirname, 'src/index.js'), plugins: [   new webpack.HashedModuleIdsPlugin(), //        ], output: {   path: path.resolve(__</span></span>dirname, 'dist'),   filename: '[<span class="hljs-string"><span class="hljs-string">name</span></span>].[<span class="hljs-string"><span class="hljs-string">contenthash</span></span>].js', }, optimization: {   runtimeChunk: 'single',   splitChunks: {     chunks: 'all',     maxInitialRequests: Infinity,     minSize: 0,     cacheGroups: {       vendor: {         test: /[<span class="hljs-string"><span class="hljs-string">\\/</span></span>]node<span class="hljs-emphasis"><span class="hljs-emphasis">_modules[\\/]/,         name(module) {           //  ,   node_</span></span>modules/packageName/not/this/part.js           //  node<span class="hljs-emphasis"><span class="hljs-emphasis">_modules/packageName           const packageName = module.context.match(/[\\/]node_</span></span>modules[<span class="hljs-string"><span class="hljs-string">\\/</span></span>](<span class="hljs-link"><span class="hljs-link">.*?</span></span>)([\\/]|$)/)[1];           //  npm- ,   ,           //  URL,        @           return <span class="hljs-code"><span class="hljs-code">`npm.${packageName.replace('@', '')}`</span></span>;         },       },     },   }, }, };</code> </pre> <br>  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> finden Sie eine hervorragende Erkl√§rung der hier verwendeten Konstruktionen, aber ich widme noch einige Zeit dem Erz√§hlen einiger Dinge, da ich viel Zeit gebraucht habe, um sie richtig zu verwenden. <br><br><ul><li>  Webpack verf√ºgt √ºber recht vern√ºnftige Standardinstallationen, die in der Tat nicht so vern√ºnftig sind.  Beispielsweise ist die maximale Anzahl von Ausgabedateien auf 3 festgelegt, die minimale Dateigr√∂√üe betr√§gt 30 KB (dh kleinere Dateien werden zusammengef√ºhrt).  Ich habe es neu definiert. </li><li>  <code>cacheGroups</code> wir die Regeln fest, wie Webpack Daten in Ausgabedateien gruppieren soll.  Ich habe hier eine Gruppe, <code>vendor</code> , die f√ºr jedes Modul verwendet wird, das von <code>node_modules</code> geladen <code>node_modules</code> .  Normalerweise wird der Name f√ºr die Ausgabedatei als Zeichenfolge angegeben.  Aber ich habe den <code>name</code> als Funktion angegeben, die f√ºr jede verarbeitete Datei aufgerufen wird.  Dann nehme ich den Paketnamen aus dem Modulpfad.  Als Ergebnis erhalten wir eine Datei f√ºr jedes Paket.  Zum Beispiel <code>npm.react-dom.899sadfhj4.js</code> . </li><li>  <code>encodeURI</code> m√ºssen f√ºr die Verwendung in <a href="">URLs</a> geeignet sein, damit sie in npm ver√∂ffentlicht werden k√∂nnen. <code>encodeURI</code> m√ºssen wir die <code>encodeURI</code> Operation nicht f√ºr <code>packageName</code> .  Ich bin jedoch auf ein Problem gesto√üen, dass der .NET-Server sich weigert, mit Dateien zu arbeiten, deren Namen das <code>@</code> -Symbol enthalten (solche Namen werden f√ºr Pakete mit einem bestimmten Namensbereich verwendet, die sogenannten Scoped-Pakete), also ich in den entsprechenden Codefragment, ich werde solche Zeichen los. </li></ul><br>  Die obige Konfiguration von Webpack ist insofern gut, als Sie es einmal konfigurieren und dann vergessen k√∂nnen.  Es ist nicht erforderlich, bestimmte Pakete namentlich zu referenzieren, daher bleibt es nach seiner Erstellung auch bei √Ñnderung der Zusammensetzung von Paketen relevant. <br><br>  Alice, unsere regelm√§√üige Besucherin, <code>main.js</code> jede Woche <code>main.js</code> 200-Kilobyte- <code>main.js</code> ersten Besuch der Website muss sie 200 KB npm-Pakete herunterladen, muss jedoch nicht zweimal dieselben Pakete herunterladen. <br><br>  Unten finden Sie eine neue Version der Tabelle mit Informationen zum Umfang der w√∂chentlichen Datendownloads.  Durch einen seltsamen Zufall betr√§gt die Gr√∂√üe jeder Datei mit npm-Paketen 20 KB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f98/787/006/f98787006dc9320ca37b680b23534e71.png"></div><br>  <i><font color="#999999">Die vom Benutzer hochgeladene Datenmenge</font></i> <br><br>  Jetzt betr√§gt das in 10 Wochen heruntergeladene Datenvolumen 2,24 MB.  Dies bedeutet, dass wir den Leitzins um 44% verbessert haben.  Das Ergebnis ist bereits sehr anst√§ndig, aber es stellt sich die Frage, ob dies m√∂glich ist, um ein Ergebnis von mehr als 50% zu erzielen.  Wenn dies passiert, wird es einfach gro√üartig sein. <br><br><h3>  <font color="#3AC1EF">‚ñç Anwendungscode in Fragmente aufteilen</font> </h3><br>  Wir kehren zur Datei <code>main.js</code> , die die ungl√ºckliche Alice st√§ndig herunterladen muss. <br><br>  Wie ich oben sagte, gibt es zwei separate Abschnitte auf unserer Website.  Die erste ist eine Liste von Produkten, die zweite ist eine Seite mit detaillierten Informationen √ºber das Produkt.  Die Gr√∂√üe des Codes, die f√ºr jeden von ihnen eindeutig ist, betr√§gt 25 KB (und 150 KB Code werden sowohl dort als auch dort verwendet). <br><br>  Die Produktinformationsseite kann nicht ge√§ndert werden, da wir sie bereits perfektioniert haben.  Wenn wir den Code in eine separate Datei extrahieren, wird diese Datei, die meistens mit der Site arbeitet, aus dem Cache in den Browser heruntergeladen. <br><br>  Dar√ºber hinaus haben wir, wie sich herausstellte, eine riesige integrierte SVG-Datei f√ºr das Rendern von Symbolen, die bis zu 25 KB wiegt und sich nur selten √§ndert. <br><br>  Damit muss etwas getan werden. <br><br>  Wir haben manuell mehrere Einstiegspunkte erstellt und Webpack mitgeteilt, dass f√ºr jede dieser Entit√§ten eine separate Datei erstellt werden muss. <br><br><pre> <code class="hljs markdown">module.exports = { entry: {   main: path.resolve(<span class="hljs-strong"><span class="hljs-strong">__dirname, 'src/index.js'),   ProductList: path.resolve(__</span></span>dirname, 'src/ProductList/ProductList.js'),   ProductPage: path.resolve(<span class="hljs-strong"><span class="hljs-strong">__dirname, 'src/ProductPage/ProductPage.js'),   Icon: path.resolve(__</span></span>dirname, 'src/Icon/Icon.js'), }, output: {   path: path.resolve(<span class="hljs-emphasis"><span class="hljs-emphasis">__dirname, 'dist'),   filename: '[name].[contenthash:8].js', }, plugins: [   new webpack.HashedModuleIdsPlugin(), //        ], optimization: {   runtimeChunk: 'single',   splitChunks: {     chunks: 'all',     maxInitialRequests: Infinity,     minSize: 0,     cacheGroups: {       vendor: {         test: /[\\/]node_</span></span>modules[<span class="hljs-string"><span class="hljs-string">\\/</span></span>]/,         name(module) {           //  ,   node<span class="hljs-emphasis"><span class="hljs-emphasis">_modules/packageName/not/this/part.js           //  node_</span></span>modules/packageName           const packageName = module.context.match(/[<span class="hljs-string"><span class="hljs-string">\\/</span></span>]node_modules[<span class="hljs-string"><span class="hljs-string">\\/</span></span>](<span class="hljs-link"><span class="hljs-link">.*?</span></span>)([\\/]|$)/)[1];           //  npm- ,   ,           //  URL,        @           return <span class="hljs-code"><span class="hljs-code">`npm.${packageName.replace('@', '')}`</span></span>;         },       },     },   }, }, };</code> </pre> <br>  Das hart arbeitende Webpack erstellt au√üerdem Dateien f√ºr die g√§ngigen <code>ProductList</code> , z. B. <code>ProductList</code> und <code>ProductPage</code> , <code>ProductPage</code> es gibt keinen doppelten Code. <br><br>  Was wir gerade getan haben, wird es Alice erm√∂glichen, fast jede Woche 50 Kb Verkehr zu sparen.  Bitte beachten Sie, dass wir die Symbolbeschreibungsdatei in der sechsten Woche bearbeitet haben.  Hier ist unser traditioneller Tisch. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/62f/b9e/8ed/62fb9e8ed563fd4aa7a61fdcec61fc2d.png"></div><br>  <i><font color="#999999">Die vom Benutzer hochgeladene Datenmenge</font></i> <br><br>  In nur zehn Wochen wurden nur 1,815 MB Daten heruntergeladen.  Dies bedeutet, dass die Verkehrseinsparungen beeindruckende 56% betrugen.  In √úbereinstimmung mit unserem theoretischen Szenario wird ein regul√§rer Benutzer immer mit dieser Einsparungsstufe arbeiten. <br><br>  All dies erfolgt aufgrund von √Ñnderungen an der Webpack-Konfiguration.  Wir haben den Anwendungscode nicht ge√§ndert, um solche Ergebnisse zu erzielen. <br><br>  Ich habe bereits dar√ºber gesprochen, dass das spezifische Szenario, in dem ein solcher Test durchgef√ºhrt wird, tats√§chlich keine besondere Rolle spielt.  Dies wird aufgrund der Tatsache gesagt, dass unabh√§ngig von dem verwendeten Szenario die Schlussfolgerung aus allem, wor√ºber wir gesprochen haben, dieselbe ist: Durch die Aufteilung der Anwendung in kleine Dateien, die bei Anwendung auf ihre Architektur sinnvoll sind, k√∂nnen wir das Volumen der Site-Daten reduzieren. von seinen regul√§ren Benutzern geladen. <br><br>  Bald werden wir √ºber die Codetrennung sprechen, aber zuerst m√∂chte ich drei Fragen beantworten, √ºber die Sie jetzt wahrscheinlich nachdenken. <br><br><h3>  <font color="#3AC1EF">‚ñç Frage Nummer 1.</font>  <font color="#3AC1EF">Beeintr√§chtigt die Notwendigkeit, viele Anforderungen auszuf√ºhren, nicht die Geschwindigkeit beim Laden der Site?</font> </h3><br>  Sie k√∂nnen eine einfache kurze Antwort auf diese Frage geben: "Nein, es schadet nicht."  Eine √§hnliche Situation f√ºhrte fr√ºher zu einem Problem, als das HTTP / 1.1-Protokoll verwendet wurde, und wenn HTTP / 2 verwendet wurde, ist dies nicht mehr relevant. <br><br>  Es sollte jedoch beachtet werden, dass in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://medium.com/%40asyncmax/the-right-way-to-bundle-your-assets-for-faster-sites-over-">diesem</a> Artikel, der 2016 ver√∂ffentlicht wurde, und in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=http://engineering.khanacademy.org/posts/js-packaging-">diesem</a> Artikel der Khan Academy 2015 die Schlussfolgerungen gezogen werden, dass selbst bei Verwendung von HTTP / 2 die Verwendung zu vieler Dateien den Download verlangsamt.  Aber in diesen beiden Materialien bedeutet "zu viel" "mehrere hundert".  Beachten Sie daher, dass Einschr√§nkungen bei der parallelen Datenverarbeitung die Download-Geschwindigkeit beeintr√§chtigen k√∂nnen, wenn Sie mit Hunderten von Dateien arbeiten m√ºssen. <br><br>  Wenn Sie interessiert sind, ist die HTTP / 2-Unterst√ºtzung in IE 11 unter Windows 10 verf√ºgbar. Au√üerdem habe ich eine umfassende Studie unter denjenigen durchgef√ºhrt, die √§ltere Systeme verwenden.  Sie erkl√§rten einstimmig, dass die Ladegeschwindigkeit ihrer Website nicht besonders besorgniserregend sei. <br><br><h3>  <font color="#3AC1EF">‚ñç Frage Nummer 2.</font>  <font color="#3AC1EF">Webpack-Bundles haben Hilfecode.</font>  <font color="#3AC1EF">Erzeugt es eine zus√§tzliche Belastung des Systems?</font> </h3><br>  Ja das stimmt. <br><br><h3>  <font color="#3AC1EF">‚ñç Frage Nummer 3.</font>  <font color="#3AC1EF">Wenn Sie mit vielen kleinen Dateien arbeiten, verschlechtert sich deren Komprimierungsgrad, oder?</font> </h3><br>  Ja, das stimmt auch.  In der Tat m√∂chte ich Folgendes sagen: <br><br><ul><li>  Mehr Dateien bedeuten mehr Webpack-Hilfecode. </li><li>  Mehr Dateien bedeuten weniger Komprimierung. </li></ul><br>  Lassen Sie es uns herausfinden, um zu verstehen, wie schlimm das ist. <br><br>  Ich habe gerade einen Test durchgef√ºhrt, bei dem der Code aus einer 190-KB-Datei in 19 Teile aufgeteilt wurde.  Dies erh√∂hte die an den Browser gesendete Datenmenge um etwa 2%. <br><br>  Infolgedessen stellt sich heraus, dass der Benutzer beim ersten Besuch der Website 2% mehr Daten hochl√§dt und bei nachfolgenden Besuchen 60% weniger, und dies wird sehr, sehr lange so bleiben. <br>  Lohnt es sich also, sich Sorgen zu machen?  Nein, das ist es nicht wert. <br><br>  Als ich ein System mit 1 Datei und ein System mit 19 Dateien verglichen habe, habe ich es mit verschiedenen Protokollen getestet, einschlie√ülich HTTP / 1.1.  Die folgende Tabelle unterst√ºtzt nachdr√ºcklich die Idee, dass mehr Dateien besser sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a85/2fa/47c/a852fa47c36befc2234794c9cae1b9c1.png"></div><br>  <i><font color="#999999">Daten zur Arbeit mit 2 Versionen einer Site, die auf einem statischen Firebase-Hosting gehostet wird, dessen Code 190 KB gro√ü ist, im ersten Fall jedoch in eine Datei gepackt und im zweiten Fall in 19 Dateien unterteilt ist</font></i> <br><br>  Bei der Arbeit in 3G- und 4G-Netzwerken dauerte das Herunterladen einer Site mit 19 Dateien 30% k√ºrzer als das Herunterladen einer Site mit einer Datei. <br><br>  Die in der Tabelle dargestellten Daten enthalten viel Rauschen.  Beispielsweise dauerte eine Sitzung zum Herunterladen einer Site mit 4G (Lauf 2 in der Tabelle) 646 ms, eine andere (Lauf 4) - 1116 ms, was 73% l√§nger ist.  Daher besteht das Gef√ºhl, dass es etwas unehrlich ist, zu sagen, dass HTTP / 2 ‚Äû30% schneller‚Äú ist. <br><br>  Ich habe diese Tabelle erstellt, um zu sehen, was die Verwendung von HTTP / 2 bietet.  Tats√§chlich kann hier jedoch nur gesagt werden, dass die Verwendung von HTTP / 2 das Laden von Seiten wahrscheinlich nicht besonders stark beeinflusst. <br><br>  Die letzten beiden Zeilen in dieser Tabelle waren eine echte √úberraschung.  Hier sind die Ergebnisse f√ºr nicht die neueste Version von Windows mit IE11 und HTTP / 1.1.  Wenn ich versuchen w√ºrde, die Testergebnisse im Voraus vorherzusagen, w√ºrde ich definitiv sagen, dass eine solche Konfiguration Materialien viel langsamer als andere laden w√ºrde.  Zwar wurde hier eine sehr schnelle Netzwerkverbindung verwendet, und ich sollte f√ºr solche Tests wahrscheinlich etwas Langsameres verwenden. <br><br>  Und jetzt erz√§hle ich Ihnen eine Geschichte.  Um meine Website auf einem sehr alten System zu erkunden, habe ich die virtuelle Windows 7-Maschine von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der</a> Microsoft- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Website heruntergeladen</a> .  Dort wurde IE8 installiert, und ich entschied mich f√ºr ein Upgrade auf IE9.  Zu diesem Zweck habe ich die Microsoft-Seite aufgerufen, auf der IE 9 heruntergeladen werden soll. Dies konnte ich jedoch nicht tun. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a3b/ee6/529/a3bee65295b45bf2467da37252674cf0.png"></div><br>  <i><font color="#999999">Das Pech ...</font></i> <br><br>  Wenn wir √ºber HTTP / 2 sprechen, m√∂chte ich √ºbrigens beachten, dass dieses Protokoll in Node.js integriert ist.  Wenn Sie experimentieren m√∂chten, k√∂nnen Sie den kleinen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HTTP / 2-Server verwenden, den</a> ich mit Unterst√ºtzung f√ºr den Antwortcache, gzip und brotli geschrieben habe. <br><br>  Vielleicht habe ich alles gesagt, was ich √ºber die Methode der B√ºndeltrennung wollte.  Ich denke, dass das einzige Minus dieses Ansatzes, bei dem Benutzer viele Dateien hochladen m√ºssen, tats√§chlich kein solches ‚ÄûMinus‚Äú ist. <br><br>  Lassen Sie uns nun √ºber die Codetrennung sprechen. <br><br><h2>  <font color="#3AC1EF">Codetrennung</font> </h2><br>  Die Hauptidee der Code-Aufteilungstechnik lautet: ‚ÄûLaden Sie keinen unn√∂tigen Code herunter.‚Äú  Mir wurde gesagt, dass die Verwendung dieses Ansatzes nur f√ºr einige Websites sinnvoll ist. <br><br>  Wenn es um die Codetrennung geht, bevorzuge ich die 20/20-Regel, die ich gerade formuliert habe.  Wenn ein Teil der Website nur von 20% der Benutzer besucht wird und die Funktionalit√§t von mehr als 20% des JavaScript-Codes der Website bereitgestellt wird, muss dieser Code nur auf Anfrage heruntergeladen werden. <br><br>  Dies sind nat√ºrlich keine absoluten Zahlen, sie k√∂nnen an eine bestimmte Situation angepasst werden, und in Wirklichkeit gibt es viel komplexere Szenarien als die oben beschriebenen.  Das Wichtigste dabei ist das Gleichgewicht. Es ist v√∂llig normal, √ºberhaupt keine Codetrennung zu verwenden, wenn dies f√ºr Ihre Website keinen Sinn ergibt. <br><br><h3>  <font color="#3AC1EF">‚ñç Getrennt oder nicht?</font> </h3><br>  Wie finde ich die Antwort auf die Frage, ob Sie eine Codetrennung ben√∂tigen oder nicht?  Angenommen, Sie haben einen Online-Shop und √ºberlegen, ob Sie den Code, mit dem Zahlungen von Kunden eingehen, vom Rest des Codes trennen sollen, da nur 30% der Besucher etwas von Ihnen kaufen. <br><br>  Was kann ich sagen  Zun√§chst sollten Sie daran arbeiten, den Laden zu f√ºllen und etwas zu verkaufen, das f√ºr mehr Besucher der Website interessant w√§re.  Zweitens m√ºssen Sie verstehen, wie viel Code f√ºr den Abschnitt der Website, in dem die Zahlung akzeptiert wird, vollst√§ndig eindeutig ist.  Da Sie vor dem ‚ÄûCode-Splitting‚Äú immer eine ‚ÄûBundle-Aufteilung‚Äú durchf√ºhren sollten und dies hoffentlich tun, wissen Sie wahrscheinlich bereits, welche Gr√∂√üen der Code hat, an dem wir interessiert sind. <br><br>  M√∂glicherweise ist dieser Code kleiner als Sie denken. Bevor Sie sich also √ºber die neue M√∂glichkeit zur Optimierung Ihrer Website freuen, sollten Sie alles sicher berechnen.  Wenn Sie beispielsweise √ºber eine React-Site verf√ºgen, werden das Repository, die Reduzierungen, das Routing-System und die Aktionen von allen Teilen der Site gemeinsam genutzt.  Einzigartig f√ºr verschiedene Teile des Site-Codes werden haupts√§chlich Komponenten und Hilfsfunktionen f√ºr diese dargestellt. <br><br>  Sie haben also herausgefunden, dass ein v√∂llig eindeutiger Code des Site-Abschnitts, mit dem Eink√§ufe bezahlt werden, 7 KB ben√∂tigt.  Die Gr√∂√üe des restlichen Site-Codes betr√§gt 300 KB.  In einer solchen Situation w√ºrde ich aus mehreren Gr√ºnden keine Codetrennung durchf√ºhren: <br><br><ul><li>  Wenn Sie diese 7 KB im Voraus herunterladen, wird die Website nicht langsamer.  Denken Sie daran, dass Dateien parallel heruntergeladen werden, und versuchen Sie, den Unterschied zu messen, der zum Herunterladen von 300 KB und 307 KB Code erforderlich ist. </li><li>  Wenn Sie diesen Code sp√§ter herunterladen, muss der Benutzer warten, nachdem er auf die Schaltfl√§che "Bezahlen" geklickt hat.  Und genau in diesem Moment muss alles so reibungslos wie m√∂glich verlaufen. </li><li>  Die Codetrennung erfordert √Ñnderungen an der Anwendung.  Im Code wird an Stellen, an denen zuvor alles synchron ausgef√ºhrt wurde, asynchrone Logik angezeigt. ,        ,       , ,   ,           . </li></ul><br>  , ,        ,  . <br><br>        . <br><br><h3> <font color="#3AC1EF">‚ñç</font> </h3><br>      ,   ,    ,       . <br><br>           .     ,     .      : <br><br><pre> <code class="hljs perl"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'whatwg-fetch'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'intl'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'url-polyfill'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'core-js/web/dom-collections'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'core-js/es6/map'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'core-js/es6/string'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'core-js/es6/array'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'core-js/es6/object'</span></span>);</code> </pre> <br>         <code>index.js</code> ,      : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./polyfills'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./App/App'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./index.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> render = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root')); } render(); // ,     </span></span></code> </pre> <br>    Webpack   ,        ,        npm-.     25 , 90%    ,      . <br><br>   Webpack 4    <code>import()</code> (      <code>import</code> ),      : <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./App/App'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./index.css'</span></span>; const render = () =&gt; { ReactDOM.render(&lt;App /&gt;, document.getElementById(<span class="hljs-string"><span class="hljs-string">'root'</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-string"><span class="hljs-string">'fetch'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'Intl'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'URL'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'Map'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'forEach'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> NodeList.prototype &amp;&amp; <span class="hljs-string"><span class="hljs-string">'startsWith'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> String.prototype &amp;&amp; <span class="hljs-string"><span class="hljs-string">'endsWith'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> String.prototype &amp;&amp; <span class="hljs-string"><span class="hljs-string">'includes'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> String.prototype &amp;&amp; <span class="hljs-string"><span class="hljs-string">'includes'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>.prototype &amp;&amp; <span class="hljs-string"><span class="hljs-string">'assign'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'entries'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span> &amp;&amp; <span class="hljs-string"><span class="hljs-string">'keys'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span> ) { render(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./polyfills'</span></span>).<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>(render); }</code> </pre> <br>  ,  ,   ,  ‚Äî     .   ‚Äî        <code>render()</code> .      ,  Webpack     npm-,       ,    <code>render()</code>   . <br><br>  ,   <code>import()</code>    Babel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dynamic-import</a> .  ,      Webpack,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">import()</a>  ,           . <br><br>    ,   .    . <br><br><h3> <font color="#3AC1EF">‚ñç    React,   </font> </h3><br>     . ,          ,      ,    . <br><br>       ,     npm-    .        ,   ,      100 . <br><br>       , ,    URL <code>/admin</code> ,  <code>&lt;AdminPage&gt;</code> . Webpack    ,      <code>import AdminPage from './AdminPage.js'</code>       . <br><br>     .           ,   ,  <code>import('./AdminPage.js')</code> ,   Webpack    ,      . <br><br> ,      . <br><br> ,  ,    <code>AdminPage</code> ,     ,        URL <code>/admin</code> . ,    : <br><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">React</span></span> from <span class="hljs-symbol"><span class="hljs-symbol">'reac</span></span>t'; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdminPageLoader</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) {   <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props);   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {     <span class="hljs-type"><span class="hljs-type">AdminPage</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>,   } } componentDidMount() {   <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>('./<span class="hljs-type"><span class="hljs-type">AdminPage</span></span>').then(module =&gt; {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-type"><span class="hljs-type">AdminPage</span></span>: module.<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> });   }); } render() {   const { <span class="hljs-type"><span class="hljs-type">AdminPage</span></span> } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state;   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">AdminPage</span></span>     ? &lt;<span class="hljs-type"><span class="hljs-type">AdminPage</span></span> {...<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props} /&gt;     : &lt;div&gt;<span class="hljs-type"><span class="hljs-type">Loading</span></span>...&lt;/div&gt;; } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-type"><span class="hljs-type">AdminPageLoader</span></span>;</code> </pre> <br>        .     (,     URL <code>/admin</code> ),    <code>./AdminPage.js</code> ,          . <br><br>   <code>render()</code>   ,   <code>&lt;AdminPage&gt;</code> ,  <code>&lt;div&gt;Loading...&lt;/div&gt;</code> ,   <code>&lt;AdminPage&gt;</code>  ,         . <br><br>        ,       <code>react-loadable</code> ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> React   . <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br> ,   ,   (,  ,      CSS).   : <br><br><ul><li>          ‚Äî      . </li><li>       ,      ‚Äî    . </li></ul><br>  <b>Liebe Leser!</b>           ? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423483/">https://habr.com/ru/post/de423483/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423469/index.html">Schnellste Gleitkommazahlen im Wilden Westen</a></li>
<li><a href="../de423475/index.html">Den Alterungscode hacken: eine neue Wissenschaft √ºber das Altern und was es bedeutet, jung zu bleiben</a></li>
<li><a href="../de423477/index.html">Sei ein Sicherheits-Ninja: Begib dich auf den Weg zu den H√∂hen von IB</a></li>
<li><a href="../de423479/index.html">"Zuerst": ob man zum Mars fliegt</a></li>
<li><a href="../de423481/index.html">Ich muss den Kubernetes-Cluster erh√∂hen, bin aber nur ein Code-Programmierer. Es gibt einen Ausweg</a></li>
<li><a href="../de423485/index.html">Faules Laden von Bildern mit IntersectionObserver</a></li>
<li><a href="../de423487/index.html">Node.js ohne node_modules</a></li>
<li><a href="../de423489/index.html">Ich bin Notarzt und m√∂chte √ºber das neue Apple Watch-Elektrokardiogramm sprechen</a></li>
<li><a href="../de423491/index.html">PHP Digest Nr. 139 (3. - 17. September 2018)</a></li>
<li><a href="../de423493/index.html">Android Go ist die zuk√ºnftige Milliarde Ger√§te und ein Limit von 50 MB. Yandex Vortrag</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>