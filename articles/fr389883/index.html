<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🎤 ⚗️ 📐 Ok TV - apprenez à Google Now comment contrôler un zombie 👨🏽‍🏫 🖐🏼 👩🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Ok Google, allume les nouvelles!" Il serait pratique de lancer rapidement une voix sur n'importe quelle chaîne sur un téléviseur ordinaire. Ou contrô...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ok TV - apprenez à Google Now comment contrôler un zombie</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389883/"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/HMjIbFPheFo%3Ffeature%3Doembed&amp;usg=ALkJrhi2y83wxv13OMXtACn1f77I0KjWaQ" frameborder="0" allowfullscreen=""></iframe><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ok Google, allume les nouvelles!" </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il serait pratique de lancer rapidement une voix sur n'importe quelle chaîne sur un téléviseur ordinaire. </font><font style="vertical-align: inherit;">Ou contrôlez le climatiseur sans avoir la télécommande à portée de main. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je montrerai comment vous pouvez implémenter le contrôle vocal de n'importe quel téléviseur sans programmation ou en utilisant un fer à souder en utilisant le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contrôleur Broadlink RM très bon marché</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et quelques applications Android. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regardez une vidéo de démonstration du résultat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puis lisez comment le faire vous-même.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'avons-nous?</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Télévision </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zombie</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ordinaire</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À distance de lui</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smartphone Android</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrôleur Broadlink RM</font></font></li>
</ul><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel genre de bête est Broadlink RM?</font></font></h2><br>
<img src="https://habrastorage.org/files/526/e9f/daf/526e9fdaf52f4fa3be46410d5ba77d6d.jpg" align="right"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contrôleur de maison intelligente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si bon marché </font><font style="vertical-align: inherit;">que vous pouvez acheter pour seulement 3 000 roubles. </font><font style="vertical-align: inherit;">Il peut contrôler n'importe quel </font><font style="vertical-align: inherit;">équipement </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stupide</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> doté d'une télécommande infrarouge. </font><font style="vertical-align: inherit;">Il peut s'agir de téléviseurs, de climatiseurs et bien plus encore. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, il sait comment contrôler les équipements aux fréquences radio 315 et 433 MHz - tels que toutes sortes de commutateurs, gradateurs, etc. </font><font style="vertical-align: inherit;">En principe, toutes ses caractéristiques et compétences sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bien écrites ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette chose fonctionne comme un blaster IR (à ne pas confondre avec un blaster de Star Wars et tous les Terminators là-bas). </font><font style="vertical-align: inherit;">Autrement dit, la commande de n'importe quel smartphone, tablette ou ordinateur lui est transmise par le Wi-Fi ordinaire, et elle "remplit" déjà le signal IR requis dans toutes les directions.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que voulons-nous finalement?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous voulons rendre Google Now un peu (enfin, au moins un tout petit peu) plus intelligent et apprendre à comprendre les commandes vocales telles que "Allumer la chaîne Sport", "Rendre le téléviseur plus silencieux", eh bien, en général, j'ai appris à appuyer sur tous les autres boutons. </font><font style="vertical-align: inherit;">Vous n'avez donc plus besoin de chercher différentes télécommandes et vous pouvez gérer tout l'équipement, même à partir d'une montre intelligente sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android Wear</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commençons</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après la configuration initiale de Broadlink RM à l'aide d'une application Android standard, nous devons lui enseigner les codes IR sur notre télécommande TV. Pour que plus tard, lorsque nous envoyons des commandes à ce programme, elle sache quel signal doit être envoyé au contrôleur. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a70/b90/e78/a70b90e78faf4d75888333bedc063da1.png" align="left" height="498" width="299"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, installez l'application </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Broadlink Control</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codes sources sont ouverts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se trouvent ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Il est très simple et vous permet d'enseigner à Broadlink nos boutons, ainsi que d'ajouter des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinaisons de boutons en</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tant que fonctions. Parce que pour certaines chaînes de télévision, vous devez appuyer sur plusieurs boutons. Par exemple, le canal 11. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les boutons et fonctions sont nommés, les fonctions peuvent être poussées dans la liste pour tester leur travail, et aussi pour les démarrer par la voix directement à partir du programme.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous ajoutons un nouveau bouton à la base du programme, le contrôleur entre en mode d'apprentissage pour le nouveau code IR. </font><font style="vertical-align: inherit;">La lumière commence à clignoter, nous apportons le panneau de commande et appuyez sur le bouton souhaité. </font><font style="vertical-align: inherit;">Le programme vous demandera de nommer le bouton d'une manière ou d'une autre et de l'enregistrer dans la liste. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela doit être fait pour tous les boutons de la télécommande, qui sont nécessaires!</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Découvrez Google maintenant</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Now est une excellente chose pour le contrôle vocal. Mais il ne peut pas cliquer sur les boutons du téléviseur ... Maintenant, nous allons corriger cette faille des ingénieurs de Google! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous le savez, Google Now </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'a pas d'API ouverte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour «intégrer» ses fonctions. Mais il y a un assistant vocal russophone Dusya qui peut "retirer" le texte de la demande de Google Now et le traiter s'il convient à l'une des fonctions. De plus, Dusya vous permet de créer vos propres fonctions sans aucune programmation directement dans votre interface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces fonctions «propres» sont appelées scripts et vous permettent de transformer la phrase d'un utilisateur en une séquence d'actions que vous devez lancer sur votre smartphone. Comment? Utilisation de modèles de phrases dont la syntaxe est assez simple:</font></font><br>
<br>
<pre><code class="html hljs xml">* (*|*) [] [*] $Text *
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des phrases comme «Hey Switch to News» conviennent à un tel modèle. </font><font style="vertical-align: inherit;">Ou "Activez la chaîne Sport". </font><font style="vertical-align: inherit;">Dans ce cas, le nom de la chaîne à lancer sera placé dans la variable $ Text. </font><font style="vertical-align: inherit;">Tout est simple! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En réponse à une telle commande, vous pouvez ajouter l'envoi d' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intention</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , c'est-à-dire envoyer un signal sur un smartphone local à un autre programme. </font><font style="vertical-align: inherit;">Ce programme sera Broadlink Control, qui reçoit une ligne de texte, recherche un canal précédemment configuré dessus et envoie des signaux de boutons Broadlink. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est fondamentalement ça!</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eh bien, pas tous bien sûr ...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Créons un tel script dans Dus, y ajoutons le modèle décrit ci-dessus, et dans les actions, nous ajoutons l'envoi de type Broadcast avec l'action com.broadlink.control.action.QUERY et dans les paramètres, nous passons notre variable $ Text dans le paramètre text. </font><font style="vertical-align: inherit;">Comme dans les captures d'écran:</font></font><br>
<br>
<img src="https://habrastorage.org/files/721/b1c/1d3/721b1c1d3daa434c9839b06b9afbe8d0.png" height="498" width="299"> <img src="https://habrastorage.org/files/2b0/f1f/f26/2b0f1ff260c144ed86164f2735ee1773.png" height="498" width="299"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que peut-on faire d'autre?</font></font></b><div class="spoiler_text">,         ,      .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a>.<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et bien sûr, vous devez vous rappeler d'activer l'intégration avec Google Now dans le paramètre «Mode d'arrière-plan» afin que Dusya puisse «intercepter» sa commande et lancer les boutons nécessaires sur Broadlink Control. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, lorsque vous démarrez Google Now avec la phrase magique "Ok Google", nous pouvons commander notre "Turn on the First Channel", après quoi Dusya réagira à cette phrase, fermez Google Now, extrayez le nom de la chaîne de la phrase et envoyez-le au programme Broadlink Control. </font><font style="vertical-align: inherit;">Celui-ci, à son tour, trouvera par son nom la liste des boutons sur lesquels il faut appuyer et les enverra dans le bon ordre au contrôleur Broadlink RM. </font><font style="vertical-align: inherit;">Eh bien, celui-ci transformera le code en un signal IR et le tirera dans toutes les directions afin qu'il atteigne définitivement le récepteur IR même du plus ancien </font><font style="vertical-align: inherit;">téléviseur à </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tube</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et maintenant c'est sûr!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple de la façon d'enseigner n'importe quelle technique pour utiliser la commande vocale sans aucune programmation et fer à souder en très peu de temps et très peu d'argent (pour une solution en boîte de la classe «maison intelligente»). </font><font style="vertical-align: inherit;">Permettez-moi de vous rappeler que Google Now peut également être lancé sur l'écran du smartphone éteint (par exemple, il ne fonctionne que sur mon chargeur), ainsi que sur la montre intelligente Android Wear. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela fera une impression durable sur les invités, et en effet c'est sympa ... </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ok Google, je ne regarde pas la télé!</font></font></i></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr389883/">https://habr.com/ru/post/fr389883/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr389871/index.html">Expérience avec LigthBiz OS</a></li>
<li><a href="../fr389873/index.html">Magnifique panorama de Mars depuis la NASA</a></li>
<li><a href="../fr389877/index.html">WTM (Waveform temporal memory) - un modèle de réseau neuronal pour résoudre le problème du comportement adaptatif</a></li>
<li><a href="../fr389879/index.html">Yard Path: WhatsApp dessert des milliards d'utilisateurs actifs</a></li>
<li><a href="../fr389881/index.html">Le nouvel appareil d'Oculus vous permettra de filmer des films en réalité virtuelle</a></li>
<li><a href="../fr389885/index.html">Contrôle de l'éclairage de la salle de bain basé sur le compteur des visiteurs</a></li>
<li><a href="../fr389887/index.html">Microsoft prévoit d'héberger des centres de données au fond de l'océan</a></li>
<li><a href="../fr389893/index.html">Films et crypto-monnaies ou avec: Bitcoin</a></li>
<li><a href="../fr389895/index.html">La tablette qui a conquis le monde - XiaoMi Mi Pad 2</a></li>
<li><a href="../fr389897/index.html">UAE Robotics & AI Prize: 20 demi-finalistes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>