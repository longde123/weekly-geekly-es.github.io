<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêüèª üìß ‚òëÔ∏è Th√®mes et styles dans les applications Android üöë üßúüèæ üÜó</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De toute fa√ßon, chaque d√©veloppeur Android devait travailler avec des styles. Quelqu'un se sent en confiance avec lui, quelqu'un n'a que des connaissa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Th√®mes et styles dans les applications Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/461201/"><p><img src="https://habrastorage.org/webt/s8/y5/ky/s8y5kywibxonrjj72vgjz24pxau.png"></p><br><p>  De toute fa√ßon, chaque d√©veloppeur Android devait travailler avec des styles.  Quelqu'un se sent en confiance avec lui, quelqu'un n'a que des connaissances superficielles, ce qui ne lui permet souvent pas de r√©soudre le probl√®me par lui-m√™me. </p><br><p>  En pr√©vision de la sortie du th√®me sombre, il a √©t√© d√©cid√© de rafra√Æchir en m√©moire toutes les informations relatives aux th√®mes et styles dans les applications Android. </p><a name="habracut"></a><br><h4 id="o-chem-poydet-rech">  Ce qui sera discut√©: </h4><br><ul><li>  Consid√©rez les concepts de base des th√®mes et des styles dans les applications Android, voyez quelles opportunit√©s ils nous offrent; </li><li>  Cr√©ons un th√®me simple √† l'aide des composants de mat√©riaux et jouons avec les styles de red√©finition; </li><li>  Voyons comment fonctionne le th√®me sombre; </li><li>  Formuler des recommandations pour travailler avec des styles. </li></ul><br><h3 id="nachnem-s-osnov">  Commen√ßons par les bases </h3><br><p>  Dans leur structure, les th√®mes et les styles ont une structure commune: </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MyStyleOrTheme"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">value</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Pour cr√©er, utilisez la balise de <code>style</code> .  Chaque style a un nom et il stocke les param√®tres de <code>key-value</code> . </p><br><p>  Tout est assez simple.  Mais quelle est la diff√©rence entre le th√®me et le style? </p><br><p>  <strong>La seule</strong> diff√©rence est la fa√ßon dont nous les utilisons. </p><br><h4 id="tema">  Th√®me </h4><br><p>  Un th√®me est un ensemble de param√®tres qui s'appliquent √† l'ensemble du composant d'application, d'activit√© ou de vue.  Il contient les couleurs de base de l'application, les styles de rendu de <strong>tous les</strong> composants de l'application et divers param√®tres. </p><br><p>  Exemple de sujet: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Base colors--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorOnPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_on_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorOnError"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_on_error</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Style attributes--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textAppearanceHeadline1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/TextAppearance.MyTheme.Headline1</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"bottomSheetDialogTheme"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/ThemeOverlay.MyTheme.BottomSheetDialog</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"chipStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MaterialComponents.Chip.Action</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textInputStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MaterialComponents.TextInputLayout.FilledBox</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Params--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:windowTranslucentStatus"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Le th√®me a red√©fini les couleurs principales de l'application ( <code>colorPrimary</code> , <code>colorSecondary</code> ), le style du texte ( <code>textAppearanceHeadline1</code> ) et certains composants standard de l'application, ainsi que l'option d'une barre d'√©tat transparente. </p><br><p>  Pour que le style devienne un vrai sujet, il faut h√©riter (on parlera d'h√©ritage un peu plus tard) de l'impl√©mentation par d√©faut du sujet. </p><br><h4 id="stil">  Le style </h4><br><p>  Un style est un ensemble de param√®tres permettant de styliser un seul composant View. </p><br><p>  Exemple de style pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TextInputLayout</a> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.CustomTextInputLayout"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.TextInputLayout.FilledBox"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"boxBackgroundMode"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">outline</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"boxStrokeColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"shapeAppearanceOverlay"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/MyShapeAppearanceOverlay</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="atribut">  Attribut </h4><br><p>  Un attribut est une cl√© de style ou de th√®me.  Ce sont de petites briques √† partir desquelles tout est construit: </p><br><pre> <code class="plaintext hljs">colorPrimary colorSecondary colorOnError boxBackgroundMod boxStrokeColor shapeAppearanceOverlay ...</code> </pre> <br><p>  Toutes ces cl√©s sont des attributs standard. </p><br><p>  Nous pouvons cr√©er nos propres attributs: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">attr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myFavoriteColor"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">format</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color|reference"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  L'attribut <code>myFavoriteColor</code> pointera vers une couleur ou un lien vers une ressource de couleur. </p><br><p>  Dans le format, nous pouvons sp√©cifier des valeurs assez standard: </p><br><ul><li>  couleur </li><li>  r√©f√©rence </li><li>  cha√Æne </li><li>  √©num√©rer </li><li>  fraction </li><li>  dimension </li><li>  bool√©en </li><li>  drapeaux </li><li>  flotter </li><li>  entier </li></ul><br><p>  De par sa nature, un attribut <strong>est une interface</strong> .  Il doit √™tre impl√©ment√© dans le sujet: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"myFavoriteColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_favorite</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Maintenant, nous pouvons nous y r√©f√©rer.  La structure g√©n√©rale de l'appel ressemble √† ceci: </p><br><p><img src="https://habrastorage.org/webt/1s/py/bq/1spybqvzmhtmtgdnauefjwrffvy.png"></p><br><pre> <code class="plaintext hljs">1 ‚Äî   ,     ; 2 ‚Äî namespace   (   Material Components Library); 3 ‚Äî   ,     (); 4 ‚Äî  .</code> </pre><br><p>  Enfin, changeons, par exemple, la couleur du texte du champ: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">androidx.appcompat.widget.AppCompatTextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"?attr/myFavoriteColor"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><p>  Gr√¢ce aux attributs, nous pouvons ajouter tout type d'abstraction qui changera √† l'int√©rieur du sujet. </p><br><h4 id="nasledovanie-tem-i-stiley">  H√©riter des th√®mes et des styles </h4><br><p>  Comme dans la POO, nous pouvons adopter la fonctionnalit√© d'une impl√©mentation existante.  Il existe deux fa√ßons de proc√©der: </p><br><ul><li>  Explicite (explicite) </li><li>  Implicite (implicitement) </li></ul><br><p>  Pour l'h√©ritage explicite, nous sp√©cifions le parent √† l'aide du mot-cl√© <code>parent</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Pour l'h√©ritage implicite, nous utilisons <code>dot-notation</code> par <code>dot-notation</code> pour indiquer le parent: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SnackbarStyle.Green"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  <strong>Il n'y a aucune diff√©rence</strong> dans le travail de ces approches. </p><br><p>  Tr√®s souvent, nous pouvons rencontrer des styles similaires: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.Snackbar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Il peut sembler que le style est cr√©√© par double h√©ritage.  Ce n'est en fait pas le cas.  L'h√©ritage multiple est interdit.  Dans cette d√©finition, <strong>l'h√©ritage explicite l'emporte toujours</strong> . </p><br><p>  Autrement dit, un style sera cr√©√© avec le nom <code>Widget.MyApp.Snackbar</code> , qui est le descendant de <code>Widget.MaterialComponents.Snackbar</code> . </p><br><h4 id="themeoverlay">  Superposition de th√®me </h4><br><p>  ThemeOverlay - ce sont des th√®mes sp√©ciaux "l√©gers" qui vous permettent de <strong>remplacer les</strong> attributs du th√®me principal pour le composant View. </p><br><p>  Nous n'irons pas loin pour un exemple, mais prenons un cas de notre application.  Les concepteurs ont d√©cid√© que nous devons cr√©er un champ de connexion standard, qui aura une couleur diff√©rente du style principal. </p><br><p>  Avec le sujet principal, le champ de saisie ressemble √† ceci: </p><br><p><img src="https://habrastorage.org/webt/s5/yu/oi/s5yuoi48tfh_sppymhz6pmparlw.png"></p><br><p>  Cela a l'air g√©nial, mais les concepteurs insistent pour que le champ soit de style brun. </p><br><p>  D'accord, comment pouvons-nous r√©soudre ce probl√®me? </p><br><ul><li><p>  Remplacer le style? </p><br><blockquote>  Oui, nous pouvons red√©finir le style et changer manuellement les couleurs principales de la vue, mais pour cela, vous devrez √©crire beaucoup de code, et il y a une chance que nous oublions quelque chose. </blockquote><br></li><li><p>  √âcrivez votre point de vue sur les directives et les param√®tres personnalis√©s? </p><br><blockquote>  Une bonne option, afin que nous puissions satisfaire n'importe quelle liste de souhaits des concepteurs et en m√™me temps pomper les comp√©tences, mais tout cela est laborieux et peut conduire √† des bugs ind√©sirables. </blockquote><br></li><li><p>  Remplacer la couleur principale du th√®me? </p><br><blockquote>  Nous avons d√©couvert que pour le type dont nous avons besoin, il suffit de changer le <code>colorPrimary</code> dans le sujet.  Une option de travail, mais de cette fa√ßon, nous affectons l'apparence des composants restants, mais nous n'en avons pas besoin. </blockquote><br></li></ul><br><p>  La bonne solution consiste √† utiliser <strong>ThemeOverlay</strong> . </p><br><p>  Cr√©ez <code>ThemeOverlay</code> et red√©finissez la <strong>couleur</strong> principale <strong>du th√®me</strong> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MyApp.Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MaterialComponents.TextInputEditText"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorBrown</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ensuite, nous le sp√©cifions √† l'aide de la balise sp√©ciale <code>android:theme</code> dans notre <code>TextInputLayout</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:theme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/ThemeOverlay.MyApp.Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:hint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputEditText</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.textfield.TextInputLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><p>  Tout fonctionne comme nous en avons besoin. </p><br><p><img src="https://habrastorage.org/webt/6m/la/n8/6mlan8wjvg-7ikio4qtpupd5el0.png"></p><br><p>  Bien s√ªr, la question se pose - comment √ßa marche sous le capot? </p><br><p>  Cette magie vous permet de lancer <code>ContextThemeWrapper</code> .  Lors de la cr√©ation d'une vue dans <code>LayoutInflater</code> , un contexte sera cr√©√© dans lequel le th√®me actuel sera pris comme base et les param√®tres que nous avons sp√©cifi√©s dans notre th√®me Overlay y seront red√©finis. </p><br><pre> <code class="java hljs">../LayoutInflater.java <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TypedArray ta = context.obtainStyledAttributes(attrs, ATTRS_THEME); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> themeResId = ta.getResourceId(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (themeResId != <span class="hljs-number"><span class="hljs-number">0</span></span>) { context = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ContextThemeWrapper(context, themeResId); } ta.recycle();</code> </pre> <br><p>  De m√™me, nous pouvons remplacer ind√©pendamment n'importe quel param√®tre de th√®me dans l'application. </p><br><h4 id="posledovatelnost-primeneniya-tem-i-stiley-ko-view-komponentu">  La s√©quence d'application des th√®mes et des styles au composant View </h4><br><p><img src="https://habrastorage.org/webt/6h/nu/3q/6hnu3qggsk4bcsl9stdcagwo6fm.png"></p><br><ol><li><p>  La priorit√© principale est le fichier de balisage.  Si un param√®tre y est d√©fini, tous les param√®tres similaires seront ignor√©s. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/colorRed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></li><li><p>  La prochaine priorit√© est le style d'affichage: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äú@Widget.MyApp.ButtonStyle</span></span></span><span class="hljs-tag">" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></li><li><p>  Les √©l√©ments suivants utilisent des styles pr√©d√©finis pour le composant: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme..."</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚ÄúmaterialButtonStyle‚Äù</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@Widget.MyApp.ButtonStyle</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li><li><p>  Si aucun param√®tre n'a √©t√© trouv√©, les attributs de th√®me sont utilis√©s: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme..."</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚ÄúcolorPrimary‚Äù</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@colorPrimary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></li></ol><br><p>  En g√©n√©ral, c'est tout ce que vous devez savoir pour commencer √† travailler sur des sujets.  Jetons maintenant un coup d'≈ìil √† la biblioth√®que de conception des composants de mat√©riaux mise √† jour. </p><br><h3 id="da-pribudet-s-nami-material-components">  Que les composants mat√©riels viennent avec nous </h3><br><p>  Les composants mat√©riels ont √©t√© introduits lors de Google I / O 2018 et remplacent la biblioth√®que de support de conception. </p><br><p>  La biblioth√®que nous donne la possibilit√© d'utiliser des composants mis √† jour de Material Design 2.0.  De plus, de nombreuses options de personnalisation int√©ressantes y sont apparues.  Tout cela vous permet d'√©crire des applications lumineuses et uniques. </p><br><p><img src="https://habrastorage.org/webt/ab/fe/-w/abfe-wipeljjatkbhpbmsmxe3ru.png"></p><br><p><img src="https://habrastorage.org/webt/e8/h5/rq/e8h5rqfdtmluqfj1isrpwb6rz78.png"></p><br><p>  Voici quelques exemples d'applications dans le nouveau style: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Owl</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Reply</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Crane</a> . </p><br><h3 id="pereydem-k-praktike">  Passons √† la pratique </h3><br><p>  Pour cr√©er un sujet, vous devez h√©riter du sujet de base: </p><br><pre> <code class="xml hljs">Theme.MaterialComponents Theme.MaterialComponents.NoActionBar Theme.MaterialComponents.Light Theme.MaterialComponents.Light.NoActionBar Theme.MaterialComponents.Light.DarkActionBar Theme.MaterialComponents.DayNight Theme.MaterialComponents.DayNight.NoActionBar Theme.MaterialComponents.DayNight.DarkActionBar</code> </pre> <br><p>  Tous sont tr√®s similaires aux th√®mes <code>AppCompat</code> , mais ont des attributs et des param√®tres suppl√©mentaires. </p><br><p>  Vous pouvez en savoir plus sur les nouveaux attributs sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">material.io</a> . </p><br><p>  Si, pour une raison quelconque, vous ne pouvez pas passer √† un nouveau sujet pour le moment, les th√®mes <code>Bridge</code> feront l'affaire.  Ils h√©ritent des th√®mes <code>AppCompat</code> et ont tous les nouveaux attributs des composants de mat√©riau.  Il vous suffit d'ajouter le suffixe <code>Bridge</code> et d'utiliser toutes les fonctionnalit√©s sans crainte: </p><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> Theme.MaterialComponents.Light.Bridge <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></code> </pre> <br><p>  Et voici notre sujet: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_primary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorSecondaryVariant"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/color_secondary_variant</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span></span><span class="xml"><span class="undefined"></span></span></code> </pre> <br><p>  Les noms des couleurs primaires (couleurs de marque) ont chang√©: </p><br><pre> <code class="xml hljs">colorPrimary ‚Äî       (   AppCompat); colorPrimaryVariant ‚Äî    ( colorPrimaryDark  AppCompat); colorSecondary ‚Äî        ( colorAccent  AppCompat); colorSecondaryVariant ‚Äî   .</code> </pre> <br><p>  Vous trouverez de plus amples informations sur les couleurs sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">material.io</a> . </p><br><p>  J'ai d√©j√† mentionn√© que le th√®me contient des styles standard pour chaque composant View.  Par exemple, pour <code>Snackbar</code> style sera appel√© <code>snackbarStyle</code> , pour <code>checkbox</code> - <code>checkboxStyle</code> , puis tout sera similaire.  Un exemple mettra tout √† sa place: </p><br><p><img src="https://habrastorage.org/webt/wq/wn/yq/wqwnyqvncrfen6oykpgm9uvi87i.png"></p><br><p>  Cr√©ez votre propre style et appliquez-le au th√®me: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"snackbarStyle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MyApp.SnackbarStyle</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.Snackbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Il est important de comprendre que lorsque vous red√©finissez un style dans un th√®me, il s'appliquera √† <strong>toutes les</strong> vues de ce type dans l'application (Activit√©). </p><br><p>  Si vous souhaitez appliquer le style √† une seule vue sp√©cifique, vous devez utiliser la balise de <code>style</code> dans le fichier avec le balisage: </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.google.android.material.button.MaterialButton</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style/Widget.MyApp.SnackbarStyle"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  <strong>ShapeAppearance</strong> est l'une des innovations qui m'a vraiment impressionn√©.  Il vous permet de changer la forme des composants directement dans le sujet! </p><br><p>  Chaque composant View appartient √† un certain groupe: </p><br><ul><li><p>  formeApparence <strong>Petit</strong> composant </p><br></li><li><p>  formeApparence Composant <strong>moyen</strong> </p><br></li><li><p>  formeApparence <strong>Grand</strong> composant </p><br></li></ul><br><p>  Comme nous pouvons le comprendre d'apr√®s le nom, en groupes de vues de diff√©rentes tailles. </p><br><p><img src="https://habrastorage.org/webt/40/wy/67/40wy670nyjpe9rm-uweiks4lc54.png"></p><br><p>  V√©rifiez en pratique: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"shapeAppearanceSmallComponent"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@style/Widget.MyApp.SmallShapeAppearance</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.SmallShapeAppearance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄúShapeAppearance.MaterialComponents.SmallComponent‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerFamilyTopLeft"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">rounded</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerFamilyBottomRight"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">cut</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerSizeTopLeft"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">20dp</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cornerSizeBottomRight"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">15dp</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--&lt;item name="cornerFamily"&gt;cut&lt;/item&gt;--&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--&lt;item name="cornerSize"&gt;8dp&lt;/item&gt;--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Nous avons cr√©√© <code>Widget.MyApp.SmallShapeAppearance</code> pour les "petits" composants.  Nous avons arrondi le coin sup√©rieur gauche de <code>20dp</code> et le coin inf√©rieur droit coup√© de <code>15dp</code> . </p><br><p>  Vous avez ce r√©sultat: </p><br><p><img src="https://habrastorage.org/webt/bo/ix/-a/boix-ai4fphlgpnzaad5wqb7osu.png"></p><br><p>  √áa a l'air int√©ressant.  Cela fonctionnera-t-il dans la vraie vie?  Le temps nous le dira. </p><br><p>  Comme pour les styles, nous ne pouvons appliquer <code>ShapeAppearance</code> qu'√† un seul composant View. </p><br><h3 id="chto-tam-po-temnoy-teme">  Qu'y a-t-il sur un sujet sombre? </h3><br><p>  La sortie d'Android Q aura lieu tr√®s bient√¥t, et avec elle le th√®me sombre officiel nous parviendra. </p><br><p>  L'une des fonctionnalit√©s les plus int√©ressantes et spectaculaires de la nouvelle version d'Android est peut-√™tre l'application automatique d'un th√®me sombre pour l'ensemble de l'application avec une seule ligne de code. </p><br><p>  Sonne bien, essayons.  Je sugg√®re de prendre un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">client gitlab</a> pr√©f√©r√© de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">terrakok</a> . </p><br><p>  Autoriser la repeinture de l'application (d√©sactiv√©e par d√©faut): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.AppCompat.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:forceDarkAllowed"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  L' <code>android:forceDarkAllowed</code> est disponible avec l'API 29 (Android Q). </p><br><p>  Nous commen√ßons, regardez ce qui s'est pass√©: </p><br><p><img src="https://habrastorage.org/webt/mu/d4/8v/mud48vrjwkwwmesevno-zo5jyaq.png"></p><br><p>  Convenez que pour une ligne de code, cela semble tr√®s cool. </p><br><p>  Bien s√ªr, il y a des probl√®mes - <code>BottomNavigationBar</code> fusionne avec l'arri√®re-plan, le chargeur reste blanc, la s√©lection de code souffre et, semble-t-il, tout, du moins rien de grave ne m'a frapp√©. </p><br><p>  Je suis s√ªr que passer moins de temps peut r√©soudre les principaux probl√®mes.  Par exemple, d√©sactiver le mode sombre automatique pour les vues individuelles (oui, il est √©galement possible - <code>android:forceDarkAllowed</code> est disponible pour View dans un fichier de balisage). </p><br><p>  Il faut se rappeler que ce mode n'est disponible que pour les th√®mes clairs, si vous en utilisez un sombre, alors un th√®me sombre forc√© ne fonctionnera pas. </p><br><p>  Les recommandations de travaux se trouvent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la documentation</a> et sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">material.io</a> . </p><br><h3 id="a-esli-my-hotim-vse-delat-samostoyatelno">  Et si nous voulons tout faire par nous-m√™mes? </h3><br><p>  Peu importe la facilit√© d'utilisation d'un th√®me sombre forc√©, ce mode est d√©pourvu de flexibilit√©.  En fait, tout fonctionne selon des r√®gles pr√©d√©finies qui peuvent ne pas nous convenir et, surtout, le client.  Je pense qu'une telle d√©cision peut √™tre consid√©r√©e comme temporaire, jusqu'√† ce que nous fassions notre mise en ≈ìuvre d'un sujet sombre. </p><br><p>  Dans l'API 8 (Froyo), le qualificatif <code>-night</code> √©t√© ajout√©, qui est utilis√© √† ce jour pour appliquer un th√®me sombre.  Il vous permet d'appliquer automatiquement le th√®me souhait√© en fonction de l'heure de la journ√©e. </p><br><p>  Dans les th√®mes <code>DayNight</code> , une telle impl√©mentation est d√©j√† utilis√©e, il nous suffit d'en h√©riter. </p><br><p>  Essayons d'√©crire le n√¥tre: </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents.Light"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base&gt; &lt;!-- ... --&gt; </span></span></span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> ../values-night/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.DayNight.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MaterialComponents"</span></span></span><span class="hljs-tag">/&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br><p>  Dans la ressource habituelle pour le th√®me ( <code>values/themes.xml</code> ) nous <code>values/themes.xml</code> du th√®me light, dans la "nuit" ( <code>values-night/themes.xml</code> ) nous <code>values-night/themes.xml</code> du th√®me dark. </p><br><p>  C‚Äôest tout.  Nous avons obtenu une impl√©mentation de biblioth√®que d'un th√®me sombre.  Maintenant, nous devons soutenir les ressources pour deux sujets. </p><br><p>  Pour basculer entre les th√®mes pendant que l'application est en cours d'ex√©cution, vous pouvez utiliser <code>AppCompatDelegate.setDefaultNightMode</code> , qui prend les param√®tres suivants: </p><br><ul><li>  <code>MODE_NIGHT_NO</code> - Th√®me lumineux; </li><li>  <code>MODE_NIGHT_YES</code> - Th√®me sombre; </li><li>  <code>MODE_NIGHT_AUTO_BATTERY</code> - Mode automatique.  Le th√®me sombre s'active si le mode d'√©conomie d'√©nergie est activ√©; </li><li>  <code>MODE_NIGHT_FOLLOW_SYSTEM</code> - Mode bas√© sur les param√®tres syst√®me. </li></ul><br><h3 id="chto-nam-sleduet-uchityvat-pri-rabote-s-temami-i-stilyami">  Que devons-nous consid√©rer lorsque nous travaillons avec des th√®mes et des styles? </h3><br><p>  Comme je l'ai not√©, Google a officiellement commenc√© √† forcer un sujet sombre.  Je suis s√ªr que de nombreux clients ont commenc√© √† recevoir des questions - "Pouvons-nous ajouter un th√®me sombre?".  C'est bien si vous faites tout d√®s le d√©but et il est facile pour vous de changer les couleurs claires en fonc√©es, tout en recevant une application compl√®tement repeinte. </p><br><p>  Malheureusement, ce n'est pas toujours le cas.  Il existe de vieilles applications qui n√©cessitent des efforts consid√©rables pour apporter les modifications n√©cessaires. </p><br><p>  Essayons de formuler des recommandations pour travailler ensemble avec des styles: </p><br><h4 id="1-palitra-cvetov">  1. Le s√©lecteur de couleurs </h4><br><p>  Je pense que chaque d√©veloppeur est confront√© √† une situation o√π une couleur √©trange appara√Æt dans la nouvelle mise en page qui n'est pas encore d√©finie dans la palette d'application.  Que faire dans ce cas? </p><br><p>  La bonne r√©ponse est de parler au designer et d'essayer de d√©velopper une palette de couleurs.  Il existe maintenant de nombreux programmes (Zeplin, Sketch, etc.) qui vous permettent de rendre les couleurs primaires, puis de les r√©utiliser. </p><br><p>  Plus t√¥t vous le ferez, moins vous aurez de maux de t√™te √† l'avenir. </p><br><h4 id="2-nazyvat-cveta-svoimi-imenami">  2. √âpeler les couleurs par leurs noms propres </h4><br><p>  Dans chaque application, il existe une couleur qui poss√®de de nombreuses options de luminosit√©.  Vous pouvez commencer √† leur inventer des noms: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_tiny"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_light"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"green_dark"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  D'accord, √ßa n'a pas l'air tr√®s bien.  La question se pose imm√©diatement - quelle couleur est plus claire que <code>tiny</code> ou <code>light</code> ?  Et si nous avons une dizaine d'options? </p><br><p>  Il est pr√©f√©rable de s'en tenir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">au concept de Google</a> et d'ajouter la luminosit√© appropri√©e aux noms de couleur (Google appelle cette option de couleur - <code>colorVariant</code> ): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_300"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_700"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"material_green_900"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">color</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Avec cette approche, nous pouvons avoir un certain nombre d'options de luminosit√© d'une seule couleur et nous n'avons pas √† proposer de noms sp√©cifiques, ce qui est vraiment difficile. </p><br><h4 id="3-abstragirovatsya-ot-konkretnogo-cveta-esli-on-menyaetsya-v-raznyh-temah">  3. Abstraire d'une couleur sp√©cifique si elle change dans diff√©rents sujets </h4><br><p>  Puisque nous √©crivons une application dans laquelle il y aura au moins deux sujets, nous ne pouvons pas nous permettre de faire r√©f√©rence √† une couleur sp√©cifique si elle est impl√©ment√©e dans les th√®mes de diff√©rentes mani√®res. </p><br><p>  Regardons un exemple: </p><br><p><img src="https://habrastorage.org/webt/9r/ww/97/9rww97ptqjv0yrqkizqu5qigmuu.png"></p><br><p>  Nous voyons que dans un th√®me clair, par exemple, la barre d'outils est color√©e en violet, et dans le noir, elle est gris fonc√©.  Comment pourrions-nous impl√©menter ce comportement en utilisant uniquement les capacit√©s des th√®mes? </p><br><p>  Tout est assez simple - nous allons cr√©er un attribut et l'impl√©menter dans des th√®mes clairs et sombres avec la couleur appropri√©e, comme d√©crit pr√©c√©demment. </p><br><p>  Google recommande d'associer les noms d'attributs √† la s√©mantique d'utilisation. </p><br><h4 id="4-ne-boyatsya-sozdavat-resursnye-fayly">  4. N'ayez pas peur de cr√©er des fichiers de ressources </h4><br><p>  Lorsque de nombreux styles, th√®mes et attributs diff√©rents sont saisis dans <code>styles.xml</code> , il devient difficile √† maintenir. </p><br><p>  Il est pr√©f√©rable de tout regrouper dans des fichiers s√©par√©s: </p><br><pre> <code class="plaintext hljs">themes.xml ‚Äî Theme &amp; ThemeOverlay styles.xml ‚Äî Widget styles type.xml ‚Äî TextAppearance, text size etc shape.xml ‚Äî ShapeAppearance motion.xml ‚Äî Animations styles system_ui.xml ‚Äî Booleans, colors for UI control //may be other files</code> </pre> <br><p>  Une r√®gle aussi simple √©vitera les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fichiers divins</a> et, par cons√©quent, il sera plus facile de maintenir les styles. </p><br><h4 id="5-pereispolzovat-po-maksimumu">  5. R√©utiliser au maximum </h4><br><p>  Que ferons-nous si nous voulons red√©finir un attribut qui n'est disponible qu'√† partir d'une version sp√©cifique de l'API? </p><br><p>  Nous pouvons cr√©er deux sujets distincts: </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MaterialComponents.NoActionBar‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> ../values-v27/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MaterialComponents.NoActionBar‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">name="android:windowLightNavigationBar"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">...</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Avons-nous maintenant un th√®me avec tous les param√®tres pour chaque version de l'API?  Bien s√ªr que non!  Nous allons cr√©er un sujet de base o√π les attributs de base disponibles pour toutes les versions de l'API seront d√©termin√©s et h√©rit√©s de celui-ci dans la version souhait√©e de l'API: </p><br><pre> <code class="xml hljs">../values/themes.xml <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MaterialComponents.DayNight.NoActionBar‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!--Many definition--&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MyApp.Base‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> ../values-v27/themes.xml </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base.V27"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Base"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"><span class="xml"><span class="xml"> </span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">name="android:windowLightNavigationBar"</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="xml">...</span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;/</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="xml"><span class="xml"> </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùTheme.MyApp.Base.V27‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="undefined"></span></code> </pre> <br><p>  Par ce principe, tous les sujets de la biblioth√®que standard sont cr√©√©s. </p><br><h4 id="6-ispolzovat-vektornye-resursy-i-tint">  6. Utilisez les ressources vectorielles et la teinte </h4><br><p>  Je pense que cela ne vaut pas la peine de dire pourquoi les ressources vectorielles sont bonnes.  Tout le monde le sait d√©j√† (juste au cas o√π, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien vers la documentation</a> ).  Eh bien, la <strong>teinture</strong> nous aidera √† les colorer dans des couleurs de th√®me. </p><br><p>  Vous pouvez voir ce qu'est la teinture et comment l'utiliser avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet exemple</a> . </p><br><h4 id="7-androidattr-vs-attr">  7.? Android: attr / ... vs? Attr / ... </h4><br><p>  Lors de l'acc√®s aux ressources, nous avons la possibilit√© d'utiliser √† la fois les attributs syst√®me et les attributs de la biblioth√®que des composants de mat√©riaux.  Il est important de comprendre que certains attributs n'existent qu'avec une version sp√©cifique de l'API.  Comme nous le savons tous, l'acc√®s √† une ressource inexistante entra√Æne un plantage (peluches, bien s√ªr, nous dira si quelque chose ne va pas, mais vous ne devriez pas toujours vous y fier) </p><br><pre> <code class="xml hljs">android:background="?android:attr/selectableItemBackgroundBorderless" android:background="?attr/selectableItemBackgroundBorderless"</code> </pre> <br><p>  Dans le premier cas, nous acc√©dons √† la ressource syst√®me, comme indiqu√© par <code>android</code> .  Dans le second cas, √† un attribut de la biblioth√®que o√π la compatibilit√© descendante est impl√©ment√©e. </p><br><p>  Il est pr√©f√©rable de toujours utiliser la deuxi√®me option. </p><br><h4 id="8-vsegda-ukazyvat-roditelya-dlya-stilya">  8. Toujours sp√©cifier le parent pour le style </h4><br><p>  Il peut y avoir des param√®tres dans le style parent, sans lesquels le composant ne sera pas rendu correctement, vous devez donc toujours sp√©cifier le parent. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Widget.MaterialComponents.TextInputLayout.FilledBox"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"errorTextColor"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorError</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4 id="9-tema-stil-ili--">  9. Th√®me, style ou ...? </h4><br><p>  Lors de la cr√©ation de vos propres th√®mes et styles, ce sera g√©nial si vous sp√©cifiez un pr√©fixe qui indique de quel type de style il s'agit et pour quoi il est d√©fini.  Une telle d√©nomination facilitera la structure et l'extension des styles. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.MyApp.Main"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äù...‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"><span class="xml"><span class="xml"> </span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Widget.MyApp.LoginInputLayout.Brown"</span></span></span></span></span><span class="xml"><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="xml"> </span></span></span><span class="hljs-tag"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">&lt;</span></span></span></span><span class="hljs-name"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-name">style</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"ThemeOverlay.MyApp.Login"</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"> </span></span></span></span><span class="hljs-attr"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">=</span></span></span></span><span class="hljs-string"><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag"><span class="hljs-string">‚Äù...‚Äù/</span></span></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></span><span class="undefined"></span></span></span></span><span class="xml"><span class="xml"><span class="xml"><span class="undefined"></span></span></span></span></code> </pre> <br><h4 id="10-ispolzovat-textappearance">  10. Utilisez TextAppearance </h4><br><p>  Ce sera un bon ton pour √©tendre les styles de base du texte et les utiliser partout. </p><br><p>        Material Design: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Typography</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Typography Theming</a> . </p><br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>    ,    ‚Äî     ,   .        -    .         Material Components.            .      Sketch ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Material Theme Editor</a> .               .        ,    . </p><br><p>   Material Components     GitHub ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Modular and customizable Material Design UI components for Android</a> .            .  ,    ‚Äî sample,      . </p><br><h4 id="poleznye-ssylki">  Liens utiles: </h4><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Getting started with Material Components for Android</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Theming Guide</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Android themes &amp; styles demystified ‚Äî Google I/O 2016</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Best Practices for Themes and Styles (Android Dev Summit '18)</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">The Components of Material Design (Android Dev Summit '18)</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Masking Bitmaps  Android</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461201/">https://habr.com/ru/post/fr461201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461191/index.html">Enregistrements du groupe d'√©t√© DIYorDIE du 16 juin</a></li>
<li><a href="../fr461193/index.html">Avec vous PhysTech.Science: √©liminez la distorsion cognitive et comprenez les secrets de l'esprit</a></li>
<li><a href="../fr461195/index.html">Interface IR, Raspberry et LIRC</a></li>
<li><a href="../fr461197/index.html">Contes sur les dures victimes russes de l'informatique et de la num√©risation</a></li>
<li><a href="../fr461199/index.html">Comment utiliser les modules PAM pour l'authentification locale sous Linux en utilisant les cl√©s GOST-2012 sur Rutoken</a></li>
<li><a href="../fr461205/index.html">Meilleurs syst√®mes de gestion des tests 2019</a></li>
<li><a href="../fr461207/index.html">Sysadmins, aujourd'hui est notre jour</a></li>
<li><a href="../fr461209/index.html">Sprint ou marathon?</a></li>
<li><a href="../fr461211/index.html">O√π ils enseignent pour enseigner (pas seulement √† l'Institut p√©dagogique)</a></li>
<li><a href="../fr461213/index.html">Test automatique: dix Lifehacks de l'√©quipe Skyeng</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>