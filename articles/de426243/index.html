<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛳️ 💄 💪🏾 Wie man wegen Helm in die Hölle kommt, aber sich einen Strohhalm schnappt 😶 🦂 🧑🏽‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Müde Hipster sagen die Wahrheit. 

 Wir alle (das heißt ich) lieben es, alles Neue und Brillante in die Produktion zu ziehen, um endlich einige Prob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man wegen Helm in die Hölle kommt, aber sich einen Strohhalm schnappt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426243/"><img src="https://habrastorage.org/webt/u5/gs/fh/u5gsfhzampml9-ahlmi96on3uie.png" width="45%" align="right">  <i>- Müde Hipster sagen die Wahrheit.</i> <br><br>  Wir alle (das heißt ich) lieben es, alles Neue und Brillante in die Produktion zu ziehen, um endlich einige Probleme durch andere zu ersetzen.  Diese Geschichte ist uns (dh mir) gewidmet. <br><br>  Um den Rest des Textes zu verstehen und zu verzeihen, benötigen Sie oberflächliche Kenntnisse im Umgang mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes</a> auf Benutzerebene und einige Gerüchte über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Helm</a> . <br><a name="habracut"></a><br>  Lassen Sie uns zuerst abstrahieren und dann jemanden damit befassen.  Stellen Sie sich für einen Moment vor, wir wären eine Art Columbus in der Welt der Smoothies, Elektroroller und Kubernetes.  Unsere Leute drängen sich in der übervölkerten alten Frau Europas in einem ihrer kleinen endlosen Staaten und setzen täglich Einsätze mit Kronenjob ein, um die Quadrocopter zu knirschen.  Aber Astronomen haben bereits eine Erklärung für die verdächtige Krümmung des Horizonts gefunden.  Und genau da ist das Gefühl, dass wir der auserwählte Van unserer Zeit sind.  (Aber niemand fragte.) Und irgendwo dort, jenseits des halbkreisförmigen Ozeans - der kürzeste Weg nach Indien!  Endlose Freiräume, Freiheit von der Last der Routine und viele freie duftende Gewürze.  Sie müssen nur unsere Leute dorthin bringen und sie endlich befreien!  Die Ozeane vor uns auszubreiten ist zu viel, selbst für eine solche Pracht wie wir.  Daher müssen Sie Schiffe bauen, unsere Einsätze, Kronjobs und andere Dämonen einpacken, Dienste anstelle von Segeln erheben und dort direkt ins Licht steuern.  Zum Lenken braucht man einen Helm, also Helm.  Er ist ein Helm.  Ein Helm wäre auf jeden Fall nützlich, wenn wir im Voraus wüssten, was uns vor uns erwartet.  Aber es gibt nur ein Ruder.  Der Bau von Schiffen ist nicht einfach, deshalb brauchen wir sozusagen Hilfe, aber unsere Leute sind immer mit etwas sehr Nutzlosem beschäftigt.  Deshalb ist es sozusagen und wie immer notwendig.  Wir fangen langsam an, bauen ein kleines Boot, rudern nach Indien, sehen die weiten Weiten mit eigenen Augen, nehmen ein Gewürz, schwimmen zurück und zeigen es den Menschen.  Die Leute mögen es, sie segnen unsere Bemühungen.  Dann bereiten wir ein großartiges Ergebnis vor, ordnen die Konfigurationen, bauen bereits viele Schiffe.  Die Leute sind fit, interessiert.  Wir zeigen, erzählen, erleuchten, versprechen, versprechen, versprechen ... Je mehr Schiffe - desto mehr Interesse.  Jemand macht mit, hilft.  Damit das alles nicht untätig bleibt, schwimmen wir in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inszenierung</a> in der Nähe, es gibt dort noch keine Gewürze, es ist unmöglich dort zu leben, aber Touristen mögen es.  Und jetzt, nach Wochen / Monaten / besten Jahren / Ärmeln, ist er, DIESER TAG, angekommen!  Es ist Zeit, die Flottille freizulassen und die geschätzte Terra Incognita zu erobern.  Mit der Angst in der Seele segeln unsere Leute nach Indien, und dort, Amerika, sind wir verrückt geworden.  Und alles scheint sehr ähnlich zu sein, aber das ist eine Vermutung ... Unsere Leute bekommen natürlich sofort einen Vorgeschmack darauf (haha, es interessiert sie eigentlich sowieso nicht), sie beginnen das Territorium zu entwickeln, Häuser dort, Kohl, alle Arten von Dienstleistungen werden eingesetzt.  Aber hier und da verschwindet von Zeit zu Zeit etwas wie durch die Erde.  Dieser Boden wird verschwinden, die Kokosnuss wird nicht gebären.  Und wir murmeln mit wachsendem Summen: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Warte, warte, ich bin noch nicht bereit, gib mir nur einen Tag</a> ..."  Und so blinzeln wir vorsichtig und dort, vor, hinter jedem Busch, erscheinen die Indianer plötzlich mit Tomahawks und sehen so aus ... unfreundlich oder so ... Und ein Schauer läuft mitten durch das Ganglion.  Und die Leute sind: - „Was ist da da?  Wo ist mein Boden? "  Und wir sind: - „Mein Volk!  Es ist nicht so, dass ich dich 40 Jahre lang in die Irre geführt hätte, und natürlich wird dich niemand zurück begraben, aber jetzt, dringend, *****, MÜSSEN WIR EINE FREQUENZ BAUEN !!!!!! ”  Und sie sind: - "Ah, natürlich wie immer wieder." <br><br>  So habe ich mich gefühlt, als ich eine bestimmte Anzahl von Dienstleistungen in der Produktion von reinen Kubernetes auf Helm übertragen und dann darauf gestoßen bin. <br><br>  Nun, am Ende das versprochene Sparstroh.  Erstens die leichte Version, aber mit einer Erklärung des obigen Unsinns.  Hier ist ein Demo-Szenario: <br><br><ol><li>  Nehmen wir an, ich erweitere das Diagramm für das Projekt: 1.5.  Zum ersten Mal mit Helm und davor war es nur Kubernetes. </li><li> Dann finde ich heraus, dass es einen Fehler in der Version gibt, aber in Version 1.4 war es nicht.  Und wir sollten zurückrollen, aber für sie und Helm gab es auch keine Karte.  Aus diesem <code>kubectl set image deployment/project project=registry.project.com/project:1.4 --record</code> entscheide ich mich für die altmodische Vorgehensweise: <code>kubectl set image deployment/project project=registry.project.com/project:1.4 --record</code> .  Dafür und für ein Bündel anderer Dienste, die zusammen bereitgestellt wurden. </li><li>  Dann stellt sich heraus, dass der Fehler sozusagen nicht in diesem Dienst war, sondern im benachbarten, und damit ist alles in Ordnung, und Sie müssen 1.5 zurückgeben.  Wenn Sie nun <code>helm upgrade --install</code> , wird es eine große Überraschung geben ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">weitere Details</a> ): Das Bild wird immer noch von 1.4 und die Labels von 1.5 sein.  Und Helm zeigt, dass alles in Ordnung ist, es sind tatsächlich 1,5 im Einsatz und sogar Pods wurden neu gestartet (CI-Build ist grün). </li></ol><br>  Wie vermeide ich das?  Wenn Sie Änderungen an einer von Helm gesteuerten K8-Ressource mit reinen Kubectl-Befehlen über dem bereitgestellten Helm-Diagramm vornehmen, müssen Sie diese Änderungen auch mit Kubectl-Befehlen abbrechen.  Helm kann ein neues Diagramm bereitstellen.  Er vergleicht das neue Diagramm jedoch mit dem vorherigen, jedoch nicht mit dem aktuellen Status der Ressourcen.  Und wenn Sie das Bild bearbeitet haben, wird die zukünftige Version von Chart wahrscheinlich ein anderes Bild enthalten und alles wird gut.  Wenn Sie jedoch eine Umgebungsvariable bearbeitet oder Argumente oder etwas anderes gestartet haben, unterscheidet sich die neue Version von Chart höchstwahrscheinlich nicht von der vorherigen.  Und Ihre manuellen Änderungen bleiben nach dem Update erhalten. <br><br>  Und für den Anfang eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schwere Version des Sparstrohhalms</a> für diejenigen, die einer solchen Unvorhersehbarkeit des Staates nicht zustimmen können. <br><br>  <i>Neue Technologien sind die Quelle neuer Sorgen.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426243/">https://habr.com/ru/post/de426243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426231/index.html">Großbritannien will das Internet regulieren - welche Auswirkungen neue Gesetze haben werden</a></li>
<li><a href="../de426233/index.html">Studie: Große Windparks können den Boden erwärmen, was sich auf das Klima auswirkt</a></li>
<li><a href="../de426235/index.html">Fiasko. Die Geschichte eines hausgemachten IoT</a></li>
<li><a href="../de426237/index.html">So bestimmen Sie die Mindestgröße, die für einen DFSR-Replikations-Staging-Ordner erforderlich ist</a></li>
<li><a href="../de426241/index.html">BLACK HAT USA Konferenz. Botnet von einer Million Browsern. Teil 1</a></li>
<li><a href="../de426245/index.html">Internetprogramme verbessern</a></li>
<li><a href="../de426249/index.html">Bluetooth-Gerätesteuerung</a></li>
<li><a href="../de426253/index.html">Das Prinzip der geringsten Aktion. Teil 2</a></li>
<li><a href="../de426255/index.html">Wie Vim mein Herz gestohlen hat</a></li>
<li><a href="../de426261/index.html">Cogear.JS - ein moderner Generator für statische Standorte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>