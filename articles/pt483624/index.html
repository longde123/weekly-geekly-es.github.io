<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüîß üóº üë©üèª Competi√ß√£o da Yandex.Taxi: an√°lise da pista de back-end do campeonato de programa√ß√£o üçØ ‚ú°Ô∏è üéµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apresenta√ß√£o de pr√™mios aos participantes da faixa de back-end 
 Estamos concluindo uma s√©rie de an√°lises do segundo campeonato de programa√ß√£o. Nas √∫l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Competi√ß√£o da Yandex.Taxi: an√°lise da pista de back-end do campeonato de programa√ß√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/483624/"><img src="https://habrastorage.org/webt/za/i-/9x/zai-9xkajiamr99zrbldb0fstty.jpeg"><br><h5>  <sup><sub>Apresenta√ß√£o de pr√™mios aos participantes da faixa de back-end</sub></sup> </h5><br>  Estamos concluindo uma s√©rie de an√°lises do segundo campeonato de programa√ß√£o.  Nas √∫ltimas semanas, publicamos uma an√°lise de tr√™s faixas: ML, frontend e desenvolvimento m√≥vel.  Resta analisar a faixa no back-end.  Acabou sendo o mais popular: 2682 pessoas participaram da qualifica√ß√£o, 320 delas chegaram √† final.  Tarefas para desenvolvedores de back-end foram inventadas pela equipe Yandex.Taxi. <br><a name="habracut"></a><br><h2>  C√≥digos promocionais marcianos </h2>  <sup><i>Autor: Maxim Pedchenko</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td>  Prazo </td><td>  1 s </td></tr><tr><td>  Limite de mem√≥ria </td><td>  64 MB </td></tr><tr><td>  Entrar </td><td>  entrada padr√£o ou input.txt </td></tr><tr><td>  Conclus√£o </td><td>  sa√≠da padr√£o ou output.txt </td></tr></tbody></table></div>  Seis meses se passaram desde o lan√ßamento do Yandex.Taxi em Marte.  No ano novo marciano, a Yandex.Taxi decidiu dar c√≥digos promocionais aos marcianos.  Mas os marcianos n√£o podem usar c√≥digos promocionais da Terra, j√° que os servidores em Marte n√£o funcionam de acordo com as regras da Terra.  Portanto, o Yandex.Taxi criou c√≥digos promocionais marcianos especiais. <br><br>  O c√≥digo promocional marciano √© gerado da seguinte maneira: <br><br><ol><li>  Uma chave de criptografia √© gerada. </li><li>  A chave de criptografia √© dividida em substrings de tamanho aleat√≥rio. </li><li>  De todas as substrings, substrings de comprimento L s√£o selecionadas. </li><li>  As substrings selecionadas s√£o misturadas e concatenadas. </li><li>  O resultado da concatena√ß√£o √© um c√≥digo promocional. </li></ol><br>  Desafio: <br>  √â necess√°rio verificar se o c√≥digo promocional inserido √© v√°lido.  Se o c√≥digo promocional for v√°lido, voc√™ precisar√° imprimir "SIM".  Se inv√°lido, "N√ÉO". <br><br><div class="spoiler">  <b class="spoiler_title">Formatos de E / S, exemplos e notas</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  &lt;comprimento do c√≥digo promocional&gt; <br>  &lt;c√≥digo promocional&gt; <br><br>  &lt;comprimento da chave&gt; <br><br>  &lt;key&gt; <br><br>  &lt;comprimento da carca√ßa L&gt; <br><br><h4>  Formato de sa√≠da </h4><br>  Validade do c√≥digo de promo√ß√£o: SIM ou N√ÉO. <br><br><h4>  Exemplo 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td><code>6 <br> ABCDEA <br> 6 <br> EAABCD <br> 2</code> </td> <td> <code>YES</code> </td> </tr></tbody></table></div><h4>  Exemplo 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>12 <br> MARS1234MARS <br> 24 <br> ASDGRV12MARSS1234VRCMARS <br> 4</code> </td> <td> <code>YES</code> </td> </tr></tbody></table></div><h4>  Exemplo 3 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>12 <br> ABC123123ABC <br> 9 <br> ABC123123 <br> 3</code> </td> <td> <code>NO</code> </td> </tr></tbody></table></div><h4>  Anota√ß√µes </h4><br>  Comprimento L&gt; 1. <br>  Alfabeto do c√≥digo de promo√ß√£o [AZ, 0-9]. <br>  O comprimento do c√≥digo promocional est√° no intervalo [6, 30]. <br>  O comprimento da chave est√° no intervalo [6, 30]. <br>  Comprimento da corda L &lt;comprimento da tecla. <br>  O comprimento do c√≥digo promocional √© um m√∫ltiplo de L. </div></div><br><h4>  Solu√ß√£o </h4><br>  Precisamos considerar todas as parti√ß√µes poss√≠veis da chave de criptografia em substrings de comprimento L e verificar se esse c√≥digo promocional pode ser composto de poss√≠veis parti√ß√µes. <br><br>  A dica est√° oculta nas notas de condi√ß√£o: <br><blockquote>  O comprimento do c√≥digo promocional est√° no intervalo [6, 30]. <br>  O comprimento da chave est√° no intervalo [6, 30]. </blockquote><br>  Pequenas restri√ß√µes indicam que uma solu√ß√£o eficaz n√£o √© necess√°ria, o que significa que voc√™ n√£o precisa gastar tempo procurando otimiza√ß√£o - √© melhor resolver o problema de frente. <br><br>  Essa situa√ß√£o √© t√≠pica do desenvolvimento de back-end do produto.  Muitas vezes, h√° situa√ß√µes em que voc√™ pode passar semanas no algoritmo ideal, mas se voc√™ pesar as restri√ß√µes, fica claro que √© melhor usar uma solu√ß√£o r√°pida e n√£o a melhor. <br><br>  Portanto, consideraremos a linha com o c√≥digo promocional como uma sequ√™ncia de substrings S de comprimento L. Para cada substring S, encontramos todos os substratos <sub>Sk</sub> iguais a ele na chave de criptografia.  Para cada S <sub>k,</sub> lembre-se de seu uso, v√° para a pr√≥xima substring S e repita o algoritmo. <br><br>  Se para a substring S n√£o for poss√≠vel encontrar S <sub>k</sub> n√£o utilizado, √© necess√°rio tentar outra variante de divis√£o, se n√£o houver outra variante, o c√≥digo promocional n√£o ser√° v√°lido. <br><br>  Se S <sub>k</sub> foi encontrado para pelo menos um caso para cada S, o c√≥digo da promo√ß√£o √© v√°lido. <br><br><h2>  Otimiza√ß√£o do sistema de transporte Mars </h2>  <sup><i>Autores: Dmitry Polishchuk e Anton Todua</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td>  Prazo </td><td>  3 s </td></tr><tr><td>  Limite de mem√≥ria </td><td>  64 MB </td></tr><tr><td>  Entrar </td><td>  entrada padr√£o </td></tr><tr><td>  Conclus√£o </td><td>  sa√≠da padr√£o </td></tr></tbody></table></div>  Era o ano de 2058.  As col√¥nias dos primeiros colonos j√° haviam desembarcado em Marte e come√ßaram a habit√°-lo, e Yandex.Taxi come√ßou a implantar um sistema de esta√ß√µes de √¥nibus. <br><br>  Para opera√ß√£o normal, a esta√ß√£o de transporte precisa de fornecimento constante de energia da rede de energia.  Para alimentar a esta√ß√£o, voc√™ deve construir um gerador de energia nuclear de ur√¢nio dentro da pr√≥pria esta√ß√£o ou colocar um cabo em outra esta√ß√£o de transporte (j√° alimentada).  O custo de constru√ß√£o de um gerador dentro de diferentes esta√ß√µes de √¥nibus pode variar.  O encaminhamento de cabos entre as esta√ß√µes de √¥nibus tamb√©m varia em custo e nem sempre √© poss√≠vel.  A conex√£o do cabo √© bidirecional. <br><br>  A tarefa √© organizar energia eficiente (com custo m√≠nimo) para todas as esta√ß√µes de transporte. <br><br>  Na entrada, o programa recebe o n√∫mero total de esta√ß√µes de transporte, o custo de constru√ß√£o de geradores para cada esta√ß√£o de transporte e uma descri√ß√£o de todos os cabos poss√≠veis entre as esta√ß√µes de transporte (n√∫mero de esta√ß√µes conectadas e o custo de instala√ß√£o do cabo). <br><br><div class="spoiler">  <b class="spoiler_title">Formatos de E / S, exemplos e notas</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  <b>A primeira linha</b> cont√©m um √∫nico n√∫mero n√£o negativo de esta√ß√µes de transporte N ‚â§ 1000. <br><br>  <b>A segunda linha</b> cont√©m N n√∫meros que especificam o custo de constru√ß√£o do gerador dentro da esta√ß√£o correspondente. <br><br>  <b>A terceira linha</b> cont√©m um √∫nico n√∫mero n√£o negativo de poss√≠veis cabos K ‚â§ 100000 entre as esta√ß√µes de transporte. <br><br>  <b>As pr√≥ximas linhas K</b> (come√ßando no quarto) cont√™m uma descri√ß√£o de um cabo - tr√™s n√∫meros inteiros n√£o negativos: o <b>n√∫mero da primeira esta√ß√£o</b> , o <b>n√∫mero da segunda esta√ß√£o</b> e o <b>custo de execu√ß√£o</b> . <br><br><h4>  Formato de sa√≠da </h4><br>  Um n√∫mero inteiro √© o custo m√≠nimo de energia para todas as esta√ß√µes de transporte para uma determinada configura√ß√£o. <br><br><h4>  Exemplo 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>1 <br> 77 <br> 0</code> </td> <td> <code>77</code> </td> </tr></tbody></table></div><h4>  Exemplo 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>2 <br> 11 29 <br> 1 <br> 1 2 17</code> </td> <td> <code>28</code> </td> </tr></tbody></table></div><h4>  Anota√ß√µes </h4><br>  As esta√ß√µes s√£o numeradas de uma. <br>  Os n√∫meros dentro da linha s√£o separados por um √∫nico espa√ßo. <br>  A corre√ß√£o dos dados de entrada n√£o precisa ser verificada. </div></div><br><h4>  Solu√ß√£o </h4><br>  Primeiro, vale a pena passar de uma bela descri√ß√£o para um gr√°fico ponderado n√£o direcionado, onde haver√° picos no lugar das esta√ß√µes de √¥nibus, os cabos se tornar√£o arestas e o custo de constru√ß√£o de cabos se transformar√° nos pesos das arestas correspondentes.  Mas a quest√£o permanece - como levar em conta o custo de constru√ß√£o de geradores de ur√¢nio dentro das pr√≥prias esta√ß√µes (picos)?  A resposta a esta pergunta √© a ess√™ncia do problema. <br><br>  Suponha que exista outro v√©rtice - uma fonte de energia e uma aresta seja desenhada desse v√©rtice para cada um dos v√©rtices do gr√°fico com um peso igual ao custo de construir um gerador de ur√¢nio na esta√ß√£o correspondente (v√©rtice).  Essa suposi√ß√£o nos leva a um gr√°fico conectado que precisa ser transformado em uma √°rvore, de modo que a soma dos pesos das arestas seja o menor poss√≠vel.  Isso nada mais √© do que o problema de encontrar a √°rvore de abrang√™ncia m√≠nima em um gr√°fico.  Voc√™ pode construir uma √°rvore de abrang√™ncia m√≠nima usando qualquer um dos algoritmos conhecidos - por exemplo, Prima ou Kraskal. <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de exemplo com coment√°rios</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;algorithm&gt; #include &lt;iostream&gt; #include &lt;tuple&gt; #include &lt;vector&gt; using Price = std::size_t; using Vertex = std::size_t; using Transition = std::tuple&lt;Price, Vertex, Vertex&gt;; using Graph = std::vector&lt;Transition&gt;; //        ( ). class Equals { public: //    . explicit Equals(std::size_t size) { equals_.resize(size); //     . for (std::size_t i = 0; i &lt; size; i++) { equals_[i] = i; } } //   v1  v2   true,    //      . bool Emplace(std::size_t v1, std::size_t v2) { while (v1 != v2) { if (v2 &lt; v1) { std::swap(v1, v2); } auto&amp; next_v2 = equals_[v2]; if (next_v2 == v2) { next_v2 = v1; return true; } v2 = next_v2; } return false; } private: std::vector&lt;size_t&gt; equals_; }; int main() { //   . std::size_t vertex_count = 0; std::cin &gt;&gt; vertex_count; if (vertex_count == 0) { std::cout &lt;&lt; 0 &lt;&lt; std::endl; return 0; } //    ‚Äî   ‚Äî   . vertex_count++; //  . Graph graph; graph.reserve(vertex_count); //       . for (Vertex i = 1; i &lt; vertex_count; i++) { Price price = 0; std::cin &gt;&gt; price; graph.emplace_back(price, 0, i); } //    . std::size_t edge_count = 0; std::cin &gt;&gt; edge_count; for (std::size_t i = 0; i &lt; edge_count; i++) { Price price = 0; Vertex from = 0, to = 0; std::cin &gt;&gt; from &gt;&gt; to &gt;&gt; price; graph.emplace_back(price, from, to); } //      . std::sort(graph.begin(), graph.end()); //      . // https://ru.wikipedia.org/wiki/_ Price result = 0; Equals equals{vertex_count}; for (const auto&amp; [price, from, to] : graph) { if (equals.Emplace(from, to)) { result += price; } } //  . std::cout &lt;&lt; result &lt;&lt; std::endl; return 0; }</span></span></span></span></code> </pre> </div></div><br><h2>  Sem estacionamento </h2>  <sup><i>Autores: Ilya Mescherin e Artyom Serebriysky</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td></td><td>  <b>Todas as l√≠nguas</b> </td><td>  <b>Python 3.7.3 e Python 2.7</b> </td></tr><tr><td>  Prazo </td><td>  1 s </td><td>  10 s </td></tr><tr><td>  Limite de mem√≥ria </td><td colspan="2">  256 MB </td></tr><tr><td>  Entrar </td><td colspan="2">  entrada padr√£o ou input.txt </td></tr><tr><td>  Conclus√£o </td><td colspan="2">  sa√≠da padr√£o ou output.txt </td></tr></tbody></table></div>  Em uma cidade, os carros eram proibidos de parar, exceto para embarcar em um passageiro.  E o passageiro n√£o concorda em esperar mais de 3 minutos.  Nesta cidade, um pedestre pede um t√°xi para o ponto X e indica um intervalo de 180 segundos.  O motorista deve chegar exatamente nesse intervalo.  Se voc√™ chegar mais cedo, n√£o poder√° esperar um passageiro.  Se voc√™ chegar tarde demais, o passageiro irritado cancelar√° o pedido. <br><br>  Devido a essas restri√ß√µes, apenas os motoristas Z permaneceram nesta cidade, cada um dos quais no in√≠cio da tarefa est√° no topo do gr√°fico de tr√°fego.  O sistema de controle deve indicar o melhor motorista dentre aqueles que conseguem chegar ao intervalo especificado.  O melhor piloto √© aquele que chega ao fim o mais pr√≥ximo poss√≠vel do intervalo.  Se houver v√°rios desses drivers, qualquer um deles. <br><br>  √â necess√°rio que cada motorista determine se tem tempo para chegar ao intervalo indicado e, em caso afirmativo, em que ponto inicial no intervalo indicado ele pode chegar. <br><br>  <b>Descri√ß√£o formal</b> <br><br>  Dado: <br><br><ol><li>  Gr√°fico orientado G com N v√©rtices e K arestas, os v√©rtices s√£o numerados de 0 a N - 1, 0 ‚â§ N ‚â§ 10 <sup>4</sup> , 0 ‚â§ K ‚â§ 10 <sup>4</sup> .  Cada aresta corresponde ao tempo de viagem nele - um n√∫mero inteiro W, 10 ‚â§ W ‚â§ 10 <sup>4</sup> . </li><li>  Posi√ß√£o do pedido na coluna de <sub>destino</sub> do ID. </li><li>  Posi√ß√µes Z dos drivers na coluna IDsource <sub>2</sub> , 1 ‚â§ Z ‚â§ 10 <sup>4</sup> . </li><li>  O tempo t <sub>0</sub> , 0 ‚â§ t <sub>0</sub> ‚â§ 600 √© um n√∫mero inteiro. </li></ol><br>  √â necess√°rio que cada motorista encontre tais t <sub>min</sub> que: <br><br><ol><li>  existe uma rota do IDs do driver <sub>z</sub> para o <sub>destino do</sub> ID que o motorista chega em t <sub>min</sub> , </li><li>  t <sub>min</sub> ‚àà [t <sub>0</sub> ;  t <sub>0</sub> + 180], </li><li>  e este √© o mais cedo poss√≠vel t <sub>min</sub> : t <sub>min</sub> ‚â§ t <sub>i</sub> para qualquer t <sub>i que</sub> satisfa√ßa os pontos 1 e 2, </li><li>  ou certifique-se de que esse <sub>minuto</sub> n√£o exista. </li></ol><br><div class="spoiler">  <b class="spoiler_title">Formatos de E / S, exemplos e notas</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  O gr√°fico √© definido na forma de triplos triplos-top-top-end-end-time-travel. <br><br>  Dados de entrada, cada item em sua pr√≥pria linha: <br><br>  1. K √© o n√∫mero de arestas. <br>  2. K triplica o ID ID Weight - o v√©rtice inicial da nervura, o v√©rtice final da nervura, quanto o carro dirige a nervura. <br>  3. Identifique o <sub>destino</sub> t <sub>0</sub> - no topo da ordem [espa√ßo] no in√≠cio do intervalo quando voc√™ precisar chegar. <br>  4. Z - o n√∫mero de drivers. <br>  5. (Z vezes) O ID <sub>z √© o</sub> topo do pr√≥ximo driver. <br><br><h4>  Formato de sa√≠da </h4><br>  Para cada driver, na mesma ordem em que eles entraram, imprima em uma linha separada o t <sub>min</sub> calculado ou ‚Äì1 se esse t <sub>min</sub> n√£o existir. <br><br><h4>  Exemplo 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>2 <br> 0 1 10 <br> 2 3 10 <br> 3 0 <br> 1 <br> 0</code> </td> <td> <code>-1</code> </td> </tr></tbody></table></div><h4>  Exemplo 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>2 <br> 0 1 10 <br> 2 3 10 <br> 1 0 <br> 1 <br> 0</code> </td> <td> <code>10</code> </td> </tr></tbody></table></div><h4>  Exemplo 3 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>1 <br> 0 1 10 <br> 1 100 <br> 1 <br> 0</code> </td> <td> <code>-1</code> </td> </tr></tbody></table></div><h4>  Anota√ß√µes </h4><br>  1. V√°rias arestas podem ir do v√©rtice A ao v√©rtice B, incluindo aquelas com o mesmo peso. <br>  2. Costelas de A a A s√£o permitidas. <br>  3. A exist√™ncia de arestas (A-&gt; B) e (B-&gt; A) ao mesmo tempo (ciclos de comprimento 2) √© permitida. </div></div><br><h4>  Solu√ß√£o </h4><br>  <b>√önico motorista</b> <br><br>  Primeiro, analisaremos um caso simples com um driver.  A medida das nervuras √© o tempo [de deslocamento], as restri√ß√µes de acabamento s√£o expressas nas mesmas unidades, para que possamos reformular o problema: ‚ÄúO motorista vai do ponto A ao ponto B, conforme o gr√°fico.  Encontre um caminho m√≠nimo para que seu comprimento esteja no segmento [T, U] ". <br><br>  A maneira mais f√°cil de fazer isso √© executar um dijkstra modificado de A para B: <br><br><ol><li>  Modifica√ß√£o 1. Suponha que obtivemos o topo do minQ e ele j√° estava marcado em preto (ou seja, a dist√¢ncia m√≠nima at√© ele j√° foi encontrada).  Ent√£o n√£o o ignoramos, mas processamos da maneira padr√£o - coloque todos os seus v√©rtices adjacentes com a nova dist√¢ncia novamente em minQ. </li><li>  Paramos apenas quando a dist√¢ncia ao v√©rtice atual minQ √© estritamente maior que U. </li><li>  Suponha que encontremos o pico B. durante a travessia.Em seguida, se a dist√¢ncia atual for ‚â• T, lembre-se disso como a resposta R. Nesse ponto, o dijkstra tamb√©m pode ser interrompido. </li></ol><br>  Assim, se tivermos R, esse √© o caminho m√≠nimo com um comprimento no intervalo necess√°rio. <br><br>  <b>Muitos motoristas</b> <br><br>  A solu√ß√£o para a testa √© executar um algoritmo para cada driver.  Mas essa solu√ß√£o n√£o passa limitando o tempo.  Devemos aprender a dar uma resposta para cada driver para O (1). <br><br>  Para fazer isso, modificamos o algoritmo para um driver: <br><br><ol><li>  Em vez de dijkstra do driver para o ponto do pedido, iniciamos o dijkstra do ponto do pedido de acordo com o gr√°fico com arestas invertidas (!). </li><li>  Aproveitamos o fato de que o n√∫mero de v√©rtices tamb√©m foi limitado a dez mil.  Vamos obter uma matriz de respostas R - para cada v√©rtice, este √© o tempo m√≠nimo no intervalo [T, U] quando pode ser alcan√ßado a partir de A. </li><li>  No processo de percorrer o gr√°fico da dijkstroy modificada, quando encontramos o v√©rtice j e se a dist√¢ncia atual a ele est√° no intervalo desejado [T, U], inserimos R: Rj = min (Rj, dist). </li></ol><br>  Ent√£o, para cada driver no v√©rtice J, pode-se consultar Rj <sub>para</sub> descobrir se existe um caminho que satisfa√ßa as condi√ß√µes e qual √© o seu comprimento. <br><br>  <b>Otimiza√ß√£o MinQ</b> <br><br>  O comprimento do caminho √© sempre inteiro e limitado a 781 a partir do topo - para um pedido feito em t <sub>0</sub> = 600, o √∫ltimo segundo v√°lido de chegada do driver √© 780. Nesse caso, para implementar o dijkstra, voc√™ precisa usar a seguinte implementa√ß√£o do minQ. <br><br>  Temos uma matriz de tamanho Fringe [781].  Em cada elemento de Fringe <sub>i</sub> existe um conjunto n√£o ordenado que armazena o id de todos os v√©rtices para os quais existe um caminho de comprimento i. <br><br>  1. Adicione um v√©rtice com a dist√¢ncia D: <br><br><pre> <code class="cpp hljs">fringe[D].insert(vertex);</code> </pre> <br>  2. De acordo com as condi√ß√µes, o peso m√≠nimo da aresta √©&gt; 0. Portanto, em vez de pegar elementos de minQ, um de cada vez, voc√™ pode percorrer toda a fatia: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fringe.size(); ++i) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(fringe[i].empty()) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; vertex : fringe[i]) { <span class="hljs-comment"><span class="hljs-comment">// Do some stuff ProcessVertex(vertex, i); } }</span></span></code> </pre> <br><h2>  Calculadora de custo de viagem </h2>  <sup><i>Autor: Nikolay Filchenko</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td></td><td>  <b>Todas as l√≠nguas</b> </td><td>  <b>Python 3.7.3 e Python 2.7</b> </td></tr><tr><td>  Prazo </td><td>  3 s </td><td>  65 c </td></tr><tr><td>  Limite de mem√≥ria </td><td>  64 MB </td><td>  256 MB </td></tr><tr><td>  Entrar </td><td colspan="2">  entrada padr√£o ou input.txt </td></tr><tr><td>  Conclus√£o </td><td colspan="2">  sa√≠da padr√£o ou output.txt </td></tr></tbody></table></div>  √â necess√°rio calcular o custo da viagem de acordo com a f√≥rmula fornecida.  Cada disparo √© caracterizado por K par√¢metros inteiros.  A f√≥rmula √© dada na nota√ß√£o polonesa reversa. <br><br>  Opera√ß√µes permitidas: <br><br><ul><li>  <b>+ -</b> - adi√ß√£o e subtra√ß√£o; </li><li>  <b>* /</b> - multiplica√ß√£o e divis√£o inteira; </li><li>  <b>&lt;=</b> - compara√ß√£o; </li><li>  <b>?</b>  - operador condicional.  Se o primeiro argumento for verdadeiro - retorna o segundo argumento, caso contr√°rio - o terceiro. </li></ul><br>  A vari√°vel [az] e os n√∫meros inteiros de -10 <sup>9</sup> a 10 <sup>9</sup> tamb√©m <sup>s√£o</sup> usados ‚Äã‚Äãna f√≥rmula. <br><br>  Podemos supor que os resultados de todas as opera√ß√µes na f√≥rmula n√£o excedam 10 <sup>9</sup> em valor absoluto.  O resultado das opera√ß√µes de compara√ß√£o √© usado apenas como argumento para o operador condicional. <br><br><div class="spoiler">  <b class="spoiler_title">Formatos e exemplos de E / S</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  Na primeira linha, um n√∫mero 1 ‚â§ K ‚â§ 26 - o n√∫mero de vari√°veis. <br><br>  A segunda linha cont√©m a f√≥rmula para calcular o pre√ßo (n√£o mais que <sup>3</sup> √ó 10 <sup>4</sup> elementos).  Todos os elementos s√£o separados por espa√ßos. <br><br>  Na terceira linha, 1 ‚â§ N ‚â§ 10 <sup>4</sup> √© o n√∫mero de testes. <br><br>  As pr√≥ximas N linhas cont√™m K n√∫meros inteiros cada (‚Äì10 <sup>9</sup> ‚â§ v ‚â§ 10 <sup>9</sup> ) - os valores das vari√°veis ‚Äã‚Äãem ordem alfab√©tica. <br><br><h4>  Formato de sa√≠da </h4><br>  N linhas contendo um n√∫mero inteiro - os resultados da substitui√ß√£o de cada conjunto de valores.  √â garantido que o resultado da express√£o seja finito e definido <br><br><h4>  Exemplo 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>1 <br> a 2 2 + * <br> 2 <br> 2 <br> 3</code> </td> <td> <code>8 <br> 12</code> </td> </tr></tbody></table></div><h4>  Exemplo 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclus√£o</b> </td></tr><tr><td> <code>2 <br> ab &lt; 5 14 ? <br> 2 <br> 10 5 <br> 5 10</code> </td> <td> <code>14 <br> 5</code> </td> </tr></tbody></table></div></div></div><br><h4>  Solu√ß√£o </h4><br>  Esta √© uma tarefa para implementa√ß√£o e aten√ß√£o cuidadosas.  Existem dois pontos principais na solu√ß√£o: <br><br><ol><li>  A express√£o original em si deve ser transformada em uma matriz de n√∫meros e opera√ß√µes para n√£o analisar a cadeia de caracteres em cada conjunto de vari√°veis. </li><li>  Deve-se lembrar que a divis√£o inteira por zero leva ao SIGFPE; portanto, na opera√ß√£o de divis√£o, vale a pena verificar explicitamente que o denominador n√£o √© zero.  Com base na garantia de finitude e certeza do resultado de toda a express√£o, podemos entender: o resultado de tais divis√µes n√£o est√° envolvido no resultado final e est√° em ramos n√£o utilizados de operadores condicionais, para que voc√™ possa aceit√°-lo com qualquer (por exemplo, zero). </li></ol><br><hr><br>  Habraposty sobre o tema: <br><br><ul><li>  <a href="https://habr.com/ru/company/yandex/blog/457262/">An√°lise da pista de back-end do primeiro campeonato</a> </li><li>  Analisando as faixas do segundo campeonato: <a href="https://habr.com/ru/company/yandex/blog/477452">ML</a> , <a href="https://habr.com/ru/company/yandex/blog/478550/">front-end</a> , <a href="https://habr.com/ru/company/yandex/blog/482210/">desenvolvimento m√≥vel</a> </li><li>  <a href="https://habr.com/ru/company/yandex/blog/464179/">Um standup no Yandex.Taxi</a> ou O que voc√™ precisa ensinar ao desenvolvedor de back-end </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483624/">https://habr.com/ru/post/pt483624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483608/index.html">Visualiza√ß√£o dos limites de uma solu√ß√£o classificadora baseada em imagem</a></li>
<li><a href="../pt483610/index.html">Um aut√¥mato √© uma coisa do evento?</a></li>
<li><a href="../pt483612/index.html">Motorista da Tesla √© multado por escovar os dentes enquanto dirige no piloto autom√°tico</a></li>
<li><a href="../pt483614/index.html">M√©todos de combate ao roubo em um clube de rob√≥tica</a></li>
<li><a href="../pt483616/index.html">Projeto Lacmus: Como a vis√£o computacional ajuda a salvar pessoas perdidas</a></li>
<li><a href="../pt483626/index.html">Como descrever um trabalho de 100 gitlab em 100 linhas no Jsonnet</a></li>
<li><a href="../pt483628/index.html">Gera√ß√£o de c√≥digo do OpenAPI v3 (aka Swagger 3) para TypeScript e n√£o apenas</a></li>
<li><a href="../pt483630/index.html">The Ember Times - Edi√ß√£o 130</a></li>
<li><a href="../pt483634/index.html">Propriedades m√≠nima e m√°xima de largura / altura em CSS</a></li>
<li><a href="../pt483646/index.html">Passo a passo do Hack The Box - Bitlab. Fraca ofusca√ß√£o de JS, GIT e aplicativos reversos do Windows</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>