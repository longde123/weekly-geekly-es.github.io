<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📁 💨 👩🏿 Bagaimana saya mematahkan Telegram 😬 📫 🤚🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Suatu kali saya meretas ke salah satu server telegram. Bukannya itu sesuatu yang menarik, dan kerentanannya sendiri standar. Fakta bahwa telegram berh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana saya mematahkan Telegram</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460655/"> Suatu kali saya meretas ke salah satu server telegram.  Bukannya itu sesuatu yang menarik, dan kerentanannya sendiri standar.  Fakta bahwa telegram berhubungan dengan keamanan dan mengapa selama bertahun-tahun tidak ada yang mengeksploitasi kerentanan agak mengejutkan.  Tetapi orang yang tidak melakukan apa pun tidak salah! <br><br><img src="https://habrastorage.org/webt/wk/di/lw/wkdilw8ddnvximx393ubqzjlzzc.jpeg"><br><a name="habracut"></a><br>  Kembali pada Mei 2017, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">kyprizel</a> menarik perhatian pada kenyataan bahwa desktop telegram dapat mengunggah arsip ZIP ke servernya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tdesktop.com</a> .  Ternyata kemudian, bukan hanya ZIP, tetapi di dalamnya ada informasi tentang crash aplikasi, sehingga pengembang dapat belajar dalam keadaan apa crash itu terjadi.  Selain itu, pengembang mendapatkan akses ke mereka melalui antarmuka web, dilihat dari formulir otentikasi.  Saya menambahkan host ke catatan dan lupa dengan aman. <br><br><img src="https://habrastorage.org/webt/gu/--/fr/gu--frvhcdthnxhx2zqioktf634.png"><br><br>  Saya ingat tentang dia setelah sekitar satu tahun ketika studi mendatang dibahas dalam obrolan.  Pada saat itu, file root error_log, di mana, seperti yang Anda duga, kesalahan ditulis.  Minimal, ada path file lengkap, tetapi selain itu, kesalahan favorit adalah "Anda memiliki kesalahan dalam sintaks SQL Anda".  Tapi kami semua malas, dan dalam bug bug saya biasanya mencoba untuk tidak berpartisipasi, jadi semuanya tetap seperti itu. <br><br><img src="https://habrastorage.org/webt/e0/wu/jw/e0wujwumxmexc_bfjeouep6u-ys.png"><br><br>  Setahun berlalu, saya diundang untuk berbicara di konferensi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">#PartyHack</a> di Kazan.  Dan ketika Anda tidak memiliki bahan untuk berbicara, Anda melihat catatan.  Apa yang kita punya di sana?  Host mencurigakan di Telegram. <br>  Karena server menggunakan PHP, yang dibuktikan dengan crash.php, saya memutuskan untuk membahas file dengan ekstensi ini sedikit, kemudian saya menemukan info.php, di mana isi dari fungsi phpinfo () berada.  Hal pertama yang saya perhatikan adalah menggunakan server web Apache.  Bagaimana bisa begitu?  Seluruh telegram adalah nginx, dan ini Apache!  Dan siapa yang menggunakan apache pada 2019? <br><br><img src="https://habrastorage.org/webt/rx/ik/ji/rxikjiaasusstkiml3six_gxofg.png"><br><br>  Apa yang pertama terlintas dalam pikiran ketika Anda mendengar Apache?  Saya langsung ingat tentang mod_status, yang dibangun dengan itu secara default.  Modul ini menghasilkan halaman dengan keadaan server saat ini, tentang sumber daya sistem, permintaan server, dan kecepatan pemrosesan mereka.  Paling sering, jalan menuju itu adalah / server-status, jarang hanya / status.  Untuk memahami seberapa populer kesalahan administratif ini, ingatlah bahwa itu tergantung pada situs web apache.org selama bertahun-tahun <br><br><img src="https://habrastorage.org/webt/qd/w-/kx/qdw-kx_ean9mrdh6zivh_r6vxde.png"><br><br>  <i>Selama bertahun-tahun saya telah mengumpulkan jalur ke file dan direktori yang berpotensi berbahaya dalam proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fuzz.txt</a> , jadi status server ada di sana.</i> <br><br>  Secara umum, perlu diperhatikan dalam status server bahwa ia juga menunjukkan alamat IP klien yang mengirim permintaan ke server.  Tetapi dalam kasus ini, semua permintaan berasal dari 127.0.0.1 ke domain virtual preston-desktop.com.  Nginx di depan hanya mem-proksi semua permintaan ke apache lokal, jadi tidak ada pengungkapan informasi pengguna.  Namun, layak menempatkan server-status untuk dipantau, berikut adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skrip kecil yang</a> dibuat di atas lutut yang menempatkan baris unik dalam database sqlite.  Untuk waktu yang singkat, banyak tautan unik dikumpulkan, tetapi pada dasarnya ini adalah permintaan untuk pembaruan (menunjukkan versi), dan hampir tidak ada unduhan.  Setelah beberapa saat saya melihat admin. <br><br><img src="https://habrastorage.org/webt/tg/kz/ic/tgkzicj71uui9md_pu14veile1g.png"><br><br>  Terlepas dari kenyataan bahwa kami memiliki panjang garis terbatas, dapat dilihat dari log bahwa administrator sesekali mengunduh log gugur untuk analisis lebih lanjut, dan parameter lucu __login dan __token dilewatkan di sana.  Dan permintaan POST dalam tangkapan layar adalah milikku. <br>  Melihat sumbernya, Anda dapat melihat dua metode menarik. <br><br>  Yang pertama adalah <a href="">query_report</a> , yang memiliki opsi tambahan apiid, versi, dmp, dan platform.  Ini mengembalikan apakah lebih banyak log diperlukan tentang crash aplikasi, atau jika versi sudah segar dan kesalahan diketahui.  Mekanisme itu dibuat agar tidak terlalu banyak, tetapi hanya mengoreksi yang sebenarnya. <br><br><img src="https://habrastorage.org/webt/td/ge/cj/tdgecjmdy67onlq3wp9hphjcqn8.png"><br><br>  Yang kedua adalah <a href="">laporan</a> itu sendiri.  Sudah tanpa parameter tambahan.  Jika sebuah kata telah kembali ke permintaan sebelumnya yang menunjukkan perlunya mengirim dump, file tersebut dikirim. <br><br><img src="https://habrastorage.org/webt/7w/sj/c_/7wsjc_j5-mz7hdlnmzqspht2mee.png"><br><br>  Di sana Anda dapat melihat bahwa data dikirim menggunakan multipart, di mana nama file adalah report.telegramcrash, dan aplikasi tipe konten / octet-stream. <br><br><img src="https://habrastorage.org/webt/qy/9b/il/qy9bilvvjbjqilkwb_hvjssrjpi.png"><br><br>  Dengan demikian, Anda dapat mencoba mengunggah file Anda sendiri dan menguji kerentanan yang terkait dengan membongkar ZIP dan potongan unggahan lainnya. <br><br><img src="https://habrastorage.org/webt/ic/yw/wx/icywwxtj2ae-ep5c5vinypogvw0.png"><br><br>  Dan saya lebih jauh akan mencoba mengirim beban yang berbeda untuk menemukan setidaknya beberapa jenis kerentanan, jika bukan karena satu trik.  Jika kami mengganti nama parameter terkenal dari permintaan lain, nilai valid yang kami ambil dari status server, ke dalam metode laporan, kami dapat mencoba menggunakan serangan rahasia dari semua peretas web. <br><br>  Menggunakan kekuatan megazord (kutipan tunggal) dalam parameter platform, dimungkinkan untuk mengamati perilaku anomali sumber daya. <br><br><img src="https://habrastorage.org/webt/_b/fn/-3/_bfn-3kkip9j6pmzb66cvuohpk4.png"><br><br>  Ada tanda kutip - kesalahan, tidak ada tanda kutip - semuanya baik-baik saja.  Untuk memverifikasi validitas, Anda dapat menulis beberapa ekspresi logis, misalnya platform = mac 'AND' a '=' a.  Jawabannya adalah Selesai, seperti halnya unggahan file yang berhasil. <br><br>  Yah, tidak heran mereka datang dengan otomatisasi, jadi saya decoupling sqlmap, yang sudah menjadi berdebu karena tidak adanya tindakan.  Mengantisipasi pertanyaan - semuanya dikonfigurasi dengan baik, pengguna dalam DBMS tidak diistimewakan. <br><br><img src="https://habrastorage.org/webt/d5/os/61/d5os61kmxgwrq-mnx-c4qbbynri.png"><br><br>  Dikirim ke security@telegram.org, beberapa saat kemudian saya menerima surat yang didambakan tentang penghargaan $ 30.000. <br>  Hanya bercanda, $ 2000 untuk sqli, dan $ 500 untuk phpinfo dan status server, yang juga bagus.  Dan serigala aman dan domba penuh, atau sebaliknya. <br><br><img src="https://habrastorage.org/webt/7l/64/vw/7l64vwtrgwf_lirxun1xb2mf84g.png"><br><br>  Saya tidak meretas pengguna (korespondensi Anda aman), saya tidak dapat mengembangkan serangan lebih lanjut, server dengan dump pengguna acak (yaitu crash dumps tanpa informasi tentang pengenal di telegram, telepon, pesan, dan obrolan) adalah nilai yang meragukan.  Secara teori, akan mungkin untuk memompa crash dan mempelajari dan mengeksploitasi mereka sendiri.  Setelah mengetahui bagaimana telegram dijatuhkan, adalah mungkin untuk menjatuhkannya dari korban, dan kemudian mempelajari segala sesuatu yang dapat diperas dari log musim gugur, jika memang bisa diunduh melalui injeksi ini. <br><br>  Asli yang unik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460655/">https://habr.com/ru/post/id460655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460641/index.html">YouTokenToMe: alat untuk tokenisasi cepat teks dari Tim VKontakte</a></li>
<li><a href="../id460643/index.html">Distribusi titik-titik pada bola yang seragam</a></li>
<li><a href="../id460645/index.html">Berbuat baik berbuat jahat: menulis kode jahat dengan Go, Bagian 1</a></li>
<li><a href="../id460647/index.html">Memecahkan pekerjaan dengan pwnable.kr 05 - passcode. Tabel tautan prosedur penulisan ulang melalui kerentanan format string</a></li>
<li><a href="../id460651/index.html">Pertemuan Society of Anonymous Testers: TMS, pemantauan pemantauan, penilaian kualitas pencarian dan tes iOS asli</a></li>
<li><a href="../id460659/index.html">Menggunakan Pipa untuk Pivoting</a></li>
<li><a href="../id460661/index.html">Semua yang perlu Anda ketahui tentang Node.js</a></li>
<li><a href="../id460665/index.html">Draft FAQ: Mengapa standar C ++ keluar setiap tiga tahun?</a></li>
<li><a href="../id460667/index.html">Otomatisasi pengujian layanan berbayar di iOS</a></li>
<li><a href="../id460669/index.html">Bagaimana memastikan keamanan pengembangan, menghemat waktu dan saraf</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>