<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññüèª üíáüèæ üêé Friday JS: juego de 0 l√≠neas JS y CSS üåì üçï üë®üèø‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quiz√°s muchos de los veteranos recordar√°n una epidemia de art√≠culos con titulares como "% something% en 30 l√≠neas de JS". Y tambi√©n la publicaci√≥n √©pi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Friday JS: juego de 0 l√≠neas JS y CSS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419135/">  Quiz√°s muchos de los veteranos recordar√°n una epidemia de art√≠culos con titulares como "% something% en 30 l√≠neas de JS".  Y tambi√©n la publicaci√≥n √©pica " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Juego en 0 l√≠neas de c√≥digo en JS puro</a> " que sigui√≥, despu√©s de lo cual la epidemia disminuy√≥ abruptamente.  Totalmente consciente de que nunca superar√≠a esta obra maestra, sin embargo, decid√≠ cinco a√±os despu√©s terminar mis cinco centavos. <br><br>  Se√±oras y se√±ores, le ofrecemos el juego "Tic-Tac-Toe" en cero l√≠neas de JS y tambi√©n, a diferencia del juego mencionado anteriormente, en cero l√≠neas de CSS (incluidos los estilos en l√≠nea).  Solo HTML desnudo, solo hardcore. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/41/im/hj/41imhjnqxqozjtphb0vpbtyylx0.png"></div><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enlace al juego</a> <br><br>  Se ve feo, pero funcionar√° en cualquier navegador.  Debajo del corte, te dir√© por qu√© el juego sin JS estaba en la secci√≥n "Viernes JS", as√≠ como otros detalles sucios.  Sin embargo, no abrir√© Am√©rica a nadie, si eres un programador experimentado, ni siquiera puedes pasar por debajo del corte <br><a name="habracut"></a><br>  En realidad, todo es muy est√∫pido.  El juego consta de casi 6 mil p√°ginas de HTML est√°tico, vinculadas entre s√≠.  Cuando tocas una celda del campo de juego, vas a la p√°gina donde ya se ha realizado el movimiento a esta celda.  Obviamente, escribir 6k p√°ginas con las manos es un placer por debajo del promedio.  Por lo tanto (¬°sorpresa!) Las p√°ginas son generadas por scripts JS usando NodeJS. <br><br><div class="spoiler">  <b class="spoiler_title">Digresi√≥n l√≠rica</b> <div class="spoiler_text">  Habiendo escrito la l√≠nea anterior, de repente me pregunt√© si la expresi√≥n "JS-script" no es una tautolog√≠a, como "CD-ROM" o "VIP-person".  Por un lado, parece ser.  Por otro lado, JS todav√≠a no es una abreviatura, sino una abreviatura de una naturaleza ligeramente diferente.  Sin embargo, la publicaci√≥n todav√≠a no se trata de filolog√≠a, porque la digresi√≥n l√≠rica termina y comienza el ataque l√≠rico. <br></div></div><br>  Primero, creamos el llamado √°rbol del juego: la totalidad de todos los posibles estados de juego y transiciones entre ellos.  El estado inicial del juego en mi c√≥digo es el siguiente: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = { <span class="hljs-attr"><span class="hljs-attr">player</span></span>: PLAYER_X, <span class="hljs-attr"><span class="hljs-attr">field</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-number"><span class="hljs-number">9</span></span>)).map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> EMPTY_CELL), <span class="hljs-attr"><span class="hljs-attr">moves</span></span>: {} }</code> </pre> <br>  Contiene informaci√≥n sobre el turno de qui√©n es ahora y cu√°l es el estado del campo de juego.  En el futuro, tambi√©n contendr√° informaci√≥n sobre qu√© movimientos se pueden hacer y a qu√© estados conducir√°n, as√≠ como algunas otras cosas agradables. <br><br>  Luego comenzamos, me disculpo por la tautolog√≠a, desde el estado inicial y hago lo siguiente: <br><br><ol><li>  Verificamos si el estado es terminal (victoria de las cruces, victoria de las fichas, empate). </li><li>  Si es as√≠, agregue informaci√≥n sobre esto al objeto de estado y finalice. </li><li>  Si no, pase por todas las celdas en el campo. </li><li>  Para cada celda vac√≠a en el campo, cree un nuevo estado de juego en el que el jugador actual hizo un movimiento a esta celda, y el movimiento pas√≥ al siguiente jugador. </li><li>  En el campo de <code>moves</code> del estado actual, agregue un registro de un posible movimiento.  La clave de esta entrada es el √≠ndice de celda, y el valor es el enlace al nuevo estado. </li><li>  Repetimos este algoritmo recursivamente para todos los estados reci√©n aparecidos. </li></ol><br>  De hecho, mi c√≥digo es un poco m√°s complicado, por costumbre desplegu√© la recursi√≥n en un bucle y, en lugar de referencias a otros estados en <code>moves</code> sus claves de cadena se almacenan en una determinada matriz asociativa.  Pero estos son todos los detalles. <br><br>  Luego, a partir de cada objeto de estado del juego, generamos una p√°gina HTML.  Caminando a trav√©s del objeto de <code>moves</code> , llenamos las celdas vac√≠as del campo con enlaces a las p√°ginas correspondientes a los movimientos realizados en estas celdas.  Luego convertimos la matriz unidimensional del campo en una tabla HTML bidimensional.  Agregamos todo tipo de cosas agradables, como instrucciones que el jugador camina, y enlaces a la p√°gina de inicio, ¬°y listo! <br><br>  Adem√°s del modo, cuando una persona coloca tanto las cruces como los ceros, en mi golpe mega-indie tambi√©n existe la oportunidad de jugar contra el cerebro de hierro.  Esto se logra de la siguiente manera: <br><br><ol><li>  Primero, de forma recursiva (en realidad no) para cada estado del juego, se calcula el resultado esperado del juego, el que se lograr√° si ambas partes juegan perfectamente. </li><li>  Luego, el √°rbol del juego se modifica de la siguiente manera: en lugar del movimiento del jugador, ahora hacemos dos movimientos a la vez.  El segundo movimiento es el movimiento de la inteligencia artificial.  Adem√°s, de todas las respuestas posibles al movimiento del jugador, se selecciona la que tiene el mejor resultado esperado.  Por lo tanto, despu√©s de haber tocado una jaula vac√≠a, el jugador va inmediatamente a la posici√≥n donde apareci√≥ una cruz (o cero) en esta celda, y un cero (o cruz) apareci√≥ en otra celda. </li><li>  Todas las posiciones de juego correspondientes a movimientos que la IA no realiza se descartan sin piedad. </li><li>  Luego se genera HTML a partir de las posiciones restantes en una carpeta separada, exactamente igual que para el caso de dos jugadores. </li></ol><br>  Por principios similares, puedes implementar cualquier juego con un √°rbol no muy grande.  Sin embargo, si quiero hacer ajedrez de esta manera, me parece que el github se negar√° a alojar esto =) <br><br>  Hablando de github: puedes ver el c√≥digo completo all√≠ (el enlace est√° en la p√°gina principal del juego).  Sobre esto, en general, eso es todo.  Adi√≥s, ni√±as y ni√±os.  Nos vemos de nuevo. <br><br>  <b>PS</b> Reemplazar saltos de l√≠nea del estilo Windows al estilo Unix es mucho tiempo cuando se trata de 6 mil archivos.  Lament√© no ocuparme de esto en la etapa de escribir el c√≥digo, pero a√∫n as√≠ soport√© valientemente <code>git add</code> to the end. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es419135/">https://habr.com/ru/post/es419135/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es419125/index.html">El regreso de la estaci√≥n sovi√©tica. An√°lisis y documentos.</a></li>
<li><a href="../es419127/index.html">Tres reencarnaciones de una tienda en l√≠nea. C√≥mo gastar dinero, tiempo y por qu√© las plantillas son buenas</a></li>
<li><a href="../es419129/index.html">Sistemas multiagente en la construcci√≥n de espacios virtuales.</a></li>
<li><a href="../es419131/index.html">La fecha de lanzamiento preliminar del m√≥dulo lunar SpaceIL anunci√≥</a></li>
<li><a href="../es419133/index.html">Seminarios web de los viernes: aprender a programar gratis</a></li>
<li><a href="../es419137/index.html">Registro de actividad utilizando la API de Web Beacon</a></li>
<li><a href="../es419141/index.html">El phishing sexual est√° ganando impulso en los EE. UU.</a></li>
<li><a href="../es419143/index.html">Creaci√≥n de una m√°quina arcade emulador. Parte 4</a></li>
<li><a href="../es419145/index.html">Fintech Digest: la capitalizaci√≥n de Apple super√≥ los $ 1 bill√≥n, AI ayud√≥ a eBay a aumentar los ingresos en miles de millones</a></li>
<li><a href="../es419147/index.html">Cubo de 1000 dimensiones: ¬øes posible crear un modelo computacional de la memoria humana hoy?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>