<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🔬 🚴🏽 🕺🏿 标题会有所不同 💍 ☺️ 🏉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="如果您正在为大众市场开发产品，那么最有可能视力障碍的人会使用它。 如果您努力创建用户友好的界面，则需要为所有客户（包括视力不佳的人）方便地进行操作。 我想我们经常会忘记它。 现在该修复它了。 



 我在App Store的搜索中输入了“比萨饼配送”查询，下载了前24个应用程序，并检查了其中哪个为...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>标题会有所不同</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/452226/"> 如果您正在为大众市场开发产品，那么最有可能视力障碍的人会使用它。 如果您努力创建用户友好的界面，则需要为所有客户（包括视力不佳的人）方便地进行操作。 我想我们经常会忘记它。 现在该修复它了。 <br><br><img src="https://habrastorage.org/webt/vl/d_/dg/vld_dgvbru6qn4h7vwhdjzhh2r0.png"><br><a name="habracut"></a><br> 我在App Store的搜索中输入了“比萨饼配送”查询，下载了前24个应用程序，并检查了其中哪个为弱视人群提供了界面。 <br><br><img src="https://habrastorage.org/webt/gc/g_/r-/gcg_r-5lktwzdhejhfqkcxlwkfm.png"><br><br>  <b>2之24</b> 。 而且似乎是其中之一是偶然发生的：随着字体大小的增加，整个界面“浮动”，并且变得更加难以使用。 真伤心 <br><br> 每月有55万人使用Dodo Pizza iOS应用程序。 即使我们有1％的用户使用了放大字体，也有5500人对使用我们的应用程序感到不舒服。 我们将纠正它。 <br><br><h2> 添加动态类型支持 </h2><br><ol><li> 我们使用动态系统文本样式，而不是静态样式。 </li><li> （可选）在情节提要中的标签上启用“自动调整字体”复选标记。 或者，如果按钮中的标签或通过代码创建，我们将敲击其参数<code>adjustsFontForContentSizeCategory</code> 。 </li><li> 我们教界面扩展到不同的字体大小： <br>  -我们会尽可能使用自动计算像元大小的方法。 <br>  -在无法执行的地方-获取当前的字体大小设置，并响应<code>traitCollectionDidChange</code>方法中的更改。 </li><li> 我们得到一个无法使用的界面。 </li></ol><br><br> <a href=""><img src="https://habrastorage.org/webt/vg/sj/qa/vgsjqakh4zfv-lcere3iv0rptk0.png"></a> <br><br><h2> 我们更改界面以便可以使用 </h2><br> 我们回滚并开始考虑如何做好所有事情。 <br><br><h3> 正确使用菜单中的位置 </h3><br> 现在，比萨图片下面有很多空白空间。 让我们尝试在名称上方放置图片：这样，它将变大，并且空白将消失。 为此，我们将图像和<code>UIStackView</code>容器与其他所有东西包装在<code>UIStackView</code> ，然后在<code>UIStackView</code>时切换堆栈视图的方向。 <br><br> <a href=""><img src="https://habrastorage.org/webt/dt/s_/vg/dts_vgharid2k9v5r9yvqxu1cto.png"></a> <br><br> 我们在菜单项之间没有分隔符，这就是为什么当尺寸较大时，单元格开始“粘在一起”并且比萨饼的价格标签太接近下一个比萨饼的图片的原因。 让我们尝试添加一个分隔符。 <br><br> <a href=""><img src="https://habrastorage.org/webt/tl/8t/yf/tl8tyfcp3bir8nju3ziwcxcbozi.png"></a> <br><br> 不是那样 首先，它看起来马马虎虎。 其次，对于视力低下的人来说很难看到。 即使从灰色重新涂成黑色。 <br><br> 我们将其删除，只是尝试增加单元之间的Internet。 <br><br> <a href=""><img src="https://habrastorage.org/webt/7b/kq/m8/7bkqm8wzzu5dayijekqfmik_0qw.png"></a> <br><br> 那现在 <br><br> 小计：使用更多的空间，眼睛之间的跳动更少，阅读变得更容易。 <br><br><h3> 我们改善拉伸和去除 </h3><br> 现在，您可以增加“添加到购物车”按钮的宽度，否则它会浮动到左侧并且不在您的手指下，尽管右侧有很多空白空间。 当然，您可以将其简单地移到右侧，但是这样对于惯用左手的人来说将是不便的，总的来说，比起未压缩的手势，我们要好得多。 而且我们将使笔画更胖，现在它与字体不一致。 <br><br> <a href=""><img src="https://habrastorage.org/webt/ew/en/c8/ewenc8ziqn0o7ffnkvvzbo5a7o4.png"></a> <br><br> 我看了所有这些，并了解到披萨照片当然非常大。 让我们尝试隐藏它，也许没有照片就可以住。 <br><br> <a href=""><img src="https://habrastorage.org/webt/pp/pk/1q/pppk1qwmxxbayqrk5kula3oxfgg.png"></a> <br><br> 通常，没有照片的菜单并不会丢失很多信息，但是现在一个菜单项几乎总是会干扰iPhone 6S的屏幕。 但是它的吸引力降低了，滚动时Drool不会流动。 这样的 现在，让我们这样保留它，仔细考虑，然后稍后再返回图片。 <br><br><h3> 不要忘记检查“直播” </h3><br> 现在分类。 总的来说，即使采用第一种方法，结果也是可以容忍的。 打开一个新的。 <br><br> <a href=""><img src="https://habrastorage.org/webt/dj/5z/mi/dj5zmie3v-yr8jceovq9t5xmkhc.png"></a> <br><br> 我试图浏览菜单并在类别之间切换。 然而，结果却很糟糕：一切都在行动中分崩离析。 在菜单上滚动时，类别会自动切换，在如此大的针脚上，它会引起太多关注。 <br><br> 让我们用一个将调用<code>UIActionSheet</code>的按钮替换<code>UICollectionView</code> 。 <br><br> <a href=""><img src="https://habrastorage.org/webt/re/c4/fr/rec4frqesfjg5_43ftutrekxw1u.png"></a> <br><br>  Vooot。 现在，您可以在顶部面板显示城市，股票，地址和促销代码。 <br><br><h3> 不要忘了很长的线 </h3><br> 首先，让我们选择一个城市。 按钮中的字体没有什么复杂的，但是教“三角形”随字体一起增长很有趣。 在我们的例子中，三角形在按钮中成为一个图标，该图标通过<code>CGAffineTransform</code>移动到右侧。 另一个选择是从文本和三角形图标中收集<code>NSAttributedString</code> ，然后将其全部输入按钮。 要使图标规范化，您可以使用矢量图像，该矢量图像必须一定位于带有“保留矢量数据”复选标记的资产中。 <br><br> <a href=""><img src="https://habrastorage.org/webt/r5/7k/fz/r57kfzbng-bwybworqlvbzunagk.png"></a> <br><blockquote> 三角形的图标为黑色，并通过代码涂成白色。 由于某种原因，在使用标准文本大小的情况下，会以黑色边框的形式出现伪像。 好笑 不完全是 他通过在资产中放置最初是白色的图标来治愈了他。 </blockquote><br> 现在我们拉伸渡渡鸟-卢布，一切都很简单： <br><br> <a href=""><img src="https://habrastorage.org/webt/ct/bh/7s/ctbh7styq51y9xt7c3reqc9wdg4.png"></a> <br><br> 现在的问题是：如果这个城市的名字很长，而且我们有很多渡渡鸟卢布，将会发生什么？ 从理论上讲，您需要缩短城市名称。 还记得我说过关于通过<code>NSAttributedString</code>将这样的图标添加到按钮的第二种选择的<code>NSAttributedString</code>吗？ 我尝试过，现在遇到一个问题，当我们缩小标题时，三角形图标消失了，因为现在它是标题的一部分。 斯托什。 我们必须返回通过转换移动图标的逻辑。 <br><blockquote> 如果您知道将按钮中的图标移至右侧并将其与标题中的字体一起缩放的便捷方法，请在注释中将其丢弃。 </blockquote><br><h3> 塞入 </h3><br> 最后库存。 在这里，您需要坐下来思考。 标题可能很长，即使现在有时也无法排成一行。 从大的角度来看，他根本不合适。 如果您将上部橙色面板橡胶制成，并允许大尺寸的动作标题占据几行，那么即使在大型iPhone上，上部块也将占用整个屏幕的一半，并且您不必记住4S。 事实并非如此。 您可以在操作框内使用布局进行播放：使图片方形，并以空白处为标题。 但是，股票图片是按特定格式自定义的，不会以其他格式正确显示。 这是不可能的。 <br><br> 复杂化 <br><br> 因此，但是您可以再次完全删除图片，并使用标题占据整个位置。 <br><br> <a href=""><img src="https://habrastorage.org/webt/pa/uu/q7/pauuq7hzrctfjqof3wt_7fh4x4g.png"></a> <br><br> 是的，是。 双手会痒，以使动作标题下的背景变色，但这会对可读性产生不利影响。 而且，我们正在努力改善它。 因此，我们不绘制任何内容，而是转到地址和促销代码的其余两个按钮。 <br><br><h3> 我们有严格的限制 </h3><br> 这些按钮的标题不可简化。 但是，如果不减少它们，则按钮将彼此爬行。 是的，您无法隐藏这些按钮。 <br><br> 重新分配库存时，我不想增加橙色上部面板的高度。 似乎必须如此。 很好，他们当时没有增加它，否则现在总会有aduha了。 通常，我将为每个按钮选择一行。 <br><br> <a href=""><img src="https://habrastorage.org/webt/zj/nz/qg/zjnzqgtax6ep4jfk8y1_ogs3pgi.png"></a> <br><br> 乌夫（Ufff），就是这样。 至于菜单中关闭的照片，我仍然不确定。 另外，您只可以显示一半的比萨饼图片，而不是整个圆圈，但是菜单上有一半的比萨饼是平直的，所以它不起作用，我们可能会使用户感到困惑。 <br><br> 让我们将第一种方法与最终结果进行比较： <br><br> <a href=""><img src="https://habrastorage.org/webt/tu/eh/m7/tuehm7kleeeivqqaoep4nljpsly.png"></a> <br><br> 现在，将“之前”和“之后”与视力较差的模拟进行比较： <br><br> <a href=""><img src="https://habrastorage.org/webt/y9/rw/re/y9rwrenclvvgw5yzf6ifgz5fu_0.png"></a> <br><br> 不要害怕更改界面和控件。 看到其他按钮或例如滑块的人没有任何问题。 如果某人没有看到任何东西或标题不同，这不是致命的。 <br><blockquote> 而且，我们没有触摸<code>UITabBarController</code> ，因为文本大小很大，长按一下它就可以立即显示图标和选项卡标题，就像iOS显示音量变化一样。 </blockquote><br><h2> 我们展示了它是如何工作的 </h2><br>  Dodo Pizza iOS应用程序中的每个逻辑UI组件都分配给一个单独的<code>UIViewController</code> 。 每个此类控制器都有一个分配给单独文件的<code>UIView</code> 。 您可以在我们的文章中阅读有关此内容的更多信息： <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">控制器，放轻松！</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们取出UIView中的代码</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">洋葱控制器。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们将屏幕分成几部分</a> <br><br> 将逻辑UI组件删除到单独的<code>UIViewController</code>极大地简化了将接口修改为不同状态的任务。 即使您不打算增加对动态类型的支持，我们也建议您尝试这种方法-控制屏幕状态会更容易：响应授权，权限，角色等的更改。 <br><br> 所以在这里。 我们在这样的UI组件及其父容器之间添加了一个额外的层。 我们将其称为<code>StateViewController</code> 。 <br><br><img src="https://habrastorage.org/webt/zt/2t/3q/zt2t3qd01qrlnmjiem-ihzgjb5u.png"><br> 带有菜单的控制器集成了状态控制器，并且已经嵌入了<code>collection</code> （或<code>button</code>控制器。 <br><br> 该<code>StateViewController</code>根据情况显示此或该UI组件。 <br><br> 为此， <code>StateViewController</code>需要了解其状态，并在必要时进行切换。 <br><br> 在此示例中， <code>StateViewController</code>会将菜单中类别的选择从集合切换为按钮，反之亦然。 在“正常”显示的情况下，以及在为视障人士显示的情况下，选择器应该能够执行以下操作： <br><br><ul><li> 显示类别列表。 </li><li> 突出显示所选的类别。 </li><li> 更新类别列表。 </li><li> 报告该类别为“退出”。 </li></ul><br> 感觉到新鲜的小原木的美妙气味？ 而且，不，这是一个由移动API交付的披萨团队。 休息5分钟。 <br><br>  <i>2片后</i> <br>  “……好吧，我们像这样包装我们的组件，以选择协议中的类别，然后就可以了！” <br><blockquote> 提示：启动辅助功能检查器以轻松检查界面如何响应动态磁贴设置中的更改。 为此，在打开的Xcode中，单击Xco​​de→打开开发人员工具→Accessibility Inspector，在设备中选择模拟器，然后转到最后一个选项卡 </blockquote><br><blockquote> 另一个提示：将iPhone（而不是模拟器）上的dynamo taip控件移至控制中心，以轻松快速地更改文本大小。 为此，在iPhone上，转到“设置”→“控制中心”→“自定义控件”，然后添加“文字大小”。 </blockquote><br> 我们将通常的类别选择器称为<code>CategoriesCollectionViewController</code> ，将视障者称为<code>CategoriesButtonViewController</code> 。 它们的通用协议称为<code>CategoriesPickerProtocol</code> 。 通用状态控制器是<code>CategoriesStateViewController</code> 。 <br><br> 我们在<code>CategoriesStateViewController</code>描述可能的状态： <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> collection, button }</code> </pre> <br> 我们教他显示每种状态所需的控制器： <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">State</span></span> = .collection { <span class="hljs-keyword"><span class="hljs-keyword">didSet</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> state != oldValue { updateViewController(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: state) } } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateViewController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> state: State)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> viewController = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewController(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: state) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateController(with: viewController) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> state: State)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collection: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">CategoriesCollectionViewController</span></span>.instantiateFromStoryboard() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .button: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">CategoriesButtonViewController</span></span>.instantiateFromStoryboard() } }</code> </pre> <br>  <code>instantiateFromStoryboard()</code> -从自写扩展名到视图控制器的方法，如果故事板具有相同的名称，则从情节提要中创建控制器实例。 该代码在文章末尾的源代码中。 <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">traitCollectionDidChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> previousTraitCollection: UITraitCollection?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.traitCollectionDidChange(previousTraitCollection) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateStateToCurrentContentSize() } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateStateToCurrentContentSize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> contentSize = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.traitCollection.preferredContentSizeCategory <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateState(to: contentSize) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(to contentSize: UIContentSizeCategory)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = contentSize.isAccessibilityCategory ? .button : .collection }</code> </pre> <br> 我们描述了<code>CategoriesPickerProtocol</code>协议，同时添加了两个协议：用于委托和用于数据保证。 <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CategoriesPickerProtocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Self</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> datasource: <span class="hljs-type"><span class="hljs-type">CategoriesDatasource?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> delegate: <span class="hljs-type"><span class="hljs-type">CategoriesDelegate?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">select</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> category: ProductCategoryModule.ProductCategoryViewModel)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateCategories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> selectedCategory: <span class="hljs-type"><span class="hljs-type">ProductCategoryModule</span></span>.<span class="hljs-type"><span class="hljs-type">ProductCategoryViewModel?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CategoriesDatasource</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> categories: [<span class="hljs-type"><span class="hljs-type">ProductCategoryModule</span></span>.<span class="hljs-type"><span class="hljs-type">ProductCategoryViewModel</span></span>] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(of category: Product.ProductCategory)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CategoriesDelegate</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productCategoriesView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> categoriesPicker: CategoriesPickerProtocol, didSelect category: ProductCategoryModule.ProductCategoryViewModel)</span></span></span></span> }</code> </pre> <br> 展示实现没有意义，只是每个筹码者都显示类别并报告向上的变化。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在GitHub上的回购中</a>可以找到使用状态控制器进行动态taype的详细示例。 <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">顺便说一句，我们正在扩大</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN452226/">https://habr.com/ru/post/zh-CN452226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN452210/index.html">一个小时内用MySQL在Python上使用VK进行Bot训练，第2部分</a></li>
<li><a href="../zh-CN452212/index.html">初创企业如何前往美国：3种真实的签证选择，其功能和统计数据</a></li>
<li><a href="../zh-CN452214/index.html">实习只是大炮，而不是“无价的经验和职业前景”</a></li>
<li><a href="../zh-CN452222/index.html">航空电话塔，下一步5G</a></li>
<li><a href="../zh-CN452224/index.html">Web开发人员快速指南</a></li>
<li><a href="../zh-CN452228/index.html">Anna（Miro）（原RealtimeBoard）的Anna Boyarkina：关于产品思维，团队文化和未来技能的信息</a></li>
<li><a href="../zh-CN452230/index.html">我们以3I306M为例研究隧道二极管</a></li>
<li><a href="../zh-CN452232/index.html">ObjectRepository-主项目的.NET内存中存储库模式</a></li>
<li><a href="../zh-CN452234/index.html">ATMEGA 328P-MU上的温度计和湿度计-提高Arduino开发水平</a></li>
<li><a href="../zh-CN452236/index.html">Android应用程序内部脚本的和谐</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>