<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ôüèΩ üòä üî¨ Engine, Skriptsprache und visueller Roman - in 45 Stunden üåì üèôÔ∏è üì¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gr√º√üe Es geschah, dass ich drei Jahre hintereinander ein Spiel als Geschenk zum Neujahr f√ºr bestimmte Leute gemacht habe. Im Jahr 2018 war es ein Plat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Engine, Skriptsprache und visueller Roman - in 45 Stunden</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483818/"><p><img src="https://habrastorage.org/webt/k-/q6/7j/k-q67jnxvm1knkh3qfvqjyhbira.png" alt="Visual Novel, Engine und Skriptsprache f√ºr 45 Stunden"></p><br><p>  Gr√º√üe  Es geschah, dass ich drei Jahre hintereinander ein Spiel als Geschenk zum Neujahr f√ºr bestimmte Leute gemacht habe.  Im Jahr 2018 war es ein Plattformer mit Puzzle-Elementen, √ºber den ich auf einem Hub <a href="https://habr.com/ru/post/345958/">schrieb</a>  Im Jahr 2019 - ein Netzwerk RTS f√ºr zwei Spieler, √ºber die ich nichts geschrieben habe.  Und schlie√ülich, in der 2020. - eine visuelle Kurzgeschichte, die sp√§ter diskutiert wird, in sehr kurzer Zeit erstellt. </p><br><p>  In diesem Artikel: </p><br><ul><li>  Design und Implementierung der Engine f√ºr visuelle Kurzgeschichten, </li><li>  ein Spiel mit einer nichtlinearen Handlung in 8 Stunden, </li><li>  Entfernung der Logik des Spiels in Skripten in ihrer eigenen Sprache. </li></ul><br><p>  Interessant?  Dann willkommen bei cat. </p><br><p>  <em>Achtung: Es gibt viel Text und ~ 3,5 MB Bilder</em> </p><a name="habracut"></a><br><p>  Inhalt: </p><br><p>  0. Begr√ºndung f√ºr die Entwicklung des Motors. </p><br><ol><li>  Die Wahl der Plattform. </li><li>  Motorarchitektur und deren Implementierung: <br>  2.1.  Erkl√§rung des Problems. <br>  2.2.  Architektur und Implementierung. </li><li>  Skriptsprache: <br>  3.1.  Sprache. <br>  3.2.  Dolmetscher </li><li>  Spielentwicklung: <br>  4.1.  Die Geschichte und Entwicklung der Logik des Spiels. <br>  4.2.  Grafik </li><li>  Statistiken und Ergebnisse. </li></ol><br><p>  <em>Hinweis: Wenn Sie aus irgendeinem Grund nicht an den technischen Details interessiert sind, k√∂nnen Sie mit Schritt 4 "Spieleentwicklung" fortfahren. Der Gro√üteil des Inhalts wird jedoch √ºbersprungen</em> </p><br><h2 id="0-obosnovanie-razrabotki-dvizhka">  0. Begr√ºndung f√ºr die Entwicklung des Motors </h2><br><p>  Nat√ºrlich gibt es eine Vielzahl von vorgefertigten Engines f√ºr visuelle Kurzgeschichten, die zweifellos besser sind als die unten beschriebene L√∂sung.  Egal was f√ºr ein Programmierer ich war, wenn ich keinen anderen geschrieben h√§tte.  Nehmen wir daher an, dass seine Entwicklung gerechtfertigt war. </p><br><h2 id="1-vybor-platformy">  1. Plattformauswahl </h2><br><p>  Die Auswahl war in der Tat gering: entweder Java oder C ++.  Ohne nachzudenken, entschied ich mich, meinen Plan in Java umzusetzen, weil  f√ºr eine schnelle Entwicklung bietet es alle M√∂glichkeiten (n√§mlich automatisches Speichermanagement und gr√∂√üere Einfachheit im Vergleich zu C ++, das viele Details auf niedriger Ebene verbirgt und dadurch weniger Betonung auf die Sprache selbst zul√§sst und nur an Gesch√§ftslogik denkt), und bietet auch Unterst√ºtzung f√ºr Windows, Grafik und Audio von Anfang an. </p><br><p>  Swing wurde ausgew√§hlt, um die grafische Benutzeroberfl√§che zu implementieren, da ich Java 13 verwendet habe, bei dem JavaFX nicht mehr Teil der Bibliothek ist und das Hinzuf√ºgen von mehreren zehn Megabyte OpenJFX, je nachdem, zu faul war.  Vielleicht war dies nicht die beste L√∂sung, aber dennoch. </p><br><p>  <em>Es stellt sich wahrscheinlich die Frage: Was f√ºr eine Spiel-Engine ist das, aber ohne Hardwarebeschleunigung?</em>  <em>Die Antwort liegt in der fehlenden Zeit, um sich mit OpenGL zu befassen, sowie in seiner absoluten Sinnlosigkeit: FPS ist f√ºr einen visuellen Roman nicht wichtig (auf jeden Fall mit so viel Animation und Grafik wie in diesem Fall).</em> </p><br><h2 id="2-arhitektura-dvizhka-i-ego-realizaciya">  2. Die Architektur der Engine und ihre Implementierung </h2><br><h3 id="21-postanovka-zadachi">  2.1 Darlegung des Problems </h3><br><p>  Um zu entscheiden, wie etwas zu tun ist, m√ºssen Sie entscheiden, warum.  Hier geht es mir um die Aussage des Problems, denn  Die Architektur ist nicht universell, aber eine "dom√§nenspezifische" Engine h√§ngt per definitionem direkt vom beabsichtigten Spiel ab. </p><br><p>  Unter Universal Engine verstehe ich die Engine, die Konzepte auf relativ niedriger Ebene unterst√ºtzt, wie "Game Object", "Scene", "Component".  Es wurde beschlossen, es nicht zu einem Universalmotor zu machen, da dies die Entwicklungszeit erheblich verk√ºrzen w√ºrde. </p><br><p>  Das Spiel sollte wie geplant aus folgenden Teilen bestehen: </p><br><p><img src="https://habrastorage.org/webt/w9/fh/l5/w9fhl5dhsu2tiua2kd9d8n5lfdq.png" alt="Struktur des visuellen Romanspiels"></p><br><p>  Das hei√üt, f√ºr jede Szene gibt es einen Hintergrund, den Haupttext sowie ein Textfeld f√ºr Benutzereingaben (der visuelle Roman wurde genau mit willk√ºrlichen Benutzereingaben gedacht und nicht wie so oft aus den vorgeschlagenen Optionen ausgew√§hlt. Sp√§ter werde ich Ihnen sagen, warum es schlecht war Entscheidung).  Das Diagramm zeigt auch, dass es im Spiel mehrere Szenen geben kann und daher √úberg√§nge zwischen ihnen hergestellt werden k√∂nnen. </p><br><p>  <em>Hinweis: Mit Szene meine ich den logischen Teil des Spiels.</em>  <em>Das Kriterium f√ºr die Szene kann genau in diesem Teil derselbe Hintergrund sein.</em> </p><br><p>  Zu den Anforderungen an die Engine geh√∂rte auch die F√§higkeit, Audio abzuspielen und Nachrichten anzuzeigen (mit der optionalen Benutzereingabefunktion). </p><br><p>  Der vielleicht wichtigste Wunsch war der, die Spielelogik nicht in Java, sondern in einer einfachen deklarativen Sprache zu schreiben. </p><br><p>  Es bestand auch der Wunsch, die M√∂glichkeit einer prozeduralen Animation, n√§mlich der elementaren Bewegung von Bildern, zu realisieren, damit auf Java-Ebene die Funktion bestimmt werden kann, anhand derer die aktuelle Bewegungsgeschwindigkeit ber√ºcksichtigt wird (zum Beispiel so, dass der Geschwindigkeitsgraph direkt oder sinusf√∂rmig oder etwas anderes ist). </p><br><p>  Die gesamte Benutzerinteraktion sollte wie geplant √ºber ein Dialogsystem erfolgen.  In diesem Fall wurde der Dialog nicht unbedingt als Dialog mit dem NPC oder √§hnlichem betrachtet, sondern im Allgemeinen als Reaktion auf Benutzereingaben, f√ºr die der entsprechende Handler registriert wurde.  Unverst√§ndlich?  Es wird bald klarer. </p><br><h3 id="22-arhitektura-i-realizaciya">  2.2.  Architektur und Implementierung </h3><br><p>  Aus all diesen Gr√ºnden k√∂nnen Sie die Engine in drei relativ gro√üe Teile aufteilen, die denselben Java-Paketen entsprechen: </p><br><ol><li> <code>display</code> - enth√§lt alles, was die Ausgabe von Informationen (Grafik, Text und Ton) an den Benutzer sowie den Empfang von Eingaben von ihm betrifft.  Eine Art (View), wenn wir √ºber MVC / MVP / etc. sprechen. </li><li>  <code>initializer</code> - enth√§lt Klassen, in denen die Engine initialisiert und gestartet wird. </li><li>  <code>sl</code> - enth√§lt Tools zum Arbeiten mit der Skriptsprache (im Folgenden - SL). </li></ol><br><p>  In diesem Abschnitt werde ich die ersten beiden Teile betrachten.  Ich werde mit dem zweiten beginnen. </p><br><p>  Die Initialisierungsklasse verf√ºgt √ºber zwei Hauptmethoden: <code>initialize()</code> und <code>run()</code> .  Die Steuerung erfolgt zun√§chst in der Launcher-Klasse, von der aus <code>initialize()</code> aufgerufen wird.  Nach dem Aufruf analysiert der Initialisierer die an das Programm √ºbergebenen Parameter (den Pfad zum Verzeichnis mit den Aufgaben und den Namen der auszuf√ºhrenden Aufgabe), l√§dt das Manifest der ausgew√§hlten Aufgabe (etwas sp√§ter), initialisiert die Anzeige und pr√ºft, ob die f√ºr die Aufgabe erforderliche Sprachversion (SL) von den Daten unterst√ºtzt wird Der Interpreter startet schlie√ülich einen separaten Thread f√ºr die Entwicklerkonsole. </p><br><p>  Unmittelbar danach ruft der Launcher die <code>run()</code> -Methode auf, die das eigentliche Laden der Quest in Gang setzt, wenn alles reibungslos lief.  Zun√§chst gibt es alle Skripte, die sich auf die heruntergeladene Quest beziehen (zur Struktur der Questdatei - siehe unten). Sie werden dem Analysator zugef√ºhrt, dessen Ergebnis dem Interpreter √ºbergeben wird.  Dann wird die Initialisierung aller Szenen gestartet und der Initialisierer beendet die Ausf√ºhrung seines Streams und h√§ngt schlie√ülich den Enter-Key-Handler auf dem Display auf.  Wenn der Benutzer die Eingabetaste dr√ºckt, wird die erste Szene geladen, aber dazu sp√§ter mehr. </p><br><p>  Die Dateistruktur der Quest ist wie folgt: </p><br><p><img src="https://habrastorage.org/webt/3l/xo/nr/3lxonrfkeik_hwids4tire50dge.png" alt="Dateistruktur der Quest"></p><br><p>  Es gibt einen separaten Ordner f√ºr die Quest, in dessen Stammverzeichnis sich ein Manifest befindet, sowie drei zus√§tzliche Ordner: <code>audio</code> - f√ºr Sound, <code>graphics</code> - f√ºr den visuellen Teil und <code>scenes</code> - f√ºr Skripte, die Szenen beschreiben. </p><br><p>  Ich m√∂chte das Manifest kurz beschreiben.  Es enth√§lt die folgenden Felder: </p><br><ul><li>  <code>sl_version_req</code> - SL-Version, die zum Starten der Quest erforderlich ist, </li><li>  <code>init_scene</code> - der Name der Szene, ab der die Quest beginnt, </li><li>  <code>quest_name</code> - ein sch√∂ner <code>quest_name</code> , der im Fenstertitel erscheint, </li><li>  <code>resolution</code> - die Aufl√∂sung des Bildschirms, f√ºr den die Quest bestimmt ist (ein paar Worte dazu sp√§ter), </li><li>  <code>font_size</code> - Schriftgr√∂√üe f√ºr den gesamten Text, </li><li>  <code>font_name</code> ist der Schriftname f√ºr den gesamten Text. </li></ul><br><p>  Es ist anzumerken, dass w√§hrend der Initialisierung der Anzeige unter anderem die Berechnung der Renderaufl√∂sung durchgef√ºhrt wurde: Das hei√üt, die erforderliche Aufl√∂sung wurde aus dem Manifest entnommen und in den f√ºr das Fenster verf√ºgbaren Platz gedr√ºckt, so dass: </p><br><ul><li>  das Seitenverh√§ltnis blieb das gleiche wie in der Aufl√∂sung aus dem Manifest, </li><li>  Der gesamte verf√ºgbare Platz war entweder in der Breite oder in der H√∂he belegt. <br>  Dank dessen kann der Entwickler der Quest sicher sein, dass seine Bilder, zum Beispiel 16: 9, auf jedem Bildschirm in diesem Verh√§ltnis angezeigt werden. </li></ul><br><p>  Wenn die Anzeige initialisiert wird, wird der Cursor ausgeblendet, da er nicht am Gameplay beteiligt ist. </p><br><p>  Kurz gesagt zur Entwicklerkonsole.  Es wurde aus folgenden Gr√ºnden entwickelt: </p><br><ol><li>  Zum Debuggen. </li><li>  Wenn w√§hrend des Spiels etwas schief geht, kann dies √ºber die Entwicklerkonsole behoben werden. <br>  Es wurden nur wenige Befehle implementiert, n√§mlich: Ausgeben von Deskriptoren eines bestimmten Typs und ihres Status, Ausgeben von Arbeitsthreads, Neustarten der Anzeige und des wichtigsten Befehls - <code>exec</code> , mit dem jeder SL-Code in der aktuellen Szene ausgef√ºhrt werden konnte. </li></ol><br><p>  Dies beendet die Beschreibung des Initialisierers und verwandter Dinge, und wir k√∂nnen mit der Beschreibung der Anzeige fortfahren. </p><br><p>  Seine endg√ºltige Struktur ist wie folgt: </p><br><p><img src="https://habrastorage.org/webt/zz/qb/-1/zzqb-15nrxzhechuggvxgzoo-hg.png" alt="Anzeigestruktur"></p><br><p>  Aus der Erkl√§rung des Problems k√∂nnen wir schlie√üen, dass alles, was getan werden muss, ist, Bilder zu zeichnen, Text zu zeichnen und Audio abzuspielen. </p><br><p>  Wie wird Text / Bild normalerweise in Universal Engines und dar√ºber hinaus gezeichnet?  Es gibt eine Methode vom Typ <code>update()</code> , die bei jedem H√§kchen / Schritt / Frame / Render / Frame / usw. aufgerufen wird und bei der eine Methode vom Typ <code>drawText()</code> / <code>drawImage()</code> - dies stellt das Erscheinungsbild von Text / Bild in diesem Frame sicher.  Sobald der Aufruf solcher Methoden beendet wird, wird das Rendern der entsprechenden Objekte jedoch beendet. </p><br><p>  In meinem Fall wurde beschlossen, etwas anderes zu machen.  Da f√ºr Bildromane Text und Bilder relativ dauerhaft sind und auch fast alles sind, was der Benutzer sieht (das hei√üt, sie sind wichtig genug), wurden sie als Spielobjekte erstellt - das hei√üt, Dinge, die man nur erzeugen muss und die nicht verschwinden bis du sie fragst.  Dar√ºber hinaus vereinfachte diese L√∂sung die Implementierung. </p><br><p>  Ein Objekt (aus Sicht von OOP), das den Text / das Bild beschreibt, wird als Deskriptor bezeichnet.  Das hei√üt, f√ºr den Benutzer der API-Engine gibt es nur Deskriptoren, die zum Anzeigestatus hinzugef√ºgt und daraus entfernt werden k√∂nnen.  Daher gibt es in der endg√ºltigen Version der Anzeige die folgenden Deskriptoren (sie entsprechen den Klassen mit dem gleichen Namen): </p><br><div class="scrollable-table"><table><thead><tr><th>  Name des Deskriptors: </th><th>  Beschreibung des Deskriptors: </th></tr></thead><tbody><tr><td> <code>ImageDescriptor</code> </td> <td>  Bildbeschreibung: Enth√§lt das Bild ( <code>BufferedImage</code> ), die Position auf dem Bildschirm und die Breite mit der H√∂he.  Beim Erstellen wird jedoch nur die Breite angegeben - die H√∂he wird proportional zur urspr√ºnglichen H√∂he berechnet (und es gibt keine M√∂glichkeit, das Bild √ºberproportional manuell zu strecken / zu komprimieren, sodass dies eine falsche Entscheidung war). </td></tr><tr><td> <code>TextDescriptor</code> </td> <td>  Textdeskriptor: Enth√§lt den Text, seine Position und Gr√∂√üe.  Dar√ºber hinaus wird der Text nicht in Breite und H√∂he skaliert, sondern √ºber die Grenzen hinaus abgeschnitten.  Der Text kann durch Silben und einfach durch Leerzeichen √ºbertragen werden und auch durch die Zeilen scrollen. </td></tr><tr><td> <code>AudioDescriptor</code> </td> <td>  Ein Audio-Deskriptor, mit dem Audio (entweder einmalig oder in einer Schleife) wiedergegeben, angehalten und entfernt werden kann. </td></tr><tr><td> <code>AnimationDescriptor</code> </td> <td>  Ein Animationshandle, das wie Audio geloopt werden kann.  Enth√§lt ein Objekt, das die Animation implementiert, und einen Bilddeskriptor, f√ºr den die Animation abgespielt wird.  Die Hauptmethode ist <code>update(long)</code> gibt die Anzahl der Millisekunden an, die seit dem letzten <code>update(long)</code> Aufruf <code>update(long)</code> vergangen sind.  Ihre Anzahl wird verwendet, um den aktuellen Status der Animation zu berechnen. </td></tr><tr><td> <code>InputDescriptor</code> </td> <td>  Eingabedeskriptor: ist ein Textfeld, in dem sich der Cursor immer am Ende des Textes befindet.  Es ist auch erw√§hnenswert, dass das Speichern und Rendern von Text aus einem Eingabedeskriptor √ºber einen implizit erstellten Textdeskriptor erfolgt, um die Logik nicht zu duplizieren.  <em>Das Lustige ist, dass ich die M√∂glichkeit, die R√ºcktaste zu dr√ºcken, in Betracht gezogen habe, aber Delete nicht ber√ºcksichtigt habe;</em>  <em>und als w√§hrend des Spiels noch L√∂schen gedr√ºckt wurde, erschien ‚ñØ‚ñØ‚ñØ im Feld, da f√ºr L√∂schen keine Verarbeitung durchgef√ºhrt wurde und das Zeichen versucht wurde, als Text anzuzeigen.</em> </td></tr><tr><td> <code>KeyAwaitDescriptor</code> </td> <td>  Ein Handle, an das die erforderliche Taste (von <code>KeyEvent</code> ) √ºbergeben wird, und ein R√ºckruf mit einer Logik, die beim Dr√ºcken der entsprechenden Taste gestartet wird. </td></tr><tr><td> <code>PostWorkDescriptor</code> </td> <td>  Ein Handle, das einen R√ºckruf akzeptiert, der nach der Verarbeitung jedes Ticks aufgerufen wird. </td></tr></tbody></table></div><br><p>  Die Anzeige enth√§lt auch Felder f√ºr den aktuellen Eingabeempf√§nger (Eingabedeskriptor) und ein Feld, das angibt, welcher Textdeskriptor jetzt den Fokus hat und dessen Text mit den entsprechenden Aktionen des Benutzers gescrollt wird. </p><br><p>  Der Spielzyklus sieht ungef√§hr so ‚Äã‚Äãaus: </p><br><ol><li>  Audioverarbeitung - Aufrufen der <code>update()</code> -Methode f√ºr Audiodeskriptoren, die den aktuellen Status des Audios √ºberpr√ºft, Speicher freigibt (falls erforderlich) und andere technische Arbeiten ausf√ºhrt. </li><li>  Tastatureingaben verarbeiten - √ºbertr√§gt eingegebene Zeichen an einen Deskriptor zum Empfangen von Eingaben, verarbeitet Tastatureingaben f√ºr Bildlauftasten (Aufw√§rts- und Abw√§rtspfeile) und die R√ºcktaste. </li><li>  Animationsverarbeitung. </li><li>  L√∂schen des Hintergrunds im Rendering-Puffer ( <code>BufferedImage</code> diente als Puffer). </li><li>  Bilder zeichnen. </li><li>  Textwiedergabe. </li><li>  Zeichnen von Eingabefeldern. </li><li>  Die Ausgabe des Puffers auf den Bildschirm. </li><li>  Umgang mit <code>PostWorkDescriptor</code> 's. </li><li>  Einige Arbeiten zum Ersetzen von Anzeigezust√§nden, auf die ich sp√§ter eingehen werde (im Abschnitt zum SL-Interpreter). </li><li>  Stoppen Sie den Fluss f√ºr eine dynamisch berechnete Zeit, damit die FPS dem angegebenen Wert entspricht (standardm√§√üig 30). </li></ol><br><p>  <em>Hinweis: M√∂glicherweise stellt sich die Frage: "Warum Eingabefelder rendern, wenn f√ºr sie entsprechende Textdeskriptoren erstellt wurden, die einen Schritt fr√ºher gerendert werden?"</em>  <em>Tats√§chlich findet das Rendern in Absatz 7 nicht statt - nur die Parameter des <code>InputDescriptor</code> werden mit den Parametern des <code>InputDescriptor</code> synchronisiert - wie z. B. Sichtbarkeit des Bildschirms, Position, Gr√∂√üe und andere.</em>  <em>Dies geschah, wie oben angegeben, aus dem Grund, dass der Benutzer den entsprechenden Eingabedeskriptor nicht direkt mit einem Textdeskriptor steuert und im Allgemeinen nichts dar√ºber wei√ü.</em> </p><br><p>  Es ist zu beachten, dass die Gr√∂√üe und Position der Elemente auf dem Bildschirm nicht in Pixeln, sondern in relativen Gr√∂√üen festgelegt wird - Zahlen von 0 bis 1 (Abbildung unten).  Das hei√üt, die gesamte Breite f√ºr das Rendern ist 1 und die gesamte H√∂he ist 1 (und sie sind nicht gleich, was ich einige Male vergessen und sp√§ter bereut habe).  Es w√ºrde sich auch lohnen, (0,0) als Mittelpunkt festzulegen, und die Breite / H√∂he sollte gleich zwei sein, aber aus irgendeinem Grund habe ich es vergessen / nicht dar√ºber nachgedacht.  Jedoch hat sogar die Option mit einer Breite / H√∂he von 1 das Leben des Questentwicklers vereinfacht. </p><br><p><img src="https://habrastorage.org/webt/ay/ay/zy/ayayzykqpewkfcggqoxxz3mtcse.png" alt="relatives Koordinatensystem"></p><br><p>  Ein paar Worte zum System zur Speicherfreigabe. </p><br><p>  Jeder Deskriptor hatte eine <code>setDoFree(boolean)</code> Methode, die der Benutzer aufrufen musste, um den angegebenen Deskriptor zu zerst√∂ren.  Die Speicherbereinigung f√ºr Deskriptoren eines bestimmten Typs erfolgte unmittelbar nach der Verarbeitung aller Deskriptoren dieses Typs.  Au√üerdem wurde einmal wiedergegebenes Audio nach Beendigung der Wiedergabe automatisch gel√∂scht.  Genau das Gleiche wie eine Animation ohne Schleife. </p><br><p>  So k√∂nnen Sie im Moment alles zeichnen, was Sie wollen, aber dies ist nicht das obige Bild, auf dem sich nur ein Hintergrund, der Haupttext und ein Eingabefeld befinden.  Und hier kommt der Wrapper √ºber das Display, der der Klasse <code>DefaultDisplayToolkit</code> . </p><br><p>  Bei der Initialisierung werden lediglich Deskriptoren f√ºr den Hintergrund, den Text usw. zur Anzeige hinzugef√ºgt und es wird auch die Anzeige von Nachrichten mit dem optionalen Symbol, dem Eingabefeld und dem R√ºckruf erl√§utert. </p><br><p>  <em>Dann tauchte ein kleiner Fehler auf, dessen vollst√§ndige Korrektur das Wiederherstellen der H√§lfte des Renderingsystems erfordern w√ºrde: Wenn Sie sich die Renderreihenfolge in der Spieleschleife ansehen, sehen Sie, dass zuerst die Bilder und dann erst der Text gezeichnet werden.</em>  <em>Wenn das Toolkit das Bild anzeigt, wird es gleichzeitig in Breite und <strong>H√∂he</strong> in der Mitte des Bildschirms platziert.</em>  <em>Wenn die Nachricht viel Text enth√§lt, sollte dieser den Haupttext der Szene teilweise √ºberlappen.</em>  <em>Da der Nachrichtenhintergrund jedoch ein Bild ist (vollst√§ndig schwarz, aber dennoch) und die Bilder vor dem Text gezeichnet werden, wird ein Text einem anderen √ºberlagert (Abbildung unten).</em>  <em>Das Problem wurde teilweise durch vertikale Zentrierung nicht auf dem Bildschirm, sondern im Bereich <strong>√ºber dem</strong> Haupttext gel√∂st.</em>  <em>Eine vollst√§ndige L√∂sung w√ºrde die Einf√ºhrung eines Tiefenparameters und das Wiederherstellen der Renderer von dem Wort "vollst√§ndig" umfassen.</em> </p><br><div class="spoiler">  <b class="spoiler_title">Overlay-Demonstration</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/la/t1/yn/lat1ynb6f3ivjxdvnhi4bsbjfvc.png" alt="Text √ºberlappend"></p></div></div><br><p>  Vielleicht geht es hier letztendlich um die Anzeige von allem.  Sie k√∂nnen zu der Sprache √ºbergehen, mit der die gesamte API arbeitet, die im <code>sl</code> Paket enthalten ist. </p><br><h2 id="3-skriptovyy-yazyk">  3. Skriptsprache </h2><br><p>  <em>Hinweis: Wenn der angesehene% USERNAME% es hier liest, hat er es gut gemacht, und ich w√ºrde ihn bitten, nicht damit aufzuh√∂ren: Jetzt wird es viel interessanter als zuvor.</em> </p><br><h3 id="31-yazyk">  3.1.  Sprache </h3><br><p>  Zun√§chst wollte ich eine deklarative Sprache erstellen, in der nur alle erforderlichen Parameter f√ºr die Szene angegeben werden m√ºssen, und das ist alles.  Der Motor w√ºrde die gesamte Logik √ºbernehmen.  Am Ende kam ich jedoch zu der prozeduralen Sprache, selbst mit OOP-Elementen (kaum unterscheidbar), und dies war eine gute L√∂sung, da sie im Vergleich zur deklarativen Option eine viel gr√∂√üere Flexibilit√§t in der Spielelogik erm√∂glichte. </p><br><p>  Die Sprachsyntax wurde so einfach wie m√∂glich f√ºr das Parsen konzipiert, was angesichts der verf√ºgbaren Zeit logisch ist. </p><br><p>  Der Code wird also in Textdateien mit der Erweiterung SSF gespeichert.  Jede Datei enth√§lt eine Beschreibung einer oder mehrerer Szenen.  Jede Szene enth√§lt keine oder mehrere Aktionen.  Jede Aktion enth√§lt null oder mehr Operatoren. </p><br><p>  Eine kleine Erkl√§rung zu den Begriffen.  Eine Aktion ist nur ein Vorgang ohne die M√∂glichkeit, Argumente weiterzugeben (was die Entwicklung des Spiels in keiner Weise behinderte).  Der Operator ist anscheinend nicht ganz das, was dieses Wort in gew√∂hnlichen Sprachen bedeutet (+, -, /, *), aber die Form ist dieselbe: Der Operator ist die Gesamtheit seines Namens und aller seiner Argumente. </p><br><p>  Vielleicht m√∂chten Sie den Quellcode f√ºr SL endlich sehen, hier ist er: </p><br><pre> <code class="plaintext hljs">scene dungeon { action init { load_image "background" "dungeon/background.png" load_image "key" "dungeon/key.png" load_audio "background" "dungeon/background.wav" load_audio "got_key" "dungeon/got_key.wav" } action first_come { play "background" loop set_background "background" set_text "some text" add_dialog "(||(|) (||-))" "dial_look_around" dial_look_around on } //some comment action dial_look_around { play "got_key" once show "some text 2" "key" none tag "key" switch_dialog "dial_look_around" off } }</code> </pre> <br><p>  Jetzt wird klar, was der Bediener ist.  Es ist auch ersichtlich, dass jede Aktion ein Anweisungsblock ist (eine Anweisung kann ein Anweisungsblock sein) sowie die Tatsache, dass einzeilige Kommentare unterst√ºtzt werden (es war nicht sinnvoll, mehrzeilige Kommentare einzugeben, au√üerdem habe ich keine einzeiligen verwendet). </p><br><p>  Der Einfachheit halber wurde ein solches Konzept als ‚ÄûVariable‚Äú nicht in die Sprache eingef√ºhrt;  Daher sind alle im Code verwendeten Werte Literale.  Je nach Typ werden folgende Literale unterschieden: </p><br><div class="scrollable-table"><table><thead><tr><th>  W√∂rtliche Bezeichnung: </th><th>  Hinweis: </th></tr></thead><tbody><tr><td>  String-Literal </td><td>  Die M√∂glichkeit, Anf√ºhrungszeichen und Schr√§gstriche (\\) zu umgehen, ist enthalten. Sie k√∂nnen auch einen Bindestrich in den Text einf√ºgen </td></tr><tr><td>  Ganzzahliges Literal </td><td>  Unterst√ºtzt negative Zahlen </td></tr><tr><td>  Gleitkomma-Literal </td><td>  Unterst√ºtzt negative Zahlen </td></tr><tr><td>  Keine w√∂rtliche </td><td>  Der Code wird als <code>none</code> </td></tr><tr><td>  Boolesches Literal </td><td>  Im Code - <code>on</code> / <code>off</code> f√ºr wahr / falsch </td></tr><tr><td>  Allgemeiner Wortlaut </td><td>  Wenn ein Literal nicht in einen der oben genannten Typen f√§llt und aus den Buchstaben des englischen Alphabets, den Zahlen und dem Unterstrich besteht, handelt es sich um ein allgemeines Literal. </td></tr></tbody></table></div><br><p>  Ein paar Worte zur Sprachanalyse.  Es gibt verschiedene Ebenen zum "Laden" des Codes (Abbildung unten): </p><br><ol><li>  Ein Tokenizer ist eine modulare Klasse zum Aufteilen von Quellcode in Token (die minimalen semantischen Einheiten der Sprache).  Jeder Tokentyp ist mit einer Nummer verkn√ºpft - seinem Typ.  Warum modular?  Denn die Teile des Tokenizers, die pr√ºfen, ob ein Teil des Quellcodes ein Token eines bestimmten Typs ist, werden vom Tokenizer isoliert und von au√üen heruntergeladen (aus dem zweiten Absatz). </li><li>  Das Tokenizer-Add-On ist eine Klasse, die das Erscheinungsbild jedes Tokentyps in SL definiert.  Auf der unteren Ebene wird ein Tokenizer verwendet.  Auch hier ist die √úberpr√ºfung von Leerzeichen und das Weglassen von einzeiligen Kommentaren.  Die Ausgabe liefert einen sauberen Strom von Token, die in ... </li><li>  ... ein Parser (auch modular), der am Ausgang einen abstrakten Syntaxbaum erzeugt.  Modular - weil es von sich aus nur Szenen und Aktionen analysieren kann, aber nicht wei√ü, wie Operatoren analysiert werden.  Daher werden Module in den Konstruktor geladen (tats√§chlich l√§dt er sie selbst in den Konstruktor, was nicht sehr gut ist), wodurch jeder seiner Operatoren analysiert werden kann. </li></ol><br><p><img src="https://habrastorage.org/webt/3c/vz/u-/3cvzu-qk5wgwwtgpn_dndl3aan8.png" alt="Pipeline der Skriptsprachenanalyse"></p><br><p>  Nun kurz zu den Operatoren, damit eine Vorstellung von der Funktionalit√§t der Sprache entsteht.  Urspr√ºnglich gab es 11 Betreiber, die das Spiel durchdachten, von denen einige zu einem verschmolzen, andere ge√§ndert und weitere 9 hinzugef√ºgt wurden.  Hier ist die √úbersichtstabelle: </p><br><div class="scrollable-table"><table><thead><tr><th>  Name des Betreibers: </th><th>  Hinweis: </th></tr></thead><tbody><tr><td> <code>load_image</code> </td> <td>  L√§dt ein Bild in den Speicher </td></tr><tr><td> <code>load_audio</code> </td> <td>  L√§dt Audio in den Speicher </td></tr><tr><td> <code>set_text</code> </td> <td>  Legt den Haupttext der Szene fest. </td></tr><tr><td> <code>set_background</code> </td> <td>  Legt den Hintergrund f√ºr die Szene fest. </td></tr><tr><td> <code>play</code> </td> <td>  Spielt Audio ab (kann einmal oder in einer Schleife abgespielt werden) </td></tr><tr><td> <code>show</code> </td> <td>  Zeigt eine Nachricht mit einem R√ºckruf (in SL) und einem optionalen Bild an (das aufgerufen wird, nachdem der Benutzer die Nachricht geschlossen hat). </td></tr><tr><td> <code>tag</code> </td> <td>  Setzt ein Tag (Label).  Es kann als globale Variable mit dem angegebenen Namen betrachtet werden, die keinen Wert speichert.  Dies ist in verschiedenen F√§llen hilfreich: Sie k√∂nnen beispielsweise so markieren, ob der Spieler den Schl√ºssel zur T√ºr gefunden hat, ob er sich bereits an diesem Ort befunden hat usw. </td></tr><tr><td>  <code>if_tag</code> / <code>if_tag_n</code> </td><td>  Verzweigungsoperatoren, mit denen Sie etwas tun k√∂nnen, je nachdem, ob das entsprechende Tag installiert ist.  <code>else</code> branch wird unterst√ºtzt.  <code>if_tag</code> wird ausgef√ºhrt, wenn das Tag gesetzt ist, <code>if_tag_n</code> - umgekehrt </td></tr><tr><td> <code>add_dialog</code> </td> <td>  Erm√∂glicht das Hinzuf√ºgen eines Dialogs zur Szene.  √úber sie etwas sp√§ter </td></tr><tr><td> <code>goto</code> </td> <td>  √úbergang zu einer anderen Szene </td></tr><tr><td> <code>call</code> </td> <td>  Benutzerdefinierter Aktionsaufruf </td></tr><tr><td> <code>call_extern</code> </td> <td>  Eine Aktion aus einer anderen Szene aufrufen. </td></tr><tr><td> <code>stop_all</code> </td> <td>  Stoppen Sie die Wiedergabe aller Sounds / Musik </td></tr><tr><td> <code>show_motion</code> </td> <td>  Zeigt das Bild an und verschiebt es in der angegebenen Zeit (Dauer) von einem Punkt zu einem anderen (mit einem optionalen R√ºckruf, der aufgerufen wird, wenn die Bewegung endet) </td></tr><tr><td> <code>animate</code> </td> <td>  Animiert ein zuvor durch <code>show_motion</code> gezeigtes <code>show_motion</code> .  Aus den Optionen: Sie k√∂nnen die Art der Animation angeben - <code>v_motion</code> / <code>h_motion</code> (vertikale / horizontale Bewegung nach Funktion) <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><msup><mi>t</mi><mn>3</mn></msup><mo>&amp;#x2212;</mo><mn>3</mn><msup><mi>t</mi><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.953ex" height="2.539ex" viewBox="0 -935.7 3854.8 1093.4" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMAIN-33" x="511" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMAIN-2212" x="1538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMAIN-33" x="2538" y="0"></use><g transform="translate(3039,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700002,15700021,15700186,15700191,15700259,15700271&amp;usg=ALkJrhiPZWjIj5uFAz_v24B6I5T6KHK3Tw#MJMAIN-32" x="511" y="513"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><msup><mi>t</mi><mn>3</mn></msup><mo>‚àí</mo><mn>3</mn><msup><mi>t</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> 2t ^ 3-3t ^ 2 </script>  ), die M√∂glichkeit der Schleife, eine Angabe der Zeit (Dauer), f√ºr die die Animation abgespielt werden soll.  Es ist m√∂glich, einen numerischen Wert (einen, da es keine M√∂glichkeit gibt, eine variable Anzahl von Argumenten zu √ºbergeben, sodass dies teilweise eine Kr√ºcke ist) an eine Animation (f√ºr jede Animation bedeutet dies unterschiedliche Dinge) und einen optionalen R√ºckruf (der beim Abspielen der Animation aufgerufen wird) zu senden. </td></tr></tbody></table></div><br><p>  Operatoren f√ºr die Arbeit mit Z√§hlern - Szenenspezifische Ganzzahlvariablen. </p><br><div class="scrollable-table"><table><thead><tr><th>  Name des Betreibers: </th><th>  Hinweis: </th></tr></thead><tbody><tr><td> <code>counter_set</code> </td> <td>  Erstellen eines Z√§hlers und Initialisieren mit einem bestimmten Wert </td></tr><tr><td> <code>counter_add</code> </td> <td>  Einem Z√§hler einen Wert hinzuf√ºgen </td></tr><tr><td> <code>if_counter &lt;modifier&gt;</code> </td> <td>  Kann die Werte von zwei Z√§hlern / Zahlen / Zahlen und einem Z√§hler vergleichen.  <code>&lt;modifier&gt;</code> ist ein allgemeines Literal und hat die Form <code>eq/gr/ls[_n]</code> , wobei <code>eq</code> gleich ist, <code>gr</code> gr√∂√üer ist als, <code>ls</code> kleiner ist als, <code>_n</code> Negation ist (z. B. ist <code>gr_n</code> nicht gr√∂√üer).  Wie Sie sehen, wurde alles so weit wie m√∂glich vereinfacht. </td></tr></tbody></table></div><br><p>  Es gab auch den Gedanken, eine <code>return</code> einzuf√ºhren (die entsprechende Funktionalit√§t wurde sogar auf der Kernebene des Interpreters hinzugef√ºgt), aber ich habe es vergessen und es war nicht n√ºtzlich. </p><br><p>           ,      ,     :  <code>show_motion</code>      (, , 0.01)         <code>duration</code> . </p><br><p>          ,   (lookup)  (  ):      ///,        <code>load_audio</code> / <code>load_image</code> / <code>counter_set</code> / <code>add_dialog</code> .   ,       ,   ,    , ‚Äî . .        ,     . , : " <code>scene_coast.dialog_1</code> " ‚Äî  <code>dialog_1</code>   <code>scene_coast</code> . </p><br><p>           SL-,   . , ,       , ‚Äî       .     :       (-, ),   ,       <code>lookup</code> ', ,  ,  .      ,            <code>goto</code>  <code>lookup</code> ',        . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p>    -      ‚Äî - ,        ,       <code>n</code>  ( )    .             ,     ,       <code>n</code>   .   ,  . </p></div></div><br><p>   .     : </p><br><pre> <code class="plaintext hljs">add_dialog "regexp" "dialog_name" callback on/off</code> </pre> <br><p>     ,                  . ,     :     ,   ,      ,     ( ). </p><br><p>  ,    ,        ( )    ( )   ,    ( ).         :         ,    ,     , ""   "". </p><br><p><img src="https://habrastorage.org/webt/qw/nk/y6/qwnky6dhlw8amlkbhcnb3ex4tvs.png" alt="dialogs system work"></p><br><p> <em>,       ( ,  )</em> </p><br><p>     ,  "": </p><br><pre> <code class="plaintext hljs">(||((|||) ( )?(||)?)|(||)( )?|  )</code> </pre> <br><p>  *** </p><br><p>   ,     :  ‚Äî ,      ,   ‚Äî . </p><br><p> <em>,       :      </em> </p><br><h3 id="32-interpretator"> 3.2.  </h3><br><p>      :   ,  ‚Äî  ""  (   ).  <em></em>           . </p><br><p>   SL    ,     - .  : </p><br><ol><li> <code>init</code> ‚Äî           ,    (  ,      , ,     ). </li><li> <code>first_come</code> ‚Äî ,      .     ,  ,     . </li><li>       ,     : <code>come</code> ‚Äî    ,     ( ). </li></ol><br><p> <em>: <code>init</code>  <code>first_come</code> ‚Äî     ,          .</em> </p><br><p>         .     :      ,    ,    <strong></strong>  <code>init</code> -.  ,  <strong></strong>    (   )    . </p><br><p>  ,     <code>n</code> ,        <code>first_come</code> - (  -       -     ).       .  ,   :       ,        ,  <code>first_come</code>  <code>come</code> ,   <code>come</code> ( ).    :        ,             ,         ,       . </p><br><p>          (,    "", " ", "  "  . .).  ,      ,   -    - .    ,             ( ),          . </p><br><p>              (, ,    ).   :        ?       ,        ,      .      <code>provideState</code>  ,        ;  <strong></strong>           ,      . </p><br><p> <em>      ,  ,     ,     ,    (    ,    ),         (, ,      ,    ).</em> </p><br><h2 id="4-razrabotka-igry"> 4.   </h2><br><p>          .   2019-  2018-,      ,  ,    . </p><br><h3 id="41-istoriya-i-razrabotka-logiki-igry">  4.1.      </h3><br><p>     ,  ,    , ‚Äî  .             ,      .      (  ),      , <del>  </del>     - , 9  (),      -  (   ,     ( , , )  . </p><br><p>  ,   :     ,       ,   ,     .           ,       ,     . </p><br><p>  ,        25% (5)  ,  :  ,   ;   ( <code>animate</code> ),      ( <code>call_extern</code> ). </p><br><p>   ,     -     ( ),      (,   ,   ‚Äî  ,  "You won"). </p><br><p><img src="https://habrastorage.org/webt/0g/la/gv/0glagv3q6tcjirb_qezojplz8tc.png" alt="demo visual novel"></p><br><h3 id="42-grafika">  4.2.  Grafik </h3><br><p>          ,     : </p><br><p><img src="https://habrastorage.org/webt/pz/fw/qi/pzfwqi8pkcr7le0xjkjmkd8w-h8.png" alt="stubs for graphics"></p><br><p>      ,    ,    -   -    " ".     : </p><br><ul><li>      (4x2.23''),         . </li><li>       : ,    , ‚Äî     . </li><li>            ////etc. </li></ul><br><p><img src="https://habrastorage.org/webt/e9/ry/rv/e9ryrv-13waaticfbp04vhwq5tu.png" alt="usage of art brushes"></p><br><ul><li>    ,    ,     . </li></ul><br><p><img src="https://habrastorage.org/webt/th/hj/jm/thhjjmkujbdjdo4eqvksclai7pq.png" alt="a character from the visual novel"></p><br><ul><li> ,        .      ,     , ,       .     . </li></ul><br><h2 id="5-statistika-i-itogi"> 5.    </h2><br><p>        ( 11 )    30  40 .    9    4  55 .     (  )  7  41 .   ‚Äî ~4-6  (    45   ). </p><br><p> <em>:      "Darkyen's Time Tracker"   JetBrains (  ).</em> <br> <em>:       2    ,    ‚Äî     .   45        8 .</em> </p><br><p>      : 4777,   ( ) ‚Äî 637. </p><br><p> <em>:     <code>cloc</code> .</em> </p><br><p>    30   .    (  ) :  ‚Äî ~8 ,      ‚Äî ~24 ,   (     ) ‚Äî ~8 .     . </p><br><p>   ‚Äî 232  (  - ,   WAV). </p><br><div class="spoiler"> <b class="spoiler_title"> WAV?</b> <div class="spoiler_text"><p>       <code>javax.sound.sampled.AudioSystem</code> ,    WAV  AU ,    WAV. </p></div></div><br><p>   28  (  3  ).          ‚Äî           17  /. </p><br><p>         -  :        ,        .  , ,   "   ",     " ".     (,   ),          (     ""/""  - ). </p><br><div class="spoiler"> <b class="spoiler_title">      ?</b> <div class="spoiler_text"><p>   ‚Äî      ,    .      :        .  Langweilig. ,       ,       ""    :        NPC,      ,       (,    ‚Äî    ..). </p></div></div><br><p>   ,      :  ,      . </p><br><p>    ‚Äî  .     ,  :  ,  ,  ,   .              . ,        ,     , , , . </p><br><p>   .       (        ),    : </p><br><ul><li>  .  .  . </li><li>     .              ,    . </li><li>   ,       . </li></ul><br><p> <em>,             ,  .</em> </p><br><p>           <a href="https://github.com/wcobalt/stepper" rel="nofollow">GitHub</a> . </p><br><p>        (assets)  <a href="https://github.com/wcobalt/stepper/releases" rel="nofollow"> "Releases"</a>   "v1.0"  . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483818/">https://habr.com/ru/post/de483818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483796/index.html">Optionale Parameter in Spring-Datenrepositorys</a></li>
<li><a href="../de483798/index.html">So automatisieren Sie das Erstellen von Anzeigen in Google Ads</a></li>
<li><a href="../de483800/index.html">Schlafe nicht Wie wir gelernt haben, 12.000 Ticketangebote pro Nacht zu ver√∂ffentlichen</a></li>
<li><a href="../de483802/index.html">So starten Sie ein Produkt alleine, wenn Sie Entwickler sind: Tipps von Taylor Otvel, dem Sch√∂pfer von Laravel. Teil 1: Publikum</a></li>
<li><a href="../de483804/index.html">Richard Hamming ‚ÄûNicht existierendes Kapitel‚Äú: Wie wir wissen, was wir wissen (11-20 Minuten von 40)</a></li>
<li><a href="../de483820/index.html">Was beeinflusst die Kreditvergabe? Home Credit Default Risk Wettbewerbs√ºbersicht</a></li>
<li><a href="../de483822/index.html">5 JavaScript-Funktionen, ohne die ich keinen Code schreiben k√∂nnte</a></li>
<li><a href="../de483824/index.html">Wie Sie die Arbeit Ihrer Tr√§ume erreichen, positiv denken und vorankommen, nachdem Sie meine f√ºnf Regeln studiert haben ...</a></li>
<li><a href="../de483826/index.html">Anschlie√üen eines CO2-Sensors Modell MH-Z19B √ºber den analogen Vo-Ausgang</a></li>
<li><a href="../de483828/index.html">Glanz und Armut Atomtausch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>