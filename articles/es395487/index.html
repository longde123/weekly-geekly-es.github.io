<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò® üçß üö© Dron de carreras DIY FPV (parte 2) - configuraci√≥n üßóüèæ ‚ôªÔ∏è üè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En la primera parte habl√© sobre c√≥mo ensamblar un quadrocopter para vuelos FPV. Ahora es el momento de configurarlo. Si est√° interesado, welkam debajo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dron de carreras DIY FPV (parte 2) - configuraci√≥n</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395487/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primera parte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> habl√© sobre c√≥mo ensamblar un quadrocopter para vuelos FPV. </font><font style="vertical-align: inherit;">Ahora es el momento de configurarlo. </font><font style="vertical-align: inherit;">Si est√° interesado, welkam debajo del gato.</font></font><br>
<br>
<img src="https://habrastorage.org/files/4a4/068/96b/4a406896bf854d38b75a5c4617cba4b7.jpg"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inmediatamente haga una reserva que no pretendo ser un experto en absoluto, este es solo el tercer quadrocopter que he reunido. </font><font style="vertical-align: inherit;">Adem√°s, el ajuste es algo muy subjetivo. </font><font style="vertical-align: inherit;">Sin embargo, espero que alguien encuentre √∫til el art√≠culo y ayude a ahorrar tiempo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Procedemos directamente a la configuraci√≥n. </font><font style="vertical-align: inherit;">Cosas m√°s simples primero, y luego Su Majestad el controlador de vuelo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parpadeo y configuraci√≥n de MinimOSD</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El firmware m√°s popular (pero no el √∫nico) para MinimOSD es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MWOSD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Primero, debe actualizar su placa, y luego tambi√©n configurarla. </font><font style="vertical-align: inherit;">Si puede configurar OSD a trav√©s de una PC (m√°s sobre esto en la secci√≥n sobre c√≥mo configurar una PC), entonces para el firmware necesita un adaptador FTDI o Arduinka. </font><font style="vertical-align: inherit;">En </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se muestra c√≥mo hacer esto a trav√©s del programador FTDI y, lo m√°s importante, d√≥nde obtener los controladores antiguos </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Lo principal es no olvidar antes de desinstalar el firmware en Config.h las siguientes l√≠neas: </font><font style="vertical-align: inherit;">
De los par√°metros a mostrar en la pantalla, comenc√© solo con el voltaje de la bater√≠a, el tiempo de vuelo y el modo de vuelo seleccionado.</font></font><br>
<br>
<code>#define MINIMOSD<br>
#define CLEANFLIGHT<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/files/a24/578/7cd/a245787cd08e40d99a5e6f8b59213c6a.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraciones de firmware y controlador</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para los controladores de firmware, tambi√©n tengo un adaptador USB especial, pero puede prescindir de √©l conect√°ndose a trav√©s de una PC. </font><font style="vertical-align: inherit;">¬øDurante mucho tiempo pens√≥ en poner Multishot o ya prob√≥ Oneshot125? </font><font style="vertical-align: inherit;">Por un lado, no hay mucha diferencia de velocidad en el chip F330 obsoleto, por otro lado, una melod√≠a de Star Wars cuando lo enciendes y, como dicen en los foros, una "se√±al m√°s limpia". </font><font style="vertical-align: inherit;">Resolvimos todas las quejas no individuales de que los motores comienzan a girar espont√°neamente a la velocidad m√°xima cuando se conectan a la CLI. </font><font style="vertical-align: inherit;">Como resultado, instal√≥ la √∫ltima versi√≥n de BLHeli (en el momento de la compilaci√≥n 14.5), encendi√≥ Damped Light y configur√≥ Motor Timing en Medium. </font><font style="vertical-align: inherit;">M√°s tarde calibr√≥ los reguladores de acuerdo con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estas instrucciones</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controlador de vuelo firmware</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta etapa, estuve atrapado por m√°s tiempo, ya que hab√≠a problemas con el firmware. Result√≥ que la primera vez que necesita coser con el cierre de los contactos de arranque (como en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Por cierto, a veces sucede que la PC est√° protegida contra escritura y es imposible actualizar un nuevo firmware. Aqu√≠ hay una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instrucci√≥n sobre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c√≥mo solucionarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiz√°s el firmware m√°s popular hoy, merecidamente, es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cleanflight</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Despu√©s de instalarlo, solo es suficiente configurar el protocolo del receptor y el quadrocopter ya puede volar de manera bastante tolerable. Para configurar, utilice el conveniente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configurador de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> shell gr√°fico </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Cleanflight</font></a><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias al c√≥digo de firmware abierto, tiene varias ramas (bifurcaciones). El m√°s interesante de estos es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betaflight.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de una persona con el apodo de Boris B. El firmware se est√° desarrollando de forma muy din√°mica y algunas de sus "caracter√≠sticas" luego pasan al Cleanflight "principal" (por ejemplo, modo de vuelo Airmode). La desventaja de Betaflight es que los lanzamientos salen con la suficiente frecuencia, y su estabilidad no siempre es alta. Por cierto, este motivo retras√≥ la redacci√≥n de este art√≠culo durante varias semanas. Al momento de completar el ensamblaje del quadrocopter, se acaba de lanzar la versi√≥n 2.8.0, que ten√≠a un par de errores y difer√≠a en la configuraci√≥n predeterminada hostil. La versi√≥n parcheada 2.8.1 RC1 apareci√≥ muy r√°pidamente, pero la experiencia de trabajar como programador me dijo que era mejor esperar el lanzamiento. No </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">fall√©</font></a><font style="vertical-align: inherit;"> , ya que al mismo tiempo con el lanzamiento de la versi√≥n 2.8.1, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apareci√≥ Betaflight Configurator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Podemos decir que esta es una nueva etapa en la historia de este firmware. </font><font style="vertical-align: inherit;">El hecho es que a medida que Betaflight se desarrolla cada vez m√°s, se aleja de Cleanflight y el configurador de este √∫ltimo se vuelve cada vez m√°s in√∫til, ya que la mayor parte de la configuraci√≥n a√∫n se realiz√≥ a trav√©s de la consola CLI. </font><font style="vertical-align: inherit;">Por cierto, en el momento de preparar este art√≠culo, Betaflight versi√≥n 2.9.0 ya se hab√≠a lanzado, pero debido a las cr√≠ticas negativas, no lo actualic√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, describir√© en detalle c√≥mo configur√© mi quadrocopter a trav√©s de Betaflight Configurator.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n de PC a trav√©s de Betaflight Configurator</font></font></h4><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a de configuraci√≥n</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hizo la calibraci√≥n del aceler√≥metro.</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a Puertos</font></font></h5><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para que OSD funcione, incluy√≥ MSP para el puerto UART2.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca desactive el MSP para el puerto UART1. </font><font style="vertical-align: inherit;">Es paralelo con USB y al deshabilitar la transferencia de datos, ya no est√° conectado a una PC a trav√©s de un conector USB.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/0dc/829/18b/0dc82918b7604d158d4544d3262f7b04.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a de configuraci√≥n</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En realidad, casi todos los ajustes se realizan aqu√≠.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la secci√≥n "Alineaci√≥n de placa y sensor", indiqu√© que mi PC se rot√≥ 90 grados a lo largo del eje de gui√±ada. </font><font style="vertical-align: inherit;">La correcci√≥n de este par√°metro se puede verificar en la pesta√±a Configuraci√≥n.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En "Modo receptor" eleg√≠ RX_PPM.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eleg√≠ ONESHOT125 como el protocolo de los reguladores (por qu√© no MULTISHOT, escrib√≠ anteriormente).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desactivado "Salida PWM no sincronizada", nuevamente, porque no estoy usando MULTISHOT.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para que los motores siempre giren en estado alimentado, apagu√© MOTOR_STOP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habilit√© la opci√≥n "Desarmar motores independientemente del valor del acelerador", ya que har√© armar los motores en un canal separado.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se redujo el valor de "Acelerador m√≠nimo" a 1030. Esta es la velocidad inactiva, seleccionada subjetivamente.</font></font></li>
<li>  ¬´VBAT¬ª     .     ¬´Battery Voltage¬ª   ,      .      ,     ¬´Voltage Scale¬ª.</li>
<li> ¬´Other Features¬ª  BLACKBOX, SUPEREXPO_RATES,   LED_STRIP   AIRMODE.      .</li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/551/eb5/f47/551eb5f47fdc409182fd8907ec6b18e3.png"><br>
<br>
<h5> Failsafe</h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con seguridad, todo result√≥ ser un poco m√°s complicado de lo que hab√≠a visto anteriormente. </font><font style="vertical-align: inherit;">En foros especializados, a veces hay holivars sobre el tema "¬ød√≥nde es mejor configurar a prueba de fallos: en el receptor o en la PC?" </font><font style="vertical-align: inherit;">De hecho, esta pregunta suena correctamente as√≠: "¬ød√≥nde es mejor configurar a prueba de fallos: solo en el receptor o en el receptor y en la PC?" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La configuraci√≥n a prueba de fallos en el receptor es necesaria en cualquier caso. </font><font style="vertical-align: inherit;">Aqu√≠ es necesario hacer una aclaraci√≥n importante de que estamos hablando del receptor Frsky D4R-II que opera bajo el protocolo PPM. </font><font style="vertical-align: inherit;">Para receptores con S.Bus, failsafe est√° configurado de manera diferente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frsky D4R-II tiene tres opciones para la p√©rdida de se√±al del transmisor:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transmitir a una PC una se√±al que simule las posiciones preestablecidas de palancas e interruptores (modo de posiciones preestablecidas, que es lo que se describe en el manual)</font></font></li>
<li>     ,    ( Hold Last Position)</li>
<li>     ( No Pulse)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De manera predeterminada, el Frsky D4R-II est√° configurado en el modo Hold Last Position, lo que contribuye al vuelo del dispositivo a distancias distantes. Entonces, si usa failsafe solo en el receptor, debe configurar el modo de posiciones preestablecidas. Otra cosa es que a prueba de fallas se activa incluso con una p√©rdida moment√°nea de se√±al. Ser√° muy desagradable si la se√±al se recupera despu√©s de una fracci√≥n de segundo, y el quadrocopter ya zadarmi se mueve y cae. La configuraci√≥n a prueba de fallos en una PC puede mejorar la situaci√≥n, ya que este modo tiene una respuesta retardada, que sirve como filtro contra p√©rdidas de se√±al a corto plazo. Adem√°s, hay un script personalizable seg√∫n el cual el quadrocopter se comportar√° si se activa a prueba de fallos. Por ejemplo, puede activar el modo de estabilizaci√≥n e intentar sentarse m√°s o menos suavemente, o incluso activar RTH, si lo hay.Pero en la pr√°ctica, tales cosas son muy demandadas en dispositivos grandes con GPS, y en dispositivos peque√±os y r√°pidos, los pilotos experimentados aconsejan no ser inteligentes y apagar los motores despu√©s de perder la se√±al. Debido a la alta velocidad de los vuelos, ser√° m√°s seguro para los dem√°s.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El matiz es que si el receptor est√° configurado en Posiciones preestablecidas o Mantener la √∫ltima posici√≥n, la PC ni siquiera sabr√° que se ha producido una p√©rdida de se√±al. </font><font style="vertical-align: inherit;">Por lo tanto, a prueba de fallas en la PC solo se puede usar si No Pulse est√° configurado en el receptor. </font><font style="vertical-align: inherit;">En el Frsky D4R-II, se instala presionando brevemente (menos de 1 segundo) el bot√≥n de seguridad </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con el transmisor apagado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instrucci√≥n de video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la pesta√±a Failsafe Betaflight Configurator, hice lo siguiente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la secci√≥n Configuraci√≥n de retroceso de canal, configuro los valores de los interruptores del transmisor que deber√°n simularse. </font><font style="vertical-align: inherit;">En mi caso, acabo de encender el chirrido en AUX3.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Activado Failsafe Etapa 2.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Establezca el retraso de activaci√≥n del modo a prueba de fallas 1 segundo (valor 10 en el elemento "Tiempo de protecci√≥n para la activaci√≥n de la etapa 2 ...")</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure el tiempo de funcionamiento de los motores despu√©s de activar 1 segundo a prueba de fallas (valor 10 en el √≠tem Retardo bajo del acelerador a prueba de fallas).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el Procedimiento a prueba de fallos, eleg√≠ el escenario con Drop (Drop), y no con un intento de aterrizar sin problemas (Land).</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/f38/c3f/7fe/f38c3f7fe3754ce79d53a2806e354d20.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a de ajuste PID</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La configuraci√≥n de PID es un proceso en el que no debe entrar sin conocer un vado. </font><font style="vertical-align: inherit;">En primer lugar, es necesaria una comprensi√≥n te√≥rica de estos tres componentes. </font><font style="vertical-align: inherit;">Aqu√≠ hay algunos art√≠culos que pueden ayudar con esto:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID para quadrocopters (traducci√≥n)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre los controladores PID puestos en la palabra</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y m√°s sobre controladores PID</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conceptos b√°sicos de la configuraci√≥n del controlador PID mediante registros de Blackbox (traducci√≥n)</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre la sintonizaci√≥n PID</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No me siento preparado para tal configuraci√≥n, as√≠ que dej√© los valores predeterminados, ya que Betaflight tambi√©n hace que sea agradable volar con ellos. </font><font style="vertical-align: inherit;">Pero a√∫n hice dos cambios:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flotador seleccionado en la secci√≥n PID Math. </font><font style="vertical-align: inherit;">Este es el receptor de modo LuxFloat de Cleanflight y se recomienda instalarlo solo para PC con procesadores F3 o F4.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MEDICI√ìN seleccionada en la secci√≥n "M√©todo derivado". </font><font style="vertical-align: inherit;">En resumen, MEASUREMENT es preferido para estilo libre y ERROR para carreras.</font></font></li>
</ul><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a Modos</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Colgu√© los motores y Blackbox (AUX1) en los interruptores, activ√© el modo de vuelo Horizon (AUX2) y encend√≠ el tweeter (AUX3). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n me gustar√≠a decir sobre AIRMODE. </font><font style="vertical-align: inherit;">Inicialmente, era una caracter√≠stica √∫nica de Betaflight, pero en alg√∫n momento se hizo tan popular que Boris B la comparti√≥ con los autores de Cleanflight y ahora este modo tambi√©n est√° disponible all√≠.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pesar de que AIRMODE se muestra como un modo de vuelo separado, esta es m√°s una opci√≥n adicional, en lugar de un modo completo. Permite que el quadrocopter mantenga un √°ngulo dado incluso con un gas m√≠nimo. Es por eso que no se recomienda usar AIRMODE junto con los modos de estabilizaci√≥n. Adem√°s, aterrizar con AIRMODE tambi√©n es un proceso dif√≠cil: el quadrocopter comienza a saltar como una rana. Los pilotos experimentados prefieren simplemente "soltar" el quadrocopter, apagando los motores a un par de decenas de cent√≠metros sobre el suelo. Por cierto, si tiene el motor parado a gas cero (la opci√≥n MOTOR_STOP en la pesta√±a Configuraci√≥n) y AIRMODE funciona al mismo tiempo, no habr√° parada del motor, ya que AIRMODE tiene una prioridad m√°s alta.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betaflight versi√≥n 2.8.1 tiene una nueva caracter√≠stica: puede habilitar AIRMODE en segundo plano (algo as√≠ como un beneficio pasivo en los juegos) y luego siempre est√° activo y no aparecer√° en la pesta√±a Modos, o, como antes, colgarlo cualquier canal </font><font style="vertical-align: inherit;">Esto se hace en la pesta√±a "Otras caracter√≠sticas" de la Configuraci√≥n. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mi lugar, no activ√© AIRMODE en segundo plano, ya que tambi√©n estoy usando el modo de estabilizaci√≥n HORIZON. </font><font style="vertical-align: inherit;">Por lo tanto, tengo dos modos de vuelo en AUX1: HORIZONTE (para vuelos con estabilizaci√≥n y aterrizaje) y ACRO + AIRMODE.</font></font><br>
<br>
<img src="https://habrastorage.org/files/054/7c0/af8/0547c0af8bfb4269947b59362f80f433.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tira de tira de LED</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configur√© mi luz de fondo para mostrar advertencias, indicadores de giro / freno y brillar en azul cuando nada de esto existe.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f05/cd4/6de/f05cd46de9dc4a948c6b4eae3537f037.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesta√±a Blackbox</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blackbox es una "caja negra" de un quadrocopter. </font><font style="vertical-align: inherit;">Es necesario para diagn√≥sticos, configuraciones de PID m√°s precisas, as√≠ como para la aplicaci√≥n de infograf√≠as al video de vuelo (como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Los datos se escriben en un registrador externo o, si la cantidad de memoria lo permite, en la memoria interna de la PC. </font><font style="vertical-align: inherit;">Por ejemplo, a Naze32 Acro le falta, mientras que Naze32 Deluxe y SPRacingF3 Acro tienen suficiente, aunque no por mucho. </font><font style="vertical-align: inherit;">Con la configuraci√≥n predeterminada, los datos de vuelo que duran de 3 a 4 minutos se pueden grabar en 2 MB de memoria, que es muy peque√±a. </font><font style="vertical-align: inherit;">La situaci√≥n se ve agravada por el hecho de que es imposible implementar la grabaci√≥n ‚Äúen c√≠rculo‚Äù, como en las grabadoras de autom√≥viles, debido a la baja velocidad de la memoria de lectura / escritura. </font><font style="vertical-align: inherit;">La √∫nica opci√≥n es reducir la velocidad de escritura varias veces. </font><font style="vertical-align: inherit;">Para el diagn√≥stico, dichos datos ya ser√°n de poca utilidad, pero para el video, eso es todo. </font><font style="vertical-align: inherit;">En esta pesta√±a, hice lo siguiente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eleg√≠ escribir en la memoria interna (opci√≥n "Chip de flash de datos integrado") en la secci√≥n "Dispositivo de registro de Blackbox".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la secci√≥n "Porcentaje de iteraciones de bucle de vuelo para registrar", eleg√≠ 50%, lo que esencialmente reduce la velocidad de grabaci√≥n a la mitad.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/ac9/adf/181/ac9adf181c9440c5a830e43c3fdc588a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como escrib√≠ anteriormente, el inicio de sesi√≥n se inicia con el mismo interruptor de palanca en el hardware que la armadura, por lo que la grabaci√≥n comienza en el inicio de los motores. </font><font style="vertical-align: inherit;">Puede leer m√°s sobre el funcionamiento y la configuraci√≥n de Blackbox en el </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manual</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tambi√©n algunos enlaces √∫tiles relacionados:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Art√≠culo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de configuraci√≥n de la caja negra en Cleanflight</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traducci√≥n del art√≠culo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Superposici√≥n de datos de Blackbox en video"</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traducci√≥n del art√≠culo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Conceptos b√°sicos de la configuraci√≥n del controlador PID mediante registros de Blackbox"</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n de Blackbox y uso de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">video</font></a></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Blackbox Explorer</a>   </li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Blackbox tools</a>    . ,    png</li>
</ul><br>
<br>
<h5> CLI</h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CLI es una consola a trav√©s de la cual puede cambiar configuraciones m√°s avanzadas, as√≠ como hacer una copia de seguridad de todas las configuraciones. </font><font style="vertical-align: inherit;">Hice lo siguiente: </font><font style="vertical-align: inherit;">
Betaflight tambi√©n tiene una capacidad muy √∫til para conectarse a OSD a trav√©s de una PC. </font><font style="vertical-align: inherit;">Ahora puede ocultar esta bufanda sin preocuparse de que necesite conectarse. </font><font style="vertical-align: inherit;">Para conectarse a la placa OSD a trav√©s de una PC, debe conectar la bater√≠a al quadcopter, luego escribir </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;">serialpassthrough</font></i></a><font style="vertical-align: inherit;"> en la CLI </font><font style="vertical-align: inherit;">con los par√°metros necesarios, luego desconectar (desconectar) Betaflight de la PC e iniciar MWOSD. </font><font style="vertical-align: inherit;">Lo hice la primera vez. </font><font style="vertical-align: inherit;">En cuanto a los par√°metros, luego para Micro MinimOSD conectado a UART2 (mi caso) son los siguientes: </font><font style="vertical-align: inherit;">
Esto completa la configuraci√≥n del controlador de vuelo.</font></font><br>
<br>
<code>set small_angle = 180 #        <br>
set vbat_pid_compensation = ON #   PID   <br>
save #  <br>
</code><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"></font><br>
<br>
<code>serialpassthrough 1 115200<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n del transmisor</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada piloto configura un transmisor (tambi√©n conocido como "remoto") individualmente: temporizadores, mezclas, notificaciones de voz y m√°s. Lo √∫nico que es extremadamente deseable hacer es verificar los valores m√≠nimo, promedio y m√°ximo de las palancas de control en el configurador. Esto se hace en la pesta√±a Receptor. Los valores ideales son 1000 - 1500 - 2000. En mi caso, fueron 996 - 1508 - 2020, lo cual no es muy bueno. En primer lugar, la "ca√≠da" del rango (valores inferiores a 1000 y superiores a 2000) son malos en s√≠ mismos. En segundo lugar, la posici√≥n central, distinta de 1500, ser√° percibida por la PC como un rodaje f√°cil, que funcionar√° y el quadrocopter se demoler√° constantemente en alguna direcci√≥n. En una palabra, tiene sentido jugar y configurar "como deber√≠a". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se muestra c√≥mo establecer estos valores en el transmisor Taranis.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tengo Turnigy 9XR PRO, all√≠ se hace en l√≠mites. Tambi√©n puede configurar a trav√©s del programa eePskye (pesta√±a L√≠mites), pero esto es un inconveniente, ya que el resultado no es inmediatamente visible en el Configurador Betaflight. Esto debe hacerse para cada uno de los cuatro canales de control. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de ajustar, los valores centrales estaban lo m√°s cerca posible de 1500, pero conmigo comenzaron a "saltar" unas 5 unidades en una u otra direcci√≥n. No s√© con qu√© est√° relacionado esto, probablemente, los valores del control remoto est√°n en el l√≠mite de la PC y despu√©s de su redondeo aparece este efecto. Para resolver este problema, Betaflight (y CleanFlight tambi√©n) tiene un comando especial que configura el filtrado de tales cosas.</font></font><br>
<br>
<code>set deadband = 6<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El valor puede ser de 0 a 32 y con su aumento disminuye la sensibilidad de control. </font><font style="vertical-align: inherit;">La gesti√≥n se vuelve m√°s suave. </font><font style="vertical-align: inherit;">Debe entenderse que despu√©s de cierto umbral, la suavidad se convertir√° en algod√≥n, por lo que eleg√≠ el valor m√≠nimo en el que desaparecieron las sacudidas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eso es todo, buenos vuelos!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es395487/">https://habr.com/ru/post/es395487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es395475/index.html">Cubo 4x4x4 LED RGB para visualizaci√≥n de m√∫sica</a></li>
<li><a href="../es395477/index.html">Proyecto "Ojo". El final</a></li>
<li><a href="../es395479/index.html">Los dispositivos de realidad virtual son m√°s beneficiosos para los ojos que las pantallas normales</a></li>
<li><a href="../es395481/index.html">Smart ring Nimb del cofundador KermlinRussia apareci√≥ en Kickstarter</a></li>
<li><a href="../es395485/index.html">Los cient√≠ficos han anunciado el lanzamiento del proyecto HGP-write, cuyo objetivo final es crear un genoma humano sint√©tico completo</a></li>
<li><a href="../es395489/index.html">Una startup de Ucrania ha propuesto una carga inal√°mbrica que puede cargar hasta 8 iPhone simult√°neamente en un radio de 10 metros</a></li>
<li><a href="../es395491/index.html">Penaudio: verdadero sonido finland√©s</a></li>
<li><a href="../es395493/index.html">Para 2035, Rusia tendr√° su propio lenguaje de programaci√≥n y teletransportaci√≥n cu√°ntica.</a></li>
<li><a href="../es395495/index.html">El tecnofascismo: ¬øel futuro de la humanidad? (no pol√≠tica)</a></li>
<li><a href="../es395497/index.html">Computadoras legendarias de la historia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>