<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¨ â›±ï¸ ğŸ° 3e place dans la phase de qualification de DataScienceGame 2018 ğŸ§–ğŸ¾ ğŸ¾ ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La phase de qualification de DataScienceGame2018, qui s'est dÃ©roulÃ©e au format kaggle InClass, s'est rÃ©cemment terminÃ©e. DataScienceGame est un concou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3e place dans la phase de qualification de DataScienceGame 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ods/blog/416817/"><img src="https://habrastorage.org/webt/gi/wr/hk/giwrhkz4e1c8_xzxfb2wwdubwby.png" alt="image" width="100%"><br><br>  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">phase de qualification de</a> DataScienceGame2018, qui s'est dÃ©roulÃ©e au format kaggle InClass, s'est rÃ©cemment terminÃ©e.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DataScienceGame</a> est un concours international d'Ã©tudiants organisÃ© sur une base annuelle.  Notre Ã©quipe a rÃ©ussi Ã  Ãªtre Ã  la 3Ã¨me place parmi plus de 100 Ã©quipes et en mÃªme temps NE PAS aller Ã  l'Ã©tape finale. <br><a name="habracut"></a><br><h2>  Interaction d'Ã©quipe </h2><br><img src="https://habrastorage.org/webt/rx/oj/rf/rxojrf1p-3rm4ce5k5-dcxfb2yy.jpeg" alt="L'Ã©quipe" width="400" align="right">  Dans les grandes compÃ©titions de kaggle, les Ã©quipes sont gÃ©nÃ©ralement formÃ©es en cours de route par des personnes ayant une avance proche dans le classement (un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple typique d'une Ã©quipe</a> ), et reprÃ©sentent donc diffÃ©rentes villes et, souvent, diffÃ©rents pays.  ImmÃ©diatement, selon les termes du concours, chaque Ã©quipe doit Ãªtre composÃ©e de 4 personnes d'un Ã©tablissement d'enseignement (nous reprÃ©sentions le MIPT).  Et cela signifie que la plupart des participants, il me semble, toutes les discussions ont eu lieu hors ligne.  Par exemple, nous avions toute l'Ã©quipe vivant sur un Ã©tage de l'auberge, nous nous sommes donc rÃ©unis le soir avec quelqu'un dans la chambre. <br><br>  Nous n'avions pas de sÃ©paration des tÃ¢ches, de planification ou de constitution d'Ã©quipe.  Au dÃ©but du concours, nous nous sommes simplement assis en cercle, avons discutÃ© de ce que nous pouvons faire Ã  l'avenir et nous ne l'avons pas fait.  Le code a Ã©tÃ© Ã©crit par une seule personne, et les autres Ã  l'Ã©poque ont simplement regardÃ© et donnÃ© des conseils.  Je n'aime pas vraiment Ã©crire du code, j'ai donc aimÃ© cette interaction, mÃªme si ce n'Ã©tait Ã©videmment pas la meilleure.  Mais comme la phase de qualification s'est dÃ©roulÃ©e exactement lors de la session Ã  l'universitÃ©, une partie de l'Ã©quipe n'a pas pu consacrer beaucoup de temps et j'ai quand mÃªme dÃ» Ã©crire le code moi-mÃªme. <br><br><h2>  Description de la tÃ¢che </h2><br>  Selon l'historique fourni par BNP, il Ã©tait nÃ©cessaire de prÃ©dire si l'utilisateur serait intÃ©ressÃ© par une certaine sÃ©curitÃ© (Isin) la semaine prochaine ou non.  Dans le mÃªme temps, l 'Â«intÃ©rÃªtÂ» Ã©tait dÃ©terminÃ© par la colonne TradeStatus, qui dÃ©crivait l'Ã©tat de la transaction et avait les valeurs uniques suivantes: <br><br><ol><li>  La transaction a Ã©tÃ© effectuÃ©e (c'est-Ã -dire que l'utilisateur a achetÃ© / vendu du papier) </li><li>  L'utilisateur a regardÃ© le document, mais n'a pas effectuÃ© de transaction </li><li>  L'utilisateur rÃ©serve du papier pour un futur achat / vente </li><li>  La transaction n'a pas Ã©tÃ© conclue pour des raisons techniques. </li><li>  Tenir </li></ol><br>  Donc, si TradeStatus prend la valeur 1) -4), il est considÃ©rÃ© que l'utilisateur Ã©tait intÃ©ressÃ© par cet article et n'Ã©tait pas intÃ©ressÃ© par tous les autres cas.  Dans le mÃªme temps, le paragraphe 4) indiquait que la ligne avec cette transaction Ã©tait fictive et avait Ã©tÃ© faite pour faciliter les rapports.  Ã€ savoir, Ã  la fin de chaque mois, le statut du portefeuille de chaque utilisateur a Ã©tÃ© comparÃ© Ã  son Ã©tat il y a un mois, et si, par exemple, l'utilisateur en quelque sorte dans le portefeuille, le montant d'une certaine sÃ©curitÃ© a augmentÃ© de 10 000, alors cette mÃªme ligne marquÃ©e Â«achatÂ» "Et avec une valeur nominale de 10k.  Les lignes marquÃ©es Â«en attenteÂ» avaient une variable cible de 0 (l'utilisateur n'Ã©tait pas intÃ©ressÃ©). <br><br>  Si vous y rÃ©flÃ©chissez, vous pouvez comprendre que l'ensemble de donnÃ©es se dÃ©roulait comme suit: les utilisateurs Ã©taient actifs sur le site Web de la banque - ils ont cherchÃ© / achetÃ© des papiers, et toutes ces actions ont Ã©tÃ© enregistrÃ©es dans la base de donnÃ©es.  Par exemple, un utilisateur avec id = 15 a dÃ©cidÃ© de reporter le papier avec id = 7 pour de futurs achats.  ImmÃ©diatement dans la base de donnÃ©es est apparue la ligne correspondante avec la cible 1 (l'utilisateur s'est intÃ©ressÃ©) <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Statut de l'accord </th><th>  Champs supplÃ©mentaires </th><th>  Cible </th></tr><tr><td>  15 </td><td>  7 </td><td>  Acheter </td><td>  Mettre de cÃ´tÃ© pour l'avenir </td><td>  ... </td><td>  1 </td></tr></tbody></table><br>  De plus, des enregistrements mensuels avec le statut de dÃ©tention et la cible 0 ont Ã©tÃ© ajoutÃ©s Ã  cela. Par exemple, l'utilisateur 15 a augmentÃ© le nombre de parts 93 pour une raison quelconque (peut-Ãªtre l'a-t-il achetÃ© sur un autre site), alors qu'il n'a pas lui-mÃªme utilisÃ© ce papier sur le site Web de BNP interagi (pas intÃ©ressÃ©). <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Statut de l'accord </th><th>  Champs supplÃ©mentaires </th><th>  Cible </th></tr><tr><td>  15 </td><td>  93 </td><td>  Acheter </td><td>  Tenir </td><td>  ... </td><td>  0 </td></tr></tbody></table><br>  Mais, Ã©videmment, pour BNP, il est inutile de prÃ©dire ces mÃªmes avoirs, car ils peuvent Ãªtre restaurÃ©s sans ambiguÃ¯tÃ© Ã  partir de la base.  Cela signifie qu'il existe un autre type de jetons qui ne figurent pas dans la table de formation, Ã  savoir les triplets Â«utilisateur - papier - type de transactionÂ» qui n'apparaissent pas dans la base de donnÃ©es.  Autrement dit, l'utilisateur n'Ã©tait PAS intÃ©ressÃ© par une certaine action, cela signifie qu'il n'a pas interagi avec elle dans le systÃ¨me BNP, donc la ligne correspondante n'apparaissait pas dans la base de donnÃ©es, ce qui signifie qu'il devrait avoir une cible de 0. Et cela suggÃ¨re que vous devez gÃ©nÃ©rer de telles lignes pour vous entraÃ®ner vous-mÃªme ( voir la section Â«Compilation d'un exemple de formationÂ»).  Tout cela pourrait crÃ©er une certaine confusion, car de nombreux participants pensaient probablement - il existe un ensemble de donnÃ©es, il y a des zÃ©ros et des uns - que vous pouvez prÃ©voir.  Mais pas si simple. <br><br>  Ainsi, dans le train, il y a un tableau avec l'historique des transactions (c'est-Ã -dire l'interaction Â«utilisateur - papier - type de transactionÂ» et quelques informations supplÃ©mentaires Ã  leur sujet) et un tas d'autres plaques avec les caractÃ©ristiques de l'utilisateur, le stock, les conditions du marchÃ© mondial.  Dans le test, il n'y a que des triplets Â«utilisateur - papier - type de transactionÂ» et pour chacun de ces triples, vous devez prÃ©dire si elle apparaÃ®tra la semaine prochaine.  Par exemple, vous devez prÃ©dire si l'utilisateur id = 8 sera intÃ©ressÃ© par l'action id = 46 avec le type de transaction Â«venteÂ»? <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Cible </th></tr><tr><td>  8 </td><td>  46 </td><td>  Ã€ vendre </td><td>  ? </td></tr></tbody></table><br><h2>  CaractÃ©ristiques de la crÃ©ation d'un ensemble de donnÃ©es </h2><br>  Comme, comme je l'ai dÃ©jÃ  dit, dans la vraie base de donnÃ©es BNP, il n'y avait pas de lignes avec des zÃ©ros Â«non conservÃ©sÂ», les organisateurs ont en quelque sorte gÃ©nÃ©rÃ© ces lignes pour le test eux-mÃªmes.  Et lÃ  oÃ¹ il y a gÃ©nÃ©ration de donnÃ©es artificielles, il y a souvent des visages et d'autres informations implicites qui peuvent amÃ©liorer considÃ©rablement le rÃ©sultat sans changer les modÃ¨les / fonctionnalitÃ©s.  Cette section dÃ©crit certaines caractÃ©ristiques de la construction d'un ensemble de donnÃ©es que nous avons rÃ©ussi Ã  comprendre, mais qui, malheureusement, ne nous ont d'aucune faÃ§on aidÃ©. <br><br><img src="https://habrastorage.org/webt/ji/lc/k5/jilck5wp7nwrmcfyhhfvfiwrd-g.png" width="350" align="right">  Si vous regardez les triplets Â«utilisateur - papier - type de transactionÂ» dans le tableau de test, il est facile de remarquer que le nombre de transactions avec les types Â«achatÂ» et Â«venteÂ» est exactement le mÃªme, et le tableau est strictement triÃ© par cet attribut: d'abord tous les achats, puis tous les ventes.  Ã‰videmment, ce n'est pas un accident et la question se pose: comment cela a-t-il pu arriver?  Par exemple, de cette faÃ§on: les organisateurs ont pris tous les vrais enregistrements de leur base de donnÃ©es pour la semaine dont nous avons besoin pour faire une prÃ©diction (ces lignes ont un objectif de 1), ont en quelque sorte gÃ©nÃ©rÃ© de nouvelles lignes (leur objectif est 0), qui ne coÃ¯ncident pas avec celles dÃ©crites ci-dessus.  Il s'est donc avÃ©rÃ© un tableau dans lequel les types de transactions (achat / vente) sont organisÃ©s dans un ordre alÃ©atoire: <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Cible </th></tr><tr><td>  8 </td><td>  46 </td><td>  Ã€ vendre </td><td>  1 </td></tr><tr><td>  2 </td><td>  6 </td><td>  Acheter </td><td>  1 </td></tr><tr><td>  158 </td><td>  73 </td><td>  Acheter </td><td>  1 </td></tr><tr><td>  3 </td><td>  29 </td><td>  Ã€ vendre </td><td>  0 </td></tr><tr><td>  67 </td><td>  9 </td><td>  Acheter </td><td>  0 </td></tr><tr><td>  17 </td><td>  465 </td><td>  Ã€ vendre </td><td>  0 </td></tr></tbody></table><br>  Il est maintenant possible de dÃ©finir le type d'achat sur toutes les lignes avec le type de transaction "vente", et si la cible Ã©tait une, elle deviendra nulle (dans la plupart des cas, l'utilisateur Ã©tait intÃ©ressÃ© par du papier avec un seul statut: achat ou vente).  Cela se traduira par le tableau suivant: <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Cible </th></tr><tr><td>  8 </td><td>  46 </td><td>  Acheter </td><td>  0 </td></tr><tr><td>  2 </td><td>  6 </td><td>  Acheter </td><td>  1 </td></tr><tr><td>  158 </td><td>  73 </td><td>  Acheter </td><td>  1 </td></tr><tr><td>  3 </td><td>  29 </td><td>  Acheter </td><td>  0 </td></tr><tr><td>  67 </td><td>  9 </td><td>  Acheter </td><td>  0 </td></tr><tr><td>  17 </td><td>  465 </td><td>  Acheter </td><td>  0 </td></tr></tbody></table><br>  La derniÃ¨re Ã©tape reste: faire de mÃªme, mais en remplaÃ§ant "l'achat Ã  vendre" et organiser les bons objectifs: <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Cible </th></tr><tr><td>  8 </td><td>  46 </td><td>  Ã€ vendre </td><td>  1 </td></tr><tr><td>  2 </td><td>  6 </td><td>  Ã€ vendre </td><td>  0 </td></tr><tr><td>  158 </td><td>  73 </td><td>  Ã€ vendre </td><td>  0 </td></tr><tr><td>  3 </td><td>  29 </td><td>  Ã€ vendre </td><td>  0 </td></tr><tr><td>  67 </td><td>  9 </td><td>  Ã€ vendre </td><td>  0 </td></tr><tr><td>  17 </td><td>  465 </td><td>  Ã€ vendre </td><td>  0 </td></tr></tbody></table><br>  En concatÃ©nant la table avec Â«achatsÂ» et la table avec Â«ventesÂ», nous obtenons (si nous Ã©tions les organisateurs) une table telle qu'elle nous a Ã©tÃ© donnÃ©e dans le test.  Il est facile de comprendre que les premiÃ¨re et deuxiÃ¨me moitiÃ©s des tables ainsi construites ont le mÃªme ordre de paires utilisateur-papier, ce qui s'est avÃ©rÃ© Ãªtre le cas dans la table de test. <br><br>  Une autre caractÃ©ristique Ã©tait qu'il y avait beaucoup de lignes dans l'ensemble de donnÃ©es de formation dans lesquelles l'index d'utilisateur Ã©tait rÃ©pÃ©tÃ© plusieurs fois de suite, malgrÃ© le fait que l'ensemble de donnÃ©es n'Ã©tait triÃ© par aucun des signes: <br><table><tbody><tr><th>  Identifiant utilisateur </th><th>  Identifiant de sÃ©curitÃ© </th><th>  Type de transaction </th><th>  Cible </th></tr><tr><td>  8 </td><td>  46 </td><td>  Ã€ vendre </td><td>  ? </td></tr><tr><td>  8 </td><td>  152 </td><td>  Ã€ vendre </td><td>  ? </td></tr><tr><td>  8 </td><td>  73 </td><td>  Acheter </td><td>  ? </td></tr></tbody></table><br>  Le coÃ©quipier a considÃ©rÃ© que c'Ã©tait normal, et le jeu de donnÃ©es a Ã©tÃ© initialement triÃ© par ID utilisateur, et les organisateurs l'ont simplement mal gÃ¢chÃ© (par exemple, si le mÃ©lange a Ã©tÃ© organisÃ© sur des permutations alÃ©atoires et qu'il n'y avait pas assez de telles permutations).  Essayant de s'en assurer, il est passÃ© par quatre mÃ©langes de diffÃ©rentes bibliothÃ¨ques, mais nulle part de telles rÃ©pÃ©titions frÃ©quentes ne se sont produites.  Le test avait Ã©galement cette fonctionnalitÃ©.  Il y avait une idÃ©e que les organisateurs n'avaient pas gÃ©nÃ©rÃ© les zÃ©ros, mais avaient simplement pris les vieilles paires du train.  Pour vÃ©rifier, j'ai dÃ©cidÃ© de faire ce qui suit: pour chaque paire Â«utilisateur - papierÂ» du test, comparer le numÃ©ro de ligne du train lorsque cette paire s'est rencontrÃ©e pour la premiÃ¨re fois et faire un tracÃ© Ã  partir de cela.  Autrement dit, nous regardons la premiÃ¨re ligne du test, laissons-la avoir un identifiant utilisateur = 8 et id = papier = 15. Maintenant, nous parcourons le tableau de formation de haut en bas et cherchons quand cette paire est apparue pour la premiÃ¨re fois, que ce soit, par exemple, 51e ligne.  Nous avons obtenu une comparaison: la 1Ã¨re ligne du test Ã©tait dans le 51e train, nous traÃ§ons donc le point avec les coordonnÃ©es (1, 51) sur la carte.  Nous faisons cela pour l'ensemble du test et obtenons le graphique suivant: <br><br><img src="https://habrastorage.org/webt/u_/gy/-z/u_gy-zrw5e0raqf6l-gtflx_9va.png" alt="image"><br><br>  On peut en dÃ©duire que, fondamentalement, si un couple s'Ã©tait dÃ©jÃ  rencontrÃ© dans le train, alors dans la table de test, sa position sera plus Ã©levÃ©e.  Mais en mÃªme temps, il y a des valeurs aberrantes sur le graphique (il n'y en a pas vraiment beaucoup, mais Ã  cause de la rÃ©solution des Ã©crans, il semble qu'il y ait un triangle plein).  De plus, le nombre d'Ã©missions coÃ¯ncidait approximativement avec le nombre prÃ©vu d'unitÃ©s dans le test.  Bien sÃ»r, nous avons essayÃ© de marquer les Ã©missions comme des unitÃ©s et de les envoyer au classement, mais, malheureusement, cela n'a pas fonctionnÃ©.  Mais il me semblait toujours qu'il pourrait y avoir une sorte de visage (), et, en tant que capitaine de l'Ã©quipe, j'ai suggÃ©rÃ© de passer plus de temps Ã  comprendre comment cela pouvait se produire, et nous avons encore le temps de former les modÃ¨les et de gÃ©nÃ©rer les signes.  Avertissement: nous avons passÃ© beaucoup de temps Ã  ce sujet, mais une semaine avant la fin du concours, les organisateurs ont Ã©crit sur le forum que seuls les triplets des 6 derniers mois Ã©taient inclus dans le jeu de donnÃ©es de test, et pas tous.  Eh bien, si vous effectuez les opÃ©rations dÃ©crites ci-dessus, mais pour les 6 derniers mois, et pas seulement l'ensemble de donnÃ©es, vous obtenez une courbe monotone plate: <img src="https://habrastorage.org/webt/-z/i-/vd/-zi-vdv917xifex8lqd5ftru14w.png" alt="image"><br><br>  Et cela signifie qu'il n'y a pas de visage ici et ne peut pas l'Ãªtre. <br><br><h2>  Mise en place de la formation </h2><br>  Ã‰tant donnÃ© que dans le test, vous devez faire une prÃ©diction pour les triplets pendant une semaine, nous diviserons l'ensemble de donnÃ©es de formation en semaines (en mÃªme temps, chaque semaine, il y a en moyenne 20 000 triplets Â«utilisateur - papier - type de transactionÂ»).  Maintenant, pour trois personnes, nous pouvons dire si elle s'est rencontrÃ©e au cours d'une semaine donnÃ©e ou non.  Dans le mÃªme temps, nous avons dÃ©jÃ  des triplets positifs (ce sont tous des entrÃ©es de cette semaine dans la table des trains), et des nÃ©gatifs doivent Ãªtre gÃ©nÃ©rÃ©s d'une maniÃ¨re ou d'une autre.  Il existe de nombreuses options pour ce faire.  Par exemple, vous pouvez trier absolument tous les triplets qui n'Ã©taient pas lÃ  pendant une semaine particuliÃ¨re dans l'ensemble de donnÃ©es d'entraÃ®nement.  Il est clair que l'Ã©chantillon sera alors trÃ¨s dÃ©sÃ©quilibrÃ©, ce qui est mauvais.  Vous pouvez d'abord gÃ©nÃ©rer des utilisateurs proportionnellement Ã  la frÃ©quence de leur occurrence dans l'ensemble de donnÃ©es, puis leur ajouter des promotions.  Mais avec cette approche, il y aura un tas de lignes pour lesquelles des statistiques raisonnables ne peuvent pas Ãªtre calculÃ©es, ce qui est Ã©galement mauvais.  Comme nous l'avons fait: nous avons pris toutes sortes de triplets prÃ©cÃ©demment rencontrÃ©s dans le train, les avons copiÃ©s, en remplaÃ§ant acheter / vendre par l'opposÃ©, et avons concatÃ©nÃ© ces deux tables.  Il est clair que des doublons auraient pu se produire de cette faÃ§on (par exemple, si l'utilisateur avait dÃ©jÃ  achetÃ© et vendu un stock), mais ils Ã©taient peu nombreux et, aprÃ¨s la suppression, un tableau de 500 000 triplets uniques a Ã©tÃ© obtenu.  C'est tout, maintenant pour chaque semaine pour chacun de ces triples, vous pouvez dire si elle s'est rencontrÃ©e ou non (et combien de fois?). <br><br>  Ã‰tant donnÃ© qu'il s'agit essentiellement de sÃ©ries chronologiques - un utilisateur examine une annonce spÃ©cifique plusieurs fois par semaine, nous allons crÃ©er un tableau pour former le classificateur de maniÃ¨re classique pour les sÃ©ries chronologiques.  Ã€ savoir, nous prendrons la derniÃ¨re semaine disponible du train, voir si tous les trois Â«client - isin - acheter ou vendreÂ» se sont rencontrÃ©s cette semaine.  Ce sera une cible.  Et nous compterons diverses statistiques comme fonctionnalitÃ©s, par exemple, au cours des 6 derniÃ¨res semaines (plus d'informations sur les statistiques dans la section "Signes").  Maintenant, oublions l'existence de la semaine derniÃ¨re et faisons de mÃªme, mais pour l'avant-derniÃ¨re semaine et concatÃ©nons les tableaux.  Cela peut Ãªtre fait plusieurs fois, augmentant ainsi le train de Â«hauteurÂ», mais en mÃªme temps, l'intervalle sur lequel nous considÃ©rons les statistiques diminue naturellement.  Nous avons rÃ©pÃ©tÃ© cette opÃ©ration 10 fois, car si nous en faisions plus, les vacances du Nouvel An et les problÃ¨mes connexes seraient ciblÃ©s, ce qui aggraverait la qualitÃ© finale du modÃ¨le.  Image explicative: <br><br><img src="https://habrastorage.org/webt/rq/5a/tv/rq5atvi8hxcjdpygbvmlsjj1jho.png" alt="image"><br><br>  Pour plus d'informations sur les sÃ©ries chronologiques et la validation des sÃ©ries chronologiques, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cliquez ici</a> . <br><h2>  Signes </h2><br>  Comme je l'ai dit, il y avait de nombreux tableaux qui caractÃ©risaient en quelque sorte les conditions des utilisateurs, des actions ou du marchÃ© mondial (principales devises et certains indicateurs).  Mais tous n'ont quasiment pas amÃ©liorÃ© la qualitÃ©, et les principaux signes Ã©taient des statistiques calculÃ©es pour les paires Â«client - isinÂ» et triples Â«client - isin - acheter ou vendreÂ», par exemple, telles que: <br><br><ul><li>  Ã€ quelle frÃ©quence un couple / trois se sont-ils rencontrÃ©s au cours des 1, 2, 5, 20, 100 derniÃ¨res semaines? </li><li>  Statistiques sur les intervalles de temps entre les rÃ©unions d'une paire / triples dans un ensemble de donnÃ©es (moyenne, std, max, min) </li><li>  La distance dans le temps Ã  la premiÃ¨re / derniÃ¨re fois qu'un couple / trois se sont rencontrÃ©s </li><li>  La proportion de chaque valeur TradeStatus pour une paire / triple </li><li>  Statistiques sur combien de fois par semaine un couple / triple se produit (moyenne, std, max, min) </li></ul><br>  De plus, le dernier jour du concours, j'ai lu sur le formulaire que pour vendre un stock, vous devez d'abord l'acheter.  Cette connaissance vous permet de trouver de nombreux signes plus utiles, mais, pour une raison quelconque, pour moi, ce n'Ã©tait pas Ã©vident. <br><br>  Dans le code, tout cela Ã©tait exprimÃ© par une fonction de 200 lignes de longueur, qui gÃ©nÃ©rait des signes similaires pour chacun des dix trains (pour la partie oÃ¹ la cible, par exemple, la semaine 7, nous ne devrions pas utiliser les informations pour le 8 et le 9).  En tenant compte des tableaux supplÃ©mentaires, environ 300 panneaux ont Ã©tÃ© recrutÃ©s.  Comme je l'ai dÃ©jÃ  dit, nous avons gÃ©nÃ©rÃ© 500 000 triplets uniques et pris les 10 derniÃ¨res semaines comme cibles, donc la table de formation Â«Ã©levÃ©eÂ» Ã©tait de 500 000 * 10 = 5 000 lignes. <br><br>  Quelques autres aveux ont Ã©tÃ© dÃ©crits dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la deuxiÃ¨me dÃ©cision</a> .  Les gars ont construit une table utilisateur / papier, oÃ¹ dans chaque cellule il y avait une unitÃ© si l'utilisateur Ã©tait jamais intÃ©ressÃ© par ce papier et zÃ©ro sinon.  En calculant la distance cosinus entre les utilisateurs dans ce tableau, vous pouvez obtenir la convergence des utilisateurs entre eux.  Si vous appliquez l'ACP au tableau de similaritÃ© rÃ©sultant, vous obtenez un ensemble de fonctionnalitÃ©s qui caractÃ©risent l'utilisateur d'une maniÃ¨re ou d'une autre. <br><br><h2>  ModÃ¨les ou se battre pour des milliÃ¨mes </h2><br>  Il convient de noter que pendant prÃ¨s de trois semaines, personne n'a pu battre la ligne de base du BNP, qui avait une vitesse de 0,794 (ROC AUC) au classement, et cela malgrÃ© le fait que la dÃ©cision de Â«simplement compter le nombre de fois oÃ¹ le couple s'est rencontrÃ© plus tÃ´tÂ» a donnÃ© 0,71 au classement, et certains les participants ont reÃ§u tous les 0,74 sans avoir recours Ã  l'apprentissage automatique. <br><br>  Mais nous avons utilisÃ© le machine learning, d'ailleurs, le dernier jour de la compÃ©tition (qui a coÃ¯ncidÃ© par coÃ¯ncidence avec la fin de la session), nous avons dÃ©cidÃ© d'arrÃªter <s>si vous savez ce que je veux dire</s> et de faire un grand mÃ©lange de diffÃ©rents modÃ¨les formÃ©s sur diffÃ©rents sous-ensembles de signes avec diffÃ©rents nombres de semaines dans Train.  Comme je l'ai dÃ©jÃ  dit, notre Ã©chantillon de formation se composait de 1,5k lignes, avec une cible parmi elles environ 150k.  La taille du test Ã©tait de 400k, alors que le nombre estimÃ© d'unitÃ©s Ã©tait de 20k (en moyenne, il y a tellement de triplets uniques).  Autrement dit, la proportion d'unitÃ©s dans le test Ã©tait significativement plus Ã©levÃ©e que dans le train.  Par consÃ©quent, dans tous nos modÃ¨les, nous avons ajustÃ© le paramÃ¨tre scale_pos_weight, qui place le poids sur les classes.  Plus d'informations sur ce paramÃ¨tre peuvent Ãªtre trouvÃ©es dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">analyse de la</a> meilleure solution de l'un des DataScienceGame de l'annÃ©e derniÃ¨re.  La matrice de corrÃ©lation des prÃ©dictions de nos modÃ¨les est prÃ©sentÃ©e dans la figure: <br><br><img src="https://habrastorage.org/webt/ep/cs/7b/epcs7bnwwfvlibcusbo19h_imqc.png" alt="image"><br><br>  Comme vous pouvez le voir, nous avions beaucoup de modÃ¨les trÃ¨s diffÃ©rents, ce qui nous a permis d'obtenir une vitesse de 0,80204 au classement. <br><br><h2>  Pourquoi on ne va pas en France pour la phase finale </h2><br>  En consÃ©quence, nous avons montrÃ© un bon rÃ©sultat et pris la troisiÃ¨me place du classement privÃ©.  Mais les organisateurs ont fixÃ© les rÃ¨gles suivantes pour la sÃ©lection des finalistes: <br><br><ol><li>  Pas plus de 20 meilleures Ã©quipes </li><li>  Pas plus de 5 meilleures Ã©quipes du pays </li><li>  Pas plus d'une Ã©quipe d'un Ã©tablissement d'enseignement </li></ol><br>  Et tout irait bien si une autre Ã©quipe de l'Institut de physique et de technologie de Moscou avec la vitesse de 0.80272 ne serait pas en deuxiÃ¨me position.  Autrement dit, nous sommes seulement 0,00068 derriÃ¨re.  C'est dommage, mais il n'y a rien Ã  faire.  TrÃ¨s probablement, les organisateurs ont Ã©tabli de telles rÃ¨gles pour que les gens d'une universitÃ© ne s'entraident en aucune faÃ§on, mais dans notre cas, nous ne savions rien de l'Ã©quipe voisine et ne la contactions d'aucune faÃ§on. <br><br><h2>  RÃ©sumÃ© </h2><br>  Cette annÃ©e en septembre Ã  Paris, 5 Ã©quipes russes, 1 ukrainienne et 2 allemandes et finlandaises, composÃ©es d'Ã©tudiants russophones, se disputeront la premiÃ¨re place.  Un total de 8 Ã©quipes de la communautÃ© ru, ce qui prouve une fois de plus la dominance du segment ru des donnÃ©es.  Et je suis <s>transfÃ©rÃ© Ã  Sharaga, je</s> m'entraÃ®ne et <s>je</s> travaille sur moi-mÃªme, pour que l'annÃ©e prochaine je puisse encore franchir l'Ã©tape de qualification. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416817/">https://habr.com/ru/post/fr416817/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416805/index.html">Comment passer du temps lors d'une confÃ©rence d'affaires Ã  bon escient? Conseils de ISPsystem bizdedev</a></li>
<li><a href="../fr416807/index.html">ArrivÃ©e de Jeffrey Richter en Russie: annonce de la confÃ©rence DotNext 2018 Ã  Moscou</a></li>
<li><a href="../fr416809/index.html">ModÃ¨les de snooker Elo et EloBet</a></li>
<li><a href="../fr416813/index.html">Lorsque 2 x 3 = 2, ou encore une fois sur la virtualisation des donnÃ©es</a></li>
<li><a href="../fr416815/index.html">Comment nous avons arrÃªtÃ© de passer une semaine Ã  publier un stand de dÃ©veloppement</a></li>
<li><a href="../fr416819/index.html">Adieu, microservices: de cent enfants Ã  problÃ¨mes Ã  une superstar</a></li>
<li><a href="../fr416821/index.html">Fonctionnement de JS: communications WebRTC et P2P</a></li>
<li><a href="../fr416823/index.html">Sang, sueur et pixels: quel est le livre de Jason Schreier</a></li>
<li><a href="../fr416825/index.html">Comment ne PAS Ãªtre un dÃ©veloppeur mÃ©diocre</a></li>
<li><a href="../fr416827/index.html">Conteneurs pour adultes (partie 02): un guide pratique de la terminologie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>