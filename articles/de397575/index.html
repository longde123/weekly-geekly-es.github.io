<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍀 👩🏽‍💼 ⏰ Black Box für das Haus: Wir sammeln NAS mit unseren eigenen Händen, Teil 2 - großartiges NAS4Free ⌚️ 💆 👳🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Veröffentlichung richtet sich an Personen, die weit von der Systemadministration entfernt sind. In diesem Beitrag werden die grundlegenden Funktio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Black Box für das Haus: Wir sammeln NAS mit unseren eigenen Händen, Teil 2 - großartiges NAS4Free</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397575/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Veröffentlichung richtet sich an Personen, die weit von der Systemadministration entfernt sind. </font><font style="vertical-align: inherit;">In diesem Beitrag werden die grundlegenden Funktionen des wunderbaren NAS4Free-Betriebssystems demonstriert, mit dem Sie Ihr Heim-NAS auch auf Hardware mit geringem Stromverbrauch bereitstellen können, ohne dass Sie über Kenntnisse in FreeBSD und der Befehlszeile verfügen. </font><font style="vertical-align: inherit;">Der erste Teil der Publikation befindet sich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben also eine Box mit den folgenden Eigenschaften:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fall: Thermaltake Core V1;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stromversorgung: Chieftec HPS-350NS;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hauptplatine: GIGABYTE GA-J1800N-D2H;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM: Transcend SO-DIMM 2 GB DDR-III 1333 MHz x 2;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HDD: WD Re 2004FBYZ x 2 (bevor Sie runde Augen machen, lesen Sie den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ersten Teil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kühlung: TITAN DC LÜFTER (80 mm, 2000 U / min) x 2.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist an der Zeit, daraus ein Heim-NAS zu machen, das in der aktuellen Umgebung so zuverlässig wie möglich ist. </font><font style="vertical-align: inherit;">Und das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zettabyte-Dateisystem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hilft uns dabei </font><font style="vertical-align: inherit;">- vielleicht die beste Lösung, um einen fehlertoleranten und gleichzeitig produktiven Dateispeicher zu organisieren. </font><font style="vertical-align: inherit;">ZFS wurde von Sun Microsistems für Solaris entwickelt und später auf Linux und FreeBSD portiert. </font><font style="vertical-align: inherit;">Unter seinen vielen Vorteilen werden wir an folgenden interessiert sein:</font></font><br>
<br>
<ol>
<li> ,          ,   ,    –   ,  LVM;</li>
<li>     256-  ;</li>
<li>      ;</li>
<li>    RAID-    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter den spezialisierten Lösungen, die mit ZFS arbeiten können, fallen zwei Wettbewerber deutlich auf - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeNAS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NAS4Free</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Solche "Spiegel" -Namen sind keineswegs zufällig - beide Baugruppen basieren auf FreeBSD, und NAS4Free selbst ist eine Gabelung von FreeNAS 0.7, die zu der Zeit entstand, als das ursprüngliche Betriebssystem unter die Fittiche von iXsystems geriet und auf die Schienen kam. Es ist NAS4Free, das mein persönlicher Favorit ist. Warum? Lass es uns richtig machen.</font></font><br>
<br>
<ol>
<li>.   ,       NAS,     ,   NAS4Free   .       ?   , 4  RAM,  4-  ,       .     512    2-   .  FreeNAS   :      8  RAM  8- ,          1616 (    ).</li>
<li>.   NAS4Free       “ ” –         :<br>
<img src="https://habrastorage.org/files/db0/488/59d/db048859d2fd48b891142fb3bdb4b3b5.JPG"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bequemlichkeit. </font><font style="vertical-align: inherit;">In NAS4Free kann fast alles über eine wirklich intuitive Weboberfläche gesteuert werden. Außerdem enthält es viele Tipps und ist im Vergleich zu einem Konkurrenten gut ins Russische übersetzt. </font><font style="vertical-align: inherit;">Sie können grundsätzlich mit Datenträgern und Diensten arbeiten, das Dateisystem verwalten, Snapshots erstellen und Klone bereitstellen, ohne die Konsole zu starten. Dies spricht Anfänger und Personen an, die mit der * nix-Administration überhaupt nicht vertraut sind.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, die obigen Argumente reichen aus, um eine eindeutige Entscheidung zu treffen. </font><font style="vertical-align: inherit;">Jetzt beschäftigen wir uns mit der Installation und Ersteinrichtung des Systems.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installieren Sie NAS4Free</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da das System nur zwei Festplatten enthält, verwenden wir ein USB-Flash-Laufwerk als Startlaufwerk. Welches ist absolut irrelevant, jede Antike ab 2 GB wird völlig ausreichen. Wenn Sie Zweifel an der Integrität des Geräts haben, können Sie denselben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rufus verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nachdem Sie mehrere Tests durchgeführt haben. Dann ist alles einfach - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">laden Sie die LiveCD herunter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und fahren Sie mit der Installation fort. Zuerst sehen Sie den folgenden Bildschirm: </font></font><br>
<br>
<img src="https://habrastorage.org/files/fbf/648/4da/fbf6484daa0547b0909f3c6ae628055c.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einer Weile erscheint das Textmenü auf dem Display: </font></font><br>
<br>
<img src="https://habrastorage.org/files/a67/f79/d38/a67f79d38d184d7398b43e8e47ec31e6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir interessieren uns für den 9. Punkt - wir wählen ihn aus. Der Installationsprozess beginnt:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e0b/749/0b5/e0b7490b5b9249e3afe759a0338f00ac.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir berühren den Expertenmodus nicht, aber die Wahl zwischen GPT und MBR hängt vom Alter des Motherboards Ihres Computers ab. Wenn Sie angesichts des BIOS ein Fan des „Klassikers“ sind, wählen Sie den zweiten Punkt aus. Wert UEFI - wählen Sie die erste. Nach der Bestätigung teilt NAS4Free Ihnen freundlicherweise mit, welche Vorgänge ausgeführt werden sollen. Wir sind uns in allen Punkten einig: Wählen Sie als </font></font><br>
<br>
<img src="https://habrastorage.org/files/9e0/573/d3d/9e0573d3d97748f9886e27cfce14abd7.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nächstes das Laufwerk mit der Installationsdiskette aus (in unserem Beispiel ist es das einzige): </font></font><br>
<br>
<img src="https://habrastorage.org/files/4e4/6e0/278/4e46e0278ccd4e81ac36823d4deaae17.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie dann das USB-Flash-Laufwerk an, auf dem die Installation ausgeführt werden soll. Es ist leicht in Größe und Name vom Systemlaufwerk zu unterscheiden:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2ab/ab6/10c/2abab610c86a4e088662cc49dadb6788.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Schritt besteht darin, die Größe der Auslagerungsdatei festzulegen. Die Regel ist einfach: Wenn Sie ein 2-GB-Laufwerk verwenden - 512 MB, 4 GB - 1024 MB, 8 - 2. Viele haben in den Kommentaren eine faire Frage, aber wie zuverlässig es ist, das Betriebssystem auf einem USB-Flash-Laufwerk zu installieren, tauschen Sie es umso mehr aus ? Ich halte es für notwendig, diesen Punkt zu klären. Erstens besteht eine Funktion der eingebetteten Version darin, dass ein Disk-Image des Systems im RAM erstellt wird, dh, auf ein Flash-Laufwerk wird nur zum Zeitpunkt des Ladens des NAS sowie beim Speichern von Einstellungen zugegriffen. Zweitens muss das Installationsprogramm unbedingt eine Auslagerungsdatei erstellen und deren Größe falsch bestimmen. Einen 8-Gig-Swap auf einem 4-Gig-Gerät machen? Einfach! In jedem Fall ist es laut Programm einen Versuch wert. Um Fehler zu vermeiden, ist es am einfachsten, einen der oben angegebenen korrekten Werte einzustellen.Und schließlich wird die Auslagerungsdatei in den Einstellungen manuell verbunden - sie wird nicht verwendet, was bedeutet, dass das Flash-Laufwerk auch nicht getötet wird.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f60/05b/781/f6005b78119547c887160a817bc13307.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Installationsvorgang beginnt. Anschließend wird der folgende Bildschirm angezeigt: </font></font><br>
<br>
<img src="https://habrastorage.org/files/899/565/757/89956575762146aa86febf2e095cf33e.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können das USB-Flash-Laufwerk trennen und neu starten - die Installation war erfolgreich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt arbeiten wir mit dem NAS selbst. Da wir die Budgetoption für den Thin Client als Motherboard gewählt haben, müssen wir zunächst die Startparameter anpassen und nicht nur ein USB-Flash-Laufwerk, sondern auch einen Monitor mit Tastatur an das Gerät anschließen. Da die Videoausgänge D-Sub und HDMI präsentieren, sollte es keine Probleme geben. Nach dem Einschalten des Computers drücken wir auf "Löschen" und stellen unser USB-Flash-Laufwerk im Menü "Boot" als Hauptstartgerät ein (standardmäßig startet die UEFI-Shell, benötigt sie jedoch nicht). Wir speichern die Änderungen, starten den NAS neu und wenn alles richtig gemacht ist, sehen wir ein bekanntes Menü:</font></font><br>
<br>
<img src="https://habrastorage.org/files/145/570/2e1/1455702e1f1845a79781dfc2fcf7f1f7.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können den NAS auf beliebige Weise mit der Arbeitsumgebung verbinden: über einen Router, einen Switch oder einen Zero-Hub - alles hängt von Ihren persönlichen Anforderungen ab. </font><font style="vertical-align: inherit;">Da Sie den Computer wahrscheinlich in Ihr Heimnetzwerk bringen möchten, ist die beste Option ein Router. Richten Sie daher in Schritt 2 eine statische IP-Adresse ein. Beantworten Sie die vom System gestellten Fragen konsequent:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Möchten Sie DHCP für diese Schnittstelle verwenden? </font><font style="vertical-align: inherit;">- Nein (wir möchten eine statische IP festlegen)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie eine neue LAN-IPv4-Adresse ein - 192.168.1.250 (standardmäßig installiert, wenn sie bereits in Ihrem Netzwerk verwendet wird - geben Sie eine freie Adresse ein)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neue LAN-Subnetzmaske eingeben - 24 (Subnetzmaske 255.255.255.0)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie das IPv4-Standardgateway ein - 192.168.1.1 (geben Sie die Adresse des Routers an)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie die DNS-IPv4-Adresse ein - 192.168.1.1 (geben Sie auch die Adresse des Routers an)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Möchten Sie IPv6 für diese Schnittstelle konfigurieren? </font><font style="vertical-align: inherit;">- Nein (wir benötigen einfach kein IPv6-Heimnetzwerk)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Bildschirm zeigt den erfolgreichen Abschluss der Konfiguration an: </font></font><br>
<br>
<img src="https://habrastorage.org/files/e11/c1a/3b2/e11c1a3b258a446984032148e61f0d6c.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist die Vorbereitung des NAS abgeschlossen. Jetzt können Sie den Speicher mit dem Netzwerk verbinden und mit der Konfiguration fortfahren.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laufwerke anpassen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Vorgänge werden über die praktische WebGUI ausgeführt. Geben Sie einfach die zuvor festgelegte IP-Adresse ein (in unserem Fall 192.168.1.250) und gelangen Sie sofort zum Autorisierungsformular: Die </font></font><br>
<br>
<img src="https://habrastorage.org/files/844/ba8/a75/844ba8a75db746cc88c0d4ab6107eeff.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardanmeldung lautet admin, das Kennwort (wer hätte das gedacht) ist nas4free. </font><font style="vertical-align: inherit;">Melden Sie sich an und sehen Sie sich den Systemmonitor an: </font></font><br>
<br>
<img src="https://habrastorage.org/files/7ee/93c/0d5/7ee93c0d52084fdba42170d9f4a9be33.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wechseln Sie sofort zum großen und leistungsstarken System: Gehen Sie zu „System“ -&gt; „Allgemein“ und ändern Sie die Sprache in Russisch: </font></font><br>
<br>
<img src="https://habrastorage.org/files/6f7/99d/35b/6f799d35b471485697b7a7284a8e2589.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier können Sie auch einen neuen Benutzernamen und ein neues Passwort für die Weboberfläche festlegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt richten wir die Festplatten ein. </font><font style="vertical-align: inherit;">Wir gehen zum Abschnitt "Laufwerke" -&gt; "Management" und ... wir finden nichts:</font></font><br>
<br>
<img src="https://habrastorage.org/files/fa5/4b0/53a/fa54b053a6a94984b083c298b52930f6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur ohne Panik - in NAS4Free müssen Sie alles mit Ihren Händen tun. </font><font style="vertical-align: inherit;">Am einfachsten ist es, auf "Konfiguration löschen und Datenträger importieren" zu klicken. Ich empfehle jedoch, auf das blaue Pluszeichen rechts zu klicken und die Laufwerke einzeln hinzuzufügen. </font><font style="vertical-align: inherit;">Das Menü sieht wie folgt aus: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aac/ab4/fc0/aacab4fc02874f59a086427a3ae2bcbd.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns die Optionen durchgehen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Beschreibung kann überhaupt leer gelassen werden, ich fuhr im abgekürzten Namen der Scheibe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übertragungsmodus Auto verlassen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie den Zeitraum für die Übertragung von Laufwerken in den Standby-Modus an, abhängig von Ihren persönlichen Anforderungen. </font><font style="vertical-align: inherit;">Es sollte jedoch berücksichtigt werden: Ein häufiger Neustart ist nicht einmal für eine zuverlässige WD Re von Vorteil, daher ist es nicht sinnvoll, 5 bis 10 Minuten einzustellen - dies beschleunigt nur den Festplattenverschleiß.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Energieverwaltung - Ich habe Stufe 127 eingestellt - ein Kompromiss zwischen Leistung und Stromverbrauch;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geräuschpegel - Ich halte es nicht für notwendig, es zu verwenden, da WD sowieso sehr leise arbeitet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie die SMART-Überwachung aktivieren möchten, aktivieren Sie das Kontrollkästchen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da die Festplatten neu sind, lassen wir in der letzten Zeile Unformatiert (unformatiert).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klicken Sie nun auf die Schaltfläche "Hinzufügen" und wiederholen Sie den Vorgang für die verbleibenden Festplatten. </font><font style="vertical-align: inherit;">Sie müssen kein Flash-Laufwerk hinzufügen, um Missverständnisse zu vermeiden (formatieren Sie es schnell, und alles muss von vorne beginnen). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach allen Manipulationen wird im Menü mit den Festplatteneinstellungen Folgendes angezeigt: </font></font><br>
<br>
<img src="https://habrastorage.org/files/f7d/1d9/ca0/f7d1d9ca037f40d286c4fa1f4edf577b.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie die Warnung im Screenshot. </font><font style="vertical-align: inherit;">Ja, dies ist eine Funktion von NAS4Free: Zuerst nehmen wir die Einstellungen vor, dann bestätigen wir die Auswahl durch Klicken auf "Änderungen übernehmen" - Sie müssen sich daran gewöhnen. </font><font style="vertical-align: inherit;">Danach beobachten wir das Ergebnis unserer Aktionen: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aef/a97/cd9/aefa97cd9662417f8a71903c3f408636.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie SMART-Daten durch Überwachen des Status von Festplatten empfangen möchten, wechseln Sie zur gleichnamigen Registerkarte.</font></font><br>
<br>
<img src="https://habrastorage.org/files/972/633/2f8/9726332f81f54e4fbcc01c31ebf99db3.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktivieren Sie das Kontrollkästchen "Aktivieren", wählen Sie den Standby-Stromversorgungsmodus (um die Festplatten im Standby-Modus nicht zu stören) und speichern Sie die Änderungen. Es besteht auch die Möglichkeit, Warnungen zu konfigurieren. Jetzt können Sie detaillierte Daten für jedes Laufwerk im Abschnitt „Diagnose“ -&gt; „Informationen“ -&gt; „SMART“ anzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beide Laufwerke sind also online, alle Systeme funktionieren einwandfrei. Dies ist jedoch nur der Anfang der Reise. Gehen wir zur Registerkarte "HDD-Formatierung". Wie wir am Anfang des Artikels vereinbart haben, werden wir ZFS verwenden. Wählen Sie beide Laufwerke aus und klicken Sie auf "Weiter":</font></font><br>
<br>
<img src="https://habrastorage.org/files/1eb/08e/72e/1eb08e72e4b5475d872eaa8975b111ae.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Legen Sie im nächsten Schritt die Datenträgerbezeichnung fest - ich habe WDREZFS% 1 ausgewählt. Die Konstruktion von "% 1" bedeutet, dass die von uns formatierten Datenträger Seriennummern erhalten, die mit einer beginnen. Das heißt, der erste heißt WDREZFS1, der zweite - WDREZFS2 usw. Wenn Sie keinen Startpunkt angeben und ein "%" -Zeichen ohne Ziffer setzen, nummeriert das System selbst die Festplatte. Sie können Namen auch anhand von Seriennummern angeben. Zum Beispiel bedeutet "[4", dass die letzten vier Ziffern der Seriennummer als Etikett verwendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich empfehle außerdem dringend, das Kontrollkästchen "Erstellen von ZFS auf der GPT-Partition" zu aktivieren, wenn Sie einen komplexen Pool mit mehreren Festplatten erstellen und planen, in Zukunft neue Laufwerke hinzuzufügen. </font></font><br>
<br>
<img src="https://habrastorage.org/files/191/bd3/bc8/191bd3bc8f494c89b9eb38abd80c8890.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir formatieren die Datenträger, warten, bis der Vorgang abgeschlossen ist, und klicken auf die Schaltfläche „OK“.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt müssen wir ein virtuelles Gerät bauen. Gehen Sie zu "Laufwerke" -&gt; "ZFS" -&gt; "Pools" -&gt; "Virtuelles Gerät", klicken Sie auf das blaue Plus und sehen Sie das folgende Bild: </font></font><br>
<br>
<img src="https://habrastorage.org/files/90c/f28/391/90cf28391fee481b9fb04c0f94e72fb8.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier können wir die Festplatten in einem Array sammeln. Ich benötige ein Analogon von RAID-1, daher habe ich "Mirror" ausgewählt (als Referenz ist "Stripe" im Wesentlichen dasselbe RAID-0). Vergessen Sie nach Bestätigung der Auswahl nicht, die Änderungen zu übernehmen: </font></font><br>
<br>
<img src="https://habrastorage.org/files/8b0/b18/5c7/8b0b185c703c4208b4ae127141cc9b47.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gehen Sie nun zur Registerkarte „Pools“ und fügen Sie mit dem neu erstellten virtuellen Gerät einen neuen hinzu: </font></font><br>
<br>
<img src="https://habrastorage.org/files/44a/2ad/fa5/44a2adfa59424164917a37b8f5dc902d.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie müssen lediglich einen Namen eingeben, Sie müssen nichts anderes konfigurieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grundsätzlich können Sie bereits mit dem Hochladen von Dateien beginnen. Am besten nutzen Sie jedoch den Hauptvorteil von ZFS - die Möglichkeit, Datensätze zu erstellen. Tatsächlich handelt es sich um untergeordnete Dateisysteme. Daher haben wir die Möglichkeit, für jedes Dataset eine Komprimierungsmethode auszuwählen, Zugriffsrechte und Datenträgerkontingente festzulegen (wodurch die Situation beseitigt wird, in der Ihre Videosammlung den gesamten freien Speicherplatz für Dokumente sicher belegt) und vor allem - zu erstellen Schnappschüsse, mit denen Sie verlorene Informationen fast sofort wiederherstellen können. Gehen wir daher zu den „Datensätzen“ und erstellen einige: </font></font><br>
<br>
<img src="https://habrastorage.org/files/89f/4e1/1be/89f4e11be0744aeda26a792ef9bf26dd.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im obigen Screenshot wird der einzige Pool ausgewählt - WDREP und die Komprimierungsmethode lzjb (ein Kompromiss zwischen Effizienz und Leistung). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datendeduplizierung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lassen Sie es ausgeschaltet, da für eine ordnungsgemäße Funktion mindestens 16 Gigabyte RAM erforderlich sind. Der Begriff selbst bezeichnet ein Verfahren zum Komprimieren eines Datenarrays durch Eliminieren doppelter Kopien. Dies ist beispielsweise nützlich, wenn Sie regelmäßig Sicherungskopien großer Informationsmengen erstellen, während der Unterschied zwischen ihnen minimal ist. Wenn der NAS nur als Speicher für Filme, Musik, Fotos und andere Medieninhalte fungiert, werden Sie die Vorteile der Vervielfältigung einfach nicht bemerken, sodass Sie kein zusätzliches Geld für Hardware ausgeben sollten. Die restlichen Einstellungen bleiben standardmäßig erhalten. Zum Demonstrieren werde ich nur ein Häkchen vor "Sichtbarkeits-Schnappschüsse" setzen - jetzt sind die Bilder von anderen Geräten aus sichtbar. Im Feld "Reservierter Speicherplatz" können Sie das garantierte Mindestvolumen des Datasets angeben, und mit "Kontingent" können Sie den oberen Balken festlegen.Unten können Sie Benutzer auswählen und Zugriffsrechte konfigurieren:</font></font><br>
<br>
<img src="https://habrastorage.org/files/6ec/2ba/9d4/6ec2ba9d4925465faa41e66dfb7f324f.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf die gleiche Weise können Sie beliebig viele weitere Datensätze hinzufügen:</font></font><br>
<br>
<img src="https://habrastorage.org/files/466/fbd/283/466fbd2831a44e5a84b7745a1d27795f.JPG"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeit zum Hochladen von Dateien</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAS ist voll funktionsfähig, es bleibt ihm beizubringen, wie man mit der Außenwelt kommuniziert. </font><font style="vertical-align: inherit;">Dafür bietet das Betriebssystem eine sehr beeindruckende Reihe von Tools für jeden Geschmack, die sich im Menü "Dienste" befinden. </font><font style="vertical-align: inherit;">Was Sie brauchen, liegt bei Ihnen - entscheiden Sie selbst, jetzt beschränke ich mich auf die grundlegende FTP-Einstellung: </font></font><br>
<br>
<img src="https://habrastorage.org/files/fba/8fa/c95/fba8fac9596241358493ce24f5630068.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht, das Kontrollkästchen "Aktivieren" zu aktivieren (standardmäßig sind alle Dienste deaktiviert). </font><font style="vertical-align: inherit;">Die Anzahl der Clients wird durch die Anzahl der Geräte festgelegt, die gleichzeitig den Speicher kontaktieren (3 sind für mich relevant). </font><font style="vertical-align: inherit;">Ich empfehle, die Anzahl der Verbindungen 2 beizubehalten. Anschließend wird das Hoch- und Herunterladen von Dateien in einem Stream ausgeführt, wodurch eine Fragmentierung vermieden und eine maximale Geschwindigkeit erreicht wird. </font><font style="vertical-align: inherit;">Speichern Sie die Einstellungen und versuchen Sie, eine Verbindung zum NAS herzustellen:</font></font><br>
<br>
<img src="https://habrastorage.org/files/052/afa/e33/052afae33a9942d9a619b994ea98ef44.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, werden der Pool und die Datasets in Form von Verzeichnissen dargestellt, und es werden .zfs-Verzeichnisse angezeigt, in denen Snapshots gespeichert werden. Und es scheint mir, dass es an der Zeit ist, ausführlicher darüber zu sprechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Snapshots - Snapshots des gesamten Pools oder des ausgewählten Datasets. Ohne auf Details einzugehen, ist ein Schnappschuss der schnellste und „billigste“ Weg, um Platz zu sichern. Gegenwärtig ist die in WebGUI implementierte Bildverwaltungsfunktion etwas eingeschränkt, kann jedoch die Anforderungen eines normalen Benutzers vollständig erfüllen. Wenn Sie mehr wollen, müssen Sie die Konsole verwenden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAS4Free unterstützt die manuelle und automatische Erstellung von Schnappschüssen. Um ein Bild manuell aufzunehmen, gehen Sie zur Registerkarte „ZFS“ -&gt; „Schnappschüsse“ -&gt; „Schnappschuss“, klicken Sie auf das Pluszeichen, geben Sie den Pfad an (z. B. habe ich den Musikdatensatz erstellt) und überlegen Sie sich einen Namen für das zukünftige Bild: Ein </font></font><br>
<br>
<img src="https://habrastorage.org/files/7f9/b24/baa/7f9b24baa4654293b8c185dca3194338.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Häkchen in der Spalte „Rekursiv“ ”Bedeutet, dass Snapshots aller untergeordneten Datasets in Music erstellt werden, falls vorhanden. Das Ergebnis lautet wie folgt: </font></font><br>
<br>
<img src="https://habrastorage.org/files/a55/41b/3fa/a5541b3fa5f54b359cae79e9825ddddc.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, dies ist kein Fehler. Ein Snapshot belegt erst dann freien Speicherplatz, wenn die Daten im Dataset geändert wurden. Beispielsweise wächst es, wenn Sie MP3-Dateien aus Musik löschen. Der Snapshot-Prozess kann auf der Registerkarte "Automatischer Snapshot" automatisiert werden.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f4c/8b3/e4b/f4c8b3e4bdbf412a83c6072edce9cf48.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier können Sie zusätzlich zu den oben beschriebenen Einstellungen den Zeitpunkt der Bildaufnahme und den Zeitraum der Speicherung auswählen. Sie können hier keinen anderen Typ als täglich angeben (dies ist nur über die Konsole möglich). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, Sie haben versehentlich wichtige Dateien gelöscht. Wie können sie wiederhergestellt werden? Dies erfolgt durch Erstellen von Klonen. Kehren wir zur Registerkarte "Schnappschuss" zurück und klicken Sie auf das Schraubenschlüsselsymbol vor dem Schnappschuss. Das folgende Fenster wird angezeigt: </font></font><br>
<br>
<img src="https://habrastorage.org/files/526/7dd/131/5267dd131142459faee1659b7a207e56.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier müssen Sie den Pfad auswählen, auf dem sich der Klon befindet. Natürlich sollte es eindeutig sein und die Namen von Datensätzen nicht wiederholen. Klicken Sie auf "Ausführen" und überprüfen Sie das Ergebnis per FTP:</font></font><br>
<br>
<img src="https://habrastorage.org/files/ae5/e3e/771/ae5e3e77122a46cdb4a769a024e686a2.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, wiederholt der Klon von MusicSnap den Inhalt des Originaldatensatzes vollständig. </font><font style="vertical-align: inherit;">Jetzt können Sie die verlorenen Dateien aus dem Klon extrahieren und wieder in Musik kopieren. </font><font style="vertical-align: inherit;">Nachdem der Klon auf derselben Registerkarte gelöscht werden kann:</font></font><br>
<br>
<img src="https://habrastorage.org/files/c50/efe/325/c50efe325b014a7f99d97c77428886d2.JPG"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Letzte Berührung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit ZFS Mirror, das auf dem praktisch unzerstörbaren Western Digital Re basiert, können Sie ein Heim-NAS mit akzeptabler Zuverlässigkeit erstellen, obwohl das Motherboard keine ECC-Unterstützung bietet. Es gibt jedoch eine Schwachstelle im beschriebenen System - ein Flash-Laufwerk. Flash-Speicher können nur dann als zuverlässig bezeichnet werden, wenn Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Industriechips verwenden.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NAS4Free bietet jedoch einen sehr praktischen Mechanismus, um den Server von Grund auf neu zu erstellen. Im Bereich „System“ - „Speichern / Wiederherstellen“ können Sie die XML-Datei mit den Einstellungen mit nur einem Klick </font></font><br>
<br>
<img src="https://habrastorage.org/files/da2/325/19b/da232519b3b347d3b2773b3b171972cb.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
abrufen </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Optional ist </font><font style="vertical-align: inherit;">eine </font><font style="vertical-align: inherit;">Passwortverschlüsselung erhältlich. Wenn das Flash-Laufwerk ausfällt, müssen Sie das System nur sauber installieren und die Konfiguration aus der Datei wiederherstellen. Alle zuvor erstellten Pools und Datasets sowie gespeicherte Informationen sind wieder verfügbar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich ist das alles - das NAS zu Hause ist einsatzbereit. </font><font style="vertical-align: inherit;">Im Moment kostet mich die oben beschriebene Baugruppe ungefähr einen Monat und verdaut in dieser Zeit ungefähr 500 Gigabyte. </font><font style="vertical-align: inherit;">Dies ist natürlich weit entfernt von Verschleißarbeiten, dennoch funktioniert die Lagerung einwandfrei, während dieser Zeit wurden keine Probleme beobachtet. </font><font style="vertical-align: inherit;">Und jetzt werde ich ein wenig interaktiv arrangieren: Schreiben Sie in die Kommentare, welche NAS4Free-Funktionen Sie sehen möchten oder welche nicht standardmäßigen Lösungen Sie basierend darauf implementieren möchten. </font><font style="vertical-align: inherit;">So war </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dispi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beispielsweise   </font><font style="vertical-align: inherit;">an der Möglichkeit interessiert, eine vollwertige </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;">LAMPE zu züchten</font></a><font style="vertical-align: inherit;"> - der Antrag wurde angenommen, obwohl ich keine Veröffentlichung in naher Zukunft verspreche.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de397575/">https://habr.com/ru/post/de397575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de397561/index.html">Audio Digest 9: Blogs zu Sound, Musik und Audiotechnologie</a></li>
<li><a href="../de397563/index.html">Die Echtheit des Code of Grolier, des vierten überlebenden Maya-Kodex, ist bewiesen.</a></li>
<li><a href="../de397565/index.html">Wie Lyft den Straßenverkehr in 10 Jahren sieht</a></li>
<li><a href="../de397567/index.html">Bei Nokia Bell Labs wurde eine Datenübertragung mit einer Geschwindigkeit von 1 Tbit / s über Glasfaser erreicht</a></li>
<li><a href="../de397571/index.html">Hybridgewebe wandelt Sonnenlicht und mechanische Energie in Elektrizität um</a></li>
<li><a href="../de397577/index.html">Terminator-, Bender-, Dandy- und Apple 2-Prozessor: MOS 6502</a></li>
<li><a href="../de397579/index.html">Unerwartete Mikroprozessorhistorie</a></li>
<li><a href="../de397581/index.html">Kick jetzt! Mit Kickstarter ist die Zukunft näher</a></li>
<li><a href="../de397583/index.html">Ein unerwartetes Treffen. Kapitel 4</a></li>
<li><a href="../de397585/index.html">"Ja, du fährst!" Wie Overclocker die Computerindustrie veränderten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>