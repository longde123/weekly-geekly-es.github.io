<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö´Ô∏è ü§≥ üôãüèª So sehen Sie SDDL und brechen sich nicht die Augen auf Semikolons üí™üèæ üî± üôèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mein Weg zur Informationssicherheit begann mit einer √ºberraschenden Entdeckung: ‚Äûsicher ‚â† verschl√ºsselt‚Äú. Diese Aussage sieht jetzt einfach und offens...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So sehen Sie SDDL und brechen sich nicht die Augen auf Semikolons</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pm/blog/442662/"><img src="https://habrastorage.org/webt/an/hd/to/anhdtognmb0n09yu9hgh1cyducg.png"><br><br>  Mein Weg zur Informationssicherheit begann mit einer √ºberraschenden Entdeckung: ‚Äûsicher ‚â† verschl√ºsselt‚Äú.  Diese Aussage sieht jetzt einfach und offensichtlich aus, und im ersten Jahr hat das Bewusstsein f√ºr diese Tatsache einen Effekt hervorgebracht, der mit der mentalen Atombombe vergleichbar ist.  Die Informationssicherheit wurde angegriffen, indem die Grenzen des Themenbereichs erweitert wurden: Es stellte sich heraus, dass Kryptographie nur eine Verteidigungslinie ist und dass es am Ende auch rechtliche, organisatorische und einfach physische gibt.  Einer der theoretischen Aspekte war "Alle Fragen der Informationssicherheit werden durch den Zugang der Probanden zu Objekten beschrieben."  Er lernte auswendig, zeichnete die Zugangsmodelle f√ºr Berechtigungsnachweise und Ermessensspielr√§ume, erz√§hlte, bestand und verga√ü. <br><br>  Ich bin spezialisiert auf Sicherheitsanalysen von Windows-Anwendungen.  Sehr oft nimmt die Untersuchung genau unterschiedlicher Zugriffsrechte einen wesentlichen Teil der Studie ein.  Um die Suche nach seltsamen oder falschen Zugriffsrechten zu automatisieren, musste ich die SDDL (Security Descriptor Definition Language) verstehen.  Wer m√∂chte lernen, Rechte in Form von SDDL zu lesen (zum Beispiel so etwas wie <b>O: SYG: SYD: (A ;; CCLCSWLOCRRC ;;; IU) (A ;; CCLCSWLOCRRC ;;; SU) (A ;; CCLCSWRPWPDTLOCRRC ;;; SY) (A ;; CCDCLCSWRPWPDTLOCRSDRCWDWO ;;; BA)</b> ) und machen Sie sich mit meinem Dienstprogramm f√ºr die Arbeit mit Deskriptoren in diesem Format vertraut, willkommen bei cat. <br><a name="habracut"></a><br><h2>  <font color="orange">SDDL-Format</font> </h2><br>  SDDL ist eine Zeichenfolge mit Beschreibungen der Zugriffsrechte in Textform.  Besteht meistens aus drei Teilen: Eigent√ºmer-, Gruppen- und DACL-Zugriffsrechte.  Manchmal wird der SACL-Teil hinzugef√ºgt - der Audit-Teil (wenn Aktionen mit dem Objekt den SACL-Regeln entsprechen, wird ein Systemereignis erstellt, das von verschiedenen Systemen leicht verfolgt werden kann).  Der Deskriptor sieht folgenderma√üen aus: <br><br>  O: &lt;Eigent√ºmer&gt; G: &lt;Gruppe&gt; D: &lt;DACL-Zugriffsregeln&gt; S: &lt;SACL-√úberwachungsregeln&gt; <br><br><img src="https://habrastorage.org/webt/wn/vg/oj/wnvgojdxtm7uz3qpq_tqwebbxuu.png"><br><br>  Somit kann das obige Beispiel wie folgt zerlegt werden: <br><ul><li>  O: SY </li><li>  G: SY </li><li>  D: (A ;; CCLCSWLOCRRC ;;; IU) (A ;; CCLCSWLOCRRC ;;; SU) (A ;; CCLCSWRPWPDTLOCRRC ;;; SY) (A ;; CCDCLCSWRPWPDTLOCRSDRCWDWO ;;; BA); </li></ul><br>  Der Eigent√ºmer und die Gruppe k√∂nnen als SID des Benutzers oder der Gruppe des Betriebssystems oder als spezielle Abk√ºrzungen angegeben werden.  In diesem Fall ist der Eigent√ºmer und die Gruppe SY beispielsweise das lokale Systemkonto (NT AUTHORITY \ SYSTEM).  Die Liste der Abk√ºrzungen (leider nicht vollst√§ndig) finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Zugriffsregeln bestehen aus der Aufz√§hlung von DACL-Flags und ACE-Zeichenfolgen (Access Control Entries).  Eine detaillierte Analyse von ACE wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> vorgestellt, wir werden die wichtigste betrachten.  Jede ACE-Zeile ist in Klammern eingeschlossen, in denen die Daten durch ein Semikolon getrennt sind. <br>  Von gr√∂√ütem Interesse sind die erste, dritte und letzte Gruppe.  Dies ist die Art des Zugriffs (zul√§ssig "A", verboten "D"), eine Liste von Aktionen und der Name des Zugriffsthemas.  Die erste DACL-Regel aus dem obigen Beispiel: (A ;; CCLCSWLOCRRC ;;; IU) werden wir im Detail betrachten. <br><br><img src="https://habrastorage.org/webt/7d/__/o6/7d__o6fgbxas7azzzqmu24ou27k.png"><br><br><ul><li>  "A" - die Regel erlaubt Aktionen f√ºr das Subjekt; </li><li>  "CC", "LC", "SW", "LO", "CR", "RC" - eine Liste der zul√§ssigen Aktionen; </li><li>  "IU" - diese Abk√ºrzung bezeichnet die Gruppe "Interaktive angemeldete Benutzer". </li></ul><br>  Es bleibt zu verstehen, was genau erlaubt ist.  Was bedeuten diese mysteri√∂sen "CC", "LC", "SW", "LO", "CR", "RC"? <br><br>  Hier warten wir auf eine weitere Falle - es ist nicht immer m√∂glich, die Aktion durch Reduktion genau anzuzeigen.  Sie sind sozusagen kontextspezifisch.  Wenn es sich beispielsweise um die Rechte zum Arbeiten mit Diensten handelt, bedeutet WP "Beenden des Dienstes", wenn es sich um Dateien handelt, dann "Ausf√ºhren" und wenn es sich um Ordner handelt, dann "Durchlaufen" (Zugriff auf Dateien in einem Ordner nach Namen, wenn dies nicht m√∂glich ist Listeninhalt).  Einige Beschreibungen sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> , andere <a href="">hier</a> , mit der Welt in einem Thread. <br><br><div class="spoiler">  <b class="spoiler_title">Hey, du hast so viel √ºber DACL-Flags, ACE-Flags und Vererbung verpasst</b> <div class="spoiler_text">  Ja, das ist alles sehr wichtig und interessant, aber es ist nicht so h√§ufig.  Ich konzentriere mich auf die Masse.  Bei einzelnen Erscheinungsformen ungew√∂hnlicher Flags ist dies im manuellen Modus leichter zu verstehen. <br></div></div><br><h2>  <font color="orange">Automatisierung</font> </h2><br>  Die Sysinternals-Dienstprogramme helfen mir wirklich, n√§mlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Process Monitor</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Access Check</a> (auch bekannt als procmon und accesschk).  Mit der ersten k√∂nnen Sie Datei- und Registrierungszugriffe in Echtzeit anzeigen, und mit der zweiten k√∂nnen Sie Informationen √ºber Sicherheitsbeschreibungen vom Betriebssystem sammeln. <br><br>  √úbrigens sieht im Betriebssystem selbst das Fenster mit den Rechten so aus, wenn jemand nicht gesehen hat: <br><br><img src="https://habrastorage.org/webt/ft/9t/vz/ft9tvzevuox0vy0yia5vta812k8.png"><br><br>  Leider kann die Ausgabe von accesschk nicht herausgefiltert werden, indem die Anforderung von Rechten auf bestimmte Aktionen eingegrenzt wird.  Der Prozessmonitor zeigt nur die tats√§chlichen Anrufe zu einem bestimmten Zeitpunkt an und Sie erhalten eine zu genaue Anfrage, die nicht direkt betroffen ist.  Au√üerdem m√∂chte ich ein Memo dar√ºber haben, welche Art von Benutzergruppe <abbr title="Netzbetreiber">NO</abbr> oder <abbr title="Netzwerkdienstkonto">NS</abbr> ist und welche Aktionen hinter CC und RC verborgen sind. <br><br>  So wurde ein einfaches Dienstprogramm zum Anzeigen und Filtern von SDDL-Datens√§tzen entwickelt. <br><br><h2>  <font color="orange">Wie man es benutzt</font> </h2><br>  Die Arbeit mit dem Dienstprogramm ist einfach, nur drei Schritte: <br><br><ol><li>  Holen Sie sich SDDL-Datens√§tze. </li><li>  Definieren Sie Regelfilter. </li><li>  Bericht anzeigen. </li></ol><br><img src="https://habrastorage.org/webt/ly/ul/kd/lyulkdqjevgwn8iqpejwekonkia.png"><br><br>  Lesen Sie mehr √ºber jeden Schritt. <br><br>  SDDL erhalten.  Um SDDL-Datens√§tze abzurufen, k√∂nnen Sie die im Dienstprogramm integrierten Funktionen verwenden (Schaltfl√§chen 1, 2, 3 oder 4) oder die zuvor erhaltene Liste herunterladen (Schaltfl√§che 5).  Bitte beachten Sie, dass die Anforderung von Zugriffsrechten im Namen des Benutzers erfolgt, der den SDDL Viewer gestartet hat. In einigen Situationen lohnt es sich daher, das Programm nicht nur als regul√§rer Benutzer, sondern auch als Administrator auszuf√ºhren.  Nun, im Allgemeinen kann das Feld selbst mit SDDL-Zeilen bearbeitet werden - Sie k√∂nnen es zumindest manuell umschreiben. <br><br>  Die Filterung erfolgt nach zwei Parametern: Benutzergruppen und Zugriffsrechte.  Die Liste der Gruppen und Benutzer basiert auf allen in der SDDL genannten Benutzern.  Beachten Sie das Kontrollk√§stchen SIDs √ºbersetzen (6). Wenn es installiert ist, wird die SID von Benutzern und Gruppen nach M√∂glichkeit in Namen relativ zum aktuellen Computer √ºbersetzt.  Die Liste der Rechte ist etwas √ºbersichtlicher angeordnet. Sie m√ºssen die Kategorie der Rechte ausw√§hlen (wenn die SDDL mit dem Dienstprogramm selbst gef√ºllt ist, wird automatisch die erforderliche Kategorie ausgew√§hlt). Au√üerdem werden die in der SDDL vorhandenen Rechte in der Liste der Rechte deutlicher hervorgehoben. <br><br>  Der Bericht ist einfach das Ergebnis der Entschl√ºsselung von SDDL und der Anwendung von Filtern.  Sie k√∂nnen detailliertere Informationen zu jeder Zeile erhalten, wenn Sie sie in der Liste ausw√§hlen (ja, mit dieser Funktion habe ich einen Gag erhalten, der zu ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wenig Recherche √ºber .NET-Interna gef√ºhrt hat</a> ). <br><br><h2>  <font color="orange">Zusammenfassung</font> </h2><br>  Der Quellcode ist auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github</a> verf√ºgbar.  Bin√§rdateien befinden sich ebenfalls im Abschnitt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Release</a> . <br><br>  Meine Versorgungspl√§ne: <br><br><ol><li>  F√ºgen Sie den Eingabefeldern von SDDL eine Suche hinzu - dennoch reicht nur das Filtern nicht aus. </li><li>  F√ºgen Sie Startparameter hinzu, mit denen Berichte ohne visuellen Teil erstellt werden k√∂nnen. </li><li>  Vielleicht sollten Sie SDDL-Auff√ºllungen von Prozessen, freigegebenen Ordnern und Druckern hinzuf√ºgen? </li></ol><br>  Ich freue mich √ºber Vorschl√§ge in den Kommentaren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de442662/">https://habr.com/ru/post/de442662/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de442650/index.html">Analyse und Optimierung von React-Anwendungen</a></li>
<li><a href="../de442652/index.html">Verwenden von Fastify und Preact zum schnellen Prototypen von Webanwendungen</a></li>
<li><a href="../de442654/index.html">Wechseln Sie zu Next.js und beschleunigen Sie das Laden der Manifold.co-Homepage um das 7,5-fache</a></li>
<li><a href="../de442658/index.html">8 Tricks f√ºr die Arbeit mit CSS: Parallaxe, Sticky Footer und andere</a></li>
<li><a href="../de442660/index.html">Mathematik vers√∂hnt Newton mit der Quantenwelt</a></li>
<li><a href="../de442664/index.html">QIWI Kitchen 6. Februar - wie es war + Referentenpr√§sentationen</a></li>
<li><a href="../de442666/index.html">Post-Post, Meta-Meta. Wir lernen auf Habr zu schreiben</a></li>
<li><a href="../de442668/index.html">Intel SGX-Karte. Jeder Server verdient seine SGX</a></li>
<li><a href="../de442670/index.html">Carsten Zero tritt an PHDays 9 auf</a></li>
<li><a href="../de442672/index.html">So geben Sie Feedback: 9 Regeln</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>