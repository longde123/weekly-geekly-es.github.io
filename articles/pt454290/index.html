<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì† üñ≤Ô∏è üçï Princ√≠pio de responsabilidade √∫nica. N√£o √© t√£o simples quanto parece üßñüèΩ üëáüèº üîÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Princ√≠pio de responsabilidade √∫nica, ele √© o princ√≠pio de responsabilidade √∫nica, 
 ele √© o princ√≠pio da variabilidade uniforme - um sujeito extremame...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Princ√≠pio de responsabilidade √∫nica. N√£o √© t√£o simples quanto parece</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454290/"><p><img width="500" src="https://habrastorage.org/getpro/habr/post_images/dad/c41/3d4/dadc413d4439871ac1632997daa6416c.png" alt="imagem" align="left">  Princ√≠pio de responsabilidade √∫nica, ele √© o princ√≠pio de responsabilidade √∫nica, <br>  ele √© o princ√≠pio da variabilidade uniforme - um sujeito extremamente escorregadio de entender e uma pergunta t√£o nervosa na entrevista de um programador. </p><br><p>  O primeiro conhecimento s√©rio desse princ√≠pio ocorreu para mim no in√≠cio do primeiro ano, quando os jovens e os verdes foram levados para a floresta para formar verdadeiros alunos das larvas. </p><br><p> Na floresta, fomos divididos em grupos de 8 a 9 pessoas em cada um e organizamos uma competi√ß√£o - qual grupo beber√° uma garrafa de vodka mais rapidamente, desde que a primeira pessoa do grupo derrame vodka em um copo, as segundas bebidas e a terceira morda.  Ap√≥s concluir sua opera√ß√£o, a unidade fica no final da fila do grupo. </p><br><p>  O caso em que o tamanho da fila era m√∫ltiplo de tr√™s e era uma boa implementa√ß√£o do SRP. </p><a name="habracut"></a><br><h2 id="opredelenie-1-edinaya-otvetstvennost">  Defini√ß√£o 1. Responsabilidade √∫nica. </h2><br><p>  A defini√ß√£o oficial do princ√≠pio da responsabilidade √∫nica (SRP) sugere que cada objeto tem sua pr√≥pria responsabilidade e raz√£o de exist√™ncia, e essa responsabilidade possui apenas uma. </p><br><p>  Considere o objeto Tippler. <br>  Para cumprir o princ√≠pio do SRP, dividimos as responsabilidades em tr√™s: </p><br><ul><li>  Um derrama ( <strong>PourOperation</strong> ) </li><li>  Um <strong>drinques</strong> ( <strong>DrinkUpOperation</strong> ) </li><li>  Um lanche ( <strong>TakeBiteOperation</strong> ) </li></ul><br><p>  Cada um dos participantes do processo √© respons√°vel por um componente do processo, ou seja, tem uma responsabilidade at√¥mica - beber, derramar ou dar uma mordida. </p><br><p>  A bebida, por sua vez, √© a fachada para essas opera√ß√µes: </p><br><pre><code class="plaintext hljs">lass Tippler { //... void Act(){ _pourOperation.Do() //  _drinkUpOperation.Do() //  _takeBiteOperation.Do() //  } }</code> </pre> <br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/getpro/habr/post_images/07b/979/ed5/07b979ed5db74fcec05254aadb60220d.png" alt="imagem"></div><br><h4 id="zachem">  Porque </h4><br><p>  O programador humano escreve o c√≥digo para o homem-macaco, e o homem-macaco √© desatento, est√∫pido e sempre com pressa em algum lugar.  Ele pode manter e entender cerca de 3 a 7 termos por vez. <br>  No caso de bebida alco√≥lica, esses termos s√£o tr√™s.  No entanto, se escrevermos o c√≥digo com uma folha, m√£os, √≥culos, massacres e debates intermin√°veis ‚Äã‚Äãsobre pol√≠tica aparecer√£o nele.  E tudo isso estar√° no corpo de um m√©todo.  Tenho certeza que voc√™ viu esse c√≥digo em sua pr√°tica.  N√£o √© o teste mais humano para a psique. </p><br><p>  Por outro lado, o homem-macaco √© preso por modelar objetos do mundo real em sua cabe√ßa.  Em sua imagina√ß√£o, ele pode junt√°-los, coletar novos objetos e desmont√°-los da mesma maneira.  Imagine um modelo de carro antigo.  Voc√™ pode abrir a porta com sua imagina√ß√£o, desaparafusar a guarni√ß√£o da porta e ver os mecanismos de eleva√ß√£o da janela, dentro dos quais haver√° engrenagens.  Mas voc√™ n√£o pode ver todos os componentes da m√°quina ao mesmo tempo, em uma "lista".  Pelo menos o "homem macaco" n√£o pode. </p><br><p>  Portanto, programadores humanos decomp√µem mecanismos complexos em um conjunto de elementos menos complexos e funcionais.  No entanto, a decomposi√ß√£o pode ser feita de diferentes maneiras: em muitos carros antigos - o duto sai pela porta e nos modernos - a falha na eletr√¥nica da trava impede que o motor d√™ partida, o que ocorre durante o reparo. </p><br><p>  Portanto, o <strong>SRP √© um princ√≠pio que explica COMO decompor, ou seja, onde desenhar a linha de separa√ß√£o</strong> . </p><br><p>  Ele diz que a decomposi√ß√£o deve basear-se no princ√≠pio da separa√ß√£o da "responsabilidade", isto √©, de acordo com as tarefas de v√°rios objetos. </p><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/getpro/habr/post_images/b89/d0f/3c6/b89d0f3c6434ae77a2b858e2af6374b0.png" alt="imagem"></div><br><p>  Vamos voltar √† bebida e √†s vantagens que uma pessoa macaco obt√©m ao se decompor: </p><br><ul><li>  O c√≥digo tornou-se extremamente claro em todos os n√≠veis. </li><li>  V√°rios programadores podem escrever c√≥digo de uma vez (cada um escreve um elemento separado) </li><li>  O teste automatizado √© simplificado - quanto mais simples o elemento, mais f√°cil √© testar </li><li>  Dessas tr√™s opera√ß√µes, no futuro, voc√™ pode adicionar um glut√£o (usando apenas <strong>TakeBitOperation</strong> ), um alco√≥latra (usando apenas <strong>DrinkUpOperation</strong> diretamente da garrafa) e satisfazer muitos outros requisitos de neg√≥cios. </li></ul><br><p>  E, claro, os contras: </p><br><ul><li>  Ter√° que criar mais tipos. </li><li>  Um bebedor bebe pela primeira vez algumas horas depois do que podia </li></ul><br><h2 id="opredelenie-2-edinaya-izmenchivost">  Defini√ß√£o 2. Variabilidade unificada. </h2><br><p>  Permita cavalheiros!  A classe de beber tamb√©m cumpre uma √∫nica responsabilidade - bebe!  E, em geral, a palavra "responsabilidade" √© um conceito extremamente vago.  Algu√©m √© respons√°vel pelo destino da humanidade e algu√©m √© respons√°vel por elevar os ping√ºins tombados no poste. </p><br><p>  Considere duas implementa√ß√µes de bingo.  A primeira, mencionada acima, cont√©m tr√™s classes - despeje, beba e d√™ uma mordida. </p><br><p>  O segundo √© escrito atrav√©s da metodologia Forward e Only Forward e cont√©m toda a l√≥gica do m√©todo <strong>Act</strong> : </p><br><pre> <code class="plaintext hljs">//      .    lass BrutTippler { //... void Act(){ //  if(!_hand.TryDischarge(from:_bottle, to:_glass, size:_glass.Capacity)) throw new OverdrunkException(); //  if(!_hand.TryDrink(from: _glass, size: _glass.Capacity)) throw new OverdrunkException(); // for(int i = 0; i&lt; 3; i++){ var food = _foodStore.TakeOrDefault(); if(food==null) throw new FoodIsOverException(); _hand.TryEat(food); } } }</code> </pre> <br><p>  Ambas as classes, do ponto de vista de um observador externo, parecem exatamente iguais e cumprem a √∫nica responsabilidade de "beber". </p><br><p>  Vergonha! </p><br><p>  Em seguida, navegamos na Internet e descobrimos outra defini√ß√£o de SRP - o princ√≠pio da variabilidade uniforme. </p><br><p>  Esta defini√ß√£o afirma que " <strong>o m√≥dulo tem um e apenas um motivo para a mudan√ßa</strong> ".  Ou seja, "Responsabilidade √© uma ocasi√£o para mudan√ßa". </p><br><p>  Agora tudo se encaixa.  Separadamente, voc√™ pode alterar os procedimentos de vazamento, bebida e mordida, e na pr√≥pria bebida s√≥ podemos alterar a sequ√™ncia e a composi√ß√£o das opera√ß√µes, por exemplo, mover o lanche antes de beber ou adicionar uma leitura de brinde. </p><br><p>  Na abordagem Forward e Only Forward, tudo o que pode ser alterado √© alterado apenas no m√©todo <strong>Act</strong> .  Pode ser leg√≠vel e eficaz no caso em que h√° pouca l√≥gica e raramente muda, mas geralmente termina com m√©todos terr√≠veis de 500 linhas cada, com mais n√∫meros if do que o necess√°rio para a entrada da R√∫ssia na OTAN. </p><br><h2 id="opredelenie-3-lokalizaciya-izmeneniy">  Defini√ß√£o 3. Localiza√ß√£o de mudan√ßas. </h2><br><p>  Os bebedores geralmente n√£o entendem por que acordaram no apartamento de outra pessoa ou onde est√° o celular.  √â hora de adicionar log detalhado. </p><br><p>  Vamos come√ßar a registrar com o processo de vazamento: </p><br><pre> <code class="plaintext hljs">class PourOperation: IOperation{ PourOperation(ILogger log /*....*/){/*...*/} //... void Do(){ _log.Log($"Before pour with {_hand} and {_bottle}"); //Pour business logic ... _log.Log($"After pour with {_hand} and {_bottle}"); } }</code> </pre> <br><p>  Encapsulando-o no <strong>PourOperation</strong> , agimos com sabedoria em termos de responsabilidade e encapsulamento, mas agora, com o princ√≠pio da variabilidade, estamos envergonhados.  Al√©m da opera√ß√£o em si, que pode ser alterada, o pr√≥prio registro se torna vari√°vel.  Teremos que separar e criar um logger especial para a opera√ß√£o de vazamento: </p><br><pre> <code class="plaintext hljs">interface IPourLogger{ void LogBefore(IHand, IBottle){} void LogAfter(IHand, IBottle){} void OnError(IHand, IBottle, Exception){} } class PourOperation: IOperation{ PourOperation(IPourLogger log /*....*/){/*...*/} //... void Do(){ _log.LogBefore(_hand, _bottle); try{ //... business logic _log.LogAfter(_hand, _bottle"); } catch(exception e){ _log.OnError(_hand, _bottle, e) } } }</code> </pre> <br><p>  Um leitor meticuloso notar√° que <strong>LogAfter</strong> , <strong>LogBefore</strong> e <strong>OnError</strong> tamb√©m podem ser alterados individualmente e, por analogia com as etapas anteriores, criar√° tr√™s classes: <strong>PourLoggerBefore</strong> , <strong>PourLoggerAfter</strong> e <strong>PourErrorLogger</strong> . </p><br><p>  E lembrando que existem tr√™s opera√ß√µes para uma compuls√£o - temos nove classes de registro.  Como resultado, toda a bebida consiste em 14 (!!!) classes. </p><br><p>  Hip√©rbole?  Dificilmente!  Um homem-macaco com uma granada de decomposi√ß√£o esmagar√° o ‚Äúvazador‚Äù em um decantador, um copo, operadores de vazamento, um servi√ßo de abastecimento de √°gua, um modelo f√≠sico de colis√£o de mol√©culas e no pr√≥ximo trimestre tentar√° desvendar as depend√™ncias sem vari√°veis ‚Äã‚Äãglobais.  E acredite em mim - ele n√£o vai parar. </p><br><p>  √â neste ponto que muitos chegam √† conclus√£o de que os SRPs s√£o contos dos reinos cor-de-rosa e partem para torcer o macarr√£o ... </p><br><p>  ... nunca sabendo da exist√™ncia da terceira defini√ß√£o de Srp: </p><br><p>  " <strong>Coisas semelhantes √†s mudan√ßas devem ser armazenadas em um s√≥ lugar</strong> ."  ou " <strong>O que muda juntos deve ser mantido em um s√≥ lugar</strong> " </p><br><p>  Ou seja, se alterarmos o log da opera√ß√£o, devemos alter√°-lo em <strong>um s√≥</strong> lugar. </p><br><p>  Este √© um ponto muito importante - uma vez que todas as explica√ß√µes SRP acima mencionadas disseram que os tipos devem ser divididos enquanto s√£o divididos, ou seja, impuseram uma "restri√ß√£o superior" ao tamanho do objeto, e agora estamos falando de um "limite inferior" .  Em outras palavras, o <strong>SRP n√£o apenas exige "esmagamento ao esmagar", mas tamb√©m n√£o exagera - "n√£o esmague coisas vinculadas"</strong> .  N√£o complique desnecessariamente.  Esta √© a grande batalha da navalha de Occam com o homem-macaco! </p><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/getpro/habr/post_images/778/0d3/aa2/7780d3aa2ce9b489696c55ea792adb3a.jpg" alt="imagem"></div><br><p>  Agora a bebida deve ser mais f√°cil.  Al√©m de n√£o dividir o logger do IPourLogger em tr√™s classes, tamb√©m podemos combinar todos os loggers em um tipo: </p><br><pre> <code class="plaintext hljs">class OperationLogger{ public OperationLogger(string operationName){/*..*/} public void LogBefore(object[] args){/*...*/} public void LogAfter(object[] args){/*..*/} public void LogError(object[] args, exception e){/*..*/} }</code> </pre> <br><p>  E se o quarto tipo de opera√ß√£o for adicionado a n√≥s, o registro estar√° pronto para isso.  E o c√≥digo das opera√ß√µes em si √© limpo e livre de ru√≠dos de infraestrutura. </p><br><p>  Como resultado, temos 5 aulas para resolver o problema da bebida: </p><br><ul><li>  Opera√ß√£o de vazamento </li><li>  Opera√ß√£o de bebida </li><li>  Opera√ß√£o de atolamento </li><li>  Logger </li><li>  Fachada dos Boolers </li></ul><br><p>  Cada um deles √© respons√°vel estritamente por uma funcionalidade, tem um motivo para a mudan√ßa.  Todas as regras semelhantes √†s altera√ß√µes est√£o pr√≥ximas. </p><br><h2 id="primery-iz-realnoy-zhizni">  Exemplos da vida real </h2><br><div class="spoiler">  <b class="spoiler_title">Serializa√ß√£o e desserializa√ß√£o</b> <div class="spoiler_text"><p>  Como parte do desenvolvimento do protocolo de transfer√™ncia de dados, √© necess√°rio serializar e desserializar algum tipo de "Usu√°rio" em uma string. </p><br><pre> <code class="plaintext hljs">User{ String Name; Int Age; }</code> </pre> <br><p>  Voc√™ pode pensar que a serializa√ß√£o e a desserializa√ß√£o precisam ser feitas em classes separadas: </p><br><pre> <code class="plaintext hljs">UserDeserializer{ String deserialize(User){...} } UserSerializer{ User serialize(String){...} }</code> </pre> <br><p>  Como cada um deles tem sua pr√≥pria responsabilidade e uma raz√£o para a mudan√ßa. </p><br><p>  Mas eles t√™m um motivo comum de mudan√ßa - "alterando o formato da serializa√ß√£o de dados". <br>  E ao alterar esse formato, a serializa√ß√£o e a desserializa√ß√£o sempre mudam. </p><br><p>  De acordo com o princ√≠pio de localizar altera√ß√µes, devemos combin√°-las em uma classe: </p><br><pre> <code class="plaintext hljs">UserSerializer{ String deserialize(User){...} User serialize(String){...} }</code> </pre> <br><p>  Isso evita a complexidade desnecess√°ria e a necessidade de lembrar que toda vez que voc√™ altera o serializador, voc√™ precisa se lembrar do desserializador. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Contar e salvar</b> <div class="spoiler_text"><p>  Voc√™ precisa calcular a receita anual da empresa e salv√°-la no arquivo C: \ results.txt. </p><br><p>  Resolvemos isso rapidamente com um m√©todo: </p><br><pre> <code class="plaintext hljs">void SaveGain(Company company){ //     //   }</code> </pre> <br><p>  J√° na defini√ß√£o da tarefa, est√° claro que existem duas subtarefas - "Calcular receita" e "Salvar receita".  Cada um deles tem um motivo para altera√ß√µes - "uma altera√ß√£o na metodologia de c√°lculo" e "uma altera√ß√£o no formato de salvamento".  Essas altera√ß√µes n√£o se sobrep√µem.  Al√©m disso, n√£o podemos responder monossil√°bicamente √† pergunta - ‚Äúo que o m√©todo SaveGain faz?‚Äù.  Este m√©todo <strong>AND</strong> calcula a receita <strong>E</strong> salva os resultados. </p><br><p>  Portanto, voc√™ precisa dividir esse m√©todo em dois: </p><br><pre> <code class="plaintext hljs">Gain CalcGain(Company company){..} void SaveGain(Gain gain){..}</code> </pre> <br><p>  Pr√≥s: </p><br><ul><li>  pode ser testado separadamente CalcGain </li><li>  mais f√°cil de localizar bugs e fazer altera√ß√µes </li><li>  legibilidade do c√≥digo aumentada </li><li>  o risco de erro em cada um dos m√©todos √© reduzido devido √† sua simplifica√ß√£o </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">L√≥gica de neg√≥cios sofisticada</b> <div class="spoiler_text"><p>  Certa vez, escrevemos um servi√ßo para registro autom√°tico de um cliente B2B.  E havia um m√©todo GOD com 200 linhas de conte√∫do semelhante: </p><br><ul><li>  V√° para 1C e obtenha uma conta </li><li>  Com esta conta, v√° para o m√≥dulo de pagamento e chegue l√° </li><li>  Verifique se uma conta com essa conta n√£o foi criada no servidor principal </li><li>  Crie uma nova conta </li><li>  O resultado do registro no m√≥dulo de pagamento e o n√∫mero 1c s√£o adicionados ao servi√ßo de resultados do registro </li><li>  Adicionar informa√ß√µes da conta a esta tabela </li><li>  Crie um n√∫mero de ponto para este cliente no servi√ßo de pontos.  D√™ a esta conta de servi√ßo n√∫mero 1s. </li></ul><br><p>  Havia cerca de 10 opera√ß√µes comerciais com uma conex√£o terr√≠vel nesta lista.  O objeto da conta era necess√°rio para quase todos.  A identifica√ß√£o do ponto e o nome do cliente foram necess√°rios em metade das chamadas. </p><br><p>  Ap√≥s uma hora de refatora√ß√£o, conseguimos separar o c√≥digo de infraestrutura e algumas nuances do trabalho com a conta em m√©todos / classes separados.  O m√©todo God ficou mais f√°cil, mas restavam 100 linhas de c√≥digo que n√£o queriam ser desvendadas. </p><br><p>  Apenas alguns dias depois chegou a compreens√£o de que a ess√™ncia desse m√©todo "aliviado" √© o algoritmo de neg√≥cios.  E que a descri√ß√£o inicial de TK era bastante complicada.  E √© uma tentativa de quebrar esse m√©todo em peda√ßos que ser√£o uma viola√ß√£o do SRP, e n√£o vice-versa. </p></div></div><br><h2 id="formalizm">  Formalismo. </h2><br><p>  √â hora de deixar nossa bebida em paz.  Limpe as l√°grimas - n√≥s definitivamente voltaremos a ela de alguma forma.  Agora formalizamos o conhecimento deste artigo. </p><br><h4 id="formalizm-1-opredelenie-srp">  Formalismo 1. Defini√ß√£o de SRP </h4><br><ol><li>  Separe os elementos para que cada um deles seja respons√°vel por uma coisa. </li><li>  Responsabilidade significa "causa de mudan√ßa".  Ou seja, cada elemento tem apenas um motivo para a mudan√ßa, em termos de l√≥gica de neg√≥cios. </li><li>  Potenciais altera√ß√µes na l√≥gica de neg√≥cios.  deve ser localizado.  Itens mut√°veis ‚Äã‚Äãjuntos devem estar pr√≥ximos. </li></ol><br><h4 id="formalizm-2-neobhodimye-kriterii-samoproverki">  Formalismo 2. Crit√©rios necess√°rios para o auto-exame. </h4><br><p>  N√£o atendi a crit√©rios suficientes para a implementa√ß√£o do SRP.  Mas existem condi√ß√µes necess√°rias: </p><br><p>  1) Fa√ßa uma pergunta a voc√™ mesmo - o que essa classe / m√©todo / m√≥dulo / servi√ßo faz?  voc√™ deve respond√™-lo com uma defini√ß√£o simples.  (gra√ßas a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Brightori</a> ) </p><br><div class="spoiler">  <b class="spoiler_title">explica√ß√µes</b> <div class="spoiler_text"><p>  No entanto, √†s vezes √© muito dif√≠cil encontrar uma defini√ß√£o simples </p></div></div><br><p>  2) Corrigir um erro ou adicionar um novo recurso afeta o n√∫mero m√≠nimo de arquivos / classes.  Idealmente, um. </p><br><div class="spoiler">  <b class="spoiler_title">explica√ß√µes</b> <div class="spoiler_text"><p>  Como a responsabilidade (por um recurso ou bug) √© encapsulada em um √∫nico arquivo / classe, voc√™ sabe exatamente onde procurar e o que editar.  Por exemplo: o recurso de alterar a sa√≠da do log de opera√ß√£o exigir√° a altera√ß√£o apenas do logger.  N√£o √© necess√°rio executar o restante do c√≥digo. </p><br><p>  Outro exemplo √© a adi√ß√£o de um novo controle de interface do usu√°rio semelhante aos anteriores.  Se isso for√ßa voc√™ a adicionar 10 entidades diferentes e 15 conversores diferentes - parece que voc√™ ‚Äúquebrou‚Äù. </p></div></div><br><p>  3) Se v√°rios desenvolvedores est√£o trabalhando em diferentes recursos do seu projeto, a probabilidade de um conflito de mesclagem, ou seja, a probabilidade de v√°rios desenvolvedores mudarem o mesmo arquivo / classe ao mesmo tempo, √© m√≠nima. </p><br><div class="spoiler">  <b class="spoiler_title">explica√ß√µes</b> <div class="spoiler_text"><p>  Se, ao adicionar uma nova opera√ß√£o "Despeje a vodka embaixo da mesa", voc√™ precisar√° tocar o lenhador, a opera√ß√£o de beber e derramar - ent√£o parece que as responsabilidades est√£o divididas de forma torta.  Obviamente, isso nem sempre √© poss√≠vel, mas voc√™ precisa tentar reduzir esse n√∫mero. </p></div></div><br><p>  4) Ao esclarecer uma pergunta sobre l√≥gica de neg√≥cios (de um desenvolvedor ou gerente), voc√™ entra estritamente em uma classe / arquivo e recebe informa√ß√µes apenas a partir da√≠. </p><br><div class="spoiler">  <b class="spoiler_title">explica√ß√µes</b> <div class="spoiler_text"><p>  Recursos, regras ou algoritmos s√£o escritos de forma compacta, cada um em um √∫nico local, e n√£o espalhados por sinalizadores pelo espa√ßo de c√≥digo. </p></div></div><br><p>  5) A nomea√ß√£o √© clara. </p><br><div class="spoiler">  <b class="spoiler_title">explica√ß√µes</b> <div class="spoiler_text"><p>  Nossa classe ou m√©todo √© respons√°vel por uma coisa, e a responsabilidade se reflete em seu nome. </p><br><p>  AllManagersManagerService - provavelmente, classe de Deus <br>  LocalPayment - provavelmente n√£o </p></div></div><br><h4 id="formalizm-3-metodika-razrabotki-okkama-first">  Formalismo 3. O m√©todo de desenvolvimento de Occam-first. </h4><br><p>  No in√≠cio do projeto, o homem-macaco n√£o conhece e n√£o sente todas as sutilezas do problema que est√° sendo resolvido e pode causar um erro.  Voc√™ pode cometer erros de maneiras diferentes: </p><br><ul><li>  Fa√ßa objetos muito grandes colando responsabilidades diferentes </li><li>  Divida, dividindo uma √∫nica responsabilidade em muitos tipos diferentes </li><li>  Limites de responsabilidade definidos incorretamente </li></ul><br><p>  √â importante lembrar a regra: "√© melhor cometer um grande erro" ou "n√£o tenho certeza - n√£o se divida".  Se, por exemplo, sua classe coletar duas responsabilidades, ainda ser√° compreens√≠vel e poder√° ser dividida em duas com uma altera√ß√£o m√≠nima no c√≥digo do cliente.  Coletar um copo de fragmentos de vidro geralmente √© mais dif√≠cil devido ao contexto espalhado por v√°rios arquivos e √† falta de depend√™ncias necess√°rias no c√≥digo do cliente. </p><br><h2 id="pora-zakruglyatsya">  √â hora de terminar </h2><br><p>  O escopo do SRP n√£o se limita ao OOP e ao SOLID.  √â aplic√°vel a m√©todos, fun√ß√µes, classes, m√≥dulos, microsservi√ßos e servi√ßos.  Isso se aplica ao desenvolvimento "figax-figax-and-in-prod" e "rocket-sainz", tornando o mundo um pouco melhor em todos os lugares.  Se voc√™ pensar bem, esse √© quase o princ√≠pio fundamental de toda a engenharia.  A engenharia mec√¢nica, os sistemas de controle e, de fato, todos os sistemas complexos s√£o constru√≠dos a partir de componentes, e a "fragmenta√ß√£o incompleta" priva os projetistas de flexibilidade, "fragmenta√ß√£o" - de efici√™ncia e limites incorretos - da raz√£o e tranq√ºilidade. </p><br><div style="text-align:center;"><img width="450" src="https://habrastorage.org/getpro/habr/post_images/5a4/13a/5ec/5a413a5ec8447752d1de83982a0fadea.jpg" alt="imagem"></div><br><p>  O SRP n√£o √© inventado pela natureza e n√£o faz parte da ci√™ncia exata.  Ele sai das nossas limita√ß√µes biol√≥gicas e psicol√≥gicas, e √© apenas uma maneira de controlar e desenvolver sistemas complexos usando o c√©rebro de um macaco humano.  Ele nos diz como decompor o sistema.  A reda√ß√£o original exigia bastante telepatia, mas espero que este artigo tenha dissipado levemente a cortina de fuma√ßa. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454290/">https://habr.com/ru/post/pt454290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454272/index.html">Toda a verdade sobre o RTOS. Artigo # 27 Hora do sistema</a></li>
<li><a href="../pt454274/index.html">Luz, c√¢mera ... nuvem: como as nuvens mudam a ind√∫stria cinematogr√°fica</a></li>
<li><a href="../pt454278/index.html">Seguro cibern√©tico no mercado russo</a></li>
<li><a href="../pt454280/index.html">Desenvolvimento remoto no VS Code: sua vida nunca mais ser√° a mesma</a></li>
<li><a href="../pt454284/index.html">Desculpe, eu n√£o vou trabalhar porque √© inverno</a></li>
<li><a href="../pt454292/index.html">JS. Proxy. Armadilha para conhecer</a></li>
<li><a href="../pt454294/index.html">"Sem experimentos desnecess√°rios" ou como lan√ßamos um acelerador de banco</a></li>
<li><a href="../pt454296/index.html">Como uma escola em Porto Rico d√° vida √† qu√≠mica com o Minecraft: Education Edition</a></li>
<li><a href="../pt454298/index.html">O impasse: como foi</a></li>
<li><a href="../pt454300/index.html">Como os CTT diferem dos tubos de calor convencionais e como aplic√°-los</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>