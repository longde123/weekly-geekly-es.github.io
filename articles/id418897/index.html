<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🎨 👾 🏐 CRDT: Jenis Data Replikasi yang bebas konflik 👍🏾 🆎 👩‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bagaimana cara menghitung klik halaman google.com? Dan bagaimana cara menyimpan counter suka pengguna yang sangat populer? Artikel ini mengusulkan unt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CRDT: Jenis Data Replikasi yang bebas konflik</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418897/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/r1/we/lm/r1welma_rgaxinwrbp7ekni1tdo.png"></div><br>  Bagaimana cara menghitung klik halaman google.com?  Dan bagaimana cara menyimpan counter suka pengguna yang sangat populer?  Artikel ini mengusulkan untuk mempertimbangkan penyelesaian masalah ini menggunakan CRDT (Jenis Data Replika Bebas Konflik, yang dalam bahasa Rusia diterjemahkan secara kasar sebagai Jenis Data Replikasi Bebas Konflik), dan dalam kasus yang lebih umum, tugas sinkronisasi replika dalam sistem terdistribusi dengan beberapa node terkemuka. <br><a name="habracut"></a><br><h1>  1. Pendahuluan </h1><br>  Kami telah lama terbiasa menggunakan aplikasi seperti kalender atau layanan catatan seperti Evernote.  Mereka disatukan oleh fakta bahwa mereka memungkinkan Anda untuk bekerja offline, dari beberapa perangkat dan ke beberapa orang secara bersamaan (pada data yang sama).  Tantangan yang dihadapi pengembang dari setiap aplikasi tersebut adalah bagaimana memastikan sinkronisasi data yang paling “lancar” berubah secara bersamaan pada beberapa perangkat.  Idealnya, keterlibatan pengguna tidak diperlukan sama sekali untuk menyelesaikan konflik penggabungan. <br><br>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel sebelumnya, kami</a> telah mempertimbangkan pendekatan untuk menyelesaikan masalah seperti itu - Transformasi Operasional, itu juga akan menjelaskan metode yang sangat mirip yang memiliki kelebihan dan kekurangan (misalnya, CRDT untuk JSON belum ditemukan. Pembaruan: Terima kasih kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">msvn</a> untuk tautannya, di sini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di sini adalah</a> proyek dari penulis artikel penelitian tentang implementasi JSON di CRDT) <br><br><h1>  2. Konsistensi akhirnya kuat </h1><br>  Baru-baru ini, banyak pekerjaan telah ditulis dan banyak penelitian telah dilakukan di bidang konsistensi akhirnya.  Menurut pendapat saya, sekarang ada tren kuat menuju pergeseran dari konsistensi yang kuat ke berbagai pilihan untuk konsistensi, ke penelitian yang konsistensi di mana situasi / sistem lebih menguntungkan untuk diterapkan, untuk memikirkan kembali definisi yang ada.  Ini mengarah pada beberapa kebingungan, misalnya, ketika penulis beberapa karya, berbicara tentang konsistensi, berarti konsistensi akhirnya dengan beberapa properti tambahan, dan penulis lain menggunakan terminologi tertentu untuk ini. <br><br>  Pertanyaan yang diajukan oleh penulis salah satu artikel tersebut mengkritik definisi saat ini tentang konsistensi akhir: menurutnya, jika sistem Anda selalu menjawab "42" untuk semua permintaan, maka semuanya baik-baik saja, pada akhirnya konsisten. <br><br>  Tanpa melanggar kebenaran artikel ini, saya, mengikuti penulis artikel asli, akan menggunakan terminologi berikut (harap dicatat, ini bukan definisi yang ketat, ini perbedaan): <br><br><ul><li>  Konsistensi kuat (SC): semua operasi penulisan diurutkan dengan ketat, permintaan baca pada replika apa pun menghasilkan hasil yang sama, yang terakhir direkam.  Konsensus <b>waktu nyata</b> diperlukan untuk menyelesaikan konflik (dengan konsekuensi selanjutnya), dapat tahan terhadap penurunan ke n / 2 - 1 node. </li><li>  Konsistensi akhirnya (EC): perbarui data secara lokal, kirim pembaruan lebih lanjut.  Membaca berbagai replika dapat mengembalikan data basi.  Jika terjadi konflik, kami mundur, atau entah bagaimana memutuskan apa yang harus dilakukan.  T.O.  masih diperlukan konsensus, tetapi tidak <b>lagi secara real time</b> . </li><li>  Strong akhirnya konsistensi (SEC): EC + untuk menyelesaikan konflik, replika memiliki algoritma yang telah ditentukan.  T.O.  <b>konsensus tidak diperlukan</b> , dapat menahan penurunan ke n - 1 node. </li></ul><br>  Perhatikan bahwa SEC (seolah-olah) memecahkan masalah teorema CAP: ketiga properti terpenuhi. <br><br>  Jadi, kami siap menyumbangkan SC dan ingin memiliki set tipe data dasar tertentu untuk sistem terdistribusi kami yang berpotensi tidak stabil yang secara otomatis akan menyelesaikan konflik tulis untuk kami (tidak diperlukan interaksi pengguna atau permintaan ke arbiter) <br><br><h1>  3. Tugas tentang suka dan hit </h1><br>  Tidak diragukan lagi, ada beberapa algoritma untuk menyelesaikan masalah seperti itu.  CRDT menawarkan cara yang cukup elegan dan mudah. <br><br><h3>  Hitungan jumlah Google.com: </h3><br>  google.com memproses sekitar 150.000 permintaan per detik dari seluruh dunia.  Jelas, penghitung perlu diperbarui secara tidak sinkron.  Antrian menyelesaikan sebagian masalah - misalnya, jika kami menyediakan API eksternal untuk mendapatkan nilai ini, maka kami harus melakukan replikasi agar tidak menempatkan repositori dengan permintaan baca.  Dan jika sudah ada replikasi, mungkin tanpa antrian global? <br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/wv/4y/tn/wv4ytnmej1xm2tbhen3ddztgv6w.png" alt="gambar"></div><br><br><h3>  Menghitung suka pengguna: </h3><br>  Tugasnya sangat mirip dengan yang sebelumnya, hanya sekarang Anda perlu menghitung hit unik. <br><br><h1>  4. Terminologi </h1><br>  Untuk pemahaman yang lebih lengkap tentang artikel ini, Anda perlu tahu tentang ketentuan berikut: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Idempotensi</a> <br>  Mengatakan bahwa menerapkan operasi beberapa kali tidak mengubah hasilnya. <br>  Contoh - DAPATKAN operasi atau penambahan dengan nol: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>x</mi><mo>+</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.849ex" height="2.66ex" viewBox="0 -832 5532 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-78" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-29" x="1512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-3D" x="2179" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-78" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-2B" x="4030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-30" x="5031" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mo>+</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> f (x) = x + 0 </script><br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Komutatif</a> <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>,</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.312ex" height="2.66ex" viewBox="0 -832 7023.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-78" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-2C" x="1512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-79" x="1957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-29" x="2455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-3D" x="3122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-66" x="4178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-28" x="4729" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-79" x="5118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-2C" x="5616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-78" x="6061" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-29" x="6633" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo>,</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> f (x, y) = f (y, x) </script><br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pesanan sebagian</a> <br>  Refleksivitas + Transitivitas + Antisimetri <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Setengah kisi</a> <br>  Set sebagian dipesan dengan wajah bagian atas (bawah) yang tepat <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Vektor versi</a> <br>  Vektor dimensi sama dengan jumlah node, dan setiap node, ketika peristiwa tertentu terjadi, akan meningkatkan nilainya dalam vektor.  Selama sinkronisasi, data ditransmisikan dengan vektor ini dan ini memperkenalkan relasi pesanan, yang memungkinkan Anda untuk menentukan replika yang memiliki data lama / baru. </li></ol><br><h1>  5. Sinkronkan model </h1><br><h3>  Berbasis negara: </h3><br>  Juga disebut sinkronisasi pasif, ini membentuk Tipe Data Replika Konvergen - CvRDT. <br>  Ini digunakan dalam sistem file seperti NFS, AFS, Coda dan di KV-storages Riak, Dynamo <br>  Dalam hal ini, negara pertukaran replika secara langsung, replika penerima menggabungkan negara yang diterima dengan keadaan saat ini. <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/ac/r_/7b/acr_7blhm_vkl7rwgfenmjpvdus.png" alt="gambar"></div><br>  Untuk melakukan konvergensi replika menggunakan sinkronisasi ini, perlu bahwa: <br><br><ul><li>  Data membentuk semilattice </li><li>  Fungsi gabungan menghasilkan batas atas yang tepat </li><li>  Replika membentuk grafik terhubung. </li></ul><br>  Contoh: <br><br><ul><li>  Dataset: bilangan asli <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.088ex" height="2.057ex" viewBox="0 -780.1 4343.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-61" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-74" x="1658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-68" x="2019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-62" x="2596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-62" x="3025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-4E" x="3455" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ mathbb {N} </script></li><li>  Item minimum: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>f</mi><mi>t</mi><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.86ex" height="2.419ex" viewBox="0 -780.1 3384 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-69" x="1028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-6E" x="1374" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-66" x="1974" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-74" x="2525" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-79" x="2886" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>f</mi><mi>t</mi><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> - \ infty </script></li><li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>m</mi><mi>e</mi><mi>r</mi><mi>g</mi><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>k</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.699ex" height="2.66ex" viewBox="0 -832 11064.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-65" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-72" x="1345" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-67" x="1796" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-65" x="2277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-28" x="2743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-78" x="3133" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-2C" x="3705" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-79" x="4150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-29" x="4648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-3D" x="5315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-6D" x="6371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-61" x="7250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-6B" x="7779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-73" x="8301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-28" x="8770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-78" x="9160" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-2C" x="9732" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMATHI-79" x="10177" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/418897/&amp;usg=ALkJrhjpo4DSikky09KBDSRPLwYbacHuAg#MJMAIN-29" x="10675" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>e</mi><mi>r</mi><mi>g</mi><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>k</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-5"> merge (x, y) = maks (x, y) </script></li></ul><br>  Persyaratan tersebut memberi kita fungsi penggabungan <b>komutatif</b> dan <b>idempoten</b> yang <b>tumbuh secara monoton</b> pada kumpulan data yang diberikan: <br><br><div style="text-align:center;"><img width="300" src="https://habrastorage.org/webt/jn/nw/vl/jnnwvlfp_tjkank2zknwdcbj-oc.png" alt="gambar"></div><br>  Ini memastikan bahwa replika konvergen cepat atau lambat dan memungkinkan Anda untuk tidak khawatir tentang protokol transfer data - <b>kami dapat kehilangan pesan dengan status baru, mengirimnya beberapa kali, dan bahkan mengirimkannya dalam urutan apa pun</b> . <br><br><h3>  Berbasis operasi: </h3><br>  Juga disebut Sinkronisasi Aktif, ini membentuk Tipe Data Replikasi Komutatif - CmRDT. <br>  Digunakan dalam sistem kooperatif seperti Bayou, Rover, IceCube, Telex. <br><br>  Dalam hal ini, operasi pembaruan keadaan pertukaran replika.  Saat memperbarui data, replika asli: <br><br><ul><li>  Memanggil metode generate (), yang mengembalikan metode effector () untuk mengeksekusi pada replika yang tersisa.  Dengan kata lain, efektor () adalah penutupan untuk mengubah keadaan replika yang tersisa. </li><li>  Menerapkan efektor ke negara bagian setempat </li><li>  Mengirim efektor ke semua replika lainnya </li></ul><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/bd/i3/ps/bdi3pshr57wi0udnldnurhcdpfs.png" alt="gambar"></div><br>  Untuk melakukan konvergensi replika, kondisi berikut harus dipenuhi: <br><br><ul><li>  Protokol Pengiriman yang Andal </li><li>  Jika efektor dikirimkan ke semua replika sesuai dengan urutan yang dimasukkan (untuk jenis tertentu), maka efektor simultan bersifat komutatif, <b>atau</b> </li><li>  Jika efektor dikirimkan ke semua replika tanpa memperhitungkan pesanan, maka semua efektor bersifat komutatif. </li><li>  Jika efektor dapat dikirimkan beberapa kali, maka itu harus idempoten </li><li>  Beberapa implementasi menggunakan antrian (Kafka) sebagai bagian dari protokol pengiriman. </li></ul><br><h3>  Berbasis di Delta: </h3><br>  Mengingat keadaan / op berbasis, mudah untuk melihat bahwa jika pembaruan hanya mengubah sebagian dari negara, maka tidak masuk akal untuk mengirim seluruh negara, dan jika sejumlah besar perubahan mempengaruhi satu negara (misalnya, penghitung), maka Anda dapat mengirim satu, perubahan teragregasi, dan tidak semua operasi perubahan. <br><br>  Sinkronisasi Delta menggabungkan kedua pendekatan dan mengirimkan delta-mutator yang memperbarui status menurut tanggal sinkronisasi terakhir.  Pada sinkronisasi awal, perlu untuk mengirim negara sepenuhnya, dan beberapa implementasi dalam kasus seperti itu sudah memperhitungkan keadaan replika yang tersisa ketika membangun delta-mutators. <br><br>  Metode pengoptimalan berikutnya adalah mengompresi log berbasis op, jika penundaan diizinkan. <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/rd/vi/a5/rdvia5kv708z55ndt_t5j_leaum.png" alt="gambar"></div><br><h3>  Berbasis operasi murni: </h3><br>  Ada keterlambatan dalam membuat opector dalam sinkronisasi berbasis op.  Dalam beberapa sistem ini mungkin tidak dapat diterima, maka Anda harus mengirimkan perubahan asli dengan biaya mempersulit protokol dan jumlah tambahan metadata. <br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/3l/p2/r2/3lp2r2ruizjddxllrwgbgwh5ykw.png" alt="gambar"></div><br><h3>  Pendekatan penggunaan standar: </h3><br><ul><li>  Jika pembaruan akan <b>segera dikirim</b> dalam sistem, maka berbasis negara akan menjadi pilihan yang buruk, karena mengirimkan seluruh negara lebih mahal daripada hanya operasi pembaruan.  Berbasis Delta bekerja lebih baik, tetapi dalam kasus khusus ini, perbedaan dengan berbasis negara akan kecil. </li><li>  Jika Anda perlu <b>menyinkronkan replika setelah kegagalan</b> , maka berbasis negara dan berbasis delta adalah pilihan yang sempurna.  Jika Anda harus menggunakan berbasis op, maka opsinya adalah: <br><br>  1) Gulung semua operasi yang terlewat sejak kegagalan <br>  2) Salinan lengkap dari salah satu replika dan kembalikan operasi yang terlewat </li><li>  Seperti disebutkan di atas, berbasis op mengharuskan pembaruan dikirimkan tepat satu kali ke setiap replika.  Persyaratan pengiriman hanya sekali dapat dihilangkan jika efektor idempoten.  Dalam praktiknya, jauh lebih mudah untuk menerapkan yang pertama daripada yang kedua. </li></ul><br><h3>  Hubungan antara berbasis-op dan berbasis-negara: </h3><br>  Dua pendekatan dapat ditiru melalui satu sama lain, sehingga di masa depan kami akan mempertimbangkan CRDT tanpa mengacu pada model sinkronisasi tertentu. <br><br><h1>  6. CRDT </h1><br><h2>  6.1 Penghitung </h2><br>  Integer yang mendukung dua operasi: inc dan dec.  Sebagai contoh, pertimbangkan kemungkinan implementasi untuk sinkronisasi berbasis-op dan berbasis-negara: <br><br><h3>  Penghitung berbasis-op: </h3><br>  Cukup jelas, hanya mengirim pembaruan.  Contoh untuk inc: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> function (counter) { counter += <span class="hljs-number"><span class="hljs-number">1</span></span> } }</code> </pre> <br><h3>  Penghitung berbasis negara: </h3><br>  Implementasinya tidak lagi begitu jelas, karena tidak jelas seperti apa fungsi penggabungan seharusnya. <br><br>  Pertimbangkan opsi berikut: <br><br>  <u>Penghitung yang meningkat secara monoton (Penghitung peningkatan saja, Penghitung-G):</u> <br><br>  Data akan disimpan sebagai vektor dimensi sama dengan jumlah node (vektor versi) dan setiap replika akan meningkatkan nilai pada posisinya dengan id. <br><br>  Fungsi gabungan akan mengambil maksimum di posisi yang sesuai, dan nilai akhir adalah jumlah dari semua elemen vektor <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>\&amp;#xA0;begin&amp;#xA0;{align}&amp;#xA0;inc&amp;#xA0;()&amp;#xA0;&amp;amp;:&amp;#xA0;V&amp;#xA0;[id&amp;#xA0;()]&amp;#xA0;=&amp;#xA0;V&amp;#xA0;[id&amp;#xA0;()]&amp;#xA0;+&amp;#xA0;1&amp;#xA0;nilai&amp;#xA0;\\&amp;#xA0;()&amp;#xA0;&amp;amp;:&amp;#xA0;\&amp;#xA0;sum_&amp;#xA0;{i&amp;#xA0;=&amp;#xA0;0}&amp;#xA0;^&amp;#xA0;{n}&amp;#xA0;V&amp;#xA0;[i]&amp;#xA0;\\&amp;#xA0;menggabungkan&amp;#xA0;(C_1,&amp;#xA0;C_2)&amp;#xA0;&amp;amp;:&amp;#xA0;i&amp;#xA0;\&amp;#xA0;di&amp;#xA0;[1..n]&amp;#xA0;\&amp;#xA0;Hasil&amp;#xA0;[i]&amp;#xA0;=&amp;#xA0;maks&amp;#xA0;(C_1.V&amp;#xA0;[i],&amp;#xA0;C_2.V&amp;#xA0;[i])&amp;#xA0;\&amp;#xA0;end&amp;#xA0;{align}</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;begin&nbsp;{align}&nbsp;inc&nbsp;()&nbsp;&amp;:&nbsp;V&nbsp;[id&nbsp;()]&nbsp;=&nbsp;V&nbsp;[id&nbsp;()]&nbsp;+&nbsp;1&nbsp;nilai&nbsp;\\&nbsp;()&nbsp;&amp;:&nbsp;\&nbsp;sum_&nbsp;{i&nbsp;=&nbsp;0}&nbsp;^&nbsp;{n}&nbsp;V&nbsp;[i]&nbsp;\\&nbsp;menggabungkan&nbsp;(C_1,&nbsp;C_2)&nbsp;&amp;:&nbsp;i&nbsp;\&nbsp;di&nbsp;[1..n]&nbsp;\&nbsp;Hasil&nbsp;[i]&nbsp;=&nbsp;maks&nbsp;(C_1.V&nbsp;[i],&nbsp;C_2.V&nbsp;[i])&nbsp;\&nbsp;end&nbsp;{align}</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>\&nbsp;begin&nbsp;{align}&nbsp;inc&nbsp;()&nbsp;&amp;:&nbsp;V&nbsp;[id&nbsp;()]&nbsp;=&nbsp;V&nbsp;[id&nbsp;()]&nbsp;+&nbsp;1&nbsp;nilai&nbsp;\\&nbsp;()&nbsp;&amp;:&nbsp;\&nbsp;sum_&nbsp;{i&nbsp;=&nbsp;0}&nbsp;^&nbsp;{n}&nbsp;V&nbsp;[i]&nbsp;\\&nbsp;menggabungkan&nbsp;(C_1,&nbsp;C_2)&nbsp;&amp;:&nbsp;i&nbsp;\&nbsp;di&nbsp;[1..n]&nbsp;\&nbsp;Hasil&nbsp;[i]&nbsp;=&nbsp;maks&nbsp;(C_1.V&nbsp;[i],&nbsp;C_2.V&nbsp;[i])&nbsp;\&nbsp;end&nbsp;{align}</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> \ begin {align} inc () &: V [id ()] = V [id ()] + 1 nilai \\ () &: \ sum_ {i = 0} ^ {n} V [i] \\ menggabungkan (C_1, C_2) &: i \ di [1..n] \ Hasil [i] = maks (C_1.V [i], C_2.V [i]) \ end {align} </script></p><br>  Anda juga dapat menggunakan G-Set (lihat di bawah) <br><br>  Aplikasi: <br><br><ul><li>  Menghitung klik / klik (sic!) </li></ul><br>  <u>Counter dengan dukungan decrement (PN-counter)</u> <br><br>  Kami mulai dua G-counter - satu untuk operasi kenaikan, yang kedua - untuk penurunan <br><br>  Aplikasi: <br><br><ul><li>  Jumlah pengguna yang masuk dalam jaringan p2p, seperti Skype </li></ul><br>  <u>Penghitung non-negatif</u> <br><br>  Implementasi yang sederhana belum ada.  Sarankan ide Anda di komentar, diskusikan. <br><br><h2>  6.2 Mendaftar </h2><br>  Sel memori dengan dua operasi - menetapkan (menulis) dan nilai (baca). <br>  Masalahnya adalah bahwa penetapan tidak komutatif.  Ada dua pendekatan untuk mengatasi masalah ini: <br><br><h3>  Registrasi Penulis Terakhir-Menang (LWW-Register): </h3><br>  Kami memasukkan pesanan penuh melalui pembuatan id unik untuk setiap operasi (stempel waktu, misalnya). <br><br>  Contoh sinkronisasi adalah pertukaran pasangan (nilai, id): <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/rw/8m/1k/rw8m1k8wgby7v0gczcthhdmdvns.png"></div><br>  Aplikasi: <br><br><ul><li>  Kolom dalam cassandra </li><li>  NFS - file secara keseluruhan atau sebagian </li></ul><br><h3>  Mendaftar dengan beberapa nilai (Daftar Multi-Nilai, Daftar-MV): </h3><br>  Pendekatannya mirip dengan G-counter - kami menyimpan set (nilai, vektor versi).  Nilai register - semua nilai, saat digabung - LWW secara terpisah untuk setiap nilai dalam vektor. <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/o3/kr/vc/o3krvcuowzsa-vi_avn27jcscxk.png"></div><br>  Aplikasi: <br><br><ul><li>  Keranjang di Amazon.  Bug yang terkenal dikaitkan dengan ini, ketika setelah menghapus item dari keranjang itu muncul lagi.  Alasannya adalah bahwa meskipun register menyimpan sejumlah nilai, itu bukan set (lihat gambar di bawah).  Omong-omong, Amazon bahkan tidak menganggap ini sebagai bug - bahkan, ini meningkatkan penjualan. </li><li>  Riak.  Dalam kasus yang lebih umum, kami menggeser masalah memilih Nilai aktual (catatan - tidak ada konflik!) Ke aplikasi. </li></ul><br>  Penjelasan bug di Amazon: <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/k0/au/le/k0auleq-jjcrfdtkdswe8tfdxnq.png"></div><br><br><h2>  6.3 Banyak </h2><br>  Set adalah tipe dasar untuk membangun wadah, peta, dan grafik dan mendukung operasi - tambah dan rmv, yang tidak komutatif. <br><br>  Pertimbangkan implementasi naif dari set berbasis op, di mana add dan rmv dieksekusi saat mereka tiba (add datang ke 1 dan 2 replika pada saat yang sama, kemudian rmv ke 1) <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/yk/uu/3b/ykuu3b4-brgkjj2p4y32gmytafs.png"></div><br>  Seperti yang Anda lihat, replika akhirnya tersebar.  Pertimbangkan berbagai opsi untuk membangun set bebas konflik: <br><br><h3>  Growing Set (G-Set): </h3><br>  Solusi termudah adalah mencegah barang dihapus.  Yang tersisa hanyalah operasi add, yang komutatif.  Fungsi gabungan adalah gabungan set. <br><br><h3>  Dua Fase Set (2P-Set): </h3><br>  Kami mengizinkan Anda menghapus, tetapi Anda tidak dapat menambahkannya lagi setelah dihapus.  Untuk mengimplementasikan, kami membuat set elemen G-set jarak jauh yang terpisah (set seperti itu disebut set batu nisan) <br>  Contoh untuk berbasis negara: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>\&amp;#xA0;begin&amp;#xA0;{align}&amp;#xA0;lookup&amp;#xA0;(e)&amp;#xA0;&amp;amp;:&amp;#xA0;e&amp;#xA0;\&amp;#xA0;di&amp;#xA0;A&amp;#xA0;\&amp;#xA0;land&amp;#xA0;e&amp;#xA0;\&amp;#xA0;notin&amp;#xA0;R&amp;#xA0;\\&amp;#xA0;tambahkan&amp;#xA0;(e)&amp;#xA0;&amp;amp;:&amp;#xA0;A&amp;#xA0;=&amp;#xA0;A&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;\&amp;#xA0;{e&amp;#xA0;\}&amp;#xA0;\\&amp;#xA0;rmv&amp;#xA0;(e)&amp;#xA0;&amp;amp;:&amp;#xA0;R&amp;#xA0;=&amp;#xA0;R&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;\&amp;#xA0;{e&amp;#xA0;\}&amp;#xA0;\\&amp;#xA0;bergabung&amp;#xA0;(S_1,&amp;#xA0;S_2)&amp;#xA0;&amp;amp;:&amp;#xA0;\\&amp;#xA0;Res&amp;#xA0;&amp;amp;&amp;#xA0;ult.A&amp;#xA0;=&amp;#xA0;S_1.A&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;S_2.A&amp;#xA0;\\&amp;#xA0;Res&amp;#xA0;&amp;amp;&amp;#xA0;ult.R&amp;#xA0;=&amp;#xA0;S_1.R&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;S_2.R&amp;#xA0;\&amp;#xA0;end&amp;#xA0;{align}</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;begin&nbsp;{align}&nbsp;lookup&nbsp;(e)&nbsp;&amp;:&nbsp;e&nbsp;\&nbsp;di&nbsp;A&nbsp;\&nbsp;land&nbsp;e&nbsp;\&nbsp;notin&nbsp;R&nbsp;\\&nbsp;tambahkan&nbsp;(e)&nbsp;&amp;:&nbsp;A&nbsp;=&nbsp;A&nbsp;\&nbsp;cup&nbsp;\&nbsp;{e&nbsp;\}&nbsp;\\&nbsp;rmv&nbsp;(e)&nbsp;&amp;:&nbsp;R&nbsp;=&nbsp;R&nbsp;\&nbsp;cup&nbsp;\&nbsp;{e&nbsp;\}&nbsp;\\&nbsp;bergabung&nbsp;(S_1,&nbsp;S_2)&nbsp;&amp;:&nbsp;\\&nbsp;Res&nbsp;&amp;&nbsp;ult.A&nbsp;=&nbsp;S_1.A&nbsp;\&nbsp;cup&nbsp;S_2.A&nbsp;\\&nbsp;Res&nbsp;&amp;&nbsp;ult.R&nbsp;=&nbsp;S_1.R&nbsp;\&nbsp;cup&nbsp;S_2.R&nbsp;\&nbsp;end&nbsp;{align}</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>\&nbsp;begin&nbsp;{align}&nbsp;lookup&nbsp;(e)&nbsp;&amp;:&nbsp;e&nbsp;\&nbsp;di&nbsp;A&nbsp;\&nbsp;land&nbsp;e&nbsp;\&nbsp;notin&nbsp;R&nbsp;\\&nbsp;tambahkan&nbsp;(e)&nbsp;&amp;:&nbsp;A&nbsp;=&nbsp;A&nbsp;\&nbsp;cup&nbsp;\&nbsp;{e&nbsp;\}&nbsp;\\&nbsp;rmv&nbsp;(e)&nbsp;&amp;:&nbsp;R&nbsp;=&nbsp;R&nbsp;\&nbsp;cup&nbsp;\&nbsp;{e&nbsp;\}&nbsp;\\&nbsp;bergabung&nbsp;(S_1,&nbsp;S_2)&nbsp;&amp;:&nbsp;\\&nbsp;Res&nbsp;&amp;&nbsp;ult.A&nbsp;=&nbsp;S_1.A&nbsp;\&nbsp;cup&nbsp;S_2.A&nbsp;\\&nbsp;Res&nbsp;&amp;&nbsp;ult.R&nbsp;=&nbsp;S_1.R&nbsp;\&nbsp;cup&nbsp;S_2.R&nbsp;\&nbsp;end&nbsp;{align}</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> \ begin {align} lookup (e) &: e \ di A \ land e \ notin R \\ tambahkan (e) &: A = A \ cup \ {e \} \\ rmv (e) &: R = R \ cup \ {e \} \\ bergabung (S_1, S_2) &: \\ Res & ult.A = S_1.A \ cup S_2.A \\ Res & ult.R = S_1.R \ cup S_2.R \ end {align} </script></p><br><h3>  Set elemen LWW: </h3><br>  Cara selanjutnya untuk menerapkan set bebas konflik adalah dengan memperkenalkan pesanan lengkap, salah satu opsi adalah untuk menghasilkan cap waktu unik untuk setiap elemen. <br><br>  Kami mendapatkan dua set - add-set dan hapus-set, ketika add () dipanggil, add (elemen, unique_id ()), ketika memeriksa apakah ada elemen di set - lihat di mana timestamp lebih besar - di hapus-set atau di add-set <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/iw/gt/95/iwgt95jsuu9xps80j0w-sjgweq4.png"></div><br><h3>  PN-Set: </h3><br>  Variasi dengan pemesanan set - kita mulai penghitung untuk setiap elemen, ketika kita menambahkannya, kita menambahnya, ketika kita menghapusnya kita menguranginya.  Elemen ada di set jika penghitungnya positif. <br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/nf/qz/dw/nfqzdwf7risphmn8qyuq0tsjc3s.png"></div><br>  Perhatikan efek yang menarik - di replika ketiga, menambahkan elemen tidak mengarah ke penampilannya. <br><br><h3>  Amati-Hapus Set, AT-Set, Set Tambah-Menang: </h3><br>  Dalam jenis ini, tambahkan diutamakan daripada menghapus.  Contoh implementasi: setiap elemen yang baru ditambahkan akan diberi tag unik (relatif terhadap elemen, dan bukan seluruh set).  Rmv menghapus elemen dari set dan mengirimkan semua pasangan yang terlihat (elemen, tag) ke replika untuk dihapus. <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/5n/ac/1l/5nac1lanif5y_kh_w9rvaz-jqoe.png"></div><br><br><h3>  Hapus-menang Set: </h3><br>  Mirip dengan yang sebelumnya, tetapi pada saat yang sama add / rmv rmv menang. <br><br><h2>  6.4 Grafik </h2><br>  Tipe ini dibangun atas dasar banyak.  Masalahnya adalah ini: jika ada operasi simultan addEdge (u, v) dan removeVertex (u) - apa yang harus saya lakukan?  Opsi berikut dimungkinkan: <br><br><ul><li>  Prioritas RemoveVertex, semua insiden tepi ke titik ini dihapus </li><li>  Prioritas AddEdge, simpul yang dihapus dipulihkan </li><li>  Kami menunda eksekusi removeVertex sampai semua addEdge simultan dijalankan. </li></ul><br>  Opsi termudah adalah yang pertama, untuk implementasinya (2P2P-Graph) cukup untuk mendapatkan dua 2P-Set, satu untuk simpul, yang kedua untuk tepi <br><br><h2>  6.5 Peta </h2><br><h3>  Peta literal: </h3><br>  Dua masalah untuk dipecahkan: <br><br><ul><li>  Apa yang harus dilakukan dengan operasi put simultan?  Dengan analogi dengan penghitung, Anda dapat memilih semantik LWW atau MV </li><li>  Apa yang harus dilakukan dengan put / rmv simultan?  Dengan analogi dengan set, Anda bisa menang-menang, atau menang-menang, atau semantik menang-terakhir. </li></ul><br><h3>  Pemetaan CRDT (Peta CRDT): </h3><br>  Kasus yang lebih menarik, karena  memungkinkan Anda untuk membangun pemetaan bersarang.  Kami tidak mempertimbangkan kasus perubahan tipe bersarang - ini harus diputuskan oleh CRDT bersarang itu sendiri. <br><br>  <u>Hapus-sebagai-rekursif-reset peta</u> <br><br>  Operasi penghapusan "me-reset" nilai tipe ke kondisi awal tertentu.  Misalnya, untuk penghitung, ini adalah nilai nol. <br><br>  Pertimbangkan contoh - daftar belanja umum.  Salah satu pengguna menambahkan tepung, dan yang kedua membuat checkout (ini mengarah pada panggilan ke operasi hapus pada semua elemen).  Akibatnya, satu unit tepung tetap ada dalam daftar, yang tampaknya logis. <br><br><div style="text-align:center;"><img width="700" src="https://habrastorage.org/webt/9g/sn/4j/9gsn4jdmbdg_ba1hdrmftl5mcgy.png"></div><br>  <u>Hapus-menang peta</u> <br><br>  Operasi rmv diutamakan. <br><br>  Contoh: dalam game online, pemain Alice memiliki 10 koin dan palu.  Kemudian dua peristiwa secara bersamaan terjadi: pada replika A, ia menghasilkan paku, dan pada replika B, karakternya dihapus dengan menghilangkan semua objek: <br><br><div style="text-align:center;"><img width="700" src="https://habrastorage.org/webt/tb/xd/6s/tbxd6s7eun3rpn57mnwt9d4hbxa.png"></div><br><br>  Perhatikan bahwa saat menggunakan remove-as-recursive, paku pada akhirnya akan tetap, yang bukan keadaan yang benar ketika karakter dihilangkan. <br><br>  <u>Perbarui-menang peta</u> <br><br>  Pembaruan diutamakan, atau lebih tepatnya, membatalkan operasi sebelumnya untuk menghapus rmv simultan. <br><br>  Contoh: dalam game online, karakter Alice pada replika B dihapus karena tidak aktif, tetapi aktivitas terjadi pada replika A pada saat yang sama.  Jelas, operasi penghapusan harus dibatalkan. <br><br><div style="text-align:center;"><img width="700" src="https://habrastorage.org/webt/63/oz/5y/63oz5yzch4ioguyram3erawkzl0.png"></div><br>  Ada satu efek menarik ketika bekerja dengan implementasi seperti itu - misalkan kita memiliki dua replika, A dan B, dan mereka menyimpan set dengan beberapa kunci k.  Kemudian, jika A menghapus nilai kunci k, dan B menghapus semua elemen set, maka pada akhirnya replika akan meninggalkan set kosong dengan kunci k. <br><br>  Perhatikan bahwa implementasi naif tidak akan berfungsi dengan benar - Anda tidak bisa dengan mudah membatalkan semua operasi penghapusan sebelumnya.  Dalam contoh berikut, dengan pendekatan ini, kondisi akhir akan menjadi kondisi awal, yang tidak benar: <br><br><div style="text-align:center;"><img width="700" src="https://habrastorage.org/webt/mp/un/hm/mpunhmkzj125hqob4net7iq7kc4.png"></div><br><h2>  Daftar </h2><br>  Masalah dengan jenis ini adalah bahwa indeks item pada replika yang berbeda akan berbeda setelah operasi penyisipan / penghapusan lokal.  Untuk mengatasi masalah ini, pendekatan Transformasi Operasional diterapkan - ketika menerapkan perubahan yang diperoleh, indeks elemen dalam replika asli harus diperhitungkan. <br><br><h1>  7. Riak </h1><br>  Sebagai contoh, pertimbangkan CRDT di Riak: <br><br><ul><li>  Counter: PN-Counter </li><li>  Atur: ATAU-Atur </li><li>  Peta: Perbarui-menangkan Peta CRDT </li><li>  (Boolean) Bendera: ATAU-Tetapkan di mana maksimum 1 elemen </li><li>  Daftar: pasangan (nilai, cap waktu) </li></ul><br><h1>  8. Siapa yang menggunakan CRDT </h1><br>  Bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wiki</a> berisi contoh-contoh bagus. <br><br><h1>  9. Referensi </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Toko Key-CRDT</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Datatype JSON Replika Bebas-Konflik</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sebuah studi komprehensif Tipe Data Replikasi Konvergen dan Komutatif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tipe Data Replikasi Konvergen dan Komutatif</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jenis data direplikasi bebas konflik</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Bluffers untuk CRDT di Riak</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CRDT: PEMBARUAN (atau hanya PUT)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jenis Data Replikasi yang bebas konflik: Tinjauan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jenis Konsistensi Akhirnya yang Kuat dan Jenis Data Replikasi yang bebas konflik</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Struktur Data Yang Akhirnya Konsisten</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id418897/">https://habr.com/ru/post/id418897/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id418883/index.html">GitLab di NAS</a></li>
<li><a href="../id418885/index.html">Crispr dapat mempercepat proses alami dan mengubah cara makanan ditanam</a></li>
<li><a href="../id418887/index.html">Seberapa cepat alam semesta mengembang?</a></li>
<li><a href="../id418889/index.html">Panduan Pengujian Aplikasi Manual: Manfaat, Langkah, dan Metodologi</a></li>
<li><a href="../id418891/index.html">Kami memeriksa kode sumber Android menggunakan PVS-Studio, atau tidak ada yang sempurna</a></li>
<li><a href="../id418899/index.html">Kesan dan tindakan pertama setelah memutakhirkan MySQL dari versi 5.7 ke 8.0.11</a></li>
<li><a href="../id418901/index.html">Rusia memenangkan mayoritas medali emas di Olimpiade Ilmu Komputer Eropa eJOI 2018</a></li>
<li><a href="../id418903/index.html">Ilmuwan: CO₂ di Mars tidak cukup untuk menghangatkan atmosfer. Ledakan tiang tidak akan membantu</a></li>
<li><a href="../id418905/index.html">InlineKeyboard di Telegram Bots</a></li>
<li><a href="../id418907/index.html">Cara mengajar Zabbix untuk mengirim pemberitahuan masalah langsung ke desktop</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>