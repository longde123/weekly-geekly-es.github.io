<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♓️ 💬 🧑🏿‍🤝‍🧑🏼 Inhaltsblockierung, Erweiterung für Chrom-Browser 🎅🏾 🗻 🔖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mit dem diesjährigen Haupttrend des "Blockierens", der unten beschriebenen Erweiterung, können Sie die Macht über Inhalte im Browser spüren. 


 Ich e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Inhaltsblockierung, Erweiterung für Chrom-Browser</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425361/">  Mit dem diesjährigen Haupttrend des "Blockierens", der unten beschriebenen Erweiterung, können Sie die Macht über Inhalte im Browser spüren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5z/xa/qt/5zxaqtw2ht7fmiwgbaqfjeuiswq.png"></div><br>  Ich erinnere mich lange, in der Kindheit, als ich fernsah, während Anzeigenblöcken gab es immer eine Pause wie eine Schulpause, in die Küche oder in eine Latrine zu gehen, auf andere Kanäle umzuschalten, eine Rauchpause wurde mit dem Alter hinzugefügt. <br><br>  Jetzt schaue ich selten fern, lese Nachrichten im Internet und benutze Werbeblocker.  Wenn sie am Telefon anrufen und versuchen, Finanzdienstleistungen oder einen Fensterassistenten durchzusetzen, lege ich auf.  Mit seltenen Ausnahmen gibt es manchmal interessante oder lustige Werbespots, aber selbst solche Videos werden nach dem zweiten Betrachten zu regelmäßiger Werbung. <br><br>  Vor ein paar Jahren habe ich festgestellt, dass auf allen Nachrichtenseiten kein Tag ohne Nachrichten über Blogger vergangen ist: Solche und solche Blogger haben einen Konflikt oder Blogger in der Staatsduma.  Ein Blogger ist so ein "neuer Name" und wie üblich der "am meisten" Blogger aller anderen Blogger.  Gleichzeitig ist es selten, wenn sie Kriterien schreiben, warum er "am meisten, am meisten" ist, damit der Leser Videos ansehen oder im Internet suchen kann, dem nächsten Blogger von "sich selbst".  Blogger führen das neue Wort "zashkvar" ein, Blogger haben sich dagegen gewehrt, Blogger machen ihre eigene Show. <br><br>  Das letzte Jahr über Nachrichtenblogger ist weniger geworden, der Anführer ist jetzt "B ... va", ich erwähne nicht ausdrücklich, es besteht die Gefahr, dass der Artikel in die nächsten Nachrichten über "B ... va" umgewandelt wird, und so gibt es jeden Tag neue Nachrichten.  Journalisten sind oft gezwungen, dem Link mit einem Wortspiel in der Überschrift zu folgen. <br><a name="habracut"></a><br>  Ich würde noch ein paar Beispiele schreiben, werde es aber nicht, denn das oben beschriebene ist kein Versuch, selbst mit Hilfe von Kritik an anderen gut zu sein.  Bei allen Dingen kann es zu Sprengungen oder Überdosierungen kommen.  Ich bin mehr als sicher, dass jeder seine eigenen „Führer“ in den Nachrichten hat, die er lieber nicht sehen würde, ohne sie wäre sein Tag besser geworden. <br><br>  Die obigen Beispiele sind im Wesentlichen eine Art Werbung, aber wenn sie in Form von Nachrichten verbreitet werden, fallen sie nicht unter Werbeblocker.  Viele Browser haben eine integrierte Werbeblockierung, aber leider gibt es keine Möglichkeit, Inhalte durch Wörter im Inhalt zu blockieren.  Ich habe versucht, in den Erweiterungen zu suchen, aber ich habe nicht die mit der richtigen Beschreibung gefunden. Werbeblocker sind mir aufgefallen. Sie schienen in der Lage zu sein, nach Worten zu blockieren, aber ich habe nicht versucht zu wetten.  Ich habe kürzlich mehrere Artikel gesehen, in denen nicht alle Erweiterungen sicher sind. Es ist interessanter, eigene, einfache Artikel zu schreiben, nur mit der erforderlichen Funktion zum Schneiden von Inhalten. <br><br>  Es gibt viele Artikel zum Erstellen von Erweiterungen, aber dieser Artikel ist keine Anleitung zum Erstellen. <br>  Die erste Version der Erweiterung stellte sich in nur wenigen Stunden heraus. Der Schnittalgorithmus ist einfach und universell.  Der Nachteil der Universalität ist, dass der Algorithmus möglicherweise nicht für alle Standorte geeignet ist.  Aber damit die Erweiterung funktioniert, musste ich viel Code schreiben, um die Zähler und den verborgenen Inhalt für jede Seite anzuzeigen. <br><br>  Der Teil content_script.js ist die Hauptlogik zum Blockieren von Inhalten: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> search = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.evaluate(<span class="hljs-string"><span class="hljs-string">'/html/body//*[contains(., "...") and count(child::node())&lt;childsLimit]'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, XPathResult.ORDERED_NODE_ITERATOR_TYPE, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> thisHeading = search.iterateNext(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (thisHeading) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (thisHeading.tagName !== <span class="hljs-string"><span class="hljs-string">'script'</span></span> &amp;&amp; thisHeading.style.display != <span class="hljs-string"><span class="hljs-string">'none'</span></span>) { thisHeading.style.display = <span class="hljs-string"><span class="hljs-string">'none'</span></span>; } thisHeading = search.iterateNext(); }</code> </pre> <br>  Das obige Snippet zeigt, dass die Methode "document.evaluate" verwendet wird.  Bei der Suche nach Text in Tags fallen auch die Stammelemente in die Ergebnisse.  Zum Beispiel der Text der gesamten Seite, der Text des Nachrichtenblocks usw.  Um unnötige Elemente zu eliminieren, wird die zweite Bedingung für die Anzahl der verschachtelten untergeordneten Elemente verwendet.  In meinem Fall ist die Nummer 9 aufgetaucht. Auf drei Websites versteckt sich das Überflüssige schnell und einfach, obwohl manchmal auf einer der Websites in einem bestimmten Block ein Foto vorhanden ist, jedoch ohne Link zu den Nachrichten und Links zum Bild. <br><br>  Ursprünglich war es ein Wunsch, auch eine Seite mit Erweiterungseinstellungen zu erstellen. Vielleicht mache ich das später.  In der Zwischenzeit werden die Grundeinstellungen direkt im Code vorgenommen. <br><br>  Ein Teil von background.js sind Einstellungen zum Blockieren von Inhalten: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> childsLimit = <span class="hljs-number"><span class="hljs-number">9</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blockString = <span class="hljs-string"><span class="hljs-string">'[contains(., "...") and count(child::node())&lt;childsLimit]'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blockOnlyUrlOpt = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> urlOptions = [{<span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'https://exampleSite.com'</span></span>, <span class="hljs-attr"><span class="hljs-attr">unBlock</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">childsLimit</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>}];</code> </pre><br>  Mit der ersten Variablen "childsLimit" können Sie die Gesamtverschachtelungsebene der gesperrten Elemente festlegen. <br><br>  Die zweite Variable "blockString" enthält die xpath-Bedingung. Wenn Sie ein neues Wort hinzufügen, müssen Sie alles zusammen mit eckigen Klammern kopieren und am Ende mit dem Wort "oder" hinzufügen und dann das Suchwort in Anführungszeichen setzen. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blockString = <span class="hljs-string"><span class="hljs-string">'[contains(., "1") and count(.//*)&lt;childsLimit] or [contains(., "2") and count(.//*)&lt;childsLimit]'</span></span>;</code> </pre><br>  Mit der dritten Variablen "urlOptions" können Sie die Einstellungen für verschiedene Sites optimieren. <br>  Eigenschaft "url" - enthält die Adresse, für die die Einstellung angewendet wird. <br>  Die Eigenschaft "unBlock" - der boolesche Wert true ermöglicht es, Inhalte auf der in der "URL" angegebenen Site nicht zu blockieren. <br>  Die Eigenschaft "childsLimit" ist die Verschachtelungsebene des blockierten Inhaltselements. <br>  Mit der vierten Variablen "blockOnlyUrlOpt" können Sie eine gemeinsame Logik definieren.  Wenn der Wert true ist, funktioniert die Blockierung nur auf Sites, die im variablen Array urlOptions aufgeführt sind, wobei die Eigenschaft unBlock false ist. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erweiterungsdateien finden Sie hier.</a> <br><br>  Um zu installieren, müssen Sie: <br><br><ul><li>  Laden Sie alle Dateien in einen für Sie geeigneten Ordner herunter. </li><li>  Gehen Sie im Browser zu Erweiterungen und aktivieren Sie den Entwicklermodus. </li><li>  Geben Sie auf der Schaltfläche "Entpackte Erweiterung herunterladen ..." den Ordner ab Punkt eins an. </li></ul><br>  Entwickelt und getestet im Opera-Browser, sollten auch andere Chrom-Browser funktionieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de425361/">https://habr.com/ru/post/de425361/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425351/index.html">Heimwerker verlieren ihre Arbeit</a></li>
<li><a href="../de425353/index.html">Die ganze Wahrheit über RTOS. Artikel Nr. 13. Aufgabendatenstrukturen und nicht unterstützte API-Aufrufe</a></li>
<li><a href="../de425355/index.html">Sicherheitsbewertung des ICO-Projekts</a></li>
<li><a href="../de425357/index.html">Wie wir einen 12-stöckigen Technologie-Stack zusammengestellt haben und nicht verrückt geworden sind</a></li>
<li><a href="../de425359/index.html">Die Chinesen verwendeten einen Mikrochip, um amerikanische Computer zu steuern</a></li>
<li><a href="../de425363/index.html">Tipps für studentische Programmierer</a></li>
<li><a href="../de425367/index.html">Das einfachste Arduino-Spiel mit einem 1602-Display - Teil 2</a></li>
<li><a href="../de425369/index.html">KTRU (Katalog von Waren, Werken, Dienstleistungen) oder der Tod des öffentlichen IT-Beschaffungswesens</a></li>
<li><a href="../de425371/index.html">Node.JS: Bibliothek zum Ändern von http-Antworten</a></li>
<li><a href="../de425373/index.html">QA Fest 2018: Rückblick auf die wichtigste QA-Konferenz der Ukraine</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>