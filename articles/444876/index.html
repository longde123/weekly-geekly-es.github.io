<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèæ ‚¨úÔ∏è üïû El arte de analizar 2 o transliterar tu propio marcado üé° üíô üÜò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="+ BONUS: inclusi√≥n mutua de clases entre s√≠ en C ++ 
 Hola Habr! Este art√≠culo es una continuaci√≥n directa del art√≠culo The Art of Parsing o DOM con n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El arte de analizar 2 o transliterar tu propio marcado</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444876/"><h4>  + BONUS: inclusi√≥n mutua de clases entre s√≠ en C ++ </h4><br>  Hola Habr!  Este art√≠culo es una continuaci√≥n directa del art√≠culo The <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art of Parsing o DOM con nuestras propias manos</a> , donde analizamos un documento HTML y construimos sobre una base un √°rbol de sintaxis abstracta (AST) con acceso a cualquier elemento a trav√©s de la indexaci√≥n usando solo la biblioteca est√°ndar de C ++, en otras palabras, aprendimos a <i>analizar por nuestra</i> cuenta Cosas similares a XML.  Perm√≠tame recordarle que el proceso de an√°lisis, o <i>an√°lisis / an√°lisis,</i> consta de dos etapas: <i>an√°lisis l√©xico</i> (an√°lisis de texto en tokens) y creaci√≥n de un AST.  Si examinamos el primero con gran detalle, con ejemplos y c√≥digos fuente, la descripci√≥n del segundo parece una mu√±eca de mariposa vac√≠a, que solo tiene una concha, y el autor extrajo un excelente contenido antes de la publicaci√≥n.  Hab√≠a una raz√≥n, para HTML es realmente f√°cil construir un √°rbol, solo necesitas 4 clases: una etiqueta vac√≠a, un bloque, un nodo de texto y la ra√≠z del documento heredada del bloque.  Hoy dejaremos atr√°s esa simplicidad y crearemos un √°rbol donde las propiedades de los elementos, tanto vac√≠as como de bloque, no estar√°n contenidas en los atributos de las etiquetas, sino directamente en las clases, y para esto tendr√° que crear muchas clases.  Realmente mucho  Construiremos no a partir de simples lenguajes de marcado conocidos, sino que crearemos el nuestro, con las reglas que se muestran en la imagen debajo del corte.  Adem√°s, al final, traduciremos o, m√°s correctamente, <i>traduciremos el</i> documento con el art√≠culo anterior, marcado en nuestro lenguaje, en HTML, y como beneficio adicional, responder√© a los programadores novatos de C ++ a una pregunta trivial pero dif√≠cil de encontrar: ¬øc√≥mo incorporar clases entre s√≠? <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/gp/bv/er/gpbverq2xlourlzxmmmhghayhem.png"><br><br><h2>  Apuntes de gram√°tica </h2><br>  Antes de pasar directamente a construir un √°rbol, refresquemos nuestra memoria y aclaremos algunos de los detalles del trabajo preliminar.  ¬øTodav√≠a recuerdas que toda la sintaxis del lenguaje debe escribirse en forma de una de las gram√°ticas formales libres de contexto, por ejemplo, BNF?  Es solo que es dif√≠cil para los programadores principiantes dominarlos de inmediato, y adem√°s, no se pueden describir todas las reglas posibles con estas gram√°ticas.  En tales casos, si se encuentra en un callej√≥n sin salida y no formula una determinada regla en la forma correcta, puede escribirla como comentarios en lenguaje humano natural, por ejemplo, as√≠: <br><br><pre><code class="html hljs xml">... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number_marker</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number_marker</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> "." {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> "."} " " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span>} !! link ending "&gt;" and image/span ending "]" can't follow "\n" or document start</code> </pre> <br>  Traducci√≥n: el <i>final del enlace "&gt;" y el elemento de imagen / en l√≠nea "]" no pueden seguir inmediatamente al inicio de una l√≠nea o documento</i> . <br><br>  Es decir, si al principio de la l√≠nea el lexer encuentra "]" o "&gt;", debemos indicarle que ignore el significado especial de estos caracteres y trabaje con ellos como si fuera texto sin formato.  Esta forma de agregar comentarios a la gram√°tica no es la √∫nica; puede hacerlo a su manera.  Al final, el archivo con la descripci√≥n de la sintaxis no es un documento final, nadie lo obliga a seguir todas las reglas y solo es importante que se sienta c√≥modo trabajando con √©l.  Lo principal es no olvidarse de los comentarios realizados y reflejarlos en las secciones correctas del c√≥digo. <br><br>  Veamos una descripci√≥n completa de este idioma: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag">&gt;</span></span> = {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article_item</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article_item</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">underline</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> (* ARTICLE ITEMS *) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">underline</span></span></span><span class="hljs-tag">&gt;</span></span> = "___" {"_"} "\n" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paragraphs</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quote</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cite</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unordered_list</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ordered_list</span></span></span><span class="hljs-tag">&gt;</span></span> (* SECTION ITEMS *) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paragraphs</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paragraph</span></span></span><span class="hljs-tag">&gt;</span></span> {"\n" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paragraph</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">paragraph</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} ("\n" | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">END</span></span></span><span class="hljs-tag">&gt;</span></span>) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bold</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">italic</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">underlined</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">overlined</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">throwlined</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subscript</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">superscript</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">marked</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">monospace</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">notification</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">signs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">left_angle_bracket</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">right_angle_bracket</span></span></span><span class="hljs-tag">&gt;</span></span> ("\n" | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">END</span></span></span><span class="hljs-tag">&gt;</span></span>) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">signs</span></span></span><span class="hljs-tag">&gt;</span></span> "######" | "#####" | "####" | "###" | "##" | "#" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">quote</span></span></span><span class="hljs-tag">&gt;</span></span> = "&gt; " {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} ("\n" | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">END</span></span></span><span class="hljs-tag">&gt;</span></span>) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cite</span></span></span><span class="hljs-tag">&gt;</span></span> = "&gt;&gt;" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> ("\n" | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">END</span></span></span><span class="hljs-tag">&gt;</span></span>) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span>} (* PARAGRAPH ITEMS *) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bold</span></span></span><span class="hljs-tag">&gt;</span></span> = "*[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">italic</span></span></span><span class="hljs-tag">&gt;</span></span> = "%[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">underlined</span></span></span><span class="hljs-tag">&gt;</span></span> = "_[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">overlined</span></span></span><span class="hljs-tag">&gt;</span></span> = "^[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">throwlined</span></span></span><span class="hljs-tag">&gt;</span></span> = "~[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subscript</span></span></span><span class="hljs-tag">&gt;</span></span> = "&amp;[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">superscript</span></span></span><span class="hljs-tag">&gt;</span></span> = "+[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">marked</span></span></span><span class="hljs-tag">&gt;</span></span> = "=[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">monospace</span></span></span><span class="hljs-tag">&gt;</span></span> = "`[" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textline</span></span></span><span class="hljs-tag">&gt;</span></span> "\n" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textline</span></span></span><span class="hljs-tag">&gt;</span></span> "\n"} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textline</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">symbol</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">symbol</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">symbol</span></span></span><span class="hljs-tag">&gt;</span></span> = /^[\n]/ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag">&gt;</span></span> = "<span class="hljs-tag"><span class="hljs-tag">&lt;&lt;" &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">&gt;</span></span> "&gt;" {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>} "&gt;" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag">&gt;</span></span> = "[<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">"</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">&gt;</span></span> "&gt;" [<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span>] "]" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">notification</span></span></span><span class="hljs-tag">&gt;</span></span> = (" " | "\n") "@" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">word</span></span></span><span class="hljs-tag">&gt;</span></span> (" " | "\n" | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">END</span></span></span><span class="hljs-tag">&gt;</span></span>) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">word</span></span></span><span class="hljs-tag">&gt;</span></span> = (<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">letter</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span>) {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">letter</span></span></span><span class="hljs-tag">&gt;</span></span> | <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">letter</span></span></span><span class="hljs-tag">&gt;</span></span> = "a" | "b" | "c" | "d" | ... | "_" | "-" <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span> = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" (* LISTS *) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unordered_list</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ordered_list</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span>} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">unordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">marker</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">marker</span></span></span><span class="hljs-tag">&gt;</span></span> = ("*" {"*"}) | ("+" {"+"}) " " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ordered_list_item</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number_marker</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number_marker</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> "." {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> "."} " " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">number</span></span></span><span class="hljs-tag">&gt;</span></span> = <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span> {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">digit</span></span></span><span class="hljs-tag">&gt;</span></span>} !! link ending "&gt;" and image/span ending "]" can't follow "\n" or document start</code> </pre><br>  La √∫ltima vez, fue necesario escribir los terminales y verificar que cada car√°cter entrante cumpla con uno de ellos.  ¬°Pero entonces las terminales eran de un solo car√°cter!  Ahora, adem√°s de resaltar los terminales, es necesario dividirlos en <i>teclas</i> , es decir, caracteres.  ¬øPor qu√© son las "llaves"?  Son clave para el lexer.  Como resultado de todas las acciones, aparecer√°n las siguientes l√≠neas en el archivo de gram√°tica: <br><br><pre> <code class="html hljs xml">(* TERMINALS *) "___...", "\n", "\n\n", "&gt; ", "&gt;&gt;...", "###...[", "*[", "%[", "_[", "^[", "~[", "&amp;[", "+[", "=[", "`[", "]", "<span class="hljs-tag"><span class="hljs-tag">&lt;&lt;", "[&lt;", "&gt;</span></span>", " @... ", "\n@...\n", " @...\n", "\n@... ", "***... ", "+++... ", "123.56. " (* KEYS *) "_", "\n" "&gt;", "#", "*", "%", "^", "~", "&amp;", "+", "=", "`", "<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">",</span></span></span><span class="hljs-tag"> "[", "]", " ", "@", "</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1..9</span></span></span><span class="hljs-tag">", "</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span><span class="hljs-tag">", &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">END</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h2>  Pila de tipos esperados de tokens </h2><br>  La √∫ltima vez, nuevamente, todo fue m√°s simple, solo ten√≠amos 10 tipos de tokens, sin contar el final, y hab√≠a menos posibilidades de confundirnos en este zool√≥gico de tokens.  Ahora, obviamente, hay m√°s tipos.  Perm√≠tame recordarle que la tarea del lexer es dejar el analizador con el menor trabajo posible, idealmente, solo construyendo un √°rbol.  Por lo tanto, el conjunto de tipos de tokens debe reflejar su esencia con la mayor precisi√≥n posible.  En el primer art√≠culo di un ejemplo de un buen conjunto, en este lo dar√© junto con un "anti-ejemplo".  ¬øVer terminales que comienzan con elementos de texto en l√≠nea (negrita - negrita, cursiva - cursiva, etc.)?  Podr√≠amos analizarlos en un par de tokens: el maestro ("*", "%", etc.) y el esclavo ("[") y pasarlo en forma al analizador.  Es f√°cil adivinar que es mejor hacer una definici√≥n exacta de un elemento de texto a nivel lexer, es decir.  defina "* [" como "bold_start", "% [" como "italic_start", etc.  Cuantos m√°s tipos y con mayor precisi√≥n se reflejen, mejor.  Adem√°s, el segundo es m√°s importante que el primero.  Por ejemplo, podr√≠amos analizar la notificaci√≥n para el s√≠mbolo "@" y el nombre de usuario, pero obviamente, es mejor dejarlos combinados en un token. <br>  Bueno, decidimos los tipos.  ¬øD√≥nde comenzar el procedimiento para analizar el texto en tokens?  Como entonces, comience desde el principio.  ¬øQu√© puede seguir inmediatamente al comienzo del documento analizado?  No te apresures a doblar los dedos.  A diferencia de HTML, los 22 tipos aqu√≠ pueden comenzar.  Est√° bien, armado con un poco de unificaci√≥n, escribimos as√≠: <br><br><pre> <code class="cpp hljs">curr_token_type = TEXT | UNDERLINE | TITLE_START | QUOTE_START | CITE | BOLD_START | ...</code> </pre> <br>  y en la funci√≥n de procesamiento de s√≠mbolos: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TEXT | UNDERLINE | TITLE_START | QUOTE_START | CITE | ...</code> </pre> <br>  Si no comprende lo que est√° en juego, lea el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primer art√≠culo</a> . <br><br>  No tengas miedo del tipo gen√©rico largo de token esperado.  El primer car√°cter de la cadena reduce inmediatamente su longitud a 2-4 tipos.  Dado que nuestros terminales son de varios caracteres, la definici√≥n se basa en las teclas. <br><br>  Es simple, compru√©belo usted mismo: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c == <span class="hljs-string"><span class="hljs-string">'_'</span></span>) { buffer.push_back(<span class="hljs-string"><span class="hljs-string">'_'</span></span>); curr_token_type = TEXT | UNDERLINE | UNDERLINED_START;</code> </pre><br>  El gui√≥n bajo determin√≥ de inmediato el token en construcci√≥n en uno de tres tipos: texto plano, l√≠nea horizontal o el comienzo del texto subrayado ("_ ["). <br><br>  Volviendo al problema, ¬øc√≥mo hacer un seguimiento de todos los tipos gen√©ricos y recordar procesarlos todos?  ¬°Obt√©n una pila ... en un cuaderno!  As√≠ es, escriba todos los tipos gen√©ricos que aparecen despu√©s de "curr_token_type = ..." en la lista, y despu√©s de procesar uno, tome el otro de la lista desde el final.  Puede organizar el trabajo con la lista y, como con la cola, no importa mucho.  Lo principal es que no olvidar√° qu√© tipos ya est√°n procesados ‚Äã‚Äãy cu√°les a√∫n deben procesarse. <br><br><h2>  √Årbol de clase </h2><br>  Finalmente, llegamos al an√°lisis.  Aqu√≠ debe determinar las clases de nodos (nodos) del √°rbol futuro de la misma manera que determinamos con los tipos de tokens.  Para hacer esto, abra el cuaderno nuevamente y escriba lo siguiente: <br><br><pre> <code class="cpp hljs">Node { Node * parent, Node_type type } #- Root { Root_item[] children, ulong children_count }</code> </pre><br>  As√≠ que definimos la futura clase base de todos los nodos y su derivada: la ra√≠z del √°rbol, es decir, el documento en s√≠.  Un documento (consulte el BPF anterior) consta de dos tipos de nodos: una secci√≥n y una l√≠nea horizontal (subrayado).  Definimos la clase base Root_item para ellos y describimos cada uno de la misma manera que describimos la ra√≠z.  Adem√°s, aqu√≠, en el bloc de notas, indicamos inmediatamente todos los dem√°s campos de las clases, si los hay.  Para la ra√≠z, este es el n√∫mero de "hijos", es decir,  secciones internas y lineas horizontales.  La secci√≥n consta de elementos para los cuales definiremos la clase base Div y as√≠ sucesivamente, movi√©ndonos recursivamente a trav√©s de la gram√°tica, determinaremos todas las clases que son necesarias.  Antes de escribir el c√≥digo, definimos aqu√≠ toda la inclusi√≥n de encabezados.  Es simple: todos los descendientes directos de las clases b√°sicas generalizadas deben incluirse en las clases que los contienen. <br><br>  Denotamos estas dependencias en forma de listas despu√©s de la red, y obtenemos el siguiente documento: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Node</span></span> { Node * parent, Node_type type } <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Root</span></span> { Root_item[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Underline</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Section</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Root_item</span></span> {} <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Underline</span></span> {} <span class="hljs-selector-tag"><span class="hljs-selector-tag">Section</span></span> { Div[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Paragraph</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Title</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Quote</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Cite</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Unordered_list</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Ordered_list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Div</span></span> {} <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Paragraph</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Title</span></span> { char level, Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Quote</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Cite</span></span> { ulong number } <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Unordered_list</span></span> { Div } <span class="hljs-selector-id"><span class="hljs-selector-id">#Paragraph</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Title</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Quote</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Cite</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Ordered_list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Ordered_list</span></span> { Div } <span class="hljs-selector-id"><span class="hljs-selector-id">#Paragraph</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Title</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Quote</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Cite</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">Unordered</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">list</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Span</span></span> {} <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Bold</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Italic</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Underlined</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Overlined</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Throwlined</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Subscript</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Superscript</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Marked</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Monospace</span></span> { Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Link</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Text</span></span> { string text } <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Image</span></span> { string src, string alt } <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Link</span></span> { string URL, Span[] children, ulong children_count } <span class="hljs-selector-id"><span class="hljs-selector-id">#Bold</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Italic</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Underlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Overlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Throwlined</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Subscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Superscript</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Marked</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Monospace</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Text</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Image</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#Notification</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Notification</span></span> { string user } <span class="hljs-selector-id"><span class="hljs-selector-id">#-</span></span></code> </pre><br>  Aqu√≠ marqu√© "# -" la ausencia de dependencias y elimin√© la inclusi√≥n de clases en s√≠ mismos. <br>  Notamos que todas las clases de formato incorporadas (negrita, cursiva, ...) dependen unas de otras y, adem√°s, de la clase Link, que tambi√©n depende de ellas.  En una posici√≥n similar est√°n Unordered_list y Ordered_list.  Incluir encabezados entre s√≠ no solo llevar√° a ignorar uno de ellos, como se esperaba, sino que no pasar√° la validaci√≥n por parte del preprocesador, y la inclusi√≥n unidireccional no nos permitir√° declarar dentro de la clase incluida la funci√≥n de abrir el elemento de clase y devolverle el enlace.  Como ser  Hay dos formas <br><br><h2>  Inclusi√≥n de clases entre s√≠. </h2><br>  Primero, mire las clases en negrita, cursiva, etc. en Monospace.  Son iguales  Tanto es as√≠ que se pueden combinar en una clase "en l√≠nea".  Quiz√°s esta decisi√≥n suscite dudas.  Tambi√©n me caus√≥, pero en la pr√°ctica, la diferencia entre ellos solo afect√≥ la forma de presentaci√≥n en forma de √°rbol en el terminal y las etiquetas en HTML.  Si ve que algunas clases contienen los mismos campos, tienen las mismas dependencias y generalmente tienen una descripci√≥n similar en la gram√°tica formal, no dude en combinarlas.  Entonces lo hace m√°s f√°cil para usted y el procesador. <br><br>  Pero tal truco no funcionar√° con la clase Link, porque contiene un campo adicional: la cadena URL.  Usaremos el segundo m√©todo. <br><br>  ¬øTodos saben que separar clases en declaraciones y definiciones es una buena forma en la programaci√≥n en C ++?  En el encabezado con la extensi√≥n .h o .hpp - declaraci√≥n, en la fuente con la extensi√≥n .cpp - definici√≥n, ¬øverdad?  Y ahora recurro a los reci√©n llegados a la programaci√≥n: si√©ntense y abr√≥chense los cinturones de seguridad, porque ser√° desagradable.  Despu√©s de todo, lo que prescribimos en un archivo con la extensi√≥n .h no es m√°s que <b>una definici√≥n de</b> clase.  Y en el archivo .cpp, ya hay una <b>implementaci√≥n de los m√©todos de</b> esta clase.  No entiendo?  Fuimos enga√±ados en la escuela.  Una clase se declara como una funci√≥n, en una sola l√≠nea, si no contiene plantillas. <br><br>  Incluso m√°s f√°cil que una funci√≥n, porque no tiene argumentos.  Aqu√≠ hay una <i>declaraci√≥n de</i> clase t√≠pica: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class">;</span></span></code> </pre> <br>  ¬°Y eso es todo!  Y las declaraciones de campos y m√©todos ya son su <i>definici√≥n</i> . <br><br>  Aprovecharemos esto.  Incluimos el t√≠tulo de la clase Inline en el t√≠tulo de la clase Link, y en √©l declaramos la clase Link antes de <i>definir</i> la clase Inline.  El archivo inline.h deber√≠a verse as√≠: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> INLINE_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> INLINE_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"AST/span.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"AST/text.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"AST/image.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"AST/notification.h"</span></span></span><span class="hljs-meta"> class Link; class Inline : public Span { public: static const unsigned long MAX_CHILDREN_COUNT = 0xFFFFFF; private: Span ** children; unsigned long children_count; unsigned long extended; void extend(); public: Inline(const Node * parent, const Node_type &amp;type); Inline(const Span * span); ~Inline(); Inline * add_text(const string &amp;text); Inline * add_image(const string &amp;src, const string &amp;alt); Inline * add_notification(const string &amp;user); Link * open_link(const string &amp;URL); ...</span></span></code> </pre><br>  La clase Inline todav√≠a no sabe nada sobre la clase Link, sus campos y m√©todos, pero sabe con certeza sobre su existencia.  Por lo tanto, podemos declarar m√©todos que devuelven un <u>puntero</u> a un objeto de la clase Link, o aceptarlo como argumento.  La palabra <i>puntero</i> no se seleccion√≥ al azar, la clase Inline a√∫n no sabe c√≥mo construir objetos de tipo Link, ya que no tiene acceso a su constructor, pero puede funcionar con todos los punteros, porque  Todos tienen la misma interfaz.  Pero no necesitamos objetos aqu√≠.  Pero en la implementaci√≥n del m√©todo open_link, se crea un objeto de tipo Link y se devuelve un puntero al mismo, lo que significa que para cuando el preprocesador ingrese a este m√©todo, el constructor y otros m√©todos Link que el m√©todo open_link pueda necesitar deber√≠an declararse.  Aqu√≠ aprovechamos la divisi√≥n del c√≥digo fuente en archivos separados con encabezados e implementaci√≥n.  El archivo inline.h est√° incluido en el archivo inline.cpp ("undercloud"), pero el archivo link.h no est√° incluido en inline.h.  Por lo tanto, incluirlo en inline.cpp ser√° la primera inclusi√≥n para el preprocesador.  Entonces el archivo inline.cpp comenzar√° as√≠: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"inline.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"link.h"</span></span></span><span class="hljs-meta"> ...</span></span></code> </pre><br>  Repito todo lo anterior.  Incluimos el t√≠tulo de la clase Ah en el t√≠tulo de la clase Bh como de costumbre, y declaramos la clase B frente a la clase A e incluimos su t√≠tulo en la fuente A.cpp.  Este m√©todo no es el √∫nico, sino el m√°s simple, en mi opini√≥n. <br><br>  Observo que esta inclusi√≥n mutua de clases no evita que la clase B herede de la clase A, si escribimos su <i>declaraci√≥n</i> antes de la <i>definici√≥n de la</i> clase A. Eso es exactamente lo que hice, heredar Ordered_list de Unordered_list. <br><br><h2>  Construir un √°rbol </h2><br>  Entonces, llegamos a la construcci√≥n de un √°rbol de sintaxis abstracta.  En el √∫ltimo art√≠culo, la funci√≥n encaja en 50 l√≠neas.  Spoiler: esta vez ha crecido hasta casi 1400. El principio de funcionamiento es el mismo: verificamos el tipo de cada token y, dependiendo de ello, ejecutamos una determinada secci√≥n de c√≥digo, almacenando un nodo de √°rbol abierto en la memoria.  Pero solo si, para analizar HTML, casi todas las secciones contienen uno y solo uno de los tres comandos: agregue un nodo vac√≠o dentro del abierto, abra un nuevo nodo en el abierto y cierre el nodo abierto, devolviendo su padre, entonces la acci√≥n deseada aqu√≠ todav√≠a depende del tipo de nodo abierto.  Por ejemplo, si el token de "l√≠nea horizontal" entr√≥ en proceso y el nodo abierto es la ra√≠z del documento, entonces todo lo que se necesita es agregar una l√≠nea a este nodo abierto usando la conversi√≥n y la funci√≥n con el nombre condicional add_line (), algo as√≠: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == Node::ROOT) static_case&lt;Root*&gt;(open_node)-&gt;add_line();</code> </pre><br>  Pero si el nodo abierto es un p√°rrafo (P√°rrafo), primero debe cerrarlo y todos los posibles antepasados ‚Äã‚Äã(listas con vi√±etas y numeradas) hasta que el nodo abierto se vuelva del tipo "secci√≥n", y luego tambi√©n ci√©rrelo: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type == Node::PARAGRAPH) { open_node = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;Paragraph*&gt;(open_node)-&gt;close(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (open_node-&gt;get_type() != Node::SECTION) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (open_node-&gt;get_type() == Node::UNORDERED_LIST) open_node = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;Unordered_list*&gt;(open_node)-&gt;close(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (open_node-&gt;get_type() == Node::UNORDERED_LIST) open_node = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;Unordered_list*&gt;(open_node)-&gt;close(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (open_node-&gt;get_type() == Node::PARAGRAPH) open_node = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;Paragraph*&gt;(open_node)-&gt;close(); } open_node = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;Section*&gt;(open_node)-&gt;close(); open_node = tree-&gt;add_line(); }</code> </pre><br>  Si el nodo abierto es un t√≠tulo de la imagen, entonces la l√≠nea horizontal rompe la gram√°tica por completo, y se debe lanzar una excepci√≥n, y si el nodo abierto no es un enlace, y el token entrante "&gt;" tiene el tipo "LINK_FINISH", debe procesarse no como el final del enlace, sino c√≥mo texto, etc. <br><br>  Por lo tanto, el √°rbol de cambio / caso, que verifica el tipo de token entrante, debe contener otro √°rbol de cambio / caso, que verifica el tipo de nodo abierto.  Al principio es dif√≠cil abordar una construcci√≥n de este tipo, pero no es necesario comenzar desde el principio, desde la primera condici√≥n.  Puede crear un documento est√°ndar marcado por su idioma / que contenga un script en su idioma e implementar condiciones a lo largo del documento, verificando el resultado enviando un √°rbol pseudogr√°fico al terminal.  Tom√© el art√≠culo anterior como tal documento, el primer token recibido es el comienzo del t√≠tulo.  Entonces, procesamos el token con el tipo TITLE_START.  Los siguientes son el texto del encabezado y el corchete de cierre, procesamos tokens de los tipos TEXT y SPAN_OR_IMAGE_FINISH. <br><br>  Despu√©s de eso, ya tendremos ese mini √°rbol: <br><br><pre> <code class="plaintext hljs">&lt;article&gt; | +-&lt;section&gt; | +-&lt;h1&gt; | +-"   DOM  "</code> </pre><br>  En el camino, notar√° que algunas clases incluyen los mismos m√©todos con los mismos algoritmos.  Por ejemplo, las clases de p√°rrafo de p√°rrafo y las citas de citas abren enlaces de la misma manera y les agregan texto.  En tales casos, la mejor soluci√≥n cuando se refactoriza es crear una clase con estos m√©todos y heredar de ella los nodos necesarios.  Trat√© de implementar esto, pero mis habilidades no fueron suficientes, y me confund√≠ con la ambig√ºedad al lanzar, as√≠ que solo doy los resultados del lexer y el analizador: <br><br><div class="spoiler">  <b class="spoiler_title">El articulo mismo</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">@2che &gt;&gt;442964 #[   DOM  ] , !          markdown,       ,   ‚Äî           ¬´ ¬ª,     .   ,    ,    , ,  LibreOffice Writer,  %[ ],   ‚Äî %[].     ,        ¬´parser example¬ª, ¬´html to DOM¬ª, ¬´how to parse html¬ª  .   ,              ,    ,   flex, bison, llvm  yacc. ,      ,    (gumbo, jsoup, rapidjson,  Qt  .)  ,              C++     ,              .  ,        AST (  ),    ,      ,       .  , ‚Äî    ‚Äî       ,       .           .           ,      .    ,    ,     .    HTML,      .  , ,  %[ ] ‚Äî         .      : 1. *[ ]    ‚Äî    ,    . 2. *[ ] ‚Äî        %[  ] (AST ‚Äî abstract syntax tree),  %[  ] (DOM ‚Äî document object model).    .  ,     IDE   ,     .   -    ‚Äî %[ - ()]  %[  -].    ,     .        : &gt; `[&lt;&gt; = &lt;_1&gt; &lt;_&gt; &lt;_2&gt;]       ,    . ,   ,     ¬´¬ª   ..   ?            : %[]  %[]. *[] ‚Äî ,  : &gt; `[&lt;_1&gt; = &lt;&gt; (&lt;_&gt; | &lt;_&gt;) &lt;&gt;] *[] ,    .      : &gt; `[&lt;&gt; = &lt;_1&gt; "+" &lt;_2&gt; &lt;_1&gt; = &lt;&gt; ("*" | "/") &lt;&gt;]  "+", "*", "/" ‚Äî .      ,          , ‚Äî   .       &lt;&lt;https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0_%D0%91%D1%8D%D0%BA%D1%83%D1%81%D0%B0_%E2%80%94_%D0%9D%D0%B0%D1%83%D1%80%D0%B0&gt;&gt;  &lt;&lt;https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D1%84%D0%BE%D1%80%D0%BC%D0%B0_%D0%91%D1%8D%D0%BA%D1%83%D1%81%D0%B0_%E2%80%94_%D0%9D%D0%B0%D1%83%D1%80%D0%B0&gt;&gt;.    ‚Äî    ,   .          ,     . ,     , ,        .     ,             ,        ,   . ,    .     HTML5   : &gt; `[stub]   ,      (   , ..  ,      ).     :  ,                , ? ,       ,  .  .  ,  disassemble(ifsteam &amp;file)   ,             process(const char &amp;c),    . ,   process   switch,              .     :    switch    ,     .  ,       ,   . ,      : , ,  ,      HTML    ( PHP,   "&lt;?‚Ä¶ ?&gt;".        case.   ?    .       (  ‚Äî  ,      ‚Äî      ).         (1, 2, 4, 8  .).        : 0001, 0010, 0100  ..,           .      ,  .   : &gt; `[enum Token_type { END = 1, TEXT = 2, OPENING_BLOCK_TAG_NAME = 4, CLOSING_BLOCK_TAG_NAME = 8, EMPTY_TAG_NAME = 16, COMMENT = 32, MACRO_TAG = 64, ATTRIBUTE_NAME = 128, UNQUOTED_ATTRIBUTE_VALUE = 256, SINGLE_QUOTED_ATTRIBUTE_VALUE = 512, DOUBLE_QUOTED_ATTRIBUTE_VALUE = 1024 };]   process: &gt; `[stub]    switch    ( ),    case       .    ,    :     ,      ,      (),   .               .       ()    ,      ¬´¬ª  ..         gedit: [&lt;https://hsto.org/webt/72/fw/tw/72fwtwt_waeie4ulzftkxua356w.png&gt;]     ,           .     disassemble: &gt; `[stub]        TEXT,       END    ( ,  ).         HTML-  ,    - PHP,         "[ "&lt;_&gt;": &lt;_&gt; ]".   : &gt; =[ `[stub]] =[ `[stub]]        ‚Äî   .     ,             -.         DOM,    .        HTML-?   ‚Äî      ,         ,     ‚Äî   ¬´Node¬ª,     ¬´Block¬ª (,     )       ¬´Root¬ª.      ,    , ,  &lt;p&gt;, &lt;li&gt;, &lt;strong&gt;  ,      .    .      ,    ‚Äî            :     ,     ,    .   ,   ,    Node,   ,    .    %[  ].  : &gt; `[stub]   !     ,      : `[| +--&lt;ROOT&gt; | +--&lt;!DOCTYPE&gt; | +--&lt;html&gt; | +--&lt;head&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;meta&gt; | | | +--&lt;title&gt; | | | +--&lt;link&gt; | | | +--&lt;link&gt; | | | +--&lt;COMMENT&gt; | +--&lt;body&gt; | +--&lt;header&gt; | | | +--&lt;div&gt; | +--&lt;nav&gt; | | | +--&lt;ul&gt; | | | +--&lt;li&gt; | | | | | +--&lt;a&gt; | | | +--&lt;li&gt; | | | | | +--&lt;a&gt; | | | +--&lt;li&gt; | | | +--&lt;a&gt; | +--&lt;main&gt; | | | +--&lt;MACRO&gt; | +--&lt;footer&gt; | +--&lt;hr&gt; | +--&lt;small&gt;] ,       DOM,   jQuery, Jsoup, beautifulsoup  Gumbo   ,   ,       ,     &lt;style&gt;  &lt;script&gt;,      .   ,     . . PS     &lt;&lt;https://gitlab.com/2che/nyHTML&gt;&gt;. , ,      .</code> </pre></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichas del lexer</font></font></b> <div class="spoiler_text"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0: ["2che": NOTIFICACI√ìN]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1: ["</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
": NEWLINE]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2: ["442964": CITA]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3: ["# [": TITLE_START]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4: ["El arte de analizar o DOM de bricolaje": TEXTO]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5: ["]": SPAN_OR_IMAGE_FINISH]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6: ["</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
": DOUBLE_NEWLINE]</font></font><font></font>
7: [ ", !          markdown,       ,   ‚Äî           ¬´ ¬ª,     .   ,    ,    , ,  LibreOffice Writer,  " : TEXT ]<font></font>
8: [ "%[" : ITALIC_START ]<font></font>
9: [ " " : TEXT ]<font></font>
10: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
11: [ ",   ‚Äî " : TEXT ]<font></font>
12: [ "%[" : ITALIC_START ]<font></font>
13: [ "" : TEXT ]<font></font>
14: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
15: [ ".     ,        ¬´parser example¬ª, ¬´html to DOM¬ª, ¬´how to parse html¬ª  .   ,              ,    ,   flex, bison, llvm  yacc. ,      ,    (gumbo, jsoup, rapidjson,  Qt  .)  ,              C++     ,              .  ,        AST (  ),    ,      ,       ." : TEXT ]<font></font>
16: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
17: [ " , ‚Äî    ‚Äî       ,       .           .           ,      .    ,    ,     .    HTML,      ." : TEXT ]<font></font>
18: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
19: [ " , ,  " : TEXT ]<font></font>
20: [ "%[" : ITALIC_START ]<font></font>
21: [ " " : TEXT ]<font></font>
22: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
23: [ " ‚Äî         .      :" : TEXT ]<font></font>
24: [ "<font></font>
" : NEWLINE ]<font></font>
25: [ "1. " : ORDERED_LIST_ITEM_MARKER ]<font></font>
26: [ "*[" : BOLD_START ]<font></font>
27: [ " " : TEXT ]<font></font>
28: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
29: [ "    ‚Äî    ,    ." : TEXT ]<font></font>
30: [ "<font></font>
" : NEWLINE ]<font></font>
31: [ "2. " : ORDERED_LIST_ITEM_MARKER ]<font></font>
32: [ "*[" : BOLD_START ]<font></font>
33: [ " " : TEXT ]<font></font>
34: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
35: [ " ‚Äî        " : TEXT ]<font></font>
36: [ "%[" : ITALIC_START ]<font></font>
37: [ "  " : TEXT ]<font></font>
38: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
39: [ " (AST ‚Äî abstract syntax tree),  " : TEXT ]<font></font>
40: [ "%[" : ITALIC_START ]<font></font>
41: [ "  " : TEXT ]<font></font>
42: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
43: [ " (DOM ‚Äî document object model)." : TEXT ]<font></font>
44: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
45: [ "   .  ,     IDE   ,     .   -    ‚Äî " : TEXT ]<font></font>
46: [ "%[" : ITALIC_START ]<font></font>
47: [ " - ()" : TEXT ]<font></font>
48: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
49: [ "  " : TEXT ]<font></font>
50: [ "%[" : ITALIC_START ]<font></font>
51: [ "  -" : TEXT ]<font></font>
52: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
53: [ ".    ,     .        :" : TEXT ]<font></font>
54: [ "<font></font>
" : NEWLINE ]<font></font>
55: [ "&gt; " : QUOTE_START ]<font></font>
56: [ "`[" : MONOSPACE_START ]<font></font>
57: [ "&lt;" : TEXT ]<font></font>
58: [ "&gt;" : LINK_FINISH ]<font></font>
59: [ " = &lt;_1" : TEXT ]<font></font>
60: [ "&gt;" : LINK_FINISH ]<font></font>
61: [ " &lt;_" : TEXT ]<font></font>
62: [ "&gt;" : LINK_FINISH ]<font></font>
63: [ " &lt;_2" : TEXT ]<font></font>
64: [ "&gt;" : LINK_FINISH ]<font></font>
65: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
66: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
67: [ "      ,    . ,   ,     ¬´¬ª   .." : TEXT ]<font></font>
68: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
69: [ "  ?" : TEXT ]<font></font>
70: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
71: [ "           : " : TEXT ]<font></font>
72: [ "%[" : ITALIC_START ]<font></font>
73: [ "" : TEXT ]<font></font>
74: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
75: [ "  " : TEXT ]<font></font>
76: [ "%[" : ITALIC_START ]<font></font>
77: [ "" : TEXT ]<font></font>
78: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
79: [ ". " : TEXT ]<font></font>
80: [ "*[" : BOLD_START ]<font></font>
81: [ "" : TEXT ]<font></font>
82: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
83: [ " ‚Äî ,  :" : TEXT ]<font></font>
84: [ "<font></font>
" : NEWLINE ]<font></font>
85: [ "&gt; " : QUOTE_START ]<font></font>
86: [ "`[" : MONOSPACE_START ]<font></font>
87: [ "&lt;_1" : TEXT ]<font></font>
88: [ "&gt;" : LINK_FINISH ]<font></font>
89: [ " = &lt;" : TEXT ]<font></font>
90: [ "&gt;" : LINK_FINISH ]<font></font>
91: [ " (&lt;_" : TEXT ]<font></font>
92: [ "&gt;" : LINK_FINISH ]<font></font>
93: [ " | &lt;_" : TEXT ]<font></font>
94: [ "&gt;" : LINK_FINISH ]<font></font>
95: [ ") &lt;" : TEXT ]<font></font>
96: [ "&gt;" : LINK_FINISH ]<font></font>
97: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
98: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
99: [ "*[" : BOLD_START ]<font></font>
100: [ "" : TEXT ]<font></font>
101: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
102: [ " ,    .      :" : TEXT ]<font></font>
103: [ "<font></font>
" : NEWLINE ]<font></font>
104: [ "&gt; " : QUOTE_START ]<font></font>
105: [ "`[" : MONOSPACE_START ]<font></font>
106: [ "&lt;" : TEXT ]<font></font>
107: [ "&gt;" : LINK_FINISH ]<font></font>
108: [ " = &lt;_1" : TEXT ]<font></font>
109: [ "&gt;" : LINK_FINISH ]<font></font>
110: [ " "+" &lt;_2" : TEXT ]<font></font>
111: [ "&gt;" : LINK_FINISH ]<font></font>
112: [ "<font></font>
" : NEWLINE ]<font></font>
113: [ "&lt;_1" : TEXT ]<font></font>
114: [ "&gt;" : LINK_FINISH ]<font></font>
115: [ " = &lt;" : TEXT ]<font></font>
116: [ "&gt;" : LINK_FINISH ]<font></font>
117: [ " ("*" | "/") &lt;" : TEXT ]<font></font>
118: [ "&gt;" : LINK_FINISH ]<font></font>
119: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
120: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
121: [ " "+", "*", "/" ‚Äî ." : TEXT ]<font></font>
122: [ "<font></font>
" : NEWLINE ]<font></font>
123: [ "     ,          , ‚Äî   ." : TEXT ]<font></font>
124: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
125: [ "      " : TEXT ]<font></font>
126: [ "&lt;&lt;" : LINK_START ]<font></font>
127: [ "https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0_%D0%91%D1%8D%D0%BA%D1%83%D1%81%D0%B0_%E2%80%94_%D0%9D%D0%B0%D1%83%D1%80%D0%B0" : TEXT ]<font></font>
128: [ "&gt;" : LINK_FINISH ]<font></font>
129: [ "" : TEXT ]<font></font>
130: [ "&gt;" : LINK_FINISH ]<font></font>
131: [ "  " : TEXT ]<font></font>
132: [ "&lt;&lt;" : LINK_START ]<font></font>
133: [ "https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D1%84%D0%BE%D1%80%D0%BC%D0%B0_%D0%91%D1%8D%D0%BA%D1%83%D1%81%D0%B0_%E2%80%94_%D0%9D%D0%B0%D1%83%D1%80%D0%B0" : TEXT ]<font></font>
134: [ "&gt;" : LINK_FINISH ]<font></font>
135: [ "" : TEXT ]<font></font>
136: [ "&gt;" : LINK_FINISH ]<font></font>
137: [ ".    ‚Äî    ,   .          ,     . ,     , ,        .     ,             ,        ,   . ,    .     HTML5   :" : TEXT ]<font></font>
138: [ "<font></font>
" : NEWLINE ]<font></font>
139: [ "&gt; " : QUOTE_START ]<font></font>
140: [ "`[" : MONOSPACE_START ]<font></font>
141: [ "stub" : TEXT ]<font></font>
142: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
143: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
144: [ "  ,      (   , ..  ,      ).     :  ,                , ? ,       ,  .  .  ,  disassemble(ifsteam &amp;file)   ,             process(const char &amp;c),    . ,   process   switch,              .     :    switch    ,     .  ,       ,   . ,      : , ,  ,      HTML    ( PHP,   "&lt;?‚Ä¶ ?" : TEXT ]<font></font>
145: [ "&gt;" : LINK_FINISH ]<font></font>
146: [ "".        case.   ?    .       (  ‚Äî  ,      ‚Äî      ).         (1, 2, 4, 8  .).        : 0001, 0010, 0100  ..,           .      ,  .   :" : TEXT ]<font></font>
147: [ "<font></font>
" : NEWLINE ]<font></font>
148: [ "&gt; " : QUOTE_START ]<font></font>
149: [ "`[" : MONOSPACE_START ]<font></font>
150: [ "enum Token_type {" : TEXT ]<font></font>
151: [ "<font></font>
" : NEWLINE ]<font></font>
152: [ " END = 1, TEXT = 2," : TEXT ]<font></font>
153: [ "<font></font>
" : NEWLINE ]<font></font>
154: [ " OPENING_BLOCK_TAG_NAME = 4, CLOSING_BLOCK_TAG_NAME = 8, EMPTY_TAG_NAME = 16, COMMENT = 32, MACRO_TAG = 64," : TEXT ]<font></font>
155: [ "<font></font>
" : NEWLINE ]<font></font>
156: [ " ATTRIBUTE_NAME = 128, UNQUOTED_ATTRIBUTE_VALUE = 256, SINGLE_QUOTED_ATTRIBUTE_VALUE = 512, DOUBLE_QUOTED_ATTRIBUTE_VALUE = 1024" : TEXT ]<font></font>
157: [ "<font></font>
" : NEWLINE ]<font></font>
158: [ "};" : TEXT ]<font></font>
159: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
160: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
161: [ "  process:" : TEXT ]<font></font>
162: [ "<font></font>
" : NEWLINE ]<font></font>
163: [ "&gt; " : QUOTE_START ]<font></font>
164: [ "`[" : MONOSPACE_START ]<font></font>
165: [ "stub" : TEXT ]<font></font>
166: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
167: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
168: [ "   switch    ( ),    case       .    ,    :     ,      ,      (),   .               .       ()    ,      ¬´¬ª  ..         gedit:" : TEXT ]<font></font>
169: [ "<font></font>
" : NEWLINE ]<font></font>
170: [ "[&lt;" : IMAGE_START ]<font></font>
171: [ "https://hsto.org/webt/72/fw/tw/72fwtwt_waeie4ulzftkxua356w.png" : TEXT ]<font></font>
172: [ "&gt;" : LINK_FINISH ]<font></font>
173: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
174: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
175: [ "    ,           .     disassemble:" : TEXT ]<font></font>
176: [ "<font></font>
" : NEWLINE ]<font></font>
177: [ "&gt; " : QUOTE_START ]<font></font>
178: [ "`[" : MONOSPACE_START ]<font></font>
179: [ "stub" : TEXT ]<font></font>
180: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
181: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
182: [ "       TEXT,       END    ( ,  )." : TEXT ]<font></font>
183: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
184: [ "        HTML-  ,    - PHP,         "[ "&lt;_" : TEXT ]<font></font>
185: [ "&gt;" : LINK_FINISH ]<font></font>
186: [ "": &lt;_" : TEXT ]<font></font>
187: [ "&gt;" : LINK_FINISH ]<font></font>
188: [ " " : TEXT ]<font></font>
189: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
190: [ "".   :" : TEXT ]<font></font>
191: [ "<font></font>
" : NEWLINE ]<font></font>
192: [ "&gt; " : QUOTE_START ]<font></font>
193: [ "=[" : MARKED_START ]<font></font>
194: [ " " : TEXT ]<font></font>
195: [ "`[" : MONOSPACE_START ]<font></font>
196: [ "stub" : TEXT ]<font></font>
197: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
198: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
199: [ "<font></font>
" : NEWLINE ]<font></font>
200: [ "=[" : MARKED_START ]<font></font>
201: [ " " : TEXT ]<font></font>
202: [ "`[" : MONOSPACE_START ]<font></font>
203: [ "stub" : TEXT ]<font></font>
204: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
205: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
206: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
207: [ "       ‚Äî   .     ,             -.         DOM,    ." : TEXT ]<font></font>
208: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
209: [ "       HTML-?" : TEXT ]<font></font>
210: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
211: [ "  ‚Äî      ,         ,     ‚Äî   ¬´Node¬ª,     ¬´Block¬ª (,     )       ¬´Root¬ª.      ,    , ,  &lt;p" : TEXT ]<font></font>
212: [ "&gt;" : LINK_FINISH ]<font></font>
213: [ ", &lt;li" : TEXT ]<font></font>
214: [ "&gt;" : LINK_FINISH ]<font></font>
215: [ ", &lt;strong" : TEXT ]<font></font>
216: [ "&gt;" : LINK_FINISH ]<font></font>
217: [ "  ,      .    .      ,    ‚Äî            :     ,     ,    .   ,   ,    Node,   ,    .    " : TEXT ]<font></font>
218: [ "%[" : ITALIC_START ]<font></font>
219: [ "  " : TEXT ]<font></font>
220: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
221: [ "." : TEXT ]<font></font>
222: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
223: [ " :" : TEXT ]https://gitlab.com/2che/markedit<font></font>
224: [ "<font></font>
" : NEWLINE ]<font></font>
225: [ "&gt; " : QUOTE_START ]<font></font>
226: [ "`[" : MONOSPACE_START ]<font></font>
227: [ "stub" : TEXT ]<font></font>
228: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
229: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
230: [ "  !     ,      :" : TEXT ]<font></font>
231: [ "<font></font>
" : NEWLINE ]<font></font>
232: [ "`[" : MONOSPACE_START ]<font></font>
233: [ "| " : TEXT ]<font></font>
234: [ "<font></font>
" : NEWLINE ]<font></font>
235: [ "+--&lt;ROOT" : TEXT ]<font></font>
236: [ "&gt;" : LINK_FINISH ]<font></font>
237: [ "<font></font>
" : NEWLINE ]<font></font>
238: [ " | " : TEXT ]<font></font>
239: [ "<font></font>
" : NEWLINE ]<font></font>
240: [ " +--&lt;!DOCTYPE" : TEXT ]<font></font>
241: [ "&gt;" : LINK_FINISH ]<font></font>
242: [ "<font></font>
" : NEWLINE ]<font></font>
243: [ " | " : TEXT ]<font></font>
244: [ "<font></font>
" : NEWLINE ]<font></font>
245: [ " +--&lt;html" : TEXT ]<font></font>
246: [ "&gt;" : LINK_FINISH ]<font></font>
247: [ "<font></font>
" : NEWLINE ]<font></font>
248: [ " | " : TEXT ]<font></font>
249: [ "<font></font>
" : NEWLINE ]<font></font>
250: [ " +--&lt;head" : TEXT ]<font></font>
251: [ "&gt;" : LINK_FINISH ]<font></font>
252: [ "<font></font>
" : NEWLINE ]<font></font>
253: [ " | | " : TEXT ]<font></font>
254: [ "<font></font>
" : NEWLINE ]<font></font>
255: [ " | +--&lt;meta" : TEXT ]<font></font>
256: [ "&gt;" : LINK_FINISH ]<font></font>
257: [ "<font></font>
" : NEWLINE ]<font></font>
258: [ " | | " : TEXT ]<font></font>
259: [ "<font></font>
" : NEWLINE ]<font></font>
260: [ " | +--&lt;meta" : TEXT ]<font></font>
261: [ "&gt;" : LINK_FINISH ]<font></font>
262: [ "<font></font>
" : NEWLINE ]<font></font>
263: [ " | | " : TEXT ]<font></font>
264: [ "<font></font>
" : NEWLINE ]<font></font>
265: [ " | +--&lt;meta" : TEXT ]<font></font>
266: [ "&gt;" : LINK_FINISH ]<font></font>
267: [ "<font></font>
" : NEWLINE ]<font></font>
268: [ " | | " : TEXT ]<font></font>
269: [ "<font></font>
" : NEWLINE ]<font></font>
270: [ " | +--&lt;meta" : TEXT ]<font></font>
271: [ "&gt;" : LINK_FINISH ]<font></font>
272: [ "<font></font>
" : NEWLINE ]<font></font>
273: [ " | | " : TEXT ]<font></font>
274: [ "<font></font>
" : NEWLINE ]<font></font>
275: [ " | +--&lt;meta" : TEXT ]<font></font>
276: [ "&gt;" : LINK_FINISH ]<font></font>
277: [ "<font></font>
" : NEWLINE ]<font></font>
278: [ " | | " : TEXT ]<font></font>
279: [ "<font></font>
" : NEWLINE ]<font></font>
280: [ " | +--&lt;meta" : TEXT ]<font></font>
281: [ "&gt;" : LINK_FINISH ]<font></font>
282: [ "<font></font>
" : NEWLINE ]<font></font>
283: [ " | | " : TEXT ]<font></font>
284: [ "<font></font>
" : NEWLINE ]<font></font>
285: [ " | +--&lt;meta" : TEXT ]<font></font>
286: [ "&gt;" : LINK_FINISH ]<font></font>
287: [ "<font></font>
" : NEWLINE ]<font></font>
288: [ " | | " : TEXT ]<font></font>
289: [ "<font></font>
" : NEWLINE ]<font></font>
290: [ " | +--&lt;meta" : TEXT ]<font></font>
291: [ "&gt;" : LINK_FINISH ]<font></font>
292: [ "<font></font>
" : NEWLINE ]<font></font>
293: [ " | | " : TEXT ]<font></font>
294: [ "<font></font>
" : NEWLINE ]<font></font>
295: [ " | +--&lt;meta" : TEXT ]<font></font>
296: [ "&gt;" : LINK_FINISH ]<font></font>
297: [ "<font></font>
" : NEWLINE ]<font></font>
298: [ " | | " : TEXT ]<font></font>
299: [ "<font></font>
" : NEWLINE ]<font></font>
300: [ " | +--&lt;title" : TEXT ]<font></font>
301: [ "&gt;" : LINK_FINISH ]<font></font>
302: [ "<font></font>
" : NEWLINE ]<font></font>
303: [ " | | " : TEXT ]<font></font>
304: [ "<font></font>
" : NEWLINE ]<font></font>
305: [ " | +--&lt;link" : TEXT ]<font></font>
306: [ "&gt;" : LINK_FINISH ]<font></font>
307: [ "<font></font>
" : NEWLINE ]<font></font>
308: [ " | | " : TEXT ]<font></font>
309: [ "<font></font>
" : NEWLINE ]<font></font>
310: [ " | +--&lt;link" : TEXT ]<font></font>
311: [ "&gt;" : LINK_FINISH ]<font></font>
312: [ "<font></font>
" : NEWLINE ]<font></font>
313: [ " | | " : TEXT ]<font></font>
314: [ "<font></font>
" : NEWLINE ]<font></font>
315: [ " | +--&lt;COMMENT" : TEXT ]<font></font>
316: [ "&gt;" : LINK_FINISH ]<font></font>
317: [ "<font></font>
" : NEWLINE ]<font></font>
318: [ " | " : TEXT ]<font></font>
319: [ "<font></font>
" : NEWLINE ]<font></font>
320: [ " +--&lt;body" : TEXT ]<font></font>
321: [ "&gt;" : LINK_FINISH ]<font></font>
322: [ "<font></font>
" : NEWLINE ]<font></font>
323: [ " | " : TEXT ]<font></font>
324: [ "<font></font>
" : NEWLINE ]<font></font>
325: [ " +--&lt;header" : TEXT ]<font></font>
326: [ "&gt;" : LINK_FINISH ]<font></font>
327: [ "<font></font>
" : NEWLINE ]<font></font>
328: [ " | | " : TEXT ]<font></font>
329: [ "<font></font>
" : NEWLINE ]<font></font>
330: [ " | +--&lt;div" : TEXT ]<font></font>
331: [ "&gt;" : LINK_FINISH ]<font></font>
332: [ "<font></font>
" : NEWLINE ]<font></font>
333: [ " | " : TEXT ]<font></font>
334: [ "<font></font>
" : NEWLINE ]<font></font>
335: [ " +--&lt;nav" : TEXT ]<font></font>
336: [ "&gt;" : LINK_FINISH ]<font></font>
337: [ "<font></font>
" : NEWLINE ]<font></font>
338: [ " | | " : TEXT ]<font></font>
339: [ "<font></font>
" : NEWLINE ]<font></font>
340: [ " | +--&lt;ul" : TEXT ]<font></font>
341: [ "&gt;" : LINK_FINISH ]<font></font>
342: [ "<font></font>
" : NEWLINE ]<font></font>
343: [ " | | " : TEXT ]<font></font>
344: [ "<font></font>
" : NEWLINE ]<font></font>
345: [ " | +--&lt;li" : TEXT ]<font></font>
346: [ "&gt;" : LINK_FINISH ]<font></font>
347: [ "<font></font>
" : NEWLINE ]<font></font>
348: [ " | | | " : TEXT ]<font></font>
349: [ "<font></font>
" : NEWLINE ]<font></font>
350: [ " | | +--&lt;a" : TEXT ]<font></font>
351: [ "&gt;" : LINK_FINISH ]<font></font>
352: [ "<font></font>
" : NEWLINE ]<font></font>
353: [ " | | " : TEXT ]<font></font>
354: [ "<font></font>
" : NEWLINE ]<font></font>
355: [ " | +--&lt;li" : TEXT ]<font></font>
356: [ "&gt;" : LINK_FINISH ]<font></font>
357: [ "<font></font>
" : NEWLINE ]<font></font>
358: [ " | | | " : TEXT ]<font></font>
359: [ "<font></font>
" : NEWLINE ]<font></font>
360: [ " | | +--&lt;a" : TEXT ]<font></font>
361: [ "&gt;" : LINK_FINISH ]<font></font>
362: [ "<font></font>
" : NEWLINE ]<font></font>
363: [ " | | " : TEXT ]<font></font>
364: [ "<font></font>
" : NEWLINE ]<font></font>
365: [ " | +--&lt;li" : TEXT ]<font></font>
366: [ "&gt;" : LINK_FINISH ]<font></font>
367: [ "<font></font>
" : NEWLINE ]<font></font>
368: [ " | | " : TEXT ]<font></font>
369: [ "<font></font>
" : NEWLINE ]<font></font>
370: [ " | +--&lt;a" : TEXT ]<font></font>
371: [ "&gt;" : LINK_FINISH ]<font></font>
372: [ "<font></font>
" : NEWLINE ]<font></font>
373: [ " | " : TEXT ]<font></font>
374: [ "<font></font>
" : NEWLINE ]<font></font>
375: [ " +--&lt;main" : TEXT ]<font></font>
376: [ "&gt;" : LINK_FINISH ]<font></font>
377: [ "<font></font>
" : NEWLINE ]<font></font>
378: [ " | | " : TEXT ]<font></font>
379: [ "<font></font>
" : NEWLINE ]<font></font>
380: [ " | +--&lt;MACRO" : TEXT ]<font></font>
381: [ "&gt;" : LINK_FINISH ]<font></font>
382: [ "<font></font>
" : NEWLINE ]<font></font>
383: [ " | " : TEXT ]<font></font>
384: [ "<font></font>
" : NEWLINE ]<font></font>
385: [ " +--&lt;footer" : TEXT ]<font></font>
386: [ "&gt;" : LINK_FINISH ]<font></font>
387: [ "<font></font>
" : NEWLINE ]<font></font>
388: [ " | " : TEXT ]<font></font>
389: [ "<font></font>
" : NEWLINE ]<font></font>
390: [ " +--&lt;hr" : TEXT ]<font></font>
391: [ "&gt;" : LINK_FINISH ]<font></font>
392: [ "<font></font>
" : NEWLINE ]<font></font>
393: [ " | " : TEXT ]<font></font>
394: [ "<font></font>
" : NEWLINE ]<font></font>
395: [ " +--&lt;small" : TEXT ]<font></font>
396: [ "&gt;" : LINK_FINISH ]<font></font>
397: [ "]" : SPAN_OR_IMAGE_FINISH ]<font></font>
398: [ "<font></font>
" : NEWLINE ]<font></font>
399: [ " " : TEXT ]<font></font>
400: [ "<font></font>
" : NEWLINE ]<font></font>
401: [ ",       DOM,   jQuery, Jsoup, beautifulsoup  Gumbo   ,   ,       ,     &lt;style" : TEXT ]<font></font>
402: [ "&gt;" : LINK_FINISH ]<font></font>
403: [ "  &lt;script" : TEXT ]<font></font>
404: [ "&gt;" : LINK_FINISH ]<font></font>
405: [ ",      .   ,     . ." : TEXT ]<font></font>
406: [ "<font></font>
<font></font>
" : DOUBLE_NEWLINE ]<font></font>
407: [ "PS     " : TEXT ]<font></font>
408: [ "&lt;&lt;" : LINK_START ]<font></font>
409: [ "https://gitlab.com/2che/nyHTML" : TEXT ]<font></font>
410: [ "&gt;" : LINK_FINISH ]<font></font>
411: [ "" : TEXT ]<font></font>
412: [ "&gt;" : LINK_FINISH ]<font></font>
413: [ ". , ,      ." : TEXT ]<font></font>
414: [ "<font></font>
" : NEWLINE ]<font></font>
415: [ "" : END ]<font></font>
</pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Årbol de sintaxis</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">&lt;pre&gt;&lt;article&gt; | +-&lt;section&gt; | +-&lt;p&gt; | | | +-@2che | | | +-"\n" | +-&gt;&gt;442964 | +-&lt;h1&gt; | | | +-"   DOM  " | +-&lt;p&gt; | | | +-", !       ..." | | | +-&lt;i&gt; | | | | | +-" " | | | +-",   ‚Äî " | | | +-&lt;i&gt; | | | | | +-"" | | | +-".     ,   ..." | +-&lt;p&gt; | | | +-" , ‚Äî    ‚Äî   ..." | +-&lt;p&gt; | | | +-" , ,  " | | | +-&lt;i&gt; | | | | | +-" " | | | +-" ‚Äî        ..." | | | +-"\n" | | | +-&lt;b&gt; | | | | | +-" " | | | +-"    ‚Äî    ,  ..." | | | +-"\n" | | | +-&lt;b&gt; | | | | | +-" " | | | +-" ‚Äî        " | | | +-&lt;i&gt; | | | | | +-"  " | | | +-" (AST ‚Äî abstract syntax tree),  " | | | +-&lt;i&gt; | | | | | +-"  " | | | +-" (DOM ‚Äî document object model)." | +-&lt;p&gt; | | | +-"   .  ,     ..." | | | +-&lt;i&gt; | | | | | +-" - ()" | | | +-"  " | | | +-&lt;i&gt; | | | | | +-"  -" | | | +-".    ,     .  ..." | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"&lt;" | | | +-"&gt;" | | | +-" = &lt;_1" | | | +-"&gt;" | | | +-" &lt;_" | | | +-"&gt;" | | | +-" &lt;_2" | | | +-"&gt;" | +-&lt;p&gt; | | | +-"      , ..." | +-&lt;p&gt; | | | +-"  ?" | +-&lt;p&gt; | | | +-"      ..." | | | +-&lt;i&gt; | | | | | +-"" | | | +-"  " | | | +-&lt;i&gt; | | | | | +-"" | | | +-". " | | | +-&lt;b&gt; | | | | | +-"" | | | +-" ‚Äî ,  :" | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"&lt;_1" | | | +-"&gt;" | | | +-" = &lt;" | | | +-"&gt;" | | | +-" (&lt;_" | | | +-"&gt;" | | | +-" | &lt;_" | | | +-"&gt;" | | | +-") &lt;" | | | +-"&gt;" | +-&lt;p&gt; | | | +-&lt;b&gt; | | | | | +-"" | | | +-" ,    .   ..." | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"&lt;" | | | +-"&gt;" | | | +-" = &lt;_1" | | | +-"&gt;" | | | +-" "+" &lt;_2" | | | +-"&gt;" | | | +-"\n" | | | +-"&lt;_1" | | | +-"&gt;" | | | +-" = &lt;" | | | +-"&gt;" | | | +-" ("*" | "/") &lt;" | | | +-"&gt;" | +-&lt;p&gt; | | | +-" "+", "*", "/" ‚Äî ." | | | +-"\n" | | | +-"     ,  ..." | +-&lt;p&gt; | | | +-"      " | | | +-&lt;a&gt; | | | | | +-"" | | | +-"  " | | | +-&lt;a&gt; | | | | | +-"" | | | +-".    ‚Äî    ..." | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"  ,     ..." | | | +-"&gt;" | | | +-"".        case.   ..." | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"enum Token_type {" | | | +-"\n" | | | +-" END = 1, TEXT = 2," | | | +-"\n" | | | +-" OPENING_BLOCK_TAG_NAME = 4, CLOSING_BLOCK_TAG_NAME = 8, EMPTY_TAG_NAME = 16, COMMENT = 32, MACRO..." | | | +-"\n" | | | +-" ATTRIBUTE_NAME = 128, UNQUOTED_ATTRIBUTE_VALUE = 256, SINGLE_QUOTED_ATTRIBUTE_VALUE = 512, DOUBL..." | | | +-"\n" | | | +-"};" | +-&lt;p&gt; | | | +-"  process:" | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"   switch    (  ..." | | | +-"\n" | +-&lt;p&gt; | | | +-&lt;img /&gt; | +-&lt;p&gt; | | | +-"    ,   ..." | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"      ..." | +-&lt;p&gt; | | | +-"        HTML- ..." | | | +-"&gt;" | | | +-"": &lt;_" | | | +-"&gt;" | | | +-" " | | | +-"]" | | | +-"".   :" | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;mark&gt; | | | | | +-" " | | | | | +-&lt;pre&gt; | | | | | +-"stub" | | | +-"\n" | | | +-&lt;mark&gt; | | | +-" " | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"       ‚Äî  ..." | +-&lt;p&gt; | | | +-"       HTML-..." | +-&lt;p&gt; | | | +-"  ‚Äî      ,  ..." | | | +-"&gt;" | | | +-", &lt;li" | | | +-"&gt;" | | | +-", &lt;strong" | | | +-"&gt;" | | | +-"  ,      .  ..." | | | +-&lt;i&gt; | | | | | +-"  " | | | +-"." | +-&lt;p&gt; | | | +-" :" | | | +-"\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"  !     ,   ..." | | | +-"\n" | | | +-&lt;pre&gt; | | | | | +-"| " | | | | | +-"\n" | | | | | +-"+--&lt;ROOT" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;!DOCTYPE" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;html" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;head" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;meta" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;title" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;link" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;link" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;COMMENT" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;body" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;header" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;div" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;nav" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;ul" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;li" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | | " | | | | | +-"\n" | | | | | +-" | | +--&lt;a" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;li" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | | " | | | | | +-"\n" | | | | | +-" | | +--&lt;a" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;li" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;a" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;main" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | | " | | | | | +-"\n" | | | | | +-" | +--&lt;MACRO" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;footer" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;hr" | | | | | +-"&gt;" | | | | | +-"\n" | | | | | +-" | " | | | | | +-"\n" | | | | | +-" +--&lt;small" | | | | | +-"&gt;" | | | +-"\n" | | | +-" " | | | +-"\n" | | | +-",       ..." | | | +-"&gt;" | | | +-"  &lt;script" | | | +-"&gt;" | | | +-",      .    ..." | +-&lt;p&gt; | +-"PS     " | +-&lt;a&gt; | | | +-"" | +-". , ,     ..." | +-"\n" &lt;/pre&gt;</code> </pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo es genial, pero hay demasiados nodos de texto en cadena uno tras otro. </font><font style="vertical-align: inherit;">Adem√°s, me gustar√≠a que las citas seguidas se combinen en una sola. </font><font style="vertical-align: inherit;">Para hacer esto, debemos atravesar nuevamente el √°rbol y realizar la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concatenaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es decir, la adhesi√≥n de elementos homog√©neos entre s√≠. </font><font style="vertical-align: inherit;">No explicar√© los detalles de este proceso, adjuntar√© la fuente, pero por ahora solo mire c√≥mo</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Årbol despu√©s de la concatenaci√≥n:</font></font></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">&lt;pre&gt;&lt;article&gt; | +-&lt;section&gt; | +-&lt;p&gt; | | | +-@2che | | | +-"\n" | +-&gt;&gt;442964 | +-&lt;h1&gt; | | | +-"   DOM  " | +-&lt;p&gt; | | | +-", !       ..." | | | +-&lt;i&gt; | | | | | +-" " | | | +-",   ‚Äî " | | | +-&lt;i&gt; | | | | | +-"" | | | +-".     ,   ..." | +-&lt;p&gt; | | | +-" , ‚Äî    ‚Äî   ..." | +-&lt;p&gt; | | | +-" , ,  " | | | +-&lt;i&gt; | | | | | +-" " | | | +-" ‚Äî        ..." | | | +-&lt;b&gt; | | | | | +-" " | | | +-"    ‚Äî    ,  ..." | | | +-&lt;b&gt; | | | | | +-" " | | | +-" ‚Äî        " | | | +-&lt;i&gt; | | | | | +-"  " | | | +-" (AST ‚Äî abstract syntax tree),  " | | | +-&lt;i&gt; | | | | | +-"  " | | | +-" (DOM ‚Äî document object model)." | +-&lt;p&gt; | | | +-"   .  ,     ..." | | | +-&lt;i&gt; | | | | | +-" - ()" | | | +-"  " | | | +-&lt;i&gt; | | | | | +-"  -" | | | +-".    ,     .  ..." | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"&lt;&gt; = &lt;_1&gt; &lt;_&gt; &lt;_2&gt;" | +-&lt;p&gt; | | | +-"      , ..." | +-&lt;p&gt; | | | +-"  ?" | +-&lt;p&gt; | | | +-"      ..." | | | +-&lt;i&gt; | | | | | +-"" | | | +-"  " | | | +-&lt;i&gt; | | | | | +-"" | | | +-". " | | | +-&lt;b&gt; | | | | | +-"" | | | +-" ‚Äî ,  :\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"&lt;_1&gt; = &lt;&gt; (&lt;_&gt; | &lt;_&gt;) &lt; ..." | +-&lt;p&gt; | | | +-&lt;b&gt; | | | | | +-"" | | | +-" ,    .   ..." | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"&lt;&gt; = &lt;_1&gt; "+" &lt;_2&gt;\n&lt;_1&gt; = &lt;..." | +-&lt;p&gt; | | | +-" "+", "*", "/" ‚Äî .\n    ..." | +-&lt;p&gt; | | | +-"      " | | | +-&lt;a&gt; | | | | | +-"" | | | +-"  " | | | +-&lt;a&gt; | | | | | +-"" | | | +-".    ‚Äî    ..." | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"  ,     ..." | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"enum Token_type {\n END = 1, TEXT = 2,\n OPENING_BLOCK_TAG_NAME = 4, CLOSING_BLOCK_TAG_NAME = ..." | +-&lt;p&gt; | | | +-"  process:\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"   switch    (  ..." | +-&lt;p&gt; | | | +-&lt;img /&gt; | +-&lt;p&gt; | | | +-"    ,   ..." | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"      ..." | +-&lt;p&gt; | | | +-"        HTML- ..." | +-&lt;blockquote&gt; | | | +-&lt;mark&gt; | | | | | +-" " | | | | | +-&lt;pre&gt; | | | | | +-"stub" | | | +-"\n" | | | +-&lt;mark&gt; | | | +-" " | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"       ‚Äî  ..." | +-&lt;p&gt; | | | +-"       HTML-..." | +-&lt;p&gt; | | | +-"  ‚Äî      ,  ..." | | | +-&lt;i&gt; | | | | | +-"  " | | | +-"." | +-&lt;p&gt; | | | +-" :\n" | +-&lt;blockquote&gt; | | | +-&lt;pre&gt; | | | +-"stub" | +-&lt;p&gt; | | | +-"  !     ,   ..." | | | +-&lt;pre&gt; | | | | | +-"| \n+--&lt;ROOT&gt;\n | \n +--&lt;!DOCTYPE&gt;\n | \n +--&lt;html&gt;\n | \n +--&lt;head&gt;\n | | \n | +--&lt;..." | | | +-"\n \n,     ..." | +-&lt;p&gt; | +-"PS     " | +-&lt;a&gt; | | | +-"" | +-". , ,     ..." &lt;/pre&gt;</code> </pre></div></div><br>    ‚Äî     HTML-.   :          (  html  body,  head)         .        :       to_HTML()  ,      ,         ,  ,       . , ,       Inline (     ): <br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Inline::to_HTML (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &amp;level) { <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> HTML; <span class="hljs-comment"><span class="hljs-comment">// ******    -   ****** switch (type) { case BOLD: { HTML.append("&lt;b&gt;"); break; } case ITALIC: { HTML.append("&lt;i&gt;"); break; } case UNDERLINED: { HTML.append("&lt;ins&gt;"); break; } case OVERLINED: { HTML.append("&lt;span class=\"overlined\"&gt;"); break; } case THROWLINED: { HTML.append("&lt;del&gt;"); break; } case SUBSCRIPT: { HTML.append("&lt;sub&gt;"); break; } case SUPERSCRIPT: { HTML.append("&lt;sup&gt;"); break; } case MARKED: { HTML.append("&lt;mark&gt;"); break; } case MONOSPACE: { HTML.append("&lt;pre&gt;"); break; } default: throw string("invalid inline type: " + type_str() + "!"); } // *** *** *** *** // ******   -    ****** for (unsigned long i(0); i &lt; children_count; i++) HTML.append(children[i]-&gt;to_HTML(level+1)); // *** *** *** *** // ******    -   ****** switch (type) { case BOLD: { HTML.append("&lt;/b&gt;"); break; } case ITALIC: { HTML.append("&lt;/i&gt;"); break; } case UNDERLINED: { HTML.append("&lt;/ins&gt;"); break; } case OVERLINED: { HTML.append("&lt;/span&gt;"); break; } case THROWLINED: { HTML.append("&lt;/del&gt;"); break; } case SUBSCRIPT: { HTML.append("&lt;/sub&gt;"); break; } case SUPERSCRIPT: { HTML.append("&lt;/sup&gt;"); break; } case MARKED: { HTML.append("&lt;/mark&gt;"); break; } case MONOSPACE: { HTML.append("&lt;/pre&gt;"); break; } default: throw string("invalid inline type: " + type_str() + "!"); } // *** *** *** *** return HTML; }</span></span></code> </pre><br>  Eso es todo<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espero que ahora, despu√©s de leer ambos art√≠culos, pueda implementar f√°cilmente un traductor para su marcado o lenguaje de programaci√≥n. </font><font style="vertical-align: inherit;">Si tiene alguna pregunta, pregunte en los comentarios. </font><font style="vertical-align: inherit;">Y aqu√≠ est√°n las </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuentes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√âxitos </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD: olvid√© mencionar el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blindaje</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se implementa simplemente: si el siguiente car√°cter en el procedimiento de an√°lisis l√©xico es la barra invertida ("\"), se ignora y se procesa el siguiente car√°cter, pero adem√°s de esto, el valor booleano verdadero se env√≠a a la funci√≥n de procesamiento de caracteres, dando el comando para escapar. </font><font style="vertical-align: inherit;">Entonces, si este s√≠mbolo, por ejemplo, es "[", su significado especial se ignora y simplemente se une al token en construcci√≥n como texto. </font><font style="vertical-align: inherit;">De lo contrario, la funci√≥n devuelve falso y el car√°cter se procesa como de costumbre.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444876/">https://habr.com/ru/post/444876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444866/index.html">Mi camino de Python a Go: compartir consejos y recursos</a></li>
<li><a href="../444868/index.html">C√≥mo crear una paleta c√≥moda para todos</a></li>
<li><a href="../444870/index.html">Estructura empresarial corporativa 2019</a></li>
<li><a href="../444872/index.html">¬øC√≥mo fue la apertura de Zabbix en Rusia?</a></li>
<li><a href="../444874/index.html">Tela Hyperledger para Dummies</a></li>
<li><a href="../444878/index.html">SpaceX ha anunciado un redise√±o de los sat√©lites Starlink para que se quemen por completo en la atm√≥sfera cuando caen</a></li>
<li><a href="../444880/index.html">Una interpretaci√≥n multimundo de la mec√°nica cu√°ntica.</a></li>
<li><a href="../444882/index.html">Los bancos comenzaron a bloquear cuentas independientes</a></li>
<li><a href="../444884/index.html">Groovy dej√≥ a C√©dric Champeau</a></li>
<li><a href="../444886/index.html">Aplicaciones de ingenier√≠a inversa despu√©s de la ofuscaci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>