<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🤝‍👨🏼 🌨️ 👰🏻 Neues Feature in Git 3: Schließungen 🔏 🧗🏼 🤶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Git ist ein beliebtes Versionskontrollsystem. In Git wird eine atomare Änderung einer oder mehrerer Dateien als Commit bezeichnet, und mehrere aufeina...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neues Feature in Git 3: Schließungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445680/"><p>  Git ist ein beliebtes Versionskontrollsystem.  In Git wird eine atomare Änderung einer oder mehrerer Dateien als Commit bezeichnet, und mehrere aufeinanderfolgende Commits werden zu einem Zweig zusammengefasst.  Zweige werden verwendet, um neue Ideen (Features) umzusetzen. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa5/222/85a/aa522285a7fd7fd5f8c597050956d878.svg"></div><p></p><br><p>  Es kommt vor, dass die Idee eine Sackgasse ist und der Entwickler den falschen Weg eingeschlagen hat, sodass er auf die ursprüngliche Version zurücksetzen muss.  Er sollte den neuen Zweig vergessen, zum Hauptentwickler oder Hauptzweig wechseln und weiterarbeiten.  In diesem Fall bleibt der "Spross" für immer hängen, ebenso wie der Wunsch, ihn zu entfernen.  Aber wie kann man den Teil der Geschichte entfernen?  Dieser Zweig zeigt die Bemühungen des fleißigen Programmierers, wenn auch vergebens.  So ist es einfacher, sich beim Chef zu melden, denn ein erfolgloses Ergebnis ist auch ein Ergebnis! </p><br><p>  Ich freue mich sehr, dass Git-Entwickler in der dritten Version einen neuen Befehl zum Schließen solcher "obdachloser" Zweige einführen werden.  Die aktuelle Version ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2.21.0</a> . </p><br><p>  Wie wird dieser Befehl verwendet, welche Vorteile bietet er und was denken IT-Unternehmen?  Der Artikel beantwortet diese und andere Fragen. </p><a name="habracut"></a><br><h2 id="description">  Beschreibung </h2><br><p> Jetzt ist es möglich, einen nicht erfolgreichen Zweig über einen der vorherigen Commits zu schließen.  Verschlussbögen sind in den folgenden Bildern gelb gefärbt. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/831/c59/f42/831c59f42a1c28e9316781e918ab5ad2.svg"></div><br><br><p> Das Commit <code>4</code> ist das letzte für die nicht erfolgreiche Funktion.  Es wurde über das Commit <code>1</code> , und dann kehren wir zum Master zurück und gehen in die andere Richtung (das Commit <code>5</code> ). </p><br><p>  Sie können ein Commit auch über sich selbst schließen und so <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schleifen</a> erstellen: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e2/d3b/c7f/6e2d3bc7f118f60d4e3a05762bda92ea.svg"></div><br><br><p>  Sie können den Zweig über jedes Commit schließen - Git ist intelligent, berechnet die Unterschiede und führt alles korrekt zusammen: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/1e3/7e1/61f1e37e1861b8307f715fd3b003fa2c.svg"></div><br><br><h2 id="how-to-use">  Wie benutzt man? </h2><br><p>  Der <code>merge</code> enthält nicht die Funktionalität von Schließungen, da im ersten Fall der Zweig <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schnell vorgespult</a> wird und im zweiten Fall nichts unternommen wird ( <code>git already up to date</code> ). </p><br><p>  Um das alte Verhalten nicht zu ändern, haben die Entwickler beschlossen, einen Schließbefehl einzuführen: </p><br><pre> <code class="plaintext hljs">git closure -s $source_commit -d $dest_commit -m $message</code> </pre> <br><p>  Das erste Argument <code>-s $source_commit</code> legt den Hash des Commits fest, von dem aus Sie die Schleife strecken möchten, und das zweite (optional) <code>-d $dest_commit</code> legt das Commit fest, in das die Schleife geschlossen wird.  Wenn es nicht vorhanden ist, erfolgt die Schließung in der aktuellen Check-out-Filiale.  Das Argument <code>-m $message</code> legt fest, dass eine Abschlussnachricht wie eine <code>failed feature, revert to origin</code> .  Es ist jedoch auch die Option <code>--allow-empty-message</code> verfügbar, die Commits ohne Nachrichten ermöglicht.  Standardmäßig erlaubt Git nur einen Abschluss für ein Commit-Paar.  Um diese Einschränkung zu umgehen, ist die Option <code>--allow-multiple-closures</code> verfügbar. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/735/680/0d4735680312484fdb0f59ee1bf3ec56.svg"></div><br><p>  Nachdem der Befehl ausgeführt wurde, berechnet Git die Änderungen und beim endgültigen Festschreiben wird ein doppelter Unterschied angezeigt: von der Basis und den schließenden Zweigen.  Im allgemeinen Fall handelt es sich um ein n-dimensionales Diff, dh es können so viele Verschlüsse vorhanden sein, wie Sie möchten.  Closure-Commit ähnelt Merge-Commit mit dem einzigen Unterschied, dass es mehrere Nachrichten enthält, nicht eine. </p><br><p>  Leider haben vorhandene Git-GUIs keine gute Unterstützung für Schließungen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">In der</a> Vorschauversion von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitExtensions</a> werden Zusammenführungskurven anstelle eleganter Bögen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">angezeigt</a> .  Schauen Sie sich die neuen Felder wie <code>Closure message</code> und <code>Closure diff</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w0/pn/ny/w0pnny3xyxyhdhr1pk9h8i03whk.png"></div><br><p>  Es ist erwähnenswert, dass der <code>closure</code> immer den Verlauf ändert (da Git jetzt eine vollwertige Zeitmaschine ist!). Daher ist es jetzt möglich, Zweige nur mit der Option <code>--force</code> oder der sicheren Option <code>--force-with-lease</code> . </p><br><p>  Rebase ist auch für Loop-Zweige verfügbar, obwohl die Logik für die Neuberechnung von Commits kompliziert ist. </p><br><p>  Die <code>auto</code> Option ermöglicht auch das automatische Schließen aller alten Filialen.  In diesem Fall ist das Closing Commit dasjenige, das den Zweig startet.  Mit Git IDE-Plugins können Schließungen regelmäßig ausgeführt werden.  In GitExtensions gibt es ein ähnliches Plugin. <strong>Veraltete Zweige</strong> löschen. </p><br><h2 id="what-it-companies-think">  Was IT-Unternehmen denken </h2><br><p>  Große IT-Unternehmen: Google, Facebook, Apple, DeepMind, Positive Technologies und insbesondere Microsoft warten gespannt auf Schließungen, da es jetzt möglich sein wird, den Lebenszyklus von Filialen, einschließlich nicht zusammengeschlossener, zu formalisieren. </p><br><p>  Einer der Top-Manager von Microsoft, Michael Richter, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schrieb</a> : </p><br><blockquote>  Die neue Funktion von Git wird natürlich das Chaos in der Welt der Open Source-Entwicklung (und nicht nur) verringern.  In unseren Repositories befinden sich viele "hängende" Zweige.  Zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">haben</a> wir in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vscode</a> mehr als 200 davon und in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TypeScript</a> mehr als 300!  Und dieses Problem liegt nicht nur bei uns.  Abschlüsse verbessern nicht nur die Organisation, sondern ermöglichen es auch, die Argumentation des Programmierers zu verfolgen, die selbst für Kollegen manchmal völlig unverständlich ist :) Abschlüsse erinnerten mich an den Film "Zurück in die Zukunft", in dem die Charaktere in die Vergangenheit und in die Zukunft reisten.  Ich mag diesen Film, ich habe ihn mehrmals gesehen.  Und ich denke, ich werde Git noch mehr lieben, denn wenn diese Funktion :) </blockquote><br><h2 id="note">  Hinweis </h2><br><p>  Wenn der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Commit-Graph</a> früher ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gerichteter azyklischer Graph</a> (DAG) war, wird er durch Verschlüsse auf einen allgemein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gerichteten Graphen erweitert</a> .  Mit Git können Sie reguläre Ausdrücke beschreiben, in denen die Zustände Festschreibungen sind, und das Alphabet ist die Menge aller Nachrichten.  Dies ist jedoch das Thema für den Hub "Abnormale Programmierung" und geht daher über den Rahmen dieses Artikels hinaus.  Wenn dies für Sie jedoch interessant klingt, lesen Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> zum Speichern von Stammbäumen in Git. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445680/">https://habr.com/ru/post/de445680/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445670/index.html">Folgen des Umschreibens von Firefox-Komponenten in Rust</a></li>
<li><a href="../de445672/index.html">Myonenkatalyse in Bezug auf die Quantenchemie. Teil II: elektronisch vs. Myon chemische Bindung</a></li>
<li><a href="../de445674/index.html">PVS-Studio für Java macht sich auf den Weg. Nächster Halt ist Elasticsearch</a></li>
<li><a href="../de445676/index.html">Neu in Git 3: Schließungen</a></li>
<li><a href="../de445678/index.html">4. Check Point Erste Schritte R80.20. Installation und Initialisierung</a></li>
<li><a href="../de445682/index.html">PVS-Studio für Java wird an den Pfad gesendet. Nächster Halt ist Elasticsearch</a></li>
<li><a href="../de445684/index.html">Monoblock gegen modulare USV</a></li>
<li><a href="../de445686/index.html">Anwendungsentwicklung für einen alten PDA (Cybiko Xtreme) im Jahr 2019</a></li>
<li><a href="../de445692/index.html">Übersicht über die PlayCanvas-Funktionen zum Erstellen von Web-VR-Anwendungen</a></li>
<li><a href="../de445696/index.html">Wie Roboter entstehen, die dahin gehen können, wo wir sind</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>