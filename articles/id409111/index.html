<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”· ğŸ•— âš±ï¸ Modbus RTU Network Emulation Software ğŸ¤·ğŸ½ ğŸ´ âœŠ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendahuluan 
 Jika Anda hanya memiliki palu sebagai alat, setiap masalah mulai menyerupai paku. 

 Abraham Maslow 
 Protokol Modbus terkenal bagi pemb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Modbus RTU Network Emulation Software</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409111/"><h1>  Pendahuluan </h1><br><blockquote>  Jika Anda hanya memiliki palu sebagai alat, setiap masalah mulai menyerupai paku. <br><br>  <i>Abraham Maslow</i> </blockquote><br>  Protokol Modbus terkenal bagi pembaca Habr dan pembaca hicktime.  Banyak publikasi telah dikhususkan untuk penerapannya, yang sulit untuk didaftar karena jumlahnya sangat banyak, dan dari waktu ke waktu artikel-artikel baru muncul di sana-sini. <br><br><img src="https://habrastorage.org/webt/2m/xh/ry/2mxhryo9sblm6uzcf0srfxzqkkm.png"><br><br>  Popularitas protokol ini adalah karena keterbukaan dan kesederhanaannya.  Cakupan aplikasinya cukup luas: dari sistem otomasi industri profesional hingga proyek-proyek amatir dari sistem kontrol terdistribusi, rumah "pintar" dan sebagainya.  Protokol ini juga dipilih oleh saya ketika tim saya terlibat dalam pembuatan perangkat lunak untuk simulator kereta.  Protokol Modbus RTU pada antarmuka fisik RS485 digunakan pada simulator ini untuk memberikan data ke komputer kontrol dari kontrol yang dipasang pada konsol pengemudi (jangan berpikir bahwa Modbus digunakan pada rolling stock nyata!). <br><br>  Tidak ada gunanya berbicara tentang kesulitan dalam menyiapkan perangkat lunak yang berinteraksi dengan jaringan pengontrol yang mengontrol peralatan.  Terutama ketika bagian dari perangkat sudah ada di setrika, dan bagian lainnya sedang dalam proses pengembangan dan pembuatan.  Dalam hal ini, perangkat lunak tingkat atas diperlukan untuk ditulis dengan mempertimbangkan interaksinya dengan perangkat keras ini.  Dan disarankan untuk menuliskannya sedemikian rupa untuk segera membuat versi sistem yang berfungsi, tanpa menggunakan "kruk" yang selalu sulit dibersihkan dari kode. <br><br>  "Anda perlu menulis perangkat lunak ketika prototipe yang berfungsi dari semua perangkat keras sudah siap," kata Anda, dan Anda akan benar, tetapi ... ha ha ha, ini jarang terjadi di dunia nyata.  Dan di sini emulator perangkat lunak membantu kami. <br><a name="habracut"></a><br><h1>  1. Secara singkat tentang Modbus RTU </h1><br>  Saya tidak akan berbicara secara rinci tentang protokol.  Mereka yang tertarik dengan detail dapat menggunakan pencarian - protokol terbuka, spesifikasi resminya dan banyak informasi tersedia di jaringan.  Saya hanya bisa mengatakan bahwa dalam Modbus RTU itu menggambarkan format biner dari data yang ditransmisikan dan menggunakan kabel twisted pair standar RS485 sebagai media transmisi.  RS232 juga dapat digunakan jika jaringan memiliki satu pemancar dan satu penerima, atau RS422 untuk transmisi data searah. <br><br>  Kami akan tertarik pada RS485, yang merupakan antarmuka setengah dupleks, yang memungkinkan hanya satu perangkat yang mentransmisikan data pada suatu waktu.  Arbitrasi bus di Modbus dilakukan karena daya tahan dari interval keheningan wajib sebesar 3,5 karakter pada kecepatan transmisi yang diberikan.  Setiap pesan harus dimulai dan diakhiri dengan interval hening.  Ada satu perangkat utama dalam jaringan dan beberapa budak (hingga 31 dalam satu segmen jaringan, tanpa menggunakan repeater).  Setiap perangkat budak memiliki ID pengidentifikasi unik (1 hingga 31).  Transmisi data oleh budak hanya dilakukan jika master mengirim permintaan untuk menerima data dari perangkat ini. <br><br>  Permintaan penyihir yang khas terlihat seperti ini <br><br><table><tbody><tr><td>  ID </td><td>  Kode fungsi </td><td>  Alamat Data </td><td>  Jumlah data (2 byte) </td><td>  Data </td><td>  CRC16 </td></tr></tbody></table><br>  CRC16 digunakan untuk mengontrol integritas data yang dikirimkan.  Modus menggunakan notasi representasi data Big Endian: untuk nilai 2 byte, byte paling signifikan di dalam pesan datang terlebih dahulu).  Protokol menggunakan empat jenis data: <br><br><ol><li>  Coils - output diskrit (1 bit) baca / tulis </li><li>  Input diskrit - input diskret baca-saja (1 bit) </li><li>  Holding register - register keluaran (2 byte) tersedia untuk membaca / menulis </li><li>  Input register - register input (2 byte) tersedia untuk dibaca </li></ol><br>  Menanggapi permintaan tersebut, budak mengirim data dalam format berikut <br><br><table><tbody><tr><td>  ID </td><td>  Kode fungsi </td><td>  Jumlah data dalam byte </td><td>  Data </td><td>  CRC16 </td></tr></tbody></table><br>  Pesan yang diterima dari master memasuki buffer penerimaan semua perangkat.  Namun, jika byte pertama dari buffer yang diterima tidak cocok dengan ID perangkat, itu mengabaikan data yang diterima, membersihkan buffer yang menerima.  Jika pesan ditujukan untuk perangkat ini, maka ia membentuk respons dan, setelah mempertahankan interval kesunyian, mengirimkannya ke master. <br><br>  Seperti yang mereka katakan, sederhana, tetapi dengan rasa.  Anda dapat membaca lebih lanjut tentang semua ini dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasi protokol resmi</a> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Baca</a> tentang metode untuk mengimplementasikan protokol pada antarmuka serial di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Kami tidak berkumpul di sini untuk ini. <br><br>  Ketika mengembangkan perangkat lunak tingkat atas (master diimplementasikan berdasarkan PC, misalnya) untuk jaringan seperti itu, akan menyenangkan untuk memiliki seperangkat alat perangkat lunak yang memungkinkan penerapan konsep seperti itu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/89b/944/3b5/89b9443b5fb11f04536782afce19be3d.png" alt="gambar"></div><br>  Arti dari skema ini adalah sebagai berikut.  Misalkan kita memiliki bagian dari perangkat yang termasuk dalam jaringan masa depan.  Atau sejauh ini tidak ada perangkat seperti itu.  Tetapi ada keinginan yang membara untuk menulis perangkat lunak untuk manajemen tingkat atas, untuk debug itu, sehingga ketika jaringan masih diimplementasikan dalam perangkat keras kita tidak perlu menulis ulang apa pun.  Untuk melakukan ini, Anda harus menggunakan media transmisi fisik, yang kami gunakan untuk perangkat yang mirip ini <br><br><img src="https://habrastorage.org/webt/1x/cz/ja/1xczjafogu-dwd3qnetuijaszma.jpeg"><br><br>  Salah satu adapter digunakan untuk menghubungkan perangkat lunak wizard yang dikembangkan.  Lain untuk menghubungkan emulator dari jaringan budak di masa depan.  Ke cabang dengan konektor putih, kami menghubungkan bagian jaringan yang sudah diimplementasikan dalam perangkat keras.  Dengan demikian, kami mendapat kesempatan untuk bekerja dengan tenang dengan protokol komunikasi standar, secara bertahap memperkenalkan peralatan nyata ke dalam operasi.  Selain itu, memberikan objek kepada pelanggan, kami tidak kehilangan kesempatan untuk memodifikasi perangkat lunaknya di lingkungan laboratorium yang nyaman tanpa akses ke objek.  QSlave dalam diagram hanyalah bagian yang sama dari jaringan yang ditiru oleh perangkat lunak.  Secara alami, Anda harus menulis perangkat lunak yang sesuai, yang dilakukan oleh penulis. <br><br><h1>  2. QSlave - emulasi jaringan slave </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">QSlave</a> adalah emulator jaringan RTU modbus lintas-platform terbuka.  Anda bisa mendapatkannya di bawah lisensi GPL v2.0 di Github di tautan di atas. <br><br><img src="https://habrastorage.org/webt/4n/nd/am/4nndamsmf4i7ghnfrzzbbc94vqu.png"><br><br>  Aplikasi ini dikembangkan di C ++ menggunakan framework Qt.  Qt, secara umum, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memiliki perpustakaan untuk bekerja dengan Modbus</a> , tetapi spesifik tugas - mensimulasikan jaringan budak daripada budak tunggal, mengarah pada fakta bahwa perpustakaan built-in Qt untuk Modbus tidak digunakan di sini.  Untuk memproses data yang diterima dari port serial virtual, perpustakaan modbus yang ditulis sendiri dibuat.  Kode perpustakaan ini diimplementasikan sebagai proyek yang terpisah, sepenuhnya independen dari antarmuka pengguna dan dapat digunakan untuk kesadaran simulasi perangkat lunak dengan fungsi yang lebih maju.  Karena fakta bahwa emulasi Modbus terlepas dari UI, jaringan dikonfigurasi menggunakan file konfigurasi.  Format XML dipilih (kami sering menggunakannya dalam proyek kami).  Konfigurasi sampel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tersedia dalam kode proyek</a> .  Satu set konfigurasi terdiri dari file utama dengan ekstensi * .net, yang terlihat seperti ini <br><br>  <b>contoh.net</b> <br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Slave</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  ,     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span>Traffic light<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  XML-  (  *.xml) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag">&gt;</span></span>traffic-light<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Slave</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  dan file konfigurasi XML untuk masing-masing budak <br><br>  <b>traffic-light.xml</b> <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Coil</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span>16<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Red signal<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Coil</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Coil</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span>17<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Yellow signal<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Coil</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Coil</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span>18<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Green signal<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Coil</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiscreteInput</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Ready<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiscreteInput</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">HoldingRegister</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span>5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Signal activity time<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>15<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">HoldingRegister</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputRegister</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span>2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Signals count<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputRegister</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  File terakhir berisi deskripsi semua data yang tersedia di perangkat.  Untuk mengunduh konfigurasi, Anda perlu membuka file * .net dari menu program QSlave (File â†’ Open config).  Semua file konfigurasi harus berada di direktori yang sama.  Contoh konfigurasi menggambarkan jaringan dari satu perangkat slave, lampu lalu lintas virtual, output diskrit yang menggambarkan sinyal, input digital menunjukkan sedikit perangkat siap untuk operasi (Siap), register input melaporkan jumlah lampu lalu lintas, dan register output menetapkan waktu selama itu menyala masing-masing sinyal. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fea/def/3a4/feadef3a4c17567d127543ee0954b561.png" alt="gambar"><br><br>  Secara alami, simulator ini tidak mensimulasikan logika internal perangkat.  Ini hanya memungkinkan Anda untuk mengatur nilai sel memori yang tersedia untuk master.  Nilai apa pun dapat disetel menurut kebijaksanaan Anda dengan mengedit sel yang sesuai dalam tabel. <br><br>  Untuk semua kesederhanaannya, perangkat lunak ini membantu kami bekerja pada perangkat lunak simulator (yang telah ditugaskan) tanpa meninggalkan laboratorium. <br><br><img src="https://habrastorage.org/webt/qh/9j/ba/qh9jba49bbzglh5ca1t2nryin9a.png"><br><br>  Tetapi tidak ada yang mengatakan bahwa Anda tidak dapat membuat emulator yang lebih maju yang mensimulasikan operasi perangkat jaringan virtual.  Untuk membuatnya, Anda dapat menggunakan kode perpustakaan modbus yang tersedia di paket QSlave. <br><br><h1>  3. QMaster - emulasi perangkat master </h1><br>  Untuk membuat budak, debug firmware mereka, Anda memerlukan simulasi wizard.  Ada sejumlah emulator terbuka, seperti, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">QModbus</a> .  Kami menggunakannya dalam pekerjaan kami, sampai kami memutuskan untuk meningkatkan kecepatan transfer data menjadi 250 kBit / s.  QModbus tidak mengizinkan ini.  Dimungkinkan untuk membangunnya kembali dari sumber untuk Linux, tetapi teknisi elektronik kami duduk di Windows, dan di mana perakitan tidak pergi karena sejumlah alasan.  Ternyata aplikasi ini ditulis dalam Qt 4, menggunakan perpustakaan libmodbus pihak ketiga.  Saya ingin memiliki solusi lintas platform pada Qt5, terutama karena Qt5 sudah bekerja dengan Modbus di luar kotak.  Oleh karena itu, analognya ditulis menggunakan tumpukan perpustakaan Qt Modbus - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">QMaster</a> .  Ini juga tersedia di Github dalam kondisi yang sama. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a13/5fa/5b2/a135fa5b2781d646d18010960defd69d.png" alt="gambar"><br><br><h1>  Kesimpulan </h1><br>  Sebagai kesimpulan, saya akan mengatakan bahwa saya bekerja (di tempat kerja) terutama pada proyek tertutup.  Namun, alat yang dijelaskan dikembangkan oleh saya secara pribadi atas inisiatif saya sendiri di waktu luang saya.  Selain itu, mereka, dalam versi Windows, secara statis terhubung dengan kode Qt GPL, jadi saya harus meneruskannya ke komunitas dengan persyaratan yang sama seperti yang diterima Qt.  Selain itu, alat-alat ini mungkin bermanfaat bagi pembaca. <br><br>  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id409111/">https://habr.com/ru/post/id409111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id409099/index.html">Apa yang harus diberikan untuk Tahun Baru? Masalah 2017</a></li>
<li><a href="../id409101/index.html">Cara Ilmiah untuk Mengatasi Kelelahan: Nootropics, Kopi, dan Neuroteknologi</a></li>
<li><a href="../id409103/index.html">Therapeutics Crispr Merencanakan Uji Klinis Pertama untuk Pengobatan Penyakit Genetik</a></li>
<li><a href="../id409105/index.html">Cryptocurrency terbesar, hasil mereka dan mengapa NiceHash tidak mencuri di rumah</a></li>
<li><a href="../id409107/index.html">Pemrograman dan transmisi data ke Arduino melalui udara menggunakan ESP8266. Bagian Tiga. Halo, ANDROID</a></li>
<li><a href="../id409113/index.html">Agak, tapi enak: cangkir yang mengatur suhu minuman</a></li>
<li><a href="../id409115/index.html">Soundtrack dari permainan kultus: wabah penyakit, utopia dan kapak es</a></li>
<li><a href="../id409119/index.html">Intel â„ 2017. Hasil tahun ini</a></li>
<li><a href="../id409121/index.html">Apa itu: pasar layanan streaming Rusia</a></li>
<li><a href="../id409123/index.html">Cara membuat synthesizer yang nyaman dengan tangan Anda sendiri</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>