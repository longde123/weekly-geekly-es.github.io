<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”¸ ğŸ½ ğŸ¤¹ğŸ½ FPGAä¸ƒæ®µæ˜¾ç¤ºæ§åˆ¶ ğŸ‘¨â€ğŸ¨ â˜ğŸ½ ğŸ™ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ æˆ‘æƒ³ä¸ºFPGAçš„å‘å±•åšå‡ºè‡ªå·±çš„è´¡çŒ®ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•è§£é‡Šå¦‚ä½•åœ¨VHDLä¸­æè¿°æ§åˆ¶ä¸ƒæ®µæ˜¾ç¤ºå™¨çš„è®¾å¤‡ã€‚ ä½†æ˜¯ï¼Œåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘æƒ³ç®€å•åœ°è°ˆè°ˆæˆ‘å¦‚ä½•è¿›å…¥FPGAä»¥åŠä¸ºä»€ä¹ˆé€‰æ‹©VHDLè¯­è¨€ã€‚ 

 å¤§çº¦åŠå¹´å‰ï¼Œæˆ‘å†³å®šå°è¯•è¿›è¡ŒFPGAç¼–ç¨‹ã€‚ åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»æœªé‡åˆ°è¿‡ç”µè·¯ã€‚ ä½¿ç”¨å¾®æ§åˆ¶å™¨ï¼ˆAtmega3...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>FPGAä¸ƒæ®µæ˜¾ç¤ºæ§åˆ¶</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447454/">å“ˆHaï¼ æˆ‘æƒ³ä¸ºFPGAçš„å‘å±•åšå‡ºè‡ªå·±çš„è´¡çŒ®ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•è§£é‡Šå¦‚ä½•åœ¨VHDLä¸­æè¿°æ§åˆ¶ä¸ƒæ®µæ˜¾ç¤ºå™¨çš„è®¾å¤‡ã€‚ ä½†æ˜¯ï¼Œåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘æƒ³ç®€å•åœ°è°ˆè°ˆæˆ‘å¦‚ä½•è¿›å…¥FPGAä»¥åŠä¸ºä»€ä¹ˆé€‰æ‹©VHDLè¯­è¨€ã€‚ <br><br> å¤§çº¦åŠå¹´å‰ï¼Œæˆ‘å†³å®šå°è¯•è¿›è¡ŒFPGAç¼–ç¨‹ã€‚ åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»æœªé‡åˆ°è¿‡ç”µè·¯ã€‚ ä½¿ç”¨å¾®æ§åˆ¶å™¨ï¼ˆAtmega328pï¼ŒSTM32ï¼‰çš„ç»éªŒå¾ˆå°‘ã€‚ åœ¨å†³å®šé€‚åº”FPGAä¹‹åï¼Œç«‹å³å‡ºç°äº†é€‰æ‹©æˆ‘è¦ä½¿ç”¨çš„è¯­è¨€çš„é—®é¢˜ã€‚ ä¹‹æ‰€ä»¥é€‰æ‹©VHDLï¼Œæ˜¯å› ä¸ºå…¶ä¸¥æ ¼çš„é”®å…¥ã€‚ ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘æƒ³åœ¨åˆæˆé˜¶æ®µè€Œä¸æ˜¯åœ¨å·¥ä½œè®¾å¤‡ä¸Šæ•è·å°½å¯èƒ½å¤šçš„é—®é¢˜ã€‚ <br><br> ä¸ºä»€ä¹ˆè¦ç²¾ç¡®æ˜¾ç¤ºä¸ƒæ®µæ˜¾ç¤ºå™¨ï¼Ÿ  LEDé—ªçƒå·²ç»å¾ˆç´¯ï¼Œå¹¶ä¸”é—ªçƒé€»è¾‘å¹¶ä¸ä»£è¡¨ä»»ä½•æœ‰è¶£çš„äº‹æƒ…ã€‚ ä¸€æ–¹é¢ï¼Œæ§åˆ¶æ˜¾ç¤ºå™¨çš„é€»è¾‘è¦æ¯”ä½¿LEDé—ªçƒæ›´å¤æ‚ï¼ˆå³ï¼Œç¼–å†™LEDæ›´ä¸ºæœ‰è¶£ï¼‰ï¼Œå¦ä¸€æ–¹é¢ï¼Œå®ç°èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚ <br><a name="habracut"></a><br> æˆ‘åœ¨åˆ›å»ºè®¾å¤‡çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†ä»€ä¹ˆï¼š <br><br><ul><li>  FPGA Altera Cyclone IIï¼ˆæˆ‘çŸ¥é“å®ƒå·²ç»è¿‡æ—¶äº†ï¼Œä½†æ˜¯ä¸­å›½äººå¯ä»¥èŠ±ä¸€åˆ†é’±ä¹°åˆ°å®ƒï¼‰ </li><li>  Quartus II 13.0.0ï¼ˆæ®æˆ‘æ‰€çŸ¥ï¼Œè¿™æ˜¯æ”¯æŒCyclone IIçš„æœ€æ–°ç‰ˆæœ¬ï¼‰ </li><li> ä»¿çœŸå™¨æ¨¡å‹ </li><li> å¸¦ç§»ä½å¯„å­˜å™¨çš„ä¸ƒæ®µæ˜¾ç¤º </li></ul><br><h3> æŒ‘æˆ˜èµ› </h3><br> åˆ›å»ºä¸€ä¸ªè®¾å¤‡ï¼Œè¯¥è®¾å¤‡å°†åœ¨ä¸€ä¸ªå‘¨æœŸå†…æ˜¾ç¤ºæ•°å­—0-9ï¼Œæ¯ç§’é’Ÿä¸€æ¬¡ï¼Œæ˜¾ç¤ºå±ä¸Šæ˜¾ç¤ºçš„å€¼åº”å¢åŠ 1ã€‚ <br><br> æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥å®ç°æ­¤é€»è¾‘ã€‚ æˆ‘å°†æŠŠè¯¥è®¾å¤‡åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å°†æ‰§è¡Œä¸€äº›æ“ä½œï¼Œè¯¥æ“ä½œçš„ç»“æœå°†ä¼ è¾“åˆ°ä¸‹ä¸€ä¸ªæ¨¡å—ã€‚ <br><cut></cut><br><h3> æ¨¡ç»„ </h3><br><ul><li> è¯¥è®¾å¤‡åº”è¯¥èƒ½å¤Ÿè®¡ç®—æ—¶é—´ã€‚ ä¸ºäº†è®¡ç®—æ—¶é—´ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªâ€œå»¶è¿Ÿâ€æ¨¡å—ã€‚ è¯¥æ¨¡å—æœ‰1ä¸ªè¾“å…¥ä¿¡å·å’Œ1ä¸ªè¾“å‡ºä¿¡å·ã€‚ è¯¥æ¨¡å—æ¥æ”¶FPGAé¢‘ç‡ä¿¡å·ï¼Œå¹¶åœ¨æŒ‡å®šæ•°é‡çš„è¾“å…¥ä¿¡å·å‘¨æœŸåï¼Œå°†è¾“å‡ºä¿¡å·çš„å€¼æ›´æ”¹ä¸ºç›¸åçš„å€¼ã€‚ </li><li> è¯¥è®¾å¤‡åº”ä»0åˆ°9è¿›è¡Œè¯»å–ã€‚bcd_counteræ¨¡å—å°†ç”¨äºæ­¤ç›®çš„ã€‚ </li><li> ä¸ºäº†åœ¨æ˜¾ç¤ºå™¨ä¸Šç‚¹äº®ä¸€ä¸ªåˆ†æ®µï¼Œæ‚¨éœ€è¦åœ¨æ˜¾ç¤ºå™¨çš„ç§»ä½å¯„å­˜å™¨ä¸­å°†ä¸è¯¥åˆ†æ®µç›¸å¯¹åº”çš„ä½è®¾ç½®ä¸º0ï¼Œå¹¶ä¸”ä¸ºäº†å°†è¯¥åˆ†æ®µæ¸…é™¤ä¸ºä½ï¼Œè¯·å†™å…¥1ï¼ˆæˆ‘çš„æ˜¾ç¤ºå™¨å…·æœ‰åå‘é€»è¾‘ï¼‰ã€‚  bcd_2_7segè§£ç å™¨å°†å¤„ç†æ‰€éœ€ä½çš„å®‰è£…å’Œé‡ç½®ã€‚ </li><li> å‘é€å™¨æ¨¡å—å°†è´Ÿè´£æ•°æ®ä¼ è¾“ã€‚ </li></ul><br> ä¸»æœºè®¾å¤‡å°†æ§åˆ¶æ¨¡å—ä¹‹é—´ä¿¡å·çš„æ­£ç¡®ä¼ è¾“ï¼Œå¹¶åœ¨å®Œæˆæ•°æ®ä¼ è¾“åç”Ÿæˆrclkä¿¡å·ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ä¸ºäº†æ¸…æ¥šèµ·è§ï¼Œæˆ‘ç»™å‡ºäº†è¯¥è®¾å¤‡çš„ç¤ºæ„å›¾</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/059/804/1b3/0598041b386b8e22438b35683b2cf2c4.png" alt="æ–¹æ¡ˆ"><br></div></div><br> ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¯¥è®¾å¤‡å…·æœ‰1ä¸ªè¾“å…¥ä¿¡å·ï¼ˆclkï¼‰å’Œ3ä¸ªè¾“å‡ºä¿¡å·ï¼ˆsclkï¼Œdioï¼Œrclkï¼‰ã€‚  clkä¿¡å·è¿›å…¥2ä¸ªä¿¡å·åˆ†é…å™¨ï¼ˆsec_delayå’Œtransfer_delayï¼‰ã€‚ å‘¨æœŸä¸º1sçš„ä¼ å‡ºä¿¡å·ç¦»å¼€sec_delayè®¾å¤‡ã€‚ åœ¨æ­¤ä¿¡å·çš„ä¸Šå‡æ²¿ï¼Œè®¡æ•°å™¨ï¼ˆbcd_counter1ï¼‰å¼€å§‹ç”Ÿæˆä¸‹ä¸€ä¸ªè¦æ˜¾ç¤ºçš„æ•°å­—ã€‚ ç”Ÿæˆæ•°å­—åï¼Œè§£ç å™¨ï¼ˆbcd_2_7seg1ï¼‰å°†æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼è½¬æ¢ä¸ºæ˜¾ç¤ºå±ä¸Šçš„ç‚¹äº®å’Œä¸ç‚¹äº®æ®µã€‚ ä½¿ç”¨å‘é€å™¨ï¼ˆå‘é€å™¨1ï¼‰å°†å…¶å‘é€åˆ°æ˜¾ç¤ºå™¨ã€‚ å‘é€å™¨ä½¿ç”¨transfer_delayè®¾å¤‡è®¡æ—¶ã€‚ <br><br><h3> ä»£å· </h3><br> ä¸ºäº†åœ¨VHDLä¸­åˆ›å»ºè®¾å¤‡ï¼Œä½¿ç”¨äº†å®ä½“å’Œä½“ç³»ç»“æ„ä¸¤ä¸ªç»„ä»¶çš„æ„é€ ã€‚ å®ä½“å£°æ˜ç”¨äºä¸è®¾å¤‡ä¸€èµ·ä½¿ç”¨çš„æ¥å£ã€‚ ä½“ç³»ç»“æ„æè¿°äº†è®¾å¤‡çš„é€»è¾‘ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">è¿™æ˜¯å»¶è¿Ÿè®¾å¤‡çš„å®ä½“å¤–è§‚</b> <div class="spoiler_text"><pre><code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-comment"><span class="hljs-comment">--   entity,  generic    generic (delay_cnt: integer); --       port(clk: in std_logic; out_s: out std_logic := '0'); end entity delay;</span></span></code> </pre> <br></div></div><br> é€šè¿‡é€šç”¨å­—æ®µï¼Œæˆ‘ä»¬å¯ä»¥å°†è®¾å¤‡è®¾ç½®ä¸ºæ‰€éœ€çš„å»¶è¿Ÿã€‚ åœ¨ç«¯å£å­—æ®µä¸­ï¼Œæˆ‘ä»¬æè¿°äº†è®¾å¤‡çš„ä¼ å…¥å’Œä¼ å‡ºä¿¡å·ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å»¶è¿Ÿå™¨æ¶æ„å¦‚ä¸‹</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-comment"><span class="hljs-comment">--   architecture  ,     --   entity    0    architecture delay_arch of delay is begin delay_proc: process(clk) variable clk_cnt: integer range 0 to delay_cnt := 0; variable out_v: std_logic := '0'; begin --        if(rising_edge(clk)) then clk_cnt := clk_cnt + 1; if(clk_cnt &gt;= delay_cnt) then -- switch/case   VHDL case out_v is when '0' =&gt; out_v := '1'; when others =&gt; out_v := '0'; end case; clk_cnt := 0; --    out_s   out_v out_s &lt;= out_v; end if; end if; end process delay_proc; end delay_arch;</span></span></code> </pre><br></div></div><br> å¤„ç†éƒ¨åˆ†å†…éƒ¨çš„ä»£ç æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä»»ä½•å…¶ä»–ä»£ç æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ã€‚ åœ¨æ–¹æ‹¬å·ä¸­ï¼Œåœ¨processå…³é”®å­—ä¹‹åï¼Œé€šè¿‡æ›´æ”¹ç»™å®šè¿‡ç¨‹å°†å¼€å§‹çš„ä½ç½®ï¼ˆçµæ•åº¦åˆ—è¡¨ï¼‰æ¥æŒ‡ç¤ºä¿¡å·ã€‚ <br><br> å°±æ‰§è¡Œé€»è¾‘è€Œè¨€ï¼Œbcd_counterè®¾å¤‡ä¸å»¶è¿Ÿè®¾å¤‡ç›¸åŒã€‚ å› æ­¤ï¼Œæˆ‘å°†ä¸å¯¹å…¶è¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">è¿™æ˜¯è§£ç å™¨çš„å®ä½“å’Œæ¶æ„</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> bcd_to_7seg <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(bcd: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"0"</span></span>; disp_out: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"00"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> bcd_to_7seg; <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> bcd_to_7seg_arch <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> bcd_to_7seg <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> not_bcd_s: <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"0"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> not_bcd_s &lt;= <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> bcd; disp_out(<span class="hljs-number"><span class="hljs-number">7</span></span>) &lt;= (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (not_bcd_s(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)); disp_out(<span class="hljs-number"><span class="hljs-number">6</span></span>) &lt;= (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">0</span></span>)); disp_out(<span class="hljs-number"><span class="hljs-number">5</span></span>) &lt;= not_bcd_s(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">0</span></span>); disp_out(<span class="hljs-number"><span class="hljs-number">4</span></span>) &lt;= (not_bcd_s(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)); disp_out(<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;= (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>); disp_out(<span class="hljs-number"><span class="hljs-number">2</span></span>) &lt;= (not_bcd_s(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (not_bcd_s(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (bcd(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)); disp_out(<span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;= (not_bcd_s(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> not_bcd_s(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (bcd(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bcd(<span class="hljs-number"><span class="hljs-number">0</span></span>)); disp_out(<span class="hljs-number"><span class="hljs-number">0</span></span>) &lt;= <span class="hljs-string"><span class="hljs-string">'1'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> bcd_to_7seg_arch;</code> </pre><br></div></div><br> è¯¥è®¾å¤‡çš„æ‰€æœ‰é€»è¾‘éƒ½æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ã€‚ æˆ‘åœ¨è‡ªå·±é¢‘é“çš„å…¶ä¸­ä¸€éƒ¨è§†é¢‘ä¸­è°ˆåˆ°äº†å¦‚ä½•è·å–æ­¤è®¾å¤‡çš„å…¬å¼ã€‚ è°åœ¨ä¹ï¼Œè¿™æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†é¢‘</a>çš„é“¾æ¥ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">åœ¨å‘é€å™¨è®¾å¤‡ä¸­ï¼Œæˆ‘ç»“åˆäº†ä¸²è¡Œå’Œå¹¶è¡Œé€»è¾‘</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> transmitter <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(enable: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>; clk: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; digit_pos: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"00"</span></span>; digit: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"00"</span></span>; sclk, dio: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span> := <span class="hljs-string"><span class="hljs-string">'0'</span></span>; ready: <span class="hljs-keyword"><span class="hljs-keyword">buffer</span></span> <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span> := <span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> transmitter; <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> transmitter_arch <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> transmitter <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constant</span></span> max_int: <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> := <span class="hljs-number"><span class="hljs-number">16</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> sclk &lt;= clk <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> ready <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>; send_proc: <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(clk, enable, ready) <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> dio_cnt_v: <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> max_int := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> data_v: <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>((max_int - <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">--   dio      clk if(falling_edge(clk) and (enable or not ready)) then if(dio_cnt_v = 0) then --    ,     --          data_v := digit_pos &amp; digit; ready &lt;= false; end if; if(dio_cnt_v = max_int) then dio_cnt_v := 0; ready &lt;= true; dio &lt;= '0'; else dio &lt;= data_v(dio_cnt_v); dio_cnt_v := dio_cnt_v + 1; end if; end if; end process send_proc; end transmitter_arch;</span></span></code> </pre><br></div></div><br> å¯¹äºsclkä¿¡å·ï¼Œæˆ‘å°†è¿›å…¥å‘é€å™¨çš„clkä¿¡å·çš„å€¼é‡å®šå‘ï¼Œä½†ä»…å½“è®¾å¤‡å½“å‰æ­£åœ¨å‘é€æ•°æ®æ—¶ï¼ˆä¿¡å·å°±ç»ª=å‡ï¼‰ã€‚ å¦åˆ™ï¼Œsclkä¿¡å·å€¼å°†ä¸º0ã€‚åœ¨æ•°æ®ä¼ è¾“å¼€å§‹æ—¶ï¼ˆå¯ç”¨=çœŸä¿¡å·ï¼‰ï¼Œæˆ‘å°†æ¥è‡ªè¿›å…¥è®¾å¤‡çš„ä¸¤ä¸ª8ä½å‘é‡ï¼ˆdigit_poså’Œdigitï¼‰çš„æ•°æ®åˆå¹¶ä¸ºä¸€ä¸ª16ä½å‘é‡ï¼ˆdata_vï¼‰å¹¶å‘é€è¯¥å‘é‡çš„æ•°æ®æ¯ä¸ªæ—¶é’Ÿä¸ºä¸€ä½ï¼Œä»è€Œè®¾ç½®äº†ä¼ å‡ºä¿¡å·dioä¸­å‘é€ä½çš„å€¼ã€‚ å…³äºè¯¥è®¾å¤‡çš„æœ‰è¶£ä¹‹å¤„ï¼Œæˆ‘æƒ³æŒ‡å‡ºçš„æ˜¯ï¼Œdioä¸­çš„æ•°æ®è¢«è®¾ç½®ä¸ºclkä¿¡å·çš„åæ²¿ï¼Œå¹¶ä¸”å½“sclkä¿¡å·çš„å‰æ²¿åˆ°è¾¾æ—¶ï¼Œæ¥è‡ªdioå¼•è„šçš„æ•°æ®å°†è¢«å†™å…¥æ˜¾ç¤ºå™¨çš„ç§»ä½å¯„å­˜å™¨ã€‚ ä¼ è¾“å®Œæˆåï¼Œé€šè¿‡è®¾ç½®ready &lt;= trueä¿¡å·ï¼Œæˆ‘å‘å…¶ä»–è®¾å¤‡å‘ä¿¡å·é€šçŸ¥ä¼ è¾“å·²å®Œæˆã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">è¿™æ˜¯æ˜¾ç¤ºè®¾å¤‡çš„å®ä½“å’Œä½“ç³»ç»“æ„çš„å¤–è§‚</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> display <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(clk: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; sclk, rclk, dio: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span> := <span class="hljs-string"><span class="hljs-string">'0'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">entity</span></span> display; <span class="hljs-keyword"><span class="hljs-keyword">architecture</span></span> display_arch <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> display <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">component</span></span> delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">generic</span></span> (delay_cnt: <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(clk: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; out_s: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span> := <span class="hljs-string"><span class="hljs-string">'0'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">component</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">component</span></span> bcd_counter <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(clk: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; bcd: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">component</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">component</span></span> bcd_to_7seg <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(bcd: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>); disp_out: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">component</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">component</span></span> transmitter <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>(enable: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>; clk: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; digit_pos: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>); digit: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>); sclk, dio: <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span>; ready: <span class="hljs-keyword"><span class="hljs-keyword">buffer</span></span> <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">component</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> sec_s: <span class="hljs-built_in"><span class="hljs-built_in">std_logic</span></span> := <span class="hljs-string"><span class="hljs-string">'0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> bcd_counter_s: <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"0"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> disp_out_s: <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"00"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> tr_enable_s: <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> tr_ready_s: <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">signal</span></span> tr_data_s: <span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>) := X<span class="hljs-string"><span class="hljs-string">"00"</span></span>; <span class="hljs-comment"><span class="hljs-comment">--  ,   tr_ready_s  --    rclk  signal disp_refresh_s: boolean; signal transfer_clk: std_logic := '0'; begin sec_delay: delay generic map(25_000_000) port map(clk, sec_s); transfer_delay: delay generic map(10) port map(clk, transfer_clk); bcd_counter1: bcd_counter port map(sec_s, bcd_counter_s); bcd_to_7seg1: bcd_to_7seg port map(bcd_counter_s, disp_out_s); transmitter1: transmitter port map(tr_enable_s, transfer_clk, X"10", tr_data_s, sclk, dio, tr_ready_s); tr_proc: process(transfer_clk) variable prev_disp: std_logic_vector(7 downto 0); variable rclk_v: std_logic := '0'; begin if(rising_edge(transfer_clk)) then --         if(tr_ready_s) then --         if(not (prev_disp = disp_out_s)) then prev_disp := disp_out_s; --        tr_data_s &lt;= disp_out_s; --    tr_enable_s &lt;= true; end if; else disp_refresh_s &lt;= true; --       --   , --         tr_enable_s &lt;= false; end if; if(rclk_v = '1') then disp_refresh_s &lt;= false; end if; if(tr_ready_s and disp_refresh_s) then rclk_v := '1'; else rclk_v := '0'; end if; rclk &lt;= rclk_v; end if; end process tr_proc; end display_arch;</span></span></code> </pre><br></div></div><br> è¯¥è®¾å¤‡æ§åˆ¶å…¶ä»–è®¾å¤‡ã€‚ åœ¨è¿™é‡Œï¼Œåœ¨å£°æ˜è¾…åŠ©ä¿¡å·ä¹‹å‰ï¼Œæˆ‘å…ˆå£°æ˜å°†è¦ä½¿ç”¨çš„ç»„ä»¶ã€‚ åœ¨æ¶æ„æœ¬èº«ä¸­ï¼ˆåœ¨beginå…³é”®å­—ä¹‹åï¼‰ï¼Œæˆ‘åˆ›å»ºè®¾å¤‡å®ä¾‹ï¼š <br><br><ul><li>  sec_delay-å»¶è¿Ÿç»„ä»¶çš„å®ä¾‹ã€‚ ä¼ å‡ºä¿¡å·è¢«è·¯ç”±åˆ°sec_sã€‚ </li><li>  transfer_delay-å»¶è¿Ÿç»„ä»¶çš„å®ä¾‹ã€‚ ä¼ å‡ºä¿¡å·è¢«å‘é€åˆ°ä¿¡å·transfer_clkã€‚ </li><li>  bcd_counter1-bcd_counterç»„ä»¶çš„å®ä¾‹ã€‚ ä¼ å‡ºä¿¡å·è¢«è·¯ç”±åˆ°bcd_counter_sã€‚ </li><li>  bcd_to_7seg1-bcd_to_7segç»„ä»¶çš„å®ä¾‹ã€‚ ä¼ å‡ºä¿¡å·è¢«è·¯ç”±åˆ°disp_out_sã€‚ </li><li> å‘é€å™¨1æ˜¯å‘é€å™¨ç»„ä»¶çš„ä¸€ä¸ªå®ä¾‹ã€‚ ä¼ å‡ºä¿¡å·è¢«å‘é€åˆ°sclkï¼Œdioï¼Œtr_ready_sä¿¡å·ã€‚ </li></ul><br> åœ¨ç»„ä»¶å®ä¾‹ä¹‹åï¼Œå°†å£°æ˜ä¸€ä¸ªè¿›ç¨‹ã€‚ æ­¤è¿‡ç¨‹è§£å†³äº†å‡ ä¸ªé—®é¢˜ï¼š <br><br><ol><li><div class="spoiler">  <b class="spoiler_title">å¦‚æœå‘é€å™¨ä¸å¿™ï¼Œåˆ™è¯¥è¿‡ç¨‹å°†åˆå§‹åŒ–æ•°æ®ä¼ è¾“çš„å¼€å§‹ã€‚</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(tr_ready_s) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">not</span></span> (prev_disp = disp_out_s)) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> prev_disp := disp_out_s; <span class="hljs-comment"><span class="hljs-comment">--     --    tr_data_s &lt;= disp_out_s; --    tr_enable_s &lt;= true; end if; else ...</span></span></code> </pre><br></div></div><br></li><li> å¦‚æœå‘é€å™¨å¿™ï¼ˆtr_ready_s = falseï¼‰ï¼Œåˆ™è¯¥è¿‡ç¨‹å°†ä¿¡å·disp_refresh_s &lt;= trueçš„å€¼è®¾ç½®ä¸ºtrueï¼ˆæ­¤ä¿¡å·è¡¨ç¤ºä¼ è¾“å®Œæˆåï¼Œå¿…é¡»æ›´æ–°æ˜¾ç¤ºå±ä¸Šçš„æ•°æ®ï¼‰ã€‚ è¿˜å°†è®¾ç½®ä¿¡å·å€¼tr_enable_s &lt;= falseï¼Œå¦‚æœåœ¨ä¼ è¾“å®Œæˆä¹‹å‰æœªå®Œæˆæ­¤æ“ä½œï¼Œåˆ™å°†ä¸‹è½½ä¸‹è½½åˆ°å‘é€å™¨çš„æ•°æ® <br></li><li><div class="spoiler">  <b class="spoiler_title">æ•°æ®ä¼ è¾“å®Œæˆåè®¾ç½®å¹¶é‡ç½®rclkä¿¡å·</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(rclk_v = <span class="hljs-string"><span class="hljs-string">'1'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> disp_refresh_s &lt;= <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(tr_ready_s <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> disp_refresh_s) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> rclk_v := <span class="hljs-string"><span class="hljs-string">'1'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> rclk_v := <span class="hljs-string"><span class="hljs-string">'0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; rclk &lt;= rclk_v;</code> </pre><br></div></div><br></li></ol><br><h3> æ—¶åºå›¾ </h3><br><div class="spoiler">  <b class="spoiler_title">è¿™æ˜¯å°†æ•°å­—1è½¬ç§»åˆ°æ˜¾ç¤ºå™¨çš„ç¬¬ä¸€ä½ç½®çš„æ—¶åºå›¾</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/87d/b73/21d/87db7321dd5e795125347fc1f08e873a.png" alt="æ—¶åºå›¾"><br></div></div><br> é¦–å…ˆï¼Œå‘é€æ•°æ®â€œ 10011111â€ã€‚ ç„¶åï¼Œæ•°å­—åœ¨æ˜¾ç¤ºå±ä¸Šçš„ä½ç½®ä¸ºâ€œ 00010000â€ï¼ˆæ­¤å‚æ•°ä»¥å¸¸é‡Xâ€œ 10â€çš„å½¢å¼åˆ°è¾¾å˜é€å™¨ï¼‰ã€‚ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæœ€å³è¾¹çš„ä½ï¼ˆlsbï¼‰é¦–å…ˆè¢«å‘é€ã€‚ <br><br> æ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨<a href="">github</a>ä¸ŠæŸ¥çœ‹ã€‚ å¸¦ä¸‹æ ‡* _tb.vhdçš„æ–‡ä»¶æ˜¯ç›¸åº”ç»„ä»¶çš„è°ƒè¯•æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œgenerator_tb.vhdæ˜¯å‘é€å™¨çš„è°ƒè¯•æ–‡ä»¶ï¼‰ã€‚ ä»¥é˜²ä¸‡ä¸€ï¼Œæˆ‘ä¹Ÿå°†å®ƒä»¬ä¸Šä¼ åˆ°äº†githubã€‚ æ­¤ä»£ç å·²ä¸‹è½½å¹¶åœ¨å®é™…æ¿ä¸Šå·¥ä½œã€‚ è°åœ¨ä¹ï¼Œæ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>çœ‹åˆ°ä»£ç è¯´æ˜ï¼ˆä»15:30å¼€å§‹ï¼‰ã€‚ è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN447454/">https://habr.com/ru/post/zh-CN447454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN447442/index.html">å¼•å…¥shellè¿ç®—ç¬¦ï¼šä½¿Kubernetesçš„è¿ç®—ç¬¦æ›´åŠ å®¹æ˜“</a></li>
<li><a href="../zh-CN447446/index.html">IBMç ”è®¨ä¼šï¼š2019å¹´æ˜¥å¤-äººå·¥æ™ºèƒ½ï¼Œäº‘å¼€å‘ï¼ŒèŠå¤©æœºå™¨äººï¼ŒåŒºå—é“¾å’Œå…¶ä»–æŠ€æœ¯</a></li>
<li><a href="../zh-CN447448/index.html">æ™ºåŠ›è¿›åŒ–ï¼šå¼€å§‹</a></li>
<li><a href="../zh-CN447450/index.html">ç”¨Ghidraæ‰“ç ´ç®€å•çš„â€œè£‚ç¼â€-ç¬¬1éƒ¨åˆ†</a></li>
<li><a href="../zh-CN447452/index.html">ä¾›åº”é“¾å®‰å…¨ï¼šâ€œå¦‚æœæˆ‘æ˜¯ä¸€ä¸ªæ°‘æ—å›½å®¶â€¦â€¦â€</a></li>
<li><a href="../zh-CN447456/index.html">Yandexå¦‚ä½•å‡†ç¡®é¢„æµ‹å†¬å¤©çš„é™æ°´é‡ï¼Ÿ æˆ‘ä»¬åˆ†æé¢„æµ‹æœåŠ¡çš„å‡†ç¡®æ€§</a></li>
<li><a href="../zh-CN447458/index.html">ç°ä»£è‹±è¯­å¦‚ä½•åˆ›å»ºæ–°å•è¯</a></li>
<li><a href="../zh-CN447460/index.html">ç ´è§£æ‚¨çš„å°ç±³å¸å°˜å™¨</a></li>
<li><a href="../zh-CN447462/index.html">Visual Studio 2019 .NETçš„ç”Ÿäº§åŠ›</a></li>
<li><a href="../zh-CN447464/index.html">ä»€ä¹ˆé˜»æ­¢å­¦ä¹ å¤–è¯­</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>