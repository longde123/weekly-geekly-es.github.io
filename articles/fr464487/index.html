<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüîß üôáüèø ü§üüèæ Nous construisons une interface pour saisir des documents par s√©lection üëáüèæ üå¨Ô∏è üíÖüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans diverses applications commerciales, la t√¢che de saisie de documents se pose souvent. En r√®gle g√©n√©rale, un document se compose d'un en-t√™te et de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous construisons une interface pour saisir des documents par s√©lection</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/464487/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/3n/eq/73/3neq73mp0z5z3bvffqktpydn5ku.jpeg" alt="image"></div><br>  Dans diverses applications commerciales, la t√¢che de saisie de documents se pose souvent.  En r√®gle g√©n√©rale, un document se compose d'un en-t√™te et de quelques lignes, chacune faisant r√©f√©rence √† un objet (par exemple, un produit).  Le plus souvent, un tableau standard est utilis√© pour saisir des enregistrements dans un document, dans lequel l'utilisateur peut ajouter et supprimer des lignes, ainsi que modifier leur contenu. <br><br>  Cependant, dans certains cas, un tel sch√©ma n'est pas toujours pratique pour les utilisateurs.  Dans cet article, je vais vous expliquer comment cr√©er une interface utilisateur pratique en utilisant la technique de s√©lection des produits. <br><a name="habracut"></a><br><h3>  D√©fi </h3><br>  En r√®gle g√©n√©rale, lors de la saisie de documents pour l'utilisateur, il existe une restriction sur l'ensemble d'objets qui peuvent y √™tre ajout√©s.  Dans ce cas, il est logique pour l'utilisateur d'afficher une liste de ces objets avec la possibilit√© de les inclure (et de les exclure) rapidement dans le document.  Dans les colonnes, pour chacun des objets, il est √©galement pratique d'afficher les donn√©es n√©cessaires pour prendre une d√©cision sur la n√©cessit√© de l'inclure dans le document.  Et enfin, avec l'objet, il est souvent n√©cessaire d'entrer sa quantit√©. <br><br>  Prenons trois types de documents que l'on retrouve souvent dans les applications m√©tier: <br><br><ol><li>  <b>Bon de commande</b> .  Dans ces documents, il est logique pour l'utilisateur d'afficher une liste de toutes les marchandises disponibles √† la commande aupr√®s du fournisseur.  Dans les colonnes, il est pratique d'afficher le solde actuel, les ventes pour un certain intervalle, la quantit√© command√©e pour l'achat et la vente. </li><li> <b>Commande client</b> .  Ici, le plus souvent, une liste des marchandises qui sont sur le solde de l'entrep√¥t s√©lectionn√© et disponibles √† la vente pour le client s√©lectionn√© est affich√©e.  Les prix actuels doivent √©galement √™tre indiqu√©s. </li><li>  <b>Variation des soldes</b> .  Ce document est utilis√© pour ajuster les soldes courants en cas de divergence avec le montant r√©el.  Tous les produits sont g√©n√©ralement affich√©s dans la s√©lection, avec la possibilit√© d'entrer le solde r√©el pour chacun d'entre eux.  Dans le m√™me temps, un produit est ajout√© au document avec un montant √©gal √† la diff√©rence entre le solde r√©el et le solde actuel. </li></ol><br><h3>  Solution </h3><br>  Ensuite, je montrerai comment impl√©menter rapidement et facilement cette logique bas√©e sur la plate-forme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lsFusion</a> ouverte et gratuite.  Par exemple, cr√©ons une logique pour saisir un bon de commande. <br><br>  Pour commencer, ajoutez un guide produit via l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRUD</a> standard: <br><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">CLASS</font> Product <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">50</font> ] (Product); <br> <br> <font color="#a626a4">FORM</font> product <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (p) name <br> <br> <font color="#a626a4">EDIT</font> Product <font color="#a626a4">OBJECT</font> p <font color="#808080"><i>//       </i></font> <br> ; <br> <br> <font color="#a626a4">FORM</font> products <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Product <font color="#a626a4">OBJECT</font> p <font color="#808080"><i>//    ,       </i></font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> products; <br> } <br></code> </td></tr></tbody></table></div><br>  Nous cr√©ons le concept de fournisseur, et sous forme d'√©dition nous donnons la possibilit√© de choisir les produits avec lesquels il travaille: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Supplier <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">50</font> ] (Supplier); <br> <br> in <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (Supplier, Product); <font color="#808080"><i>//  TRUE,       </i></font> <br> <br> <font color="#a626a4">FORM</font> supplier <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Supplier <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (s) name <br> <br> <font color="#a626a4">OBJECTS</font> p = Product <font color="#808080"><i>//       </i></font> <br> <font color="#a626a4">PROPERTIES</font> in(s, p), name(p) <font color="#a626a4">READONLY</font> <font color="#808080"><i>//      </i></font> <br> <br> <font color="#a626a4">EDIT</font> Supplier <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">FORM</font> suppliers <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Supplier <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Supplier <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> suppliers; <br> } <br></code> </td></tr></tbody></table></div><br>  D√©clarez la logique de commande avec les lignes: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Order <font color="#50a14f">''</font> ; <br> date <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order); <br> number <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Order); <br> <br> supplier <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Supplier (Order); <br> nameSupplier <font color="#50a14f">''</font> (Order o) = name(supplier(o)); <br> <br> <font color="#a626a4">CLASS</font> OrderDetail <font color="#50a14f">' '</font> ; <br> order <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Order (OrderDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br></code> </td></tr></tbody></table></div><br>  Ajoutez des produits et des quantit√©s aux lignes: <br><div class="scrollable-table"><table><tbody><tr><td> <code>product <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Product (OrderDetail); <br> nameProduct <font color="#50a14f">''</font> (OrderDetail d) = name(product(d)); <br> <br> quantity <font color="#50a14f">'-'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">3</font> ] (OrderDetail); <br></code> </td></tr></tbody></table></div><br>  Nous proc√©dons directement √† la construction du formulaire d'√©dition de commande dont nous avons besoin.  Tout d'abord, ajoutez-y la commande elle-m√™me et ses lignes: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number, nameSupplier <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameProduct, quantity, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br></code> </td></tr></tbody></table></div><br>  Ainsi, nous obtenons une interface standard pour travailler avec les lignes de commande en ajoutant et en supprimant. <br>  Ensuite, nous ajoutons la fonctionnalit√© de s√©lection dont nous avons besoin √† ce formulaire.  Pour ce faire, cr√©ez d'abord un objet sur le formulaire avec une liste de toutes les marchandises, dans lesquelles nous filtrons uniquement celles qui sont autoris√©es √† commander aupr√®s du fournisseur s√©lectionn√©: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> name(p) <font color="#a626a4">READONLY</font> <br> <font color="#a626a4">FILTERS</font> in(supplier(o), p) <font color="#808080"><i>//      </i></font> <br> ; <br></code> </td></tr></tbody></table></div><br>  Nous configurons le design de sorte que les lignes de commande et la s√©lection soient affich√©es sous forme d'onglets d'un conteneur: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DESIGN</font> order { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <font color="#808080"><i>//     </i></font> <br> fill = <font color="#986801">1</font> ; <font color="#808080"><i>//    </i></font> <br> type = <font color="#a626a4">TABBED</font> ; <font color="#808080"><i>// , </i></font> <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d); <font color="#808080"><i>//      </i></font> <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (p) { <font color="#808080"><i>//      </i></font> <br> caption = <font color="#50a14f">''</font> ; <br> } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div><br>  Nous construisons des propri√©t√©s auxiliaires pour afficher et saisir la quantit√© par l'utilisateur dans la colonne correspondante: <br><div class="scrollable-table"><table><tbody><tr><td> <code>quantity <font color="#50a14f">'-'</font> (Order o, Product p) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> quantity(OrderDetail d) <font color="#a626a4">BY</font> order(d), product(d); <br> lastOrderDetail <font color="#50a14f">' '</font> (Order o, Product p) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> OrderDetail d <font color="#a626a4">ORDER</font> d <font color="#a626a4">BY</font> order(d), product(d); <br></code> </td></tr></tbody></table></div><br>  La premi√®re propri√©t√© consid√®re la quantit√© pour cette commande et ce produit dans ce document.  Le second trouve la derni√®re ligne (l'utilisateur peut entrer plusieurs lignes avec un seul produit). <br>  Ensuite, nous cr√©ons une action qui traitera l'utilisateur saisissant la valeur dans la colonne correspondante dans l'onglet de s√©lection: <br><div class="scrollable-table"><table><tbody><tr><td> <code>changeQuantity <font color="#50a14f">' -'</font> (Order o, Product p)  { <br> <font color="#a626a4">INPUT</font> q = <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">3</font> ] <font color="#a626a4">DO</font> { <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">IF</font> lastOrderDetail(o, p) <font color="#a626a4">THEN</font> { <font color="#808080"><i>// ,     </i></font> <br> <font color="#a626a4">IF</font> q <font color="#a626a4">THEN</font> <font color="#808080"><i>//  </i></font> <br> quantity(OrderDetail d) &lt;- q <font color="#a626a4">IF</font> d = lastOrderDetail(o, p) <br> <font color="#a626a4">WHERE</font> order(d) = o <font color="#a626a4">AND</font> product(d) = p; <font color="#808080"><i>//        </i></font> <br> <font color="#a626a4">ELSE</font> <font color="#808080"><i>//   -  </i></font> <br> <font color="#a626a4">DELETE</font> OrderDetail d <font color="#a626a4">WHERE</font> order(d) = o <font color="#a626a4">AND</font> product(d) == p; <br> } <font color="#a626a4">ELSE</font> <br> <font color="#a626a4">IF</font> q <font color="#a626a4">THEN</font> <br> <font color="#a626a4">NEW</font> d = OrderDetail { <font color="#808080"><i>//   </i></font> <br> order(d) &lt;- o; <br> product(d) &lt;- p; <br> quantity(d) &lt;- q; <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div><br>  Enfin, nous ajoutons une colonne au formulaire, indiquant l'action qui doit √™tre effectu√©e lorsque l'utilisateur essaie de changer sa valeur: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (o, p) quantity <font color="#a626a4">ON</font> <font color="#a626a4">CHANGE</font> changeQuantity(o, p) <br> ; <br></code> </td></tr></tbody></table></div><br>  Il ne reste plus qu'√† dessiner un formulaire avec une liste de commandes et √† l'ajouter au navigateur: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> orders <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> date, number <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> orders; <br> } <br></code> </td></tr></tbody></table></div><br>  Le formulaire r√©sultant ressemblera √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5w/a2/er/5wa2erv_6e_fzfkikpcrblkw_kq.gif" alt="image"></div><br>  Toutes les modifications apport√©es √† l'un des onglets seront automatiquement r√©percut√©es sur l'autre. <br><br>  Dans les syst√®mes ERP r√©els, beaucoup plus de colonnes et d'autres √©l√©ments sont ajout√©s au formulaire.  Par exemple, dans l'une de ces <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impl√©mentations,</a> cela ressemble √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t7/kw/n0/t7kwn0qlayppat4ztyzlp29rjii.png" alt="image"></div><br><br>  Voyons comment cette fonctionnalit√© est impl√©ment√©e dans d'autres applications m√©tier. <br><br><h3>  1C </h3><br>  Dans diff√©rentes configurations de 1C, la logique de s√©lection pr√©sente certaines diff√©rences, mais le principe est plus ou moins le m√™me.  Il y a un bouton S√©lectionner sur le formulaire d'√©dition de document, qui ouvre une bo√Æte de dialogue avec le choix des marchandises: <br><br><img src="https://habrastorage.org/webt/7k/ah/hi/7kahhi_11fkif9dkq14l5n4ptlm.png" alt="image"><br><br>  Dans cette bo√Æte de dialogue, vous pouvez s√©lectionner les marchandises comme suit: <br><br><img src="https://habrastorage.org/webt/g-/hv/kw/g-hvkwiljowuile0dk3kuhh5vyg.gif" alt="image"><br><br>  Il y a au moins deux inconv√©nients dans ce m√©canisme. <br><br>  Tout d'abord, pour ajouter la quantit√© du produit au document (et le plus souvent l'utilisateur conna√Æt d√©j√† la quantit√© qu'il souhaite ajouter), vous devez d'abord double-cliquer sur le produit, l'ajouter aux lignes, puis modifier la quantit√© dans les lignes.  De plus, l'utilisateur ne voit pas dans la liste des produits si ce produit a d√©j√† √©t√© ajout√© et avec quelle quantit√©.  En outre, un tel sch√©ma ¬´mange¬ª de l'espace suppl√©mentaire, car vous devez afficher deux tableaux sur un √©cran au lieu d'un. <br><br>  Deuxi√®mement, une fois que les lignes ont √©t√© ajout√©es directement au document, si vous cliquez √† nouveau sur le bouton S√©lectionner, la s√©lection commencera ¬´√† partir de z√©ro¬ª.  Il n'appara√Ætra aucune ligne dans le tableau du bas, et au moment de la res√©lection, il ne sera pas clair ce qui est d√©j√† dans le document et ce qui ne l'est pas.  Il viole √©galement l'une des r√®gles importantes lors de la construction de l'interface: si l'utilisateur se trompe, il doit avoir la possibilit√© de revenir en arri√®re et de corriger l'erreur.  Ici, il s'av√®re qu'il ne pourra pas revenir √† la s√©lection de marchandises ayant les m√™mes donn√©es qu'avant d'appuyer sur le bouton ajouter au document. <br><br>  Cependant, il est possible dans 1C que vous puissiez impl√©menter le sch√©ma ci-dessus, mais pour une raison quelconque, dans les configurations typiques disponibles sur le site avec des d√©mos, une autre est utilis√©e. <br><br><h3>  Microsoft Dynamics 365 </h3><br>  En tant que solution, j'ai pris Retail (seulement en elle, j'ai trouv√© des fonctionnalit√©s similaires disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://trials.dynamics.com</a> ).  Dans ce document, vous pouvez appeler la s√©lection sur le formulaire Commandes d'achat de deux mani√®res: <br><br><img src="https://habrastorage.org/webt/fk/4s/kn/fk4sknkf5xgt15fu_hcudve7sne.png" alt="image"><br><br>  Le premier bouton est impl√©ment√© selon le sch√©ma 1C (bien qu'il y ait beaucoup moins de colonnes), donc je ne m'y attarderai pas. <br><br>  Le deuxi√®me bouton fait appara√Ætre une bo√Æte de dialogue avec une liste de produits o√π la quantit√© peut d√©j√† √™tre entr√©e dans des colonnes.  Mais cela se fait d'une mani√®re tr√®s particuli√®re. <br><br>  Tout d'abord, par d√©faut, seuls les codes produits y sont affich√©s (m√™me sans noms).  Bien s√ªr, je comprends que vous pouvez cr√©er des extensions et y inclure d'autres colonnes, mais voir ce comportement dans la version de base est un peu √©trange. <br><br>  Deuxi√®mement, Microsoft √©tait apparemment tellement emport√© par la conception que, pour une raison quelconque, ils ont marqu√© le traitement normal des donn√©es de d√©filement, les astuces de traitement et les √©v√©nements.  Cela ressemble √† ceci: <br><br><img src="https://habrastorage.org/webt/46/md/fw/46mdfwnbz5j9jkxivgixlm72jow.gif" alt="image"><br><br>  Pendant le fonctionnement normal du clavier, les s√©ries actuelles sont constamment commut√©es lors de la relecture des donn√©es.  Dans le m√™me temps, vous ne pouvez commencer √† entrer qu'apr√®s avoir attendu tout le traitement de l'√©v√©nement, sinon la quantit√© n'est pas du tout entr√©e ou est entr√©e dans la mauvaise s√©rie.  Comment les vrais utilisateurs travaillent avec cela reste un myst√®re pour moi.  Apparemment, peu de gens utilisent cette fonctionnalit√© sp√©cifiquement.  Eh bien, ou ce sont les limites de la d√©mo, mais en fonctionnement, tout fonctionne bien. <br><br><h3>  Conclusion </h3><br>  Le sch√©ma de saisie des documents d√©crit via un onglet de s√©lection s√©par√© a √©t√© bien appr√©ci√© par nos utilisateurs. <br><br>  En pratique, ce concept peut √™tre compliqu√© de diverses mani√®res.  Par exemple, au lieu d'une liste de produits, affichez une liste d'articles avec la possibilit√© de saisir diff√©rentes quantit√©s pour des caract√©ristiques individuelles.  Ou dans l'un des documents, il y avait des entrep√¥ts dans les rang√©es, et il √©tait n√©cessaire de d√©finir les quantit√©s pour chacun de ces entrep√¥ts dans les colonnes. <br><br>  Un tel sch√©ma peut √™tre impl√©ment√©, par exemple, dans le m√™me React, en utilisant les lignes actuelles du document comme √©tat et en l'affichant avec deux composants dans deux onglets diff√©rents.  Mais il ne faut pas oublier qu'il peut y avoir beaucoup d'entr√©es dans le tableau avec des marchandises, et vous devrez impl√©menter le soi-disant ¬´d√©filement infini¬ª.  De plus, il est conseill√© d'ajouter √† l'utilisateur la possibilit√© de trier et filtrer les produits de cette liste (et cela doit √™tre fait sur le serveur, et non sur le client, afin de ne pas y glisser de donn√©es suppl√©mentaires).  Tout cela devient une t√¢che plut√¥t banale pour le d√©veloppeur. <br><br>  Dans la plate-forme lsFusion, cette fonctionnalit√© est impl√©ment√©e pr√™te √† l'emploi et ne n√©cessite que le code d√©crit ci-dessus.  Vous pouvez essayer comment cela fonctionne, et si vous le souhaitez, vous pouvez modifier le code en ligne sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page</a> correspondante.  Voici le code source complet, qui peut √™tre ins√©r√© dans l'onglet Plateforme puis en cliquant sur Lecture: <br><br><div class="spoiler">  <b class="spoiler_title">Code source</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Product <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">50</font> ] (Product); <br> <br> <font color="#a626a4">FORM</font> product <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (p) name <br> <br> <font color="#a626a4">EDIT</font> Product <font color="#a626a4">OBJECT</font> p <font color="#808080"><i>//       </i></font> <br> ; <br> <br> <font color="#a626a4">FORM</font> products <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Product <font color="#a626a4">OBJECT</font> p <font color="#808080"><i>//    ,       </i></font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> products; <br> } <br> <br> <font color="#a626a4">CLASS</font> Supplier <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">50</font> ] (Supplier); <br> <br> in <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">BOOLEAN</font> (Supplier, Product); <font color="#808080"><i>//  TRUE,       </i></font> <br> <br> <font color="#a626a4">FORM</font> supplier <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Supplier <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (s) name <br> <br> <font color="#a626a4">OBJECTS</font> p = Product <font color="#808080"><i>//       </i></font> <br> <font color="#a626a4">PROPERTIES</font> in(s, p), name(p) <font color="#a626a4">READONLY</font> <font color="#808080"><i>//      </i></font> <br> <br> <font color="#a626a4">EDIT</font> Supplier <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">FORM</font> suppliers <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> s = Supplier <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (s) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Supplier <font color="#a626a4">OBJECT</font> s <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> suppliers; <br> } <br> <br> <font color="#a626a4">CLASS</font> Order <font color="#50a14f">''</font> ; <br> date <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order); <br> number <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Order); <br> <br> supplier <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Supplier (Order); <br> nameSupplier <font color="#50a14f">''</font> (Order o) = name(supplier(o)); <br> <br> <font color="#a626a4">CLASS</font> OrderDetail <font color="#50a14f">' '</font> ; <br> order <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Order (OrderDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> product <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Product (OrderDetail); <br> nameProduct <font color="#50a14f">''</font> (OrderDetail d) = name(product(d)); <br> <br> quantity <font color="#50a14f">'-'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">3</font> ] (OrderDetail); <br> <br> <font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number, nameSupplier <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameProduct, quantity, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> name(p) <font color="#a626a4">READONLY</font> <br> <font color="#a626a4">FILTERS</font> in(supplier(o), p) <font color="#808080"><i>//      </i></font> <br> ; <br> <br> <font color="#a626a4">DESIGN</font> order { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <font color="#808080"><i>//     </i></font> <br> fill = <font color="#986801">1</font> ; <font color="#808080"><i>//    </i></font> <br> type = <font color="#a626a4">TABBED</font> ; <font color="#808080"><i>// , </i></font> <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d); <font color="#808080"><i>//      </i></font> <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (p) { <font color="#808080"><i>//      </i></font> <br> caption = <font color="#50a14f">''</font> ; <br> } <br> } <br> } <br> } <br> <br> quantity <font color="#50a14f">'-'</font> (Order o, Product p) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> quantity(OrderDetail d) <font color="#a626a4">BY</font> order(d), product(d); <br> lastOrderDetail <font color="#50a14f">' '</font> (Order o, Product p) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> OrderDetail d <font color="#a626a4">ORDER</font> d <font color="#a626a4">BY</font> order(d), product(d); <br> <br> changeQuantity <font color="#50a14f">' -'</font> (Order o, Product p)  { <br> <font color="#a626a4">INPUT</font> q = <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">3</font> ] <font color="#a626a4">DO</font> { <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">IF</font> lastOrderDetail(o, p) <font color="#a626a4">THEN</font> { <font color="#808080"><i>// ,     </i></font> <br> <font color="#a626a4">IF</font> q <font color="#a626a4">THEN</font> <font color="#808080"><i>//  </i></font> <br> quantity(OrderDetail d) &lt;- q <font color="#a626a4">IF</font> d = lastOrderDetail(o, p) <br> <font color="#a626a4">WHERE</font> order(d) = o <font color="#a626a4">AND</font> product(d) = p; <font color="#808080"><i>//        </i></font> <br> <font color="#a626a4">ELSE</font> <font color="#808080"><i>//   -  </i></font> <br> <font color="#a626a4">DELETE</font> OrderDetail d <font color="#a626a4">WHERE</font> order(d) = o <font color="#a626a4">AND</font> product(d) == p; <br> } <font color="#a626a4">ELSE</font> <br> <font color="#a626a4">IF</font> q <font color="#a626a4">THEN</font> <br> <font color="#a626a4">NEW</font> d = OrderDetail { <font color="#808080"><i>//   </i></font> <br> order(d) &lt;- o; <br> product(d) &lt;- p; <br> quantity(d) &lt;- q; <br> } <br> } <br> } <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (o, p) quantity <font color="#a626a4">ON</font> <font color="#a626a4">CHANGE</font> changeQuantity(o, p) <br> ; <br> <br> <font color="#a626a4">FORM</font> orders <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> date, number <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> orders; <br> } <br></code> </td></tr></tbody></table></div></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr464487/">https://habr.com/ru/post/fr464487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr464467/index.html">Apprenez l'analyse Web √† partir de z√©ro. Grand choix</a></li>
<li><a href="../fr464471/index.html">surveillance des imprimantes snmp dans The Dude</a></li>
<li><a href="../fr464479/index.html">"Manifeste de programmeurs novices de sp√©cialit√©s connexes" ou comment je suis arriv√© √† une telle vie</a></li>
<li><a href="../fr464481/index.html">Comment nous avons construit un syst√®me de formation et de motivation en studio</a></li>
<li><a href="../fr464485/index.html">ShIoTiny: ventilation de pi√®ce humide (exemple de projet)</a></li>
<li><a href="../fr464489/index.html">Buildbot en exemples</a></li>
<li><a href="../fr464491/index.html">Vivaldi 2.7 - Une vie intense en silence</a></li>
<li><a href="../fr464495/index.html">D√©veloppement d'√©quipe et r√©flexion comme communication manag√©riale du chef d'√©quipe</a></li>
<li><a href="../fr464497/index.html">JIRA comme rem√®de contre l'insomnie et les d√©pressions nerveuses</a></li>
<li><a href="../fr464499/index.html">"Mat. Mod√®le de Wall Street ¬ªou une tentative d'optimiser le co√ªt de l'infrastructure informatique cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>