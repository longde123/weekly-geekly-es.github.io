<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔓 👃🏽 👶🏻 Vous n'êtes pas google 💼 🕍 ➿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les développeurs sont fous des choses les plus étranges. Nous préférons tous nous considérer comme des êtres super rationnels, mais quand il s'agit de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vous n'êtes pas google</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450230/"><p><img src="https://habrastorage.org/webt/sp/pe/bj/sppebj78v_2idxhv1ej5-exussu.png"></p><br><p> Les développeurs sont fous des choses les plus étranges.  Nous préférons tous nous considérer comme des êtres super rationnels, mais quand il s'agit de choisir une technologie particulière, nous tombons dans une sorte de folie, passant d'un commentaire sur HackerNews à un post sur un blog, et maintenant, comme dans l'oubli, nous sommes impuissants nous naviguons vers la source de lumière la plus brillante et nous nous inclinons docilement devant elle, ayant complètement oublié ce que nous cherchions à l'origine. </p><a name="habracut"></a><br><p>  Ce n'est pas du tout ainsi que les gens rationnels prennent des décisions.  Mais c'est exactement ainsi que les développeurs décident d'utiliser, par exemple, MapReduce. </p><br><p>  Comme Joe Hellerstein l'a noté <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans sa conférence sur les bases de données pour les étudiants de premier cycle</a> (à la 54e minute): </p><br><blockquote>  <em>Le fait est qu'il existe environ 5 entreprises dans le monde qui exécutent des tâches aussi ambitieuses.</em>  <em>Quant à tout le monde ... ils dépensent des ressources incroyables pour fournir un système tolérant aux pannes dont ils n'ont vraiment pas besoin.</em>  <em>Les gens avaient une sorte de "googleing" dans les années 2000: "nous ferons tout exactement comme le fait Google, parce que nous gérons également le plus grand service de traitement de données au monde ..." [ironise en secouant la tête et attend les rires du public]</em> </blockquote><p><img src="https://habrastorage.org/webt/cs/6p/x-/cs6px-zosus_teurpriw6sodply.jpeg"><br>  <em>Combien d'étages dans le bâtiment de votre centre de données?</em>  <em>Google a décidé de rester à quatre, au moins dans ce centre de données particulier situé dans le comté de Mays, en Oklahoma.</em> </p><br><p>  Oui, votre système est plus résistant que vous n'en avez besoin, mais pensez à ce qu'il pourrait coûter.  Le point n'est pas seulement la nécessité de traiter de grandes quantités de données.  Vous échangez probablement un système complet - avec des transactions, des index et l'optimisation des requêtes - contre quelque chose de relativement faible.  Il s'agit d'un pas en arrière significatif.  Combien d'utilisateurs Hadoop le font consciemment?  Combien d'entre eux prennent une décision vraiment équilibrée? </p><br><p>  MapReduce / Hadoop est un exemple très simple.  Même les adeptes du culte du fret ont déjà réalisé que les avions ne résoudraient pas tous leurs problèmes.  Néanmoins, l'utilisation de MapReduce vous permet de faire une généralisation importante: si vous utilisez la technologie créée pour une grande entreprise, mais en même temps que vous résolvez de petits problèmes, vous agissez peut-être sans réfléchir.  Pas même ainsi, il est fort probable que vous soyez guidé par des idées mystiques qui imitant des géants comme Google et Amazon, vous atteindrez les mêmes sommets. </p><br><p><img src="https://habrastorage.org/webt/p4/sf/n2/p4sfn2m-dwznr5kufdonmywu2rk.jpeg"><br>  <em>Oui, cet article est un autre opposant au culte du cargo.</em>  <em>Mais attendez, j'ai une liste de contrôle utile pour vous, que vous pouvez utiliser pour prendre des décisions plus éclairées.</em> </p><br><h2 id="klassnyy-freymvork-unphat">  Cadre cool: UNPHAT </h2><br><p>  La prochaine fois que vous chercherez sur Google une nouvelle technique intéressante pour (re) façonner votre système, je vous invite à arrêter et à utiliser simplement le framework <strong>UNPHAT</strong> : </p><br><ol><li>  N'essayez même pas de réfléchir à des solutions possibles avant de <strong>comprendre le</strong> problème <strong>(comprendre)</strong> .  Votre objectif principal est de «résoudre» le problème en termes de problème, pas en termes de solutions. </li><li>  <strong>Énumérez (eNumerate)</strong> plusieurs solutions possibles.  Pas besoin de pointer immédiatement votre doigt sur votre option préférée. </li><li>  Envisagez une solution distincte, puis lisez la <strong>documentation (papier)</strong> , le cas échéant. </li><li>  Définissez le <strong>contexte historique</strong> dans lequel cette solution a été créée. </li><li>  Associez les <strong>avantages</strong> aux défauts.  Analysez ce que les décideurs ont dû sacrifier pour atteindre leur objectif. </li><li>  <strong>Pensez (pensez)</strong> !  Réfléchissez sereinement et calmement à quel point cette solution est adaptée à vos besoins.  <em>Qu'est-ce qui doit exactement changer pour que vous changiez d'avis?</em>  Par exemple, combien moins de données devraient être, de sorte que vous préférez ne pas utiliser Hadoop? </li></ol><br><h2 id="vy-ne-amazon">  Tu n'es pas amazone </h2><br><p>  Utiliser UNPHAT est facile.  Rappelez-vous ma récente conversation avec une entreprise qui a décidé à la hâte d'utiliser Cassandra pour un processus intensif de lecture des données téléchargées la nuit. </p><br><p>  Étant donné que je connaissais déjà la documentation Dynamo et savais que Cassandra est un système dérivé, j'ai compris que dans ces bases de données, l'accent était mis sur la <em>capacité d'enregistrement</em> (Amazon devait faire en sorte que l'action «ajouter au panier» ne soit jamais n'a pas échoué).  J'ai également apprécié que les développeurs aient sacrifié l'intégrité des données - et en fait, toutes les fonctionnalités inhérentes aux SGBDR traditionnels.  Mais après tout, la société avec laquelle j'ai parlé, la possibilité d'enregistrer n'était pas une priorité.  Honnêtement, le projet signifiait la création d'un gros disque par jour. </p><br><p><img src="https://habrastorage.org/webt/px/sw/xg/pxswxgbgpnk0ovipwmvhya2yt1u.jpeg"><br>  <em>Amazon vend beaucoup de tout.</em>  <em>Si la fonction «ajouter au panier» cessait soudainement de fonctionner, ils perdraient BEAUCOUP d'argent.</em>  <em>Vous avez un problème du même ordre?</em> </p><br><p>  Cette société a décidé d'utiliser Cassandra car il a fallu plusieurs minutes pour terminer la requête PostgreSQL en question, et ils ont décidé qu'il s'agissait de limitations techniques de la part de leur matériel.  Après avoir clarifié quelques points, nous avons réalisé que la table se composait d'environ 50 millions de lignes de 80 octets chacune.  Il faudrait environ 5 secondes pour le lire à partir du SSD si vous deviez le parcourir complètement.  C'est lent, mais il est toujours deux fois plus rapide que la vitesse d'exécution des requêtes à ce moment-là. </p><br><p>  À ce stade, j'avais beaucoup de questions (U = comprendre, comprendre le problème!) Et j'ai commencé à peser environ 5 stratégies différentes qui pourraient résoudre le problème d'origine (N = eNumerate, énumérer quelques solutions possibles!), Mais en tout cas il était déjà clair pour le moment que l'utilisation de Cassandra était fondamentalement la mauvaise décision.  Tout ce dont ils avaient besoin était d'un peu de patience pour mettre en place, probablement un nouveau design pour la base de données et, éventuellement (quoique peu probable), le choix d'une technologie différente ... Mais certainement pas un stockage de données de valeur clé avec enregistrement intensif que Amazon a créé pour leur panier! </p><br><h2 id="vy-ne-linkedin">  Vous n'êtes pas LinkedIn </h2><br><p>  J'ai été très surpris de constater qu'une startup étudiante a décidé de construire son architecture autour de Kafka.  C'était incroyable.  Autant que je sache, leur entreprise n'effectuait que quelques dizaines de très grandes opérations par jour.  Peut-être quelques centaines les jours les plus réussis.  Avec cette bande passante, le principal entrepôt de données pourrait être des entrées manuscrites dans un livre ordinaire. </p><br><p>  À titre de comparaison, rappelez-vous que Kafka a été créé pour gérer tous les événements analytiques sur LinkedIn.  C'est juste une énorme quantité de données.  Il y a encore quelques années, c'était <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">environ 1 billion d'événements par jour</a> , avec une charge de pointe de 10 millions de messages par seconde.  Bien sûr, je comprends que Kafka peut être utilisé pour travailler avec des charges plus faibles, mais à 10 commandes de moins? </p><br><p><img src="https://habrastorage.org/webt/ym/go/ut/ymgoutcmv7qmmm0n9ol2uxvfpaa.jpeg"><br>  <em>Le Soleil, étant un objet très massif, et qui n'est que 6 ordres de grandeur plus lourd que la Terre.</em> </p><br><p>  Peut-être que les développeurs ont même pris une décision délibérée, basée sur les besoins attendus et une bonne compréhension de l'objectif de Kafka.  Mais je pense qu'ils étaient plutôt alimentés par l'enthousiasme communautaire (généralement justifié) pour Kafka et ne se demandaient presque jamais si c'était vraiment l'outil dont ils avaient besoin.  Imaginez ... 10 commandes! </p><br><h2 id="ya-uzhe-govoril-vy-ne-amazon">  Je l'ai déjà dit?  Tu n'es pas amazone </h2><br><p>  L'approche de conception architecturale qui leur offre une évolutivité encore plus populaire que l'entrepôt de données distribué d'Amazon est une architecture orientée services.  Comme Werner Vogels l'a noté dans une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interview accordée à</a> Jim Gray en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2006</a> , Amazon s'est rendu compte en 2001 qu'ils avaient du mal à faire évoluer la partie frontale et qu'une architecture orientée services pouvait les aider.  Cette idée a infecté un développeur après l'autre, tandis que les startups, composées de quelques développeurs et presque pas de clients, n'ont pas commencé à diviser leurs logiciels en nanoservices. </p><br><p>  Au moment où Amazon a décidé de passer à SOA (architecture orientée services), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ils comptaient environ 7800 employés et leurs ventes dépassaient les 3 milliards de dollars</a> . </p><br><p><img src="https://habrastorage.org/webt/jm/tu/ft/jmtuftcplxwvwt4hipq9v291lig.jpeg"><br>  <em>La salle de concert Bill Graham Auditorium à San Francisco peut accueillir 7 000 personnes.</em>  <em>Amazon comptait environ 7 800 employés lorsqu'ils sont passés à SOA.</em> </p><br><p>  Cela ne signifie pas que vous devez reporter la transition vers la SOA jusqu'à ce que votre entreprise atteigne le niveau de 7800 employés ... <em>pensez toujours avec votre propre tête</em> .  Est-ce vraiment la meilleure solution pour votre tâche?  Quelle est exactement la tâche qui vous attend et existe-t-il d'autres moyens de la résoudre? </p><br><p>  Si vous me dites que le travail de votre organisation, qui se compose de 50 développeurs, augmente simplement sans SOA, alors je me suis demandé pourquoi tant de grandes entreprises fonctionnent simplement à merveille en utilisant une seule application, mais bien organisée. </p><br><h2 id="dazhe-google--ne-google">  Même Google n'est pas Google. </h2><br><p>  Des exemples d'utilisation de systèmes pour traiter des flux de données très chargés (Hadoop ou Spark) peuvent vraiment être déroutants.  Très souvent, les SGBD traditionnels sont mieux adaptés à la charge, et parfois la quantité de données est si petite que même la <em>mémoire disponible</em> leur suffirait.  Saviez-vous que vous pouvez acheter 1 To de RAM quelque part pour 10 000 $?  Même si vous aviez un milliard d'utilisateurs, vous seriez toujours en mesure de fournir à chacun d'eux 1 Ko de RAM. </p><br><p>  Peut-être que cela ne suffira pas pour votre charge, car vous devrez lire et écrire sur le disque.  Mais avez-vous vraiment besoin de plusieurs milliers de disques pour lire et écrire?  Voici combien de données vous avez en fait?  GFS et MapReduce ont été créés pour résoudre des problèmes informatiques sur Internet ... par exemple, pour recalculer l'index de recherche <em>sur Internet</em> . </p><br><p><img src="https://habrastorage.org/webt/eo/ys/qa/eoysqaa_e4yvtbekv9jmx-ct_km.jpeg"><br>  <em>Les prix des disques durs sont désormais bien inférieurs à ceux de 2003 lors de la publication de la documentation GFS.</em> </p><br><p>  Peut-être que vous avez lu la documentation GFS et MapReduce et que vous avez remarqué que l'un des problèmes pour Google n'était pas la quantité de données, mais la bande passante (vitesse de traitement): ils utilisaient le stockage distribué car cela prenait trop de temps pour transférer des octets à partir des disques.  Mais quelle sera la bande passante des appareils que vous utiliserez cette année?  Étant donné que vous n'avez même pas besoin d'autant d'appareils que Google en aurait besoin, serait-il préférable d'acheter simplement des disques plus modernes?  Combien cela coûtera-t-il d'utiliser un SSD? </p><br><p>  Vous souhaitez peut-être envisager l’évolutivité à l’avance.  Avez-vous déjà fait tous les calculs nécessaires?  Allez-vous accumuler des données plus rapidement que les prix des SSD ne baissent?  Combien de fois votre entreprise devra-t-elle se développer pour que toutes les données disponibles ne tiennent plus sur un seul appareil?  En 2016, Stack Exchange traitait 200 millions de requêtes par jour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avec prise en charge de seulement 4 serveurs SQL</a> : le principal pour Stack Overflow, un de plus pour tout le reste et deux copies. </p><br><p>  Encore une fois, vous pouvez recourir à UNPHAT et toujours décider d'utiliser Hadoop ou Spark.  Et la décision peut même être juste.  L'essentiel est que vous <em>utilisiez vraiment la bonne technologie pour résoudre votre problème</em> .  Soit dit en passant, cela est bien connu de Google: lorsqu'ils ont décidé que MapReduce n'était pas adapté à l'indexation, ils ont cessé de l'utiliser. </p><br><h2 id="pervo-napervo-ponyat-problemu">  Tout d'abord, comprenez le problème </h2><br><p>  Mon message n'est peut-être pas quelque chose de nouveau, mais c'est peut-être sous cette forme qu'il vous répondra ou peut-être qu'il vous sera simplement facile de vous souvenir de l'UNPHAT et de l'appliquer dans la vie.  Sinon, vous pouvez regarder Rich Hickey parler au <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hammock Driven Development</a> ou au livre de Paul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, How to Solve it</a> , ou à Hamming <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">’s The Art of Doing Science and Engineering</a> .  Parce que la principale chose que nous demandons tous est de réfléchir! </p><br><p>  <strong>Et comprenez vraiment le problème que vous essayez de résoudre.</strong>  Dans les mots inspirants de Paul: </p><br><blockquote>  « <em>Il est insensé de répondre à une question que vous ne comprenez pas.</em>  <em>C'est triste de viser un objectif que vous ne voulez pas atteindre. "</em> </blockquote><br><hr><br><h2 id="perevod-na-russkiy">  Traduction russe </h2><br><p>  <strong>Traduction:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Alexander Tregubov</a> <br>  <strong>Édité par</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Alexey Ivanov (@ponchiknews)</a> <br>  <strong>Communauté:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@ponchiknews</a> <br>  <strong>Figure:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Équipe de contenu LucidChart</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450230/">https://habr.com/ru/post/fr450230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450210/index.html">Déployez vos ailes: comment la vidéosurveillance aide les ornithologues à sauver des oiseaux rares</a></li>
<li><a href="../fr450214/index.html">Exécution des inspections IntelliJ IDEA sur Jenkins</a></li>
<li><a href="../fr450216/index.html">Vacances ou vacances?</a></li>
<li><a href="../fr450222/index.html">5 services de marketing numérique sympas non entendus en Russie</a></li>
<li><a href="../fr450228/index.html">10 mythes sur la rage</a></li>
<li><a href="../fr450232/index.html">Systèmes de purification d'eau par osmose inverse - super ou pas?</a></li>
<li><a href="../fr450234/index.html">Comment les machines communiquent: protocole Modbus</a></li>
<li><a href="../fr450236/index.html">Comment j'ai cessé de m'inquiéter et jeté un regard différent sur les systèmes de suivi du temps</a></li>
<li><a href="../fr450238/index.html">Validation de l'interface TypeScript à l'aide de Joi</a></li>
<li><a href="../fr450240/index.html">Walmart ouvre son premier magasin axé sur l'IA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>