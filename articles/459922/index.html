<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¢ ü¶Ñ üë®üèæ‚Äçüç≥ Eliminar el ruido de alta frecuencia de las se√±ales de los sensores de vibraci√≥n durante el diagn√≥stico de vibraci√≥n de los rodamientos üë®üèΩ‚Äç‚öïÔ∏è üé∂ üåø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foto tomada de la publicaci√≥n. 

 Introduccion 
 Una de las tareas m√°s urgentes del procesamiento de la se√±al digital es la tarea de limpiar la se√±al ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eliminar el ruido de alta frecuencia de las se√±ales de los sensores de vibraci√≥n durante el diagn√≥stico de vibraci√≥n de los rodamientos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459922/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/zj/kb/59zjkb8gnd_phkp1allrzocs6by.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Foto tomada de la publicaci√≥n.</a> <br><br><h3>  Introduccion </h3><br>  Una de las tareas m√°s urgentes del procesamiento de la se√±al digital es la tarea de limpiar la se√±al del ruido.  Cualquier se√±al pr√°ctica contiene no solo informaci√≥n √∫til, sino tambi√©n rastros de algunos efectos extra√±os de interferencia o ruido.  Adem√°s, durante el diagn√≥stico de vibraci√≥n, las se√±ales de los sensores de vibraci√≥n tienen un espectro de frecuencia no estacionario, lo que complica la tarea de filtrado. <br><br>  Hay muchas formas diferentes de eliminar el ruido de alta frecuencia de una se√±al.  Por ejemplo, la biblioteca Scipy contiene filtros basados ‚Äã‚Äãen varios m√©todos de filtrado: Kalman;  suavizando la se√±al promediando a lo largo del eje de tiempo y otros. <br><br>  Sin embargo, la ventaja del m√©todo de transformaci√≥n de wavelet discreta (DWT) es la variedad de formas de wavelet.  Puede seleccionar una wavelet, que tendr√° una forma caracter√≠stica de los fen√≥menos esperados.  Por ejemplo, puede seleccionar una se√±al en un rango de frecuencia dado, cuya forma es responsable de la aparici√≥n de un defecto. <br><br>  <b>El prop√≥sito de esta publicaci√≥n</b> es analizar los m√©todos de filtrado de las se√±ales de los sensores de vibraci√≥n utilizando la conversi√≥n de se√±al DWT, el filtro de Kalman y el m√©todo de promedio m√≥vil. <br><br><h3>  Fuente de datos para an√°lisis </h3><br>  En la publicaci√≥n, se analizar√° el funcionamiento de los filtros basados ‚Äã‚Äãen varios m√©todos de filtrado utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un conjunto de datos de la NASA</a> .  Datos obtenidos en la plataforma experimental PRONOSTIA: <br><br><img src="https://habrastorage.org/webt/yt/bz/9l/ytbz9lrxw2h8roaaokvclm7qqgc.png"><br><br>  El kit contiene datos sobre las se√±ales del sensor de vibraci√≥n para el desgaste de varios tipos de rodamientos.  El prop√≥sito de las carpetas con los archivos de se√±al se da en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tabla</a> : <br><br><img src="https://habrastorage.org/webt/2w/ap/wr/2wapwr4x6xe5r-a2y2_nwc_oski.png"><br><br>  El monitoreo del estado de los rodamientos es proporcionado por las se√±ales de los sensores de vibraci√≥n (aceler√≥metros horizontales y verticales), la fuerza y ‚Äã‚Äãla temperatura. <br><br><img src="https://habrastorage.org/webt/wl/o1/a0/wlo1a0i6430fko-l5lijoa5tu4c.png"><br><br>  Se√±ales recibidas para tres cargas diferentes: <br><br><ul><li>  Primeras condiciones de trabajo: 1800 rpm y 4000 N; </li><li>  Segundas condiciones de trabajo: 1650 rpm y 4200 N; </li><li>  Terceras condiciones de funcionamiento: 1500 rpm y 5000 N. </li></ul><br><a name="habracut"></a><br>  Para estas condiciones, utilizando la conversi√≥n continua de se√±al wavelet, construimos los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escalogramas</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">espectro de potencia</a> para los datos del conjunto de prueba: un archivo (para un tipo de rodamientos) de las carpetas: ['Test_set / Bearing1_3 / acc_00001.csv', 'Test_set / Bearing2_3 / acc_00001. csv ',' Test_set / Bearing3_3 / acc_00001.csv '] (ver tabla 1). <br><br><div class="spoiler">  <b class="spoiler_title">Listado de escaleogramas</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename_n = [<span class="hljs-string"><span class="hljs-string">'Test_set/Bearing1_3/acc_00001.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing3_3/acc_00001.csv'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> filename <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> filename_n: df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = scg.cws(signal, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, cbar=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'-  %s \n( )'</span></span>%filename) show()</code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/zb/k4/v7/zbk4v74jffmfkopfqkhecmjjelu.png"><br><img src="https://habrastorage.org/webt/hz/nh/nh/hznhnhcpyg3thjqs4deu4dleq0s.png"><br><img src="https://habrastorage.org/webt/n2/ii/jv/n2iijvml8h0tq-bq38rcabkz8ny.png"><br><br>  De los escaogramas dados se deduce que los momentos de aumento de la potencia del espectro aparecen antes en el tiempo y demuestran la frecuencia para las condiciones de operaci√≥n: 1650 rpm y 4200 N, lo que indica una degradaci√≥n acelerada de los rodamientos en esta banda de frecuencia para la fuerza reducida.  Utilizaremos esta se√±al ('Test_set / Bearing2_3 / acc_00001.csv') para analizar los m√©todos de eliminaci√≥n de ruido. <br><br><h3>  Deconstrucci√≥n de se√±al utilizando DWT </h3><br>  En la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicaci√≥n,</a> vimos c√≥mo se implementa un banco de filtros en el DWT que puede deconstruir una se√±al en sus subbandas de frecuencia.  Los coeficientes de aproximaci√≥n (cA) representan la parte de baja frecuencia de la se√±al (filtro de promedio).  Los coeficientes de detalle (cD) representan la porci√≥n de alta frecuencia de la se√±al.  A continuaci√≥n, examinaremos c√≥mo se puede usar DWT para deconstruir una se√±al en sus subbandas de frecuencia y restaurar la se√±al original. <br><br>  Hay dos formas de resolver el problema de deconstrucci√≥n de se√±al utilizando las herramientas PyWavelets: <br><br>  La primera forma es aplicar pywt.dwt () a la se√±al para extraer los coeficientes de aproximaci√≥n y detalle (cA1, cD1).  Luego, para restaurar la se√±al, usaremos pywt.idwt (): <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values (cA1, cD1) = pywt .dwt (signal, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'smooth'</span></span>) r_signal = pywt.idwt (cA1, cD1, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'smooth'</span></span>) fig, ax =subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, <span class="hljs-string"><span class="hljs-string">'b'</span></span>,label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax.plot(r_signal, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'  '</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'--'</span></span>) ax.legend(loc=<span class="hljs-string"><span class="hljs-string">'upper left'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'   ( pywt.dwt()) \n   ( pywt.idwt()) '</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/iv/fm/pi/ivfmpiij21temoybrrrdqkflkxw.png"><br><br>  La segunda forma de aplicar la funci√≥n pywt.wavedec () a la se√±al es restaurar todos los coeficientes de aproximaci√≥n y detalle a un cierto nivel.  Esta funci√≥n toma la se√±al y el nivel iniciales como entrada y devuelve un conjunto de coeficientes de aproximaci√≥n (en√©simo nivel) yn conjuntos de coeficientes de detalle (del 1 al en√©simo nivel).  Para la deconstrucci√≥n, aplique pywt.waverec (): <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing3_3/acc_00026.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values coeffs = pywt.wavedec(signal, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, level=<span class="hljs-number"><span class="hljs-number">8</span></span>) r_signal = pywt.waverec(coeffs, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>) fig, ax = plt.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, <span class="hljs-string"><span class="hljs-string">'b'</span></span>,label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax.plot(r_signal, <span class="hljs-string"><span class="hljs-string">'r '</span></span>,label= <span class="hljs-string"><span class="hljs-string">' '</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'--'</span></span>) ax.legend(loc=<span class="hljs-string"><span class="hljs-string">'upper left'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'    - level.\n   ( pywt.wavedec()) '</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/qq/ao/bn/qqaobnxdnlkrjllymvd3aqxti44.png"><br>  La segunda forma de deconstruir y restaurar la se√±al es m√°s conveniente, ya que le permite establecer inmediatamente el nivel deseado de deconstrucci√≥n. <br><br><h3>  Eliminar el ruido de alta frecuencia eliminando algunos de los coeficientes de detalle durante la deconstrucci√≥n de la se√±al </h3><br>  Restauraremos la se√±al eliminando algunos de los coeficientes de detalle.  Dado que los coeficientes de detalle representan la parte de alta frecuencia de la se√±al, simplemente filtramos esta parte del espectro de frecuencia.  Si hay ruido de alta frecuencia en la se√±al, esta es una forma de filtrarlo. <br><br>  En la biblioteca PyWavelets, esto se puede hacer usando la funci√≥n de procesamiento de umbral pywt.threshol (): <br><br>  pywt.threshold (datos, valor, modo = 'soft', sustituto = 0) ¬∂ <br>  <b>data:</b> array_like <br>  <i>Datos num√©ricos</i> <br>  <b>valor:</b> escalar <br>  <i>Valor umbral</i> <br>  <b>modo:</b> {'suave', 'duro', 'garrote', 'mayor', 'menor'} <br>  <i>Define el tipo de umbral que se aplicar√° a la entrada.</i>  <i>El valor predeterminado es "suave".</i> <br>  <b>sustituto:</b> flotador, opcional <br>  <i>Valor de sustituci√≥n (predeterminado: 0).</i> <br>  <b>salida:</b> matriz <br>  <i>Arreglo de umbral.</i> <br><br>  La aplicaci√≥n de la funci√≥n de procesamiento de umbral para un valor de umbral dado se considera mejor usando el siguiente ejemplo: <br><br><pre> <code class="python hljs">&gt;&gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt &gt;&gt;&gt; data =linspace(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>) &gt;&gt;&gt; data array([<span class="hljs-number"><span class="hljs-number">1.</span></span> , <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span> , <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span> , <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">2.</span></span> , <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'garrote'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.9</span></span>,<span class="hljs-number"><span class="hljs-number">1.66666667</span></span>, <span class="hljs-number"><span class="hljs-number">2.35714286</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>])</code> </pre><br>  Trazamos el gr√°fico de la funci√≥n de umbral usando la siguiente lista: <br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt s = linspace(<span class="hljs-number"><span class="hljs-number">-4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>) s_soft = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span>) s_hard = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'hard'</span></span>) s_garrote = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'garrote'</span></span>) figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) plot(s, s_soft) plot(s, s_hard) plot(s, s_garrote) legend([<span class="hljs-string"><span class="hljs-string">'soft (0.5)'</span></span>, <span class="hljs-string"><span class="hljs-string">'hard (0.5)'</span></span>, <span class="hljs-string"><span class="hljs-string">'non-neg. garrote (0.5)'</span></span>]) xlabel(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ylabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) show()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/gd/lp/oo/gdlpoowyfgb1iv0kd-wm1vpb8vg.png"><br><br>  El gr√°fico muestra que el umbral de Garott no negativo es intermedio entre el umbral blando y el duro.  Se requieren un par de umbrales que definen el ancho de la regi√≥n de transici√≥n. <br><br><h3>  La influencia de la funci√≥n umbral en las caracter√≠sticas del filtro </h3><br>  Como se deduce del gr√°fico anterior, solo dos funciones de umbral 'soft' y 'garrote' son adecuadas para nosotros, para estudiar su influencia en las caracter√≠sticas del filtro, anotamos la lista: <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values v=<span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span> thres=[<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ,<span class="hljs-string"><span class="hljs-string">'garrote'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thres: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh, wavelet=v)</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, level=<span class="hljs-number"><span class="hljs-number">8</span></span>,mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=w ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) rec = lowpassfilter(signal, <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'      :%s\n   :%s'</span></span>%(v,w), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) show()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/yx/th/g8/yxthg8ew_lkh-koeq6bnfvw6tla.png"><br><img src="https://habrastorage.org/webt/8q/nn/35/8qnn353spuea5_mtc6jb_t1tmty.png"><br><br>  Como se desprende de los gr√°ficos, la funci√≥n suave proporciona un mejor suavizado que la funci√≥n 'garrote', por lo que utilizaremos la funci√≥n suave en el futuro. <br><br><h3>  La influencia del umbral de detalle en las caracter√≠sticas del filtro. </h3><br>  Para el tipo de filtro en consideraci√≥n, el umbral para cambiar los coeficientes de detalle es una caracter√≠stica importante, por lo tanto, estudiamos su efecto utilizando la siguiente lista: <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values v=<span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span> thres=[<span class="hljs-number"><span class="hljs-number">0.1</span></span>,<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.6</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thres: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh, wavelet=v)</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, level=<span class="hljs-number"><span class="hljs-number">8</span></span>,mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) rec = lowpassfilter(signal,w) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'      :%s\n    %s'</span></span>%(v,w), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/nu/vp/te/nuvptehfyqvcheixzbsqac506ci.png"><br><img src="https://habrastorage.org/webt/2o/vg/nn/2ovgnnncwq4b4yc0odhhj_bteae.png"><br><img src="https://habrastorage.org/webt/sk/ep/_r/skep_rwbarrrdfhmnxbobzlxiyc.png"><br><br>  Como se deduce de los gr√°ficos obtenidos, el umbral del nivel de detalle afecta la escala de las partes apantalladas.  Con un aumento en el umbral, la wavelet resta ruido de un nivel cada vez mayor hasta que se produce un aumento excesivo de la escala de detalle y la transformaci√≥n comienza a distorsionar la forma de la se√±al original. Para nuestra se√±al, el umbral no debe ser superior a 0,63. <br><br><h3>  El efecto de wavelet en las caracter√≠sticas del filtro </h3><br>  La biblioteca PyWavelets tiene un n√∫mero suficiente de wavelets para la conversi√≥n DWT, que se puede obtener de esta manera: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt &gt;&gt;&gt; print(pywt.wavelist(kind= <span class="hljs-string"><span class="hljs-string">'discrete'</span></span>)) [<span class="hljs-string"><span class="hljs-string">'bior1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior5.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior6.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif1'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif2'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif3'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif4'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif5'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif6'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif7'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif8'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif9'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif10'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif11'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif12'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif13'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif14'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif15'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif16'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif17'</span></span>, <span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'db3'</span></span>, <span class="hljs-string"><span class="hljs-string">'db4'</span></span>, <span class="hljs-string"><span class="hljs-string">'db5'</span></span>, <span class="hljs-string"><span class="hljs-string">'db6'</span></span>, <span class="hljs-string"><span class="hljs-string">'db7'</span></span>, <span class="hljs-string"><span class="hljs-string">'db8'</span></span>, <span class="hljs-string"><span class="hljs-string">'db9'</span></span>, <span class="hljs-string"><span class="hljs-string">'db10'</span></span>, <span class="hljs-string"><span class="hljs-string">'db11'</span></span>, <span class="hljs-string"><span class="hljs-string">'db12'</span></span>, <span class="hljs-string"><span class="hljs-string">'db13'</span></span>, <span class="hljs-string"><span class="hljs-string">'db14'</span></span>, <span class="hljs-string"><span class="hljs-string">'db15'</span></span>, <span class="hljs-string"><span class="hljs-string">'db16'</span></span>, <span class="hljs-string"><span class="hljs-string">'db17'</span></span>, <span class="hljs-string"><span class="hljs-string">'db18'</span></span>, <span class="hljs-string"><span class="hljs-string">'db19'</span></span>, <span class="hljs-string"><span class="hljs-string">'db20'</span></span>, <span class="hljs-string"><span class="hljs-string">'db21'</span></span>, <span class="hljs-string"><span class="hljs-string">'db22'</span></span>, <span class="hljs-string"><span class="hljs-string">'db23'</span></span>, <span class="hljs-string"><span class="hljs-string">'db24'</span></span>, <span class="hljs-string"><span class="hljs-string">'db25'</span></span>, <span class="hljs-string"><span class="hljs-string">'db26'</span></span>, <span class="hljs-string"><span class="hljs-string">'db27'</span></span>, <span class="hljs-string"><span class="hljs-string">'db28'</span></span>, <span class="hljs-string"><span class="hljs-string">'db29'</span></span>, <span class="hljs-string"><span class="hljs-string">'db30'</span></span>, <span class="hljs-string"><span class="hljs-string">'db31'</span></span>, <span class="hljs-string"><span class="hljs-string">'db32'</span></span>, <span class="hljs-string"><span class="hljs-string">'db33'</span></span>, <span class="hljs-string"><span class="hljs-string">'db34'</span></span>, <span class="hljs-string"><span class="hljs-string">'db35'</span></span>, <span class="hljs-string"><span class="hljs-string">'db36'</span></span>, <span class="hljs-string"><span class="hljs-string">'db37'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>, <span class="hljs-string"><span class="hljs-string">'dmey'</span></span>, <span class="hljs-string"><span class="hljs-string">'haar'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio4.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio5.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio6.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym2'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym3'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym4'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym5'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym6'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym7'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym8'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym9'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym10'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym11'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym12'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym13'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym14'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym15'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym16'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym17'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym18'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym19'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym20'</span></span>]</code> </pre> <br>  La influencia de la wavelet en la caracter√≠stica del filtro depende de su funci√≥n primitiva.  Para demostrar esta dependencia, seleccionamos dos wavelets de la familia Dobeshi: db1 y db38, y consideramos estas familias: <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* db_wavelets = [<span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>] fig, axarr = subplots(ncols=<span class="hljs-number"><span class="hljs-number">2</span></span>, nrows=<span class="hljs-number"><span class="hljs-number">5</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) fig.suptitle(<span class="hljs-string"><span class="hljs-string">'  : db1,db38'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> col_no, waveletname <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(db_wavelets): wavelet = pywt.Wavelet(waveletname) no_moments = wavelet.vanishing_moments_psi family_name = wavelet.family_name <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> row_no, level <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>)): wavelet_function, scaling_function, x_values = wavelet.wavefun(level = level) axarr[row_no, col_no].set_title(<span class="hljs-string"><span class="hljs-string">"{} : {}.   : {}. :: {} "</span></span>.format( waveletname, level, no_moments, len(x_values)), loc=<span class="hljs-string"><span class="hljs-string">'left'</span></span>) axarr[row_no, col_no].plot(x_values, wavelet_function, <span class="hljs-string"><span class="hljs-string">'b--'</span></span>) axarr[row_no, col_no].set_yticks([]) axarr[row_no, col_no].set_yticklabels([]) tight_layout() subplots_adjust(top=<span class="hljs-number"><span class="hljs-number">0.9</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/fs/0m/sq/fs0msqniw-dcixmdhfbrxrwpwfg.png"><br><br>  En la primera columna vemos las wavelets Daubeshi del primer orden (db1), en la segunda columna del trig√©simo octavo orden (db38).  Por lo tanto, db1 tiene un momento de extinci√≥n, y db38 tiene 38 momentos de extinci√≥n.  El n√∫mero de momentos de desaparici√≥n est√° relacionado con el orden de aproximaci√≥n y la suavidad de la wavelet.  Si una wavelet tiene P puntos de desaparici√≥n, puede aproximarse a polinomios de grado P - 1. <br><br>  Las wavelets m√°s suaves crean una aproximaci√≥n de se√±al m√°s suave y viceversa: las wavelets "cortas" siguen mejor los picos de la funci√≥n aproximada.  Al elegir una wavelet, tambi√©n podemos indicar cu√°l deber√≠a ser el nivel de descomposici√≥n.  Por defecto, PyWavelets selecciona el nivel m√°ximo de descomposici√≥n posible para la se√±al de entrada.  El nivel m√°ximo de descomposici√≥n depende de la longitud de la se√±al de entrada y wavelet: <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) data = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values w=[<span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> w: n_level=pywt.dwt_max_level(len(data),v) print(<span class="hljs-string"><span class="hljs-string">'  %s   : %s '</span></span> %(v,n_level))</code> </pre> <br></div></div><br>  Para wavelet db1, nivel m√°ximo de descomposici√≥n: 11 <br>  Para wavelet db38, nivel m√°ximo de descomposici√≥n: 5 <br><br>  Para los valores obtenidos de los niveles m√°ximos de descomposici√≥n de wavelets, consideramos la operaci√≥n del filtro para eliminar el ruido de alta frecuencia: <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values discrete_wavelets =[(<span class="hljs-string"><span class="hljs-string">'db38'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>),(<span class="hljs-string"><span class="hljs-string">'db1'</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> discrete_wavelets: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.63</span></span></span></span><span class="hljs-function"><span class="hljs-params">, wavelet=v[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal wavelet = pywt.DiscreteContinuousWavelet(v[<span class="hljs-number"><span class="hljs-number">0</span></span>]) phi, psi, x = wavelet.wavefun(level=v[<span class="hljs-number"><span class="hljs-number">1</span></span>]) fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.set_title(<span class="hljs-string"><span class="hljs-string">"   : %s,level=%s"</span></span>%(v[<span class="hljs-number"><span class="hljs-number">0</span></span>],v[<span class="hljs-number"><span class="hljs-number">1</span></span>]), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.plot(x,phi,linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">'   '</span></span>) rec = lowpassfilter(signal, <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'   \n   :%s,level=%s'</span></span>%(v[<span class="hljs-number"><span class="hljs-number">0</span></span>],v[<span class="hljs-number"><span class="hljs-number">1</span></span>]),fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = ax = scg.cws(rec, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span>), wavelet=wavelet,figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  \n(   DWT  )'</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/ox/ye/ly/oxyelyqw4xi75vxu8sgn57jy2ek.png"><br><img src="https://habrastorage.org/webt/iv/-s/sy/iv-ssyb2yau4ym95tk7ks37hddo.png"><br><img src="https://habrastorage.org/webt/1f/vm/4t/1fvm4trkcng-igaafvxppvadkvo.png"><br><img src="https://habrastorage.org/webt/w1/zm/ls/w1zmlsmgqnlnbj2ww5v6nijdmyo.png"><br><img src="https://habrastorage.org/webt/js/wc/l3/jswcl3-b_tcy_cth70tlktwc6ka.png"><br><img src="https://habrastorage.org/webt/z8/c-/83/z8c-83mpmq8p5ewenjbkudpjh5s.png"><br><br>  Se deduce de los escalogramas dados de las se√±ales en la salida del filtro que, para la wavelet db38, la potencia m√°xima del espectro es seguida por regiones localizadas, para la wavelet db1, estas regiones desaparecen.  Cabe se√±alar que, por ejemplo, la wavelet db38 puede aproximarse a una se√±al de polinomio de grado 37.  Esto extiende la clasificaci√≥n de las se√±ales, por ejemplo, para identificar el mal funcionamiento del equipo por las se√±ales de los sensores de vibraci√≥n. <br><br>  <b>Dado que la se√±al despu√©s del filtro con la wavelet de Daubechies forma una serie temporal utilizando los coeficientes de aproximaci√≥n y descomposici√≥n como caracter√≠sticas de la serie, es posible determinar el grado de proximidad de dicha serie, lo que simplifica enormemente su b√∫squeda y clasificaci√≥n</b> <br><br><h3>  Filtro de Kalman para eliminar el ruido de alta frecuencia </h3><br>  El filtro Kalman se usa ampliamente para filtrar el ruido en varios sistemas din√°micos.  Considere un sistema din√°mico con un vector de estado x. <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi><mo>+</mo><mi>w</mi><mo stretchy=&quot;false&quot;>(</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.421ex" height="2.66ex" viewBox="0 -832 8792.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-46" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="2906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="3339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="3863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="4348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="4710" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2B" x="5504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-77" x="6505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-28" x="7222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-51" x="7611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-29" x="8403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> x = F \ cdot x + w (Q) </script><br><br>  donde F es la matriz de transici√≥n <br>  w (Q) es un proceso aleatorio (ruido) con cero expectativas matem√°ticas y una matriz de covarianza Q. <br><br>  Observaremos las transiciones de estado del sistema con un error de medici√≥n conocido en cada momento del tiempo.  Eliminar el ruido usando el m√©todo de Kalman consta de dos pasos: extrapolaci√≥n y correcci√≥n, se ve as√≠. <br><br>  Establezca los par√°metros del sistema: <br><br>  Matriz Q de covarianza de ruido (covarianza de ruido de proceso). <br>  H es la matriz de observaci√≥n (medici√≥n). <br>  R - covarianza del ruido de observaci√≥n (covarianza del ruido de medici√≥n). <br>  P = Q es el valor inicial de la matriz de covarianza para el vector de estado. <br>  z (t) es el estado observado del sistema. <br>  x = z (0) es el valor inicial de la evaluaci√≥n del estado del sistema. <br><br>  Para cada observaci√≥n z, calcularemos el estado filtrado x <br>  y para esto realizamos los siguientes pasos. <br><br>  ‚Ä¢ paso 1: extrapolaci√≥n <br>  1. extrapolaci√≥n (predicci√≥n) del estado del sistema <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.269ex" height="2.057ex" viewBox="0 -780.1 5282.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-46" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="2906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="3339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="3863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="4348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="4710" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>F</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> x = F \ cdot x </script><br>  2. calcular la matriz de covarianza para el vector de estado extrapolado <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo>=</mo><mi>F</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><mo>+</mo><mi>Q</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.749ex" height="2.78ex" viewBox="0 -935.7 11086.5 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="1027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-46" x="2083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="3083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="4040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="4525" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-50" x="4887" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="5888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="6322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="6845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="7331" y="0"></use><g transform="translate(7692,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-54" x="1104" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2B" x="9294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-51" x="10295" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo>=</mo><mi>F</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>F</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mo>+</mo><mi>Q</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> F = F \ cdot P \ cdot F ^ {T} + Q </script><br><br>  ‚Ä¢ paso 2: correcci√≥n <br>  1. calcular el vector de error, la desviaci√≥n de la observaci√≥n del estado esperado <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>=</mo><mi>z</mi><mo>&amp;#x2212;</mo><mi>H</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.346ex" height="2.419ex" viewBox="0 -780.1 7038 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-7A" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2212" x="2522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-48" x="3523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="4661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="5095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="5618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="6104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="6465" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>=</mo><mi>z</mi><mo>‚àí</mo><mi>H</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> y = z-H \ cdot x </script><br>  2. calcular la matriz de covarianza para el vector de desviaci√≥n (vector de error) <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi><mo>=</mo><mi>H</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><mo>+</mo><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.045ex" height="2.539ex" viewBox="0 -935.7 11213.8 1093.4" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-48" x="1979" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="3118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="3551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="4075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-50" x="4922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="5923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="6357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="6880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="7366" y="0"></use><g transform="translate(7727,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-54" x="1280" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2B" x="9453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-52" x="10454" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mo>=</mo><mi>H</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mo>+</mo><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> S = H \ cdot P \ cdot H ^ {T} + R </script><br>  3. calcular las ganancias de Kalman <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>K</mi><mo>=</mo><mi>P</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.632ex" height="2.419ex" viewBox="0 -935.7 13188.9 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-4B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="1167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-50" x="2223" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="3225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="3658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="4667" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-48" x="5029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="6167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="6601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="7124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="7610" y="0"></use><g transform="translate(7971,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-54" x="1280" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="9725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="10158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="10682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="11167" y="0"></use><g transform="translate(11529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-53" x="0" y="0"></use><g transform="translate(655,362)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-31" x="778" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>K</mi><mo>=</mo><mi>P</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>H</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msup><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>1</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-6"> K = P \ cdot H \ cdot H ^ {T} \ cdot S ^ {- 1} </script><br>  4. correcci√≥n de la estimaci√≥n vectorial del estado <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>K</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.59ex" height="2.419ex" viewBox="0 -780.1 7143 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-78" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2B" x="2701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-4B" x="3702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="4841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="5275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="5798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="6284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-79" x="6645" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>K</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> x = x + K \ cdot y </script><br>  5. corregimos la matriz de covarianza para estimar el vector de estado del sistema <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>I</mi><mo>&amp;#x2212;</mo><mi>K</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.082ex" height="2.66ex" viewBox="0 -832 11229.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-28" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-49" x="2475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2212" x="3201" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-4B" x="4202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="5342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="5775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="6299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="6784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-48" x="7146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-29" x="8034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="8674" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="9107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="9631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="10116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-50" x="10478" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo>=</mo><mo stretchy="false">(</mo><mi>I</mi><mo>‚àí</mo><mi>K</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>H</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>P</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> P = (I-K \ cdot H) \ cdot P </script><br><br><div class="spoiler">  <b class="spoiler_title">Listado para la implementaci√≥n del algoritmo</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kalman_filter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( z, F = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #     </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(transitionMatrix)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Q = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3e-3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #   </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(processNoiseCov)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> H = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #   </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(measurement)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> R = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3e-1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> #    </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(measurementNoiseCov)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function">:</span></span> n = z.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">#   #m = z.shape[1] #   x = z[0,:].transpose() #      P = Q #       r = [ x ] #  for i in range(1,n): # : x = F.dot( x ) #  ()   P = F.dot(P).dot( F.transpose() ) + Q #       # : y = z[i] - H.dot(x) #  ,      ()  S = H.dot(P).dot(H.transpose()) + R #      ( ) K = P.dot(H.transpose()).dot(linalg.inv(S)) #     x = x + K.dot(y) #     P = ( eye(z.shape[1]) - K.dot(H) ).dot(P) #       r.append( x.transpose()) return array(r) filename = 'Test_set/Bearing2_3/acc_00001.csv' df = pd.read_csv(filename, header=None) signal = df[4].values N= signal .shape[0] #   # 2 dimensions y0 =linspace(0.0,2500.0,N) y1 =signal d = array(list(zip(y0,y1))) dn = dr = kalman_filter(dn) fig, ax = subplots(figsize=(8,4)) ax.plot( d[:,0], d[:,1],'b', label=' ' ) ax.plot( r[:,0], r[:,1],'r', label='kalman' ) ax.legend(loc='upper left') ax.set_title('       \n (  )', fontsize=12) ax.set_ylabel(' ', fontsize=12) ax.set_xlabel('', fontsize=12) show()</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/zp/ql/ln/zpqllnxdxf-fgpt2gyhxg4xekwm.png"><br><br>  Para el modelo din√°mico dado, puede usar la biblioteca pyKalman: <br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pykalman <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> KalmanFilter <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values measurements =signal kf = KalmanFilter(transition_matrices=[<span class="hljs-number"><span class="hljs-number">1</span></span>] ,<span class="hljs-comment"><span class="hljs-comment"># A      t  t+1 observation_matrices=[1],# C   initial_state_mean=measurements[0],#   initial_state_covariance=[1],#    observation_covariance=[1],# R    transition_covariance= 0.01) # Q     state_means, state_covariances = kf.filter(measurements)# ,   state_means=[w[0] for w in state_means] state_std = sqrt(state_covariances[:,0]) fig, ax = subplots(figsize=(8,4)) ax.plot(measurements ,'b', label=' ') ax.plot(state_means ,'r', label='kalman- ') ax.legend() ax.set_title('      \n ( pyKalman)', fontsize=14) ax.set_ylabel(' ', fontsize=12) ax.set_xlabel('', fontsize=12) wavelet = 'cmor1-0.5' ax = ax = scg.cws(signal, scales=arange(1,40), wavelet=wavelet, figsize=(8, 4),cmap="jet", ylabel=' ', xlabel=" ", yscale="log", title='CWT    \n( )') ax = ax = scg.cws(state_means, scales=arange(1,40), wavelet=wavelet, figsize=(8, 4), cmap="jet", ylabel=' ', xlabel=" ", yscale="log", title='CWT     \n(  )') show()</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/z8/uh/p-/z8uhp-7gzngp1uzvix5bxhjadd0.png"><br><img src="https://habrastorage.org/webt/ti/qd/gy/tiqdgyoia3_ilxnbcqq8pmwoyi8.png"><br><img src="https://habrastorage.org/webt/ws/ws/il/wswsilmi0tqwgrtwp-ezkdkdvy4.png"><br><br>  El filtro Kalman elimina bien el ruido de alta frecuencia, sin embargo, no permite cambiar la forma de la se√±al de salida. <br><br><h3>  M√©todo de media m√≥vil </h3><br>  Al determinar la direcci√≥n principal de los cambios en una secuencia fuertemente oscilante, surge el problema de suavizarlo utilizando el m√©todo de la media m√≥vil.  Estas pueden ser las lecturas del sensor de nivel de combustible en el autom√≥vil o, como en nuestro caso, los datos de los sensores de alta frecuencia con respecto a la degradaci√≥n acelerada de los rodamientos.  El problema puede considerarse como la restauraci√≥n de alguna secuencia r sobre la cual se superpuso el ruido. <br><br>  Media m√≥vil simple para abreviar: SMA (Media m√≥vil simple).  Para calcular el valor del filtro actual <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.848ex" height="1.817ex" viewBox="0 -520.7 795.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-69" x="638" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-9"> r_ {i} </script>  solo promediamos los n elementos anteriores de la secuencia, por lo que el filtro comienza a funcionar con el elemento de secuencia n. <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></msubsup><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo>&amp;#x2212;</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msub><mo>;</mo><mi>i</mi><mo>&amp;gt;</mo><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.974ex" height="3.021ex" viewBox="0 -780.1 15919.5 1300.8" role="img" focusable="false" style="vertical-align: -1.209ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-69" x="638" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="1073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-66" x="2379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-72" x="2930" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-61" x="3381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="3911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-31" x="4344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6E" x="4845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-63" x="5695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-64" x="6129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6F" x="6652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-74" x="7138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-73" x="7749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-75" x="8219" y="0"></use><g transform="translate(8791,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3D" x="412" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-31" x="1191" y="0"></use></g></g><g transform="translate(10966,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-69" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-2212" x="734" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6A" x="1513" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-29" x="1926" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3B" x="13194" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-69" x="13639" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMAIN-3E" x="14262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhg8iU6stxlQq2m6YVcNz7VrsjeeDA#MJMATHI-6E" x="15318" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></msubsup><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>i</mi><mo>‚àí</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msub><mo>;</mo><mi>i</mi><mo>&gt;</mo><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-10"> r_ {i} = \ frac {1} {n} \ cdot \ sum_ {j = 1} ^ {n} y _ {(i-j)}; i> n </script><br><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="python hljs">&lt;source lang=<span class="hljs-string"><span class="hljs-string">"python"</span></span>&gt;<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ave_values</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xvalues, yvalues, n = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">6</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> signal_length = len(xvalues) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> signal_length % n == <span class="hljs-number"><span class="hljs-number">0</span></span>: padding_length = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: padding_length = n - signal_length//n % n xarr = array(xvalues) yarr = array(yvalues) xarr.resize(signal_length//n, n) yarr.resize(signal_length//n, n) xarr_reshaped = xarr.reshape((<span class="hljs-number"><span class="hljs-number">-1</span></span>,n)) yarr_reshaped = yarr.reshape((<span class="hljs-number"><span class="hljs-number">-1</span></span>,n)) x_ave = xarr_reshaped[:,<span class="hljs-number"><span class="hljs-number">0</span></span>] y_ave = nanmean(yarr_reshaped, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x_ave, y_ave <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plot_signal_plus_average</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(time, signal, average_over = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) time_ave, signal_ave = get_ave_values(time, signal, average_over) ax.plot(time_ave, signal_ave,<span class="hljs-string"><span class="hljs-string">"b"</span></span>, label = <span class="hljs-string"><span class="hljs-string">'   (n={})'</span></span>.format(<span class="hljs-number"><span class="hljs-number">5</span></span>)) ax.set_xlim([time[<span class="hljs-number"><span class="hljs-number">0</span></span>], time[<span class="hljs-number"><span class="hljs-number">-1</span></span>]]) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'     SMA'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.legend() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> signal_ave filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) df_nino = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values N = df_nino.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] time = arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, N) signal = df_nino signal_ave=plot_signal_plus_average(time, signal) wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = ax = scg.cws(signal, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>),cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  %s \n(     )'</span></span>%filename) ax = ax = scg.cws(signal_ave, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  %s \n(    )'</span></span>%filename) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/dj/r1/jy/djr1jyeyltohdhpij257vpmsk0u.png"><br><img src="https://habrastorage.org/webt/hd/4n/dy/hd4ndykwienlrz68dnh4ijw7l-8.png"><br><img src="https://habrastorage.org/webt/0n/xd/d4/0nxdd44imz5dmgwlvpfmbpf8o2i.png"><br><br>  Como se desprende del escalograma, el m√©todo SMA no limpia la se√±al del ruido de alta frecuencia, y <br>  como se mencion√≥ anteriormente se utiliza para alisar. <br><br><h3>  Conclusiones: </h3><br><ol><li>  Usando el m√≥dulo de escalagrama, se obtuvieron escalogramas wavelet CWT de tres se√±ales de sensor de vibraci√≥n de prueba para diferentes condiciones de prueba para rodamientos del mismo tipo.  Seg√∫n los datos del escalograma, se seleccion√≥ una se√±al con signos claramente expresados ‚Äã‚Äãde degradaci√≥n tard√≠a.  Esta se√±al se utiliz√≥ para demostrar el funcionamiento de los filtros en todos los ejemplos dados. </li><li>  Se consideran los m√©todos de la biblioteca PyWavelets para la deconstrucci√≥n DWT y la restauraci√≥n de la se√±al del sensor de vibraci√≥n utilizando los m√≥dulos pywt.dwt (), pywt.idwt () y el m√≥dulo pywt.wavedec () para un nivel de wavelet dado. </li><li>  Los ejemplos muestran las caracter√≠sticas de la aplicaci√≥n del m√≥dulo pywt.threshol () para filtrar los coeficientes de refinamiento de DWT, que son responsables de la parte de alta frecuencia del espectro utilizando funciones de umbral para un valor de umbral dado. </li><li>  Se consideran los efectos de la wavelet antiderivada DWT en la forma de una se√±al libre de ruido. </li><li>  Se obtiene un modelo de filtro Kalman para un medio din√°mico, el modelo se prueba con la se√±al de prueba del sensor de vibraci√≥n.  La gr√°fica de eliminaci√≥n de ruido es la misma que la obtenida usando el m√≥dulo pyKalman.  La naturaleza del gr√°fico coincide con el escalograma. </li><li>          . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/459922/">https://habr.com/ru/post/459922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459902/index.html">Mapa interactivo de regiones rusas para principiantes. Errores que comet√≠ y que no debes cometer</a></li>
<li><a href="../459906/index.html">Tic Tac Toe, parte 3: Deshacer / Rehacer con almacenamiento de comandos</a></li>
<li><a href="../459910/index.html">Situaci√≥n: las empresas no tienen prisa por desarrollar servicios para asistentes de voz: ¬øcu√°les son los riesgos?</a></li>
<li><a href="../459914/index.html">SQL Index Manager: una herramienta gratuita para desfragmentar y mantener √≠ndices</a></li>
<li><a href="../459918/index.html">Resoluci√≥n de problemas con pwnable.kr 03 - bof. Desbordamiento de b√∫fer en la pila</a></li>
<li><a href="../459924/index.html">Ciclo completo de prueba de reacci√≥n. Auto.ru Report</a></li>
<li><a href="../459928/index.html">El camino del estudiante hacia el desarrollo de aplicaciones m√≥viles</a></li>
<li><a href="../459930/index.html">Automatizaci√≥n de importaci√≥n de Python</a></li>
<li><a href="../459934/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 306 (del 8 al 14 de julio)</a></li>
<li><a href="../459936/index.html">9 trucos m√°s para trabajar con Visual Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>