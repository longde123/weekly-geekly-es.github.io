<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐๐ผ โ๏ธ ุงูุฎูููุฉ ุงูุฃุฑุซูุฐูุณูุฉ ๐จโ๐ฉโ๐งโ๐ฆ ๐ค๐พ ๐จโ๐งโ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุฎูููุฉ ุงูุญุฏูุซุฉ ูุชููุนุฉ ุ ููููุง ูุง ุฒุงูุช ุชุทูุน ุจุนุถ ุงูููุงุนุฏ ุบูุฑ ุงููุนููุฉ. ููุงุฌู ุงูุนุฏูุฏ ููุง ุงูุฐูู ูููููู ุจุชุทููุฑ ุชุทุจููุงุช ุงูุฎุงุฏู ุทุฑููุง ููุจููุฉ ุนููููุง ุ ูุซู Cle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุฎูููุฉ ุงูุฃุฑุซูุฐูุณูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474504/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dj/q5/y-/djq5y-xjov_bqvrrnb08bfyqn4i.jpeg"><br><br>  ุงูุฎูููุฉ ุงูุญุฏูุซุฉ ูุชููุนุฉ ุ ููููุง ูุง ุฒุงูุช ุชุทูุน ุจุนุถ ุงูููุงุนุฏ ุบูุฑ ุงููุนููุฉ.  ููุงุฌู ุงูุนุฏูุฏ ููุง ุงูุฐูู ูููููู ุจุชุทููุฑ ุชุทุจููุงุช ุงูุฎุงุฏู ุทุฑููุง ููุจููุฉ ุนููููุง ุ ูุซู Clean Architecture ู SOLID ู Ignorance Prognence ู Dependency Injection ู ุบูุฑูุง.  ูุชู ุงุฎุชุฑุงู ุงูุนุฏูุฏ ูู ุณูุงุช ุชุทููุฑ ุงูุฎุงุฏู ุจุญูุซ ูุง ุชุซูุฑ ุฃู ุฃุณุฆูุฉ ููุชู ุงุณุชุฎุฏุงููุง ุจุฏูู ุชูููุฑ.  ูุชุญุฏุซูู ูุซูุฑูุง ุนู ุงูุจุนุถ ุ ููู ูุง ูุณุชุฎุฏูููู ุฃุจุฏูุง.  ูุชู ุชูุณูุฑ ูุนูู ุงูุจุงูู ุจุดูู ุบูุฑ ุตุญูุญ ุฃู ูุดูู.  ูุชุญุฏุซ ุงูููุงู ุนู ููููุฉ ุจูุงุก ุจููุฉ ุฎูููุฉ ุจุณูุทุฉ ููููุฐุฌูุฉ ุชูุงููุง ุ ูุงูุชู ูุง ูููููุง ููุท ุงุชุจุงุน ูุจุงุฏุฆ ููุธุฑู ุงูุจุฑูุฌุฉ ุงููุดููุฑูู ุฏูู ุฃู ุถุฑุฑ ุ ุจู ูููููุง ุฃูุถูุง ุชุญุณูููุง ุฅูู ุญุฏ ูุง. <br><a name="habracut"></a><br>  <i>ูุฎุตุต ููู ูู ูุง ูููุฑ ูู ุงูุจุฑูุฌุฉ ุฏูู ุฌูุงู ููุง ููุจู ุงูุฌูุงู ูู ุฎุถู ุงูุนุจุซูุฉ.</i> <br><br><h2 style=";text-align:right;direction:rtl">  ูููุฐุฌ ุงููุฌุงู </h2><br>  ุงูููุฐุฌุฉ ูู ุงูููุงู ุงูุฐู ูุฌุจ ุฃู ูุจุฏุฃ ููู ุชุทููุฑ ุงูุจุฑูุฌูุงุช ูู ุนุงูู ูุซุงูู.  ููููุง ุฌููุนูุง ุบูุฑ ูุซุงูููู ุ ูุชุญุฏุซ ูุซูุฑูุง ุนู ุฐูู ุ ููููุง ููุนู ูู ุดูุก ูุงููุนุชุงุฏ.  ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุงูุณุจุจ ูู ุงูููุต ูู ุงูุฃุฏูุงุช ุงูููุฌูุฏุฉ.  ูููู ูููู ุตุงุฏููู ุ ูุฏููุง ุงููุณู ูุงูุฎูู ูู ุชุญูู ุงููุณุคูููุฉ ููุงุจุชุนุงุฏ ุนู "ุฃูุถู ุงูููุงุฑุณุงุช".  ูู ุนุงูู ุบูุฑ ูุงูู ุ ูุจุฏุฃ ุชุทููุฑ ุงูุจุฑุงูุฌ ุ ูู ุฃุญุณู ุงูุฃุญูุงู ุ ุจุงูุณูุงูุงุช ุ ููู ุฃุณูุฃ ุงูุฃุญูุงู ุ ูุง ูุชู ุนูู ุฃู ุดูุก ูุน ุชุญุณูู ุงูุฃุฏุงุก.  ููุน ุฐูู ุ ุฃูุฏ ุฃู ุฃุชุฌุงูู ุงูุฃูุซูุฉ ุงูุตุนุจุฉ ูููููุฏุณูู ุงููุนูุงุฑููู "ุงููุชููุฒูู" ูุงูุชููู ุจุฃููุฑ ุนุงุฏูุฉ. <br><br>  ูุฐูู ุ ูุฏููุง ูููุฉ ูููุฉ ุ ูุญุชู ูุฏููุง ุชุตููู ูุงุฌูุฉ ูุณุชุฎุฏู (ุฃู ูุง ุ ุฅุฐุง ูุงูุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุบูุฑ ูุชููุฑุฉ).  ูุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ูุชุนูุณ ุงููุชุทูุจุงุช ูู ูููุฐุฌ ุงููุฌุงู.  ููุจุฏุก ุ ููููู ุฑุณู ุฑุณู ุชุฎุทูุทู ููุงุฆูุงุช ุงูููุงุฐุฌ ููุชูุถูุญ: <br><br><img src="https://habrastorage.org/webt/4n/hp/m5/4nhpm5kbhwvomryj9xhyww1eep0.png"><br><br>  ุจุนุฏ ุฐูู ุ ููุงุนุฏุฉ ุนุงูุฉ ุ ูุจุฏุฃ ูู ุนุฑุถ ุงููููุฐุฌ ุนูู ูุณุงุฆู ุชูููุฐู - ูุบุฉ ุจุฑูุฌุฉ ุ ุฃู ูุฎุทุท ูุงุฆู ูุฑุชุจุท ุจุงูุนูุงูุฉ (ORM) ุ ุฃู ุนูู ููุน ูุง ูู ุฅุทุงุฑ ุนูู ูุนูุฏ ูุซู ASP.NET MVC ุฃู Ruby on Rails ุ ุจูุนูู ุขุฎุฑ - ุงูุจุฏุก ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุญู ูุชุจุน ูุณุงุฑ ุงูุฅุทุงุฑ ุ ุงูุฐู ุฃุนุชูุฏ ุฃูู ุบูุฑ ุตุญูุญ ูู ุฅุทุงุฑ ุงูุชุทููุฑ ุงููุณุชูุฏ ุฅูู ุงููููุฐุฌ ุ ุจุบุถ ุงููุธุฑ ุนู ูุฏู ููุงุฆูุชู ูู ุงูุจุฏุงูุฉ.  ููุง ุชููู ุจุงูุชุฑุงุถ ูุจูุฑ ุ ูุงูุฐู ูููู ูุงุญููุง ููุงุฆุฏ ุงูุชุทููุฑ ุงููุณุชูุฏ ุฅูู ุงููุฌุงู.  ูุฎูุงุฑ ุฃูุซุฑ ุญุฑูุฉ ุ ูุง ููุชุตุฑ ุนูู ูุทุงู ุฃู ุฃุฏุงุฉ ุ ุฃูุฏ ุฃู ุฃูุชุฑุญ ุงูุฎูุถ ูู ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช ุงููุญููุฉ ููุท ูู ูุบุฉ ุงูุจุฑูุฌุฉ ูุจูุงุก ูููุฐุฌ ูุงุฆู ูููุทูุฉ ุงูููุถูุน.  ูู ุนููู ุ ุฃุณุชุฎุฏู ุนุฏุฉ ูุบุงุช ุจุฑูุฌุฉ - C # ุ JavaScript ุ Ruby.  ุฃุตุฏุฑ Fate ูุฑุณูููุง ุจุฃู ูุธุงูู Java ู C # ููุง ูุตุฏุฑ ุฅููุงูู ุ ูุฃู JS ูู ุงูุฏุฎู ุงูุฑุฆูุณู ูู ุ ูุฑูุจู ูู ุงููุบุฉ ุงูุชู ุฃุญุจูุง.  ูุฐูู ุ ุณุฃุณุชูุฑ ูู ุนุฑุถ ุฃูุซูุฉ ุจุณูุทุฉ ูู ุฑูุจู: ุฃูุง ููุชูุน ุจุฃู ูุฐุง ูู ูุณุจุจ ูุดุงูู ูููุทูุฑูู ุจุงููุบุงุช ุงูุฃุฎุฑู ูููููุง.  ูุฐุง ุ ูู ุจุชูุตูู ุงููููุฐุฌ ุฅูู ูุฆุฉ ุงููุงุชูุฑุฉ ูู ุฑูุจู: <br><br><pre style=";text-align:right;direction:rtl"><code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Invoice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">created_at</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">paid_at</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attrs</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">payment_service</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">created_at</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DateTime</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">paid_at</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nil</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attrs</span></span></span><span class="hljs-class">[:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class">] @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attrs</span></span></span><span class="hljs-class">[:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class">] @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscription</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attrs</span></span></span><span class="hljs-class">[:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscription</span></span></span><span class="hljs-class">] @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">payment_service</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">payment_service</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pay</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">credit_card</span></span></span><span class="hljs-class"> = @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscription</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">customer</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">credit_card</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class"> = @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscription</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plan</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">price</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">payment_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">charge</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">credit_card</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">paid_at</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DateTime</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br>  ุฃู  ูุฏููุง ูุฆุฉ ููุจู ูููุดุฆูุง ูุฌููุนุฉ ูู ุงูุณูุงุช ุ ุชุจุนูุงุช ุงููุงุฆู ุ ููููู ุจุชููุฆุฉ ุญูููู ุ ูุทุฑููุฉ ุงูุฏูุน ุงูุชู ูููู ุฃู ุชุบูุฑ ุญุงูุฉ ุงููุงุฆู.  ูู ุดูุก ุจุณูุท ุฌุฏุง.  ุงูุขู ูุง ูููุฑ ูู ููููุฉ ูููุงู ุนุฑุถ ูุชุฎุฒูู ูุฐุง ุงููุงุฆู.  ุฅูู ููุฌูุฏ ููุท ุ ูููููุง ุฅูุดุงุฆู ูุชุบููุฑ ุญุงูุชู ูุงูุชูุงุนู ูุน ุงููุงุฆูุงุช ุงูุฃุฎุฑู.  ูุฑุฌู ููุงุญุธุฉ ุฃู ุงูููุฏ ูุง ูุญุชูู ุนูู ุฃู ูุทุน ุฃุซุฑูุฉ ุฃุฌูุจูุฉ ูุซู BaseEntity ูุบูุฑูุง ูู ุงูููุงูุฉ ุบูุฑ ุงููุฑุชุจุทุฉ ุจุงููููุฐุฌ.  ูุฐุง ููู ุฌุฏุง  ุจุงูููุงุณุจุฉ ุ ูู ูุฐู ุงููุฑุญูุฉ ูููููุง ุจุงููุนู ุงูุจุฏุก ูู ุงูุชุทููุฑ ูู ุฎูุงู ุงูุงุฎุชุจุงุฑ (TDD) ุ ูุฐูู ุจุงุณุชุฎุฏุงู ูุงุฆูุงุช ูุนุจ ุงูุฑูุชูู ุจุฏูุงู ูู ุงูุชุจุนูุงุช ูุซู payment_service: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs">RSpec.describe Invoice <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> before <span class="hljs-symbol"><span class="hljs-symbol">:each</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> @payment_service = double(<span class="hljs-symbol"><span class="hljs-symbol">:payment_service</span></span>) allow(@payment_service).to receive(<span class="hljs-symbol"><span class="hljs-symbol">:charge</span></span>) @amount = <span class="hljs-number"><span class="hljs-number">100</span></span> @credit_card = CreditCard.new({...}) @customer = Customer.new({<span class="hljs-symbol"><span class="hljs-symbol">credit_card:</span></span> @credit_card, ...}) @subscription = Subscription.new({<span class="hljs-symbol"><span class="hljs-symbol">customer:</span></span> customer, ...}) @invoice = Invoice.new({<span class="hljs-symbol"><span class="hljs-symbol">amount:</span></span> @amount, <span class="hljs-symbol"><span class="hljs-symbol">date:</span></span> DateTime.now, @subscription: subscription}, payment_service) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> describe <span class="hljs-string"><span class="hljs-string">'pay'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> it <span class="hljs-string"><span class="hljs-string">"charges customer's credit card"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> expect(@payment_service).to receive(<span class="hljs-symbol"><span class="hljs-symbol">:charge</span></span>).with(@credit_card, @amount) @invoice.pay <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> it <span class="hljs-string"><span class="hljs-string">'makes the invoice paid'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> expect(@invoice.paid_at).not_to be_nil @invoice.pay <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  ุฃู ุญุชู ุงููุนุจ ูุน ุงููููุฐุฌ ูู ุงููุชุฑุฌู (IRB ูู Ruby) ุ ูุงูุฐู ูุฏ ูููู ุ ุนูู ุงูุฑุบู ูู ุฃูู ุบูุฑ ูุฏูุฏ ููุบุงูุฉ ุ ูุงุฌูุฉ ุงููุณุชุฎุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">irb &gt; invoice = Invoice.new({amount: @amount, date: DateTime.now, @subscription: subscription}, payment_service) irb &gt; invoice.pay</code> </pre><br>  ููุงุฐุง ูู ุงูููู ููุบุงูุฉ ุชุฌูุจ "ุงููุทุน ุงูุฃุซุฑูุฉ ุงูุฃุฌูุจูุฉ" ูู ูุฐู ุงููุฑุญูุฉุ  ูุงูุญูููุฉ ูู ุฃู ุงููููุฐุฌ ูุง ููุจุบู ุฃู ูููู ูุฏูู ุฃู ููุฑุฉ ุนู ููููุฉ ุญูุธู ุฃู ูุง ุฅุฐุง ูุงู ุณูุชู ุญูุธู ุนูู ุงูุฅุทูุงู.  ูู ุงูููุงูุฉ ุ ูุฏ ูููู ุชุฎุฒูู ุงููุงุฆูุงุช ูู ุงูุฐุงูุฑุฉ ูู ุจุนุถ ุงูุฃูุธูุฉ ููุงุณุจูุง ุชูุงููุง.  ูู ููุช ุงูููุฐุฌุฉ ุ ูุฌุจ ุฃู ูุณุชุฎูุต ุชูุงูุง ูู ูุฐู ุงูุชูุงุตูู.  ููุณูู ูุฐุง ุงูููุฌ ุงูุฌูู ุงููุณุชูุฑ.  ูุฌุจ ุงูุชุฃููุฏ ุนูู ุฃููุง ูุง ูุชุฌุงูู ูุดููุงุช ุงูุนูู ูุน ุงููุณุชูุฏุน ุ ุณูุงุก ุฃูุงูุช ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ ุฃู ุฃู ูุงุนุฏุฉ ุจูุงูุงุช ุฃุฎุฑู ุ ูุฅููุง ูุชุฌุงูู ููุท ุชูุงุตูู ุงูุชูุงุนู ูุนูุง ูู ูุฑุญูุฉ ุงูููุฐุฌุฉ.  ูุนูู ุงูุฌูู ุงููุณุชูุฑ ุงูุฅุฒุงูุฉ ุงููุชุนูุฏุฉ ูุขููุงุช ุงูุนูู ูุน ุญุงูุฉ ุงููููุฐุฌ ุ ููุฐูู ุฌููุน ุฃููุงุน ุงูุจูุงูุงุช ุงููุตููุฉ ุงููุฑุชุจุทุฉ ุจูุฐู ุงูุนูููุฉ ุ ูู ุงููููุฐุฌ ููุณู.  ุงูุฃูุซูุฉ ุนูู ุฐูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#  class User &lt; Entity #     table :users #     # mapping  field :name, type: 'String' #   def save ... end end user = User.load(id) #     user.save #    </span></span></code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment">#  class User #   ,      attr_accessor :name, :lastname end user = repo.load(id) #     repo.save(user) #    </span></span></code> </pre><br>  ูุฑุฌุน ูุฐุง ุงูููุฌ ุฃูุถูุง ุฅูู ุฃุณุจุงุจ ุฃุณุงุณูุฉ - ุงูุงูุชุซุงู ููุจุฏุฃ ุงููุณุคูููุฉ ุงููุฑุฏูุฉ (ูุจุฏุฃ ุงููุณุคูููุฉ ุงููุฑุฏูุฉ ุ S ูู SOLID).  ุฅุฐุง ูุงู ุงููููุฐุฌ ุ ุจุงูุฅุถุงูุฉ ุฅูู ููููู ุงููุธููู ุ ูุตู ูุนููุงุช ุงููุญุงูุธุฉ ุนูู ุงูุญุงูุฉ ููุชุนุงูู ุฃูุถูุง ูุน ุงูุญูุธ ูุงูุชุญููู ุ ููู ุงููุงุถุญ ุฃูู ูุชุญูู ุงูุนุฏูุฏ ูู ุงููุณุคูููุงุช.  ุงูููุฒุฉ ุงููุงุชุฌุฉ ูููุณุช ุงูููุฒุฉ ุงูุฃุฎูุฑุฉ ูุฌูู ุงููุซุงุจุฑุฉ ูู ุงููุฏุฑุฉ ุนูู ุงุณุชุจุฏุงู ุฃุฏุงุฉ ุงูุชุฎุฒูู ูุญุชู ููุน ุงูุชุฎุฒูู ููุณู ุฃุซูุงุก ุนูููุฉ ุงูุชุทููุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ูููุฐุฌ ุนุฑุถ ุงููุฑุงูุจ ุงููุงูู </h2><br>  ููููู MVC ุดุงุฆุน ุฌุฏูุง ูู ุจูุฆุฉ ุงูุชุทููุฑ ุงูุฎุงุตุฉ ุจุงูุชุทุจููุงุช ุงููุฎุชููุฉ ุ ูููุณ ููุท ุงูุฎูุงุฏู ุ ุจูุบุงุช ูููุตุงุช ูุฎุชููุฉ ุ ุจุญูุซ ูู ูุนุฏ ูููุฑ ูู ูุงููุฉ ูุฐุง ุงูุณุจุจ ูููุงุฐุง ูุงูุช ููุงู ุญุงุฌุฉ ุฅููู ุนูู ุงูุฅุทูุงู.  ูุฏู ุฃูุซุฑ ุงูุฃุณุฆูุฉ ูู ูุฐุง ุงูุงุฎุชุตุงุฑ ูุณูู "ุงููุฑุงูุจ ุงููุงูู".  ูู ูุฌูุฉ ูุธุฑ ุชูุธูู ุจููุฉ ุงูููุฏ ุ ูู ุงูุฌูุฏ ุชุฌููุน ุงูุฅุฌุฑุงุกุงุช ุนูู ุงููููุฐุฌ.  ููู ูุฌุจ ุฃูุง ุชููู ูุญุฏุฉ ุงูุชุญูู ูุฆุฉ ุนูู ุงูุฅุทูุงู ุ ุจู ูุฌุจ ุฃู ุชููู ูุญุฏุฉ ููุทูุฉ ุชุชุถูู ุทุฑููุง ูููุตูู ุฅูู ุงููููุฐุฌ.  ููุณ ุฐูู ูุญุณุจ ุ ูู ูุฌุจ ุฃู ูููู ูู ููุงู ุนูู ุงูุฅุทูุงูุ  ููุทูุฑ ุชุงุจุน ูุณุงุฑ .NET -&gt; Ruby -&gt; Node.js ุ ููุฏ ุชุฃุซุฑุช ุจุจุณุงุทุฉ ุจูุญุฏุงุช ุงูุชุญูู JS (ES5) ุงูุชู ุชููุฐ ูู ุฅุทุงุฑ Express.js.  ูู ุฎูุงู ุงููุฏุฑุฉ ุนูู ุญู ุงููููุฉ ุงูููููุฉ ุฅูู ูุญุฏุงุช ุงูุชุญูู ุจุฃุณููุจ ุฃูุซุฑ ูุธูููุฉ ุ ูููู ุงููุทูุฑูู ุ ููุง ุณุญุฑูุง ุ ุจูุชุงุจุฉ ุงูุณุญุฑ "Controller" ูุฑุงุฑูุง ูุชูุฑุงุฑูุง.  ููุงุฐุง ูุญุฏุฉ ุชุญูู ูููุฐุฌูุฉ ุณูุฆุฉุ <br><br>  ูุญุฏุฉ ุงูุชุญูู ุงููููุฐุฌูุฉ ูู ูุฌููุนุฉ ูู ุงูุฃุณุงููุจ ุงูุชู ูุง ุชุฑุชุจุท ุงุฑุชุจุงุทูุง ูุซูููุง ุจุจุนุถูุง ุงูุจุนุถ ุ ูุชุญุฏุฉ ูู ุฎูุงู ุทุฑููุฉ ูุงุญุฏุฉ ููุท - ููู ุฌููุฑ ูุนูู ูู ุงููููุฐุฌ ุ  ูุฃุญูุงููุง ููุณ ูุงุญุฏูุง ุ ุฃุณูุฃ.  ูุฏ ุชุชุทูุจ ูู ุทุฑููุฉ ูุฑุฏูุฉ ุชุจุนูุงุช ูุฎุชููุฉ.  ุจุงููุธุฑ ุฅูู ุงูุฃูุงู ููููุงู ุ ุฃูุงุญุธ ุฃููู ูุคูุฏ ูููุงุฑุณุฉ ุงูุนูุงุณ ุงูุชุจุนูุฉ (ุงูุนูุงุณ ุงูุชุจุนูุฉ ุ D ูู SOLID).  ูุฐูู ุ ุฃุญุชุงุฌ ุฅูู ุชููุฆุฉ ูุฐู ุงูุชุจุนูุงุช ูู ููุงู ูุง ุจุงูุฎุงุฑุฌ ูุชูุฑูุฑูุง ุฅูู ูููุดุฆ ูุญุฏุฉ ุงูุชุญูู.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ุ ูุฌุจ ุฃู ุฃุฑุณู ุฅุนูุงูุงุช ุฅูู ุงููุญุงุณุจ ุ ูุงูุชู ุฃุญุชุงุฌ ุฅูู ุฎุฏูุฉ ุฅุดุนุงุฑ ููุง ุ ููู ุทุฑู ุฃุฎุฑู ูุง ุฃุญุชุงุฌ ุฅูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InvoiceController</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoice_repository</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoice_repository</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_all</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">show</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_by_id</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notify_accountant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br>  ุชููู ุงูููุฑุฉ ููุง ูู ุชูุณูููุง ุฅูู ุทุฑู ููุนูู ูุน ุงููููุฐุฌ ุฅูู ูุตูู ูููุตูุฉ ุ ูููุงุฐุง ูุงุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ListInvoices</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoice_repository</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoice_repository</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">call</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_all</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CreateInvoice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoice_repository</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">invoice_repository</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">call</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notification_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">notify_accountant</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br>  ุญุณููุง ุ ุจุฏูุงู ูู ูุญุฏุฉ ุงูุชุญูู ุ ููุฌุฏ ุงูุขู ูุฌููุนุฉ ูู "ุงููุธุงุฆู" ูููุตูู ุฅูู ุงููููุฐุฌ ุ ูุงูุชู ุ ุจุงูููุงุณุจุฉ ุ ูููู ุฃูุถูุง ุชูุธูููุง ุจุงุณุชุฎุฏุงู ุฏูุงุฆู ูุธุงู ุงููููุงุช ุ ุนูู ุณุจูู ุงููุซุงู.  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู "ูุชุญ" ูุฐู ุงูุฃุณุงููุจ ููุฎุงุฑุฌ ุ ุฃู  ุชูุธูู ุดูุก ูุซู ุฌูุงุฒ ุงูุชูุฌูู.  ุจุงุนุชุจุงุฑู ุดุฎุตูุง ูุบุฑู ุฌููุน ุฃููุงุน DSL (ูุบุฉ ุฎุงุตุฉ ุจุงููุฌุงู) ุ ูุฅููู ุฃูุถู ุงูุญุตูู ุนูู ูุตู ูุฑุฆู ุฃูุซุฑ ูุชุนูููุงุช ุชุทุจูู ููุจ ูู ุงูุญูู ูู ุฑูุจู ุฃู ูุบุฉ ุฃุฎุฑู ููุฃุบุฑุงุถ ุงูุนุงูุฉ ูุชุญุฏูุฏ ุงููุณุงุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">`HTTP GET /invoices -&gt; return all invoices` `HTTP POST /invoices -&gt; create new invoice`</code> </pre><br>  ุฃู ุนูู ุงูุฃูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">`HTTP GET /invoices -&gt; ./invoices/list_invoices` `HTTP POST /invoices -&gt; ./invoices/create`</code> </pre><br>  ูุฐุง ูุดุจู ุฅูู ุญุฏ ุจุนูุฏ ุฌูุงุฒ ุงูุชูุฌูู ุงููููุฐุฌู ุ ูุน ูุฌูุฏ ุงุฎุชูุงู ูุญูุฏ ูุชูุซู ูู ุฃูู ูุง ูุชูุงุนู ูุน ูุญุฏุงุช ุงูุชุญูู ุ ูููู ุจุดูู ูุจุงุดุฑ ูุน ุงูุฅุฌุฑุงุกุงุช ูู ุงููููุฐุฌ.  ูู ุงููุงุถุญ ุฃููุง ุฅุฐุง ุฃุฑุฏูุง ุฅุฑุณุงู ูุงุณุชูุจุงู JSON ุ ูุนูููุง ุฃู ูุชุญูู ุจุงูุชุณูุณู ูุฅูุบุงุก ุชุณูุณู ุงูุฃุดูุงุก ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ.  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูููููุง ุงูุชุฎูุต ูู ูุญุฏุงุช ุงูุชุญูู ุ ูููู ุฌุฒุก ูู ูุณุคูููุชูุง ุฅูู ุจููุฉ ุงูุฏููู ูุฌูุงุฒ ุงูุชูุฌูู ุงูุฃูุซุฑ ุชูุฏูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุญูู ุงูุชุจุนูุฉ </h2><br>  ูุชุจุช ุนูุฏุง "ุฑุงูุชุฑ ุฃูุซุฑ ุชูุฏูุง".  ูู ุฃุฌู ุฃู ูููู ุฌูุงุฒ ุงูุชูุฌูู ูุงุฏุฑูุง ุญููุง ุนูู ุงูุณูุงุญ ุจุชุฏูู ุงูุฅุฌุฑุงุกุงุช ุนูู ุงููููุฐุฌ ุจุงุณุชุฎุฏุงู ุขููุฉ ุญูู ุงูุชุจุนูุฉ ุนูู ุงููุณุชูู ุงูุฅุนูุงูู ุ ููู ุงููุญุชูู ุฃู ูููู ูุนูุฏูุง ุชูุงููุง ูู ุงูุฏุงุฎู.  ูุฌุจ ุฃู ูุจุฏู ุงููุฎุทุท ุงูุนุงู ูุนููู ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/62/v1/ts/62v1tsjynvq067lnqxmpqefw0lg.png"><br><br>  ููุง ุชุฑูู ุ ูุฅู ุฌูุงุฒ ุงูุชูุฌูู ุงูุฎุงุต ุจู ุจุงููุงูู ูููุก ุจุญูู ุงูุชุจุนูุฉ ุจุงุณุชุฎุฏุงู ุญุงููุฉ IoC.  ููุงุฐุง ูุฐุง ุถุฑูุฑู ุญุชูุ  ูุนูุฏ ููููู "ุญูู ุงูุชุจุนูุฉ" ุฅูู ุชูููุฉ ุงูุนูุงุณ ุงูุชุจุนูุฉ ุ ูุงูุชู ุชู ุชุตููููุง ูุชูููู ุชูุตูู ุงููุงุฆูุงุช ุนู ุทุฑูู ุชุญุฑูู ุชููุฆุฉ ุงูุชุจุนูุฉ ุฎุงุฑุฌ ูุทุงู ุงุณุชุฎุฏุงููุง.  ูุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repository</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-comment"><span class="hljs-comment">#  (   ) class A def initialize </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@repo</span></span></span><span class="hljs-comment"> = Repository.new end end #  (   ) class A def initialize(repo) </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@repo</span></span></span><span class="hljs-comment"> = repo end end</span></span></code> </pre><br>  ูุณุงุนุฏ ูุฐุง ุงูููุฌ ุจุดูู ูุจูุฑ ุฃููุฆู ุงูุฐูู ูุณุชุฎุฏููู ุชุทููุฑ ุงุฎุชุจุงุฑ ูุญุฑููุง.  ูู ุงููุซุงู ุฃุนูุงู ุ ูููููุง ุจุณูููุฉ ูุถุน ุฑูุชูู ูู ุงููููุดุฆ ุจุฏูุงู ูู ูุงุฆู ุงููุณุชูุฏุน ุงูุญูููู ุงููุทุงุจู ููุงุฌูุชู ุ ุฏูู "ุงุฎุชุฑุงู" ูููุฐุฌ ุงููุงุฆู.  ููุณุช ูุฐู ูู ููุงูุฃุฉ DI ุงููุญูุฏุฉ: ุนูุฏ ุชุทุจูููุง ุจุดูู ุตุญูุญ ุ ุณุชุฌูุจ ูุฐู ุงูุทุฑููุฉ ุงููุซูุฑ ูู ุงูุณุญุฑ ุงููุทูู ุฅูู ุงูุชุทุจูู ุงูุฎุงุต ุจู ุ ูููู ุฃูู ุงูุฃุดูุงุก ุฃููุงู.  Dependency Injection ูู ููุฌ ูุณูุญ ูู ุจุฏูุฌ ุชูููุฉ Invendency Inversion ูู ุญู ูุนูุงุฑู ูุงูู.  ุนุงุฏุฉ ูุง ุชููู ุฃุฏุงุฉ ุงูุชูููุฐ ุญุงููุฉ IoC- (ุงูููุงุจ ุงูุชุญูู).  ููุงู ุงููุซูุฑ ูู ุญุงููุงุช IoC ุงูุฑุงุฆุนุฉ ุญููุง ูู ุนุงูู Java ู .NET ุ ูููุงู ุงูุนุดุฑุงุช ูููุง.  ูู JS ู Ruby ุ โโููุฃุณู ุ ูุง ุชูุฌุฏ ุฎูุงุฑุงุช ููุงุณุจุฉ ูู.  ุนูู ูุฌู ุงูุฎุตูุต ุ ูุธุฑุช ุฅูู ุงูุญุงููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูุฌุงูุฉ</a> (ุงูุญุงููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูุฌุงูุฉ</a> ).  ุณูููู ูุฐุง ูุง ุณูุจุฏู ุนููู ุตูู ุนูุฏ ุงุณุชุฎุฏุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Invoice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">include</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Import</span></span></span><span class="hljs-class">['</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">payment_service</span></span></span><span class="hljs-class">'] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pay</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">credit_card</span></span></span><span class="hljs-class"> = @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscription</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">customer</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">credit_card</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class"> = @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscription</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plan</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">price</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">payment_service</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">charge</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">credit_card</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">amount</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br>  ุจุฏูุงู ูู ุงูุงุณุชุฎุฏุงู ุงูุฑููุน ููููุดุฆ ุ ูุซูู ูุงูู ุงููุตู ูู ุฎูุงู ุชูุฏูู ุชุจุนูุงุชูุง ุงูุฎุงุตุฉ ุ ูุงูุชู ูู ุงููุฑุญูุฉ ุงูุฃูููุฉ ุชููุฏูุง ุจุนูุฏูุง ุนู ูููุฐุฌ ูุธูู ููุณุชูู.  ุญุณููุง ุ ูุฌุจ ุฃูุง ูุนุฑู ุงููููุฐุฌ ุนู IoC ุนูู ุงูุฅุทูุงู!  ูุฐุง ุตุญูุญ ุจุงููุณุจุฉ ูุฅุฌุฑุงุกุงุช ูุซู CreateInvoice.  ุจุงููุณุจุฉ ููุญุงูุฉ ุงููุนููุฉ ุ ูู ุงุฎุชุจุงุฑุงุชู ุ ุฃูุง ููุฒู ุจุงููุนู ุจุงุณุชุฎุฏุงู IoC ูุดูุก ุบูุฑ ูุงุจู ููุชุตุฑู.  ูุฐุง ุฎุทุฃ ุชูุงูุง.  ูุฌุจ ุฃูุง ุชุนุฑู ูุงุฆูุงุช ุงูุชุทุจูู ุจุงููุณุจุฉ ููุฌุฒุก ุงูุฃูุจุฑ ุนู ูุฌูุฏ IoC.  ุจุนุฏ ุงูุจุญุซ ูุงูุชูููุฑ ูุซูุฑูุง ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุฑุณูุช ุฑุณุงูุชู IoC</a> ุ ูุงูุชู ูู ุชููู ุชุฏุฎููุฉ ููุบุงูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุญูุธ ูุชุญููู ูููุฐุฌ </h2><br>  ุงูุฌูู ุงููุณุชูุฑ ูุชุทูุจ ูุญูู ูุงุฆู ุบูุฑ ูุฒุนุฌุฉ.  ูู ูุฐู ุงูููุงูุฉ ุ ุฃุนูู ุงูุนูู ูุน ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ ุ ุงูููุงุท ุงูุฑุฆูุณูุฉ ุณุชููู ุตุญูุญุฉ ุจุงููุณุจุฉ ูุฃููุงุน ุฃุฎุฑู ูู ุงููุฎุงุฒู.  ูุชู ุงุณุชุฎุฏุงู ูุญูู ุงููุงุฆู ุงูุนูุงุฆููุฉ - ORM (ูุงุฆู Relational ูุนูู) ููุญูู ููุงุซู ูููุงุนุฏ ุงูุจูุงูุงุช ุงูุนูุงุฆููุฉ.  ูู ุนุงูู .NET ู Java ุ ููุงู ููุฑุฉ ูู ุฃุฏูุงุช ORM ุงููููุฉ ุญููุง.  ูู ูููู ูุฏูู ุจุนุถ ุฃู ุบูุฑูุง ูู ุงูุนููุจ ุงูุทูููุฉ ุงูุชู ููููู ุชุบูุถ ุนูููู.  ูุง ุชูุฌุฏ ุญููู ุฌูุฏุฉ ูู JS ูุฑูุจู.  ูููู ุ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูุฑุจุทูู ุงููููุฐุฌ ุจุดูู ุตุงุฑู ุจุงูุฅุทุงุฑ ูููุฑุถูู ุฅุนูุงู ุงูุนูุงุตุฑ ุงูุฃุฌูุจูุฉ ุ ูุงููู ุนู ุนุฏู ูุงุจููุฉ ุงูุฌูู ุจุงูุซุจุงุช.  ููุง ูู ุงูุญุงู ูู IoC ุ ููุฑุช ูู ุชูููุฐ ORM ุจููุณู ุ ูุฐุง ูู ุงููุถุน ูู ุฑูุจู.  ูู ุฃูุนู ูู ุดูุก ูู ุงูุจุฏุงูุฉ ุ ููููู ุงุชุฎุฐุช ุฃุณุงุณูุง ORM Sequel ุจุณูุทูุง ุ ูุงูุฐู ูููุฑ ุฃุฏูุงุช ุบูุฑ ูุฒุนุฌุฉ ููุนูู ูุน ุฃูุธูุฉ ุฅุฏุงุฑุฉ ููุงุนุฏ ุงูุจูุงูุงุช ุงูุนูุงุฆููุฉ ุงููุฎุชููุฉ.  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ููุช ููุชููุง ุจุงููุฏุฑุฉ ุนูู ุชูููุฐ ุงูุงุณุชุนูุงูุงุช ูู ุดูู SQL ููุชุธู ุ ูุชููู ูุฌููุนุฉ ูู ุงูุณูุงุณู (ูุงุฆูุงุช ุงูุชุฌุฒุฆุฉ) ูู ุงูุฅุฎุฑุงุฌ.  ุจูู ููุท ูุชูููุฐ ูุนููู ูุชูููุฑ ุงูุฌูู ุงูุซุจุงุช.  ููุง ุฐูุฑุช ูู ูุจู ุ ูุง ุฃุฑูุฏ ูุฒุฌ ุญููู ุงูุชุนููู ูู ูููุฐุฌ ุงููุฌุงู ุ ูุฐูู ุฃููู ุจุชุทุจูู ูุฎุทุท ูุนูู ุจุญูุซ ูุณุชุฎุฏู ููู ุชูููู ูููุตู ุจุชูุณูู ุงููุชุงุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs">entity Invoice <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> field <span class="hljs-symbol"><span class="hljs-symbol">:amount</span></span> field <span class="hljs-symbol"><span class="hljs-symbol">:date</span></span> field <span class="hljs-symbol"><span class="hljs-symbol">:start_date</span></span> field <span class="hljs-symbol"><span class="hljs-symbol">:end_date</span></span> field <span class="hljs-symbol"><span class="hljs-symbol">:created_at</span></span> field <span class="hljs-symbol"><span class="hljs-symbol">:updated_at</span></span> reference <span class="hljs-symbol"><span class="hljs-symbol">:user</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> User reference <span class="hljs-symbol"><span class="hljs-symbol">:subscription</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">type:</span></span> Subscription <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  ุฅููุงู ุงูุฌูู ุณูู ุงูุชูููุฐ ุจุงุณุชุฎุฏุงู ูุงุฆู ุฎุงุฑุฌู ูู ููุน ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs">repository.save(user)</code> </pre> <br>  ููู ุณูุฐูุจ ุฃุจุนุฏ ูู ุฐูู ููููุฐ ููุท ูุญุฏุฉ ุงูุนูู.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุณููุท ุงูุถูุก ุนูู ููููู ุงูุฏูุฑุฉ.  ุงูุฌูุณุฉ ุนุจุงุฑุฉ ุนู ูุงุฆู ููุฌูุฏ ุจูุฑูุฑ ุงูููุช ุ ูุชู ุฎูุงูู ุชูููุฐ ูุฌููุนุฉ ูู ุงูุฅุฌุฑุงุกุงุช ุนูู ุงููููุฐุฌ ุ ููู ุนูููุฉ ููุทููุฉ ูุงุญุฏุฉ.  ุนูู ูุฏุงุฑ ุงูุฌูุณุฉ ุ ูููู ุฃู ูุญุฏุซ ุชุญููู ูุชุบููุฑ ูุงุฆูุงุช ุงููููุฐุฌ.  ูู ููุงูุฉ ุงูุฌูุณุฉ ุ ูุญุฏุซ ุงูุญูุงุธ ุนูู ุงููุนุงููุงุช ูุญุงูุฉ ุงููููุฐุฌ. <br>  ูุซุงู ูุญุฏุฉ ุงูุนูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs">user = session.load(User, <span class="hljs-symbol"><span class="hljs-symbol">id:</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>) plan = session.load(Plan, <span class="hljs-symbol"><span class="hljs-symbol">id:</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>) subscription = Subscription.new(user, plan) session.attach(subscription) invoice = Invoice.new(subscription) session.attach(invoice) <span class="hljs-comment"><span class="hljs-comment"># ... # -       if Date.today.yday == 1 subscription.comment = 'New year offer' invoice.amount /= 2 end session.flush</span></span></code> </pre><br>  ูุชูุฌุฉ ูุฐูู ุ ุณูุชู ุชูููุฐ ุฅุฑุดุงุฏุงุช 2 ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุฏูุงู ูู 4 ุ ูุณูุชู ุชูููุฐ ุงูุงุซููู ูู ููุณ ุงููุนุงููุฉ. <br><br>  ุซู ูุฌุฃุฉ ุชุฐูุฑ ุงููุณุชูุฏุนุงุช!  ููุฌุฏ ููุง ุดุนูุฑ ุจู deja vu ุ ููุง ูู ุงูุญุงู ูุน ูุญุฏุงุช ุงูุชุญูู: ุฃููุณ ุงููุณุชูุฏุน ูู ููุณ ุงูููุงู ุงูุจุฏุงุฆูุ  ุจุงูุชุทูุน ุฅูู ุงูุฃูุงู ุ ุณุฃุฌูุจ - ูุนู ุ ุฅููุง ูุฐูู.  ุงูุบุฑุถ ุงูุฑุฆูุณู ูู ุงููุณุชูุฏุน ูู ุญูุธ ุทุจูุฉ ููุทู ุงูุนูู ูู ุงูุชูุงุนู ูุน ุงูุชุฎุฒูู ุงูุญูููู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุณูุงู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุนูุงุฆููุฉ ุ ููุฐุง ูุนูู ูุชุงุจุฉ ุงุณุชุนูุงูุงุช SQL ูุจุงุดุฑุฉู ูู ุฑูุฒ ููุทู ุงูุนูู.  ููุง ูุง ุดู ููู ุ ูุฐุง ูุฑุงุฑ ูุนููู ููุบุงูุฉ.  ููู ุงูุนูุฏุฉ ููุญุธุฉ ุนูุฏูุง ุชุฎูุตูุง ูู ูุญุฏุฉ ุงูุชุญูู.  ูู ูุฌูุฉ ูุธุฑ OOP ุ ูููู ุงููุณุชูุฏุน ุฃุณุงุณูุง ูู ููุณ ูุญุฏุฉ ุงูุชุญูู - ููุณ ูุฌููุนุฉ ุงูุทุฑู ุ ููุณ ููุท ููุนุงูุฌุฉ ุงูุทูุจุงุช ุ ูููู ููุนูู ูุน ุงููุณุชูุฏุน.  ูููู ุฃูุถูุง ุชูุณูู ุงููุณุชูุฏุน ุฅูู ุฃุนูุงู.  ุจูู ุงููุคุดุฑุงุช ุ ูู ุชุฎุชูู ูุฐู ุงูุฅุฌุฑุงุกุงุช ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุนู ูุง ุงูุชุฑุญูุงู ุจุฏูุงู ูู ูุญุฏุฉ ุงูุชุญูู.  ููุฐุง ูู ุ ูููููุง ุฑูุถ ูุณุชูุฏุน ูุงูุชุญูู ูุตุงูุญ ุนูู ููุญุฏ ูุงุญุฏ! <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoadPlan</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">call</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sql</span></span></span><span class="hljs-class"> = &lt;&lt;~</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SQL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SELECT</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">.* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AS</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ENTITY</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plan</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FROM</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plans</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WHERE</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class"> = 1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SQL</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fetch</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Plan</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sql</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br>  ุฑุจูุง ูุงุญุธุช ุฃููู ุฃุณุชุฎุฏู SQL ุจุฏูุงู ูู ููุน ูู ุจูุงุก ุฌููุฉ ุงููุงุฆู.  ูุฐู ูุณุฃูุฉ ุฐูู.  ุฃูุถูู SQL ูุฃููุง ูุบุฉ ุงุณุชุนูุงู ุ ููู ููุน ูู DSL ููุชุนุงูู ูุน ุงูุจูุงูุงุช.  ูู ุงููุงุถุญ ุฃูู ูู ุงูุฃุณูู ุฏุงุฆููุง ูุชุงุจุฉ Plan.load (id) ููุงุฑูุฉ ุจู SQL ุงูููุงุจู ุ ูููู ูุฐุง ููุทุจู ุนูู ุงูุญุงูุงุช ุงูุจุณูุทุฉ.  ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุฃุดูุงุก ุฃูุซุฑ ุชุนููุฏูุง ููููุงู ุ ุชุตุจุญ SQL ุฃุฏุงุฉ ููุถุน ุชุฑุญูุจ ูุจูุฑ.  ุฃุญูุงููุง ุชูุนู ORM ุขุฎุฑ ูู ูุญุงููุฉ ูุฌุนููุง ุชูุนู ูุซู SQL ุงูุฎุงูุต ุ ูุงูุชู "ุณุฃูุชุจ ูู ุจุถุน ุฏูุงุฆู."  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูู ูู ุดู ุ ุฃูุชุฑุญ ุงููุธุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ูุซุงุฆู MongoDB</a> ุ ุญูุซ ูุชู ุชูุฏูู ุงูุชูุณูุฑุงุช ูู ุดูู ูุดุจู SQL ุ ูุงูุชู ุชุจุฏู ูุถุญูุฉ ููุบุงูุฉ!  ูุฐูู ุ ูุฅู ูุงุฌูุฉ ุงูุงุณุชุนูุงูุงุช ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ORM JetSet</a> ุ ุงูุชู ูุชุจุช ูุฃุบุฑุงุถู ุ ูู ูุบุฉ SQL ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุชุดุฑูุจ ูุซู "AS ENTITY".  ุจุงูููุงุณุจุฉ ุ ูู ูุนุธู ุงูุญุงูุงุช ุ ูุง ุฃุณุชุฎุฏู ุงููุงุฆูุงุช ุงููููุฐุฌูุฉ ุ ููุฎุชูู DTOs ุ ุฅูุฎ. ูุนุฑุถ ุจูุงูุงุช ุฌุฏูููุฉ - ุฃูุง ููุท ุฃูุชุจ ุงุณุชุนูุงู SQL ุ ูุฃุญุตู ุนูู ูุฌููุนุฉ ูู ูุงุฆูุงุช ุงูุชุฌุฒุฆุฉ ูุฃุนุฑุถูุง ูู ุทุฑููุฉ ุงูุนุฑุถ.  ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูุง ูุชููู ุณูู ุนุฏุฏ ูููู ูู ุงูุฃุดุฎุงุต ูู "ุชูุฑูุฑ" ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุนู ุทุฑูู ุนุฑุถ ุงูุฌุฏุงูู ุฐุงุช ุงูุตูุฉ ุนูู ูููุฐุฌ.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ููุฑุฌุญ ุงุณุชุฎุฏุงู ุงูุฅุณูุงุท ุงููุณุทุญ (ุงูุนุฑุถ) ุ ูุชุฃุชู ุงูููุชุฌุงุช ุงููุงุถุฌุฉ ุฌุฏูุง ุฅูู ูุฑุญูุฉ ุงูุชุญุณูู ุนูุฏูุง ูุจุฏุฃ ุงุณุชุฎุฏุงู ุญููู ุฃูุซุฑ ุชุนููุฏูุง ูุซู CQRS (ูุตู ูุณุคูููุฉ ุงูููุงุฏุฉ ูุงูุงุณุชุนูุงู). <br><br><h2 style=";text-align:right;direction:rtl">  ูุถุน ูู ุฐูู ูุนุง </h2><br>  ุฅุฐู ูุง ูุฏููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุฏ ุชูุตููุง ุฅูู ููููุฉ ุชุญููู ุงููููุฐุฌ ูุญูุธู ุ ููุง ุตูููุง ุจููุฉ ุชูุฑูุจูุฉ ูุฃุฏุงุฉ ุชูุตูู ุงูููุจ ุงูุฎุงุตุฉ ุจุงูุทุฑุงุฒ ุ ูุฌูุงุฒ ุชูุฌูู ูุนูู ุ </li><li style=";text-align:right;direction:rtl">  ููุฏ ุชูุตููุง ุฅูู ุงุณุชูุชุงุฌ ููุงุฏู ุฃู ูู ุงูููุทู ุงูุฐู ูุง ููุซู ุฌุฒุกูุง ูู ูุฌุงู ุงูููุถูุน ูููู ุฃุฎุฐู ุฅูู ุฅุฌุฑุงุกุงุช (ุฅุฌุฑุงุกุงุช) ุจุฏูุงู ูู ูุญุฏุงุช ุงูุชุญูู ูุงููุณุชูุฏุนุงุช ุ </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุฏุนู ุงูุฅุฌุฑุงุกุงุช ุญูู ุงูุชุจุนูุฉ </li><li style=";text-align:right;direction:rtl">  ุฃุฏุงุฉ ูุงุฆูุฉ Dependency Injection ุชูููุฐูุง ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุชูููุฐ ORM ุงููุงุฒูุฉ. </li></ul><br>  ุงูุดูุก ุงููุญูุฏ ุงููุชุจูู ูู ุชูููุฐ ููุณ "ุงูููุฌู".  ูุธุฑูุง ูุฃููุง ุชุฎูุตูุง ูู ุงููุณุชูุฏุนุงุช ููุญุฏุงุช ุงูุชุญูู ูุตุงูุญ ุงูุฅุฌุฑุงุกุงุช ุ ููู ุงููุงุถุญ ุฃููุง ุจุญุงุฌุฉ ุฅูู ุชูููุฐ ุนุฏุฉ ุฅุฌุฑุงุกุงุช ูุทูุจ ูุงุญุฏ.  ุงูุฅุฌุฑุงุกุงุช ูุณุชููุฉ ููุง ูููููุง ุงูุงุณุชุซูุงุฑ ูู ุจุนุถูุง ุงูุจุนุถ.  ูุฐูู ุ ูุฌุฒุก ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุฅุทุงุฑ ุนูู Dandy ุ</a> ููุช ุจุชูููุฐ ุฌูุงุฒ ุชูุฌูู ูุณูุญ ูู ุจุฅูุดุงุก ุณูุงุณู ูู ุงูุฅุฌุฑุงุกุงุช.  ูุซุงู ุงูุชูููู (ุงูุชุจู / ุฎุทุท): <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">:receive .-&gt; :before -&gt; common/open_db_session GET -&gt; welcome -&gt; :respond &lt;- show_welcome /auth -&gt; :before -&gt; current_user@users/load_current_user /profile -&gt; GET -&gt; plan@plans/load_plan \ -&gt; :respond &lt;- users/show_user_profile PATCH -&gt; users/update_profile /plans -&gt; GET -&gt; current_plan@plans/load_current_plan \ -&gt; plans@plans/load_plans \ -&gt; :respond &lt;- plans/list :catch -&gt; common/handle_errors</code> </pre><br>  ูุนุฑุถ "ุงูุญุตูู ุนูู / ูุตุงุฏูุฉ / ุฎุทุท" ุฌููุน ุฎุทุท ุงูุงุดุชุฑุงู ุงููุชุงุญุฉ ู "ุฅุจุฑุงุฒ" ุงูุฎุทุฉ ุงูุญุงููุฉ.  ูุญุฏุซ ูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ": ูุจู -&gt; Common / open_db_session" - ูุชุญ ุฌูุณุฉ JetSet </li><li style=";text-align:right;direction:rtl">  / auth ": ูุจู -&gt; current_user @ users / load_current_user" - ูู ุจุชุญููู ุงููุณุชุฎุฏู ุงูุญุงูู (ุจูุงุณุทุฉ ุงูุฑููุฒ ุงููููุฒุฉ).  ูุชู ุชุณุฌูู ุงููุชูุฌุฉ ูู ุญุงููุฉ IoC ูู current_user (current_user @ instruction). </li><li style=";text-align:right;direction:rtl">  / auth / plans "current_plan @ plans / load_current_plan" - ูู ุจุชุญููู ุงูุฎุทุฉ ุงูุญุงููุฉ.  ููุฐุง ุ ูุชู ุฃุฎุฐ ุงููููุฉcurrent_user ูู ุงูุญุงููุฉ.  ูุชู ุชุณุฌูู ุงููุชูุฌุฉ ูู ุญุงููุฉ IoC ูู current_plan (current_plan @ instruction): <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoadCurrentPlan</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current_user</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current_user</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current_user</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">call</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sql</span></span></span><span class="hljs-class"> = &lt;&lt;~</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SQL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SELECT</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">.* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AS</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ENTITY</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plan</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FROM</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plans</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">INNER</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JOIN</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">subscriptions</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">s</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ON</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">s</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class"> = :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AND</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">s</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current</span></span></span><span class="hljs-class"> = '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">t</span></span></span><span class="hljs-class">' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WHERE</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class"> = :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LIMIT</span></span></span><span class="hljs-class"> 1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SQL</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">session</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">execute</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sql</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_id</span></span></span><span class="hljs-class">: @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">current_user</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> |</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">| </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">map</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Plan</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">plan</span></span></span><span class="hljs-class">') </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br></li><li style=";text-align:right;direction:rtl">  "Plans @ plans / load_plans" - ุชุญููู ูุงุฆูุฉ ุจุฌููุน ุงูุฎุทุท ุงููุชุงุญุฉ.  ูุชู ุชุณุฌูู ุงููุชูุฌุฉ ูู ุญุงููุฉ IoC ูุฎุทุท (the plans @ instruction). </li><li style=";text-align:right;direction:rtl">  ": ุงุณุชุฌุงุจุฉ &lt;- plans / list" - ูููู ViewBuilder ุงููุณุฌู ุ ุนูู ุณุจูู ุงููุซุงู JBuilder ุ ุจุฑุณู "ุฎุทุท / ูุงุฆูุฉ" View ูู ุงูููุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="ruby hljs">json.plans @plans <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|plan|</span></span> json.id plan.id json.name plan.name json.price plan.price json.active plan.id == @current_plan.id <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br></li></ol><br>  ููุงplans ูcurrent_plan ุ ูุชู ุงุณุชุฑุฏุงุฏ ุงูููู ุงููุณุฌูุฉ ูู ุงูุฎุทูุงุช ุงูุณุงุจูุฉ ูู ุงูุญุงููุฉ.  ูู ูููุดุฆ ุงูุฅุฌุฑุงุก Action ุ ุจุดูู ุนุงู ุ ููููู "ุชุฑุชูุจ" ูู ูุง ุชุญุชุงุฌู ุ ุฃู ุจุงูุฃุญุฑู ูู ุดูุก ูุณุฌู ูู ุงูุญุงููุฉ.  ูู ุงููุญุชูู ุฃู ูููู ูููุงุฑุฆ ุงูููุธ ุณุคุงู ุ ููู ูู ููุงู ุนุฒูุฉ ููุฐู ุงููุชุบูุฑุงุช ูู ูุถุน "ูุชุนุฏุฏ ุงููุณุชุฎุฏููู"ุ  ูุนู ูู ูุฐูู.  ุงูุญูููุฉ ูู ุฃู ุญุงููุฉ Hypo IoC ูุฏููุง ุงููุฏุฑุฉ ุนูู ุชุนููู ุนูุฑ ุงููุงุฆูุงุช ุ ุนูุงูุฉ ุนูู ุฐูู ุ ุฑุจุทูุง ุจุนูุฑ ุงููุงุฆูุงุช ุงูุฃุฎุฑู.  ุฏุงุฎู Dandy ุ ุชููู ุงููุชุบูุฑุงุช ูุซูplans ูcurrent_plan ูcurrent_user ูุฑุชุจุทุฉ ุจูุงุฆู ุงูุทูุจ ูุณูุชู ุฅุชูุงููุง ููุฑ ุงูุชูุงู ุงูุทูุจ.  ุจุงูููุงุณุจุฉ ุ ุชุฑุชุจุท ุฌูุณุฉ ุนูู JetSet ุฃูุถูุง ุจุงูุทูุจ - ุณูุชู ุฃูุถูุง ุฅุนุงุฏุฉ ุชุนููู ุญุงูุชู ุนูุฏ ุงูุชูุงู ุทูุจ Dandy.  ุฃู  ูู ุทูุจ ูู ุณูุงู ูุนุฒูู.  ูุญูู ููุจู ุฏูุฑุฉ ุญูุงุฉ ุฏุงูุฏู ุจุฃููููุง ุ ุจุบุถ ุงููุธุฑ ุนู ูุฏู ูุชุนุฉ ูุฐุง ุงูุชูุฑูุฉ ูู ุงูุชุฑุฌูุฉ ุงูุญุฑููุฉ ููุฃุณูุงุก. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h2><br>  ูู ุฅุทุงุฑ ุจููุฉ ูุนููุฉ ุ ุงุณุชุฎุฏู ูููุฐุฌ ุงููุงุฆู ููุตู ูุฌุงู ุงูููุถูุน ุ  ุฃุณุชุฎุฏู ุงูููุงุฑุณุงุช ุงูููุงุณุจุฉ ูุซู Dependency Injection ุ  ูููููู ุญุชู ุงุณุชุฎุฏุงู ุงูููุฑุงุซ.  ูููู ุ ูู ุงูููุช ููุณู ุ ูู ูุฐู ุงูุฅุฌุฑุงุกุงุช ูู ูุธุงุฆู ุนุงุฏูุฉ ุจุดูู ุฃุณุงุณู ูููู ุฑุจุทูุง ูุนูุง ุนูู ูุณุชูู ุฅุนูุงูู.  ููุฏ ุญุตููุง ุนูู ุงูุฎูููุฉ ุงููุทููุจุฉ ุจุฃุณููุจ ูุธููู ุ ูููู ูุน ูู ูุฒุงูุง ุฃุณููุจ ุงููุงุฆู ุ ุนูุฏูุง ูุง ุชูุงุฌู ูุดููุงุช ูุน ุงูุชุฌุฑูุฏุงุช ูุงุฎุชุจุงุฑ ุงูููุฏ.  ุจุงุณุชุฎุฏุงู ุฌูุงุฒ ุชูุฌูู DSL Dandy ููุซุงู ุ ูุญู ุฃุญุฑุงุฑ ูู ุฅูุดุงุก ุงููุบุงุช ุงููุงุฒูุฉ ููุตู ุงูุทุฑู ูุงููุฒูุฏ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ูุฌุฒุก ูู ูุฐู ุงูููุงูุฉ ุ ููุช ุจุฅุฌุฑุงุก ุฑุญูุฉ ุงุณุชูุดุงููุฉ ุนูู ุงูุฌูุงูุจ ุงูุฃุณุงุณูุฉ ูุฅูุดุงุก ุฎูููุฉ ููุง ุฃุฑุงูุง.  ุฃูุฑุฑ ุ ุงูููุงู ุณุทุญู ุ ููู ููุณ ุงูุนุฏูุฏ ูู ุงูููุถูุนุงุช ุงููููุฉ ุ ูุซู ุชุญุณูู ุงูุฃุฏุงุก ุนูู ุณุจูู ุงููุซุงู.  ุญุงููุช ุงูุชุฑููุฒ ููุท ุนูู ุชูู ุงูุฃุดูุงุก ุงูุชู ูููู ุฃู ุชููู ูููุฏุฉ ุญููุง ูููุฌุชูุน ูุบุฐุงุก ููุชูููุฑ ุ ูููุณ ูุฑุฉ ุฃุฎุฑู ูู ูุฑุงุบ ุฅูู ูุงุฑุบ ุ ูุง ูู SOLID ู TDD ูููู ูุจุฏู ูุฎุทุท MVC ููุง ุฅูู ุฐูู.  ูููู ุงูุนุซูุฑ ุจุณูููุฉ ุนูู ุชุนุฑููุงุช ุตุงุฑูุฉ ููุฐู ุงููุตุทูุญุงุช ูุบูุฑูุง ุงูุชู ูุณุชุฎุฏููุง ูุงุฑุฆ ูุถููู ูู ุงูุดุจูุฉ ุงููุงุณุนุฉ ุ ูุงููู ุนู ุงูุฒููุงุก ูู ุงููุชุฌุฑ ุ ุงูุฐูู ุชุดูู ูุฐู ุงูุงุฎุชุตุงุฑุงุช ุฌุฒุกูุง ูู ุงูููุงู ุงููููู.  ูุฃุฎูุฑูุง ุ ุฃุคูุฏ ุ ุญุงูู ุฃูุง ุชุฑูุฒ ุนูู ุงูุฃุฏูุงุช ุงูุชู ููุช ุจุญุงุฌุฉ ูุชุทุจูููุง ูุญู ุงููุดููุงุช ุงููุทุฑูุญุฉ.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุฌุฑุฏ ุฏููู ุนูู ุตุญุฉ ุงูุฃููุงุฑ ุ ูููุณ ุฌููุฑูุง. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ูุฐู ุงูููุงูุฉ ุฐุงุช ุฃูููุฉ ุ ูุณุฃูุชุจ ูุงุฏุฉ ูููุตูุฉ ุนู ูุฐู ุงูููุชุจุงุช.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar474504/">https://habr.com/ru/post/ar474504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar474494/index.html">ููู ูุงูุช ููุฉ Zabbix 2019</a></li>
<li><a href="../ar474496/index.html">ููุงุนุฏ ุงูุจูุงูุงุช ุนูู HighLoad ++ 2019</a></li>
<li><a href="../ar474498/index.html">JavaFX ุงูุจุฑูุงูุฌ ุงูุชุนูููู: ูุฑุญุจุง ุงูุนุงูู</a></li>
<li><a href="../ar474500/index.html">ุชุทููุฑ ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ูุบุฑุงูุงูุง: ูุตุฉ ุงูุฃููุงุน ุงููุงููุฉ</a></li>
<li><a href="../ar474502/index.html">ุชุญููู Odnoklassniki ูู Joker 2019</a></li>
<li><a href="../ar474508/index.html">ุฅูุฌุงุฒุงุช 3D ุงูุทุจุงุนุฉ ุงูุญูููุฉ ูู ุชุฑููุน ุงูุฌูุฏ</a></li>
<li><a href="../ar474514/index.html">ููู ุงูุตูููุฉ ุงูุชุนุฏูู ุจูุชูููู ุงูุชุนุฏูู ุงูุจูุงุก ุนูู ููุฏ ุงูุญูุงุฉ</a></li>
<li><a href="../ar474516/index.html">ุงูุชุทุจููุงุช ุงูุตูุชูุฉ: ุงูุณูู ุงููููุงุฑ ุงูุชู ูุง ุชูุงุญุธูุง ุฑูุณูุง</a></li>
<li><a href="../ar474518/index.html">FP vs OOP</a></li>
<li><a href="../ar474522/index.html">ูุตุฉ ุงููุบูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>