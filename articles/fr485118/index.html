<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç® üï∫üèæ üë©üèø‚Äçüî¨ Clean Code par Robert Martin. Abstrait. Comment √©crire du code clair et beau? üê£ ü§∞üèΩ üñïüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai d√©cid√© d'√©crire un recueil du livre, que tout le monde conna√Æt, et l'auteur l'appelle ¬´l'√©cole des professeurs de code pur¬ª. Le regard de Martin ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Clean Code par Robert Martin. Abstrait. Comment √©crire du code clair et beau?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485118/">  J'ai d√©cid√© d'√©crire un recueil du livre, que tout le monde conna√Æt, et l'auteur l'appelle ¬´l'√©cole des professeurs de code pur¬ª.  Le regard de Martin semble dire: <br><br>  ¬´Je vois √† travers toi.  Ne suivez-vous pas √† nouveau les principes du code propre? <br><br><img src="https://habrastorage.org/webt/ef/iy/gk/efiygknwshp6q_5wtna1q_dewti.jpeg" alt="image"><br><a name="habracut"></a><br><h3>  Chapitre 1. Code propre </h3><br>  Quel est ce code de version Martin le plus propre en quelques mots?  C'est du code sans duplication, avec un nombre minimum d'entit√©s, facile √† lire, simple.  Comme devise, on pourrait choisir: "La clart√© c'est avant tout!". <br><br><h3>  Chapitre 2. Noms significatifs </h3><br><h4>  Les noms doivent transmettre les intentions du programmeur </h4><br>  Le nom d'une variable, d'une fonction ou d'une classe doit indiquer pourquoi cette variable existe, ce qu'elle fait et comment elle est utilis√©e.  Si le nom n√©cessite des commentaires suppl√©mentaires, il ne traduit pas les intentions du programmeur.  Il vaut mieux √©crire ce qui est exactement mesur√© et dans quelles unit√©s. <br><br>  Un exemple d'un bon nom de variable: daysSinceCreation; <br>  Objectif: supprimer la non-√©vidence. <br><br><h4>  √âvitez la d√©sinformation </h4><br>  N'utilisez pas de mots avec des significations cach√©es autres que celles pr√©vues.  M√©fiez-vous des diff√©rences subtiles dans les noms.  Par exemple, XYZControllerForEfficientHandlingOfStrings et XYZControllerForEfficientStorageOfStrings. <br><br>  On trouve des exemples vraiment effrayants de noms mal inform√©s lors de l'utilisation du ¬´L¬ª minuscule et du ¬´O¬ª majuscule dans les noms de variable, en particulier dans les combinaisons.  Naturellement, des probl√®mes surviennent du fait que ces lettres ne diff√®rent presque pas des constantes "1" et "0", respectivement. <br><br><h4>  Utilisez des diff√©rences significatives </h4><br>  Si les noms sont diff√©rents, ils doivent indiquer diff√©rents concepts. <br><br>  Les "s√©ries de nombres" de la forme (a1, a2, ... aN) sont l'oppos√© de la d√©nomination consciente.  Ils ne portent pas d‚Äôinformations ni ne donnent une id√©e des intentions de l‚Äôauteur. <br><br>  Les mots non informatifs sont redondants.  Le mot variable ne doit jamais appara√Ætre dans les noms de variable.  Le mot table ne doit jamais appara√Ætre dans les noms de table.  Pourquoi NameString est-il meilleur que Name?  Un nom peut-il √™tre, disons, un vrai nombre? <br><br>  Utilisez des noms d'orthographe: generationTimestamp est bien meilleur que genymdhms. <br><br><h4>  Choisissez des noms consultables </h4><br>  Les noms √† lettre unique ne peuvent √™tre utilis√©s que pour les variables locales dans les m√©thodes courtes. <br><br><h4>  √âvitez les sch√©mas de codage de nom </h4><br>  En r√®gle g√©n√©rale, les noms cod√©s sont mal prononc√©s et il est facile d'y faire une faute de frappe. <br><br><h4>  Interfaces et impl√©mentations </h4><br>  Je (l'auteur du livre) pr√©f√®re laisser les noms d'interface sans pr√©fixe.  Le pr√©fixe I, si courant dans l'ancien code, distrait au mieux, et au pire - transmet des informations inutiles.  Je ne vais pas dire √† mes utilisateurs qu'ils ont affaire √† une interface. <br><br><h4>  Noms de classe </h4><br>  Les noms de classe et d'objet doivent √™tre des noms et leurs combinaisons: Customer, WikiPage, Account et AddressParser.  √âvitez d'utiliser des mots tels que Manager, Processor, Data ou Info dans les noms de classe.  Le nom de classe ne doit pas √™tre un verbe. <br><br><h4>  Noms des m√©thodes </h4><br>  Les noms de m√©thode sont des verbes ou des expressions verbales: postPayment, deletePage, save, etc. Les m√©thodes de lecture / √©criture et les pr√©dicats sont form√©s √† partir de la valeur et du pr√©fixe get, set et sont conformes √† la norme javabean. <br><br><h4>  Abstenez-vous des jeux de mots </h4><br>  La t√¢che de l‚Äôauteur est de rendre son code aussi clair que possible.  Le code doit √™tre per√ßu en un coup d'≈ìil, sans n√©cessiter d'√©tude approfondie.  Focus sur le mod√®le de la litt√©rature populaire, dans lequel l'auteur lui-m√™me doit exprimer librement ses pens√©es. <br><br><h4>  Ajoutez un contexte significatif. </h4><br>  Le contexte peut √™tre ajout√© √† l'aide de pr√©fixes: addrFirstName, addrLastName, addrState, etc. Au moins le lecteur de code comprendra que les variables font partie d'une structure plus large.  Bien s√ªr, il serait plus correct de cr√©er une classe appel√©e Address, de sorte que m√™me le compilateur sache que les variables font partie de quelque chose de plus. <br><br>  Variables avec un contexte peu clair: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printGuessStatistics</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> candidate, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ String number; String verb; String pluralModifier; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count == <span class="hljs-number"><span class="hljs-number">0</span></span>) { number = <span class="hljs-string"><span class="hljs-string">"no"</span></span>; verb = <span class="hljs-string"><span class="hljs-string">"are"</span></span>; pluralModifier = <span class="hljs-string"><span class="hljs-string">"s"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count == <span class="hljs-number"><span class="hljs-number">1</span></span>) { number = ~_~quot quot~_~; verb = <span class="hljs-string"><span class="hljs-string">"is"</span></span>; pluralModifier = <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { number = Integer.toString(count); verb = <span class="hljs-string"><span class="hljs-string">"are"</span></span>; pluralModifier = <span class="hljs-string"><span class="hljs-string">"s"</span></span>; } String guessMessage = String.format( <span class="hljs-string"><span class="hljs-string">"There %s %s %s%s"</span></span>, verb, number, candidate, pluralModifier ); print(guessMessage); }</code> </pre> <br>  La fonction est un peu longue et les variables sont utilis√©es partout.  Pour diviser la fonction en fragments s√©mantiques plus petits, vous devez cr√©er la classe GuessStatisticsMessage et faire de trois variables les champs de cette classe.  De cette fa√ßon, nous fournirons un contexte √©vident pour les trois variables - maintenant il est absolument √©vident que ces variables font partie de GuessStatisticsMessage. <br><br>  Variables avec contexte: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GuessStatisticsMessage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String number; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String verb; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String pluralModifier; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> candidate, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ createPluralDependentMessageParts(count); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> String.format( <span class="hljs-string"><span class="hljs-string">"There %s %s %s%s"</span></span>, verb, number, candidate, pluralModifier ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createPluralDependentMessageParts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count == <span class="hljs-number"><span class="hljs-number">0</span></span>) { thereAreNoLetters(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count == <span class="hljs-number"><span class="hljs-number">1</span></span>) { thereIsOneLetter(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { thereAreManyLetters(count); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thereAreManyLetters</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ number = Integer.toString(count); verb = <span class="hljs-string"><span class="hljs-string">"are"</span></span>; pluralModifier = <span class="hljs-string"><span class="hljs-string">"s"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thereIsOneLetter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ number = ~_~quot quot~_~; verb = <span class="hljs-string"><span class="hljs-string">"is"</span></span>; pluralModifier = <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thereAreNoLetters</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ number = <span class="hljs-string"><span class="hljs-string">"no"</span></span>; verb = <span class="hljs-string"><span class="hljs-string">"are"</span></span>; pluralModifier = <span class="hljs-string"><span class="hljs-string">"s"</span></span>; } }</code> </pre> <br><h4>  N'ajoutez pas de contexte redondant </h4><br>  Les noms courts sont g√©n√©ralement meilleurs que les noms longs, si seulement leur signification est claire pour le lecteur de code.  N'incluez pas plus de contexte que n√©cessaire dans le nom. <br><br><h3>  Chapitre 3. Fonctions </h3><br><h4>  Compact! </h4><br>  Premi√®re r√®gle: les fonctions doivent √™tre compactes. <br>  Deuxi√®me r√®gle: les fonctions doivent √™tre encore plus compactes. <br><br>  Mon exp√©rience pratique m'a appris (au prix de nombreux essais et erreurs) que les fonctions devraient √™tre tr√®s petites.  Il est souhaitable que la longueur de la fonction ne d√©passe pas 20 lignes. <br><br><h4>  R√®gle d'une op√©ration </h4><br>  Une fonction ne doit effectuer qu'une seule op√©ration.  Elle doit bien le faire.  Et elle ne devrait rien faire d'autre.  Si une fonction effectue uniquement les actions qui sont au m√™me niveau sous le nom d√©clar√© de la fonction, alors cette fonction effectue une op√©ration. <br><br><h4>  Sections de fonction </h4><br>  Une fonction qui effectue une seule op√©ration ne peut pas √™tre divis√©e de mani√®re significative en sections. <br><br><h4>  Un niveau d'abstraction par fonction </h4><br>  Pour s'assurer que la fonction n'effectue ¬´qu'une seule op√©ration¬ª, il est n√©cessaire de v√©rifier que toutes les commandes de la fonction sont au m√™me niveau d'abstraction. <br><br>  Le m√©lange des niveaux d'abstraction au sein d'une fonction cr√©e toujours de la confusion. <br><br><h4>  Lecture du code de haut en bas: r√®gle de r√©trogradation </h4><br>  Le code doit se lire comme une histoire - de haut en bas. <br><br>  Chaque fonction doit √™tre suivie de fonctions du niveau d'abstraction suivant.  Cela vous permet de lire le code, en descendant s√©quentiellement les niveaux d'abstraction tout en lisant la liste des fonctions.  J'appelle cette approche la ¬´r√®gle de r√©trogradation¬ª. <br><br><h4>  Commuter les commandes </h4><br>  L'√©criture d'une commande de commutateur compact est assez difficile.  M√™me une commande de commutation avec seulement deux conditions prend plus de place qu'un bloc ou une fonction unique devrait occuper √† mon avis.  Il est √©galement difficile de cr√©er une commande switch qui fait une chose - par nature, les commandes switch effectuent toujours N op√©rations.  Malheureusement, nous ne pouvons pas toujours nous passer de commandes de commutation, mais au moins nous pouvons nous assurer que ces commandes sont masqu√©es dans une classe de bas niveau et non dupliqu√©es dans le code.  Et bien s√ªr, le polymorphisme peut nous y aider. <br><br>  L'exemple montre une seule op√©ration, selon le type d'employ√©. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Money </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculatePay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Employee e)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InvalidEmployeeType </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (e.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> COMMISSIONED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> calculateCommissionedPay(e); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> HOURLY: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> calculateHourlyPay(e); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> SALARIED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> calculateSalariedPay(e); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidEmployeeType(e.type); } }</code> </pre> <br>  Cette fonctionnalit√© pr√©sente plusieurs inconv√©nients.  Premi√®rement, c'est formidable, et avec l'ajout de nouveaux types de travailleurs, il augmentera.  Deuxi√®mement, il effectue bien √©videmment plus d'une op√©ration.  Troisi√®mement, il viole le principe de la responsabilit√© unique, car il peut s'expliquer par plusieurs raisons. <br><br>  Quatri√®mement, il viole le principe ouvert et ferm√©, car le code de fonction doit changer chaque fois que de nouveaux types sont ajout√©s. <br><br>  Mais l'inconv√©nient le plus grave est peut-√™tre que le programme peut contenir un nombre illimit√© d'autres fonctions avec une structure similaire, par exemple: <br><br>  isPayday (Employ√© e, Date date) <br><br>  ou <br><br>  deliveryPay (Employ√© e, Paiement en argent) <br><br>  et ainsi de suite. <br><br>  Toutes ces fonctions auront la m√™me structure imparfaite.  La solution √† ce probl√®me consiste √† enterrer la commande switch dans les fondations de l'usine abstraite et √† ne la montrer √† personne.  La fabrique utilise la commande switch pour cr√©er les instances correspondantes des descendants d'Employ√© et appelle les fonctions CalculatePay, isPayDay, DeliverPay, etc., pour passer le transfert polymorphe via l'interface Employ√©. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Employee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isPayday</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Money </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculatePay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deliverPay</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Money pay)</span></span></span></span>; } ----------------- <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EmployeeFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Employee </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeEmployee</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EmployeeRecord r)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InvalidEmployeeType</span></span>; } ----------------- <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EmployeeFactoryImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EmployeeFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Employee </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeEmployee</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EmployeeRecord r)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InvalidEmployeeType </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (r.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> COMMISSIONED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CommissionedEmployee(r) ; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> HOURLY: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HourlyEmployee(r); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> SALARIED: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SalariedEmploye(r); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidEmployeeType(r.type); } } }</code> </pre> <br>  Ma r√®gle g√©n√©rale concernant les commandes de commutation est que ces commandes sont valides si elles se produisent une fois dans le programme, sont utilis√©es pour cr√©er des objets polymorphes et se cachent derri√®re des relations d'h√©ritage pour rester invisibles pour le reste du syst√®me.  Bien s√ªr, il n'y a pas de r√®gles sans exceptions, et dans certaines situations, il est n√©cessaire de violer une ou plusieurs conditions de cette r√®gle. <br><br><h4>  Utilisez des noms significatifs </h4><br>  La moiti√© des efforts pour mettre en ≈ìuvre ce principe se r√©sume √† choisir de bons noms pour les fonctions compactes qui effectuent une seule op√©ration.  Plus la fonction est petite et sp√©cialis√©e, plus il est facile de lui donner un nom significatif. <br><br>  N'ayez pas peur d'utiliser des noms longs. Un nom long et significatif vaut mieux qu'un nom court et obscur.  Choisissez un sch√©ma qui facilite la lecture des mots dans le nom de la fonction, puis cr√©ez un nom √† partir de ces mots qui d√©crit l'objectif de la fonction. <br><br><h4>  Arguments de fonction </h4><br>  Dans le cas id√©al, le nombre d'arguments de fonction est nul.  Les fonctions suivantes comportent un argument (unaire) et deux arguments (binaire).  Les fonctions avec trois arguments (ternaire) doivent √™tre √©vit√©es autant que possible. <br><br>  Les arguments de sortie confondent la situation encore plus rapidement que l'entr√©e.  En r√®gle g√©n√©rale, personne ne s'attend √† ce qu'une fonction renvoie des informations sous forme d'arguments.  Si vous ne pouvez pas g√©rer sans arguments, essayez au moins de vous limiter √† un argument d'entr√©e. <br><br>  Les conversions qui utilisent un argument de sortie au lieu d'une valeur de retour confondent le lecteur.  Si la fonction convertit son argument d'entr√©e, le r√©sultat <br>  doit √™tre pass√© dans la valeur de retour. <br><br><h4>  Arguments des drapeaux </h4><br>  Les arguments argument sont moches.  Passer le sens logique d'une fonction est une habitude vraiment terrible.  Il complique imm√©diatement la signature de la m√©thode, proclamant haut et fort que la fonction effectue plus d'une op√©ration.  Si l'indicateur est vrai, une op√©ration est effectu√©e et, si elle est fausse, une autre. <br><br><h4>  Fonctions binaires </h4><br>  Une fonction √† deux arguments est plus difficile √† comprendre qu'une fonction unaire.  Bien s√ªr, dans certaines situations, une forme √† deux arguments est appropri√©e.  Par exemple, appeler le Point p = nouveau Point (0,0);  absolument raisonnable.  Cependant, deux arguments dans notre cas sont des composants ordonn√©s de la m√™me valeur. <br><br><h4>  Objets comme arguments </h4><br>  Si une fonction doit recevoir plus de deux ou trois arguments, il est fort probable que certains de ces arguments soient regroup√©s dans une classe distincte.  Consid√©rez les deux d√©clarations suivantes: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">Circle </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeCircle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> radius)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">Circle </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeCircle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Point center, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> radius)</span></span></span></span>;</code> </pre> <br>  Si les variables sont transf√©r√©es ensemble dans leur ensemble (comme les variables x et y dans cet exemple), alors, tr√®s probablement, ensemble, elles forment un concept qui m√©rite son propre nom. <br><br><h4>  Verbes et mots-cl√©s </h4><br>  Choisir un bon nom pour une fonction peut largement expliquer la signification de la fonction, ainsi que l'ordre et la signification de ses arguments.  Dans les fonctions unaires, la fonction elle-m√™me et son argument doivent former une paire verbe / nom naturel.  Par exemple, un appel du formulaire write (name) semble tr√®s informatif. <br><br>  Le lecteur comprend que quel que soit le ¬´nom¬ª, il est quelque part ¬´√©crit¬ª.  Encore mieux est l'enregistrement writeField (nom), qui signale que le "nom" est √©crit dans le "champ" d'une certaine structure. <br><br>  La derni√®re entr√©e est un exemple d'utilisation de mots cl√©s dans un nom de fonction.  Sous cette forme, les noms d'arguments sont cod√©s dans le nom de la fonction.  Par exemple, assertEquals peut √™tre √©crit en tant que assertExpectedEqualsActual (attendu, r√©el).  Cela r√©sout en grande partie le probl√®me de se souvenir de l'ordre des arguments. <br><br><h4>  S√©paration des commandes et des requ√™tes </h4><br>  Une fonction doit faire quelque chose ou r√©pondre √† une question, mais pas simultan√©ment.  Soit la fonction modifie l'√©tat de l'objet, soit renvoie des informations sur cet objet.  La combinaison de deux op√©rations cr√©e souvent de la confusion. <br><br><h4>  Isoler les blocs try / catch </h4><br>  Les blocs try / catch semblent assez laids.  Ils confondent la structure du code et m√©langent la gestion des erreurs avec le traitement normal.  Pour cette raison, il est recommand√© que les corps des blocs try et catch soient s√©par√©s en fonctions distinctes. <br><br><h4>  Gestion des erreurs en une seule op√©ration </h4><br>  Les fonctions doivent effectuer une op√©ration.  La gestion des erreurs est une op√©ration.  Cela signifie que la fonction qui traite les erreurs ne doit rien faire d'autre.  Il s'ensuit que si le mot cl√© try est pr√©sent dans la fonction, alors il doit √™tre le premier mot de la fonction, et apr√®s les blocs catch / finally, il ne devrait y avoir rien d'autre. <br><br>  Ceci conclut le chapitre 3. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485118/">https://habr.com/ru/post/fr485118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485100/index.html">O√π aller: les prochains √©v√©nements gratuits pour les d√©veloppeurs √† Moscou (30 janvier - 15 f√©vrier)</a></li>
<li><a href="../fr485102/index.html">Topleaked: un outil pour d√©tecter les fuites de m√©moire</a></li>
<li><a href="../fr485104/index.html">Cr√©er une cl√© RFID universelle pour les interphones</a></li>
<li><a href="../fr485108/index.html">Statistiques des sp√©cialistes PMI certifi√©s en Russie au 01/10/2020</a></li>
<li><a href="../fr485110/index.html">Mon exp√©rience du travail √† distance efficace</a></li>
<li><a href="../fr485120/index.html">Ajoutez une API JSON tr√®s rapide √† notre application.</a></li>
<li><a href="../fr485122/index.html">La rubrique ¬´Lisez des articles pour vous¬ª. Octobre - d√©cembre 2019</a></li>
<li><a href="../fr485124/index.html">Tests purs en PHP et PHPUnit</a></li>
<li><a href="../fr485126/index.html">Mu-mu, woof-woof, quack-quack: √©volution de la communication acoustique</a></li>
<li><a href="../fr485128/index.html">√âconomisez sur les licences Mikrotik CHR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>