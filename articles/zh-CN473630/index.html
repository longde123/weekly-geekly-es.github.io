<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙎🏽 👨‍👩‍👦 ◀️ 开发iOS应用程序的最佳做法和工具 👨🏼‍🔧 👨‍⚕️ 👨🏽‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在开发移动应用程序时，我不得不多次创建一个项目。 同时，我和我的团队一直在项目的基本设置上花费很多时间，例如集成第三方工具，设置项目结构，编写基类，集成外部库等。 

 我决定可以减少启动项目所需的时间，并且可以使流程的主要部分自动化。 同时，我收集了我们使用的最佳实践和工具，并准备了一个在启动新项...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>开发iOS应用程序的最佳做法和工具</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473630/">在开发移动应用程序时，我不得不多次创建一个项目。 同时，我和我的团队一直在项目的基本设置上花费很多时间，例如集成第三方工具，设置项目结构，编写基类，集成外部库等。 <br><br> 我决定可以减少启动项目所需的时间，并且可以使流程的主要部分自动化。 同时，我收集了我们使用的最佳实践和工具，并准备<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了一个</a>在启动新项目时使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的项目模板</a> 。 这样的模板应节省开发人员配置新项目的时间，并提供每个团队成员都习惯的通用项目结构，这样您就不必再为他思考和研究新项目的结构了。 现在总是一样。 <br><br> 模板中添加的每种工具或方法都应单独撰写一篇文章，但我想尝试总结每个段落，并简要说明为什么我将它们包括在本文中。 <br><a name="habracut"></a><br><h3> 椰子足 </h3><br> 我认为可可豆不需要提交。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是一个</a>用于管理iOS项目的外部依赖关系<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>库。 它已经存在了很长时间，并且已经在数千个（如果不是数百万个）项目中得到了可靠的实践证明。 还有其他的依赖项管理器，例如： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Carthage</a> ，但我决定继续使用Cocoapods，因为它具有受支持的开源项目范围最广。 使用Cocoapods非常简单，并且带有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">搜索索引</a> ，可轻松找到随时可用的软件包。 <br><br> 模板项目提供了一个简单的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Podfile</a> ，其中包含Swiftlint和R.swift。 该模板还包括一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gem文件，</a>用于管理用于依赖性管理的Cocoapods版本。 开发人员通常会忽略此解决方案，但是它可以防止团队开发人员使用不同版本的Cocoapods安装依赖项时发生的问题。  Gemfile强制整个团队使用相同版本的Cocoapods。 <br><br><h3> 斯威夫林特 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Swiftlint</a>是一个非常有用的工具，用于由一个团队中的每个开发人员强制执行某些规则和编码样式。 该系统可以被认为是一种自动代码验证系统，该系统可以警告开发人员有关危险时刻的信息，例如强制转换，强制尝试等，但除上述之外，该系统还采用了通用的编写代码，监视代码的方式。这样所有开发人员都遵循与“代码样式”相关的相同规则，例如：缩进或间隔。 这种方法具有巨大的优势，不仅可以节省代码验证的时间，还可以使项目文件易于识别，从而提高了文件的可读性，并因此提高了开发团队所有成员的理解。 此<a href="">链接</a>提供所有规则的列表。 在Swiftlint模板中，它是使用Cocoapods安装的，并包含在“编译阶段”步骤中，因此，每次编译项目时，它将向开发人员显示警告。 <br><br><h3> 斯威夫特 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">R.swift</a>是一种用于获取强类型的自动填充资源（例如图像，字体段和本地化）的工具。 它通过扫描项目并创建获取资源所需的类来执行上述所有操作。 该库的最大优点是，在使用资源时，它可以编写程序代码： <br><br><ul><li>  <b>全类型</b> -更少的强制<b>类型</b>转换和关于将返回哪种方法的假设 </li><li>  <b>检查编译时间</b> -不再存在无效行，这些行会在代码执行期间停止应用程序的运行 </li><li>  <b>自动完成</b> -无需再次猜测<i>图像</i>名称<i>/笔尖/故事板</i> </li></ul><br> 考虑使用官方字符串API的以下代码： <br><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> icon = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: “custom-icon”)</code> </pre> <br> 如果您在图像名称上输入错误，将得到零。 如果团队中的任何成员更改了图像资源的名称，则在您强制图像扩展时，此代码将返回零或停止执行。 使用R.swift时，如下所示： <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> icon = <span class="hljs-type"><span class="hljs-type">R</span></span>.image.customIcon()</code> </pre><br> 现在您可以确定该图标确实存在（由于编译时间检查，编译器会警告您是否存在该图标），并且您将确保您不会在该图标的名称上打错字，因为您将使用自动完成功能。 <br><br>  R.swift使用Cocoapods安装，并在编译阶段集成到模板中，并将为每次编译生成Swift shell类。 这意味着，如果添加文件/图像/本地化/字体/颜色/笔等，则在编译项目后，所有这些都可以通过R.swift获得。 <br><br><h3> 单独的AppDelegate文件进行测试 </h3><br> 很多时候，他们忘记了运行测试时使用单独的TestAppDelegate类的良好做法。 为什么这是个好主意？ 通常，在应用程序启动时，AppDelegate类会执行大量工作。 它可以具有窗口配置逻辑，配置应用程序用户界面的基本显示，执行注册逻辑以接收通知，具有数据库连接设置代码，甚至有时可以进行服务器API调用。 单元测试不应有副作用。 您真的不希望随机调用API并自定义应用程序的整个用户界面结构只是为了运行单元测试吗？ <br><br>  TestAppDelegate还是一个合适的选择，它可以使您只希望在测试套件执行期间仅运行一次代码。 它可能包含生成模拟对象，网络请求存根等的代码。 <br><br> 模板包含main.swift文件，这是应用程序的主要入口点。 该文件中有一些方法可以测试应用程序的环境，如果是测试环境，则可以调用TestAppDelegate。 <br><br><h3> 编译器性能分析标志 </h3><br>  Swift是一种很棒的语言，比Objective-C（IMO）更易于使用和安全。 但是，当它第一次被引入时，它有一个很大的缺陷-编译时间。 回到我在Swift中进行项目时，该项目包含约4万行Swift代码（中型项目）。 该代码非常繁重，具有设置和类型推断功能，并且编译干净的程序集将近5分钟。 如果进行了很小的更改，则将重新编译项目，并且大约需要2分钟才能看到更改。 这是我经历过的最糟糕的经历之一，因此，我几乎停止使用Swift。 <br><br> 然后唯一的解决方案是尝试分析项目的编译时间并更改代码，以使编译器更快地工作。 为了帮助解决此类问题， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Apple引入了一些非官方的编译器标志</a> ，这些<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">标志</a>警告开发人员编译方法主体或确定表达式类型所需的时间太长。 我将这些标志添加到模板项目中，以警告您的应用程序编译时间长。 <br><br> 如今，编译时间已大大减少，开发人员很少需要优化代码以减少编译时间。 但是与项目解决方案过大之后尝试解决此问题相比，事先了解所有信息还是要好得多。 <br><br><h3> 开发/登台/生产配置 </h3><br> 另一种好的方法（或可能是必要的）是为开发环境，最终测试和应用程序发布使用单独的配置和环境变量。 当前，几乎每个应用程序都应与服务器一起使用，并且通常将这些服务器部署在多个环境中。 开发人员将开发环境用于日常部署以测试其代码。 最终的测试环境用于创建稳定的版本或供测试人员和客户进行测试。 <br><br> 在iOS项目中支持多种环境的一种方法是在项目级别添加配置。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c43/dfd/1e9/c43dfd1e9219cb12b1a7a64c8753a1d0.png" alt="图片"><br>  <i>项目级配置</i> <br><br> 定义配置后，您可以创建一个Configuration.plist文件，其中包含每个环境的变量。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/07e/c6a/01a/07ec6a01adefb9cd9ead37330a0f971b.png" alt="图片"><br>  <i>配置文件</i> <br><br> 启动项目时，可以指示应使用哪种配置。 您可以在装配图中执行此操作。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a7/4e1/76d/0a74e176d5bf9a23e631c1b79d1a0f28.png" alt="图片"><br><br> 然后，您需要向Info.plist项目文件中添加另一个属性。 该属性的值将在运行时以当前配置的名称动态替换。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ff/c1b/672/1ffc1b67277e5872652b294be87ce310.png" alt="图片"><br>  <i>所有这些都在模板中预先配置。</i> <br><br> 只剩下编写一个可以在运行时提取这些变量的类，这取决于在组装方案中选择的配置。 该模板包含<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ConfigurationManager</a>类，该类可以检索当前环境的变量。 您也可以在Github上检查此类的实现，以了解其工作原理。 <br><br><h3> 自述文件 </h3><br> 每个项目应包含一个自述文件，该文件至少包含有关安装依赖项和启动项目的说明。 它还应包含对项目体系结构和模块的描述。 不幸的是，开发人员不喜欢编写文档（自述文件是这项工作的一部分），我看到一个开发了几个月的项目，甚至还有一个自述文件。 为了减轻编写自述文件的负担，模板包含一个<a href="">标准的自述文件</a> ，该<a href="">文件</a>涵盖了项目的安装和结构。 使用模板设置新项目时，将自动包含自述文件。 <br><br><h3> 吉特尼奥雷 </h3><br> 当前，大多数项目使用GIT作为版本控制系统。 使用GIT时，开发人员不想忽略项目中的某些文件或文件夹，例如build文件夹或派生数据文件夹。 为了使开发人员不必查找适合其iOS项目的gitignore文件，该模板包含Github成员提供的标准gitignore。 <br><br><h3> 处理外部链接和通知的基类 </h3><br> 如今，几乎每个应用程序都应处理外部链接和通知。 为此，开发人员必须在AppDelegate类中编写一些标准代码。 该模板包含有关如何执行此操作的描述，还<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">包含</a>有助于使用外部链接和通知的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基类</a> 。 <br><br><h3> 结论 </h3><br> 总而言之，所描述的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">模板</a>包含最佳方法，并集成了有用的第三方工具。 所有这些都可以节省您的团队在建立新项目上花费的开发时间，并为其余项目提供通用而坚实的基础。  <i>让此模板为您和您的团队服务！</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN473630/">https://habr.com/ru/post/zh-CN473630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN473610/index.html">解析新的Plesk Obsidian Web控制台</a></li>
<li><a href="../zh-CN473612/index.html">别针上的论文。 为微控制器在C ++中配置和使用引脚的想法（以CortexM为例）</a></li>
<li><a href="../zh-CN473614/index.html">该书“头先。 科特林»</a></li>
<li><a href="../zh-CN473626/index.html">“开发商想在三年内购买飞机。 我的任务是帮助他”-丹尼斯·普希金谈Skyeng的动机</a></li>
<li><a href="../zh-CN473628/index.html">正畸服务中的C ++：Align Technology CAD开发人员Mikhail Matrosov访谈</a></li>
<li><a href="../zh-CN473632/index.html">我们看了一篇关于哈伯的文章</a></li>
<li><a href="../zh-CN473634/index.html">Comcast大堂禁止DNS加密</a></li>
<li><a href="../zh-CN473636/index.html">通过平板电脑下载16GB种子，拥有4GB可用空间</a></li>
<li><a href="../zh-CN473638/index.html">着色器不是魔术。 在Unity中编写着色器。 引言</a></li>
<li><a href="../zh-CN473640/index.html">大数据日落</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>