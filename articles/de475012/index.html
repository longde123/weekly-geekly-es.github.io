<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èπÔ∏è üßö üßòüèΩ Wie der Browser f√ºr iOS die A / B-Tests verbesserte. Yandex-Bericht üå§Ô∏è üë≤üèæ üè§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor nicht allzu langer Zeit haben wir uns angesehen, wie A / B-Experimente in Search angeordnet sind. Der Leiter des Entwicklungsteams f√ºr die iOS-Ver...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie der Browser f√ºr iOS die A / B-Tests verbesserte. Yandex-Bericht</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/475012/"> Vor nicht allzu langer Zeit haben wir uns <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">angesehen,</a> wie A / B-Experimente in Search angeordnet sind.  Der Leiter des Entwicklungsteams f√ºr die iOS-Version von Yandex.Browser Andrei Sikerin sav42 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">sprach</a> beim letzten Treffen von CocoaHeads Russia nur in seinem Projekt √ºber die A / B-Testinfrastruktur. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/mt/lf/6w/mtlf6wbmilwjyws6-tcfxwcxc9e.jpeg"></a> <br><br>  - Hallo, mein Name ist Andrey Sikerin, ich entwickle Yandex.Browser f√ºr iOS.  Ich m√∂chte Ihnen sagen, was die Browserexperimentplattform f√ºr iOS ist, wie wir sie verwendet haben, welche erweiterten Funktionen sie unterst√ºtzt, wie Funktionen diagnostiziert und debuggt werden, die mit dem Experimentiersystem eingef√ºhrt wurden und woher die Entropie stammt M√ºnze ist gespeichert. <br><a name="habracut"></a><br>  Also fangen wir an.  Wir im Browser f√ºr iOS √ºbertragen die Funktion niemals auf einmal an Benutzer.  Zuerst f√ºhren wir A / B-Tests durch, analysieren Produkt- und technische Metriken, um zu verstehen, wie sich das gerollte Feature auf den Benutzer auswirkt, ob es ihm gef√§llt oder nicht, ob es einige technische Metriken verschleudert.  Daf√ºr setzen wir Analytics ein.  Unsere Analyse sieht ungef√§hr so ‚Äã‚Äãaus: <br><br><img src="https://habrastorage.org/webt/ps/gz/d5/psgzd5dlv3rhmm6unpbug4un-lm.jpeg"><br><br>  Es gibt ungef√§hr 85 Metriken.  Wir vergleichen mehrere Benutzergruppen.  Angenommen, dies erh√∂ht unsere Messdaten - zum Beispiel die F√§higkeit des Produkts, Benutzer zu behalten (Retention) - und verschwendet keine anderen, die nicht auf der Folie sind.  Dies bedeutet, dass Benutzer die Funktion m√∂gen und auf eine gro√üe Gruppe von Benutzern √ºbertragen werden k√∂nnen. <br><br>  Wenn wir dennoch etwas verschwenden, dann verstehen wir warum.  Wir bauen Hypothesen, best√§tigen sie.  Wenn wir technische Kennzahlen zeichnen, ist dies ein Blocker.  Wir beheben sie und f√ºhren das Experiment erneut aus.  Und so lange, bis wir alles gemalt haben.  Aus diesem Grund f√ºhren wir ein Feature ein, bei dem es sich nicht um eine Regressionsquelle handelt. <br><br>  Sprechen wir √ºber das urspr√ºngliche Experimentiersystem, das wir verwendet haben.  Sie war schon ziemlich entwickelt.  Dann werde ich Ihnen sagen, was nicht zu uns gepasst hat. <br><br><img src="https://habrastorage.org/webt/wo/e3/dg/woe3dgxmiljvkz0_dcescx4nfni.jpeg"><br><br>  Erstens basiert es auf dem Chromium-Experimentiersystem und wurde unter iOS nicht vollst√§ndig unterst√ºtzt.  Zweitens war es urspr√ºnglich m√∂glich, Funktionen f√ºr verschiedene Benutzergruppen bereitzustellen, und es gab ein Filtersystem, auf dem Anforderungen an Ger√§te festgelegt werden konnten.  Dies ist die Version der Anwendung, in der die Funktion verf√ºgbar ist, das Gebietsschema des Ger√§ts. Nehmen wir an, wir m√∂chten ein Experiment nur f√ºr das russische Gebietsschema.  Entweder die iOS-Version, f√ºr die diese Funktion verf√ºgbar sein wird, oder das Datum, bis zu dem dieser Test g√ºltig sein wird - zum Beispiel, wenn wir einen Test nur bis zu einem bestimmten Datum durchf√ºhren m√∂chten.  Im Allgemeinen gab es viele Tags und es war sehr praktisch. <br><br>  Das Experimentiersystem selbst besteht aus einer Datei, die Beschreibungen der Konfigurationen der Experimente enth√§lt.  Das hei√üt, f√ºr ein Experiment k√∂nnen mehrere Konfigurationen gleichzeitig vorliegen.  Diese Datei ist eine Textdatei, die in protobuf kompiliert und auf dem Server angelegt wird. <br><br>  Jede Konfiguration besteht aus Gruppen.  Es gibt ein Experiment, es hat mehrere Konfigurationen und in jeder von ihnen gibt es mehrere Gruppen.  Die Funktion im Code wird an den Namen der aktiven Gruppe der aktiven Konfiguration angeh√§ngt.  Es mag kompliziert genug erscheinen, aber jetzt werde ich im Detail erkl√§ren, was es ist. <br><br><img src="https://habrastorage.org/webt/3w/9z/-2/3w9z-2hyctbs4d7omfr7vnfk5gg.jpeg"><br><br>  Wie funktioniert es technisch?  Eine Datei mit Beschreibungen aller Konfigurationen wird auf den Server hochgeladen.  Beim Start wird es vom Browser vom Server heruntergeladen und auf der Festplatte gespeichert.  Beim n√§chsten Start dekodieren wir diese Datei als erstes in der Anwendungsinitialisierungskette.  Und f√ºr jedes einzelne Experiment finden wir eine Konfiguration, die aktiv sein wird. <br><br>  Die Konfiguration, die f√ºr die angegebenen und darin beschriebenen Bedingungen geeignet ist, kann aktiv werden.  Wenn mehrere aktive Konfigurationen vorhanden sind, die den angegebenen Bedingungen entsprechen, wird die Konfiguration aktiviert, die in der Datei h√∂her ist. <br><br>  Weiter in der aktiven Konfiguration wird eine M√ºnze geworfen.  Die M√ºnze wird lokal geworfen, und anhand dieser M√ºnze wird auf eine bestimmte Art und Weise, auf die ich sp√§ter eingehen werde, die aktive Gruppe des Experiments ausgew√§hlt.  Und genau dem Namen der aktiven Gruppe des Experiments sind wir im Code beigef√ºgt und pr√ºfen, ob unsere Funktion verf√ºgbar ist oder nicht. <br><br>  Ein wesentliches Merkmal dieses Systems ist, dass es selbst nichts speichert.  Das hei√üt, sie hat keinen Speicherplatz auf der Festplatte.  Bei jedem Start - wir nehmen die Datei, berechnen sie, finden die aktive Konfiguration.  In der Konfiguration finden wir entsprechend der M√ºnze die aktive Gruppe, und das Experimentiersystem f√ºr dieses Experiment sagt: Diese Gruppe ist ausgew√§hlt.  Das hei√üt, alles wird berechnet, nichts wird gespeichert. <br><br><img src="https://habrastorage.org/webt/r8/my/bl/r8myblurmzrhxkbyzss_weye0cu.jpeg"><br><br>  Lassen Sie mich Ihnen eine Datei mit Versuchsbeschreibungen zeigen.  Der Browser hat eine solche Funktion - √úbersetzer.  Sie rollte in einem Experiment aus.  Die Datei beginnt mit dem Lernblock.  Die Konfiguration eines Experiments beginnt mit diesem Block.  Das Experiment wird als √úbersetzer bezeichnet.  Es kann mehrere solcher Studienbl√∂cke mit diesem Namen geben.  Und innerhalb des Lernblocks gibt es viele Experimentierbl√∂cke, denen unterschiedliche Namen zugewiesen wurden.  In diesem Fall ist die Experimentgruppe aktiviert.  Und es gibt einen Filterblock, der tats√§chlich beschreibt, unter welchen Bedingungen diese Konfiguration aktiv werden kann, dh nach welchen Kriterien. <br><br>  Hier gibt es zwei Tags - channel und ya_min_version.  Kanal bedeutet Baugruppenansicht.  BETA wird hier angegeben, was bedeutet, dass diese Konfiguration in der Datei nur f√ºr die Assemblys aktiviert werden kann, die wir an TestFlight senden.  F√ºr den App Store-Build kann diese Konfiguration nach dem Channel-Kriterium nicht aktiviert werden. <br><br>  ya_min_version bedeutet, dass mit der Mindestversion der Anwendung 19.3.4.43 diese Konfiguration aktiv werden kann.  Tats√§chlich hat die Funktion in dieser Version der Anwendung bereits ein Formular erworben, das Sie aktivieren k√∂nnen. <br><br>  Dies ist die einfachste Beschreibung der Konfigurationsgruppe f√ºr √úbersetzerexperimente.  In einer Datei k√∂nnen sich viele solcher Lernbl√∂cke befinden.  Mithilfe von Tags im Filterblock setzen wir sie f√ºr verschiedene Kan√§le, f√ºr interne Assemblys, f√ºr BETA-Assemblys und f√ºr verschiedene Kriterien. <br><br>  Hier ist eine Versuchsgruppe mit dem Namen "enabled" (aktiviert) und mit einem Wahrscheinlichkeitsgewicht (Wahrscheinlichkeitsgewicht) versehen, dem Gewicht der Versuchsgruppe.  Dies ist eine nicht negative Ganzzahl, mit der die aktive Gruppe zum Zeitpunkt des M√ºnzauswurfs bestimmt wird. <br><br>  Stellen wir uns vor, diese Konfiguration auf der Folie ist aktiv geworden.  Das hei√üt, wir haben die Anwendung wirklich mit der √∂ffentlichen Beta installiert und wir haben wirklich Version 19.3.4.43 und h√∂her.  Wie wird die M√ºnze geworfen?  Eine M√ºnze ist eine Zufallszahl, die lokal von null bis eins generiert wird. <br><br>  Damit wir beim n√§chsten Start in dieselbe Gruppe fallen, wird sie auf der Festplatte gespeichert.  Wir werden dies jedoch ber√ºcksichtigen.  Als N√§chstes erkl√§re ich Ihnen, wie Sie sicherstellen k√∂nnen, dass es nicht gespeichert wird.  Die M√ºnze wird weggeworfen.  Angenommen, 0.5 wird weggeworfen.  Diese M√ºnze ist in einem Segment von Null bis zur Summe der Versuchsgruppen skaliert.  In diesem Fall haben wir eine aktivierte Gruppe, deren Gewicht 1000 ist, dh die Summe aller Gruppen wird 1000 sein. "0,5" skaliert auf 500. Dementsprechend teilen alle Gruppen von Experimenten das Intervall von Null auf die Menge der Experimente und L√ºcken.  Und die Gruppe wird aktiv, in deren Intervall der skalierte Wert der M√ºnze anzeigt. <br><br>  Wir k√∂nnen den Namen der aktiven Gruppe von Experimenten im Code abfragen und so die Zug√§nglichkeit bestimmen - m√ºssen wir die Funktion aktivieren oder nicht. <br><br><img src="https://habrastorage.org/webt/fd/lf/9a/fdlf9awbwgics2ykijdsvecl6wc.jpeg"><br><br>  Weiter werden wir uns komplexere experimentelle Konfigurationen ansehen, die wir in der Produktion verwenden.  Zun√§chst ist klar, dass es dumm ist, ein Feature zu 100% zu implementieren. Wir verwenden es nur f√ºr die Betaversion oder f√ºr interne Assemblys.  F√ºr die Produktion verwenden wir folgende Mechanik. <br><br>  Wir teilen Benutzer in drei Gruppen ein - alte Benutzer, Benutzer ohne Experiment und neue Benutzer.  In der Bedeutung bedeutet dies Folgendes.  Alte Benutzer sind diejenigen, die unsere Anwendung bereits verwendet und die Anwendung mit Funktionen √ºber die alte Version installiert haben.  Das hei√üt, sie haben es bereits verwendet, sie hatten keine Funktionen, sie haben sich an alles gew√∂hnt und aktualisieren pl√∂tzlich die Anwendung, in der es eine Art Experiment gibt, mit neuen Funktionen.  Dann - Benutzer ohne Experiment und neue Benutzer.  Neu sind diejenigen, die die Anwendung bereinigen.  Das hei√üt, sie haben Yandex.Browser nie verwendet, sie entschieden sich pl√∂tzlich daf√ºr und installierten die Anwendung. <br><br>  Wie erreichen wir diese Partition?  Im Filterblock legen wir die Bedingungen f√ºr die Tags min_install_date und max_install_date fest.  Angenommen, X ist der 14. M√§rz 2019 - dies ist das Ver√∂ffentlichungsdatum f√ºr den Feature-Build.  Dann betr√§gt max_install_date f√ºr alte Benutzer X minus 21 Tage, bevor die Assembly mit Funktionen freigegeben wird.  Wenn die Anwendung ein solches Installationsdatum hat, ist es sehr wahrscheinlich, dass der erste Start vor der Ver√∂ffentlichung erfolgte.  Und vor der Ver√∂ffentlichung gab es eine Version ohne Features.  Und wenn er nun bedingt eine Version mit Features hat, hei√üt das, dass er die Bewerbung mit Hilfe eines Updates erhalten hat. <br><br>  Und f√ºr neue Benutzer setzen wir min_install_date.  Wir belichten es als X plus ein paar Tage.  Dies bedeutet: Wenn er ein solches Installationsdatum hat, das hei√üt, er hat den ersten Start nach dem Ver√∂ffentlichungsdatum der Version mit Features durchgef√ºhrt, dann hatte er eine Neuinstallation.  Er hat jetzt eine Version mit Funktionen, aber das Installationsdatum war sp√§ter als diese Version mit Funktionen. <br><br>  Auf diese Weise teilen wir Benutzer in alte auf, ohne zu experimentieren und ohne neue.  Wir tun dies, weil wir sehen: Das Verhalten alter Benutzer unterscheidet sich vom Verhalten neuer Benutzer.  Dementsprechend k√∂nnen wir beispielsweise nicht in einer Gruppe mit alten Benutzern √ºbermalen, sondern in einer Gruppe mit neuen Benutzern √ºbermalen oder umgekehrt.  Wenn wir ein Experiment mit der gesamten Masse durchf√ºhren, sehen wir dies m√∂glicherweise nicht. <br><br><img src="https://habrastorage.org/webt/qz/vg/ux/qzvguxtl01veibba0vc9yi-afp0.jpeg"><br><br>  Schauen wir uns dieses Experiment an.  Wir sehen die folgende Experimentkonfiguration - √úbersetzer f√ºr den App Store, neue Benutzer.  Blockstudie, Namens√ºbersetzer, Gruppe enabled_new.  Das Pr√§fix new bedeutet, dass wir die Konfiguration f√ºr viele neue Benutzer beschreiben.  Gewicht 500 (wenn die Summe aller Gewichte 1000 ist, betr√§gt die Leistung dieses Satzes 50%).  Control_new, Gewicht 500, das ist die zweite Gruppe.  Und das Interessanteste sind die Filter f√ºr den STABLE-Kanal, also f√ºr Baugruppen, die f√ºr die Produktion zusammengebaut werden.  Version, in der das Feature erschien: 19.4.1.  Und hier ist das min_install_date-Tag.  Hier wird es im Unix-Zeitformat am 18. April 2019 verschl√ºsselt.  Dies ist einige Tage nach der Ver√∂ffentlichung von Version 19.4.1. <br><br>  Neben dem neuen Pr√§fix gibt es hier noch einen weiteren Teil, der aktiviert und gesteuert wird.  Hier ist das Kontrollpr√§fix, es ist kein Zufall.  Und neben der Tatsache, dass wir Benutzer in neue und alte zerlegen, zerlegen wir sie in Gruppen innerhalb des Experiments in mehrere Teile. <br><br><img src="https://habrastorage.org/webt/ye/e2/p-/yee2p-2fopmazkwdzzqbpbkjcv8.jpeg"><br><br>  Der erste Teil der Benutzer ist eine Kontrollgruppe mit dem Kontrollpr√§fix.  Es gibt keine Funktionen darin.  Sie hat eine X-Gewichtung und eine Feature-Gruppe, die normalerweise als aktiviert bezeichnet wird.  Es hat auch eine X-Gewichtung, und das ist wichtig: Dort sollte die Funktion aktiviert sein.  Und es gibt eine Standardgruppe mit einer Gewichtung von 1 minus 2X (1000 minus 2X, da 1000 der Wert des Gesamtgewichts aller Gruppen in derselben Konfiguration ist, der standardm√§√üig akzeptiert wird).  Die Standardgruppe enth√§lt auch keine Funktion.  Es werden lediglich Benutzer gespeichert, die nach der Aufteilung in Kontroll- und Funktionsbenutzer √ºbrig geblieben sind.  Sie k√∂nnen das Experiment bei Bedarf auch erneut ausf√ºhren. <br><br><img src="https://habrastorage.org/webt/3v/wl/7t/3vwl7tb4qbuzlnz3ifiqgc-oi8c.jpeg"><br><br>  Nehmen wir zum Beispiel die Konfiguration f√ºr alte Benutzer.  Wir werden hier eine Funktions- und Kontrollgruppe sehen.  enabled_old - empfohlen.  control_old, - control, 10%.  default_old - Standard, 80%. <br><br>  Filter ya_min_version 19.4.1, max_install_date 28. M√§rz 2019 notieren.  Dies ist ein Datum vor dem Ver√∂ffentlichungsdatum.  Dementsprechend handelt es sich um eine Konfiguration mit einer Liste von Benutzern, die nach dem Update die Version 19.4.1 erhalten haben.  Sie benutzten die Anwendung und verwenden nun die neue Version. <br><br>  Warum werden Funktions- und Kontrollgruppen ben√∂tigt?  In der Analyse, die ich auf der ersten Folie gezeigt habe, vergleichen wir die Kontrollgruppe und die Merkmalsgruppe.  Sie m√ºssen von gleicher Leistung sein, damit ihre Produktmetriken verglichen werden k√∂nnen. <br><br>  Daher vergleichen wir die Steuerelement- und Feature-Gruppen in der Analyse f√ºr verschiedene alte und neue Benutzergruppen.  Wenn wir alles malen, rollen wir das Feature um 100%. <br><br><img src="https://habrastorage.org/webt/vq/55/w-/vq55w-koel8iwsw1fhpq-wmsc4o.jpeg"><br><br>  Wie arbeitet ein Codeentwickler mit diesem System?  Er kennt die Namen von Feature-Gruppen, das Datum, an dem das Feature aktiviert werden muss, und schreibt eine Zugriffsschicht. Dies ist ein Pseudocode, der eine aktive Gruppe mit dem Namen des Experiments anfordert.  Es kann nicht sein.  Tats√§chlich entsprechen m√∂glicherweise nicht alle Konfigurationen den Bedingungen des Ger√§ts.  Dann wird die leere Zeichenfolge zur√ºckgegeben. <br><br>  Wenn danach der Name der aktiven Gruppe angezeigt wird, m√ºssen Sie die Funktion aktivieren, andernfalls m√ºssen Sie sie deaktivieren.  Dar√ºber hinaus wird diese Funktion bereits im Code verwendet, der Funktionen im Browsercode enth√§lt. <br><br><img src="https://habrastorage.org/webt/yk/l4/81/ykl481l0evttlhjq9kekm2myjg8.jpeg"><br><br>  Wir haben also mehrere Jahre mit diesem Experimentiersystem gelebt.  Alles war in Ordnung, zeigte aber eine Reihe von M√§ngeln.  Der erste Nachteil dieses Ansatzes ist, dass es unm√∂glich ist, neue Versuchsgruppen hinzuzuf√ºgen, ohne den Code zu korrigieren.  Das hei√üt, wenn sich der Name des Experiments f√ºr ein Feature wahrscheinlich nicht √§ndert und dann ein paar weitere Gruppen hinzugef√ºgt werden, kann dies problemlos der Fall sein.  Der Zugangscode f√ºr Ihr Feature kennt solche Gruppen jedoch nicht, da Sie dies nicht im Voraus vorausgesehen haben.  Dementsprechend m√ºssen Sie die Version rollen, experimentieren Sie mit dieser Version, was ein Problem ist.  Das hei√üt, es ist erforderlich, durch √Ñndern des Codes, neu zu erstellen und im App Store zu ver√∂ffentlichen. <br><br>  Zweitens k√∂nnen Sie nach dem Start des Experiments keine Teile eines Features ausrollen oder ein Feature in Teile aufteilen.  Das hei√üt, wenn Sie pl√∂tzlich entschieden haben, dass einige der Features ausgerollt werden k√∂nnen und andere noch im Experiment vorhanden sind, m√ºssen Sie im Voraus √ºberlegen, dieses Feature in zwei Teile aufteilen und sie unabh√§ngig voneinander im Experiment akzeptieren. <br><br>  Drittens k√∂nnen Sie keine Funktion konfigurieren oder Konfigurationen vergleichen.  In Translator gibt es beispielsweise eine Parameter-Zeit√ºberschreitungszeit f√ºr die Translator-API.  Das hei√üt, wenn wir es nicht geschafft haben, in wenigen Millisekunden zu √ºbersetzen, dann sagen wir, versuchen Sie es noch einmal, ein Fehler, kein Gl√ºck. <br><br>  Es ist nicht m√∂glich, dieses Zeitlimit im Experiment festzulegen, da wir entweder die Gruppen festlegen m√ºssen und sofort im Voraus die folgenden Gruppen festlegen m√ºssen: enabled_with_300_ms, enabled_with_600_ms, in deren Namen der Parameterwert codiert ist.  Aber es ist unm√∂glich, den Parameter irgendwie numerisch einzustellen.  Wenn wir das vorher nicht gedacht haben, k√∂nnen wir nicht mehr mehrere Konfigurationen vergleichen. <br><br>  Viertens m√ºssen sich Analysten und Entwickler im Voraus auf Gruppennamen einigen.  Das hei√üt, damit ein Entwickler mit der Entwicklung eines Features beginnen kann, beginnt er normalerweise tats√§chlich mit der Verf√ºgbarkeitsrichtlinie dieses Features.  Und er muss die Namen der Feature-Gruppen kennen.  Dazu muss der Analytiker die Mechanismen des Experiments erl√§utern - ob wir Benutzer in neue und alte Benutzer aufteilen oder ob alle Benutzer in derselben Gruppe ohne Unterteilung sind. <br><br>  Oder es k√∂nnte ein umgekehrtes Experiment sein.  Beispielsweise k√∂nnen wir sofort davon ausgehen, dass die Funktion aktiviert ist, sie jedoch deaktivieren k√∂nnen.  Dies ist f√ºr den Analysten nicht sehr interessant, da die Funktion noch nicht bereit ist.  Er wird die Mechanik des Experiments bestimmen, wenn es fertig ist.  Und der Entwickler braucht die Namen der Gruppen und die Mechanik des Experiments im Voraus, sonst muss er st√§ndig √Ñnderungen am Code vornehmen. <br><br>  Wir haben uns beraten und entschieden, dass es ausreicht, um auszuhalten.  So wurde das Projekt Make Experiments Great Again ins Leben gerufen. <br><br><img src="https://habrastorage.org/webt/03/cl/st/03clstd2ijsstadv_r9gzi5t8na.jpeg"><br><br>  Die Schl√ºsselidee dieses Projekts ist wie folgt.  Wenn wir fr√ºher an einen Code angeh√§ngt waren, einen Code f√ºr die Namen der aktiven Gruppen, die der Analyst an uns √ºbergeben hat, haben wir jetzt zwei zus√§tzliche Entit√§ten hinzugef√ºgt.  Diese Funktion (Feature) und Feature-Parameter (FeatureParam).  Auf diese Weise erfindet der Programmierer Features und Feature-Parameter unabh√§ngig voneinander, w√§hlt Bezeichner f√ºr sie aus, w√§hlt Standardwerte f√ºr sie aus und programmiert die Verf√ºgbarkeit von Features f√ºr sie. <br><br>  Anschlie√üend √ºbergibt er diese Kennungen an den Analytiker. Der Analytiker spezifiziert sie in den Experimentgruppen unter Verwendung des Tags feature_association auf besondere Weise, indem er die Mechanismen der Experimente durchdacht.  Wenn diese Gruppe aktiv wird, denken Sie bitte daran, die Funktion mit dem oder den Bezeichnern zu aktivieren oder zu deaktivieren und die Parameter mit diesen Bezeichnern festzulegen. <br><br><img src="https://habrastorage.org/webt/an/wb/nh/anwbnhocjsbjbjobwovagyrid9a.jpeg"><br><br>  Wie sieht es in der Testkonfigurationsdatei aus?  Hier schauen wir uns die Versuchsgruppe an.  Bei aktiviertem Namen wird ein optionales feature_association-Tag hinzugef√ºgt. In diesem Befehlstag enable_feature oder disable_feature werden Bezeichner hinzugef√ºgt. <br><br>  Es gibt auch einen Parameterblock, von dem es mehrere geben kann.  Auch hier gibt es ein Name-Timeout und der einzustellende Wert wird addiert. <br><br><img src="https://habrastorage.org/webt/m9/xs/o9/m9xso9hf6xqczqxprt35ooabuuo.jpeg"><br><br>  Wie sieht das aus Code aus?  Der Programmierer deklariert die Entit√§ten der Klassen Feature und FeatureParam.  Und es schreibt Werte von diesen Grundelementen in die Feature-Zugriffsschicht.  Anschlie√üend √ºbergibt es diesen Bezeichner an den Analysten, und er legt bereits in der Konfigurationsdatei die Bezeichner im Block der Experimentgruppe mithilfe des Tags feature_association fest.  Sobald die Versuchsgruppe aktiv wird, werden die Werte von Merkmalen und Parametern mit diesen Kennungen im Code aus der Datei festgelegt.  Wenn die Gruppe keine Parameter und Features enth√§lt, werden die Standardwerte verwendet, die aus dem Code hervorgehen. <br><br>  Es scheint, dass dies uns gab?  Erstens muss der Analyst beim Hinzuf√ºgen einer neuen Gruppe den Programmierer nicht auffordern, dem Code eine neue Feature-Gruppe hinzuzuf√ºgen, da die Datenzugriffsebene mit Bezeichnern arbeitet, die sich nicht √§ndern, wenn dem Testsystem eine neue Gruppe hinzugef√ºgt wird. <br><br>  Zweitens haben wir die Zeit angegeben, zu der Programmierer diese Bezeichner f√ºr Features und Feature-Parameter haben, und die Zeit, zu der der Analytiker die Mechanik des Experiments entwickelt.  Der Analyst entwickelt sich, wenn das Feature fertig ist, und der Programmierer findet diese Bezeichner ganz am Anfang, wenn er den Code schreibt. <br><br>  Au√üerdem k√∂nnen Sie die Funktion in Teile aufteilen.  Angenommen, es gibt eine Funktion namens √úbersetzer, zu der auch der √úbersetzer geh√∂rt.  Und es gibt eine Funktion von TranslateServiceAPITimeout, die zus√§tzliche Funktionen enth√§lt, mit denen ein benutzerdefiniertes Zeitlimit f√ºr die √úbersetzer-API festgelegt werden kann.  Auf diese Weise k√∂nnen wir zwei Gruppen von Experimenten durchf√ºhren, bei denen der √úbersetzer eingeschaltet ist, aber gleichzeitig vergleichen wir, welcher Wert besser ist: 300 Millisekunden oder 600. <br><br>                 .  .                 (FeatureParam). <br><br>  ,    , ,  . , ,   .      ,  ,  .    .     ? <br><br><img src="https://habrastorage.org/webt/mg/rm/lo/mgrmlowngyxubfoplbyznpipbzw.jpeg"><br><br>  ,   :    Feature  FeatureParam.    Feature  FeatureParam   . ,     Feature  FeatureParam,      ,     .    .    -    ,  ,    . <br><br> -,    Feature&amp;FeatureParam.     ,     ¬´¬ª, , ,  .    FeatureParam  ,     ,     API  ‚Äî 300  600 ? <br><br>   .       .   - ,          .                public beta,          .       ,   . <br><br>  ,    :         . <br><br><img src="https://habrastorage.org/webt/oc/yd/vz/ocydvzgrfulntvkzp6mjzn0xo00.jpeg"><br><br>     ?      ,   ,        . <br><br> :                  .    URL,    ,      . <br><br> :     browser://version     ‚Äî show-variations-cmd. :     cheat-,    .  :     . <br><br><img src="https://habrastorage.org/webt/hn/0m/53/hn0m53nhab5kfgvuizq8rbupu9e.jpeg"><br><br>    .          ,         .      proto-          -  ,  study-,   .  ,   .     Feature&amp;FeatureParam,     .       ,    ,       .    , , Feature&amp;FeatureParam   . <br><br>         .       proto-   .       .      ,    .  ,     ,   . <br><br><img src="https://habrastorage.org/webt/ym/xb/bn/ymxbbnjm-uui2q2lvi3c5c77es0.jpeg"><br><br>  Der zweite.    Feature&amp;FeatureParam?     Chromium,    . Chromium      browser://version,    show-variations-cmd. <br><br>      : enabled-features, force-fieldtrials  force-fieldtrials-params,       .   ,   .   ?      ,         .  ,  Feature1     trial1. Feature2     trial2. Feature3   . <br><br>   trial1    group1.   trial2    group2.   force-fieldtrials-params,  ,     trial1    group1,       p1  v1, p2  v2.   trial2    group2,     p3  v3, p4  v4. <br><br>   ,     .          Chromium,      iOS.        ,    . <br><br>    .     --force-fieldtrials=translator/enabled_new/   enabled_new   translator. <br><br>    --force-fieldtrial-params==translator.enablew_new:timeout/5000,    translator    enabled_new,   ,        ,    translator,   enabled_new     timeout,  5 000 . <br><br>    --enabled-features=TranslateServiceAPITimeout&lt;translator ,    -    translator   translator ,  , ,  TranslateServiceAPITimeout.  ,    ,       ,   ,            . <br><br><img src="https://habrastorage.org/webt/bm/zp/g9/bmzpg98e_vac84schjjl-puzbr8.jpeg"><br><br>       (cheat urls). , , ,        ,  ,    ,       .    .        .       . <br><br>       yandexbrowser:// (.),    ,    .       .    my_pet_experiment=group_name.  ,   enable-features=,       ,   disable-features=,       .     ,   &amp;. <br><br>       (cheat url),      .       , , ,     .      ,          ,       .        filter,   my_pet_experiment     ,     .     1000,    feature_association,     ,     . <br><br>  ,  .   ,  ,   .    ,         ‚Äî    my_pet_experiment ‚Äî    , ,   . ,          ,     study   . <br><br><img src="https://habrastorage.org/webt/v_/t3/xs/v_t3xsak7jrgmjropgdwkv_kif0.jpeg"><br><br>     ,       .    ‚Äî   , .         .    ,         . <br><br>    ,         . <br><br><img src="https://habrastorage.org/webt/ho/nb/fd/honbfdatu0gisjpd6hnzxecmjeo.jpeg"><br><br> , ,         ,    ,        .     ,            .             ,            . <br><br>          .         .  ,      ,   ?       ,    .     ,     ? <br><br>  .   . <br><br><img src="https://habrastorage.org/webt/l9/cv/8p/l9cv8p75nc-jsr__fufhnb47txe.jpeg"><br><h5> <sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a></sub></sup> </h5><br>   ,    .     , , UUID,      application Identifier,   .       .   hash       . <br><br>   ?     ? , ,           UUID,         .              ? , ,         .       .     ?     hash       hash       ,  .   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>  Google,   An Efficient Low-Entropy Provider. <br><br>  ,             ‚Äî UUID,   ,    ,   .    , ,   Chromium. <br><br>   ,   ,  ?     ?   : <br><br><ol><li> :        ,      -.      . </li><li> .     ,  ,       ,       . </li><li> .     ,     , ,      . </li><li> ,         . </li><li> .      ,   ,       (. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hromium variation service</a> ). </li></ol><br>  Chromium,     .  iOS,   .   ,      .  Vielen Dank. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475012/">https://habr.com/ru/post/de475012/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475002/index.html">Arbeit ist kein Wolf, Teil 2. √úbergeben Sie den Chef und √ºberleben Sie auf Bew√§hrung</a></li>
<li><a href="../de475004/index.html">Wie viel haben Entwickler mit unterschiedlichen Qualifikationen im ersten Halbjahr 2019 verdient?</a></li>
<li><a href="../de475006/index.html">So erstellen Sie in 28 Stunden einen Prototyp-Dokumentenvergleich und gewinnen einen Hackathon</a></li>
<li><a href="../de475008/index.html">Playboy Interview: Steve Jobs, Teil 3</a></li>
<li><a href="../de475010/index.html">Telegrammbot - Veranstaltungsplanungsassistent</a></li>
<li><a href="../de475016/index.html">QA mitap bei Redmadrobot 22. November</a></li>
<li><a href="../de475018/index.html">√Ñnderung der S√§ulen Radiotehnika S-30</a></li>
<li><a href="../de475022/index.html">Architektonische Schizophrenie Facebook Waage</a></li>
<li><a href="../de475024/index.html">Laufen ist ein idealer Sport f√ºr Fernarbeiter. Teil 1: Der Weg zum ersten Rennen von hundert Kilometern</a></li>
<li><a href="../de475026/index.html">3 Kubernetes-Absturzgeschichten in der Produktion: Anti-Affinit√§t, anmutiges Herunterfahren, Webhook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>