<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>◾️ 🤴 👩🏼‍🚀 Cara membuat dukungan PCRE2 untuk Apache 2.4 🕴🏾 🤹🏼 🛌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya ingin berbagi pengalaman menerjemahkan Apache 2.4 ke PCRE2, karena bahkan PHP 7 telah lama mendukung perpustakaan PCRE2, dan open source Apache S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara membuat dukungan PCRE2 untuk Apache 2.4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474556/">  Saya ingin berbagi pengalaman menerjemahkan Apache 2.4 ke PCRE2, karena bahkan PHP 7 telah lama mendukung perpustakaan PCRE2, dan open source Apache Software Foundation masih belum ada. <br>  Tentu saja, saya mungkin lebih cepat dari rilis Apache dengan dukungan PCRE2 sekarang, karena saya menggunakan sumber-sumber dari geo Apache, yang memberi tahu kita tentang dukungan PCRE2 sudah mungkin dalam rilis berikutnya, tetapi bagi mereka yang sudah menginginkan dukungan PCRE2 di Apache 2.4, dan yang tidak ingin menunggu lepaskan berbagi salah satu cara. <br><br>  Artikel ini mengasumsikan bahwa Anda mengumpulkan semua perangkat lunak yang diperlukan dari sumber, daftar perangkat lunak, dan versi pada saat penulisan: <br><br>  <b>PCRE2-10.33</b> <b><br></b>  <b>April 1.7.0</b> <b><br></b>  <b>APR-util 1.6.1</b> <b><br></b>  <b>Apache httpd 2.4.41</b> <br><br><h3>  Langkah Satu: Bangun dan Kompilasi PCRE2 </h3><br>  Kami akan menghilangkan momen mengunduh sumber dari sumber karena terlalu jelas, jadi Anda membongkar arsip, pergi ke folder sumber PCRE2, dan jalankan perintah berikut untuk mendukung UTF: <br><br><pre><code class="bash hljs">./configure --prefix=/etc/webserver/pcre2-1033 --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-pcre2-8 --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-pcre2-16 --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-pcre2-32 --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-unicode</code> </pre> <br>  Di awalan, tentukan jalur Anda jika Anda tidak ingin menggunakan lokasi standar untuk menginstal perpustakaan: <br><br><pre> <code class="plaintext hljs">--prefix=/// </code> </pre> <br>  Kalau tidak, kumpulkan tanpa awalan. <br><br>  Perintah yang tersisa menunjukkan dimasukkannya dukungan 8-bit, 16-bit dan 32-bit blok kode PCRE, dalam perwujudan ini, perakitan dilakukan dengan mereka. <br><br>  Dan tentu saja, kami mengkompilasi kasus ini menggunakan eksekusi perintah berurutan: <br><br><pre> <code class="bash hljs">make make install</code> </pre> <br>  Jika semua aturan dan kompilasi berjalan dengan lancar, lanjutkan ke langkah berikutnya. <br><a name="habracut"></a><br><h3>  Langkah dua: hubungkan perpustakaan PCRE2 ke April </h3><br>  Karena Apache mengkompilasi sumber menggunakan April, kita perlu menghubungkan pustaka di April sendiri, jika tidak kesalahan dapat dibuat tentang fungsi yang tidak diketahui dalam sumber Apache, karena kita akan menggunakan fungsi PCRE2 baru. <br><br>  Kami akan menghilangkan momen pengunduhan sumber dari sumber karena terlalu jelas, sehingga Anda membongkar arsip dan mengonfigurasi April: <br><br><pre> <code class="bash hljs">./configure --prefix=/etc/webserver/apr-170</code> </pre> <br>  Secara alami, tentukan jalur Anda di awalan jika Anda tidak ingin menggunakan lokasi standar untuk menginstal pustaka, atau tidak menentukan: <br><br><pre> <code class="plaintext hljs">--prefix=/// </code> </pre> <br>  Setelah menyelesaikan konfigurasi, buka direktori: /etc/webserver/srcsrv/apr-1.7.0/build <br><br>  Baik, atau: / path / Anda / ke perpustakaan / build <br><br>  Temukan file apr_rules.mk di direktori ini, dan tambahkan di akhir baris di mana: <br><br><pre> <code class="cmake hljs">EXTRA_LIBS=-lrt -lcrypt -lpthread -ldl</code> </pre> <br>  Koneksi perpustakaan: <br><br><pre> <code class="cmake hljs">-lpcre2-<span class="hljs-number"><span class="hljs-number">8</span></span> -L///  pcre2/lib</code> </pre> <br>  Simpan, pergi ke direktori root sumber April: / path / Anda / ke perpustakaan. <br><br>  Kompilasi April kami yang dimodifikasi: <br><br><pre> <code class="bash hljs">make make install</code> </pre> <br>  Jika semua aturan dan kompilasi berjalan dengan lancar, lanjutkan ke langkah berikutnya. <br><br><h3>  Langkah Tiga: Bangun APR-util untuk Apache dari Sumber </h3><br>  Anda mengunduh pustaka ini dari kantor sumber, pergi ke folder root dari arsip yang dibongkar dengan APR-util, dan masukkan perintah berikut secara berurutan: <br><br><pre> <code class="bash hljs">./configure --prefix=/etc/webserver/apr-util-161 --with-apr=///  apr make make install</code> </pre> <br>  Secara alami, tentukan jalur Anda di awalan jika Anda tidak ingin menggunakan lokasi standar untuk menginstal pustaka, atau tidak menentukan: <br><br><pre> <code class="plaintext hljs">--prefix=/// </code> </pre> <br>  Juga di sini kami menghubungkan April kami: <br><br><pre> <code class="plaintext hljs">--with-apr=///  apr</code> </pre> <br><h3>  Langkah Empat: Unduh Sumber dari Apache Git untuk Mendukung PCRE2 </h3><br>  Penting: Unduh sumber dari gita versi terbaru. <br><br>  Kita perlu mengunduh dua sumber seperti ap_regex.h dan util_pcre.c, tautan di bawah ini: <br>  <a href="https://github.com/apache/">ap_regex.h</a> <br>  <a href="https://github.com/apache/">util_pcre.c</a> <br><br>  Sekarang kita pergi ke direktori sumber Apache httpd kami, dan membangun Apache dengan perintah berikut: <br><br><pre> <code class="bash hljs">./configure --prefix=/etc/webserver/apache-2441 --with-apr=///  apr --with-apr-util=///  apr-util --with-pcre=///  pcre2/bin/pcre2-config</code> </pre> <br>  Secara alami, tentukan jalur Anda di awalan jika Anda tidak ingin menggunakan lokasi standar untuk menginstal pustaka, atau tidak menentukan: <br><br><pre> <code class="bash hljs">--prefix=/// Apache httpd</code> </pre> <br>  Juga, tentukan perintah tambahan untuk membangun Apache sesuai kebijaksanaan Anda, maksud saya perintah untuk mengaktifkan menonaktifkan modul dan pustaka. <br><br>  Selanjutnya, buka direktori sumber Apache httpd Anda, saya punya ini: <br><br><pre> <code class="bash hljs">/etc/webserver/srcsrv/httpd-2.4.41</code> </pre> <br>  Anda secara alami pergi ke direktori Anda, ganti di direktori: <br><br><pre> <code class="bash hljs">/etc/webserver/srcsrv/httpd-2.4.41/include</code> </pre> <br>  File ap_regex.h, yang kami unduh dari Apache git. <br><br>  Juga buka direktori: <br><br><pre> <code class="bash hljs">/etc/webserver/srcsrv/httpd-2.4.41/server</code> </pre> <br>  Ganti file util_pcre.c dengan Apache yang kami unduh <br><br>  Sekarang tetap menambahkan koneksi PCRE2 di Apache itu sendiri, Anda perlu menemukan file ap_config_auto.h, itu terletak di direktori: <br><br><pre> <code class="bash hljs">/etc/webserver/srcsrv/httpd-2.4.41/include</code> </pre> <br>  Di awal file ini, masukkan baris berikut: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Load PCRE2 */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> HAVE_PCRE2 1</span></span></code> </pre> <br>  Nah, sekarang kita siap untuk momen sebenarnya mengkompilasi Apache httpd dengan dukungan PCRE2. <br>  Kami pergi ke direktori sumber Apache httpd kami, kompilasi kasus ini menggunakan eksekusi perintah berurutan: <br><br><pre> <code class="bash hljs">make make install</code> </pre> <br>  Sekarang, jika semuanya berjalan dengan baik dan tanpa kesalahan, maka Anda akan mengumpulkan dan mengkompilasi Apache httpd dengan dukungan PCRE2, yang berarti perubahan positif pada modul Apache menggunakan ekspresi reguler PCRE, salah satunya adalah Modul menulis ulang. <br><br>  Kesimpulannya, metode ini memungkinkan untuk menggunakan PCRE2 sebelum rilis dari Apache Software Foundation, saya berharap bahwa versi dengan dukungan PCRE2 akan segera dirilis. <br><br>  Juga, selama pengujian standar .htaccess, tidak ada kesalahan terjadi, jika ada yang salah tulis dalam komentar. <br><br><h3>  PS </h3><br>  Saya sedikit terganggu oleh situasi menggunakan dua versi PCRE yang berbeda untuk tumpukan saya, dan saya memutuskan untuk memperbaikinya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id474556/">https://habr.com/ru/post/id474556/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id474544/index.html">Tinjauan GeForce SEKARANG di Rusia: Pro, Kontra, dan Prospek</a></li>
<li><a href="../id474546/index.html">Pindah dari Terraform ke CloudFormation - dan menyesal</a></li>
<li><a href="../id474548/index.html">Google BERT adalah algoritma pencarian baru. Bagaimana peringkat akan berubah dan apa yang harus dilakukan sekarang?</a></li>
<li><a href="../id474550/index.html">Bagaimana cara mengembalikan indikator TLS hijau di Firefox 70 yang baru?</a></li>
<li><a href="../id474554/index.html">Intel Tremont - Mikroarsitektur Baru untuk Efisiensi Energi</a></li>
<li><a href="../id474558/index.html">Pemrograman Berorientasi Protokol, Bagian 2</a></li>
<li><a href="../id474560/index.html">4 langkah dari seorang ekonom ke manajer pengembangan kustom, atau TI sebagai cara untuk mengatasi kebosanan</a></li>
<li><a href="../id474562/index.html">LEGO MINDSTORMS Education EV3 + MicroPython: kami memprogram konstruktor anak-anak dalam bahasa dewasa</a></li>
<li><a href="../id474564/index.html">Autosampler - Kehidupan Setelah Kehidupan</a></li>
<li><a href="../id474566/index.html">Kota ini membutuhkan pahlawan baru: ulasan tentang ransel tahan-bukti Bobby Hero</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>