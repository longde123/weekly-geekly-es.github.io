<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚¨úÔ∏è üëª ü§´ PVS-Studio para Visual Studio üë©üèæ‚Äçüè≠ üéá üë¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Muchos de nuestros art√≠culos est√°n dedicados a cualquier cosa, pero no a la herramienta PVS-Studio en s√≠. Pero hacemos mucho para que sea conveniente ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PVS-Studio para Visual Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/458070/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b55/042/8ad/b550428adfba0288bfdfce8d5f15e6fa.png"></div><br>  Muchos de nuestros art√≠culos est√°n dedicados a cualquier cosa, pero no a la herramienta PVS-Studio en s√≠.  Pero hacemos mucho para que sea conveniente para los desarrolladores usar nuestra herramienta.  Pero esto es precisamente lo que suele estar detr√°s de escena.  Decid√≠ solucionar esta situaci√≥n y hablar sobre el complemento PVS-Studio para Visual Studio.  Si est√° utilizando Visual Studio, este art√≠culo es para usted. <br><a name="habracut"></a><br><h2>  ¬øQu√© es el an√°lisis de c√≥digo est√°tico y por qu√© es necesario? </h2><br>  El an√°lisis de c√≥digo est√°tico es el proceso de identificaci√≥n de errores y deficiencias en el c√≥digo fuente de los programas.  El an√°lisis est√°tico se puede considerar como un proceso de revisi√≥n de c√≥digo automatizado.  Una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">revisi√≥n de c√≥digo</a> colaborativo es una excelente metodolog√≠a.  Pero tambi√©n tiene un inconveniente significativo: un alto costo.  Es necesario reunir regularmente a varios programadores para revisar el nuevo c√≥digo o volver a revisar el c√≥digo despu√©s de hacer recomendaciones. <br><br>  Por un lado, quiero revisar regularmente el c√≥digo.  Por otro lado, es demasiado caro.  La compensaci√≥n es herramientas de an√°lisis de c√≥digo est√°tico.  Procesan incansablemente el c√≥digo fuente de los programas y le dan al programador recomendaciones para que presten mayor atenci√≥n a ciertas secciones del c√≥digo.  Por supuesto, el programa no reemplaza una revisi√≥n completa del c√≥digo ejecutado por un equipo de programadores.  Sin embargo, la relaci√≥n beneficio / precio hace que el uso del an√°lisis est√°tico sea una pr√°ctica muy √∫til para muchas empresas.  Si el lector est√° interesado en n√∫meros espec√≠ficos, entonces propongo familiarizarse con el art√≠culo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PVS-Studio ROI</a> ". <br><br>  Hay una gran cantidad de analizadores de c√≥digo est√°tico comerciales y gratuitos.  Una gran lista de analizadores est√°ticos est√° disponible en Wikipedia: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lista de herramientas para el an√°lisis de c√≥digo est√°tico</a> .  La lista de lenguajes para los que existen analizadores de c√≥digo est√°tico tambi√©n es bastante grande (C, C ++, C #, Java, Ada, Fortran, Perl, Ruby, ...).  Naturalmente, le informaremos sobre el analizador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PVS-Studio</a> . <br><br>  La principal ventaja del an√°lisis est√°tico es la posibilidad de una reducci√≥n significativa en el costo de eliminar defectos en el programa.  Cuanto antes se identifique el error, menor ser√° el costo de corregirlo.  Entonces, de acuerdo con los datos provistos en el libro "C√≥digo perfecto" de McConnell, corregir un error en la etapa de prueba costar√° diez veces m√°s que en la etapa de construcci√≥n (escritura): <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/72f/052/97a/72f05297a5d450c312e31c5a2ee9fab3.png" alt="Figura 1. El costo promedio de la reparaci√≥n de defectos dependiendo del momento de su introducci√≥n y detecci√≥n (los datos de la tabla est√°n tomados del libro por S. McConnell &amp; quot; Perfect Code &amp; quot;)."></div><br>  <font color="#999999"><i>Figura 1. El costo promedio de la reparaci√≥n de defectos seg√∫n el momento de su introducci√≥n y detecci√≥n (S. McConnell "C√≥digo perfecto" toma los datos de la tabla del libro).</i></font> <br><br>  Las herramientas de an√°lisis est√°tico le permiten identificar una gran cantidad de errores en la fase de dise√±o, lo que reduce significativamente el costo de desarrollar todo el proyecto.  Por ejemplo, el analizador de c√≥digo est√°tico PVS-Studio puede iniciarse en segundo plano inmediatamente despu√©s de la compilaci√≥n, y si se encuentra un posible error, se lo notificar√° al programador.  M√°s sobre este modo se describir√° a continuaci√≥n. <br><br><h2>  Analizador de c√≥digo est√°tico PVS-Studio </h2><br>  PVS-Studio es un analizador est√°tico que detecta errores y vulnerabilidades potenciales en el c√≥digo fuente de las aplicaciones en C, C ++ (tambi√©n se admiten extensiones: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C ++ / CLI</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C ++ / CX</a> ), C # y Java en plataformas Windows, Linux y macOS.  El analizador se integra perfectamente con Visual Studio 2010-2019 e IntelliJ IDEA.  En este art√≠culo, veremos m√°s de cerca el trabajo de PVS-Studio para verificar el c√≥digo en C, C ++ y C #.  Puede leer sobre c√≥mo usar PVS-Studio para probar el c√≥digo Java en IntelliJ IDEA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Despu√©s de instalar PVS-Studio e integrarse en Visual Studio, los usuarios reciben un elemento adicional "PVS-Studio" en el men√∫ principal y una ventana para trabajar con mensajes de diagn√≥stico (ver Figura 2). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/943/589/d81/943589d818ec8e95fe078ed08585fe5c.png" alt="Figura 2. Los elementos principales agregados por el analizador PVS-Studio durante la integraci√≥n en Visual Studio."></div><br>  <font color="#999999"><i>Figura 2. Los elementos principales agregados por el analizador PVS-Studio durante la integraci√≥n en Visual Studio.</i></font> <br><br><h3>  Configuraciones iniciales </h3><br>  El analizador est√° listo para funcionar inmediatamente despu√©s de la instalaci√≥n.  En la mayor√≠a de los casos, no necesita configurar nada para completar la primera ejecuci√≥n.  La √∫nica configuraci√≥n que puede necesitar al principio es la exclusi√≥n de bibliotecas de terceros.  Despu√©s de todo, a√∫n no editar√° nada en los archivos de origen, por ejemplo, la biblioteca jpeg, por lo que no es necesario verificarlo.  Adem√°s, la exclusi√≥n de carpetas adicionales reducir√° el tiempo de an√°lisis del proyecto.  Los directorios excluidos del an√°lisis se establecen aqu√≠: PVS-Studio&gt; Opciones ...&gt; No verificar archivos&gt; PathMasks (ver Figura 3). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/c57/d08/ee5c57d087ce5294b2de1cc455fbd662.png" alt="Figura 3. Edici√≥n de una lista de directorios que el analizador no verificar√°."></div><br>  <font color="#999999"><i>Figura 3. Edici√≥n de una lista de directorios que el analizador no verificar√°.</i></font> <br><br>  Si uno de los nombres especificados est√° en la ruta completa del archivo, entonces el an√°lisis no se realizar√°.  Por defecto, los nombres de algunos directorios ya est√°n incluidos en la lista.  Sin embargo, en su proyecto, la carpeta con la biblioteca ZLib puede no llamarse "zlib", sino, por ejemplo, "zip_lib".  Por lo tanto, debe editar esta lista.  Para comenzar a editar, haga clic en el bot√≥n con tres puntos. <br><br>  Ejemplos de m√°scaras v√°lidas para la lista PathMasks: <br><br><ul><li>  c: \ Libs \: se excluir√°n todos los archivos de proyecto ubicados en esta carpeta y sus subcarpetas. </li><li>  \ Libs \ or * \ Libs \ *: se excluir√°n todos los archivos ubicados en directorios cuya ruta contiene la subcarpeta Libs.  Si no se especifican los caracteres "*", se seguir√°n agregando autom√°ticamente, por lo que ambas opciones de grabaci√≥n son las mismas. </li><li>  Libs o * Libs *: se excluir√°n todos los archivos, cuya ruta contiene una subcarpeta que tiene 'Libs' como nombre o un fragmento de un nombre.  Tambi√©n en este caso, se excluir√°n los archivos que contengan Libs en el nombre, por ejemplo, c: \ project \ mylibs.cpp.  Para evitar confusiones, le recomendamos que utilice siempre barras. </li></ul><br>  Adem√°s de excluir carpetas enteras, puede especificar m√°scaras para excluir archivos individuales.  Para esto, hay una configuraci√≥n FileNameMasks.  Para obtener m√°s detalles sobre c√≥mo trabajar con listas de exclusi√≥n, consulte la documentaci√≥n: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Configuraci√≥n: No verificar archivos</a> . <br><br><h3>  Verificaci√≥n de proyecto </h3><br>  Una vez completada la configuraci√≥n inicial, puede comenzar a verificar el proyecto.  PVS-Studio para Visual Studio admite la comprobaci√≥n de proyectos C ++ (.vcxproj) y C # (.csproj).  Tambi√©n puede intentar comprobar de inmediato una soluci√≥n que contenga proyectos de este tipo en su totalidad.  Para hacer esto, seleccione el elemento del men√∫ Extensiones&gt; PVS-Studio&gt; Verificar&gt; Soluci√≥n (ver Figura 4). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/ee3/2d8/716ee32d88dcc6bac832be8356dfaca6.png" alt="Figura 4. Verificaci√≥n de la soluci√≥n utilizando el analizador PVS-Studio."></div><br>  <font color="#999999"><i>Figura 4. Verificaci√≥n de la soluci√≥n utilizando el analizador PVS-Studio.</i></font> <br><br>  Si hay dificultades con la verificaci√≥n, le recomendamos que consulte la secci√≥n " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">¬øNo puede verificar?</a> " En nuestro sitio web.  Estos no son ni idea "verifique que el enchufe est√° enchufado" recept√°culos.  La secci√≥n describe situaciones t√≠picas con las que los usuarios nos han contactado y sugiere opciones para la acci√≥n. <br><br><h3>  Trabajando con una lista de mensajes de diagn√≥stico </h3><br>  Despu√©s de verificar, todos los mensajes de diagn√≥stico se mostrar√°n en una ventana especial.  Una ventana tiene muchos controles.  Todos ellos sirven para mostrar exactamente aquellos mensajes de diagn√≥stico que son de inter√©s para el usuario.  Sin embargo, al principio, la ventana puede parecer complicada.  Veamos todos los controles (ver Figura 5). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b28/700/7c4/b287007c4520a416cd531e31962c01ca.png" alt="Figura 5. Una ventana con mensajes de diagn√≥stico."></div><br>  <font color="#999999"><i>Figura 5. Una ventana con mensajes de diagn√≥stico.</i></font> <br><br><ol><li>  En realidad, la ventana PVS-Studio. </li><li>  Men√∫ adicional  Le permite acceder a opciones como: marcar una advertencia como falsa, ocultar mensajes, agregar archivos a las excepciones (m√°s sobre esto a continuaci√≥n). </li><li>  El bot√≥n incluye el mensaje "algo sali√≥ mal".  Por ejemplo, no puede preprocesar uno de los archivos. </li><li>  Ir al mensaje anterior / siguiente.  Esto abre el archivo correspondiente y el cursor se coloca en la l√≠nea con un posible error.  Tambi√©n siempre puede seleccionar diagn√≥sticos de la lista haciendo doble clic.  Puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">asignar teclas</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">acceso r√°pido</a> para saltar al mensaje anterior / siguiente.  Por defecto, estos son Alt + '[' y Alt + ']'. </li><li>  Botones que incluyen alertas en diferentes niveles.  Ahora se incluyen los dos primeros niveles de diagn√≥stico.  Al mismo tiempo, se muestran 90 advertencias del primer nivel y 6700 advertencias del segundo nivel en la ventana.  El nivel del mensaje se muestra en el lado izquierdo de la ventana, en forma de una barra correspondiente al color de la barra en el bot√≥n del nivel correspondiente.  ¬øPor qu√© hay tantos aspectos positivos?  ¬øDe d√≥nde son las 6700 advertencias?  Para demostrar las capacidades de la interfaz, se incluye un conjunto de reglas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MISRA</a> , que est√° contraindicado para aplicaciones ordinarias :). </li><li>  Conjuntos activos de reglas de diagn√≥stico.  General: diagn√≥stico de uso general, Optimizaci√≥n: microoptimizaci√≥n, diagn√≥stico de 64 bits a 64 bits, diagn√≥stico est√°ndar MISRA - MISRA C y MISRA C ++.  Ahora la ventana muestra todos los tipos de alertas. </li><li>  Muestra el n√∫mero de mensajes marcados como falsas alarmas.  Puede habilitar / deshabilitar la visualizaci√≥n de mensajes etiquetados en la configuraci√≥n, PVS-Studio&gt; Opciones ...&gt; Configuraci√≥n espec√≠fica del analizador&gt; Mostrar falsas alarmas. </li><li>  Filtros r√°pidos  Por ejemplo, puede dejar en la lista solo mensajes con el c√≥digo V501 y que est√°n en el proyecto XYZ. </li><li>  Algunos diagn√≥sticos sugieren prestar atenci√≥n no a una, sino a varias l√≠neas.  En este caso, aparece una elipsis junto al n√∫mero de l√≠nea.  Al hacer clic con el mouse, puede ver una lista de l√≠neas y seleccionar una de ellas. </li></ol><br>  La tabla con mensajes de diagn√≥stico se divide en las siguientes columnas: <br><br><ul><li>  <b>Nivel</b>  Nivel de fiabilidad en el que se encuentra el error.  1er nivel (rojo): los lugares m√°s sospechosos.  3er nivel (amarillo): lo m√°s probable es una imprecisi√≥n menor en el c√≥digo. </li><li>  <b>Asterisco</b>  Ella no tiene un prop√≥sito espec√≠fico.  El usuario puede interpretarlo a su discreci√≥n.  Por ejemplo, puede se√±alar las advertencias m√°s interesantes para un an√°lisis m√°s detallado.  Una analog√≠a es marcar letras con un asterisco en un programa de correo electr√≥nico como Thunderbird o Outlook. </li><li>  <b>ID</b>  N√∫mero de mensaje √∫nico.  Puede ser √∫til cuando se trabaja con una lista grande.  Por ejemplo, puede ir al mensaje con un n√∫mero espec√≠fico (consulte el elemento "Ir a ID ..." en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">men√∫ contextual</a> ). </li><li>  <b>C√≥digo</b>  C√≥digo de mensaje  Si hace clic con el mouse, se abrir√° una p√°gina con una descripci√≥n de la advertencia. </li><li>  <b>CWE</b>  Identifica una advertencia utilizando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo CWE</a> (enumeraci√≥n de debilidad com√∫n).  Al hacer clic en el enlace, puede ver una descripci√≥n de este CWE en la red. </li><li>  <b>Misra</b>  Igual que el anterior, pero solo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">para el est√°ndar MISRA</a> . </li><li>  <b>Mensaje</b>  El texto del mensaje de diagn√≥stico. </li><li>  <b>Proyecto</b>  Nombre del proyecto (puede deshabilitar esta columna usando el men√∫ contextual). </li><li>  <b>Archivo</b>  Nombre de archivo </li><li>  <b>L√≠nea</b>  Numero de linea.  <b>Importante!</b>  Tenga en cuenta que despu√©s de algunas l√≠neas hay puntos suspensivos.  Ejemplo: "123 (...)".  Al hacer clic en este n√∫mero, obtendr√° una lista de todas las l√≠neas de c√≥digo relacionadas con este mensaje.  En este caso, es posible ir a cada una de las l√≠neas de la lista. </li></ul><br>  S√≠, leer todo esto fue agotador.  Sin embargo, te aseguro que, al comenzar a usarlo, te sentir√°s c√≥modo con la herramienta r√°pidamente.  Y rara vez presionar√° algo para configurar. <br><br><h3>  Men√∫ contextual </h3><br>  Entonces, haciendo doble clic en el mensaje, va al fragmento de c√≥digo deseado.  Al presionar el bot√≥n derecho del mouse, se abre un men√∫ contextual. <br><br>  El men√∫ es bastante simple y no debe sobrecargar el art√≠culo con una descripci√≥n de cada uno de los elementos.  Si algo no est√° claro, puede ver la documentaci√≥n. <br><br>  Sin embargo, quiero detenerme en una caracter√≠stica muy √∫til.  Recuerde que en la configuraci√≥n puede agregar carpetas / archivos para su exclusi√≥n (consulte la Figura 2).  Por lo tanto, agregar algo es mucho m√°s f√°cil de lo que parece. <br><br>  Preste atenci√≥n al elemento "No verifique los archivos y oculte todos los mensajes de ...".  Cuando hace clic en √©l, se puede agregar una lista de rutas que se pueden agregar a la excepci√≥n (consulte la Figura 6). <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ce3/581/300/ce35813002196bdbd53fcb666a33f58b.png" alt="Figura 6. Excluyendo archivos del escaneo."></p><br>  <font color="#999999"><i>Figura 6. Excluyendo archivos del escaneo.</i></font> <br><br>  Puede seleccionar un solo archivo o uno de los directorios.  La figura muestra que la carpeta "SDL2-2.0.9 \ src \ haptic \ windows" est√° seleccionada.  Esto significa que todos los archivos de esta carpeta y todas las subcarpetas se excluir√°n del an√°lisis.  Adem√°s, todos los mensajes relacionados con estos archivos desaparecer√°n inmediatamente de la lista.  Muy comodo  No necesita reiniciar el an√°lisis para eliminar todos los mensajes relacionados con la prueba. <br><br><h2>  Modo de an√°lisis incremental </h2><br>  La introducci√≥n a PVS-Studio estar√° incompleta si no habla de una de las caracter√≠sticas m√°s importantes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el an√°lisis de</a> c√≥digo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">incremental</a> . <br><br>  Cuanto antes se encuentre el error, m√°s barato ser√° solucionarlo.  Es ideal enfatizar inmediatamente los errores en el texto editado del programa.  Sin embargo, es t√©cnicamente dif√≠cil y requiere muchos recursos.  Por lo tanto, PVS-Studio se inicia en segundo plano en el momento en que el c√≥digo corregido se compil√≥ correctamente.  Por lo tanto, los errores se buscan en el c√≥digo reci√©n modificado.  El hecho de que se realice el an√°lisis puede juzgarse por el √≠cono en el √°rea de notificaci√≥n del sistema. <br><br>  Cuando se encuentra un error, aparece una ventana emergente que advierte sobre el peligro (consulte la Figura 7). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61b/394/8bd/61b3948bd26a9ed4c410446e46b5eb3b.png" alt="Figura 7. Un mensaje emergente de que se encontraron lugares sospechosos en los archivos editados."></div><br>  <font color="#999999"><i>Figura 7. Un mensaje emergente de que se encontraron lugares sospechosos en los archivos editados.</i></font> <br><br>  Si hace clic en el icono, el IDE se abrir√° con el resultado de la verificaci√≥n del proyecto (ver Figura 2) y ser√° posible examinar los fragmentos de c√≥digo sospechosos. <br><br>  De hecho, en lugar de describir este modo, es m√°s f√°cil intentar trabajar con √©l.  Escribes el c√≥digo como antes.  Y si es necesario, el analizador lo molestar√°.  ¬°Pru√©balo! <br><br>  Nosotros mismos utilizamos constantemente este modo.  S√≠, a veces tambi√©n cometemos errores de codificaci√≥n.  Y la capacidad de repararlos de inmediato reduce significativamente el tiempo para detectar un defecto y un intento de comprender por qu√© el programa no se comporta seg√∫n lo planeado.  Es una pena pasar 15-20 minutos depurando y luego encontrar un error tipogr√°fico en el √≠ndice.  Este es uno de los casos en que PVS-Studio encontr√≥ un error en PVS-Studio justo despu√©s de que apareciera en el c√≥digo: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (in[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span> &amp;&amp; in[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'.'</span></span> &amp;&amp; in[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\\'</span></span>) { in += <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br>  Pero estas, por supuesto, son flores.  El analizador PVS-Studio a veces puede ser mucho m√°s √∫til.  Aqu√≠ est√° una de las revisiones sobre nuestro analizador: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Un ejemplo de uso de un analizador est√°tico</a> ".  El texto te hace pensar. <br><br>  Resumo  El an√°lisis incremental es algo que definitivamente deber√≠as probar.  Lo amar√°s tan pronto como encuentres un par de errores en el nuevo c√≥digo. <br><br><h2>  Caracter√≠sticas de PVS-Studio </h2><br>  Seamos breves.  Es imposible describir de manera concisa todos los diagn√≥sticos disponibles en PVS-Studio.  Puede encontrar una lista completa de diagn√≥sticos y su descripci√≥n detallada en la documentaci√≥n: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Descripci√≥n de los errores diagnosticados</a> .  Nos restringimos a una tabla en la que los diagn√≥sticos se agrupan por tipo.  Algunos diagn√≥sticos se incluyen en m√°s de un grupo.  El hecho es que la divisi√≥n es muy arbitraria.  Por ejemplo, un error tipogr√°fico puede conducir al uso de memoria no inicializada.  Por el contrario, algunos errores no encontraron un lugar en la tabla; son demasiado espec√≠ficos.  Sin embargo, la tabla en su conjunto da una idea de la funcionalidad de un analizador de c√≥digo est√°tico (ver Figura 8). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/a44/f24/ee5a44f24dff71c09d5491dc9294b4f2.png" alt="Figura 8. Caracter√≠sticas de PVS-Studio."></div><br>  <font color="#999999"><i>Figura 8. Caracter√≠sticas de PVS-Studio.</i></font> <br><br>  Como puede ver, el analizador se manifiesta lo m√°s posible en √°reas como la b√∫squeda de errores que se han producido debido a errores tipogr√°ficos, copiar y pegar.  Diagnostica problemas relacionados con la seguridad del c√≥digo. <br><br>  Puede averiguar c√≥mo funciona todo esto en la pr√°ctica mirando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la base de datos de errores</a> .  Recopilamos en esta base de datos todos los errores que encontramos al verificar varios proyectos de c√≥digo abierto. <br><br><h2>  SAST </h2><br>  PVS-Studio es una herramienta para pruebas de seguridad de aplicaciones est√°ticas (SAST): el analizador puede identificar vulnerabilidades potenciales en el c√≥digo del proyecto y mostrar el identificador de error correspondiente en una determinada clasificaci√≥n. <br><br>  PVS-Studio admite las siguientes clasificaciones de error: <br><br><ol><li>  CWE </li><li>  SEI CERT </li><li>  Misra </li></ol><br>  Puede habilitar la visualizaci√≥n de c√≥digos CWE utilizando el men√∫ contextual en la ventana del analizador en Mostrar columnas&gt; CWE <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/919/85b/e34/91985be349bf7385fa7f3878ef57dcde.png" alt="Figura 9. Men√∫ contextual y un ejemplo de la salida de c√≥digos CWE."></div><br>  <font color="#999999"><i>Figura 9. Men√∫ contextual y un ejemplo de la salida de c√≥digos CWE.</i></font> <br><br>  O en el men√∫ anterior (Extensiones&gt; PVS-Studio&gt; Mostrar c√≥digos CWE en la ventana de salida) <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b6/582/d8c/0b6582d8c2626066567dfd111439cbc6.png" alt="Figura 10. El men√∫ de extensi√≥n."></div><br>  <font color="#999999"><i>Figura 10. El men√∫ de extensi√≥n.</i></font> <br><br>  Los diagn√≥sticos MISRA se incluyen por separado en la configuraci√≥n: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b89/898/709/b89898709db7045f949fb564c6c80059.png" alt="Figura 11. Lista de errores detectados."></div><br>  <font color="#999999"><i>Figura 11. Lista de errores detectados.</i></font> <br><br>  Lea m√°s sobre estas clasificaciones <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h2>  Verificaci√≥n de proyectos desde la l√≠nea de comando </h2><br>  PVS-Studio_Cmd.exe es una utilidad para verificar proyectos de C ++ / C # Visual Studio (.vcxproj / .csproj) y soluciones .sln desde la l√≠nea de comandos.  Puede ser √∫til para automatizar an√°lisis.  El programa se encuentra en el directorio donde se realiz√≥ la instalaci√≥n; de forma predeterminada, es 'C: \ Archivos de programa (x86) \ PVS-Studio'. <br><br>  El programa tiene muchos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">par√°metros</a> , pero primero solo necesitamos 3 de ellos: <br><br><ul><li>  --target: el proyecto o archivo de soluci√≥n a verificar. </li><li>  --output: el archivo de plog donde desea escribir el informe. </li><li>  --progreso: muestra el progreso de la verificaci√≥n. </li></ul><br>  As√≠ ser√° el lanzamiento: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ce/ee2/aa1/3ceee2aa11c0bf9f887ad8959d7cdd65.png" alt="Figura 12. La salida del programa PVS-Studio_Cmd.exe"></div><br>  <font color="#999999"><i>Figura 12. La salida del programa PVS-Studio_Cmd.exe</i></font> <br><br>  Despu√©s de la ejecuci√≥n, obtendremos un archivo plog con el informe, la ruta a la que especificamos en las opciones de inicio.  Este informe se puede convertir a otros formatos utilizando la utilidad PlogConverter.exe, y para ver el informe en el IDE, simplemente haga doble clic en el archivo plog en el Explorador. <br><br>  Tambi√©n puede abrir el archivo de informe en el men√∫ de extensiones en Extensiones&gt; PVS-Studio&gt; Abrir / Guardar&gt; Abrir informe de an√°lisis ... <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/490/7ac/cc5/4907accc516b05ccfedf52acc9c85d9f.png" alt="Cuadro 4"></div><br><br>  Puede encontrar informaci√≥n detallada sobre la utilidad y sus par√°metros en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> . <br><br><h2>  Supresi√≥n de falsas advertencias </h2><br>  Algunos mensajes emitidos por el analizador ser√°n inevitablemente falsos.  No se puede hacer nada al respecto.  Un analizador est√°tico es solo un programa que no tiene inteligencia artificial y no puede determinar exactamente si encontr√≥ un error real o no. <br><br>  Para combatir los falsos positivos, el analizador proporciona un conjunto de mecanismos diferentes.  Se describen en detalle en las siguientes secciones de la documentaci√≥n: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Afinacion fina</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Un m√©todo aproximado</a> que le permite trabajar solo con advertencias relacionadas con c√≥digo nuevo o modificado. </li></ul><br><h2>  Conclusi√≥n </h2><br>  Por supuesto, aqu√≠ no contamos todo sobre el instrumento.  Si cuenta todo, el art√≠culo se convertir√° en documentaci√≥n.  El objetivo era mostrar lo f√°cil que es trabajar con la herramienta dentro del entorno de Visual Studio.  Puede leer sobre otros entornos y modos de funcionamiento en la documentaci√≥n y otros art√≠culos ubicados en nuestro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio web</a> .  Hay, por cierto, muchas cosas interesantes para los programadores.  Ven a pasear. <br><br>  Cabe se√±alar que PVS-Studio funciona no solo en el entorno de Microsoft.  Tambi√©n admitimos el lenguaje Java, podemos trabajar en Linux y macOS, integrarnos en CMake y mucho m√°s.  Para m√°s informaci√≥n, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> . <br><br>  Le deseo un c√≥digo sin c√≥digo y espero que disfrute de PVS-Studio.  Si tiene alguna pregunta, siempre le ayudaremos y le informaremos.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Escr√≠benos</a> <br><br><h2>  Recursos adicionales </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Revisi√≥n de c√≥digo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">An√°lisis de c√≥digo est√°tico</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Herramientas de an√°lisis de c√≥digo est√°tico</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SAST</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tecnolog√≠as utilizadas en el analizador PVS-Studio</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Descarga PVS-Studio</a> y pru√©balo. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Soporte para Visual Studio 2019</a> . </li><li>  Discuta el precio del analizador PVS-Studio para su equipo y c√≥mo comprarlo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">compre PVS-Studio</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Un ejemplo de uso de un analizador est√°tico</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Respuestas</a> a preguntas frecuentes en conferencias. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo iniciar PVS-Studio Java</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo ejecutar PVS-Studio en Linux y macOS</a> </li></ol><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br>  Si desea compartir este art√≠culo con una audiencia de habla inglesa, utilice el enlace a la traducci√≥n: Sergey Larin.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PVS-Studio para Visual Studio</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458070/">https://habr.com/ru/post/458070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458056/index.html">La gran entrevista con Martin Kleppmann: "Descubrir el futuro de los sistemas de datos distribuidos"</a></li>
<li><a href="../458060/index.html">Crear un sombreador de c√©sped en el motor de Unity</a></li>
<li><a href="../458062/index.html">Descripci√≥n general de la plataforma UserGate</a></li>
<li><a href="../458064/index.html">PVS-Studio en las nubes - Ejecuci√≥n del an√°lisis en Travis CI</a></li>
<li><a href="../458068/index.html">PVS-Studio para Visual Studio</a></li>
<li><a href="../458072/index.html">PVS-Studio va a las nubes: an√°lisis de lanzamiento en Travis CI</a></li>
<li><a href="../458074/index.html">Ir idioma: selecci√≥n ORM</a></li>
<li><a href="../458076/index.html">Comercializaci√≥n con toma de decisiones de ML</a></li>
<li><a href="../458080/index.html">25 de julio, Mosc√∫ - QIWI iOS Meetup</a></li>
<li><a href="../458084/index.html">50 materiales seleccionados sobre las ganancias de los m√∫sicos, sonido en juegos y pel√≠culas, instrumentos inusuales y los viejos y olvidados</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>