<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¸ â™ï¸ ğŸ‘ è‡ªåŠ¨git bisectä½œä¸ºLinuxå†…æ ¸çš„ç¤ºä¾‹ ğŸ§“ ğŸ·ï¸ ğŸ¦ˆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ¬è¯´æ˜æ—¨åœ¨ä»¥Linuxå†…æ ¸ä¸ºä¾‹æ¥æ¼”ç¤ºè‡ªåŠ¨git bisect ã€‚ åœ¨éšåçš„æœç´¢ä¸­ï¼Œæ­£å¼ç‰ˆæœ¬æ­£å¼å‘å¸ƒï¼Œæ‰€æœ‰å†…å®¹å‡å·²æŸåï¼Œæœ€åä¸€ä¸ªå¥½çš„ç‰ˆæœ¬ã€‚ 



 å·¥å…·åŒ…è¯´æ˜ 


 å·¥å…·ç®±[^ 7]æ˜¯ä¸€ä¸ªç®€å•çš„é¡¹ç›®ï¼Œç”¨äºç»„è£…å†…æ ¸å’Œæ¨¡å—ï¼Œå…¶æœ€å°é…ç½®è¶³ä»¥åœ¨qemuä¸­è¿è¡Œï¼Œæœ€å°çš„busyboxï¼Œé…ç½®æ–‡ä»¶å’Œå°‘é‡çš„è„šæœ¬ã€‚ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è‡ªåŠ¨git bisectä½œä¸ºLinuxå†…æ ¸çš„ç¤ºä¾‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462245/"><p> æœ¬è¯´æ˜æ—¨åœ¨ä»¥Linuxå†…æ ¸ä¸ºä¾‹æ¥æ¼”ç¤ºè‡ªåŠ¨<strong>git bisect</strong> ã€‚ åœ¨éšåçš„æœç´¢ä¸­ï¼Œæ­£å¼ç‰ˆæœ¬æ­£å¼å‘å¸ƒï¼Œæ‰€æœ‰å†…å®¹å‡å·²æŸåï¼Œæœ€åä¸€ä¸ªå¥½çš„ç‰ˆæœ¬ã€‚ </p><br><p><img src="https://habrastorage.org/webt/hy/dh/ed/hydhedmt-30al-rpcgnyv8dav6k.png" alt="å‰ç‰¹"></p><a name="habracut"></a><br><h1 id="opisanie-instrumentariya"> å·¥å…·åŒ…è¯´æ˜ </h1><br><p> å·¥å…·ç®±[^ 7]æ˜¯ä¸€ä¸ªç®€å•çš„é¡¹ç›®ï¼Œç”¨äºç»„è£…å†…æ ¸å’Œæ¨¡å—ï¼Œå…¶æœ€å°é…ç½®è¶³ä»¥åœ¨qemuä¸­è¿è¡Œï¼Œæœ€å°çš„busyboxï¼Œé…ç½®æ–‡ä»¶å’Œå°‘é‡çš„è„šæœ¬ã€‚ </p><br><ul><li>  gcc;ï¼‰ </li><li>  Binutils </li><li> ä½¿ </li><li>  eæœ¨ </li><li> æœŸæœ›ï¼ˆä»…å½“æ‚¨è¦åœ¨ç¤ºä¾‹ä¸­è¿è¡ŒäºŒç­‰åˆ†æ—¶ï¼‰ </li></ul><br><p> å†…æ ¸ä»¥åŠ<strong>initramsfs</strong>æ˜ åƒ<strong>æ˜¯</strong>ä½¿ç”¨<strong>qemu</strong>å¯åŠ¨çš„ï¼š </p><br><pre><code class="plaintext hljs">$ qemu-system-x86_64 -cpu host \ -kernel build-linux/arch/x86/boot/bzImage \ -initrd initramfs.cpio.xz \ -nographic -append "nokaslr console=ttyS0 root=/dev/ram" \ -enable-kvm -serial mon:stdio</code> </pre> <br><p> æ²¡æœ‰å¯†ç ï¼Œå®ƒç«‹å³å°†æˆ‘ä»¬æ‰”è¿›æ§åˆ¶å°ã€‚ </p><br><p> é€šè¿‡è¯¥é¡¹ç›®ï¼Œå¯ä»¥æ‰§è¡Œç®€å•çš„äºŒç­‰åˆ†[^ 1]ã€‚ </p><br><blockquote> æ³¨æ„ï¼ å¦‚æœæ‚¨æ‰“ç®—é‡å¤ä¸‹é¢ä»‹ç»çš„æ“ä½œï¼Œæˆ–è€…å°†å…¶ç”¨ä½œé¡¹ç›®çš„åŸºç¡€ï¼Œè¯·è®°ä½ï¼š <br><ol><li> å†…æ ¸åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äº<strong>gcc</strong>å’Œ<strong>binutils</strong>ç‰ˆæœ¬ï¼ŒæŸäº›å†…æ ¸ <br> åªèƒ½ä¸ç‰¹å®šç‰ˆæœ¬çš„gccåœ¨ä¸€èµ·ï¼Œå¯ä»¥ä¸ <br> å°ä¿®æ”¹æˆ–æŠ‘åˆ¶é”™è¯¯æˆ–æ ¹æœ¬ä¸æ”¶é›† </li><li> æ–°ç‰ˆæœ¬çš„binutilså¯èƒ½å­˜åœ¨é—®é¢˜ï¼ˆä»2.31ç‰ˆå¼€å§‹ï¼‰ <br> åœ¨v4.16-rc3ä¹‹å‰çš„å†…æ ¸ç‰ˆæœ¬ä¸ŠåŠ è½½æ¨¡å— </li></ol><br><br> æˆ‘å¯ä»¥ä½¿ç”¨gcc 7.3.0å’Œbinutils 2.30çš„ç‰ˆæœ¬è¿›è¡Œæ„å»ºå’Œ <br> è¿è¡Œå†…æ ¸ç‰ˆæœ¬v4.14åˆ°v5.3-rc2ã€‚ </blockquote><br><h1 id="postanovka-zadachi"> é—®é¢˜é™ˆè¿° </h1><br><p> å®é™…ä¸Šï¼Œè¿™é‡Œæå‡ºäº†ä¸€ä¸ªé™„åŠ é—®é¢˜ï¼Œåœ¨ä¸»è¦é—®é¢˜çš„æ¡†æ¶å†…è§£å†³äº†è¯¥é—®é¢˜ï¼Œå¹¶å†³å®šä½œä¸ºç¤ºä¾‹çš„åŸºç¡€ã€‚ </p><br><p> åœ¨æŸäº›æ—¶å€™ï¼Œ <strong>debugfsä¸­</strong>çš„è·¯å¾„çš„å€¼ä¸<strong>v4.14</strong>ç‰ˆæœ¬ä¸­æœ€åˆå®ç°çš„å€¼<strong>æœ‰æ‰€ä¸åŒ</strong> ï¼š </p><br><pre> <code class="plaintext hljs"> # ls /sys/kernel/debug/ gpio-mockup-event # ls /sys/kernel/debug/gpio-mockup-event gpio-mockup-A</code> </pre> <br><p> å¼€å¯ï¼ˆåœ¨<strong>v5.3-rc2</strong>ä¸Š<strong>å¯è§</strong> ï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"> # ls /sys/kernel/debug/ gpio-mockup # ls /sys/kernel/debug/gpio-mockup gpiochip1</code> </pre> <br><p> æˆ‘çš„ç¨‹åºæ— æ³•é€šè¿‡æµ‹è¯•ï¼Œè€Œä»»åŠ¡æ˜¯æ‰¾åˆ°ä½•æ—¶ï¼Œä½•åœ°å’Œè°ï¼ŒåŒ…æ‹¬ç¡®å®šå†…æ ¸çš„â€œå¥½â€å’Œâ€œåâ€æ­£å¼ç‰ˆæœ¬ã€‚ </p><br><h1 id="reshenie-s-pomoschyu-git-bisect-run"> ç”¨git bisectè¿è¡Œçš„è§£å†³æ–¹æ¡ˆ </h1><br><p> å¦‚æœæ‚¨é‡å¤æ­¤å®éªŒï¼Œè¯·ä¸è¦å¿˜è®°å®Œæˆä»¥ä¸‹æ“ä½œï¼š </p><br><pre> <code class="plaintext hljs">$ git submodule update --init</code> </pre> <br><p> é€šè¿‡<strong>git bisect runæ¥</strong>è¿è¡Œ<strong>bisect.sh</strong> ï¼Œè„šæœ¬æœ¬èº«éå¸¸ç®€å•ï¼ŒåŒ…æ‹¬ä¸‰ä¸ªæ“ä½œï¼š </p><br><ol><li><p> æ¸…é™¤ä¸€åˆ‡ </p><br></li><li><p> æ”¶é›†ä¸€åˆ‡ </p><br></li><li><p> è¿è¡Œ<strong>æµ‹è¯•/ bisect.expect</strong> ï¼ˆé¢„æœŸè„šæœ¬ï¼‰ </p><br></li></ol><br><p> æµ‹è¯•å¯åŠ¨qemuï¼Œç­‰å¾…promtï¼ŒåŠ è½½<strong>gpio-mockupæ¨¡å—ï¼Œ</strong>å¹¶æ£€æŸ¥<strong>/ sys / debug / kernelä¸­</strong>æ˜¯å¦å­˜åœ¨ç›®å½•ã€‚ <br> æˆ‘ä»¬å¼€å§‹è¯¥è¿‡ç¨‹ï¼ˆé™¤äº†æœ€åä¸€æ­¥ï¼Œå®ƒä¸æ‰‹åŠ¨äºŒç­‰åˆ†ç›¸åŒï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"> $ git -C linux bisect start $ git -C linux bisect good v4.14 #     $ git -C linux bisect bad v5.3-rc2 #     Bisecting: 73727 revisions left to test after this (roughly 16 steps) [798bba01b44b0ddf8cd6e542635b37cc9a9b739c] RDMA/core: Fail early if unsupported QP is provided</code> </pre> <br><p> è¿è¡Œ<strong>git bisect run</strong> ï¼š </p><br><pre> <code class="plaintext hljs"> $ time git -C linux bisect run ../bisect.sh #    </code> </pre> <br><p> æˆ‘ä»¬æ­£åœ¨ç­‰å¾…...æˆ‘ä»¬æ­£åœ¨ç­‰å¾…...æˆ‘ä»¬æ­£åœ¨ç­‰å¾…...æ€»çš„æ¥è¯´ï¼Œå°½ç®¡è¯•å›¾èŠ‚çœè£…é…æ—¶é—´ï¼Œä½†æˆ‘è¿˜æ˜¯æœ‰ä¸€ä¸ªè£…é…ï¼š </p><br><pre> <code class="plaintext hljs"> $ time ../bisec.sh real 2m1.695s user 11m7.409s sys 2m0.751s</code> </pre> <br><p> æ ¹æ®åˆæ­¥ä¼°è®¡ï¼Œ <strong>git bisect</strong>åº”è¯¥å¤„ç†16ä¸ªæ­¥éª¤ã€‚ </p><br><p> æœ€åï¼Œç»“æœæ˜¯ï¼š </p><br><pre> <code class="plaintext hljs"> d51ee07a8de7d6d3f7738a5e74861133fd2d46a0 is the first bad commit commit d51ee07a8de7d6d3f7738a5e74861133fd2d46a0 Author: Bartosz Golaszewski &lt;bgolaszewski@baylibre.com&gt; Date: Thu Jan 17 15:04:23 2019 +0100 gpio: mockup: don't create the debugfs link named after the label User-space tests no longer use it and we're breaking the interface anyway. Signed-off-by: Bartosz Golaszewski &lt;bgolaszewski@baylibre.com&gt; :040000 040000 c1a1873f4cfcecace123b72fb036c3861151c9b9 61917a273f4f1f078639463a29acb8a103d50b41 M drivers bisect run success real 42m6.873s user 192m39.291s sys 33m55.932s</code> </pre> <br><p> å¥½å§ï¼Œç»“æœç»™äº†æˆ‘ä»¬æ‰€æœ‰ä¸œè¥¿éƒ½æ¶ˆå¤±äº†çš„æäº¤æ¬¡æ•°ï¼š <br>  <strong>d51ee07a8de7d6d3f7738a5e74861133fd2d46a0</strong> ã€‚ </p><br><p> ç°åœ¨ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹<strong>git bisect</strong>å®Œæˆçš„æ‰€æœ‰æ­¥éª¤çš„åˆ—è¡¨ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">git bisectæ—¥å¿—</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> $ git bisect log git bisect start # good: [bebc6082da0a9f5d47a1ea2edc099bf671058bd4] Linux 4.14 git bisect good bebc6082da0a9f5d47a1ea2edc099bf671058bd4 # bad: [609488bc979f99f805f34e9a32c1e3b71179d10b] Linux 5.3-rc2 git bisect bad 609488bc979f99f805f34e9a32c1e3b71179d10b # good: [798bba01b44b0ddf8cd6e542635b37cc9a9b739c] RDMA/core: Fail early if unsupported QP is provided git bisect good 798bba01b44b0ddf8cd6e542635b37cc9a9b739c # good: [e266ca36da7de45b64b05698e98e04b578a88888] Merge tag 'staging-5.1-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging git bisect good e266ca36da7de45b64b05698e98e04b578a88888 # bad: [318222a35bfb0ae9b5ff3e359a583463e6cfcd94] Merge branch 'akpm' (patches from Andrew) git bisect bad 318222a35bfb0ae9b5ff3e359a583463e6cfcd94 # bad: [962d5ecca101e65175a8cdb1b91da8e1b8434d96] Merge tag 'regmap-v5.2' of git://git.kernel.org/pub/scm/linux/kernel/git/broonie/regmap git bisect bad 962d5ecca101e65175a8cdb1b91da8e1b8434d96 # bad: [f47d633134f7033e3d0c667419d9f8afd69e308d] Merge tag 'tag-chrome-platform-for-v5.1' of git://git.kernel.org/pub/scm/linux/kernel/git/chrome-platform/linux git bisect bad f47d633134f7033e3d0c667419d9f8afd69e308d # good: [6c3f98faddc7f07981c5365ba2f45905ad75fcaa] Merge branch 'i2c/for-5.1' of git://git.kernel.org/pub/scm/linux/kernel/git/wsa/linux git bisect good 6c3f98faddc7f07981c5365ba2f45905ad75fcaa # bad: [2901752c14b8e1b7dd898d2e5245c93e531aa624] Merge tag 'pci-v5.1-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci git bisect bad 2901752c14b8e1b7dd898d2e5245c93e531aa624 # bad: [1a29e857507046e413ca7a4a7c9cd32fed9ea255] Merge tag 'docs-5.1' of git://git.lwn.net/linux git bisect bad 1a29e857507046e413ca7a4a7c9cd32fed9ea255 # bad: [3601fe43e8164f67a8de3de8e988bfcb3a94af46] Merge tag 'gpio-v5.1-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio git bisect bad 3601fe43e8164f67a8de3de8e988bfcb3a94af46 # good: [cf2e8c544cd3b33e9e403b7b72404c221bf888d1] Merge tag 'mfd-next-5.1' of git://git.kernel.org/pub/scm/linux/kernel/git/lee/mfd git bisect good cf2e8c544cd3b33e9e403b7b72404c221bf888d1 # good: [8fab3d713ca36bf4ad4dadec0bf38f5e70b8999d] Merge tag 'gpio-v5.1-updates-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/brgl/linux into devel git bisect good 8fab3d713ca36bf4ad4dadec0bf38f5e70b8999d # bad: [9aac1e336c3ab3824f646224f4b2309b63c51668] Documentation: gpio: legacy: Don't use POLLERR for poll(2) git bisect bad 9aac1e336c3ab3824f646224f4b2309b63c51668 # good: [0248baca03b8f188eccbb991bda2caec4c330975] Merge tag 'intel-gpio-v5.1-1' of git://git.kernel.org/pub/scm/linux/kernel/git/andy/linux-gpio-intel into devel git bisect good 0248baca03b8f188eccbb991bda2caec4c330975 # bad: [e09313ce7ea1706d1642c7d5af103915e69fc6d0] gpio: mockup: change the signature of unlocked get/set helpers git bisect bad e09313ce7ea1706d1642c7d5af103915e69fc6d0 # good: [cbf1e092f2d86e6d7cdb7f9ff8a333f52c826232] gpio: mockup: implement get_multiple() git bisect good cbf1e092f2d86e6d7cdb7f9ff8a333f52c826232 # bad: [83336668b94eb44ecd78a0b7840e43f0859e05cb] gpio: mockup: change the type of 'offset' to unsigned int git bisect bad 83336668b94eb44ecd78a0b7840e43f0859e05cb # bad: [d51ee07a8de7d6d3f7738a5e74861133fd2d46a0] gpio: mockup: don't create the debugfs link named after the label git bisect bad d51ee07a8de7d6d3f7738a5e74861133fd2d46a0 # first bad commit: [d51ee07a8de7d6d3f7738a5e74861133fd2d46a0] gpio: mockup: don't create the debugfs link named after the label</code> </pre> </div></div><br><p> å®é™…ä¸Šï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªæµ‹è¯•çš„å¤±è´¥ï¼ˆæ˜¯çš„-æµ‹è¯•ä¸­æœ‰ä¸¤ä¸ªï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"> send "ls /sys/kernel/debug/\r" expect { "gpio-mockup-event" {} timeout { puts "gpio-mockup-event not found"; exit 1 } }</code> </pre> <br><p> å¦ä¸€ä¸ªæ£€æŸ¥å› æäº¤<strong>2a9e27408e12de455b9fcf66b5d0166f2129579eè€Œä¸­æ–­</strong> ï¼ˆå½“ç„¶æ˜¯å°†å®ƒä»¬åˆ†å¼€ä½†å¾ˆæ‡’ï¼Œæ‰€ä»¥æˆ‘åªçœ‹äº†æäº¤&lt;&lt; next &gt;&gt;ï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"> send "ls /sys/kernel/debug/gpio-mockup-event/\r" expect { "gpio-mockup-A" { puts "gpio-mockup-A found" } timeout { puts "gpio-mockup-A not found"; exit 1 } }</code> </pre> <br><p> å¥½å§ï¼Œè®©æˆ‘ä»¬æ‰¾å‡º<strong>d51ee07a8de7</strong>æäº¤ä½•æ—¶è¿›å…¥äº†Linusçš„ä¸»åˆ†æ”¯ï¼Œå¹¶æä¾›äº†å®ƒçš„æ­£å¼å†…æ ¸ç‰ˆæœ¬[^ 6]ã€‚ </p><br><p> è®©æˆ‘ä»¬çœ‹çœ‹ç›´åˆ°<strong>d51ee07a8de7çš„</strong>æ‰€æœ‰æäº¤éƒ½<strong>ä»…</strong>è¿‡æ»¤åˆå¹¶æäº¤[^ 3]ï¼ˆåˆå¹¶æäº¤ï¼‰å¹¶å…·æœ‰ç›´æ¥è·¯å¾„[^ 4]ï¼ˆç¥–å…ˆé“¾ï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"> $ git log --pretty=oneline d51ee07a8de7d6d3f7738a5e74861133fd2d46a0..master --ancestry-path --merges</code> </pre> <br><p> è¿™ä½¿æˆ‘ä»¬åœ¨<strong>d51ee07a8de7</strong>å’Œmasterä¹‹é—´è¿›è¡Œäº†æ‰€æœ‰åˆå¹¶æäº¤ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹åˆ—è¡¨çš„æœ«å°¾ï¼ˆä»…æ˜¾ç¤ºæœ€åä¸‰ä¸ªæ¡ç›®ï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"> 3601fe43e8164f67a8de3de8e988bfcb3a94af46 Merge tag 'gpio-v5.1-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-gpio 3dda927fdbaac926c50b550ccb51ed18c184468b Merge branch 'ib-qcom-ssbi' into devel 2f7db3c70fdfb22480a1b0aa734664fc256532f2 Merge tag 'gpio-v5.1-updates-for-linus-part-2' of git://git.kernel.org/pub/scm/linux/kernel/git/brgl/linux into devel</code> </pre> <br><p> æ­£å¦‚æˆ‘ä»¬çœ‹åˆ°çš„æœ€åä¸€æ¬¡æäº¤ä¸€æ ·ï¼Œè¿™æ˜¯<strong>git</strong>åˆ†æ”¯çš„æ¥ç®¡<strong>ï¼š//git.kernel.org/pub/scm/linux/kernel/git/brgl/linux</strong>åœ¨<strong>gitä¸­ï¼š//git.kernel.org/pub/scm/linux/kernel / git / linusw / linux-gpio</strong> develï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªæ˜¯Linus TorvaldsåŒå¿—æ¥ç®¡äº†masteråˆ†æ”¯ä¸­çš„Linus WalleijåŒå¿—ï¼ˆGPIOå­ç³»ç»Ÿçš„&lt;&lt; Chief &gt;&gt;ï¼‰åˆ†æ”¯ã€‚ </p><br><p> æœ‰ä¸€ä¸ªéå¸¸å¥½çš„è„šæœ¬[^ 2]ï¼Œæ— éœ€äººå·¥æ“ä½œå³å¯ç«‹å³å¾—åˆ°ç»“æœï¼š </p><br><pre> <code class="plaintext hljs"> #       3601fe43e816    $ git-find-merge d51ee07a8de7d6d3f7738a5e74861133fd2d46a0 master</code> </pre> <br><p> åœ¨æäº¤<strong>3601fe43e816</strong>ä¹‹åæ‰¾åˆ°ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼š </p><br><pre> <code class="plaintext hljs"> $ git name-rev --name-only 3601fe43e816 tags/v5.1-rc1~102</code> </pre> <br><p> è¿™é‡Œçš„æ•°å­—<strong>102</strong>æ˜¯ä»<strong>3601fe43e816</strong>åˆ°<strong>v5.1-rc1</strong>çš„è·ç¦»ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸€ä¸ªçˆ¶é¡¹[^ 5]é€‰é¡¹è¿›è¡Œæ£€æŸ¥ï¼š </p><br><pre> <code class="plaintext hljs"> $ git -P log --pretty --oneline --first-parent \ --graph 3601fe43e816..v5.1-rc1 | wc -l 102</code> </pre> <br><p> ä¸€åˆ‡ä¼¼ä¹äº•äº•æœ‰æ¡ã€‚ æˆ‘å¯ä»¥è¯´å†…æ ¸çš„ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ä¸­æ‰€æœ‰å†…å®¹éƒ½&lt;&lt; &gt;&gt; <strong>v5.1-rc1</strong> ï¼Œè€Œåœ¨<strong>v5.0</strong>ç‰ˆæœ¬ä¸­ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ï¼š </p><br><pre> <code class="plaintext hljs"> $ git describe 3601fe43e816 v5.0-8748-g3601fe43e816</code> </pre> <br><h1 id="zaklyuchenie"> ç»“è®º </h1><br><p> è‡ªåŠ¨æ‰§è¡Œæ­¤ç±»æ“ä½œä¼šå˜å¾—æ›´åŠ æœ‰è¶£ï¼Œè¿™å·²ä¸æ˜¯ç§˜å¯†ã€‚ é‰´äºç»„è£…æ—¶é—´é•¿ï¼Œæ‰‹åŠ¨è¿›è¡Œå¦‚æ­¤å¤šçš„æ­¥éª¤éå¸¸å›°éš¾ï¼Œæ‚¨å®Œå…¨å¯ä»¥å¿˜è®°è‡ªå·±åœ¨åšä»€ä¹ˆã€‚ </p><br><p> å®é™…ä¸Šï¼Œåœ¨åˆ¶å®šéœ€æ±‚æ—¶ï¼Œæ‚¨å¯ä»¥æ‰§è¡Œä»»ä½•æ“ä½œï¼Œåˆ¶ä½œä¸€ä¸ªç‰¹æ®Šç¨‹åºå¹¶å°†å…¶æ·»åŠ åˆ°<strong>initramfsä¸­</strong> ï¼Œæˆ–è€…æ£€æŸ¥æ‚¨è‡ªå·±çš„ä¸œè¥¿å¹¶å°†å…¶äºŒç­‰åˆ†ã€‚ </p><br><p> åœ¨æ»¡è¶³<strong>git bisectè¿è¡Œ</strong>è¦æ±‚çš„åŒæ—¶ï¼Œæµ‹è¯•å¯ä»¥é‡‡ç”¨ä»»ä½•æ–¹ä¾¿çš„å½¢å¼ã€‚ æ­¤å¤–ï¼Œå€ŸåŠ©åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ï¼ŒæœŸæœ›å€¼ç›¸åŒï¼‰ï¼Œæ‚¨å¯ä»¥å°†æ¿å¡çš„å›ºä»¶é™åˆ¶ä¸ºæ‰€éœ€çš„æ¶æ„ï¼Œå¹¶ç›´æ¥å¯¹å…¶è¿›è¡Œæ£€æŸ¥ã€‚ </p><br><p>  [^ 1]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…‹é‡Œæ–¯è’‚å®‰Â·åº“å¾·ï¼ˆChristian Couderï¼‰ã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>å¸¦æœ‰â€œ git bisect runâ€çš„å®Œå…¨äºŒç­‰åˆ†æ³•</em> ã€‚</a> </p><br><p>  [^ 2]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">rmandvikarã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>GitæŒ‚é’©ç³»ç»Ÿï¼ˆå…¨å±€ï¼Œæœ¬åœ°æŒ‚é’©ï¼‰ï¼Œå®ç”¨ç¨‹åºå¤–å£³è„šæœ¬ï¼ŒHOME dirçš„é…ç½®</em> ã€‚</a> </p><br><p>  [^ 3]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Scott Chaconå’ŒBen Straubã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>Pro Gitä¹¦</em> ã€‚</a> </p><br><p>  [^ 4]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">void.pointerã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>ç¥–å…ˆè·¯å¾„å¦‚ä½•ä¸git logä¸€èµ·ä½¿ç”¨ï¼Ÿ</em></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ã€‚</a> </p><br><p>  [^ 5]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Marc G Gauthierã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>Git Logçš„â€“first-parenté€‰é¡¹</em> ã€‚</a> </p><br><p>  [^ 6]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Guillaume Morinã€‚</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>æŸ¥æ‰¾åŒ…å«ç‰¹å®šæäº¤çš„åˆå¹¶æäº¤</em> ã€‚</a> </p><br><p>  [^ 7]ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Linuxå†…æ ¸git bisectæ¨¡æ¿</a> </p><br><p> æ ‡å¤´ä¸­ä½¿ç”¨çš„åŸå§‹å›¾ç‰‡ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//xkcd.com/1597/</a> ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN462245/">https://habr.com/ru/post/zh-CN462245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN462209/index.html">å®åˆ©é€šè§†é¢‘ä¼šè®®è§£å†³æ–¹æ¡ˆã€‚ 6å¹´åçš„å›å¿†...ç¬¬2é˜¶æ®µã€‚ç¬¬1éƒ¨åˆ†ã€‚RMX1500</a></li>
<li><a href="../zh-CN462213/index.html">å­¦ä¹ å’Œå·¥ä½œï¼šä¿¡æ¯æŠ€æœ¯ä¸ç¼–ç¨‹å­¦é™¢çš„æœ¬ç§‘ç”Ÿç»éªŒ</a></li>
<li><a href="../zh-CN462221/index.html">æˆ‘å¯¹Google Playæ„Ÿåˆ°å¤šä¹ˆå¤±æœ›</a></li>
<li><a href="../zh-CN462227/index.html">è«æ–¯ç§‘ï¼Œ8æœˆ9æ—¥-åç«¯æ•…äº‹4.0</a></li>
<li><a href="../zh-CN462243/index.html">ä½¿ç”¨ReactJSå¢å¼ºMagentoå‰ç«¯æ€§èƒ½</a></li>
<li><a href="../zh-CN462251/index.html">æµè§ˆå™¨ä¸­çš„éšèº«æ¨¡å¼æ˜¯è™šæ„çš„å—ï¼Ÿ</a></li>
<li><a href="../zh-CN462253/index.html">åœ¨Redd FPGAä¸­ä»¥æµåè®®ä¸ºä¾‹è¿›è¡ŒCPUå’Œå¤„ç†å™¨é€šä¿¡ç¤ºä¾‹çš„é¦–æ¬¡å®éªŒ</a></li>
<li><a href="../zh-CN462257/index.html">Kubernetesä¸Šçš„Kafka-å¾ˆå¥½å—ï¼Ÿ</a></li>
<li><a href="../zh-CN462259/index.html">ä¸ºæ™ºèƒ½å®¶å±…æ‰“é€ æ§åˆ¶å™¨</a></li>
<li><a href="../zh-CN462263/index.html">è¸©åˆ°åœ°æ¿ï¼šä¸ºPCåˆ›å»ºå¦ä¸€ä¸ªè„šæ“ä½œå™¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>