<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎁 🤳🏻 🧢 60 Millionen Felder und 27 Pflanzen. Wie wir eine Karte aller Bereiche Europas und der USA erstellt haben 👩‍🌾 🎧 🤛🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einigen Monaten haben wir die weltweit erste kostenlose interaktive Karte veröffentlicht , mit der Sie Informationen zu allen Bereichen in den USA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>60 Millionen Felder und 27 Pflanzen. Wie wir eine Karte aller Bereiche Europas und der USA erstellt haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450070/"><img src="https://habrastorage.org/webt/dq/bf/0b/dqbf0bvkm5hrtuknni-rm60ot9g.jpeg"><br><br>  Vor einigen Monaten haben wir die weltweit erste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kostenlose interaktive Karte veröffentlicht</a> , mit der Sie Informationen zu allen Bereichen in den USA und in Europa anzeigen können.  Dutzende von Veröffentlichungen schrieben über die Karte, und bei Product Hunt sammelte sie beispiellose anderthalbtausend Likes für ein Produkt aus dem Agrarsektor (und wurde schließlich zum AI &amp; Machine Learning-Produkt des Jahres 2018).  Wir haben die Karte zwei Monate lang entwickelt - so war es. <br><a name="habracut"></a><br>  Die interaktive Karte basiert auf Algorithmen für maschinelles Lernen und Satellitenbildern.  Es enthält Informationen zu 60 Millionen Feldern und 27 Kulturen in 44 Ländern Europas und der USA.  Daten - für drei Jahre.  Wir haben alle Felder mit Hilfe von ML aus Satellitenbildern erkannt.  Mithilfe der Karte können Sie sowohl Trends auf Länder- und Regionsebene überwachen als auch die Entwicklung eines bestimmten Felds beobachten.  Sie können beispielsweise herausfinden, wie viel Land 2016 in den USA von Mais besetzt war (49,1 Millionen Hektar) oder in welcher Region Belgiens die meisten Weizenfelder (Wallonien) liegen. <br><br><img src="https://habrastorage.org/webt/ot/an/yq/otanyq1ez-dmw0m4xvkpckq5rn4.png"><br>  <i>Europa bei minimalem Zoom</i> <br><br>  Mithilfe der Karte finden Sie auch Informationen zu einem separaten Feld: Größe, Kultur, Entwicklungsplan und ein umfassender Indikator Field Score.  Sie wird anhand des NDVI-Index, der Klimaindikatoren und der relativen Feldproduktivität berechnet.  Sie können jederzeit sehen, wie sich die Rüben auf Ihrem Feld entwickeln oder welchen Bereich der Nachbar letztes Jahr für Hülsenfrüchte reserviert hat.  Unter anderem ist es schön.  Wir haben die Schaltfläche „Zufällig schöne Felder“ erstellt: Sie bewegt Sie an mehr als 35 Orte auf der ganzen Welt, von denen jeder wie ein Kunstwerk abstrakter Kunst aussieht. <br><br>  Die Idee, eine solche Karte zu erstellen, kam im Juli letzten Jahres auf.  Uns fehlte ein Werkzeug, mit dem wir alle unsere technologischen Fähigkeiten klar demonstrieren konnten.  Im August begann sich das gesamte Team eng zu entwickeln. <br><br><h2>  Daten: sammeln, verarbeiten, komprimieren </h2><br>  Bei der Entwicklung der Karte haben wir Bilder des Sentinel-2-Satelliten des Copernicus-Programms der Europäischen Union verwendet.  Insgesamt wurden rund 250 Terabyte an Informationen für Europa und die USA verarbeitet.  In der ersten Phase haben wir die Bilder vorverarbeitet: Wir haben die Wolken, Schatten und den Schnee gereinigt und die Datenkomprimierung durchgeführt.  Auf den resultierenden 50 Terabyte starteten sie dann den Prozess der Suche nach Feldgrenzen und der Klassifizierung von Kulturen in unseren Modellen für maschinelles Lernen.  Bei der Ausgabe erhielten wir ungefähr 250 Gigabyte Vektorkarten mit Feldgeometrien und Kulturen. <br><br>  Um Daten zu verarbeiten und Statistiken zu berechnen, haben wir die Datenbanken PostgreSQL und PostGIS verwendet.  Nach dem Export der ursprünglichen Vektordaten erhielten wir eine Datenbank mit etwa 180 Millionen Datensätzen zur Feldgeometrie sowie mehr als einer Milliarde Datensätzen mit zusätzlichen Attributinformationen zu den Feldern selbst über drei Jahre.  Aus dieser Datenmenge berechneten wir Statistiken, Bewertungen, bestimmten die Beliebtheit verschiedener Kulturen in den Regionen der Welt - alles, was auf der Karte in der linken Spalte angezeigt wird, und interaktive Tipps. <br><br><img src="https://habrastorage.org/webt/h3/hx/ea/h3hxeagfxn1qbfp_qh9pj5f3csm.jpeg"><br>  <i>Felder von Kroatien</i> <br><br>  Wir wollten schnell agronomische Indikatoren für das Feld berechnen und anzeigen sowie ein Diagramm der Pflanzenentwicklung über die Saison visualisieren.  Zu diesem Zweck haben wir unseren eigenen Ansatz zum Zwischenspeichern und Komprimieren von Satellitendaten verwendet.  Dadurch konnten wir die Größe des Data Warehouse um das 100- bis 200-fache reduzieren und die Geschwindigkeit, mit der Informationen vor Ort abgerufen werden, auf 1 Sekunde reduzieren. <br><br>  Auch in dieser Version der Karte haben wir einen umfassenden Feldwertindikator hinzugefügt, mit dem Sie die Feldbewertung schnell bewerten können.  Der Field Score ist der erste Schritt zur Ertragsprognose, an dem unser Team derzeit arbeitet.  Die Karte wurde in kurzer Zeit erstellt, so dass ich unterwegs viele originelle Lösungen erfinden musste.  Wir wenden jedoch alle neuen Entwicklungen in der Arbeit an unserem Hauptprodukt an. <br><br><h2>  Karte: Format auswählen und Daten vorbereiten </h2><br>  Um die Daten zu visualisieren, haben wir Mapbox verwendet.  Es gibt zwei Ansätze zum Erstellen einer Karte, wir haben beide ausprobiert.  Das erste beinhaltet das Erstellen einer Rasterkarte.  In diesem Fall teilen wir die Karte in Quadrate, die wir in Bilder rendern und auf dem Server speichern.  Der Browser lädt mehrere Bilder herunter und verschiebt sie, wenn sich der Benutzer auf der Karte bewegt.  Mit diesem Ansatz können Sie alle Felder anzeigen, Sie müssen nichts filtern.  Das ist wunderschön, das Minus ist, dass die Karte statisch ist und Bitmap-Bilder viel wiegen. <br><br>  Der zweite Ansatz besteht darin, eine Vektorkarte zu erstellen.  Der Browser lädt die Vektordaten und animiert sie auf der Clientseite.  So funktionieren moderne Google- und Yandex-Karten.  Daten wiegen weniger als Bilder und ermöglichen es Ihnen, das Design eines Elements zu ändern.  Diese Karte kann vom Mapbox-Dienst erstellt werden. Insbesondere die Mapbox GL-Bibliothek ist ein Open Source-Tool zum Anzeigen von Karten im Web.  Mapbox bietet unter anderem einen kostenpflichtigen Kartenspeicherdienst an.  Sie können Ihre Daten manuell auf ihre Server hochladen, und Mapbox verteilt Informationen schnell und sorgt so für einen genauen Kartenbetrieb.  Dies ist ein wesentlicher Teil der Arbeit. Dank der Tatsache, dass Mapbox diese Aufgabe übernimmt, wurde die Aufgabe des Teams erheblich vereinfacht. <br><br><img src="https://habrastorage.org/webt/u_/wo/fv/u_wofvjmemc-piwnprp5pwtmrra.png"><br>  <i>Emilia Romagna, Italien</i> <br><br>  Bei der Arbeit mit Vektordaten gibt es eine bedingte Einschränkung: Je mehr Informationen Sie auf der Karte anzeigen möchten, desto langsamer funktioniert alles.  Um dieses Problem zu lösen, haben wir ein Dienstprogramm von Mapbox namens Tippecanoe verwendet.  Basierend auf den von uns ausgewählten Algorithmen wurde ermittelt, bei welchem ​​Zoom bestimmte Felder sichtbar sind und welche nicht, und unsichtbare Vektorobjekte aus der Ebene entfernt.  Insgesamt verfügt Tippecanoe über mehr als 20 Filteralgorithmen. Wir haben alles ausprobiert und einige grundlegende ausgewählt.  Wir haben die so aufbereiteten Daten mit der mbtiles-Technologie von Mapbox bis zu 50 Gigabyte aufbereitet und dann auf die Server des Unternehmens hochgeladen. <br><br>  Die Verwendung des Next JS-Frameworks, das das serverseitige Rendern der Seite durchführt, ermöglichte es, die Karte noch weiter zu beschleunigen.  Die meisten Anwendungen in der modernen Welt werden vollständig auf der Clientseite gerendert: Wenn ein Fenster geöffnet wird, zeigt der Browser eine leere HTML-Seite und ein Skript an, das alle Informationen lädt.  Das Next JS-Framework rendert alles auf dem Server, wodurch das Laden der Anwendung für den Client schnell erfolgt. <br><br><h2>  Karte: Richten Sie das Bild ein und lassen Sie sich am Abend vor der Veröffentlichung einen „magischen Knopf“ einfallen </h2><br>  Mapbox war eine angenehme Entdeckung für unseren Designer.  Der Service vereinfachte seine Aufgabe, da er die Daten ohne Beteiligung eines Front-End-Entwicklers visualisieren konnte.  Von außen mag es scheinen, dass es einfach ist, die Felder in der fertigen Oberfläche einzufärben, aber es gibt viele Nuancen.  Wir haben 27 Kulturen und es war nicht einfach, Farben für sie auszuwählen.  Für populäre Kulturen werden kontrastierende Farben benötigt, für weniger populäre, weniger kontrastierende Farben, und sie sollten alle bei verschiedenen Zoomstufen deutlich sichtbar sein.  Die Karte enthält viele Verschachtelungen und interaktive Hinweise. Daher war es am schwierigsten, die Logik von Übergängen auf verschiedenen Ebenen zu überdenken. <br><br>  In der Nacht vor der Veröffentlichung wurde uns klar, dass es zwar interessant ist, die Karte und die Zahlen zu betrachten, ich dies jedoch nicht in sozialen Netzwerken teilen möchte.  Aus diesem Grund haben wir uns entschlossen, die Schaltfläche "Zufällig schöne Felder" hinzuzufügen, mit der Benutzer zwischen verschiedenen Orten auf dem Planeten hin- und hergeschleudert werden.  Im ganzen Büro haben wir nach schönen Orten gesucht, in einer Stunde haben wir einen Knopf gezogen und alles erfunden.  Am Morgen haben wir es getestet und gestartet.  Es scheint, dass es diese Funktion war, die uns so viel Berichterstattung gab.  Sonst hätte niemand darauf geachtet, dass die Felder abstrakten Gemälden ähneln.  Unterschätzen Sie nicht die Macht von Entscheidungen in letzter Minute. <br><br><img src="https://habrastorage.org/webt/5d/xb/rn/5dxbrnwzr6i-iezjv2qxfz9ef3i.jpeg"><br>  <i>Felder von Frankreich</i> <br><br>  Nach dem Start haben wir der Karte eine weitere Funktion hinzugefügt.  Wir wussten, dass wir manchmal die Felder und Kulturen auf der Karte nicht genau erkennen, und das Feedback der Benutzer ermöglicht es uns, unsere Algorithmen zu verbessern.  Nach der Freilassung begannen die Landwirte, Nachrichten über Ungenauigkeiten bei der Pflanzenerkennung zu senden: „Auf dem Feld wächst Sonnenblume, und Sie haben Mais.“  Um dieses Problem zu beheben, haben wir der Feldkarte eine Schaltfläche hinzugefügt, die uns Fehlerbenachrichtigungen sendet.  Die von uns verwendeten Informationen werden verwendet, um die Genauigkeit unserer Pflanzenerkennungsmodelle zu verbessern. <br><br><h2>  Zusammenfassend </h2><br>  Während seiner Entwicklung ist das Konzept der Karte viel komplizierter geworden.  Wenn wir zunächst vorhatten, Felder und Pflanzen auf der ganzen Welt einfach zu visualisieren, stellte sich heraus, dass das Endprodukt viel komplexer war.  Aber die Karte hat sich gelohnt.  Nach der Veröffentlichung haben uns Hunderte von Investoren, Stiftungen und wissenschaftlichen Forschern geschrieben.  Wir werden einen Teil der technologischen Lösungen, beispielsweise das Next JS-Framework und das Tippecanoe-Dienstprogramm, verwenden, um an unserer kostenlosen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OneSoil</a> Precision Farming-Webplattform zu arbeiten. <br><br>  Wir waren die ersten, die seit drei Jahren alle Bereiche der USA und Europas kartierten.  Die Daten, die wir erhalten haben, sind einzigartig.  Wir wissen bereits mehr über die Bereiche als jedes Unternehmen oder Bundesland.  Und die Statistiken, die wir mithilfe von Algorithmen für maschinelles Lernen erhalten, sind oft genauer als diejenigen, die manuell erfasst wurden.  Wir haben den ersten Schritt zur automatischen Erkennung von Feldern auf der ganzen Welt getan - dies ist unser Plan für die nahe Zukunft. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de450070/">https://habr.com/ru/post/de450070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de450060/index.html">Wie ich herausfand, dass mein Visum noch nicht fertig ist, eine Nachricht in Slack</a></li>
<li><a href="../de450062/index.html">Wiederherstellung des Kreislaufs im Gehirn wenige Stunden nach dem Tod</a></li>
<li><a href="../de450064/index.html">Microsoft Build 2019 - Live-Stream in russischer Sprache</a></li>
<li><a href="../de450066/index.html">Test: Wie erfüllen Sie die Anforderungen für die Verarbeitung personenbezogener Daten?</a></li>
<li><a href="../de450068/index.html">Wie Technologie Ihren Geist manipuliert: Das Aussehen eines Illusionisten und Designethik-Experten Google</a></li>
<li><a href="../de450072/index.html">Wählen Sie einen Fernseher für sich selbst, Ihren geliebten Menschen, aus wissenschaftlicher Sicht, nicht für Werbung</a></li>
<li><a href="../de450074/index.html">Fortschritte in Phase-1-Impfstoffstudien gegen Darmkrebs</a></li>
<li><a href="../de450076/index.html">Wir verfeinern die Beschreibung der Systemfunktionen anhand des Sequenzdiagramms</a></li>
<li><a href="../de450078/index.html">Der Hertz-Kunde verklagt den Accenture-Integrator und fordert 32 Millionen US-Dollar für ein fehlerhaftes Site-Upgrade</a></li>
<li><a href="../de450080/index.html">Indigene Mikroben und Verdauung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>