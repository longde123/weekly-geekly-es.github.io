<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📻 🃏 📺 MPS 2019.2：枚举数据类型，错误消息的自定义，过渡到JDK 11等 🤗 🕯️ 💰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在MPS 2019.2中，我们为您准备了各个子系统中的许多新功能，并修复了许多错误 。 



 下载MPS 2019.2 

 枚举数据类型 
 一种声明枚举数据类型的新方法允许您通过为每个选项指定命名值来以紧凑形式定义选项列表。 如有必要，您可以配置显示某些值的方式，或者选择在属性未显式设置为任...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MPS 2019.2：枚举数据类型，错误消息的自定义，过渡到JDK 11等</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/JetBrains/blog/476806/"> 在MPS 2019.2中，我们为您准备了各个子系统中的许多新功能，并<a href="https://youtrack.jetbrains.com/releaseNotes/MPS%3Fq%3D%2523Resolved%2BFix%2Bversions%253A%2B%257B2019.2%2BEAP1%257D%252C%257B2019.2%2BEAP2%257D%2B%252C%257B2019.2%2BEAP3%257D%2B%252C%257B2019.2%2BEAP4%257D%252C%257B2019.2%2BFF%2B%2528EAP5%2529%257D%252C%257B2019.2%2BRC1%257D%26token%3D21ea606a-b9d8-4b04-a954-4878f463f276">修复了许多错误</a> 。 <br><br><img src="https://habrastorage.org/webt/2a/0k/au/2a0kaurjxax_knjmbnelmksj3sq.png" alt="图片"><br><br>  <a href="https://www.jetbrains.com/mps/download/">下载MPS 2019.2</a> <br><br><h4> 枚举数据类型 </h4><br> 一种声明枚举数据类型的新方法允许您通过为每个选项指定命名值来以紧凑形式定义选项列表。 如有必要，您可以配置显示某些值的方式，或者选择在属性未显式设置为任何值的情况下将使用的默认值。 <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/5m/mi/qo/5mmiqojhdjqode7ck9o1rwd72gw.png" alt="图片"><br><br> 我们还改进了SModel语言有关使用枚举类型的属性的方面。 现在，在读写属性时，将使用枚举成员的类型化实例代替初始基本值，这有助于开发人员编写错误更少的代码。 <br><br><img src="https://habrastorage.org/webt/k9/-k/4h/k9-k4hykno5rjxj8fpnazwh3mqm.png" alt="图片"><br><br> 此外，我们还重新设计了使用枚举类型执行的所有操作。 <br><br><img src="https://habrastorage.org/webt/pc/2e/ib/pc2eibha0ba1f0mxo-fqpx-uviy.png" alt="图片"><br><br>  Enum Switch语句已添加到SModel语言中，用于选择多个枚举成员。 它也可以用作表达式，根据枚举的哪个成员满足要求来计算各种值。 <br><br><img src="https://habrastorage.org/webt/jj/cm/tp/jjcmtpxwulxrz3xpyati0bc4wdk.png" alt="图片"><br><br><h4> 自定义错误消息 </h4><br> 现在已经有一段时间了，我们已经收到要求实现在MPS中配置一些错误消息的功能的请求。 由于我们的一位商业客户的要求，我们能够给予此功能最高的优先级。 现在，您可以配置与检查约束有关的所有错误消息。 在将来的版本中，我们将使这些自定义选项可用于其他类型的错误。 <br><br> 在此版本中，我们添加了该语言的一个新方面，称为反馈。 此方面可用于自定义与检查结构，属性限制和范围有关的错误消息的文本。 <br><br><img src="https://habrastorage.org/webt/cr/os/zr/croszrb1tfaxrl8qhpds3pfonyq.png" alt="图片"><br><br> 例如，ShowMessage定义了当您将鼠标悬停在问题节点上时出现在工具提示中的文本。 <br><br><img src="https://habrastorage.org/webt/cx/nm/e9/cxnme93zfvv6vrhyi7h9za9rpv8.png" alt="图片"><br><br> 请注意：您可以通过扩展提供的一组反馈语言来设置反馈。 例如，您可以描述将突出显示统计图编辑器中的边或顶点的反馈。 <br><br> 要接收有关canBe *限制的自定义错误消息，请使用基于规则的限制语言。 <br><br><img src="https://habrastorage.org/webt/6s/g6/fp/6sg6fpnmovgslmyds-r1ktwegn0.png" alt="图片"><br><br><h4> 基于规则的约束语言 </h4><br> 我们创建了一种基于规则的限制语言，该语言将来会从标准MPS限制语言中替换当前可用的canBe *限制。 当前，基于规则的约束语言是实验性功能，因此在将来的版本中它可能会发生很大变化。 <br><br><img src="https://habrastorage.org/webt/ex/r0/g1/exr0g1ecwwujwmlg6ert_nfsj0c.png" alt="图片"><br><br> 目前，以前版本的限制仍然是优先事项，因此，为了引入基于规则的限制，必须完全删除旧的canBe *限制。 用于确定约束的新语言更具声明性；它需要指定一组隔离的约束（规则），而不是一个条件块。 <br><br> 在版本2019.2中，这使您可以分别为每个规则接收单独的错误消息。 <br><br><img src="https://habrastorage.org/webt/jn/jv/la/jnjvlazvumgmssrknqbxhlrolly.png" alt="图片"><br><br><h4> 根历史 </h4><br> 现在，Git菜单中有一个新操作，可让您显示特定根目录下VCS的更改历史记录。 该操作可从编辑器的上下文菜单中获得： <br><br><img src="https://habrastorage.org/webt/bv/bb/gn/bvbbgnj5iuh_htel1l0lnszgzkw.png" alt="图片"><br><br> 请注意，与其他任何历史记录相关的VCS操作一样，收集根历史记录数据非常耗时。 状态栏中有一个进度条，可帮助您评估花费的时间。 <br><br> 该对话框类似于IntelliJ IDEA中的“选择历史记录”对话框： <br><br><img src="https://habrastorage.org/webt/m7/fp/hh/m7fphhyqifkgrybbpgiwawa4kw4.png" alt="图片"><br><br> 对话框显示模型文件的修订列表，其中相应的根目录已更改。 <br><br><h4> 资料搜寻 </h4><br> 现在可以按属性值进行全文搜索。 通过操作“编辑”-&gt;“查找”-&gt;“在项目中查找文本”操作（Ctrl + Alt + Shift + F），可以查找属性值包含指定文本的节点。 <br><br><img src="https://habrastorage.org/webt/hb/nu/cw/hbnucw_dkoimwd_5j98yfb2lvsw.png" alt="图片"><br><br><h4> 检查特定错误 </h4><br> 编写测试语言的一种常见用例是检查节点是否有错误消息和警告。 在某些情况下，MPS测试子系统无法区分影响同一节点的不同类型的错误。 这可能导致混乱：即使用户在测试注释中明确指出了错误的预期类型，影响相应节点的其他错误和警告也不会生成测试错误。 <br><br> 请记住，升级到新版本时，某些测试可能会失败，因为现在它们只会抑制用户在扫描批注中指示的警告和错误。 <br><br><img src="https://habrastorage.org/webt/je/ns/bd/jensbd7apn0fbjzcgdhpqqlip9s.png" alt="图片"><br><br><h4> 验证规则定义中的模板 </h4><br> 如果为概念定义验证规则，则将为作为该概念实例的每个节点调用该规则。 <br><br> 现在，您可以显式地指定需要重新定义的规则列表，而不是覆盖从父级概念继承的每个规则。 强烈建议您查看所有使用替代功能的验证规则，并指出应重新定义哪些规则。 <br><br> 以前，您可以使用模板语言为概念定义验证规则。 此功能用于限制规则的适用条件（与专门为该概念定义的规则相比），以及方便命名属性，子孙代等。 出于这两个目的，在规则主体内部使用模板语言是合适的，尤其是在do块顶部使用match运算符： <br><br><img src="https://habrastorage.org/webt/rx/qv/-u/rxqv-ucvbjvtc2bq_1aarg9m6_4.png" alt="图片"><br><br> 将来，我们不打算在标头中使用模板来支持验证规则，因此我们建议您查找此类情况，并使用特殊操作将模板移至规则主体。 <br><br><h4>  Java 11作为运行时 </h4><br>  MPS现在将在JDK 11中运行。这将影响存根模型的加载机制。 除了少数情况下，某些类和字段已在JDK 11中重新打包之外，大多数项目都不需要迁移。 <br><br> 将插件用于IntelliJ IDEA时，具有MPS Facet的模块现在应与JDK版本11相关联。否则，代码生成将失败。 <br><br><h4> 类型外观API外观 </h4><br> 现在，只能使用新的Facade API进行类型检查。 <br><br>  <b>新的API：</b>请参阅jetbrains.mps.typechecking.TypecheckingFacade和相关类。 <br><br>  <b>不推荐使用的API：</b> jetbrains.mps.typesystem。*现在不推荐使用软件包层次结构。 除了从类型系统方面的内容自动生成的代码外，不建议使用此层次结构中的类。 <br><br><h4> 未来版本中的计划变更 </h4><br> 这是影响类型系统支持的更改的初步概述： <br><br><ul><li> 负责实现类型系统的方面及其中使用的语言将被弃用。 随着时间的流逝，该语言及其在运行时中的支持将移至单独的插件。 </li><li> 将添加一个新方面，该方面将有效替换类型系统方面的非类型系统部分。 将提供迁移以从旧的类型系统方面提取验证规则。 </li><li> 在运行时的支持下，将实现一个新的类型检查框架，其结果是，过时的机制将被重新编写。 </li></ul><br><h4> 后台组装 </h4><br> 我们在后台构建过程中提高了界面的响应速度。 如果将构建过程发送到后台一次，它将始终在后续执行期间在后台执行。 该动作保存在菜单首选项-&gt;项目设置-&gt;后台执行中。 <br><br><h4> 基本语言 </h4><br> 此版本的主要目标之一是改善BaseLanguage。 我们修复了许多影响BaseLanguage语言的问题，从错误到影响可用性的问题。 <br><br><h4>  BL注释中的拼写检查 </h4><br> 拼写检查现在可用于单行注释，Javadoc文本和字符串文字。 <br><br><h4> 新样本项目 </h4><br> 我们考虑了社区的意愿，并添加了一个带有XML生成的新示例项目。 <br><br><h4> 本地Git配置 </h4><br> 现在，合并驱动程序的设置不是全局的，而是本地的（对于每个Git存储库都是单独的），因此每个已安装的MPS副本可以具有自己的合并驱动程序。 <br><br> 您可以<a href="https://www.jetbrains.com/mps/download/">在此处</a>下载此版本，希望您喜欢。 请在<a href="https://youtrack.jetbrains.com/issues/MPS">我们的跟踪器中</a>向我们报告任何问题。 <br><br>  <i>您的JetBrains MPS团队</i> <i><br></i>  <i>发展动力</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN476806/">https://habr.com/ru/post/zh-CN476806/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN476786/index.html">违法的照片/录像系统和运输安全部门系统的认证</a></li>
<li><a href="../zh-CN476788/index.html">为什么3D打印将改变世界？</a></li>
<li><a href="../zh-CN476792/index.html">Swift.assert-发布后的生活</a></li>
<li><a href="../zh-CN476796/index.html">关于完美身材的思考</a></li>
<li><a href="../zh-CN476798/index.html">我们以Hynix GDDR3 SDRAM为例研究RAM芯片的组装</a></li>
<li><a href="../zh-CN476812/index.html">关于一切的笔记。 简单而危险的电源</a></li>
<li><a href="../zh-CN476816/index.html">智能手机中的迪拜购物中心，或如何在应用程序中添加建筑物的平面图</a></li>
<li><a href="../zh-CN476824/index.html">麦肯锡：重新思考汽车中的软件和电子架构</a></li>
<li><a href="../zh-CN476826/index.html">多重实验：理论与实践</a></li>
<li><a href="../zh-CN476828/index.html">操作“迁移”：如何迁移到DataLine云</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>