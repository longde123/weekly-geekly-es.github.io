<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🔬 🧑🏼‍🤝‍🧑🏼 👩🏻 Cours MIT "Sécurité des systèmes informatiques". Conférence 3: Buffer Overflows: Exploits and Protection, Part 3 🐹 👏🏻 🍢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 3: Buffer Overflows: Exploits and Protection, Part 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418099/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  Vous pouvez utiliser la technique de deviner le "canari" à vos propres fins afin de découvrir la présence de "faibles", en termes de sélection, de bits.  Autrement dit, si vous avez bien deviné, le serveur va redémarrer, et cela vous signalera que la valeur définie est assez facile à deviner.  Ainsi, il est possible de vaincre les «canaris» randomisés, en supposant qu'après le redémarrage du serveur, leur valeur ne changera pas.  Vous pouvez également utiliser des gadgets pour implémenter une séquence associée de plusieurs attaques. <br><br>  Ensuite, nous examinerons une manière plus productive d'utiliser toutes ces méthodes pour déjouer la prévention de l'exécution des données, les espaces d'adressage aléatoires et les «canaris». <br><br>  Tournons notre attention vers les architectures 64 bits au lieu des architectures 32 bits.  Les premiers sont mieux adaptés à la randomisation, ils vous donnent donc beaucoup plus de «chance» de vous défendre contre un pirate.  Et ces systèmes semblent beaucoup plus intéressants en termes de formation d'attaque. <br><br>  Ce type d'architecture 64 bits a également été envisagé du point de vue de <b>BROP</b> , une programmation orientée «aveugle» inversée.  Pour simplifier, nous supposons que la seule différence entre les machines 64 bits et 32 ​​bits est que sur une machine 64 bits, les arguments sont passés aux registres et, pour une machine 32 bits, à la pile. <br><br><img src="https://habrastorage.org/webt/hg/z1/jc/hgz1jcij9zzqbaqc3fiztx1ctze.jpeg"><br><br>  Lorsqu'une fonction commence à être exécutée, il faut «regarder» dans certains registres pour trouver où se trouvent les arguments. <br><br>  Passons maintenant à l'essentiel de la conférence d'aujourd'hui - qu'est-ce que la programmation orientée retour aveugle, ou <b>BROP</b> .  La première chose que nous allons faire est de trouver un gadget d'arrêt.  N'oubliez pas que lorsque nous disons «gadget», nous entendons essentiellement des adresses de retour.  Le gadget est identifié par l'adresse de retour, l'adresse de départ de la séquence d'instructions à laquelle nous voulons aller.  Qu'est-ce qu'un gadget d'arrêt? <br><br>  Essentiellement, il s'agit de l'adresse de retour à un endroit du code, cependant, si vous sautez là-bas, mettez simplement le programme en pause, mais ne le faites pas planter.  C'est pourquoi cela s'appelle un gadget d'arrêt. <br><br>  Vous pouvez sauter à un endroit du code, qui initie alors un appel système en veille, ou fait une pause, ou quelque chose comme ça.  Il est possible que le programme "reste coincé" dans une boucle sans fin si vous sautez à cet endroit.  Peu importe pourquoi l'arrêt se produit, mais vous pouvez imaginer quelques scénarios qui y mèneraient. <br><br>  À quoi sert un gadget d'arrêt? <br><br>  Dès que l'attaquant a réussi à vaincre le «canari» en utilisant la technique interactive de deviner les bits, il peut commencer à réécrire cette adresse de retour, l'adresse de retour et commence à «tâtonner» le gadget d'arrêt.  Notez que la plupart des adresses aléatoires que vous pouvez placer sur la pile sont susceptibles de provoquer simplement une panne du serveur.  Encore une fois, ce message est pour vous, l'attaquant, c'est une indication que ce que vous avez trouvé n'est pas un gadget d'arrêt.  Parce que lorsque le serveur tombe en panne, votre socket se ferme et vous, en tant qu’attaquant, comprenez que vous n’avez pas utilisé le gadget d’arrêt.  Mais si vous avez deviné quelque chose et que la prise reste ouverte pendant un certain temps, vous pensez: "Ouais, j'ai trouvé ce gadget d'arrêt!"  L'idée de base de la première étape est donc de trouver ce gadget d'arrêt. <br><br><img src="https://habrastorage.org/webt/xb/af/zx/xbafzxirvhgep_31ahp8fuzpey4.jpeg"><br><br>  La deuxième étape consiste à rechercher des gadgets qui suppriment les entrées de pile à l'aide de la commande <b>pop</b> .  Par conséquent, vous devez utiliser cette séquence d'instructions soigneusement conçues pour savoir quand vous récupérez l'un de ces gadgets de pile.  Cette séquence sera constituée de l' <b>adresse de sonde de l'adresse de sonde</b> , de l' <b>adresse d'arrêt de l'adresse d'arrêt</b> et de l' <b>adresse de</b> panne système de l' <b>adresse de crash</b> . <br><br>  Ainsi, l' <b>adresse de la sonde</b> est ce que nous allons mettre sur la pile.  Ce sera l'adresse du gadget potentiel pour effacer la pile, l' <b>adresse d'arrêt</b> - c'est ce que nous avons considéré dans la première étape, c'est l'adresse du gadget d'arrêt.  L' <b>adresse de plantage</b> sera alors simplement l'adresse du code non exécutable.  Ici, vous pouvez simplement mettre l'adresse zéro (0 x 0), et si vous appliquez la fonction <b>ret</b> à cette adresse et essayez d'y exécuter le code, cela entraînera un plantage du programme. <br><br><img src="https://habrastorage.org/webt/38/fa/ba/38fabavrj2kahtqh0_ruuxiigaa.jpeg"><br><br>  Nous pouvons donc utiliser ces types d'adresses pour savoir où ces gadgets nettoient la <b>pile de popping</b> . <br><br>  Je vais donner un exemple simple.  Supposons que nous ayons deux exemples de <b>sondes</b> différents, le piège <b>piège</b> et le <b>piège d'</b> <b>arrêt</b> .  Supposons, avec l'aide de la <b>sonde, que</b> nous allons "sonder" une adresse, supposons qu'elle commence par 4 et se termine par huit: 0x4 ... 8, et derrière elle se trouve la prochaine adresse de la forme 0x4 ... C.  Hypothétiquement, nous pouvons supposer que l'une de ces deux adresses est l'adresse du gadget <b>popping de pile</b> . <br><br>  Le <b>piège piège</b> obtiendra zéro adresses 0x0 et 0x0, et laissera le gadget <b>stop s'arrêter</b> avoir des adresses arbitraires comme 0xS ... 0xS ..., cela n'a pas d'importance.  Ce gadget d'arrêt pointe vers le code sleep (10), provoquant une pause du programme. <br><br>  Commençons par l'opération de <b>sonde</b> , qui efface certains registres et retourne dans l'ordre suivant: <b>pop rax;</b>  <b>ret</b> .  Que va-t-il se passer?  Lorsque le système passe à cette adresse, le pointeur de pile se déplace au milieu de notre gadget.  Que va faire le gadget ici?  À droite, effectuez l'opération <b>pop rax</b> . <br><br><img src="https://habrastorage.org/webt/i2/eu/zr/i2euzrwlujsohfb4dl-szdeasac.jpeg"><br><br>  Et puis suit <b>ret</b> , qui déplacera la fonction vers la ligne supérieure du gadget, c'est-à-dire, pour <b>arrêter</b> , et la fonction s'arrêtera sans planter le programme entier.  Ainsi, à l'aide de ce gadget, un attaquant peut dire que l'adresse de <b>sonde</b> appartient à l'une de ces fonctions, ce qui efface la pile, car la connexion client serveur est ouverte. <br><br>  Supposons maintenant que la deuxième adresse de <b>sonde</b> pointe vers quelque chose comme <b>xor rax, rax, ret</b> pour un registre. <br><br><img src="https://habrastorage.org/webt/kw/5t/r3/kw5tr3vdtrqedphe0onl6ec-wa0.jpeg"><br><br>  Alors, que se passe-t-il si nous essayons de passer à ce gadget?  Notez qu'il n'efface rien sur la pile, il modifie simplement le contenu des registres.  Nous allons donc faire un retour à l'adresse 0x0 située ci-dessus.  Et cela entraînera le crash du système.  La connexion client au serveur sera rompue et le pirate comprendra qu'il ne s'agit pas d'un gadget pour effacer la pile de <b>pile</b> . <br><br>  De cette façon, vous pouvez utiliser une série de pièges et de gadgets plus étranges, par exemple, vous pouvez effacer deux éléments de la pile.  Pour ce faire, il vous suffit de placer une autre instruction de <b>déroutement</b> ici, et si ce gadget n'efface pas deux éléments, vous vous retrouverez dans l'un de ces déroutements, et le code cessera de s'exécuter.  Le matériel de la conférence décrit une chose appelée <b>gadget BROP,</b> qui est utile si vous n'aimez pas revenir à la programmation.  Mais aujourd'hui, je vais également vous expliquer comment utiliser ces simples gadgets <b>pop</b> pour lancer une attaque similaire.  Une fois que vous aurez compris cela, gérer un <b>gadget BROP</b> sera beaucoup plus facile. <br><br>  Mais comprenez-vous tous comment nous pouvons utiliser la fonction de <b>sonde</b> pour ces gadgets?  Supposons que vous trouviez l'emplacement des extraits de code qui vous permet d'effacer la pile avec la fonction <b>pop</b> , supprimez-en un élément, mais vous ne savez pas vraiment dans quel registre cette fonction <b>pop</b> fonctionnera.  Vous savez juste qu'elle est déjà prête à être exécutée.  Mais vous devez savoir dans quel registre ces gadgets <b>pop</b> fonctionneront, car dans une architecture 64 bits, les registres contrôlent l'emplacement des arguments de la fonction que vous souhaitez appeler. <br><br>  Ainsi, notre objectif est de pouvoir créer des gadgets qui nous permettront de supprimer les valeurs que nous mettons dans certains registres de pile, et finalement nous lancerons un appel <b>système appel système</b> , ce qui nous permettra de faire quelque chose de mal. <br>  Alors maintenant, nous devons déterminer quels registres sont utilisés par <b>les</b> gadgets <b>pop</b> . <br><br><img src="https://habrastorage.org/webt/xp/w-/hw/xpw-hw9rdgd2argq0yx6xgi3ece.jpeg"><br><br>  Pour ce faire, nous pouvons profiter de l'appel système de pause.  Si l'appel système est suspendu, l'exécution du programme est suspendue et il n'accepte aucun argument.  Et cela signifie que le système ignore tout dans les registres. <br><br>  En fait, pour trouver l'instruction de pause que nous exécutons, vous pouvez lier tous ces gadgets <b>pop</b> afin que nous puissions tous les mettre sur la pile, et entre chacun d'eux, nous <b>insérons un numéro d'appel système</b> pour faire une pause.  Ensuite, nous verrons si nous pouvons "suspendre" le programme de cette façon.  Permettez-moi de vous donner un exemple concret. <br><br>  Ici, nous mettons un gadget dans la barre d'adresse de retour qui efface les registres <b>RDI</b> et leur applique la fonction <b>ret</b> .  Au-dessus, nous mettrons un <b>numéro d'appel système</b> en pause. <br><br>  Supposons que nous ayons un autre gadget situé au-dessus qui implémente la fonction <b>pop</b> dans un autre registre, par exemple <b>RSI</b> , puis <b>ret</b> .  Et puis nous mettons à nouveau le <b>numéro d'appel système</b> en pause.  Et nous le faisons pour tous les gadgets que nous avons trouvés, puis nous nous retrouvons au sommet de la pile avec l'adresse putative pour <b>syscall</b> . <br><br><img src="https://habrastorage.org/webt/qd/yx/3v/qdyx3vymmlc13o-sceyeimho_ro.jpeg"><br><br>  Rappelez-vous à nouveau comment vous utilisez ces appels système.  Vous devez mettre le <b>numéro syscall</b> dans le registre <b>RAX</b> , puis appeler la fonction <b>libc syscall</b> , qui est sur le point d'effectuer l'appel système demandé. <br><br>  Alors, que se passe-t-il lorsque nous exécutons ce code?  Nous allons venir ici, à la ligne d' <b>adresse ret</b> , nous allons sauter à l'adresse de ce gadget, il faut noter que l'attaquant sait que ce gadget, situé à droite, supprime quelque chose de la pile, mais ne sait pas encore dans quel registre il se trouve. <br><br>  Donc, si nous sautons à l' <b>adresse ret</b> , que se passe-t-il?  Il utilisera la fonction <b>pop</b> pour suspendre l' <b>appel système</b> , dans un registre <b>inconnu</b> de l'attaquant, puis nous continuerons à grimper cette chaîne d'opérations dans la pile. <br><br>  Ce faisant, nous espérons que l'un de ces gadgets exécutera la fonction <b>pop</b> pour le <b>numéro d'appel système</b> dans le registre <b>RAX</b> correspondant.  Donc, au moment où nous arrivons ici, en haut de la pile, sur le chemin de "gâcher" tous les registres qui ont un <b>numéro d'appel système</b> à mettre en pause, nous espérons qu'il nous reste un registre, ce qui devrait être correct.  Parce que si l'un de nos gadgets le fait, et puis, lorsque nous faisons <b>ret</b> , après un certain temps, nous reviendrons ici, en haut de la pile, nous obtiendrons une pause.  Encore une fois, la pause sert de signal à l'attaquant.  Parce que si cette adresse supposée pour <b>syscall</b> était incorrecte, le programme échouera. <br><br>  Alors qu'est-ce qui nous permet de faire cette phase d'attaque?  Nous ne savons toujours pas dans quels registres se trouvent les gadgets <b>pop</b> , mais nous savons que l'un d'eux libérera le <b>RAX</b> que nous voulons contrôler.  Et nous connaissons probablement l'adresse <b>syscall</b> , car nous avons réussi à interrompre le système. <br><br>  Une fois que nous avons fait cela, nous pouvons vérifier ces gadgets un par un et savoir lequel met le système en pause.  En d'autres termes, nous avons tout coupé entre la ligne d' <b>adresse ret</b> et le haut de la pile pour passer directement à l' <b>appel système</b> .  Nous vérifierons si une pause ou une défaillance du système s'est produite.  Si un échec se produit, nous identifions le gadget qui l'a provoqué, par exemple, il est en bas à droite, c'est <b>pop rdi</b> .  Débarrassez-vous de lui et essayez le suivant.  Mettez ici dans la ligne ci-dessus l' <b>adresse ret l'adresse</b> réelle pour <b>syscall</b> .  Pouvons-nous suspendre le programme?  Oui, cela signifie que nous avons appris que ce gadget <b>pop</b> devrait libérer <b>RAX</b> .  Est-ce clair? <br><br>  <b>Public:</b> Donc, un moyen de deviner l'adresse d'un appel système est juste un transfert aveugle de gadgets? <br><br>  <b>Professeur:</b> oui, et il existe des moyens d'optimiser ce processus dans les supports de cours lorsque vous utilisez l'extension de fichier <b>PLT</b> et des choses similaires.  Avec la simple attaque que j'ai décrite, il vous suffit de coller l'adresse ici et de vous assurer qu'elle a provoqué une pause ou non.  À la suite du test, nous découvrons l'emplacement de <b>syscall</b> .  Nous découvrirons où se trouve l'instruction qui exécute <b>pop RAX</b> .  Nous avons également besoin de gadgets qui exécutent également la fonction <b>pop</b> dans certains autres registres.  Vous pouvez effectuer des tests similaires pour eux.  Par conséquent, au lieu de <b>suspendre le numéro d'</b> appel système, utilisez <b>push</b> pour une autre commande qui, par exemple, utilise les arguments <b>RAX</b> et <b>RDI</b> . <br><br>  Ainsi, vous pouvez utiliser le fait que pour tout ensemble particulier de registres que vous souhaitez contrôler, il existe une sorte d' <b>appel système</b> qui donnera à un attaquant un signal pour savoir si vous l'avez réussi ou non.  Ainsi, à la fin de cette phase, vous aurez l'adresse <b>syscall</b> et l'adresse du tas de gadget, qui vous permettent de faire <b>apparaître</b> des registres arbitraires. <br><br>  Et maintenant passons à la 4ème étape, qui sera appelée <b>écriture</b> - enregistrement.  La quatrième étape consiste à enregistrer un appel système.  Pour appeler en <b>écriture</b> , nous devons disposer des gadgets suivants: <br><br>  <b>pop rdi, ret;</b> <b><br></b>  <b>pop rsi, ret;</b> <b><br></b>  <b>pop rdx, ret;</b> <b><br></b>  <b>pop rax, ret;</b> <b><br></b>  <b>syscall</b> <br><br><img src="https://habrastorage.org/webt/kj/1h/ds/kj1hdsjhh1509eliv3vjxte7nw4.jpeg"><br><br>  Comment ces registres sont-ils utilisés par un appel système?  Le premier est le socket, ou, plus généralement, le descripteur de fichier que vous allez transférer pour l'écriture.  Le second est le tampon, le troisième est la longueur de ce tampon, le quatrième est le numéro d'appel système et le cinquième est l' <b>appel système</b> lui-même. <br><br>  Donc, si nous trouvons tous ces gadgets, nous pouvons contrôler les valeurs qui sont incorporées dans les arguments, qui, à leur tour, sont placées dans ces registres, car nous les avons simplement «poussés» sur la pile. <br><br>  Que devrait être une prise?  Ici, nous devons deviner un peu.  Vous pouvez profiter du fait que Linux limite le nombre de connexions ouvertes simultanées pour un fichier qui atteint une valeur de 2024. Et aussi qu'il devrait être le minimum de tous les disponibles. <br><br>  Je me demande ce que nous allons insérer dans le pointeur tampon?  C'est vrai, nous avons l'intention d'utiliser le fragment de texte du programme ici, nous allons le mettre dans un pointeur quelque part dans le code du programme.  Cela nous permet de lire le fichier binaire hors de la mémoire en utilisant l'appel client correct à partir du socket.  Ensuite, l'attaquant peut prendre ce fichier binaire, l'analyser hors ligne hors ligne, en utilisant <b>GDB</b> ou un autre outil pour savoir où tout cela se trouve.  L'attaquant sait que maintenant, chaque fois que le serveur «plante», le même ensemble aléatoire de choses y sera stocké.  Alors maintenant qu'un attaquant peut trouver les adresses et les décalages du contenu de la pile, il peut attaquer ces gadgets directement.  Il peut attaquer directement d'autres vulnérabilités, comprendre comment ouvrir le shell et autres.  En d'autres termes, à l'endroit où vous avez fourni le binaire avec le pirate, vous avez été vaincu. <br><br>  Voici comment fonctionne l'attaque <b>BROP</b> .  Comme je l'ai dit, dans les documents de cours, il existe de nombreuses façons d'optimiser ces processus, mais vous devez d'abord comprendre le matériau principal, sinon l'optimisation perd son sens.  Par conséquent, vous pouvez me parler d'optimisation individuellement ou après le cours. <br><br>  Pour l'instant, il suffit de dire que ce sont les bases de la façon dont vous pouvez lancer une attaque <b>BROP</b> .  Vous devez trouver le gadget d' <b>arrêt</b> , rechercher les gadgets qui remplissent la fonction d'entrées de pile <b>pop</b> , savoir dans quels registres ils se trouvent, où se trouve <b>syscall</b> , puis lancer l' <b>écriture</b> , en fonction des informations obtenues. <br><br><img src="https://habrastorage.org/webt/xb/-q/iq/xb-qiqqwytbciwpbxiow5i_fovi.jpeg"><br><br>  Alors, passez rapidement en revue le sujet, comment vous défendez-vous contre <b>BROP</b> ?  Donc, la chose la plus évidente que vous avez est la re-randomisation.  Puisque le fait que les serveurs «tombés en panne» ne réapparaissent pas, ne créent pas d'eux-mêmes des versions aléatoires, agit comme un signal qui donne à un attaquant la possibilité de tester diverses hypothèses sur le fonctionnement des programmes. <br><br>  Un moyen facile de vous protéger est de vous assurer que vous <b>exécutez</b> plutôt que <b>fork</b> lorsque vous relancez votre processus.  Parce que lorsque vous exécutez le processus, vous créez un tout nouvel espace situé au hasard, du moins c'est ce qui se passe sous Linux.  Sous Linux, lorsque vous compilez à l'aide de <b>PIE</b> , <b>Position Independent Execution</b> , un exécutable indépendant de l'emplacement, lorsque vous utilisez <b>exec,</b> vous n'obtenez qu'un nouvel espace d'adressage aléatoire. <br><br>  La deuxième façon consiste simplement à utiliser Windows, car ce système d'exploitation n'a fondamentalement pas l'équivalent d'une fonction <b>fork</b> .  Cela signifie que lorsque vous relancez un serveur sous Windows, il aura toujours un nouvel espace d'adressage aléatoire. <br><br>  Quelqu'un ici a demandé ce qui se passerait si, après un dysfonctionnement du serveur, il ne se déconnectait pas?  Donc, si lors d'une panne de serveur, nous «capturons» cette erreur et gardons la connexion ouverte pendant un certain temps, nous pouvons confondre l'attaquant afin qu'il ne reçoive pas de signal sur l'échec et pense qu'il a trouvé la bonne adresse. <br><br>  Dans ce cas, votre attaque <b>BROP</b> se transformera en attaque <b>DOS</b> .  Parce que vous venez de recevoir tous les processus zombies potentiels qui existent.  Ils sont inutiles, mais vous ne pouvez pas les laisser aller plus loin, sinon vous devrez supprimer ces informations. <br><br>  Une autre chose à laquelle vous pourriez penser est de faire le contrôle des frontières dont nous avons parlé auparavant.  Les matériaux de la conférence disent que cette méthode est improductive, car elle est 2 fois plus chère, mais vous pouvez toujours l'utiliser. <br><br>  Voici comment <b>BROP</b> fonctionne.  Quant aux devoirs, une question plus délicate y est posée: que faire si vous utilisez un hash de l'heure actuelle?  Autrement dit, la durée pendant laquelle vous redémarrez le programme.  Est-ce suffisant pour empêcher ce type d'attaque?  Notez que le hachage ne vous fournit pas comme par magie des bits d'entropie si les données que vous entrez dans le hachage sont facilement prévisibles.  Si votre hachage contient des milliards de bits, cela n'a pas d'importance.  Mais si vous n'avez que quelques significations, l'attaquant les devinera.  Bien sûr, il est préférable d'utiliser un hachage temporel aléatoire que de ne rien utiliser pour se protéger contre un pirate informatique, mais cela ne vous fournira pas la sécurité sur laquelle vous devez compter. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xSQxaie_h1o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La version complète du cours est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418099/">https://habr.com/ru/post/fr418099/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418087/index.html">80% des caisses libre-service sont à risque</a></li>
<li><a href="../fr418089/index.html">Présentation de la fraiseuse CNC SolidCraft</a></li>
<li><a href="../fr418091/index.html">Liste d'articles et de littérature sur NAS</a></li>
<li><a href="../fr418093/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 3: Buffer Overflows: Exploits and Protection, Part 2</a></li>
<li><a href="../fr418095/index.html">À propos de l'appareil de fonctionnalité de test intégrée dans Rust (traduction)</a></li>
<li><a href="../fr418101/index.html">Étymologie des termes informatiques</a></li>
<li><a href="../fr418103/index.html">Le chef de Roscosmos s'est souvenu de sa première fusée et a partagé ses plans pour l'avenir</a></li>
<li><a href="../fr418105/index.html">Pourquoi l'ouverture de YouTube dans Firefox ou Edge peut prendre 5 fois plus de temps que dans Google Chrome</a></li>
<li><a href="../fr418107/index.html">Définition d'un préfixe pour le scanner MINDEO CS2190 pour travailler avec 1C en mode pause clavier</a></li>
<li><a href="../fr418111/index.html">L'apprentissage en ligne moderne: défis et tendances</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>