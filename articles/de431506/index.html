<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✊ 🔤 👩🏾‍🤝‍👨🏻 Xcode und erweitertes Debugging in LLDB: Teil 1 🧒🏿 👇🏽 ⁉️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, heute schlage ich vor, dass Sie sich mit der Übersetzung eines Artikels über das Debuggen von iOS-Anwendungen mit LLDB vertraut machen. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Xcode und erweitertes Debugging in LLDB: Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431506/"> Guten Tag, heute schlage ich vor, dass Sie sich mit der Übersetzung eines Artikels über das Debuggen von iOS-Anwendungen mit LLDB vertraut machen. <br><br>  Einer der faszinierendsten Teile der WWDC 2018-Präsentation, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Xcode und erweitertes Debugging in LLDB,</a> wurde von Apple-Ingenieuren eingeführt.  Sie gaben einige nützliche Tipps zur Verwendung von Haltepunkten in Xcode und Low-Level-Debugger (LLDB), um den Prozess des Debuggens von Fehlern zu optimieren, wo immer der Entwickler sie abfing. <br><br>  Der Artikel besteht aus drei Teilen. Wir werden die wichtigsten Punkte durchgehen, die auf der WWDC gesagt wurden.  Ich habe speziell ein Demo-Projekt erstellt, um zu verstehen, wie verschiedene Arten von Haltepunkten (Haltepunkten) in Verbindung mit LLDB zum Erfassen und Debuggen von Fehlern in Ihrer Anwendung verwendet werden. <br><a name="habracut"></a><br>  <b>Demo-Projekt</b> <br><br>  Ich habe ein Vorlagenaufgabenprojekt erstellt, das jeder iOS-Entwickler auf die eine oder andere Weise getroffen hat.  Es ist sehr wichtig zu verstehen, wie es funktioniert, bevor Sie sich mit dem Lesen des Artikels befassen.  Hier sind die Hauptfunktionen des Demo-Projekts: <br><br><ul><li>  Beim Öffnen sehen wir einen Tabellenansichts-Controller, der eine Liste von Posts lädt. </li><li>  Beim Scrollen nach unten lädt der Table View Controller neue Beiträge. </li><li>  Insgesamt können Sie Beiträge <b>7 Mal</b> laden. </li><li>  Sie können die Liste der Beiträge aktualisieren, indem Sie sie mit dem Aktualisierungscontroller nach unten ziehen (zum Aktualisieren nach unten ziehen). </li><li>  In der Navigationsleiste oben befinden sich 2 Labels (Labels), die anzeigen, wie viele Beiträge heruntergeladen wurden (rechtes Label) und wie oft der Benutzer bereits Beiträge hochgeladen hat (linkes Label). </li></ul><br>  Sie können das Demo-Projekt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> herunterladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,</a> wenn Sie Objective-C bevorzugen. <br><br>  Wenn Sie Swift bevorzugen, dann <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von hier aus</a> . <br><br>  Starten Sie Xcode und los geht's! <br><br>  <b>Fehler zu beheben!</b> <br><br>  Sie haben sich also mit dem Projekt vertraut gemacht und wahrscheinlich die folgenden Fehler festgestellt: <br><br><ul><li>  Beim Herunterziehen der Tabelle aktualisiert die Auffrischung die Beiträge nicht. </li><li>  Der Benutzer erhält keine Benachrichtigung (mithilfe des Alert-Controllers), dass die HTTP-Anforderung aufgrund von Verbindungsproblemen nicht abgeschlossen wurde. </li><li>  Sie können Beiträge <b>mehr als</b> 7 Mal laden. </li><li>  Die linke Anzeige (Beschriftung) in der Navigationsleiste, die für die Zählung der Anzahl der Downloads verantwortlich ist, funktioniert nicht. </li></ul><br>  <i>Eine wichtige Regel:</i> Bis zum Ende dieses Artikels stoppen Sie den Compiler nicht und starten die Anwendung nach dem ersten Start nicht neu.  Sie korrigieren Fehler während der Programmausführung. <br><br>  <b>Die Macht der Unterrichtsteams</b> <br><br>  Kommen wir zum ersten Fehler. <br><br>  <i>1. Wenn Sie die Tabelle nach unten ziehen, werden die Beiträge nicht aktualisiert.</i> <br><br>  So reproduzieren Sie den Fehler: <br><br><ul><li>  Starten Sie die Anwendung, die ersten 10 Beiträge sind bereits geladen. </li><li>  Scrollen Sie nach unten, um weitere Beiträge zu laden. </li><li>  Scrollen Sie zum Anfang der Tabelle und ziehen Sie sie zum Aktualisieren nach unten. </li><li>  Neue Beiträge werden <b>nicht</b> geladen und alte verschwinden nicht und der Beitragszähler wird nicht zurückgesetzt. </li></ul><br>  Der Standardansatz zur Korrektur solcher Fehler besteht darin, zu untersuchen, was in der Methodenauswahl geschieht, die für das UIRefreshControl unserer Tabelle verantwortlich ist.  <i>Wechseln</i> Sie zum <i>PostsTableViewController</i> im Abschnitt <i>Pragma-Markierungsunterstützung für Steuerelemente</i> <i>aktualisieren</i> .  Aus der Funktion setupRefreshControl können wir schließen, dass der Selektor, der für die Aktualisierung der Beiträge verantwortlich ist, die Funktion <i>reloadNewPosts</i> ist.  Fügen wir der ersten Zeile dieser Funktion einen Haltepunkt hinzu und finden heraus, was genau hier passiert.  Scrollen Sie nun zum Anfang der Tabelle und ziehen Sie den Bildschirm zum Aktualisieren. <br><br><img src="https://habrastorage.org/webt/y3/rf/n0/y3rfn0yze8cpzuo8ynnycdyjmcu.png" alt="Bild"><br>  <i>Ziel-c</i> <br><br><img src="https://habrastorage.org/webt/mj/ll/mc/mjllmcygydlepgcvosfa9bkzta4.png" alt="Bild"><br>  <i>Schnell</i> <br><br>  Der Debugger wurde an dem von Ihnen festgelegten Haltepunkt angehalten.  Klicken Sie für weitere Studien auf die Schaltfläche "Block überspringen" des Debuggers. <br><br><img src="https://habrastorage.org/webt/p_/cg/kh/p_cgkha7n4s4t5n31x_ovls0dh8.png" alt="Bild"><br>  <i>Ziel-c</i> <br><br><img src="https://habrastorage.org/webt/nn/rx/x6/nnrxx6h-k0zpifidj3fwjhamhby.png" alt="Bild"><br>  <i>Schnell</i> <br><br>  Jetzt haben wir ein Verständnis dafür, was falsch läuft! <br><br>  Die if-Bedingung ist nicht erfüllt (dh die boolesche Variable isPullDownToRefreshEnabled wird auf NO gesetzt), und der Code zum Aktualisieren von Posts wird übersprungen. <br><br>  Der Standardansatz besteht darin, den Compiler anzuhalten. Anschließend müssen Sie isPullDownToRefreshEnabled auf YES / true setzen. Dies würde das Problem lösen.  Es wäre jedoch viel bequemer, zuerst unsere Hypothese zu testen, bevor Sie Änderungen am Code vornehmen, ohne den Compiler stoppen zu müssen.  Hier erweisen sich die Debugger-Befehlsbefehle als sehr nützlich. <br><br>  Doppelklicken Sie auf den installierten Haltepunkt oder klicken Sie mit der rechten Maustaste auf "Haltepunkt bearbeiten" und klicken Sie auf die Schaltfläche "Aktion hinzufügen".  Wählen Sie auch den Aktionstyp "Debugger-Befehl". <br><br><img src="https://habrastorage.org/webt/nv/t4/1l/nvt41lhf9rvk-avgsxxvlhukey0.png" alt="Bild"><br><br>  Jetzt müssen wir die Eigenschaft isPullDownToRefreshEnabled auf YES / true setzen.  Fügen Sie dem Debugger den folgenden Befehl hinzu. <br><br>  Ziel-c <br><br><pre><code class="objectivec hljs">expression <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isPullDownToRefreshEnabled = <span class="hljs-literal"><span class="hljs-literal">YES</span></span></code> </pre> <br><br><img src="https://habrastorage.org/webt/pr/lg/nf/prlgnfmlxs2wbfgtpihv_rmzhe0.png" alt="Bild"><br><br>  Schnell <br><br><pre> <code class="objectivec hljs">expression <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isPullDownToRefreshEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/vs/vd/ke/vsvdkeecwr9xehdhzv2-g_m6fuu.png" alt="Bild"><br><br>  Aktivieren Sie als Nächstes das Kontrollkästchen "Nach Auswertung von Aktionen automatisch fortfahren".  Er ist dafür verantwortlich, dass der Debugger <b>nicht</b> jedes Mal am Haltepunkt stoppt und automatisch mit dem neu hinzugefügten Befehl weiterarbeitet.  Scrollen Sie nun zum Anfang der Tabelle und ziehen Sie sie zum Aktualisieren nach unten. <br><br>  Voila, die neuen Beiträge wurden geladen und die alten ersetzt, und dementsprechend wurde der Beitragszähler aktualisiert. <br><br>  Wir haben das erste Problem gelöst, holen Sie sich Ihre Anti-Bug-Waffe und fahren mit dem zweiten fort. <br><br>  <i>2. Der Benutzer erhält keine Benachrichtigung (mithilfe des Alert-Controllers), dass die HTTP-Anforderung aufgrund von Verbindungsproblemen nicht abgeschlossen wurde.</i> <br><br>  So reproduzieren Sie den Fehler: <br><br><ul><li>  Trennen Sie die Internetverbindung in Ihrem iPhone / Simulator. </li><li>  Scrollen Sie zum Anfang der Tabelle und ziehen Sie sie zum Aktualisieren nach unten. </li><li>  Neue Beiträge werden aufgrund eines Internetverbindungsfehlers nicht heruntergeladen. </li><li>  Dem Benutzer wird keine Fehlerbenachrichtigung angezeigt. </li></ul><br>  Gehen Sie zum <i>PostsTableViewController</i> im Abschnitt <i>Netzwerkmarkierung</i> .  Es hat genau eine <i>loadPosts-</i> Funktion.  Es verwendet eine allgemeine Netzwerkmanagerinstanz, um eine GET-HTTP-Anforderung auszuführen, die ein Array von Posts über einen Abschluss-Handler "Erfolg" oder <i>NSError</i> über einen Abschluss-Handler "Fehler" <i>zurückgibt</i> . <br><br>  Wir müssen den Code zum "erfolglosen" Abschluss hinzufügen, um einen Alert-Controller anzuzeigen.  Wenn Sie zum Abschnitt Pragma-Markierungsunterstützung gehen, werden Sie <i>feststellen</i> , dass bereits eine Funktion <i>PresentNetworkFailureAlertController vorhanden</i> ist, die für die Anzeige des gewünschten <i>Alarmcontrollers</i> verantwortlich ist.  Alles was wir tun müssen, ist diese Funktion innerhalb eines "fehlgeschlagenen" Abschlusses in <i>loadPosts aufzurufen</i> . <br>  Der traditionelle Weg besteht darin, den Simulator anzuhalten und den gewünschten Code hinzuzufügen.  Lass uns den anderen Weg gehen! <br><br>  Fügen Sie nach der Zeile einen Haltepunkt innerhalb des "nicht erfolgreichen" Abschlusses hinzu <br><br>  Ziel-c <br><br><pre> <code class="objectivec hljs">[<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> updateUIForNetworkCallEnd];</code> </pre> <br>  Schnell <br><br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateUIForNetworkCallEnd()</code> </pre> <br>  Doppelklicken Sie auf den installierten Haltepunkt oder klicken Sie mit der rechten Maustaste auf "Haltepunkt bearbeiten" und klicken Sie auf die Schaltfläche "Aktion hinzufügen".  Wählen Sie auch den Aktionstyp "Debugger-Befehl". <br><br>  Fügen Sie dem Debugger den folgenden Befehl hinzu. <br><br>  Ziel-c <br><br><pre> <code class="objectivec hljs">expression [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> presentNetworkFailureAlertController]</code> </pre> <br><img src="https://habrastorage.org/webt/yk/uc/c8/ykucc8u3xzycqniypviaxv-6xtq.png" alt="Bild"><br><br>  Schnell <br><br><pre> <code class="objectivec hljs">expression <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.presentNetworkFailureAlertController()</code> </pre> <br><img src="https://habrastorage.org/webt/sh/wt/vc/shwtvcvn7duukyn1dv6riwzd2xi.png" alt="Bild"><br><br>  Stellen Sie sicher, dass das Kontrollkästchen "Nach Auswertung von Aktionen automatisch fortfahren" aktiviert ist. <br>  Scrollen Sie bei ausgeschaltetem Internet zum Anfang der Tabelle und ziehen Sie sie zum Aktualisieren nach unten. Sie können auch zum Ende der Tabelle scrollen und versuchen, neue Beiträge zu laden.  Folgendes werden Sie sehen: <br><br><img src="https://habrastorage.org/webt/qu/gh/qe/qughqe1uswydvwtwferl3ctgyra.png" alt="Bild"><br><br>  Was wir gerade getan haben, heißt <i>"</i> Injizieren <i>" des</i> Codes mit einem Befehl, der dem Debugger an einem bestimmten Haltepunkt hinzugefügt wurde. <br><br>  <b>Eine kleine Zusammenfassung</b> <br><br>  Lassen Sie uns noch einmal auflisten, was wir mit den Debugger-Befehlen tun können, die dem Haltepunkt hinzugefügt wurden: <br><br><ul><li>  Arbeiten Sie mit einem vorhandenen Eigenschaftswert. </li><li>  Fügen Sie eine neue Codezeile hinzu. </li></ul><br>  Beide Aufgaben wurden während der Programmausführung erledigt.  Wir müssen den Compiler im Wesentlichen nicht stoppen, um Fehler zu beheben und die Anwendung neu zu starten. <br><br>  <b>Was kommt als nächstes?</b> <br><br>  Des Weiteren mache ich Sie auf den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zweiten Teil des Artikels aufmerksam</a> , in dem wir weitere Fehler korrigieren und mehr über eine andere Art von Haltepunkt (Haltepunkt) erfahren - den Beobachtungspunkt (Beobachtungspunkt). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431506/">https://habr.com/ru/post/de431506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431496/index.html">Wie Technologie speziellen Klassenlehrern hilft</a></li>
<li><a href="../de431498/index.html">WebP wird das Web bald übernehmen, aber es wird nicht lange dauern</a></li>
<li><a href="../de431500/index.html">Datenbanken und Kubernetes (Rückblick und Videobericht)</a></li>
<li><a href="../de431502/index.html">Konferenz für iOS-Entwickler Kolesa Mobile 3.0. Videobericht</a></li>
<li><a href="../de431504/index.html">Phishing - funktioniert. Chronik des Diebstahls des iPhone XS, gefolgt von iCloud-Datendiebstahl</a></li>
<li><a href="../de431508/index.html">Effizientes Transaktionsmanagement im Frühjahr</a></li>
<li><a href="../de431510/index.html">So sammeln Sie Informationen aus der Kontur. Einkauf mit Selen</a></li>
<li><a href="../de431512/index.html">Eine kleine Studie über die Eigenschaften eines einfachen U-Netzes, eines klassischen Faltungsnetzwerks zur Segmentierung</a></li>
<li><a href="../de431514/index.html">Interview für Interviewer</a></li>
<li><a href="../de431516/index.html">Ein Tag im Leben eines Finanzberaters</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>