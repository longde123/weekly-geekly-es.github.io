<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪ╡ЁЯП┐ ЁЯжЗ ЁЯСйЁЯП╗тАНЁЯЪТ рд╡рд┐рдШрдЯрди рд╢реЗрдбреНрд╕ рдФрд░ рд╡рд┐рд╢реНрд╡ рдЕрдиреНрд╡реЗрд╖рдг ЁЯМЦ тмЬя╕П ЁЯЪ║</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рднрд╛рдЧ 1: рд╡рд┐рдШрдЯрди рд╢реИрдбрд░ 
 рднрдВрдЧ shader рдПрдХ рд╕реБрдВрджрд░ рдкреНрд░рднрд╛рд╡ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕реЗ рдмрдирд╛рдирд╛ рдФрд░ рд╕рдордЭрдирд╛ рдЖрд╕рд╛рди рд╣реИ; рдЖрдЬ рд╣рдо рдЗрд╕реЗ Unity Shader Graph рдореЗрдВ рдмрдирд╛рдПрдВрдЧреЗ , рдФрд░ HLSL рдкрд░ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╡рд┐рдШрдЯрди рд╢реЗрдбреНрд╕ рдФрд░ рд╡рд┐рд╢реНрд╡ рдЕрдиреНрд╡реЗрд╖рдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427401/"><h1>  рднрд╛рдЧ 1: рд╡рд┐рдШрдЯрди рд╢реИрдбрд░ </h1><br>  <strong>рднрдВрдЧ shader</strong> рдПрдХ рд╕реБрдВрджрд░ рдкреНрд░рднрд╛рд╡ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕реЗ рдмрдирд╛рдирд╛ рдФрд░ рд╕рдордЭрдирд╛ рдЖрд╕рд╛рди рд╣реИ;  рдЖрдЬ рд╣рдо рдЗрд╕реЗ <strong>Unity Shader Graph рдореЗрдВ</strong> <strong>рдмрдирд╛рдПрдВрдЧреЗ</strong> , рдФрд░ <strong>HLSL</strong> рдкрд░ рднреА рд▓рд┐рдЦреЗрдВрдЧреЗред <br><br>  рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдХрд┐ рд╣рдо рдХреНрдпрд╛ рдмрдирд╛рдПрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce4/46c/b99/ce446cb9949fdee3ed4b29d121aa1c89.gif"></div><br><br><h1>  рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ </h1><br>  рдПрдХ <strong>рднрдВрдЧ</strong> shader рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ "Shader рдЧреНрд░рд╛рдлрд╝" shader рдореЗрдВ <strong>AlphaClipThreshold</strong> рдорд╛рди рдХреЗ рд╕рд╛рде <strong>рдХрд╛рдо</strong> рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдпрд╛ <strong>рдХреНрд▓рд┐рдк</strong> рдирд╛рдордХ HLSL рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ, рд╣рдо shader рдХреЛ <strong>рдмрдирд╛рд╡рдЯ</strong> рдФрд░ <strong>рдореВрд▓реНрдп рдХреЗ</strong> рдЖрдзрд╛рд░ рдкрд░ <strong>рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рд░реЗрдВрдбрд░ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВ</strong> ред  рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <strong>рд╕рдлреЗрдж рднрд╛рдЧ рддреЗрдЬреА рд╕реЗ рдШреБрд▓рддреЗ рд╣реИрдВ</strong> ред <br><a name="habracut"></a><br>  рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмрдирд╛рд╡рдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1cc/f52/1cd/1ccf521cdd1ba16cdaa45b33ae50fec4.png"></div><br>  рдЖрдк рдЕрдкрдиреА рдЦреБрдж рдХреА - рд╕реАрдзреА рд░реЗрдЦрд╛рдПрдВ, рддреНрд░рд┐рдХреЛрдг рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреБрдЫ рднреА!  рдмрд╕ рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ <strong>рд╕рдлреЗрдж рд╣рд┐рд╕реНрд╕реЗ рддреЗрдЬреА рд╕реЗ рдШреБрд▓рддреЗ рд╣реИрдВ</strong> ред <br><br>  рдореИрдВрдиреЗ рдпрд╣ рдмрдирд╛рд╡рдЯ рдлрд╝реЛрдЯреЛрд╢реЙрдк рдореЗрдВ рдХреНрд▓рд╛рдЙрдб рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдИ рдереАред <br><br>  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдк рдХреЗрд╡рд▓ Shader рдЧреНрд░рд╛рдлрд╝ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЖрдк HLSL рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ, рддрдм рднреА рдореИрдВ рдЗрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдкрдврд╝рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕рдордЭрдиреЗ рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╣реИ рдХрд┐ рдпреВрдирд┐рдЯреА Shader рдЧреНрд░рд╛рдлрд╝ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br><hr><br><h1>  HLSL </h1><br>  рдПрдЪрдПрд▓рдПрд╕рдПрд▓ рдореЗрдВ, рд╣рдо <strong>рдХреНрд▓рд┐рдк (x)</strong> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  <strong>рдХреНрд▓рд┐рдк (x)</strong> рдлрд╝рдВрдХреНрд╢рди рд╕рднреА рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ <strong>рд╢реВрдиреНрдп</strong> рд╕реЗ рдХрдо рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддрд╛ <strong>рд╣реИ</strong> ред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рд╣рдо <strong>рдХреНрд▓рд┐рдк (-1)</strong> рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдпрдХреАрди рд╣реИ рдХрд┐ рд╢реЗрдбрд░ рдХрднреА рднреА рдЗрд╕ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Microsoft рдбреЙрдХреНрд╕</a> рдореЗрдВ <strong>рдХреНрд▓рд┐рдк рдХреЗ</strong> рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h4>  рдЧреБрдг </h4><br>  Shader рдХреЛ рджреЛ рдЧреБрдгреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, <strong>Dissolve рдмрдирд╛рд╡рдЯ</strong> рдФрд░ <strong>рд░рд╛рд╢рд┐</strong> (рдЬреЛ рд╕рдВрдкреВрд░реНрдг рдирд┐рд╖реНрдкрд╛рджрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░реЗрдЧрд╛)ред  рдЕрдиреНрдп рдЧреБрдгреЛрдВ рдФрд░ рдЪрд░реЛрдВ рдХреЗ рд╕рд╛рде, рдЖрдк рдЙрдиреНрд╣реЗрдВ рдЕрдкрдиреА рдкрд╕рдВрдж рдХреА рдЪреАрдЬрд╝ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre><code class="hljs powershell">Properties { //Your other properties //[<span class="hljs-type"><span class="hljs-type">...</span></span>] //Dissolve shader properties _DissolveTexture(<span class="hljs-string"><span class="hljs-string">"Dissolve Texture"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>D) = <span class="hljs-string"><span class="hljs-string">"white"</span></span> {} _Amount(<span class="hljs-string"><span class="hljs-string">"Amount"</span></span>, Range(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0</span></span> }</code> </pre> <br>  CGPROGRAM SubShader (рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЪрд░ рдШреЛрд╖рд┐рдд) рдХреЗ рдмрд╛рдж рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">sampler2D</span></span> _DissolveTexture; <span class="hljs-attribute"><span class="hljs-attribute">half</span></span> _Amount;</code> </pre> <br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдордд рднреВрд▓рдирд╛ред  рдЙрдирдХреЗ рдирд╛рдо рдЧреБрдг рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдирд╛рдореЛрдВ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h4>  рд╕рдорд╛рд░реЛрд╣ </h4><br>  рд╣рдо <strong>рд╡рд┐рдШрдЯрди</strong> рдХреА <strong>рдмрдирд╛рд╡рдЯ рдХрд╛</strong> рдирдореВрдирд╛ рдФрд░ <strong>рд▓рд╛рд▓</strong> рдХрд╛ <strong>рдорд╛рди</strong> рдкреНрд░рд╛рдкреНрдд рдХрд░рдХреЗ <strong>рднреВрддрд▓</strong> рдпрд╛ <strong>рд╡рд┐рдЦрдВрдбрди</strong> рдХрд╛рд░реНрдп рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  PS рд╣рдорд╛рд░реА рдмрдирд╛рд╡рдЯ <strong>рдЧреНрд░реЗрд╕реНрдХреЗрд▓</strong> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИ, рдЕрд░реНрдерд╛рдд, <strong>R</strong> , <strong>G</strong> рдФрд░ <strong>B рдХреЗ рдореВрд▓реНрдп</strong> рд╕рдорд╛рди рд╣реИрдВ, рдФрд░ рдЖрдк <strong>рдЙрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдХреЛ рднреА рдЪреБрди</strong> рд╕рдХрддреЗ <strong>рд╣реИрдВ</strong> ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <strong>рд╕рдлреЗрдж</strong> <strong>(1,1,1) рд╣реИ</strong> , <strong>рдХрд╛рд▓рд╛</strong> рд╣реИ <strong>(0,0,0)</strong> ред <br><br>  рдореЗрд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдореИрдВ рдПрдХ рд╕рддрд╣ shader рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> surf (Input IN, <span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> SurfaceOutputStandard o) { half dissolve_value = tex2D(_DissolveTexture, IN.uv_MainTex).r; <span class="hljs-comment"><span class="hljs-comment">//Get how much we have to dissolve based on our dissolve texture clip(dissolve_value - _Amount); //Dissolve! //Your shader body, you can set the Albedo etc. //[...] }</span></span></code> </pre> <br>  <strong>рдФрд░ рдпрд╣ рдмрд╛рдд рд╣реИ!</strong>  рд╣рдо рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдХрд┐рд╕реА рднреА рдореМрдЬреВрджрд╛ shader рдкрд░ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдПрдХ <strong>рд╡рд┐рдШрдЯрди shader</strong> рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ! <br><br>  рдпрд╣рд╛рдБ <strong>рджреЛ</strong> рдЗрдВрдЬрдиреЛрдВ рдореЗрдВ <strong>рд╡рд┐рдШрдЯрд┐рдд рд╢реИрдбрд░</strong> рдореЗрдВ рдмрджрд▓ рдЧрдпрд╛, рдПрдХрддрд╛ рдЗрдВрдЬрди рдХрд╛ рдорд╛рдирдХ рднреВрддрд▓ <strong>рд╢реЗрдбрд░ рд╣реИ:</strong> <br><br><pre> <code class="hljs pgsql">Shader "Custom/DissolveSurface" { Properties { _Color ("Color", Color) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) _MainTex ("Albedo (RGB)", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} _Glossiness ("Smoothness", Range(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.5</span></span> _Metallic ("Metallic", Range(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.0</span></span> //Dissolve properties _DissolveTexture("Dissolve Texutre", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} _Amount("Amount", Range(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0</span></span> } SubShader { Tags { "RenderType"="Opaque" } LOD <span class="hljs-number"><span class="hljs-number">200</span></span> Cull <span class="hljs-keyword"><span class="hljs-keyword">Off</span></span> //Fast way <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> turn your material <span class="hljs-type"><span class="hljs-type">double</span></span>-sided CGPROGRAM #pragma surface surf Standard fullforwardshadows #pragma target <span class="hljs-number"><span class="hljs-number">3.0</span></span> sampler2D _MainTex; struct <span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> { float2 uv_MainTex; }; half _Glossiness; half _Metallic; fixed4 _Color; //Dissolve properties sampler2D _DissolveTexture; half _Amount; <span class="hljs-type"><span class="hljs-type">void</span></span> surf (<span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> SurfaceOutputStandard o) { //Dissolve <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> half dissolve_value = tex2D(_DissolveTexture, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.uv_MainTex).r; clip(dissolve_value - _Amount); //Basic shader <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> fixed4 c = tex2D (_MainTex, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.uv_MainTex) * _Color; o.Albedo = c.rgb; o.Metallic = _Metallic; o.Smoothness = _Glossiness; o.Alpha = ca; } ENDCG } FallBack "Diffuse" }</code> </pre> <br><hr><br><h1>  рдЫрд╛рдпрд╛рджрд╛рд░ рдЧреНрд░рд╛рдл </h1><br>  рдЕрдЧрд░ рд╣рдореЗрдВ рдПрдХрддрд╛ <strong>рд╢реЗрдбрд░ рдЧреНрд░рд╛рдл</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдХреЛ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ <strong>рдЕрд▓реНрдлрд╛рдХреНрд▓рд┐рдкрдЯреНрд░реЗрд╢реЛрд▓реНрдб</strong> рд╡реИрд▓реНрдпреВ (рдЬреЛ <strong>рдПрдЪрдПрд▓рдПрд╕рдПрд▓</strong> рд╕реЗ <strong>рдХреНрд▓рд┐рдк (x) рдХреА</strong> рддреБрд▓рдирд╛ рдореЗрдВ рдЕрд▓рдЧ рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ <strong>) рдХрд╛</strong> рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдореИрдВрдиреЗ рдПрдХ PBR shader рдмрдирд╛рдпрд╛ред <br><br>  <strong>AlphaClipThreshold</strong> рдлрд╝рдВрдХреНрд╢рди <strong>рд╢реИрдбрд░</strong> рдХреЛ рдЙрди рд╕рднреА рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХрд╛ рдирд┐рд░реНрджреЗрд╢ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рдирдХрд╛ рдореВрд▓реНрдп рдЙрд╕рдХреЗ <strong>рдЕрд▓реНрдлрд╛</strong> рдорд╛рди рд╕реЗ рдХрдо рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдпрд╣ <strong>0.3f рд╣реИ</strong> , рдФрд░ рд╣рдорд╛рд░рд╛ рдЕрд▓реНрдлрд╛ рдорд╛рди <strong>0.2f рд╣реИ</strong> , рддреЛ shader рдЗрд╕ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ <strong>рд░реЗрдВрдбрд░ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛</strong> ред  <strong>AlphaClipThreshold</strong> рдлрд╝рдВрдХреНрд╢рди рдХреЛ <strong>рдПрдХрддрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝</strong> рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">PBR рдорд╛рд╕реНрдЯрд░ рдиреЛрдб</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдирд▓рд┐рдорд┐рдЯреЗрдб рдорд╛рд╕реНрдЯрд░ рдиреЛрдб</a> ред <br><br>  рдпрд╣рд╛рдБ рд╣рдорд╛рд░реЗ рддреИрдпрд╛рд░ shader рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b9/368/ede/1b9368ede92dad1544f3ca702a2924ad.png"></div><br>  рд╣рдо <strong>рд╡рд┐рдШрдЯрди рдмрдирд╛рд╡рдЯ рдХрд╛</strong> рдирдореВрдирд╛ рд▓реЗрддреЗ рд╣реИрдВ <strong>рдФрд░ рд▓рд╛рд▓ рдореВрд▓реНрдп</strong> рдкреНрд░рд╛рдкреНрдд <strong>рдХрд░рддреЗ рд╣реИрдВ</strong> , рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ <strong>рд░рд╛рд╢рд┐</strong> рдорд╛рди рдореЗрдВ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ (рдЬреЛ рдХрд┐ рдПрдХ рд╕рдВрдкрддреНрддрд┐ рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рд╕рдордЧреНрд░ рдирд┐рд╖реНрдкрд╛рджрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝рд╛ рд╣реИ, 1 рдХрд╛ рдЕрд░реНрде рд╣реИ рдкреВрд░реНрдг рд╡рд┐рдШрдЯрди) рдФрд░ рдЗрд╕реЗ <strong>рдЕрд▓реНрдлрд╝рд╛рдХреНрд▓рд┐рдкрдЯреНрд░рд╢реЛрд▓реНрдб</strong> рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред  <strong>рд╣реЛ рдЧрдпрд╛!</strong> <br><br>  рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдХрд┐рд╕реА рднреА рдореМрдЬреВрджрд╛ shader рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдмрд╕ <strong>рдиреЛрдб рдХрдиреЗрдХреНрд╢рдиреЛрдВ</strong> рдХреЛ <strong>AlphaClipThreshold рдкрд░</strong> <strong>рдХреЙрдкреА рдХрд░реЗрдВ</strong> (рдЖрд╡рд╢реНрдпрдХ рдЧреБрдгреЛрдВ рдХреЛ рдпрд╛рдж рди рдХрд░реЗрдВ!)ред  рдЖрдк рдЗрд╕реЗ <strong>рджреЛ рддрд░рдлрд╛</strong> рднреА рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдФрд░ рднреА рд╕реБрдВрджрд░ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ! <br><br><hr><br><h1>  рд╕рдореЛрдЪреНрдЪ рд╡рд┐рдШрдЯрди shader </h1><br>  рдФрд░ рдЕрдЧрд░ рдЖрдк рдЗрд╕рдореЗрдВ <strong>рдХрдВрдЯреВрд░</strong> рдЬреЛрдбрд╝рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ?  рдЪрд▓реЛ рдпрд╣ рдХрд░рддреЗ рд╣реИрдВ! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c59/0db/e64/c590dbe64e954bdc6c7ce1154726e80b.gif"></div><br>  рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рднрдВрдЧ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ, рдХреНрдпреЛрдВрдХрд┐ <em>рдЙрдиреНрд╣реЗрдВ</em> рдЫреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж <em>рд╡реЗ рд╣рдореЗрд╢рд╛ рдХреЗ рд▓рд┐рдП рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ</em> ред  рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рд╣рдо "рд▓рдЧрднрдЧ рднрдВрдЧ" рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ! <br><br>  <strong>HLSL рдореЗрдВ,</strong> рдпрд╣ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ, рдмрд╕ <strong>рдХреНрд▓рд┐рдк рдХреА</strong> рдЧрдгрдирд╛ рдХреЗ рдмрд╛рдж рдХреЛрдб рдХреА рдХреБрдЫ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="hljs powershell">void surf (Input <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>, inout SurfaceOutputStandard o) { //[<span class="hljs-type"><span class="hljs-type">...</span></span>] //After our clip calculations <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dissolve_value - _Amount &lt; .<span class="hljs-number"><span class="hljs-number">05</span></span>f) //outline width = .<span class="hljs-number"><span class="hljs-number">05</span></span>f o.Emission = fixed3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); //emits white color //Your shader body, you can set the Albedo etc. //[<span class="hljs-type"><span class="hljs-type">...</span></span>] }</code> </pre> <br>  <strong>рд╣реЛ рдЧрдпрд╛!</strong> <br><br>  <strong>рд╢реЗрдбрд░ рдЧреНрд░рд╛рдл рдХреЗ</strong> рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп <strong>,</strong> рддрд░реНрдХ рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рд╣реЛрддрд╛ рд╣реИред  рдпрд╣рд╛рдБ рд╕рдорд╛рдкреНрдд shader рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e26/288/1ef/e262881ef6ad042856b345ba2d9f2765.png"></div><br><hr><br>  рд╣рдо рдПрдХ рд╕рд╛рдзрд╛рд░рдг <strong>рд╡рд┐рдШрдЯрди рд╢реИрдбрд░ рдХреЗ</strong> рд╕рд╛рде рдмрд╣реБрдд <strong>рдардВрдбрд╛ рдкреНрд░рднрд╛рд╡</strong> рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ;  рдЖрдк <strong>рдЕрд▓рдЧ-рдЕрд▓рдЧ рдмрдирд╛рд╡рдЯ</strong> рдФрд░ <strong>рдореВрд▓реНрдпреЛрдВ рдХреЗ</strong> рд╕рд╛рде рдкреНрд░рдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ <strong>рд╣реИрдВ</strong> , рд╕рд╛рде рд╣реА рд╕рд╛рде рдХреБрдЫ рдФрд░ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ! <br><br><h1>  рднрд╛рдЧ 2: рд╡рд┐рд╢реНрд╡ рдЕрдиреНрд╡реЗрд╖рдг shader </h1><br>  рдПрдХ <strong>рд╡рд┐рд╢реНрд╡ рдЕрдиреНрд╡реЗрд╖рдг</strong> shader (рдпрд╛ рдПрдХ " <strong>рд╡рд┐рд╢реНрд╡ рд╡рд┐рдШрдЯрдирдХрд░реНрддрд╛ shader</strong> , рдпрд╛ <strong>рд╡реИрд╢реНрд╡рд┐рдХ рд╡рд┐рдШрдЯрди</strong> ") рд╣рдореЗрдВ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЙрдирдХреА рджреВрд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рджреГрд╢реНрдп рдореЗрдВ рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдЫрд┐рдкрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ; рдЕрдм рд╣рдо рдЗрд╕ рддрд░рд╣ рдХреЗ рд╢реЗрдб рдХреЛ <strong>Unity Shader Graph</strong> рдореЗрдВ <strong>рдмрдирд╛рдПрдВрдЧреЗ</strong> рдФрд░ рдЗрд╕реЗ <strong>HLSL</strong> рдореЗрдВ <strong>рд▓рд┐рдЦреЗрдВрдЧреЗ</strong> ред <br><br>  рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдХрд┐ рд╣рдо рдХреНрдпрд╛ рдмрдирд╛рдПрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/228/7bb/169/2287bb1692d36eae92224f36359648a3.gif"></div><br><hr><br><h2>  рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рджреВрд░реА </h2><br>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдореЗрдВ рдХрд┐рд╕реА рджреГрд╢реНрдп рдореЗрдВ <strong>рдХрд┐рд╕реА рд╡рд╕реНрддреБ</strong> рдХреЛ <strong>рднрдВрдЧ</strong> рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдпрджрд┐ рд╡рд╣ <strong>рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реИ</strong> ред  рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА <strong>_Amount</strong> рдкреИрд░рд╛рдореАрдЯрд░ рдХреА рдШреЛрд╖рдгрд╛ рдХреА рд╣реИ, рдЬреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓реБрдкреНрдд рд╣реЛрдиреЗ / рд╡рд┐рдШрдЯрди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЗрд╕реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рдФрд░ рдкреНрд▓реЗрдпрд░ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рд╕реЗ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ <strong>рдкреНрд▓реЗрдпрд░</strong> рдФрд░ <strong>рдСрдмреНрдЬреЗрдХреНрдЯ</strong> рдХреА рд╕реНрдерд┐рддрд┐ рд▓реЗрдиреА рд╣реЛрдЧреАред <br><br><h3>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ </h3><br>  <strong>рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛</strong> <strong>рдпреВрдирд┐рдЯреА рд╢реЗрдбрд░ рдЧреНрд░рд╛рдл</strong> рдФрд░ <strong>рдПрдЪрдПрд▓рдПрд╕рдПрд▓</strong> рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╣реЛрдЧреА: рд╣рдореЗрдВ рдХреЛрдб рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//Updates the _PlayerPos variable in all the shaders //Be aware that the parameter name has to match the one in your shaders or it wont' work Shader.SetGlobalVector("_PlayerPos", transform.position); //"transform" is the transform of the Player }</span></span></code> </pre> <br><hr><br><h2>  рдЫрд╛рдпрд╛рджрд╛рд░ рдЧреНрд░рд╛рдл </h2><br><h4>  рд╡рд╕реНрддреБ рд╕реНрдерд┐рддрд┐ рдФрд░ рдЙрд╕рд╕реЗ рджреВрд░реА </h4><br>  Shader Graph рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо рд╕реНрдерд┐рддрд┐ рдФрд░ рджреВрд░реА рдиреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдерд┐рддрд┐ рдиреЛрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд▓реЗрдЦрди</a> ред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреВрд░реА рдиреЛрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рд▓реЗрдЦрди</a> ред </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7b1/cdb/078/7b1cdb078a844a10451317e40a14df7c.png"></div><br>  PS рдЗрд╕ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рд╕реНрдкреНрд░рд╛рдЗрдЯ рд░реЗрдВрдбрд░рд░реНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ _MainTex рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛, рдЙрд╕рдХрд╛ рд╕реИрдВрдкрд▓ рд▓реЗрдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЙрд╕реЗ рдПрд▓реНрдмрд┐рдбреЛ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЖрдк рдореЗрд░реЗ рдкрд┐рдЫрд▓реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ рдбрд┐рдлреНрдпреВрдЬрд╝ рд╢реЗрдбрд░</a> рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ (рдЬреЛ рд╢реЗрдбрд░ рдЧреНрд░рд╛рдлрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ) рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br><hr><br><h2>  рдПрдЪрдПрд▓рдПрд╕рдПрд▓ (рд╕рддрд╣) </h2><br><h4>  рд╡рд╕реНрддреБ рд╕реНрдерд┐рддрд┐ </h4><br>  рдПрдЪрдПрд▓рдПрд╕рдПрд▓ рдореЗрдВ, рд╣рдо рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдХреЛрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ <strong>рдЗрдирдкреБрдЯ</strong> рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ <strong>рд╡рд░реНрд▓реНрдбрдкреЛрд╕</strong> рдЪрд░ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Input</span></span></span><span class="hljs-class"> </span></span>{ float2 uv_MainTex; float3 worldPos; <span class="hljs-comment"><span class="hljs-comment">//add this and Unity will set it automatically };</span></span></code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпреВрдирд┐рдЯреА рдбреЙрдХреНрдпреВрдореЗрдВрдЯреЗрд╢рди рдкреЗрдЬ рдкрд░,</a> рдЖрдк рдпрд╣ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЗрдирдкреБрдЯ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдЖрдк рдХреМрди рд╕реЗ рдЕрдиреНрдп рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h4>  рджреВрд░реА рд▓рд╛рдЧреВ рдХрд░реЗрдВ </h4><br>  рд╣рдореЗрдВ рд╡рд┐рдШрдЯрди рдХреА рдорд╛рддреНрд░рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдФрд░ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд <strong>рджреВрд░рд╕реНрде</strong> рдлрд╝рдВрдХреНрд╢рди ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Microsoft рдкреНрд░рд▓реЗрдЦрди</a> ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> surf (Input IN, <span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> SurfaceOutputStandard o) { half dissolve_value = tex2D(_DissolveTexture, IN.uv_MainTex).x; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dist = distance(_PlayerPos, IN.worldPos); clip(dissolve_value - dist/ <span class="hljs-number"><span class="hljs-number">6</span></span>f); <span class="hljs-comment"><span class="hljs-comment">//"6" is the maximum distance where your object will start showing //Set albedo, alpha, smoothness etc[...] }</span></span></code> </pre> <br><h3>  рдкрд░рд┐рдгрд╛рдо (3 рдбреА) </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/868/f5c/2e8/868f5c2e803708138c71f84c95e3390c.gif"></div><br><h3>  рдкрд░рд┐рдгрд╛рдо (2D) </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/289/380/e2b/289380e2ba53cbe569621821affc7009.gif"></div><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╡рд╕реНрддреБрдПрдВ "рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ" рднрдВрдЧ рд╣реЛрддреА рд╣реИрдВ, рд╣рдореЗрдВ рдПрдХ рд╕рдЬрд╛рддреАрдп рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рдорд┐рд▓рд╛, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рд╡рд╕реНрддреБ рдХреЗ рдпреВрд╡реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рд╡рдЯ рд╕реЗ "рд╡рд┐рдШрдЯрди рдореВрд▓реНрдп" рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред  (2 рдбреА рдореЗрдВ, рдпрд╣ рдХрдо рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ)ред <br><br><hr><br><h3>  HLSL рдкрд░ 3 рдбреА рд▓реЛрдХрд▓рдпреВрд╡реА рдбрд┐рд╕реЙрд▓реНрд╡реНрдб рд╢реЗрдбрд░ </h3><br><pre> <code class="hljs pgsql">Shader "Custom/GlobalDissolveSurface" { Properties { _Color ("Color", Color) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) _MainTex ("Albedo (RGB)", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} _Glossiness("Smoothness", Range(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.5</span></span> _Metallic("Metallic", Range(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) = <span class="hljs-number"><span class="hljs-number">0.0</span></span> _DissolveTexture("Dissolve texture", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} _Radius("Distance", <span class="hljs-type"><span class="hljs-type">Float</span></span>) = <span class="hljs-number"><span class="hljs-number">1</span></span> //distance <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> we <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> reveal the objects } SubShader{ Tags { "RenderType" = "Opaque" } LOD <span class="hljs-number"><span class="hljs-number">200</span></span> Cull <span class="hljs-keyword"><span class="hljs-keyword">off</span></span> //material <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> two sided CGPROGRAM #pragma surface surf Standard fullforwardshadows #pragma target <span class="hljs-number"><span class="hljs-number">3.0</span></span> sampler2D _MainTex; sampler2D _DissolveTexture; //texture <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> we <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> the dissolve <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> struct <span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> { float2 uv_MainTex; float3 worldPos; //Built-<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> world position }; half _Glossiness; half _Metallic; fixed4 _Color; float3 _PlayerPos; //"Global Shader Variable", contains the Player Position <span class="hljs-type"><span class="hljs-type">float</span></span> _Radius; <span class="hljs-type"><span class="hljs-type">void</span></span> surf (<span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> SurfaceOutputStandard o) { half dissolve_value = tex2D(_DissolveTexture, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.uv_MainTex).x; <span class="hljs-type"><span class="hljs-type">float</span></span> dist = distance(_PlayerPos, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.worldPos); clip(dissolve_value - dist/ _Radius); fixed4 c = tex2D (_MainTex, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.uv_MainTex) * _Color; o.Albedo = c.rgb; o.Metallic = _Metallic; o.Smoothness = _Glossiness; o.Alpha = ca; } ENDCG } FallBack "Diffuse" }</code> </pre> <br><h3>  рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ рдбрд┐рдлреНрдпреВрдЬрд╝ - рдПрдЪрдПрд▓рдПрд╕рдПрд▓ рдкрд░ рд▓реЛрдХрд▓рдпреВрд╡реА рдбрд┐рд╕реЙрд▓реНрд╡реНрдб рд╢реЗрдбрд░ </h3><br><pre> <code class="hljs pgsql">Shader "Custom/GlobalDissolveSprites" { Properties { [PerRendererData] _MainTex("Sprite Texture", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} _Color("Tint", Color) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) [MaterialToggle] PixelSnap("Pixel snap", <span class="hljs-type"><span class="hljs-type">Float</span></span>) = <span class="hljs-number"><span class="hljs-number">0</span></span> [HideInInspector] _RendererColor("RendererColor", Color) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) [HideInInspector] _Flip("Flip", Vector) = (<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) [PerRendererData] _AlphaTex("External Alpha", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} [PerRendererData] _EnableExternalAlpha("Enable External Alpha", <span class="hljs-type"><span class="hljs-type">Float</span></span>) = <span class="hljs-number"><span class="hljs-number">0</span></span> _DissolveTexture("Dissolve texture", <span class="hljs-number"><span class="hljs-number">2</span></span>D) = "white" {} _Radius("Distance", <span class="hljs-type"><span class="hljs-type">Float</span></span>) = <span class="hljs-number"><span class="hljs-number">1</span></span> //distance <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> we <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> reveal the objects } SubShader { Tags { "Queue" = "Transparent" "IgnoreProjector" = "True" "RenderType" = "Transparent" "PreviewType" = "Plane" "CanUseSpriteAtlas" = "True" } Cull <span class="hljs-keyword"><span class="hljs-keyword">Off</span></span> Lighting <span class="hljs-keyword"><span class="hljs-keyword">Off</span></span> ZWrite <span class="hljs-keyword"><span class="hljs-keyword">Off</span></span> Blend One OneMinusSrcAlpha CGPROGRAM #pragma surface surf Lambert vertex:vert nofog nolightmap nodynlightmap keepalpha noinstancing #pragma multi_compile _ PIXELSNAP_ON #pragma multi_compile _ ETC1_EXTERNAL_ALPHA #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> "UnitySprites.cginc" struct <span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> { float2 uv_MainTex; fixed4 color; float3 worldPos; //Built-<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> world position }; sampler2D _DissolveTexture; //texture <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> we <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> the dissolve <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> float3 _PlayerPos; //"Global Shader Variable", contains the Player Position <span class="hljs-type"><span class="hljs-type">float</span></span> _Radius; <span class="hljs-type"><span class="hljs-type">void</span></span> vert(<span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> appdata_full v, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> o) { v.vertex = UnityFlipSprite(v.vertex, _Flip); #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> defined(PIXELSNAP_ON) v.vertex = UnityPixelSnap(v.vertex); #endif UNITY_INITIALIZE_OUTPUT(<span class="hljs-keyword"><span class="hljs-keyword">Input</span></span>, o); o.color = v.color * _Color * _RendererColor; } <span class="hljs-type"><span class="hljs-type">void</span></span> surf(<span class="hljs-keyword"><span class="hljs-keyword">Input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">inout</span></span> SurfaceOutput o) { half dissolve_value = tex2D(_DissolveTexture, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.uv_MainTex).x; <span class="hljs-type"><span class="hljs-type">float</span></span> dist = distance(_PlayerPos, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.worldPos); clip(dissolve_value - dist / _Radius); fixed4 c = SampleSpriteTexture(<span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.uv_MainTex) * <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.color; o.Albedo = c.rgb * ca; o.Alpha = ca; } ENDCG } Fallback "Transparent/VertexLit" }</code> </pre> <br>  PS рдЕрдВрддрд┐рдо рд╢реЗрдбрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдорд╛рдирдХ рдпреВрдирд┐рдЯреА рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕-рдбрд┐рдлреНрдпреВрдЬрд╝ рд╢реЗрдбрд░ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдИ рдФрд░ рд▓реЗрдЦ рдХреЗ рдЗрд╕ рднрд╛рдЧ рдореЗрдВ рдкрд╣рд▓реЗ рд╡рд░реНрдгрд┐рдд "рднрдВрдЧ" рднрд╛рдЧ рдХреЛ рдЬреЛрдбрд╝рд╛ред  рд╕рднреА рдорд╛рдирдХ рд╢реЗрдб <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рджреЗрдЦреЗ рдЬрд╛ рд╕рдХрддреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрдВ</a> ред <br><br><hr><br><h2>  рдкреНрд░рднрд╛рд╡ рдХреЛ рд╕рдЬрд╛рддреАрдп рдмрдирд╛рдирд╛ </h2><br>  рдкреНрд░рднрд╛рд╡ рдХреЛ рд╕рдЬрд╛рддреАрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╡реИрд╢реНрд╡рд┐рдХ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ (рджреБрдирд┐рдпрд╛ рдореЗрдВ рд╕реНрдерд┐рддрд┐) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рд╡рд┐рдШрдЯрди рдмрдирд╛рд╡рдЯ рдХреЗ рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХред  <strong>рд░реИрдк</strong> рдХреЛ рд╕реЗрдЯ рдХрд░рдирд╛ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ <strong>=</strong> рд╡рд┐рдШрдЯрди рдмрдирд╛рд╡рдЯ рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ <strong>рджреЛрд╣рд░рд╛рдПрдВ</strong> рддрд╛рдХрд┐ рд╣рдо рдмрдирд╛рд╡рдЯ рдХреЛ рдмрд┐рдирд╛ рдиреЛрдЯрд┐рд╕ рдХрд┐рдП рджреЛрд╣рд░рд╛ рд╕рдХреЗрдВ (рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдмрдирд╛рд╡рдЯ рд╕рд╣рдЬ рд╣реИ рдФрд░ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рджреЛрд╣рд░рд╛рддрд╛ рд╣реИ!) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7db/b9f/e0e/7dbb9fe0e582bf7a63b2dccfb43a9b9b.png"></div><br><h4>  рдПрдЪрдПрд▓рдПрд╕рдПрд▓ (рд╕рддрд╣) </h4><br><pre> <code class="hljs delphi">half dissolve_value = tex2D(_DissolveTexture, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.worldPos / <span class="hljs-number"><span class="hljs-number">4</span></span>).x; <span class="hljs-comment"><span class="hljs-comment">//I modified the worldPos to reduce the texture size</span></span></code> </pre> <br><h4>  рдЫрд╛рдпрд╛рджрд╛рд░ рдЧреНрд░рд╛рдл </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/787/167/9c6/7871679c66cab1c842fe02c5ce523884.png"></div><br><h3>  рдкрд░рд┐рдгрд╛рдо (2D) </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/428/b34/425/428b344254f3e80ef68b63ba8754dfa2.gif"></div><br>  рдпрд╣ рдкрд░рд┐рдгрд╛рдо рд╣реИ: рд╣рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╡рд┐рдШрдЯрди рдХреА рдмрдирд╛рд╡рдЯ рдЕрдм рдкреВрд░реА рджреБрдирд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╣реИред <br><br>  рдпрд╣ shader рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <strong>2D рдЧреЗрдореНрд╕ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИ</strong> , рд▓реЗрдХрд┐рди <strong>3D рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП</strong> рдЗрд╕реЗ <strong>рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдХреА</strong> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><h3>  3D рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛ </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/231/1f4/09b/2311f409be1ca990c276895eb8e49695.png"></div><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╢реЗрдбрд░ "рдЧреИрд░-рдКрд░реНрдзреНрд╡рд╛рдзрд░" рдЪреЗрд╣рд░реЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдмрдирд╛рд╡рдЯ рдХреЛ рдмрд╣реБрдд рд╡рд┐рдХреГрдд рдХрд░рддрд╛ рд╣реИред  рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИред  рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ рдорд╛рди рдлреНрд▓реЛрдЯ 2 рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рдпрджрд┐ рд╣рдо рд╡рд░реНрд▓реНрдбрдкреЛрд╕ рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдХреЗрд╡рд▓ рдПрдХреНрд╕ рдФрд░ рд╡рд╛рдИ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред <br><br>  рдпрджрд┐ рд╣рдо рд╕рднреА рдЪреЗрд╣рд░реЛрдВ рдкрд░ рдмрдирд╛рд╡рдЯ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧрдгрдирд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдХреЗ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдареАрдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдПрдХ рдирдИ рд╕рдорд╕реНрдпрд╛ рдХреЗ рд▓рд┐рдП рдЖрдПрдВрдЧреЗ: рдЬрдм рдЕрдВрдзреЗрд░рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╡рд╕реНрддреБрдПрдВ рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдорд┐рд▓ рдЬрд╛рдПрдВрдЧреА, рдФрд░ рд╕рдЬрд╛рддреАрдп рдирд╣реАрдВ рд░рд╣реЗрдВрдЧреАред <br><br>  рд╕рдорд╛рдзрд╛рди рдХреЛ рд╕рдордЭрдирд╛ рд╢реБрд░реБрдЖрддреА рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрдЧрд╛: рдмрдирд╛рд╡рдЯ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдирд╛, рджреБрдирд┐рдпрд╛ рдореЗрдВ рддреНрд░рд┐-рдЖрдпрд╛рдореА рд╢реЛрд░ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рдФрд░ рдЗрд╕рд╕реЗ "рд╡рд┐рдШрдЯрди рдХрд╛ рдореВрд▓реНрдп" рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдЗрд╕ рдкреЛрд╕реНрдЯ рдореЗрдВ рдореИрдВ 3 рдбреА рд╢реЛрд░ рдХреА рдкреАрдврд╝реА рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдЖрдк рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ! <br><br>  рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╢реЛрд░ shader рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/keijiro/NoiseShader</a> ред  рдЖрдк рдпрд╣рд╛рдВ рд╢реЛрд░ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рднреА рд╕реАрдЦ рд╕рдХрддреЗ рд╣реИрдВ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://thebookofshaders.com/11/</a> рдФрд░ рдпрд╣рд╛рдБ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://catlikecoding.com/unity/tutorials/noise/</a> <br><br>  рдореИрдВ рдЕрдкрдиреЗ рд╕рддрд╣ рдХрд╛рд░реНрдп рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗрдЯ рдХрд░реВрдБрдЧрд╛ (рдпрд╣ рдорд╛рдирддреЗ рд╣реБрдП рдХрд┐ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╢реЛрд░ рд╡рд╛рд▓рд╛ рднрд╛рдЧ рд▓рд┐рдЦрд╛ рд╣реИ): <br><br><pre> <code class="hljs powershell">void surf (Input <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>, inout SurfaceOutputStandard o) { float dist = distance(_PlayerPos, IN.worldPos); //<span class="hljs-string"><span class="hljs-string">"abs"</span></span> because you have to make sure that the noise is between the range [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>] //you can remove <span class="hljs-string"><span class="hljs-string">"abs"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> your noise <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">a</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">value</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">between</span></span></span><span class="hljs-function"> [</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">0</span></span></span><span class="hljs-function">,</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">1</span></span></span><span class="hljs-function">] //</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">also</span></span></span><span class="hljs-function">, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">replace</span></span></span><span class="hljs-function"> "</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NOISE_FUNCTION_HERE</span></span></span><span class="hljs-function">" </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">your</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">3D</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">noise</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">half</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dissolve_value</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">abs</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(NOISE_FUNCTION_HERE(IN.worldPos)</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dist &gt; _Radius)</span></span></span></span> { float clip_value = dissolve_value - ((dist - _Radius) / _Radius); clip(clip_value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (clip_value &lt; <span class="hljs-number"><span class="hljs-number">0.05</span></span>f) o.Emission = float3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color; o.Albedo = c.rgb; o.Metallic = _Metallic; o.Smoothness = _Glossiness; o.Alpha = ca; }</code> </pre> <br>  HLSL рдХрд╛ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЕрдиреБрд╕реНрдорд╛рд░рдХ: рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ / рдХреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЗрд╕реЗ рд▓рд┐рдЦрд╛ / рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  PS рдпрджрд┐ рдЖрдк рдПрдХрддрд╛ рд╢реЗрдбрд░ рдЧреНрд░рд╛рдлрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╢реЗрдбрд░ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдХрд╕реНрдЯрдо рдиреЛрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рдФрд░ рдЙрдирдореЗрдВ рдПрдЪрдПрд▓рдПрд╕рдПрд▓ рдХреЛрдб рд▓рд┐рдЦрдХрд░ рд╢реЛрд░ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ)ред  рдореИрдВ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рдХрд╕реНрдЯрдо рдиреЛрдбреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред <br><br><h3>  рдкрд░рд┐рдгрд╛рдо (3 рдбреА) </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce6/a89/ad3/ce6a89ad324ff4a03d4bfabf1a694024.gif"></div><br><hr><br><h2>  рдХрдВрдЯреНрд░рд╛рд╕реНрдЯ рдЬреЛрдбрд╝рдирд╛ </h2><br>  рдЖрдХреГрддрд┐ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рд╕реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рджреЛрд╣рд░рд╛рдирд╛ рд╣реЛрдЧрд╛ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/228/7bb/169/2287bb1692d36eae92224f36359648a3.gif"></div><br><hr><br><h2>  рдЙрд▓рдЯрд╛ рдЕрд╕рд░ </h2><br>  рдФрд░ рдЕрдЧрд░ рд╣рдо рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдХреЛ рдЙрд▓рдЯрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?  (рдХрд┐рд╕реА рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкрд╛рд╕ рд╣реЛрдиреЗ рдкрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП) <br><br>  рдпрд╣ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдПрдХ рдкрдВрдХреНрддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ: <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">float</span></span> dist = _Radius - distance(_PlayerPos, <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span>.worldPos);</code> </pre> <br>  (рдпрд╣реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ Shader Graph рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддреА рд╣реИ)ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/579/86c/1f9/57986c1f96a56f1ec478b64c89be3eba.gif"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi427401/">https://habr.com/ru/post/hi427401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi427391/index.html">рдЬреВрдирд┐рдпрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЯрд┐рдкреНрд╕: рдЕрдЪреНрдЫреА рдЖрджрддреЗрдВ рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi427393/index.html">рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬрд╝ рд╡рд╛рдпрд░рд▓реЗрд╕ рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi427395/index.html">"рдЪрд▓реЛ рд╕рдордЭрд╛рддреЗ рд╣реИрдВ: рдпрд╛ рдХреНрдпреЛрдВ рдПрдХ рдЧрдгрд┐рддрдЬреНрдЮ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред" рдЧрдгрд┐рдд рдХреЗ рд╡реНрдпрд╛рдЦреНрдпрд╛рдиреЛрдВ рдХреЛ рдпрд╛рдж рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдХрд┐рддрд╛рдм</a></li>
<li><a href="../hi427397/index.html">рдПрдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдзреНрд╡рдирд┐рдХ рдбреЗрдЯрд╛рд╕реЗрдЯ рдХрд╛ рд╡рд┐рдХрд╛рд╕</a></li>
<li><a href="../hi427399/index.html">рдЧреНрд░рд╛рдлрдХреЙрд▓ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдкреАрдЖрдИ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╕рдордп рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛</a></li>
<li><a href="../hi427403/index.html">ReportingObserver API: рдПрдХ рдирдП рдкрд░рд┐рдкреНрд░реЗрдХреНрд╖реНрдп рд╕реЗ рд╡реЗрдм рдкреГрд╖реНрдареЛрдВ рдХреЗ рдХреЛрдб рдкрд░ рдПрдХ рдирдЬрд╝рд░</a></li>
<li><a href="../hi427405/index.html">ES2018 - рдЕрдВрдд рдореЗрдВ рд╡рд┐рдзрд┐ рдХрд╛ рд╡рд╛рджрд╛ рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi427407/index.html">рдореЗрдЯрд╛-рдХреНрд▓рд╕реНрдЯрд░рд┐рдВрдЧ рддреНрд░реБрдЯрд┐ рдХрдо рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде, рдФрд░ рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдорд╕реНрддрд┐рд╖реНрдХ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi427409/index.html">рдкреБрд╕реНрддрдХ "рдж рдмреНрд░рд┐рд▓рд┐рдПрдВрдЯ рдПрдЬрд╛рдЗрд▓ред рдлреБрд░реНрддреАрд▓реА, рд╕реНрдХреНрд░реИрдо рдФрд░ рдХрд╛рдирдмрди рдХреЗ рд╕рд╛рде рд▓рдЪреАрд▓реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкреНрд░рдмрдВрдзрди ┬╗</a></li>
<li><a href="../hi427413/index.html">рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рдбрд╝рдирд╛, рднрд╛рдЧ 4: рдорд╣рд╛рди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>