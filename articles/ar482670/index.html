<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👋🏽 📽️ 🐐 استخدام محرك أقراص ثابت هجين على جهاز MacBook وتثبيت نظام تشغيل Windows عليه ✅ 🏴‍☠️ 🐚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="تدور هذه القصة حول كيفية إجراء عملية إعادة تثبيت بسيطة لعدة أيام. 

 وكيف حاولت تكوين صداقات EFI و Legacy على نفس SSD في MacBook Pro 



 قبل التاريخ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>استخدام محرك أقراص ثابت هجين على جهاز MacBook وتثبيت نظام تشغيل Windows عليه</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482670/" style=";text-align:right;direction:rtl">  تدور هذه القصة حول كيفية إجراء عملية إعادة تثبيت بسيطة لعدة أيام. <br><br>  وكيف حاولت تكوين صداقات EFI و Legacy على نفس SSD في MacBook Pro <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c2/001/a73/2c2001a730663fed3cf230ec667f7672.jpg" alt="صورة"><br><br><h4 style=";text-align:right;direction:rtl">  قبل التاريخ </h4><br>  في عام 2018 ، قمت بشراء جهاز MacBook Pro بحجم 15 بوصة للاستخدام الشخصي ، بنهاية عام 2011.  يمكنك أن تقول بالفعل إنه قديم ، ولكن فقط لاستبدال ماضي لينوفو ، كان مثل المفاعل الذري تمامًا. <br><br>  حصلت بنجاح كبير على معدات غير قياسية ، مع شاشة 1680 × 1050 ورسومات متزايدة.  ويبدو أن كل شيء على ما يرام ، يمكنك استخدامه وستكون سعيدًا ، ولن يكون نظام التشغيل Mac وحده وحده كافياً وبعد فترة من الوقت بدأت التثبيت على نظام Windows الخاص به.  ثم قابلت مشاكل كبيرة. <br><a name="habracut"></a><br><h4 style=";text-align:right;direction:rtl">  مواضيع البحث </h4><br>  يوصى بتثبيت معظم المعلومات الموجودة على الإنترنت عبر bootcamp ، والتي قررت أن أفعلها كما نصحت.  الآن فقط لم يتمكن bootcamp من تثبيت Windows.  من المقترح ، يمكنه فقط تنزيل حزمة برنامج التشغيل وإنشاء \ حذف القسم لنظام التشغيل الجديد.  على هذا ، انتهت وظيفته.  يقترح البحث إعادة كتابة بعض أسطر التعليمات البرمجية - ولكن دون جدوى. <br><br>  وضع هذا الأمر جانباً لفترة قصيرة بدأت في البحث عن معلومات على الكمبيوتر المحمول.  من الشائع التحقق من الرقم التسلسلي مع الموقع ومعرفة نوعه.  الموقع الرسمي فقط لا يقول أي شيء مفيد.  فيما بعد بدأت أتحقق من إصدارات EFI (BootRom) و SMC.  ثم فوجئت جدا! <br><br>  إذا تم تحديث إصدار EFI أحيانًا بوصول التحديثات الجديدة من AppStore ، فلن يتم تحديث SMC على الإطلاق.  بالطبع ، يوجد قسم على الموقع الرسمي ويمكنك تنزيل الإصدار الجديد ، والذي يبدو منطقيًا تمامًا.  المشكلة الوحيدة هي أن كل كمبيوتر محمول لديه نسخته الخاصة من SMC وهذا كل شيء ، لا يمكن تغييره (فقط في الحالات القصوى).  على الإنترنت ، صادفت موقعًا يتحدثون فيه عن نموذج يجب فيه حماية إصدار "هذا" من SMC.  كما اتضح ، لدي نسخة من 13 بوصة 1.69f4.  في النهاية ، حاولت تقليل إصدار SMC ، لكن لم تكن هناك نتائج.  قال النظام أنه تم تحديثه ، ولكن لم تكن هناك تغييرات. <br><br>  بعد كل عمليات البحث ، فقدت الأمل وقررت وضعه على محرك أقراص فلاش.  ثم خيبة الأمل!  يرى النظام بطاقة الصوت الخاصة بي في أجهزة النظام ، وعندما أحاول تثبيت رسومات AMD ، أحصل على رمز خطأ 32. وبعد تثبيت Intel HD Graphichs ، أحصل على شاشة سوداء.  حاولت جمعيات مختلفة ، في كل مكان نفس النتيجة.  في النهاية ، تم العثور على الحل مبتذل جدًا ، حيث وصل إلى والدي ، حيث أخذ MacBook Pro في منتصف عام 2012 ووضعه في SSD الخاص بي ، قمت بتثبيت Windows وكان كل شيء جيدًا ، وكان لدي رسومات AMD واحدة وصوت يعمل مع بقية الأجهزة الطرفية.  فقط عرفت أن هذا لم يستمر إلى الأبد ، وقد يحدث أنه لن يكون هناك كمبيوتر محمول ثانٍ ولكن كان من الضروري إعادة التثبيت.  ثم صادفت هذا مرة أخرى. <br><br><h4 style=";text-align:right;direction:rtl">  حبوب منع الحمل لجميع الأمراض </h4><br>  ما يقرب من 95 ٪ من الموارد تتطلب التثبيت من خلال BootCamp ، لم يعجبني هذه الفكرة ، كان من الجيد دائمًا القيام بكل شيء يدويًا بالمقابض.  من العمل السابق لنظام Windows ، اكتشفت أنه يعمل في الوضع القديم.  لقد فوجئت للغاية ولم أفهم كيف يمكن أن يكون ، إذا كان كل شيء يعمل لي في أنظمة EFI.  لذلك ، عثرت على الإنترنت على معلومات حول تحويل قرص من عادي إلى "هجين".  وبالتالي ، يمكنني استخدامه بمثابة GPT و MBR في نفس الوقت. <br><br>  بادئ ذي بدء ، أحتاج إلى معرفة تخطيط قرصي. <br><br>  أحصل على الجواب: <br><br><pre style=";text-align:right;direction:rtl"><code class="powershell hljs">sudo gpt <span class="hljs-literal"><span class="hljs-literal">-r</span></span> show /dev/disk0 gpt show: /dev/disk0: Suspicious MBR at sector <span class="hljs-number"><span class="hljs-number">0</span></span> start size index contents <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> MBR <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Pri GPT header <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> Pri GPT table <span class="hljs-number"><span class="hljs-number">34</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-number"><span class="hljs-number">409600</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> GPT part - C12A7328<span class="hljs-literal"><span class="hljs-literal">-F81F</span></span><span class="hljs-literal"><span class="hljs-literal">-11D2</span></span><span class="hljs-literal"><span class="hljs-literal">-BA4B</span></span><span class="hljs-literal"><span class="hljs-literal">-00A0C93EC93B</span></span> <span class="hljs-number"><span class="hljs-number">409640</span></span> <span class="hljs-number"><span class="hljs-number">204799960</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> GPT part - <span class="hljs-number"><span class="hljs-number">7</span></span>C3457EF<span class="hljs-literal"><span class="hljs-literal">-0000</span></span><span class="hljs-literal"><span class="hljs-literal">-11AA</span></span><span class="hljs-literal"><span class="hljs-literal">-AA11</span></span><span class="hljs-literal"><span class="hljs-literal">-00306543ECAC</span></span> <span class="hljs-number"><span class="hljs-number">205209600</span></span> <span class="hljs-number"><span class="hljs-number">294907904</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> GPT part - EBD0A0A2<span class="hljs-literal"><span class="hljs-literal">-B9E5</span></span><span class="hljs-literal"><span class="hljs-literal">-4433</span></span><span class="hljs-literal"><span class="hljs-literal">-87C0</span></span><span class="hljs-literal"><span class="hljs-literal">-68B6B72699C7</span></span> <span class="hljs-number"><span class="hljs-number">500117504</span></span> <span class="hljs-number"><span class="hljs-number">655</span></span> <span class="hljs-number"><span class="hljs-number">500118159</span></span> <span class="hljs-number"><span class="hljs-number">32</span></span> Sec GPT table <span class="hljs-number"><span class="hljs-number">500118191</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Sec GPT header</code> </pre> <pre style=";text-align:right;direction:rtl"> <code class="powershell hljs">sudo fdisk /dev/disk0 Disk: /dev/disk0 geometry: <span class="hljs-number"><span class="hljs-number">31130</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">63</span></span> [<span class="hljs-number"><span class="hljs-number">500118192</span></span> <span class="hljs-type"><span class="hljs-type">sectors</span></span>] Signature: <span class="hljs-number"><span class="hljs-number">0</span></span>xAA55 Starting Ending <span class="hljs-comment"><span class="hljs-comment">#: id cyl hd sec - cyl hd sec [ start - size] ------------------------------------------------------------------------ *1: EE 0 0 2 - 1023 254 63 [ 0 - 500118191] &lt;Unknown ID&gt; 2: 00 0 0 0 - 0 0 0 [ 0 - 0] unused 3: 00 0 0 0 - 0 0 0 [ 0 - 0] unused 4: 00 0 0 0 - 0 0 0 [ 0 - 0] unused mbp-mansi:~ mansi$</span></span></code> </pre>  بعد ذلك ، أبدأ في تحرير الهيكل وفقًا لمعلومات القسم: <pre style=";text-align:right;direction:rtl"> <code class="powershell hljs">sudo fdisk <span class="hljs-literal"><span class="hljs-literal">-e</span></span> /dev/disk0 fdisk: could not open MBR file /usr/standalone/i386/boot0: No such file or directory Enter <span class="hljs-string"><span class="hljs-string">'help'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> information fdisk: <span class="hljs-number"><span class="hljs-number">1</span></span>&gt; edit <span class="hljs-number"><span class="hljs-number">1</span></span> Starting Ending <span class="hljs-comment"><span class="hljs-comment">#: id cyl hd sec - cyl hd sec [ start - size] ------------------------------------------------------------------------ 1: EE 0 0 2 - 1023 254 63 [ 1 - 409639] &lt;Unknown ID&gt; Partition id ('0' to disable) [0 - FF]: [EE] (? for help) EE Do you wish to edit in CHS mode? [n] N Partition offset [0 - 500118192]: [63] 1 Partition size [1 - 500118191]: [500118191] 409639 fdisk:*1&gt; edit 2 Starting Ending #: id cyl hd sec - cyl hd sec [ start - size] ------------------------------------------------------------------------ 2: AF 1023 254 63 - 1023 254 63 [ 409640 - 204799960] HFS+ Partition id ('0' to disable) [0 - FF]: [AF] (? for help) AF Do you wish to edit in CHS mode? [n] N Partition offset [0 - 500118192]: [409640] 409640 Partition size [1 - 499708552]: [499708552] 204799960 fdisk:*1&gt; edit 3 Starting Ending #: id cyl hd sec - cyl hd sec [ start - size] ------------------------------------------------------------------------ *3: 0C 1023 254 63 - 1023 254 63 [ 205209600 - 294907904] Win95 FAT32L Partition id ('0' to disable) [0 - FF]: [C] (? for help) 0C Do you wish to edit in CHS mode? [n] N Partition offset [0 - 500118192]: [205209600] 205209600 Partition size [1 - 294908592]: [294908592] 294907904 fdisk:*1&gt;</span></span></code> </pre><br>  بعد ذلك ، اضبط العلامة على القسم الثالث باستخدام الأمر <u>flag 3</u> ، وأغلق الأداة المساعدة باستخدام الأمر exit أو q.  ونحن نتحقق مما حصلنا عليه. <br><br><pre style=";text-align:right;direction:rtl"> <code class="powershell hljs">sudo fdisk /dev/disk0 Disk: /dev/disk0 geometry: <span class="hljs-number"><span class="hljs-number">31130</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">63</span></span> [<span class="hljs-number"><span class="hljs-number">500118192</span></span> <span class="hljs-type"><span class="hljs-type">sectors</span></span>] Signature: <span class="hljs-number"><span class="hljs-number">0</span></span>xAA55 Starting Ending <span class="hljs-comment"><span class="hljs-comment">#: id cyl hd sec - cyl hd sec [ start - size] ------------------------------------------------------------------------ 1: EE 0 0 2 - 1023 254 63 [ 1 - 409639] &lt;Unknown ID&gt; 2: AF 1023 254 63 - 1023 254 63 [ 409640 - 204799960] HFS+ *3: 0C 1023 254 63 - 1023 254 63 [ 205209600 - 294907904] Win95 FAT32L 4: 00 0 0 0 - 0 0 0 [ 0 - 0] unused</span></span></code> </pre> <br>  وللتأكد من نجاح كل شيء بنسبة 100٪ ، يمكنك تنزيل حزمة gdisk الإضافية وتشغيلها باستخدام مثل هذا الأمر <pre style=";text-align:right;direction:rtl"> <code class="powershell hljs">sudo gdisk /dev/disk0 GPT fdisk (gdisk) version <span class="hljs-number"><span class="hljs-number">1.0</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span> Warning: Devices opened with shared lock will not have their partition table automatically reloaded! Partition table scan: MBR: hybrid BSD: not present APM: not present GPT: present Found valid GPT with hybrid MBR; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GPT. <span class="hljs-keyword"><span class="hljs-keyword">Command</span></span> (? for help):</code> </pre>  وإذا تم القيام بكل شيء بشكل صحيح ، أصبح قسم MBR مختلطًا. <br><br><h4 style=";text-align:right;direction:rtl">  وضع إرث قذيفة EFI؟ </h4><br>  الشيء الأكثر إثارة للاهتمام الآن في تثبيت ويندوز.  لن يعمل معنا كالمعتاد ، النظام ببساطة لن يسمح لك بتثبيت.  هذا منطقي ، لأننا نقوم بتحميل التثبيت في وضع EFI ونطلب العمل مع ترميز GPT ، ولا يضع النظام MBR في هذا الوضع. <br><br>  قام WinNTSetup بعمل رائع في تثبيت نظام التشغيل.  بعد اختيار اللغة ، ندعو وحدة التحكم عن طريق الضغط على Shift + F10 والانتقال إلى الدليل مع البرنامج الذي تم نسخه سابقا إلى محرك أقراص فلاش USB.  ثم كل شيء بسيط ، قم بتشغيله ، وحدد ملف التثبيت ، حيث نريد تثبيته وانقر فوق ابدأ.  بعد ذلك ، يتم فك ضغط الملفات ، يتم تسجيل أداة تحميل الإقلاع ، وقد تم تثبيت النظام تقريبًا. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/28d/e47/79f/28de4779fb4b05e1f47b49f4ab990f06.jpg" alt="صورة"><br><br>  بعد التثبيت الناجح ، أغلق البرنامج ، واخرج من التثبيت وأعد تشغيل الكمبيوتر المحمول واختر قسمًا جديدًا من نظام Windows وانتظر حدوث معجزة.  يمكن للنظام إعادة التشغيل عدة مرات ، وهو أمر طبيعي تمامًا ، وبعد بضع دقائق من الانتظار ، نحصل على إصدار فعال من Windows مع رسومات واحدة وصوت عمل. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d9a/80d/b4e/d9a80db4e95617dc004e62778d07f082.png" alt="صورة"><br><br><h4 style=";text-align:right;direction:rtl">  استنتاج </h4><br>  بعد هذه التلاعب والمعلومات على الإنترنت ، يصبح تشغيل تطبيق BootCamp أكثر قابلية للفهم وفهمًا.  إنها تقوم بهذه العمليات تلقائيًا ، وقمنا بتصحيح كل شيء يدويًا.  والآن ، بعد هذه المعلومات ، لم يعد أمرًا مخيفًا إعادة تثبيت كل شيء واستبدال ssd بالكثير مع تثبيت نظام التشغيل سيستغرق وقتًا أقل بكثير. <br><br>  <b>روابط مفيدة:</b> <br><br>  BootCamp - <a href="https://support.apple.com/en-us/HT201468" rel="nofollow">support.apple.com/ar-us/HT201468</a> <br>  gdisk \ fdisk - <a href="https://www.rodsbooks.com/gdisk/" rel="nofollow">www.rodsbooks.com/gdisk</a> <br>  تحويل GPT إلى مختلط - <a href="https://apple.stackexchange.com/questions/308824/how-to-convert-a-drive-from-the-gpt-format-to-the-hybrid-gpt-mbr-format-when-usi%3Frq%3D1" rel="nofollow">apple.stackexchange.com/questions/308824/how-to-convert-a-drive-from-the-gpt-format-to-the-hybrid-gpt-mbr-format-when-usi؟rq = 1</a> <br>  WinNTSetup - <a href="http://wntsetup.ru/" rel="nofollow">wntsetup.ru</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482670/">https://habr.com/ru/post/ar482670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482644/index.html">كلوغر لنظام التشغيل Windows مع تغيير الحقوق في DACL</a></li>
<li><a href="../ar482646/index.html">قم بتحسين أداء SPA عن طريق تقسيم مكتبات Angular إلى عدة أجزاء</a></li>
<li><a href="../ar482648/index.html">آرثر Khachuyan: "البيانات الكبيرة الحقيقية في الإعلان"</a></li>
<li><a href="../ar482652/index.html">رسالة إلى المبتدئين لدراسة علوم البيانات</a></li>
<li><a href="../ar482656/index.html">الجناح النفاث إيف روسي: الإقلاع والهبوط العمودي المستقل</a></li>
<li><a href="../ar482672/index.html">Habrapost التقارير السنوية - 2019</a></li>
<li><a href="../ar482674/index.html">"مباشرة بعد الإجازات": الندوات ، ودروس الماجستير ومسابقات التكنولوجيا في جامعة ITMO</a></li>
<li><a href="../ar482676/index.html">الفرز الفعال للبيانات نوع الهيكل</a></li>
<li><a href="../ar482678/index.html">كيف قررت أن أقوم بعملية بحث نصية لنظام iOS وماذا جاء منها</a></li>
<li><a href="../ar482682/index.html">أتمتة أداة كيو تي</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>