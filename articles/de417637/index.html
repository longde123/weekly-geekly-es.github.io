<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤥 👨🏽‍🔬 🥕 Entwicklung eines Editors zum Erstellen von Websites / Landungen (Erfahrung) 👩🏽‍🌾 🙇🏼 🕋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(Kunst von http://www.simonstalenhag.se/ ) 
 Hintergrund / Haftungsausschluss 


 Hallo allerseits, dieser Artikel ist tatsächlich Material für meine ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwicklung eines Editors zum Erstellen von Websites / Landungen (Erfahrung)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417637/"><p><img src="https://habrastorage.org/webt/6j/yl/ny/6jylnys0x91jmmt4g_hqy9mat1q.jpeg"><br>  (Kunst von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://www.simonstalenhag.se/</a> ) </p><br><h3>  Hintergrund / Haftungsausschluss </h3><br><p>  Hallo allerseits, dieser Artikel ist tatsächlich Material für meine Rede am Montag beim Marathon in Kiew.  Aber denken Sie nicht, dass Sie das Publikum sind, in dem ich den Text ausarbeite. Es ist nur einfacher für mich, mich vorzubereiten. </p><br><p>  Ich bin derzeit Front-End-Entwickler bei Conductor / WeWork.  Wir entwickeln keine Redakteure, so wie ich abends solche Dinge nicht entwickle.  Hier geht es mehr um die Erfahrungen, die ich bei einem früheren Projekt bei UTI (abgekürzt), utipi, uti… gemacht habe.  Es ist lange her, aber wie sich herausstellt, ist das Thema bis heute relevant, ebenso wie die damit verbundenen Pfosten. </p><br><p>  Wir sprechen normalerweise über Visitenkarten-Websites, Zielseiten und mehr oder weniger funktionale Websites, aber sicherlich nicht über Backoffices oder Verwaltungsbereiche. </p><br><blockquote>  UTIEditor speziell für Sie &lt;3 </blockquote><br><h3>  Warum brauchen wir solche Editoren? </h3><br><p>  Es gibt viele Antworten auf diese Frage, viele von Ihnen, das vermute ich sicher. <br>  Ich werde diese Frage aus der Sicht von UTI beantworten, einem Unternehmen, das Website-Entwicklungsdienste anbietet. </p><br><p>  UTI ist im Wesentlichen ein Konsumgüterunternehmen.  Ich bin sicher, dass jeweils ein Dutzend Visitenkarten-Websites pro Person, ein Dutzend Online-Shops und eine Markenkirsche auf ihre eigene Art und Weise funktionierten - ihr eigenes CMS. </p><br><p>  Sie haben also eine weitere Zielseite erstellt, eine Visitenkartenseite, und diese dem Kunden übergeben. Er kommt an einem Tag zurück und bittet Sie, den Text zu ändern.  Ändern Sie nach einem weiteren Tag die Hintergrundfarbe und fügen Sie nur ein Bild hinzu.  Für den Kunden sieht es nach etwas Einfachem und Schnellem aus.  Es ist schwer damit zu streiten.  Für Sie bedeutet dies jedoch, dass Sie den Entwickler / Designer aus seinen aktuellen Aufgaben herausziehen müssen.  Ganz zu schweigen von der Arbeit eines Managers, der Zeit mit Kommunikation verbringt.  Dementsprechend rechnen Sie und es ist nicht klein.  Der Kunde ist empört und beschwert sich.  Beim nächsten Mal denken Sie bereits über solche Dinge nach und stellen Fragen, indem Sie die Bearbeitungsfunktionen in TK einfügen. </p><br><p>  Hier lohnt es sich vielleicht, diese Funktionalität zu diskutieren, da sie sehr unterschiedlich ist. <br>  Ich möchte hinzufügen, dass ich CMS wie WrodPress, Drupal nicht in dieses Gespräch einbeziehen werde, wir werden uns auf den Markt der Redakteure konzentrieren. </p><a name="habracut"></a><br><h3>  Debry UTI </h3><br><p>  Das erste, was mir in den Sinn kommt, ist ein Formular zu erstellen, in dem der Benutzer ändern kann, was er möchte: </p><br><p><img src="https://habrastorage.org/webt/jd/hu/0h/jdhu0hykoas1wvksoc1vhaurivk.png"></p><br><p>  Ein bisschen aus dem wirklichen Leben, der Name der Felder, aber die Essenz, die Sie gefangen haben. </p><br><p>  Aus Sicht des Unternehmens hat sie ihre Pflicht erfüllt und sich sogar um die „Anpassung“ gekümmert.  Dieser Ansatz weist jedoch noch eine Reihe von Einschränkungen auf. </p><br><p>  Die Vorteile dieses Ansatzes: </p><br><ul><li>  Einfach zu implementieren </li><li>  Einfach zu bedienen </li><li>  Löst das Problem </li></ul><br><p>  Nachteile dieses Ansatzes: </p><br><ul><li>  Es gibt keine Möglichkeit, das Design zu ändern </li><li>  Es gibt keine Möglichkeit, das Verhalten zu ändern </li><li>  Keine Positionierung </li><li>  Sie können nur das bearbeiten, was im Formular festgelegt wurde </li></ul><br><p>  Haben Sie schon an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CKEeditor</a> gedacht?  Stern aller Zeiten.  Führen Sie diesen nächsten Schritt aus, um den bearbeitbaren Inhalt der Website zu verbessern. </p><br><p><img src="https://habrastorage.org/webt/u2/z8/l2/u2z8l2je3kdzcou8mcbbmdocs20.jpeg"></p><br><p>  Es gibt eine Art Möglichkeit, den Text zu formatieren und sogar einige zusätzliche Elemente einzufügen.  Irgendwo an diesem Ort, bevor ich zur Firma kam, hatten die Jungs die Idee, einen Seiteneditor mit Drag &amp; Drop direkt in CKEditor zu erstellen.  Leider hatte ich nichts mehr zu zeigen, aber versuche dir diesen Horror vorzustellen :) </p><br><p>  Aber im Moment, sozusagen im Jahr 2018, hat CKEditor einige Fortschritte in dieser Richtung gemacht, was ziemlich, aber lustig ist.  Was ist keine ganze Seite? </p><br><p><img src="https://habrastorage.org/webt/hs/uv/5t/hsuv5tni9olhtsnh65sevvmg3di.png"></p><br><p>  All dies war jedoch sowohl in der Entwicklung als auch im Gebrauch nicht bequem.  Und da ich nur Backbone und JQuery kannte, nannte ich mich mutig einen Front-End-Entwickler und beschloss, ihnen anzubieten, einen vollwertigen Editor wie Wix, Squarespace, Tilda, LPGenerator zu entwickeln ... Dann waren sie tatsächlich meine Konkurrenten.  Da UTI ein No-Name-Unternehmen ist, wussten sie nichts davon.  Und sie haben nicht erkannt und werden nicht erkennen.  Obwohl der Sponsor des Marathons Wix ist.  Oh, das ist nur ein Zufall. </p><br><p>  Sie erkannten es nicht, weil alles den Klassikern entsprach - das Unternehmen kümmerte sich nicht um das Projekt. </p><br><p>  Dies sind zwei Screencasts, sie sind nicht perfekt, mit Pfosten, aber ich bin sicher, sie werden eine allgemeine Vorstellung vom Editor geben. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/N6ViA0XCWxU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ArwNT9EZ2y8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Ich war alleine bei diesem Projekt.  Designer, Produktmanager, Vorder- und Rückseite, aber es gab keine Tests.  ABER die Wahrheit war, dass die manuellen Tester, die zur Firma kamen, im Feuer des Reaktors temperiert wurden.  Die Tester waren natürlich lustig.  Was würdest du für ein Level verstehen? Einmal wurde einer von ihnen ausgeschaltet: </p><br><p><img src="https://habrastorage.org/webt/0e/gx/vs/0egxvsufxxpgjoghgiwij23wrve.png"></p><br><p>  Und sie haben einen Fehler gemeldet, sie sagen, die Seite ist ausgefallen.  Der Typ hat gerade das Internetkabel aus dem System gezogen :) </p><br><p>  Jedes Mal musste ich auf neue Weise erklären, was im Editor getan werden kann, was nicht und warum es so funktioniert, aber es funktioniert.  Tatsächlich hat es mir Spaß gemacht.  Eine Art First-Line-Feedback.  Es gab praktisch keine Kunden, und der Herausgeber hat sich größtenteils dank ihnen weiterentwickelt. </p><br><p>  Hat jemand eine Idee, welchen Stack ich verwendet habe?  Die Anwendung sieht toll aus, sozusagen solide.  Es ist kein Buggy, da es vor 5 Jahren noch kein Buggy war. </p><br><p>  Oh und was für einen großartigen CI / CD-Prozess ich habe.  Ich ging einmal am Tag so viel zum Essen, wie du willst.  Codename Filezilla, Drag &amp; Drop, wiederholen.  Zuerst stellen Sie mit filezilla eine Verbindung zu ftp her, erstellen einen Build, laden den aktuellen Build herunter, legen ihn in einem Ordner namens backup ab, laden einen neuen Build hoch und prüfen, ob dort jemand gestorben ist.  Wenn Sie gestorben sind, laden Sie die Datei aus dem Sicherungsordner hoch.  Aber ehrlich gesagt, in dem Moment, in dem ich mit Backup nicht immer gearbeitet habe, hing es von einer Reihe neuer Funktionen ab.  Und da der Herausgeber an mehreren Projekten beteiligt war, sagte ich, dass ich in jedes Projekt gegangen bin und überprüft habe, ob es dort hingefallen ist, was ich nicht tun würde.  Und wir haben immer noch SVN verwendet, gibt Geschmack? </p><br><h3 id="chto-zhe-po-povodu-steka">  Was ist mit dem Stapel? </h3><br><p>  Backbone + jquery + 0 Tests. </p><br><p>  Modul, asynchrones Laden ala Code-Splitting und serverseitiges Rendern.  Dann wurden solche Begriffe nicht speziell verwendet, es war de facto eine einfache Optimierung.  Aber jetzt ist die Zeit des Marketings im Open Source und seiner Revolution! </p><br><p>  Was Sie verstehen würden, der Wix dieser Zeit, unterscheidet sich jetzt nicht viel vom Wix-Editor.  Ist, dass es mehr Vorlagen, Leerzeichen und fertige Komponenten hat.  Sie haben die Reaktion vollständig oder nicht migriert, ich weiß nicht.  Es ist genauso fehlerhaft, nur auf Macbooks mit RAM ab 16 Gigabyte, mit einem steileren Rendering-System namens Virtual House und coolen Web-Engines.  In Projekten dieser Größenordnung spielen Tools keine besondere Rolle, sondern eher ein Gespräch über Architektur und UI / UX.  Und UI / UX ist viel wichtiger.  Die Komplexität der Implementierung, die Leistung und der Wunsch, sich beim Erstellen von Websites durch Ihren Editor umzubringen, hängen davon ab.  Clients sind normalerweise weit von der Entwicklung entfernt, weit entfernt von all diesen CSS-Regeln, Eigenschaften, DOM-Attributen und -Parametern.  Unter ihnen werden mehr oder weniger versierte Leute sein, die Ihre Kunden bedienen und sie in Zukunft mitnehmen werden.  Aber lassen Sie uns nicht über traurige Dinge sprechen, sondern versuchen, Generationen von Redakteuren etwas weiter zu betrachten. </p><br><p>  Kunden können es immer noch nicht verwenden, wenn Sie ihnen das perfekte Bearbeitungswerkzeug geben.  Ihr Handwerk wird ungefähr so ​​aussehen: </p><br><p><img src="https://habrastorage.org/webt/ee/cg/i9/eecgi9-bcho9jh_vhkpzz09jdbm.png"></p><br><p>  Dies ist wahr und nicht wahr, da das Web für die Geisteswissenschaften einfach kompliziert ist und andererseits irgendwo eine ideale Benutzeroberfläche / UX vorhanden ist, mit der Sie eine Website erstellen und mit einem Klick das tun können, was Sie wollen. </p><br><p>  Aber manchmal ist es unmöglich und muss nach einem Mittelweg suchen. </p><br><h3 id="vizualnyy-html-redaktor">  HTML visueller Editor </h3><br><p>  Die anfängliche Aufgabe war folgende: Machen Sie dasselbe wie in CKEditor, damit Sie Elemente (Text, Bilder) verschieben und sie irgendwie bearbeiten / formatieren können. </p><br><p>  Eine der Hauptanforderungen war die Fähigkeit, benutzerdefiniertes HTML für die weitere Arbeit zu laden. </p><br><p>  Ich begann damit, Elemente auf der ziehbaren Seite zu erstellen.  Das heißt, der Benutzer könnte sie verschieben.  Zuerst schien alles in Ordnung zu sein, aber je mehr verschiedene Teile ich ausprobierte, desto schlimmer sah es aus.  Tatsache ist, dass benutzerdefiniertes HTML völlig willkürlich und unvorhersehbar sein kann.  Dies führt zu Problemen bei der elementaren Drag &amp; Drop-Aufgabe, der Unfähigkeit zu verstehen, welche Art von Element der Benutzer ausgewählt hat, und sogar zu einer banalen Kontrolle über die Seite.  Es war Chaos. </p><br><p> Mit Grapesjs können Sie Ihren HTML-Code laden.  Er sieht den Text in offensichtliche Tags eingewickelt, und den Text, der sich nur im <code>body</code> , fühlt er nicht: </p><br><p><img src="https://habrastorage.org/webt/hj/0s/jj/hj0sjjit2iz396ul0aqlykqo3r0.png"></p><br><h3 id="ogranicheniya">  Einschränkungen </h3><br><p>  Es ist sicherlich ein mutiger Schritt, Ihnen das Hochladen und Bearbeiten Ihres HTML-Codes zu ermöglichen.  Aus Sicht des Benutzers ist dies eine große Freiheit.  Aber es gibt ein wunderbares Beispiel dafür, wie die Dinge im Web sind - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">A Blue Box</a> . </p><br><p>  Ich bin sicher, dass es nicht einmal alle Implementierungsoptionen gibt.  Tatsache ist, dass die gleichen semantischen Dinge auf völlig unterschiedliche Weise implementiert werden können, wobei völlig unterschiedliche Ansätze verwendet werden.  Und stellen Sie sich auf der Seite etwas Komplizierteres vor als das blaue Quadrat.  Das gleiche Bild kann der Seite mit dem Tag &lt;img /&gt; hinzugefügt oder mit dem Hintergrund festgelegt werden.  Eine Schaltfläche kann eine &lt;Button&gt; oder ein &lt;Div&gt; oder dasselbe Bild sein.  Und wie kann man verstehen, welches Bearbeitungswerkzeug angezeigt werden soll? </p><br><p>  Auf keinen Fall. </p><br><h3 id="ogranichenie-00">  Limit 00 </h3><br><p>  Die nächste Möglichkeit besteht darin, dieses oder jenes Layout zu verbieten, einen Styleguide zu erstellen oder das Laden von benutzerdefiniertem HTML zu verbieten.  Natürlich haben wir uns für die zweite entschieden :) </p><br><h3 id="ogranichenie-01">  Limit 01 </h3><br><p>  Da wir das Laden von benutzerdefiniertem HTML verboten haben, benötigen wir unsere eigenen Komponenten / Elemente. Dies ist der erste Schritt zu einem echten Editor. </p><br><h3 id="ogranichenie-02">  Einschränkung 02 </h3><br><p>  Da der Benutzer mit einer Reihe unserer Elemente arbeitet, müssen wir den Editor daran hindern, mit nicht "unseren Elementen" zu arbeiten, und uns beibringen, wie wir mit ihnen arbeiten. </p><br><h3 id="rabochee-okruzhenie">  Arbeitsumgebung </h3><br><p>  Nicht das interessanteste Thema, aber wichtig.  Die Photoshop-Oberfläche gefällt mir sehr gut.  Es gibt eine Reihe von Bedienfeldern und einen Arbeitsbereich.  Sie können den Arbeitsbereich beliebig bearbeiten, er ist zentriert und je nach Größe können Sie sowohl horizontal als auch vertikal scrollen. </p><br><p><img src="https://habrastorage.org/webt/m5/ki/w8/m5kiw8n2pp2hgl_w2bp7ci7fid4.jpeg"></p><br><p>  Außerdem haben viele von mir mein Design Google Web Designer berührt: </p><br><p><img src="https://habrastorage.org/webt/ue/2o/gj/ue2ogjwar96x4ivn-tc76mmdtei.png"></p><br><p>  Übrigens, das ist eine Art Editor von Google, hat ihn jemand benutzt? </p><br><p>  Das Schwierigste ist, die Seite auf diese Weise zu brechen.  Ich bin kein CSS-Experte, und diesmal war es für mich viel einfacher, aber dann war es ein Tanz mit einem Tischlayout.  Bevor wir weiter gehen, wollen wir uns ansehen, welche Art von Arbeitsbereichslayouts im Allgemeinen sind. </p><br><h4 id="fotoshop">  Photoshop </h4><br><p>  LPGenerator </p><br><p><img src="https://habrastorage.org/webt/ox/ff/6o/oxff6o1gmfnhsjntp4cppr8ythm.png"></p><br><p>  Meine Schöpfung </p><br><p><img src="https://habrastorage.org/webt/9r/57/q2/9r57q2fwlzmnakhmt0rdkgrxsr8.png"></p><br><p>  Traubenjs </p><br><p><img src="https://habrastorage.org/webt/tv/td/-6/tvtd-6ewxcldd_uwlkrp33bt1z8.png"></p><br><p>  Tatsächlich haben wir dieses Layout bereits oben besprochen.  Links sind häufig verwendete Werkzeuge, rechts Optionen, oben etwas Zusätzliches, unten eine Informationsleiste.  Die naheliegendste Option, aber gleichzeitig für den Benutzer überlastet.  Er hat Angst vor all diesen Knöpfen, als wäre er im Cockpit und muss notlanden. </p><br><p><img src="https://habrastorage.org/webt/bi/qt/h2/biqth2l4au7rd5pmphd2bpukxpq.jpeg"></p><br><h4 id="tak-peregruzhen-chto-nado-vse-pryatat">  So überladen, dass man alles verstecken muss </h4><br><p>  Wix </p><br><p><img src="https://habrastorage.org/webt/3-/fc/ir/3-fcirszrvx_ahs4nqdt4vg0wlc.png"></p><br><p>  Seit 5 Jahren hat sich am Design der Vicks wenig geändert.  Nachdem Sie LPGenerator eingegeben haben, verstehen Sie sofort, dass Sie ein Element auf eine Seite ziehen können, die Einstellungen sehen usw.  Bei Wix ist zunächst alles verborgen.  Dies ist ein guter Ansatz.  Tatsache ist, dass der Benutzer nichts sehen muss, was er im Moment höchstwahrscheinlich nicht braucht.  Aber hier müssen Sie das Gleichgewicht halten.  Wix.com enthält zu viele Elemente, die Sie der Seite hinzufügen können. Aus diesem Grund wurde eine ganze Galerie von Elementen erstellt.  Aber natürlich können offensichtliche Dinge wie Text oder eine Schaltfläche für einen schnellen Zugriff auf eines der Bedienfelder gebracht werden. </p><br><p><img src="https://habrastorage.org/webt/x8/cq/8q/x8cq8qzdq0swfpy6nbnjfdrrn3i.png"></p><br><p>  Wenn Sie auf ein Element klicken, werden darüber zusätzliche Funktionen angezeigt, die sich auf das Element beziehen. </p><br><p><img src="https://habrastorage.org/webt/cv/jk/kl/cvjkkl_jkisk6dankfyobhxetts.png"></p><br><p>  Um zu erkennen, dass so etwas immer noch hämorrhagisch ist, werden wir etwas später darüber sprechen. </p><br><h4 id="minimalist">  Minimalistisch </h4><br><p>  Platz </p><br><p><img src="https://habrastorage.org/webt/3c/go/bq/3cgobqbddacwl9b2x8eovoswqli.png"></p><br><p>  Minimales Design, Arbeitsbereich nimmt den größten Teil des Bildschirms ein, von der Benutzeroberfläche das notwendigste Minimum.  Die Toolbox ist sehr seltsam.  Beispielsweise wird der erste Bildschirm mit der Schaltfläche folgendermaßen bearbeitet: </p><br><p><img src="https://habrastorage.org/webt/uc/hq/1z/uchq1z78zirhfhz-y0ltv-rsdvi.png"></p><br><p>  Die Schaltfläche hier wird durch Text dargestellt. </p><br><p>  Der Bearbeitungsmodus selbst ist der Vorschau sehr ähnlich. Nur wenn Sie auf einige Bildschirme doppelklicken, wird in den Bearbeitungsmodus gewechselt. </p><br><p><img src="https://habrastorage.org/webt/vo/45/ib/vo45ibzpk2tr_gs39b7pvz_md0k.png"></p><br><p>  Gleichzeitig verschiebt uns der Editor zu einem anderen Teil der Anwendung. </p><br><h4 id="ya-est-grut">  Ich bin groot </h4><br><p>  Tilda </p><br><p><img src="https://habrastorage.org/webt/i8/8s/8k/i88s8kktamx-mf1g-ttfugnr0vo.png"></p><br><p>  Wenn Sie eine Site bearbeiten, scheinen Sie darauf zu sein.  Sehr ähnlich zu Wordpress und seinem Bedienfeld mit Bearbeitungs- / Veröffentlichungsfunktionen und mehr.  Gleichzeitig ist die Funktionalität nicht so beeindruckend wie die von Squarespace, und derselbe Text ist viel einfacher zu bearbeiten. </p><br><p>  Um etwas hinzuzufügen, müssen Sie auf + klicken.  Bewegen Sie den Knopf an einen für Sie geeigneten Ort. Es funktioniert einfach nicht.  Alles ist begrenzt. </p><br><p><img src="https://habrastorage.org/webt/5o/oh/jt/5oohjth7pgvlstdyplk3b1p9voe.png"></p><br><p>  Die Folge davon sind solche Galerien mit einer Reihe verschiedener Optionen für dasselbe Element. </p><br><p><img src="https://habrastorage.org/webt/rw/nv/qr/rwnvqr9qwor0bv9ykif4om-w_rq.png"></p><br><p>  Wie Sie bereits verstehen können, bin ich ein Fan der Photoshop-Version.  Früher wurde ich mit Tabellenlayout gequält, aber jetzt 2018 und zu Bildungszwecken können wir uns nicht um Unterstützung kümmern und ein Layout in CSS Grids implementieren. </p><br><p><img src="https://habrastorage.org/webt/43/0u/u_/430uu__6jgftrpnrbe-5o4nzx4c.png"></p><br><p>  Wenn jemand mit CSS-Rastern nicht vertraut ist, ist dies eine der letzten Möglichkeiten, das Seitenlayout zu gestalten.  Wenn Flexbox für Menüs, Formulare und andere Elemente vorzuziehen ist, dann fühlen sich CSS-Raster in globalen Dingen großartig an. </p><br><p>  Dies ist kein CSS Grids-Tutorial, daher werde ich es auf den Punkt bringen, aber ohne Mega-Details. </p><br><p>  Unsere Aufgabe ist es daher, das linke und rechte Bedienfeld sowie in der Mitte den Arbeitsbereich zu erstellen, in dem der Inhalt der Website angezeigt wird. </p><br><p>  Das Arbeiten mit Gittern ist in FireFox etwas einfacher, das ist seltsam, aber Chrom ist in dieser Angelegenheit im Rückstand.  In einem der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorherigen Artikel habe</a> ich bereits darüber gesprochen. </p><br><p>  Wie sieht eine Gitterinspektion in Chrom aus: </p><br><p><img src="https://habrastorage.org/webt/l4/zp/kx/l4zpkxvws1hyhw3s5vj8pjkxcts.png"></p><br><p>  Zur gleichen Zeit im Muff: </p><br><p><img src="https://habrastorage.org/webt/s6/sv/9e/s6sv9erwvogh3ycfwxdrmn0xkzy.png"></p><br><p>  Es gibt eine Mini-Darstellung des Gitters, semantische Beschriftungen von Spalten / Zeilen werden angezeigt.  Wenn Sie weitere Informationen wünschen, verwenden Sie daher vorerst FireFox.  Seltsam finde ich, diesen Browser zu empfehlen.  Die Bugzilla-Zeit ist vergangen. </p><br><p>  Beginnen wir mit einem einfachen Markup. </p><br><pre> <code class="hljs cs">&lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"main"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"left"</span></span>&gt;&lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"content"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"site"</span></span>&gt;&lt;/div&gt; &lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"right"</span></span>&gt;&lt;/div&gt; &lt;/div&gt;</code> </pre> <br><p>  .links - linkes Feld <br>  .content - die Mitte, in der die Site angezeigt wird <br>  .right - rechte Tafel </p><br><p><img src="https://habrastorage.org/webt/rx/1_/7x/rx1_7x-geqcqxbqn8aa7p_rrfgq.png"></p><br><p>  Bisher reicht dies nicht aus, wie es aussieht.  Wir möchten, dass unsere Benutzeroberfläche dem Ansichtsfenster entspricht.  Dies kann mit einer <code>height: 100%</code> , es gibt jedoch auch Ansichtsfenstereinheiten <code>vh</code> und <code>vw</code> .  Wir werden sie benutzen. </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100vw</span></span>; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/xd/90/xu/xd90xuw42emg47k_dudo7peaeee.png"></p><br><p>  Standardmäßig werden untergeordnete Elemente in Zeichenfolgen umgewandelt.  Dies ist eine Art Flexbox-Achse.  Wir müssen die Spalten setzen, wir können dies auf folgende Weise tun: </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: grid; <span class="hljs-comment"><span class="hljs-comment">/* grid-template-columns: 1fr 2fr 1fr; */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-template-columns</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(200px, .4fr) <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(560px, 2fr) <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(200px, .4fr); }</code> </pre> <br><p>  Durch Versuch und Irrtum kam ich zu einem ziemlich komplizierten Temleit.  Mit der <code>minmax</code> Funktion können Sie die maximale und minimale Größe einstellen.  <code>fr</code> ist eine universelle Einheit, die uns die Berechnung der Größe in Pixel oder Prozent erspart.  Die Sache ist, Eigenschaften wie <code>grid-gap</code> beeinflussen Größe wie <code>border</code> .  <code>fr</code> uns von diesem Schmerz befreien. </p><br><p>  Tönen Sie ein wenig und entfernen Sie den <code>margin</code> am <code>body</code> , es stört uns ein bisschen: </p><br><pre> <code class="hljs css"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.left</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.right</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: solid <span class="hljs-number"><span class="hljs-number">1px</span></span>; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/eb/or/ju/eborjuzgno_g3xaigatthvl2af8.png"></p><br><p>  Großartig.  Aber das war der einfachste Teil.  Jetzt müssen wir einen Arbeitsbereich erstellen. <br>  <code>.site</code> ist unsere imaginäre Seite.  Machen wir es zu Standard 960px und markieren. </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.site</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">2000px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">960px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: rebeccapurple; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/wu/gd/p_/wugdp_c3sisp1pncb4avqwlmv9k.png"></p><br><p>  Wenn Sie dieses Ding drücken, macht es noch mehr Spaß: </p><br><p><img src="https://habrastorage.org/webt/fo/yh/py/foyhpyslg-vh9014_3aui5qr4lk.png"></p><br><p>  Aber </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: scroll; }</code> </pre> <br><p>  Löst das Problem.  Nur der ästhetische Teil bleibt übrig.  Einrückung. </p><br><p>  Dies kann mit dem <code>margin</code> : </p><br><pre> <code class="hljs powershell"> margin: auto; margin<span class="hljs-literal"><span class="hljs-literal">-top</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; margin<span class="hljs-literal"><span class="hljs-literal">-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px;</code> </pre> <br><p><img src="https://habrastorage.org/webt/b3/tu/oy/b3tuoy-ggnam_lctd6rhggruelm.png"></p><br><p>  <code>20px</code> wenig oder viele liegt bei Ihnen.  Aber es gibt noch ein anderes Problem.  Wenn der Bildschirm zu klein ist, wird links und rechts keine Einkerbung angezeigt.  Seit <code>maring: auto</code> wird eng.  Das erste, was mir in den Sinn kommt, ist, <code>margin-left</code> und <code>margin-right</code> , aber hier ist ein weiterer Witz.  Die Einrückung befindet sich nur auf der linken Seite.  Wenn Sie nach rechts scrollen, ist es nicht da.  Dies ist eine solche Funktion. </p><br><p>  Ohne auf Details einzugehen, können Sie dies mit <code>display: inline-block</code> beheben.  Ja.  Gleichzeitig ist der <code>margin: auto</code> das sich bei großen Bildschirmgrößen sehr gut verhält.  Die nächst naheliegendste Lösung ist die Verwendung von Medienabfragen.  Auf großen Bildschirmen <code>display: block + margin: auto</code> , auf kleinen Bildschirmen <code>display: block + margin: auto</code> <code>display: inline-block; margin-left/right: 20px</code>  <code>display: inline-block; margin-left/right: 20px</code> . </p><br><pre> <code class="hljs powershell"> .site{ height: <span class="hljs-number"><span class="hljs-number">2000</span></span>px; width: <span class="hljs-number"><span class="hljs-number">960</span></span>px; margin: auto; margin<span class="hljs-literal"><span class="hljs-literal">-top</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; margin<span class="hljs-literal"><span class="hljs-literal">-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; background: rebeccapurple; } @media(max<span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">1350</span></span>px) { .site { display: inline<span class="hljs-literal"><span class="hljs-literal">-block</span></span>; margin: <span class="hljs-number"><span class="hljs-number">20</span></span>px; } }</code> </pre> <br><p>  So etwas in der Art.  Wenn jemand bessere Ideen hat, kann er gerne einen Kommentar abgeben. </p><br><h3 id="otobrazhenie-sayta">  Site-Mapping </h3><br><p>  Das Layout ist fertig. Jetzt müssen Sie die Site anzeigen, die der Benutzer bearbeiten wird.  Das ist eine sehr wichtige Sache.  Eine Reihe von Entscheidungen hängen davon ab.  Es gibt zwei Möglichkeiten, eine Site zur nachträglichen Bearbeitung anzuzeigen.  Wo befindet sich im <code>document</code> die Schnittstelle Ihres Editors oder im <code>iframe</code>  Beide Optionen haben positive und nicht sehr positive Eigenschaften. </p><br><h4 id="tot-zhe-document">  Gleiches Dokument </h4><br><p>  Es ist sowohl mental als auch technisch einfacher.  Aber in Zukunft viel problematischer.  Tatsache ist, dass Ihr Editor nach einigen Minuten explodiert, wenn Sie die Möglichkeit hinzufügen und hinzufügen, benutzerdefiniertes CSS und JS einzufügen. </p><br><p>  Benutzer, denen nicht erklärt wurde, wie man den Becher benutzt: </p><br><p><img src="https://habrastorage.org/webt/il/zj/6o/ilzj6otyz1cykjzdp4j6blxt4gy.gif"></p><br><p>  Eingekapseltes CSS ist noch keine Realität wie vor 5 Jahren.  Es gibt Optionen, die jedoch entweder zu schwer sind oder nicht vollständig schützen.  Wenn der Benutzer die gesamte Benutzeroberfläche verzerrt und versehentlich alle seine Arbeiten löscht, werden Sie beschuldigt.  Wenn Sie ein wenig nach vorne schauen und eine Reihe Ihrer vorgefertigten Vorlagen hinzufügen, werden Ihre Entwickler darunter leiden.  Egal wie Sie einen Stil neu definieren.  Wenn Sie sich Tilda ansehen, haben sie Probleme damit. </p><br><p>  Nehmen Sie zum Beispiel die erste Benutzeroberfläche dieses Editors, die zur Hand war.  Textformatierungsschaltflächen: </p><br><p><img src="https://habrastorage.org/webt/o3/mc/9d/o3mc9df9lmkxsc0qugbqew6606w.png"></p><br><p>  Sehen Sie diese Stile?  <code>!important</code> für die Farbe?  Diese Stile werden überhaupt nicht benötigt. Wenn Sie sie deaktivieren, ändert sich nichts.  In jedem Fall ist die Neudefinition sehr einfach, indem benutzerdefiniertes HTML in die Site-Seite eingefügt wird: </p><br><p><img src="https://habrastorage.org/webt/wk/zr/4t/wkzr4tkwtqy5doy_x7ctzgsikdu.png"></p><br><p>  Ich gebe zu, ich habe diesen Code manuell eingefügt.  Ich fand jedoch einen kostenlosen Zeitraum von zwei Wochen mit der Möglichkeit, benutzerdefiniertes HTML und CSS einzufügen, und erzielte genau den gleichen Effekt. </p><br><p><img src="https://habrastorage.org/webt/yt/dn/zj/ytdnzjgajp91hk0_pjcejrnh9rm.png"></p><br><p>  Wie ist das möglich  Stellen Sie sich vor, Sie haben Dienste gekauft, um eine Website in Tilda für n Tausend Dollar zu entwickeln, und Sie wollten Ihren eigenen Linkstil festlegen.  Alles, was der Benutzer nicht in der Lage ist, die Website zu bearbeiten.  Nun, ich übertreibe mit Borderboards, aber Sie können sich jeden anderen Stil vorstellen, ganz zu schweigen von benutzerdefiniertem JS.  Darüber hinaus erstreckt sich die Kollision sogar auf eine Art verschachtelte Schnittstelle, obwohl dies offensichtlich ist. </p><br><p><img src="https://habrastorage.org/webt/vq/sj/b7/vqsjb74djtc-apq4qavvt0i2hdo.png"></p><br><p>  Das Verhindern, dass Benutzer ihren eigenen Code einbetten, wäre eine Lösung für dieses Problem.  Aber in der realen Welt ist es fast unmöglich.  Sie werden nicht für jeden Benutzer benutzerdefinierte Integrationen durchführen.  Dies ist bei fetten Kunden möglich.  Aber nicht, wenn Sie 90% der Funktionalität haben, kostet 5-10 Dollar. </p><br><h4 id="iframe">  Iframe </h4><br><p>  Kapsel die Seite fast vollständig, <code>iframe</code> wird uns helfen.  Dies ist wahrscheinlich der einzige Ort, an dem ich den <code>iframe</code> so lange benutzt habe.  Wir können <code>iframe</code> Inhalte erreichen und sogar umgekehrt, wenn sie sich in derselben Domain befinden.  Deshalb haben wir alles im Griff.  Aber all diese Verkapselungen sind für uns ein wenig verwirrend.  Zum Beispiel die Auswahl der Elemente, auf die wir später noch eingehen werden.  Isolieren Sie es auf Schnittstellenebene, indem Sie es über dem <code>iframe</code> oder im <code>iframe</code> selbst positionieren. </p><br><p>  Natürlich wird es einfacher sein, dies im <code>iframe</code> selbst zu tun.  Tatsache ist, dass Sie beim Scrollen von Inhalten die Position der Auswahl nicht aktualisieren / über ein gerissenes Layout (obwohl es besser ist) und eine zusätzliche Benutzeroberfläche nachdenken müssen.  Wenn Sie jedoch berechnen, ob sich Ihre Benutzeroberfläche überschneidet, ist die Benutzeroberfläche des Editors einfacher, wenn Sie solche Dinge über einen <code>iframe</code> in einem <code>document</code> rendern.  So kombiniert Grapesjs beispielsweise diese beiden Ansätze: </p><br><p><img src="https://habrastorage.org/webt/vx/de/dl/vxdedlcxlsqeh7hndohcnh-1mbu.png"></p><br><p>  Die Auswahl erfolgt mit Elementen im <code>iframe</code> , und zusätzliche Funktionen, die überlappungsempfindlich sind, werden über dem <code>iframe</code> gerendert. </p><br><p><img src="https://habrastorage.org/webt/xu/s7/tf/xus7tfy-lzsxgawmbgqhmbg1lts.gif"></p><br><p>  Um Ihre Stile zu unterstützen, müssen Sie jedoch alles, was Sie benötigen, in den <code>iframe</code> importieren.  Sie müssen sofort den Ladebildschirm anhängen, damit der Benutzer die Site / Schnittstelle nicht sieht, die nicht erstellt wurde. </p><br><p>  Wix <code>&lt;head&gt;</code> <br><img src="https://habrastorage.org/webt/e6/km/pv/e6kmpv8lppux7hfqcn2whridp5c.gif"></p><br><p>  Daher sollten Sie verstehen, dass dies nur beim Bearbeiten erforderlich ist.  Und vergessen Sie nicht den Benutzerstil, sonst werden Sie wieder Probleme haben. </p><br><p>  Grapesjs Klasse, die ich "versehentlich" mit einem Rand aktualisiert habe: </p><br><p><img src="https://habrastorage.org/webt/2n/4z/51/2n4z51jqizu1aowkutnjbeya6hi.png"></p><br><p>  Grapesjs fügt beim <code>gjs-comp-selected</code> die von <code>gjs-comp-selected</code> Klasse hinzu, die während der Inspektion deutlich sichtbar ist, und glauben Sie mir, dies ist das erste, was der Benutzer zur Anpassung kopiert. </p><br><h3 id="vydelenie-elementov">  Wählen Sie Elemente </h3><br><p>  Wir sind uns ein wenig voraus, weil wir noch nicht verstanden haben, wie wir dem Editor beibringen können, die Elemente auf der Seite zu sehen, aber das wird uns nicht schaden.  Bevor wir uns mit einem technologisch komplexeren Thema befassen, wollen wir uns ansehen, wie technologisch schwierig es ist, die Auswahl der Elemente auf der Seite zu treffen :) Halten Sie das für schwierig?  Wenn Sie sehr selbstbewusst sind, gehen alle oben genannten Redakteure anhand eines Textbeispiels folgendermaßen damit um: </p><br><p>  Mein Redakteur </p><br><p><img src="https://habrastorage.org/webt/-v/h_/dv/-vh_dvzxkjgftcm4dki_ievlmzy.png"></p><br><p>  Tilda </p><br><p><img src="https://habrastorage.org/webt/sb/ns/jm/sbnsjm4bor01vaox3zv4cgdwrli.png"></p><br><p>  Traubenjs </p><br><p><img src="https://habrastorage.org/webt/uz/wj/5f/uzwj5frexaqpjz735_icekbkdec.png"></p><br><p>  Google Webdesigner </p><br><p><img src="https://habrastorage.org/webt/hy/rq/0n/hyrq0nsfb_jcz3s4twd-e8sntoa.png"></p><br><p>  Wix </p><br><p><img src="https://habrastorage.org/webt/bo/qx/-u/boqx-ueywv-t_kheskn-v0ezibq.png"></p><br><p>  Und beim Bearbeiten </p><br><p><img src="https://habrastorage.org/webt/or/sg/bx/orsgbxrnaiixg_cki8c4-_sd7tw.png"></p><br><p>  Ein Teil des Textes ist überhaupt nicht sichtbar.  Okay.  Aus Sicht des Front-End-Entwicklers ist dies eine Funktion. </p><br><p><img src="https://habrastorage.org/webt/mh/qj/cn/mhqjcn9djii9ssocep76ifmu7a8.gif"></p><br><p>  Tatsache ist, dass die Redakteure größtenteils das DOM-Modell auswählen.  Aber urteilen Sie selbst, Sie als Benutzer, weit entfernt von der Entwicklung von Websites, denken, dass dies in Ordnung ist?  Nein, es ist nicht in Ordnung.  Inhalt ist mehr als das, was der Editor Ihnen zeigt.  Bei einigen besteht die Möglichkeit, dass die Auswahl eines Elements nicht mehr möglich ist.  Es ist normal, dass der Browser Entwicklern diese Methode zuweist. Dies gilt nach Spezifikation. </p><br><p>  Was der Benutzer sieht (blau, machte den Text transparent, um das Problem offensichtlich zu machen), was von Redakteuren und Browsern hervorgehoben wird (rot): </p><br><p><img src="https://habrastorage.org/webt/cg/5y/yr/cg5yyra4dzwcbb5vnb3jqjobvmw.png"></p><br><p>  Chrome </p><br><p><img src="https://habrastorage.org/webt/vf/tk/uz/vftkuzunahq_xggyxewe6_ueir0.png"></p><br><p>  Firefox </p><br><p><img src="https://habrastorage.org/webt/_u/1i/yq/_u1iyqqoyfeusm5w_xpfdrze4fu.png"></p><br><p>  Bei der Auswahl von Text in FF ist dies bei Chrome nicht der Fall. </p><br><p><img src="https://habrastorage.org/webt/ma/cp/ke/macpkebqeejixndozhyleaztlka.png"></p><br><p>  Warum also so ein Pfosten in allen Redakteuren?  Nach meiner Erfahrung werde ich sagen, dass dies Nudeln auf den Ohren von Produktmanagern und / oder Testern sind.  Es ist unwahrscheinlich, dass jeder, der am Editor arbeitet, die <code>line-height: 1px</code> oder versucht, mit verschiedenen <code>line-height: 1px</code> und -größen zu spielen.  Sie haben verschwommene Augen und solche Schwärme bleiben auf den ersten Blick elementar in der blinden Zone.  Und glauben Sie mir, Kunden begegnen ihnen in den ersten Minuten. </p><br><p>  Aus Sicht von UI / UX ist dies möglicherweise technisch nicht klar, und solche Implementierungsdetails liegen normalerweise im Ermessen des Entwicklers. </p><br><p>  Ist es also möglich, eine benutzerfreundliche Auswahl zu treffen?  Irgendwelche Ideen, wie man ein Element hervorhebt? <br>  Die Auswahl muss solche Dinge enthalten wie <del>  Marge </del>  , Polsterung, Rand.  Das Größenmodell ist nicht einfach: </p><br><p><img src="https://habrastorage.org/webt/ti/og/bg/tiogbgalrcdz5gsq8z0sunuozcq.png"></p><br><p>  Aus meinem Sandkasten: </p><br><p><img src="https://habrastorage.org/webt/4z/4f/2o/4z4f2oj64higysv4mwtursdvgbo.png"></p><br><p>  Vielleicht die nützlichsten Informationen, die ich aus msdn extrahiert habe: </p><br><p><img src="https://habrastorage.org/webt/xs/ib/_r/xsib_rshhtuuqsrzmipksfhkd-i.png"></p><br><p>  Aber es gibt keine Antwort auf unsere Frage. </p><br><p>  Lassen Sie uns zunächst versuchen, was uns das DOM bietet.  Wir haben so ein Layout: </p><br><pre> <code class="hljs pgsql"> font-size: <span class="hljs-number"><span class="hljs-number">54</span></span>px; <span class="hljs-type"><span class="hljs-type">line</span></span>-height: <span class="hljs-number"><span class="hljs-number">0</span></span>px; <span class="hljs-comment"><span class="hljs-comment">/*   ,     */</span></span> border: <span class="hljs-number"><span class="hljs-number">10</span></span>px solid; padding: <span class="hljs-number"><span class="hljs-number">10</span></span>px;</code> </pre> <br><p><img src="https://habrastorage.org/webt/by/0n/di/by0ndiu0vxfqo9uotfxmhahxt7m.png"></p><br><p>  Die Größe des sichtbaren Inhalts beträgt 62px, der Browser zeigt uns 40px an.  Wie bekomme ich 62px? </p><br><p>  getBoundingClientRect gibt uns zurück - 40px <br>  clientHeight - 20px <br>  scrollHeight - 41px </p><br><p>  Sie können sehr lange mit Mathematik spielen, aber ich habe mit diesem Ansatz keine Lösungen gefunden. <br>  Aber wie vor ~ 5 Jahren wusste ich, dass der Schlüssel zum Hervorheben des Textes.  Wenn Sie den Text auswählen, ist die Auswahl genau die gleiche, die wir benötigen: </p><br><p><img src="https://habrastorage.org/webt/we/sc/po/wescpozlladamt4zra2t6-7i_qm.png"></p><br><p>  Kein gutes Beispiel, aber die Höhe, mit der wir das Hauptproblem haben - alles ist cool.  Aber wie kann man unterscheiden, wie es manche Systemmagie tut? </p><br><p>  Nach so vielen Jahren habe ich gegoogelt (gelernt!), Leider wie ich gegoogelt habe und der Link verloren gegangen ist, aber hier ist die Lösung: </p><br><pre> <code class="hljs pgsql"> const range = document.createRange(); let rangeRect; range.selectNode(elm); rangeRect = range.getBoundingClientRect();</code> </pre> <br><p>  Erstellen Sie einen <code>range</code> , wählen Sie einen Knoten aus und übernehmen Sie ihn aus dem <code>range</code> <code>ClientRect</code> .  Voila!  Darüber hinaus funktioniert die Auswahl für alles.  Sie können ganze Teile der Seite auswählen ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://developer.mozilla.org/en-US/docs/Web/API/Range</a> ). </p><br><p>  Sowohl in der Höhe als auch in der Breite das perfekte Highlight. </p><br><p><img src="https://habrastorage.org/webt/8_/9a/pn/8_9apnhsaht4i_2yb67mffxu-9s.png"></p><br><p>  (Die Markierung im Editor ist ein blauer Rand ohne Hintergrund. Ausgewählter Text zur Anzeige der Systemauswahl.) </p><br><p>  Ein weiterer weniger wichtiger Teil der Hervorhebung ist, wie man es zeigt?  Irgendwelche Ideen?  Eine Reihe von Möglichkeiten.  Beginnend am Rand, endend mit einem zusätzlichen schwebenden Element. </p><br><p>  Entscheiden Sie sich zunächst dafür, dies in einem <code>iframe</code> oder über einem <code>iframe</code> zu tun. Wir haben oben über die Vor- und Nachteile gesprochen. </p><br><p>  Der Rand passt nicht, weil er dem Element Größe hinzufügt, und was ist, wenn der Benutzer seinen Rand auf das Element setzt?  Das gleiche gilt für <code>outline</code> . Grapesjs sündigt, indem er eine Auswahl trifft. </p><br><p>  In meinem Fall habe ich vorher :: verwendet, aber das ist auch nicht cool.  Am zuverlässigsten ist es, entweder 4 Streifen zu erstellen und diese an den Kanten zu positionieren (die in Zukunft Elemente der Größenänderung des Elements sein werden) oder oben zu blockieren.  Es ist besser, aus diesen beiden Optionen zu wählen und sie so weit wie möglich zu kombinieren.  Zu viel Seitenpositionierung hilft nicht bei der Optimierung einer bereits überlasteten Benutzeroberfläche.  Je mehr multifunktionale Dinge Sie positionieren, desto besser. </p><br><h4 id="eto-ne-vse">  Das ist noch nicht alles </h4><br><p>  Wir haben gerade die Auswahl realisiert.  Diese Auswahl ist jedoch auf der Ebene der Point-and-See.  Mit ihm sind zwei weitere Probleme verbunden, die ich Ihnen überlassen werde, um selbst zu denken.  Sie sind nicht so böse. </p><br><ol><li>  Die Abmessungen eines Elements ändern sich beim Bearbeiten.  Sie müssen dies verfolgen und die Auswahl aktualisieren.  Genau das haben mein Editor und Google Web Designer satt.  Nicht immer, aber oft. </li><li>  Um eine Beschriftung / Auswahl über einem Element zu treffen und den Benutzer wissen zu lassen, was dieses Element ist, müssen Sie wissen, was es ist.  Daher sollte das Element in Ihrem Editor initialisiert werden.  Die Leistung des Editors hängt davon ab.  Eine Seite kann mehr als hundert Elemente enthalten, und es ist nicht immer die beste Idee, beim Start alles zu übernehmen und zu initialisieren.  Aber im Fall meines Editors, wie ok.  ha ha.  Die Initialisierung kann durch Klicken mit der Maus über die Theorie der Nutzungshäufigkeit erfolgen. </li></ol><br><h3 id="redaktirovanie">  Bearbeiten </h3><br><p>  Da wir über das Hervorheben mit einem Beispieltext gesprochen haben, lassen Sie uns diesen schnell bearbeiten. </p><br><p>  In der Tat ist der Text der zweite wichtige Teil im Editor nach den Bildern und Hervorhebungen :) </p><br><p>  Nun, hier erfahren Sie, wie Sie es so gestalten, dass ich den ausgewählten Text genau formatiere, wenn ich einen Teil des Textes auswähle und auf eine Formatierungsfunktion klicke. </p><br><p>  Wenn Sie der Sohn eines Freundes und eines genialen Entwicklers der Mutter sind, werden Sie sicherlich sagen: Wickeln Sie den ausgewählten Text ein.  Oh, und Sie werden Recht haben, fast so, als hätte Ilon geantwortet, um eine Rakete zu bauen === hundert Ingenieure einstellen. </p><br><p>  Das Umschließen von ausgewähltem Text ist nicht so einfach.  Infolgedessen wird es eine Reihe von Tags geben, und wie man sie später bei der nächsten Auswahl und Formatierung hält, ist eine große Frage.  Ich habe lange Zeit denselben CKEditor studiert und ein Wunder entdeckt: </p><br><pre> <code class="hljs">contentEditable</code> </pre> <br><p>  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/contentEditable</a> ) </p><br><p>  Dies ist ein Pfannkuchen-Editor im Browser.  Es gibt uns nicht nur die Möglichkeit, Text zu schreiben, sondern ihn auch zu formatieren. </p><br><p>  Verwandte Artikel: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content/Rich-Text_Editing_in_Mozilla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content</a> </li></ul><br><p>  Mit dieser API können Sie Formatierungsbefehle für ausgewählten Text ausführen: </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)</code> </pre> <br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mit diesem Tool können Sie Farben ändern, einrücken, Links einfügen, benutzerdefinierte Stile erstellen und vieles mehr. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt kleine browserübergreifende Macken. </font><font style="vertical-align: inherit;">Jetzt sind sie immer weniger, aber dann gaben Chrom und Muff in einigen Fällen unterschiedliche Verpackungen für Farbwechsel usw. aus. </font><font style="vertical-align: inherit;">Dies störte natürlich ein wenig, wenn der Benutzer den Text in verschiedenen Browsern bearbeitete. </font><font style="vertical-align: inherit;">Dies wurde jedoch mit einer Handkrücke gelöst. </font><font style="vertical-align: inherit;">Das Tag wurde kurz nach der Ausführung des Befehls korrigiert.</font></font></p><br><p> <code>contentEditable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kann nicht nur für coole Textbearbeitung verwendet werden. </font><font style="vertical-align: inherit;">In einigen Browsern gibt es Funktionen zum Arbeiten mit Bildern und Tabellen. </font><font style="vertical-align: inherit;">Zuerst war es im Weg. </font><font style="vertical-align: inherit;">Aber als ich meine eigenen Tische gemacht habe, wollte ich sie unbedingt benutzen. </font><font style="vertical-align: inherit;">Aber es war alles sehr fehlerhaft und nicht stabil.</font></font></p><br><p>   , <code>contentEditable</code>    ,   CKEditor, CodeMirror,  .          .         ,         . </p><br><p>       ,      .      ,          ,   CKEditor.  ,   .   ,     ,      .        <code>iframe</code>         .      ,    .   ,           /.      <code>contentEditable</code>       .    <code>contentEditable</code> .  Wix, 2018 .      ,      <code>iframe</code> .         :)   ,   ,    .    ,  ,          .        .     ,     .         ,    . </p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/vu/di/sx/vudisxcbvdnll65w4i5cvhpzfnm.png"></p><br><p>        : </p><br><p><img src="https://habrastorage.org/webt/se/et/4u/seet4uwrlrqatgwp0hl-5e6-1d0.png"></p><br><p>        . </p><br><h3 id="resayz-elementov">   </h3><br><p>  ,       ,  , ,      /  ,   /     .    <code>0,0</code>  ,     : </p><br><p><img src="https://habrastorage.org/webt/zp/45/sk/zp45skikovnmwxv6xmuurtpef9s.png"><br> (svg/dom element) </p><br><h3 id="rabota-s-elementami-vc-mvc-i-vse-takoe">   , VC++, MVC    </h3><br><p>           ,        ,    Visual C++, C#, Delphi  .  -  ,    Backbone  ,          ,           //. </p><br><p><img src="https://habrastorage.org/webt/td/eg/pu/tdegpub5m4bj-fb4ncgxud05f8a.jpeg"></p><br><p>    ,  - ,    ,   <code></code> , <code></code>  .         : </p><br><p><img src="https://habrastorage.org/webt/hm/_y/mh/hm_ymhue2rsd6mrsxnvgp9buaka.jpeg"><br>  ,    ,    . </p><br><p>  ,         CSS,              . </p><br><p> Backbone,         (View),  (Model)   (Collection).      (Router).       View. MV*, MVV,    . </p><br><p>  ,     Backbone,    .      View  .       CSS .     ,        View     . </p><br><p>       ,   ,    View  .    View  Model    .        ,       .            ,        View  .  ,      .    ,  <code>.parent</code>      . </p><br><p><img src="https://habrastorage.org/webt/lm/t_/os/lmt_os4npi7ymexhji-mdtgdjta.png"></p><br><p>  View ,     View  Model,  <code>data-</code>    .    , Model              ,      . ,  Backbone,     React,   DOM,       .    ,      .    50-100     -  . </p><br><p>  ,      ,     HTML. ,   ,       .    virtual dom,      JS.      — . !,      .    Wix,             : </p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/pi/ob/kl/piobkly8pmrwgdilipji6_lpdh8.png"></p><br><p>       : </p><br><p><img src="https://habrastorage.org/webt/nu/tf/l_/nutfl_4ot5oqluo9btnvq5_b6so.png"></p><br><p>    ,    : </p><br><p><img src="https://habrastorage.org/webt/4l/gf/un/4lgfun5qzl7_uu0nlewhl78qyr0.png"></p><br><p>    ,       .  .   React. </p><br><p>    CSS  ,       .       ,  HTML,        .  ,      . </p><br><p>   ,            <code>&lt;style&gt;</code>   .            ,     .       . </p><br><h4 id="hranenie-dannyh">   </h4><br><p>     <code>data-</code> , html   .      !== .     html     .        ,      ID,     ,           . </p><br><h4 id="redaktirovaniepredprosmotrprosmotr"> // </h4><br><p>    . ,        .       .  , ,    . </p><br><p>             .      .    . </p><br><h4 id="react-polymer-vue-rodilsya-pozzhe-angular-shutka"> React? Polymer? Vue ( )? Angular (!)? </h4><br><p>   3              ,     React    Polymer,  React   Web Components. </p><br><p>   ,       (Polymer),      .        .      .     Shady DOM     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> , ,    .      ,        . </p><br><h4 id="react">  Reagiere </h4><br><p>      :)   .  React           : </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rootElement = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"root"</span></span>).contentDocument.body; ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, rootElement);</span></span></code> </pre> <br><p>     HTML,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ReactDOM.hydrate(element, container[, callback])</a> ,     -    DOM React.      .  Das ist cool.  ,   ,         Virtual DOM     .    . </p><br><p>      ,     . Redux, Flux, Mobx   .            Redux,    . </p><br><p>       Marrionett  .     Backbone.    .    . </p><br><p>    ,     .     ?        React,  .      DOM?       ?  <code>ReactDOM.hydrate</code>   HTML?   ,        . </p><br><h3 id="responsive-and-adaptive"> Responsive and Adaptive </h3><br><p>        .    ,   ,       .       960px.       ,     ,    -  .      . </p><br><p>   ,      ,    .    ,     . </p><br><p><img src="https://habrastorage.org/webt/0o/4s/ko/0o4skozzucxwfcbp4llwch8rlzk.png"></p><br><p>      ,   <code>relative</code> .     ,   .     .     .       . </p><br><p><img src="https://habrastorage.org/webt/yf/3l/pt/yf3lptxzpieufnpgpgvfr7q8aso.png"><br> (    ) </p><br><p>    ,    .    ,      ,   ,      .      . </p><br><p><img src="https://habrastorage.org/webt/pu/sa/81/pusa811bvrhllottdbeium-ekrg.png"></p><br><h4 id="ogranichenie-03">  03 </h4><br><p>   , .     .    . </p><br><p><img src="https://habrastorage.org/webt/vn/bk/te/vnbktefl9_obc9yjhzn8jyxupeu.png"></p><br><p>     960px,    .          . </p><br><p>   , ,         . Wix,         .      ,                 . </p><br><p>       .  Ja Ja.  ,     ,      ,       —    . </p><br><p><img src="https://habrastorage.org/webt/53/5p/ac/535pac6n0v8k9jmst-ni5slsvsa.gif"></p><br><p>      .     :) </p><br><h4 id="12-druzey-verstki-fleks-gridy"> 12  , , . </h4><br><p> 12  , ?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://grapesjs.com/</a> ,       . </p><br><p><img src="https://habrastorage.org/webt/xm/-s/zw/xm-szwfalmrkyq3-pvttn-cfjic.png"></p><br><p>  ,      ,           .        ,         .     .       . </p><br><h4 id="zagotovki-shablonchiki-i-platnyy-servispomosch-mutnye-lyudi-vokrug"> ,    /,    </h4><br><p>        .                .        ,                  .      .    ,       UI/UX. </p><br><p><img src="https://habrastorage.org/webt/4p/eu/ou/4peuoum15qwic5jpd9iqnzjrx7e.png"></p><br><p><img src="https://habrastorage.org/webt/j_/bg/tx/j_bgtxifdftyiln2378mk_khgtk.png"></p><br><p><img src="https://habrastorage.org/webt/5k/q0/gv/5kq0gv5xbatji2jellyyumqrh4i.png"></p><br><p>   -        ,     , ,  —   . </p><br><p>  ,   ,   ,   .       .  ,  ,        . </p><br><h3 id="itak">  </h3><br><p>     . C       .   UI/UX.         ,     undo/redo ,    .   ,     HTML    localStorage… ,      . </p><br><p><img src="https://habrastorage.org/webt/ro/9i/3i/ro9i3idfnbnlxeu3umw8sfwb9bs.gif"></p><br><p>      .        ,    ,           — .     ,     , . </p><br><p> <strong>PS</strong>      .   ,      .      ,  :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de417637/">https://habr.com/ru/post/de417637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de417619/index.html">Win32 / Glupteba ist nicht mehr mit dem Windigo-Betrieb verbunden</a></li>
<li><a href="../de417621/index.html">Was ist passiert, als wir die Ausstellung geknackt haben?</a></li>
<li><a href="../de417627/index.html">Hyper CRM oder Mini ERP? Das Geschäft ist durcheinander</a></li>
<li><a href="../de417629/index.html">Delphi und C ++ Builder Community Edition</a></li>
<li><a href="../de417631/index.html">CSS Grid Video Tutorial</a></li>
<li><a href="../de417639/index.html">Die Rückseite des Neuromancers. Teil 4: Sound, Animation, Huffman, Github</a></li>
<li><a href="../de417641/index.html">10 Sommerkurse für maschinelles Lernen</a></li>
<li><a href="../de417643/index.html">Ritter des Umhangs und Rootkits: Was gibt es über Hacker zu sehen? Fernsehsendungen</a></li>
<li><a href="../de417645/index.html">Programmierwettbewerb: Handel (Zwischenergebnisse und Ankündigungen)</a></li>
<li><a href="../de417647/index.html">Eine Gesetzesvorlage zum Schutz personenbezogener Daten in Weißrussland - was „drin“ ist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>