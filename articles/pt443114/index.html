<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÄ üï§ üë®üèª‚Äçüé® Pr√™mio DevProject: Meu discurso na DeveloperWeek 2019 üõ´ üíä üë®‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal 


 Meu nome √© Dmitry Golev. Sou o fundador e diretor t√©cnico do Grupo Veliov. Hoje vou falar sobre o servi√ßo que recebeu o pr√™mio "Dev Pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√™mio DevProject: Meu discurso na DeveloperWeek 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443114/"><h3 id="vsem-privet">  Ol√° pessoal </h3><br><p>  <em>Meu nome √© Dmitry Golev.</em>  <em>Sou o fundador e diretor t√©cnico do Grupo Veliov.</em>  <em>Hoje vou falar sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">servi√ßo</a> que recebeu o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pr√™mio "Dev Project"</a> da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DeveloperWeek</a> .</em>  <em>Nesta ocasi√£o, fomos convidados a falar sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projeto</a> da cena <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DevExec World</a> , abaixo est√° uma vers√£o em texto do meu discurso.</em> </p><br><p><img src="https://habrastorage.org/webt/03/1d/p1/031dp1csgyds9ibioutfyecwn8q.png" alt="ostr.io logo"></p><a name="habracut"></a><br><p>  Como voc√™ pode adivinhar no logotipo, estamos focados no desenvolvimento web e JavaScript.  O objetivo do servi√ßo √© reduzir o custo de manuten√ß√£o de APIs, sites, aplicativos da web progressivos (PWA) e solu√ß√µes da web em servidores Linux. </p><br><p>  A maioria dos projetos da web come√ßa com um nome de dom√≠nio.  O nome do dom√≠nio possui registros Whois e DNS e, como a era do HTTP / 2 √© agora, a comunica√ß√£o entre o servidor e o navegador do usu√°rio deve ser criptografada e o SSL √© necess√°rio para este, ou mais corretamente, um certificado TLS. </p><br><p>  Monitoramos continuamente a integridade dos dados do nome de dom√≠nio (Whois, DNS, SSL / TLS) e monitoramos a data de validade do certificado e do dom√≠nio.  As notifica√ß√µes de todas as altera√ß√µes nos dados e as pr√≥ximas datas de vencimento de dom√≠nios e certificados podem ser entregues via SMS ou mensagens de email. </p><br><p>  Acreditamos que este servi√ßo √© uma √≥tima maneira de: </p><br><ol><li>  detectar rapidamente acesso n√£o autorizado e altera√ß√µes; </li><li>  elimine erros ao configurar um nome de dom√≠nio, substituindo um certificado e atualizando registros DNS. </li></ol><br><p><img src="https://habrastorage.org/webt/cx/7u/ek/cx7uekixy2n1v1am8duxvfqujes.png" alt="Painel de dom√≠nio"></p><br><p>  O painel de controle de nome de dom√≠nio ( <em>acima</em> ), um exemplo de notifica√ß√µes de altera√ß√µes no DNS, certificado SSL / TLS e Whois ( <em>abaixo</em> ): </p><br><p><img src="https://habrastorage.org/webt/j4/i9/fo/j4i9fozy398a-hjksbkdpzqi9ms.png" alt="Exemplo de notifica√ß√µes de altera√ß√µes no DNS, certificado SSL / TLS e Whois"></p><br><p>  As notifica√ß√µes podem ser personalizadas pelos membros da sua equipe de acordo com a √°rea de responsabilidade: </p><br><p><img src="https://habrastorage.org/webt/xh/t0/0h/xht00hn2ntivsrefepvyonv1hei.png" alt="Notifica√ß√µes personalizadas"></p><br><p>  Chamamos esse servi√ßo de ‚Äú <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">prote√ß√£o b√°sica de nome de dom√≠nio</a></em> ‚Äù e o tornamos gratuito para sempre para todos os usu√°rios em todos os planos tarif√°rios.  Acreditamos que isso salvar√° muitos usu√°rios de situa√ß√µes como: </p><br><ol><li>  redirecionamento de tr√°fego; </li><li>  MitM; </li><li>  substitui√ß√£o de certificado; </li><li>  Seq√ºestro de DNS; </li><li>  roubo de um nome de dom√≠nio e outras situa√ß√µes muito desagrad√°veis. </li></ol><br><p>  Resolvemos o problema do propriet√°rio de um nome de dom√≠nio quando n√£o √© poss√≠vel controlar os registros, pois isso deve ser feito com muita frequ√™ncia, inclusive √† noite - isso √© simplesmente uma tarefa imposs√≠vel para uma pessoa. </p><br><p>  Posso confiar nos servi√ßos em que o nome de dom√≠nio foi comprado?  Na maioria dos casos, os servi√ßos DNS n√£o t√™m notifica√ß√µes de altera√ß√µes feitas nos registros, e a √∫nica notifica√ß√£o dos registradores sobre a expira√ß√£o de um nome de dom√≠nio pode simplesmente cair em spam e passar despercebida.  Um editor e distribuidor raro de certificados SSL / TLS envia notifica√ß√µes sobre a necessidade de reemitir o certificado. Conclu√≠mos que os registros e o certificado devem ser verificados com frequ√™ncia e automaticamente.  Inicialmente, era um servi√ßo interno que agora est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dispon√≠vel para todos</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/pm/nc/w6/pmncw6h1q4elhjzcphvymzrrlga.png" alt="Pr√©-renderiza√ß√£o"></p><br><h3 id="pre-rendering-pre-rendering">  Pr√©-renderiza√ß√£o (pr√©-renderiza√ß√£o) </h3><br><p>  O produto de servi√ßo mais popular √© a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pr√©-renderiza√ß√£o</a> .  Se voc√™ j√° teve a sorte de escrever aplicativos da Web em Angular, React, Vue, Blaze ou qualquer outra biblioteca "cliente", poder√° observar a diferen√ßa entre a resposta do servidor e as p√°ginas cujo c√≥digo HTML √© gerado no servidor.  Os aplicativos da Web baseados em bibliotecas "clientes" t√™m a marca√ß√£o HTML m√≠nima necess√°ria, sem dados e modelos. </p><br><p><img src="https://habrastorage.org/webt/lk/i0/hh/lki0hhtlkm3jn-uuauyan3hzau4.png" alt="Pacote de cliente"></p><br><p>  Os aplicativos web modernos dinamicamente ou " <em>progressivamente</em> " obt√™m c√≥digo, modelos e seus dados em partes do servidor.  O que ser√° carregado do servidor √© decidido pelo pr√≥prio "cliente" ( <em>navegador, dispositivo</em> ), dependendo das a√ß√µes do usu√°rio, da p√°gina aberta ( <em>"rota", rota</em> ) e das necessidades funcionais.  Hoje chamamos esses aplicativos de Progressive Web App (PWA). </p><br><p><img src="https://habrastorage.org/webt/-5/tl/9i/-5tl9i7pufyerd7cnbymikfgdei.png" alt="Pr√≥s e contras da PWA"></p><br><p>  Como voc√™ pode ver neste slide, os PWAs t√™m muitas vantagens e uma grande desvantagem - a absoluta falta de otimiza√ß√£o de SEO. </p><br><p>  Embora a forma√ß√£o de p√°ginas HTML no servidor n√£o seja um pr√©-requisito para trabalhar no navegador do usu√°rio, as chamadas aranhas e bots (rastreadores, aranhas e bots) n√£o executam o JavaScript da p√°gina visitada.  Para que seu site apare√ßa nos resultados de pesquisa (Google, Bing, Yandex, etc.), mensageiros instant√¢neos, redes sociais (Skype, Facebook, Twitter, iMessage, vk.com, etc.) e na maioria dos aplicativos e servi√ßos, onde voc√™ pode enviar ou publicar um link - √© necess√°rio encontrar uma maneira de transferir o c√≥digo HTML gerado resultante da execu√ß√£o do JavaScript "cliente". </p><br><p><img src="https://habrastorage.org/webt/br/rw/cy/brrwcyiaglyt_e5aq-h7jwcwewo.png" alt="Integre a pr√©-renderiza√ß√£o em menos de uma hora"></p><br><p>  Agora, se voc√™ se deparar com a pergunta "Como fornecer SEO para um aplicativo com base em uma solu√ß√£o JavaScript do lado do cliente?", Voc√™ tem duas maneiras: implementar / integrar o " <em>Server Side Rendering / SSR</em> " investindo mais tempo e recursos no desenvolvimento ou use um servi√ßo de pr√©-renderiza√ß√£o de terceiros. </p><br><p><img src="https://habrastorage.org/webt/eq/vx/ut/eqvxutkqpot-d2e_fmqa6mvlgmg.png" alt="A pr√©-renderiza√ß√£o √© como um SSR, sem escrever c√≥digo"></p><br><p>  <em>Como isso funciona?</em>  Como proxy, filtramos as solicita√ß√µes provenientes dos rob√¥s e as redirecionamos para o mecanismo de pr√©-renderiza√ß√£o, onde a p√°gina ser√° solicitada e seu JavaScript executado, como seria executado no navegador do usu√°rio. </p><br><p><img src="https://habrastorage.org/webt/dg/jo/km/dgjokmpe-c-itlyr7bwxt-bn6tq.png" alt="Como funciona a pr√©-renderiza√ß√£o?"></p><br><p>  Resultados do aplicativo da web com pr√©-renderiza√ß√£o: </p><br><p><img src="https://habrastorage.org/webt/gx/0k/un/gx0kun_maxewc0ytozexq9ctf1c.png" alt="Pr√©-renderiza√ß√£o no messenger"><br>  Visualizar links no messenger </p><br><p><img src="https://habrastorage.org/webt/st/mn/vj/stmnvjucyi_pcsaadewxaunk1jq.png" alt="Pr√©-renderiza√ß√£o em redes sociais"><br>  Visualizar links nas redes sociais </p><br><p><img src="https://habrastorage.org/webt/em/vm/zv/emvmzvhgjsjxewnt2ln7q3mvn1e.png" alt="Pr√©-renderiza√ß√£o do mecanismo de pesquisa"><br>  Visualiza√ß√£o, descri√ß√£o, metadados e sitelinks nos resultados dos mecanismos de pesquisa </p><br><p><img src="https://habrastorage.org/webt/5c/do/x3/5cdox3cxxjgl9zhh7ya2tta8fve.png" alt="Suporte para ES6 / 7"><br>  Somos os primeiros a introduzir o suporte ECMAScript 6/7. </p><br><p>  Voc√™ pode aprender mais sobre pr√©-renderiza√ß√£o em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">prerendering.com</a> </p><br><hr><br><p><img src="https://habrastorage.org/webt/sb/2b/wf/sb2bwfsqybw0uimex3qq5soet9g.png" alt="Monitorando APIs, sites e servidores"></p><br><h3 id="monitoring">  Monitoramento </h3><br><p>  O segundo produto mais popular do servi√ßo √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Monitoramento</a> de aplicativos Web, APIs e servidores Linux via protocolo SNMP. <br>  Um servi√ßo de monitoramento de terceiros √© uma excelente solu√ß√£o, pois voc√™ e sua equipe n√£o precisam instalar, atualizar, manter, investir recursos e tempo no desenvolvimento e na "conclus√£o" do monitoramento. </p><br><p><img src="https://habrastorage.org/webt/g_/xo/bp/g_xobpppox4g2ifx5llkrjxe1qi.png" alt="Linha do tempo da resposta do servidor"></p><br><p>  Para garantir que seu aplicativo Web esteja funcionando e acess√≠vel aos usu√°rios, verificamos o c√≥digo de resposta, os cabe√ßalhos, o corpo da resposta e a rapidez com que a resposta foi recebida. </p><br><p><img src="https://habrastorage.org/webt/pv/br/rw/pvbrrwr3wi0bf6nnm3cc-ruoiwy.png" alt="Monitorando para Nginx"></p><br><p>  O exemplo acima √© um exemplo de monitoramento de um n√≥ de extremidade com dados gerados dinamicamente, tudo o que voc√™ precisa √© retornar XML, JSON ou apenas Number e tamb√©m √© poss√≠vel configurar notifica√ß√µes, mesmo que os valores sejam muito altos, baixos ou n√£o atendam aos seus crit√©rios. </p><br><p><img src="https://habrastorage.org/webt/5s/uy/pf/5suypf3vylv32ksdrqbiaf1w4q0.png" alt="Painel SNMP"></p><br><p>  Acima est√° um exemplo de monitoramento de um servidor Linux via protocolo SNMP.  O SNMP √© um padr√£o do setor para a leitura de dados de v√°rios sensores de hardware e do sistema operacional, incluindo servidores Linux, que s√£o usados ‚Äã‚Äãpara atender a aplicativos da web modernos.  Para impedir o acesso n√£o autorizado aos seus servidores, o servi√ßo notificar√° voc√™ sobre cada conex√£o SSH rec√©m-estabelecida. </p><br><p><img src="https://habrastorage.org/webt/l_/1c/yt/l_1cytktj2qvi6jll7ux12pbway.png" alt="Notifica√ß√µes de conex√£o SSH"></p><br><p>  Saiba mais sobre o servi√ßo de monitoramento em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">snmp-monitoring.com</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/lx/8l/a-/lx8la-jz4l20bj_qrpraegfut4a.png" alt="An√°lise da Web"></p><br><h3 id="veb-analitika">  An√°lise da Web </h3><br><p>  O terceiro produto de servi√ßo mais popular √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Web Analytics</a> .  Depois que trabalhamos em um aplicativo com muita anima√ß√£o, nossos designers levaram muito tempo para tornar a anima√ß√£o mais suave.  Tudo estava bem e conclu√≠mos a tarefa, fornecendo anima√ß√£o aceit√°vel em todos os dispositivos e navegadores populares.  Mais tarde, o cliente definiu uma pequena tarefa - para adicionar o c√≥digo de an√°lise.  Essa foi uma das solu√ß√µes populares que coletou muitos dados sobre o usu√°rio, incluindo a posi√ß√£o do cursor e a rolagem da p√°gina para compilar um mapa de calor da p√°gina.  Como o JavaScript tem um ambiente de execu√ß√£o de thread √∫nico (Web Workers e Service Workers n√£o contam), e as an√°lises consumiram uma parte significativa dos recursos da CPU para rastrear todas as a√ß√µes do usu√°rio, isso arruinou todo o nosso trabalho, visando uma anima√ß√£o suave no or√ßamento e em dispositivos m√≥veis.  Ent√£o, surgiu a id√©ia e a primeira implementa√ß√£o de uma an√°lise da Web f√°cil de entender, em tempo real, confidencial e compat√≠vel com GDPR com 100% de c√≥digo aberto e um procedimento simples de n√£o rastreamento para o usu√°rio final. </p><br><p><img src="https://habrastorage.org/webt/w9/rp/0o/w9rp0ogt58tnzn0jf9c8gyjpagq.png" alt="Colete e relate todos os erros de JavaScript"></p><br><p>  Um dos principais recursos da an√°lise da web √© a coleta e organiza√ß√£o autom√°ticas de um relat√≥rio sobre todos os erros do <em>tempo de execu√ß√£o</em> do JavaScript ( <em>erros e exce√ß√µes de tempo de execu√ß√£o</em> ) em tempo real.  Se voc√™ est√° envolvido no desenvolvimento da Web, sabe como √© importante testar diferentes combina√ß√µes de dispositivos e navegadores em vers√µes diferentes, mas cobrir todos os 100% das combina√ß√µes √© simplesmente fisicamente imposs√≠vel.  Nesse exato momento, seus usu√°rios s√£o os propriet√°rios dos dispositivos nos quais √© necess√°rio realizar os testes.  O Web Analytics coleta automaticamente todos os erros e exce√ß√µes ( <em>erros, exce√ß√µes de tempo de execu√ß√£o</em> ) do tempo de execu√ß√£o JavaScript.  Cada relat√≥rio de erro √© acompanhado por uma descri√ß√£o, arquivo, linha e s√≠mbolo no arquivo, rastreamento de pilha (se houver), dispositivo, navegador, SO e suas vers√µes. </p><br><p><img src="https://habrastorage.org/webt/j3/2m/p7/j32mp71blomylertopj72cotsdk.png" alt="An√°lise da Web compat√≠vel com vue.js react.js meteor.js angular.js e outras solu√ß√µes front-end javascript"></p><br><p>  Uma lista completa dos produtos dispon√≠veis e informa√ß√µes mais detalhadas est√£o dispon√≠veis em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ostr.io.</a>  Todas as novas contas recebem um suprimento √∫nico de "empr√©stimos" ( <em>camada gratuita</em> ), o que possibilita implementar servi√ßos de integra√ß√£o e teste gratuitamente. </p><br><hr><br><p><img src="https://habrastorage.org/webt/2k/xx/qx/2kxxqxe0vbsprubsgqzssbsetq8.png" alt="A infraestrutura"></p><br><h3 id="infrastruktura">  A infraestrutura </h3><br><p>  A parte mais interessante √© a infraestrutura de servi√ßo.  Atualmente, dezessete servidores s√£o necess√°rios para atender √†s necessidades do servi√ßo.  Todos os produtos e suas unidades s√£o implementados como microsservi√ßos e cada microsservi√ßo √© hospedado em um servidor f√≠sico.  Todos os servidores s√£o c√≥pias id√™nticas um do outro.  Antes de cada implanta√ß√£o e altera√ß√£o no servidor de teste, todo o procedimento √© classificado em etapas e executado em um script bash, depois o script √© enviado ao GitHub, de onde ser√° recebido e iniciado por outros servidores.  Cada servidor cont√©m uma c√≥pia do c√≥digo do aplicativo, microsservi√ßos, Nginx e MongoDB ( <em>gra√ßas √†s r√©plicas</em> ). Esse esquema nos permite suportar ataques, sobreviver a testes sem √™xito e dar tempo para resolver o problema.  O servi√ßo estar√° dispon√≠vel para os usu√°rios, mesmo no caso de uma queda para 93% da infraestrutura, √© claro que isso pode afetar a velocidade de resposta, mas permite que ele esteja dentro da estrutura do SLA. </p><br><p>  Para distribuir uniformemente a carga entre todos os servidores, usamos dois n√≠veis de balanceamento de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DNS de rod√≠zio</a> ( <em>no nosso caso, CloudFlare</em> ) e nossos pr√≥prios servidores, nos quais o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HAProxy est√° instalado</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/67/2l/e6/672le6hjb58olsqhe95vgtzpuuu.png" alt="josk pacote NPM"></p><br><h3 id="josk">  Josk </h3><br><p>  Como voc√™ pode ver na descri√ß√£o acima, temos muitos eventos recorrentes, por exemplo, para monitorar servidores, APIs, Whois, DNS e outros pontos de extremidade, precisamos enviar uma solicita√ß√£o a eles regularmente e sem interrup√ß√µes.  Para garantir a continuidade das tarefas peri√≥dicas, constru√≠mos nossa rede descentralizada de muitos servidores, para que sempre saibamos que existe um servidor gratuito para executar tarefas.  Assim que as solicita√ß√µes excederem os recursos atuais, podemos adicionar facilmente o n√∫mero necess√°rio de novos servidores, gra√ßas ao esquema descrito acima, pela simplicidade do dimensionamento horizontal. </p><br><p>  Nos est√°gios iniciais, os recursos de nossos servidores excederam significativamente as necessidades atuais; como resultado, nos encontramos em uma situa√ß√£o em que dois ou mais servidores gratuitos executavam a mesma tarefa em paralelo.  Isso amea√ßou muito o desenvolvimento, pois o servi√ßo poderia enviar muitas cartas id√™nticas para um usu√°rio ou enviar dezenas de consultas DNS de nossos endere√ßos IP, o que amea√ßou com uma proibi√ß√£o. </p><br><p> Para resolver rapidamente esse problema, criamos um dessincronizador de tarefas, que fornece uma garantia de 95% de que a tarefa atribu√≠da na fila ser√° executada uma vez e em uma unidade de tempo.  Posteriormente, publicamos o c√≥digo do dessincronizador como um pacote NPM e denominamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>josk</code></a> .  Se voc√™ estiver interessado em olhar sob o cap√¥, aqui est√° um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link para o GitHub</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/9r/e9/d_/9re9d_zowqj18urp7e9gytvtwpi.jpeg" alt="pacote NPM na hora do correio"></p><br><h3 id="mail-time">  hora do correio </h3><br><p>  O mesmo motivo nos levou a criar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code> mail-time</code></a> que permite enviar cartas de uma infraestrutura multiservidor.  O pacote √© escrito com base no <code>josk</code> , organiza as cartas em uma fila e as envia de uma infraestrutura multiservidor.  Al√©m da correspond√™ncia, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>mail-time</code></a> permite dividir os microsservi√ßos em: </p><br><ol><li>  "clients" ( <code>client</code> ), que adicionam apenas letras √† fila; </li><li>  "servidor" ( <code>server</code> ), que cria um microsservi√ßo independente para executar apenas duas tarefas - gerenciar a fila de cartas e sua distribui√ß√£o. </li></ol><br><p>  Este n√£o √© o √∫nico recurso exclusivo da biblioteca. Para obter detalhes e uma descri√ß√£o mais detalhada de todos os recursos, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">leia a documenta√ß√£o</a> . </p><br><p>  Infelizmente, no momento, os dois pacotes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>josk</code></a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>mail-time</code></a> ) exigem o MongoDB como um banco de dados (DB) para fila e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>josk</code></a> .  Estamos prontos para desenvolver as duas bibliotecas e discutiremos e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adotaremos PR</a> com prazer para adicionar suporte a outros bancos de dados.  De nossa parte, o Redis parece um √≥timo candidato √† integra√ß√£o. </p><br><p>  Muito obrigado a todos que leram at√© o fim.  Se voc√™ estava interessado - fa√ßa perguntas e escreva na LAN e se houver interesse dos leitores, estou pronto para falar sobre a experi√™ncia de participar e falar em outros eventos sobre desenvolvimento web, node.js e JavaScript. </p><br><p>  <em>Todo mundo que estiver interessado em aprender sobre o ostr.io, usar o servi√ßo, obter um c√≥digo promocional, desconto ou respostas a perguntas - escreva-me no PM ou nas redes sociais.</em>  <em>Suporte ostr.io fala apenas ingl√™s, mas responde muito rapidamente, por exemplo, atrav√©s do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">messenger FB</a> .</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt443114/">https://habr.com/ru/post/pt443114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt443102/index.html">Mudan√ßa comportamental como produto: Por que Marie Kondo est√° levantando uma rodada de US $ 40 milh√µes com a Sequoia Capital?</a></li>
<li><a href="../pt443104/index.html">Calcular express√µes simb√≥licas com n√∫meros triangulares difusos em python</a></li>
<li><a href="../pt443106/index.html">Anunciado USB4: o que se sabe sobre o padr√£o</a></li>
<li><a href="../pt443110/index.html">Configure o cluster de alta disponibilidade do Kubernetes no bare metal com GlusterFS e MetalLB. Parte 2/3</a></li>
<li><a href="../pt443112/index.html">Tem certeza de que pode confiar na sua VPN?</a></li>
<li><a href="../pt443120/index.html">A Duma do Estado continuar√° a luta contra a venda ilegal de cart√µes SIM</a></li>
<li><a href="../pt443122/index.html">Vazamento de 809 milh√µes de endere√ßos de e-mail do servi√ßo Verifications.io devido √† abertura p√∫blica do MongoDB</a></li>
<li><a href="../pt443124/index.html">React.lazy? Mas e se voc√™ n√£o tiver um componente?</a></li>
<li><a href="../pt443126/index.html">D = Confian√ßa: por que o Google, Amazon, Apple e Facebook perdem e como restaur√°-lo</a></li>
<li><a href="../pt443128/index.html">kW, kW * he kW / h</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>