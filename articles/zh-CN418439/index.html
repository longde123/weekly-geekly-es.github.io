<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕 👨🏽‍🎓 ⏫ 渐进式Web应用程序基础 🛷 👨🏼‍🎓 ⛪️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您浏览过任何网站时，是否曾经看到Android智能手机屏幕上出现的“添加到主屏幕”按钮？ 如果单击此按钮，则会在后台在手机上安装某个应用程序，用于启动的图标将进入主屏幕。 现在，可以像以前一样启动此应用程序并在该站点上工作，但只能在常规电话界面中使用。 

 我们正在谈论的是从Web应用程序下载的移...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>渐进式Web应用程序基础</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/418439/"> 您浏览过任何网站时，是否曾经看到Android智能手机屏幕上出现的“添加到主屏幕”按钮？ 如果单击此按钮，则会在后台在手机上安装某个应用程序，用于启动的图标将进入主屏幕。 现在，可以像以前一样启动此应用程序并在该站点上工作，但只能在常规电话界面中使用。 <br><br> 我们正在谈论的是从Web应用程序下载的移动应用程序。 而且，如您所见，安装此类应用程序无需与Play Market进行交互。 结果，此类应用程序的安装尽可能简单。 但是，这远非最有趣。 通过启动此类程序，即使没有Internet连接，您也有机会使用它们显示的数据。 它们使您可以离线与网页进行交互。 好吧，那不是很棒吗？ <br><br> 我们今天发布的材料的作者将讨论此类应用程序，为何需要它们以及如何创建它们。 <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/nc/ty/c8/nctyc8oqonqamzmeywdxptx--ym.png"></a> <br><a name="habracut"></a><br> 您可能已经了解到，我们只是在谈论所谓的渐进式Web应用程序（PWA）。 这样的应用程序可以直接从浏览器窗口安装，启动它的图标看起来像普通移动应用程序的图标，并且它像许多移动应用程序一样，允许您在没有互联网连接的情况下使用它。 <br><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/09a/28a/feb/09a28afeb78ebaa82e45cc059912f56d.png"></div><br>  <i><font color="#999999">添加到主屏幕按钮</font></i> <br><br> 现在让我们谈谈在应用于Web应用程序时什么是“渐进性”。 我建议更好地了解它们，找出它们与常规Web应用程序的区别，此外，我想告诉您为什么我相信PWA比传统的移动应用程序更好。 <br><br><h2>  <font color="#3AC1EF">什么是渐进式Web应用程序？</font> </h2><br> 术语“渐进式Web应用程序”是Alex Russell和Frances Berriman创造的。 据Alex称，渐进式Web应用程序只是采用了正确维生素的网站。  PWA的核心不能被称为新框架或新技术。 实际上，这是一组高级开发方法，使您可以使Web应用程序的行为与经典台式机或移动应用程序的行为非常相似。 <br><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/014/8c4/36e/0148c436eee0ebcb66c3cba567e8eb46.png"></div><br>  <i><font color="#999999">主屏幕上的PWA图标</font></i> <br><br>  PWA通过逐步的应用程序增强为用户提供了新的可用性。 通常，这意味着PWA在不同世代的移动设备上将大致相同。 当然，普通电话应用程序的某些功能可能不可用，但是这些应用程序通常以它们应为它们工作的方式在不同的设备上工作。 <br><br><h2>  <font color="#3AC1EF">为什么需要高级Web应用程序？</font> </h2><br> 在弄清楚为什么根本需要PWA之前，让我们先谈一下在设计Web应用程序和常规移动应用程序时遇到的问题。 <br><br><ul><li> 互联网连接速度慢。 也许，在您居住的地方，借助快速的互联网，一切都井井有条，因此，此问题不会影响您。 但是，世界上仍有60％的人口使用2G互联网。 即使在美国，某些用户也只能获得速度，这与使用简单电话线的普通调制解调器的速度不相上下。 </li><li> 网站加载缓慢。 如果网站加载非常缓慢，您是否知道用户等待多长时间才能单击关闭窗口按钮？ 三秒钟！  53％的用户离开网站的速度太慢。 </li><li> 安装应用程序的复杂性。 用户不希望安装常规的移动应用程序。 平均用户每月安装0个应用程序。 </li><li> 让用户参与使用应用程序。 用户将大部分时间都花在普通的移动应用程序上，但移动网络应用程序的覆盖范围大约是其三倍。 结果，大多数用户没有特别积极地参与应用程序的工作，尽管这些用户80％的时间都花在了他们最常使用的三个移动应用程序中。 </li></ul><br> 渐进式Web应用程序有助于解决这些问题。 <br><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/getpro/habr/post_images/6ae/0f1/93f/6ae0f193fc1093010b046bd255a058cd.png"></div><br>  <i><font color="#999999">行动中的PWA</font></i> <br><br> 使用PWA的原因很多，在这里我想强调一下它们提供的主要功能。 如果用一个词来描述这些功能，则FIRE代表快速，集成，可靠，参与，也就是说，渐进式Web应用程序应该快速，集成到设备的工作环境中，可靠，并具有吸引用户参与其中的手段。 <br><br><ol><li> 如果我们谈论速度，那么PWA在用户与他们互动的所有阶段都将迅速发挥作用。 它们可以快速安装，快速启动，快速工作。 由于PWA允许您缓存数据，因此即使不访问网络资源，重新启动此类应用程序的速度也非常快。 <br></li><li>  PWA在设备环境中的集成表现为这样的应用程序的行为类似于常规应用程序。 用于启动它们的图标在主屏幕上，它们可以使用推送通知，它们可以使用与常规应用程序相同的设备功能。 结果，当使用渐进式Web应用程序时，用户不会感到自己正在离开熟悉的环境。 </li><li> 集成Web应用程序的可靠性基于以下事实：由于可以使用服务工作者缓存数据，因此即使不连接网络也可以正常工作。 </li><li>  PWA与用户互动的能力基于他们可以向用户发送通知的事实。 这使您可以使用户了解与该应用程序有关的有趣事件，并吸引他使用该应用程序。 </li></ol><br><h2>  <font color="#3AC1EF">如何创建渐进式Web应用程序？</font> </h2><br>  Google已发布了用于开发高级Web应用程序的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">清单</a> 。 考虑一个应用程序的最低要求，遵循该要求可以将其称为PWA。 <br><br><h3>  <font color="#3AC1EF">▍1。</font>  <font color="#3AC1EF">申请清单</font> </h3><br>  PWA清单是带有以下内容的<code>manifest.json</code>文件： <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Trending Meme"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"short_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Meme"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"theme_color"</span></span>: <span class="hljs-string"><span class="hljs-string">"#2196f3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"background_color"</span></span>: <span class="hljs-string"><span class="hljs-string">"#2196f3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"display"</span></span>: <span class="hljs-string"><span class="hljs-string">"standalone"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"orientation"</span></span>: <span class="hljs-string"><span class="hljs-string">"portrait"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Scope"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start_url"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"icons"</span></span>: [   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-72x72.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"72x72"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-96x96.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"96x96"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-128x128.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"128x128"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-144x144.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"144x144"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-152x152.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"152x152"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-192x192.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"192x192"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-384x384.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"384x384"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   },   {     <span class="hljs-attr"><span class="hljs-attr">"src"</span></span>: <span class="hljs-string"><span class="hljs-string">"images/icons/icon-512x512.png"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"sizes"</span></span>: <span class="hljs-string"><span class="hljs-string">"512x512"</span></span>,     <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"image/png"</span></span>   } ], <span class="hljs-attr"><span class="hljs-attr">"splash_pages"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }</code> </pre> <br> 我们面前有一个常规的JSON文件，其中包含有关Web应用程序的元信息。 这里有关于应用程序图标的数据（用户在安装应用程序后在主屏幕上看到的一个图标），应用程序的背景色，其全名和缩写名，等等。 您可以自己编写此清单，也可以使用自动创建此类文件的特殊<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">工具</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91d/892/bce/91d892bce667a54d5f0edb75cb1727a1.png"></div><br>  <i><font color="#999999">一个使创建manifest.json文件更容易的网站</font></i> <br><br><h3>  <font color="#3AC1EF">▍2。</font>  <font color="#3AC1EF">服务人员</font> </h3><br> 服务工作者是事件驱动的工作者，他们在应用程序的后台运行，并充当应用程序和网络资源之间的中介。 他们可以拦截网络请求并缓存应用程序的信息。 它们可用于下载计划用来确保应用程序脱机工作的数据。 服务工作者是JavaScript程序，它们拦截某些事件的处理并执行某些任务。 <br><br> 这是一个示例<code>serviceworker.js</code>文件。 <br><br><pre> <code class="hljs pgsql">self.addEventListener(<span class="hljs-string"><span class="hljs-string">'fetch'</span></span>, event =&gt; {   //           const {request} = event;   const url = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> URL(request.url);   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(url.origin === <span class="hljs-keyword"><span class="hljs-keyword">location</span></span>.origin) {       event.respondWith(cacheData(request));   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {       event.respondWith(networkFirst(request));   } }); async <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> cacheData(request) {   const cachedResponse = await caches.match(request);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cachedResponse || <span class="hljs-keyword"><span class="hljs-keyword">fetch</span></span>(request); }</code> </pre> <br><h3>  <font color="#3AC1EF">▍3。</font>  <font color="#3AC1EF">徽章</font> </h3><br> 图标用于启动安装在PWA设备上的图标。 前面提到的有助于创建清单文件的站点，使您可以基于上载到该站点的512x512像素大小的单个图像文件自动生成一组应用程序图标。 生成的文件以<code>.png</code>格式保存。 <br><br><h3>  <font color="#3AC1EF">▍4。</font>  <font color="#3AC1EF">安全性</font> </h3><br> 为了将某些应用程序称为PWA，它必须支持使用HTTPS通过安全通信通道进行的数据交换。 使用Cloudflare和LetsEncrypt等服务的功能很容易获得用于组织这种连接的SSL证书。 如今，应用程序保护不仅是绝对必要的，而且还是向用户证明应用程序的可靠性并与用户建立信任关系的一种方式。 <br><br><h2>  <font color="#3AC1EF">总结</font> </h2><br> 在本文中，我们讨论了渐进式Web应用程序，讨论了为什么需要它们，它们解决了什么问题，向它们提出了什么要求。 在这里，我们还谈到了它们的开发主题，尤其是，我们讨论了PWA清单，服务工作者，应用程序图标，以及它们需要使用HTTPS保护的问题。  PWA技术通常被视为与Android智能手机完全相关的东西，直到最近，这种观点才具有生命权。 但是，考虑到今年发生的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">事件</a> ，可以说PWA在许多平台上都有非常有趣的未来。 实际上，PWA的主题还远远没有被所有这些用尽。 因此，我们很有可能会返回到它。 <br><br>  <b>亲爱的读者们！</b> 您对渐进式Web应用程序有何看法？ <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN418439/">https://habr.com/ru/post/zh-CN418439/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN418427/index.html">移动优先索引。 链接图如何以及为什么会改变？</a></li>
<li><a href="../zh-CN418429/index.html">我在欧洲从事敏捷教练的工作经验，第二部分</a></li>
<li><a href="../zh-CN418431/index.html">想象中的问题-不良软件的根源</a></li>
<li><a href="../zh-CN418433/index.html">8月4日 彼得 程序员的第一个自行车追求</a></li>
<li><a href="../zh-CN418437/index.html">超速救援队</a></li>
<li><a href="../zh-CN418441/index.html">Windows特权升级基础</a></li>
<li><a href="../zh-CN418443/index.html">GObject：封装，实例化，自省</a></li>
<li><a href="../zh-CN418445/index.html">Django Channels-现代网络的答案</a></li>
<li><a href="../zh-CN418447/index.html">为什么莫斯科Python Conf现在是++</a></li>
<li><a href="../zh-CN418449/index.html">适用于Python的二进制模块</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>