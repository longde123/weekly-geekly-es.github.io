<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî´ ‚è∞ üÜò So l√∂sen Sie ein altes Problem mit ML in Python und .Net ‚òòÔ∏è üë®‚Äçüë¶‚Äçüë¶ üñï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es kommt vor, dass einige Aufgaben Sie viele Jahre lang verfolgen. F√ºr mich wurde das Zusammenkleben von Texts√§tzen, bei denen der √úbergang zu einer n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So l√∂sen Sie ein altes Problem mit ML in Python und .Net</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457072/"><p><img src="https://habrastorage.org/webt/bm/pi/vr/bmpivrmqylxi0ypvqte57qsnadw.png"></p><br><p>  Es kommt vor, dass einige Aufgaben Sie viele Jahre lang verfolgen.  F√ºr mich wurde das Zusammenkleben von Texts√§tzen, bei denen der √úbergang zu einer neuen Zeile und oft auch der Zeilenumbruch fest verstopft sind, zu einer solchen Aufgabe.  In der Praxis ist dies Text, der aus PDF oder OCR extrahiert wurde.  Oft findet man solche Texte auf den Websites von Online-Bibliotheken, in Archiven alter Dokumente, die von DOS-Redakteuren bearbeitet wurden.  Und eine solche Formatierung st√∂rt dann die ordnungsgem√§√üe Aufteilung in S√§tze (und mit Silbentrennungen in Token) f√ºr die nachfolgende NLP-Verarbeitung.  Und es ist banal, ein solches Dokument in den Suchergebnissen anzuzeigen - es wird h√§sslich. </p><br><p> Ich habe dieses Problem mehrmals gel√∂st - in Delphi, C #.  Dann war es ein harter Algorithmus, bei dem ich mit meinen H√§nden zum Beispiel schrieb, wie breit der Text sein k√∂nnte, so dass dieser Text als "auf die alte Weise" formatiert angesehen wurde.  Dies funktionierte nicht immer perfekt, aber im Allgemeinen war es genug. </p><a name="habracut"></a><br><p>  Im Moment krieche ich in einigen ML-Projekten in Python.  An einem Punkt stellte sich heraus, dass das n√§chste Korpus von Dokumenten aus Texten besteht, die aus PDF-Versionen wissenschaftlicher Artikel extrahiert wurden.  Nat√ºrlich wurde der Text mit einem harten Zeilenumbruch durch die Zeichen am Ende des Absatzes mit Bindestrichen extrahiert.  Das hei√üt, es war unm√∂glich, mit solchen Texten normal weiter zu arbeiten.  Python ist attraktiv, weil es fast alles hat!  Aber ein paar Stunden Suchen haben nichts Vern√ºnftiges gebracht (vielleicht war es nat√ºrlich das, wonach ich gesucht habe).  Und dann habe ich mich noch einmal entschlossen, einen Postprozessor f√ºr solche Dokumente zu schreiben.  Sie hatten zwei M√∂glichkeiten: Portieren Sie Ihren bisherigen Code mit C # oder schreiben Sie etwas, das Sie lernen k√∂nnten.  Der zweite Ansatz wurde schlie√ülich durch die Tatsache ausgel√∂st, dass wissenschaftliche Texte teilweise aus zweispaltigen und teilweise aus einspaltigen Texten exportiert wurden.  Auch verschiedene Schriftgr√∂√üen.  Dies f√ºhrte dazu, dass die alte Version mit fest verdrahteten zul√§ssigen Grenzen oft falsch funktionierte.  Wieder manuell sitzen, Optionen ausw√§hlen - nun, nein, bald wird die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Singularit√§t kommen</a> , ich habe keine Zeit daf√ºr!  Es ist also entschieden - wir schreiben eine Bibliothek mit maschinellem Lernen. </p><br><p>  Der gesamte Code befindet sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Repository</a> : </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Notizbuch mit Schritten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstprogramme (gleichzeitig und eine Vorlage f√ºr die Codegenerierung)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Generierter Code</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bei markierten (und nicht nur) Dokumenten</a> </li></ul><br><h1 id="razmetka">  Markup </h1><br><p>  Was ist die Begeisterung und Komplexit√§t des maschinellen Lernens? Wenn der Algorithmus irgendwo fehlschl√§gt, m√ºssen Sie das Programm h√§ufig nicht selbst √§ndern.  Es reicht aus, neue Daten zu sammeln (h√§ufig m√ºssen sie gleichzeitig mit Anmerkungen versehen werden) und die Erstellung des Modells neu zu starten.  Der Computer erledigt den Rest f√ºr Sie.  Nat√ºrlich besteht die M√∂glichkeit, dass Sie f√ºr neue Daten neue Funktionen entwickeln und die Architektur √§ndern m√ºssen. In den meisten F√§llen m√ºssen Sie jedoch nur √ºberpr√ºfen, ob alles gut funktioniert hat.  Dies ist auch eine Schwierigkeit - das Sammeln und Markieren von Daten kann schwierig sein.  Oder sehr schwierig.  Und auch - furchtbar langweilig :-) </p><br><p>  Das Langweiligste ist also das Markup.  Der Korpusordner enth√§lt Dokumente, die ich gerade aus dem Krapivin2009-Dokumententext entnommen habe, mit dem ich gerade gearbeitet habe.  Es gibt 10 Dokumente, die mir typisch erschienen.  Ich habe nur 3 markiert, da bereits zu Beginn des Trainings auf dieser Basis eine ausreichende Qualit√§t des ‚ÄûKlebstoffs‚Äú erzielt wurde.  Wenn sich in Zukunft herausstellt, dass nicht alles so einfach ist, werden neue Dokumente mit Markup in diesen Ordner gelegt und der Lernprozess wiederholt. </p><br><p>  In diesem Fall schien es mir zweckm√§√üig, dass die Dateien Text blieben, daher bestand das Markup-Format darin, am Anfang der Zeile ein Zeichen einzuf√ºgen, dass diese Zeile an die vorherige geklebt werden sollte (das Zeichen '+') oder nicht (das Zeichen '*').  Hier ist ein Ausschnitt (Datei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1005058.txt</a> ): </p><br><pre><code class="plaintext hljs">*Introduction *Customers on the web are often overwhelmed with options and flooded with promotional messages for +products or services they neither need nor want. When users cannot find what they are searching for, the +e-commerce site struggles to maintain good customer relations. *Employing a recommender system as part of a site's Customer Relationship Management (CRM) activities +can overcome the problems associated with providing users with too little information, or too much of +the wrong information. Recommender systems are able to assist customers during catalog browsing and are +an effective way to cross-sell and improve customer loyalty. *In this paper, we will compare several recommender systems being used as an essential component of +CRM tools under development at Verizon. Our solutions are purposely for the current customers and current +products - recommendations for new customers and new products are out of the scope of this paper.</code> </pre> <br><p>  Ein paar Stunden langwierige Arbeit und 3 Dateien mit 2300 Beispielen (eine Zeile - ein Beispiel) stehen bereit.  Dies reicht in vielen F√§llen bereits f√ºr einfache Klassifikatoren wie die dann angewandte logistische Regression aus. </p><br><h1 id="fichi">  Eigenschaften </h1><br><p>  Klassifikatoren arbeiten nicht direkt mit Textdaten.  Eintr√§ge werden mit Features bedient - entweder Zahlen oder Boolesche Zeichen (die wiederum in Zahlen 0/1 √ºbersetzt werden), dass ein Feature vorhanden ist oder nicht.  Das Erstellen der richtigen Funktionen aus guten Daten ist der Schl√ºssel zum Erfolg des maschinellen Lernens.  Ein Merkmal unseres Falles ist, dass unser Korpus englische Texte sind.  Und ich m√∂chte zumindest eine minimale Sprachunabh√§ngigkeit erreichen.  Zumindest in europ√§ischen Sprachen.  Daher verwenden wir f√ºr Textfunktionen einen kleinen Trick. </p><br><p>  Das Konvertieren von Text in eine Liste von Features und Beschriftungen, ob mit der vorherigen Zeile <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">geklebt werden</a> soll, wird von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hilfsfunktion _featurize_text_with_annotation ausgef√ºhrt</a> : </p><br><pre> <code class="python hljs">x, y = pdf_lines_gluer._featurize_text_with_annotation(raw_text)</code> </pre> <br><p>  Hinweis - hier und weiter gehen haupts√§chlich Codefragmente in Python, die Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vollst√§ndig in einem Laptop sehen k√∂nnen</a> . </p><br><p>  Verwendete Funktionen: </p><br><ul><li>  'this_len' - die L√§nge der aktuellen Zeile in Zeichen. </li><li>  'mean_len' - die durchschnittliche Zeilenl√§nge im Bereich -5 ... + 5 Zeilen. </li><li>  'prev_len' - die L√§nge der vorherigen Zeile in Zeichen. </li><li>  'first_chars' - hier ist unsere knifflige Funktion.  Die ersten 2 Zeichen der Zeichenfolge werden hier platziert.  Gleichzeitig werden alle Kleinbuchstaben (eines beliebigen Alphabets) durch das englische Zeichen 'a' ersetzt, Gro√übuchstaben durch 'A' und Zahlen durch '0'.  Dies reduziert die Anzahl m√∂glicher Zeichen erheblich und fasst sie zusammen.  Beispiele f√ºr das, was passiert: 'Aa', 'aa', 'AA', '0.', 'a-' ... </li><li>  'isalpha' - ob der Buchstabe das letzte Zeichen der vorherigen Zeile ist. </li><li>  'isdigit' - Gibt an, ob die Ziffer das letzte Zeichen der vorherigen Zeile ist. </li><li>  'islower' - Gibt an, ob der Kleinbuchstabe das letzte Zeichen der vorherigen Zeile ist. </li><li>  'punct' - ein Interpunktionszeichen, das mit der vorherigen Zeile endet, oder ein Leerzeichen f√ºr andere Zeichen. </li></ul><br><p>  Ein Beispiel f√ºr eine Reihe von Funktionen f√ºr eine Zeile: </p><br><pre> <code class="plaintext hljs">{'this_len': 12, 'mean_len': 75.0, 'prev_len': 0, 'first_chars': 'Aa', 'isalpha': False, 'isdigit': False, 'islower': False, 'punct': ' '}</code> </pre> <br><p>  Damit der Klassifizierer aus dem sklearn-Paket mit ihnen arbeiten kann, verwenden wir die DictVectorizer-Klasse, mit der Zeichenfolgenfunktionen (wir haben 'first_chars') in mehrere Spalten mit dem Titel (Namen k√∂nnen √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">get_feature_names ()</a> abgerufen werden) als 'first_chars = konvertiert werden Aa ',' first_chars = 0. '.  Boolesche Merkmale werden zu Nullen und Einsen, w√§hrend numerische Werte Zahlen bleiben - Feldnamen √§ndern sich nicht.  √Ñu√üerlich gibt die Methode numpy.array von ungef√§hr diesem Typ zur√ºck (es wird nur eine Zeile angezeigt): </p><br><pre> <code class="plaintext hljs">[[ 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 39.1 30. 0. 1. 36. ]]</code> </pre> <br><h1 id="trenirovka-klassifikatora">  Klassifikator Training </h1><br><p>  Nachdem wir eine Reihe von Funktionen in Form eines Arrays von Gleitkommazahlen erhalten haben, k√∂nnen wir nun mit dem Lernprozess beginnen.  Dazu verwenden wir die logistische Regression als Klassifikator.  Klassen sind unausgeglichen, daher setzen wir die Option class_weight = 'ausgeglichen' und √ºberpr√ºfen das Ergebnis im Testteil des Falls: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LogisticRegression <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classification_report clf = LogisticRegression(random_state=<span class="hljs-number"><span class="hljs-number">1974</span></span>, solver=<span class="hljs-string"><span class="hljs-string">'liblinear'</span></span>, max_iter=<span class="hljs-number"><span class="hljs-number">2000</span></span>, class_weight=<span class="hljs-string"><span class="hljs-string">'balanced'</span></span>) clf.fit(x_train, y_train) y_pred = clf.predict(x_test) print(classification_report(y_true=y_test, y_pred=y_pred))</code> </pre> <br><p>  Wir bekommen solche Qualit√§tsindikatoren: </p><br><pre> <code class="plaintext hljs"> precision recall f1-score support False 0.82 0.92 0.86 207 True 0.96 0.91 0.94 483 accuracy 0.91 690 macro avg 0.89 0.91 0.90 690 weighted avg 0.92 0.91 0.91 690</code> </pre> <br><p>  Wie Sie sehen k√∂nnen, haben wir in etwa 1/10 der F√§lle Fehler verschiedener Art.  Aber in der Praxis ist nicht alles so be√§ngstigend.  Tatsache ist, dass selbst bei Augenmarkierungen nicht immer klar ist, wo sich das Ende des Absatzes befindet und wo nur das Ende des Satzes.  Daher kann auch das Markup selbst solche Fehler enthalten.  Die kritischsten Fehler sind jedoch nicht dort, wo sie an der Grenze des Vorschlags auftreten, sondern dort, wo der Vorschlag zerrissen bleibt.  Und in der Realit√§t gibt es nur sehr wenige solche Fehler. </p><br><h1 id="vosstanavlivaem-tekst">  Text wiederherstellen </h1><br><p>  Es ist an der Zeit, den durch das Extrahieren aus PDF besch√§digten Text wiederherzustellen.  Wir k√∂nnen bereits bestimmen, ob die Linie mit der vorherigen geklebt werden soll, aber es gibt noch einen Punkt - die Silbentrennung.  Hier ist alles ziemlich einfach, also habe ich diesen Teil hart codiert (ich erlaube mir einen Pseudocode): </p><br><pre> <code class="plaintext hljs">     :         :       :      :        \n</code> </pre> <br><p>  Mit einer solchen Strategie bewaffnet stellen wir den englischen Text wieder her (es gibt Fehler wie "ff" und "fi" im Original - er wurde einfach aus dem Fall Krapivin2009 kopiert): </p><br><div class="spoiler">  <b class="spoiler_title">Englischer Originaltext</b> <div class="spoiler_text"><pre> <code class="python hljs">text = <span class="hljs-string"><span class="hljs-string">"""The rapid expansion of wireless services such as cellular voice, PCS (Personal Communications Services), mobile data and wireless LANs in recent years is an indication that signicant value is placed on accessibility and portability as key features of telecommunication (Salkintzis and Mathiopoulos (Guest Ed.), 2000). devices have maximum utility when they can be used any- where at anytime". One of the greatest limitations to that goal, how- ever, is nite power supplies. Since batteries provide limited power, a general constraint of wireless communication is the short continuous operation time of mobile terminals. Therefore, power management is y Corresponding Author: Dr. Krishna Sivalingam. Part of the research was supported by Air Force Oce of Scientic Research grants F-49620-97-1- 0471 and F-49620-99-1-0125; by Telcordia Technologies and by Intel. Part of the work was done while the rst author was at Washington State Univer- sity. The authors' can be reached at cej@bbn.com, krishna@eecs.wsu.edu, pagrawal@research.telcordia.com, jcchen@research.telcordia.com c 2001 Kluwer Academic Publishers. Printed in the Netherlands. Jones, Sivalingam, Agrawal and Chen one of the most challenging problems in wireless communication, and recent research has addressed this topic (Bambos, 1998). Examples include a collection of papers available in (Zorzi (Guest Ed.), 1998) and a recent conference tutorial (Srivastava, 2000), both devoted to energy ecient design of wireless networks. Studies show that the signicant consumers of power in a typical laptop are the microprocessor (CPU), liquid crystal display (LCD), hard disk, system memory (DRAM), keyboard/mouse, CDROM drive, oppy drive, I/O subsystem, and the wireless network interface card (Udani and Smith, 1996, Stemm and Katz, 1997). A typical example from a Toshiba 410 CDT mobile computer demonstrates that nearly 36% of power consumed is by the display, 21% by the CPU/memory, 18% by the wireless interface, and 18% by the hard drive. Consequently, energy conservation has been largely considered in the hardware design of the mobile terminal (Chandrakasan and Brodersen, 1995) and in components such as CPU, disks, displays, etc. Signicant additional power savings may result by incorporating low-power strategies into the design of network protocols used for data communication. This paper addresses the incorporation of energy conservation at all layers of the protocol stack for wireless networks. The remainder of this paper is organized as follows. Section 2 introduces the network architectures and wireless protocol stack considered in this paper. Low-power design within the physical layer is brie y discussed in Section 2.3. Sources of power consumption within mobile terminals and general guidelines for reducing the power consumed are presented in Section 3. Section 4 describes work dealing with energy ecient protocols within the MAC layer of wireless networks, and power conserving protocols within the LLC layer are addressed in Section 5. Section 6 discusses power aware protocols within the network layer. Opportunities for saving battery power within the transport layer are discussed in Section 7. Section 8 presents techniques at the OS/middleware and application layers for energy ecient operation. Finally, Section 9 summarizes and concludes the paper. 2. Background This section describes the wireless network architectures considered in this paper. Also, a discussion of the wireless protocol stack is included along with a brief description of each individual protocol layer. The physical layer is further discussed. """</span></span> corrected = pdf_lines_gluer._preprocess_pdf(text, clf, v) print(corrected)</code> </pre> </div></div><br><p>  Nach der Genesung erhalten wir: </p><br><div class="spoiler">  <b class="spoiler_title">Wiederhergestellter englischer Text</b> <div class="spoiler_text"><p>  Die rasche Ausweitung von drahtlosen Diensten wie Mobilfunk, PCS (Personal Communications Services), mobilen Daten und drahtlosen LANs in den letzten Jahren ist ein Hinweis darauf, dass Zug√§nglichkeit und Portabilit√§t als Schl√ºsselmerkmale der Telekommunikation einen hohen Stellenwert haben (Salkintzis und Mathiopoulos (Guest Ed .), 2000).  Ger√§te haben maximalen Nutzen, wenn sie jederzeit und √ºberall verwendet werden k√∂nnen. "Eine der gr√∂√üten Einschr√§nkungen f√ºr dieses Ziel sind jedoch Endstromversorgungen. Da Batterien nur eine begrenzte Leistung liefern, ist die kurze Dauerbetriebszeit des Mobiltelefons eine allgemeine Einschr√§nkung der drahtlosen Kommunikation Daher ist Power Management ein korrespondierender Autor: Dr. Krishna Sivalingam. Ein Teil der Forschung wurde von Air Force Oce of Scientic Research mit den Zusch√ºssen F-49620-97-10471 und F-49620-99-1-0125 von Telcordia unterst√ºtzt Technologien und von Intel. Ein Teil der Arbeit wurde durchgef√ºhrt, als der erste Autor an der Washington State University war. Die Autoren k√∂nnen unter cej@bbn.com, krishna@eecs.wsu.edu, pagrawal@research.telcordia.com, erreicht werden. jcchen@research.telcordia.com c <br>  2001 Kluwer Academic Publishers.  Gedruckt in den Niederlanden. <br>  Jones, Sivalingam, Agrawal und Chen sind eines der schwierigsten Probleme in der drahtlosen Kommunikation, und neuere Forschungen haben sich mit diesem Thema befasst (Bambos, 1998).  Beispiele hierf√ºr sind eine Sammlung von Artikeln, die in (Zorzi (Guest Ed.), 1998) verf√ºgbar sind, und ein k√ºrzlich ver√∂ffentlichtes Konferenz-Tutorial (Srivastava, 2000), die sich beide mit dem energieeffizienten Design drahtloser Netzwerke befassen. <br>  Studien zeigen, dass die wichtigsten Stromverbraucher in einem typischen Laptop der Mikroprozessor (CPU), das Fl√ºssigkristalldisplay (LCD), die Festplatte, der Systemspeicher (DRAM), die Tastatur / Maus, das CD-ROM-Laufwerk, das Gegenlaufwerk, das E / A-Subsystem, sind. und die drahtlose Netzwerkschnittstellenkarte (Udani und Smith, 1996, Stemm und Katz, 1997).  Ein typisches Beispiel eines mobilen Toshiba 410 CDT-Computers zeigt, dass fast 36% des Stromverbrauchs vom Display, 21% von der CPU / dem Speicher stammen. <br>  18% √ºber die drahtlose Schnittstelle und 18% √ºber die Festplatte.  Infolgedessen wurde die Energieeinsparung beim Hardware-Design des mobilen Endger√§ts (Chandrakasan und Brodersen, 1995) sowie bei Komponenten wie CPU, Festplatten, Displays usw. weitgehend ber√ºcksichtigt.  Durch die Einbeziehung von Strategien mit geringem Stromverbrauch in den Entwurf von Netzwerkprotokollen, die f√ºr die Datenkommunikation verwendet werden, k√∂nnen erhebliche zus√§tzliche Energieeinsparungen erzielt werden.  Dieses Dokument befasst sich mit der Einbeziehung der Energieeinsparung auf allen Ebenen des Protokollstapels f√ºr drahtlose Netzwerke. <br>  Der Rest dieses Papiers ist wie folgt organisiert.  In Abschnitt 2 werden die in diesem Dokument ber√ºcksichtigten Netzwerkarchitekturen und der drahtlose Protokollstapel vorgestellt.  Low-Power-Design innerhalb der physischen Schicht ist kurz <br>  diskutiert in Abschnitt 2.3.  Die Quellen des Stromverbrauchs in mobilen Endger√§ten und allgemeine Richtlinien zur Reduzierung des Stromverbrauchs sind in Abschnitt 3 aufgef√ºhrt. Abschnitt 4 beschreibt die Arbeit mit energieeffizienten Protokollen innerhalb der MAC-Schicht von drahtlosen Netzwerken, und Energieeinsparungsprotokolle innerhalb der LLC-Schicht werden in Abschnitt 3 behandelt <br>  5. In Abschnitt 6 werden leistungsbewusste Protokolle innerhalb der Netzwerkschicht erl√§utert.  M√∂glichkeiten zum Einsparen von Batteriestrom innerhalb der Transportschicht werden in Abschnitt 7 er√∂rtert. In Abschnitt 8 werden Techniken auf der OS / Middleware- und Anwendungsschicht f√ºr einen energieeffizienten Betrieb vorgestellt. <br>  Schlie√ülich fasst Abschnitt 9 das Papier zusammen und schlie√üt es ab. <br>  2. Hintergrund <br>  In diesem Abschnitt werden die in diesem Dokument ber√ºcksichtigten drahtlosen Netzwerkarchitekturen beschrieben.  Au√üerdem ist eine Diskussion des drahtlosen Protokollstapels zusammen mit einer kurzen Beschreibung jeder einzelnen Protokollschicht enthalten.  Die physikalische Schicht wird weiter diskutiert. </p></div></div><br><p>  Es gibt einen kontroversen Ort, aber im Allgemeinen wurden S√§tze wiederhergestellt und dieser Text kann bereits als ganze S√§tze verarbeitet werden. </p><br><p>  Wir planten jedoch eine sprachunabh√§ngige Option.  Und genau darauf zielen unsere Funktionen ab.  Lassen Sie uns russischen Text einchecken (auch ein Textfragment aus PDF): </p><br><div class="spoiler">  <b class="spoiler_title">Russischer Originaltext</b> <div class="spoiler_text"><pre> <code class="python hljs">ru_text = <span class="hljs-string"><span class="hljs-string">"""       -       (. 1.10),    ,   - .       ,      , -   .       ,       .          : 1.        ,       -  (   ,   . 1.10,    ). 2.    ( )           ,     .      ,     ."""</span></span> corrected = pdf_lines_gluer._preprocess_pdf(ru_text, clf, v) print(corrected)</code> </pre> </div></div><br><p>  Erhalten: </p><br><div class="spoiler">  <b class="spoiler_title">Restaurierter russischer Text</b> <div class="spoiler_text"><p>  Die Support-Vektor-Methode wurde entwickelt, um Klassifizierungsprobleme zu l√∂sen, indem nach guten Entscheidungsgrenzen gesucht wird (Abb. 1.10), die zwei Punktmengen trennen, die zu verschiedenen Kategorien geh√∂ren.  Die entscheidende Grenze kann eine Linie oder Fl√§che sein, die eine Stichprobe von Trainingsdaten in R√§ume unterteilt, die zu zwei Kategorien geh√∂ren.  Um neue Punkte zu klassifizieren, reicht es aus, nur zu √ºberpr√ºfen, auf welcher Seite des Randes sie sich befinden. <br>  Die Suchvektormethode sucht in zwei Schritten nach solchen Grenzen: <br>  1. Daten werden in einen neuen Raum h√∂herer Dimension abgebildet, in dem die Grenze als Hyperebene dargestellt werden kann (wenn die Daten zweidimensional w√§ren, wie in Abb. 1.10 dargestellt, degeneriert die Hyperebene zu einer Linie). <br>  2. Eine gute Entscheidungsgrenze (Teilen der Hyperebene) wird berechnet, indem der Abstand von der Hyperebene zu den n√§chsten Punkten jeder Klasse maximiert wird. Dieser Schritt wird als Maximieren der L√ºcke bezeichnet.  Dies erm√∂glicht es uns, die Klassifizierung neuer Stichproben, die nicht zum Trainingsdatensatz geh√∂ren, zu verallgemeinern. </p></div></div><br><p>  Hier ist alles perfekt. </p><br><h1 id="kak-polzovatsya-kodogeneraciya">  Verwendung (Codegenerierung) </h1><br><p>  Zuerst hatte ich vor, ein Paket zu erstellen, das mit PIP geliefert werden kann, aber dann habe ich mir (f√ºr mich) einen einfacheren Weg ausgedacht.  Die Funktionen erwiesen sich als nicht sehr umfangreich, die logistische Regression selbst und DictVectorizer haben eine einfache Struktur: </p><br><ul><li>  F√ºr DictVectorizer reicht es aus, die Feature- <em>Namen</em> und Vokabelfelder zu speichern </li><li>  LogisticRegression hat coef <em>, classes</em> , intercept_ </li></ul><br><p>  Daher wurde eine andere Option mit der Codegenerierung geboren (im Laptop steht sie im Abschnitt "Als Code serialisieren"): </p><br><ol><li>  Wir lesen die Datei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pdf_lines_gluer.py</a> , die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hilfscode</a> zum Vektorisieren und Wiederherstellen von Text mit einem trainierten Klassifikator enth√§lt. </li><li>  An der Stelle, die in der Quelle als "# Code hier einf√ºgen #" angegeben ist, f√ºgen wir den Code ein, der den DictVectorizer und LogisticRegression in dem Zustand initialisiert, den wir nach dem Training in unserem Laptop erhalten haben.  Wir f√ºgen hier auch die einzige √∂ffentliche (so weit wie m√∂glich f√ºr Python) preprocess_pdf-Funktion ein: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">preprocess_pdf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text: str)</span></span></span><span class="hljs-function"> -&gt; str:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _preprocess_pdf(text, _clf, _v)</code> </pre> </li><li>  Der resultierende Code wird in die Datei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pdf_preprocessor.py geschrieben</a> </li></ol><br><p>  Diese generierte Datei pdf_preprocessor.py enth√§lt alles, was wir brauchen.  Um es zu verwenden, nehmen Sie einfach diese eine Datei und legen Sie sie in Ihrem Projekt ab.  Verwendung: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pdf_preprocessor <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> preprocess_pdf ... print(preprocess_pdf(text))</code> </pre> <br><p>  Wenn Sie Probleme mit einigen Texten haben, m√ºssen Sie Folgendes tun: </p><br><ol><li>  Legen Sie Ihre Texte in den Korpusordner und kommentieren Sie sie. </li><li>  Starten Sie Ihren Laptop <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/serge-sotnyk/pdf-lines-gluer/blob/master/pdf_gluer.ipynb</a> - bei aktuellen Texten dauert es weniger als 5 Sekunden. </li><li>  Nehmen Sie die neue Version der Datei pdf_preprocessor.py und testen Sie sie </li></ol><br><p>  Vielleicht geht etwas schief und die Qualit√§t wird Sie nicht befriedigen.  Dann wird es etwas komplizierter - Sie m√ºssen neue Funktionen hinzuf√ºgen, bis Sie die richtige Kombination gefunden haben. </p><br><h1 id="c-i-mlnet">  C # und ML.NET </h1><br><p>  In unserem Unternehmen basiert der gr√∂√üte Teil des Backend-Codes auf .Net.  Die Interaktion mit Python ist hier nat√ºrlich unangenehm.  Und ich h√§tte gerne eine √§hnliche L√∂sung in C #.  Ich habe die Entwicklung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ML.NET-</a> Frameworks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lange verfolgt</a> .  Ich habe letztes Jahr kleine Versuche unternommen, etwas zu tun, aber sie waren entt√§uschend mit der unzureichenden Abdeckung verschiedener F√§lle, einer geringen Menge an Dokumentation und der Instabilit√§t der API.  Seit dem Fr√ºhjahr dieses Jahres ist das Framework in einen Release-Zustand √ºbergegangen und ich habe beschlossen, es erneut zu versuchen.  Dar√ºber hinaus wurde bereits die m√ºhsamste Arbeit mit dem Layout des K√∂rpers geleistet. </p><br><p>  Auf den ersten Blick f√ºgte das Framework Komfort hinzu.  H√§ufiger fing ich an, die notwendigen Unterlagen zu finden (obwohl sie in sklearn noch weit von Qualit√§t und Quantit√§t entfernt sind).  Vor allem aber - vor einem Jahr kannte ich sklearn noch nicht.  Und jetzt begann ich zu sehen, dass viele Dinge in ML.NET versuchten, das Bild und die √Ñhnlichkeit zu verbessern (soweit m√∂glich, angesichts der unterschiedlichen Plattformen).  Diese Analogien haben es einfacher gemacht, die Prinzipien von ML.NET in der Praxis zu lernen. </p><br><p>  Ein Arbeitsprojekt auf dieser Plattform kann unter <a href="">https://github.com/serge-sotnyk/pdf-postprocess.cs</a> eingesehen werden </p><br><p>  Die allgemeinen Prinzipien blieben gleich - im Korpusordner befinden sich anotisierte (und nicht so) Dokumente.  Nach dem Start des ModelCreator-Projekts wird neben dem Korpusordner der Modellordner angezeigt, in dem das Archiv mit dem trainierten Modell abgelegt wird.  Dies ist immer noch dieselbe logistische Regression mit denselben Funktionen. </p><br><p>  Aber hier habe ich mich nicht mehr mit der Codegenerierung besch√§ftigt.  Um das trainierte Modell zu verwenden, verwenden Sie das PdfPostprocessor-Projekt (das intern das PdfPostprocessModel.zip-Modell als Ressource kompiliert hat).  Danach kann das Modell verwendet werden, wie im minimalen Beispiel gezeigt - <a href="">https://github.com/serge-sotnyk/pdf-postprocess.cs/blob/master/MinimalUsageExample/Program.cs</a> : </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> PdfPostprocessor; ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] args</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> postprocessor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Postprocessor(); Console.WriteLine(); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Restored paragraphs in the English text:"</span></span>); Console.WriteLine(postprocessor.RestoreText(EnText)); Console.WriteLine(); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Restored paragraphs in the Russian text:"</span></span>); Console.WriteLine(postprocessor.RestoreText(RuText)); }</code> </pre> <br><p>  W√§hrend das Kopieren des Modells aus dem Modellordner in das PdfPostprocessor-Projekt manuell ausgef√ºhrt wird, war es f√ºr mich bequemer, besser zu steuern, welches Modell in das endg√ºltige Projekt aufgenommen wird. </p><br><p>  Es gibt ein Nuget-Paket - PdfPostprocessor.  Verwenden Sie den √ºberladenen Postprozessor-Konstruktor, um das von Ihnen trainierte Paket und Modell zu verwenden. </p><br><h1 id="sravnenie-variantov-na-python-i-c35">  Vergleichen von Optionen in Python und C # </h1><br><p>  Obwohl die Entwicklungserfahrung auf zwei Plattformen noch nicht abgeschlossen ist, kann es sinnvoll sein, sie kurz nacherz√§hlen.  Ich war lange Zeit kein militanter Unterst√ºtzer einer bestimmten Plattform und habe Verst√§ndnis f√ºr die Gef√ºhle von Gl√§ubigen verschiedener Glaubensrichtungen.  Sie m√ºssen auch verstehen, dass ich den gr√∂√üten Teil meines Lebens immer noch mit Sprachen mit statischer Typisierung arbeite, sodass sie mir nur ein wenig n√§her sind. </p><br><h3 id="chto-ne-ponravilos-pri-perehode-na-c35">  Was mir beim Wechsel zu C # nicht gefallen hat </h3><br><ul><li>  Ausf√ºhrlichkeit.  Der Python-Code ist jedoch kompakter.  Dies ist das Fehlen von Operator-Klammern und Klammern nach if, z.  Der Mangel an endlosen neuen.  Aktive Nutzung von Feldern, da diese bei Bedarf leicht in Eigenschaften umgewandelt werden k√∂nnen.  Selbst an die Tatsache, dass der Datenschutz in Python, der einfach durch einen Unterstrich am Anfang des Bezeichners angezeigt wird, daran gew√∂hnt ist und sich in der Praxis als sehr praktisch und bequemer herausstellte als eine Reihe von Datenschutzmodifikatoren in anderen Sprachen.  Die K√ºrze der Konstruktionen beschleunigt die Entwicklung und erleichtert das Lesen des Codes. </li><li>  In den meisten F√§llen sieht der Python-Code sauberer und eleganter aus (dies ist nur subjektiv).  Dies erleichtert das Lesen und Verwalten. </li><li>  F√ºr Python gibt es f√ºr fast alles eine Art Funktion oder Dekorator in einer Art Paket, aber in C # muss viel hinzugef√ºgt werden.  Dadurch wird der Code mit verschiedenen Hilfsfunktionen und Klassen weiter aufgeblasen.  Und es dauert noch l√§nger. </li><li>  Der Dokumentationsgrad von C # und seinen Frameworks ist erheblich geringer als im Python-√ñkosystem. </li><li>  Die strengere Typisierung von ML.NET im Vergleich zum alles fressenden sklearn zwang uns auch dazu, einige Zeit damit zu verbringen, nach den richtigen Transformationen zu suchen, und der vorherige Absatz trug nicht zur L√∂sung dieses Problems bei. </li></ul><br><h3 id="chto-ponravilos-pri-perehode-na-c35">  Was hat Ihnen beim Wechsel zu C # gefallen? </h3><br><ul><li>  Ein Gef√ºhl der Zuverl√§ssigkeit.  Bereits nicht sehr oft, aber ziemlich regelm√§√üig, f√ºhrt mich der alles fressende Python zu schwer fassbaren Problemen.  Und jetzt, als der Code nach C # portiert wurde, gab es einen Fehler, der einige Funktionen unbrauchbar machte.  Nach der Korrektur stieg die Genauigkeit um einige Prozent. </li><li>  Geschwindigkeit.  Im Python-Code musste ich auf die Funktionen verzichten, mit denen in fr√ºheren Angeboten eine Klebeentscheidung getroffen wurde. Wenn Sie dem Klassifizierer nacheinander Vorschl√§ge unterbreiten, ist die Gesamtgeschwindigkeit niedriger als die des Baseboards.  Damit die Datenverarbeitung in Python schnell ist, muss sie so weit wie m√∂glich vektorisiert werden. Manchmal lehnen wir potenziell n√ºtzliche Optionen ab, oder es ist sehr schwierig, sie zu erstellen. </li><li>  Linq.  Sie sind viel praktischer als das List Comprehension (LC) in Python.  Sogar ein LC mit einem f√ºr zwingt mich, zuerst was nach in zu schreiben, dann zum Anfang zur√ºckzukehren und anzuh√§ngen und erst dann einen Ausdruck am Anfang von LC zu schreiben.  Es ist nur so, dass ich denke, in dieser Reihenfolge - die Quelle von Datens√§tzen, Elementen, in die konvertiert werden soll.  LINQ (  "" )     .    LC (  for)   . ,       ,   . </li><li> Lambda.    ,   .   ,   C#   . </li></ul><br><p>      ‚Äî      .      ,    .Net     ,   .    -  ‚Äî   REST       C#. </p><br><p>  C#   .            ‚Äî      ,    - .   Microsoft     Kotlin ‚Äî    .Net      ,         .          Python- ‚Äî ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Julia</a> .      . </p><br><h1 id="zaklyuchenie">  Fazit </h1><br><p>    : </p><br><ul><li>   ,     ‚Äî  ,    ,   -    . , ,   -   . </li><li>    .  ,   ML.NET     - .       . </li><li> ,    Python-     .Net.         , . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457072/">https://habr.com/ru/post/de457072/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457062/index.html">Kosmonautentrainingszentrum in Star City</a></li>
<li><a href="../de457064/index.html">Zur Frage der Module</a></li>
<li><a href="../de457066/index.html">So modifizieren Sie den FEDOR-Roboter und den ISS-Flugstuhl</a></li>
<li><a href="../de457068/index.html">Warteschlangen - was ist das, warum und wie man es benutzt? Schauen Sie sich die AWS SQS-Funktionen an</a></li>
<li><a href="../de457070/index.html">Textolite statt Pappe. Ein paar Worte zum interaktiven Abzeichen OFFZONE 2019</a></li>
<li><a href="../de457074/index.html">Die Entwicklung der Entwickler: Welche Spiele sollten wir in Zukunft erwarten?</a></li>
<li><a href="../de457078/index.html">So verwandeln Sie Ihren Telegramm-Avatar in eine Uhr</a></li>
<li><a href="../de457082/index.html">Nicht wahrnehmbare Gew√§hrung von Administratorrechten</a></li>
<li><a href="../de457086/index.html">Architekturmuster "Builder" im Universum von "Swift" und "iOS" / "macOS"</a></li>
<li><a href="../de457090/index.html">Sicherheitskrippen: JWT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>