<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüî¨ üïù ‚òùüèª Or√°culo aleatorio basado en la firma digital blockchain ‚ôèÔ∏è üë®‚Äçüíº üö∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De la idea a la implementaci√≥n: modificar el esquema de firma de la curva el√≠ptica existente para que sea determinista y proporcionar funciones en √©l ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Or√°culo aleatorio basado en la firma digital blockchain</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449342/"><p>  De la idea a la implementaci√≥n: modificar el esquema de firma de la curva el√≠ptica existente para que sea determinista y proporcionar funciones en √©l para obtener verificables dentro de los n√∫meros pseudoaleatorios de blockchain. </p><br><p><img src="https://habrastorage.org/webt/iv/4j/ma/iv4jma5bmyktw3qm25amedvm17w.png"></p><a name="habracut"></a><br><h1 id="idea">  Idea </h1><br><p>  En el oto√±o de 2018, cuando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se activaron los primeros contratos inteligentes</a> en la cadena de bloques Waves, el tema de obtener <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">n√∫meros pseudoaleatorios de</a> manera confiable surgi√≥ naturalmente. </p><br><p>  Pensando en ello, llegu√© a la conclusi√≥n de que cualquier blockchain es una especie de jaula, y es imposible obtener una fuente confiable de entrop√≠a en un sistema cerrado. </p><br><p>  Sin embargo, me gust√≥ una idea.  Si un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">or√°culo aleatorio</a> firma los datos del usuario con un algoritmo determinista, el usuario siempre podr√° verificar dicha firma mediante la clave p√∫blica para asegurarse de que el valor obtenido sea √∫nico.  El or√°culo no podr√≠a realizar ning√∫n cambio porque el algoritmo presenta un resultado de un solo valor.  B√°sicamente, el usuario corrige el resultado, pero no lo sabe hasta que el or√°culo lo publica.  Por lo tanto, es posible que no conf√≠e en el or√°culo en absoluto, pero a√∫n as√≠ podr√° verificar el resultado de su operaci√≥n.  Luego, en caso de verificaci√≥n exitosa, dicha firma puede ser una fuente de entrop√≠a para un n√∫mero pseudoaleatorio. </p><br><p> En la cadena de bloques Waves, se utiliza el esquema de firma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">EdDSA</a> variante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ed25519</a> .  En ese esquema, la firma consta de los valores R y S. R depende de un valor aleatorio y S se calcula sobre la base de un mensaje firmado, una clave privada y el mismo n√∫mero aleatorio que R. No existe una dependencia √∫nica. y existen varias firmas v√°lidas para el mismo mensaje de usuario. </p><br><p>  Aparentemente, este tipo de firma por s√≠ solo no puede usarse como fuente de n√∫meros pseudoaleatorios porque es indeterminado y, por lo tanto, el or√°culo puede manipularlo f√°cilmente. </p><br><p>  Sin embargo, resulta que en realidad es posible hacerlo determinista. </p><br><p>  Mis grandes esperanzas estaban establecidas para la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">funci√≥n aleatoria verificable (VRF)</a> , pero, despu√©s de estudiar sus detalles, tengo que rechazar esa opci√≥n.  Aunque VRF ofrece una versi√≥n determinada de una firma y sus pruebas, el algoritmo tiene un lugar extra√±o que abre un agujero negro para las manipulaciones por parte del or√°culo (esta afirmaci√≥n es incorrecta, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Actualizaci√≥n</a> ).  Espec√≠ficamente, para calcular el valor de k ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secci√≥n 5.1</a> ), se utiliza una clave privada, que sigue siendo desconocida para el usuario, por lo que el usuario no puede verificar la exactitud del c√°lculo de k.  Como resultado, el or√°culo puede usar cualquier valor de k que necesite y, simult√°neamente, ejecutar una base de datos para las correlaciones entre k y los datos firmados para poder volver a calcular siempre un resultado correcto para VRF.  Si ve un sorteo basado en VRF sin revelar la clave privada, puede presumir y se√±alar la necesidad de revelar la clave o eliminarla del c√°lculo de k para que se revele autom√°ticamente despu√©s de la primera firma.  En general, como se dijo anteriormente, este es un esquema extra√±o para el or√°culo aleatorio. </p><br><p>  Tras cierta reflexi√≥n y con el apoyo de analistas locales, naci√≥ un esquema para la operaci√≥n VECRO. </p><br><p>  VECRO representa el Or√°culo aleatorio de curva el√≠ptica verificable.  Result√≥ ser bastante simple.  Para lograr la determinaci√≥n, necesitamos fijar el valor de R antes de la aparici√≥n de un mensaje a firmar.  Si R es fijo y R es parte del mensaje, lo que adem√°s garantiza que R se arregla antes del mensaje.  El valor de S est√° completamente determinado por un mensaje de usuario y, por lo tanto, puede usarse como fuente de n√∫meros pseudoaleatorios. </p><br><p>  En un esquema de este tipo, la forma exacta en que se fija R es irrelevante y permanece en la zona de responsabilidad del or√°culo.  Lo importante es que S est√° completamente determinado por el usuario, pero su valor no se revela hasta que el or√°culo lo publique.  ¬°Esto es exactamente lo que quer√≠amos! </p><br><p>  Hablando de arreglar R, tenga en cuenta que la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reutilizaci√≥n de R</a> para firmar varios mensajes revela completamente la clave privada en el esquema EdDSA.  Para el propietario del or√°culo, es vital excluir la reutilizaci√≥n de R para firmar varios mensajes de usuario.  Es decir, en cualquier manipulaci√≥n o colusi√≥n, el or√°culo siempre correr√° el riesgo de perder su clave privada. </p><br><p>  Entonces, el or√°culo ofrecer√° dos funciones al usuario: inicializaci√≥n, que fija el valor de R y una firma, que devuelve el valor de S. Mientras tanto, el par R, S es una firma verificable regular para un mensaje de usuario que contiene un mensaje fijo valor de R y los datos aleatorios del usuario. </p><br><p>  Se puede argumentar que para blockchain, esto no es m√°s que un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esquema de confirmaci√≥n de confirmaci√≥n</a> regular.  B√°sicamente, eso es lo que es.  Pero hay algunos matices.  Primero, el or√°culo usa la misma clave en todas las transacciones, lo que, por ejemplo, es conveniente para los contratos.  En segundo lugar, existe el riesgo de perder una clave privada por el or√°culo debido a un rendimiento incorrecto.  Por ejemplo, si el or√°culo facilita las pruebas del resultado, solo dos pruebas ser√°n suficientes para descubrir la clave privada y acceder a la billetera.  En tercer lugar, una firma verificada de forma nativa en la cadena de bloques, que es la fuente de la aleatoriedad, es simplemente hermosa. </p><br><p>  Durante unos seis meses, esta idea estuvo germinando, hasta que lleg√≥ una motivaci√≥n para implementarla en forma de una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subvenci√≥n de Waves Labs</a> .  ¬°Con la gran donaci√≥n viene una gran responsabilidad, significa que el proyecto debe ser! </p><br><h1 id="implementation">  Implementaci√≥n </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VECRO se implement√≥</a> en la cadena de bloques Waves en el modo de solicitud / respuesta utilizando transacciones de transferencia entre el usuario y el or√°culo.  En la cuenta del or√°culo, se establece un script que controla la operaci√≥n estrictamente de acuerdo con la l√≥gica descrita anteriormente.  Las transacciones del or√°culo se verifican mediante la recreaci√≥n de toda la cadena de interacci√≥n del usuario.  Las cuatro transacciones est√°n involucradas en la verificaci√≥n del valor final.  Un contrato inteligente los agrega a todos a un estricto hilo de verificaci√≥n, verificando los valores paso a paso y sin dejar espacio para ninguna manipulaci√≥n. </p><br><p>  Tratemos de ponerlo en t√©rminos simples.  El or√°culo no solo funciona bajo un esquema propuesto.  Su funcionamiento est√° totalmente controlado a nivel de blockchain mediante un <a href="">contrato inteligente estrictamente estricto</a> .  Cualquier peque√±a desviaci√≥n conducir√≠a al rechazo de la transacci√≥n.  Entonces, si la transacci√≥n est√° en la cadena de bloques, los usuarios no tienen que verificar nada, ya que toda la verificaci√≥n ya ha sido realizada por cientos de nodos de la cadena de bloques. </p><br><p>  Por el momento, un VECRO es operable en la red principal de Waves.  En realidad, podr√≠a lanzar el suyo: es simple, solo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mire el ejemplo de configuraci√≥n</a> .  El c√≥digo actual funciona en PHP (en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WavesKit</a> , que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">discut√≠ anteriormente</a> ). </p><br><p>  Para usar el or√°culo, necesitas: </p><br><ul><li>  Fixate R <br><ul><li>  Env√≠e un m√≠nimo de 0.005 ONDAS al alias del or√°culo init @ vecr; </li><li>  Reciba un c√≥digo R en el campo adjunto en la transferencia de token 1 R-vecr del or√°culo al usuario; </li></ul></li><li>  Obtener una firma; <br><ul><li>  Env√≠e un m√≠nimo de 0.005 ONDAS al alias del or√°culo random @ vecr.  Tambi√©n SE REQUIERE que ingrese en el campo adjunto el c√≥digo R recibido y los datos adicionales del usuario; </li><li>  Reciba un c√≥digo S en el campo adjunto en la transferencia de token 1 S-vecr del or√°culo al usuario; </li></ul></li><li>  Use el c√≥digo S como fuente de n√∫meros pseudoaleatorios. </li></ul><br><p>  Matices de la implementaci√≥n actual: </p><br><ul><li>  Las ONDAS enviadas al or√°culo se utilizan como tarifas para la transacci√≥n de devoluci√≥n al usuario, hasta un m√°ximo de 1 ONDAS; </li><li>  El c√≥digo R es una concatenaci√≥n del byte del s√≠mbolo 'R' y el valor R de 32 bytes en la codificaci√≥n base58; </li><li>  El c√≥digo R en el archivo adjunto debe preceder a los datos del usuario; </li><li>  El c√≥digo S es una concatenaci√≥n del byte del s√≠mbolo 'S' y el valor S de 32 bytes en la codificaci√≥n base58; </li><li>  S es el resultado de una divisi√≥n de m√≥dulo y no puede usarse como un n√∫mero pseudoaleatorio apropiado de 256 bits (puede considerarse un n√∫mero pseudoaleatorio de 252 bits como m√°ximo); </li><li>  La opci√≥n m√°s f√°cil es el uso del hash de S-code como fuente del n√∫mero pseudoaleatorio. </li></ul><br><p>  Ejemplos de recepci√≥n de c√≥digo S: </p><br><ul><li>  Inicializaci√≥n: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://wavesexplorer.com/tx/8gc8jwM7JrPNehoDs7NVyos7BsufYktvkwVW1B6FAY6</a> </li><li>  Recibiendo c√≥digo R: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://wavesexplorer.com/tx/9eB25SbzEwvHEbm8pcKj7MGDrYv1u3Fxpj696FkJ96hd</a> </li><li>  Solicitud de firma de c√≥digo R y mensaje de usuario con valor "aleatorio": <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://wavesexplorer.com/tx/6faoFJobEsugDFYmYmfsbtQYABmckNuE2kevaLh7ifzz</a> </li><li>  Recibiendo c√≥digo S: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://wavesexplorer.com/tx/C5VrFLQcprbA1KXAToaNvMP4Kg2rq43NkwWuADAA7wXX</a> </li></ul><br><p>  Desde un punto de vista t√©cnico, el or√°culo est√° en pleno funcionamiento, puede usarlo con seguridad.  Desde el punto de vista de un usuario com√∫n, no hay suficiente GUI f√°cil de usar, que tendr√° que esperar. </p><br><p>  Estar√© encantado de responder preguntas y aceptar comentarios, gracias. </p><br><h3 id="update-may-8th-2019">  Actualizaci√≥n (8 de mayo de 2019) </h3><br><p>  Me equivoqu√© en VRF.  S√≠, es cierto que la firma ECVRF no se puede usar como fuente de un n√∫mero pseudoaleatorio, pero no se usa para este prop√≥sito.  La firma es necesaria para demostrar la unicidad del valor Gamma ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secci√≥n 5.3</a> , paso 6).  Y el valor verificado de Gamma se utilizar√° como fuente de un n√∫mero pseudoaleatorio ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secci√≥n 5.2</a> , paso 5).  Gracias a Oleg Taraskin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Crittografo</a> por se√±alar en este momento, admito mi error.  ECVRF tiene pleno derecho a vivir. </p><br><p>  Desafortunadamente, todav√≠a no hay posibilidad de usar ECVRF en el nivel de cadena de bloques de Waves, debido a la falta de la funcionalidad matem√°tica necesaria en los contratos inteligentes. </p><br><p>  Cuando esta funcionalidad o soporte RSA est√© disponible, se pueden crear nuevos or√°culos.  En cuanto al esquema VECRO, ocupa su nicho en cualquier caso y le permite trabajar sin ninguna funcionalidad adicional. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/449342/">https://habr.com/ru/post/449342/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449330/index.html">M√≥dulos √≥pticos coherentes CFP2-ACO / CFP2-DCO WDM (100G / 200G) y su aplicaci√≥n en sistemas DWDM</a></li>
<li><a href="../449334/index.html">C√≥mo la traducci√≥n t√©cnica se convierte en mini detective</a></li>
<li><a href="../449336/index.html">VIH: tratamientos desde el primer medicamento hasta hoy</a></li>
<li><a href="../449338/index.html">Julia Servicios web</a></li>
<li><a href="../449340/index.html">Bloque or√°culo basado en or√°culo aleatorio basado en firma digital</a></li>
<li><a href="../449344/index.html">Kodim - pizza</a></li>
<li><a href="../449346/index.html">MODX Digest # 4 (8 al 22 de abril de 2019)</a></li>
<li><a href="../449348/index.html">Buildroot - parte 2. Crear la configuraci√≥n de su placa; aplicaci√≥n de √°rbol externo, rootfs-overlay, scripts posteriores a la compilaci√≥n</a></li>
<li><a href="../449350/index.html">Keybase y verdadero TOFU</a></li>
<li><a href="../449352/index.html">C√≥mo construimos el monitoreo en Prometheus, Clickhouse y ELK</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>