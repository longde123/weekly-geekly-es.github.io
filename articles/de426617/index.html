<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•¢ üé∏ üë©üèø‚Äçüíº F√ºhrerschein zum Autofahren oder warum Anwendungen Single-Activity sein sollten üà≤ ü§µüèæ üñïüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Auf der AppsConf 2018 , die vom 8. bis 9. Oktober stattfand, hielt ich eine Pr√§sentation √ºber das Erstellen von Android-Anwendungen in einer einzigen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>F√ºhrerschein zum Autofahren oder warum Anwendungen Single-Activity sein sollten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/426617/"><p><img src="https://habrastorage.org/webt/n0/m4/p4/n0m4p4tyrh-7bky85jet7jyzllc.png" alt="Bild"></p><br><p>  Auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AppsConf 2018</a> , die vom 8. bis 9. Oktober stattfand, hielt ich eine Pr√§sentation √ºber das Erstellen von Android-Anwendungen in einer einzigen Aktivit√§t.  Obwohl das Thema bekannt ist, gibt es viele Vorurteile in Bezug auf eine solche Wahl - der √ºberf√ºllte Raum und die Anzahl der Fragen nach der Rede best√§tigen dies.  Um nicht auf die Videoaufnahme zu warten, habe ich beschlossen, einen Artikel mit einer Abschrift der Rede zu verfassen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1b8/c2d/a29/1b8c2da294869720e98d50d529300817.jpg"></p><br><p>  Was ich erz√§hlen werde </p><br><ol><li>  Warum und warum sollte ich zu Einzelaktivit√§t wechseln? </li><li>  Ein universeller Ansatz zum L√∂sen von Aufgaben, die Sie gewohnt sind, in mehreren Aktivit√§ten zu l√∂sen </li><li>  Beispiele f√ºr Standardgesch√§ftsaufgaben </li><li>  Engp√§sse, bei denen Code normalerweise gest√ºtzt wird, anstatt alles ehrlich zu tun </li></ol><a name="habracut"></a><br><h2 id="pochemu-single-activity---eto-pravilno">  Warum ist Einzelaktivit√§t richtig? </h2><br><h4 id="zhiznennyy-cikl">  Lebenszyklus </h4><br><p><img src="https://habrastorage.org/webt/6i/k8/fk/6ik8fkusqlvahretkm_yqfhfgg8.png"></p><br><p>  Alle Android-Entwickler kennen das Kaltstartschema der Anwendung.  Zuerst wird onCreate f√ºr die Application-Klasse aufgerufen, dann tritt der Lebenszyklus der ersten Aktivit√§t in Aktion. <br>  Wenn unsere Anwendung mehrere Aktivit√§ten enth√§lt (und die meisten dieser Anwendungen vorhanden sind), geschieht Folgendes: </p><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">App</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onCreate</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onCreate</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onStart</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onResume</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onPause</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onCreate</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onStart</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onResume</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onStop</span></span>()</code> </pre> <br><p>  Dies ist das abstrakte Startprotokoll von activityB von ActivityA.  Eine leere Zeile ist der Moment, in dem der Start eines neuen Bildschirms aufgerufen wurde.  Auf den ersten Blick ist alles in Ordnung.  Wenn wir uns jedoch der Dokumentation zuwenden, wird klar: <code>onResume</code> , dass der Bildschirm f√ºr den Benutzer sichtbar ist und er mit ihm interagieren kann, ist dies nur nach dem Aufruf von <code>onResume</code> auf jedem Bildschirm m√∂glich: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">App</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onCreate</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onCreate</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onStart</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onResume</span></span>() &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onPause</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onCreate</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onStart</span></span>() <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onResume</span></span>() &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ActivityA</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onStop</span></span>()</code> </pre> <br><p>  Das Problem ist, dass ein solches Protokoll nicht dazu beitr√§gt, den Lebenszyklus der Anwendung zu verstehen.  Wenn der Benutzer noch drinnen ist und wenn er bereits zu einer anderen Anwendung gewechselt oder unsere minimiert hat und so weiter.  Dies ist erforderlich, <strong>wenn Sie die Gesch√§ftslogik an den LC der Anwendung binden m√∂chten. Halten Sie beispielsweise eine Socket-Verbindung aufrecht, w√§hrend sich der Benutzer in der Anwendung befindet, und schlie√üen Sie sie beim Beenden</strong> </p><br><p>  In einer Einzelaktivit√§tsanwendung ist alles einfach - LC-Aktivit√§t wird zu einer LC-Anwendung.  Alles, was Sie f√ºr eine Logik ben√∂tigen, l√§sst sich leicht an den Status der Anwendung binden. </p><br><h4 id="zapusk-ekranov">  Bildschirme starten </h4><br><p>  Als Benutzer bin ich oft auf die Tatsache gesto√üen, dass ein Anruf aus dem Telefonbuch (und dies ist eindeutig der Start einer separaten Aktivit√§t) nach dem Klicken auf einen Kontakt nicht erfolgt.  Es ist unklar, womit dies zusammenh√§ngt, aber diejenigen, mit denen ich erfolglos versucht habe, durchzukommen, sagten, sie h√§tten den Anruf erhalten und das Ger√§usch von Schritten geh√∂rt.  Gleichzeitig steckt mein Smartphone schon lange in der Tasche. </p><br><p><img src="https://habrastorage.org/webt/iq/u5/kx/iqu5kxfhylvhmqh5wzuwvqpztzi.png"></p><br><p>  Das Problem ist, dass das Starten einer Aktivit√§t ein vollst√§ndig asynchroner Prozess ist!  Es gibt keine Garantie f√ºr einen sofortigen Start, und noch schlimmer, wir k√∂nnen den Prozess nicht kontrollieren.  Absolut. </p><br><p>  In der Einzelaktivit√§tsanwendung k√∂nnen wir in Zusammenarbeit mit dem Fragmentmanager den Prozess steuern. <br>  <code>transaction.commit()</code> - wechselt den Bildschirm asynchron, sodass Sie mehrere Bildschirme gleichzeitig √∂ffnen oder schlie√üen k√∂nnen. <br>  <code>transaction.commitNow()</code> - schaltet den Bildschirm synchron um, wenn Sie ihn nicht zum Stapel hinzuf√ºgen m√ºssen. <br>  Mit fragmentManager.executePendingTransactions () `k√∂nnen Sie alle zuvor gestarteten Transaktionen jetzt ausf√ºhren. </p><br><h4 id="analiz-steka-ekranov">  Screen-Stack-Analyse </h4><br><p>  Stellen Sie sich vor, die Gesch√§ftslogik Ihrer Anwendung h√§ngt von der aktuellen Tiefe des Bildschirmstapels ab (z. B. Verschachtelungsbeschr√§nkungen).  Oder Sie m√ºssen am Ende eines Prozesses zu einem bestimmten Bildschirm zur√ºckkehren, und wenn es mehrere identische gibt, zu dem Bildschirm, der der Wurzel am n√§chsten liegt (dem Beginn der Kette). <br>  Wie bekomme ich einen Aktivit√§tsstapel?  Welche Parameter sollten beim Starten des Bildschirms angegeben werden? </p><br><p><img src="https://habrastorage.org/webt/pk/bz/5h/pkbz5hhcjv_gqiyirr7ab5e27h8.png"></p><br><p>  √úbrigens √ºber die Magie der Startoptionen f√ºr Aktivit√§ten: </p><br><ul><li>  Sie k√∂nnen Startflags in Intent angeben (und sie auch miteinander mischen und an verschiedenen Stellen √§ndern). </li><li>  Sie k√∂nnen dem Manifest Startparameter hinzuf√ºgen, da dort alle Aktivit√§ten beschrieben werden sollten. </li><li>  F√ºgen Sie hier Absichtsfilter hinzu, um die externe Triggerung zu handhaben. </li><li>  und schlie√ülich an MultiTasks denken, wenn Aktivit√§ten in verschiedenen "Aufgaben" ausgef√ºhrt werden k√∂nnen. </li></ul><br><p>  Zusammen f√ºhrt dies zu Verwirrung und Problemen beim Support-Debugging.  Sie k√∂nnen nie mit Sicherheit genau sagen, wie der Bildschirm gestartet wurde und wie er sich auf den Stapel auswirkte. </p><br><p>  In einer Einzelaktivit√§tsanwendung wechseln alle Bildschirme nur √ºber Fragmenttransaktionen.  Sie k√∂nnen den aktuellen Stapel von Bildschirmen und gespeicherten Transaktionen analysieren. <br>  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cicerone-</a> Bibliotheksdemo k√∂nnen Sie sehen, wie der aktuelle Status des Stapels in der Symbolleiste angezeigt wird. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/45f/285/af2/45f285af219d69df32d0994db1eeb58d.gif" alt="Bild"></p><br><p>  <em>Hinweis:</em> In der neuesten Version haben Unterst√ºtzungsbibliotheken den Zugriff auf das Fragmentarray im Fragmentmanager blockiert. Wenn Sie dies jedoch wirklich m√∂chten, kann dieses Problem immer behoben werden. </p><br><h4 id="activity-tolko-odna-na-ekrane">  Nur eine Aktivit√§t auf dem Bildschirm </h4><br><p>  In realen Anwendungen m√ºssen wir auf jeden Fall "logische" Bildschirme in einer Aktivit√§t kombinieren, dann k√∂nnen Sie eine echte Anwendung NUR f√ºr Aktivit√§t schreiben.  Die Dualit√§t des Ansatzes ist immer schlecht, da das gleiche Problem auf unterschiedliche Weise gel√∂st werden kann (irgendwo befindet sich das Layout direkt in der Aktivit√§t, und irgendwo ist die Aktivit√§t nur ein Container). </p><br><h4 id="dont-keep-activities">  Behalte keine Aktivit√§ten </h4><br><p>  Mit diesem Testflag k√∂nnen Sie wirklich einige Fehler in der Anwendung finden, aber das Verhalten, das es reproduziert, tritt <strong>NIEMALS</strong> in der Realit√§t auf!  Es kommt nicht vor, dass der Bewerbungsprozess bestehen bleibt, und in diesem Moment stirbt die Aktivit√§t, obwohl sie nicht aktiv ist!  Aktivit√§ten k√∂nnen nur mit dem Bewerbungsprozess sterben.  Wenn die Anwendung dem Benutzer angezeigt wird und das System nicht √ºber gen√ºgend Ressourcen verf√ºgt, stirbt alles in der Umgebung (andere inaktive Anwendungen, Dienste und sogar der Starter), und Ihre Anwendung wird bis zum bitteren Ende leben, und wenn sie sterben muss, ist sie vollst√§ndig. <br>  Sie k√∂nnen √ºberpr√ºfen. </p><br><h4 id="nasledie">  Verm√§chtnis </h4><br><p>  In der Vergangenheit gibt es in Activity eine Menge unn√∂tiger Logik, die f√ºr Sie h√∂chstwahrscheinlich nicht n√ºtzlich ist.  Zum Beispiel alles, was Sie zum Arbeiten mit <code>loaders</code> , <code>actionBar</code> , <code>action menu</code> <code>actionBar</code> ben√∂tigen.  Dies macht die Klasse selbst ziemlich massiv und schwer. </p><br><h4 id="animacii">  Animationen </h4><br><p>  Vielleicht kann jeder eine einfache Schichtanimation erstellen, wenn er zwischen Aktivit√§t wechselt.  Hier sollte klargestellt werden, dass Sie einen Rabatt auf die Asynchronit√§t des Aktivit√§tsstarts gew√§hren m√ºssen, √ºber den wir bereits gesprochen haben. <br>  Wenn Sie etwas Interessanteres ben√∂tigen, k√∂nnen Sie sich an solche Beispiele f√ºr √úbergangsanimationen erinnern, die in Aktivit√§t erstellt wurden: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/62f/b33/b28/62fb33b285f8eb80ff856c813e278552.gif" alt="Bild"></p><br><p>  Es gibt jedoch ein gro√ües Problem: Das Anpassen dieser Animation ist fast unm√∂glich.  Es ist unwahrscheinlich, dass dies Designern und Kunden gef√§llt. </p><br><p>  Bei Fragmenten ist alles anders.  Wir k√∂nnen direkt auf die Ebene der Hierarchie der Ansicht gehen und jede erdenkliche Animation erstellen!  Direkter Beweis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/446/23f/e72/44623fe72553a5f7ba0b0074c45109eb.gif" alt="Bild"></p><br><p>  Wenn Sie sich den Quellcode ansehen, werden Sie feststellen, dass dies in einem normalen Layout erfolgt.  Ja, der Code ist dort anst√§ndig, aber Animation ist immer schwierig genug, und eine solche Gelegenheit zu haben, ist immer ein Plus.  Wenn Sie zwei Aktivit√§ten gewechselt haben, verf√ºgt die Anwendung nicht √ºber einen gemeinsamen Container, in dem Sie solche √úberg√§nge vornehmen k√∂nnen. </p><br><h4 id="izmenenie-konfiguracii-naletu">  Konfigurieren Sie die On-the-Fly-Konfiguration </h4><br><p>  Dieser Punkt war nicht in meiner Rede, aber er ist auch sehr wichtig.  Wenn Sie √ºber eine Funktion zum Wechseln der Sprache in der Anwendung verf√ºgen, ist die Implementierung bei mehreren Aktivit√§ten recht problematisch, wenn Sie die Anwendung unter anderem nicht neu starten m√ºssen, sondern an der Stelle bleiben, an der sich der Benutzer zum Zeitpunkt des Aufrufs der Funktionalit√§t befand. </p><br><p>  In einer Anwendung mit nur einer Aktivit√§t reicht es aus, das installierte Gebietsschema im Anwendungskontext zu √§ndern und <code>recreate()</code> f√ºr die Aktivit√§t aufzurufen. Der Rest des Systems erledigt alles selbst. </p><br><h4 id="naposledok">  Am Ende </h4><br><p>  Google verf√ºgt √ºber eine Navigationsl√∂sung, in deren Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ausdr√ºcklich angegeben ist,</a> dass es ratsam ist, Anwendungen f√ºr einzelne Aktivit√§ten zu schreiben. </p><br><p>  An dieser Stelle hoffe ich, dass Sie keinen Zweifel daran haben, dass der klassische Ansatz mit mehreren Aktivit√§ten eine Reihe von M√§ngeln enth√§lt, die normalerweise ein Auge zudr√ºcken und sich hinter dem allgemeinen Trend der Unzufriedenheit von Android verstecken. </p><br><h2 id="esli-vse-tak-to-pochemu-single-activity-esche-ne-standart-razrabotki">  Wenn ja, warum ist Single-Activity dann noch kein Entwicklungsstandard? </h2><br><p>  Hier werde ich meinen guten Freund zitieren: </p><br><p><img src="https://habrastorage.org/webt/z_/k_/ou/z_k_outvwlcibszeamtv2jhjst0.png"></p><br><p>  Jeder Lead, der ein neues ernstes Projekt startet, hat Angst vor Fehlern und vermeidet riskante Entscheidungen.  Das ist richtig.  Ich werde jedoch versuchen, einen umfassenden Plan f√ºr den √úbergang zur Einzelaktivit√§t vorzulegen. </p><br><h4 id="perehod-na-single-activity">  Umschalten auf Einzelaktivit√§t </h4><br><p><img src="https://habrastorage.org/webt/vf/sw/8h/vfsw8hvr_sfcjs3olaxb3s2lptw.png"></p><br><p>  Wenn Sie diese Anwendung studieren, k√∂nnen Sie anhand der charakteristischen Animationen und Verhaltensweisen feststellen, dass sie f√ºr mehrere Aktivit√§ten geschrieben wurde.  Ich k√∂nnte mich irren, und alles wurde sogar in benutzerdefinierten Ansichten durchgef√ºhrt, aber dies wird unsere Argumentation nicht beeinflussen. </p><br><p>  Jetzt Aufmerksamkeit!  Wir machen es so: </p><br><p><img src="https://habrastorage.org/webt/0v/dt/cm/0vdtcmkom7y0jt0osv3fj61wn4k.png"></p><br><p>  Wir haben nur zwei √Ñnderungen vorgenommen: Wir haben die AppActivity-Klasse hinzugef√ºgt und alle Aktivit√§ten durch FlowFragment ersetzt.  Betrachten Sie jede √Ñnderung genauer. </p><br><p>  Wof√ºr ist <strong>AppActivity</strong> verantwortlich: </p><br><ul><li>  enth√§lt nur einen Container f√ºr Fragmente <br><ul><li>  ist der Initialisierungspunkt der Scope-UI-Objekte (dies wurde fr√ºher in Application durchgef√ºhrt, was falsch ist, da beispielsweise Service-Objekte in unserer Anwendung solche Objekte definitiv nicht ben√∂tigen). </li><li>  ist ein Anwendungsanbieter </li><li>  bringt alle Vorteile von Single-Activity. </li></ul></li></ul><br><p>  Was ist <strong>FlowFragment</strong> : </p><br><ul><li>  macht genau das Gleiche wie die Aktivit√§t, anstelle der sie erstellt wurde. </li></ul><br><h4 id="novaya-navigaciya">  Neue Navigation </h4><br><p>  Der Hauptunterschied zum alten Ansatz ist die Navigation. </p><br><p><img src="https://habrastorage.org/webt/6c/xe/xm/6cxexm9iv1rxz4p9ag1hov7jb90.png"></p><br><p>  Zuvor hatte der Entwickler die Wahl: Starten Sie eine neue Aktivit√§t oder eine Fragmenttransaktion in der aktuellen.  Die Auswahl ist nicht verschwunden, aber die Methoden haben sich ge√§ndert. Jetzt m√ºssen wir entscheiden, ob die Fragmentfragmentierung in AppActivity oder im aktuellen FlowFragment gestartet werden soll. </p><br><p><img src="https://habrastorage.org/webt/am/cq/ac/amcqacvs343ah96hpnaykgnixtw.png"></p><br><p>  √Ñhnliches gilt f√ºr die Bearbeitung der Schaltfl√§che Zur√ºck.  Zuvor hat die Aktivit√§t das Ereignis an das aktuelle Fragment √ºbergeben. Wenn sie es nicht verarbeitet hat, hat sie die Entscheidung selbst getroffen.  Jetzt √ºbergibt AppActivity das Ereignis an das aktuelle FlowFragment und dieses wiederum an das aktuelle Fragment. </p><br><h4 id="peredacha-rezultata-mezhdu-ekranami">  √úbertragen von Ergebnissen zwischen Bildschirmen </h4><br><p>  F√ºr unerfahrene Entwickler ist das Problem der Daten√ºbertragung zwischen Bildschirmen das Hauptproblem des neuen Ansatzes, da fr√ºher die Funktion startActivityForResult () verwendet werden konnte! </p><br><p>  Nicht im ersten Jahr wurden verschiedene architektonische Ans√§tze zum Schreiben von Anwendungen diskutiert.  Die Hauptaufgabe bleibt gleichzeitig die Trennung von Benutzeroberfl√§che, Datenschicht und Gesch√§ftslogik.  Unter diesem Gesichtspunkt bricht startActivityForResult () den Kanon, da die Daten zwischen den Bildschirmen <strong>einer</strong> Anwendung auf der Entit√§tsseite der UI-Ebene √ºbertragen werden.  Ich betone, dass es sich nur um <strong>eine</strong> Anwendung handelt, da wir eine gemeinsame Datenschicht, gemeinsame Modelle in einem globalen Bereich usw. haben.  Wir nutzen diese M√∂glichkeiten nicht und fahren in den Rahmen eines Bundles (Serialisierung, Gr√∂√üe und mehr). <br>  <strong>Mein Rat</strong> : Verwenden Sie startActivityForResult () nicht in der Anwendung!  Verwenden Sie es nur f√ºr den vorgesehenen Zweck - um externe Anwendungen auszuf√ºhren und Ergebnisse daraus zu erhalten. </p><br><p>  Wie starte ich dann einen Bildschirm mit einer Auswahl f√ºr einen anderen Bildschirm?  Es gibt drei M√∂glichkeiten: </p><br><ol><li>  Zielfragment </li><li>  Eventbus </li><li>  Jet-Modell </li></ol><br><p>  TargetFragment - eine Option "out of the box", aber die gleiche Daten√ºbertragung auf der Seite der UI-Ebene.  <strong>Schlechte Option.</strong> </p><br><p>  EventBus - Wenn Sie sich auf ein Team einigen und - was am wichtigsten ist - die Vereinbarungen steuern k√∂nnen, k√∂nnen Sie die Daten√ºbertragung zwischen Bildschirmen auf dem globalen Datenbus implementieren.  Da dies jedoch ein gef√§hrlicher Schritt ist, ist die Schlussfolgerung eine <strong>schlechte Option.</strong> </p><br><p>  Reaktives Modell - Dieser Ansatz impliziert das Vorhandensein von R√ºckrufen und mehr.  Wie Sie sie implementieren, entscheidet das Team jedes Projekts.  Dieser Ansatz ist jedoch optimal, da er die Kontrolle √ºber das Geschehen bietet und die Verwendung des Codes f√ºr andere Zwecke nicht zul√§sst.  <strong>Unsere Wahl!</strong> </p><br><h4 id="itog">  Zusammenfassung </h4><br><p>  Ich liebe neue Ans√§tze, wenn sie einfach sind und offensichtliche Vorteile haben.  Ich hoffe, dass dies in diesem Fall der Fall ist.  Die Vorteile werden im ersten Teil beschrieben, und Sie sollten die Schwierigkeit beurteilen.  Es reicht aus, alle Aktivit√§ten durch FlowFragment zu ersetzen und die gesamte Logik unver√§ndert zu lassen.  √Ñndern Sie den Navigationscode ein wenig und √ºberlegen Sie, ob Sie mit der Daten√ºbertragung zwischen Bildschirmen arbeiten m√∂chten, falls dies noch nicht geschehen ist. </p><br><p>  Um die Einfachheit des Ansatzes zu demonstrieren, habe ich selbst <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die offene Anwendung</a> auf Single-Activity <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">umgestellt</a> und es dauerte nur ein paar Stunden (nat√ºrlich ist es erw√§hnenswert, dass dies kein altes Erbe ist und alles mehr oder weniger gut mit der Architektur dort ist). </p><br><h2 id="chto-poluchilos">  Was ist passiert? </h2><br><p>  Mal sehen, wie man Standardprobleme in einem neuen Ansatz l√∂st. </p><br><h4 id="bottomnavigationbar-i-navigationdrawer">  BottomNavigationBar und NavigationDrawer </h4><br><p>  Mit der einfachen Regel, dass wir alle Aktivit√§ten durch FlowFragment ersetzen, befindet sich das Seitenmen√º nun in einem Fragment und wechselt zwischen verschachtelten Fragmenten: </p><br><p><img src="https://habrastorage.org/webt/hp/dv/u9/hpdvu9gp85_zzzt2qi23ndafrxw.png"></p><br><p>  √Ñhnliches gilt f√ºr BottomNavigationBar. <br>  Es ist viel interessanter, dass wir FlowFragment in andere investieren k√∂nnen, da dies immer noch gew√∂hnliche Fragmente sind! </p><br><p><img src="https://habrastorage.org/webt/vk/qo/2r/vkqo2rovrabjb_2qorv-ot6leie.png"></p><br><p>  Diese Option finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitFox</a> . </p><br><p>  Es ist die M√∂glichkeit, einfach einige Fragmente in anderen zu kombinieren, wodurch es m√∂glich ist, problemlos eine dynamische Benutzeroberfl√§che f√ºr verschiedene Ger√§te zu erstellen: Tablets + Smartphones. </p><br><h4 id="di-skoupy">  DI-Bereiche </h4><br><p>  Wenn Sie mehrere Produktk√§ufe auf mehreren Bildschirmen get√§tigt haben und den Namen des Produkts auf jedem Bildschirm anzeigen m√ºssen, haben Sie es wahrscheinlich bereits in eine separate Aktivit√§t gestellt, in der das Produkt gespeichert und auf den Bildschirmen bereitgestellt wird. <br>  Dies gilt auch f√ºr FlowFragment - es enth√§lt eine DI-Skala mit Modellen f√ºr alle verschachtelten Bildschirme.  Dieser Ansatz eliminiert die komplizierte Steuerung der Lebensdauer des Oszilloskops, indem er an die Lebensdauer des FlowFragments gebunden wird. </p><br><p><img src="https://habrastorage.org/webt/jg/o7/fc/jgo7fcldgytixv_pi4rd4vv9ynw.png"></p><br><h4 id="deep-links">  Deep Links </h4><br><p>  Wenn Sie Filter im Manifest verwendet haben, um einen bestimmten Bildschirm im Deep Link zu starten, haben Sie m√∂glicherweise Probleme beim Starten der Aktivit√§t, √ºber die ich im ersten Teil geschrieben habe.  Bei dem neuen Ansatz fallen alle Deep-Links in AppActivity.onNewIntent.  Ferner gibt es gem√§√ü den erhaltenen Daten einen √úbergang zum erforderlichen Bildschirm (oder zu einer Kette von Bildschirmen. Ich schlage vor, diese <a href="">Funktionalit√§t in Chicheron zu betrachten</a> ). </p><br><p><img src="https://habrastorage.org/webt/hg/hv/dz/hghvdzuz1kp_zaj_mqqxwgbbmk0.png"></p><br><h4 id="smert-processa">  Prozess Tod </h4><br><p>  Wenn die Anwendung f√ºr mehrere Aktivit√§ten geschrieben wurde, sollten Sie wissen, dass sich der Benutzer beim Stoppen der Anwendung und beim Wiederherstellen des Prozesses in der letzten Aktivit√§t befindet und alle vorherigen Aktivit√§ten erst wiederhergestellt werden, wenn sie an sie zur√ºckgegeben werden. </p><br><p><img src="https://habrastorage.org/webt/za/39/ws/za39wsenkveryhdk21ngp0w-hyq.png"></p><br><p>  Wenn Sie dies nicht im Voraus ber√ºcksichtigen, k√∂nnen Probleme auftreten.  Wenn beispielsweise der Bereich, der f√ºr die letzte Aktivit√§t ben√∂tigt wurde, f√ºr die vorherige ge√∂ffnet wurde, wird er von niemandem neu erstellt.  Was zu tun ist?  Dies in die Anwendungsklasse bringen?  √ñffnen mehrere Punkte Bereiche? </p><br><p>  Bei Fragmenten ist alles einfacher, da sie sich in einer Aktivit√§t oder einem anderen FlowFragment befinden und jeder Container wiederhergestellt wird, bevor das Fragment neu erstellt wird. </p><br><p><img src="https://habrastorage.org/webt/8p/vd/q5/8pvdq5nmwbgjbfi6am26nzotpnq.png"></p><br><p>  Wir k√∂nnen andere praktische Aufgaben in den Kommentaren diskutieren, da sonst die M√∂glichkeit besteht, dass sich der Artikel als zu umfangreich herausstellt. </p><br><p>  Und jetzt der interessanteste Teil. </p><br><h2 id="uzkie-mesta-nado-pomnit-i-dumat">  Engp√§sse (Sie m√ºssen sich erinnern und nachdenken). </h2><br><p>  Hier sind wichtige Dinge zusammengefasst, √ºber die Sie in jedem Projekt nachdenken sollten, aber jeder ist es so gewohnt, sie in Projekten f√ºr mehrere Aktivit√§ten zu ‚Äûzerrei√üen‚Äú, dass es sich lohnt, sich daran zu erinnern und zu erkl√§ren, wie man sie im neuen Ansatz richtig l√∂st.  Und zuerst auf der Liste </p><br><h4 id="povorot-ekrana">  Bildschirmdrehung </h4><br><p>  Das ist die <u>schrecklichste Geschichte</u> f√ºr jammernde Fans, dass Android die Aktivit√§t neu erstellt, wenn der Bildschirm gedreht wird.  Die beliebteste L√∂sungsmethode ist die Korrektur der Hochformatausrichtung.  Dar√ºber hinaus wird dieser Vorschlag nicht mehr von Entwicklern gemacht, sondern von Managern, die sich vor Redewendungen wie "Die <em>Aufrechterhaltung einer Runde ist sehr schwierig und kostet ein Vielfaches mehr</em> " <em>f√ºrchten</em> . <br>  Wir werden nicht √ºber die Richtigkeit einer solchen Entscheidung streiten.  Eine andere Sache ist wichtig: Das <strong>Fixieren der Rotation ist nicht vom Tod der Aktivit√§t befreit!</strong>  Da die gleichen Prozesse bei vielen anderen Ereignissen auftreten: Split-Modus, wenn mehrere Anwendungen auf dem Bildschirm angezeigt werden, Anschlie√üen eines externen Monitors, √Ñndern der Anwendungskonfiguration im laufenden Betrieb usw. </p><br><p>  Dar√ºber hinaus k√∂nnen Sie durch Drehen des Bildschirms die korrekte "Gummiigkeit" des Layouts √ºberpr√ºfen, sodass wir in unserem Team in St. Petersburg die Drehung nicht in allen Verkaufsbaugruppen deaktivieren, auch wenn sie nicht in der Release-Version enthalten ist.  Ganz zu schweigen von den typischen Fehlern, die bei der √úberpr√ºfung weiterhin auftreten. </p><br><p>  Es wurden bereits viele L√∂sungen f√ºr das Drehen geschrieben, angefangen bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Moxy</a> bis hin zu verschiedenen MVVM-Implementierungen.  Mach es nicht schwerer als alles andere. </p><br><p>  Betrachten Sie einen anderen interessanten Fall. <br>  Stellen Sie sich eine Produktkataloganwendung vor.  Wir machen das in Einzelaktivit√§t.  √úberall ist der Hochformatmodus festgelegt, aber der Kunde m√∂chte eine Funktion, wenn der Benutzer sie beim Anzeigen der Fotogalerie im Querformat betrachten kann.  Wie kann man das unterst√ºtzen? </p><br><p>  Jemand wird die <strong>erste Kr√ºcke</strong> anbieten: </p><br><pre> <code class="hljs pgsql">&lt;activity android:<span class="hljs-type"><span class="hljs-type">name</span></span>=".AppActivity" android:configChanges="orientation" /&gt;</code> </pre> <br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onConfigurationChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(newConfig: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Configuration</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newConfig?.orientation == Configuration.ORIENTATION_LANDSCAPE) { <span class="hljs-comment"><span class="hljs-comment">//ignore } else { super.onConfigurationChanged(newConfig) } }</span></span></code> </pre> <br><p>  Daher k√∂nnen wir <code>super.onConfigurationChanged(newConfig)</code> nicht aufrufen, sondern selbst verarbeiten und nur die erforderliche Ansicht auf dem Bildschirm drehen. <br>  Mit API 23 st√ºrzt das Projekt jedoch mit einer <code>SuperNotCalledException</code> , was eine <strong>schlechte Wahl ist</strong> . </p><br><p>  <strong>Die obigen Aussagen haben einen Fehler gemacht:</strong> <br>  Ich wurde in den Kommentaren einigerma√üen korrigiert, dass das Hinzuf√ºgen von android: configChanges = "Orientierung | Bildschirmgr√∂√üe" ausreicht, und dann k√∂nnen Sie Super aufrufen und Aktivit√§t wird beim Drehen nicht neu erstellt.  Es ist n√ºtzlich, es zu verwenden, wenn sich WebView oder Map auf dem Bildschirm befindet. Die Initialisierung dauert lange, und Sie m√∂chten dies vermeiden. <br>  Dies hilft, den beschriebenen Fall mit der Galerie zu l√∂sen, aber die Hauptbotschaft dieses Abschnitts: <u>Ignorieren Sie nicht die Neuerstellung der Aktivit√§t</u> , dies kann in vielen anderen F√§llen passieren. </p><br><p>  Jemand k√∂nnte eine andere L√∂sung vorschlagen: </p><br><pre> <code class="hljs pgsql">&lt;activity android:<span class="hljs-type"><span class="hljs-type">name</span></span>=".AppActivity" android:screenOrientation="portrait" /&gt; &lt;activity android:<span class="hljs-type"><span class="hljs-type">name</span></span>=".RotateActivity" /&gt;</code> </pre> <br><p>  Auf diese Weise entfernen wir uns jedoch vom Single-Activity-Ansatz, um ein einfaches Problem zu l√∂sen und uns aller Vorteile des Ansatzes zu entziehen.  Dies ist eine Kr√ºcke, und eine Kr√ºcke ist immer eine <strong>schlechte Wahl</strong> . </p><br><p>  Hier ist die richtige L√∂sung: </p><br><pre> <code class="hljs pgsql">&lt;activity android:<span class="hljs-type"><span class="hljs-type">name</span></span>=".AppActivity" android:configChanges="orientation" /&gt;</code> </pre> <br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onResume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onResume() activity?.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_SENSOR } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPause</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onPause() activity?.requestedOrientation = ActivityInfo.SCREEN_ORIENTATION_PORTRAIT }</code> </pre> <br><p>  Das hei√üt, wenn das Fragment ge√∂ffnet wird, beginnt sich die Anwendung zu ‚Äûdrehen‚Äú, und wenn es zur√ºckkehrt, wird es wieder repariert.  Nach meiner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erfahrung</a> funktioniert die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AirBnB-</a> App so.  Wenn Sie eine Ansicht von Geh√§usefotos √∂ffnen, ist die Abbiegungsverarbeitung aktiviert. Im Querformat k√∂nnen Sie das Foto jedoch nach unten ziehen, um die Galerie zu verlassen.  Darunter wird der vorherige Bildschirm im Querformat angezeigt, was Sie normalerweise nicht finden, da der Bildschirm unmittelbar nach dem Verlassen der Galerie in ein Hochformat umgewandelt und fixiert wird. </p><br><p><img src="https://habrastorage.org/webt/to/wt/kj/towtkjtucdgw_d2s5da7b2awzkm.png"></p><br><p>  Hier hilft die rechtzeitige Vorbereitung auf Bildschirmumdrehungen. </p><br><h4 id="transparent-status-bar">  Transparente Statusleiste </h4><br><p>  Nur Aktivit√§t kann mit der Systemleiste arbeiten, aber jetzt haben wir nur eine, daher sollten Sie immer angeben </p><br><pre> <code class="hljs pgsql">&lt;item <span class="hljs-type"><span class="hljs-type">name</span></span>="android:windowTranslucentStatus"&gt;<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>&lt;/item&gt;</code> </pre> <br><p>  Auf einigen Bildschirmen muss jedoch nicht darunter "gecrawlt" werden, und Sie m√ºssen den gesamten folgenden Inhalt anzeigen.  Die Flagge kommt zur Rettung </p><br><pre> <code class="hljs objectivec">android:fitsSystemWindows=<span class="hljs-string"><span class="hljs-string">"true"</span></span></code> </pre> <br><p>  Dies gibt das Layout an, das Sie nicht unter der Systemleiste zeichnen sollten.  Wenn Sie es jedoch im Layout des Fragments angeben und dann versuchen, das Fragment √ºber die Transaktion im Fragmentmanager anzuzeigen, werden Sie entt√§uscht sein ... es wird nicht funktionieren! <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Antwort ist schnell Google</a> <br>  Ich empfehle Ihnen dringend, sich mit einer wirklich umfassenden Antwort und vielen n√ºtzlichen Links vertraut zu machen. <br>  Eine schnelle und funktionierende ( <em>aber nicht die richtige</em> ) L√∂sung besteht darin, das Layout in <code>CoordinatorLayout</code> zu verpacken </p><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.design.widget.CoordinatorLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:app</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:fitsSystemWindows</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.design.widget.CoordinatorLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Eine bessere L√∂sung hilft auch bei der Verarbeitung der Tastatur. </p><br><h4 id="izmenenie-verstki-pri-poyavlenii-klaviatury">  √Ñndern Sie das Layout, wenn die Tastatur angezeigt wird </h4><br><p>  Wenn die Tastatur verlassen wird, sollte sich das Layout √§ndern, damit wichtige Elemente der Benutzeroberfl√§che nicht unerreichbar bleiben.  Und wenn wir fr√ºher verschiedene Reaktionsmodi f√ºr die Tastatur f√ºr verschiedene Aktivit√§ten festlegen konnten, m√ºssen wir dies jetzt in Einzelaktivit√§t tun.  Daher ist es notwendig zu verwenden </p><br><pre> <code class="hljs objectivec">android:windowSoftInputMode=<span class="hljs-string"><span class="hljs-string">"adjustResize"</span></span></code> </pre> <br><p>  Wenn Sie den Ansatz aus dem vorherigen Abschnitt verwenden, um eine transparente Statusleiste zu verarbeiten, werden Sie einen ungl√ºcklichen Fehler finden: Wenn ein Fragment erfolgreich unter die Statusleiste gecrawlt wurde, wird es beim Anzeigen der Tastatur oben und unten verkleinert, w√§hrend die Statusleiste und die Tastatur im System funktionieren <code>SystemWindows</code> . </p><br><p>  Achten Sie auf den Titel </p><br><p><img src="https://habrastorage.org/webt/vr/ay/xo/vrayxosszrpgfsq-eyia_z4hshi.gif"></p><br><p>  Was zu tun ist?  Lesen Sie die Dokumentation!<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und stellen Sie sicher, dass </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chris Banes √ºber WindowInsets spricht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Verwendung von WindowInsets erm√∂glicht </font></font></p><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Finden Sie die richtige H√∂he des Balkenstatus heraus (und nicht den 51-dp-Hardcode). </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bereiten Sie die Anwendung f√ºr Ausschnitte auf den Bildschirmen neuer Smartphones vor </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Finde die H√∂he der Tastatur heraus (es ist echt!) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Empfangen Sie Ereignisse und reagieren Sie auf das Erscheinungsbild der Tastatur. </font></font></li></ul><br><p> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeder lernt WindowInsets!</font></font></strong> </p><br><h4 id="splash-screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Begr√º√üungsbildschirm </font></font></h4><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn jemand anderes nicht Bescheid wei√ü, ist der kanonische Begr√º√üungsbildschirm nicht der erste Bildschirm in der Anwendung, der Daten l√§dt, sondern das, was der Benutzer beim Start sieht, bis der Aktivit√§tsinhalt Zeit zum Rendern hat. </font><font style="vertical-align: inherit;">Es gibt viele </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu diesem Thema.</font></font></p><br><p><img src="https://habrastorage.org/webt/fs/nd/nt/fsndntzk-erl-iebzisfiiftsfc.png"></p><br><p>    ,   Single-Activity,    Splash screen.     ,     deep-link      Splash screen     . </p><br><h4 id="zapusk-vashego-prilozheniya-iz-drugih-prilozheniy">       </h4><br><p>  <strong>    </strong> ,    ,      ,    . </p><br><p> ,       .    Single-Activity.    -         ,   ,    . <br>                 ... <br>  Intent,   ,        ... <br>  Was weiter?   : </p><br><ul><li>    ,       ¬´¬ª.    ¬´¬ª,    .    ,   ! </li><li>      ,    ‚Ä¶ </li></ul><br><p>      ,     .           ?     ‚Äî           ¬´¬ª   ¬´¬ª   . </p><br><p>  Was zu tun ist?  ,    . </p><br><p>    Activity! <br> ,    :       ,   ‚Äî        . <br>       ‚Äî ,      (   Activity),    . </p><br><p>  Activity ‚Äî       .      Activity,         .     . </p><br><p><img src="https://habrastorage.org/webt/hj/cs/wd/hjcswdrykm21jtyzupyongbe494.png"></p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>    ()   ,        Activity,        Android-.         ,             . </p><br><p>    :     Google       .        ‚Äî      ,   ,    Activity     . </p><br><p> ,    ,      ,        !  Vielen Dank! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426617/">https://habr.com/ru/post/de426617/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426605/index.html">Statische Analyse von PHP-Code am Beispiel von PHPStan, Phan und Psalm</a></li>
<li><a href="../de426609/index.html">Office 365 und andere MS-Produkte f√ºgen Sprach-E / A f√ºr Legastheniker hinzu</a></li>
<li><a href="../de426611/index.html">Integration in SAP ERP am Beispiel von Django-Python am Beispiel des oData (Rest) -Protokolls</a></li>
<li><a href="../de426613/index.html">Lassen Sie den 3D-Drucker nicht faul sein</a></li>
<li><a href="../de426615/index.html">Schreiben einer CLI auf NodeJS</a></li>
<li><a href="../de426621/index.html">Kompakte Zeichenfolgen in Java 9</a></li>
<li><a href="../de426623/index.html">Dies ist ein elektrischer Bus: Was wissen wir √ºber den Transport mit einer Batterie?</a></li>
<li><a href="../de426625/index.html">Mehrsprachige B√§ume in Yii2 als Beispiel f√ºr die Erstellung eines Men√ºmoduls</a></li>
<li><a href="../de426629/index.html">Trumps Steuerreformphilosophie</a></li>
<li><a href="../de426633/index.html">Pavel Durov wird diesen Herbst die Telegram Blockchain-Plattform starten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>