<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüî¨ üßì üí† Gerando √≠cones de v√°rias plataformas e com v√°rias marcas com o Sketch e um script Node.js. - Parte # 1 üöò üé™ üë∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR 
 Usando um script de constru√ß√£o customizado no N√≥ JS, √© poss√≠vel manipular uma s√©rie de arquivos do Sketch e, em seguida, usando uma ferrament...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gerando √≠cones de v√°rias plataformas e com v√°rias marcas com o Sketch e um script Node.js. - Parte # 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/441040/"><img src="https://habrastorage.org/webt/r_/wy/rc/r_wyrcezx76z5i0-1_zuktooxzy.jpeg"><br><br><h4>  TL; DR </h4><br>  Usando um script de constru√ß√£o customizado no N√≥ JS, √© poss√≠vel manipular uma s√©rie de arquivos do Sketch e, em seguida, usando uma ferramenta interna do Sketch, exportar automaticamente seus ativos, gerar v√°rias bibliotecas de √≠cones, para v√°rias plataformas e marcas diferentes, que suportam din√¢mica coloriza√ß√£o dos ativos por meio de tokens de design e tamb√©m teste AB dos ativos por conven√ß√£o de nomenclatura.  F√°cil peasy :) <br><hr><br>  Bem, na verdade n√£o √© t√£o f√°cil, mas certamente pode ser feito.  Este post √© uma explica√ß√£o detalhada de como o fizemos e o que descobrimos ao longo do caminho. <br><br><h2>  O problema que est√°vamos tentando resolver </h2><br>  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Badoo,</a> criamos um aplicativo de namoro.  Na verdade, v√°rios aplicativos de namoro.  Para v√°rias plataformas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">iOS</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Android</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Web m√≥vel</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Web para desktop</a> ), em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">v√°rias equipes</a> . <br><br>  Usamos centenas de √≠cones em nossos aplicativos.  Alguns deles s√£o iguais em aplicativos diferentes, outros s√£o muito espec√≠ficos para as marcas que os aplicativos refletem.  Os √≠cones est√£o em constante evolu√ß√£o, em sincronia com a evolu√ß√£o do design.  √Äs vezes, s√£o adicionados √≠cones completamente novos, enquanto outros s√£o atualizados e outros ainda s√£o descartados (embora, geralmente, permane√ßam na base de c√≥digo). <br><a name="habracut"></a><br>  Nossa equipe de design projeta e mant√©m os √≠cones, e at√© agora a √∫nica maneira de fornecer os ativos corretos para as diferentes equipes, plataformas e aplicativos, era envi√°-los por email, chat ou dropbox.  Isso n√£o apenas consome tempo, mas √© quase sempre propenso a erros.  De fato, descobrimos que sempre ocorriam erros (somos humanos!): Os √≠cones seriam atualizados em uma plataforma, mas n√£o em outra;  ou os √≠cones estariam ausentes ou no formato ou tamanho errado.  Portanto, havia uma constante altern√¢ncia entre designers e desenvolvedores;  os desenvolvedores exportariam √≠cones diretamente do arquivo Sketch e os √≠cones seriam adicionados √† base de c√≥digo, mas sem verifica√ß√£o para ver se √≠cones semelhantes j√° existiam (e estavam dispon√≠veis para reutiliza√ß√£o).  Tenho certeza que voc√™ sabe do que estou falando. <br><br>  No Badoo, temos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sistema de Design, chamado Cosmos</a> , e recentemente introduzimos uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca de Design Tokens</a> em v√°rias plataformas (Web m√≥vel, Android e iOS), tanto para o nosso aplicativo principal quanto para seus r√≥tulos em branco.  Agora, basicamente, podemos comunicar decis√µes de design (como a borda de um bot√£o, a cor de plano de fundo de uma p√°gina de recurso espec√≠fica, o tamanho da fonte do T√≠tulo 1 ou a dura√ß√£o de uma anima√ß√£o para um pop-up) usando valores elementares de design, tudo processado e entregue automaticamente a todos os aplicativos e a todas as plataformas que consomem esses tokens de design em seus aplicativos. <br><br>  Agora, como somos capazes de transformar uma ideia de design, como, por exemplo, uma mudan√ßa de cor, em c√≥digo real na produ√ß√£o, em apenas alguns cliques e quase em qualquer momento, realmente impressionou os gerentes e designers de produtos. <br><br>  Ent√£o, a pr√≥xima pergunta (e solicita√ß√£o) foi: voc√™ pode fazer algo semelhante pelos ativos?  E nossa resposta foi: sim, n√≥s (provavelmente) podemos! <br><br>  Foi um grande salto de f√© na √©poca, tenho que admitir.  T√≠nhamos algumas id√©ias de como faz√™-lo, mas n√£o t√≠nhamos certeza se era tecnicamente vi√°vel, com todas as restri√ß√µes em que operamos.  Concordamos em come√ßar com um projeto MVP, mas no final tudo correu t√£o bem que se tornou nosso produto final, com todos os recursos necess√°rios. <br><br><h2>  Os requisitos </h2><br>  Os requisitos para o MVP eram muito claros: crie um pipeline que possa pegar um arquivo Sketch e exportar todos os √≠cones inclu√≠dos no arquivo, em diferentes formatos, para plataformas diferentes, com cada √≠cone adequado para uso no teste AB. <br><br>  Isso √© complicado porque, em nossos produtos, um √≠cone pode ter muitas cores e / ou formas diferentes para diferentes marcas / etiquetas em branco (embora a base de c√≥digo do aplicativo seja o mesmo e o nome do √≠cone). <br><br>  Observe alguns dos √≠cones usados ‚Äã‚Äãem nossos aplicativos e voc√™ notar√° que alguns s√£o id√™nticos, alguns s√£o muito parecidos entre si, mas com alguns detalhes, enquanto outros s√£o bem diferentes, tanto em suas formas quanto em cores: <br><br><img src="https://habrastorage.org/webt/kf/ms/bq/kfmsbqu2vyjyvtbweq5wg5v0gyo.png"><br>  <i>Uma compara√ß√£o do √≠cone para as diferentes marcas</i> <br><br>  Agora, as cores usadas nos √≠cones n√£o s√£o apenas cores simples, mas correspondem √†s cores exatas indicadas nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tokens de design</a> para essa marca e seus recursos espec√≠ficos: <br><br><img src="https://habrastorage.org/webt/n1/hv/f6/n1hvf6nlzo7ixqzlgji79jrn9bc.png"><br>  <i>Compara√ß√£o das cores entre diferentes marcas.</i>  <i>Os valores das cores s√£o especificados como tokens de design.</i> <br><br>  Portanto, nosso objetivo com esse novo pipeline de ativos n√£o era apenas automatizar o processo de gera√ß√£o e entrega dos √≠cones, para todas as diferentes plataformas e marcas, mas tamb√©m poder "dinamicamente" colorir os √≠cones de acordo com a marca / branco -label. <br><br><h2>  Sketch e sketchtool </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Sketch</a> √© a principal ferramenta de design que nossa equipe de design usa.  Embora tenhamos considerado outras op√ß√µes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Figma</a> , principalmente), sab√≠amos que o Sketch era o formato dos arquivos de origem que usar√≠amos para este projeto (simplesmente porque √© a ferramenta na qual nossos designers s√£o mais proficientes e √© o formato dos arquivos em que os √≠cones / ativos existentes s√£o usados, entre outros motivos). <br><br>  O fato √© que, no in√≠cio do projeto, n√£o t√≠nhamos certeza do formato final esperado pelas plataformas.  Em nossa opini√£o, o processo seria bem b√°sico assim: exporte os √≠cones no formato SVG do arquivo Sketch e consuma os arquivos SVG no Mobile Web e Android, e para iOS encontre uma biblioteca que possa converter SVGs em PDFs.  E √© isso.  Esse era o plano quando come√ßamos, embora n√£o tiv√©ssemos ideia se funcionaria, ou sobre as inc√≥gnitas desconhecidas que poder√≠amos encontrar (portanto, o MVP para ver se era vi√°vel e, se sim, quanto esfor√ßo isso poderia acarretar. ) <br><br>  N√£o sei se voc√™ j√° trabalhou com "conversores de PDF", mas, na minha experi√™ncia, eles geralmente s√£o uma dor.  Eles "quase" fazem o trabalho, mas nunca para os 100% que voc√™ realmente precisa.  Ent√£o, no fundo da minha mente, senti que est√°vamos trilhando um caminho perigoso. <br><br>  O Sketch tem uma maneira de exportar ativos que s√£o praticamente perfeitos, nunca tive problemas com ele (seja SVG, PDF ou outros formatos).  Ent√£o, eu queria ver se havia outras maneiras de interagir com o Sketch, usar seu mecanismo para exportar ativos diretamente via Sketch, possivelmente de maneira program√°tica (eu tamb√©m queria saber se um plug-in personalizado poderia ser constru√≠do, embora isso significasse muito trabalho para mim, n√£o apenas porque n√£o tenho experi√™ncia nesse campo!). <br><br>  Eu sabia que internamente o Sketch n√£o passa de um arquivo zip (se voc√™ renomear um arquivo <i>.sketch</i> para <i>.zip</i> , clique duas vezes para descompact√°-lo e abrir a pasta resultante, ver√° uma lista de arquivos JSON e um bitmap usado como pr√©-visualiza√ß√£o): <br><br><img src="https://habrastorage.org/webt/-b/nj/0d/-bnj0dj_0fsxjlucie9cmvlojjy.png"><br>  <i>Estrutura interna de um arquivo de esbo√ßo, uma vez descompactado</i> <br><br>  Ent√£o, comecei a explorar os diferentes arquivos JSON, tentando entender as conex√µes e depend√™ncias entre eles. <br><br>  Percebi que, de alguma forma, apesar dos arquivos JSON serem profundamente aninhados (e bastante grandes!), As rela√ß√µes entre as diferentes entidades dentro de seus objetos n√£o s√£o muito complicadas: voc√™ tem p√°ginas, pranchetas e camadas;  dentro das camadas, voc√™ tem os caminhos e pode ter estilos compartilhados entre elas;  cada uma dessas entidades possui um ID exclusivo usado para manter uma refer√™ncia entre os diferentes arquivos;  e todos os objetos "page" s√£o salvos em arquivos JSON, armazenados em uma subpasta chamada <i>pages</i> , com o ID da p√°gina usado como nome do arquivo. <br><br>  Uma descoberta importante que fiz, durante esta explora√ß√£o, foi que <b>os nomes das camadas, p√°ginas e estilos s√£o apenas r√≥tulos e podem ser alterados a qualquer momento, sem comprometer o funcionamento interno do arquivo Sketch.</b>  O que importa √© o ID exclusivo atribu√≠do a eles, e isso nunca √© exposto ao usu√°rio final (embora possa ser lido e referenciado nos arquivos JSON).  Aqui est√° um exemplo de como o ID exclusivo de um estilo se parece: <br><br><pre><code class="plaintext hljs">{ "_class": "sharedStyle", "do_objectID": "49BA4E98-8D63-435C-81D9-E2F6CDB63136", "name": "name-of/the-style", "value": {     "_class": "style",     "endMarkerType": 0,     "fills": [         {             "_class": "fill",             "isEnabled": true,             "color": {                 "_class": "color",                 "alpha": 1,                 "blue": 0.7176470588235294,                 "green": 0.4627450980392159,                 "red": 0             },             "fillType": 0,             "noiseIndex": 0,             "noiseIntensity": 0,             "patternFillType": 1,             "patternTileScale": 1         }     ],     "miterLimit": 10,     "startMarkerType": 0,     "windingRule": 1 } }</code> </pre> <br>  Isso me deu uma id√©ia: que talvez pud√©ssemos usar conven√ß√µes espec√≠ficas nos nomes das pranchetas e das p√°ginas, para declarar algum tipo de meta-informa√ß√£o sobre as rela√ß√µes entre os diferentes ativos e us√°-las de forma program√°tica no tempo de constru√ß√£o. <br><br><h2>  Sketchtool </h2><br>  Nesse ponto, no final das explora√ß√µes iniciais, o plano havia mudado de <i>"vamos exportar os √≠cones no SVG e depois convert√™-los"</i> para <i>"vamos criar um plug-in que, no Sketch, nos permita exportar diretamente os √≠cones em sua vers√£o final. formato "</i> .  Mas, mesmo assim, o plano ainda estava muito confuso (e a viabilidade t√©cnica ainda era incerta). <br><br>  Foi enquanto eu olhava os plug-ins existentes, especialmente o c√≥digo-fonte, para ver se e como eles poderiam interagir com as APIs de exporta√ß√£o do Sketch. Encontrei uma ferramenta da qual nunca tinha ouvido falar antes: o Sketchtool. <br><br>  O Sketchtool √© uma ferramenta oficial do Sketch (oficial como em: desenvolvida pela Bohemian Coding), que de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">acordo com a documenta√ß√£o</a> : <br><blockquote>  ... √© um utilit√°rio de linha de comando que acompanha o Sketch, que permite executar algumas opera√ß√µes com documentos do Sketch, como inspecion√°-los ou exportar ativos.  Tamb√©m permite controlar o Sketch na linha de comando para executar algumas a√ß√µes (como executar plug-ins, por exemplo). </blockquote><br>  Espere ... um <b>utilit√°rio de linha de comando</b> para executar opera√ß√µes como <b>exportar ativos</b> ?  Apenas o que eu estava procurando!  Al√©m disso, sendo uma ferramenta oficial, n√£o haveria problemas de vers√µes, obsolesc√™ncia, manuten√ß√£o etc. <br><br>  Comecei a examin√°-lo imediatamente e a ler a documenta√ß√£o, que gradualmente se tornou apenas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma p√°gina</a> no site do Sketch (n√£o encontrei quase nenhum outro recurso ou p√°gina por a√≠, ent√£o √© compreens√≠vel que eu nunca tenha ouvido falar sobre isso) <br><br>  O Sketchtool √© fornecido diretamente com o Sketch e voc√™ pode encontr√°-lo no Sketch neste caminho: <code>Sketch.app/Contents/Resources/sketchtool/</code> <br><br>  Quando voc√™ o inicia em sua CLI com o comando: <br> <code>$ /Applications/Sketch.app/Contents/Resources/sketchtool/bin/sketchtool</code> <br> <br>  esta √© a sa√≠da que voc√™ v√™ no seu terminal (eu simplifiquei um pouco): <br><br><pre> <code class="plaintext hljs">Usage: sketchtool &lt;command&gt; [&lt;args&gt;] [--formats=&lt;string&gt;] [--use-id-for-name{=YES|NO}] [--export-page-as-fallback{=YES|NO}] [--serial{=YES|NO}] [--context=&lt;string&gt;] [--application=&lt;path&gt;] [--without-activating{=YES|NO}] [--item=&lt;string&gt;] [--items=&lt;string&gt;] [--safemode{=YES|NO} | --no-safemode | -S {&lt;YES|NO&gt;}] [--max-size=&lt;float&gt; | -m &lt;float&gt;] [--background=&lt;string&gt; | -g &lt;string&gt;] [--compression=&lt;float&gt; | -c &lt;float&gt;] [--new-instance{=YES|NO}] [--reveal{=YES|NO}] [--timeout=&lt;float&gt;] [--include-symbols{=YES|NO}] [--bounds=&lt;rectangle&gt;] [--outputJSON=&lt;path&gt;] [--filename=&lt;string&gt;] [--wait-for-exit{=YES|NO}] [--scales=&lt;path&gt;] [--overwriting{=YES|NO}] [--group-contents-only{=YES|NO}] [--trimmed{=YES|NO}] [--help] [--progressive{=YES|NO}] [--save-for-web{=YES|NO}] [--output=&lt;path&gt;] Commands: dump               Dump out the structure of a document as JSON. export artboards  Export one or more artboards export layers     Export one or more layers export pages      Export an area from one or more pages export preview    Export a preview image for a document export slices     Export one or more slices help              Show this help message. list artboards    List information on the document's artboards. list formats      List the supported export formats. list layers       List information on all of the document's layers. list pages        List information on the document's pages. list slices       List information on the document's slices. metadata          List the metadata for a document. run               Run a command from a plugin, inside Sketch. show              Show the location of the various sketch folders. See 'sketchtool help &lt;command&gt;' for more information on a specific command.</code> </pre> <br><br>  Como voc√™ pode ver, a ferramenta possui quatro fun√ß√µes principais: <b>ler / despejar</b> os metadados dos arquivos JSON internos;  <b>listar</b> as entidades dentro de um arquivo;  <b>exportar</b> essas entidades;  e para <b>executar</b> um comando exposto por um plugin.  Al√©m disso, cada comando tem muitas <b>op√ß√µes</b> dispon√≠veis.  No caso do comando export, quase todas as op√ß√µes encontradas no <b>painel de exporta√ß√£o</b> tamb√©m est√£o dispon√≠veis na linha de comando do Sketchtool: <br><br><img src="https://habrastorage.org/webt/cl/nh/it/clnhitk3ewuz1sj6meowk4suons.png"><br>  <i>Painel "Exportar" no Sketch, com as op√ß√µes dispon√≠veis</i> <br><br>  Isso significa que o Sketch pode ser usado diretamente como "mecanismo" de exporta√ß√£o via <i>ferramenta de desenho</i> , sem a necessidade de conversores externos (de SVG para PNG ou PDF, por exemplo).  Grande coisa! <br><br>  Um teste r√°pido usando o <i>sketchtool</i> e um arquivo simples do Sketch com alguns √≠cones no interior confirmou todas as suposi√ß√µes iniciais: ao usar esta ferramenta simples, podemos evitar o uso de exportadores de terceiros e a cria√ß√£o de nossos pr√≥prios exportadores personalizados: o Sketch faz tudo! <br><br><h2>  Os arquivos de rascunho </h2><br>  Depois que soubemos que o Sketch era a ferramenta que √≠amos usar, para armazenar e exportar os √≠cones, era hora de realmente coletar os √≠cones usados ‚Äã‚Äãem nossos aplicativos em um arquivo do Sketch. <br><br>  Inicialmente, planej√°vamos trabalhar apenas com um conjunto limitado de √≠cones, para o projeto MVP, mas rapidamente percebemos que seria melhor colet√°-los todos de uma vez, para poder detectar imediatamente duplicatas, inconsist√™ncias, omiss√µes, etc. <br><br>  Nossos designers fizeram um trabalho incr√≠vel e, em apenas alguns dias, grande parte dos ativos usados ‚Äã‚Äãnos arquivos do Sketch foi coletada e organizada em um √∫nico arquivo.  Nesse ponto, o arquivo de esbo√ßo estava assim: <br><br><img src="https://habrastorage.org/webt/h4/pc/ns/h4pcns4_q86k56t8njsfxarz7no.png"><br>  <i>Vis√£o geral do arquivo Sketch contendo os √≠cones usados ‚Äã‚Äãem nosso aplicativo.</i> <br><br>  No arquivo, cada √≠cone tem sua pr√≥pria prancheta, nomeada com o nome desejado do √≠cone (posteriormente usado pelo Sketch como nome do arquivo ao exportar os ativos). <br><br>  Todos os caminhos s√£o convertidos em contornos e os caminhos combinados (geralmente como <i>uni√£o</i> ou <i>subtra√ß√£o</i> ) s√£o nivelados em uma √∫nica forma.  Isso garante que os ativos gerados mantenham a apar√™ncia visual perfeita no arquivo de origem e a compatibilidade ideal com as v√°rias plataformas. <br><br><img src="https://habrastorage.org/webt/ja/zt/im/jaztimwxbkymkadbp3gzjc5pwv8.png"><br><br>  <i>Exemplo de como os √≠cones (e suas camadas) s√£o organizados no arquivo de esbo√ßo de ativos.</i>  <i>O fundo rosa claro aplicado √†s pranchetas cria um contraste visual com as √°reas brancas.</i> <br><br><h2>  Colorir dinamicamente os √≠cones com Estilos Compartilhados (e Tokens de Design) </h2><br>  Depois de coletarmos os √≠cones, o pr√≥ximo passo era aplicar as cores certas a eles.  O que fizemos foi criar um conjunto de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Estilos compartilhados</a> predefinidos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no Sketch</a> , com nomes que correspondessem aos dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tokens de design</a> usados ‚Äã‚Äãem nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema de design</a> e us√°-los para aplicar cores aos √≠cones. <br><br>  √â assim que um estilo √© aplicado a uma camada: <br><br><img src="https://habrastorage.org/webt/xv/bd/27/xvbd27jn62ynxnuk77svb2ozsh4.png"><br>  <i>Camada no Sketch com um estilo predefinido (cor de preenchimento).</i> <br><br>  E √© assim que os estilos s√£o declarados e aplicados a um elemento: <br><br><img src="https://habrastorage.org/webt/av/xq/ks/avxqksf8lmzji7mt_3tv0hi4j4s.png"><br>  <i>Como decidimos organizar os estilos no Sketch</i> <br><br>  A conven√ß√£o de nomenclatura √© muito importante aqui.  Os designers podem organizar os estilos em qualquer subpasta, desde que o nome do estilo corresponda ao nome do token de design correspondente para essa cor.  Isso √©, para que possa ser referenciado programaticamente pelo script de constru√ß√£o posteriormente. <br><br><h2>  P√°ginas e nomes de prancheta usados ‚Äã‚Äãpara testes AB </h2><br><br>  Nesse momento, estava na hora de entender como garantir que os designers pudessem realizar testes AB nos √≠cones.  Mais uma vez, no final, decidimos confiar nas conven√ß√µes de nomenclatura (grande f√£ do KISS aqui). <br><br>  Nesse caso, usamos os <b>nomes</b> das <b>p√°ginas</b> para detectar quando um conjunto de √≠cones era um teste / experimento AB (usando " <b>XP_"</b> como prefixo) e os <b>nomes</b> da <b>prancheta</b> para detectar a qual ativo o teste AB estava se referindo e suas diferentes variantes ( entre colchetes). <br><br><img src="https://habrastorage.org/webt/xs/3c/ww/xs3cwws-nva55cjjxv9xcgrnvok.png"><br>  <i>Como a conven√ß√£o de nomenclatura em p√°ginas e pranchetas √© usada para "declarar" um teste AB.</i>  <i>Aviso: os √≠cones s√£o apenas exemplos criados especialmente para fins de teste, n√£o s√£o √≠cones reais usados ‚Äã‚Äãem um produto</i> :) <br><br>  Os nomes usados ‚Äã‚Äãpara os testes e as op√ß√µes n√£o s√£o nomes gen√©ricos: eles devem corresponder aos <i>IDs de nome exclusivo</i> atribu√≠dos √†s experi√™ncias / op√ß√µes em nossa ferramenta interna de divis√£o de usu√°rios.  Dessa forma, os ativos podem ser associados mais tarde corretamente ao grupo de usu√°rios de teste AB correto. <br><br><h2>  V√°rios arquivos para v√°rias marcas </h2><br>  A √∫ltima pe√ßa do quebra-cabe√ßa foi: como apoiamos diferentes formas do mesmo √≠cone, para diferentes marcas? <br><br><img src="https://habrastorage.org/webt/7n/df/uc/7ndfuclyp3csinhkyrp2cufmjq4.png"><br><br>  Esse era <b>um requisito muito importante para os gerentes de produto</b> e t√≠nhamos v√°rias op√ß√µes dispon√≠veis para uso.  Inicialmente, pensamos em usar p√°ginas diferentes no mesmo arquivo de esbo√ßo, com nomes de p√°ginas diferentes para cada marca;  mas logo percebemos que tornaria muito mais complexo e mais dif√≠cil para os designers manter os √≠cones sincronizados entre as diferentes marcas.  Conclu√≠mos que a solu√ß√£o era ter v√°rios arquivos: um <b>arquivo "comum"</b> , onde armazen√°vamos todos os √≠cones id√™nticos para as diferentes marcas e <b>arquivos espec√≠ficos da marca</b> para √≠cones que estavam <b>substituindo</b> os √≠cones "b√°sicos" no comum arquivo <br><br><img src="https://habrastorage.org/webt/vo/sq/sv/vosqsvsu_ozoqve04etypteipku.png"><br><br>  Nesse ponto, os arquivos do Sketch estavam prontos.  Est√°vamos prontos para come√ßar a escrever c√≥digo. <br><br>  <i>Para ser continuado.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt441040/">https://habr.com/ru/post/pt441040/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt441028/index.html">Como os pesquisadores descobrem os bancos de dados abertos do MongoDB e Elasticsearch</a></li>
<li><a href="../pt441030/index.html">Detectando ataques da Web com um autoencodificador Seq2Seq</a></li>
<li><a href="../pt441032/index.html">KeeBee Criando seu pr√≥prio teclado USB a partir do zero</a></li>
<li><a href="../pt441034/index.html">6 pontos de crescimento de convers√µes ou como aumentar a confian√ßa usando um telefone no site</a></li>
<li><a href="../pt441036/index.html">Como dar e receber feedback se voc√™ √© pardal-sociophobus</a></li>
<li><a href="../pt441042/index.html">Gerando √≠cones de v√°rias plataformas e com v√°rias marcas com o Sketch e um script Node.js. - Parte # 2</a></li>
<li><a href="../pt441044/index.html">A hist√≥ria de como mudamos o √≠cone do PVS-Studio</a></li>
<li><a href="../pt441046/index.html">A hist√≥ria de como mudamos o √≠cone do PVS-Studio</a></li>
<li><a href="../pt441048/index.html">Escrit√≥rio pr√≥-agressivo</a></li>
<li><a href="../pt441050/index.html">Criando uma c√¢mera t√©rmica DIY baseada em um Raspberry Pi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>