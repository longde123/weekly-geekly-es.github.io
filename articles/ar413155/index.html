<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฌ ๐ ๐จโ๐งโ๐ฆ ุฏููู ููุท Shell ูู Google (ุจุงูุฑูุณูุฉ) ๐ฅ ๐ฅ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 
 ุงูุชู ุดู ูุงุณุชุฎุฏุงููุง 


 Bash ูุบุฉ ุงูุจุฑูุฌุฉ ุงููุตูุฉ ุงููุญูุฏุฉ ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูููููุงุช ุงููุงุจูุฉ ููุชูููุฐ. 


 ูุฌุจ ุฃู ุชุจุฏุฃ ุงูุจุฑุงูุฌ ุงููุตูุฉ ุจู #!/bin/b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฏููู ููุท Shell ูู Google (ุจุงูุฑูุณูุฉ)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413155/" style=";text-align:right;direction:rtl"><h1 id="predislovie" style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br><h3 id="kakoy-shell-ispolzovat" style=";text-align:right;direction:rtl">  ุงูุชู ุดู ูุงุณุชุฎุฏุงููุง </h3><br><p style=";text-align:right;direction:rtl"> <code>Bash</code> ูุบุฉ ุงูุจุฑูุฌุฉ ุงููุตูุฉ ุงููุญูุฏุฉ ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูููููุงุช ุงููุงุจูุฉ ููุชูููุฐ. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุจุฏุฃ ุงูุจุฑุงูุฌ ุงููุตูุฉ ุจู <code>#!/bin/bash</code> ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุนูุงูุงุช.  ุงุณุชุฎุฏู <code>set</code> ูุชุนููู ุฎูุงุฑุงุช shell ุจุญูุซ ูุง ูุคุฏู ุงูุชูุงู ุงููุต ุงูุจุฑูุฌู ุจุงุณู <code>bash &lt;script_name&gt;</code> ุงูุชูุงู ูุธุงุฆูู. </p><br><p style=";text-align:right;direction:rtl">  ูููุญูุง ุชุญุฏูุฏ ุฌููุน ุงููุตูุต ุงูุจุฑูุฌูุฉ ูู bash ูุบุฉ ุบูุงู ุซุงุจุชุฉ ูุชู ุชุซุจูุชูุง ุนูู ุฌููุน ุฃุฌูุฒุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุงุณุชุซูุงุก ุงููุญูุฏ ูู ุฅุฐุง ููุช ูููุฏูุง ุจุดุฑูุท ูุง ุชููู ุจุงูุจุฑูุฌุฉ ูู.  ุฃุญุฏ ุงูุฃูุซูุฉ ุนูู ุฐูู ุญุฒู Solaris SVR4 ุ ุงูุชู ุชุชุทูุจ ุงุณุชุฎุฏุงู ุบูุงู ุจูุฑู ุงููุนุชุงุฏ ูุฃู ูุต ุจุฑูุฌู. </p><br><h3 id="kogda-ispolzovat-shell" style=";text-align:right;direction:rtl">  ูุชู ุชุณุชุฎุฏู ุดู </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุงุณุชุฎุฏุงู Shell ููุท ูููุฑุงูู ุงูุตุบูุฑุฉ ุฃู ุฃุบููุฉ ุงูุจุฑุงูุฌ ุงููุตูุฉ ุงูุจุณูุทุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃู ุจุฑูุฌุฉ shell ููุณุช ูุบุฉ ุชุทููุฑ ุ ุฅูุง ุฃููุง ุชุณุชุฎุฏู ููุชุงุจุฉ ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ูู ุฌููุน ุฃูุญุงุก Google.  ูุนุฏ ุฏููู ุงูุฃุณููุจ ูุฐุง ุฃูุซุฑ ุงุนุชุฑุงููุง ุจุงุณุชุฎุฏุงูู ุ ูููุณ ููุชุฑุญูุง ูุงุณุชุฎุฏุงูู ุนูู ูุทุงู ูุงุณุน. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุจุนุถ ุงูุชูุตูุงุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฃุฏูุงุช ูุณุงุนุฏุฉ ุฃุฎุฑู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูููุช ุจูุนุงูุฌุฉ ุจูุงูุงุช ููููุฉ ูุณุจููุง ุ ูุฅู shell ูู ุฎูุงุฑ ููุจูู ููุฐู ุงููููุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงูุฃุฏุงุก ููููุง ุ ูุงุณุชุฎุฏู ุดูุฆูุง ุขุฎุฑ ุบูุฑ shell. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุฌุฏุช ุฃูู ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู ุงููุตูููุงุช ูุฃูุซุฑ ูู ุชุนููู <code>${PIPESTATUS}</code> ุ ููุฌุจ ุนููู ุงุณุชุฎุฏุงู Python. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชูุชุจ ูุตูุง ุฃุทูู ูู 100 ุณุทุฑ ุ ููู ุงููุญุชูู ุฃู ุชูุชุจู ูู Python.  ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุงููุตูุต ุงูุจุฑูุฌูุฉ ุชููู.  ุฃุนุฏ ูุชุงุจุฉ ุงููุต ุงูุจุฑูุฌู ุจูุบุฉ ุฃุฎุฑู ูู ููุช ุณุงุจู ูุชุฌูุจ ุฅุนุงุฏุฉ ุงููุชุงุจุฉ ุงูุชู ุชุณุชุบุฑู ููุชูุง ุทูููุงู. </li></ul><br><h1 id="shell-fayly-i-vyzov-interpretatora" style=";text-align:right;direction:rtl">  ูููุงุช ุดู ูุงุณุชุฏุนุงุก ุงููุชุฑุฌู </h1><br><h3 id="rasshireniya-faylov" style=";text-align:right;direction:rtl">  ููุญูุงุช ุงููููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃูุง ุชุญุชูู ุงููููุงุช ุงููุงุจูุฉ ููุชูููุฐ ุนูู ุงูุงูุชุฏุงุฏ (ุงูููุถู ุจุดุฏุฉ) ุฃู ุงูุงูุชุฏุงุฏ <code>.sh</code> .  ูุฌุจ ุฃู ูููู <code>.sh</code> ุงูุงูุชุฏุงุฏ <code>.sh</code> ููุฌุจ ุฃูุง ุชููู ูุงุจูุฉ ููุชูููุฐ. </p><br><p style=";text-align:right;direction:rtl">  ููุณุช ููุงู ุญุงุฌุฉ ููุนุฑูุฉ ุงููุบุฉ ุงูุชู ููุชุจูุง ุงูุจุฑูุงูุฌ ุฃุซูุงุก ุชูููุฐู ุ ููุง ูุชุทูุจ shell ุงูุชุฏุงุฏูุง ุ ูุฐูู ููุถู ุนุฏู ุงุณุชุฎุฏุงูู ูููููุงุช ุงููุงุจูุฉ ููุชูููุฐ. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูู ุงูููู ููููุชุจุงุช ุฃู ุชุนุฑู ุงููุบุฉ ุงูููุชูุจุฉ ุจูุง ุ ูุฃุญูุงููุง ูููู ูู ุงูุถุฑูุฑู ูุฌูุฏ ููุชุจุงุช ููุงุซูุฉ ุจูุบุงุช ูุฎุชููุฉ.  ูุณูุญ ูู ูุฐุง ุจุฃู ูููู ูุฏูู ูููุงุช ููุชุจุฉ ุฐุงุช ุฃุณูุงุก ูุชุทุงุจูุฉ ุฐุงุช ุฃูุฏุงู ูุชุทุงุจูุฉ ุ ูููู ูุฌุจ ุฃู ุชููู ููุชูุจุฉ ุจูุบุงุช ูุฎุชููุฉ ูุชุทุงุจูุฉ ุจุงูุงุณู ุ ุจุงุณุชุซูุงุก ูุงุญูุฉ ุฎุงุตุฉ ุจูุบุฉ ูุนููุฉ. </p><br><h3 id="suidsgid" style=";text-align:right;direction:rtl">  SUID / SGID </h3><br><p style=";text-align:right;direction:rtl">  ูุญุธุฑ SUID ู SGID ุนูู ูุตูุต ุงูุบูุงู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุงููุซูุฑ ูู ูุดููุงุช ุงูุฃูุงู ุ ููุง ูุฌุนู ูู ุงููุณุชุญูู ุชูุฑูุจูุง ุชูููุฑ ุญูุงูุฉ ูุงููุฉ ูู SUID / SGID.  ุนูู ุงูุฑุบู ูู ุฃู ุจุงุด ูุนูุฏ ุฅุทูุงู SUID ุ ุฅูุง ุฃูู ูุง ูุฒุงู ูููููุง ุนูู ุจุนุถ ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ ุ ูุฐุง ูุฅููุง ูุญุธุฑ ุงุณุชุฎุฏุงูู ุตุฑุงุญุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู <code>sudo</code> ูููุตูู ุงููุญุณู ุฅุฐุง ููุช ูู ุญุงุฌุฉ ุฅูููุง. </p><br><h1 id="okruzhenie" style=";text-align:right;direction:rtl">  ุงูุจูุฆุฉ </h1><br><h3 id="stdout-vs-stderr" style=";text-align:right;direction:rtl">  STDOUT ููุงุจู STDERR </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฅุฑุณุงู ุฌููุน ุฑุณุงุฆู ุงูุฎุทุฃ ุฅูู <code>STDERR</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุณุงุนุฏ ุนูู ูุตู ุงูุญุงูุฉ ุงูุทุจูุนูุฉ ุนู ุงููุดุงูู ุงููุนููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุตู ุจุงุณุชุฎุฏุงู ูุธููุฉ ุนุฑุถ ุฑุณุงุฆู ุงูุฎุทุฃ ูุน ูุนูููุงุช ุงูุญุงูุฉ ุงูุฃุฎุฑู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">err</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"[</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(date +'%Y-%m-%dT%H:%M:%S%z')</span></span></span><span class="hljs-string">]: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$@</span></span></span><span class="hljs-string">"</span></span> &gt;&amp;2 } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ! do_something; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> err <span class="hljs-string"><span class="hljs-string">"Unable to do_something"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${E_DID_NOTHING}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><h1 id="kommentarii" style=";text-align:right;direction:rtl">  ุงูุชุนูููุงุช </h1><br><h3 id="zagolovok-fayla" style=";text-align:right;direction:rtl">  ุฑุฃุณ ุงูููู </h3><br><p style=";text-align:right;direction:rtl">  ุงุจุฏุฃ ูู ููู ุจูุตู ูุญุชููุงุชู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู ููู ููู ุนููุงู ูู ุงูุชุนููู ุ ุจูุง ูู ุฐูู ูุตู ููุฌุฒ ููุญุชููุงุชู.  ุฅุดุนุงุฑ ุญููู ุงููุดุฑ ููุนูููุงุช ุงููุคูู ุงุฎุชูุงุฑูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # # Perform hot backups of Oracle databases.</span></span></code> </pre> <br><h3 id="kommentarii-k-funkciyam" style=";text-align:right;direction:rtl">  ุชุนูููุงุช ุงูููุฒุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุงูุชุนููู ุนูู ุฃู ูุธููุฉ ุบูุฑ ูุงุถุญุฉ ููุตูุฑุฉ.  ูุฌุจ ุงูุชุนููู ุนูู ุฃู ูุธููุฉ ูู ุงูููุชุจุฉ ุจุบุถ ุงููุธุฑ ุนู ุทูููุง ุฃู ุชุนููุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ุชุญุชุงุฌ ุฅูู ุงูุชุฃูุฏ ูู ุฃู ุดุฎุตูุง ุขุฎุฑ ูููู ููููุฉ ุงุณุชุฎุฏุงู ุจุฑูุงูุฌู ุฃู ููููุฉ ุงุณุชุฎุฏุงู ุงููุธููุฉ ูู ููุชุจุชู ุจูุฌุฑุฏ ูุฑุงุกุฉ ุงูุชุนูููุงุช (ูุงูุญุงุฌุฉ ุฅูู ุงูุชุญุณูู ุงูุฐุงุชู) ุฏูู ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุชุถูู ุฌููุน ุชุนูููุงุช ุงูููุฒุงุช ูุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุตู ุงููุธููุฉ </li><li style=";text-align:right;direction:rtl">  ุงููุชุบูุฑุงุช ุงูุนุงูููุฉ ุงููุณุชุฎุฏูุฉ ูุงููุนุฏูุฉ </li><li style=";text-align:right;direction:rtl">  ุชู ุชููู ุงูุญุฌุฌ </li><li style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน ุงูููู ุงูุชู ุชุฎุชูู ุนู ุฑููุฒ ุงูุฅููุงุก ุงูููุงุณูุฉ ูู ุงูุฃูุฑ ุงูุฃุฎูุฑ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # # Perform hot backups of Oracle databases. export PATH='/usr/xpg4/bin:/usr/bin:/opt/csw/bin:/opt/goog/bin' ######################################## # Cleanup files from the backup dir # Globals: # BACKUP_DIR # ORACLE_SID # Arguments: # None # Returns: # None ######################################## cleanup() { ... }</span></span></code> </pre> <br><h3 id="kommentarii-po-realizacii" style=";text-align:right;direction:rtl">  ุชุนูููุงุช ุงูุชูููุฐ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุจุงูุชุนููู ุนูู ุงูุฃุฌุฒุงุก ุงููุนูุฏุฉ ุฃู ุบูุฑ ุงููุงุถุญุฉ ุฃู ุงููุซูุฑุฉ ููุงูุชูุงู ุฃู ุงููููุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุฃู ุชููู ูุฐู ููุงุฑุณุฉ ุดุงุฆุนุฉ ููุชุนููู ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุนูู Google.  ูุง ุชุนูู ุนูู ูู ุดูุก.  ุฅุฐุง ูุงูุช ููุงู ุฎูุงุฑุฒููุฉ ูุนูุฏุฉ ุฃู ููุช ุชูุนู ุดูุฆูุง ุบูุฑ ุนุงุฏู ุ ูุฃุถู ุชุนููููุง ูุตูุฑูุง. </p><br><h3 id="todo-kommentarii" style=";text-align:right;direction:rtl">  ุชุนูููุงุช TODO </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุชุนูููุงุช TODO ูุฑูุฒ ูุคูุช ุฃู ูุตูุฑ ุงููุฏู ุฃู ุฌูุฏ ุฌุฏูุง ุ ููููู ููุณ ูุซุงูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุงูู ูุฐุง ูุน ุงูุงุตุทูุงุญ ุงูููุฌูุฏ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู C ++</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุชุถูู ุชุนูููุงุช TODO ูููุฉ TODO ุจุฃุญุฑู ูุจูุฑุฉ ุ ูุชุจูุนุฉ ุจุงุณูู ุจูู ููุณูู.  ุงูููููู ุงุฎุชูุงุฑู.  ูู ุงูุฃูุถู ุฃูุถูุง ุงูุฅุดุงุฑุฉ ุฅูู ุฑูู ุงูุฎุทุฃ / ุงูุชุฐูุฑุฉ ุจุฌูุงุฑ ุนูุตุฑ TODO. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># TODO(mrmonkey): Handle the unlikely edge cases (bug ####)</span></span></code> </pre> <br><h1 id="formatirovanie" style=";text-align:right;direction:rtl">  ุงูุชูุณูู </h1><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃูู ูุฌุจ ุนููู ุงุชุจุงุน ุงูููุท ุงููุณุชุฎุฏู ุจุงููุนู ูู ุงููููุงุช ุงูุชู ุชููู ุจุชุญุฑูุฑูุง ุ ุฅูุง ุฃู ุงูุชุงูู ูุทููุจ ูุฃู ุฑูุฒ ุฌุฏูุฏ. </p><br><h3 id="otstupy" style=";text-align:right;direction:rtl">  ุงููุณุงูุฉ ุงูุจุงุฏุฆุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุณุงูุฉ ุจุงุฏุฆุฉ 2 ูุณุงูุงุช.  ูุง ุนูุงูุงุช ุชุจููุจ. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุงูุฃุณุทุฑ ุงููุงุฑุบุฉ ุจูู ุงููุชู ูุชุญุณูู ุฅููุงููุฉ ุงููุฑุงุกุฉ.  ุงููุณุงูุฉ ุงูุจุงุฏุฆุฉ ูุณุงูุชุงู.  ุจุบุถ ุงููุธุฑ ุนูุง ุชูุนูู ุ ูุง ุชุณุชุฎุฏู ุนูุงูุงุช ุงูุชุจููุจ.  ุจุงููุณุจุฉ ูููููุงุช ุงูููุฌูุฏุฉ ุ ุงุจู ุตุงุฏููุง ูุน ุงููุณุงูุฉ ุงูุจุงุฏุฆุฉ ุงูุญุงููุฉ. </p><br><h3 id="dlina-strok-i-dlina-znacheniy" style=";text-align:right;direction:rtl">  ุทูู ุงูุณูุณูุฉ ูุทูู ุงููููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุจูุบ ุงูุญุฏ ุงูุฃูุตู ูุทูู ุงูุฎุท 80 ุญุฑููุง. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ูุชุงุจุฉ ุฃุณุทุฑ ุฃุทูู ูู 80 ุญุฑููุง ุ ููุฌุจ ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู <code>here document</code> ุฃู ุ ุฅุฐุง ุฃููู ุ <code>newline</code> ูุถูู.  ููุณูุญ ุจุดูู ูุนููู ุจุงูููู ุงูุญุฑููุฉ ุงูุชู ูููู ุฃู ุชููู ุฃุทูู ูู 80 ุญุฑููุง ููุง ูููู ูุตููุง ุ ูููู ูููุตุญ ุจุดุฏุฉ ุฃู ุชุฌุฏ ุทุฑููุฉ ูุฌุนููุง ุฃูุตุฑ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  'here document's cat &lt;&lt;END; I am an exceptionally long string. END #  newlines   long_string="I am an exceptionally long string."</span></span></code> </pre> <br><h3 id="payplayny" style=";text-align:right;direction:rtl">  ุฎุทูุท ุงูุฃูุงุจูุจ </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุชูุณูู ุฎุทูุท ุงูุฃูุงุจูุจ ูู ุนูู ุณุทุฑ ูุงุญุฏ ุฅุฐุง ูู ุชุชูุงุณุจ ูุน ุณุทุฑ ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุฎุท ุงูุฃูุงุจูุจ ููุงุณุจ ุฎุท ูุงุญุฏ ุ ููุฌุจ ุฃู ูููู ุนูู ุฎุท ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ุงูุฃูุฑ ูุฐูู ุ ููุฌุจ ุชูุณููู ุจุญูุซ ูููู ูู ูุณู ุนูู ุฎุท ุฌุฏูุฏ ูููุถุน ูุณุงูุฉ ุจุงุฏุฆุฉ ุจูุณุงูุชูู ูููุณู ุงูุชุงูู.  ูุดูุฑ ูุฐุง ุฅูู ุณูุณูุฉ ุงูุฃูุงูุฑ ูุฌุชูุนุฉ ุจุงุณุชุฎุฏุงู '|'  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุงุชุตุงูุงุช ุงูููุทููุฉ ุจุงุณุชุฎุฏุงู '||'  ู "&amp;&amp;". </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      command1 | command2 #   command1 \ | command2 \ | command3 \ | command4</span></span></code> </pre> <br><h3 id="cikly" style=";text-align:right;direction:rtl">  ุฏูุฑุงุช </h3><br><p style=";text-align:right;direction:rtl">  ููุงู  <code>; do</code> ู  <code>; then</code> ุนูู ููุณ ุงูุฎุท ูุซู ุ ุฃู <code>if</code> . </p><br><p style=";text-align:right;direction:rtl">  ุชุฎุชูู ุงูุฏูุฑุงุช ูู ุงูุบูุงู ููููุงู ุ ููููุง ูุชุจุน ููุณ ุงููุจุงุฏุฆ ููุง ูู ุงูุญุงู ูุน ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ ุนูุฏ ุงูุฅุนูุงู ุนู ุงููุธุงุฆู.  ูุฐุง ูู <code>; then</code>  <code>; then</code> ู <code>; do</code>  ูุฌุจ ุฃู ูููู ุนูู ููุณ ุงูุณุทุฑ ููุง <code>if</code> / <code>for</code> / <code>while</code> .  <code>else</code> ูุฌุจ ุฃู ูููู ูู ุณุทุฑ ูููุตู ุ ููุฌุจ ุฃู ุชููู ุงูุนุจุงุฑุงุช ุงูุฎุชุงููุฉ ูู ุงูุณุทุฑ ุงูุฎุงุต ุจูุง ุ ููุญุงุฐุงุฉ ุฑุฃุณููุง ูุน ุงูุนุจุงุฑุฉ ุงูุงูุชุชุงุญูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> dir <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">${dirs_to_cleanup}</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ -d <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">"</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> log_date <span class="hljs-string"><span class="hljs-string">"Cleaning up old files in </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">"</span></span> rm <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">/"</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"$?"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> error_message <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> mkdir -p <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dir}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ORACLE_SID}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"$?"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> error_message <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><h3 id="operator-case" style=";text-align:right;direction:rtl">  ุจูุงู ุงูุญุงูุฉ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎูุงุฑุงุช ูููุตูุฉ ูู ูุณุงูุชูู. </li><li style=";text-align:right;direction:rtl">  ุชุชุทูุจ ุฎูุงุฑุงุช ุงูุฎุท ุงููุงุญุฏ ูุณุงูุฉ ุจุนุฏ ููุณ ุฅุบูุงู ุงููุงูุจ ููุจูู <code>;;</code>  . </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุชูุณูู ุฎูุงุฑุงุช ุงูุฃูุงูุฑ ุงูุทูููุฉ ุฃู ุงููุชุนุฏุฏุฉ ุฅูู ุนุฏุฉ ุฃุณุทุฑ ูุน ูุงูุจ ูุฅุฌุฑุงุกุงุช ู <code>;;</code>  ุนูู ุฎุทูุท ูููุตูุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุชุชุฑุงุฌุน ุงูุชุนุจูุฑุงุช ุงูููุงุจูุฉ ุนู ูุณุชูู ูุงุญุฏ ูู <code>case</code> ู <code>esac</code> .  ุชุญุชูู ุงูุฅุฌุฑุงุกุงุช ูุชุนุฏุฏุฉ ุงูุฎุทูุท ุฃูุถูุง ุนูู ูุณุงูุงุช ุจุงุฏุฆุฉ ุนูู ูุณุชูู ูููุตู.  ููุณุช ููุงู ุญุงุฌุฉ ููุถุน ุชุนุจูุฑุงุช ุจูู ุนูุงูุชู ุงูุชุจุงุณ.  ูุฌุจ ุฃูุง ุชููู ุฃููุงุท ุงูุชุนุจูุฑ ูุณุจููุฉ ุจุฃููุงุณ ููุชูุญุฉ.  ุชุฌูุจ ุงุณุชุฎุฏุงู <code>&amp;;</code>  ู <code>;;&amp;</code> ุชุฏููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${expression}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a) variable=<span class="hljs-string"><span class="hljs-string">"..."</span></span> some_command <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${variable}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${other_expr}</span></span></span><span class="hljs-string">"</span></span> ... ;; absolute) actions=<span class="hljs-string"><span class="hljs-string">"relative"</span></span> another_command <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${actions}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${other_expr}</span></span></span><span class="hljs-string">"</span></span> ... ;; *) error <span class="hljs-string"><span class="hljs-string">"Unexpected expression '</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${expression}</span></span></span><span class="hljs-string">'"</span></span> ;; <span class="hljs-keyword"><span class="hljs-keyword">esac</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูุถุน ุฃูุงูุฑ ุจุณูุทุฉ ุนูู ุณุทุฑ ูุงุญุฏ ุจุงูููุท ู <code>;;</code>  ุจูููุง ูุธู ุงูุชุนุจูุฑ ูุงุจูุงู ูููุฑุงุกุฉ.  ุบุงูุจูุง ูุง ูููู ูุฐุง ููุงุณุจูุง ููุชุนุงูู ูุน ุฎูุงุฑุงุช ุงูุญุฑู ุงููุงุญุฏ.  ุนูุฏูุง ูุง ุชุชูุงุณุจ ุงูุฅุฌุฑุงุกุงุช ูุน ุณุทุฑ ูุงุญุฏ ุ ุงุชุฑู ุงููุงูุจ ูู ุงูุณุทุฑ ุ ุงูุฅุฌุฑุงุก ุงูุชุงูู ุ ุซู <code>;;</code>  ุฃูุถุง ูู ุงูุณุทุฑ ุงูุฎุงุต.  ุนูุฏูุง ูููู ูุฐุง ูู ููุณ ุงูุณุทุฑ ูุน ุงูุฅุฌุฑุงุกุงุช ุ ุงุณุชุฎุฏู ูุณุงูุฉ ุจุนุฏ ููุณ ุฅุบูุงู ุงููุงูุจ ูุขุฎุฑ ูุจู <code>;;</code>  . </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">verbose=<span class="hljs-string"><span class="hljs-string">'false'</span></span> aflag=<span class="hljs-string"><span class="hljs-string">''</span></span> bflag=<span class="hljs-string"><span class="hljs-string">''</span></span> files=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">getopts</span></span> <span class="hljs-string"><span class="hljs-string">'abf:v'</span></span> flag; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${flag}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a) aflag=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; b) bflag=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; f) files=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${OPTARG}</span></span></span><span class="hljs-string">"</span></span> ;; v) verbose=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; *) error <span class="hljs-string"><span class="hljs-string">"Unexpected option </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${flag}</span></span></span><span class="hljs-string">"</span></span> ;; <span class="hljs-keyword"><span class="hljs-keyword">esac</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><h3 id="rasshirenie-peremennyh" style=";text-align:right;direction:rtl">  ุชูุณุน ูุชุบูุฑ </h3><br><p style=";text-align:right;direction:rtl">  ูุฑุชุจุฉ ุญุณุจ ุงูุฃููููุฉ: ูุงุญุธ ูุง ูู ูุณุชุฎุฏู ุจุงููุนู ุ  ุฅุฑูุงู ุงููุชุบูุฑุงุช ูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุ  ุชูุถู <code>"${var}"</code> ุฃูุซุฑ ูู <code>"$var"</code> ุ ูููู ูุน ุงูุชุฑููุฒ ุนูู ุณูุงู ุงูุงุณุชุฎุฏุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ุชูุตูุงุช ุจุงูุฃุญุฑู ุ ูุฃู ุงูููุถูุน ูุซูุฑ ููุฌุฏู ุชูุงููุง ููุชูุธูู ุงูุฅูุฒุงูู.  ูุชู ุณุฑุฏูุง ูู ุชุฑุชูุจ ุงูุฃููููุงุช. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ููุณ ุงูููุท ุงูุฐู ุชุฌุฏู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูููุฌูุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ุถุน ุงููุชุบูุฑุงุช ุจูู ุนูุงูุชู ุงูุชุจุงุณ ุ ุงูุธุฑ ูุณู ุนุฑุถ ุงูุฃุณุนุงุฑ ุฃุฏูุงู. </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุง ุชุถุน ุฃุญุฑู ููุฑุฏุฉ ุฎุงุตุฉ ุจุงููุนููุงุช ุงูุตุฏูุฉ / ุงูููุถุนูุฉ ูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ูุงูุฃููุงุณ ูุง ูู ููู ุฐูู ุถุฑูุฑููุง ุชูุงููุง ูุชุฌูุจ ุงูุงุฑุชุจุงู ุงูุนููู. <br>  ุชูุถู ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ ูุฌููุน ุงููุชุบูุฑุงุช ุงูุฃุฎุฑู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment">#    #    '' : echo "Positional: $1" "$5" "$3" echo "Specials: !=$!, -=$-, _=$_. ?=$?, #=$# *=$* @=$@ \$=$$ ..." #   : echo "many parameters: ${10}" #    : # Output is "a0b0c0" set -- abc echo "${1}0${2}0${3}0" #     : echo "PATH=${PATH}, PWD=${PWD}, mine=${some_var}" while read f; do echo "file=${f}" done &lt; &lt;(ls -l /tmp) #    #   ,    , #     ,   shell echo a=$avar "b=$bvar" "PID=${$}" "${1}" #  : #    "${1}0${2}0${3}0",   "${10}${20}${30} set -- abc echo "$10$20$30"</span></span></code> </pre> <br><h1 id="kavychki" style=";text-align:right;direction:rtl">  ุงูุชุจุงุณุงุช </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุฏุงุฆููุง ุนูุงูุงุช ุงูุงูุชุจุงุณ ููููู ุงูุชู ุชุญุชูู ุนูู ูุชุบูุฑุงุช ุ ุฃู ุงุณุชุจุฏุงูุงุช ุฃูุงูุฑ ุ ุฃู ูุณุงูุงุช ุฃู ุฃุญุฑู ุฃูููุฉ ุ ุญุชู ุชุญุชุงุฌ ุฅูู ุนุฑุถ ุงูููู ุจุฃูุงู ูุง ุจูู ุนูุงูุงุช ุงูุชุจุงุณ. </li><li style=";text-align:right;direction:rtl">  ุชูุถูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ููููู "ุงููููุงุช" (ุนูู ุนูุณ ูุนููุงุช ุงูุฃูุฑ ุฃู ุฃุณูุงุก ุงููุณุงุฑุงุช) </li><li style=";text-align:right;direction:rtl">  ูุง ุชุณุชุดูุฏ ุฃุจุฏุงู ุจุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ. </li><li style=";text-align:right;direction:rtl">  ุงุนุฑู ููู ุชุนูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ูุฃููุงุท ุงููุทุงุจูุฉ ูู <code>[[</code> . </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู <code>"$@"</code> ุฅุฐุง ูู ููู ูุฏูู ุณุจุจ ูุญุฏุฏ ูุงุณุชุฎุฏุงู <code>$*</code> . </li></ul><br></li></ol><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ''  ,     . # ""  ,   /. #   # "   " flag="$(some_command and its args "$@" 'quoted separately')" # "  " echo "${flag}" # "      " value=32 # "    ",      number="$(generate_number)" # "   ",    readonly USE_INTEGER='true' # "    - shell" echo 'Hello stranger, and well met. Earn lots of $$$' echo "Process $$: Done making \$\$\$." # "    " # ( ,  $1  ) grep -li Hugo /dev/null "$1" #    # "   ,    ": ccs     git send-email --to "${reviewers}" ${ccs:+"--cc" "${ccs}"} #   : $1    #       . grep -cP '([Ss]pecial|\|?characters*)$' ${1:+"$1"} #   , # "$@"   ,  # $*    # # * $*  $@   ,   #      ; # * "$@"     ,   #       ; #     ,      #   # * "$*"    ,    #     () , #        # ( 'man bash'  nit-grits ;-) set -- 1 "2 two" "3 three tres"; echo $# ; set -- "$*"; echo "$#, $@") set -- 1 "2 two" "3 three tres"; echo $# ; set -- "$@"; echo "$#, $@")</span></span></code> </pre> <br><h1 id="osobennosti-i-oshibki" style=";text-align:right;direction:rtl">  ุงูููุฒุงุช ูุงูุฃุฎุทุงุก </h1><br><h3 id="podstanovka-kommand" style=";text-align:right;direction:rtl">  ุงุณุชุจุฏุงู ุงูุฃูุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู <code>$(command)</code> ุจุฏูุงู ูู backticks. </p><br><p style=";text-align:right;direction:rtl">  ุชุชุทูุจ backticks ุงููุชุฏุงุฎูุฉ ุงููุฑูุจ ูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุงูุฏุงุฎููุฉ ูุน <code>\</code> .  ูุง ูุชุบูุฑ ุชูุณูู <code>$ (command)</code> ุงุนุชูุงุฏูุง ุนูู ุงูุชุฏุงุฎู ููุณูู ูุฑุงุกุชู. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  : var="$(command "$(command1)")" #  : var="`command \`command1\``"</span></span></code> </pre> <br><h3 id="proverki--i-" style=";text-align:right;direction:rtl">  ุงูุดููุงุช ุ <code>[</code> ู <code>[[</code> </h3><br><p style=";text-align:right;direction:rtl">  <code>[[ ... ]]</code> ุฃูุถู ูู <code>[</code> ุ <code>test</code> or <code>/usr/bin/[</code> . </p><br><p style=";text-align:right;direction:rtl">  <code>[[ ... ]]</code> ูููู ูู ุงุญุชูุงู ุงูุฎุทุฃ ุ ูุฃูู ูุง ููุฌุฏ ุชุญููู ูุณุงุฑ ุฃู ูุตู ูููุฉ ุจูู <code>[[</code> ู <code>]]</code> ุ ู <code>[[ ... ]]</code> ูุณูุญ ูู ุจุงุณุชุฎุฏุงู ุชุนุจูุฑ ุนุงุฏู ุญูุซ <code>[ ... ]</code> ููุณ ูุฐูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  ,       #  `alnum`,     . #  ,       #  .  ,  # E14   https://tiswww.case.edu/php/chet/bash/FAQ if [[ "filename" =~ ^[[:alnum:]]+name ]]; then echo "Match" fi #     "f*" (    ) if [[ "filename" == "f*" ]]; then echo "Match" fi #    "too many arguments",   f*   #     if [ "filename" == f* ]; then echo "Match" fi</span></span></code> </pre> <br><h3 id="proverka-znacheniy" style=";text-align:right;direction:rtl">  ุชุญูู ูู ุงูููู </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุจุฏูุงู ูู ุงูุฃุญุฑู ุงูุฒุงุฆุฏุฉ ุญูุซูุง ุฃููู. </p><br><p style=";text-align:right;direction:rtl">  Bash ุฐูู ุจูุง ูููู ููุนูู ูุน ุณูุณูุฉ ูุงุฑุบุฉ ูู ุงูุงุฎุชุจุงุฑ.  ูุฐูู ุ ูู ุงูุณูู ุฌุฏูุง ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุงุชุฌุฉ ุ ุงุณุชุฎุฏู ุนูููุงุช ุงูุชุญูู ูู ุงูููู ุงููุงุฑุบุฉ / ุบูุฑ ุงููุงุฑุบุฉ ุฃู ุงูููู ุงููุงุฑุบุฉ ุ ุฏูู ุงุณุชุฎุฏุงู ุฃุญุฑู ุฅุถุงููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  : if [[ "${my_var}" = "some_string" ]]; then do_something fi # -z (   ),  -n (    ): #      if [[ -z "${my_var}" ]]; then do_something fi #   ( ),   : if [[ "${my_var}" = "" ]]; then do_something fi #   : if [[ "${my_var}X" = "some_stringX" ]]; then do_something fi</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชุฌูุจ ุงูุงุฑุชุจุงู ุญูู ูุง ุชููู ุจูุญุตู ุ ุงุณุชุฎุฏู <code>-z</code> ุฃู <code>-n</code> ุจุดูู ุตุฑูุญ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   if [[ -n "${my_var}" ]]; then do_something fi #  ,    ,  ${my_var} #     . if [[ "${my_var}" ]]; then do_something fi</span></span></code> </pre> <br><h3 id="vyrazheniya-podstanovki-dlya-imen-faylov" style=";text-align:right;direction:rtl">  ุชุนุจูุฑุงุช ุงูุงุณุชุจุฏุงู ูุฃุณูุงุก ุงููููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุงููุณุงุฑ ุงูุตุฑูุญ ุนูุฏ ุฅูุดุงุก ุชุนุจูุฑุงุช ุญุฑู ุงูุจุฏู ูุฃุณูุงุก ุงููููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุฃุณูุงุก ุงููููุงุช ูููู ุฃู ุชุจุฏุฃ ุจุงูุญุฑู <code>-</code> ุ ููู ุงูุฃูุซุฑ ุฃูุงููุง ุฃู <code>./*</code> ุชุนุจูุฑ ุญุฑู ุงูุจุฏู ุนูู ุฃูู <code>./*</code> ุจุฏูุงู ูู <code>*</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   : # -f -r somedir somefile #        force psa@bilby$ rm -v * removed directory: `somedir' removed `somefile' #   : psa@bilby$ rm -v ./* removed `./-f' removed `./-r' rm: cannot remove `./somedir': Is a directory removed `./somefile'</span></span></code> </pre> <br><h3 id="eval" style=";text-align:right;direction:rtl">  ุชูููู </h3><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุชุฌูุจ <code>eval</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุณูุญ ูู Eval ุจุชูุณูุน ุงููุชุบูุฑุงุช ุงูุชู ุชู ุชูุฑูุฑูุง ูู ุงูุฅุฏุฎุงู ุ ูููู ููููู ุฃูุถูุง ุชุนููู ูุชุบูุฑุงุช ุฃุฎุฑู ุ ุฏูู ุฅููุงููุฉ ุงูุชุญูู ูููุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   ? #   ?   ? eval $(set_my_variables) #  ,         ? variable="$(eval some_function)"</span></span></code> </pre> <br><h3 id="paypy-v-while" style=";text-align:right;direction:rtl">  ุงูุฃูุงุจูุจ ูู ุญูู </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุงุณุชุจุฏุงู ุงูุฃูุฑ ุฃู ุญููุฉ <code>for</code> ุจุฏูุงู ูู ุงูุฃูุงุจูุจ ูู <code>while</code> .  ุงููุชุบูุฑุงุช ุงููุชุบูุฑุฉ ูู <code>while</code> ูุง ุชูุชุดุฑ ุฅูู ุงูุฃุตู ุ ูุฃู ุฃูุงูุฑ ุงูุญููุฉ ุชููุฐ ูู ุบูุงู ูุฑุนู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูุคุฏู ูุฌูุฏ ุบูุงู ูุฑุนู ุถููู ูู ุงูุฃูุจูุจ ุฃุซูุงุก ุงูุชุดุบูู ุฅูู ุตุนูุจุฉ ุชุชุจุน ุงูุฃุฎุทุงุก. </p><br><blockquote style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">last_line=<span class="hljs-string"><span class="hljs-string">'NULL'</span></span> your_command | <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> line; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> last_line=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${line}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> <span class="hljs-comment"><span class="hljs-comment">#   'NULL' echo "${last_line}"</span></span></code> </pre> </blockquote><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุญููุฉ for ุฅุฐุง ููุช ูุชุฃูุฏูุง ูู ุฃู ุงูุฅุฏุฎุงู ูู ูุญุชูู ุนูู ูุณุงูุงุช ุฃู ุฃุญุฑู ุฎุงุตุฉ (ูุง ูุนูู ูุฐุง ุนุงุฏุฉู ุฅุฏุฎุงู ุงููุณุชุฎุฏู). </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">total=0 <span class="hljs-comment"><span class="hljs-comment">#  ,       . for value in $(command); do total+="${value}" done</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุณูุญ ูู ุงุณุชุฎุฏุงู ุงุณุชุจุฏุงู ุงูุฃูุงูุฑ ุจุฅุนุงุฏุฉ ุชูุฌูู ุงูุฅุฎุฑุงุฌ ุ ููููู ูููุฐ ุงูุฃูุงูุฑ ูู ุบูุงู ูุฑุนู ุตุฑูุญ ุ ุนูู ุนูุณ ุงูุบูุงู ุงููุฑุนู ุงูุถููู ุ ุงูุฐู ููุดุฆ bash <code>while</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">total=0 last_file= <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> count filename; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> total+=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${count}</span></span></span><span class="hljs-string">"</span></span> last_file=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${filename}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> &lt; &lt;(your_command | uniq -c) <span class="hljs-comment"><span class="hljs-comment">#         # . echo "Total = ${total}" echo "Last one = ${last_file}"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู <code>while</code> ุงูุญููุงุช ุญูุซ ูุง ุชูุฌุฏ ุญุงุฌุฉ ูุชูุฑูุฑ ุงููุชุงุฆุฌ ุงููุนูุฏุฉ ุฅูู ุงููุดุฑุฉ ุงูุฃู - ููุฐุง ุฃูุฑ ูููุฐุฌู ุนูุฏ ุงูุญุงุฌุฉ ุฅูู "ุชุญููู" ุฃูุซุฑ ุชุนููุฏูุง.  ุชุฐูุฑ ุฃู ุงูุฃูุซูุฉ ุงูุจุณูุทุฉ ุฃุณูู ุฃุญูุงููุง ูุญููุง ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ูุซู awk.  ูููู ุฃู ูููู ูููุฏูุง ุฃูุถูุง ุนูุฏูุง ูุง ุชุฑูุฏ ุนูู ูุฌู ุงูุชุญุฏูุฏ ุชุนุฏูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุฑุฆูุณูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    awk: # awk '$3 == "nfs" { print $2 " maps to " $1 }' /proc/mounts cat /proc/mounts | while read src dest type opts rest; do if [[ ${type} == "nfs" ]]; then echo "NFS ${dest} maps to ${src}" fi done</span></span></code> </pre> <br><h1 id="soglashenie-o-nazvaniyah" style=";text-align:right;direction:rtl">  ุงุตุทูุงุญ ุงูุชุณููุฉ </h1><br><h3 id="nazvaniya-funkciy" style=";text-align:right;direction:rtl">  ุฃุณูุงุก ุงูุฏูุงู </h3><br><p style=";text-align:right;direction:rtl">  ุฃุญุฑู ุตุบูุฑุฉ ูุน ุดุฑุทุงุช ุณูููุฉ ููุตู ุงููููุงุช.  ููุชุจุงุช ูููุตูุฉ ูุน <code>::</code> .  ุงูุฃููุงุณ ูุทููุจุฉ ุจุนุฏ ุงุณู ุงููุธููุฉ.  ุงููููุฉ ุงูุฃุณุงุณูุฉ ุงููุธูููุฉ ุงุฎุชูุงุฑูุฉ ุ ูููู ุฅุฐุง ุชู ุงุณุชุฎุฏุงููุง ุ ููู ูุชุณูุฉ ุทูุงู ุงููุดุฑูุน. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจูุชุงุจุฉ ูุธุงุฆู ูููุตูุฉ ุ ูุงุณุชุฎุฏู ูููุงุช ุตุบูุฑุฉ ููุชุงุจุฉ ูููุตูุฉ ุจุดุฑุทุฉ ุณูููุฉ.  ุฅุฐุง ููุช ุชูุชุจ ุญุฒูุฉ ุ ุงูุตู ุจูู ุฃุณูุงุก ุงูุญุฒู ุจู <code>::</code> .  ูุฌุจ ุฃู ุชููู ุงูุฃููุงุณ ุนูู ููุณ ุณุทุฑ ุงุณู ุงููุธููุฉ (ููุง ูู ุงูุญุงู ูู ุงููุบุงุช ุงูุฃุฎุฑู ุนูู Google) ุ ููุง ุชุญุชูู ุนูู ูุณุงูุฉ ุจูู ุงุณู ุงููุธููุฉ ูุงูููุณ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   my_func() { ... } #   mypackage::my_func() { ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุฃุชู "()" ุจุนุฏ ุงุณู ุงููุธููุฉ ุ ุชุจุฏู ุงููููุฉ ุงูุฑุฆูุณูุฉ ูููุธููุฉ ุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ ุ ูููููุง ุชุญุณู ุงูุชุนุฑู ุงูุณุฑูุน ุนูู ุงููุธุงุฆู. </p><br><h3 id="nazvanie-peremennyh" style=";text-align:right;direction:rtl">  ุงุณู ูุชุบูุฑ </h3><br><p style=";text-align:right;direction:rtl">  ูููุง ูุชุนูู ุจุฃุณูุงุก ุงููุธุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุชุณููุฉ ุงูุฃุณูุงุก ุงููุชุบูุฑุฉ ููุญููุงุช ุจุงูุชุณุงูู ูุฃู ูุชุบูุฑ ุชููู ุจุชูุฑุงุฑู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">${zones}</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> something_with <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${zone}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre> <br><h3 id="nazvaniya-konstanty-peremennyh-okruzheniya" style=";text-align:right;direction:rtl">  ุฃุณูุงุก ุซุงุจุชุฉ ูุชุบูุฑุฉ ุงูุจูุฆุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุฅุนูุงู ุนู ุฌููุน ุงูุฃุญุฑู ุงููุจูุฑุฉ ุ ููุตููุฉ ุจุดุฑุทุฉ ุณูููุฉ ุ ูู ุงูุฌุฒุก ุงูุนููู ูู ุงูููู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุงูุซูุงุจุช ููู ูุง ูุชู ุชุตุฏูุฑู ุฅูู ุงูุจูุฆุฉ ูู ุญุงูุฉ ูุจูุฑุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  readonly PATH_TO_FILES='/some/path' # ,   declare -xr ORACLE_SID='PROD'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุธู ุจุนุถ ุงูุฃุดูุงุก ุซุงุจุชุฉ ุนูุฏ ุชุซุจูุชูุง ูุฃูู ูุฑุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุนุจุฑ <code>getopts</code> ).  ูุจุงูุชุงูู ุ ูู ุงูุทุจูุนู ุฌุฏูุง ุชุนููู ุซุงุจุช ูู ุฎูุงู <code>getopts</code> ุฃู ุจูุงุกู ุนูู ุดุฑุท ุ ูููู ูุฌุจ ุฃู ูุชู <code>readonly</code> ุจุนุฏ ุฐูู ูุจุงุดุฑุฉ.  ูุงุญุธ ุฃู <code>declare</code> ูุง ูุนูู ูุน ุงููุชุบูุฑุงุช ุงูุนุงูุฉ ุฏุงุฎู ุงููุธุงุฆู ุ ูุฐุง ูููุตุญ <code>readonly</code> ุฃู <code>export</code> ุจุฏูุงู ูู ุฐูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">VERBOSE=<span class="hljs-string"><span class="hljs-string">'false'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-built_in"><span class="hljs-built_in">getopts</span></span> <span class="hljs-string"><span class="hljs-string">'v'</span></span> flag; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${flag}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> v) VERBOSE=<span class="hljs-string"><span class="hljs-string">'true'</span></span> ;; <span class="hljs-keyword"><span class="hljs-keyword">esac</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> <span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> VERBOSE</code> </pre> <br><h3 id="nazaniya-ishodnyh-faylov" style=";text-align:right;direction:rtl">  ุฃุณูุงุก ูููุงุช ุงููุตุฏุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุฃุญุฑู ุตุบูุฑุฉ ุ ูุน ุชุณุทูุฑ ููุตู ุงููููุงุช ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููุทุจู ูุฐุง ุนูู ูุทุงุจูุฉ ุงูุฃููุงุท ุงูุฃุฎุฑู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุนูู Google: <code>maketemplate</code> ุฃู <code>make_template</code> ุ ูููู ููุณ <code>make-template</code> . </p><br><h3 id="peremennye-tolko-dlya-chteniya" style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ุงููุชุบูุฑุงุช ููุท </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู <code>readonly</code> ุฃู <code>declare -r</code> ููุชุฃูุฏ ูู ุฃููุง ูููุฑุงุกุฉ ููุท. </p><br><p style=";text-align:right;direction:rtl">      shell,       .    ,    ,   . </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">zip_version=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(dpkg --status zip | grep Version: | cut -d ' ' -f 2)</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ -z <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${zip_version}</span></span></span><span class="hljs-string">"</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> error_message <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> zip_version <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><h3 id="ispolzovanie-lokalnyh-peremennyh" style=";text-align:right;direction:rtl">    </h3><br><p style=";text-align:right;direction:rtl">  ,   ,  <code>local</code> .        . </p><br><p style=";text-align:right;direction:rtl"> ,           ,  <code>local</code>   .           ,      . </p><br><p style=";text-align:right;direction:rtl">       ,      ;  <code>local</code>   exit code   . </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_func2</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> name=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-comment"><span class="hljs-comment">#      : local my_var my_var="$(my_func)" || return #   : $?  exit code  'local',   my_func local my_var="$(my_func)" [[ $? -eq 0 ]] || return ... }</span></span></code> </pre> <br><h3 id="raspolozhenie-funkciy" style=";text-align:right;direction:rtl">   </h3><br><p style=";text-align:right;direction:rtl">        .      . </p><br><p style=";text-align:right;direction:rtl">     ,        .  ,  set   ,      . </p><br><p style=";text-align:right;direction:rtl">      .             . </p><br><h3 id="main" style=";text-align:right;direction:rtl">  ุงูุฑุฆูุณูุฉ </h3><br><p style=";text-align:right;direction:rtl"> ,  <code>main</code> ,     ,       . </p><br><p style=";text-align:right;direction:rtl">       ,      <code>main</code>    .       ,         (  ,      ).          main: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">main <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$@</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> ,    ,      ,  <code>main</code> โ ,    . </p><br><h1 id="vyzov-komand" style=";text-align:right;direction:rtl">   </h1><br><h3 id="proverka-vozvraschaemyh-znacheniy" style=";text-align:right;direction:rtl">    </h3><br><p style=";text-align:right;direction:rtl">         . </p><br><p style=";text-align:right;direction:rtl">       <code>$?</code>      <code>if</code> ,   . </p><br><p style=";text-align:right;direction:rtl"> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ! mv <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${file_list}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dest_dir}</span></span></span><span class="hljs-string">/"</span></span> ; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Unable to move </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${file_list}</span></span></span><span class="hljs-string"> to </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${dest_dir}</span></span></span><span class="hljs-string">"</span></span> &gt;&amp;2 <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${E_BAD_MOVE}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-comment"><span class="hljs-comment">#  mv "${file_list}" "${dest_dir}/" if [[ "$?" -ne 0 ]]; then echo "Unable to move ${file_list} to ${dest_dir}" &gt;&amp;2 exit "${E_BAD_MOVE}" fi Bash    `PIPESTATUS`,         .           ,   : ```bash tar -cf - ./* | ( cd "${dir}" &amp;&amp; tar -xf - ) if [[ "${PIPESTATUS[0]}" -ne 0 || "${PIPESTATUS[1]}" -ne 0 ]]; then echo "Unable to tar files to ${dir}" &gt;&amp;2 fi</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> ,   <code>PIPESTATUS</code>  ,      -  ,            ,   <code>PIPESTATUS</code>       ( ,  <code>[</code>     <code>PIPESTATUS</code> ). </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">tar -cf - ./* | ( <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DIR}</span></span></span><span class="hljs-string">"</span></span> &amp;&amp; tar -xf - ) return_codes=(<span class="hljs-variable"><span class="hljs-variable">${PIPESTATUS[*]}</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${return_codes[0]}</span></span></span><span class="hljs-string">"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> do_something <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${return_codes[1]}</span></span></span><span class="hljs-string">"</span></span> -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> do_something_else <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><h3 id="vstroennye-funkcii-ili-vneshnie-kommandy" style=";text-align:right;direction:rtl">      </h3><br><p style=";text-align:right;direction:rtl">       shell     ,  . </p><br><p style=";text-align:right;direction:rtl">     ,       bash,       (    ,  <code>sed</code> ). </p><br><p style=";text-align:right;direction:rtl"> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  : addition=$((${X} + ${Y})) substitution="${string/#foo/bar}" #  : addition="$(expr ${X} + ${Y})" substitution="$(echo "${string}" | sed -e 's/^foo/bar/')"</span></span></code> </pre> <br><h1 id="vyvod" style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h1><br><p style=";text-align:right;direction:rtl">      . </p><br><p style=";text-align:right;direction:rtl">    ,    Parting Words    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> C++</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413155/">https://habr.com/ru/post/ar413155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413143/index.html">Bobby Urban Lite: ุญููุจุฉ ุงูุธูุฑ ุงูุญุถุฑูุฉ ุงูุฌุฏูุฏุฉ ูู XD Design</a></li>
<li><a href="../ar413145/index.html">ูุญูู ูุณุงุนุฏ ุงูุฃุนูุงู ุงูุชุฌุงุฑูุฉ ุนูู ูุณุจ ุงููุงู</a></li>
<li><a href="../ar413147/index.html">ูู ูู ุงููููู ุงุณุชุฎุฏุงู Tibero ุจุฏูุงู ูู Oracle. ููู ูู ุงูุถุฑูุฑู</a></li>
<li><a href="../ar413149/index.html">ูุณุชูุฏุน ุงูุจูุงูุงุช ุงูููุฒุนุฉ ูู ููููู ุจุญูุฑุฉ ุงูุจูุงูุงุช: ูู ุฃูู ูุจุฏุฃ</a></li>
<li><a href="../ar413151/index.html">ุงูุชุฑุญุช ููุงูุฉ ุงูุฃูู ุงููููู ูุนูุงุฑ ุงูุชุดููุฑ ูุฃุฌูุฒุฉ ุฅูุชุฑูุช ุงูุฃุดูุงุก ุ ููู ISO ุฑูุถุชู</a></li>
<li><a href="../ar413157/index.html">ุญูู ุชุฎุฒูู ูููุงุช ุงููุฑูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar413159/index.html">ูุงุฌูุฉ ูุณุชุฎุฏู ุฏุงููุฉ ุฃู ูุงุชุญุฉุ ูุตุงุฆุญ ูุงุฎุชูุงุฑ ูุธุงู ุฃููุงู ูููุงุฌูุฉ ุงูุฎุงุตุฉ ุจู</a></li>
<li><a href="../ar413161/index.html">ูุตูุฏุฉ ุจูุงุจุฉ</a></li>
<li><a href="../ar413163/index.html">ููุงุท ุงูุถุนู ูู HTTPS. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar413165/index.html">ุดุฑุญ SRTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>