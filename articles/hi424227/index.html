<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСитАНтЪХя╕П ЁЯСМЁЯП╛ ЁЯФЧ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдкрд╛рдЗрдЯреЛрд░ рдФрд░ рдЯреЗрдВрд╕рд░рдлреНрд▓реЛ рдореЗрдВ рдХреНрд╖реЗрддреНрд░ рднрд░ рдореЗрдВ рдЕрдВрдХ рд╡рд┐рддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ ЁЯТкЁЯП╝ ЁЯНЮ ЁЯСиЁЯП┐тАНЁЯдЭтАНЁЯСиЁЯП╜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рдкрд╛рда рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдЧрд╣рд░реА рд╢рд┐рдХреНрд╖рд╛ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдЬреЛ рдХрдИ рдЪрд░ рдХреЗ рдХрд╛рд░реНрдп рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рдЗрдЯреЛрд░реЗрдХ рдФрд░ рдЯреЗрдВрд╕реЛрдлрд╝реНрд▓реЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдд...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдкрд╛рдЗрдЯреЛрд░ рдФрд░ рдЯреЗрдВрд╕рд░рдлреНрд▓реЛ рдореЗрдВ рдХреНрд╖реЗрддреНрд░ рднрд░ рдореЗрдВ рдЕрдВрдХ рд╡рд┐рддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hh/blog/424227/"><p>  рдпрд╣ рдкрд╛рда рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдЧрд╣рд░реА рд╢рд┐рдХреНрд╖рд╛ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдЬреЛ рдХрдИ рдЪрд░ рдХреЗ рдХрд╛рд░реНрдп рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рдЗрдЯреЛрд░реЗрдХ рдФрд░ рдЯреЗрдВрд╕реЛрдлрд╝реНрд▓реЛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЬреЛ рд╕реАрдЦрдиреЗ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рд╡реЗрдХреНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЧрдгрдирд╛ рдореЗрдВ рдХреНрд░рдорд┐рдХ рд░реВрдк рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдЖрдк рдпрд╣ рднреА рд╕реАрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдкреЛрд╡реЗрд░реЗ рдФрд░ рд╡рд╛рдкреЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреЗрдЦреЗ рдЧрдП рдбреЗрдЯрд╛ рд╕реЗ рдХрд╛рд░реНрдЯреВрди рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред </p><br><p><img src="https://habrastorage.org/webt/kz/fa/h2/kzfah2g6zgoehvsimumi8hy9nie.jpeg"></p><a name="habracut"></a><br><h3 id="otkuda-zadacha">  рдХрд╛рд░реНрдп рдХрд╣рд╛рдВ рд╕реЗ рд╣реИ </h3><br><blockquote>  рдкреНрд░рддреНрдпреЗрдХ рдЕрдкрдиреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдХрдо рдХрд░рддрд╛ рд╣реИ (рд╕реА) рдмреЗрдирд╛рдореА рдбреЗрдЯрд╛ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ </blockquote><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рдорд╛рд░реЗ рдмреНрд▓реЙрдЧ рдХреЗ рдкрд┐рдЫрд▓реЗ рдкреНрд░рдХрд╛рд╢рдиреЛрдВ</a> рдореЗрдВ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ</a> рдореЗрдВ, "рд░реЗрдХ рдирдВрдмрд░ 6" рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдореЗрдВ, рд╣рдордиреЗ DSSM рддрдХрдиреАрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХреА, рдЬреЛ рдЖрдкрдХреЛ рдкрд╛рда рдХреЛ рд╡реИрдХреНрдЯрд░ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдорд╛рдирдЪрд┐рддреНрд░рдг рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рд░реИрдЦрд┐рдХ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдЧреБрдгрд╛рдВрдХреЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдХрд┐ рдЬрдЯрд┐рд▓ рдЬрдЯрд┐рд▓ рдиреБрдХрд╕рд╛рди рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдореЙрдбрд▓ рдХреЛ рд╕реАрдЦрдирд╛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕реЗ рд╕рдордЭрдирд╛ рд╡реИрдХреНрдЯрд░ рдХреА рдмрдбрд╝реА рдЖрдпрд╛рдореАрддрд╛ рдХреЗ рдХрд╛рд░рдг рдореБрд╢реНрдХрд┐рд▓ рд╣реИред  рдПрдХ рдЕрдВрддрд░реНрдЬреНрдЮрд╛рди рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛ рдЖрдкрдХреЛ рдЕрдиреБрдХреВрд▓рди рд╡рд┐рдзрд┐ рдЪреБрдирдиреЗ рдФрд░ рдЗрд╕ рдкрджреНрдзрддрд┐ рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЖрдк рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд╕рд░рд▓реАрдХреГрдд рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдм рд╡реИрдХреНрдЯрд░ рд╣рдорд╛рд░реЗ рд╕рд╛рдорд╛рдиреНрдп рддреНрд░рд┐-рдЖрдпрд╛рдореА рдЕрдВрддрд░рд┐рдХреНрд╖ рдореЗрдВ рд╣реИрдВ, рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рдЦреАрдВрдЪрдирд╛ рдЖрд╕рд╛рди рд╣реИред  рдФрд░ рдиреБрдХрд╕рд╛рди рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдзрдХреНрдХрд╛ рджреЗрдиреЗ рдФрд░ рдЗрдХрд╛рдИ рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП рдЖрдХрд░реНрд╖рдг рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреАред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХреНрд╖реЗрддреНрд░ рдкрд░ рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдПрдХ рд╕рдорд╛рди рд╡рд┐рддрд░рдг рд╣реЛрдЧрд╛ред  рд╡рд░реНрддрдорд╛рди рд╕рдорд╛рдзрд╛рди рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рдХреЛ рдЖрдВрдЦ рд╕реЗ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИред </p><br><p>  рдЗрд╕рд▓рд┐рдП, рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдордерд╡рд░реНрд▓реНрдб рдкрд░рд┐рднрд╛рд╖рд╛">рдХрд┐рд╕реА</a> рджрд┐рдП рдЧрдП рдкрд░рд┐рдорд╛рдг рдореЗрдВ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдордерд╡рд░реНрд▓реНрдб рдкрд░рд┐рднрд╛рд╖рд╛">рд╕рдорд╛рди рд╡рд┐рддрд░рдг рдХреА</a> рддрд▓рд╛рд╢ рдХрд░реЗрдВрдЧреЗ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mrow" id="MJXp-Span-2"><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-4"><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-1"> рдПрди </script>  рдЕрдВрдХред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд╡рд┐рдХрд┐рдмреБрдХреНрд╕">рдЗрд╕ рддрд░рд╣ рдХреЗ рд╡рд┐рддрд░рдг</a> рдХреЛ рдХрднреА-рдХрднреА рдзреНрд╡рдирд┐рдХреА рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рд╕рдордЭ рд╕рдХреЗ рдХрд┐ рдХрд┐рд╕ рджрд┐рд╢рд╛ рдореЗрдВ рдПрдХ рдХреНрд░рд┐рд╕реНрдЯрд▓ рдореЗрдВ рдПрдХ рд▓рд╣рд░ рд▓реЙрдиреНрдЪ рдХрд░рдирд╛ рд╣реИред  рд╕рд┐рдЧреНрдирд▓рдореИрди - рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рд╕рд░реНрд╡реЛрддреНрддрдо рдЧреБрдгрд╡рддреНрддрд╛ рд╕рдВрдЪрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдЧреНрд░рд╣реЛрдВ рдХреЛ рдХрдХреНрд╖рд╛ рдореЗрдВ рдХреИрд╕реЗ рд░рдЦрд╛ рдЬрд╛рдПред  рдореМрд╕рдо рд╡рд┐рдЬреНрдЮрд╛рдиреА - рдореМрд╕рдо рдирд┐рдЧрд░рд╛рдиреА рд╕реНрдЯреЗрд╢рдиреЛрдВ рдХреА рдирд┐рдпреБрдХреНрддрд┐ рдХреЗ рд▓рд┐рдПред </p><br><p>  рдХреБрдЫ рдХреЗ рд▓рд┐рдП <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-6"><span class="MJXp-mrow" id="MJXp-Span-7"><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-9"><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-2"> рдПрди </script>  рдХрд╛рд░реНрдп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдкреНрд▓реЗрдЯреЛрдирд┐рдХ рд╕реЙрд▓рд┐рдбреНрд╕ рдХреЗ рд╕рд╛рде рд╕реНрдЯреИрдХрдУрд╡рд░рдлреНрд▓реЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛">рдЖрд╕рд╛рдиреА рд╕реЗ рд╣рд▓ рд╣реЛ рдЧрдпрд╛ рд╣реИ</a> ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">n</span><span class="MJXp-mo" id="MJXp-Span-13" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-14">8</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-3"> n = 8 </script>  , рд╣рдо рдШрди рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреЗ рдХреЛрдиреЗ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдВрдЧреЗред  рд╣рдо рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рднреА рд╣реИрдВ рдЕрдЧрд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mrow" id="MJXp-Span-16"><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-18"><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-4"> рдПрди </script>  icosahedron, dodecahedron, рдпрд╛ рдЕрдиреНрдп рдкреНрд▓реЗрдЯреЛрдирд┐рдХ рдареЛрд╕ рдХреЗ рдХреЛрдиреЗ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдЧрд╛ред  рдЕрдиреНрдпрдерд╛, рдХрд╛рд░реНрдп рдЗрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдкрд░реНрдпрд╛рдкреНрдд рд░реВрдк рд╕реЗ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЕрдВрдХреЛрдВ рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЕрд╕рддрдд рд╕рд░реНрдкрд┐рд▓ рдЧрдгрд┐рдд">рдЕрдиреБрднрд╡рдЬрдиреНрдп рд░реВрдк рд╕реЗ рдЪрдпрдирд┐рдд рдЧреБрдгрд╛рдВрдХреЛрдВ рдХреЗ рд╕рд╛рде</a> рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЕрд╕рддрдд рд╕рд░реНрдкрд┐рд▓ рдЧрдгрд┐рдд">рд╕реВрддреНрд░ рд╣реИ</a> , рдХрдИ рдФрд░ рд╡рд┐рдХрд▓реНрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЕрд╕рдорд╛рдирддрд╛ рд╕реБрдзрд╛рд░">рдпрд╣рд╛рдВ</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЧрдгрд┐рдд рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ">рдпрд╣рд╛рдВ</a> , рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдмреБрдирд┐рдпрд╛рджреА рдЕрдиреБрд╕рдВрдзрд╛рди">рдпрд╣рд╛рдВ рд╣реИрдВ</a> ред  рд▓реЗрдХрд┐рди рдПрдХ рдФрд░ рдЕрдзрд┐рдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╣реИ, рдпрджреНрдпрдкрд┐ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд░реВрд╕реА рд╕реНрдЯреИрдХрдУрд╡рд░рдлрд╝реНрд▓реЛ">рд╕рдорд╛рдзрд╛рди</a> рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдпрд╣ рд▓реЗрдЦ рд╕рдорд░реНрдкрд┐рдд рд╣реИред </p><br><p>  рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд░реЗрдЦрд╛рдЪрд┐рддреНрд░реЛрдВ рдкрд░ рдереЙрдорд╕рди рдХрд╛ рдХрд╛рд░реНрдп">рдереЙрдорд╕рди рд╕рдорд╕реНрдпрд╛</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдереЙрдорд╕рди рдХреА рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рд╕рдорд╕реНрдпрд╛">рд╡рд┐рдХреА</a> ) рдХреЗ рд╕рдорд╛рди рдПрдХ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХрд░рддреЗ рд╣реИрдВред  рдмрд┐рдЦрд░рд╛рд╡ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-20"><span class="MJXp-mrow" id="MJXp-Span-21"><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-5"> рдПрди </script>  рдЕрдВрдХ рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ, рдФрд░ рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рдПрдХ рд╕рддрд╣ рдкрд░ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдПрдХ рдЧреЛрд▓реЗ рдХреЗ рд░реВрдк рдореЗрдВ, рдФрд░ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рджреВрд░ рдзрдХреНрдХрд╛ред  рдЖрдХрд░реНрд╖рдг рдФрд░ рдкреНрд░рддрд┐рдХрд░реНрд╖рдг рдХрд╛рд░реНрдп - рдХреНрд╖рдорддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред  рд╕рдВрднрд╛рд╡рд┐рдд рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдиреНрдпреВрдирддрдо рдореВрд▓реНрдп рдкрд░, рдЕрдВрдХ рдХреНрд╖реЗрддреНрд░ рдкрд░ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╕реНрдерд┐рдд рд╣реЛрдВрдЧреЗред </p><br><p>  рдпрд╣ рдХрд╛рд░реНрдп рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ (рдПрдордПрд▓) рдореЙрдбрд▓ рдХреА рд╕реАрдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реЗ рдХрд╛рдлреА рдорд┐рд▓рддрд╛-рдЬреБрд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рджреМрд░рд╛рди рд╣рд╛рдирд┐ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХрдо рд╕реЗ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдПрдХ рдбреЗрдЯрд╛ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рдЖрдорддреМрд░ рдкрд░ рджреЗрдЦрддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдПрдХрд▓ рд╕рдВрдЦреНрдпрд╛ рдХреИрд╕реЗ рдШрдЯрддреА рд╣реИ, рдФрд░ рд╣рдо рддрд╕реНрд╡реАрд░ рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдЧрд░ рд╣рдо рд╕рдлрд▓ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдХрд┐рд╕ рддрд░рд╣ рд╕реЗ рдХреНрдпреВрдм рдХреЗ рдЕрдВрджрд░ рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рд╕рд╛рдЗрдб 1 рдХреЗ рд╕рд╛рде рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдЧреЛрд▓рд╛рдХрд╛рд░ рдХреА рд╕рддрд╣ рдХреЗ рд╕рд╛рде рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/52/sl/vj/52slvj5tsk6xdd-d1ymry_lty1i.png"></p><br><p>  рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдирд┐рдореНрди рдкреНрд░рдХрд╛рд░ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рддреАрди-рдЖрдпрд╛рдореА рдЕрдВрддрд░рд┐рдХреНрд╖ рдореЗрдВ рд╕реНрдерд┐рдд рдкреНрд░рддреНрдпреЗрдХ рдмрд┐рдВрджреБ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдПрдХ рдкрдВрдХреНрддрд┐ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> X </script>  ред  рдЗрд╕ рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╕реЗ рд╣рд╛рдирд┐ рдлрд╝рдВрдХреНрд╢рди рдХреА рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИред <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-27"><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-30"><span class="MJXp-mo" id="MJXp-Span-31" style="margin-left: 0.278em; margin-right: 0.278em;">рд▓</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> рдПрд▓ </script> рдХрд╛ рдиреНрдпреВрдирддрдо рдореВрд▓реНрдп, рдЧреЛрд▓реЗ рдХреЗ рдКрдкрд░ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдПрдХ рд╕рдорд╛рди рд╡рд┐рддрд░рдг рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред  <code>pytorch</code> рдФрд░ <code>tensorflow</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдиреНрдпреВрдирддрдо рдореВрд▓реНрдп рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдореИрдЯреНрд░рд┐рдХреНрд╕ рджреНрд╡рд╛рд░рд╛ рдиреБрдХрд╕рд╛рди рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЧреНрд░реЗрдбрд┐рдПрдВрдЯ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-32"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> X </script>  рдФрд░ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдП рдЧрдП рддрд░реАрдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдиреНрдпреВрдирддрдо рдкрд░ рдЬрд╛рдПрдВ: SGD, ADAM, ADAGRAD, рдЖрджрд┐ред </p><br><p><img src="https://habrastorage.org/webt/aq/ol/q_/aqolq_qbiybgyykwurj9dzap1nw.png"></p><br><h3 id="schitaem-potencial">  рд╣рдо рдХреНрд╖рдорддрд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ </h3><br><p>  рдЗрд╕рдХреА рд╕рд╛рджрдЧреА, рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдФрд░ рдЕрдиреНрдп рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рд▓рд┐рдЦреА рдЧрдИ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрд╡рд╛ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рдХрд╛рд░рдг, рдкрд╛рдпрдерди рдХрд╛ рдЙрдкрдпреЛрдЧ рдорд╢реАрди рд╕реАрдЦрдиреЗ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реНрдпрд╛рдкрдХ рд░реВрдк рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рдкрд╛рдпрдерди рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВред  рддреЗрдЬреА рд╕реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдХрдИ рд╡реИрд░рд┐рдПрдмрд▓реНрд╕ рдХреЗ рдХрд╛рд░реНрдп рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП - рдкрд╛рдЗрд░реЙрдЪ рдФрд░ рдЯреЗрдВрд╕реЛрдлрд╝реНрд▓реЛред </p><br><p>  рд╣рдо 1 рдХреЗ рд╕рд╛рде рдШрди рдореЗрдВ рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рддрд┐рддрд░ рдмрд┐рддрд░ рдЕрдВрдХред рд╣рдореЗрдВ 500 рдЕрдВрдХ рд╣реИ, рдФрд░ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрд╕реНрдЯреИрдЯрд┐рдХ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд▓реЛрдЪрджрд╛рд░ рдмрд╛рддрдЪреАрдд 1000 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np n = <span class="hljs-number"><span class="hljs-number">500</span></span> k = <span class="hljs-number"><span class="hljs-number">1000</span></span> X = np.random.rand(n, <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br><p>  рдЗрд╕ рдХреЛрдб рдиреЗ рдПрдХ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> X </script>  рдЖрдХрд╛рд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-36"><span class="MJXp-mn" id="MJXp-Span-37">3</span><span class="MJXp-mtext" id="MJXp-Span-38">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> 3 \ n n </script>  0 рд╕реЗ 1 рддрдХ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╕рдВрдЦреНрдпрд╛рдУрдВ рд╕реЗ рднрд░рд╛: </p><br><p><img src="https://habrastorage.org/webt/vn/vf/s-/vnvfs-cf0qee5vhmzn3vwidsn64.png"></p><br><p>  рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдПрдХ рдмрд┐рдВрджреБ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред  рдФрд░ рддреАрди рдХреЙрд▓рдо рдореЗрдВ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рджрд░реНрдЬ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">x</span><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">y</span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">z</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> x, y, z </script>  рд╣рдорд╛рд░реЗ рд╕рднреА рдмрд┐рдВрджреБред </p><br><p>  рдПрдХ рдЗрдХрд╛рдИ рдХреА рд╕рддрд╣ рдХреЗ рд╕рд╛рде рдПрдХ рдмрд┐рдВрджреБ рдХреЗ рд▓реЛрдЪрджрд╛рд░ рд╕рдВрдкрд░реНрдХ рдХреА рдХреНрд╖рдорддрд╛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-msubsup" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49" style="margin-right: 0.05em;">u</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-50" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">k</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">t</span><span class="MJXp-mo" id="MJXp-Span-58" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-59">1</span><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0.267em; margin-right: 0.267em;">тИТ</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">r</span><span class="MJXp-msubsup" id="MJXp-Span-62"><span class="MJXp-mo" id="MJXp-Span-63" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-64" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mo" id="MJXp-Span-66" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-67">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> u_1 = k \ cdot (1 - r) ^ 2/2 </script>  ред  рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрд╕реНрдЯреИрдЯрд┐рдХ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреА рдХреНрд╖рдорддрд╛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-68"><span class="MJXp-mrow" id="MJXp-Span-69"><span class="MJXp-mo" id="MJXp-Span-70" style="margin-left: 0.278em; margin-right: 0.278em;">рдк</span></span><span class="MJXp-mrow" id="MJXp-Span-71"><span class="MJXp-mo" id="MJXp-Span-72" style="margin-left: 0.278em; margin-right: 0.278em;">реА</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> рдкреА </script>  рдФрд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-73"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> q </script>  - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-75"><span class="MJXp-msubsup" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77" style="margin-right: 0.05em;">u</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-78" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-79" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-80">1</span><span class="MJXp-mrow" id="MJXp-Span-81"><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-85"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-87" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-88" style="margin-left: 0.267em; margin-right: 0.267em;">тИТ</span><span class="MJXp-msubsup" id="MJXp-Span-89"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-91" style="vertical-align: -0.4em;">q</span></span><span class="MJXp-mrow" id="MJXp-Span-92"><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> u_2 = 1 / | r_p - r_q | </script>  ред  рдкреВрд░реА рдХреНрд╖рдорддрд╛ рдореЗрдВ рд╕рднреА рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрд╕реНрдЯреИрдЯрд┐рдХ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдмрд┐рдВрджреБ рдХреЗ рд▓реЛрдЪрджрд╛рд░ рд╕рдВрдкрд░реНрдХ рдХреНрд╖реЗрддреНрд░ рдХреЗ рд╕рддрд╣ рдХреЗ рд╕рд╛рде рд╣реЛрддреЗ рд╣реИрдВ: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-94"><span class="noError" id="MJXp-Span-95" style="display: inline-block;">U&nbsp;(x_1,&nbsp;...,&nbsp;x_n)&nbsp;=&nbsp;\&nbsp;рдпреЛрдЧ&nbsp;\&nbsp;рд╕реАрдорд╛рдПрдВ&nbsp;_&nbsp;{p&nbsp;=&nbsp;1}&nbsp;^&nbsp;{n&nbsp;-&nbsp;1}&nbsp;\&nbsp;рдпреЛрдЧ&nbsp;\&nbsp;рд╕реАрдорд╛рдПрдВ&nbsp;_&nbsp;{q&nbsp;=&nbsp;p&nbsp;+&nbsp;1}&nbsp;^&nbsp;{n}&nbsp;\&nbsp;frac&nbsp;1&nbsp;{\&nbsp;рдмрд╛рдИрдВ&nbsp;рдУрд░&nbsp;|&nbsp;\&nbsp;vec&nbsp;{x_p}&nbsp;-&nbsp;\&nbsp;vec&nbsp;{x_q}&nbsp;\&nbsp;right&nbsp;|&nbsp;}&nbsp;+&nbsp;k&nbsp;\&nbsp;cdot&nbsp;\&nbsp;рдпреЛрдЧ&nbsp;\&nbsp;рд╕реАрдорд╛рдПрдБ&nbsp;_&nbsp;{p&nbsp;=&nbsp;1}&nbsp;^&nbsp;n&nbsp;\&nbsp;left&nbsp;(1&nbsp;-&nbsp;|&nbsp;\&nbsp;vec&nbsp;{__p}&nbsp;|&nbsp;\&nbsp;right)&nbsp;^&nbsp;2&nbsp;\&nbsp;rightarrow&nbsp;\&nbsp;min</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> U (x_1, ..., x_n) = \ рдпреЛрдЧ \ рд╕реАрдорд╛рдПрдВ _ {p = 1} ^ {n - 1} \ рдпреЛрдЧ \ рд╕реАрдорд╛рдПрдВ _ {q = p + 1} ^ {n} \ frac 1 {\ рдмрд╛рдИрдВ рдУрд░ | \ vec {x_p} - \ vec {x_q} \ right | } + k \ cdot \ рдпреЛрдЧ \ рд╕реАрдорд╛рдПрдБ _ {p = 1} ^ n \ left (1 - | \ vec {__p} | \ right) ^ 2 \ rightarrow \ min </script></p><br><p>  рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдЗрд╕ рд╕реВрддреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рдореВрд▓реНрдп рдХреА рдЧрдгрдирд╛ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ: </p><br><pre> <code class="python hljs">L_for = <span class="hljs-number"><span class="hljs-number">0</span></span> L_for_inv = <span class="hljs-number"><span class="hljs-number">0</span></span> L_for_sq = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(n): p_distance = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">3</span></span>): p_distance += x[p, i]**<span class="hljs-number"><span class="hljs-number">2</span></span> p_distance = math.sqrt(p_distance) L_for_sq += k * (<span class="hljs-number"><span class="hljs-number">1</span></span> - p_distance)**<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">#     ,     for q in range(p + 1, n): if q != p: pq_distance = 0 for i in range(3): pq_distance += (x[p, i] - x[q, i]) ** 2 pq_distance = math.sqrt(pq_distance) L_for_inv += 1 / pq_distance #      L_for = (L_for_inv + L_for_sq) / n print('loss =', L_for)</span></span></code> </pre> <br><p>  рд▓реЗрдХрд┐рди рдереЛрдбрд╝реА рдкрд░реЗрд╢рд╛рдиреА рд╣реИред  рдПрдХ рджрдпрдиреАрдп 2000 рдЕрдВрдХ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд░рдо 2 рд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рдЪрд▓реЗрдЧрд╛ред  рдпрджрд┐ рд╣рдо рдЗрд╕ рдореВрд▓реНрдп рдХреА рдЧрдгрдирд╛ рд╡реЗрдХреНрдЯрд░рдХреГрдд рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЧрдгрдирд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд░реЗрдВрдЧреЗ рддреЛ рдпрд╣ рдмрд╣реБрдд рддреЗрдЬрд╝ рд╣реЛрдЧрд╛ред  рддреНрд╡рд░рдг рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреЛрдиреЛрдВ "рдлрд╛рд╕реНрдЯ" рднрд╛рд╖рд╛рдУрдВ рдлреЛрд░рдЯреНрд░рд╛рди рдФрд░ рд╕реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рд╡реЗрдХреНрдЯрд░ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреЛ рдПрдХ рдШрдбрд╝реА рдЪрдХреНрд░ рдореЗрдВ рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдкрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><p>  рдЖрдЗрдП рдореИрдЯреНрд░рд┐рдХреНрд╕ рджреЗрдЦреЗрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">S</span><span class="MJXp-mo" id="MJXp-Span-98" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">X</span><span class="MJXp-mtext" id="MJXp-Span-100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">t</span><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106" style="margin-right: 0.05em;">X</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: 0.5em;">T</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> S = X \ cdot X ^ T </script>  ред  рдЗрд╕рдореЗрдВ рдХрдИ рджрд┐рд▓рдЪрд╕реНрдк рдЧреБрдг рд╣реИрдВ рдФрд░ рдЕрдХреНрд╕рд░ рдпрд╣ рдПрдордПрд▓ рдореЗрдВ рд░реИрдЦрд┐рдХ рдХреНрд▓рд╛рд╕рдлрд╛рдпрд░ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдЧрдгрдирд╛рдУрдВ рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рддреЛ, рдЕрдЧрд░ рд╣рдо рдорд╛рди рд▓реЗрдВ рдХрд┐ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдкрдВрдХреНрддрд┐ рдореЗрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-108"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> X </script>  рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдХреЗ рд╕рд╛рде <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-110"><span class="MJXp-mrow" id="MJXp-Span-111"><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0.278em; margin-right: 0.278em;">рдк</span></span><span class="MJXp-mrow" id="MJXp-Span-113"><span class="MJXp-mo" id="MJXp-Span-114" style="margin-left: 0.278em; margin-right: 0.278em;">реА</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> рдкреА </script>  рдФрд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-115"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> q </script>  рддреАрди рдЖрдпрд╛рдореА рдЕрдВрддрд░рд┐рдХреНрд╖ рд╡реИрдХреНрдЯрд░ рд▓рд┐рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-117"><span class="MJXp-mtext" id="MJXp-Span-118">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">c</span><span class="MJXp-mrow" id="MJXp-Span-122"><span class="MJXp-msubsup" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-125" style="vertical-align: -0.4em;">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-127">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">c</span><span class="MJXp-mrow" id="MJXp-Span-131"><span class="MJXp-msubsup" id="MJXp-Span-132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-134" style="vertical-align: -0.4em;">q</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ vec {r_ p}, \ vec {r_q} </script>  рдлрд┐рд░ рдореИрдЯреНрд░рд┐рдХреНрд╕ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-135"><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-138"><span class="MJXp-mo" id="MJXp-Span-139" style="margin-left: 0.278em; margin-right: 0.278em;">рд╕</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> рдПрд╕ </script>  рдЗрди рд╡реИрдХреНрдЯрд░ рдХреЗ рдЕрджрд┐рд╢ рдЙрддреНрдкрд╛рджреЛрдВ рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдиреЗрдЧрд╛ред  рдРрд╕реЗ рд╡реИрдХреНрдЯрд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-140"><span class="MJXp-mrow" id="MJXp-Span-141"><span class="MJXp-mo" id="MJXp-Span-142" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-143"><span class="MJXp-mo" id="MJXp-Span-144" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> рдПрди </script>  рдЯреБрдХрдбрд╝реЗ, рдлрд┐рд░ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЖрдпрд╛рдо <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-145"><span class="MJXp-mrow" id="MJXp-Span-146"><span class="MJXp-mo" id="MJXp-Span-147" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-148"><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0.278em; margin-right: 0.278em;">рд╕</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> рдПрд╕ </script>  рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">n</span><span class="MJXp-mtext" id="MJXp-Span-152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> n \ n n </script>  ред </p><br><p><img src="https://habrastorage.org/webt/kh/bw/ct/khbwctgydbzj51g5qwybvxtr9wo.png"></p><br><p>  рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд╡рд┐рдХрд░реНрдг рдкрд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-155"><span class="MJXp-mrow" id="MJXp-Span-156"><span class="MJXp-mo" id="MJXp-Span-157" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-158"><span class="MJXp-mo" id="MJXp-Span-159" style="margin-left: 0.278em; margin-right: 0.278em;">рд╕</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> рдПрд╕ </script>  рд╡реИрдХреНрдЯрд░ рдХреА рд▓рдВрдмрд╛рдИ рдХреЗ рд╡рд░реНрдЧ рдЦрдбрд╝реЗ рд╣реЛ рдЬрд╛рдУ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-160"><span class="MJXp-mtext" id="MJXp-Span-161">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">c</span><span class="MJXp-mrow" id="MJXp-Span-165"><span class="MJXp-msubsup" id="MJXp-Span-166"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-168" style="vertical-align: -0.4em;">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.111em; margin-right: 0.167em;">:</span><span class="MJXp-msubsup" id="MJXp-Span-170"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-172" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-176"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-179">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">p</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ vec {r_p}: s_ {p p} = r_p ^ 2 </script>  ред  рдпрд╣ рдЬрд╛рдирддреЗ рд╣реБрдП, рдЪрд▓реЛ рдмрд╛рддрдЪреАрдд рдХреА рдкреВрд░реА рдХреНрд╖рдорддрд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рд╣рдо рджреЛ рд╕рд╣рд╛рдпрдХ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдЧрдгрдирд╛ рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рдПрдХ рд╡рд┐рдХрд░реНрдг рдореИрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-180"><span class="MJXp-mrow" id="MJXp-Span-181"><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0.278em; margin-right: 0.278em;">рдП</span></span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0.278em; margin-right: 0.278em;">рд╕</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> рдПрд╕ </script>  рдкрдВрдХреНрддрд┐рдпреЛрдВ рдореЗрдВ рджреЛрд╣рд░рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рджреВрд╕рд░реЗ рдореЗрдВ - рдХреЙрд▓рдо рдореЗрдВред </p><br><p><img src="https://habrastorage.org/webt/ms/np/ps/msnppskk5fbczwgqvelu3jgeo80.png"></p><br><p>  рдЕрдм рдЖрдЗрдП рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ <code>p_roll + q_roll - 2 * S</code> </p><br><p><img src="https://habrastorage.org/webt/cc/py/ii/ccpyiidioj3yrxqnpxxbuyt8ht0.png"></p><br><p>  рдЕрдиреБрдХреНрд░рдорд┐рдд рд╡рд╕реНрддреБ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-185"><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">p</span><span class="MJXp-mo" id="MJXp-Span-188" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">q</span><span class="MJXp-mo" id="MJXp-Span-190" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> (p, q) </script>  рдореИрдЯреНрд░рд┐рдХреНрд╕ <code>sq_dist</code> рдмрд░рд╛рдмрд░ рд╣реИ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-191"><span class="MJXp-msubsup" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-195">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">p</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-200">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">q</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-201" style="margin-left: 0.267em; margin-right: 0.267em;">тИТ</span><span class="MJXp-mn" id="MJXp-Span-202">2</span><span class="MJXp-mtext" id="MJXp-Span-203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">t</span><span class="MJXp-mo" id="MJXp-Span-208" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-209">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">c</span><span class="MJXp-mrow" id="MJXp-Span-213"><span class="MJXp-msubsup" id="MJXp-Span-214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-216" style="vertical-align: -0.4em;">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-217" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-218">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">c</span><span class="MJXp-mrow" id="MJXp-Span-222"><span class="MJXp-msubsup" id="MJXp-Span-223"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-225" style="vertical-align: -0.4em;">q</span></span></span><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-228" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">c</span><span class="MJXp-mrow" id="MJXp-Span-233"><span class="MJXp-msubsup" id="MJXp-Span-234"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-236" style="vertical-align: -0.4em;">p</span></span></span><span class="MJXp-mo" id="MJXp-Span-237" style="margin-left: 0.267em; margin-right: 0.267em;">тИТ</span><span class="MJXp-mtext" id="MJXp-Span-238">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">c</span><span class="MJXp-mrow" id="MJXp-Span-242"><span class="MJXp-msubsup" id="MJXp-Span-243"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-245" style="vertical-align: -0.4em;">q</span></span></span><span class="MJXp-mo" id="MJXp-Span-246" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-247" style="margin-left: 0.267em; margin-right: 0.267em;">тИТ</span><span class="MJXp-mn" id="MJXp-Span-248">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> r_p ^ 2 + r_q ^ 2 - 2 \ cdot (\ vec {r_p}, \ vec {r_q}) = ((vec {r_p} - \ vec {r_q}) - 2 </script>  ред  рдпрд╣реА рд╣реИ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдмреАрдЪ рджреВрд░рд┐рдпреЛрдВ рдХреЗ рд╡рд░реНрдЧреЛрдВ рдХрд╛ рдПрдХ рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╣реИред </p><br><h3 id="elektrostaticheskoe-ottalkivanie-na-sfere">  рдПрдХ рдХреНрд╖реЗрддреНрд░ рдкрд░ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрд╕реНрдЯреИрдЯрд┐рдХ рдкреНрд░рддрд┐рдХрд░реНрд╖рдг </h3><br><p>  <code>dist = np.sqrt(sq_dist)</code> - рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдХрд╛ рдореИрдЯреНрд░рд┐рдХреНрд╕ред  рд╣рдореЗрдВ рдЕрдкрдиреЗ рдФрд░ рдЖрдХрд░реНрд╖рдг рдХреЗ рдмреАрдЪ рдХреЗ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдкреНрд░рддрд┐рдХрд░реНрд╖рдг рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП, рдХреНрд╖рдорддрд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрдХрд╛рдЗрдпреЛрдВ рдХреЛ рд╡рд┐рдХрд░реНрдг рдкрд░ рд░рдЦреЗрдВ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдХреЛ рдЗрд╕рдХреЗ рд╡реНрдпреБрддреНрдХреНрд░рдо рд╕реЗ рдмрджрд▓реЗрдВ (рдмрд╕ рдпрд╣ рдордд рд╕реЛрдЪреЛ рдХрд┐ рд╣рдо рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ <code>rec_dist_one = 1 / (dist + np.eye(n))</code> !): <code>rec_dist_one = 1 / (dist + np.eye(n))</code> ред  рдкрд░рд┐рдгрд╛рдо рд╡рд┐рдХрд░реНрдг рдкрд░ рдПрдХ рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЗрдХрд╛рдЗрдпрд╛рдВ рд╣реИрдВ, рдЕрдиреНрдп рддрддреНрд╡ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдмреАрдЪ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрд╕реНрдЯреИрдЯрд┐рдХ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреА рдХреНрд╖рдорддрд╛ рд╣реИрдВред </p><br><p>  рдЕрдм рд╣рдо рдЗрдХрд╛рдИ рдХреНрд╖реЗрддреНрд░ рдХреА рд╕рддрд╣ рдкрд░ рдЖрдХрд░реНрд╖рдг рдХреА рджреНрд╡рд┐рдШрд╛рддреАрдп рдХреНрд╖рдорддрд╛ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  рдЧреЛрд▓реЗ рдХреА рд╕рддрд╣ рд╕реЗ рджреВрд░реА <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-249"><span class="MJXp-mo" id="MJXp-Span-250" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-251">1</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0.267em; margin-right: 0.267em;">тИТ</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">r</span><span class="MJXp-mo" id="MJXp-Span-254" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> (1 - r) </script>  ред  рдЗрд╕реЗ рд╕реНрдХреНрд╡рд╛рдпрд░ рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЧреБрдгрд╛ рдХрд░реЗрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> k </script>  , рдЬреЛ рдХрдгреЛрдВ рдХреЗ рдЗрд▓реЗрдХреНрдЯреНрд░реЛрд╕реНрдЯреИрдЯрд┐рдХ рдкреНрд░рддрд┐рдХрд░реНрд╖рдг рдХреА рднреВрдорд┐рдХрд╛ рдФрд░ рдПрдХ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдЖрдХрд░реНрд╖рдг рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдз рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдХреБрд▓ <code>k = 1000</code> , <code>all_interactions = rec_dist_one - torch.eye(n) + (d.sqrt() - torch.ones(n))**2</code> ред  рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдкреНрд░рддреАрдХреНрд╖рд┐рдд рд╣рд╛рдирд┐ рдлрд╝рдВрдХреНрд╢рди, рдЬрд┐рд╕реЗ рд╣рдо рдиреНрдпреВрдирддрдо рдХрд░реЗрдВрдЧреЗ: <code>t = all_interactions.sum()</code> </p><br><p>  рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЬреЛ рд╕рдВрднрд╛рд╡рд┐рдд рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="python hljs">S = X.dot(XT) <span class="hljs-comment"><span class="hljs-comment">#    pp_sq_dist = np.diag(S) #  p_roll = pp_sq_dist.reshape(1, -1).repeat(n, axis=0) #     q_roll = pp_sq_dist.reshape(-1, 1).repeat(n, axis=1) #     pq_sq_dist = p_roll + q_roll - 2 * S #      pq_dist = np.sqrt(pq_sq_dist) #    pp_dist = np.sqrt(pp_sq_dist) #      surface_dist_sq = (pp_dist - np.ones(n)) ** 2 #       rec_pq_dist = 1 / (pq_dist + np.eye(n)) - np.eye(n) #      L_np_rec = rec_pq_dist.sum() / 2 #     L_np_surf = k * surface_dist_sq.sum() #       L_np = (L_np_rec + L_np_surf) / n #   ,     print('loss =', L_np)</span></span></code> </pre> <br><p>  рдпрд╣рд╛рдВ 2000 рд╕реЗ 200 рдЕрдВрдХреЛрдВ рдореЗрдВ рдЪреАрдЬреЗрдВ рдереЛрдбрд╝реА рдмреЗрд╣рддрд░ рд╣реИрдВред </p><br><p>  рд╣рдо pytorch рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> torch pt_x = torch.from_numpy(X) <span class="hljs-comment"><span class="hljs-comment"># pt_x -   tensor   pytorch pt_S = pt_x.mm(pt_x.transpose(0, 1)) # mm - matrix multiplication pt_pp_sq_dist = pt_S.diag() pt_p_roll = pt_pp_sq_dist.repeat(n, 1) pt_q_roll = pt_pp_sq_dist.reshape(-1, 1).repeat(1, n) pt_pq_sq_dist = pt_p_roll + pt_q_roll - 2 * pt_S pt_pq_dist = pt_pq_sq_dist.sqrt() pt_pp_dist = pt_pp_sq_dist.sqrt() pt_surface_dist_sq = (pt_pp_dist - torch.ones(n, dtype=torch.float64)) ** 2 pt_rec_pq_dist = 1/ (pt_pq_dist + torch.eye(n, dtype=torch.float64)) - torch.eye(n, dtype=torch.float64) L_pt = (pt_rec_pq_dist.sum() / 2 + k * pt_surface_dist_sq.sum()) / n print('loss =', float(L_pt))</span></span></code> </pre> <br><p>  рдФрд░ рдЕрдВрдд рдореЗрдВ рдЯреЗрдВрд╕рд░рдлрд╝реНрд▓реЛ: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf tf_x = tf.placeholder(name=<span class="hljs-string"><span class="hljs-string">'x'</span></span>, dtype=tf.float64) tf_S = tf.matmul(tf_x, tf.transpose(tf_x)) tf_pp_sq_dist = tf.diag_part(tf_S) tf_p_roll = tf.tile(tf.reshape(tf_pp_sq_dist, (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>)), (n, <span class="hljs-number"><span class="hljs-number">1</span></span>)) tf_q_roll = tf.tile(tf.reshape(tf_pp_sq_dist, (<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)), (<span class="hljs-number"><span class="hljs-number">1</span></span>, n)) tf_pq_sq_dist = tf_p_roll + tf_q_roll - <span class="hljs-number"><span class="hljs-number">2</span></span> * tf_S tf_pq_dist = tf.sqrt(tf_pq_sq_dist) tf_pp_dist = tf.sqrt(tf_pp_sq_dist) tf_surface_dist_sq = (tf_pp_dist - tf.ones(n, dtype=tf.float64)) ** <span class="hljs-number"><span class="hljs-number">2</span></span> tf_rec_pq_dist = <span class="hljs-number"><span class="hljs-number">1</span></span> / (tf_pq_dist + tf.eye(n, dtype=tf.float64)) - tf.eye(n, dtype=tf.float64) L_tf = (tf.reduce_sum(tf_rec_pq_dist) / <span class="hljs-number"><span class="hljs-number">2</span></span> + k * tf.reduce_sum(tf_surface_dist_sq)) / n glob_init = tf.local_variables_initializer() <span class="hljs-comment"><span class="hljs-comment">#     with tf.Session() as tf_s: #     glob_init.run() #   res, = tf_s.run([L_tf], feed_dict={tf_x: x}) #   print(res)</span></span></code> </pre> <br><p>  рдЗрди рддреАрди рддрд░реАрдХреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ: </p><br><table><tbody><tr><td>  рдПрди </td><td>  рдЕрдЬрдЧрд░ </td><td>  numpy </td><td>  pytorch </td><td>  tensorflow </td></tr><tr><td>  2000 </td><td>  4.03 </td><td>  0.083 </td><td>  1.11 </td><td>  0.205 </td></tr><tr><td>  10000 </td><td>  99 </td><td>  2.82 </td><td>  2.18 </td><td>  7.9 </td></tr></tbody></table><br><p>  рд╡реЗрдХреНрдЯрд░ рдХреА рдЧрдИ рдЧрдгрдирд╛ рд╢реБрджреНрдз рдЕрдЬрдЧрд░ рдХреЛрдб рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдбреЗрдврд╝ рджрд╢рдорд▓рд╡ рд╕реЗ рдЕрдзрд┐рдХ рдСрд░реНрдбрд░ рдХрд╛ рд▓рд╛рдн рджреЗрддреА рд╣реИред  рдкрд╛рдЗрд░реЙрдЪ рдореЗрдВ "рдмреЙрдпрд▓рд░ рдкреНрд▓реЗрдЯ" рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ: рдЫреЛрдЯреА рдорд╛рддреНрд░рд╛ рдХреА рдЧрдгрдирд╛ рдореЗрдВ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЧрдгрдирд╛ рдХреА рдмрдврд╝рддреА рдорд╛рддреНрд░рд╛ рдХреЗ рд╕рд╛рде рдпрд╣ рд▓рдЧрднрдЧ рдирд╣реАрдВ рдмрджрд▓рддрд╛ рд╣реИред </p><br><h3 id="vizualizaciya">  рджреГрд╢реНрдп </h3><br><p>  рдЖрдЬрдХрд▓, рдбреЗрдЯрд╛ рдХреЛ рднрд╛рд░реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдкреИрдХреЗрдЬреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдореИрдЯрд▓реИрдм, рд╡реЛрд▓реНрдлреНрд░рд╛рдо рдореИрдереЗрдореЗрдЯрд┐рдХрд╛, рдореЗрдкрд▓, рдореЗрдЯрдкреНрд▓реЛрдЯрд▓рд┐рдм, рдЖрджрд┐ред рдЗрди рдкреИрдХреЗрдЬреЛрдВ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЬрдЯрд┐рд▓ рдХрд╛рд░реНрдп рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдЬрдЯрд┐рд▓ рдЪреАрдЬреЗрдВ рдХрд░рддреЗ рд╣реИрдВред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдпрджрд┐ рдЖрдк рдПрдХ рд╕рд░рд▓ рд▓реЗрдХрд┐рди рдЧреИрд░-рдорд╛рдирдХ рдХрд╛рд░реНрдп рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЦреБрдж рдХреЛ рдирд┐рд╣рддреНрдерд╛ рдкрд╛рддреЗ рд╣реИрдВред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдореЗрд░рд╛ рдкрд╕рдВрджреАрджрд╛ рд╕рдорд╛рдзрд╛рди рдкреЛрд╡рд░реЗ рд╣реИред  рдпрд╣ рдПрдХ рдмрд╣реБрдд рд╣реА рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдХрд╛рд░реНрдпрдХреНрд░рдо рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдорддреМрд░ рдкрд░ рдлреЛрдЯреЛрд░рд┐рдЕрд▓рд┐рд╕реНрдЯрд┐рдХ рдЗрдореЗрдЬ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ "рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдСрдлрд╝ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди" рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдорддреМрд░ рдкрд░, рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рдЖрдк рдХрд┐рддрдиреА рд╕рддрд╣ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдмрд╕ рдкреЛрд╡реЗрд░реЗ рдХреЛ рдЙрд╕ рд╕рддрд╣ рдкрд░ рд╕реНрдерд┐рдд рдХреЗрдВрджреНрд░реЛрдВ рдХреЗ рд╕рд╛рде рдЧреЛрд▓реЗ рдЦреАрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣реЗрдВред </p><br><p>  рд╡реИрдкреЛрд░реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рд╕реАрдзреЗ рдЕрдЬрдЧрд░ рдореЗрдВ рдПрдХ рдкреЙрд╡рд░реЗ рджреГрд╢реНрдп рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдм рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/fh/1j/6x/fh1j6xkcdedx1m4s0x9clmsgjse.gif"></p><br><p>  рдЪрд┐рддреНрд░ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vapory <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PIL <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Image <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_scene</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(moment)</span></span></span><span class="hljs-function">:</span></span> angle = <span class="hljs-number"><span class="hljs-number">2</span></span> * math.pi * moment / <span class="hljs-number"><span class="hljs-number">360</span></span> r_camera = <span class="hljs-number"><span class="hljs-number">7</span></span> camera = vapory.Camera(<span class="hljs-string"><span class="hljs-string">'location'</span></span>, [r_camera * math.cos(angle), <span class="hljs-number"><span class="hljs-number">1.5</span></span>, r_camera * math.sin(angle)], <span class="hljs-string"><span class="hljs-string">'look_at'</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">'angle'</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>) light1 = vapory.LightSource([<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">-3</span></span>], <span class="hljs-string"><span class="hljs-string">'color'</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]) light2 = vapory.LightSource([<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], <span class="hljs-string"><span class="hljs-string">'color'</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]) plane = vapory.Plane([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-number"><span class="hljs-number">-1</span></span>, vapory.Pigment(<span class="hljs-string"><span class="hljs-string">'color'</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>])) box = vapory.Box([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], vapory.Pigment(<span class="hljs-string"><span class="hljs-string">'Col_Glass_Clear'</span></span>), vapory.Finish(<span class="hljs-string"><span class="hljs-string">'F_Glass9'</span></span>), vapory.Interior(<span class="hljs-string"><span class="hljs-string">'I_Glass1'</span></span>)) spheres = [vapory.Sphere( [float(r[<span class="hljs-number"><span class="hljs-number">0</span></span>]), float(r[<span class="hljs-number"><span class="hljs-number">1</span></span>]), float(r[<span class="hljs-number"><span class="hljs-number">2</span></span>])], <span class="hljs-number"><span class="hljs-number">0.05</span></span>, vapory.Texture(vapory.Pigment(<span class="hljs-string"><span class="hljs-string">'color'</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>]))) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vapory.Scene(camera, objects=[light1, light2, plane, box] + spheres, included=[<span class="hljs-string"><span class="hljs-string">'glass.inc'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">360</span></span>): flnm = <span class="hljs-string"><span class="hljs-string">'out/sphere_{:03}.png'</span></span>.format(t) scene = create_scene(t) scene.render(flnm, width=<span class="hljs-number"><span class="hljs-number">800</span></span>, height=<span class="hljs-number"><span class="hljs-number">600</span></span>, remove_temp=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) clear_output() display(Image.open(flnm))</code> </pre> <br><p>  рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдПрдХ рд╕рдореВрд╣ рд╕реЗ, рдПрдирд┐рдореЗрдЯреЗрдб GIF рдХреЛ ImageMagic рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="bash hljs">convert -delay 10 -loop 0 sphere_*.png sphere_all.gif</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рддреБрдм рдкрд░</a> рдЖрдк рдХрд╛рд░реНрдп рдХреЛрдб рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рдЯреБрдХрдбрд╝реЗ рдпрд╣рд╛рдБ рджрд┐рдП рдЧрдП рд╣реИрдВред  рджреВрд╕рд░реЗ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ рдХрд┐ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреА рд╢реБрд░реБрдЖрдд рдХреИрд╕реЗ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЕрдВрдХ рдШрди рд╕реЗ рдмрд╛рд╣рд░ рдЖрдПрдВ рдФрд░ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдкреВрд░реЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдлреИрд▓ рдЬрд╛рдПрдВред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi424227/">https://habr.com/ru/post/hi424227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi424209/index.html">рд╡рд╛рдпрд░рд▓реЗрд╕ рдЧреНрд░реЗрд╕: тАЛтАЛрд╕реНрдиреЛрдо A170 рд╣реЗрдбрд╕реЗрдЯ рдХреА рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi424211/index.html">рдХрдВрдЯреЗрдирд░ рднрдВрдбрд╛рд░рдг рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд╕рдордЭрдирд╛ (рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ)</a></li>
<li><a href="../hi424215/index.html">рдПрд▓реНрдоред рдЖрд░рд╛рдорджрд╛рдпрдХ рдФрд░ рдЕрдЬреАрдм</a></li>
<li><a href="../hi424217/index.html">рдкрд╡рд┐рддреНрд░ рдпреБрджреНрдзреЛрдВ рдХреЗ рд▓рд┐рдП рддрд░реНрдХ, рд╕рд╛рде рд╣реА рд╢рд╛рдВрддрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рджрд▓реАрд▓</a></li>
<li><a href="../hi424223/index.html">рдбрд┐рд╕реНрдкреЛрдЬреЗрдмрд▓ рдЧреНрд░рд╛рд╣рдХреЛрдВред рджреЛрд╣рд░рд╛рдиреЗ рдХреА рдЦрд░реАрдж рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд╛рдЬрди</a></li>
<li><a href="../hi424229/index.html">рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдХреБрдмреЗрд░рдиреЗрдЯ: рд╕реЗрд╡рд╛рдПрдВ</a></li>
<li><a href="../hi424231/index.html">рд╣реЙрд╕реНрдЯрд▓рд░реНрд╕ рдкрд░ рдкреИрд╕рд╛ рдХреИрд╕реЗ рдХрдорд╛рдпрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi424233/index.html">рдХрдВрдкреНрдпреВрдЯрд░ рдиреЗ 93% рд╕рдЯреАрдХрддрд╛ рдХреЗ рд╕рд╛рде рдордиреЛрднреНрд░рдВрд╢ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╕рд┐рдЦрд╛рдпрд╛</a></li>
<li><a href="../hi424235/index.html">Oracle рдорд╛рдирдХ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ AWR рдХреЗ рдмрдЬрд╛рдп STATSPACK рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi424237/index.html">рд╕реАрдзреЗ рдЕрдкрдиреЗ рджрд┐рдорд╛рдЧ рдХреЛ рдЪрд╛рд░реНрдЬ рдХрд░реЗрдВ! рдЬреЛрдХрд░ 2018 рдореЗрдВ рд░рдирдЯрд╛рдЗрдо, рд╕рдВрдХрд▓рдХ рдФрд░ рдкреНрд░рджрд░реНрд╢рди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>