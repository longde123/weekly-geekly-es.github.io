<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüåæ üì± üé† Trabalhando com hierarquias no lsFusion ü§≤üèº üö£üèæ ‚èØÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em v√°rias aplica√ß√µes, geralmente √© necess√°rio implementar uma representa√ß√£o hier√°rquica de objetos. Normalmente, isso √© usado para classific√°-los espe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trabalhando com hierarquias no lsFusion</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/468047/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/hw/ko/2-/hwko2-ymhbci1wulswxip4ots6a.png" alt="imagem"></div><br>  Em v√°rias aplica√ß√µes, geralmente √© necess√°rio implementar uma representa√ß√£o hier√°rquica de objetos.  Normalmente, isso √© usado para classific√°-los especificando grupos.  Esses grupos formam uma √°rvore de profundidade din√¢mica, que √© usada para navega√ß√£o, agrega√ß√£o de dados e configura√ß√£o de par√¢metros. <br><br>  Neste artigo, mostrarei como essa l√≥gica pode ser implementada na plataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lsFusion</a> aberta e gratuita. <br><a name="habracut"></a><br>  Como exemplo, vamos usar uma l√≥gica simples na qual √© necess√°rio implementar a l√≥gica de mercadorias agrupadas em grupos espec√≠ficos que formam uma hierarquia de profundidade din√¢mica.  Nesse caso, as mercadorias podem ser vinculadas a um n√≥ intermedi√°rio da √°rvore. <br><br>  Primeiro, de acordo com o esquema padr√£o, declare a entidade do <i>grupo de produtos</i> como uma classe simples e plana, com formul√°rios de edi√ß√£o e uma lista: <br><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">CLASS</font> Group <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Group); <br> <br> <font color="#a626a4">FORM</font> group <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (g) name <br> <br> <font color="#a626a4">EDIT</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">FORM</font> groups <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> groups; <br> } <br></code> </td></tr></tbody></table></div><br>  Agora vamos criar uma hierarquia de grupos.  Para fazer isso, apresentamos uma propriedade que conter√° um link para o grupo pai: <br><div class="scrollable-table"><table><tbody><tr><td> <code>parent = <font color="#a626a4">DATA</font> Group (Group); <br> nameParent <font color="#50a14f">' '</font> (Group g) = name(parent(g)); <br></code> </td></tr></tbody></table></div><br>  Em seguida, criamos uma propriedade que determinar√° recursivamente o relacionamento entre dois grupos: <br><div class="scrollable-table"><table><tbody><tr><td> <code>level <font color="#50a14f">''</font> (Group child, Group parent) = <br> <font color="#a626a4">RECURSION</font> <font color="#986801">1l</font> <font color="#a626a4">IF</font> child <font color="#a626a4">IS</font> Group <font color="#a626a4">AND</font> parent = child <br> <font color="#a626a4">STEP</font> <font color="#986801">2l</font> <font color="#a626a4">IF</font> parent = parent($parent) <font color="#a626a4">MATERIALIZED</font> ; <br></code> </td></tr></tbody></table></div><br>  Em que princ√≠pio o operador <i>RECURSION funciona</i> , n√£o descreverei neste artigo, mas a propriedade <i>level</i> retornar√° 2 ao grau de "comprimento do caminho entre <i>filho</i> e <i>pai</i> na √°rvore direcional correspondente".  <i>MATERIALIZED</i> indica que a plataforma deve armazen√°-la em uma tabela separada, onde para cada par de n√≥s conectados haver√° um registro separado com o valor do <i>n√≠vel</i> na coluna correspondente.  Com qualquer altera√ß√£o na estrutura da √°rvore, esta tabela ser√° recontada automaticamente. <br><br>  Por exemplo, para uma √°rvore assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3a/n9/zx/3an9zxbiyqzkw9kfa0a7tt3sdhu.png" alt="imagem"></div><br>  A tabela ficar√° assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mw/vf/kr/mwvfkrhayovdhsu17ft6o2dqwys.png" alt="imagem"></div><br>  Nele, <i>key0</i> √© o c√≥digo descendente e <i>key1</i> √© o c√≥digo pai.  O n√∫mero de entradas nesta tabela ser√° aproximadamente igual ao n√∫mero de grupos vezes a profundidade m√©dia da √°rvore.  Esse esquema de armazenamento ser√° √∫til, pois se voc√™ precisar contar todos os descendentes do grupo, n√£o precisar√° recorrer a solicita√ß√µes de CTE, mas poder√° usar o JOIN usual para esta tabela. <br><br>  Al√©m disso, com base na propriedade constru√≠da, o nome can√¥nico do grupo pode ser calculado: <br><div class="scrollable-table"><table><tbody><tr><td> <code>canonicalName <font color="#50a14f">' '</font> (Group group) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">CONCAT</font> name(Group parent), <font color="#50a14f">' / '</font> <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> level(group, parent) <font color="#a626a4">CHARWIDTH</font> <font color="#986801">50</font> ; <br></code> </td></tr></tbody></table></div><br>  Por exemplo, para o grupo <i>Milk</i> na figura acima, o nome can√¥nico seria <i>All / Groceries / Dairy / Milk</i> .  <i>CHARWIDTH √©</i> especificado para informar √† plataforma qual largura usar para esta propriedade (em caracteres) ao criar a interface. <br><br>  Agora vamos expandir o formul√°rio para visualizar e editar grupos com propriedades rec√©m-criadas: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> group <br> <font color="#a626a4">PROPERTIES</font> (g) nameParent, canonicalName <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> groups <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> nameParent, canonicalName <br> ; <br></code> </td></tr></tbody></table></div><br>  Um formul√°rio com uma lista de grupos em um formul√°rio simples ter√° a seguinte apar√™ncia: <br><br><img src="https://habrastorage.org/webt/sb/pc/gw/sbpcgwa-diwhh3gn5xeduwuta2w.png" alt="imagem"><br><br>  Depois que a l√≥gica dos grupos for conclu√≠da, adicione a entidade <i>Product</i> : <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Product <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Product); <br></code> </td></tr></tbody></table></div><br>  Crie um link de produto para o grupo de produtos ao qual ele pertence: <br><div class="scrollable-table"><table><tbody><tr><td> <code>group <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Group (Product); <br> canonicalNameGroup <font color="#50a14f">'  '</font> (Product p) = canonicalName(group(p)); <br></code> </td></tr></tbody></table></div><br>  Por fim, criaremos um formul√°rio para entrada de mercadorias, no qual haver√° dois elementos: uma √°rvore de grupos e uma lista de mercadorias.  Para o grupo de √°rvores selecionado, apenas os produtos que pertencem a qualquer descendente do n√≥ selecionado ser√£o exibidos na lista.  Primeiro, declare um formul√°rio e adicione uma √°rvore a ele com uma lista de grupos: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> products <font color="#50a14f">''</font> <br> <font color="#a626a4">TREE</font> groups g = Group <font color="#a626a4">PARENT</font> parent <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(g) <br> ; <br></code> </td></tr></tbody></table></div><br>  Usando o comando <i>TREE</i> , uma √°rvore √© criada a partir de objetos da classe <i>Group</i> , cuja hierarquia √© determinada pela propriedade <i>pai</i> criada anteriormente. <br><br>  Adicione o formul√°rio ao navegador: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> products; <br> } <br></code> </td></tr></tbody></table></div><br>  Neste exemplo, a entrada e a edi√ß√£o de mercadorias ser√£o realizadas n√£o por meio de di√°logos separados, mas diretamente no pr√≥prio formul√°rio.  Para fazer isso, crie uma a√ß√£o para criar um produto com refer√™ncia ao grupo selecionado: <br><div class="scrollable-table"><table><tbody><tr><td> <code>newProduct <font color="#50a14f">''</font> (Group g) { <br> <font color="#a626a4">NEW</font> p = Product { <br> group(p) &lt;- g; <br> } <br> } <br></code> </td></tr></tbody></table></div><br>  Agora, no formul√°rio criado anteriormente, adicione a lista de produtos com colunas edit√°veis: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> (p) name, canonicalNameGroup <br> <font color="#a626a4">FILTERS</font> level(group(p), g) <br> ; <br></code> </td></tr></tbody></table></div><br>  Use os bot√µes do formul√°rio para adicionar e remover mercadorias: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">PROPERTIES</font> newProduct(g) <font color="#a626a4">DRAW</font> p <font color="#a626a4">TOOLBAR</font> , <font color="#a626a4">DELETE</font> (p) <br> ; <br></code> </td></tr></tbody></table></div><br>  Como a a√ß√£o <i>newProduct √©</i> definida para um grupo de produtos, √© necess√°rio especificar explicitamente que ela deve ser adicionada √† barra de ferramentas com a lista de produtos (p). <br><br>  Resta configurar o design para que a √°rvore seja exibida √† esquerda e a lista de produtos √† direita e entre eles haja um separador, com o qual voc√™ pode redimensionar objetos: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DESIGN</font> products { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> type = <font color="#a626a4">SPLITH</font> ; <br> fill = <font color="#986801">1</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> ( <font color="#a626a4">TREE</font> groups); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (p); <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div><br>  O formul√°rio final ficar√° assim: <br><br><img src="https://habrastorage.org/webt/66/7b/04/667b04qmmrmnbatmnckrx73thyy.gif" alt="imagem"><br><br>  Ap√≥s a cria√ß√£o da hierarquia de produtos e grupos, geralmente √© necess√°rio definir algum par√¢metro em qualquer um dos n√≠veis.  Al√©m disso, quanto menor a hierarquia for especificada, maior ser√° o seu valor.  Por exemplo, se o grupo <i>Latic√≠nios</i> estiver definido como 30 e o grupo <i>Leite</i> estiver definido como 20, o √∫ltimo dever√° ser selecionado. <br><br>  Suponha que voc√™ queira definir a op√ß√£o <i>premium</i> dessa maneira.  Para fazer isso, primeiro crie a propriedade apropriada para o grupo: <br><div class="scrollable-table"><table><tbody><tr><td> <code>markup <font color="#50a14f">', %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (Group); <br></code> </td></tr></tbody></table></div><br>  Para encontrar o valor desejado, basta usar o agrupamento com a escolha do √∫ltimo valor: <br><div class="scrollable-table"><table><tbody><tr><td> <code>parentMarkup <font color="#50a14f">' (  ), %'</font> (Group child) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> markup(Group parent) <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> level(child, parent) <font color="#a626a4">WHERE</font> markup(parent); <br></code> </td></tr></tbody></table></div><br>  Traduzida para o idioma comum, essa express√£o encontra ( <i>GROUP</i> ) a √∫ltima <i>marca√ß√£o</i> ( <i>LAST</i> ) no grupo superior ( <i>pai do grupo</i> ), em ordem decrescente de dist√¢ncia a ele ( <i>n√≠vel de ORDER DESC (filho, pai)</i> ), para o qual essa marca√ß√£o fornecido ( <i>marca√ß√£o WHERE (pai)</i> ).  Aqui, quero observar como lsFusion corresponde √† linguagem natural. <br><br>  Adicione as propriedades criadas acima ao formul√°rio do produto na √°rvore de grupos: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">PROPERTIES</font> (g) markup, parentMarkup <font color="#a626a4">READONLY</font> <br> ; <br></code> </td></tr></tbody></table></div><br>  Suponha que exista uma necessidade de definir um pr√™mio diretamente para um produto e que ele seja maior que o pr√™mio do grupo.  Para fazer isso, primeiro crie a propriedade principal do produto: <br><div class="scrollable-table"><table><tbody><tr><td> <code>dataMarkup <font color="#50a14f">'  , %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (Product); <br></code> </td></tr></tbody></table></div><br>  Em seguida, declaramos uma propriedade que retornar√° o pr√™mio do produto, se um for especificado, ou o pr√™mio do grupo: <br><div class="scrollable-table"><table><tbody><tr><td> <code>markup <font color="#50a14f">', %'</font> (Product p) = <font color="#a626a4">OVERRIDE</font> dataMarkup(p), parentMarkup(group(p)); <br></code> </td></tr></tbody></table></div><br>  Depois disso, adicione as duas propriedades ao formul√°rio: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">PROPERTIES</font> (p) dataMarkup, markup <font color="#a626a4">READONLY</font> <br> ; <br></code> </td></tr></tbody></table></div><br>  O mecanismo para definir pr√™mios para grupos e produtos ter√° a seguinte apar√™ncia: <br><br><img src="https://habrastorage.org/webt/sb/cv/r9/sbcvr9fhwz2lqj7c74utwjovekw.gif" alt="imagem"><br><br><h3>  Conclus√£o </h3><br>  No artigo acima, fomos capazes de criar a l√≥gica dos produtos, combin√°-los em grupos com uma hierarquia de profundidade din√¢mica e tamb√©m fornecer ao usu√°rio a capacidade de definir pr√™mios em qualquer n√≠vel.  Tudo isso levou cerca de 70 linhas de c√≥digo significativas.  Voc√™ pode tentar como funciona on-line, bem como fazer altera√ß√µes no c√≥digo na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">se√ß√£o</a> apropriada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">do</a> site (guia Plataforma).  Aqui est√° todo o c√≥digo-fonte que voc√™ precisa colar no campo apropriado: <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo fonte</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Group <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Group); <br> <br> <font color="#a626a4">FORM</font> group <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (g) name <br> <br> <font color="#a626a4">EDIT</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">FORM</font> groups <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> g = Group <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> name <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Group <font color="#a626a4">OBJECT</font> g <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> groups; <br> } <br> <br> parent = <font color="#a626a4">DATA</font> Group (Group); <br> nameParent <font color="#50a14f">' '</font> (Group g) = name(parent(g)); <br> <br> level <font color="#50a14f">''</font> (Group child, Group parent) = <br> <font color="#a626a4">RECURSION</font> <font color="#986801">1l</font> <font color="#a626a4">IF</font> child <font color="#a626a4">IS</font> Group <font color="#a626a4">AND</font> parent = child <br> <font color="#a626a4">STEP</font> <font color="#986801">2l</font> <font color="#a626a4">IF</font> parent = parent($parent) <font color="#a626a4">MATERIALIZED</font> ; <br> <br> canonicalName <font color="#50a14f">' '</font> (Group group) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">CONCAT</font> name(Group parent), <font color="#50a14f">' / '</font> <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> level(group, parent) <font color="#a626a4">CHARWIDTH</font> <font color="#986801">50</font> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> group <br> <font color="#a626a4">PROPERTIES</font> (g) nameParent, canonicalName <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> groups <br> <font color="#a626a4">PROPERTIES</font> (g) <font color="#a626a4">READONLY</font> nameParent, canonicalName <br> ; <br> <br> <font color="#a626a4">CLASS</font> Product <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">50</font> ] (Product); <br> <br> group <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Group (Product); <br> canonicalNameGroup <font color="#50a14f">'  '</font> (Product p) = canonicalName(group(p)); <br> <br> <font color="#a626a4">FORM</font> products <font color="#50a14f">''</font> <br> <font color="#a626a4">TREE</font> groups g = Group <font color="#a626a4">PARENT</font> parent <br> <font color="#a626a4">PROPERTIES</font> <font color="#a626a4">READONLY</font> name(g) <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> products; <br> } <br> <br> newProduct <font color="#50a14f">''</font> (Group g) { <br> <font color="#a626a4">NEW</font> p = Product { <br> group(p) &lt;- g; <br> } <br> } <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">OBJECTS</font> p = Product <br> <font color="#a626a4">PROPERTIES</font> (p) name, canonicalNameGroup <br> <font color="#a626a4">FILTERS</font> level(group(p), g) <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">PROPERTIES</font> newProduct(g) <font color="#a626a4">DRAW</font> p <font color="#a626a4">TOOLBAR</font> , <font color="#a626a4">DELETE</font> (p) <br> ; <br> <br> <font color="#a626a4">DESIGN</font> products { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> type = <font color="#a626a4">SPLITH</font> ; <br> fill = <font color="#986801">1</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> ( <font color="#a626a4">TREE</font> groups); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (p); <br> } <br> } <br> } <br> <br> markup <font color="#50a14f">', %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (Group); <br> <br> parentMarkup <font color="#50a14f">' (  ), %'</font> (Group child) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">LAST</font> markup(Group parent) <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> level(child, parent) <font color="#a626a4">WHERE</font> markup(parent); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">PROPERTIES</font> (g) markup, parentMarkup <font color="#a626a4">READONLY</font> <br> ; <br> <br> dataMarkup <font color="#50a14f">'  , %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">2</font> ] (Product); <br> markup <font color="#50a14f">', %'</font> (Product p) = <font color="#a626a4">OVERRIDE</font> dataMarkup(p), parentMarkup(group(p)); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> products <br> <font color="#a626a4">PROPERTIES</font> (p) dataMarkup, markup <font color="#a626a4">READONLY</font> <br> ; <br></code> </td></tr></tbody></table></div></div></div><br>  O modelo descrito acima pode ser modificado e usado de v√°rias maneiras, adicionando par√¢metros adicionais √†s propriedades.  Por exemplo, em uma implementa√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema ERP, os</a> pr√™mios para grupos e mercadorias s√£o definidos dessa maneira n√£o globalmente, mas separadamente para cada tipo de pre√ßo.  Al√©m disso, a implementa√ß√£o em complexidade n√£o √© diferente do exemplo descrito acima. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468047/">https://habr.com/ru/post/pt468047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468031/index.html">Portamos um jogo multiplayer de C ++ para a web com Cheerp, WebRTC e Firebase</a></li>
<li><a href="../pt468035/index.html">Fa√ßa o download da impressora usando um controlador de jogo ou 8 patentes incomuns para dispositivos de entrada</a></li>
<li><a href="../pt468039/index.html">Moscow Kubernetes Meetup # 6 em Acronis (Fiztehpark) 03/03/2019</a></li>
<li><a href="../pt468041/index.html">An√∫ncio da interface da web do Kubernetes Web View (e uma breve vis√£o geral de outras UIs da web para o Kubernetes)</a></li>
<li><a href="../pt468043/index.html">Como criar um kit de interface do usu√°rio que est√° √† venda. Etapas do desenvolvimento de um sistema de design comercial</a></li>
<li><a href="../pt468049/index.html">Usando o werf para implementar gr√°ficos Helm complexos</a></li>
<li><a href="../pt468051/index.html">VDS com Windows Server licenciado por 100 rublos: mito ou realidade?</a></li>
<li><a href="../pt468053/index.html">Machine Learning para sua ca√ßa plana. Parte 1</a></li>
<li><a href="../pt468057/index.html">Desenvolvimento de sistema operacional Unix-like - Multitarefa e chamadas de sistema (7)</a></li>
<li><a href="../pt468059/index.html">Minha segunda semana com o Haiku: muitos diamantes escondidos e surpresas agrad√°veis, al√©m de alguns problemas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>