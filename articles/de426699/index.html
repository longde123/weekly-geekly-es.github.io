<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÖüèΩ üñêüèΩ üö∏ Python-Test mit Pytest. Einfach, schnell, effizient und skalierbar. Vorwort und Einf√ºhrung üå®Ô∏è üàπ ü§∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Weiter 


 Systematische Softwaretests, insbesondere in der Python-Community, werden h√§ufig entweder vollst√§ndig ignoriert oder auf besondere Weise du...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Python-Test mit Pytest. Einfach, schnell, effizient und skalierbar. Vorwort und Einf√ºhrung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426699/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Weiter</a> <img src="https://habrastorage.org/webt/rw/dy/-g/rwdy-grsvbpcetjttrmecdkxtlk.png"></p><br><p>  <em>Systematische Softwaretests, insbesondere in der Python-Community, werden h√§ufig entweder vollst√§ndig ignoriert oder auf besondere Weise durchgef√ºhrt.</em>  <em>Viele Python-Programmierer sind sich der Existenz von Pytest √ºberhaupt nicht bewusst.</em>  <em>Brian Ocken macht sich die M√ºhe zu beweisen, dass das Testen von Software mit pytest einfach, nat√ºrlich und sogar interessant ist.</em> <em><br></em> <br>  Dmitri Sinowjew <br>  Autor von Data Science Essentials in Python </p><br><p><img src="https://habrastorage.org/webt/hd/--/9w/hd--9w134j0rxhmxftrflbbdopy.png"></p><a name="habracut"></a><br><p>  Die Beispiele in diesem Buch wurden mit Python 3.6 und pytest 3.2 geschrieben.  pytest 3.2 unterst√ºtzt Python 2.6, 2.7 und Python 3.3+. </p><br><blockquote>  Der Quellcode f√ºr das Aufgabenprojekt sowie f√ºr alle in diesem Buch gezeigten Tests ist unter dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://pragprog.com/titles/bopytest/source_code">Link</a> auf der Webseite des Buches unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://pragprog.com/titles/bopytest">pragprog.com verf√ºgbar</a> .  Sie m√ºssen den Quellcode nicht herunterladen, um den Testcode zu verstehen.  Der Testcode wird in den Beispielen in einer praktischen Form dargestellt.  Um jedoch die Aufgaben des Projekts zu verfolgen oder Testbeispiele anzupassen, um Ihr eigenes Projekt zu testen (Ihre H√§nde sind losgebunden!), M√ºssen Sie auf die Webseite des Buches gehen und die Arbeit herunterladen.  Dort, auf der Webseite des Buches, gibt es einen Link f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://pragprog.com/titles/bopytest/errata">Errata-</a> Nachrichten und ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://forums.pragprog.com/forums/438">Diskussionsforum</a> . </blockquote><p>  Unter dem Spoiler befindet sich eine Liste der Artikel dieser Reihe. </p><br><div class="spoiler">  <b class="spoiler_title">Inhaltsverzeichnis</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Einf√ºhrung</strong></a> (Dieser Artikel) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 1: Erste Schritte mit Pytest</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 2: Schreiben von Testfunktionen</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 3: Pytest-Vorrichtungen</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 4: Eingebaute Vorrichtungen</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 5: Plugins</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 6: Konfiguration</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong>Kapitel 7: Verwenden von pytest mit anderen Tools</strong></a> </li></ul></div></div><br><h1 id="blagodarnosti">  Danksagung </h1><br><p>  Zuerst muss ich mich bei Michelle bedanken - meiner Frau und besten Freundin.  Schade, dass Sie den Raum, in dem ich schreibe, nicht sehen.  Anstelle eines Tisches habe ich einen antiken quadratischen Esstisch aus Eichenholz, auf dem gen√ºgend Platz f√ºr das Auslegen von Papier ist.  Ein wundersch√∂nes Glasregal mit meinen Retro-Weltraumspielzeugen, die wir im Laufe der Jahre gesammelt haben, sowie technischen B√ºchern, Leiterplatten und Jonglierb√§llen.  Antike Aluminiumboxen zur Aufbewahrung von Papier auf der Oberseite, gef√ºllt mit Notizen, Schn√ºren und sogar den restlichen Aufklebern f√ºr Raketen.  Eine Wand ist mit Samt bedeckt, den wir vor vielen Jahren gekauft haben, als der Stoffladen beschlossen hat, endg√ºltig zu schlie√üen.  Der Stoff sollte das Echo beruhigen, wenn ich Podcasts aufnehme. </p><br><p>  Ich schreibe hier nicht nur, weil es bequem und im Einklang mit meiner inneren Welt ist, sondern auch, weil es der Raum ist, den Michel mit mir und f√ºr mich geschaffen hat.  Sie und ich waren schon immer ein Team und sie hat meine verr√ºckten Ideen, einen Blog zu schreiben, einen oder zwei Podcasts zu starten und dieses Buch im letzten Jahr oder so zu schreiben, unglaublich unterst√ºtzt.  Sie sorgte daf√ºr, dass ich Zeit und Raum zum Schreiben hatte.  Wenn ich m√ºde werde und dar√ºber nachdenke, ob ich noch die Kraft zum Schreiben habe, bietet sie mir an, nur zwanzig Minuten weiterzumachen und zu beobachten, wie ich mich dann f√ºhlen werde. Sie tat dasselbe, als sie mir sp√§ter half College-N√§chte.  Ich h√§tte es wirklich nicht ohne sie tun k√∂nnen. </p><br><p>  Ich habe auch zwei √ºberraschend erstaunliche, neugierige und brillante T√∂chter, Gabriella und Sofia, die zwei meiner gr√∂√üten Fans sind.  Ella bietet allen, die √ºber Programmierung sprechen, an, meine Podcasts anzuh√∂ren, und Phia zeigte einen Aufkleber f√ºr den Testcode auf ihrem Rucksack, den sie in der zweiten Klasse mitnahm. </p><br><p>  Es gibt so viel mehr Menschen zu danken. </p><br><p>  Meine Herausgeberin, Katherine Dvorak, hat mir geholfen, eine Reihe von zuf√§lligen Ideen und Themen in einem zusammenh√§ngenden Verlauf zusammenzustellen. Dies ist der Grund, warum dies ein Buch ist, nicht eine Reihe von Blog-Posts, die zusammengehalten werden.  Ich bin als Blogger in dieses Projekt gegangen und habe mich zu sehr mit den vielen √úberschriften, Unter√ºberschriften und Listenelementen besch√§ftigt, und Katie hat mich geduldig angeleitet, damit ich eine bessere Schriftstellerin werden kann. </p><br><p>  Vielen Dank an Suzanne Davidson Palatinate, Andy Hunt und den Rest des Pragmatic Bookshelf, die mir eine Chance gegeben haben. </p><br><p>  Technische Gutachter haben mich im Pytest, aber auch im Python-Stil ehrlich gehalten und sind der Grund daf√ºr, dass die Codebeispiele PEP 8 folgen. Dank an Oliver Bestwalter, Florian Bruhin, Floris Bruinog, Mark Goody, Peter Hampton, Dave Hunt, Al Crinker und Lokesh Kumaru Makani, Bruno Oliveira, Ronnie Pfannschmidt, Rafael Pierzine, Luciano Ramallo, Frank Ruiz und Dmitry Zinoviev.  Viele dieser Listen sind auch Pytest-Kernel-Entwickler und / oder unterst√ºtzen unglaubliche Pytest-Plugins. </p><br><p>  Besonderer Dank geht an Luciano.  Nachdem ich dieses Buch geschrieben hatte, schickte ich die ersten vier Kapitel an mehrere Rezensenten.  Luciano war einer von ihnen, und seine Rezension war am schwierigsten zu lesen.  Ich glaube nicht, dass ich all seinen Ratschl√§gen gefolgt bin, aber aufgrund seiner Bemerkungen habe ich die meisten der ersten drei Kapitel √ºberarbeitet und neu geschrieben und im Rest des Buches etwas ge√§ndert. </p><br><p>  Vielen Dank an das gesamte pytest-dev-Team f√ºr die Erstellung eines so coolen Testwerkzeugs.  Vielen Dank an Oliver Bestwalter, Florian Bruhin, Floris Bruinoohe, Dave Hunt, Holger Kreckel, Bruno Oliveira, Ronnie Pfannschmidt, Rafael Pierzine und viele andere f√ºr die Beantwortung meiner Fragen √ºber das Leben im Laufe der Jahre. </p><br><p>  Und zu guter Letzt muss ich mich bei den Leuten bedanken, die sich bei mir bedankt haben.  Sie nutzten die Gelegenheit, um mich per E-Mail dar√ºber zu informieren, dass meine Arbeit ihre Zeit sparte und die Arbeit erleichterte.  Das ist cool und macht mich gl√ºcklich!  Vielen Dank! </p><br><p>  <strong>Brian okken</strong> </p><br><p>  <em>September 2017</em> </p><br><h1 id="predislovie">  Vorwort </h1><br><p>  Der Einsatz von Python nimmt nicht nur in der Softwareentwicklung zu, sondern auch in Bereichen wie Datenanalyse, Forschung, Test und Messung sowie in anderen Branchen.  Die Entwicklung von Python in vielen kritischen Bereichen geht auch mit dem Wunsch einher, Softwaretests korrekt, effizient und effektiv durchzuf√ºhren, um sicherzustellen, dass die Programme korrekt funktionieren und die richtigen Ergebnisse liefern.  Dar√ºber hinaus umfassen immer mehr Softwareprojekte die kontinuierliche Integration und umfassen eine automatisierte Testphase, da die Release-Zyklen verk√ºrzt werden und ein sorgf√§ltiges manuelles Testen immer komplexerer Projekte einfach nicht m√∂glich ist.  Teams sollten in der Lage sein, den von den Continuous Integration Servern durchgef√ºhrten Tests zu vertrauen, die ihnen mitteilen, ob sie ihrer Software genug vertrauen k√∂nnen, um sie freizugeben. </p><br><p>  Geben Sie pytest ein. </p><br><h2 id="chto-takoe-pytest">  Was ist Pytest? </h2><br><p>  Als zuverl√§ssiges Python-Testwerkzeug kann pytest f√ºr alle Arten und Ebenen von Softwaretests verwendet werden.  pytest kann von Entwicklungsteams, QS-Teams, unabh√§ngigen Testgruppen, Personen, die TDD praktizieren, und Open Source-Projekten verwendet werden.  Tats√§chlich haben Projekte im Internet von <em>Unittest</em> oder <em>Nose</em> zu <em>Pytest gewechselt</em> , einschlie√ülich Mozilla und Dropbox.  Warum?  Denn pytest bietet leistungsstarke Funktionen wie das Umschreiben von "assert", Plug-in-Modelle von Drittanbietern und ein leistungsstarkes, aber einfaches Fixture-Modell, das in keinem anderen Testframework zu finden ist. </p><br><p>  pytest ist eine Software-Testplattform, was bedeutet, dass pytest ein Befehlszeilenprogramm ist.  Ein Tool, das automatisch schriftliche Tests findet, Tests ausf√ºhrt und Berichte mit dem Ergebnis schreibt.  Es verf√ºgt √ºber eine Bibliothek mit Lotionen, die Sie in Tests verwenden k√∂nnen, um effizienter zu testen.  Es kann erweitert werden, indem Sie Ihre eigenen Plugins schreiben oder solche von Drittanbietern installieren.  Es kann zum Testen von Python-Distributionen verwendet werden.  Und es l√§sst sich nahtlos in andere Tools wie die kontinuierliche Integration und die Webautomatisierung integrieren. </p><br><p>  Hier sind einige Gr√ºnde, warum sich pytest von vielen anderen integrierten Systemtests abhebt: </p><br><ul><li>  Einfache Tests sind im Pytest einfach zu schreiben. </li><li>  Komplexe Tests sind noch einfacher zu schreiben. </li><li>  Tests sind leicht zu lesen. </li><li>  Tests sind leicht zu lesen.  (Es ist so wichtig, dass dies zweimal angezeigt wird.) </li><li>  Sie k√∂nnen in Sekundenschnelle loslegen. </li><li> <code>assert</code> verwendet, um den Test nicht zu <code>self.assertEqual()</code> , nicht <code>self.assertEqual()</code> oder <code>self.assertLessThan()</code> .  Einfach <strong>behaupten</strong> ! </li><li>  Sie k√∂nnen pytest verwenden, um Tests durchzuf√ºhren, die f√ºr unittest oder Nase geschrieben wurden. </li></ul><br><p>  <strong>pytest wird</strong> von einer leidenschaftlichen und wachsenden Community aktiv entwickelt und unterst√ºtzt.  Es ist so erweiterbar und flexibel, dass es problemlos in Ihren Workflow passt.  Und da es separat von Ihrer Python-Version installiert wird, k√∂nnen Sie dieselbe neueste Version von pytest f√ºr Python 2 (2.6 und h√∂her) und Python 3 (3.3 und h√∂her) verwenden. </p><br><h1 id="izuchenie-pytest-pri-testirovanii-primera-prilozheniya">  Pytest lernen beim Testen einer Beispielanwendung </h1><br><p>  M√∂chten Sie Pytest lernen, indem Sie alberne Beispiele testen, die Sie im wirklichen Leben nie sehen werden?  Ich auch.  Wir werden dies in diesem Buch nicht tun.  Stattdessen werden wir Tests f√ºr ein Projekt schreiben, das hoffentlich viel mit den Anwendungen gemeinsam hat, die Sie nach dem Lesen dieses Buches testen werden. </p><br><h2 id="proekt-tasks">  Aufgaben Projekt </h2><br><p>  Die Anwendung, die wir uns ansehen werden, hei√üt Aufgaben.  Tasks ist eine Anwendung zur minimalen Aufgabenverfolgung mit einer Befehlszeilenschnittstelle.  Es hat genug mit vielen anderen Arten von Anwendungen gemeinsam. Ich hoffe, Sie k√∂nnen leicht erkennen, wie die Testkonzepte, die Sie bei der Entwicklung von Tests gegen Probleme lernen, jetzt und in Zukunft auf Ihre Projekte anwendbar sind. </p><br><p>  Obwohl Tasks √ºber eine Befehlszeilenschnittstelle (Command Line Interface, CLI) verf√ºgt, interagiert die CLI √ºber eine Anwendungsprogrammierschnittstelle (API) mit dem Rest des Codes.  Eine API ist die Schnittstelle, an die wir die meisten unserer Tests richten werden.  Die API interagiert mit der Datenbankverwaltungsschicht, die mit der Dokumentdatenbank - <em>MongoDB</em> oder <em>TinyDB</em> - <em>interagiert</em> .  Der Datenbanktyp wird bei der Initialisierung der Datenbank konfiguriert.  Bevor wir uns auf die API konzentrieren, schauen wir uns die Aufgaben selbst an, ein Befehlszeilentool, das eine Benutzeroberfl√§che f√ºr Aufgaben bietet. </p><br><p>  Hier ist eine Beispielsitzung: </p><br><pre> <code class="plaintext hljs">$ tasks add 'do something' --owner Brian $ tasks add 'do something else' $ tasks list ID owner done summary -- ----- ---- ------- 1 Brian False do something 2 False do something else $ tasks update 2 --owner Brian $ tasks list ID owner done summary -- ----- ---- ------- 1 Brian False do something 2 Brian False do something else $ tasks update 1 --done True $ tasks list ID owner done summary -- ----- ---- ------- 1 Brian True do something 2 Brian False do something else $ tasks delete 1 $ tasks list ID owner done summary -- ----- ---- ------- 2 Brian False do something else $</code> </pre> <br><blockquote>  <strong><em>Hinweis f√ºr den √úbersetzer:</em></strong> Bei Verwendung der Windows-Plattform sind beim Testen dieser Sitzung mehrere Probleme aufgetreten. <br><ol><li>  F√ºr die TinyDB-Datenbank <strong><code>tasks_db</code></strong> im Ordner Ihres Benutzers ein Ordner mit dem Namen <strong><code>tasks_db</code></strong> .  Zum Beispiel <code>c:\Users\User_1\tasks_db\</code> </li><li>  Verwenden Sie Anf√ºhrungszeichen anstelle von Apostrophen.  Andernfalls erhalten wir einen solchen Fehler. <br><br>  $ Aufgaben hinzuf√ºgen 'etwas anderes tun' <br>  Verwendung: Aufgaben f√ºgen [OPTIONEN] ZUSAMMENFASSUNG hinzu <br><br>  Fehler: Unerwartete zus√§tzliche Argumente (etwas anderes ') <br></li></ol><br></blockquote><p>  Dies ist nicht die schwierigste Task-Management-Anwendung, aber komplex genug, um Tests zu untersuchen. </p><br><h2 id="strategiya-testirovaniya">  Teststrategie </h2><br><p>  Obwohl pytest f√ºr Unit-Tests, Integrationstests, Systemtests oder End-to-End-Tests und Funktionstests geeignet ist, konzentriert sich die Teststrategie des Tasks-Projekts haupts√§chlich auf subkutane Funktionstests.  Im Folgenden sind einige n√ºtzliche Definitionen aufgef√ºhrt: </p><br><ul><li>  <em>Komponententest</em> : Ein Test, bei dem ein kleiner Code wie eine Funktion oder Klasse isoliert vom Rest des Systems getestet wird.  Ich √ºberpr√ºfe die Tests in Kapitel 1, Erste Schritte mit pytest, auf Seite 1, um Komponententests durchzuf√ºhren. Die Datenstruktur von Aufgaben. </li><li>  <em>Integrationstests</em> : Ein Test, der einen gr√∂√üeren Code testet, kann mehrere Klassen oder Subsysteme umfassen.  Meistens ist das f√ºr einige Tests verwendete Etikett gr√∂√üer als ein Komponententest, aber kleiner als ein Systemtest. </li><li>  <strong>Systemtest</strong> <em>(Ende-zu-Ende)</em> : Ein Test, der das gesamte zu testende System in einer Umgebung testet, die der Endbenutzerumgebung so nahe wie m√∂glich kommt. </li><li>  <em>Funktionstest</em> : Ein Test, der einen Teil der Systemfunktionalit√§t testet.  Ein Test, der testet, wie gut wir ein Aufgabenelement in Aufgaben hinzuf√ºgen, entfernen oder aktualisieren, ist ein Funktionstest. </li><li>  <strong>Subkutaner Test</strong> : Ein Test, der nicht f√ºr die Endbenutzeroberfl√§che ausgef√ºhrt wird, sondern f√ºr eine Schnittstelle direkt unter der Oberfl√§che.  Da die meisten Tests in diesem Buch auf API-Ebene und nicht auf CLI-Ebene getestet werden, gelten sie als subkutane Tests. </li></ul><br><h2 id="kak-organizovana-eta-kniga">  Wie ist dieses Buch organisiert? </h2><br><p>  In Kapitel 1, ‚ÄûErste Schritte mit pytest‚Äú auf Seite 1, installieren Sie pytest und machen sich bereit, es zu verwenden.  Anschlie√üend nehmen Sie einen Teil des Aufgabenprojekts - eine Datenstruktur, die eine einzelne Aufgabe darstellt (benanntes Tupel namens Aufgabe), und verwenden sie zum Testen von Beispielen.  Sie lernen, wie Sie pytest mit mehreren Testdateien ausf√ºhren.  Sie werden viele beliebte und √§u√üerst n√ºtzliche Befehlszeilenoptionen f√ºr pytest sehen, z. B. die M√∂glichkeit, Testfehler neu zu starten, die Ausf√ºhrung nach dem ersten Fehler zu stoppen, die Stapelverfolgung und die mehrseitige Version des Testlaufs zu steuern und vieles mehr. </p><br><p>  In Kapitel 2, ‚ÄûErstellen von Testfunktionen‚Äú, auf Seite 23, installieren Sie Aufgaben lokal mit pip und erfahren, wie Sie Tests in einem Python-Projekt strukturieren.  Sie m√ºssen dies tun, um Tests f√ºr eine echte Anwendung zu schreiben.  In allen Beispielen in diesem Kapitel werden Tests f√ºr die installierte Anwendung ausgef√ºhrt, einschlie√ülich des Schreibens in die Datenbank.  Die tats√§chlichen Testfunktionen stehen im Mittelpunkt dieses Kapitels, und Sie lernen, wie Sie <code>assert</code> in Tests effektiv einsetzen.  Sie lernen auch √ºber Marker.  Eine Funktion, mit der Sie viele Tests markieren k√∂nnen, die gleichzeitig ausgef√ºhrt werden, √ºbersprungene Tests markieren oder pytest mitteilen, dass wir bereits wissen, dass einige Tests fehlschlagen werden.  Ich werde dar√ºber sprechen, wie nur einige Tests ausgef√ºhrt werden, nicht nur mit Markern, sondern auch indem unser Testcode in Verzeichnisse, Module und Klassen strukturiert wird und wie diese Teilmengen von Tests ausgef√ºhrt werden. </p><br><p>  Nicht alle Testcodes sind in den Testfunktionen enthalten.  In Kapitel 3, ‚ÄûPytest Fixtures‚Äú, auf Seite 49, erfahren Sie, wie Sie Testdaten in Test Fixtures einf√ºgen sowie Code konfigurieren und unterbrechen.  Das Festlegen des Status eines Systems (oder eines Subsystems oder einer einzelnen Einheit) ist ein wichtiger Bestandteil des Softwaretests.  Sie lernen diesen Aspekt von Pytest-Vorrichtungen kennen, um die Aufgabenprojektdatenbank zu initialisieren und Testdaten f√ºr einige Tests vorab auszuf√ºllen.  Fixtures sind ein unglaublich leistungsf√§higer Bestandteil von pytest, und Sie werden lernen, wie Sie sie effektiv einsetzen k√∂nnen, um die Duplizierung von Testcode weiter zu reduzieren und Ihren Testcode unglaublich lesbar und wartbar zu machen.  Pytest-Fixtures sind ebenfalls parametrierbar, √§hnlich wie Testfunktionen. Mit dieser Funktion k√∂nnen Sie alle Ihre Tests sowohl mit TinyDB als auch mit MongoDB ausf√ºhren, den von Tasks unterst√ºtzten Datenbankserverteilen. </p><br><p>  In Kapitel 4, ‚ÄûEingebaute Vorrichtungen‚Äú, auf Seite 71, sehen Sie einige der von pytest gelieferten eingebauten Vorrichtungen.  Sie erfahren, wie in pytest integrierte Ger√§te tempor√§re Verzeichnisse und Dateien f√ºr Sie verfolgen, die Ausgabe des Testcodes √ºberpr√ºfen, Affen-Patches verwenden, nach Warnungen suchen und vieles mehr. </p><br><p>  In Kapitel 5, ‚ÄûPlugins‚Äú, auf Seite 95 erfahren Sie, wie Sie Pytest Befehlszeilenoptionen hinzuf√ºgen, die Ausgabe von Pytest √§ndern und Pytest-Einstellungen, einschlie√ülich Fixtures, durch Schreiben, Verpacken und Verteilen f√ºr andere Benutzer freigeben ( eigene Plugins verteilen.  Das Plugin, das wir in diesem Kapitel entwickeln, wird verwendet, um die Testfehler zu erstellen, die beim Testen von Aufgaben auftreten.  Sie erfahren auch, wie Sie Test-Plugins richtig testen.  Was f√ºr ein Meta?  Und f√ºr den Fall, dass Sie von diesem Kapitel nicht genug inspiriert sind, um Ihre eigenen Plugins zu schreiben, habe ich eine Reihe gro√üartiger Plugins ausgew√§hlt, um zu zeigen, was in Anhang 3, ‚ÄûPlugin Sampler Pack‚Äú, auf Seite 163 m√∂glich ist. </p><br><p>  Apropos Anpassung: In Kapitel 6, ‚ÄûKonfiguration‚Äú, auf Seite 113 erfahren Sie, wie Sie den Standard-Pytest-Start f√ºr Ihr Projekt mithilfe von Konfigurationsdateien konfigurieren.  Mit der Datei " <em>pytest.ini</em> " k√∂nnen Sie beispielsweise Befehlszeilenparameter speichern, damit Sie diese nicht st√§ndig eingeben m√ºssen. Weisen Sie pytest an, nicht in bestimmten Verzeichnissen nach Testdateien zu suchen, und geben Sie die Mindestversion von pytest an, die Sie verwenden Tests und mehr.  Diese Konfigurationselemente k√∂nnen in <em>tox.ini</em> oder <em>setup.cfg abgelegt werden</em> . </p><br><p>  Im letzten Kapitel, Kapitel 7, unter Verwendung von pytest mit anderen Tools, auf Seite 125, erfahren Sie, wie Sie den bereits leistungsstarken pytest verwenden und Ihre Tests mit zus√§tzlichen Tools √ºberladen k√∂nnen.  Sie werden das Aufgabenprojekt auf mehreren Versionen von Python mit tox ausf√ºhren.  Sie werden CLI-Aufgaben testen, ohne den Rest des Systems mit mock auszuf√ºhren.  Mit Coverage.py pr√ºfen Sie, ob der Quellcode des Task-Projekts getestet wird.  Sie werden Jenkins verwenden, um Testsuiten auszuf√ºhren und Ergebnisse im Laufe der Zeit anzuzeigen.  Und schlie√ülich werden Sie sehen, wie pytest verwendet werden kann, um unittest-Tests durchzuf√ºhren und um pytest-artige Fixtures mit unittest-basierten Tests auszutauschen. </p><br><h2 id="chto-vam-nuzhno-znat">  Was Sie wissen m√ºssen </h2><br><p>  <strong>Python</strong> </p><br><p>  Sie m√ºssen kein Python-Guru sein.  Beispiele machen nichts √úbernat√ºrliches oder Bizarres. </p><br><p>  <strong>pip</strong> </p><br><p>  Sie m√ºssen pip verwenden, um die pytest-Plugins und pytest selbst zu installieren.  Wenn Sie pip aktualisieren m√∂chten, lesen Sie Anhang 2, pip, auf Seite 175. </p><br><h2 id="komandnaya-stroka">  Befehlszeile </h2><br><p>  Ich habe dieses Buch geschrieben und Beispiele f√ºr die Ausgabe mit Bash auf einem Mac-Laptop aufgenommen.  Die einzigen Befehle, die ich in bash verwende, sind cd, um in ein bestimmtes Verzeichnis zu gehen und nat√ºrlich pytest.  Da cd in Windows cmd.exe und in allen mir bekannten Unix-Shells vorhanden ist, sollten alle Beispiele verf√ºgbar sein, um in jeder Terminalanwendung ausgef√ºhrt zu werden, f√ºr die Sie sich entscheiden. </p><br><p>  Das ist alles.  Sie m√ºssen kein Programmierexperte sein, um automatisierte Tests mit pytest zu schreiben. </p><br><h2 id="primery-koda-i-internet-resursy">  Codebeispiele und Internetressourcen </h2><br><p>  Die Beispiele in diesem Buch wurden mit Python 3.6 und pytest 3.2 geschrieben.  pytest 3.2 unterst√ºtzt Python 2.6, 2.7 und Python 3.3+. </p><br><p>  Der Quellcode f√ºr das Aufgabenprojekt sowie f√ºr alle in diesem Buch gezeigten Tests ist unter dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://pragprog.com/titles/bopytest/source_code">Link</a> auf der Webseite des Buches unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://pragprog.com/titles/bopytest">pragprog.com verf√ºgbar</a> .  Sie m√ºssen den Quellcode nicht herunterladen, um den Testcode zu verstehen.  Der Testcode wird in den Beispielen in einer praktischen Form dargestellt.  Um jedoch die Aufgaben des Projekts zu verfolgen oder Testbeispiele anzupassen, um Ihr eigenes Projekt zu testen (Ihre H√§nde sind losgebunden!), M√ºssen Sie auf die Webseite des Buches gehen, um die Arbeit herunterzuladen.  Dort, auf der Webseite des Buches, befindet sich ein Link zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://pragprog.com/titles/bopytest/errata">Errata-</a> Post und zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="https://forums.pragprog.com/forums/438">Diskussionsforum</a> . </p><br><p>  Ich programmiere seit √ºber f√ºnfundzwanzig Jahren und nichts hat mich dazu gebracht, so viel Testcode zu schreiben wie Pytest.  Ich hoffe, dass Sie viel aus diesem Buch lernen, und ich hoffe, dass Sie am Ende den Testcode genauso lieben werden wie ich. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Weiter</a> <img src="https://habrastorage.org/webt/rw/dy/-g/rwdy-grsvbpcetjttrmecdkxtlk.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426699/">https://habr.com/ru/post/de426699/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426689/index.html">Wir sind f√ºr den Markt eines anderen verantwortlich: Was soziale Netzwerke √ºber CRM sagen</a></li>
<li><a href="../de426691/index.html">Programmierer im Krankenstand</a></li>
<li><a href="../de426693/index.html">Serviceroboternavigation auf einem Golfplatz. Einen Weg bauen und Hindernissen ausweichen</a></li>
<li><a href="../de426695/index.html">Bildverarbeitungskameras f√ºr Enthusiasten. Wie verwende ich die Kamera f√ºr die Offline-Navigation?</a></li>
<li><a href="../de426697/index.html">Arbeiten mit LibUsb-Ger√§ten unter Android</a></li>
<li><a href="../de426701/index.html">Flattern - ein neuer Blick auf die plattform√ºbergreifende Entwicklung</a></li>
<li><a href="../de426703/index.html">Was war am DataVizDay in Minsk interessant?</a></li>
<li><a href="../de426705/index.html">Entwicklung und Testen intelligenter Vertr√§ge f√ºr Hyperledger Fabric</a></li>
<li><a href="../de426707/index.html">Genehmigungssystem. Wie wir das Fahrrad erfunden haben</a></li>
<li><a href="../de426709/index.html">JavaScript-Timer: alles was Sie wissen m√ºssen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>