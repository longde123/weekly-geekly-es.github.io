<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๏ธ ๐ฐ๐ผ ๐ ุชูููุฏ ุงูุดูุฑุฉ ูู OpenAPI v3 (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู Swagger 3) ุฅูู TypeScript ูููุณ ููุท ๐ฉ๐ผโ๐ค ๐๐ฟ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุจู ุนุงููู ุ ุจุฏุฃุช ุงูุชูููุฉ  ุฃูุซุฑ ูุงุญุฏ  ููุดุฆ ุฑูุฒ ูุฌุงูู ูู ููุงุตูุงุช OpenAPI v3 ุฅูู TypeScript ( ูุชููุฑ ุนูู Github ). ูู ุงูุจุฏุงูุฉ ุ ุดุฑุนุช ูู ุฅูุดุงุก ุชูููุฏ ูุนุงู ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชูููุฏ ุงูุดูุฑุฉ ูู OpenAPI v3 (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู Swagger 3) ุฅูู TypeScript ูููุณ ููุท</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483628/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุจู ุนุงููู ุ ุจุฏุฃุช ุงูุชูููุฉ <del>  ุฃูุซุฑ ูุงุญุฏ </del>  ููุดุฆ ุฑูุฒ ูุฌุงูู ูู <a href="https://swagger.io/docs/specification/about/">ููุงุตูุงุช OpenAPI</a> v3 ุฅูู TypeScript ( <a href="https://github.com/koshevy/codegena">ูุชููุฑ ุนูู Github</a> ).  ูู ุงูุจุฏุงูุฉ ุ ุดุฑุนุช ูู ุฅูุดุงุก ุชูููุฏ ูุนุงู ูุฃููุงุน ุงูุจูุงูุงุช ุงูุจุฏุงุฆูุฉ ูุงููุนูุฏุฉ ูู TypeScript ุ ูุน ูุฑุงุนุงุฉ ููุฒุงุช <a href="https://json-schema.org/">ูุฎุทุท JSON</a> ุงููุฎุชููุฉ ุ ูุซู <a href="https://json-schema.org/understanding-json-schema/reference/combining.html">oneOf / anyOf / allOf</a> ุ ุฅูุฎ.  ( <a href="https://github.com/swagger-api/swagger-codegen">ุญู</a> Swagger <a href="https://github.com/swagger-api/swagger-codegen">ุงูุฃุตูู</a> ูุงู ูุฏูู ุจุนุถ ุงููุดุงูู ูู ูุฐุง).  ูุงูุช ููุงู ููุฑุฉ ุฃุฎุฑู ุชุชูุซู ูู ุงุณุชุฎุฏุงู ุงููุฎุทุทุงุช ูู ุงูููุงุตูุงุช ููุชุญูู ูู ุงูุตุญุฉ ุนูู ุงูุฌุฒุก ุงูุฃูุงูู ูุงูุฎููู ูุฃุฌุฒุงุก ุฃุฎุฑู ูู ุงููุธุงู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hz/cd/u4/hzcdu47rcjbutgqbe6pdb2k46x8.png"></p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฃุตุจุญ ูููุฏ ุงูุดูุฑุงุช ุฌุงูุฒูุง ูุณุจููุง - ุฅูู ูู ูุฑุญูุฉ <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B8%25D0%25BD%25D0%25B8%25D0%25BC%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE_%25D0%25B6%25D0%25B8%25D0%25B7%25D0%25BD%25D0%25B5%25D1%2581%25D0%25BF%25D0%25BE%25D1%2581%25D0%25BE%25D0%25B1%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582">MVP</a> .  ูุญุชูู ุนูู ุงููุซูุฑ ููุง ูู ูุทููุจ ูู ุญูุซ ุฅูุดุงุก ุฃููุงุน ุงูุจูุงูุงุช ุ ุจุงูุฅุถุงูุฉ ุฅูู ููุชุจุฉ ุชุฌุฑูุจูุฉ ูุชูููุฏ ุฎุฏูุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (ุญุชู ุงูุขู ููุฒุงููุฉ).  ูู ูุฐู ุงูููุงูุฉ ุ ุฃุฑุบุจ ูู ุนุฑุถ ุงูุชุทูุฑุงุช ูุฃููู ููู ูููููู ุงููุณุงุนุฏุฉ ุฅุฐุง ููุช ุชุณุชุฎุฏู TypeScript ู OpenAPI v3.  ุนูู ุทูู ุงูุทุฑูู ุ ุฃูุฏ ุฃู ุฃุดุงุฑู ุจุนุถ ุงูุฃููุงุฑ ูุงูุงุนุชุจุงุฑุงุช ุงูุชู ูุดุฃุช ูู ุนูููุฉ ุนููู.  ุญุณููุง ุ ุฅุฐุง ููุช ููุชููุง ุ ููููู ูุฑุงุกุฉ ุงููุตุฉ ุงูุฎูููุฉ ุงูุชู ุงุฎุชุจุฃุชูุง ูู ุงูููุณุฏ ุญุชู ูุง ุชุนูุฏ ูุฑุงุกุฉ ุงูุฌุฒุก ุงูููู. </p><br><h2 id="soderzhanie" style=";text-align:right;direction:rtl">  ูุญุชูู </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ูุจู ุงูุชุงุฑูุฎ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ูุตู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุงูุชุซุจูุช ูุงูุงุณุชุฎุฏุงู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ููุงุฑุณุฉ ุจุงุณุชุฎุฏุงู ูููุฏ ุฑูุฒ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุจุงุณุชุฎุฏุงู ุฃููุงุน ุงูุจูุงูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงูุชุทุจููุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุชุญูู ุงูุฏูุงุฆุฑ ุฏุงุฎู ููุงุตูุงุช OAS</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุงูุชุญูู ุงููุชุฏุงุฎู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุฎุฏูุงุช ุชู ุฅูุดุงุคูุง ุชููุงุฆููุง ููุนูู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST</a> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ููุงุฐุง ูุฐุง ูุทููุจุ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุชูููุฏ ุงูุฎุฏูุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุจุงุณุชุฎุฏุงู ุงูุฎุฏูุงุช ุงููููุฏุฉ</a> </li></ol></li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483628/">ุจุฏูุง ูู ุงููููุฉ ุงูุฃุฎูุฑุฉ</a> </li></ol><br><a name="Foreword"></a><br><h2 id="predystoriya" style=";text-align:right;direction:rtl">  ูุจู ุงูุชุงุฑูุฎ </h2><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูุณูุน ููุฑุงุกุฉ (ุชุฎุทู)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุจุฏุฃ ูู ุดูุก ููุฐ ุนุงููู - ุซู ุนููุช ูู ุดุฑูุฉ ุชููู ุจุชุทููุฑ ููุตุฉ ุชุนุฏูู ุงูุจูุงูุงุช ูููุช ูุณุคููุงู ุนู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (ุจุดูู ุฃุณุงุณู TypeScript + Angular).  ูุงูุช ููุฒุงุช ุงููุดุฑูุน ููุงูู ุจูุงูุงุช ูุนูุฏุฉ ุชุญุชูู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงููุนููุงุช (30 ุฃู ุฃูุซุฑ) ูููุณ ุฏุงุฆููุง ุนูุงูุงุช ุนูู ูุงุถุญุฉ ุจูููุง.  ูุงูุช ุงูุดุฑูุฉ ุชููู ุ ูุจูุฆุฉ ุงูุจุฑูุฌูุงุช ูุงูุช ุชูุฑ ุจุชุบูุฑุงุช ูุชูุฑุฑุฉ ููุบุงูุฉ.  ูุฌุจ ุฃู ุชููู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุนูู ุฏุฑุงูุฉ ุจุงููุฑูู ุงูุฏูููุฉ ุ ูุฃู ุจุนุถ ุงูุญุณุงุจุงุช ูุฏ ุชู ุชูุฑุงุฑูุง ูู ุงูููุฏูุฉ ููู ุงููุงุฌูุฉ ุงูุฎูููุฉ.  ููุฐุง ูู ุ ูุงู ูุฐุง ูู ุงูุญุงู ุนูุฏ ุงุณุชุฎุฏุงู OpenAPI ุฃูุซุฑ ูู ุงูููุงุณุจ.  ููุฏ ูุฌุฏุช ูุชุฑุฉ ูู ุงูุดุฑูุฉ ุนูุฏูุง ุญุตู ูุฑูู ุงูุชุทููุฑ ูู ุบุถูู ุฃุดูุฑ ุนูู ููุงุตูุงุช ูุงุญุฏุฉ ุ ูุงูุชู ุฃุตุจุญุช ูุงุนุฏุฉ ูุนุฑูุฉ ูุดุชุฑูุฉ ููุฌุฒุก ุงูุฃูุงูู ูุงูุฎููู ูุญุชู ูุณู Core ุ ูุงูุชู ูุงูุช ูุฎุจุฃุฉ ุฎูู ุงูุฎูููุฉ ุงููุงุณุนุฉ ููููุจ.  ุชู ุงุฎุชูุงุฑ ุฅุตุฏุงุฑ OpenAPI "ููููู" - ุซู ูุง ูุฒุงู ุดุงุจูุง ุงูุฅุตุฏุงุฑ 3.0 </p><br><p style=";text-align:right;direction:rtl">  ูู ุชุนุฏ ูุฐู ููุงุตูุงุช ูู ููู YML / JSON ุซุงุจุช ูุงุญุฏ ุฃู ุฃูุซุฑ ุ ูููุณุช ูุงุชุฌุฉ ุนู <a href="https://github.com/zircote/swagger-php">ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ</a> ุ ูููู ููุชุจุฉ ูุงููุฉ ูู ุงูููููุงุช ูุงูุทุฑู ูุงูููุงูุจ ูุงูุฎุตุงุฆุต ุ ุชู ุชูุธูููุง ููููุง ูููููู DDD ุงูุฎุงุต ุจุงูููุตุฉ.  ุชู ุชูุณูู ุงูููุชุจุฉ ุฅูู ุฃุฏูุฉ ููููุงุช ุ ูุฃูุชุฌ ุฌุงูุน ูุฑุชุจ ุฎุตูุตูุง ูุณุชูุฏุงุช OAS ููู ูุฌุงู ููุถูุน.  ุชู ุฅูุดุงุก ุทุฑููุฉ ุชุฌุฑูุจูุฉ ูุชุฏูู ุงูุนูู ุ ูุงูุชู ูููู ูุตููุง ุจุงูุชุตููู ุฃููุงู. </p><br><blockquote style=";text-align:right;direction:rtl">  ุชูุฌุฏ <a href="https://habr.com/ru/company/yamoney/blog/347390/">ููุงูุฉ ุฌูุฏุฉ</a> ูู ูุฏููุฉ ุดุฑูุฉ Yandex.Money ุ ูุงูุชู ุชุญุฏุซุช ุนู Design First </blockquote><p style=";text-align:right;direction:rtl">  ุณุงุนุฏ ุงูุชุตููู ุงูุฃูู ูุงูููุงุตูุงุช ุงูุนุงูุฉ ูู ุฅูุบุงุก ุฅุจุทุงู ุงููุนุฑูุฉ ุ ูููู ุฃุตุจุญุช ููุงู ูุดููุฉ ุฌุฏูุฏุฉ - ุงูุญูุงุธ ุนูู ุฃูููุฉ ุงูุฑูุฒ.  ูุตู ุงูููุงุตูุงุช ุนุฏุฉ ุนุดุฑุงุช ูู ุงูุฃุณุงููุจ ูุนุดุฑุงุช (ูุงููุฆุงุช ุงููุงุญูุฉ) ูู ุงูููุงูุงุช.  ููู ูุงู ูุฌุจ ูุชุงุจุฉ ุงูุฑูุฒ ูุฏูููุง: ุฃููุงุน ุงูุจูุงูุงุช ุ ูุงูุฎุฏูุงุช ููุนูู ูุน REST ุ ุฅูุฎ.  ูุงุญุฏ ุฃู ุงุซููู ูู ุณุจุงูุงุช ุงูุณุฑุนุฉ ูุน ูุตุต ูุชูุงุฒูุฉ ุบูุฑุช ุงูุตูุฑุฉ ุฅูู ุญุฏ ูุจูุฑ.  ุฅุถุงูุฉ ุงูุชุนููุฏ ุฅูู ุฏูุฌ ุงูุนุฏูุฏ ูู ุงููุตุต ูุงูุนุงูู ุงูุจุดุฑู.  ูุฏุฏ ุงูุฑูุชูู ุฃู ูููู ุฐุง ุฃูููุฉ ูุจูุฑุฉ ุ ููุจุฏู ุฃู ุงูุญู ูุงุถุญ - ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุฑูุฒ.  ุจุนุฏ ูู ุดูุก ุ ุชุญุชูู ููุงุตูุงุช OAS ุจุงููุนู ุนูู ูู ูุง ูู ุถุฑูุฑู ุญุชู ูุง ุชุชู ุฅุนุงุฏุฉ ูุชุงุจุชูุง ูุฏูููุง.  ููููุง ูู ุชูู ุจูุฐู ุงูุจุณุงุทุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูู ููุงูุฉ ุฏูุฑุฉ ุงูุฅูุชุงุฌ ุ ูุฐูู ุดุนุฑุช ุจุชุบููุฑุงุช ูุคููุฉ ุฃูุซุฑ ูู ุฒููุงุฆู ูู ุงูุฃูุณุงู ุงูุฃุฎุฑู.  ุนูุฏ ุชุตููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST ุ ูุงูุช ุจูุฆุฉ ุงููุงุฌูุฉ ุงูุฎูููุฉ ุญุงุตูุฉ ุ ูุญุชู ุจุนุฏ ููุงููุฉ "ุงูุชุตููู ุฃููุงู" ุ ุธูุช ุงููุตูุฑ ุงูุฐุงุชู ุ  ุจุงููุณุจุฉ ูููุงุฌูุฉ ุงูุฃูุงููุฉ ุ ุจุฏุง ูู ุดูุก ุฃูู ูุถูุญูุง.  ูู ุงููุงูุน ุ ููุฏ ูููุช ูุฐุง ูู ุงูุจุฏุงูุฉ ุ ูุจุฏุฃุช ูู ุงุณุชูุดุงู ุงูุชุฑุจุฉ ููุฏููุง - ุนูุฏูุง ุจุฏุฃ ุงูุญุฏูุซ ุนู ููุงุตูุงุช "ุนุงูููุฉ".  ูู ููู ููุงู ุญุฏูุซ ุนู ูุชุงุจุฉ ูููุฏ ุงูุดูุฑุฉ ุงูุฎุงุต ุจู ุ  ุฃุฑุฏุช ููุท ุฃู ุฃุฌุฏ ุดูุฆูุง ุฌุงูุฒูุง. </p><br><p style=";text-align:right;direction:rtl">  ุดุนุฑุช ุจุฎูุจุฉ ุฃูู.  ูุงูุช ููุงู ูุดููุชุงู: OAS ุงูุฅุตุฏุงุฑ 3.0 ุ ูุจุฏุนู ุ ุนูู ูุง ูุจุฏู ุ ูู ููู ุฃุญุฏ ูู ุนุฌูุฉ ูู ุฃูุฑูุง ุ ูุฌูุฏุฉ ุงูุญููู ููุณูุง - ูู ุฐูู ุงูููุช (ุฃุชุฐูุฑ ุฃูู ูุงู ูุจู ุนุงููู) ุ ุชูููุช ูู ุงูุนุซูุฑ ุนูู ุญููู ุฌุงูุฒูู ูุณุจููุง: <a href="https://github.com/swagger-api/swagger-codegen">ูู Swagger</a> ููู Microsoft (ูุจุฏู <a href="https://github.com/Azure/autorest">ุฐูู</a> ).  ูู ุงูุจุฏุงูุฉ ุ ูุงู ุฏุนู OAS 3.0 ูู ูุฑุญูุฉ ุชุฌุฑูุจูุฉ ุนูููุฉ.  ุนููุช ุงูุซุงููุฉ ููุท ูุน ุงูุฅุตุฏุงุฑ 2.x ุ ูููู ูู ุชูู ููุงู ุชููุนุงุช ูุง ูุจุณ ูููุง.  ุจุงูููุงุณุจุฉ ุ ูู ุฃุชููู ูู ุจุฏุก ุชุดุบูู ูููุดุฆ ุฑููุฒ Microsoft ุญุชู ูู ูุณุชูุฏ ุงุฎุชุจุงุฑ ุจุชูุณูู Swagger 2.0.  ูุฌุญ ุงูุญู ูู Swagger ุ ููู ูุฎุทุทูุง ุฃูุซุฑ ุฃู ุฃูู ุชุนููุฏูุง ูุน ุงุฑุชุจุงุทุงุช $ ref ุชุญููุช ุฅูู "ุฎุทุฃ!" ุ ูุฃุฑุณูุช ุงูุชุจุนูุงุช ุงูุนูุฏูุฉ ุฅูู ุญููุฉ ูุง ููุงุฆูุฉ.  ูุงูุช ููุงู ูุดุงูู ูุน <a href="">ุงูุฃููุงุน ุงูุจุฏุงุฆูุฉ</a> .  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุฃูู ุฃููู ุชูุงููุง ููููุฉ ุงูุนูู ูุน ุงูุฎุฏูุงุช ุงูุชู ูุชู ุฅูุดุงุคูุง ุชููุงุฆููุง - ูุจุฏู ุฃููุง ูุตููุฉ ููุนุฑุถ ุ ููุง ุฃู ุงุณุชุฎุฏุงููุง ุงููุนูู ุฎูู ูุดุงูู ุฃูุซุฑ ููุง ุญู (ูู ุฑุฃูู).  ูุฃุฎูุฑูุง ุ ูุงู ุฏูุฌ ููู JAR ูู CI / CD ููุฌููุง ุฅูู NPM ุบูุฑ ูุฑูุญ: ุงุถุทุฑุฑุช ุฅูู ุชูุฒูู <a href="https://oss.sonatype.org/content/repositories/snapshots/io/swagger/codegen/v3/swagger-codegen-cli/3.0.15-SNAPSHOT/">ุงูููุทุฉ ุงูุถุฑูุฑูุฉ</a> ูุฏูููุง ุ ูุงูุชู ุจุฏุช ููุฃููุง ุชุฒู 13 ููุบุงุจุงูุช ุ ูููุช ุจุดูุก ูุง.  ุจุดูู ุนุงู ุ ุฃุฎุฐุช ุงุณุชุฑุงุญุฉ ููุฑุฑุช ูุดุงูุฏุฉ ูุง ุณูุญุฏุซ ุจุนุฏ ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุญูุงูู ุฎูุณุฉ ุฃุดูุฑ ุ ูุดุฃุช ูุณุฃูุฉ ุฅูุดุงุก ุงูุดูุฑุฉ ูุฑุฉ ุฃุฎุฑู.  ุงุถุทุฑุฑุช ุฅูู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุฌุฒุก ูู ุชุทุจูู ุงูููุจ ูุชูุณูุนู ุ ููู ุงูููุช ููุณู ุฃุฑุฏุช ุฅุนุงุฏุฉ ุชุดููู ุงูุฎุฏูุงุช ุงููุฏููุฉ ููุนูู ูุน REST API ูุฃููุงุน ุงูุจูุงูุงุช.  ููู ุชูููู ุงูุชุนููุฏ ูู ููู ูุชูุงุฆูุงู: ูู ุฃุณุจูุน ุฑุฌู ุฅูู ุฃุณุจูุนูู - ููุฐุง ููุท ูุฎุฏูุงุช REST ูุฃูุตุงู ุงูุฃููุงุน.  ูู ุฃููู ุฃููุง ูุขุจุชูู ูุซูุฑุง ุ ููู ูุง ุฒูุช.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูู ุฃุฌุฏ ุญูุงู ูุฅูุดุงุก ุงูุดูุฑุฉ ููู ุชูุชุธุฑ ุ ููู ูุณุชุบุฑู ุชูููุฐู ููุชูุง ุทูููุงู.  ุจูุนูู ุฃูู ูู ููู ููุงู ุดู ูู ุฐูู: ุงููุงุฆุฏุฉ ูุดููู ูููุง ูุงููุฎุงุทุฑ ูุจูุฑุฉ.  ูุง ุฃุญุฏ ุณูุฏุนู ูุฐู ุงูููุฑุฉ ุ ููู ุฃูุชุฑุญูุง.  ูู ูุฐู ุงูุฃุซูุงุก ุ ูุงูุช ุฅุฌุงุฒุงุช ูุงูู ุชูุชุฑุจ ุ ููุงูุช ุงูุดุฑูุฉ "ูุฏููุฉ" ูู ูุนุฏุฉ ุฃูุงู ููุนูู ูู ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน.  ููุฏ ูุฑุจุช ุทูุงู ุฃุณุจูุนูู ูู ุฌููุน ุฎุจุฑุงุช ุงูุนูู ุฅูู ุฌูุฑุฌูุง ุ ุญูุซ ุนุดุช ูุฑุฉ ูุงุญุฏุฉ ููุฏุฉ ุนุงู ุชูุฑูุจูุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุง ุจูู ุงูุญููุงุช ูุงูุฃุนูุงุฏ ุ ููุช ุจุญุงุฌุฉ ุฅูู ุงูููุงู ุจุดูุก ูุง ุ ููุฑุฑุช ุฃู ุฃูุชุจ ูุฑุงุฑู.  ูุงู ุงูุนูู ูู ุงูููุงูู ุงูุตูููุฉ ุจุงููุฑุจ ูู ุญุฏููุฉ Vake Park ูุซูุฑูุง ุจุดูู ูุฏูุด ุ ูุนุฏุช ุฅูู ุจูุชุฑ ูุน ูููุฏ ุฑูุฒ ุฌุงูุฒ ูุฃููุงุน ุงูุจูุงูุงุช.  ุซู ููุฏุฉ ุดูุฑ ุขุฎุฑ "ุงูุชููุช" ูู ุงูุฎุฏูุงุช ูู ุนุทูุงุช ููุงูุฉ ุงูุฃุณุจูุน ูุจู ุฃู ูููู ุฌุงูุฒูุง ููุนูู. </p><br><p style=";text-align:right;direction:rtl">  ููุฐ ุงูุจุฏุงูุฉ ุ ุฌุนูุช ูููุฏ ุงูุดูุฑุฉ ููุชูุญูุง ุ ูุฃุนูู ุนููู ูู ููุช ูุฑุงุบู.  ุฑุบู ุฃูู ุ ูู ุงููุงูุน ุ ูุชุจ ููุณูุฏุฉ ุงูุนูู.  ูู ุฃููู ุฅู ุงููุฑุงุฌุนุฉ / ุงูุชุดุบูู ูุฏ ุฐูุจุช ุฏูู ุฃู ูุดุงูู ุ  ููู ุฃููู ุฃููุง ูุงูุช ูุจูุฑุฉ.  ููู ูู ูุฑุญูุฉ ูุง ูุงุญุธุช ุฃููู ุชูููุช ุนู ุงุณุชุฎุฏุงู ูุซุงุฆู Redoc / Swagger: ูุงู ุงูุชููู ุจุงูููุฏ ุฃูุซุฑ ููุงุกูุฉ ุ ุจุดุฑุท ุฃู ูููู ุงูููุฏ ุฏุงุฆููุง ูุญุฏูุซูุง ูุงูุชุนููู ุนููู.  ุจุนุฏ ูุชุฑุฉ ูุฌูุฒุฉ ุ "ุณุฌูุช" ุฅูุฌุงุฒุงุชู ุ ุฏูู ุชุทููุฑูุง ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุ ุญุชู ูุตุญูู ุฃุญุฏ ุงูุฒููุงุก (ููุฐ ุณุชุฉ ุฃุดูุฑ ุณุงุจููุง ูุจู ุฃู ุฃุบุงุฏุฑ ุฅูู ุดุฑูุฉ ุฃุฎุฑู) ุจุฃุฎุฐูุง ุจุฌุฏูุฉ ุฃูุจุฑ (ููุฏ ุฌุงุก ุฃูุถูุง ุจุงูุงุณู). </p><br><blockquote style=";text-align:right;direction:rtl">  ูู ููู ูุฏู ููุช ูุฑุงุบ ูุงูู ุ ูุงุณุชุบุฑู ุงูุฃูุฑ ุนุฏุฉ ุฃุดูุฑ ุญุชู ุงุณุชูููุชู ูู ุงูุฎูููุฉ: <a href="https://stackblitz.com/edit/codegena-playground">ููุนุจ</a> ุ ุชุทุจูู ุงุฎุชุจุงุฑ ุ ุฅุนุงุฏุฉ ุชูุธูู ุงููุดุฑูุน.  ุงูุขู ุฃูุง ูุณุชุนุฏ ูุชููู ุงูููุงุญุธุงุช. </blockquote></div></div><br><a name="Description"></a><br><h2 id="opisanie" style=";text-align:right;direction:rtl">  ูุตู </h2><br><p style=";text-align:right;direction:rtl"> ูู ุงูููุช ุงูุญุงูู ุ ูุดุชูู ุญู ุฅูุดุงุก ุงูุดูุฑุงุช ุนูู ุซูุงุซ ููุชุจุงุช NPM ูุฏูุฌุฉ ููcodegena osprey ูุชูุน ูู <a href="https://github.com/koshevy/codegena">ูุณุชูุฏุน ุฃุญุงุฏู</a> ูุดุชุฑู: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุงูููุชุจุฉ </th><th>  ูุตู </th></tr></thead><tbody><tr><td>  @ codegena / oapi3ts </td><td>  ุงูููุชุจุฉ ุงูุฃุณุงุณูุฉ ุนุจุงุฑุฉ ุนู ูุญูู ูู OAS3 ุฅูู ุฃูุตุงู ููุน ุงูุจูุงูุงุช (ูุฏุนู ุงูุขู TypeScript ููุท) </td></tr><tr><td>  @ codegena / ng-api-service </td><td>  ุงูุชุฏุงุฏ ููุฎุฏูุงุช ุงูุฒุงููุฉ </td></tr><tr><td>  @ codegena / oapi3ts-cli </td><td>  ุดู ููุงุณุชุฎุฏุงู ูุฑูุญุฉ ูู ุงูุจุฑุงูุฌ ุงููุตูุฉ CLI </td></tr></tbody></table></div><br><a name="SetupAndUsing"></a><br><h3 id="ustanovka-i-ispolzovanie" style=";text-align:right;direction:rtl">  ุงูุชุซุจูุช ูุงูุงุณุชุฎุฏุงู </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุฃูุซุฑ ุนูููุฉ ูู ุงุณุชุฎุฏุงู ูู ุงูุจุฑุงูุฌ ุงููุตูุฉ NodeJS ุชุดุบูู ูู CLI.  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชุซุจูุช ุงูุชุจุนูุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">npm i @codegena/oapi3ts, @codegena/ng-api-service, @codegena/oapi3ts-cli</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูู ุจุฅูุดุงุก ููู js (ูุซู <code>update-typings.js</code> ) ูุน ุงูููุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">"use strict"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliLib = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@codegena/oapi3ts-cli'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cliLib.CliApplication; cliApp.createTypings(); <span class="hljs-comment"><span class="hljs-comment">// cliApp.createServices('angular'); // optional</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงุจุฏุฃูุง ุจุชูุฑูุฑ ุซูุงุซุฉ ูุนุงููุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">node ./update-typings.js --srcPath ./specs/todo-app-spec.json --destPath ./src/lib --separatedFiles true</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู <code>destPath</code> ุณูุชู ุฅูุดุงุก ูููุงุช ุ ููู ุงููุงูุน ุ ูุชู ุฅูุดุงุก ูุญุชููุงุช <a href="https://github.com/koshevy/codegena/tree/master/libs/todo-app-scheme/src/lib">ูุฐุง ุงูุฏููู</a> ูู ูุณุชูุฏุน ุงููุดุฑูุน ุจุงูุทุฑููุฉ ููุณูุง.  <a href="">ูููุง ููู ุงููุต ุงูุจุฑูุฌู</a> ุงูุฐู ูุชู ุฅูุดุงุคู ุ ูููุฐุง ูุชู ุชุดุบููู ูู ุงูุจุฑุงูุฌ ุงููุตูุฉ NPM.  ููุน ุฐูู ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ุงุณุชุฎุฏุงูู ุญุชู ูู ุงููุชุตูุญ ุ ููุง ูู ุงูุญุงู ูู <a href="https://codegena-playground.stackblitz.io/">ุงูููุนุจ</a> . </p><br><a name="CodegenerationUsingPractice"></a><br><h2 id="praktika-ispolzovanie-kodogeneratora" style=";text-align:right;direction:rtl">  ููุงุฑุณุฉ ุจุงุณุชุฎุฏุงู ูููุฏ ุฑูุฒ </h2><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุฃุฑูุฏ ุฃู ุฃุชุญุฏุซ ุนูุง ุณูุญุตู ุนููู ูุชูุฌุฉ ูุฐูู: ูุง ูู ููุฑุฉ ููู ุณูุณุงุนุฏูุง ุฐูู.  ุณูู ุงููุณุงุนุฏุงุช ุงูุจุตุฑูุฉ ุชููู ุฑูุฒ ุงูุชุทุจูู ุงูุชุฌุฑูุจู.  ูุชููู ูู ุฌุฒุฃูู: ุฎูููุฉ (ูู ุฅุทุงุฑ <a href="https://nestjs.com/">NestJS</a> ) <a href="https://nestjs.com/">ููุงุฌูุฉ</a> ุฃูุงููุฉ (ุนูู <a href="https://angular.io/">ุงูุฒุงููุฉ</a> ).  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู <a href="https://github.com/koshevy/codegena/tree/5367749623826d270fb652e32fa394c023751877">ุชุดุบููู ูุญูููุง</a> . </p><br><blockquote style=";text-align:right;direction:rtl">  ุญุชู ุฅุฐุง ูู ุชูู ูุนุชุงุฏูุง ุนูู Angular ู / ุฃู NestJS ุ ููุง ูุฌุจ ุฃู ูุชุณุจุจ ุฐูู ูู ุญุฏูุซ ูุดููุงุช: ูุฌุจ ุฃู ูููู ูุนุธู ูุทูุฑู TypeScript ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุณูุชู ุชูููุฑูุง. </blockquote><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃู ุงูุชุทุจูู ูุชู ุชุจุณูุทู ูุฏุฑ ุงูุฅููุงู (ุนูู ุณุจูู ุงููุซุงู ุ ุชููู ุงููุงุฌูุฉ ุงูุฎูููุฉ ุจุชุฎุฒูู ุงูุจูุงูุงุช ูู ุฌูุณุฉ ุ ูููุณ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช) ุ ููุฏ ุญุงููุช ุฅุนุงุฏุฉ ุฅูุดุงุก ุชุฏูู ุงูุจูุงูุงุช ูููุฒุงุช ุงูุชุณูุณู ุงููุฑูู ูุฃููุงุน ุงูุจูุงูุงุช ุงูููุงุฒูุฉ ููุชุทุจูู ุงูุญูููู.  ุชุจูุบ ุญูุงูู 80-85ูช ุฌุงูุฒุฉ ุ ูููู ูููู ุชุฃุฎูุฑ "ุงูุงูุชูุงุก" ุ ููู ูู ุงูููู ุงูุขู ุงูุชุญุฏุซ ุนูุง ูู ููุฌูุฏ ุจุงููุนู. </p><br><a name="UsingGeneratedDataTypes"></a><br><h2 id="ispolzovanie-generiruemyh-tipov-dannyh-v-prilozheniyah" style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ุฃููุงุน ุงูุจูุงูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงูุชุทุจููุงุช </h2><br><p style=";text-align:right;direction:rtl">  ุงูุชุฑุถ ุฃู ูุฏููุง ููุงุตูุงุช OpenAPI (ุนูู ุณุจูู ุงููุซุงู ุ <a href="">ูุฐุง ูุงุญุฏ</a> ) ุงูุชู ูุชุนูู ุนูููุง ุงูุชุนุงูู ูุนูุง.  ูุง ููู ุฅุฐุง ุฃูุดุฃูุง ุดูุฆูุง ูุง ูู ููุทุฉ ุงูุตูุฑ ุ ุฃู ุฏุนููุง ุ ูููุงู ุดูุก ููู ูู ุงููุฑุฌุญ ุฃู ูุจุฏุฃ ุจู - ุงููุชุงุจุฉ.  ุณูุจุฏุฃ ุฅูุง ูู ูุตู ุฃููุงุน ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ุฃู ุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูููุง.  ูููู ูุนุธู ุงููุจุฑูุฌูู ุจุฐูู ูู ุฃุฌู ุชุณููู ุชุทูุฑูู ูู ุงููุณุชูุจู.  ูุฐูู ูุง ูุชุนูู ุนููู ุงููุธุฑ ูู ุงููุซุงุฆู ูุฑุฉ ุฃุฎุฑู ุ ุถุน ูู ุงุนุชุจุงุฑู ููุงุฆู ุงููุนููุงุช ุ  ูููููู ุงูุชุฃูุฏ ูู ุฃู IDE ู / ุฃู ุงููุชุฑุฌู ุณุชูุงุญุธ ูุฌูุฏ ุฎุทุฃ ูุทุจุนู. </p><br><p style=";text-align:right;direction:rtl">  ููุงุตูุงุชูุง ูุฏ ุชุชุถูู ุฃู ูุง ุชุดูู ูุณู <a href="">ุงูููููุงุช</a> .  ูููู ุนูู ุฃู ุญุงู ุ ุณูุตู ูุฌููุนุงุช ูู ุงููุนููุงุช ูุงูุทูุจุงุช ูุงูุฅุฌุงุจุงุช - ููููููุง ุงุณุชุฎุฏุงูู.  ุงููุธุฑ ูู ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@Controller(<span class="hljs-string"><span class="hljs-string">'group'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... @Put(':groupId') rewriteGroup( @Param(ParseQueryPipe) { groupId }: RewriteGroupParameters, @Body() body: RewriteGroupRequest, @Session() session ): RewriteGroupResponse&lt;HttpStatus.OK&gt; { return this.appService .setSession(session) .rewriteGroup(groupId, body); } // ... }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุฌุฒุก <a href="">ุชุญูู</a> ูุฅุทุงุฑ ุนูู NestJS ูุน ุงููุนููุงุช ( <code>RewriteGroupParameters</code> ) ุ <code>RewriteGroupParameters</code> ุงูุทูุจ ( <code>RewriteGroupRequest</code> ) <code>RewriteGroupRequest</code> ุงูุงุณุชุฌุงุจุฉ ( <code>RewriteGroupResponse&lt;T&gt;</code> ) <code>RewriteGroupResponse&lt;T&gt;</code> .  ูู ุฌุฒุก ุงูุดูุฑุฉ ูุฐุง ุจุงููุนู ุ ูููููุง ุฑุคูุฉ ููุงุฆุฏ ุงููุชุงุจุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง <code>groupId</code> ุจูู ุงุณู ุงููุนููุฉ ุงูุชุฏููุฑูุฉ <code>groupId</code> ุ ูุน ุชุญุฏูุฏ <code>groupId</code> ุจุฏูุงู ูู ุฐูู ุ <code>groupId</code> ุนูู ุงูููุฑ ุนูู ุฎุทุฃ ูู ุงููุญุฑุฑ. <br><img src="https://habrastorage.org/webt/1z/2q/0c/1z2q0cstw2lv3vncwmgi8gkxfa0.png"></li><li style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ูุชุงุจุฉ <a href="">ุฃุณููุจ this.appService.rewriteGroup (groupId ุ ูุต)</a> ูููุนููุงุช ุ ูููููุง ุงูุชุญูู ูู ุตุญุฉ ุงููุนููุฉ <a href="">ุงููุตูุฉ ุงูุชู</a> ุชู ุชูุฑูุฑูุง.  ูุฅุฐุง ุชุบูุฑ ุชูุณูู ุจูุงูุงุช ุงูุฅุฏุฎุงู ูุทุฑููุฉ ุงูุชุญูู ุฃู ุทุฑููุฉ ุงูุฎุฏูุฉ ุ ูุณูุนูู ุนูู ุงูููุฑ ุจุฐูู.  ุจุงููุธุฑ ุฅูู ุงููุณุชูุจู ุ ูุงุญุธ ุฃู ุทุฑููุฉ ุงูุฅุฏุฎุงู ุงูุฎุงุตุฉ ุจุฃุณููุจ ุงูุฎุฏูุฉ ุชุญุชูู ุนูู ููุน ุจูุงูุงุช ูุฎุชูู ุนู <code>RewriteGroupRequest</code> ุ ูููู ูู ุญุงูุชูุง ุ ุณุชููู ูุชุทุงุจูุฉ ูุน ุจุนุถูุง ุงูุจุนุถ.  ููุน ุฐูู ุ ุฅุฐุง ุชู ุชุบููุฑ ุทุฑููุฉ ุงูุฎุฏูุฉ ูุฌุฃุฉ ูุจุฏุฃุช ูู ูุจูู <code>ToDoGroup</code> ุจุฏูุงู ูู <code>ToDoGroupBlank</code> ุ <code>ToDoGroupBlank</code> IDE ูุงููุชุฑุฌู ุงูููุฑู ุฃูุงูู ุงูุชุจุงูู: <br><img src="https://habrastorage.org/webt/wo/cq/rr/wocqrrks2gtcthaq_wghrhlbbta.png"></li><li style=";text-align:right;direction:rtl">  ุจููุณ ุงูุทุฑููุฉ ุ ูููููุง ุงูุชุญูู ูู ุงูุงูุชุซุงู ูููุชูุฌุฉ ุงูุชู ุชู ุฅุฑุฌุงุนูุง.  ุฅุฐุง ุชุบูุฑุช ููุงุตูุงุช ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ ุงููุงุฌุญุฉ ูุฃุตุจุญุช <code>202</code> ุจุฏูุงู ูู <code>200</code> ุ <code>RewriteGroupResponse</code> ุนูููุง ุฃูุถูุง ุ ูุฃู <code>RewriteGroupResponse</code> ูู <a href="">ููุน ุนุงู ุจููุน ูุนุฏูุฏ</a> : <br><img src="https://habrastorage.org/webt/pt/io/ss/ptiossjjfhihchrlwdlydrrkft4.png"></li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู <a href="">ูุซุงู ูู ุงูุชุทุจูู ุงูุฃูุงูู</a> ุงูุฐู ูุนูู ูุน <a href="">ุทุฑููุฉ API ุฃุฎุฑู</a> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initSelectedGroupData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(truth: ComponentTruth)</span></span></span><span class="hljs-function">: Observable&lt;ComponentTruth&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getGroupsService.request(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, { isComplete: <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, withItems: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }).pipe( pickResponseBody&lt;GetGroupsResponse&lt;<span class="hljs-number"><span class="hljs-number">200</span></span>&gt;&gt;(<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>), switchMap&lt;ToDoGroup[], Observable&lt;ComponentTruth&gt;&gt;( groups =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.loadItemsOfSelectedGroups({ ...truth, groups }) ) ); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุง ูุชูุฏู ุนูู ุฃููุณูุง ููุญูู ุนุงูู ุงูุชุดุบูู ุงููุฎุตุต ูู RxJS <code>pickResponseBody</code> ุ ูููู ุฏุนููุง ูุฑูุฒ ุนูู ุชุญุณูู ููุน <code>GetGroupsResponse</code> .  ูุญู ูุณุชุฎุฏููุง ูู ุณูุณูุฉ ูู ูุดุบูู RxJS ุ ูุงููุดุบู ุงูุฐู ูุชุจุนู ูุฏูู ุชุญุณูู ุงููุฏุฎูุงุช ูู <code>ToDoGroup[]</code> .  ุฅุฐุง ูุงู ูุฐุง ุงูุฑูุฒ ูุนูู ุ ูุฅู ุฃููุงุน ุงูุจูุงูุงุช ุงููุดุงุฑ ุฅูููุง ุชุชูุงูู ูุน ุจุนุถูุง ุงูุจุนุถ.  ููุง ูููููุง ุฃูุถูุง ุงูุชุญูู ูู ูุทุงุจูุฉ ุงููุชุงุจุฉ ุ ูุฅุฐุง ุชุบูุฑ ุชูุณูู ุงูุงุณุชุฌุงุจุฉ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฏููุง ูุฌุฃุฉ ุ ููู ูููุช ูุฐุง ูู ุงูุชูุงููุง: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ci/hr/7c/cihr7csbo5kqn9fqkreoij7kuxk.png"></p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุทุจุน ุ <code>this.getGroupsService.request</code> ูุชุงุจุฉ ูุนููุงุช ุงูุงุชุตุงู ุงูุฎุงุตุฉ ุจู <code>this.getGroupsService.request</code> ุฃูุถูุง.  ูููู ูุฐุง ูู ููุถูุน ุงูุฎุฏูุงุช ุงููููุฏุฉ. </p><br><blockquote style=";text-align:right;direction:rtl">  ูู ุงูุฃูุซูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูุฑู ุฃู ูุชุงุจุฉ ุงูุทูุจุงุช ูุงูุฑุฏูุฏ ูุงููุนููุงุช ูููู ุงุณุชุฎุฏุงููุง ูู ุฃุฌุฒุงุก ูุฎุชููุฉ ูู ุงููุธุงู - ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุงูุฎูููุฉ ุ ุฅูุฎ.  ุฅุฐุง ูุงูุช ุงููุงุฌูุฉ ุงูุฎูููุฉ ูุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูู ููุณ ุงููุณุชูุฏุน ุงูุฃุญุงุฏู ููููุง ุจูุฆุฉ ุจูุฆูุฉ ูุชูุงููุฉ ุ ูููููููุง ุงุณุชุฎุฏุงู ููุณ <a href="https://github.com/koshevy/codegena/tree/5367749623826d270fb652e32fa394c023751877/libs/todo-app-scheme">ุงูููุชุจุฉ ุงููุดุชุฑูุฉ</a> ูุน ุงูุดูุฑุฉ ุงูุชู ุชู ุฅูุดุงุคูุง.  ูููู ุญุชู ุฅุฐุง ูุงูุช ุงูุฎูููุฉ ุงููุฎุชููุฉ ูุฏุนููุฉ ูู ูุจู ูุฑู ูุฎุชููุฉ ุ ูููุณ ููุง ุฃู ุดูุก ูุดุชุฑู ุจุงุณุชุซูุงุก ููุงุตูุงุช OAS ุงูุนุงูุฉ ุ ูุณูุธู ูู ุงูุฃุณูู ุจุงููุณุจุฉ ููู ูุฒุงููุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจูู. </blockquote><br><a name="DecompositionInOAS"></a><br><h2 id="dekompoziciya-shem-vnutri-oas-specifikacii" style=";text-align:right;direction:rtl">  ุชุญูู ุงูุฏูุงุฆุฑ ุฏุงุฎู ููุงุตูุงุช OAS </h2><br><p style=";text-align:right;direction:rtl">  ูู ุงููุญุชูู ุ ูู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ ุ ุงูุงูุชุจุงู ุฅูู <code>ToDoGroup</code> <code>RewriteGroupResponse</code> ู <code>GetGroupsResponse</code> ู <code>GetGroupsResponse</code> .  ูู ุงููุงูุน ุ <code>RewriteGroupResponse</code> ูู ูุฌุฑุฏ ุงุณู ูุณุชุนุงุฑ ุนุงู ูู <code>ToDoGroup</code> ู <code>HttpErrorBadRequest</code> ุ ุฅูุฎ.  ูู ุงูุณูู ุชุฎููู ุฃู ููุง ูู <a href="">ToDoGroup</a> ู <a href="">HttpErrorBadRequest</a> ููุง ุงููุฎุทุทุงุช ูู ูุณู ููุงุตูุงุช <a href="">ุงูููููุงุช.</a> ุงููุดุงุฑ ุฅูููุง ูู <a href="">ููุทุฉ ููุงูุฉ rewriteGroup</a> (ูุจุงุดุฑุฉ ุฃู ูู ุฎูุงู <a href="">ุงููุณุทุงุก</a> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"responses"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"200"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Todo group saved"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"content"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"application/json"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"schema"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/ToDoGroup"</span></span> } } } }, <span class="hljs-attr"><span class="hljs-attr">"400"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorBadRequest"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"404"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorGroupNotFound"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"409"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorConflict"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"500"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/responses/errorServer"</span></span> } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุงูุชุญูู ุงููุนุชุงุฏ ูููุงูู ุงูุจูุงูุงุช ุ ููุจุฏุฃู ูู ููุณู ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุฃุฎุฑู.  ุงูููููุงุช ุ ุจุฏูุฑูุง ุ ูููู ุฃู ุชุชุญูู: ุงูุฑุฌูุน ุฅูู ุงูููููุงุช ุงูุฃุฎุฑู (ุจูุง ูู ุฐูู ุจุดูู ูุชูุฑุฑ) ุ ูุงุณุชุฎุฏุงู ูุฒูุฌ ูุบูุฑูุง ูู ููุฒุงุช ูุฎุทุท JSON.  ูููู ุจุบุถ ุงููุธุฑ ุนู ุงูุชุนููุฏ ุ ูุฌุจ ุชุญููููุง ุจุดูู ุตุญูุญ ุฅูู ุฃูุตุงู ูุฃููุงุน ุงูุจูุงูุงุช.  ุฃุฑูุฏ ุฃู ุฃูุถุญ ููู ููููู ุงุณุชุฎุฏุงู ุงูุชุญูู ูู OpenAPI ุ ูููู ุณูุจุฏู ุงูุฑูุฒ ุงูุฐู ุชู ุฅูุดุงุคู. </p><br><blockquote style=";text-align:right;direction:rtl">  ุณูู ุชุชุฏุงุฎู ุงูููููุงุช ูู ููุงุตูุงุช OAS ุฌูุฏุฉ ุงูุชุตููู ูุน ุทุฑุงุฒ DDD ููุชุทุจููุงุช ุงูุชู ุชุณุชุฎุฏูู.  ูููู ุญุชู ูู ูุงูุช ุงูููุงุตูุงุช ุบูุฑ ูุงููุฉ ุ ููููู ุงูุงุนุชูุงุฏ ุนูููุง ุ ูุจูุงุก ูููุฐุฌ ุงูุจูุงูุงุช ุงูุฎุงุต ุจู.  ุณูู ูููุญู ูุฐุง ูุฒูุฏูุง ูู ุงูุชุญูู ูู ูุฑุงุณูุงุช ุฃููุงุน ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู ูุน ุฃููุงุน ุจูุงูุงุช ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ุงููุชูุงููุฉ. </blockquote><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุทูุจูุง ุนุจุงุฑุฉ ุนู ูุงุฆูุฉ ููุงู ุ ูุฅู ุงูุฌููุฑ ุงูุฑุฆูุณู ูู ุงููููุฉ.  ูู ุงูููุทูู ูุถุนู ูู ุงูููููุงุช ูู ุงูููุงู ุงูุฃูู ุ ูุฃูู  ุณูุชู ุฑุจุท ุงูููุงูุงุช ุงูุฃุฎุฑู ูููุงุท ุงูููุงูุฉ ุจุทุฑููุฉ ูุง.  ูููู ูุจู ุฐูู ุชุญุชุงุฌ ุฅูู ููู ุดูุฆูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญู ูุง ูุตู ููุท ุงูุชุฌุฑูุฏ ุ ูููู ุฃูุถูุง ููุงุนุฏ ุงูุชุญูู ูู ุงูุตุญุฉ ุ ููููุง ูุงูุช ุงูุฏูุฉ ุฃูุซุฑ ูุถูุญูุง ุ ูููุง ูุงู ุฐูู ุฃูุถู. </li><li style=";text-align:right;direction:rtl">  ูุซู ุฃู ููุงู ูุฎุฒูู ูู ูุงุนุฏุฉ ุจูุงูุงุช ุ ุชุญุชูู ุงููููุฉ ุนูู ููุนูู ูู ุงูุฎุตุงุฆุต: ุงูุฎุฏูุฉ ูุฅุฏุฎุงู ุงููุณุชุฎุฏู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃูู ุจูุงุกู ุนูู ุณููุงุฑูู ุงูุงุณุชุฎุฏุงู ุ ูุฏููุง ููููุงู ููุจูุงูุงุช: ุงููููุฉ ุงูุชู ุฃูุดุฃูุง ุงููุณุชุฎุฏู ููุชู ุ ูุงููููุฉ ุงูุชู ุชู ุชุฎุฒูููุง ุจุงููุนู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูู ุงูุญุงูุฉ ุงูุซุงููุฉ ุ ููุง UID ูุฑูุฏ ุ ุชุงุฑูุฎ ุงูุฅูุดุงุก ุ ุงูุชุบููุฑ ุ ุฅูุฎ ุ ููุฌุจ ุชุนููู ูุฐู ุงูุจูุงูุงุช ูู ุงููุงุฌูุฉ ุงูุฎูููุฉ.  ูุตูุช ููุงููู ( <code>ToDoTaskBlank</code> ู <code>ToDoTask</code> ) ุจุทุฑููุฉ ุฃู ุงูุฃูู ูู ูุฌููุนุฉ ูุฑุนูุฉ ูู ุงูุซุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"components"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ToDoTaskBlank"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Base part of data of item in todo's group"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Data about group item needed for creation of it"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"groupUid"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"An unique id of group that item belongs to"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/Uid"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Short brief of task to be done"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"maxLength"</span></span>: <span class="hljs-number"><span class="hljs-number">64</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Detailed description and context of the task. Allowed using of Common Markdown."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: [<span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"null"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">"maxLength"</span></span>: <span class="hljs-number"><span class="hljs-number">1024</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"isDone"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Status of task: is done or not"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"position"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Position of a task in group. Allows to track changing of state of a concrete item, including changing od position."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"number"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"min"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"max"</span></span>: <span class="hljs-number"><span class="hljs-number">4096</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"attachments"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"array"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Any material attached to the task: may be screenshots, photos, pdf- or doc- documents on something else"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"items"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/AttachmentMeta"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"maxItems"</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: [] } }, <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"isDone"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"isDone"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Book soccer field"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"The complainant agreed and recruited more members to play soccer."</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"ToDoTask"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Item in todo's group"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Describe data structure of an item in group of tasks"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"allOf"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/ToDoTaskBlank"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"uid"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"An unique id of task"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/Uid"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"readOnly"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"dateCreated"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Date/time (ISO) when task was created"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"format"</span></span>: <span class="hljs-string"><span class="hljs-string">"date-time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"readOnly"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-11-17T11:20:51.555Z"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"dateChanged"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Date/time (ISO) when task was changed last time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"format"</span></span>: <span class="hljs-string"><span class="hljs-string">"date-time"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"readOnly"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"example"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-11-17T11:20:51.555Z"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"dateChanged"</span></span>, <span class="hljs-string"><span class="hljs-string">"dateCreated"</span></span>, <span class="hljs-string"><span class="hljs-string">"position"</span></span>, <span class="hljs-string"><span class="hljs-string">"uid"</span></span> ] } ] } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูุฎุฑุฌ ุ ูุญุตู ุนูู ูุงุฌูุชู TypeScript ุ ูุณูุชู ุชูุงุฑุซ <a href="">ุงูุฃูู</a> ุจูุงุณุทุฉ <a href="">ุงูุซุงููุฉ</a> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * ## Base part of data of item in todo's group * Data about group item needed for creation of it */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTaskBlank</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... imagine there are ToDoTaskBlank properties } /** * ## Item in todo's group * Describe data structure of an item in group of tasks */ export interface ToDoTask extends ToDoTaskBlank { /** * ## UID of element * An unique id of task */ readonly uid: string; /** * Date/time (ISO) when task was created */ readonly dateCreated: string; /** * Date/time (ISO) when task was changed last time */ readonly dateChanged: string; // ... imagine there are ToDoTaskBlank properties }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุฏููุง ุงูุฃูุตุงู ุงูุฃุณุงุณูุฉ ูููุงู ุงูููุงู ุ ููุดูุฑ ุฅูููุง <strong>ูู ููุฏ ุทูุจูุง</strong> ููุง ุชู ูู <a href="">ุงูุชุทุจูู ุงูุชุฌุฑูุจู</a> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ToDoTask, ToDoTaskBlank, } from <span class="hljs-string"><span class="hljs-string">'@our-npm-scope/our-generated-lib'</span></span>; export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTaskTeaser</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTask</span></span></span><span class="hljs-class"> </span></span>{ isInvalid?: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Means this task just created, has temporary uid * and not saved yet. */</span></span> isJustCreated?: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Means this task is saving now. */</span></span> isPending?: <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Previous uid of task temporary assigned until * it gets saved and gets new UID from backend. */</span></span> prevTempUid?: string; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููุซุงู ุ ูุตููุง ููุงููุง ุฌุฏูุฏูุง ุ ูุถูููุง ุฅูู <code>ToDoTask</code> ุชูู ุงูุฎุตุงุฆุต ุงูุชู <code>ToDoTask</code> ูู ุฌุงูุจ ุงูุชุทุจูู ููุฌูุฉ ุงูุฃูุงููุฉ.  ููุฐุง ูู ุ ูู ุงููุงูุน ุ ูููุง ุจุชูุณูุน ูููุฐุฌ ุงูุจูุงูุงุช ุงููุงุชุฌ ูุน ูุฑุงุนุงุฉ ุงูุชูุงุตูู ุงููุญููุฉ.  ุญูู ูุฐุง ุงููููุฐุฌ ุ ูุฌููุนุฉ ูู <a href="">ุงูุฃุฏูุงุช ุงููุญููุฉ</a> ูุดูุก ูุดุจู DTO ุงูุจุฏุงุฆู ูููู ุชุฏุฑูุฌูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">downgradeTeaserToTask</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> taskTeaser: ToDoTaskTeaser </span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToDoTask</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> task = { ...taskTeaser }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!task.description || !task.description.trim()) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.description; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { task.description = task.description.trim(); } <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.isJustCreated; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.isPending; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.prevTempUid; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> task; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">downgradeTeaserToTaskBlank</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> taskTeaser: ToDoTaskTeaser </span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToDoTaskBlank</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> task = downgradeTeaserToTask(taskTeaser) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> any; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.dateChanged; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.dateCreated; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> task.uid; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> task; }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุดุฎุต ูุง ููุถู ุฌุนู ูููุฐุฌ ุงูุจูุงูุงุช ุฃูุซุฑ ุชูุงููุงู ูุงุณุชุฎุฏุงู ุงููุตูู.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTaskTeaser</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoTask</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// โฆ imagine, definitions from ToDoTask are here constructor( task: ToDoTask, public isInvalid?: boolean, public isJustCreated?: boolean, public isPending?: boolean, public prevTempUid?: string ) { Object.assign(this, task); } downgradeTeaserToTask(): ToDoTask { const task = {...this}; if (!task.description || !task.description.trim()) { delete task.description; } else { task.description = task.description.trim(); } delete task.isJustCreated; delete task.isPending; delete task.prevTempUid; return task; } downgradeTeaserToTaskBlank(): ToDoTaskBlank { // โฆ some code } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูููู ูุฐู ูุณุฃูุฉ ุฃุณููุจ ูููุงุกูุฉ ูููููุฉ ุชุทููุฑ ุจููุฉ ุงูุชุทุจูู.  ุจุดูู ุนุงู ุ ุจุบุถ ุงููุธุฑ ุนู ุงูููุฌ ุ ูููููุง ุงูุงุนุชูุงุฏ ุนูู ูููุฐุฌ ุงูุจูุงูุงุช ุงูุฃุณุงุณู ูุงูุญุตูู ุนูู ูุฒูุฏ ูู ุงูุชุญูู ูู ูุทุงุจูุฉ ุงููุชุงุจุฉ.  ูุฐูู ุ ุฅุฐุง ุฃุตุจุญ <code>ToDoTask</code> ูุง ุ ูุณูู ูุนุฑู ุนู ุฌููุน ุฃุฌุฒุงุก ุงูููุฏ ุงูุชู ุชุชุทูุจ ุงูุชุญุฏูุซ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cc/7g/yz/cc7gyzy0tc4oh5zpomvjy09endw.png"></p><br><a name="NestedDecomposition"></a><br><h2 id="vlozhennaya-dekompoziciya" style=";text-align:right;direction:rtl">  ุงูุชุญูู ุงููุชุฏุงุฎู </h2><br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ูุฏููุง ูุงุฌูุฉ <code>ToDoTask</code> ููููููุง ุงูุฑุฌูุน ุฅูููุง.  ูุจุงููุซู ุ ุณูููู ุจูุตู <a href="">ToDoTaskGroup</a> ู <a href="">ToDoTaskGroupBlank</a> ุ <a href="">ูุณูุญุชููุงู</a> ุนูู ุฎุตุงุฆุต ุงูุฃููุงุน <code>ToDoTask</code> ู <code>ToDoTaskBlank</code> ุ ุนูู ุงูุชูุงูู.  ููููุง ุงูุขู ุณูููู ุจุชูุณูู "ูุฌููุนุฉ ุงูููุงู" ุฅูู ูููููู ุ ูููุณ ุซูุงุซุฉ ุ: ูู ุฃุฌู ุงููุถูุญ ุ <a href="">ุณูุตู</a> ุฏูุชุง ูู <a href="">ToDoGroupExtendedData</a> .  ูุฐูู ุฃุฑูุฏ ุฃู ุฃูุถุญ ููุงุฑุจุฉ ูุชู ูููุง ุฅูุดุงุก ูููู ูุงุญุฏ ูู ุงููููููู ุงูุขุฎุฑูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">"ToDoGroup": { "allOf": [ { "$ref": "#/components/schemas/ToDoGroupBlank" }, { "$ref": "#/components/schemas/ToDoGroupExtendedData" } ] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก ุฅูุดุงุก ุงูุดูุฑุฉ ุ ูุญุตู ุนูู ุจููุฉ TypeScript ูุฎุชููุฉ ููููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">export type ToDoGroup = ToDoGroupBlank &amp; <span class="hljs-comment"><span class="hljs-comment">// Data needed for group creation ToDoGroupExtendedData; // Extended data has to be obtained after first save</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู <code>ToDoGroup</code> ููุณ ูู "ูุต" ุฎุงุต ุจู ุ ููุถู ูููุฏ ุงูุดูุฑุฉ ุชุญูููู ุฅูู ุงุชุญุงุฏ ูููุงุฌูุงุช.  ููุน ุฐูู ุ ุฅุฐุง ุฃุถูุช ุงูุฌุฒุก ุงูุซุงูุซ ุจูุฎุทุทู ุงูุฎุงุต (ูุฌููู) ุ ูุณุชููู ุงููุชูุฌุฉ ูุงุฌูุฉ ูุน ุฃุณูุงู (ููู ูู ุงูุฃูุถู ุนุฏู ุงูููุงู ุจุฐูู).  ูุฏุนูุง ููุงุญุธ ุฃู ุฎุงุตูุฉ <code>items</code> ููุงุฌูุฉ <code>ToDoGroupBlank</code> ูุชุงุจุชูุง ูุตููู ูู <code>ToDoTaskBlank</code> ุ ููุชู ุฅุนุงุฏุฉ ุชุนุฑูููุง ูู <code>ToDoGroupBlank</code> ุนูู <code>ToDoTask</code> .  ูุจุงูุชุงูู ุ ูุฅู ูููุฏ ุงูุดูุฑุฉ ูุงุฏุฑ ุนูู ููู ุงููุฑูู ุงูุฏูููุฉ ุงููุนูุฏุฉ ูู ุงูุชุญูู ูู ูุฎุทุท JSON ุฅูู TypeScipt. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* tslint:disable */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ToDoTaskBlank } from <span class="hljs-string"><span class="hljs-string">'./to-do-task-blank'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * ## Base part of data of group * Data needed for group creation */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoGroupBlank</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... items?: Array&lt;ToDoTaskBlank&gt;; // ... }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* tslint:disable */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ToDoTask } from <span class="hljs-string"><span class="hljs-string">'./to-do-task'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * ## Extended data of group * Extended data has to be obtained after first save */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ToDoGroupExtendedData</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... items: Array&lt;ToDoTask&gt;; }</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ุจุงูุทุจุน ุ ูู <code>ToDoTask</code> / <code>ToDoTaskBlank</code> ูููููุง ุฃูุถูุง ุงุณุชุฎุฏุงู ุงูุชุญูู.  ุฑุจูุง ูุงุญุธุช ุฃู ุฎุงุตูุฉ <code>attachments</code> ููุตููุฉ ุนูู ุฃููุง ุตููู ูู ุนูุงุตุฑ ุงูููุน <a href="">AttachmentMeta</a> .  ููุชู ูุตู ูุฐุง ุงููููู ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-string"><span class="hljs-string">"AttachmentMeta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Common meta data model of any type of attachment"</span></span>, <span class="hljs-string"><span class="hljs-string">"oneOf"</span></span>: [ {<span class="hljs-string"><span class="hljs-string">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/AttachmentMetaImage"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/AttachmentMetaDocument"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"$ref"</span></span>: <span class="hljs-string"><span class="hljs-string">"#/components/schemas/ExternalResource"</span></span>} ] }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฐุง ูู ุ ูุดูุฑ ูุฐุง ุงููููู ุฅูู ุงูููููุงุช ุงูุฃุฎุฑู.  ูุธุฑูุง ูุนุฏู ูุฌูุฏ ูุฎุทุท ุฎุงุต ุจู ุ ูุง ูููู ูููุดุฆ ุงูุดูุฑุฉ ุจุชุญูููู ุฅูู ููุน ุจูุงูุงุช ูููุตู ุญุชู ูุง ูุถุงุนู ุงูููุงูุงุช ุ ูููู ูุชุญูู ุฅูู ูุตู ูุฌููู ููููุน ุงููุฐููุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Any material attached to the task: may be screenshots, photos, pdf- or doc- * documents on something else */</span></span> attachments?: Array&lt; | AttachmentMetaImage <span class="hljs-comment"><span class="hljs-comment">// Meta data of image attached to task | AttachmentMetaDocument // Meta data of document attached to task | string // Link to any external resource &gt;;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูููุช ููุณู ุ ุจุงููุณุจุฉ ูููููุงุช <code>AttachmentMetaDocument</code> ู <code>AttachmentMetaDocument</code> ุ ูุชู ูุตู ุงููุงุฌูุงุช ุบูุฑ ุงููุฌูููุฉ ุงูุชู ูุชู ุงุณุชูุฑุงุฏูุง ูู ุงููููุงุช ุงูุชู ุชุณุชุฎุฏููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AttachmentMetaDocument } from <span class="hljs-string"><span class="hljs-string">'./attachment-meta-document'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AttachmentMetaImage } from <span class="hljs-string"><span class="hljs-string">'./attachment-meta-image'</span></span>;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุญุชู ูู <a href="">AttachmentMetaImage ุ</a> ูููููุง ุงูุนุซูุฑ ุนูู ุฑุงุจุท ููุงุฌูุฉ <a href="">ImageOptions</a> ุฃุฎุฑู ุชู ุชูุฏูููุง ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูุฑุชูู ุ ุจูุง ูู ุฐูู ุฏุงุฎู ูุงุฌูุฉ ูุฌูููุฉ (ูุชูุฌุฉ ููุชุญููู ูู <a href="">ุฎุตุงุฆุต</a> <a href="">ุฅุถุงููุฉ</a> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* tslint:disable */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ImageOptions } from <span class="hljs-string"><span class="hljs-string">'./image-options'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Meta data of image attached to task */</span></span> export <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AttachmentMetaImage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... /** * Possible thumbnails of uploaded image */ thumbs?: { [key: string]: { /** * Link to any external resource */ url?: string; imageOptions?: ImageOptions; }; }; // ... imageOptions: ImageOptions; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ุงุณุชูุงุฏูุง ุฅูู <code>ToDoTask</code> ุฃู <code>ToDoGroup</code> ุ ูุฏูุฌ ุจุงููุนู ุงูุนุฏูุฏ ูู ุงูููุงูุงุช ูุณูุณูุฉ ูู ุงุชุตุงูุงุช ุฃุนูุงููู ูู ุงูููุฏ ุงูุฎุงุต ุจูุง ุ ููุง ูููุญูุง ูุฒูุฏูุง ูู ุงูุชุญูู ูู ุงูุชุบููุฑุงุช ุงูุชู ุชุทุฑุฃ ุนูู ุงููุธุงู ุงูุฒุงุฆุฏ ูุงูุชู ุชุชุฌุงูุฒ ุงูููุฏ ุงูุฎุงุต ุจูุง.  ุจุงูุทุจุน ุ ูุฐุง ูุง ูุนูู ูู ูู ุฌููุน ุงูุญุงูุงุช.  ูููู ุฅุฐุง ููุช ุชุณุชุฎุฏู OpenAPI ุ ููุฏ ุชุญุตู ุนูู ููุงูุฃุฉ ุฅุถุงููุฉ ูุงุญุฏุฉ ุตุบูุฑุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููุซุงุฆู ุงููุนููุฉ. </p><br><a name="ServiceGeneration"></a><br><h2 id="avtogeneraciya-servisov-dlya-raboty-s-rest-api" style=";text-align:right;direction:rtl">  ุฎุฏูุงุช ุชู ุฅูุดุงุคูุง ุชููุงุฆููุง ููุนูู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST </h2><br><a name="WhyItNeccessary"></a><br><h3 id="zachem-eto-nuzhno" style=";text-align:right;direction:rtl">  ููุงุฐุง ูุฐุง ูุทููุจุ </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุฎุฐูุง ุชุทุจูููุง ุฅุญุตุงุฆููุง ูุชูุณุทูุง ูููุงุฌูุฉ ุงูุฃูุงููุฉ ูุนูู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST ุฃูุซุฑ ุฃู ุฃูู ุชุนููุฏูุง ุ ูุณูููู ุฌุฒุก ูุจูุฑ ูู ุงูููุฏ ูู ุงูุฎุฏูุงุช (ุฃู ุงููุธุงุฆู ููุท) ูููุตูู ุฅูู API.  ูุณูู ุชุดูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุนูููุงุช URL ูุงููุนููุงุช </li><li style=";text-align:right;direction:rtl">  ุงูุชุญูู ูู ุตุญุฉ ุงููุนููุงุช ุ ุงูุทูุจ ูุงูุงุณุชุฌุงุจุฉ </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ูุงูุชุนุงูู ูุน ุญุงูุงุช ุงูุทูุงุฑุฆ </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุบูุฑ ุงูุณุงุฑ ุฃู ูุฐุง ูู ููุงุญ ูุซูุฑุฉ ูููุฐุฌู ููุง ูุญุชูู ุนูู ุฃู ููุทู ูุฑูุฏ.  ูููุชุฑุถ ุจุนุถ ุงูุฃูุซูุฉ - ููุฎุทุท ุนุงู ุ ูููู ุจูุงุก ุงูุนูู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุชุฎุทูุทู ูุจุณุท ููุนูู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Observable, fromFetch, throwError } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { switchMap } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/operators'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Definitions const URLS = { 'getTasksOfGroup': `${env.REST_API_BASE_URL}/tasks/\${groupId}`, // ... other urls ... }; const URL_TEMPLATES = _.mapValues(urls, url =&gt; _.template(url)); interface GetTaskConditions { isDone?: true | false; offset?: number; limit?: number; } interface ErrorReponse { error: boolean; message?: string; } // Helpers // I taken this snippet from StackOverflow only for example function encodeData(data) { return Object.keys(data).map(function(key) { return [key, data[key]].map(encodeURIComponent).join("="); }).join("&amp;"); } // REST API functions // our REST API working function example function getTasksFromServer(groupUid: string, conditions: GetTaskConditions = {}): Observable&lt;Response&gt; { if (!groupUid) { return throwError(new Error('You should specify "groupUid"!')); } if (!_.isString(groupUid)) { return throwError(new Error('`groupUid` should be string!')); } if (_.isBoolean(conditions.isDone)) { // ... applying of conditions.isDone } else if (conditions.isDone !== undefined) { return throwError(new Error('`isDone` should be "true", "false" or should\'t be set!'!)); } if (offset) { // ... check of `offset` and applying or error throwing } if (limit) { // ... check of `limit` and applying or error throwing } const url = [ URL_TEMPLATES['getTasksOfGroup']({groupUid}), ...(conditions ? [encodeData(conditions)] : []) ]; return fromFetch(url); } // Using of REST API working functions function getRemainedTasks(groupUid: number): Observable&lt;ToDoTask[] | ErrorReponse&gt; { return getTasksFromServer(groupUid, {isDone: false}).pipe( switchMap(response =&gt; { if (response.ok) { // OK return data return response.json(); } else { // Server is returning a status requiring the client to try something else. return of({ error: true, message: `Error ${response.status}` }); } }), catchError(err =&gt; { // Network or other error, handle appropriately console.error(err); return of({ error: true, message: err.message }) }) ); }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู ุชุฌุฑูุฏ ุนุงูู ุงููุณุชูู ููุนูู ูุน REST - ุญุณุจ ุงูููุฏุณ ุงููุณุชุฎุฏู ุ ูููู ุฃู ูููู: <a href="https://github.com/axios/axios">Axios</a> ุฃู <a href="http">Angular HttpClient</a> ุฃู ุฃู ุญู ุขุฎุฑ ูุดุงุจู.  ููู ุนูู ุงูุฃุฑุฌุญ ุ ุณูุชูุงูู ุฑูุฒู ูุน ูุฐุง ุงููุซุงู.  ุจูู ุชุฃููุฏ ุ ุณูุชุถูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุฏูุงุช ุฃู ูุธุงุฆู ูููุตูู ุฅูู ููุงุท ููุงูุฉ ูุญุฏุฏุฉ (ูุธููุฉ <code>getTasksFromServer</code> ูู ูุซุงููุง) </li><li style=";text-align:right;direction:rtl">  ุฃุฌุฒุงุก ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชุนุงูุฌ ุงููุชูุฌุฉ (ุฏุงูุฉ <code>getRemainedTasks</code> ) </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุฃู ุชุทุจูู ูู ุงูุนุงูู ุงููุงูุนู ุ ุณูููู ูุฐุง ุงูุฑูุฒ ุฃูุซุฑ ุชุนููุฏูุง: <a href="">ุชูุถุญ</a> ููุงุตูุงุช ุงูุชุทุจูู ุงูุชุฌุฑูุจู <a href="">ุฎูุงุฑุงุช 5-6 ููุฅุฌุงุจุฉ</a> .  ุบุงูุจูุง ูุง ูุชู ุชุตููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST ุจุญูุซ ูุชู ุงูุชุนุงูู ูุน ูู ุญุงูุฉ ุงุณุชุฌุงุจุฉ ูู ุงูุฎุงุฏู ููููุง ูุฐูู.  ูููู ุญุชู ูุญุต ุจูุงูุงุช ุงูุฅุฏุฎุงู ูููู ุฅูู ุฃู ูุตุจุญ ุฃูุซุฑ ุตุนูุจุฉ ูู ุนูููุฉ ุชุทููุฑ ุงูุชุทุจูู: ูููุง ุฒุงุฏ ุงูููุช ุงูุฐู ูุณุชุบุฑูู ูุฏุนู ููุนุงูุฌุฉ ูุฑุงุฌุนุงุช ุงูุฃุฎุทุงุก ุ ูููุง ุฃุฑุฏุช ูุนุฑูุฉ ุงูุงุฎุชูุงูุงุช ูู ุชุฏุงูู ุงูุจูุงูุงุช ูู ุงูุชุทุจูู. </p><br><blockquote style=";text-align:right;direction:rtl">  ูููู ุฃู ุชุญุฏุซ ุงูุฃุฎุทุงุก ูู ูู ุนูุฏุฉ ุฅุฑุณุงุก ูุฃุฌุฒุงุก ุงูุจุฑุงูุฌ ุ ูุงูุงูุชุดุงู ุงููุจูุฑ (ุฃู ุงูุจุญุซ ุนู ุงููุดููุงุช ุงูุชู ูุตุนุจ ุชุดุฎูุตูุง) ูุฏ ูููู ุจุงูุธ ุงูุชูููุฉ ุจุงููุณุจุฉ ููุฃุนูุงู.  ูุฐูู ุ ุณูููู ููุงู ูุญูุตุงุช ุชูุถูุญูุฉ ุฅุถุงููุฉ.  ูุน ููู ูุงุนุฏุฉ ุงูุดูุฑุฉ ูุนุฏุฏ ุงูุญุงูุงุช ุงููุดูููุฉ ุ ูุฒุฏุงุฏ ุชุนููุฏ ุฅุฌุฑุงุก ุงูุชุบููุฑุงุช.  ููู ุงูุนูู ูู ุชุบููุฑ ูุณุชูุฑ ุ ูููุณ ููุงู ุงูุงูุชูุงู ุญููู.  ูุฐูู ุ ูุฌุจ ุฃู ููุชู ุจููููุฉ ุฅุฌุฑุงุก ุงูุชุบููุฑุงุช ูุณุจููุง. </blockquote><p style=";text-align:right;direction:rtl">  ุจุงูุฑุฌูุน ุฅูู ููุถูุน OpenAPI ุ ููุงุญุธ ุฃูู ูู ููุงุตูุงุช OAS ูุฏ ุชููู ููุงู ูุนูููุงุช ูุงููุฉ ู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    -      </li><li style=";text-align:right;direction:rtl">       </li><li style=";text-align:right;direction:rtl">   URL      </li><li style=";text-align:right;direction:rtl">         </li></ul><br><p style=";text-align:right;direction:rtl">         โ <strong></strong> .    ,     ,     /  โ 5, 10  200,            .  ,      ,   : , , , RxJS- <a href="">pickResponseBody</a> ,            ,     - ;  <a href="">tapResponse</a> ,    side-effect (tap)   HTTP-.     ,     -   .    ,       ,    . </p><br><blockquote style=";text-align:right;direction:rtl"> ,     โ   -,      .      ,       ,  ,   ""  /     API     "-"  "" .    -   ,        "" (    ),     . </blockquote><p style=";text-align:right;direction:rtl">   ,          REST API   Angular.         ,      ,        /.      . ,      ,    .  ,      , ..      . </p><br><a name="HowToGenerateServices"></a><br><h3 id="generaciya-servisov" style=";text-align:right;direction:rtl">   </h3><br><p style=";text-align:right;direction:rtl">   " <a href="https://habr.com/ru/post/483628/">  </a> "      .   Angular-,       <code>update-typings.js</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">"use strict"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliLib = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@codegena/oapi3ts-cli'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cliApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> cliLib.CliApplication; cliApp.createTypings(); cliApp.createServices(<span class="hljs-string"><span class="hljs-string">'angular'</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">             ,   Angular-    API   .    , -   - ,     <a href="https://github.com/koshevy/codegena/tree/master/libs/todo-app-scheme/src/lib/services"> </a> .     ,    <a href="">RewriteGroupService</a> .    <a href="">ApiService</a> ,        ,   ,   -: </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">-  </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Typings for this API method import { RewriteGroupParameters, RewriteGroupResponse, RewriteGroupRequest } from '../typings'; // Schemas import { schema as domainSchema } from './schema.b4c655ec1635af1be28bd6'; /** * Service for angular based on ApiAgent solution. * Provides assured request to API method with implicit * validation and common errors handling scheme. */ @Injectable() export class RewriteGroupService extends ApiService&lt; RewriteGroupResponse, RewriteGroupRequest, RewriteGroupParameters &gt; { protected get method(): 'PUT' { return 'PUT'; } /** * Path template, example: `/some/path/{id}`. */ protected get pathTemplate(): string { return '/group/{groupId}'; } /** * Parameters in a query. */ protected get queryParams(): string[] { return ['forceSave']; } // ... }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl"> , <a href="">   JSON Schema</a>  ,   .    <a href=""> </a> ,        ,       : </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { schema as domainSchema } from <span class="hljs-string"><span class="hljs-string">'./schema.b4c655ec1635af1be28bd6'</span></span>;</code> </pre> <br><blockquote style=";text-align:right;direction:rtl"> ,     <code>schema.b4c655ec1635af1be28bd6.ts</code>       ,  <a href="">  </a>  ,  . </blockquote><br><a name="UsingOfGeneratedServices"></a><br><h3 id="ispolzovanie-generiruemyh-servisov" style=";text-align:right;direction:rtl">    </h3><br><p style=";text-align:right;direction:rtl">       ,   Angular-. </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">    Angular-</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">      <code>ApiModule</code>       : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">import { ApiModule, API_ERROR_HANDLER } from '@codegena/ng-api-service'; import { CreateGroupItemService, GetGroupsService, GetGroupItemsService, UpdateFewItemsService } from '@codegena/todo-app-scheme'; @NgModule({ imports: [ ApiModule, // ... ], providers: [ RewriteGroupService, { provide: API_ERROR_HANDLER, useClass: ApiErrorHandlerService }, // ... ], // ... }) export class TodoAppModule { }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">    ,     [])( <a href="https://angular.io/guide/dependency-injection">https://angular.io/guide/dependency-injection</a> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">@Injectable() export class TodoTasksStore { constructor( protected createGroupItemService: CreateGroupItemService, protected getGroupsService: GetGroupsService, protected getGroupItemsService: GetGroupItemsService, protected updateFewItemsService: UpdateFewItemsService ) {} }</code> </pre> <br><p style=";text-align:right;direction:rtl">         โ  ,       <a href="">request</a> ,        : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">return this.getGroupsService.request(null, { isComplete: null, withItems: false }).pipe( pickResponseBody&lt;GetGroupsResponse&lt;200&gt;&gt;(200, null, true), switchMap&lt;ToDoGroup[], Observable&lt;ComponentTruth&gt;&gt;( groups =&gt; this.loadItemsOfSelectedGroups({ ...truth, groups }) ) );</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>request</code>   <code>Observable&lt;HttpResponse&lt;R&gt; | HttpEvent&lt;R&gt;&gt;</code> ,   ,        . ,     ,      . ,  ,      ,     .     RxJS- <code>pickResponseBody</code> . </p><br><p style=";text-align:right;direction:rtl">  ,    ,    ,   .         API,    .        .   ,     : </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3y/xe/dy/3yxedy51z7su99butzrk2dvunnq.png"></p><br><p style=";text-align:right;direction:rtl">      .   JSON Schema     .       ,   ""      - .   ,      <a href="https://sentry.io/welcome/">Sentry</a>  <a href="https://www.elastic.co/products/kibana">Kibana</a> ,   .       .  ,      ,      . </p><br><blockquote style=";text-align:right;direction:rtl">  ,             .  ,      :) </blockquote><br><a name="AfterWord"></a><br><h2 id="vmesto-poslesloviya" style=";text-align:right;direction:rtl">  ุจุฏูุง ูู ุงููููุฉ ุงูุฃุฎูุฑุฉ </h2><br><p style=";text-align:right;direction:rtl">   ,       .       -,   "    "    โ   .  ,  ,   ,   . </p><br><p style=";text-align:right;direction:rtl">     โ    ,  - /    (   ).      ,  โ   . </p><br><p style=";text-align:right;direction:rtl">   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar483628/">https://habr.com/ru/post/ar483628/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar483610/index.html">ูู ูุนุฏ ุงูุฅุถุงูุงุช ุญุฏุซูุงุ</a></li>
<li><a href="../ar483614/index.html">ุทุฑู ููุงูุญุฉ ุงูุณุฑูุฉ ูู ูุงุฏู ุงูุฑูุจูุชุงุช</a></li>
<li><a href="../ar483616/index.html">ูุดุฑูุน Lacmus: ููู ุชุณุงุนุฏ ุฑุคูุฉ ุงูููุจููุชุฑ ูู ุฅููุงุฐ ุงูุฃุดุฎุงุต ุงูููููุฏูู</a></li>
<li><a href="../ar483624/index.html">ูุณุงุจูุฉ ูู Yandex.Taxi: ุชุญููู ุงููุณุงุฑ ุงูุฎููู ูุจุทููุฉ ุงูุจุฑูุฌุฉ</a></li>
<li><a href="../ar483626/index.html">ููู ุชุตู ูุธููุฉ 100 gitlab ูู 100 ุณุทุฑ ุนูู Jsonnet</a></li>
<li><a href="../ar483630/index.html">The Ember Times - ุงูุนุฏุฏ 130</a></li>
<li><a href="../ar483634/index.html">ููู ู ูุงูุณ ุฎุตุงุฆุต ุงูุนุฑุถ / ุงูุทูู ูู CSS</a></li>
<li><a href="../ar483646/index.html">ูุงู ุฐุง ุจููุณ โโ- ุชุฌูู Bitlab. ุถุนู ุงูุชุดููุด JS ุ GIT ูุนูุณ ุชุทุจููุงุช ูููุฏูุฒ</a></li>
<li><a href="../ar483648/index.html">ูู ุงูุฎุงุฑุฌ ูุชูููููุฌูุง ุงููุนูููุงุช ุงูุชุฌุงุฑูุฉ ูู ุฌูุฑุฌูุง: ุงูุญูุงุฉ ุงูุฎุงุฑูุฉ ูุงููุฒุงูู</a></li>
<li><a href="../ar483650/index.html">Cosmodromes ุฃูุฑุจ ุฅูู ุฎุท ุงูุงุณุชูุงุก - Wenchang Tropical Cosmodrome</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>