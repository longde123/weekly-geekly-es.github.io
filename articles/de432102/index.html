<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèø üì± üêß Explizite JavaScript-Funktionen üò∫ ‚è≠Ô∏è ü§•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn ich einen anderen Artikel √ºber wenig bekannte Funktionen der JavaScript- Sprache lese und leise einige verr√ºckte L√∂sungen in die Browserkonsole p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Explizite JavaScript-Funktionen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432102/"><p><img src="https://habrastorage.org/webt/f_/vy/_s/f_vy_sw3-w-pyxs4zrpqejzpkq4.jpeg" alt="Bild"></p><br><p>  Wenn ich einen anderen Artikel √ºber wenig bekannte Funktionen der <strong>JavaScript-</strong> Sprache lese und leise einige verr√ºckte L√∂sungen in die Browserkonsole pisse, sage ich oft in meinem Kopf, dass es auf dem Produkt sicherlich nicht so ist!  Immerhin hat die Sprache seit langem eine gro√üe Gemeinschaft und eine √ºberraschend breite Abdeckung der industriellen Entwicklung.  Wenn ja, warum vergessen wir dann oft seine F√§higkeit, von jedem verstanden zu werden und f√∂rdern buchst√§blich all diese spezifischen und ‚Äûdenkw√ºrdigen‚Äú Konstruktionen?  <em>Mach es einfach offensichtlich!</em> </p><a name="habracut"></a><br><h2 id="rassuzhdeniya-na-temu">  Argumentation zum Thema </h2><br><p>  <em>Sie k√∂nnen diese Graphomanie √ºberspringen.</em> </p><br><p> Wenn wir √ºber industrielle Entwicklung sprechen, ist in den allermeisten F√§llen die Anforderung, dass ein Code unterst√ºtzt wird, noch wichtiger als die L√∂sung einer von einem Unternehmen gestellten Aufgabe.  F√ºr viele ist dies offensichtlich, f√ºr einige - zum Teil (nat√ºrlich gibt es auch seltene D'Artagnans).  Je klarer unser Code ist, desto geringer ist das Risiko, in das staubige Regal zu gelangen und f√ºr uns und unsere Nachfolger Probleme mit dem Nervensystem zu bekommen. </p><br><p>  Es ist kein Geheimnis, dass JavaScript in seiner Flexibilit√§t erstaunlich ist, was sowohl seine gr√∂√üte Tugend als auch ein nerviger Fluch ist.  Der Weg des JavaScript-Entwicklers ist lang und √§u√üerst interessant: Wir nehmen Buch f√ºr Buch, Artikel f√ºr Artikel auf und sammeln einzigartige Erfahrungen, aber manchmal ist er wirklich sprachspezifisch.  Die breiteste Verbreitung der Sprache und gleichzeitig eine reiche Anzahl von angesammelten und gef√ºtterten Nicht-Offensichtlichkeiten tragen zur Bildung von zwei Fronten bei: diejenigen, die diese Sprache fast verg√∂ttern, und diejenigen, die sie als ungeschickte und schwankende Ente betrachten. </p><br><p>  Und alles w√§re in Ordnung, aber oft arbeiten Vertreter beider Fronten an demselben Projekt.  Und die √ºbliche, alles akzeptierte Praxis ist das Missverst√§ndnis (Unwillen, den Code des anderen zu verstehen und sogar zu ignorieren).  Und in der Tat: <em>"Ich habe einen Java-Entwickler, und nicht dieser geh√∂rt dir!"</em>  .  Javascript-Anh√§nger selbst geben dem Feuer Treibstoff und sagen: <em>"Niemand kennt JavaScript wirklich!"</em>  ja <em>"Ich kann es in einer Zeile auf js schreiben!"</em>  .  Ich gebe zu, dass ich selbst abnormale Programmierung in meiner Freizeit missbrauche ... </p><br><p>  Sie sp√ºren dieses Problem, wenn Sie an die Stelle eines Randes treten und Erfahrungen mit Menschen und deren Code auf beiden Seiten der Barrikaden sammeln.  Planung und andere Besprechungen sind produktiver, wenn sich alle Entwickler nicht nur auf der Ebene der Gesch√§ftsbereiche, sondern zumindest ein wenig auf der Ebene ihrer Implementierung verstehen.  Der ber√ºchtigte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bassfaktor hat einen</a> geringeren Einfluss auf das Projekt, wenn der Rest des Teams im Falle einer einzelnen Front-Ender-Krankheit nicht z√∂gert, eine Zeile der <em>.js-</em> Datei zu korrigieren.  Der Prozess des Wissensaustauschs innerhalb des Teams und dar√ºber hinaus wird f√ºr alle transparenter, wenn alle ein detaillierteres Bild haben.  Nun und alles in der gleichen Richtung. </p><br><p>  Ich fordere niemanden auf, "Vollglas" oder "T-Form" zu verwenden (wie soll ich das jetzt sagen?). Aber warum ziehen wir diesen Vorhang nicht auch von der JavaScript-Community ein wenig auf?  Um dies zu tun, reicht es aus, nur ein wenig Klarheit in unseren Code zu bringen und die Flexibilit√§t der Sprache zu nutzen, um nicht anzugeben, sondern uns zu verstehen. </p><br><h2 id="vzroslenie-i-prinyatie-otvetstvennosti">  Aufwachsen und Verantwortung √ºbernehmen </h2><br><p>  JavaScript seinerseits hat seine Rolle seit langem erkannt, nicht als Sprache f√ºr die Interaktivit√§t von Internetseiten und das "Kleben" ihrer Ressourcen, sondern als leistungsstarkes und ausreichendes Werkzeug f√ºr die Erstellung vollst√§ndiger plattform√ºbergreifender und h√§ufig sehr skalierbarer Anwendungen. </p><br><p>  Urspr√ºnglich f√ºr Webdesigner entwickelt, tritt diese "am meisten missverstandene Programmiersprache" trotz der schnell wachsenden Popularit√§t und Relevanz seit langem auf dem Wasser.  In den 13 bis 14 Jahren vor der Ausgabe von ECMAScript 5.1 ist es schwierig, sich an wichtige √Ñnderungen des Standards zu erinnern oder den Vektor seiner Entwicklung zu verstehen.  Zu dieser Zeit leistete seine Community einen gro√üen Beitrag zur Bildung des √ñkosystems der Sprache: Prototyp, jQuery, MooTools usw.  Nachdem JavaScript dieses Feedback von den Entwicklern erhalten hatte, hat JavaScript erhebliche Arbeit an den Fehlern geleistet: die laute 6-Jahres-Version von ES6 im Jahr 2015 und jetzt die j√§hrliche Ver√∂ffentlichung von ECMAScript dank des vom TC39-Komitee neu gestalteten Prozesses zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einf√ºhrung neuer Funktionen</a> in die Spezifikation. </p><br><p>  Nun, als unsere Anwendungen gro√ü genug wurden, war der Prototyp des OOP-Modells zur Beschreibung von Benutzertypen aufgrund eines ungew√∂hnlichen Ansatzes nicht mehr gerechtfertigt.  Nun im Ernst, was ist das? </p><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Animal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* Call me via new and I will be the constructor ;) */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Rabbit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{} Rabbit.prototype = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(Animal.prototype); Rabbit.prototype.constructor = Rabbit;</code> </pre> <br><p>  Klassen wurden nicht in der Sprache angezeigt, aber ihre Syntax wurde angezeigt.  Und der Code ist f√ºr Anh√§nger des traditionellen klassenorientierten Paradigmas verf√ºgbar geworden: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-comment"><span class="hljs-comment">/* Obviously, the constructor is here! */</span></span> } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rabbit</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><p>  Jetzt in der Phase des Kandidaten f√ºr die Freigabe sind die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">privaten Felder der</a> Klasse.  Es ist kaum zu glauben, dass wir fr√ºher oder sp√§ter aufh√∂ren werden, uns gegenseitig mit einer Vereinbarung √ºber die Benennung von Privateigentum durch Unterstriche auszulachen. </p><br><p>  Gleichzeitig ist es in einer Sprache, in der eine Funktion ein Objekt erster Ordnung ist und ein konstantes Ereignis stattfindet, durchaus √ºblich: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> that = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ that.n += <span class="hljs-number"><span class="hljs-number">1</span></span>; }, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre> <br><p>  Und dann beginnen Erkl√§rungen zu <em>diesen</em> Kontexten und zum Schlie√üen in JavaScript, was jeden zweiten externen Entwickler abschreckt.  In vielen F√§llen vermeidet die Sprache jedoch unn√∂tige √úberraschungen, indem sie <em>Function.prototype.bind</em> explizit verwendet oder sogar: </p><br><pre> <code class="javascript hljs">setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.n += <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre> <br><p>  Wir haben auch Pfeilfunktionen, und das sind wirklich Funktionen, keine funktionalen Schnittstellen (ja, Java?).  Zusammen mit einer erweiterten Reihe von Methoden zum Arbeiten mit einem Array helfen sie auch dabei, die √ºbliche deklarative Gewinnlinie von Berechnungen zu schreiben: </p><br><pre> <code class="javascript hljs">[<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">-3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, x)) .reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s, x</span></span></span><span class="hljs-function">) =&gt;</span></span> s + x, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br><p>  Die Sprache versteht sich zu Recht als multi-paradigmatisch.  Aber hier ist ein einfaches Beispiel f√ºr die Signatur einer Funktion: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count</span></span></span><span class="hljs-function">) </span></span>{ count = count || <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* send ping to host count times */</span></span> }</code> </pre> <br><p>  Zuerst wird eine vorbeikommende Person eine Frage stellen, die besagt, dass eine Funktion wahrscheinlich nur das erste Argument annehmen kann, und dann sagen, was zum Teufel in diesem Fall z√§hlt, wird Boolean !?  In der Tat hat die Funktion zwei Verwendungszwecke: mit und ohne.  Dies ist jedoch v√∂llig offensichtlich: Sie m√ºssen sich die Implementierung ansehen und verstehen.  Die Verwendung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSDoc</a> kann helfen, dies ist jedoch keine g√§ngige Praxis.  Und hier ging JavaScript voran und f√ºgte Unterst√ºtzung nicht f√ºr √úberladung, sondern zumindest f√ºr Standardparameter hinzu: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p>  Zusammenfassend l√§sst sich sagen, dass JavaScript eine Vielzahl vertrauter Dinge enth√§lt: Generatoren, Iteratoren, <em>Set-</em> Sammlungen und <em>Map-</em> W√∂rterb√ºcher, typisierte Arrays und sogar regul√§re Ausdr√ºcke, die mit Unterst√ºtzung von <em>Lookbehind zufrieden waren</em> !  Die Sprache tut alles, um f√ºr viele Dinge geeignet zu sein und f√ºr alle freundlich zu werden. </p><br><h2 id="blagopriyatnyy-put-k-ochevidnomu">  G√ºnstiger Weg zum Offensichtlichen </h2><br><p>  Die Sprache selbst ist sicherlich gut gemacht, und es ist schwer, damit zu streiten!  Aber was ist los mit uns?  Warum erinnern wir die ganze Welt st√§ndig daran, dass JavaScript irgendwie anders ist?  Schauen wir uns Beispiele einiger weit verbreiteter Techniken an und fragen Sie nach ihrer Angemessenheit. </p><br><h3 id="privedenie-tipov">  Typ Casting </h3><br><p>  Ja, JavaScript hat ein dynamisches und schwaches Typsystem und erm√∂glicht es Ihnen, Operationen an allem durchzuf√ºhren und implizit Transformationen f√ºr uns durchzuf√ºhren.  Oft ist f√ºr uns jedoch noch ein explizites Casting erforderlich, und Folgendes kann beobachtet werden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bool = !!(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> numb = +(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> str = <span class="hljs-string"><span class="hljs-string">''</span></span>+(expr);</code> </pre> <br><p>  Diese Tricks sind jedem JavaScript-Entwickler bekannt und sie sind durch die Tatsache motiviert, dass man "schnell" etwas in etwas verwandeln kann: Mit Geschwindigkeit ist hier eine kurze Aufzeichnung gemeint.  Kann es auch sofort <em>falsch</em> schreiben als <em>! 1</em> ?  Wenn der Entwickler √ºber die druckbaren Zeichen so besorgt ist, k√∂nnen Sie in seiner bevorzugten IDE problemlos die erforderliche <em>Live-Vorlage</em> konfigurieren oder automatisch vervollst√§ndigen.  Und wenn - f√ºr die Gr√∂√üe des ver√∂ffentlichten Codes - wir ihn immer durch den Verschleierer laufen lassen, der besser als wir wei√ü, wie man all dies entmenschlicht.  Warum nicht: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bool = <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> numb = <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(expr); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> str = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(expr);</code> </pre> <br><p>  Das Ergebnis ist das gleiche, nur f√ºr alle klar. </p><br><p>  F√ºr String-Konvertierungen haben wir <em>toString</em> , aber f√ºr numerische gibt es einen interessanten <em>valueOf</em> , der auch √ºberschrieben werden kann.  Ein klassisches Beispiel, das das "Uneingeweihte" in einen Stupor einf√ºhrt: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timestamp = +<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>;</code> </pre> <br><p>  Aber <em>Date</em> hat eine bekannte <em>getTime-</em> Methode. <em>Verwenden</em> wir sie: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timestamp = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>()).getTime();</code> </pre> <br><p>  oder fertige Funktion: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> timestamp = <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>.now();</code> </pre> <br><p>  Es ist absolut nicht erforderlich, die implizite Typkonvertierung auszunutzen. </p><br><h3 id="logicheskie-operatory">  Logische Operatoren </h3><br><p>  Besonderes Augenmerk wird auf die logischen Operatoren AND (&amp;&amp;) und OR (||) gelegt, die in JavaScript nicht ganz logisch sind: Sie akzeptieren und geben Werte aller Art zur√ºck.  Wir werden nicht auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Funktionsweise des Rechners f√ºr</a> logische Ausdr√ºcke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eingehen, sondern</a> Beispiele betrachten.  Die zuvor vorgestellte Option mit der Funktion: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count</span></span></span><span class="hljs-function">) </span></span>{ count = count || <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p>  Es k√∂nnte so aussehen: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ping</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">host, count</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// OR arguments.length? if (typeof count == 'undefined') { count = 5; } /* ... */ }</span></span></code> </pre> <br><p>  Eine solche √úberpr√ºfung ist vertrauter und kann in einigen F√§llen dazu beitragen, Fehler zu vermeiden. </p><br><p>  Vielmehr erscheint es dem Entwickler, der urspr√ºnglich den JavaScript-Pfad gew√§hlt hat, wild.  Aber f√ºr die meisten anderen ist dieser Code wirklich wild: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> root = (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> self == <span class="hljs-string"><span class="hljs-string">'object'</span></span> &amp;&amp; self.self === self &amp;&amp; self) || (<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> global == <span class="hljs-string"><span class="hljs-string">'object'</span></span> &amp;&amp; global.global === global &amp;&amp; global);</code> </pre> <br><p>  Ja, es ist kompakt und beliebte Bibliotheken k√∂nnen es sich leisten.  Aber bitte, lasst es uns nicht missbrauchen, denn unser Code wird nicht von Mitwirkenden in JavaScript gelesen, sondern von Entwicklern, die gesch√§ftliche Probleme innerhalb des Zeitrahmens l√∂sen. </p><br><p>  Ein solches Muster kann √ºberhaupt auftreten: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> count = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> opts == <span class="hljs-string"><span class="hljs-string">'object'</span></span> &amp;&amp; opts.count || <span class="hljs-number"><span class="hljs-number">5</span></span>;</code> </pre> <br><p>  Dies ist definitiv k√ºrzer als der √ºbliche tern√§re Operator, aber wenn Sie einen solchen Code lesen, erinnern Sie sich zuerst an die Priorit√§ten der verwendeten Operationen. </p><br><p>  Wenn wir eine Pr√§dikatfunktion schreiben, die wir an denselben <em>Array.prototype.filter √ºbergeben</em> , ist es ein guter Ton, den R√ºckgabewert in <em>Boolean zu</em> verpacken.  Der Zweck dieser Funktion wird sofort ersichtlich und es gibt keine Dissonanz zwischen Entwicklern, deren Sprachen die "richtigen" logischen Operatoren haben. </p><br><h3 id="pobitovye-operacii">  Bitweise Operationen </h3><br><p>  Ein h√§ufiges Beispiel f√ºr die √úberpr√ºfung des Vorhandenseins eines Elements in einem Array oder einer Teilzeichenfolge in einer Zeichenfolge mithilfe von bitweisem NOT (NOT), das selbst in einigen Tutorials angeboten wird: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (~[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>].indexOf(<span class="hljs-number"><span class="hljs-number">1</span></span>)) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'yes'</span></span>); }</code> </pre> <br><p>  Welches Problem l√∂st das?  Wir m√ºssen nicht pr√ºfen <em>! == -1</em> , da <em>indexOf</em> den Index des Elements oder -1 erh√§lt und die Tilde 1 hinzuf√ºgt und das Vorzeichen √§ndert.  Somit wird der Ausdruck im Fall von Index -1 zu einem "falschen". </p><br><p>  Eine Duplizierung von Code kann jedoch auf andere Weise vermieden werden: Sie k√∂nnen wie jeder andere auch eine Pr√ºfung in eine separate Funktion eines Utils-Objekts einf√ºgen, anstatt bitweise Operationen f√ºr andere Zwecke zu verwenden.  Daf√ºr gibt es in lodash eine <a href="">Includes-</a> Funktion, die nicht funktioniert <del>  Arschfick </del>  Tilde.  Sie k√∂nnen sich freuen, denn in ECMAScript 2016 wurde die Methode <em>Array.prototype.includes behoben</em> (die Zeilen haben auch eine). </p><br><p>  Aber da war es!  Eine andere Tilde (zusammen mit XOR) wird verwendet, um Zahlen zu runden und den Dezimalteil zu verwerfen: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(~~<span class="hljs-number"><span class="hljs-number">3.14</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 3 console.log(2.72^0); // 2</span></span></code> </pre> <br><p>  F√ºr diese Zwecke gibt es jedoch <em>parseInt</em> oder <em>Math.floor</em> .  Bitweise Operationen sind hier praktisch, um schnell Code in die Konsole einzugeben, da sie auch eine niedrige Priorit√§t gegen√ºber dem Rest der Arithmetik haben.  Bei einer Code√ºberpr√ºfung ist es jedoch besser, sie nicht zu verpassen. </p><br><h3 id="sintaksis-i-konstrukcii-yazyka">  Syntax- und Sprachkonstrukte </h3><br><p>  Einige seltsame Praktiken lassen sich nur schwer einem bestimmten Abschnitt zuordnen.  Sie sagen beispielsweise, dass Klammern beim Aufrufen des Konstruktors optional sind und die folgenden zwei Ausdr√ºcke identisch sind: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rabbit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rabbit(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rabbit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rabbit;</code> </pre> <br><p>  Und das ist es wirklich!  aber warum eine Frage von Grund auf neu erstellen?  Nicht jede Sprache kann sich einer solchen "Funktion" r√ºhmen.  Und wenn Sie es trotzdem wollen, dann lassen Sie es eine Vereinbarung √ºber das gesamte Projekt sein.  Ansonsten gibt es ein falsches Gef√ºhl, dass es einen Unterschied gibt. </p><br><p>  Eine √§hnliche Situation mit der Deklaration einer Reihe von Variablen.  Mit der Syntax der Direktiven <em>var</em> und <em>let</em> k√∂nnen Sie mehrere Variablen gleichzeitig deklarieren (und definieren), getrennt durch Kommas: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> count = <span class="hljs-number"><span class="hljs-number">5</span></span>, host, retry = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br><p>  Jemand verwendet Zeilenvorsch√ºbe zur besseren Lesbarkeit, aber in jedem Fall ist diese Syntax in g√§ngigen Sprachen nicht √ºblich.  Niemand wird helfen und fragen, ob Sie so schreiben: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> count = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> retry = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> host;</code> </pre> <br><p>  Auch hier gibt es keine Fragen, wenn auf Projekt- / Unternehmensebene eine Einigung √ºber guten Stil erzielt wird.  Es ist nur so, dass Sie nicht zu viel Syntax f√ºr Ihre Stimmung kombinieren m√ºssen. </p><br><p>  In der Sprache gibt es bestimmte Konstruktionen, z. B. IIFE, mit denen Sie eine Funktion sofort an der Stelle ihrer Definition aufrufen k√∂nnen.  Der Trick besteht darin, dass der Parser einen Funktionsausdruck erkennt, keine Funktionsdeklaration.  Und dies kann auf viele verschiedene Arten geschehen: klassisch in Klammern einwickeln, durch <em>void</em> oder einen anderen un√§ren Operator.  Und daran ist nichts Wunderbares!  Es ist notwendig, die einzige Option zu w√§hlen und sie nicht ohne die Notwendigkeit zu lassen: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }());</code> </pre> <br><p>  Sie m√ºssen keine Operatoren verwenden, um den Parser zu hacken.  Wenn ein Neuling zu dem Projekt kommt, m√∂chte ich es in die Gesch√§ftslogik der Anwendung eintauchen und es nicht mit Erkl√§rungen versehen, von denen all diese Ausrufezeichen und L√ºcken ausspioniert wurden.  Es gibt auch einen zweiten klassischen Eintrag in Klammern und einen interessanten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kommentar von Crockford</a> zu diesem Thema. </p><br><p>  Das Auftreten der Klassensyntax in ES6 wurde nicht von den √ºblichen Zugriffsmodifikatoren begleitet.  Und manchmal m√∂chte der Entwickler in die Klassen pinkeln und die Privatsph√§re beachten.  Was zu diesem Frankenstein-Code f√ºhrt: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(name) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> _name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _name; } } toString() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.getName()}</span></span></span><span class="hljs-string">`</span></span>; } }</code> </pre> <br><p>  Das hei√üt, Accessoren werden f√ºr die Instanz im Konstruktor erstellt, und die Privatsph√§re wird durch ihren Zugriff auf lokale Eigenschaftsvariablen durch Schlie√üen erreicht.  Dieses Beispiel sieht sogar nach Lacconcino aus, aber dies ist ein v√∂llig unskalierbarer Ansatz, es sei denn, Sie erstellen eine dokumentierte Framework-L√∂sung.  Meine Herren, verwenden wir entweder die verf√ºgbaren Klassen (und warten auf die Standardisierung privater Felder) oder das beliebte Mustermodul.  Hier eine Art Zwischenmischungsl√∂sung zu erstellen, ist so etwas f√ºr Sie, da Klassen keine Klassen mehr sind und der Code verst√§ndlich ist. </p><br><p>  Zusammenfassend wird er seinen gesunden Menschenverstand mit dem im Projekt verwendeten Styleguide, der Konfiguration f√ºr den Linter oder einfach mit Codefragmenten mit Kollegen teilen, die seine Nicht-JavaScript-Komponente zum Projekt beitragen.  Die Sprache bietet buchst√§blich f√ºr jede typische Aufgabe mehrere Optionen, sodass es nicht schwierig (oder fast) ist, das gegenseitige Verst√§ndnis zu verbessern und unter einen gemeinsamen Nenner zu fallen. </p><br><h2 id="zloklyuchenie">  Missgeschick </h2><br><p>  Dieses Thema ist sicherlich ganzheitlich und es gibt viel mehr Beispiele, aber die Hauptbotschaft des Artikels ist, dass Sie die Nicht-Offensichtlichkeit in JavaScript nicht missbrauchen sollten, wenn dies vermieden werden kann.  Die Art der Sprache ist einzigartig: Sie erm√∂glicht es Ihnen, sowohl elegante als auch ausdrucksstarke (m√§√üig "spitze") L√∂sungen zu schreiben, die verst√§ndlich und f√ºr jedermann zug√§nglich sind.  Ich bin grunds√§tzlich nicht mit der herk√∂mmlichen Weisheit einverstanden, dass JavaScript "sich selbst bestraft" oder "unter einem Haufen guter Absichten und Fehler begraben" ist.  Denn jetzt zeigt sich der gr√∂√üte Teil der Fremdheit nicht in der Sprache, sondern in der Kultur der Entwickler und (nicht) gleichg√ºltig um sie herum. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432102/">https://habr.com/ru/post/de432102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432092/index.html">Unangenehme Fehler beim Schreiben von Unit-Tests</a></li>
<li><a href="../de432094/index.html">Gemeinsamer Online-Hackathon von OpenGift und Credits Blockchain Platform</a></li>
<li><a href="../de432096/index.html">Komplette CMake-Anleitung. Teil Zwei: Build System</a></li>
<li><a href="../de432098/index.html">Autopiloten im Stra√üenverkehr, wie man mit Specials umgeht. mit dem Transport?</a></li>
<li><a href="../de432100/index.html">Wie wir die Abrechnungskonvertierung verbessert haben</a></li>
<li><a href="../de432104/index.html">Dezember IT Events Digest (Teil 1)</a></li>
<li><a href="../de432106/index.html">Food Design Digest, November 2018</a></li>
<li><a href="../de432108/index.html">Die intensive Registrierung ist f√ºr Kubernetes vom 1. bis 3. Februar in St. Petersburg m√∂glich</a></li>
<li><a href="../de432110/index.html">Web-Technologien f√ºr Designer - Schuldentilgung</a></li>
<li><a href="../de432112/index.html">Intel XMM 8160 - ein universelles Multimode-5G-Modem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>