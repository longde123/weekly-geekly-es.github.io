<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👦 🤫 🤚🏾 Do blockchain ao DAG: livrar-se dos intermediários 👨🏻‍🏫 🎱 👩‍👦‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, falarei sobre o DAG (Directed Acyclic Graph) e seu uso em registros distribuídos, e o compararemos com o blockchain. 



 O DAG não é no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Do blockchain ao DAG: livrar-se dos intermediários</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/obyte/blog/477032/"> Neste artigo, falarei sobre o DAG (Directed Acyclic Graph) e seu uso em registros distribuídos, e o compararemos com o blockchain. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11c/559/3db/11c5593dbab4892b5656f4359b15ef2e.png"><br><br>  O DAG não é novo no mundo das criptomoedas.  Você pode ter ouvido falar dele como uma solução para problemas de escalabilidade de blockchain.  Hoje, porém, não falaremos sobre escalabilidade, mas sobre o que torna as criptomoedas diferentes de tudo: descentralização, ausência de intermediários e resistência à censura. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/884/975/4c2/8849754c2f5986d58a6288ae52377349.png"><br><br>  Também mostrarei que o DAG é realmente mais resistente à censura e que não há intermediários para acessar o registro. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/02e/8ab/18f/02e8ab18f437218c4e324fdd3bfba4ed.png"><br><br>  Nas blockchains habituais para nós, os usuários não têm acesso direto ao próprio registro.  Quando você deseja adicionar uma transação ao registro, é necessário "pedir" ao produtor do bloco (produtor do bloco, também conhecido como "minerador") para fazer isso.  São os mineradores que decidem qual transação adicionar ao próximo bloco e quais não.  São os mineradores que têm acesso exclusivo aos blocos e têm o direito de decidir qual transação aceitar para adicionar ao registro. <br><br>  Os mineiros são intermediários entre você e o registro distribuído. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e04/ae3/56c/e04ae356c903f5c916006d75a4890b6b.png"><br><br>  Na prática, geralmente um pequeno número de pools de mineradores controla coletivamente mais da metade do poder de computação da rede.  Para bitcoin, essas são quatro piscinas, para Ethereum - duas.  Em caso de conluio, eles podem bloquear as transações que desejarem. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/16c/96e/14f/16c96e14f3d5b4f11fb87589bf55ca0a.png"><br><br>  Nos últimos anos, muitas variações de cadeias de blocos foram propostas, diferindo nos princípios de escolha dos produtores de blocos.  Mas os próprios produtores de bloco não vão a lugar algum, eles ainda estão "em pé na barreira": cada transação deve passar pelo produtor de bloco e, se ele não o aceitar, a transação, de fato, não existe. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11c/559/3db/11c5593dbab4892b5656f4359b15ef2e.png"><br><br>  Este é um problema inevitável no caso da blockchain.  E se queremos resolvê-lo, precisamos mudar radicalmente o design e nos livrar completamente dos blocos e fabricantes de blocos.  E, em vez de criar uma cadeia de blocos, uniremos as transações, incluindo os hashes de vários anteriores em cada transação.  Como resultado, obtemos uma estrutura conhecida em matemática como um gráfico acíclico direcionado - DAG. <br><br>  Agora todo mundo tem acesso direto ao registro, sem intermediários.  Quando você deseja adicionar uma transação ao registro, basta adicioná-la.  Escolha várias transações pai, adicione seus dados, assine e envie sua transação aos pares na rede.  Feito.  Não há ninguém para impedi-lo de fazer isso; portanto, sua transação já está no registro. <br><br>  Essa é a maneira mais descentralizada e sem censura de adicionar transações ao registro sem intermediários.  Porque todo mundo quer simplesmente adicionar suas transações ao registro sem pedir permissão a ninguém. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/077/0fc/79c/0770fc79c8d7cddd8af9c337137c351e.png"><br><br>  O DAG pode ser considerado o terceiro estágio da evolução do registro.  No início, havia registros centralizados, onde um lado controlava o acesso a eles.  Depois vieram as blockchains, nas quais já havia vários controladores que registravam transações no registro.  E, finalmente, no DAG não há controladores, os usuários adicionam suas transações diretamente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b9/37e/d1d/4b937ed1df42fda36d9d3031ea2c2b00.png"><br><br>  Agora que temos essa liberdade, isso não deve levar ao caos.  Precisamos ter um acordo sobre o status do registro.  E esse consentimento, ou consenso, geralmente significa concordar em duas coisas: <br><br><ol><li>  O que aconteceu <br></li><li>  Em que ordem isso aconteceu? <br></li></ol><br>  Podemos facilmente responder à primeira pergunta: assim que uma transação criada corretamente foi adicionada ao registro, aconteceu.  E o ponto.  As informações sobre isso podem alcançar todos os participantes em momentos diferentes, mas no final todos os nós receberão essa transação e descobrirão que ela ocorreu. <br><br>  Se fosse uma blockchain, os mineradores decidiriam o que estava acontecendo.  Tudo o que o mineiro decide incluir no bloco é o que acontece.  Tudo o que não inclui no bloco não acontece. <br><br>  Nas cadeias de blocos, os mineradores também resolvem o segundo problema de consenso: ordem.  Eles têm permissão para organizar transações dentro do bloco como quiserem. <br><br>  Como determinar a ordem das transações no DAG? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/55f/b8e/dbc/55fb8edbcff0278db23b3fe79eb0fcb1.png"><br><br>  Só porque nosso gráfico é direcionado, já temos alguma ordem.  Cada transação refere-se a um ou mais pais anteriores.  Os pais, por sua vez, referem-se aos pais e assim por diante.  Os pais obviamente aparecem antes das transações com filhos.  Se alguma transação puder ser alcançada clicando nos links pai-filho, sabemos com certeza o pedido entre as transações nessa cadeia de transações. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/070/235/cc0/070235cc0289abff458d7be6fd6c339e.png"><br><br>  Mas a ordem entre transações nem sempre pode ser determinada apenas a partir da forma do gráfico.  Por exemplo, quando duas transações se encontram em ramificações paralelas de um gráfico. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/571/c41/ab2/571c41ab2fa10df2cab5bd4460b7f74f.png"><br><br>  Para resolver a ambiguidade nesses casos, contamos com os chamados fornecedores de pedidos.  Também os chamamos de "testemunhas".  Esses são usuários comuns cuja tarefa é enviar constantemente transações para a rede de maneira ordenada, ou seja,  para que cada uma das transações anteriores possa ser realizada clicando nos links "pai e filho".  Os fornecedores de pedidos são usuários confiáveis ​​e toda a rede conta com eles para não violar esta regra.  Para confiar neles <b>racionalmente</b> , exigimos que cada fornecedor de pedidos seja uma pessoa ou organização bem conhecida (não anônima) e tenha algo que pode ser perdido se quebrar as regras, por exemplo, uma reputação ou um negócio baseado em confiança. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/744/ed3/e3b/744ed3e3b8aeaad9648d58f049e47ef0.png"><br><br>  Os provedores de pedidos são selecionados pelos usuários e cada usuário inclui uma lista de seus provedores confiáveis ​​em cada transação que ele envia à rede.  Esta lista consiste em 12 fornecedores.  Esse é um número bastante pequeno para que uma pessoa possa verificar a identidade e a reputação de cada uma delas, e suficiente para garantir que a rede continue funcionando em caso de problemas inevitáveis ​​com uma minoria de fornecedores de pedidos. <br><br>  Essa lista de provedores varia de usuário para usuário, mas as listas de transações vizinhas podem diferir no máximo em um provedor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b1/f10/121/7b1f10121c15252912bc3098474993dc.png"><br><br>  Agora que temos os fornecedores de pedidos, podemos destacar suas transações no DAG e organizar todas as outras transações em torno do pedido criado por eles.  Existe a possibilidade de criar esse algoritmo (consulte o <a href="https://obyte.org/Byteball.pdf">Livro Branco da Obyte</a> para obter detalhes técnicos). <br><br>  Mas o pedido em toda a rede não pode ser determinado instantaneamente. Precisamos de tempo para que os provedores de pedidos enviem um número suficiente de transações para garantir a ordem final das transações passadas. <br><br>  E, como o pedido é determinado apenas pelas posições das transações dos provedores no DAG, mais cedo ou mais tarde todos os nós da rede receberão todas as transações e chegarão à mesma conclusão em relação à ordem das transações. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a1f/9fb/dc8/a1f9fbdc89f49696d128b6821a115b50.png"><br><br>  Portanto, temos um acordo sobre o que consideramos ter acontecido: qualquer transação que entrou no DAG aconteceu.  Também concordamos com a ordem dos eventos: isso é visível com base nas transações relacionadas ou é deduzido da ordem das transações enviadas pelos fornecedores de pedidos.  Portanto, temos um consenso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/307/860/b92/307860b920a87583c87ebc5b252a5ea3.png"><br><br>  Temos essa opção de consenso na Obyte.  Apesar de o acesso ao registro Obyte ser completamente descentralizado, o consenso sobre a ordem das transações ainda é centralizado, pois  10 dos 12 fornecedores são controlados pelo criador (Anton Churyumov), e apenas dois deles são independentes.  Estamos procurando candidatos que desejam se tornar um dos fornecedores independentes de pedidos para nos ajudar a descentralizar o estabelecimento de pedidos no registro. <br><br>  Recentemente, apareceu um terceiro candidato independente que deseja estabelecer e manter um nó do fornecedor de pedidos - a Universidade de Nicósia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/57a/1ac/cb0/57a1accb088e61b49707d8210d86bdae.png"><br><br>  Agora, como controlamos os gastos duplos? <br><br>  De acordo com as regras, após a detecção de duas transações que gastam a mesma moeda, a transação que apareceu anteriormente na ordem final de todas as transações vence.  O segundo é desativado pelo algoritmo de consenso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f1/21e/0b4/5f121e0b471a97dc7b1b97a63524ef79.png"><br>  Se for possível estabelecer uma ordem entre duas transações que gastam uma moeda (nos relacionamentos pai-filho), todos os nós rejeitam imediatamente tal tentativa de gasto duplo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b93/5dc/dbb/b935dcdbb3b9fc3617e8e2ba1111208b.png"><br><br>  Se o pedido não for visível no relacionamento dos pais entre duas dessas transações, elas serão aceitas no registro e precisaremos aguardar um consenso e estabelecer um pedido entre eles usando os fornecedores do pedido.  A transação anterior vence e a segunda se torna inválida. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/839/591/e6b/839591e6b792496f76685e309409abc4.png"><br><br>  Embora a segunda transação se torne inválida, ela ainda permanece no registro, porque já possui transações subsequentes que se referem a ela, que não violaram nada e não sabiam que no futuro essa transação se tornaria inválida.  Caso contrário, teríamos de remover o pai das boas transações subsequentes, o que violaria o princípio principal da rede - qualquer transação correta é aceita no registro. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a08/cb5/fcb/a08cb5fcbdcb41e49815fc6953c553b4.png"><br><br>  Essa é uma regra muito importante que permite que todo o sistema seja resistente a tentativas de censura. <br><br>  Vamos fingir que todos os fornecedores de pedidos conspiram na tentativa de "censurar" uma transação específica.  Eles podem ignorá-lo e nunca escolher um "pai" para suas transações, mas isso não é suficiente, ainda pode ser incluída indiretamente como pai de alguma outra transação emitida por qualquer usuário da rede que não esteja envolvido na conspiração.  Com o tempo, essa transação receberá cada vez mais filhos, netos e bisnetos de usuários comuns, expandindo-se como uma bola de neve, e todos os fornecedores de pedidos acordados também terão que ignorar essas transações.  No final, eles terão que censurar toda a rede, o que equivale a sabotar. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/884/975/4c2/8849754c2f5986d58a6288ae52377349.png"><br><br>  Assim, o DAG permanece resistente a censura, mesmo que haja um conluio de fornecedores de pedidos, superando assim a blockchain na resistência à censura, na qual nada podemos fazer se os mineradores decidirem não incluir nenhuma das transações.  E isso decorre da propriedade principal do DAG: a participação no registro é absolutamente independente e sem intermediários, e as transações são irreversíveis. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt477032/">https://habr.com/ru/post/pt477032/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt477016/index.html">Por que vamos a conferências científicas?</a></li>
<li><a href="../pt477018/index.html">Mecanismo de privacidade Hack Mimblewimble</a></li>
<li><a href="../pt477020/index.html">Julgue qualquer pessoa com o toque de um botão</a></li>
<li><a href="../pt477022/index.html">Como podemos ajudá-lo? Como você pode nos ajudar?</a></li>
<li><a href="../pt477026/index.html">Sétimo Hackathon Anual da JetBrains</a></li>
<li><a href="../pt477038/index.html">A melhor linguagem de programação para iniciantes</a></li>
<li><a href="../pt477040/index.html">Gráfico Gartner 2019: sobre o que são todas essas chavões?</a></li>
<li><a href="../pt477042/index.html">Otimização da estratégia de blackjack de Monte Carlo</a></li>
<li><a href="../pt477044/index.html">Automação de testes de ponta a ponta de um sistema de informação integrado. Parte 2. Técnico</a></li>
<li><a href="../pt477046/index.html">.Net Meetup em Raiffeisenbank 28/11 + Transmissão</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>