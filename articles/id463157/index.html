<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêπ üë®üèº‚Äçüè´ üìè Server Streaming Video ESP32-CAM Menghubungkan Layar I2C dan SPI üë©üèæ‚Äçüé§ üêé üßëüèø‚Äçü§ù‚Äçüßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Modul ESP-32 CAM dengan kamera dari Diymore 

 Server Streaming Video ESP32-CAM 
 Contoh penggunaan ada di sini . 

 Pertama-tama Anda harus menginsta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Server Streaming Video ESP32-CAM Menghubungkan Layar I2C dan SPI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463157/">  Modul ESP-32 CAM dengan kamera dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Diymore</a> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fe/it/oc/feitoc3nxkss7zc6ocsw7cmuyho.jpeg" width="500"></div><br><h3>  Server Streaming Video ESP32-CAM </h3><br>  Contoh penggunaan ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Pertama-tama Anda harus menginstal perpustakaan: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Papan Esp32 di Arduino Ide Windows</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Papan Esp32 di Arduino Ide Linux dan Mac</a> <br><br>  Pengaturan detail ada di artikel. <br><br>  Dalam kasus saya, saya menggunakan modul AI-THINKER yang tidak diomentari <br>  #define CAMERA_MODEL_AI_THINKER <br><br>  Fungsi pengenalan wajah tidak berfungsi untuk saya.  Komentar dalam artikel itu sangat membantu. <br><a name="habracut"></a><br>  Tampaknya pengenalan wajah tidak lagi berfungsi (setidaknya dengan program contoh) saat menggunakan inti ESP 1.02.  Meluncur kembali ke inti 1.01 dan menggunakan contoh program milik inti itu, akan 'memperbaikinya' <br><br>  Setelah memutar kembali ke versi 1.01 perpustakaan sebelumnya semuanya bekerja. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_2/tg/47/_2tg47ntvkqznzh-nr_jhqzitz8.png"></div><br>  Saya memiliki sepasang layar I2C 128x64 dan TFT SPI 128x128 <br><br>  Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OV7670 dengan FIFO</a> cara menghubungkan kamera ke layar jika Anda tidak memiliki modul CAM.  Mendukung kamera OV2640 dan OV7670 <br><br>  Pada saat penulisan, berikut ini bekerja untuk saya <br><br>  Kamera ESP32 + Wifi Server + Layar I2C (AdaFruit) <br>  Kamera ESP32 + Tampilan SPI 1,44 "TFT 128x128 v1.1 (AdaFruit) <br>  Kamera ESP32 + Tampilan SPI 1.8 "TFT 128 * 160 (Espressif library) <br><br>  Driver WiFi bertentangan dengan bus SPI.  Kemungkinan solusi untuk menggunakan perpustakaan yang berbeda.  Masalah muncul pada saat inisialisasi modul WiFi. <br><br>  Masalah utama adalah bahwa modul ESP32-CAM memiliki jumlah kaki bebas yang terbatas.  Sebagian port digunakan untuk kamera, sebagian paralel dengan sd-card.  Konektor sd-card dipasang di papan tulis.  Kesimpulan lain (IO4) adalah senter LED. <br><br>  Layar I2C B / W tidak begitu menarik untuk digunakan secara nyata dengan gambar yang diterima dari kamera.  Warna TFT dan resolusi tinggi.  Di atasnya Anda sudah bisa melihat wajahnya.  Pada tampilan seperti itu atau sedikit resolusi yang lebih tinggi Anda dapat membuat Door Eye <br><br>  Saya akan segera mengatakan bahwa perpustakaan AdaFruit bukanlah yang tercepat.  Saya berhasil menampilkan beberapa bingkai per detik.  Lebih menjanjikan untuk menggunakan perpustakaan yang berfungsi pada level rendah.  Tapi saya tidak bisa mendapatkan ESP32_TFT_library dengan tampilan saya 1,44 "128x128 SPI V1.1. Mungkin ILI9163 tidak didukung. Saya mengambil 1,8" 128 * 160 SPI TFT dan saya berhasil memeras sekitar 12 FPS!  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> <br><br>  Ada beberapa perpustakaan yang bekerja lebih cepat.  Tetapi beberapa tidak porting untuk esp-32 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan</a> ): <br><br>  4,98 detik Adafruit_ST7735 <br>  1,71 detik ST7735X_kbv <br>  1,30 detik PDQ_ST7735 <br><br>  Video ini terlihat mengesankan: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HnhsxP0W0m4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Saat menggunakan <s>dua port,</s> salah satu port perangkat keras HSPI atau VSPI pada mikrokontroler dan tampilan dengan driver ILI9341 dapat menerima 30 frame per detik ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan</a> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7a/39/93/7a3993k5m_j9z5f2juglv5s9h9g.png"></div><br><br>  Tetapi seperti yang saya katakan sebelumnya dalam modul ESP32-CAM, hanya satu SPI yang gratis.  Ini ditampilkan pada PIN berikut: <br><br>  IO2 - DC (A0) <br>  IO14 - CLK <br>  IO15 - CS <br>  IO13 - MOSI (SDA) <br>  IO12 - MISO (Input. Tidak Digunakan) <br><br>  IO0 - BCKL (Lampu latar. Tidak digunakan) <br>  IO16 - RST <br><br><img src="https://habrastorage.org/webt/ob/wr/wy/obwrwyztxqm6ct4dtlxe_fggdim.png"><br><br><img src="https://habrastorage.org/webt/nr/7e/dg/nr7edg2broaykspjtyxncso2zxy.png"><br><br>  Perpustakaan pertama yang saya coba adalah AdaFruit SSD1306 <br><br><h3>  I2C 128x64 Layar OLED Biru </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ec/xl/ji/ecxljimycqq42q16yxswiehsv98.png"></div><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Wire.h&gt; #include &lt;Adafruit_GFX.h&gt; #include &lt;Adafruit_SSD1306.h&gt; #define SCREEN_WIDTH 128 // OLED display width, in pixels #define SCREEN_HEIGHT 64 // OLED display height, in pixels // Declaration for an SSD1306 display connected to I2C (SDA, SCL pins) #define OLED_RESET -1 // Reset pin # (or -1 if sharing Arduino reset pin) Adafruit_SSD1306 display; void init_display(){ pinMode(14,INPUT_PULLUP); pinMode(15,INPUT_PULLUP); Wire.begin(14,15); display = Adafruit_SSD1306(SCREEN_WIDTH, SCREEN_HEIGHT, &amp;Wire, OLED_RESET); if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { // Address 0x3D for 128x64 Serial.println(F("SSD1306 allocation failed")); for(;;); // Don't proceed, loop forever } ....</span></span></span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">camera_capture ()</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> BACKCOLOR 0x0000 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Black #define PIXELCOLOR 0xFFFF // White #define FRAME_WIDTH 320 #define FRAME_HEIGHT 240 uint16_t pixel_color = 0; esp_err_t camera_capture(){ //acquire a frame camera_fb_t * fb = esp_camera_fb_get(); if (!fb) { ESP_LOGE(TAG, "Camera Capture Failed"); return ESP_FAIL; } int i = 0; for(int y = 0; y &lt; SCREEN_HEIGHT; y++){ for(int x = 0; x &lt; SCREEN_WIDTH; x++){ i = y * FRAME_WIDTH + x; // FRAMESIZE_QVGA // 320x240 char ch = (char)fb-&gt;buf[i]; if (ch &gt; 128) pixel_color = WHITE; else pixel_color = BLACK; // Draw a single pixel in white display.drawPixel(x, y, pixel_color); } } display.display(); //return the frame buffer back to the driver for reuse esp_camera_fb_return(fb); Serial.println("Capture frame ok."); return ESP_OK; }</span></span></span></span></code> </pre><br></div></div><br>  Saat bekerja di esp32, emulasi I2C Perangkat Lunak digunakan.  Terlibat IO14 dan IO15.  Hampir semua port gratis dapat digunakan, bukan bus H / W yang digunakan. <br><br>  Bagaimana menghubungkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">layar OLED Monochrome 0.96 "i2c</a> . Anda perlu memperhatikan alamat tampilan pada bus I2C. Dalam hal ini, 0x3C <br><br><h3>  SPI Display 1,8 "TFT 128 * 160 Espressif Library </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e9/ym/zg/e9ymzg6iukpuzpowfbgvlln89dg.jpeg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eo/jv/j0/eojvj0nkmzg1dqiubx3jcaoepou.jpeg"></div><br>  Diagram pengkabelan: <br><br>  IO2 - A0 <br>  IO14 - SCK <br>  IO15 - CS <br>  IO13 - SDA <br>  IO16 - RESET <br><br><img src="https://habrastorage.org/webt/fp/v8/iv/fpv8iv79hdpoefoxwnzsc64ychm.png"><br>  Ada juga pembaca kartu SD di papan tulis <br><br>  Konfigurasi IO: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Configuration for other boards, set the correct values for the display used //---------------------------------------------------------------------------- #define DISP_COLOR_BITS_24 0x66 //#define DISP_COLOR_BITS_16 0x55 // Do not use! // ############################################# // ### Set to 1 for some displays, ### // for example the one on ESP-WROWER-KIT ### // ############################################# #define TFT_INVERT_ROTATION 0 #define TFT_INVERT_ROTATION1 0 // ################################################ // ### SET TO 0X00 FOR DISPLAYS WITH RGB MATRIX ### // ### SET TO 0X08 FOR DISPLAYS WITH BGR MATRIX ### // ### For ESP-WROWER-KIT set to 0x00 ### // ################################################ #define TFT_RGB_BGR 0x08 // ############################################################## // ### Define ESP32 SPI pins to which the display is attached ### // ############################################################## // The pins configured here are the native spi pins for HSPI interface // Any other valid pin combination can be used #define PIN_NUM_MISO 12 // SPI MISO #define PIN_NUM_MOSI 13 // SPI MOSI #define PIN_NUM_CLK 14 // SPI CLOCK pin #define PIN_NUM_CS 15 // Display CS pin #define PIN_NUM_DC 2 // Display command/data pin #define PIN_NUM_TCS 0 // Touch screen CS pin (NOT used if USE_TOUCH=0) // -------------------------------------------------------------- // ** Set Reset and Backlight pins to 0 if not used ! // ** If you want to use them, set them to some valid GPIO number #define PIN_NUM_RST 0 // GPIO used for RESET control #define PIN_NUM_BCKL 0 // GPIO used for backlight control #define PIN_BCKL_ON 0 // GPIO value for backlight ON #define PIN_BCKL_OFF 1 // GPIO value for backlight OFF // -------------------------------------------------------------- // ####################################################### // Set this to 1 if you want to use touch screen functions // ####################################################### #define USE_TOUCH TOUCH_TYPE_NONE // ####################################################### // ####################################################################### // Default display width (smaller dimension) and height (larger dimension) // ####################################################################### #define DEFAULT_TFT_DISPLAY_WIDTH 128 #define DEFAULT_TFT_DISPLAY_HEIGHT 160 // ####################################################################### #define DEFAULT_GAMMA_CURVE 0 #define DEFAULT_SPI_CLOCK 32000000 #define DEFAULT_DISP_TYPE DISP_TYPE_ST7735B //---------------------------------------------------------------------------- #define TFT_INVERT_ROTATION 0 #define TFT_INVERT_ROTATION1 1 #define TFT_INVERT_ROTATION2 0</span></span></code> </pre><br>  Instal lingkungan dan lingkungan pengembangan dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Espressif</a> .  Petunjuk terperinci tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cara melakukan ini</a> . <br><br>  Instal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">perpustakaan</a> .  Dua koreksi perlu dilakukan untuk merakit perpustakaan. <br><br>  Makefile: <br><br><pre> <code class="bash hljs">+ CFLAGS += -Wno-error=tautological-compare \ + -Wno-implicit-fallthrough \ + -Wno-implicit-function-declaration</code> </pre><br>  komponen / tft / tftspi.c: <br><br><pre> <code class="cpp hljs">+ <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"driver/gpio.h</span></span></span></span></code> </pre><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tempel</a> <br><br>  Kemudian instal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Driver Kamera ESP32</a> . <br><br>  Konfigurasikan: <br><br>  #.  $ HOME / esp / esp-idf / export.sh <br>  # idf.py menuconfig <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/yl/ml/ycylmlzznbfewlweiaris71dbzo.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_3/gn/5s/_3gn5s4bmrqunmhwjeabdtxe9yu.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x8/jc/g6/x8jcg6ia43npfcol7rebn1taz7e.png"></div><br>  Izinkan akses untuk port USB untuk firmware dan pemantauan: <br><br>  #sudo chmod 777 / dev / ttyUSB0 <br><br>  Kami mengumpulkan dan mengisi: <br><br>  #membuat -j4 &amp;&amp; membuat flash <br><br>  12FPS dicapai melalui penulisan paket menggunakan metode send_data.  Rekaman bukan pixel demi pixel, tetapi seluruh baris sama dengan lebar layar: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">esp_err_t</span></span> camera_capture(){ <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> tstart, t1, t2; tstart = clock(); <span class="hljs-comment"><span class="hljs-comment">//acquire a frame camera_fb_t * fb = esp_camera_fb_get(); if (!fb) { printf("Camera Capture Failed\n"); return ESP_FAIL; } t1 = clock() - tstart; printf("Capture camera time: %u ms\r\n", t1); int i = 0, bufPos = 0; uint8_t hb, lb; color_t color; color_t *color_line = heap_caps_malloc(_width*3, MALLOC_CAP_DMA); tstart = clock(); for(int y = 0; y &lt; _height; y++) { bufPos = 0; for(int x = 0; x &lt; _width; x++) { i = (y * FRAME_WIDTH + x) &lt;&lt; 1; hb = fb-&gt;buf[i] ; lb = fb-&gt;buf[i + 1]; color.r = (lb &amp; 0x1F) &lt;&lt; 3; color.g = (hb &amp; 0x07) &lt;&lt; 5 | (lb &amp; 0xE0) &gt;&gt; 3; color.b = hb &amp; 0xF8; color_line[bufPos] = color; bufPos++; // TFT_drawPixel(0, 0, color, 1); } disp_select(); send_data(0, y, _width-1, y, _width, color_line); wait_trans_finish(1); disp_deselect(); } free(color_line); t1 = clock() - tstart; printf("Send buffer time: %u ms\r\n", t1); esp_camera_fb_return(fb); printf("Capture frame ok.\n"); return ESP_OK; }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Konfigurasi kamera</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// #if defined(CAMERA_MODEL_AI_THINKER) #define PWDN_GPIO_NUM 32 #define RESET_GPIO_NUM -1 #define XCLK_GPIO_NUM 0 #define SIOD_GPIO_NUM 26 #define SIOC_GPIO_NUM 27 #define Y9_GPIO_NUM 35 #define Y8_GPIO_NUM 34 #define Y7_GPIO_NUM 39 #define Y6_GPIO_NUM 36 #define Y5_GPIO_NUM 21 #define Y4_GPIO_NUM 19 #define Y3_GPIO_NUM 18 #define Y2_GPIO_NUM 5 #define VSYNC_GPIO_NUM 25 #define HREF_GPIO_NUM 23 #define PCLK_GPIO_NUM 22 void camera_init_(){ camera_config_t config; config.ledc_channel = LEDC_CHANNEL_0; config.ledc_timer = LEDC_TIMER_0; config.pin_d0 = Y2_GPIO_NUM; config.pin_d1 = Y3_GPIO_NUM; config.pin_d2 = Y4_GPIO_NUM; config.pin_d3 = Y5_GPIO_NUM; config.pin_d4 = Y6_GPIO_NUM; config.pin_d5 = Y7_GPIO_NUM; config.pin_d6 = Y8_GPIO_NUM; config.pin_d7 = Y9_GPIO_NUM; config.pin_xclk = XCLK_GPIO_NUM; config.pin_pclk = PCLK_GPIO_NUM; config.pin_vsync = VSYNC_GPIO_NUM; config.pin_href = HREF_GPIO_NUM; config.pin_sscb_sda = SIOD_GPIO_NUM; config.pin_sscb_scl = SIOC_GPIO_NUM; config.pin_pwdn = PWDN_GPIO_NUM; config.pin_reset = RESET_GPIO_NUM; config.xclk_freq_hz = 20000000; config.fb_count = 2; // for display config.frame_size = FRAMESIZE_QVGA; config.pixel_format = PIXFORMAT_RGB565; // camera init esp_err_t err = esp_camera_init(&amp;config); if (err != ESP_OK) { printf("Camera init failed with error 0x%x", err); return; } printf("Camera init OK\n"); }</span></span></code> </pre><br></div></div><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Intisari</a> <br><br>  <u>FRAME_WIDTH adalah lebar bingkai 320 piksel untuk QVGA</u> <br><br><pre> <code class="cpp hljs">config.frame_size = FRAMESIZE_QVGA; <span class="hljs-comment"><span class="hljs-comment">// 320x240</span></span></code> </pre><br>  Bahkan, kita melihat pada jendela tampilan 128 * 160 dari bingkai penuh <br><br>  <i>Log untuk konfigurasi dengan satu buffer kamera video (config.fb_count = 1)</i> <i><br></i>  <i>Tangkap waktu kamera: 32 ms</i> <i><br></i>  <i>Kirim waktu buffer: 47 ms</i> <i><br></i>  <i>Ambil bingkai ok.</i> <br><br>  <b>Hasil</b> <b><br></b>  <b>1000 / (32 + 47) = 12,65 FPS</b> <br><br><div class="spoiler">  <b class="spoiler_title">Log untuk konfigurasi dengan dua buffer camcorder (config.fb_count = 2)</b> <div class="spoiler_text">  Tangkap waktu kamera: 39 ms <br><br>  Kirim waktu buffer: 63 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 59 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 34 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 40 ms <br><br>  Kirim waktu buffer: 64 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 59 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 34 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 40 ms <br><br>  Kirim waktu buffer: 63 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 60 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 34 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 39 ms <br><br>  Kirim waktu buffer: 63 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 60 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 1 ms <br><br>  Kirim waktu buffer: 34 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 40 ms <br><br>  Kirim waktu buffer: 63 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 60 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 34 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 40 ms <br><br>  Kirim waktu buffer: 63 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 59 ms <br><br>  Ambil bingkai ok. <br>  Tangkap waktu kamera: 0 ms <br><br>  Kirim waktu buffer: 35 ms <br><br>  Ambil bingkai ok. </div></div><br>  Karena penggunaan buffer kedua camcorder, buffer dalam beberapa siklus diperoleh secara instan.  Pada awalnya, siklus lengkap diperoleh dalam waktu kurang dari menggunakan satu buffer, tetapi kemudian kali ini "berjalan".  Interval antara siklus mengambang. <br><br>  Beberapa kali saya terjebak di log "Detektor Brownout dipicu" jadi saya mematikan detektor.  Karena pada awalnya saya mengisi tampilan lampu latar dari pin 3.3V ESP32-CAM <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"soc/rtc_cntl_reg.h"</span></span></span><span class="hljs-meta"> ... WRITE_PERI_REG(RTC_CNTL_BROWN_OUT_REG, 0); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//disable brownout detector</span></span></span></span></code> </pre><br><h3>  Kesimpulan </h3><br>  Modul fungsional murah ESP32.  Ada kekurangan kesimpulan besar untuk port yang diimplementasikan di papan CAM versi CAM, jadi pilih versi CAM jika Anda benar-benar membutuhkan kamera. <br><br><div class="spoiler">  <b class="spoiler_title">Tautan yang bermanfaat</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">randomnerdtutorials.com/esp32-troubleshooting-guide</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.instructables.com/id/Pilih-Color-Display-for-ESP32</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/gnulabis/UTFT-ESP</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/Bodmer/TFT_eSPI</a> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463157/">https://habr.com/ru/post/id463157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463143/index.html">Memulai dengan Google Analytics: App + Web</a></li>
<li><a href="../id463147/index.html">ROS Trolley Robot. Bagian 3. Mempercepat, mengganti kamera, memperbaiki gaya berjalan</a></li>
<li><a href="../id463149/index.html">Alan Kay merekomendasikan membaca buku-buku pemrograman yang lama dan terlupakan tetapi penting</a></li>
<li><a href="../id463151/index.html">iOS 13 di bawah kaca pembesar</a></li>
<li><a href="../id463155/index.html">Kebisingan putih menarik kotak hitam. Bagian 2. Solusi</a></li>
<li><a href="../id463159/index.html">Tentang keamanan, angka, email, dan sedikit tentang periklanan</a></li>
<li><a href="../id463165/index.html">Telegram menyerang kembali DPI dan mengunci - TLS palsu</a></li>
<li><a href="../id463167/index.html">Bahan-bahan yang diperlukan untuk memulai pengembangan proyek pelatihan VR</a></li>
<li><a href="../id463169/index.html">Alat Bantu Dengar Open Source - Bagaimana Cara Kerjanya</a></li>
<li><a href="../id463171/index.html">Jaringan saraf dan pembelajaran mendalam: tutorial online, bab 6, bagian 1: pembelajaran mendalam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>