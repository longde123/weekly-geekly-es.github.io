<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∑üèΩ üéß üåª Evoluci√≥n de la arquitectura m√≥vil de Reddit üëºüèæ üëµ üë©üèº‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este es el primero de los art√≠culos donde hablamos sobre la arquitectura de la aplicaci√≥n Reddit para iOS. Aqu√≠ estamos hablando de la funcionalidad q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Evoluci√≥n de la arquitectura m√≥vil de Reddit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423531/"><img src="https://habrastorage.org/webt/1r/dn/uj/1rdnujtx26d-qbtgc7g3w7g6cui.jpeg"><br><br>  Este es el primero de los art√≠culos donde hablamos sobre la arquitectura de la aplicaci√≥n Reddit para iOS.  Aqu√≠ estamos hablando de la funcionalidad que funciona m√°s cerca de la interfaz de usuario.  En particular, la transici√≥n a la arquitectura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Model-View-Presenter</a> (MVP).  Las ventajas de tal refactorizaci√≥n: <br><br><ul><li>  Mejora de la flexibilidad, claridad y facilidad de mantenimiento del c√≥digo para respaldar el crecimiento futuro y acelerar las iteraciones. </li><li>  Aumento del rendimiento de desplazamiento en 1,58 veces. </li><li>  Prueba de unidad estimuladora.  El n√∫mero de pruebas aument√≥ de unas pocas a m√°s de 200. </li></ul><a name="habracut"></a><br>  A continuaci√≥n se muestra un diagrama visual de nuestra arquitectura en capas.  El primer art√≠culo se centrar√° en los niveles de Vista y Presentador. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51d/640/d33/51d640d336e400357f95b3f1e7c7121d.png"></div><br>  <i><font color="gray">La mejor vista de nuestra arquitectura en capas</font></i> <br><br><h1>  Prerrequisitos para el cambio </h1><br>  Hace m√°s de un a√±o, publicamos el art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Creaci√≥n de una cinta de opciones en una aplicaci√≥n Reddit para iOS"</a> .  Discuti√≥ c√≥mo generar una alimentaci√≥n productiva y expandible con una notable tasa de sesi√≥n del 99.95% sin fallar.  Explicamos c√≥mo usar la arquitectura Modelo-Vista-Controlador (MVC) y crear abstracciones para los datos de paginaci√≥n. <br><br>  Ahora Reddit ha crecido y contin√∫a creciendo como organizaci√≥n y como servicio.  En consecuencia, los requisitos para la aplicaci√≥n Reddit iOS han aumentado.  Deber√≠a admitir m√°s solicitudes de funciones, bucles iterativos m√°s r√°pidos y est√°ndares de calidad m√°s altos.  El equipo de desarrollo ha crecido de tres a m√°s de veinte personas.  La arquitectura MVC original apenas cumple con estos requisitos, por lo que hubo que hacer cambios arquitect√≥nicos. <br><br><h1>  La esencia del problema </h1><br>  Con el tiempo, el c√≥digo ha perdido flexibilidad y claridad.  En la comunidad de desarrolladores de iOS, la abreviatura MVC a menudo se descifra como Massive View Controller porque los controladores de vista a menudo se hinchan a objetos divinos con m√°s de mil l√≠neas.  A pesar de todos nuestros esfuerzos, surgi√≥ un problema: la jerarqu√≠a de la herencia se hizo inc√≥modamente profunda, y los controladores comenzaron a convertirse en oscuros objetos divinos que resisten el cambio. <br><br>  Introdujimos el √∫ltimo clavo en el ata√∫d MVC cuando decidimos cambiar el nivel de presentaci√≥n de la cinta.  La audiencia de la aplicaci√≥n Reddit est√° creciendo, por lo que el rendimiento del desplazamiento se ha degradado con demasiada frecuencia de 60 FPS a 45‚Äì55 FPS.  Esto significa que debe volver a escribir la capa de presentaci√≥n de la cinta mientras mantiene la implementaci√≥n original.  Pero en la arquitectura MVC existente, no podr√≠amos reescribir la capa de presentaci√≥n de cinta sin duplicar miles de l√≠neas de c√≥digo. <br><br>  Adem√°s, muchas partes de la base del c√≥digo son dif√≠ciles de probar.  El c√≥digo est√° en la clase probada de la capa de presentaci√≥n, y las dependencias a menudo est√°n solas (singleton) o codificadas en la clase misma.  Quer√≠amos darnos cuenta de la posibilidad de una prueba normal. <br><br>  Otras tareas establecidas para la refactorizaci√≥n: el n√∫mero de fallas debe permanecer bajo, la nueva arquitectura debe sentar las bases para el crecimiento futuro y no interferir con las funciones que dependen de la infraestructura existente.  Es decir, se requieren cambios evolutivos, no revolucionarios. <br><br><h1>  Transici√≥n a MVP </h1><br>  Decidimos que para resolver los problemas anteriores se necesita una nueva versi√≥n de la aplicaci√≥n.  Despu√©s de considerar varias opciones, decidimos usar la arquitectura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Model-View-Presenter</a> (MVP).  MVP cumple con todos estos criterios, y es una arquitectura bien conocida y documentada, por lo que es m√°s f√°cil capacitar ingenieros.  Tambi√©n conserva el concepto de "ver modelos".  Si es necesario, en Presenter, puede crear objetos de modelo de vista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">seg√∫n el principio de responsabilidad exclusiva</a> , y usarlos para expandir nuestras vistas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d9d/71a/cc4/d9d71acc4bf37f6494d524015b4fb55f.png"></div><br>  <i><font color="gray">Gr√°fico de modelo-vista-presentador</font></i> <br><br><h1>  Deshacerse de Massive View Controller </h1><br>  Para las aplicaciones de iOS, se acepta que los objetos de vista son subclases de UIView, los objetos de controlador son subclases de UIViewController y los objetos de modelo son objetos simples.  Como el nombre UIViewController implica, aqu√≠ la vista y el controlador se combinan en un solo objeto.  Es decir, el modelo MVC en iOS a menudo pierde sus ventajas debido a la estrecha conexi√≥n entre el nivel de presentaci√≥n y el controlador.  Curiosamente, la propia Apple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reconoce esta conexi√≥n</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b21/06c/33f/b2106c33f786ae4c88477a1bed5d2eb0.png"></div><br>  <i><font color="gray">A menudo, la arquitectura Modelo-Vista-Controlador para iOS se convierte en</font></i> <br><br>  En la arquitectura MVP, tomamos en cuenta este concepto y lo formalizamos, considerando el UIViewController realmente como un objeto expl√≠cito de la capa de presentaci√≥n.  El concepto de tratar un UIViewController como un objeto de presentaci√≥n con un mal nombre se ha <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">popularizado</a> en los √∫ltimos a√±os. <br><br>  Entonces, eliminamos toda l√≥gica extra√±a en nuestros UIViewControllers.  Luego asignamos Presentador al intermediario entre la vista y el modelo.  En este nuevo rol, desconoce los objetos de vista como el UIViewController.  Tenga en cuenta que Presenter interact√∫a con la vista a trav√©s de una interfaz.  Te√≥ricamente, puede cambiar la implementaci√≥n de una vista a NSViewController (para MacOS), etc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/332/85c/ee2/33285cee27e5526bbdaf6f136487fe4b.png"></div><br>  <i><font color="gray">Hacemos que ViewController sea m√°s f√°cil al presentar Presentador y compartir responsabilidades</font></i> <br><br><h1>  Reflexionando sobre las opciones de MVP </h1><br>  Como puede ver en el diagrama MVP, la arquitectura sali√≥ muy similar a MVC.  De hecho, hay m√°s similitudes que diferencias.  Dicha arquitectura simplemente ayuda a establecer la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">separaci√≥n correcta del c√≥digo de presentaci√≥n y la l√≥gica empresarial</a> que MVC busca.  De hecho, todas las derivadas de la arquitectura de MV (x), como MVP, MVVM, MVAdapter y otras, son simplemente versiones diferentes del mismo concepto. <br><br>  Uno puede preguntarse por qu√© abandonamos completamente MVC.  De hecho, Apple describe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">diferentes tipos de controladores</a> : para modelos, intermediarios y coordinaci√≥n.  Honestamente, tal vez podr√≠amos reemplazar nuestro presentador con otro controlador.  Pero decidieron no hacer esto, porque la mayor√≠a de los desarrolladores de iOS por alguna raz√≥n formaron la creencia de que UIViewController es un sin√≥nimo del controlador.  Usando la palabra Presentador, damos una se√±al de que este objeto es significativamente diferente de un controlador convencional con un cierto conjunto de funciones y propiedades. <br><br><h1>  Mejora de la flexibilidad, la sostenibilidad y la claridad. </h1><br>  "Prefiero la composici√≥n sobre la herencia" es un mantra bien conocido en la programaci√≥n de objetos.  Con la herencia, debe predecir el futuro y construir una gran taxonom√≠a de objetos.  Pero si su jerarqu√≠a de herencia construida "idealmente" comienza a desmoronarse debido a cambios imprevistos, es dif√≠cil modificar esta estructura r√≠gida.  En la composici√≥n, los objetos se crean a partir de otros objetos y delegan trabajo en ellos.  Esto es √∫til porque es f√°cil cambiar el comportamiento de un objeto en tiempo de ejecuci√≥n simplemente cambiando los objetos que lo componen.  Estos objetos compuestos son a√∫n m√°s comprensibles, ya que el c√≥digo se ve obligado a salir de la jerarqu√≠a de herencia a una abstracci√≥n orientada a una tarea espec√≠fica. <br><br>  Dicha composicionalidad es una de las principales ventajas que la arquitectura MVP nos ha brindado.  Ahora puede cambiar el comportamiento del controlador simplemente cambiando la composici√≥n de un presentador en particular.  Ahora estamos menos preocupados por descifrar la estructura de herencia compleja y r√≠gida.  Finalmente, los controladores de vista y los objetos Presentador son m√°s f√°ciles de entender porque tienen un conjunto de tareas m√°s claro. <br><br>  Al introducir Presenter y mover parte de la l√≥gica del controlador de vista all√≠, hemos simplificado la jerarqu√≠a de herencia del controlador.  La siguiente figura muestra que pudimos eliminar la clase GalleryFeedViewController, ya que pusimos toda esta l√≥gica en el Presentador.  Como ya se discuti√≥, dicha jerarqu√≠a de herencia es m√°s f√°cil de entender y menos r√≠gida. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b56/d90/c13/b56d90c13388424bf32dcad9ccbd8b1a.png"></div><br>  <i><font color="gray">Simplifique la jerarqu√≠a de la herencia a trav√©s de la composici√≥n.</font></i> <br><br><h1>  Cambio libre a la implementaci√≥n de la capa de presentaci√≥n </h1><br>  Como se discuti√≥ anteriormente, el rendimiento de desplazamiento de la cinta comenz√≥ a disminuir de 60 FPS a 45‚Äì55 FPS.  Por lo tanto, para la capa de presentaci√≥n de cinta, decidimos usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Texture</a> .  Es una plataforma de c√≥digo abierto basada en Apple UIKit que mejora el rendimiento de la interfaz a trav√©s del preprocesamiento en el hilo de fondo.  En la arquitectura MVC anterior, no pod√≠amos cambiar la implementaci√≥n de la capa de presentaci√≥n sin mucha duplicaci√≥n de c√≥digo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/836/f03/2dd/836f032dd8dfc3b87940913d0352a9da.png"></div><br>  <i><font color="gray">Antes de implementar MVP, ten√≠a que duplicar c√≥digo extra√±o en el ViewController que no estaba relacionado con la Vista (naranja)</font></i> <br><br>  La nueva arquitectura MVP permiti√≥ la introducci√≥n del soporte Texture, en lugar de reescribir las cosas desde cero.  Acabamos de poner toda la l√≥gica no vista en la clase gen√©rica Presenter.  Luego escribieron una nueva implementaci√≥n de la capa de presentaci√≥n de texturas c y reutilizaron el c√≥digo del presentador.  Esto dio soporte a ambas implementaciones de View hasta que lleg√≥ el momento de desplegar c√≥modamente la cinta con Texture para todos los usuarios. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bcc/4fb/8bc/bcc4fb8bc0d4426c9409015a0528a7ec.png"></div><br>  <i><font color="gray">Despu√©s de la implementaci√≥n de MVP: el c√≥digo sin vista se movi√≥ al presentador compartido</font></i> <br><br>  Cual es el resultado?  El siguiente diagrama muestra un aumento en el rendimiento del desplazamiento de la cinta.  Quer√≠amos permanecer alrededor de 60 FPS para lograr un desplazamiento absolutamente suave. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91d/421/7fb/91d4217fbf1d8576f9b28f5d6029ab94.png"></div><br><br><h1>  Prueba unitaria </h1><br>  Por supuesto, implementamos pruebas unitarias no solo por MVP, sino que fue un factor importante.  En particular, la arquitectura MVP ha expandido el √°rea de prueba moviendo el c√≥digo a un nivel donde es m√°s f√°cil de verificar.  Un efecto secundario es que los niveles de Vista se han vuelto m√°s simples y, por lo tanto, deben probarse con menos frecuencia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb5/1c5/f09/eb51c5f094d5e10252c25110e97514e1.png"></div><br>  <i><font color="gray">Aumentar el √°rea de prueba despu√©s de mover el c√≥digo no View fuera de esta capa</font></i> <br><br>  Las pruebas unitarias han mejorado el soporte de la base de c√≥digo: le permiten realizar cambios con mayor confianza y ayudan a comprender cu√°l deber√≠a ser el comportamiento correcto.  Tambi√©n hacen que el c√≥digo sea m√°s flexible y comprensible porque fomentan m√©todos como la inyecci√≥n de dependencia, la composici√≥n y la programaci√≥n de abstracci√≥n.  El n√∫mero de pruebas unitarias ha aumentado de unas pocas a m√°s de 200. <br><br><h1>  An√°lisis cr√≠tico de MVP en Reddit </h1><br>  Aunque cambiar a MVP ha ayudado mucho, todav√≠a hay algunas cosas a considerar. <br><br>  La transici√≥n de la cinta a Texture caus√≥ nuevos problemas con los hilos.  La aplicaci√≥n no admit√≠a inicialmente la implementaci√≥n asincr√≥nica de View.  Es decir, los errores aparecen inevitablemente en el caso de una falta de coincidencia entre el estado Ver y el estado de la aplicaci√≥n.  Por ejemplo, una vista de cinta puede tener N registros.  Y en el hilo de fondo, el estado de la aplicaci√≥n ha cambiado silenciosamente, y ahora contiene menos de N mensajes.  Si la discrepancia no se resuelve, la aplicaci√≥n simplemente se bloquear√° cuando View intente mostrar la en√©sima publicaci√≥n en la transmisi√≥n. <br><br>  Los errores m√°s dif√≠ciles de solucionar con hilos.  Son dif√≠ciles de reproducir, por lo que son dif√≠ciles de depurar.  Tuve que cambiar la l√≥gica de la solicitud y recibir datos para ver el feed.  En particular, implementamos "protecci√≥n" con la prohibici√≥n de cualquier cambio en la fuente de datos cuando la Vista de la cinta sufre algunos cambios.  Esta y otras correcciones menores redujeron la cantidad de errores asociados con el procesamiento de transmisi√≥n.  Sin embargo, el subprocesamiento m√∫ltiple as√≠ncrono todav√≠a se puede mejorar. <br><br>  En segundo lugar, la capa Presentador representa un "paso" adicional en la tuber√≠a.  Este paso tiene un precio en t√©rminos de aumentar la complejidad del c√≥digo y reducir el rendimiento.  A veces solo quieres ejecutar esta l√≥gica en el UIViewController por capricho o porque est√°s acostumbrado a hacerlo.  En el peor de los casos, encontrar√° que Presenter est√° presente simplemente como una entidad, sin ninguna l√≥gica significativa.  En tal situaci√≥n, el presentador no parece justificar su existencia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f8c/2b8/4c7/f8c2b84c7672d146fe7b9ac37eee24c8.png"></div><br>  <i><font color="gray">A veces puede cambiar de una capa de Vista a una capa de RedditCore sin Presentador</font></i> <br><br>  De hecho, nuestra aplicaci√≥n no est√° completamente convertida a la arquitectura MVP.  Primero, convertir cada UIViewController individual en un Presentador requerir√° demasiado tiempo, y no ser√° evolutivo.  En segundo lugar, como se mencion√≥ en el p√°rrafo anterior, a veces simplemente no se necesita Presentador.  Como descubrimos en nuestro trabajo sobre la implementaci√≥n de Texture for Ribbon, Presenter es excelente para facilitar MVC masivo o para implementar View con comportamiento variable, o si tiene una l√≥gica compleja que debe verificarse.  Pero a veces el UIViewController es tan simple que Presenter no tiene sentido.  Entonces es opcional.  El presentador solo debe implementarse si es necesario. <br><br><h1>  Resumen y planes futuros </h1><br>  Refactorizar la arquitectura MVP en la aplicaci√≥n Reddit iOS ayud√≥ a resolver muchas de las tareas.  Al presentar la capa Presenter, desarrollamos gradualmente la arquitectura de la aplicaci√≥n para admitir la nueva implementaci√≥n de la capa de presentaci√≥n, sin interrumpir otras funciones.  El c√≥digo se ha vuelto m√°s claro al facilitar el "MVC masivo", transfiriendo la l√≥gica extra√±a a la capa Presentador.  Tambi√©n les dimos a los desarrolladores la capacidad de iterar m√°s r√°pido e implementar nuevas funciones.  Y mejor√≥ significativamente las pruebas. <br><br>  Dado todo esto, todav√≠a queda un largo camino por recorrer.  Continuamos creando objetos de Presentador y los mejoramos.  Necesitamos continuar moviendo la l√≥gica extra√±a de UIViewControllers al nivel de Presentador.  Tambi√©n es necesario que todos los presentadores est√©n mejor alineados con el principio de responsabilidad exclusiva.  Al final, tanto la aplicaci√≥n como la arquitectura evolucionan constantemente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423531/">https://habr.com/ru/post/es423531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423519/index.html">Monstruo errante: c√≥mo deshacerse de los problemas en el mapa</a></li>
<li><a href="../es423521/index.html">Siete reglas generales para experimentar con sitios web</a></li>
<li><a href="../es423523/index.html">Sensor combinado, con preferencia y poetas</a></li>
<li><a href="../es423527/index.html">Las aplicaciones para ni√±os recopilan datos personales de forma masiva y los transmiten a terceros</a></li>
<li><a href="../es423529/index.html">¬øQu√© necesita todo el equipo para trabajar? ¬øC√≥mo arrastrar a todos al sistema de gesti√≥n de proyectos?</a></li>
<li><a href="../es423533/index.html">Preguntas frecuentes para vuelos interurbanos de autobuses de pasajeros</a></li>
<li><a href="../es423535/index.html">¬øPor qu√© los contenedores de basura acceden a Internet?</a></li>
<li><a href="../es423537/index.html">Inteligencia artificial al servicio de la seguridad de la red. Parte 1</a></li>
<li><a href="../es423539/index.html">El resumen de materiales frescos del mundo del front-end durante las √∫ltimas dos semanas No. 330 (3 al 16 de septiembre de 2018)</a></li>
<li><a href="../es423541/index.html">Los complementos de Kodi se utilizan para distribuir criptomineros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>