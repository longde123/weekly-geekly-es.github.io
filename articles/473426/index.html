<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå™Ô∏è üë®üèΩ‚Äçüîß üàöÔ∏è Automatizaci√≥n de pruebas End-2-End de un sistema de informaci√≥n integrado. Parte 1. Organizacional ü§ôüèº üî† üìá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Con este art√≠culo, abrimos una serie de publicaciones sobre c√≥mo automatizamos el proceso de prueba manual de un gran sistema de informaci√≥n en uno de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatizaci√≥n de pruebas End-2-End de un sistema de informaci√≥n integrado. Parte 1. Organizacional</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/473426/">  Con este art√≠culo, abrimos una serie de publicaciones sobre c√≥mo automatizamos el proceso de prueba manual de un gran sistema de informaci√≥n en uno de los principales proyectos de LANIT y lo que surgi√≥ de √©l. <br><br>  <i>La primera parte, organizativa y administrativa, deber√≠a ser √∫til principalmente para aquellos que son responsables de probar la automatizaci√≥n y crear tales sistemas en su conjunto.</i>  <i>Los gerentes de proyecto, los l√≠deres de grupo y los propietarios de servicios de pruebas funcionales y autom√°ticas, <b>todos los que se preocupan por la pregunta "c√≥mo construir una prueba rentable de extremo a extremo de su sistema de TI", encontrar√°n aqu√≠ un plan y una metodolog√≠a espec√≠ficos.</b></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f3/664/45f/8f366445ff952429d3a43ff7911ef34d.jpg"></div>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a></i> <br><a name="habracut"></a><br><h1>  Parte 1 - Organizacional y gerencial.  ¬øPor qu√© necesitamos automatizaci√≥n?  Organizaci√≥n del proceso de desarrollo y gesti√≥n.  Organizaci√≥n de uso </h1><br>  Inicialmente, al principio hab√≠a un sistema de informaci√≥n grande y complejo (lo llamaremos el "Sistema") con numerosos escenarios de negocios complejos, largos e interconectados.  Todos los scripts se probaron como E2E a trav√©s de interfaces web exclusivamente en modo manual (hab√≠a m√°s de mil quinientos de tales escenarios de la prioridad m√°s cr√≠tica solamente).  Adem√°s, todos estos escenarios tuvieron que completarse al menos una vez durante la regresi√≥n de cada nueva versi√≥n o revisi√≥n antes de la pr√≥xima actualizaci√≥n de implementaci√≥n del producto. <br><br>  En cierto momento, cuando se volvi√≥ completamente insoportable hacer clic con el mouse en modo manual, decidimos automatizarlo todo.  Eso es lo que hicieron a trav√©s del desarrollo de un servicio separado basado en java + selenium + selenide + selenoid, que tambi√©n se denomina <b>"marco de prueba"</b> o simplemente - <b>"Autotests"</b> . <br><br>  Hist√≥ricamente, el c√≥digo del marco de prueba fue desarrollado por dos equipos.  Primero, el primer equipo cre√≥ un prototipo con un par de docenas de escenarios.  Luego, el segundo equipo durante un a√±o escal√≥ el prototipo tanto en amplitud (n√∫mero de pruebas) como en profundidad (se introdujeron los patrones t√≠picos de codificaci√≥n e implementaci√≥n). <br><br>  Soy el equipo y el l√≠der del equipo del segundo equipo, que adopt√≥ el marco prototipo para escalar (en mayo de 2018). <br><br>  En el momento de escribir este art√≠culo, la tarea establecida hace un a√±o se complet√≥ y el equipo del proyecto recibi√≥ un <u><b>servicio de</b></u> automatizaci√≥n estable.  No fue en vano que enfatice el <u><b>servicio</b></u> , porque inicialmente la tarea no se estableci√≥ como desarrollar una aplicaci√≥n, sino como proporcionar un servicio-servicio para la automatizaci√≥n de pruebas a un grupo de "pruebas funcionales".  Y esta caracter√≠stica posteriormente influy√≥ enormemente en la organizaci√≥n del desarrollo y la arquitectura del marco de prueba. <br><br><blockquote><h2>  Resumen </h2><br>  Se automatizaron aproximadamente 1.500 escenarios de prueba: en cada prueba, de 200 a 2000 operaciones de usuario. <br><br>  La capacidad total del servicio es de hasta 60 navegadores que funcionan simult√°neamente, y este no es el l√≠mite (el n√∫mero se puede aumentar en 5 veces debido a las m√°quinas virtuales). <br>  La duraci√≥n total de una regresi√≥n completa no es m√°s de 3 horas, y la prueba PreQA es menos de una hora. <br><br>  Se ha implementado una amplia gama de caracter√≠sticas: <br><br><ul><li>  uso local (ejecuci√≥n en tiempo real) y remoto (a trav√©s de planes Bamboo); </li><li>  limitar la composici√≥n de las pruebas de funcionamiento por filtro; </li><li>  un informe detallado con los resultados de cada paso del escenario de prueba (a trav√©s del marco Allure); </li><li>  descargar y cargar archivos desde / hacia el navegador, seguido de verificar los resultados de su procesamiento en t√©rminos del formato y contenido de los archivos; </li><li>  contabilidad y control de la naturaleza asincr√≥nica de la interfaz angular.  Incluyendo el control de solicitudes bloqueadas (solicitud pendiente) entre servicios angulares y REST; </li><li>  control de registros del navegador; </li><li>  grabaci√≥n de prueba de video; </li><li>  eliminaci√≥n de la instant√°nea de la p√°gina en el punto de "ca√≠da" de la prueba; </li><li>  transmisi√≥n de eventos en ELK; </li><li>  mucho m√°s sobre las peque√±as cosas ... </li></ul><br></blockquote><br><h1>  ¬øPor qu√© se necesitaba todo esto? </h1><br>  Al principio, el prop√≥sito del sistema era bastante simple y claro. <br><br>  Imagine que tiene un gran sistema de registro para administrar una amplia gama de documentos y su ciclo de vida, que proporcionan un par de cientos de procesos comerciales.  Adem√°s, hay millones de personas, proveedores, decenas de miles, servicios, miles, documentos complejos, incluidos el marco y la plantilla, y la provisi√≥n de procesos comerciales se proporciona de cientos de maneras diferentes ... <br><br>  Todo esto se convierte en mil escenarios de prueba, y esto es solo la m√°s alta prioridad y solo positivo. <br><br>  En el proceso de automatizaci√≥n, se revelaron varios matices que requer√≠an el uso de varias soluciones. <br><br>  Por ejemplo, una secuencia de comandos podr√≠a contener hasta cientos de operaciones separadas, incluidas aquellas interesantes como: "Descargue un archivo EXCEL con datos y verifique que el sistema procese cada registro del archivo" (para resolver este problema, tom√≥ varios pasos para preparar los datos y luego verificar el resultado de cargarlo en Sistema).  Y ahora agregamos la restricci√≥n de reutilizaci√≥n de datos de prueba: los datos de prueba para completar con √©xito la mayor√≠a de los escenarios de prueba deben ser "nuevos" y no haber sido utilizados previamente en escenarios similares (durante las pruebas, el estado de los datos en el Sistema cambia, como resultado de lo cual no se pueden reutilizar para los mismos controles) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/242/0a7/ccc/2420a7ccc161bb7ee6537a73cd6bd33a.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a> <br><br>  En alg√∫n momento, las pruebas manuales del Sistema como parte de la regresi√≥n dejaron de parecer rentables y lo suficientemente r√°pidas, y decidieron automatizarlo a trav√©s de la interfaz de usuario web. <br><br>  En otras palabras, el grupo de prueba funcional abre la "p√°gina", selecciona el "grupo de prueba", presiona el bot√≥n "ejecutar" (utilizamos Bamboo).  Luego, las Autopruebas (en lo sucesivo denominadas Autopruebas. Designe el producto creado para la prueba en general) emula autom√°ticamente las acciones de los usuarios en el Sistema a trav√©s del navegador ("presione" los botones necesarios, ingrese los valores en los campos, etc.), al finalizar, muestre un informe detallado de todos pasos y acciones completadas y resultados de la verificaci√≥n (correspondencia de la reacci√≥n esperada del Sistema a su comportamiento real). <br><br>  Total, el prop√≥sito de Autotests es la automatizaci√≥n de las pruebas manuales E2E.  Este es un sistema "externo" que no participa en el proceso de desarrollo del sistema bajo prueba y de ninguna manera est√° conectado con la unidad o las pruebas de integraci√≥n utilizadas por los desarrolladores. <br><br><h2>  Objetivos </h2><br>  Era necesario reducir significativamente los costos de mano de obra para realizar las pruebas End-2-End y aumentar la velocidad de las regresiones completas y reducidas en t√©rminos de volumen. <br><br><div class="spoiler">  <b class="spoiler_title">Objetivos adicionales</b> <div class="spoiler_text"><ul><li>  para garantizar una alta velocidad de desarrollo de las pruebas autom√°ticas con un alto nivel de autonom√≠a (se debe minimizar la necesidad de un llenado preliminar con datos de prueba de los stands del Sistema / configuraci√≥n de Autotests para ejecutar en cada stand); </li><li>  optimizar los gastos (tiempo y financieros) para las comunicaciones entre equipos de automatizaci√≥n, pruebas funcionales y desarrollo de sistemas; </li><li>  minimizar el riesgo de discrepancias entre las pruebas autom√°ticas implementadas realmente y las expectativas iniciales del equipo de pruebas funcionales (el equipo de pruebas funcionales debe confiar incondicionalmente en los resultados de las pruebas autom√°ticas). </li></ul></div></div><br><h2>  Las tareas </h2><br>  La tarea principal del desarrollo se formul√≥ de manera muy simple: automatizar en los pr√≥ximos 6 meses 1000 escenarios de prueba de la m√°s alta prioridad. <br><br>  El n√∫mero previsto de acciones de prueba b√°sicas vari√≥ de 100 a 300, lo que nos dio alrededor de 200 mil m√©todos de prueba con 10-20 l√≠neas de c√≥digo, sin tener en cuenta las clases generales y auxiliares de ayudantes, proveedores de datos y modelos de datos. <br><br>  Por lo tanto, result√≥ que, teniendo en cuenta las limitaciones de tiempo (130 d√≠as h√°biles), era necesario hacer al menos 10 pruebas por d√≠a y al mismo tiempo garantizar la relevancia de las autoevaluaciones implementadas teniendo en cuenta los cambios que ocurren en el Sistema (el Sistema se est√° desarrollando activamente). <br><br>  Seg√∫n las estimaciones de los expertos, el trabajo requerido para desarrollar una prueba autom√°tica fue de 4 a 8 horas.  Entonces obtuvimos un equipo de al menos 5 personas (en realidad, en el pico del desarrollo de las pruebas autom√°ticas, el equipo ten√≠a m√°s de 10 ingenieros de automatizaci√≥n). <br><br>  Las tareas que deb√≠an resolverse tambi√©n eran comprensibles. <br><br><ul><li>  <b>Configurar procesos y comando:</b> </li><li>  definir el proceso de interacci√≥n con el cliente (grupo de prueba funcional), corregir el formato de descripci√≥n del caso de prueba como entrada para el equipo de automatizaci√≥n; </li><li>  organizar el proceso de desarrollo y mantenimiento; </li><li>  formar un equipo <br></li><li>  <b>Desarrolle autotests con las siguientes caracter√≠sticas:</b> </li><li>  haga clic autom√°ticamente en los botones del navegador con una comprobaci√≥n preliminar de la presencia de elementos y la informaci√≥n necesaria en la p√°gina; </li><li>  proporcionar trabajo con elementos complejos como Yandex.Map; </li><li>  para garantizar la carga de archivos generados autom√°ticamente en el Sistema, para garantizar la descarga de archivos del Sistema con la verificaci√≥n de su formato y contenido. </li><li>  Proporcione un registro de las capturas de pantalla del navegador, videos y registros internos. </li><li>  Para proporcionar la capacidad de integrarse con sistemas externos como un servidor de correo, sistema de seguimiento de tareas (JIRA) para verificar los procesos de integraci√≥n entre el sistema probado y los sistemas externos. </li><li>  Proporcione un informe documentado sobre todas las acciones tomadas, incluida una visualizaci√≥n de los valores ingresados ‚Äã‚Äãy verificados, as√≠ como todas las inversiones necesarias. </li><li>  Realice pruebas en el volumen requerido en modo paralelo. </li><li>  Implemente autotests en la infraestructura existente. </li><li>  Perfeccione los scripts de prueba ya automatizados del concepto de objetivo de consonante (velocidad de refinamiento: aproximadamente 50 pruebas por semana de sprint). </li></ul><br>  Como mencion√© en la introducci√≥n, al principio ten√≠amos un prototipo de MVP en funcionamiento implementado por otro equipo, que tuvo que incrementarse de 20 pruebas a 1000, agregando nuevas caracter√≠sticas en el camino y asegurando una escalabilidad y flexibilidad aceptables para realizar cambios. <br><br>  La presencia de un prototipo funcional adicionalmente en la entrada nos dio una pila tecnol√≥gica, que inclu√≠a: Java SE8, JUnit4, Selenium + Selenide + Selenoid, Bamboo como un "corredor" de pruebas y un "generador" de informes Allure.  Dado que el prototipo funcion√≥ bien y proporcion√≥ la funcionalidad b√°sica necesaria, decidimos no cambiar la pila tecnol√≥gica, sino centrarnos en desarrollar la escalabilidad de la soluci√≥n, aumentar la estabilidad y desarrollar las caracter√≠sticas requeridas faltantes. <br><br>  B√°sicamente, todo parec√≠a factible y optimista.  Adem√°s, hicimos frente por completo a las tareas en un momento dado. <br><br>  A continuaci√≥n se describen los aspectos tecnol√≥gicos y de proceso individuales del desarrollo de AutoTests. <br><br><h1>  Descripci√≥n de las pruebas autom√°ticas.  Historias y caracter√≠sticas del usuario </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/345/e52/429/345e524291244a67e411a344257eafa8.png"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a> <br><br>  Las pruebas autom√°ticas implementan el siguiente conjunto de historias de usuarios en el contexto de su uso por el grupo de prueba: <br><br><ul><li>  automatizaci√≥n de prueba manual; </li><li>  regresi√≥n autom√°tica completa; </li><li>  control de calidad de ensamblajes en la cadena CI \ CD. </li></ul><br>  Los detalles de implementaci√≥n y las decisiones arquitect√≥nicas se discutir√°n en la <b>Parte 2 - T√©cnico.</b>  <b>Arquitectura y pila t√©cnica.</b>  <b>Detalles de implementaci√≥n y sorpresas t√©cnicas</b> . <br><br><h2>  Pruebas autom√°ticas y manuales (Historias de usuarios) </h2><br>  Como probador, quiero realizar la prueba E2E objetivo, que se realizar√° sin mi participaci√≥n directa (en modo autom√°tico) y me proporcionar√° un informe detallado en el contexto de los pasos tomados, incluidos los datos ingresados ‚Äã‚Äãy los resultados obtenidos, as√≠ como: <br><br><ul><li>  Deber√≠a ser posible seleccionar diferentes soportes objetivo antes de comenzar la prueba; </li><li>  deber√≠a poder gestionar la composici√≥n de las pruebas en ejecuci√≥n de todas las implementadas; </li><li>  al final de la prueba, debe obtener un video de la prueba desde la pantalla del navegador; </li><li>  cuando la prueba falla, debe obtener una captura de pantalla de la ventana activa del navegador. </li></ul><br><h2>  Regresi√≥n completa autom√°tica </h2><br>  Como grupo de prueba, quiero realizar todas las pruebas todas las noches en un banco de pruebas espec√≠fico en modo autom√°tico, incluidas todas las caracter√≠sticas de "Prueba manual autom√°tica". <br><br><h2>  Control de calidad de ensamblaje en la cadena CI \ CD </h2><br>  Como grupo de prueba, quiero realizar pruebas autom√°ticas de las actualizaciones implementadas del sistema en un soporte preQA dedicado antes de actualizar los soportes de la etapa de prueba funcional objetivo, que luego se utilizaron para las pruebas funcionales. <br><br><h1>  Funciones b√°sicas implementadas </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/347/92c/432/34792c43244275202d123378b2b6b72e.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a> <br><br>  Aqu√≠ hay un breve conjunto de las principales funciones implementadas de AutoTests, que resultaron ser vitales o simplemente √∫tiles.  Los detalles de la implementaci√≥n de algunas funciones interesantes se encontrar√°n en la segunda parte del art√≠culo. <br><br><h2>  Uso local y remoto </h2><br>  La funci√≥n ofrec√≠a dos opciones para ejecutar Autotests: local y remota. <br><br>  En modo local, el probador realiz√≥ la prueba autom√°tica requerida en su lugar de trabajo y al mismo tiempo pudo observar lo que suced√≠a en el navegador.  El lanzamiento se realiz√≥ a trav√©s del "tri√°ngulo verde" en IntelliJ IIDEA -).  La funci√≥n fue muy √∫til al inicio del proyecto para la depuraci√≥n y las demostraciones, pero ahora solo la usan los desarrolladores de pruebas autom√°ticas. <br><br>  En modo remoto, el probador inicia la prueba autom√°tica utilizando la interfaz del plan Bamboo con los par√°metros de la composici√≥n de las pruebas en ejecuci√≥n, un soporte y algunos otros par√°metros. <br><br>  <i>La funci√≥n se implement√≥ utilizando la variable de entorno MODE = REMOTE | LOCAL, seg√∫n el cual se inicializ√≥ un navegador web local o remoto en la nube de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Selenoid</a> .</i> <br><br><h2>  Limitar la composici√≥n de las pruebas en ejecuci√≥n por filtro </h2><br>  La funci√≥n permite limitar la composici√≥n de las pruebas en ejecuci√≥n en modo de uso remoto para la comodidad de los usuarios y para reducir el tiempo de prueba.  Se utiliza filtraci√≥n en dos etapas.  El primer paso bloquea la ejecuci√≥n de pruebas basadas en la variable FILTER_BLOCK y se utiliza principalmente para excluir la ejecuci√≥n de grandes grupos de pruebas.  El segundo paso "omite" solo las pruebas que coinciden con la variable FILTER. <br><br>  El valor de los filtros se especifica como un conjunto de expresiones regulares REGEXP1, ..., REGEXPN, aplicadas de acuerdo con el principio de "OR". <br><br>  Al comenzar en modo manual, se le pidi√≥ al probador que estableciera una variable de entorno especial como una lista de expresiones regulares aplicables a la anotaci√≥n especial @ Filter (valor de cadena), que anot√≥ todos los m√©todos de prueba en las clases de prueba.  Para cada prueba, esta anotaci√≥n es √∫nica y se construye sobre la base de un conjunto de etiquetas separadas por un gui√≥n bajo.  Utilizamos la siguiente plantilla m√≠nima SUBSYSTEM_FUNCTION_TEST-ID_ {DEFAULT}, donde la etiqueta DEFAULT es para las pruebas incluidas en la regresi√≥n nocturna autom√°tica. <br><br>  <i>La funci√≥n se implementa a trav√©s de una extensi√≥n personalizada de la clase org.junit.runners.BlockJUnit4ClassRunner (los detalles se dar√°n en la Parte 2-1 de la continuaci√≥n de este art√≠culo)</i> <br><br><h2>  Documentar el informe con los resultados de todos los pasos. </h2><br>  Los resultados de la prueba se muestran para todas las acciones de prueba (pasos) con toda la informaci√≥n requerida que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">est√° disponible</a> en Allure Framework.  Enumerarlos no tiene sentido.  Hay suficiente informaci√≥n tanto en el sitio web oficial como en Internet en general.  No hubo sorpresas al usar Allure Framework, y en general lo recomiendo para su uso. <br><br>  Las principales funciones utilizadas son: <br><br><ul><li>  visualizaci√≥n de cada paso de prueba (el nombre del paso corresponde a su nombre en la especificaci√≥n de prueba - script de prueba); </li><li>  mostrar par√°metros de paso en una forma legible por humanos (a trav√©s de la implementaci√≥n requerida del m√©todo toString de todos los valores transmitidos); </li><li>  Adjuntar capturas de pantalla, videos y varios archivos adicionales al informe; </li><li>  clasificaci√≥n de pruebas por tipos y subsistemas, as√≠ como la vinculaci√≥n de la prueba autom√°tica con la especificaci√≥n de prueba en el sistema de gesti√≥n de casos de prueba Test Link mediante el uso de anotaciones especializadas. </li></ul><br><h2>  Descargue y cargue archivos desde / al navegador con su posterior verificaci√≥n y an√°lisis </h2><br>  Trabajar con archivos es un aspecto extremadamente importante de los scripts de prueba.  Era necesario proporcionar tanto cargar varios archivos como descargar. <br><br>  <b>La descarga de archivos</b> implicaba, en primer lugar, cargar archivos EXCEL generados din√°micamente en el Sistema de acuerdo con el contexto de la ejecuci√≥n del script de prueba.  La descarga se implement√≥ utilizando m√©todos est√°ndar proporcionados por las herramientas de selenio. <br><br>  <b>Cargar archivos</b> implicaba descargar archivos presionando el "bot√≥n" en el navegador a un directorio local con la posterior "transferencia" de este archivo al servidor donde se ejecutaron los AutoTests (el servidor en el que se instal√≥ el agente de Bamboo remoto).  Adem√°s, este archivo se analiz√≥ y analiz√≥ en t√©rminos de formato y contenido.  Los principales tipos de archivos fueron archivos EXCEL y PDF. <br><br>  La implementaci√≥n de esta funci√≥n result√≥ ser una tarea no trivial, principalmente debido a la falta de capacidades est√°ndar de manejo de archivos: en este momento, la funci√≥n se implementa solo para el navegador Chrome a trav√©s de la p√°gina de servicio "chrome: // downloads /". <br><br>  Te contar√© en detalle sobre los detalles de implementaci√≥n en la segunda parte. <br><br><h2>  Contabilidad y control de la naturaleza asincr√≥nica de la interfaz angular.  Control de solicitud pendiente entre servicios angulares y REST </h2><br>  Dado que el objeto de nuestras pruebas se bas√≥ en Angular, tuvimos que aprender a "luchar" con la naturaleza asincr√≥nica de la interfaz y los tiempos de espera. <br><br>  En general, adem√°s de org.openqa.selenium.support.ui.FluentWait, utilizamos un m√©todo de espera especialmente dise√±ado que verifica a trav√©s de Javascript las interacciones "incompletas" con los servicios REST front-end, y en funci√≥n de este tiempo de espera din√°mico, las pruebas obtienen informaci√≥n sobre si seguir entonces espera un poco m√°s. <br><br>  Desde el punto de vista de la funcionalidad, pudimos reducir significativamente el tiempo necesario para completar las pruebas debido al rechazo de las expectativas est√°ticas donde no hay forma de determinar de manera diferente la finalizaci√≥n de la operaci√≥n.  Adem√°s, esto nos permiti√≥ definir servicios REST "colgantes" con problemas de rendimiento.  Por ejemplo, capturaron un servicio REST para el que el n√∫mero de registros que se muestran en la p√°gina se estableci√≥ en 10,000 elementos. <br><br>  La informaci√≥n sobre el servicio REST "congelado" con todos los par√°metros de su llamada, debido a que la prueba "cae" debido a razones de infraestructura, se agrega a los resultados de la prueba descartada y tambi√©n se transmite como un evento en ELK.  Esto le permite transferir inmediatamente los problemas identificados a los equipos de desarrollo apropiados del Sistema. <br><br><h2>  Control de registro del navegador </h2><br>  La funci√≥n de control de registro del navegador se agreg√≥ para controlar los errores en las p√°ginas de nivel SEVERO para recibir informaci√≥n adicional para las pruebas descartadas, por ejemplo, para monitorear errores como "... Error al cargar el recurso: el servidor respondi√≥ con un estado de 500 (Error interno del servidor)". <br><br>  La composici√≥n de los errores de procesamiento de la p√°gina en el navegador se aplica a cada resultado de la prueba y tambi√©n se descarga como eventos en el ELK. <br><br><h2>  Grabaci√≥n de video de la prueba y eliminaci√≥n de la instant√°nea de la p√°gina en el punto de "ca√≠da" de la prueba </h2><br>  Las funciones se implementan para la conveniencia de diagnosticar y analizar pruebas descartadas. <br><br>  La grabaci√≥n de video se habilita por separado para el modo de ejecuci√≥n de prueba remota seleccionado.  El video se adjunta como un archivo adjunto a los resultados en el informe de Allure. <br>  Se toma una captura de pantalla autom√°ticamente cuando la prueba falla y los resultados tambi√©n se aplican al informe de Allure. <br><br><h2>  Pasando eventos a ELK </h2><br>  La funci√≥n de enviar eventos a ELK se implementa para permitir el an√°lisis estad√≠stico del comportamiento general de AutoTests y la estabilidad del objeto de prueba.  Por el momento, se han enviado eventos para completar las pruebas con resultados y duraci√≥n, as√≠ como errores del navegador de nivel GRAVE y servicios REST "congelados" fijos. <br><br><h1>  Organizaci√≥n de desarrollo </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ee/a24/368/2eea243683bc7a87f0453db38b6c7947.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a> <br><br><h2>  Equipo de desarrollo </h2><br>  Entonces, necesit√°bamos al menos 5 desarrolladores.  Agregue otra persona para compensar las ausencias no planificadas.  Tenemos 6. Adem√°s de un l√≠der de equipo, que es responsable de la funcionalidad transversal y la revisi√≥n del c√≥digo. <br><br>  Por lo tanto, fue necesario tomar 6 desarrolladores de Java (en realidad, en la cima del desarrollo de las pruebas autom√°ticas, el equipo super√≥ los 10 ingenieros de automatizaci√≥n). <br><br>  Dado el estado general del mercado y una pila tecnol√≥gica bastante simple, el equipo estaba formado principalmente por pasantes, la mayor√≠a de ellos reci√©n graduados de las universidades o estaban en su √∫ltimo a√±o.  De hecho, est√°bamos buscando personas con un conocimiento b√°sico de Java.  Se dio preferencia a especialistas en pruebas manuales que quisieran convertirse en programadores, y a candidatos motivados con alguna (insignificante) experiencia de desarrollo, que en el futuro quisieran convertirse en programadores. <br><br>             ,           (    <b> 2 ‚Äì .    .     </b> ). <br><br>    ,           ,             .        CodeRush .    . <br><br><h2>   </h2><br>       . ,    , ¬´¬ª        . <br><br>           () .    code review   merge request ( GitLab).   code review   ¬´¬ª    (  )       . <br><br>     ‚Äì           .           /   ,         . <br><br> ode review   , ,      ()   -   ,    . ode review  . <br><br>     code review         ,        . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08f/c89/1c7/08fc891c7ccd91d6e6c2235c06149a69.jpg" align="left" width="300">  :     ,      ,      ,     ,         .        ,     ,    ,    / . <br><br>      ¬´ ¬ª,      -   -.         -. <br><br>                   ,               .    sprint retrospective event. <br><br><h2>     </h2><br>         - ( )    ,      stakeholder  . <br><br>        ‚Äì    .   ,            ,          .   ,      -    .       . <br><br>        - ( ,      . .),          .     () ,       ¬´ ¬ª / ¬´ ¬ª ( ,      ,            ). <br><br>  -             -   ( :    -  ‚Äì ,   - ,   ‚Äî ,    ).  ,       -       /  :    ¬´ -      (  )¬ª. <br><br>      -  ,     - (-)      - (¬´¬ª ).     ¬´¬ª -          -  ¬´     X¬ª ( ,       -). <br><br><h2>   </h2><br>     ,    .      master,    -. -   -         code review. <br><br>     ,        ‚Äì     ,        . <br><br> : <br><br> <b>(+)</b>        ; <br> <b>(+)</b>              ; <br> <b>(+)</b>  ¬´¬ª      ; <br> <b>(-)</b>      (); <br> <b>(-)</b>       hotfix . <br><br>       . <br><br> <b></b> <br><br><ul><li>      MASTER. </li><li>  . </li><li>      FEATURE . </li><li>           ,   ¬´   ¬ª  rebase. </li><li> <b>     Gitlab   merge request    .  merge request- :</b> </li><li>  ‚Äî       ¬´Jira¬ª; </li><li>  ‚Äî       Bamboo. </li></ul><br> <b>GateKeeper ( )</b> <br><br><ul><li>         Bamboo. </li><li>          . </li><li>  (merge) FEATURE  DEVELOP,            . </li><li>    . </li></ul><br><hr><br> <i><b>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">kotalesssk</a> . <br><br>    1,      , .         2.</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La segunda parte, la t√©cnica, se centra principalmente en los l√≠deres de los grupos de automatizaci√≥n UI pruebas de extremo a extremo y automatizaci√≥n de pruebas l√≠der. </font><font style="vertical-align: inherit;">Aqu√≠ encontrar√°n recetas espec√≠ficas para la organizaci√≥n arquitect√≥nica del c√≥digo y la implementaci√≥n, lo que respalda el desarrollo paralelo en masa de grandes grupos de pruebas frente a la variabilidad constante de las especificaciones de prueba. </font><font style="vertical-align: inherit;">Adem√°s, puede encontrar en la segunda parte la lista completa de funciones necesarias para las pruebas de IU con algunos detalles de implementaci√≥n. </font><font style="vertical-align: inherit;">Y una lista de sorpresas que tambi√©n puede encontrar.</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/473426/">https://habr.com/ru/post/473426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../473412/index.html">Crear un complemento para Clang Static Analyzer para buscar desbordamientos de enteros</a></li>
<li><a href="../473416/index.html">Programa de conferencia ZeroNights 2019</a></li>
<li><a href="../473418/index.html">OSCP - Seguridad ofensiva</a></li>
<li><a href="../473420/index.html">Abrimos la temporada de encuentros PHP en Nizhny Novgorod el 2 de noviembre</a></li>
<li><a href="../473424/index.html">ARM anunci√≥ las soluciones gr√°ficas Mali-G57 Valhall y Mali-D37, neuroprocesadores Ethos-N57 y N37</a></li>
<li><a href="../473428/index.html">RCS reemplaza SMS. ¬øEl progreso tan esperado, o un paso adelante dos hacia atr√°s?</a></li>
<li><a href="../473430/index.html">Preguntas frecuentes sobre el trabajo del conductor asistente</a></li>
<li><a href="../473432/index.html">Los tres mejores informes de Saint TeamLead Conf</a></li>
<li><a href="../473434/index.html">Un enfoque sistem√°tico en tonos turquesa a bordo del junio</a></li>
<li><a href="../473436/index.html">Transformaci√≥n La gesti√≥n como competencia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>