<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ñ ‚ùáÔ∏è üè™ Unter der Haube des Chatbots: Was RocketBot kann und wie es funktioniert ‚õÖÔ∏è üë∏üèº üçü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RocketBot ist ein programmierbarer Chat-Bot, der in VK, Telegram und Bitrix24 integriert ist. Heute werden wir √ºber die Infrastruktur und andere Techn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unter der Haube des Chatbots: Was RocketBot kann und wie es funktioniert</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/it-grad/blog/438536/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RocketBot</a> ist ein programmierbarer Chat-Bot, der in VK, Telegram und Bitrix24 integriert ist.  Heute werden wir √ºber die Infrastruktur und andere Technologien sprechen, auf denen sie aufgebaut ist. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/vf/t_/jn/vft_jnhxmkcnqm19hug1qohxzpy.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9">/ Foto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Darryl Braaten</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CC BY-SA</a></font> <br><br><h2>  Toolkit </h2><br>  Bei der Entwicklung von RocketBot haben wir uns auf die Geschwindigkeit der Entwicklung und des Prototyping konzentriert.  Aus diesem Grund ist das System in Python geschrieben und MySQL wird als Datenbank ausgew√§hlt. <br><br>  Bis heute belegt Python im TIOBE-Ranking den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dritten</a> Platz.  Dies bedeutet, dass die Sprache eine gro√üe Community und eine endlose Menge an Referenzliteratur hat: B√ºcher, Websites, Kurse und Quellcodes.  Auf GitHub finden Sie beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sammlungen von Best Practices f√ºr die Entwicklung in Python</a> , und auf StackOverflow ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine gro√üe Anzahl von Threads ge√∂ffnet</a> .  Der O'Reilly-Verlag hat dieser Sprache viele B√ºcher gewidmet. Man kann sie mit ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Trampen in Python</a> ‚Äú und ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Maschinelles Lernen mit Python</a> ‚Äú unterscheiden. <br><br>  Neben einer Vielzahl von Quellen ist einer der Hauptvorteile von Python die Vielzahl von Bibliotheken und funktionalen ML-Frameworks.  Beispiele sind <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PyTorch</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SciKit-learn</a> - leistungsstarke Tools, die die Verarbeitung nat√ºrlicher Sprache, Dialoge und Skripte vereinfachen. <br><br><blockquote>  Insbesondere f√ºr die Entwicklung von Trainingsmodellen haben wir PyTorch verwendet, da es √ºber umfangreiche Funktionen f√ºr das Prototyping verf√ºgt.  Dar√ºber hinaus haben wir scikit-learn implementiert, das die Datenvorverarbeitung durchf√ºhrt, sowie pymorth2 und gensim (f√ºr die Arbeit mit Morphologie bzw. Textvektorisierung).  Wir erleben auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeepPavlov</a> - wir bewerten seine F√§higkeiten. </blockquote><br>  Die Datenbank wurde aus Gr√ºnden ausgew√§hlt, um sie nicht zu komplizieren.  MySQL bleibt auch die beliebteste der leistungsstarken Serverdatenbanken.  Aus diesem Grund finden Sie im Internet viele Informationen dazu (zum Beispiel gibt es ein detailliertes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handbuch der Entwickler</a> ), und eine umfangreiche Community wird Ihnen immer eine L√∂sung f√ºr das Problem mitteilen, falls vorhanden.  Au√üerdem bietet MySQL eine breite Funktionalit√§t, obwohl es nicht allen SQL-Standards entspricht. <br><br><h2>  Was unser Chat-Bot kann </h2><br>  Mit unserem Chatbot k√∂nnen Sie automatische Antworten auf Benutzerfragen konfigurieren (z. B. zum Implementieren der FAQ) sowie Routinevorg√§nge (z. B. Umfragen) mithilfe von Skripten automatisieren. <br><br>  Das System kann mit zwei Arten von Fragen arbeiten: benutzerdefiniert und Standard.  Im ersten Fall schreibt der Administrator das Wesentliche des Problems und die Schl√ºsselw√∂rter, auf die der Bot reagiert, unabh√§ngig vor.  Das Auflisten aller Schl√ºsselw√∂rter ist optional.  RocketBot-Algorithmen bewerten die Bedeutung der Phrase und finden die Antwort basierend auf der semantischen N√§he. <br><br>  Zur Bewertung der semantischen N√§he wird eine Vektordarstellung der Abfrage verwendet.  Es identifiziert die Hauptkomponenten ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PCA</a> ) und sucht nach der Option f√ºr die n√§chstgelegene Entfernung in der Datenbank.  In unserem Fall schnitt die Metrik cosine_similarity (sciki-learn) am besten ab. <br><br>  Im zweiten Fall muss der Bot-Besitzer nichts konfigurieren.  Er w√§hlt einfach eine Standardfrage aus der Liste aus - dann versteht der Bot selbst, wor√ºber er gefragt wird.  Jetzt verwenden wir den Dialogflow-Dienst, um Standardthemen hervorzuheben, aber wir werden ihn auf unsere eigene Implementierung √§ndern.  Wir sind nicht zufrieden mit der Abh√§ngigkeit vom Google-Dienst, der zu einer Verz√∂gerung der Datensynchronisation f√ºhrt.  Beachten Sie, dass der Benutzer die Standardvorlage jederzeit √§ndern kann, indem er seine eigene Version von Phrasen erstellt und eine entsprechende Aktion zuweist. <br><br>  In beiden F√§llen kann der Chatbot entweder mit einer Textnachricht oder mit einem Skript antworten.  Eine Textnachricht ist nur eine Standardantwort auf eine Situation.  Das Skript impliziert eine Baumstruktur des Dialogs.  Tats√§chlich handelt es sich hierbei um vollwertige Kommunikationsszenarien, in denen der Chatbot abh√§ngig von den Antworten des Benutzers programmierte Aktionen ausf√ºhrt.  Mit dieser Funktion k√∂nnen Sie beispielsweise Umfragen durchf√ºhren oder Feedback sammeln. <br><br><blockquote>  <i>Zum Kompilieren eines Skripts werden drei Arten von Bl√∂cken verwendet:</i> <i><br><br></i> <ol><li>  Fragenblock - stellt dem Benutzer eine Frage und schreibt die Antwort darauf in eine Variable. </li><li>  Block von Bedingungen - implementiert die Verzweigung des Skripts. </li><li>  Variablenpr√ºfblock - Steuert die Route des Benutzers gem√§√ü dem Skript. </li></ol></blockquote><br>  Der Bot-Besitzer f√ºllt alle Bl√∂cke unabh√§ngig voneinander im Skript-Editor.  Bisher verf√ºgt der Editor nicht √ºber Visualisierungstools (diese werden jedoch in naher Zukunft angezeigt).  Nach unserer Erfahrung hilft die Anwesenheit eines visuellen Designers in der Chat-Bot-Anwendung nicht bei der Erstellung eines Schemas f√ºr seine Arbeit.  Die meisten Benutzer denken nicht im Voraus √ºber die Algorithmen nach, sodass einfach nichts an den Editor √ºbertragen werden kann. <br><br><img src="https://habrastorage.org/webt/tj/7n/ps/tj7nps4s0rfvjsk8oa3sug_ipl4.png"><br>  <font color="#A9A9A9">Ein Beispiel f√ºr Einstellungen beim Beenden des Skripts mit der Antwort "Nein" auf die Frage "Sind Sie 18 Jahre alt?"</font> <br><br>  Mit all dem k√∂nnen wir dem Kunden helfen, seine Skripte gem√§√ü dem Flussdiagramm anzupassen, das er in einem grafischen Editor wie xmind oder draw.io zeichnet.  Wir werden den Algorithmus unabh√§ngig √ºberpr√ºfen und die Ersteinrichtung durchf√ºhren - normalerweise dauert es mehrere Stunden. <br><br>  Neben der Beantwortung von Fragen und der Implementierung von Skripten kann der Bot auch mit Verarbeitungssystemen in nat√ºrlicher Sprache arbeiten.  W√§hrend sie jedoch einen sehr engen Aufgabenbereich ausf√ºhren: Sie suchen in der Wissensdatenbank nach der Antwort auf die Frage und bestimmen die Absichten des Benutzers (hierf√ºr wird derselbe Dialogfluss verwendet). <br><br>  Wir haben den Aufgabenbereich f√ºr intelligente L√∂sungen aufgrund m√∂glicher Schwierigkeiten mit unvorhersehbarem Verhalten begrenzt.  Moderne KI-Systeme sind immer noch fehleranf√§llig, und beim Erstellen von Gesch√§ftsdiensten kann der Bot 80% der Fragen nicht auf die eine und die anderen 20% auf die andere Weise beantworten. <br><br>  Zur Implementierung des nat√ºrlichen Sprachverarbeitungssystems wird bisher ein sehr einfacher Suchalgorithmus verwendet.  Im Laufe der Zeit m√∂chten wir eine neue Version implementieren, die auf LSTM-Netzwerken basiert und verst√§rktes Lernen verwendet.  Die neue Implementierung wird h√∂chstwahrscheinlich auf dem bereits erw√§hnten DeepPavlov-Framework basieren. <br><br>  Ein weiteres Merkmal unseres Bots ist die Integration in CRM-Systeme.  RocketBot kann nach dem Ausf√ºhren der Skripte automatisch einen Lead und eine Aufgabe in CRM (Bitrix24) erstellen.  Der Bot leitet alles weiter, was der Benutzer geschrieben hat, sowie Informationen √ºber ihn vom Messenger oder vom sozialen Netzwerk.  Alles funktioniert nach Standardprotokollen und √ºber die Haupt-API von CRM-Systemen in Form von HTTP-Anfragen und Daten in JSON. <br><br>  In zuk√ºnftigen Versionen planen wir, dem Bot die M√∂glichkeit hinzuzuf√ºgen, automatische Trichter zu erstellen.  Auf diese Weise kann das Unternehmen den potenziellen Kunden mit der Ware vertraut machen und das Gesch√§ft direkt im Chat abschlie√üen.  Das System f√ºgt CRM unabh√§ngig die erforderlichen Entit√§ten hinzu - Leads, Deals, Aufgaben - basierend auf den eingegebenen Antworten und Fragen. <br><br><img src="https://habrastorage.org/webt/qm/fa/il/qmfailfzjrk_v_2gqw0rg_akhqu.jpeg"><br>  <font color="#A9A9A9">/ Foto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spencer Cooper</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CC BY-ND</a></font> <br><br><h2>  Die Infrastruktur, auf der der Chatbot basiert </h2><br>  Alle unsere Services arbeiten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in der IT-GRAD-Cloud</a> - dort werden Frontend-Server, Datenbanken und Anwendungsserver gehostet.  Im Allgemeinen hilft uns die Cloud-Infrastruktur, unsere Services schnell zu skalieren, um der wachsenden Last und den pl√∂tzlichen Verkehrsst√∂√üen gerecht zu werden.  Aus diesem Grund planen wir in Zukunft nur noch, unsere Pr√§senz in der Cloud auszubauen. <br><br>  Der Bot selbst besteht aus f√ºnf Mikrodiensten, die √ºber HTTP - JSON miteinander interagieren (die gesamte interne Kommunikation zwischen Diensten erfolgt in einem sicheren Segment).  Obwohl dies zu Verz√∂gerungen bei der Beantwortung der Frage in ein bis zwei Sekunden f√ºhrt, bietet diese Architektur ein gro√ües Skalierungspotential und erm√∂glicht es uns, einzelne Bl√∂cke zu √§ndern, ohne die anderen zu beeinflussen.  Das Aktualisieren des Suchmikroservices in den FAQ hat beispielsweise keine Auswirkungen auf die Mikroservice-Integration in CRM. <br><br><blockquote>  Zum Testen und Erstellen von Modellen f√ºr maschinelles Lernen und neuronalen Netzen verwenden wir den Nvidia Tesla M40 16GB.  Aber auch darauf ist das Training nicht sehr schnell.  Die Datens√§tze, die wir f√ºr die Verarbeitung nat√ºrlicher Sprache verwenden, sind mehrere zehn Gigabyte gro√ü.  Aus diesem Grund haben wir in einigen F√§llen (z. B. zum Vektorisieren von Datasets) virtuelle Maschinen mit 64 CPUs verwendet. </blockquote><br><hr><br>  Zus√§tzliche Lekt√ºre - Beitr√§ge aus dem First Corporate IaaS Blog: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zscaler - Funktionsweise dieses Web Security Tools</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">So platzieren Sie 100% der Infrastruktur in der Cloud des IaaS-Anbieters und bereuen es nicht</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VCloud Director 8.20 Distributed Firewall: L√∂sungsfunktionen</a> </li></ul><br>  Von unserem Telegrammkanal: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wohin die Cloud-Infrastruktur im Jahr 2019 geht: 5 Trends</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Warum ben√∂tigte VMware vSphere einen HTML5-Client?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was treibt die Cloud an: VMware-Automatisierungstools</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438536/">https://habr.com/ru/post/de438536/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438522/index.html">Strategischer Equalizer</a></li>
<li><a href="../de438524/index.html">Flatter App Architektur 101: Vanille, Scoped Model, BLoC</a></li>
<li><a href="../de438526/index.html">K√ºnstliche neuronale Netze wachsen Navigationszellen wie im Gehirn</a></li>
<li><a href="../de438530/index.html">Hipster Podcasts # 1</a></li>
<li><a href="../de438534/index.html">Modbus auf dem russischen Mikrocontroller K1986BE92QI</a></li>
<li><a href="../de438538/index.html">Teamlead Conf 2019 Msk: √ºber ein anderes Kommunikationsformat</a></li>
<li><a href="../de438540/index.html">Trends in der Dokumentenverwaltung und Datenspeicherung f√ºr 2019</a></li>
<li><a href="../de438542/index.html">Wie wir einen Empfehlungsdienst f√ºr die Auswahl von Kleidung in neuronalen Netzen erstellt haben</a></li>
<li><a href="../de438544/index.html">Wir schauen zu Hause Filme: 10 Materialien √ºber den Bau eines Heimkinos und die Auswahl der Ausr√ºstung</a></li>
<li><a href="../de438546/index.html">Analyse von Modulbindungsans√§tzen in Node.js.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>