<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👀 😏 👩🏾‍🔬 Blender和Unity中的角色创建 🛡️ 👍🏻 🆖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在视觉上，使用模型，纹理和动画来模仿3D游戏角色。 

 过去，要使用相同的动画，角色必须具有完全相同的骨架。 这限制了字符的多样性，因为它们的成长和比例也必须相同。 例如，在旧的FIFA游戏中，所有玩家的大小都一样，因为创建单独的骨架和一组动画会变成一场真正的噩梦。 

 幸运的是，对于游戏开发者...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Blender和Unity中的角色创建</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422255/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae7/47d/1a6/ae747d1a62ce8e52a8efc5dbdbe4d7e1.gif"></div><br> 在视觉上，使用模型，纹理和动画来模仿3D游戏角色。 <br><br> 过去，要使用相同的动画，角色必须具有完全相同的骨架。 这限制了字符的多样性，因为它们的成长和比例也必须相同。 例如，在旧的<i>FIFA</i>游戏中，所有玩家的大小都一样，因为创建单独的骨架和一组动画会变成一场真正的噩梦。 <br><br> 幸运的是，对于游戏开发者而言，如今大多数引擎都具有一个系统，如果骨架层次结构兼容，您可以重用动画。 这样的系统允许对<i>所有</i>形状和大小的字符使用相同的动画。 在Unity中，此系统称为<em>Mecanim</em> 。 它提供了方便的动画自定义，动画之间的混合以及人形动画在模型之间的转移。 <br><br> 动画的可重用性使您可以将Asset商店和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">mixamo.com</a>等网站中的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">动画</a>用作自己的角色。 节省大量时间！ <br><br> 在本教程中，您将学习如何在Blender中准备人形模型以及如何将其转移到Unity。 特别是，您将学到以下内容： <br><br><ul><li> 创建角色的钢筋（骨架）并执行其绑定（将骨架绑定到网格） </li><li> 通过添加附件和对象来修改角色 </li><li> 将模型导出到FBX </li><li> 导入搅拌机模型 </li><li> 创建和自定义人形化身 </li><li> 将对象附加到角色 </li><li> 在Unity中对人形生物进行动画处理 </li></ul><a name="habracut"></a><br><h2> 开始工作 </h2><br> 要完成本教程，您需要以下内容： <br><br><ul><li> 安装<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">最新的稳定版本的Unity</a> 。 </li><li> 安装<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">最新的稳定的Blender 64位版本</a> 。 </li><li> 对Unity编辑器有一点了解。 您可以在我们的网站上学习<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">初学者教程</a> 。 </li><li> 建议使用Blender。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">有</a>关于如何学习基础知识的教程。 </li></ul><br> 下载<a href="">源材料</a>并将其解压缩到某处。 <br><br> 打开<em>项目的入门</em>文件夹，然后转到<em>Assets \ RW \ Models</em>文件夹。 在Blender中打开<em>CuteCharacter.blend</em>文件。 <br><br> 该文件包含以下数据： <br><br><ul><li> 人形角色的低聚模型。 </li><li> 材质<b>CuteCharacter</b> 。 </li><li> 对与模型相同的文件夹中包含的<em>CuteBase</em>纹理的引用。 </li></ul><br> 打开文件时，您应该在左侧看到一个角色模型： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ab1/942/030/ab1942030db2b8c4325e2810970401ea.png"></div><br> 请注意，它沿X轴镜像，这将大大简化整个过程。 右边是已加载纹理的简单图像： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf6/2f6/879/cf62f687945cdc81c5811e97e1244663.png"></div><br> 设置此角色动画的第一步是执行装配。 <br><br><h2> 创建角色装备 </h2><br> 索具是钢筋的创建，钢筋是模型的骨架。 钢筋具有多个相连的骨骼，可以将顶点连接到其上，以便它们在骨骼移动时移动。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a5f/063/6cb/a5f0636cbcdd2082d59f1cdf2ac9e2d4.png"></div><br> 将鼠标移到“ <em>3D视图”</em>窗口以将焦点切换到该窗口。 然后添加一个新的电枢-按住<em>Shift</em>并按<em>A</em>打开“ <em>添加菜单”</em> 。 选择“ <em>骨架”&gt;“单一骨骼”</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5f0/256/838/5f0256838f448f52bcc0a3c7c657b119.gif"></div><br> 我们创建了电枢及其第一根骨骼，也称为根骨骼。 在不从钢筋中删除选择的情况下，在“ <em>属性”</em>选项卡的“ <em>显示”</em>部分中找到“ <em>X射线”</em>复选框并选择它。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f32/aa8/f18/f32aa8f188dbf8823a3e7120306aa06b.png"></div><br> 现在可以通过角色看到骨架。 这将简化骨骼的创建。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3bf/821/a17/3bf821a179023340f97ed9a60c2a719e.gif"></div><br> 在开始创建完整的结构之前，重要的是要了解如何配置它以与Unity的<em>Humanoid Avatar</em>引擎兼容。 <br><br> 由于将骨骼链接到Unity自己的系统的性质，因此需要一些关键骨骼。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4de/727/23c/4de72723cff1401a27ae8d5c5dce56ad.png"></div><br>  Unity至少需要15根骨头，即： <br><br><ul><li> 臀部（根骨）-骨盆 </li><li> 下脊柱-下脊柱 </li><li> 上脊柱-上脊柱 </li><li> 脖子-脖子 </li><li> 头-头 </li><li> 两个上臂-两个肩膀 </li><li> 两个下臂-两个前臂 </li><li> 两只手-两把刷子 </li><li> 两条大腿-两条臀部 </li><li> 两条小腿-两条小腿 </li></ul><br> 我们创建的装备将包含以上所有骨骼，以及几个其他骨骼，以增加动画期间的稳定性。 <br><br> 确保仍选择电枢，然后按<em>Tab</em>键切换到“ <em>编辑”</em>模式。  <em>右键</em>单击以选择根骨骼。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2cf/36b/aa6/2cf36baa6bd69be34f1f19a4ed6089a0.gif"></div><br><blockquote>  <em>注意：</em> Blender使用<em>鼠标右键</em>选择对象。 按下鼠标左键可更改<em>3D光标</em>的位置-一个黄色小圆圈，周围有红白色环。 当您移动3D光标时，所有新对象都将在其新位置创建，但这对于我们的教程不是必需的。 要重置3D光标的位置，可以按<em>Shift + S</em> ，将打开“ <em>捕捉”菜单</em> ，然后选择“ <em>光标至居中”</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df6/2f4/c3a/df62f4c3aa0284af5f3c4c4c3b68be5a.png"></div></blockquote><br> 在右侧的“ <em>属性”</em>面板中打开“ <em>骨骼”</em>选项卡，以便快速进行更改，然后通过在名称框中键入名称并按<em>Enter</em>来将根骨骼重命名为“ <em>臀部</em> <em>”</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/571/78d/b69/57178db692b146b3db114406b176be19.png"></div><br><h2> 脊柱 </h2><br> 是时候创建骨骼结构了！ <br><br> 选择<em>臀部</em>骨骼的<em>下球体</em> ，然后按<em>G</em> ， <em>Z</em> ， <em>0.5</em>并按<em>Enter键</em>以将其移动到肚脐应位于的位置。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b1/c23/308/4b1c23308273043f33bf0cf75e338889.gif"></div><br> 现在选择<em>顶部球体</em> ，然后按<em>G</em> ， <em>Z</em> ， <em>0.1</em>和<em>Enter</em>使其向上移动一点。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a8/be6/d41/8a8be6d41cb4069c82cde5eeba2b2ff7.gif"></div><br><blockquote>  <em>注意：</em>如果您几乎看不到正在发生的情况，则可以使用<em>鼠标滚轮</em>进近并移开。 </blockquote><br> 要创建多个脊椎骨骼，我们需要将<em>臀部</em>骨骼分为三个部分。 选择“ <em>臀部”</em>骨骼，按<em>W</em>键打开“ <em>特殊设置”</em>菜单，然后选择“ <em>细分”</em> 。 默认情况下，此操作将骨骼分为两部分，因此将左侧“工具”面板底部的“ <em>切割数”</em>值更改为<em>2</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36f/259/062/36f2590627054ba2bfe24f053a1bd9d7.gif"></div><br>  <em>注意：</em>如果看不到“ <em>切割数量”</em>滑块，则将鼠标光标移动到左下角的“ <em>细分多</em> ”文本下方，然后向上滚动使其可见。 <br><br> 分割脊椎后，新骨骼称为<em>Hips.001</em>和<em>Hips.002</em> 。 这是命名骨骼的一种不好的方法。 通过一个接一个地选择骨骼并在右侧的“ <em>骨骼”</em>面板中更改名称来重命名骨骼。 <br><br> 命名上<em>胸部</em>和中下<em>脊柱</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2eb/3e1/5e5/2eb3e15e52397b0bd62179831e9f1394.png"></div><br><h2> 腿部 </h2><br> 现在，让我们继续前进到腿的骨头。 通过选择<em>臀部</em>骨骼并按<em>Shift + D</em>复制骨骼，然后按<em>鼠标右键</em>进行确认。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e9/a8b/9a3/1e9a8b9a367a7d40c1ae855ba6bbeea8.gif"></div><br> 如果查看右侧的“骨骼”面板，则可以看到<em>已选择</em>名称为<em>Hips.001</em>的骨骼。 将其重命名为<em>UpperLeg.L</em> 。  L表示左，“左”。 因此，我们将了解我们位于骨骼的哪一侧，这将在将来进行镜像时为我们提供帮助。 <br><br> 通过按<em>R</em> ， <em>Y</em> ， <em>180</em>并按<em>Enter</em> ，沿Y轴旋转<em>UpperLeg.L</em>骨骼。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9b/a62/0c6/a9ba620c6fb6a839ef4c2bb7a8a497c7.gif"></div><br> 现在通过按<em>G</em> ， <em>X</em> ， <em>.23</em>并按<em>Enter</em>移至水平位置。 然后按<em>G</em> ， <em>Z</em> ，-. <em>2</em>并按<em>Enter键</em>将其垂直移动。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc5/82e/8d6/cc582e8d62a8bcc7738661d7d4cf6e8d.gif"></div><br><blockquote>  <em>注意：</em>上图显示了<em>线框模式，</em>以强调骨骼的位置。 您可以通过按<em>Z</em>启用或禁用此模式<em>。</em> </blockquote><br> 选择下部球体（也称为连接器），然后按<em>G</em> ， <em>Z</em> ，-. <em>3</em>并按<em>Enter</em>向下移动。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/825/b07/fb5/825b07fb59cbb01d54683acd072b15d8.gif"></div><br> 为了使腿可以弯曲，必须将其分开。 选择<em>UpperLeg.L</em>骨骼，按<em>W</em>并选择“ <em>细分”</em>将腿分成两部分。 结果，我们得到了两条腿骨。 将较低的<em>LowerLeg.L命名</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2bc/455/d2f/2bc455d2f47d7234759461920c7fb54a.png"></div><br> 腿的最后一部分是脚。 按下数字键盘上的<em>3</em>切换到侧视图，然后按<em>点</em> （ <em>。</em> ）键将焦点放在小腿上。 <br><br><blockquote>  <em>注意：</em>如果键盘没有字母数字块，则可以通过单击屏幕底部的“ <em>视图”</em>按钮在<em>视图</em>之间切换。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d6/fb2/a75/4d6fb2a752c5b428b6be0e60674778b6.png"></div></blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/017/33e/e2a/01733ee2afdd8daaf7ebe9591082a5b6.gif"></div><br> 缩小查看窗口以查看小腿的大部分。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7a/b4d/599/b7ab4d599389567664e9c8c3ed377537.png"></div><br> 现在选择底部的连接器并创建一个堆栈，按<em>E</em> ， <em>Y</em> ，-. <em>18</em>并按<em>Enter进行</em>拉伸。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a4/c27/875/4a4c2787507c319addca74605b1b7804.gif"></div><br> 在“骨骼”面板中将创建的骨骼重命名为<em>Foot.L。</em> <br><br> 现在可以保存文件了。 按<em>CTRL + S</em> ，然后在出现的文件名上单击鼠标左键。  Blender是一个相当稳定的应用程序，可定期保存您的工作，但有时可能会崩溃。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a19/1fb/6df/a191fb6df433efff24a7f0c992aa7321.png"></div><br> 通过在字母数字块上按<em>1</em>返回前视图。 在移至头部之前，我们需要使腿部成为骨盆骨骼的父代。 幸运的是，这很容易！ <br><br> 选择<em>UpperLeg.L，</em>然后在“ <em>骨骼”</em>面板的“ <em>关系”</em>部分中找到“ <em>父</em>级”下拉列表。 单击它，然后选择“ <em>臀部”</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6bf/02f/aa2/6bf02faa2bfff4f73274d4d8d2d46b57.png"></div><br><h3> 身材 </h3><br> 让我们开始吧！ 选择<em>胸骨</em>顶部的连接器，按<em>E</em> ， <em>Z</em> ， <em>.055</em>并按<em>Enter</em> 。 这将是颈骨，因此在“骨<em>颈”</em>面板中将其命名。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb7/cdf/f92/fb7cdff92db59c2fa83ceb6ef9b867c0.gif"></div><br> 要添加头部骨骼，请不要取消选择顶部连接器，然后按<em>E</em> ， <em>Z</em> ， <em>.95</em>并按<em>Enter</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/de8/8b7/1d7/de88b71d7041a77f9f890f24eea1b195.gif"></div><br> 将创建的骨骼命名为<em>Head</em> 。 <br><br> 接下来，转到左肩的连接器。 选择顶部的<em>胸部</em>骨骼连接器，然后按<em>E</em> ， <em>X</em> ， <em>.08</em>和<em>Enter键</em>以添加新的骨骼。 通过选择右连接器，然后按<em>G</em> ， <em>Z</em> ，-. <em>09</em>并按<em>Enter</em> ，将其向下移动一点。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dde/bac/70c/ddebac70c9b184d3e63b852191e5f9aa.gif"></div><br> 将此骨骼命名为<em>ShoulderConnector.L</em> 。 这块骨头将肩部固定在胸骨上。 对于该协议：从解剖学上来讲这绝对不是正确的，但是我们不需要它。 <br><br> 再次选择最右边的连接器，然后按<em>E</em> ， <em>X</em> ， <em>.85</em>并按<em>Enter</em> 。 因此，我们将创建一个大的骨骼，需要对其进行分割以在左侧创建其余的骨骼。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29b/f48/d63/29bf48d63d538b45a73aa6e5a4100f65.gif"></div><br> 选择您创建的骨骼，按<em>W</em>并选择<em>Subdivide</em> 。 将左下角的切割数更改为<em>3，</em>以获得四个部分。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/acf/c1a/214/acfc1a2144eaf36c61970d3913930bc1.png"></div><br> 从左到右依次命名这些骨骼： <br><br><ul><li> 肩宽 </li><li> 上臂 </li><li> 下臂 </li><li> 手L </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e19/b82/b0f/e19b82b0fd09a04679b4b5fcde93a9f0.png"></div><br> 乍看之下，这些骨骼的当前位置看起来不错，但是由于连接器位于手部之间的方式（可以称为肘部），因此手部将无法正确弯曲。 按<em>Z</em>切换到线框模式并亲自查看： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5be/b95/982/5beb959824dbdb867baaf105bc617970.png"></div><br> 红线表示肘部现在所在的位置，白线表示手臂在网格上的弯曲点。 要解决此问题，请选择<em>LowerArm.L</em> ，然后按<em>G</em> ， <em>X</em> ， <em>.09</em>和<em>Enter</em>将其向右移动。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98a/ec2/a45/98aec2a4505dd056b02bd4996cf59051.gif"></div><br> 虽然我们仅使用左侧。 但是正确的呢？ <br><br> 我不认识你，但我会抓住一切机会简化我的工作。 因此，下一步是仅需按几个键即可从左到右镜像骨骼。 <br><br><h3> 镜射 </h3><br> 从2.79版开始，Blender具有一项便捷的新功能，只需几个简单的步骤即可快速镜像钢筋骨骼！ 在此功能出现之前，您必须复制，手动镜像，更改名称并分配骨骼的角色。 如果您曾经这样做过，那么您会知道需要多长时间。 <br><br> 首先，通过按<em>A</em>从所有骨骼中删除选区，以使选区没有橙色轮廓。 <br><br> 接下来，按住<em>Shift</em>并<em>右键单击</em>每个骨骼，仅在左侧选择骨骼（角色的左侧在您的右侧）。 不要忘记脚！ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d5/423/ab6/4d5423ab66baffcb9294f05adf73441e.gif"></div><br> 选择这些骨骼后，按<em>W</em>并选择<em>Symmetrize</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f3/606/c08/7f3606c08887978886a822da9f893088.png"></div><br> 这足以获得所选骨骼的完美镜像版本： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22e/b7d/f7a/22eb7df7ab529ca38d10736fe0073957.png"></div><br> 另外，在骨骼名称的末尾将有一个字母<em>.R</em>而不是<em>.L</em> ，表示它们的位置。 <br><br> 保存文件并准备进行装配。 <br><br><h2> 图纸重量 </h2><br>  <em>权重绘画</em>是将骨骼链接到3D网格的过程。 每根骨头都附着在一组具有一定<em>重量</em>的顶点上。 <br><br> 权重确定将顶点拖动到骨骼后的“刚度”。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2e/4c1/766/f2e4c17664725abce6e83072e84c909b.gif"></div><br> 手动执行此任务可能会花费很多时间，因为您必须独立绘制每个骨骼的重量。 幸运的是，Blender可以通过根据骨骼与顶部的接近程度自动绘制重量来承担繁琐的工作。 <br><br> 按<em>Tab</em>键切换到对象模式。 首先选择一个模型，然后按住<em>Shift</em>并<em>右键</em>单击电枢以将其选中。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/1f5/e9d/3a41f5e9d0bd17a194ba155d2bd508c2.gif"></div><br> 现在，按<em>CTRL + P</em>打开“父级”菜单，然后选择“ <em>具有自动权重”</em>以使模型成为钢筋的父级并自动绘制权重。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c5/c2d/d9f/3c5c2dd9f0ccf6247d27023a4b4ca355.png"></div><br> 在视觉上，差异可能并不明显，但现在骨骼已连接到网格。 <br><br> 在开始检查之前，请通过检查底部面板来确保<em>枢轴点</em>处于<em>中点</em>模式： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bc/cda/e76/7bccdae76562693aeebcd9ad78616166.png"></div><br> 如果仍选择<em>3D光标</em>模式，请打开<em>中点</em>模式。 <br><br> 现在，乐趣开始了！ 切换到“ <em>姿势”</em>模式，选择骨骼并通过按<em>R</em>并移动鼠标光标来旋转它。 对模型中央和左侧的每个骨骼执行此操作，以确保正确分配了所有权重。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/068/52c/f83/06852cf832c60ba31f28a6bf9def48d5.gif"></div><br> 沿不同方向旋转视口，并通过按下<em>鼠标滚轮</em>并在不同方向上移动鼠标来检查其他角度的旋转。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/efb/9b7/cefefb9b76bcd2449700b38225b1e892.gif"></div><br> 检查完所有骨骼后，您可以注意到眼睛并没有随头部移动，这至少有些奇怪，至少可以这样说： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aeb/b08/a29/aebb08a2971aa88a6ade268d50c3486f.gif"></div><br> 要使眼睛紧贴头部，我们仍然必须分配权重。 不要退出钢筋的“姿势”模式，按住<em>Shift</em>并在模型上单击“ <em>RMB</em> ”也将其选中。 现在进入“ <em>重画图”</em>模式。 我们准备减肥。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/123/ba7/0d4123ba79866b20e8a99384323b15b6.gif"></div><br> 在此模式下，可以通过按住<em>CTRL键</em>并右键单击骨骼来选择骨骼。 选择<em>Head</em>骨骼，然后按<em>R</em> ， <em>X</em> ， <em>-90</em>并按<em>Enter</em>将其旋转回去。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1a/cdc/37e/e1acdc37e29fd2c6b2350db04f3306fa.gif"></div><br> 要将眼睛附加到“ <em>头部”</em>骨骼上，请在左侧“工具”面板的“ <em>画笔”</em>部分中选择“ <em>添加</em>画笔”。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a51/1bd/dba/a511bddba3066fa000f9a5b13362fd97.png"></div><br> 按<em>Z</em>键切换到线框模式并旋转视口，以使至少一只眼睛不再位于头部的前面。 现在，用油漆刷涂眼睛的顶部以增加重量，直到眼睛不再悬空。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/110/1ea/6581101ea73a71e967810b385e1cb1f7.gif"></div><br> 可以通过网格上的颜色直观地看到重量； 值从<em>0</em> （深蓝色）到<em>1</em> （亮红色）不等。 要检查结果，请按<em>数字键盘1</em>和<em>Alt（或Option）+ R</em>返回到前视图，以重置<em>Head</em>骨骼的旋转。 <br><br> 现在，眼睛已正确贴在头部上。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01f/35d/88e/01f35d88e989cb41a17c46c950df5d1a.gif"></div><br><blockquote>  <em>注意：</em>上面显示<em>的</em>旋转是通过旋转<em>轨迹球</em>完成的。 旋转开始后，再次按<em>R</em>可以激活该旋转模式。 </blockquote><br> 完成比例尺的基本图之后，您可以继续进行详细操作。 <br><br><h2> 添加配件 </h2><br> 在这种情况下，配件是附加到角色的对象，但不是其身体的一部分。 在本节中，我们将考虑两种附着对象的方法：附着到模型本身以及作为附着到骨骼的单独的可重用对象。 <br><br> 第一种方法可用于帽子，第二种方法可用于角色持有的武器。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89c/7dc/58c/89c7dc58cba5a8413a312d0514c320fb.png"></div><br> 首先，我们按<em>Z</em>退出线框模式，然后按<em>A</em> ，然后<em>按Alt（或Option）+ R</em>重置所有骨骼的旋转。 <br><br><h3> 角色编辑 </h3><br> 向角色添加细节的第一种方法比较简单，但是有一定的限制。 当使用模型本身（已镜像）时，所有添加的几何图形都将从左侧复制到右侧，反之亦然。 因此，不可能为各方之一添加唯一的东西。 由于几何是此特定模型的一部分，因此也无法将其重新用于其他字符。 该方法对于此类约束不成问题的任何情况都是理想的。 <br><br> 如果您在我之后重复了本教程的步骤，那么您现在处于“ <em>重画图”</em>模式。 这很好，因为添加帽子后，我们需要重新开始绘制权重。 按<em>Tab</em>进入编辑模式，然后按<em>CTRL + Tab</em>并从菜单中选择<em>Vertex</em> ，将选择模式切换为Vertex。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a4/b78/d60/8a4b78d60f0d82e8101b9bd2f67ae32b.gif"></div><br> 现在，右键单击头部上方红色线上方的任何顶点（用于通过<em>UV接缝</em>进行纹理化）。 按<em>CTRL + L</em>选择所有附加的顶点，因此我们选择了整个模型。 现在，通过在左下方窗格中选择&gt; UV，选择<em>UV分隔符</em> 。 <br><br> 现在只选择头部的顶部。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfb/95e/ee9/dfb95eee9661bef0f8a73bdeed3b355d.gif"></div><br> 还要选择下面的边缘循环，按住<em>Shift</em>和<em>Alt（或Option）</em> ，然后右键单击下面的任何第一条水平边缘。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0be/6fa/4cf/0be6fa4cf50906ec028012eea5a0a4f2.gif"></div><br> 现在，通过按<em>Shift + D</em>然后<em>按Enter</em>复制选定的面孔。 按下<em>G</em> ， <em>Z</em>和<em>0.01</em>稍微移动重复的面孔。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f48/629/102/f486291023cc8bf774f4298eebcc7197.gif"></div><br> 然后按<em>S</em> ， <em>1.05</em>和<em>Enter</em>缩放所选的所有内容。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/264/5ed/51a/2645ed51af1f9555f440533c887b88aa.gif"></div><br> 因此，我们将帽子从头部略微移开，以避免Z形面孔冲突。 <br><br> 帽子仍然像是悬挂在空中的尸体，因此要将其附着在身上，请执行以下操作： <br><br><ul><li> 仅选择“帽子”的底行：按<em>A</em>取消选择所有内容，然后按住<em>Alt（或Option）</em>并<em>右键</em>单击下边缘之一。 </li><li> 按下<em>S</em> ， <em>Z</em>和<em>0</em>使它们变平。 </li><li> 按<em>E</em>挤出，然后<em>按Enter</em>确认。 </li><li> 按<em>S</em>键开始缩放，然后将光标移至模型，直到边缘在头部内。 旋转视口，使其更易于查看。 按<em>Enter</em>确认缩放。 </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/ee6/9a2/797ee69a2e2dd61f32183fbfdfb42b42.gif"></div><br> 这将使帽子略深，以便从各个侧面看起来都不错，并且没有孔。 但是，由人类皮肤制成的帽子并不是我们想要的。 要更改颜色，我们首先需要扩展其UV坐标，以使其精美地位于纹理上。 <br><br> 通过选择帽子的顶部并按<em>CTRL + L</em>来选择整个帽子<em>。</em> 这次，将定界符更改为“ <em>普通”</em>以选择所有连接的顶点。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d1/e74/e9f/7d1e74e9f5b155828c12a77aa23f885b.gif"></div><br> 对于我们的帽子，我们将执行世界上最简单的扫描之一：从视图。 按<em>数字键盘1</em>进入前视图，然后按<em>U</em>打开“展开”菜单并选择<em>“从视图</em>投影<em>”</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e2/8a7/ca6/5e28a7ca67ed819a177a17869f28c3d9.png"></div><br> 如果查看显示纹理的Blender窗口的右侧，您会注意到添加了多个顶点，这些顶点看起来像半顶帽子： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/384/93a/3e2/38493a3e25bd044d77d26a4ca442134f.png"></div><br> 您可以通过在纹理上移动鼠标光标并按<em>A</em>来选择所有顶点<em>。</em>  Blender中的动作是上下文相关的，并且取决于光标的位置，因此暂时让它位于此纹理区域内。 <br><br> 现在按<em>G</em>键将UV移至蓝点，按<em>Enter键</em>确认移动，然后缩放选择范围以使其适合蓝色区域：按<em>S</em>并按<em>Enter</em>确认。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d96/751/91f/d9675191f134ff0ce9e85873021f571e.gif"></div><br> 如果现在看角色，您会看到他的帽子变成了蓝色。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d9/fa3/144/3d9fa31444c10fb85601119ff490df11.png"></div><br> 您可以将纹理图像更改为任何其他颜色。 <br><br> 现在再次将光标移到模型旁边的左侧，然后按<em>Tab</em>键返回到“ <em>重画图”</em>模式。 稍微转动<em>头部</em>骨头，检查帽子是否已连接。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b1/843/25a/4b184325a06064bfdf3562bbb06a721c.gif"></div><br> 看起来我们很幸运！ 由于帽子的顶部靠近“ <em>头”</em>骨骼，因此会自动添加它们。 如果这没有发生，那么我们就必须像用眼睛一样用手给帽子上色。 <br><br> 现在我们来看创建和附加单个对象。 <br><br><h3> 附加物件 </h3><br> 在本部分中，我们将创建一个小的职员，将其作为角色手中的武器。 取而代之的是，您可以轻松地想象一把剑，斧子甚至是魔术棒，但是在本教程中，我们将不考虑创建复杂的武器。 <br><br> 进入<em>对象</em>模式，然后按<em>Shift + A</em>打开“ <em>添加”</em>菜单。 选择“ <em>网格”&gt;“圆柱体”</em>以将新圆柱体添加到场景中。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd1/8a2/37c/fd18a237c496c642a6785758dab64f31.png"></div><br> 默认圆柱体太大，因此请在左下角配置其参数：将<em>Radius</em>更改为<em>0.04</em>并将<em>Depth</em>更改为<em>1.2</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a5/d7d/edd/8a5d7dedd5a189efcc095aaa58013a07.png"></div><br> 因此，圆柱体将变得越来越薄和越来越短。 <br><br> 通过单击左侧“工具架”面板“阴影”部分中的“ <em>平滑”</em>按钮，使圆柱体平滑。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f97/28f/eaa/f9728feaa2b92218ccca25d783b7e5e6.png"></div><br> 到目前为止，还没有材料分配给我们的圆柱体。 要分配材料，请在右侧的“属性”面板中打开“ <em>材料”</em>选项卡， <em>然后</em>从“新建”按钮旁边的下拉列表中选择“ <em>CuteMaterial</em> ”。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c44/464/65f/c4446465f9375895daf4f123e842655a.png"></div><br> 要将圆柱体变成棕色的杆，我们首先需要执行UV扫描。 按<em>Tab</em>进入<em>编辑</em>模式，按<em>U</em>打开<em>Unwrap</em>菜单，然后选择<em>Project From View</em> 。 <br><br> 将鼠标光标移动到右侧的纹理，按<em>G</em>将UV移动到棕色的纹理。 使用<em>Enter</em>确认移动，然后按<em>S</em>并移动鼠标以使UV适合此部件，从而缩小地图。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bbd/668/34c/bbd66834cf03fcd05671a15131fbc1bc.gif"></div><br> 现在工作人员已经变成褐色。 不用担心错误的位置，我们会尽快处理。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90f/317/799/90f317799cc22627f651337b8de9af4b.png"></div><br> 单击“属性”面板的“ <em>约束”</em>选项卡。 通过单击<em>添加对象约束</em>下拉列表并选择<em>子项Of</em>来添加新约束。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0e/e88/199/a0ee88199da71da04a00ff9da0dbca72.png"></div><br> 约束用于限制对象的位置，旋转和比例。 在我们的案例中，我将圆柱作为角色手臂骨骼的子代。 因此，在创建动画时，对象将始终附着在手上。 这大大简化了动画的预览，并允许您限制对象与主体的交集。 <br><br> 设置约束非常简单。 单击<em>目标</em>下拉列表，然后选择<em>电枢</em> 。 现在单击“ <em>顶点组”</em>下拉列表，然后选择“ <em>Hand.R”。</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/108/ff4/198/108ff4198d8f2f1f188fec85bdf6e471.png"></div><br> 之后，您会发现工作人员立即贴在角色的右手上。 但是，他的位置和转弯并不完全正确。 按下<em>R</em> ， <em>X</em> ， <em>90</em>并按<em>Enter键</em> ，将Z轴上的谱杆旋转90度。 现在，通过按<em>G</em> ， <em>Y</em> ， <em>-0.4</em>并按<em>Enter</em>将其向前移动一点。 好多了！ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e87/179/ea5/e87179ea57febca9904dc8334318603e.gif"></div><br> 是时候尝试一下员工了。 通过按<em>Tab键</em>返回到“ <em>对象”</em>模式，选择电枢并使用屏幕底部的下拉列表切换到“ <em>姿势”</em>模式。 旋转视口，以便您可以清楚地看到<em>标尺</em> ，选择<em>UpperArm.R</em>并通过按<em>R</em>并移动鼠标将其旋转一点。 工作人员会跟随手，好像角色正在握住它。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d83/566/a41/d83566a41a40deae3de357f806157aee.gif"></div><br> 角色及其配件已准备就绪。 保存文件，我们的工作到此完成。 <br><br> 现在，我们将模型和夹具导出到Unity。 <br><br><h2> 导出为其他格式 </h2><br>  <em>注意：</em>如果您不希望将模型导出为其他格式以便与他人共享，则可以跳过此部分。 只需保存文件并关闭Blender。 <br><br> 如果在系统上安装了Blender，Unity可以很好地与Blender应用程序的.blend格式配合使用。 但是，将模型传输给其他人时，最好使用不需要任何第三方软件的.FBX或.OBJ格式。 因此，我们的大多数教程都使用.FBX中的模型文件，而不是原始的.blend文件。 <br><br> 从Blender导出到FBX非常简单。 首先，从顶部菜单中选择“ <em>文件”&gt;“导出”&gt;“ FBX（.fbx）</em> ”。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/250/32e/3ee/25032e3ee0c21614e5f5ea713bf90c31.png"></div><br> 您将看到导出模式。 与大多数应用程序不同，Blender不会打开单独的窗口，而是会替换整个窗口的内容。 <br><br> 您可以通过选择左侧的文件夹或在顶部的字段中输入位置来选择保存文件的位置。 导出选项显示在窗口的左下角： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04f/066/804/04f0668049bce6cd7e1dc8298e5dedc7.png"></div><br> 这些默认的导出选项适用于Unity，但是在更复杂的场景中它们可能会造成混乱，因为它们会导出所有内容，甚至包括光源和相机。 为了保持出口清洁，请进行以下更改： <br><br> 取消选择<em>相机</em> ， <em>灯泡</em>和<em>其他</em> 。 可以通过按住<em>Shift</em>并单击要禁用的选项来完成。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e11/c45/687/e11c45687902fe1a0f03b1f7d095b6b6.gif"></div><br> 如果仅选择此类选项，则不会导出不需要的对象。 现在选中该框<em>！</em> 在这些选项下<em>应用变换</em> 。 它将应用所有对象的位置，旋转和比例。 这意味着非均匀值将被重置； 例如，如果旋转的值为<em>（X：23，Y：125，Z：7）</em> ，则它将重置为<em>（X：0，Y：0，Z：0）</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e1/351/aec/3e1351aec63d7c56bf0fefc7323455aa.png"></div><br> 通过单击“ <em>几何图形”</em>按钮切换到“ <em>几何图形”</em>选项卡，然后清除“ <em>使用修改器渲染设置”</em>复选框。 这将在Blender中保留大量多边形以进行渲染，但在Unity中将其保留为较低。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca9/061/e51/ca9061e5161ccdf014f7fdc398064b05.png"></div><br> 接下来，打开“ <em>电枢”</em>选项卡，选中“ <em>仅变形骨骼”</em>复选框，然后取消选中“ <em>添加叶片骨骼”</em> 。 这将防止Blender应用程序将多余的骨骼添加到钢筋中。 只有Maya兼容性才需要叶骨骼。 仅在仿真软件中才需要微调骨骼，例如控制骨骼。 在Unity等游戏引擎中，它们是无用的。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e44/7bd/558/e447bd558142dc8a3838dbf89eef7a08.png"></div><br> 默认情况下， <em>动画</em>选项已正确配置，因此您无需更改它们。 <br><br> 完成所有这些设置后，每次导出文件时都这样做很无聊。 在这里，预设将对我们有帮助。 我们可以将所有这些参数保存在Blender的内部选项中，以备将来使用。 <br><br> 为此，请单击“ <em>操作员预设”</em>下拉列表旁边的+按钮，在文本框中输入预设的名称，然后单击“ <em>确定”</em> 。 在本教程中，我们将其称为<em>Unity FBX</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ba/0fd/745/6ba0fd7453dd9e938871627326163d08.png"></div><br> 如果现在打开“ <em>操作员预设”</em>下拉列表，则可以选择新创建的预设： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7d/7cb/7b1/c7d7cb7b1ff1fcbc517eca0e6c63cddd.png"></div><br> 之后，将立即应用参数。 预设适用于所有文件，因此现在您可以轻松地将任何Blender文件导出到FBX以在Unity中使用。 <br><br> 最后一步是出口本身。 在本教程中，Unity使用.blend文件制作动画，因此可以通过选择左侧的文件夹并单击右上角的<em>Export FBX</em>按钮将FBX文件保存到任何位置。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e30/9a2/261/e309a2261a5d19b74810ee844fc1078a.png"></div><br> 保存文件并关闭Blender。 最后，是时候切换到Unity并利用我们的模型了。 <br><br><h2> 人形定制 </h2><br> 在Unity中打开项目空白，然后查看“ <em>项目”</em>窗口。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/531/32e/bd4/53132ebd4d152afee9a068da94e91fb1.png"></div><br> 这是文件夹的简要说明： <br><br><ul><li>  <em>动画控制器</em> ：用于插入角色动画控制器。 </li><li>  <em>动画</em> ：包含简单的等待动画。 </li><li>  <em>模型</em> ：在这里，我们编辑并保存了角色。 这个文件夹中还有一个dojo模型和几个纹理。 </li><li>  <em>音乐</em> ：符合道场风格的简单中国曲调。 </li><li>  <em>场景</em> ：Dojo场景。 </li></ul><br> 如果尚未打开<em>Dojo</em>场景，请从“ <em>场景”</em>文件夹中将其打开。 场景是在dojo内部，其中Audio Source播放背景音乐。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/37c/a46/a80/37ca46a807bab9f5e6b614301b5f223b.png"></div><br> 处理完之后，让我们开始使用角色！ <br><br><h3> 链接头像 </h3><br> 首先，从<em>Models</em>文件夹中选择<em>CuteCharacter</em>模型，然后在<em>Inspector中</em>打开<em>Rig</em>选项卡。 打开“ <em>动画类型”</em>下拉菜单，然后选择“ <em>人形生物”</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d3/1a7/842/3d31a78423869af5c6ee536b134d0bb6.png"></div><br> 因此，我们将报告该字符是类人动物，以便Unity可以相应地使用它。 现在单击“ <em>应用”</em>以保存这些设置。 <br><br> 短暂重新导入后，您会注意到出现了<em>Configure ...</em>按钮。 单击它开始将骨骼链接到Unity的Mecanim引擎系统。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90e/bd2/0ae/90ebd20ae56b424940ce5da34745f058.png"></div><br> 查看“ <em>场景”</em>窗口并旋转窗口，以便角色看着您。 注意绿色的骨头； 它们由Unity引擎使用。 单击它们中的任何一个都会在“ <em>层次结构”</em>和“ <em>检查器”中</em>选择相应的骨骼。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f35/7c5/8c3/f357c58c31708740d1c64ef485c9c892.png"></div><br> 使用Unity引擎的骨骼类似于木偶的工作。 他没有直接使用动画文件来更新每个帧中的骨骼，而是读取了这些值，并根据他的Avatar定义将其应用于每个类人动物。 当使用不同的身体形状时，这提供了灵活性。 以我们合作过的角色为例-它的比例不切实际，但这并不重要，因为它的骨骼具有必要的骨骼：脊柱，手臂，腿等。 有些骨头可能比大多数人短，但它们仍然存在。 <br><br> 现在让我们看一下<em>Inspector</em> ：您看到一个人的身影，周围散布着绿色和灰色的圆圈。 对于Avatar系统的操作，所有连续的圆圈都是必需的。 如果其中一些缺失，则它们变为红色，并且您无法正确设置角色的动画。 <br><br> 虚线圆是更复杂装备的额外骨骼。 所有灰色部分都丢失了，但是是可选的。 例如，我们的角色没有手指。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/893/c05/9f5/893c059f5cb7c2436e6894eb0b2e8ae5.png"></div><br> 下面是对骨骼的完整描述，在这里必须将身体的各个部分连接到骨骼。 如果任何圆圈为红色，则需要分配（或重新分配）骨骼。 我们创建的框架完全符合导入Unity时的要求，因此不需要任何设置。 万岁！ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47c/32f/36b/47c32f36bc7b945f27746ae3e8bae55d.png"></div><br> 单击右下角的“ <em>应用”</em>按钮，然后单击“检查器”顶部的“ <em>肌肉和设置”</em>按钮。 这将允许您查看和配置虚拟肌肉。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e8/eea/63a/8e8eea63a8e80f5bb3795ad52a9617fd.png"></div><br> 您将看到三个部分： <br><br><ul><li> 肌肉组预览 </li><li> 每个肌肉的设置 </li><li> 其他设定 </li></ul><br> 首先，有几个滑块可以左右移动以验证肌肉是否正确附着。 对他们进行试验，看看他们在做什么。 注意，由于角色没有手指，因此不考虑手指肌肉。 每次测试后，单击<em>全部重置</em>按钮以重置预览的所有滑块。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17b/47a/5c6/17b47a5c6155918f5deec754b62b5291.gif"></div><br>  “按肌肉设置”部分包含可通过单击箭头展开的子部分。 他们每个人都有单独的预览。 这些小节允许您指定最小和最大角度，以避免模型重叠。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/1ea/fa6/3a41eafa658e5c0d965b69fea42aa61c.png"></div><br> 展开“ <em>左臂”</em>部分，然后尝试拖动“ <em>臂向下”</em>滑块。 注意最小值发生了什么： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a4/fb3/c7b/5a4fb3c7b63921b16138448d4bbe3cac.gif"></div><br><blockquote>  <em>注意：</em>如果角色太暗而无法创建轮廓，则可以通过单击顶部的小太阳图标来关闭“场景”窗口中的场景照明。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2c/9aa/5dc/f2c9aa5dc4c564e9634df8c4ca4944ae.png"></div></blockquote><br> 一只手穿过角色的身体。 太可惜了！ <br><br> 要解决此问题，请将预览滑块移至<em>最小值</em> ，然后将“ <em>臂向下”</em>部分的<em>最小角度</em>更改为<em>-20</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/929/53c/8c5/92953c8c56a92331624e40ba9545708c.png"></div><br> 对“ <em>右手臂”</em> &gt;“ <em>手臂向下”进行相同的操作</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb7/81e/f78/eb781ef7841c2584c74f7df8e71593f9.png"></div><br> 这是我们完成肌肉调整的地方。 您还可以调整其他肌肉以防止重叠，但是在本教程中，我们将重点放在上下移动手臂上。 <br><br> 单击右下角的“ <em>应用”</em>按钮将图像保存在“头像”中，然后单击<em>“完成”</em>关闭捕捉模式。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd8/00f/38e/fd800f38e8e20892a1ceca619da7c40a.png"></div><br> 现在是时候将角色添加到场景并为其提供可播放的动画了。 <br><br><h2> 角色使用 </h2><br> 要添加角色，请将<em>CuteCharacter</em>模型从<em>Models</em>文件夹拖到<em>Hierarchy中</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c9/268/ff6/6c9268ff66992a6ea73ae21332a597ff.png"></div><br> 将CuteCharacter设置为旋转<em>（X：0，Y：180，Z：0），</em>以便他看着镜头。 <br><br> 通过右键单击<em>RW \ Animation Controllers</em>文件夹并选择<em>Create&gt; Animation Controller</em>来创建一个新的动画<em>控制器</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51b/950/34f/51b95034f7de76da422edb6a8fe4eda8.png"></div><br> 将其命名为<em>CharacterController</em>并双击以打开Animator窗口。 现在将<em>Idle</em>动画从<em>RW \ Animations</em>文件夹拖动到Animator网格，使其成为默认动画。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b82/715/69f/b8271569fe6ad83cef7f48d5301d437f.png"></div><br> 接下来，在“ <em>层次结构</em> ”中选择“ <em>CuteCharacter</em> ”，然后单击“ <em>控制器”</em>字段旁边的选择器按钮。 在选择框中选择<em>CharacterController</em> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/81f/774/ab9/81f774ab9ed3f97dc1bcff563c13dc4e.png"></div><br> 最后，在<em>层次结构中</em>展开<em>CuteCharacter</em> ，然后将<em>Cylinder</em>拖动到<em>Hand_R</em>使其成为子代。 这是我上面提到的添加单独对象的限制。 如果不这样做，那么武器只会在角色周围漂浮。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/4b6/47f/0f14b647f96be9a808c6465cef81b20c.png"></div><br> 仅此而已！ 单击“播放”按钮以查看正在使用的角色。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae7/47d/1a6/ae747d1a62ce8e52a8efc5dbdbe4d7e1.gif"></div><br> 现在，再次按“ <em>播放”</em>按钮停止场景，然后按<em>CTRL + S</em>保存更改。 <br><br><h2> 接下来要去哪里？ </h2><br> 恭喜，您已完成本教程。 可以<a href="">从此处</a>下载完成的项目。 <br><br> 在本教程中，您学习了以下内容： <br><br><ul><li> 创建角色的骨架（骨架）并执行其装备 </li><li> 使用附件和对象修改角色 </li><li> 导出到FBX </li><li> 导入搅拌机模型 </li><li> 创建和自定义人形化身 </li><li> 将对象附加到角色 </li><li> 在Unity中对人形生物进行动画处理 </li></ul><br> 要利用获得的知识，您可以独立创建多个配件，并为它们提供不同的颜色或调色板。 如果您知道模拟，则可以从头开始创建角色并执行其装配。 <br><br> 要了解有关Blender的更多信息，请查看以下教程： <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">官方Blender教程</a> 。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">Blender Guru系列适合初学者</a> 。 </li></ul><br> 要了解有关Mecanim和Avatar的更多信息，请阅读<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">此</a> Unity开发人员<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="noopener">帖子</a> 。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN422255/">https://habr.com/ru/post/zh-CN422255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN422241/index.html">KPI-三个绊脚字母</a></li>
<li><a href="../zh-CN422243/index.html">小型企业CRM。 需要吗</a></li>
<li><a href="../zh-CN422247/index.html">OK即时游戏杯。 HTML5游戏开发人员竞赛</a></li>
<li><a href="../zh-CN422251/index.html">“高度自律。” 杰弗里·里希特（Jeffrey Richter），介绍如何编写代码，撰写书籍和创建自己的公司</a></li>
<li><a href="../zh-CN422253/index.html">Yew-Rust和WebAssembly前端框架</a></li>
<li><a href="../zh-CN422257/index.html">PocketBook 627阅读器评论：具有背光，Wi-Fi和云服务的中产阶级</a></li>
<li><a href="../zh-CN422259/index.html">基本数据结构。 物资。 基础知识</a></li>
<li><a href="../zh-CN422261/index.html">Zextras储能和分层系统</a></li>
<li><a href="../zh-CN422263/index.html">“ Dormammu，我同意”：一种与人互利合作的算法</a></li>
<li><a href="../zh-CN422265/index.html">PICASO 3D Designer X PRO 3D打印机概述</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>