<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚔 🈶 ↖️ Bot哲学家vk.com 🕖 👩🏾‍💼 🕺🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="基于许多有关botovodam的文章... 

 最近，我开发了“交钥匙”这个致力于vk.com社交网络的有趣项目。 任务很简单-创建一个可以添加到对话中并会给出随机引号的漫游器。 但这似乎太简单了，所以我不得不重振伟大的哲学家尼采（Friedrich Nietzsche），他将机器人变成机器人-过...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bot哲学家vk.com</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477184/">基于许多有关botovodam的文章... <br><br> 最近，我开发了“交钥匙”这个致力于vk.com社交网络的有趣项目。 任务很简单-创建一个可以添加到对话中并会给出随机引号的漫游器。 但这似乎太简单了，所以我不得不重振伟大的哲学家尼采（Friedrich Nietzsche），他将机器人变成机器人-过度机器人... <br><br><img src="https://habrastorage.org/webt/mt/s2/bu/mts2buh2gnljp2ocjmctu-adzss.jpeg" alt="图片"><br><a name="habracut"></a><br> 我没有看到任何复杂的内容，因此很快编写了这样的脚本： <br>  <b>授权-&gt;阅读消息-&gt;分析并生成响应-&gt;响应</b> <br> 所有这些都是使用<b>Callback API VK v.5.80</b> （ <i>没有新内容</i> ）完成的 <br> 最困难的一点是“分析和响应形成”。 确实，这是最重要的事情。 <br> 但是事实是，我想创建一个“或多或少的智能机器人”，而不是简单地从字典中发布随机短语。 <br><br>  “我是如何做到的？它是如何工作的？”-请阅读... <br><br> 所以，让我们开始吧！ <br><br> 原则上，该机器人具有相当简单的功能，但只是表面上简单。 如果您更深入，那么一切都会更加复杂，因为我们将使用<b>PHP</b> （ <i></i> ）编写 <br><br> 我再说一遍，我不需要引号生成器，所以我决定向机器人询问一些逻辑。 但是，我也不需要神经网络，因为学习是一项艰巨的任务。 <br><br> 当我试图复兴十九世纪的伟大哲学家弗里德里希·尼采时，我用创造力解决了这个问题。 <br><br> 是的，它将由Nietzsche担任该机器人的角色，因此，即使是随机引号也会显得更聪明。 <br> 但是我想以某种方式团结对话者和机器人，在它们之间建立连接... <br><br> 因此，对话者的短语被作为基础，通过过滤器转换为关键词，然后从先前的基础中找到句子。 <br><br> 这样，就好像形成了对提问者问题的答案。 <br><br> 我收到了这样的来自用户的新消息： <br><br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  case 'message_new': //... id   $user_id = $data-&gt;object-&gt;peer_id; //   $body = $data-&gt;object-&gt;text;</span></span></code> </pre> <br> 然后，他以适当的形式显示了该消息，以突出显示关键字并将其输入数据库搜索。 <br><br> 首先，我完全摆脱了结尾“ <i>a，and s，am，yami，ah，oh ...</i> ”，依此类推……我删除了标点符号和其他字符。 <br><br> 其次，我没有考虑介词。 首先，我限制单词的长度-最多3个字母。 但这是错误的，因为尼采的哲学以“ <i>上帝，世界，岩石，世纪等</i> ”为代表。 另外，在过滤掉四个字母的单词之后，存在三个字母的单词，因为结尾被丢弃了。 然后，我仅将搜索范围限制为：“ <i>超过，什么，关于，如何，在哪里等</i> ”。 <br><br> 第三，尼采在自己的书中写了更多书，所以他分别<i>用“我的，我的，我爱的，我可以的</i> ”代替了诸如“ <i>你的，你的，你的，爱的，你可以的”之类的词</i> 。 <br><br> 因此，获得了一种对话。 <br><br> 此外，有必要建立基础，从尼采的书籍摘录中选出一个短语/引语/陈述的字典。 <br><br> 我以升为单位从<u>txt</u>格式下载了尼采的书籍。 将它们聚集在一起，然后过滤： <br><br>  1个引号= 1个句子（ <i>使用分隔符为</i> <i>“。”，“！'，”？“</i> ） <br><br> 事实证明，这种类型的基础是： <br><br> <code> -  ,     , -    <br>  ,    ,  , ,     <br>    ,   ,   :      ,      <br>    ,  </code> <br> <br> 嗯，有一个数据库和来自用户的过滤消息。 <br><br> <code> : ",      ?" <br>  : "  "</code> <br> <br> 它仍然可以固定搜索系统。 这很困难，因为不同的设置会产生不同的结果。 而且，如果一个代码给出了正确的答案，则另一个请求没有给出所需的内容。 <br><br> 决定不使用正则表达式，而是将它们与内置函数一起使用，例如： <br><br> <code>substr <br> stripos <br> substr_count <br></code> <br><br> 和其他文字功能... <br><br> 在较长的比较条件和无限长的周期的帮助下，我大致达到了所需的结果。 <br><br> 搜索逻辑是这样的：遍历每个句子并从传入消息中找到该句子中存在的单词。 <br><br> 如果找到该单词，则将+1添加为“变量的权重”。 <br><br> 因此，在句子中找到的单词越多，“变量的权重”就越大。 <br><br> 这表明，如果在数据库中的某些句子中找到“道德与生命”一词，那么这将是100％的答案。 <br><br> 但是，如果单词是主题，并且产生了100％的结果，那么rand（）方法就会发出random（）方法。 <br><br> 另外，这些句子并非总是很小的句子，所以我不得不大致按照这样的规则来整理答案： <br><br><pre> <code class="php hljs"> preg_match(<span class="hljs-string"><span class="hljs-string">'/(?:^|\.\s+)([^\.]*?'</span></span>.$wordpattern.<span class="hljs-string"><span class="hljs-string">'[^\.]*?\.+)\s+/i'</span></span>, $text , $matches);</code> </pre> <br> 然后一切都是自动的： <br> 发送信息 <br><br><pre> <code class="php hljs">$request_params = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'message'</span></span> =&gt; $matches[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-comment"><span class="hljs-comment">#'message' =&gt; $find[0], 'peer_id' =&gt; $user_id, 'access_token' =&gt; $token, 'v' =&gt; '5.80' ); $get_params = http_build_query($request_params); file_get_contents('https://api.vk.com/method/messages.send?'. $get_params); header("HTTP/1.1 200 OK"); echo('ok');</span></span></code> </pre><br> 我没有专门上传所有代码，但是它相对较小。 目的是根据需要创建响应引擎，而不是人工训练的情报。 <br><br> 您可以在<a href="http://vk.com/public189002559">此链接上</a>测试机器人。 只是给他写一条消息。 重要的是要知道，在句子的开头，您需要加上“ Nietzsche”（尼采），就好像在提到它一样，只有这样，机器人才会做出响应。 <br><br> 这是一个测试版本，因此不完整，因此不能使用垫子，青年语，单词错误等。该机器人没有考虑到这一点，并且基数仅为10,000个短语。 <br><br> 作为示例，我可以给出对话框： <br><br><img src="https://habrastorage.org/webt/pk/sf/lf/pksflfu977kmdx1fkalpzfyimd8.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/qi/bo/hy/qibohyxceqes_tfp1ssk2ahxvpi.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/nh/3q/kw/nh3qkw3lo1psfd91n1zemcmm244.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/su/yf/-q/suyf-qgn2vqhxsezugd88eauw1g.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/p0/y7/he/p0y7heepmhe-fee55gj0urquuxs.png" alt="图片"><br><br><img src="https://habrastorage.org/webt/fo/6v/g2/fo6vg2bsus5g1yekhvidrgd0nou.png" alt="图片"><br><br> 结论：是的，该机器人与用户之间没有双向通信-它不是人工智能。 但是，在众多参与者的交谈中，该机器人将成为一个很好的“对话者”。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477184/">https://habr.com/ru/post/zh-CN477184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477170/index.html">我如何在21学校参加会议</a></li>
<li><a href="../zh-CN477176/index.html">哪些工具将有助于满足GDPR</a></li>
<li><a href="../zh-CN477178/index.html">现代编程：经过25年的休息或我为Telegram编写机器人后的回顾</a></li>
<li><a href="../zh-CN477180/index.html">背景：什么是QoE？提供商为什么要使用QoE？</a></li>
<li><a href="../zh-CN477182/index.html">[在码头旁]颤抖。 第2部分。对于iOS开发人员</a></li>
<li><a href="../zh-CN477186/index.html">在远程站点上工作了10年，结果如何</a></li>
<li><a href="../zh-CN477190/index.html">另一种方式-LFS，多用户和独立动作/ RPG的当前进度</a></li>
<li><a href="../zh-CN477192/index.html">最小二乘法：程序员为程序员编写的文本</a></li>
<li><a href="../zh-CN477194/index.html">说吧 关于衰变和抑郁</a></li>
<li><a href="../zh-CN477198/index.html">键盘记录器令人惊讶：分析键盘记录器及其开发人员的院长</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>