<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò¨ üë©üèª üëï Como medir o sucesso. Estrat√©gias de monitoramento e sua rela√ß√£o com problemas de neg√≥cios üï£ üíÉ ü§µüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Antes de responder √† pergunta "Como medir o sucesso?", Voc√™ precisa entender o que "sucesso" significa para voc√™. Para Dev e Ops, a defini√ß√£o de suces...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como medir o sucesso. Estrat√©gias de monitoramento e sua rela√ß√£o com problemas de neg√≥cios</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/418975/"><p>  Antes de responder √† pergunta "Como medir o sucesso?", Voc√™ precisa entender o que "sucesso" significa para voc√™.  Para Dev e Ops, a defini√ß√£o de sucesso √© diferente.  Para o Dev, um projeto bem-sucedido √© totalmente testado.  Para opera√ß√£o - monitoramento.  Testes e monitoramento s√£o necess√°rios, mas os testes nunca oferecem 100% de cobertura do problema, e uma resposta de 200 do HTTP n√£o √© suficiente para garantir que o sistema funcione bem.  <strong>Leon Fayer</strong> , do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RIT ++,</a> defendeu o ponto de vista de que os DevOps n√£o pagam para garantir que todas as m√©tricas no monitoramento estejam na zona verde.  <strong>Eles pagam para fazer os usu√°rios felizes</strong> .  Se voc√™ est√° insatisfeito - o neg√≥cio est√° perdendo dinheiro e ningu√©m se importa que tudo seja verde. </p><br><p>  Sob um gato, existem muitos exemplos da pr√°tica que comprovam esse ponto de vista.  Vamos descobrir por que entender os neg√≥cios, como monitorar o sucesso do ponto de vista comercial e por que os desenvolvedores comuns precisam dele. </p><br><img src="https://habrastorage.org/webt/wb/t3/xo/wbt3xofhcbdwryblekus_bfrcko.jpeg"><br><br><p> <strong>Sobre o orador:</strong> Leon Fayer nasceu em uma rep√∫blica outrora amig√°vel, mas cresceu nos Estados Unidos.  Comecei a programar h√° muitos anos e, durante esse per√≠odo, trabalhei como programador, gerente, a quem simplesmente n√£o trabalhava.  Participou de startups - algumas tiveram mais sucesso e outras n√£o. </p><br><p>  Por muitos anos, Leon trabalha no OmniTI.  Essa empresa √© especializada no desenvolvimento de sistemas escalon√°veis, de modo que Leon tem uma oportunidade √∫nica de projetar e construir sistemas para os sites mais visitados do mundo - Wikipedia, National Geographic, Casa Branca, MTV, etc. </p><a name="habracut"></a><br><img src="https://habrastorage.org/webt/cu/57/rr/cu57rra5v81t8l-_zftdhh55jfc.jpeg"><br><br><p>  Antes de responder √† pergunta "Como medir o sucesso?", Voc√™ precisa entender o que "sucesso" significa para voc√™.  Para cada pessoa, a resposta ser√° diferente. </p><br><p>  Se voc√™ est√° lendo este artigo, provavelmente est√° envolvido com o DevOps.  Voc√™ √© mais dev do que ops?  Ou, inversamente, mais Ops que Dev?  Para Dev e Ops, a defini√ß√£o de sucesso √© um pouco diferente: para Dev, √© claro, est√° testando. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9zB1eytkgYY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  <strong>Teste</strong> <br></h2><br><p>  Para mim, como programador, o teste bem-sucedido significa que tudo est√° em ordem, tudo est√° bem, tudo funciona - voc√™ pode execut√°-lo na produ√ß√£o.  O problema √© que eu tamb√©m sou c√≠nico e <strong>n√£o</strong> sou <strong>f√£ de testes</strong> como tal.  N√£o porque √© dif√≠cil, e n√£o porque √© longo - mas porque o teste n√£o d√° o que eu quero. </p><br><img src="https://habrastorage.org/webt/dx/l9/ss/dxl9ss8vyirqtcdsev6zhmmcvyq.jpeg"><br><br><p>  Entenda-me corretamente, o <strong>teste √© um processo obrigat√≥rio</strong> , deve ser inclu√≠do em qualquer projeto, mas claramente <strong>n√£o √© suficiente para garantir o sucesso</strong> . </p><br><p>  Existem muitas op√ß√µes de teste diferentes: </p><br><ul><li>  testes de desempenho; <br></li><li>  testes de usu√°rio; <br></li><li>  teste autom√°tico ... <br></li></ul><br><img src="https://habrastorage.org/webt/0x/v-/nm/0xv-nmknmwzidotzt46aoriitkk.jpeg"><br><br><p>  Quantos m√©todos de teste voc√™ usa - 1, 2, 3, 5?  E o que, voc√™ n√£o est√° acordado √† noite em alerta?  Tudo funciona na produ√ß√£o? </p><br><p>  O problema √© que o teste <strong>d√° a ilus√£o de sucesso</strong> .  √â pr√©-determinado: sabemos que o trem deve sair do ponto A e chegar ao ponto B, para isso estamos testando.  Existem op√ß√µes que estamos considerando.  Se o trem cair do volante ou ficar sem madeira, isso n√£o ser√° uma surpresa.  Mas n√£o testamos, por exemplo, assaltos a trens.  N√£o podemos testar isso porque n√£o sabemos que essa op√ß√£o √© poss√≠vel. </p><br><p>  Existem alguns problemas devido aos quais os testes simplesmente n√£o s√£o suficientes.  O primeiro, <strong>√©</strong> claro, <strong>√© um problema de dados</strong> .  O fato de a tarefa funcionar localmente, mas por algum motivo n√£o funcionar na produ√ß√£o, √© um problema padr√£o. </p><br><p>  N√£o importa o quanto tentemos.  N√£o importa quantas repeti√ß√µes vivemos - o desenvolvimento e a produ√ß√£o nunca ser√£o iguais.  Haver√° outra linha no banco de dados, haver√° outra solicita√ß√£o extra - sempre haver√° algo em produ√ß√£o que n√£o esper√°vamos. </p><br><blockquote>  Wolfe + 585 - o sobrenome mais longo do mundo: <br><br>  <em>Hubert blaine</em> <em><br></em>  <em>Wolfeschlegelsteinhausenbergerdorffwelchevoralternwaren-gewissenhaftschaferswessenschafewarenwohlgepflegeundsorgfaltigkeitbeschutzen-vorangreifendurchihrraubgierigfeindewelchevoralternzwolfhunderttausendjahres-vorandieerscheinenvonderersteerdemenschderraumschiffgenachtmittungsteinund-</em> siebeniridiumelektrischmotorsgebrauchlichtalsseinursprungvonkraftgestartsein-langefahrthinzwischensternartigraumaufdersuchennachbarschaftdersternwelchege-habtbewohnbarplanetenkreisedrehensichundwohinderneuerassevonverstandig-menschlichkeitkonntefortpflanzenundsicherfreuenanlebenslanglichfreudeundruhe-mitnichteinfurchtvorangreifenvorandererintelligentgeschopfsvonhinzwischensternartigraum, <em><br></em>  <em>Sr.</em> <br><br>  Poucos sistemas sobreviver√£o se algu√©m digitar esse sobrenome no formul√°rio.  Eu sei pelo menos 5 pontos diferentes onde todo o sistema pode voar. <br></blockquote><p>  Portanto, o segundo problema √© o <strong>problema com os usu√°rios</strong> . </p><br><img src="https://habrastorage.org/webt/ne/jx/cb/nejxcbjoleozn-jfohfpwcxkdng.jpeg"><br><br><p>  S√£o pessoas t√£o interessantes que quebram qualquer coisa.  <strong>Se n√£o houvesse usu√°rios, tudo seria muito mais f√°cil, para ser honesto.</strong> </p><br><p>  Mesmo se houver um bot√£o na sua interface do usu√°rio, eles ainda encontrar√£o um m√©todo para interromper o que estamos fazendo. </p><br><p>  O melhor exemplo √© o <strong>World of Warcraft</strong> . </p><br><img src="https://habrastorage.org/webt/1s/9a/_2/1s9a_2mdxunmxk7leoywjrsucoa.jpeg"><br><br><p>  Para quem n√£o sabe, este √© um jogo online jogado por 10 milh√µes de pessoas.  Ao mesmo tempo, havia bugs bastante lend√°rios.  Corrup√ß√£o no sangue √© um exemplo perfeito de como os usu√°rios estragam tudo. </p><br><p>  Como em qualquer brinquedo, no World of Warcraft novos conte√∫dos, novas id√©ias, novos chefes apareciam constantemente.  Um dos novos chefes amaldi√ßoou um dos 40 jogadores do grupo.  O princ√≠pio da maldi√ß√£o era como uma bomba-rel√≥gio - lentamente tirou a vida de todos ao redor.  Ou seja, era necess√°rio fugir para o lado - havia toda uma mec√¢nica.  E tudo correu bem at√© que, em algum momento, um dos jogadores decidiu se teletransportar para a cidade durante a batalha ... </p><br><img src="https://habrastorage.org/webt/ku/qd/yv/kuqdyvntv9lwx-ttgyshm4htr9a.jpeg"><br><br><p>  Na cidade havia milhares de pessoas de todos os n√≠veis, os menores tamb√©m.  Al√©m disso, ainda havia personagens n√£o jogadores que tamb√©m foram infectados com uma maldi√ß√£o.  <strong>Durante o dia, os servidores estavam vazios.</strong>  Era imposs√≠vel ir a qualquer lugar, onde houvesse outros jogadores.  Tornou-se uma praga de jogo no sentido mais verdadeiro da palavra.  Eu tive que reiniciar todos os servidores para remover a maldi√ß√£o e mudar a mec√¢nica.  E tudo por causa de um testador - nem sei como cham√°-lo. </p><br><p>  O terceiro problema principal √© o <strong>problema da depend√™ncia externa</strong> .  Todos n√≥s descobrimos isso: a API da qual voc√™ depende repentinamente para de funcionar;  ou voc√™ para de controlar a API. </p><br><p>  Mas h√° um problema maior com isso.  A depend√™ncia externa pode ser n√£o apenas direta, mas tamb√©m indireta.  Todos n√≥s usamos o OpenSource agora.  Cada produto OpenSource depende de algumas bibliotecas, que tamb√©m s√£o OpenSource e s√£o suportadas por outra pessoa.  Quando algo quebra, quebra n√£o apenas neste pequeno m√≥dulo, mas em tudo o que depende dele. </p><br><p>  Provavelmente o exemplo mais ideal foi recentemente, cerca de um ano atr√°s - esse √© o <strong>teclado</strong> <strong>esquerdo</strong> .  Este √© um m√≥dulo npm no node.js que exp√µe os espa√ßos antes da sequ√™ncia (no in√≠cio de uma linha).  N√£o discutiremos por que este m√≥dulo foi feito.  Mas acontece que foi inclu√≠do em muitos m√≥dulos populares.  Em algum momento, o autor decidiu que tinha o suficiente, removeu este m√≥dulo do npm e <strong>70% do c√≥digo escrito em node.js voou.</strong> </p><br><p>  Se voc√™ acha que este √© um caso isolado, est√° enganado. </p><br><p>  H√° tamb√©m o m√≥dulo is-odd, que agora est√° em npm.  Este m√≥dulo define um n√∫mero par ou n√£o. </p><br><img src="https://habrastorage.org/webt/yw/uk/kk/ywukkkmmz4jywmzqdxrewq0cyzq.jpeg"><br><br><p>  N√£o discutiremos o fato de que 3 milh√µes de pessoas n√£o sabem como verificar a paridade / estranheza.  Mas existem mais 12 m√≥dulos que o utilizam!  E n√£o se sabe quantos desses m√≥dulos ainda est√£o usando os m√≥dulos.  Se lhe parece que n√£o h√° nada para quebrar - existem 5 vers√µes! </p><br><p>  Voltando √†s nossas ovelhas - h√° muitas outras op√ß√µes: </p><br><ul><li>  <strong>M√≠ope</strong> - n√£o sabemos o que acontecer√° no futuro.  Y2K √© um exemplo perfeito.  Ningu√©m pensou que em 2000 tudo o que estava escrito em Kobol voaria. <br></li><li>  <strong>N√∫mero de op√ß√µes de teste</strong> . <br></li></ul><br><p>  H√° um bom exemplo novamente com o World of Warcraft - eles t√™m muitos bons exemplos sobre esse assunto. </p><br><p>  Seis meses ap√≥s o lan√ßamento do jogo, come√ßaram a surgir recursos para que alguns jogadores n√£o pudessem entrar em uma caverna.  Descobriu-se que apenas uma vers√£o de ra√ßa e g√™nero n√£o podia entrar nesta caverna - eram taurens femininas. </p><br><p>  Por que demorou 6 meses para encontrar esse erro - afinal, milh√µes de pessoas est√£o jogando?  Porque tauren √© uma ra√ßa fict√≠cia, uma mistura de homem e touro.  A mulher Tauren √© uma vaca falante.  Ningu√©m queria brincar de vaca, ent√£o por 6 meses nenhuma pessoa atingiu o n√≠vel m√°ximo para entrar na caverna e encontrar esse bug.  Por conseguinte, ningu√©m o testou. </p><br><ul><li>  <strong>Mudan√ßa nos dados de origem.</strong>  Realmente n√£o sabemos o que acontecer√° amanh√£. <br></li></ul><br><p>  De qualquer forma, existem poucos testes.  Mas os testes n√£o oferecem 100% de cobertura.  Portanto, o teste n√£o garante sucesso.  Isso gradualmente nos leva √† segunda parte - Ops.  <strong>Para explora√ß√£o, o sucesso est√° monitorando</strong> . </p><br><h2>  <strong>Monitoramento</strong> <br></h2><br><p>  H√° muitas raz√µes pelas quais o monitoramento √© necess√°rio: </p><br><ul><li>  c√≥digo perfeito n√£o existe; </li><li>  sistemas est√£o se tornando mais complexos; </li><li>  crescente depend√™ncia externa; </li><li>  antecipa√ß√£o -&gt; resposta; </li><li>  ... </li></ul><br><p>  O monitoramento √© necess√°rio porque tudo est√° mudando.  Esta √© a principal raz√£o.  Al√©m disso, est√° em produ√ß√£o, tudo muda constantemente l√°, e precisamos detectar isso. </p><br><blockquote>  O que o monitoramento deve cobrir?  - √© isso a√≠!  Esta √© uma resposta curta, mas deve cobrir tudo. </blockquote><br><img src="https://habrastorage.org/webt/9z/li/nz/9zlinzjy4vot0ry_dth2sin5ir4.jpeg"><br><br><p>  Isso tudo √© um pouco abstrato.  De fato, todos temos uma lista de verifica√ß√£o que monitoramos: </p><br><ul><li>  infraestrutura <br></li><li>  Bases de dados <br></li><li>  Aplica√ß√µes <br></li><li>  pontos de integra√ß√£o; <br></li><li>  solicitar tempo de processamento; <br></li><li>  carga; <br></li><li>  ... <br></li></ul><br><p>  Pode haver um milh√£o de coisas.  Muitos coletam centenas, milhares e dezenas de milhares de m√©tricas em seus sistemas. </p><br><p>  Coletaremos muitas m√©tricas para isso: </p><br><img src="https://habrastorage.org/webt/42/j1/wg/42j1wgx-gxkzhg8f4ha-rbvhela.jpeg"><br><br><p>  Claro, estou exagerando, mas tudo o que precisamos do ponto de vista do Ops √© <strong>que o</strong> <strong>HTTP retorne 200</strong> .  Isso significa que est√° tudo bem com o site.  Quando um site funciona, significa que os bancos de dados funcionam, os aplicativos funcionam - tudo est√° em ordem.  Do ponto de vista da Ops, o sucesso √© exatamente isso: todos os gr√°ficos est√£o na zona verde, tudo est√° funcionando corretamente - tudo est√° bem! </p><br><img src="https://habrastorage.org/webt/uk/60/7i/uk607ivm8gphbtih32t8vnxthxa.jpeg"><br><br><p>  Todo mundo sabe o que √© o Twitter.  Eles processam 500 milh√µes de tweets por dia - um n√∫mero louco. </p><br><img src="https://habrastorage.org/webt/n_/k-/sd/n_k-sdc0fpklltuu9nnnrkitf_m.jpeg"><br><br><p>  Mas eles tamb√©m s√£o conhecidos por seus erros.  Os erros s√£o lend√°rios em sua complexidade ou facilidade - de que lado olhar. </p><br><p>  Eles cometeram um erro: o site estava funcionando, o cliente poderia escrever um tweet, clicar em um bot√£o, eles disseram obrigado, o tweet foi enviado - e √© isso!  Ele n√£o apareceu em lugar nenhum e simplesmente desapareceu, e o monitoramento mostrou que tudo estava em ordem.  O site retorna uma solicita√ß√£o de 200 - a API funciona.  Mas n√£o h√° tweets! </p><br><p>  Tenho uma cota√ß√£o favorita de um cliente.  Consertei os problemas em tr√™s telas por uma hora e ele gritou por que nada funciona.  Quando tentei explicar quais problemas eu estava corrigindo, uma pessoa que digitou com dois dedos e n√£o entendeu como usar um computador me disse: </p><br><blockquote>  <em>"Enquanto eu continuar a ganhar dinheiro, √© uma merda para mim que os servidores estejam ligados."</em> </blockquote><p>  De certa forma, isso √© muito correto, e o exemplo do Twitter confirma isso: todas as m√©tricas mostraram que tudo estava em ordem do ponto de vista dos desenvolvedores, mas do ponto de vista do trabalho dos neg√≥cios, n√£o estava em ordem. </p><br><p>  Para ser sincero, somos todos culpados.  Obviamente, as empresas que produzem produtos de monitoramento s√£o as principais culpadas.  Mas n√≥s tamb√©m, porque tradicionalmente coletamos m√©tricas do sistema.  Estamos acostumados a trabalhar com sistemas pequenos - um, talvez dois servidores.  Se eles funcionarem, tudo estar√° em ordem. </p><br><p>  Agora, temos um pouco mais de servidores do que dois, ou at√© dez, e apenas medir a integridade do sistema ou a integridade do programa n√£o √© suficiente.  Devemos acompanhar o trabalho de outra coisa. </p><br><img src="https://habrastorage.org/webt/wb/t3/xo/wbt3xofhcbdwryblekus_bfrcko.jpeg"><br><br><p>  Voltando √† cota√ß√£o, n√£o paguei para que tudo fosse verde.  Sou pago para que meus usu√°rios ou gerentes fiquem satisfeitos - <strong>algu√©m deve estar feliz com o resultado</strong> .  Se todos os usu√°rios estiverem descontentes, ningu√©m se preocupa com o fato de tudo estar verde. </p><br><h2>  <strong>Monitoramento de neg√≥cios</strong> <br></h2><br><p>  Dissemos que o monitoramento √© necess√°rio porque tudo est√° mudando.  Mas quando tudo muda, as mudan√ßas afetam os neg√≥cios: algo quebrou - o dinheiro parou de entrar, algo foi reparado - o dinheiro come√ßou a fluir novamente - uma correla√ß√£o direta.  Ou eles n√£o influenciam, mas se n√£o monitoramos os neg√≥cios, n√£o sabemos disso. </p><br><p>  Como um exemplo vivo, o gr√°fico de leitura de cache √© familiar para todos. </p><br><img src="https://habrastorage.org/webt/yt/ou/qy/ytouqyev9gs9_icsgbr7r6iobdk.jpeg"><br><br><p>  90% das vezes, tudo est√° em ordem, quase todas as solicita√ß√µes v√£o para o cache.  E de repente algo aconteceu - e muito s√©rio.  Este √© um problema que deve acordar √†s 3 da manh√£, algu√©m que o resolva.  Mas, se a velocidade de download dos usu√°rios n√£o mudar, isso √© realmente um problema? </p><br><img src="https://habrastorage.org/webt/c4/0_/_c/c40__ceffwlzwrbbsarajjsuxae.jpeg"><br><br><p>  Em ingl√™s, existe o termo Observabilidade - observabilidade.  S√£o eles: monitoramento, registro, alerta.  Portanto, o termo monitoramento √© um pouco.  Queremos observar tudo - colete m√©tricas do sistema em cada n√≥, se necess√°rio.  Mas queremos monitorar o neg√≥cio, porque emociona a todos.  Este √© um indicador de sucesso. </p><br><p>  Para fazer isso, devemos: </p><br><p>  1. Entenda o problema - o que exatamente precisamos monitorar. </p><br><p>  2. Determine a linha de base - ou seja, √© suficiente que a velocidade de download do usu√°rio n√£o seja alterada para que ningu√©m acorde no meio da noite quando a leitura do cache parar de funcionar. </p><br><p>  3. A correla√ß√£o de dados √© um dos fatores mais importantes.  Se o marketing coleta dados sobre receita e voc√™ coleta dados em servidores e n√£o pode comparar essas duas observa√ß√µes, elas t√™m muito pouco significado. </p><br><p>  Eu costumo dar muitos exemplos.  N√£o importa o qu√£o absurdos eles pare√ßam, eles s√£o todos da minha vida, e eu passei muitos nervos neles. </p><br><p>  Exemplo: eu tinha um cliente com 100 milh√µes de usu√°rios.  Era uma empresa de marketing na Internet que enviou muitos e-mails e usou testes A / B.  Para eles, coletamos 6 mil m√©tricas. </p><br><p>  Tudo, como sempre, come√ßou com uma liga√ß√£o.  O telefone toca - significa que algo aconteceu. </p><br><blockquote>  - <em>Temos um problema.</em>  <em>Algo n√£o est√° funcionando.</em> <br><br>  - OK, o que exatamente n√£o funciona?  Em que isso √© expresso? <br><br>  <em>- Come√ßamos a receber menos renda.</em> <br><br>  - e <br><br>  <em>- Algo n√£o funciona no sistema.</em> <br><br>  - Eu n√£o entendo.  Se tiver menos renda, converse com sua equipe de vendas.  Por que voc√™ est√° me ligando? <br><br>  <em>- N√£o, tenho certeza de que algo no sistema n√£o funciona!</em> <br><br>  - Tudo bem, vamos ver. </blockquote><p>  Gra√ßas a Deus t√≠nhamos uma m√©trica de receita, para podermos ver.  O gr√°fico mostra realmente que, em algum momento, sua renda caiu 15%.  Dado o n√∫mero de usu√°rios, isso √© bastante significativo. </p><br><p>  Ok, eu tenho que olhar.  Antes de tudo, verifico a velocidade do download - normal. </p><br><img src="https://habrastorage.org/webt/gd/og/ea/gdogeadybayuvxe_bfnolgniyv0.jpeg"><br><br><p>  Observamos a carga no banco de dados - tudo est√° dentro de limites razo√°veis, parece que nada mudou.  Ent√£o come√ßamos a observar a carga da CPU, em n√≥s individuais, em caches. </p><br><img src="https://habrastorage.org/webt/al/rv/dl/alrvdlq8vs1m2phcwiqhz1ha-ni.jpeg"><br><br><p>  Tudo estava em ordem. At√© chegarmos √†s m√©tricas do boletim por e-mail.  Um dos grandes fornecedores acidentalmente colocou seu dom√≠nio na lista negra.  A porcentagem de seu marketing por e-mail deixou de alcan√ßar os usu√°rios, o que significa que menos pessoas: receberam cartas, clicaram no bot√£o, foram ao site e compraram algo. </p><br><p>  Aqui est√° essa correla√ß√£o! </p><br><p>  Temos a sorte de ter essas m√©tricas.  Se n√£o os tiv√©ssemos, n√≥s os adicionar√≠amos - esta √© uma resposta muito simples. </p><br><p>  O maior erro que as pessoas cometem √© acreditar que o monitoramento pode ser colocado no final do projeto.  √â como um recurso: para criar seu pr√≥prio projeto, monitorizar - e pronto, estamos prontos! </p><br><p>  A instrumenta√ß√£o nunca pode ser finalizada.  Sempre existem problemas que s√£o desconhecidos desde o in√≠cio.  Como no teste, voc√™ n√£o pode escrever testes e cobrir tudo, porque n√£o sabe o que √© "tudo".  N√£o sabemos como prever o futuro e como prever um neg√≥cio, portanto, n√£o sabemos o que √© "tudo". </p><br><p>  Um exemplo absolutamente id√™ntico ao que estou falando.  Foi o CEO, que acordou em uma confer√™ncia em Paris pela manh√£, bebeu caf√©, olhou para o correio e a declara√ß√£o de renda e me ligou com o mesmo problema: a renda caiu. </p><br><p>  Lembro-me bem, porque ele tinha nove da manh√£ e eu tinha seis horas antes, tamb√©m no s√°bado.  Acabei de ser transportado para casa de uma festa de anivers√°rio - mas isso n√£o importa.  Ent√£o, √†s tr√™s da manh√£, sento-me no computador e come√ßamos a seguir os mesmos passos.  Ou seja, olhamos para a carga no sistema, para o n√∫mero de registro. </p><br><p>  O √∫nico desvio da norma que encontramos √© uma porcentagem menor de autoriza√ß√µes bem-sucedidas.  Ou seja, a quantidade √© a mesma, mas a porcentagem √© um pouco menor.  Eu sei que isso pode ser spam, etc.  Mas todas as outras m√©tricas t√©cnicas s√£o absolutamente normais.  E chegamos ao ponto em que est√°vamos quase caminhando ao longo das linhas no banco de dados e tentando verificar se havia algo que pudesse chamar a aten√ß√£o.  Absolutamente nada! </p><br><p>  Sentamos no meio do domingo, continuamos na segunda-feira tamb√©m, mas j√° t√≠nhamos certeza de que o problema n√£o era t√©cnico.  Deixe que eles mesmos decidam.  E aqui na segunda-feira me sento no trabalho e um funcion√°rio do departamento de contabilidade me liga: </p><br><blockquote>  <em>- Ou√ßa, voc√™ pode me ajudar rapidamente?</em> <br><br>  - o que voc√™ precisa? <br><br>  <em>- Voc√™ pode remover o selo American Express do site?</em> <br><br>  - Claro que posso!  Por que de repente? <br><br>  <em>- Voc√™ sabe, discutimos com eles aqui, e at√© aceitarmos americanos</em> <em><br></em>  <em>Expresse em geral.</em> <br><br>  "Pe√ßo desculpas por perguntar, quando voc√™ parou de tom√°-los?" <br><br>  <em>- Antes do final de semana, na minha opini√£o - na sexta ou no s√°bado</em> . <br></blockquote><p>  Ningu√©m em s√£ consci√™ncia jamais colocaria uma cole√ß√£o de m√©tricas sobre a porcentagem de autoriza√ß√µes de um determinado tipo de cart√£o de cr√©dito!  Ap√≥s este incidente, √© claro, n√≥s estabelecemos. </p><br><p>  Por que estou lhe dizendo isso?  Voc√™ deve primeiro olhar para os neg√≥cios, porque todos esses problemas sist√™micos eram simplesmente invis√≠veis.  Eles n√£o acordaram ningu√©m no meio da noite, n√£o vimos que eram problemas.  √â f√°cil notar uma queda na renda e todo o resto precisa ser rastreado para que voc√™ possa correlacionar esses dados com os dados comerciais. </p><br><img src="https://habrastorage.org/webt/es/ra/16/esra161fb2rmul7io-kerjiteqw.jpeg"><br><br><h2>  <strong>Sucesso nos neg√≥cios</strong> <br></h2><br><p>  Para um neg√≥cio, o sucesso pode ser diferente; depende dos objetivos.  Mais importante, como isso pode ser medido?  Tradicionalmente, medimos o desempenho do sistema, √†s vezes como engenheiros, esquecendo que voc√™ pode medir qualquer coisa. </p><br><p>  Por exemplo, voc√™ pode medir seu pr√≥prio alcoolismo.  A prop√≥sito, eu n√£o estou brincando.  Em nosso escrit√≥rio, h√° uma cerveja de press√£o com quatro torneiras.  Como somos todos engenheiros, meu colega decidiu usar sensores Raspberry Pi para ver quanta cerveja bebemos e qual. </p><br><img src="https://habrastorage.org/webt/m-/wl/rx/m-wlrxgmno-iuvpti99yfolzcto.jpeg"><br><br><p>  Parece uma piada simples, mas na verdade √© conveniente, porque vemos quando a cerveja termina e precisamos substituir o barril.  Em geral, podemos ver quando as pessoas bebem, de que cerveja elas mais gostam - escura, clara etc.  A prop√≥sito, o pico √© meu anivers√°rio. </p><br><img src="https://habrastorage.org/webt/vq/p6/e5/vqp6e5zfksaadwu840k7pgomvtg.jpeg"><br><br><p>  Absolutamente por acaso, encontramos outra aplica√ß√£o para isso. </p><br><img src="https://habrastorage.org/webt/xz/x2/qu/xzx2quf2ztopidlzsdeqtgt4i9m.jpeg"><br><br><p>  O gr√°fico mostra o consumo de cerveja durante v√°rios dias e fins de semana.  No fim de semana, o consumo de √°lcool geralmente diminui, quase desaparece.  Um dia, chegamos na segunda-feira, observamos a programa√ß√£o e vemos que algu√©m no s√°bado bebeu um quarto de barril de cerveja.  O gr√°fico mostra a hora exata em meia hora.  Aconteceu que os faxineiros que chegaram no s√°bado tiveram de ressaca, ent√£o ficaram de ressaca. </p><br><p>  Uma piada, mas no final eles tiveram s√©rios problemas, porque geralmente √© ruim beber no trabalho e at√© a cerveja de outra pessoa! </p><br><p>  No final, qualquer m√©trica pode ser √∫til.  At√© essa m√©trica, que coletamos exclusivamente para nossos f√£s, acabou sendo importante em outra coisa.  Mas, basicamente, as m√©tricas realmente necess√°rias se resumem ao dinheiro.  O dinheiro √© mais importante para os neg√≥cios. </p><br><p>  Normalmente, os crit√©rios para o sucesso de um neg√≥cio s√£o algo que envolve dinheiro: </p><br><ul><li>  lucro; <br></li><li>  renda <br></li><li>  custos <br></li><li>  efic√°cia. <br></li></ul><br><p>  M√©tricas de neg√≥cios: </p><br><ul><li>  Registo <br></li><li>  compras; <br></li><li>  visualiza√ß√µes de an√∫ncios </li><li>  convers√µes; </li><li>  porcentagem de retorno; </li><li>  quantidade de cerveja b√™bada </li></ul><br><p>  Tudo isso tem um equivalente monet√°rio.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A prop√≥sito, provavelmente, todas essas m√©tricas j√° foram coletadas na sua empresa - por vendas ou por marketing. </font><font style="vertical-align: inherit;">Para que voc√™ n√£o precise inventar uma roda, basta levar as m√©tricas existentes para o seu pr√≥prio sistema.</font></font></p><br><p> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo deve ser considerado no contexto dos neg√≥cios. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conversamos sobre m√©tricas especiais para os neg√≥cios. </font><font style="vertical-align: inherit;">Outros, nomeadamente m√©tricas t√©cnicas, tamb√©m podem ser considerados neste contexto.</font></font></p><br><img src="https://habrastorage.org/webt/gd/5l/wp/gd5lwpvgesv-wtaknruovqaecu8.jpeg"><br><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por exemplo, a velocidade do download √© uma programa√ß√£o bastante padr√£o. </font><font style="vertical-align: inherit;">No in√≠cio, tudo est√° em ordem, sobe e desce, e de repente √© um problema claro. </font><font style="vertical-align: inherit;">Foi reparado e o cronograma retornou ao seu formato padr√£o - o 99¬∫ percentil est√° abaixo do limite, o SLA n√£o √© violado.</font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ seguir a mesma agenda e observar o n√∫mero de usu√°rios afetados, o problema imediatamente parecer√° diferente. </font></font></p><br><img src="https://habrastorage.org/webt/wd/ig/lr/wdiglrk_vevyzxl383uetn8vld8.jpeg"><br><br><p>     ,    .  ,       ,    ,   .     ,     . </p><br><p> <strong>  .</strong>   ,          .      .      . ,       3 ,    . </p><br><p> <strong>  ‚Äî  .</strong>      ,    ,   ,     ,     . </p><br><p>     . </p><br><img src="https://habrastorage.org/webt/re/4g/ta/re4gta60e3fdofuhjyowvaljq2i.jpeg"><br><br><p>   :    ,   ,    ,  - . </p><br><img src="https://habrastorage.org/webt/b-/sx/8f/b-sx8fv_0zig_36337nv_f1yh6g.jpeg"><br><br><p>   ,       . ,      ,    , 50 %      ¬´  ¬ª,      ,    . </p><br><p> <strong>  1 ?</strong> </p><br><p>     1-2   .         .   10 000  ,     .  ,  10 000  ,    - . </p><br><img src="https://habrastorage.org/webt/bn/oj/rs/bnojrsrjayz5wnxjl48djlajqrm.jpeg"><br><br><p>      1 .         600-700 . , 600  ‚Äî     ,      .    ,   ,      .   800   ,    ,       ‚Äî   . </p><br><p> ,      ,      .     0 ,  -   ,   !       . </p><br><p> <strong>  </strong> ,   - .     ‚Äî      ,            . </p><br><img src="https://habrastorage.org/webt/x9/ex/dj/x9exdjlbjtksu92-b_g-lyyanoy.jpeg"><br><br><p>     99-  50- ,     .  ,      . </p><br><p>   ,      ‚Äî  ,     DevOps    ‚Äî    . </p><br><h2> <strong> </strong> <br></h2><br><p>       ,      ,        . </p><br><p> Value stream mapping ‚Äî         .     ,    . ,    ,    ,   ,    ,   .   ,      ,   . </p><br><p>    : </p><br><ol><li> MTTD (mean time to discovery) ‚Äî     ,   . </li><li> MTTR (mean time to recovery) ‚Äî     ,   . </li><li>      ,      . </li><li> /  . </li></ol><br><blockquote>    ,  ,      ,     ,     .    : ¬´       ‚Äî     .    ,     ,     ¬ª. </blockquote><p>    ,    ,  .       ,    . </p><br><p>   <strong>     </strong> .      ,    ‚Äî  ,    ,    .        ,   . <strong>  </strong> . </p><br><p>    ‚Äî   ,      ,         .  ,    ,   ,      .      ‚Äî    . </p><br><blockquote> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nos dias 1 e 2 de outubro,</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uma confer√™ncia profissional sobre a integra√ß√£o dos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">processos de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desenvolvimento, teste e opera√ß√£o do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">DevOpsConf na R√∫ssia</font></a><font style="vertical-align: inherit;"> ser√° realizada </font><strong><font style="vertical-align: inherit;">em Moscou</font></strong><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ est√° apenas come√ßando a trabalhar nos princ√≠pios do DevOps, esta ser√° uma √≥tima oportunidade para analisar exemplos de trabalho reais desde o in√≠cio at√© uma implementa√ß√£o bem-sucedida e se inspirar em id√©ias como o relat√≥rio de Leon. </font><font style="vertical-align: inherit;">Para profissionais avan√ßados, haver√° relat√≥rios com uma imers√£o profunda no t√≥pico, detalhes importantes e discuss√µes de novos produtos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Venha e veja como o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desenvolvimento, teste e opera√ß√£o podem ser insepar√°veis</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418975/">https://habr.com/ru/post/pt418975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418961/index.html">Encomende o monitor em vez de uma impressora t√©rmica de cozinha</a></li>
<li><a href="../pt418963/index.html">Revis√£o do rob√¥ de mesa DoBot Magician</a></li>
<li><a href="../pt418969/index.html">Como est√£o os √∫ltimos dias da corrida em US $ 1 trilh√£o? (UPD.: Apple venceu)</a></li>
<li><a href="../pt418971/index.html">Os mapas de radia√ß√£o de J√∫piter s√£o a chave para novas explora√ß√µes na Europa</a></li>
<li><a href="../pt418973/index.html">Conhe√ßa DevOpsConf Russia</a></li>
<li><a href="../pt418977/index.html">Confiabilidade no World of Tanks Server</a></li>
<li><a href="../pt418979/index.html">Enquanto eu voava pelo pa√≠s, implementando um projeto para v√°rios milhares de empregos</a></li>
<li><a href="../pt418981/index.html">M√©todos num√©ricos para resolver equa√ß√µes el√≠pticas</a></li>
<li><a href="../pt418985/index.html">An√°lise e design como um todo</a></li>
<li><a href="../pt418987/index.html">O Firefox ignora facilmente a prote√ß√£o na nova interface do Gmail</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>