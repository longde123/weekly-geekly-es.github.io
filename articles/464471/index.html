<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤚🏾 🤾🏾 🏀 monitoreo de impresora snmp en The Dude 😺 ♑️ 🔪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Snmp 
 Hay muchas instrucciones en la red sobre cómo instalar el servidor de monitoreo The Dude de Mikrotik. Ahora el paquete del servidor de supervis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>monitoreo de impresora snmp en The Dude</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464471/"><h2>  Snmp </h2><br>  Hay muchas instrucciones en la red sobre cómo instalar el servidor de monitoreo The Dude de Mikrotik.  Ahora el paquete del servidor de supervisión se lanza solo para RouterOS.  Usé la versión 4.0 para Windows. <br><br><img src="https://habrastorage.org/webt/ma/sx/av/masxav7tn9tmvsfuj6e8ptec35q.jpeg" alt="imagen"><br><br>  Aquí quería considerar cómo monitorear las impresoras en la red: monitorear el nivel de tóner, si se ha agotado, mostrar una notificación. <a name="habracut"></a>  Lanzamos: <br><br><img src="https://habrastorage.org/webt/-e/1p/3q/-e1p3qcz92ovnpckmpw1qie4zv4.jpeg"><br><br>  Haga clic en conectar: <br><br><img src="https://habrastorage.org/webt/by/le/ss/bylesshapzh4oxpaxvy4ngxephm.jpeg"><br><br>  Haga clic en agregar dispositivo (más rojo) e ingrese la dirección IP de la impresora: <br><br><img src="https://habrastorage.org/webt/cv/vx/bd/cvvxbdi93fvugd54wfy6uxnkcry.jpeg"><br><br>  En el siguiente paso, detección de clic, encuentra todas las sondas disponibles, haga clic en finalizar: <br><br><img src="https://habrastorage.org/webt/l8/qh/hw/l8qhhwgk_uetjuq-nkruwfvhb-k.jpeg"><br><br>  Haga doble clic en el icono que aparece, la configuración se abre, seleccione "impresora" y haga clic en "ok": <br><br><img src="https://habrastorage.org/webt/fd/_k/ww/fd_kwwldbgozozsb_6yfvyzxkq0.jpeg"><br><br>  Haga clic derecho en el icono y seleccione la vista: <br><br><img src="https://habrastorage.org/webt/rx/9t/vh/rx9tvhduzxy_f9isvzbkpole3nm.jpeg"><br><br>  En el campo de etiqueta, escribimos OID: <br>  [Device.Name] - nombre del dispositivo <br>  [oid ("1.3.6.1.2.1.43.5.1.1.16.1")] - modelo de impresora <br>  [oid ("1.3.6.1.2.1.43.11.1.1.6.1.1")] - tipo de cartucho <br>  [oid ("1.3.6.1.2.1.43.11.1.1.9.1.1")] - nivel de tóner <br>  En la pestaña de imagen, puede adjuntar su propio icono: <br><br><img src="https://habrastorage.org/webt/bo/c9/cx/boc9cxh1isrpluncdenhsnxgosg.jpeg"><br><br>  Salimos, resulta así: <br><br><img src="https://habrastorage.org/webt/vn/kc/x9/vnkcx9t1xx-dldk35gbjihpqyis.jpeg"><br><br>  No todas las impresoras oid ("1.3.6.1.2.1.43.11.1.1.9.1.1") muestran inmediatamente el nivel de tóner, en algunos este parámetro muestra cuántas páginas quedan por imprimir.  Para calcular el nivel de tóner, debe dividir cuántas páginas quedan para imprimir en el recurso de cartucho total y multiplicar por 100. Para hacer esto, seleccione "Ver" nuevamente, luego Funciones: <br><br><img src="https://habrastorage.org/webt/do/9d/9d/do9d9d-ihyfo4vkiasdnaxjuc-e.jpeg"><br><br>  Haga clic para crear una nueva función (más rojo): <br><br><img src="https://habrastorage.org/webt/_f/2a/j6/_f2aj6e9ynzfcuvor9qsrfsv5uq.jpeg"><br><br>  Llamé a la función de tóner: <br><br><img src="https://habrastorage.org/webt/ro/ew/wx/roewwxp5qribwloyqxxl4l-r_tq.jpeg"><br><br>  En el campo de código, escriba la fórmula y guarde: <br><br><pre><code class="bash hljs">round(100*oid(<span class="hljs-string"><span class="hljs-string">"1.3.6.1.2.1.43.11.1.1.9.1.1"</span></span>)/oid(<span class="hljs-string"><span class="hljs-string">"1.3.6.1.2.1.43.11.1.1.8.1.1"</span></span>))</code> </pre> <br>  En la etiqueta, reemplace [oid ("1.3.6.1.2.1.43.11.1.1.9.1.1")] con una llamada a la función [toner ()] <br><br><img src="https://habrastorage.org/webt/n5/fw/35/n5fw35vycbx_-k7t8_4nfkhi-pm.jpeg"><br><br>  Nos vamos  Resulta así: <br><br><img src="https://habrastorage.org/webt/ml/8t/1q/ml8t1qacw4c413sfj7y3adqezm4.jpeg"><br><br>  Puede usar la función snmp walk para encontrar el oid necesario y establecer los parámetros necesarios, el botón derecho de la impresora son las herramientas de bypass Snmp: <br><br><img src="https://habrastorage.org/webt/-m/ef/1k/-mef1kwigfig1ap3i1z8dt7xavk.jpeg"><br><br>  Se emite el árbol de objetos de impresora: <br><br><img src="https://habrastorage.org/webt/hi/fx/2r/hifx2rvsghiwzourtyvpk7lm15m.jpeg"><br><br>  Haga clic derecho sobre nosotros y haga clic en copiar OID. <br><br><h2>  Notificaciones </h2><br>  Ahora configure las notificaciones de eventos (el cartucho se ha agotado).  Abra la impresora, vaya a la pestaña de servicio, haga clic en el signo más (agregue un nuevo servicio): <br><br><img src="https://habrastorage.org/webt/sw/1p/we/sw1pweynvecpmfhkdhw9whrr9iu.jpeg"><br><br>  En el campo de la sonda, haga clic en tres puntos para seleccionar la sonda deseada: <br><br><img src="https://habrastorage.org/webt/py/qo/pm/pyqopmv3hkuahh4lc2k0fekuvl0.jpeg"><br><br>  Crea tu propia sonda, presiona el más rojo: <br><br><img src="https://habrastorage.org/webt/tg/3q/1t/tg3q1tjgf9ppkfuwyeyivecywdo.jpeg"><br><br>  Lo llamé tóner, seleccione tipo SNMP, agente predeterminado, perfil Snmp predeterminado, <br>  Prescribimos Oid, que es responsable del nivel de tóner 1.3.6.1.2.1.43.11.1.1.9.1.1, tipo Oid Integer, método de comparación&gt; = 1 <br><br><img src="https://habrastorage.org/webt/0q/5o/wq/0q5owqmphx3vvb0ozgk7kgii7qg.jpeg"><br><br>  Guardamos y en el campo de la sonda seleccionamos el tóner recién creado, en la pestaña de alertas puede configurar qué alertas queremos recibir y guardar: <br><br><img src="https://habrastorage.org/webt/ei/1o/vs/ei1ovs3xw7rvfbzysxx_1ybyovk.jpeg"><br><br>  Para demostración, elegí que el nivel de tóner no debería ser inferior a 80, la impresora se puso roja: <br><br><img src="https://habrastorage.org/webt/j6/tf/t2/j6tft2xrb4nplkyez75w698o1ka.jpeg"><br><br><img src="https://habrastorage.org/webt/ty/hs/7k/tyhs7k6sg05dlustjnzh5ipurk4.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464471/">https://habr.com/ru/post/464471/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464457/index.html">22 sitios para que un programador te ayude a hablar inglés</a></li>
<li><a href="../464459/index.html">Cuatro reglas de UX intuitivo</a></li>
<li><a href="../464463/index.html">iOS Responder Chain o lo que preguntan en la entrevista</a></li>
<li><a href="../464465/index.html">¿Cómo y por qué migramos Preply a Kubernetes?</a></li>
<li><a href="../464467/index.html">Aprenda analítica web desde cero. Amplia selección</a></li>
<li><a href="../464479/index.html">"Manifiesto de programadores novatos de especialidades relacionadas" o cómo llegué a tal vida</a></li>
<li><a href="../464481/index.html">Cómo construimos un sistema de entrenamiento y motivación en el estudio</a></li>
<li><a href="../464485/index.html">ShIoTiny: ventilación de habitación húmeda (proyecto de ejemplo)</a></li>
<li><a href="../464487/index.html">Estamos creando una interfaz para ingresar documentos a través de la selección</a></li>
<li><a href="../464489/index.html">Buildbot en ejemplos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>