<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂ üë®üèæ‚Äçüé§ ‚úñÔ∏è Couchbase on Telecom ü§± üìõ üöõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A transforma√ß√£o digital √© uma tend√™ncia global para grandes empresas e √© vital para adaptar uma empresa √†s necessidades modernas dos clientes. Al√©m do...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Couchbase on Telecom</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436762/"><p>  A transforma√ß√£o digital √© uma tend√™ncia global para grandes empresas e √© vital para adaptar uma empresa √†s necessidades modernas dos clientes.  Al√©m dos problemas habituais de centralizar sistemas para grandes empresas e combinar sistemas de cobran√ßa e bancos de dados de assinantes, s√£o adicionados requisitos de alta disponibilidade e um modo de opera√ß√£o em tempo real aos quais os clientes j√° est√£o acostumados pelos l√≠deres do setor (Google, Amazon, Netflix). </p><br><p>  Novos desafios exigem novas tecnologias e abordagens necess√°rias para reduzir o tempo de introdu√ß√£o de fun√ß√µes convenientes para o cliente, ofertas comerciais personalizadas, resposta r√°pida √†s ofertas dos concorrentes, al√©m de controlar os custos de sistemas, infraestrutura de TI, data centers e pessoal qualificado.  Essas tend√™ncias tamb√©m s√£o um grande ponto negativo: a complexidade da arquitetura e os bancos de dados transacionais inchados que n√£o conseguem lidar com o fluxo e o processamento de informa√ß√µes.  As tecnologias da gera√ß√£o anterior t√™m um teto de escala vertical.  Por exemplo, uma inst√¢ncia do Oracle DBMS √© executada no limite do servidor mais poderoso em processadores x86 com uma carga de um bilh√£o de transa√ß√µes por dia. </p><br><img src="https://habrastorage.org/webt/ai/bq/m-/aibqm-rewdzdcsg-6vtcbcv36lw.gif"><br><p>  Para suportar uma carga semelhante que a ind√∫stria da Internet enfrenta h√° muito tempo, uma nova pilha de tecnologias √© usada, como caches na mem√≥ria e bancos de dados NoSQL.  Portanto, a Apple usa Cassandra, Sberbank - Ignite (GridGain), no MegaFon usamos Couchbase e Tarantool. </p><br><p>  O MegaFon usa diferentes padr√µes arquiteturais para o DBMS na mem√≥ria: </p><br><ol><li>  Cache simples, atualizado na programa√ß√£o ou por evento do banco de dados e aplicativos </li><li>  Todas as altera√ß√µes no banco de dados s√£o feitas atrav√©s do cache (script de grava√ß√£o), por exemplo, conectando um cliente Oracle ao DCP Couchbase </li></ol><br><p><a name="habracut"></a>  Para um de nossos sistemas de tomada de decis√£o para o ciclo de vida do assinante, usamos o primeiro modelo, pois apenas um aplicativo na totalidade dos dados toma uma decis√£o e a envia para todos os sistemas, incluindo o banco de dados Oracle.  Um dos casos mais brilhantes de uso do ciclo de vida de um assinante √© o bloqueio e desbloqueio em um saldo negativo.  Afinal, todos os assinantes de operadoras de celular ap√≥s reabastecer a balan√ßa desejam entrar em contato imediatamente e fazer chamadas.  Gra√ßas a um aplicativo separado e ao Couchbase, conseguimos reduzir o tempo para sair da trava de 90 segundos para 30, e esse n√£o √© o limite.  Somente o registro sobre a altera√ß√£o no status do assinante entrar√° no banco de dados principal (Fig. 1) </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/to/o5/lftoo5voqj_ycrfngqgwo74_i6w.png"></div><br>  <i>Figura 1 (exemplo de intera√ß√£o)</i> <br><br><p>  Com o uso de novas tecnologias, conseguimos reduzir tr√™s vezes o tempo para sair do bloqueio financeiro.  Mas, para obter os resultados atuais, percorremos um longo caminho na transforma√ß√£o arquitetural do circuito de cobran√ßa e na escolha do banco de dados NoSQL. </p><br><p>  Por que escolhemos o Couchbase?  Existem v√°rias raz√µes para isso. </p><br><p>  <strong>Requisito de desempenho</strong> </p><br><ol><li>  Processando at√© 200.000 solicita√ß√µes por segundo. </li><li>  O tempo m√©dio de resposta (50%) √© de at√© 5 ms (em um √∫nico data center). </li><li>  O tempo m√°ximo de resposta (99%) √© de at√© 15 ms (dentro de um data center). </li><li>  Desempenho m√°ximo de inser√ß√£o 500 MB / s </li><li>  N√∫mero m√°ximo de opera√ß√µes de inser√ß√£o 100.000 / s </li><li>  N√∫mero m√°ximo de opera√ß√µes de altera√ß√£o (atualiza√ß√µes de documentos) 100.000 / s </li><li>  Desempenho m√°ximo de altera√ß√µes (atualiza√ß√µes de documentos) 500 MB / s </li><li>  N√∫mero m√°ximo de opera√ß√µes de leitura 100.000 / s </li><li>  Velocidade m√°xima de leitura 500 MB / s </li></ol><br><p>  <strong>Pesquisa de chave de alto desempenho e acesso a dados</strong> </p><br><p>  O n√∫cleo do Couchbase √© o Cofre de Chave Distribu√≠do (KV).  O reposit√≥rio KV √© uma abordagem de gerenciamento de dados extremamente simples que armazena um identificador exclusivo (chave) junto com uma informa√ß√£o arbitr√°ria.  O pr√≥prio reposit√≥rio KV pode aceitar qualquer dado, seja um blob bin√°rio ou um documento JSON.  Devido √† simplicidade da implementa√ß√£o do KV, o acesso aos dados √© garantido com um atraso m√≠nimo.  Como mostra nossa experi√™ncia, mais frequentemente a lat√™ncia da rede √© 2-3 vezes maior do que o fornecimento de dados importantes no lado do Couchbase. </p><br><p>  <strong>Esquema de armazenamento din√¢mico (</strong> <strong>JSON)</strong> </p><br><p>  Os documentos s√£o armazenados no servidor Couchbase no formato JSON.  O formato suporta dois tipos de dados b√°sicos, como n√∫meros, seq√º√™ncias de caracteres e tipos complexos, al√©m de dicion√°rios e matrizes internos. </p><br><p>  O esquema de dados no Couchbase √© uma constru√ß√£o l√≥gica definida pelo aplicativo e pelo desenvolvedor.  Devido √† sua flexibilidade e capacidade de usar v√°rias op√ß√µes, podemos usar uma tag no documento, por exemplo, com informa√ß√µes sobre a vers√£o.  Isso permite que o aplicativo determine em qual modo o documento deve ser processado, al√©m de garantir uma migra√ß√£o suave do banco de dados para o novo esquema de dados. </p><br><p>  <strong>Alta disponibilidade</strong> </p><br><p>  Um dos par√¢metros constituintes de um sistema de informa√ß√£o √© sua disponibilidade.  O Couchbase fornece alta disponibilidade de dados com muitos recursos diferentes.  Uma delas √© a replica√ß√£o de dados (a distribui√ß√£o de v√°rias c√≥pias de dados em diferentes servidores do cluster), que permite fornecer um servi√ßo durante a manuten√ß√£o de rotina ou a falha de alguns servidores. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5e/jd/3h/5ejd3hwshvqdvwjeuqlovji9ocy.png"></div><br>  <i>Figura 2 (r√©plicas do servidor Couchbase)</i> <br><br><p>  O segundo recurso importante para alta disponibilidade √© o DCP (Protocolo de altera√ß√£o de banco de dados) interno.  Ele fornece transfer√™ncia de altera√ß√µes em alta velocidade para todas as c√≥pias de dados, √≠ndices secund√°rios (GSI), replica√ß√£o de cluster cruzado (XDCR) e consumidores externos. </p><br><p>  <strong>Replica√ß√£o bidirecional</strong> </p><br><p>  A boa pr√°tica nas empresas √© usar a redund√¢ncia para todos os processos e equipamentos de neg√≥cios.  Idealmente, esse √© um backup no modo Ativo-Ativo, quando a altern√¢ncia entre n√≥s problem√°ticos ocorre automaticamente.  A replica√ß√£o bidirecional no Couchbase ativa o modo AA.  Mas testar a replica√ß√£o mostrou que ela √© eficaz apenas em data centers pr√≥ximos.  Com um espa√ßamento de mais de 100 km, aparecem conflitos.  O Couchbase possui mecanismos de resolu√ß√£o de conflitos: com base no carimbo de data e hora e no n√∫mero de sequ√™ncia.  No entanto, devido ao atraso de tempo na rede, dados desatualizados entram no banco de dados.  Abandonamos o uso de replica√ß√£o bidirecional (consist√™ncia de cluster cruzado).  Todas as altera√ß√µes s√£o realizadas em apenas um cluster.  A disponibilidade de dados no modo de leitura √© fornecida em todos os data centers (AA). </p><br><p>  <strong>Escala horizontal</strong> </p><br><p>  Uma das caracter√≠sticas importantes da maioria dos bancos de dados NoSQL √© a escala horizontal (Fig. 3).  A principal diferen√ßa do Couchbase √© o suporte √† escala multidimensional, quando n√≥s no cluster s√≥ podemos aumentar o desempenho do servi√ßo desejado.  Por exemplo, o jogo Pokemon GO usa uma arquitetura dividida.  No in√≠cio do projeto, foram utilizados 5 servidores com servi√ßos combinados.  Depois de aumentar a carga, eles usaram uma arquitetura diversificada: 5 servidores de dados e 55 servidores para processar consultas e √≠ndices.  Uma das desvantagens da escala com o Couchbase √© que o orquestrador tem problemas quando h√° mais de 50 n√≥s de data no cluster. </p><br><p></p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/79/9c/ne/799cnegj-o20dtxdfcasl3ihm1u.png"></div><br><p>  <i>Figura 3 MDS</i> </p><br><p>  <strong>Requisitos de SI</strong> </p><br><p>  Os requisitos de seguran√ßa da informa√ß√£o influenciaram nossa escolha em menor grau, mas a presen√ßa deles no sistema apresentou um argumento adicional a favor de um ou outro banco de dados.  Como o cache pode conter dados pessoais, devemos seguir os requisitos do regulador sem falhas.  Vale a pena decidir: usaremos equipamento adicional ou podemos fornecer isso com o pr√≥prio banco de dados ?! </p><br><p>  Na vers√£o corporativa, o Couchbase suporta criptografia de tr√°fego, criptografia de dados e acesso personalizado.  Isso economiza dinheiro em equipamentos como o Cisco ASA. </p><br><p>  <strong>Atualiza√ß√£o f√°cil</strong> </p><br><p>  Um dos pontos fortes do Couchbase √© seu mecanismo de atualiza√ß√£o transparente e suporte para vers√µes mais antigas da API.  Durante a atualiza√ß√£o do cluster, ele funciona no modo de compatibilidade.  Novos mecanismos s√≥ funcionar√£o ap√≥s uma atualiza√ß√£o completa do cluster.  Os efeitos nos aplicativos em execu√ß√£o s√£o m√≠nimos devido ao suporte para a API antiga. </p><br><p>  <strong>PS:</strong> atualiza√ß√£o / downgrade √© permitido apenas nas principais vers√µes vizinhas </p><br><p>  <strong>Funcionalidade adicional</strong> </p><br><p>  <em>Distribui√ß√£o l√≥gica</em> </p><br><p>  Outro recurso interessante √© a combina√ß√£o de servidores em um cluster em grupos l√≥gicos, com r√©plicas anexadas a eles.  Isso permite distribuir c√≥pias completas de r√©plicas do mesmo cluster para diferentes autogates.  Isso permite que uma das concession√°rias n√£o tenha uma c√≥pia completa dos dados no segundo </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yf/nf/po/yfnfpots5tbrzzew39w4xsehey8.png"></div><br>  <i>Figura 4 Servidor Gropus</i> <br><br><p>  <b>Backup e restaura√ß√£o</b> </p><br><p>  O Couchbase cont√©m ferramentas de backup e recupera√ß√£o prontas.  O processo de backup pode funcionar em tr√™s modos: completo, diferencial e cumulativo.  Isso permite, em alguns casos, economizar espa√ßo em disco e recursos do processador. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xe/in/ff/xeinff0eawasua0xiu4ec3yon1y.png"></div><br><p>  <strong>Couchbase vs mongo</strong> </p><br><p>  √â dif√≠cil responder √† quest√£o de escolher bancos de dados NoSQL alternativos e, frequentemente, o melhor Unix √© aquele que o seu administrador conhece.  Vamos tentar formular por que preferimos o Couchbase, e n√£o outra plataforma muito popular - o MongoDB. </p><br><p>  √â bastante dif√≠cil comparar dois projetos diferentes com arquitetura e funcionalidade diferentes.  Um dos par√¢metros aos quais prestamos aten√ß√£o √© a facilidade de manuten√ß√£o e a capacidade de reconfigurar rapidamente o sistema para atender √†s necessidades dos neg√≥cios. </p><br><p>  Tabela 1 Compara√ß√£o </p><br><table><tbody><tr><td><p><strong>&nbsp;</strong></p><br></td><td><p>  <strong>Couchbase</strong> </p><br></td><td><p>  <strong>Mongodb</strong> </p><br></td></tr><tr><td><p>  <strong>Dimensionamento</strong> </p><br></td><td><p>  Autom√°tico para todo o conjunto de dados </p><br></td><td><p>  Sele√ß√£o manual de teclas </p><br></td></tr><tr><td><p>  <strong>Distribui√ß√£o de dados</strong> </p><br></td><td><p>  Os dados s√£o sempre distribu√≠dos igualmente em todos os n√≥s de dados. </p><br></td><td><p>  A marca√ß√£o incorreta pode levar √† distribui√ß√£o de dados distorcida </p><br></td></tr><tr><td><p>  <strong>Adicionar / remover host ou r√©plica</strong> </p><br></td><td><p>  Ele √© adicionado em uma etapa da GUI, com rebalanceamento </p><br></td><td><p>  Uma tarefa bastante dif√≠cil com c√°lculos de peso para cada cole√ß√£o </p><br></td></tr><tr><td><p>  <strong>Distribui√ß√£o de Rack / Data Center</strong> </p><br></td><td><p>  Implementado atrav√©s de grupos l√≥gicos </p><br></td><td><p>  N√£o implementado </p><br></td></tr><tr><td><p>  <strong>Balanceamento de carga autom√°tico</strong> </p><br></td><td><p>  Cada n√≥ tem o mesmo n√∫mero de registros ativos dispon√≠veis para leitura e grava√ß√£o. </p><br></td><td><p>  N√£o equilibrado.  N√≥s secund√°rios n√£o suportam grava√ß√£o </p><br></td></tr><tr><td><p>  <strong>Escala de √≠ndice</strong> </p><br></td><td><p>  Flex√≠vel, voc√™ pode adicionar um √≠ndice de n√≥ separado devido √† diversidade da arquitetura </p><br></td><td><p>  O escalonamento r√≠gido do √≠ndice est√° associado ao escalonamento de dados. </p><br></td></tr><tr><td><p>  <strong>Metadados de Cluster</strong> </p><br></td><td><p>  Distribu√≠do em todos os n√≥s do cluster </p><br></td><td><p>  Servidor de configura√ß√£o necess√°rio </p><br></td></tr><tr><td><p>  <strong>Pesquisa integrada</strong> </p><br></td><td><p>  N1LQ (SQL ++) </p><br></td><td><p>  Solicita√ß√£o JSON </p><br></td></tr></tbody></table><br><p>  Tabela 2 Compara√ß√£o de replica√ß√£o </p><br><table><tbody><tr><td><p><strong>&nbsp;</strong></p><br></td><td><p>  <strong>Couchbase</strong> </p><br></td><td><p>  <strong>Mongodb</strong> </p><br></td></tr><tr><td><p>  <strong>Arquitetura</strong> </p><br></td><td><p>  A replica√ß√£o entre cluster n√£o tem depend√™ncias, os clusters s√£o independentes um do outro </p><br></td><td><p>  Somente expans√£o intracluster </p><br></td></tr><tr><td><p>  <strong>Flexibilidade de configura√ß√£o</strong> </p><br></td><td><p>  Flex√≠vel (configura√ß√£o de ca√ßambas, filtros e ajustes individuais) </p><br></td><td><p>  Ajuste de velocidade </p><br></td></tr><tr><td><p>  <strong>Topologia</strong> </p><br></td><td><p>  Replica√ß√£o bidirecional, estrela, cadeia, etc. </p><br></td><td><p>  Estrela </p><br></td></tr><tr><td><p>  <strong>Modo ativo ativo</strong> </p><br></td><td><p>  Suportado por </p><br></td><td><p>  N√£o suportado </p><br></td></tr></tbody></table><br><p>  No geral, o Couchbase √© mais flex√≠vel e mais simples nas configura√ß√µes necess√°rias para nossas tarefas e na arquitetura h√≠brida que muda rapidamente. </p><br><p>  <strong>Experi√™ncia operacional</strong> </p><br><p>  Para come√ßar, gostar√≠amos de fornecer os n√∫meros com os quais o sistema e o cluster est√£o operando no Couchbase. </p><br><ol><li>  Mais de 80 milh√µes de assinantes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[i]</a> </li><li>  380 milh√µes de documentos de informa√ß√µes do cliente JSON </li><li>  Disco r√≠gido de 3,5 TB (usamos memcached, as informa√ß√µes no disco s√£o armazenadas para um in√≠cio r√°pido) </li><li>  3 TB de RAM </li><li>  50 mil opera√ß√µes por segundo (Fig. 5) </li><li>  50 microsservi√ßos que processam todo o fluxo de mensagens </li></ol><br><p></p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lv/nq/wc/lvnqwc_jmlr5jukgm10-ibu7qd8.png"></div><br>  <i>Figura 5 Carga</i> <br><p>  Os primeiros marcos da transforma√ß√£o que come√ßamos com a terceira vers√£o do Couchbase.  No primeiro est√°gio, no in√≠cio do projeto, todos os aplicativos funcionavam de maneira est√°vel.  Mas, ao traduzir l√≥gica adicional para um novo mecanismo, fomos confrontados com o fato de que o mecanismo View come√ßou a funcionar de maneira imprevis√≠vel.  I.e.  em algum momento, o processo <strong>congela</strong> e essas visualiza√ß√µes desse n√≥ param de retornar.  Ao mesmo tempo, o acesso aos dados e seu processamento n√£o foram interrompidos.  O problema foi resolvido com bastante facilidade - reiniciando o n√≥, o que geralmente reduzia a disponibilidade do servi√ßo.  Durante a comunica√ß√£o com o suporte t√©cnico do Couchbase, foi-nos oferecido um comando n√£o documentado que reinicia apenas o processo de visualiza√ß√£o </p><br><p>  <em>curl -s --data 'cb_couch_sup: restart_couch ().'</em>  <em>-u Administrador: passe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://127.0.0.1:8091/diag/eval</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong>[ii]</strong></a></em> </p><br><p>  O comando √© v√°lido apenas nas vers√µes 3.x. </p><br><p>  <em>curl -s --data 'couch_server_sup: restart_core_server ().'</em>  <em>-u Administrator: Administrator</em> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://127.0.0.1:8091/diag/eval</a></em> </p><br><p>  O comando √© v√°lido apenas nas vers√µes 4.x. </p><br><p>  Outro problema da terceira vers√£o foi o mecanismo de compacta√ß√£o de dados (compacta√ß√£o).  Ele teve que ser iniciado manualmente de acordo com as m√©tricas de monitoramento acionadas.  Ambos os problemas mantiveram-se em tens√£o, n√£o apenas na troca de tarefas, mas tamb√©m nos engenheiros funcionais. </p><br><p>  Nesse sentido, decidimos migrar para a quarta vers√£o.  A migra√ß√£o com impacto m√≠nimo no servi√ßo levou cerca de duas semanas.  O processo de atualiza√ß√£o em si n√£o requer a√ß√µes e controle complexos, mas ao adicionar ou remover um n√≥, um reequil√≠brio √© iniciado, o que leva pelo menos duas horas.  No processo, encontramos uma maneira de acelerar o processo de atualiza√ß√£o por meio de um servidor de buffer: nesse caso, ele inicia n√£o um processo de reequil√≠brio limpo, mas transferindo dados de um n√≥ para outro.  Isso reduziu o processo de atualiza√ß√£o para 30 minutos. </p><br><p>  Ao atualizar um cluster industrial, as seguintes nuances devem ser levadas em considera√ß√£o: trabalhar no modo de compatibilidade, quando o cluster operar no modo da vers√£o mais jovem do software.  No lado positivo, o processo de atualiza√ß√£o ocorre sem problemas e sem problemas, mas voc√™ n√£o poder√° usar novas fun√ß√µes, como o novo mecanismo de compacta√ß√£o, N1QL, at√© que todo o cluster esteja totalmente atualizado. </p><br><p>  Ap√≥s a atualiza√ß√£o, conseguimos corrigir apenas um problema - a compacta√ß√£o.  Come√ßou a funcionar corretamente.  Com o mecanismo View, o problema ainda permanecia, embora fosse repetido com muito menos frequ√™ncia.  Foi poss√≠vel corrigi-lo apenas pelas for√ßas dos desenvolvedores do Couchbase na vers√£o 4.6.4. </p><br><p>  Como parte da resolu√ß√£o de problemas de suporte t√©cnico, ficou claro que o mecanismo de exibi√ß√£o n√£o ser√° mais atualizado.  Isso foi feito com base no fato de que a maioria dos clientes do Couchbase n√£o usa visualiza√ß√µes para os fins para os quais foram criados, e o Couchbase criou um novo mecanismo N1QL.  Ele √© executado por um servi√ßo separado e agora n√£o depende de n√≥s de dados (Fig. 7) </p><br><p></p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/df/xn/x2/dfxnx2uou3mvgpgdvtetuzsshj0.png"></div><br>  <i>Figura 7 Fun√ß√µes do n√≥</i> <br><br><p>  Fechamos todos os problemas cr√≠ticos com a vers√£o 4.6.4.  Por√©m, devido ao aumento na quantidade de dados, eles decidiram migrar para a quinta vers√£o, onde adicionaram um novo banco de dados para os √≠ndices e, em nossos dados, a quantidade de mem√≥ria e discos diminuiu uma vez e meia.  Infelizmente, por√©m, n√£o vimos uma diminui√ß√£o na quantidade de dados nos n√≥s de dados. </p><br><p>  <strong>Conclus√µes</strong> </p><br><p>  Em geral, o Couchbase provou ser um sistema maduro que suporta uma carga alta, mesmo em casos inespec√≠ficos (Viber - usado como banco de dados).  Na arquitetura h√≠brida MegaFon, o cluster pode ser facilmente adaptado para qualquer finalidade, sem tempo de inatividade do equipamento e sem reconfigura√ß√£o s√©ria do servidor, o que geralmente permite √† empresa reduzir os custos com pessoal e tornar o servi√ßo para o assinante o mais conveniente poss√≠vel. </p><br><p>  PAO MegaFon </p><br><p>  2018 Kovalchuk Egor </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[i] O</a> sistema processa n√£o apenas assinantes, mas tamb√©m dispositivos com cart√µes SIM, modems, etc. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">[ii]</a> Consulte um especialista antes de usar </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt436762/">https://habr.com/ru/post/pt436762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt436748/index.html">Desenvolvendo hexapod a partir do zero (parte 3) - cinem√°tica</a></li>
<li><a href="../pt436750/index.html">An√°lise de tend√™ncias do YouTube russo para 2018</a></li>
<li><a href="../pt436752/index.html">O bolo √© uma mentira</a></li>
<li><a href="../pt436754/index.html">Q2VKPT: Quake II totalmente reescrito com ilumina√ß√£o realista</a></li>
<li><a href="../pt436756/index.html">Isomorfismo para o resgate</a></li>
<li><a href="../pt436764/index.html">Criando seu jsfiddle, parte 1</a></li>
<li><a href="../pt436768/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel 282 (de 14 a 20 de janeiro)</a></li>
<li><a href="../pt436770/index.html">Operadoras m√≥veis russas ganham nas nuvens</a></li>
<li><a href="../pt436772/index.html">Lei "Sobre Comunica√ß√µes" e vulnerabilidade em mensageiros</a></li>
<li><a href="../pt436774/index.html">O m√©todo de seq√ºestrar contas "em massa" por meio do acesso aos servi√ßos de uma operadora de celular</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>