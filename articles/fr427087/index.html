<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§µüèΩ üïµüèø üìë Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 12: S√©curit√© du r√©seau, partie 2 üë©üèª‚Äçü§ù‚Äçüë®üèΩ üçé üå¨Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "S√©curit√© des syst√®mes informatiques." Nikolai Zeldovich, James Mickens. 2014 ann√©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 12: S√©curit√© du r√©seau, partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427087/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "S√©curit√© des syst√®mes informatiques."  Nikolai Zeldovich, James Mickens.  2014 ann√©e </h3><br>  Computer Systems Security est un cours sur le d√©veloppement et la mise en ≈ìuvre de syst√®mes informatiques s√©curis√©s.  Les conf√©rences couvrent les mod√®les de menace, les attaques qui compromettent la s√©curit√© et les techniques de s√©curit√© bas√©es sur des travaux scientifiques r√©cents.  Les sujets incluent la s√©curit√© du syst√®me d'exploitation (OS), les fonctionnalit√©s, la gestion du flux d'informations, la s√©curit√© des langues, les protocoles r√©seau, la s√©curit√© mat√©rielle et la s√©curit√© des applications Web. <br><br>  Cours 1: ¬´Introduction: mod√®les de menace¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 2: ¬´Contr√¥le des attaques de pirates¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 3: ¬´D√©bordements de tampon: exploits et protection¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 4: ¬´S√©paration des privil√®ges¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 5: ¬´D'o√π viennent les syst√®mes de s√©curit√©?¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conf√©rence 6: ¬´Opportunit√©s¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 7: ¬´Native Client Sandbox¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 8: ¬´Mod√®le de s√©curit√© r√©seau¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 9: ¬´S√©curit√© des applications Web¬ª, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  Conf√©rence 10: ¬´Ex√©cution symbolique¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 11: ¬´Ur / Web Programming Language¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conf√©rence 12: S√©curit√© du r√©seau, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <a name="habracut"></a><br><br>  <b>√âtudiant:</b> vous avez peut <b>-</b> √™tre toujours un probl√®me de conflit d'int√©r√™ts car vous pouvez utiliser 32 bits pour les adresses de pairs et vous disposez de nombreux ports pour chacun d'eux.  Vous avez probablement un conflit de num√©ros de s√©quence de toutes ces connexions que vous obtenez? <br><br>  <b>Professeur: il</b> s'av√®re que ces num√©ros de s√©quence sont sp√©cifiques √† l'adresse IP et au num√©ro de port de la paire source / destination.  Donc, s'il s'agit de ports diff√©rents, ils n'interf√®rent pas du tout.  Plus pr√©cis√©ment, les ports ont des num√©ros de s√©rie inf√©rieurs. <br><br><img src="https://habrastorage.org/webt/ln/rp/sm/lnrpsmdw6g-ionqcpock0lqzf-s.jpeg"><br><br>  <b>Etudiant:</b> si les num√©ros de s√©rie sont globaux, l'attaquant peut-il se connecter √† d'autres clients? <br><br>  <b>Professeur:</b> oui, c'est un bon point.  En fait, si le serveur augmente le num√©ro de s√©rie, par exemple, de 64 Ko pour chaque connexion, vous vous connectez au serveur, puis 5 autres personnes s'y connectent, et ici vous pouvez organiser une attaque.  Dans une certaine mesure, vous avez raison, c'est un peu g√™nant.  D'un autre c√¥t√©, vous pourriez probablement faire en sorte qu'un colis de la derni√®re ligne de S-&gt; A soit livr√© imm√©diatement avant ce colis dans la premi√®re ligne de C-&gt; S.  Si vous envoyez vos paquets les uns apr√®s les autres, il y a de fortes chances qu'ils arrivent √©galement sur le serveur un par un. <br><br>  Le serveur recevra S-&gt; A et r√©pondra avec ce num√©ro de s√©quence (SN).  Il sera diff√©rent de celui des (SN) sur la deuxi√®me ligne, mais avec le num√©ro de s√©rie qui le suivra imm√©diatement.  Et puis vous saurez exactement quel num√©ro de s√©quence (SN) doit √™tre inclus dans le troisi√®me paquet de votre s√©quence. <br>  Par cons√©quent, je pense que ce n'est pas un moyen tr√®s fiable de se connecter au serveur, il est bas√© sur des hypoth√®ses.  Mais si vous organisez soigneusement vos colis de la bonne mani√®re, vous pouvez facilement deviner la s√©quence.  Ou peut-√™tre essaierez-vous plusieurs fois et vous aurez de la chance. <br><br>  <b>√âtudiant:</b> m√™me si les nombres sont g√©n√©r√©s par hasard, vous devez deviner l'un des 4 milliards de nombres possibles.  Ce n'est pas trop, non?  Je pense que d'ici un an, vous pourrez probablement p√©n√©trer ce r√©seau. <br><br>  <b>Professeur:</b> oui, vous avez absolument raison.  Vous ne devez pas trop compter sur TCP en termes de s√©curit√©.  Parce que vous avez raison, ce ne sont que 4 milliards de suppositions.  Et vous pouvez probablement envoyer beaucoup de paquets pendant la journ√©e si vous avez une connexion assez rapide. <br><br>  Nous avons donc ici une sorte d'argument int√©ressant sur la non-fiabilit√© de TCP, car nous n'avons que 32 bits.  Nous ne pouvons en aucun cas le s√©curiser.  Mais je pense que de nombreuses applications qui s'appuient suffisamment sur ce protocole ne pensent pas du tout √† la s√©curit√©, et cela devient vraiment un probl√®me. <br><br>  Mais vous avez absolument raison.  En pratique, vous souhaitez utiliser une sorte de cryptage en plus pour obtenir des garanties plus s√©rieuses que personne n'a falsifi√© vos donn√©es, car vous utilisez des cl√©s de cryptage de plus de 32 bits.  Dans la plupart des cas, cela est toujours efficace pour emp√™cher la falsification de la connexion TCP. <br><br>  Voyons maintenant pourquoi c'est mauvais si les gens peuvent simuler des connexions TCP √† partir d'adresses arbitraires? <br><br>  L'une des raisons pour lesquelles cela est mauvais est que cela peut affecter l'autorisation bas√©e sur l'adresse IP lorsque le serveur v√©rifie l'adresse d'o√π provient la demande.  Si un serveur d√©cide d'autoriser ou de refuser la connexion en fonction de l'adresse IP, cela pourrait potentiellement √™tre un probl√®me pour un attaquant qui a falsifi√© la connexion √† partir d'une adresse source arbitraire. <br><br>  Ainsi, un exemple o√π c'√©tait un probl√®me, aujourd'hui ce probl√®me est essentiellement r√©solu, est l'utilisation d'une famille de commandes r, telles que rlogin.  Auparavant, vous pouviez ex√©cuter quelque chose comme rlogin pour un ordinateur sur, disons, athena.dialup.mit.edu.  Et si votre connexion provient de l'h√¥te MIT, cette commande rlogin r√©ussira si vous dites: "oui, je suis l'utilisateur d'Alice sur cet ordinateur, permettez-moi de me connecter en tant qu'utilisateur d'Alice √† un autre ordinateur."  Et cette op√©ration sera autoris√©e, car tous les ordinateurs du r√©seau mit.edu sont dignes de confiance pour faire de telles d√©clarations. <br><br>  Je dois dire que l'acc√®s √† distance n'a jamais eu ce probl√®me.  Ce compos√© a utilis√© Cerberus d√®s le d√©but.  Mais d'autres syst√®mes, bien s√ªr, avaient de tels probl√®mes.  Et ceci est un exemple d'utilisation d'une adresse IP dans un m√©canisme d'authentification de connexion lorsque le syst√®me v√©rifie si le client appelant le serveur est fiable.  Donc, ce qui √©tait un probl√®me n'est plus un probl√®me.  Mais s'appuyer sur IP semble toujours √™tre un mauvais plan. <br><br><img src="https://habrastorage.org/webt/xp/zi/_1/xpzi_1guskiwnqi-52aokxflicq.jpeg"><br><br>  Maintenant que rlogin n'est plus utilis√©, il a r√©cemment √©t√© remplac√© par le shell SSH s√©curis√©, qui est un excellent protocole de couche r√©seau.  D'un autre c√¥t√©, il existe de nombreux autres exemples de protocoles qui reposent sur une autorisation bas√©e sur l'adresse IP.  L'un d'eux est SMTP.  Lorsque vous envoyez des e-mails, vous utilisez SMTP pour parler √† un serveur de messagerie afin d'envoyer des messages.  Pour √©viter le spam, de nombreux serveurs SMTP n'acceptent que les messages entrants provenant d'une adresse IP source sp√©cifique.  Par exemple, le serveur de messagerie Comcast accepte uniquement le courrier provenant d'adresses IP Comcast.  Il en va de m√™me pour les serveurs de messagerie MIT - ils n'accepteront que le courrier provenant d'adresses IP MIT.  Mais nous avions au moins un serveur qui ne fonctionnait pas comme il se doit, utilisant l'authentification IP. <br><br>  Tout n'est pas si mal ici.  Dans le pire des cas, vous enverrez du spam via le serveur de messagerie.  C'est probablement pourquoi ils utilisent toujours rlogin, alors que les choses qui vous permettent de vous connecter √† un compte arbitraire ont cess√© d'utiliser l'authentification bas√©e sur IP. <br><br>  Alors pourquoi un tel m√©canisme d'authentification est-il un mauvais plan?  Supposons que certains serveurs utilisent rlogin.  Que feriez-vous pour attaquer?  Quel mal pourrait arriver? <br><br>  <b>√âtudiant:</b> un attaquant peut simplement p√©n√©trer dans votre ordinateur, truquer un utilisateur qui va entrer dans le r√©seau avec votre nom d'utilisateur et acc√©der au r√©seau. <br><br>  <b>Professeur:</b> oui, fondamentalement, un attaquant prend le contr√¥le d'un ordinateur.  Il synth√©tise des donn√©es qui ressemblent √† un ensemble valide de commandes rlogin qui disent: ¬´Connectez-vous en tant qu'utilisateur et ex√©cutez cette commande dans mon shell Unix¬ª. <br><br>  Vous synth√©tisez ces donn√©es (SNc + 1), montez toute l'attaque et envoyez ces donn√©es comme si un utilisateur l√©gitime avait interagi avec le client rlogin, puis vous pouvez continuer. <br><br><img src="https://habrastorage.org/webt/8v/b-/ws/8vb-ws9vmaat0zscptpwoh8-cze.jpeg"><br><br>  Eh bien, c'est l'une des raisons pour lesquelles vous ne voulez pas que vos num√©ros de s√©quence TCP soient devin√©s.  Un autre probl√®me est que ces attaques de r√©initialisation r√©initialisent l'attaque.  De la m√™me mani√®re que nous pourrions envoyer un paquet SYN, si nous connaissons le num√©ro de s√©rie de quelqu'un, nous pouvons envoyer un paquet de r√©initialisation de la m√™me mani√®re. <br><br>  Nous avons bri√®vement mentionn√© un client l√©gal qui envoie un faux paquet de r√©initialisation de connexion qu'un attaquant a √©tabli.  Un attaquant pourrait tout aussi bien essayer d'envoyer des paquets de rejet pour une connexion existante s'il sait que votre num√©ro de s√©quence est dans cette connexion.  En fait, il n'est pas clair de l'ampleur de ce probl√®me. <br><br>  √Ä un certain niveau, vous devez supposer que toutes vos connexions TCP peuvent √™tre interrompues dans tous les cas et √† tout moment, c'est-√†-dire qu'il ne semble pas que votre r√©seau soit fiable.  Par cons√©quent, vous devriez peut-√™tre vous attendre √† une d√©connexion. <br><br>  Dans le cas o√π les routeurs "parlent" entre eux, cette hypoth√®se est particuli√®rement critique.  Si vous avez de nombreux routeurs qui communiquent entre eux √† l'aide de certains protocoles de routage, il existe des connexions physiques entre eux.  Mais en plus de ces connexions physiques, ils communiquent via un protocole r√©seau qui fonctionne via TCP.  En fait, dans chacune de ces connexions physiques que les routeurs utilisent pour √©changer des informations de routage, une session TCP est lanc√©e.  Le protocole BGP est utilis√© ici, dont nous parlerons plus tard. <br><br>  Ce protocole BGP utilise le fait que si la connexion TCP est active, la connexion physique est √©galement active.  Donc, si une connexion TCP est rompue, le routeur pense que la connexion est rompue et commence √† recompter toutes ses tables de routage. <br><br><img src="https://habrastorage.org/webt/v6/wj/cc/v6wjccjolqvci5pvynpn_uui-pm.jpeg"><br><br>  Par cons√©quent, si l'adversaire veut organiser une sorte d'attaque par d√©ni de service DoS, il peut essayer de deviner les num√©ros de s√©rie de ces routeurs et abandonner ces sessions.  Si la session TCP entre les deux routeurs est d√©sactiv√©e, les deux routeurs consid√®rent que cette connexion est morte et ils doivent recompter toutes les tables de routage, ce qui entra√Ænera la modification des itin√©raires.  Apr√®s cela, l'attaquant peut r√©initialiser une autre connexion, etc. <br><br>  Ainsi, il s'agit d'une attaque quelque peu alarmante, et non pas parce qu'elle viole le secret de quelqu'un d'autre et ainsi de suite, du moins pas directement, mais parce qu'elle cause vraiment beaucoup de probl√®mes d'acc√®s pour les autres utilisateurs du syst√®me. <br><br>  <b>√âtudiant:</b> si vous √™tes un attaquant et que vous souhaitez organiser une attaque cibl√©e contre un utilisateur sp√©cifique, pourriez-vous simplement continuer √† envoyer des demandes de connexion au serveur au nom de son adresse IP et l'obliger √† r√©initialiser la connexion au serveur? <br><br>  <b>Professeur:</b> supposons que j'utilise Gmail et que vous vouliez m'emp√™cher de recevoir des informations de Gmail, alors envoyez simplement des paquets √† ma machine, en faisant semblant de provenir d'un serveur Gmail.  Dans ce cas, vous devez deviner les num√©ros de port source et destination corrects. <br><br>  Le num√©ro de port de destination est probablement 443 car j'utilise HTTPS.  Mais le num√©ro de port source sera une chose al√©atoire de 16 bits.  De plus, les num√©ros de s√©rie varient.  Par cons√©quent, si vous ne devinez pas le num√©ro de s√©quence qui se trouve dans ma fen√™tre TCP et qui est des dizaines de kilo-octets, vous ne r√©ussirez pas. <br><br>  Il faut donc deviner pas mal de choses.  Il n'y a pas d'acc√®s Oracle ici.  Vous ne pouvez pas simplement demander au serveur le num√©ro de s√©rie de ce type.  C'est la raison pour laquelle cela ne fonctionnera pas non plus. <br><br>  Ainsi, beaucoup de ces probl√®mes ont √©t√© corrig√©s, y compris cette chose bas√©e sur RST, en particulier pour les routeurs BGP.  Il y avait en fait deux corrections dr√¥les.  Une chose montre vraiment comment vous pouvez exploiter des choses existantes ou les utiliser pour r√©soudre des probl√®mes sp√©cifiques.  Il utilise la propri√©t√© que ces routeurs communiquent uniquement entre eux et non avec quiconque sur le r√©seau.  Par cons√©quent, si le paquet n'arrive pas √† partir d'un routeur situ√© √† l'autre extr√©mit√© de la connexion, ce paquet est rejet√©. <br><br>  La mise en ≈ìuvre r√©ussie des d√©veloppeurs de ces protocoles est une merveilleuse zone dans le package appel√© la "dur√©e de vie", ou TTL.  Il s'agit d'un champ de 8 bits qui est d√©cr√©ment√© par chaque routeur pour garantir que les paquets ne se retrouvent pas dans une boucle infinie.  La valeur TTL maximale est de 255 et diminue encore. <br><br>  Alors qu'est-ce que je fais ces protocoles intelligents?  Ils rejettent tout paquet dont la valeur TTL n'est pas √©gale √† 255. Parce que si le paquet a une valeur de 255, il ne peut provenir que d'un routeur de l'autre c√¥t√© de cette connexion.  Et si l'adversaire tente d'injecter tout autre paquet dans la connexion BGP existante, il aura une valeur TTL inf√©rieure √† 255, car cette valeur sera r√©duite par d'autres routeurs situ√©s le long du chemin de routage, y compris ce routeur.  Par cons√©quent, ce colis sera simplement rejet√© par le destinataire. <br><br>  C'est donc un exemple d'une combinaison intelligente de techniques r√©trocompatibles qui r√©solvent ce probl√®me tr√®s sp√©cifique. <br><br><img src="https://habrastorage.org/webt/k4/ix/mo/k4ixmopv2goqdgdhy48-lh1wol4.jpeg"><br><br>  <b>√âtudiant:</b> le routeur inf√©rieur droit n'envoie-t <b>-</b> il pas quelque chose avec un TTL de 255? <br><br>  <b>Professeur:</b> Ceci est un routeur physique.  Et il sait que ce sont des connexions distinctes, donc il regarde √† la fois TTL et d'o√π vient le paquet.  Donc, si le paquet provenait du routeur sup√©rieur gauche, il ne l'acceptera pas pour une connexion TCP entre lui et le routeur sup√©rieur droit. <br><br>  Pour la plupart, ces routeurs font confiance √† leurs voisins imm√©diats, et ce processus peut √™tre contr√¥l√© √† l'aide du m√©canisme de routage multi-chemins Auto Pan. <br><br>  D'autres correctifs pour BGP consistent √† impl√©menter une certaine forme d'en-t√™te d'authentification, y compris un en-t√™te d'authentification MD5.  Mais en r√©alit√©, les d√©veloppeurs se sont concentr√©s sur cette application particuli√®re, pour laquelle une attaque de r√©initialisation est particuli√®rement critique. <br><br>  Ce probl√®me persiste aujourd'hui.  S'il y a une connexion √† long terme et que je veux l'interrompre, je n'ai qu'√† envoyer un grand nombre de paquets RST, environ des centaines de milliers, mais probablement pas 4 milliards.  Parce que les serveurs sont en fait quelque peu vuln√©rables au num√©ro de s√©quence qu'ils acceptent pour la r√©initialisation. <br><br>  Il peut s'agir de n'importe quel package dans une fen√™tre sp√©cifique.  Dans ce cas, l'attaquant pourrait rompre cette connexion sans trop d'effort.  C'est encore un probl√®me pour lequel il n'y a pas vraiment de bonne solution. <br><br>  Et la derni√®re mauvaise chose qui peut arriver en raison de la pr√©visibilit√© des num√©ros de s√©quence est l'injection de donn√©es dans les connexions existantes.  Supposons que nous ayons un protocole hypoth√©tique similaire √† rlogin, qui n'effectue pas r√©ellement d'authentification bas√©e sur IP, vous devez donc entrer votre mot de passe pour vous connecter. <br><br>  Le probl√®me est que d√®s que vous entrez votre mot de passe, votre connexion TCP est peut-√™tre simplement √©tablie et peut accepter des donn√©es arbitraires.  L'attaquant a donc juste besoin d'attendre que l'un de vous se connecte √† l'ordinateur en entrant votre mot de passe. <br><br>  L'attaquant ne sait pas quel est le mot de passe, mais d√®s que vous √©tablissez une connexion TCP, il essaiera imm√©diatement de deviner votre num√©ro de s√©rie et de saisir des donn√©es dans votre connexion existante.  Donc, si je peux deviner correctement votre num√©ro de s√©rie, cela me permettra de pr√©tendre que ce n'est pas moi, mais vous avez entr√© une commande apr√®s avoir √©t√© correctement authentifi√© avec un mot de passe. <br><br><img src="https://habrastorage.org/webt/ao/0n/xw/ao0nxw7zfmyfhjhmb56s6ht7l7s.jpeg"><br><br>  Tout cela indique pourquoi vous ne voulez vraiment pas vous fier √† ces num√©ros de s√©quence 32 bits dans un sens de s√©curit√©.  Mais voyons ce que les piles TCP modernes font r√©ellement pour att√©nuer ce probl√®me.  Une approche du probl√®me que nous aborderons dans les 2 prochaines conf√©rences consiste √† impl√©menter un certain degr√© de s√©curit√© au niveau de l'application.  √Ä ce niveau, nous utiliserons la cryptographie pour authentifier, crypter, signer et v√©rifier les messages sans grande implication TCP. <br><br>  Certaines des applications existantes aident √©galement √† r√©soudre les probl√®mes de s√©curit√©, ou du moins rendent plus difficile pour un attaquant d'exploiter ces probl√®mes.  Les gens mettent cela en pratique aujourd'hui, par exemple, sur Linux et Windows, en conservant des num√©ros de s√©quence initiaux diff√©rents pour chaque paire source / destination. <br><br>  Ainsi, la plupart des impl√©mentations TCP SYN calculent toujours ce num√©ro de s√©quence ISN initial de la m√™me mani√®re que nous l'avons fait auparavant.  C'est donc un vieux style ISN, disons-le.  Et afin de g√©n√©rer r√©ellement un num√©ro de s√©rie pour une connexion particuli√®re, nous ajoutons √† cet ISN √† l'ancienne un d√©calage al√©atoire de 32 bits.  Autrement dit, nous y ajoutons une fonction - quelque chose comme une fonction de hachage ou SHA-1, ou quelque chose de mieux. <br><br><img src="https://habrastorage.org/webt/lm/wp/fm/lmwpfmcij_lsb9m2hggzeic9duy.jpeg"><br><br>  Cette fonctionnalit√© comprend l'adresse IP source, le num√©ro de port source, l'adresse IP de destination, le num√©ro de port de destination et une cl√© secr√®te que seul le serveur conna√Æt.  Ainsi, nous cr√©ons une bonne opportunit√© pour toute connexion particuli√®re de d√©terminer l'adresse IP et le port pour la paire source / destination, tout en pr√©servant toutes les bonnes propri√©t√©s de cet ancien algorithme d'attribution de num√©ro de s√©quence de style. <br><br>  Mais si vous disposez de connexions provenant de diff√©rents ensembles source / destination, rien ne vous permet de conna√Ætre la valeur exacte du num√©ro de s√©rie d'un autre ensemble de connexions.  En fait, vous devez deviner cette cl√© pour calculer cette valeur. <br><br>  J'esp√®re que le noyau du syst√®me d'exploitation serveur stocke cette cl√© quelque part dans sa m√©moire et ne la donne √† personne.  C'est ainsi que la plupart des piles TCP r√©solvent aujourd'hui ce probl√®me particulier dans le domaine des num√©ros de s√©quence 32 bits courants.  Ce n'est pas trop grand, mais √ßa marche. <br><br>  <b>√âtudiant:</b> pourriez-vous r√©p√©ter cela?  √Ä propos de l'unicit√© de la cl√© ... <br><br>  <b>Professeur:</b> lorsque ma machine d√©marre, ou lorsqu'une machine d√©marre, elle g√©n√®re une cl√© al√©atoire.  Chaque fois que vous le rechargez, il g√©n√®re une nouvelle cl√©.  Cela signifie que chaque fois que les num√©ros de s√©rie d'une paire source / destination particuli√®re changent avec la m√™me fr√©quence de d√©calage.  Ainsi, pour une paire source / destination donn√©e, les param√®tres de fonction sont fixes.  Vous suivez donc la s√©quence lorsque les nombres √©voluent en fonction de vos num√©ros de s√©quence initiaux pour les nouveaux compos√©s, changeant selon un algorithme sp√©cifique.  Ainsi, une protection contre l'injection d'anciens paquets des connexions pr√©c√©dentes dans de nouvelles connexions est fournie, ainsi qu'une protection contre la r√©affectation des paquets. <br><br>  La seule chose pour laquelle nous avons besoin de ce num√©ro de s√©rie de l'ancien √©chantillon est le choix de l'algorithme pour √©viter les probl√®mes avec ces paquets en double.  Plus t√¥t, nous avons consid√©r√© que si vous obtenez un num√©ro de s√©rie pour une connexion A: A -&gt; S: SYN (...), vous pouvez ensuite tirer une conclusion sur le num√©ro de s√©rie de la connexion ACK (SN). <br><br><img src="https://habrastorage.org/webt/a0/w1/-x/a0w1-xenwugh56twqvkfkgzkai0.jpeg"><br><br>    ,         32-   ,     F.  ,         ,      . <br><br> <b>:</b>       ? <br><br> <b>:</b>     ,      .      F,    ,    F  ,   ,   ,       . <br><br> <b>:</b>      ,        ‚Ä¶ <br><br> <b>:</b>  ,     F  -    -,     .            -,   ,         .  , ,  ,   ,        .       ,     F     . <br><br> ,           TCP,      .          ,    ,   -  . <br><br>   ,        .   ,   TCP    ,       DNS,        .    ,  DNS   UDP ‚Äì   . UDP ‚Äî     ,      ,     .  UDP         .  ,    ,       ,        .     ,              ,       .         DNS-.       DNS? <br><br><img src="https://habrastorage.org/webt/zg/um/eo/zgumeoz-kafodeqfjnjyhkjotjs.jpeg"><br><br> ,   DNS-  C: C53 -&gt; S53     mit.edu,        53. <br><br>      S: S53 -&gt; C53       IP-,      ‚Äì  . <br><br>    ,         ,  ,     ,      .   ,      mit.edu,         . <br><br>   ,  DNS-   .     IP-,       ,    .        IP-  mit.edu  IP-.        ,     ,   ,      ,       .      ,                . <br><br><img src="https://habrastorage.org/webt/n0/f3/6e/n0f36e0r8uoipzszlz4mdtywwcm.jpeg"><br><br>   ,      ,   .           IP-. ,   ,   DNS-  .  ,       ,          IP- mit.edu. <br><br> <b>:</b>            ,    ,    ? <br><br> <b>:</b>   ,   . ,    ,    .       DNS-,    ,       .    2  .  ‚Äî    ,   16  .           ,    16 .      ID,    16 ,      . <br><br>  ,     ,        32  . ,  ,    ,          ,        . <br><br><img src="https://habrastorage.org/webt/py/ca/my/pycamyquozaz7jj41b01zovow7q.jpeg"><br><br>  ,    ,         . <br><br>  ,         DNS    DNS   .  ,          ,  DNS     . ,  DNS SEC,       .  ,         ,  ,   DNS-     .    ,  ,        . <br><br>           origin.  DNS    ,       IP-,  : ‚Äû,     ‚Äú.  ,     ,   ,     ,     ,     ,    .      ,        ,        ? <br><br>  ,    ‚Äì    DNS- ,     . , ,   .    -,    DNS-,    .   ,    DNS SEC,   ,         ,    DNS-   .  DNS-     , ,     ,      ‚Äì     ,      . <br><br>  DNS SEC       ,   NSEC.   ,     . , NSEC  ,     foo.mit.edu,         goo.mit.edu,          ,    . <br><br><img src="https://habrastorage.org/webt/vy/w6/a1/vyw6a1qrruintd6iwnsg8exluzs.jpeg"><br><br> ,    ,      ,    ,        ,       ,         ‚Äû,     ‚Äú. <br><br>         .       ,    foo.mit.edu -&gt; goo.mit.edu ‚Äî &gt;‚Ä¶.  : ¬ª ,    ,       gooa.mit.edu".    , ,         . <br><br>          ,       DNS          .        NSEC3,       ‚Äì -  , -  . <br><br> 52:00  <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "S√©curit√© des syst√®mes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> 12: ¬´ ¬ª,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BZTWXl9QNK8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en d√©cembre gratuitement</b> en payant pour une p√©riode de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV √† partir de 249 $</a> aux Pays-Bas et aux √âtats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427087/">https://habr.com/ru/post/fr427087/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427069/index.html">D√©p√¥t NPM local en 5 minutes avec ses packages et sa mise en cache</a></li>
<li><a href="../fr427075/index.html">L'histoire d'un d√©veloppement</a></li>
<li><a href="../fr427077/index.html">Laplace Blur - Est-il possible de blub Laplace au lieu de Gauss, combien de fois est plus rapide, et vaut-il la perte de pr√©cision 1/32</a></li>
<li><a href="../fr427079/index.html">NetApp Insight 2018</a></li>
<li><a href="../fr427081/index.html">Crit√®res de l'esprit humain, du point de vue d'un programmeur</a></li>
<li><a href="../fr427091/index.html">V√©rification num√©rique de l'hypoth√®se abc (oui, celle-l√†)</a></li>
<li><a href="../fr427093/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 12: S√©curit√© du r√©seau, partie 3</a></li>
<li><a href="../fr427095/index.html">Antimoine - CAD d'un monde parall√®le</a></li>
<li><a href="../fr427097/index.html">L'application mobile permet de d√©tecter la d√©pression et d'autres probl√®mes psychologiques d√®s les premiers stades.</a></li>
<li><a href="../fr427101/index.html">Google pr√©voit de facturer aux fabricants d'appareils mobiles jusqu'√† 40 $ pour chaque appareil vendu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>