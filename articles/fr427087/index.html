<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤵🏽 🕵🏿 📑 Cours MIT "Sécurité des systèmes informatiques". Conférence 12: Sécurité du réseau, partie 2 👩🏻‍🤝‍👨🏽 🍎 🌬️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 12: Sécurité du réseau, partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427087/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 7: «Native Client Sandbox» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 8: «Modèle de sécurité réseau» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 9: «Sécurité des applications Web», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  Conférence 10: «Exécution symbolique» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 11: «Ur / Web Programming Language» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 12: Sécurité du réseau, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <a name="habracut"></a><br><br>  <b>Étudiant:</b> vous avez peut <b>-</b> être toujours un problème de conflit d'intérêts car vous pouvez utiliser 32 bits pour les adresses de pairs et vous disposez de nombreux ports pour chacun d'eux.  Vous avez probablement un conflit de numéros de séquence de toutes ces connexions que vous obtenez? <br><br>  <b>Professeur: il</b> s'avère que ces numéros de séquence sont spécifiques à l'adresse IP et au numéro de port de la paire source / destination.  Donc, s'il s'agit de ports différents, ils n'interfèrent pas du tout.  Plus précisément, les ports ont des numéros de série inférieurs. <br><br><img src="https://habrastorage.org/webt/ln/rp/sm/lnrpsmdw6g-ionqcpock0lqzf-s.jpeg"><br><br>  <b>Etudiant:</b> si les numéros de série sont globaux, l'attaquant peut-il se connecter à d'autres clients? <br><br>  <b>Professeur:</b> oui, c'est un bon point.  En fait, si le serveur augmente le numéro de série, par exemple, de 64 Ko pour chaque connexion, vous vous connectez au serveur, puis 5 autres personnes s'y connectent, et ici vous pouvez organiser une attaque.  Dans une certaine mesure, vous avez raison, c'est un peu gênant.  D'un autre côté, vous pourriez probablement faire en sorte qu'un colis de la dernière ligne de S-&gt; A soit livré immédiatement avant ce colis dans la première ligne de C-&gt; S.  Si vous envoyez vos paquets les uns après les autres, il y a de fortes chances qu'ils arrivent également sur le serveur un par un. <br><br>  Le serveur recevra S-&gt; A et répondra avec ce numéro de séquence (SN).  Il sera différent de celui des (SN) sur la deuxième ligne, mais avec le numéro de série qui le suivra immédiatement.  Et puis vous saurez exactement quel numéro de séquence (SN) doit être inclus dans le troisième paquet de votre séquence. <br>  Par conséquent, je pense que ce n'est pas un moyen très fiable de se connecter au serveur, il est basé sur des hypothèses.  Mais si vous organisez soigneusement vos colis de la bonne manière, vous pouvez facilement deviner la séquence.  Ou peut-être essaierez-vous plusieurs fois et vous aurez de la chance. <br><br>  <b>Étudiant:</b> même si les nombres sont générés par hasard, vous devez deviner l'un des 4 milliards de nombres possibles.  Ce n'est pas trop, non?  Je pense que d'ici un an, vous pourrez probablement pénétrer ce réseau. <br><br>  <b>Professeur:</b> oui, vous avez absolument raison.  Vous ne devez pas trop compter sur TCP en termes de sécurité.  Parce que vous avez raison, ce ne sont que 4 milliards de suppositions.  Et vous pouvez probablement envoyer beaucoup de paquets pendant la journée si vous avez une connexion assez rapide. <br><br>  Nous avons donc ici une sorte d'argument intéressant sur la non-fiabilité de TCP, car nous n'avons que 32 bits.  Nous ne pouvons en aucun cas le sécuriser.  Mais je pense que de nombreuses applications qui s'appuient suffisamment sur ce protocole ne pensent pas du tout à la sécurité, et cela devient vraiment un problème. <br><br>  Mais vous avez absolument raison.  En pratique, vous souhaitez utiliser une sorte de cryptage en plus pour obtenir des garanties plus sérieuses que personne n'a falsifié vos données, car vous utilisez des clés de cryptage de plus de 32 bits.  Dans la plupart des cas, cela est toujours efficace pour empêcher la falsification de la connexion TCP. <br><br>  Voyons maintenant pourquoi c'est mauvais si les gens peuvent simuler des connexions TCP à partir d'adresses arbitraires? <br><br>  L'une des raisons pour lesquelles cela est mauvais est que cela peut affecter l'autorisation basée sur l'adresse IP lorsque le serveur vérifie l'adresse d'où provient la demande.  Si un serveur décide d'autoriser ou de refuser la connexion en fonction de l'adresse IP, cela pourrait potentiellement être un problème pour un attaquant qui a falsifié la connexion à partir d'une adresse source arbitraire. <br><br>  Ainsi, un exemple où c'était un problème, aujourd'hui ce problème est essentiellement résolu, est l'utilisation d'une famille de commandes r, telles que rlogin.  Auparavant, vous pouviez exécuter quelque chose comme rlogin pour un ordinateur sur, disons, athena.dialup.mit.edu.  Et si votre connexion provient de l'hôte MIT, cette commande rlogin réussira si vous dites: "oui, je suis l'utilisateur d'Alice sur cet ordinateur, permettez-moi de me connecter en tant qu'utilisateur d'Alice à un autre ordinateur."  Et cette opération sera autorisée, car tous les ordinateurs du réseau mit.edu sont dignes de confiance pour faire de telles déclarations. <br><br>  Je dois dire que l'accès à distance n'a jamais eu ce problème.  Ce composé a utilisé Cerberus dès le début.  Mais d'autres systèmes, bien sûr, avaient de tels problèmes.  Et ceci est un exemple d'utilisation d'une adresse IP dans un mécanisme d'authentification de connexion lorsque le système vérifie si le client appelant le serveur est fiable.  Donc, ce qui était un problème n'est plus un problème.  Mais s'appuyer sur IP semble toujours être un mauvais plan. <br><br><img src="https://habrastorage.org/webt/xp/zi/_1/xpzi_1guskiwnqi-52aokxflicq.jpeg"><br><br>  Maintenant que rlogin n'est plus utilisé, il a récemment été remplacé par le shell SSH sécurisé, qui est un excellent protocole de couche réseau.  D'un autre côté, il existe de nombreux autres exemples de protocoles qui reposent sur une autorisation basée sur l'adresse IP.  L'un d'eux est SMTP.  Lorsque vous envoyez des e-mails, vous utilisez SMTP pour parler à un serveur de messagerie afin d'envoyer des messages.  Pour éviter le spam, de nombreux serveurs SMTP n'acceptent que les messages entrants provenant d'une adresse IP source spécifique.  Par exemple, le serveur de messagerie Comcast accepte uniquement le courrier provenant d'adresses IP Comcast.  Il en va de même pour les serveurs de messagerie MIT - ils n'accepteront que le courrier provenant d'adresses IP MIT.  Mais nous avions au moins un serveur qui ne fonctionnait pas comme il se doit, utilisant l'authentification IP. <br><br>  Tout n'est pas si mal ici.  Dans le pire des cas, vous enverrez du spam via le serveur de messagerie.  C'est probablement pourquoi ils utilisent toujours rlogin, alors que les choses qui vous permettent de vous connecter à un compte arbitraire ont cessé d'utiliser l'authentification basée sur IP. <br><br>  Alors pourquoi un tel mécanisme d'authentification est-il un mauvais plan?  Supposons que certains serveurs utilisent rlogin.  Que feriez-vous pour attaquer?  Quel mal pourrait arriver? <br><br>  <b>Étudiant:</b> un attaquant peut simplement pénétrer dans votre ordinateur, truquer un utilisateur qui va entrer dans le réseau avec votre nom d'utilisateur et accéder au réseau. <br><br>  <b>Professeur:</b> oui, fondamentalement, un attaquant prend le contrôle d'un ordinateur.  Il synthétise des données qui ressemblent à un ensemble valide de commandes rlogin qui disent: «Connectez-vous en tant qu'utilisateur et exécutez cette commande dans mon shell Unix». <br><br>  Vous synthétisez ces données (SNc + 1), montez toute l'attaque et envoyez ces données comme si un utilisateur légitime avait interagi avec le client rlogin, puis vous pouvez continuer. <br><br><img src="https://habrastorage.org/webt/8v/b-/ws/8vb-ws9vmaat0zscptpwoh8-cze.jpeg"><br><br>  Eh bien, c'est l'une des raisons pour lesquelles vous ne voulez pas que vos numéros de séquence TCP soient devinés.  Un autre problème est que ces attaques de réinitialisation réinitialisent l'attaque.  De la même manière que nous pourrions envoyer un paquet SYN, si nous connaissons le numéro de série de quelqu'un, nous pouvons envoyer un paquet de réinitialisation de la même manière. <br><br>  Nous avons brièvement mentionné un client légal qui envoie un faux paquet de réinitialisation de connexion qu'un attaquant a établi.  Un attaquant pourrait tout aussi bien essayer d'envoyer des paquets de rejet pour une connexion existante s'il sait que votre numéro de séquence est dans cette connexion.  En fait, il n'est pas clair de l'ampleur de ce problème. <br><br>  À un certain niveau, vous devez supposer que toutes vos connexions TCP peuvent être interrompues dans tous les cas et à tout moment, c'est-à-dire qu'il ne semble pas que votre réseau soit fiable.  Par conséquent, vous devriez peut-être vous attendre à une déconnexion. <br><br>  Dans le cas où les routeurs "parlent" entre eux, cette hypothèse est particulièrement critique.  Si vous avez de nombreux routeurs qui communiquent entre eux à l'aide de certains protocoles de routage, il existe des connexions physiques entre eux.  Mais en plus de ces connexions physiques, ils communiquent via un protocole réseau qui fonctionne via TCP.  En fait, dans chacune de ces connexions physiques que les routeurs utilisent pour échanger des informations de routage, une session TCP est lancée.  Le protocole BGP est utilisé ici, dont nous parlerons plus tard. <br><br>  Ce protocole BGP utilise le fait que si la connexion TCP est active, la connexion physique est également active.  Donc, si une connexion TCP est rompue, le routeur pense que la connexion est rompue et commence à recompter toutes ses tables de routage. <br><br><img src="https://habrastorage.org/webt/v6/wj/cc/v6wjccjolqvci5pvynpn_uui-pm.jpeg"><br><br>  Par conséquent, si l'adversaire veut organiser une sorte d'attaque par déni de service DoS, il peut essayer de deviner les numéros de série de ces routeurs et abandonner ces sessions.  Si la session TCP entre les deux routeurs est désactivée, les deux routeurs considèrent que cette connexion est morte et ils doivent recompter toutes les tables de routage, ce qui entraînera la modification des itinéraires.  Après cela, l'attaquant peut réinitialiser une autre connexion, etc. <br><br>  Ainsi, il s'agit d'une attaque quelque peu alarmante, et non pas parce qu'elle viole le secret de quelqu'un d'autre et ainsi de suite, du moins pas directement, mais parce qu'elle cause vraiment beaucoup de problèmes d'accès pour les autres utilisateurs du système. <br><br>  <b>Étudiant:</b> si vous êtes un attaquant et que vous souhaitez organiser une attaque ciblée contre un utilisateur spécifique, pourriez-vous simplement continuer à envoyer des demandes de connexion au serveur au nom de son adresse IP et l'obliger à réinitialiser la connexion au serveur? <br><br>  <b>Professeur:</b> supposons que j'utilise Gmail et que vous vouliez m'empêcher de recevoir des informations de Gmail, alors envoyez simplement des paquets à ma machine, en faisant semblant de provenir d'un serveur Gmail.  Dans ce cas, vous devez deviner les numéros de port source et destination corrects. <br><br>  Le numéro de port de destination est probablement 443 car j'utilise HTTPS.  Mais le numéro de port source sera une chose aléatoire de 16 bits.  De plus, les numéros de série varient.  Par conséquent, si vous ne devinez pas le numéro de séquence qui se trouve dans ma fenêtre TCP et qui est des dizaines de kilo-octets, vous ne réussirez pas. <br><br>  Il faut donc deviner pas mal de choses.  Il n'y a pas d'accès Oracle ici.  Vous ne pouvez pas simplement demander au serveur le numéro de série de ce type.  C'est la raison pour laquelle cela ne fonctionnera pas non plus. <br><br>  Ainsi, beaucoup de ces problèmes ont été corrigés, y compris cette chose basée sur RST, en particulier pour les routeurs BGP.  Il y avait en fait deux corrections drôles.  Une chose montre vraiment comment vous pouvez exploiter des choses existantes ou les utiliser pour résoudre des problèmes spécifiques.  Il utilise la propriété que ces routeurs communiquent uniquement entre eux et non avec quiconque sur le réseau.  Par conséquent, si le paquet n'arrive pas à partir d'un routeur situé à l'autre extrémité de la connexion, ce paquet est rejeté. <br><br>  La mise en œuvre réussie des développeurs de ces protocoles est une merveilleuse zone dans le package appelé la "durée de vie", ou TTL.  Il s'agit d'un champ de 8 bits qui est décrémenté par chaque routeur pour garantir que les paquets ne se retrouvent pas dans une boucle infinie.  La valeur TTL maximale est de 255 et diminue encore. <br><br>  Alors qu'est-ce que je fais ces protocoles intelligents?  Ils rejettent tout paquet dont la valeur TTL n'est pas égale à 255. Parce que si le paquet a une valeur de 255, il ne peut provenir que d'un routeur de l'autre côté de cette connexion.  Et si l'adversaire tente d'injecter tout autre paquet dans la connexion BGP existante, il aura une valeur TTL inférieure à 255, car cette valeur sera réduite par d'autres routeurs situés le long du chemin de routage, y compris ce routeur.  Par conséquent, ce colis sera simplement rejeté par le destinataire. <br><br>  C'est donc un exemple d'une combinaison intelligente de techniques rétrocompatibles qui résolvent ce problème très spécifique. <br><br><img src="https://habrastorage.org/webt/k4/ix/mo/k4ixmopv2goqdgdhy48-lh1wol4.jpeg"><br><br>  <b>Étudiant:</b> le routeur inférieur droit n'envoie-t <b>-</b> il pas quelque chose avec un TTL de 255? <br><br>  <b>Professeur:</b> Ceci est un routeur physique.  Et il sait que ce sont des connexions distinctes, donc il regarde à la fois TTL et d'où vient le paquet.  Donc, si le paquet provenait du routeur supérieur gauche, il ne l'acceptera pas pour une connexion TCP entre lui et le routeur supérieur droit. <br><br>  Pour la plupart, ces routeurs font confiance à leurs voisins immédiats, et ce processus peut être contrôlé à l'aide du mécanisme de routage multi-chemins Auto Pan. <br><br>  D'autres correctifs pour BGP consistent à implémenter une certaine forme d'en-tête d'authentification, y compris un en-tête d'authentification MD5.  Mais en réalité, les développeurs se sont concentrés sur cette application particulière, pour laquelle une attaque de réinitialisation est particulièrement critique. <br><br>  Ce problème persiste aujourd'hui.  S'il y a une connexion à long terme et que je veux l'interrompre, je n'ai qu'à envoyer un grand nombre de paquets RST, environ des centaines de milliers, mais probablement pas 4 milliards.  Parce que les serveurs sont en fait quelque peu vulnérables au numéro de séquence qu'ils acceptent pour la réinitialisation. <br><br>  Il peut s'agir de n'importe quel package dans une fenêtre spécifique.  Dans ce cas, l'attaquant pourrait rompre cette connexion sans trop d'effort.  C'est encore un problème pour lequel il n'y a pas vraiment de bonne solution. <br><br>  Et la dernière mauvaise chose qui peut arriver en raison de la prévisibilité des numéros de séquence est l'injection de données dans les connexions existantes.  Supposons que nous ayons un protocole hypothétique similaire à rlogin, qui n'effectue pas réellement d'authentification basée sur IP, vous devez donc entrer votre mot de passe pour vous connecter. <br><br>  Le problème est que dès que vous entrez votre mot de passe, votre connexion TCP est peut-être simplement établie et peut accepter des données arbitraires.  L'attaquant a donc juste besoin d'attendre que l'un de vous se connecte à l'ordinateur en entrant votre mot de passe. <br><br>  L'attaquant ne sait pas quel est le mot de passe, mais dès que vous établissez une connexion TCP, il essaiera immédiatement de deviner votre numéro de série et de saisir des données dans votre connexion existante.  Donc, si je peux deviner correctement votre numéro de série, cela me permettra de prétendre que ce n'est pas moi, mais vous avez entré une commande après avoir été correctement authentifié avec un mot de passe. <br><br><img src="https://habrastorage.org/webt/ao/0n/xw/ao0nxw7zfmyfhjhmb56s6ht7l7s.jpeg"><br><br>  Tout cela indique pourquoi vous ne voulez vraiment pas vous fier à ces numéros de séquence 32 bits dans un sens de sécurité.  Mais voyons ce que les piles TCP modernes font réellement pour atténuer ce problème.  Une approche du problème que nous aborderons dans les 2 prochaines conférences consiste à implémenter un certain degré de sécurité au niveau de l'application.  À ce niveau, nous utiliserons la cryptographie pour authentifier, crypter, signer et vérifier les messages sans grande implication TCP. <br><br>  Certaines des applications existantes aident également à résoudre les problèmes de sécurité, ou du moins rendent plus difficile pour un attaquant d'exploiter ces problèmes.  Les gens mettent cela en pratique aujourd'hui, par exemple, sur Linux et Windows, en conservant des numéros de séquence initiaux différents pour chaque paire source / destination. <br><br>  Ainsi, la plupart des implémentations TCP SYN calculent toujours ce numéro de séquence ISN initial de la même manière que nous l'avons fait auparavant.  C'est donc un vieux style ISN, disons-le.  Et afin de générer réellement un numéro de série pour une connexion particulière, nous ajoutons à cet ISN à l'ancienne un décalage aléatoire de 32 bits.  Autrement dit, nous y ajoutons une fonction - quelque chose comme une fonction de hachage ou SHA-1, ou quelque chose de mieux. <br><br><img src="https://habrastorage.org/webt/lm/wp/fm/lmwpfmcij_lsb9m2hggzeic9duy.jpeg"><br><br>  Cette fonctionnalité comprend l'adresse IP source, le numéro de port source, l'adresse IP de destination, le numéro de port de destination et une clé secrète que seul le serveur connaît.  Ainsi, nous créons une bonne opportunité pour toute connexion particulière de déterminer l'adresse IP et le port pour la paire source / destination, tout en préservant toutes les bonnes propriétés de cet ancien algorithme d'attribution de numéro de séquence de style. <br><br>  Mais si vous disposez de connexions provenant de différents ensembles source / destination, rien ne vous permet de connaître la valeur exacte du numéro de série d'un autre ensemble de connexions.  En fait, vous devez deviner cette clé pour calculer cette valeur. <br><br>  J'espère que le noyau du système d'exploitation serveur stocke cette clé quelque part dans sa mémoire et ne la donne à personne.  C'est ainsi que la plupart des piles TCP résolvent aujourd'hui ce problème particulier dans le domaine des numéros de séquence 32 bits courants.  Ce n'est pas trop grand, mais ça marche. <br><br>  <b>Étudiant:</b> pourriez-vous répéter cela?  À propos de l'unicité de la clé ... <br><br>  <b>Professeur:</b> lorsque ma machine démarre, ou lorsqu'une machine démarre, elle génère une clé aléatoire.  Chaque fois que vous le rechargez, il génère une nouvelle clé.  Cela signifie que chaque fois que les numéros de série d'une paire source / destination particulière changent avec la même fréquence de décalage.  Ainsi, pour une paire source / destination donnée, les paramètres de fonction sont fixes.  Vous suivez donc la séquence lorsque les nombres évoluent en fonction de vos numéros de séquence initiaux pour les nouveaux composés, changeant selon un algorithme spécifique.  Ainsi, une protection contre l'injection d'anciens paquets des connexions précédentes dans de nouvelles connexions est fournie, ainsi qu'une protection contre la réaffectation des paquets. <br><br>  La seule chose pour laquelle nous avons besoin de ce numéro de série de l'ancien échantillon est le choix de l'algorithme pour éviter les problèmes avec ces paquets en double.  Plus tôt, nous avons considéré que si vous obtenez un numéro de série pour une connexion A: A -&gt; S: SYN (...), vous pouvez ensuite tirer une conclusion sur le numéro de série de la connexion ACK (SN). <br><br><img src="https://habrastorage.org/webt/a0/w1/-x/a0w1-xenwugh56twqvkfkgzkai0.jpeg"><br><br>    ,         32-   ,     F.  ,         ,      . <br><br> <b>:</b>       ? <br><br> <b>:</b>     ,      .      F,    ,    F  ,   ,   ,       . <br><br> <b>:</b>      ,        … <br><br> <b>:</b>  ,     F  -    -,     .            -,   ,         .  , ,  ,   ,        .       ,     F     . <br><br> ,           TCP,      .          ,    ,   -  . <br><br>   ,        .   ,   TCP    ,       DNS,        .    ,  DNS   UDP –   . UDP —     ,      ,     .  UDP         .  ,    ,       ,        .     ,              ,       .         DNS-.       DNS? <br><br><img src="https://habrastorage.org/webt/zg/um/eo/zgumeoz-kafodeqfjnjyhkjotjs.jpeg"><br><br> ,   DNS-  C: C53 -&gt; S53     mit.edu,        53. <br><br>      S: S53 -&gt; C53       IP-,      –  . <br><br>    ,         ,  ,     ,      .   ,      mit.edu,         . <br><br>   ,  DNS-   .     IP-,       ,    .        IP-  mit.edu  IP-.        ,     ,   ,      ,       .      ,                . <br><br><img src="https://habrastorage.org/webt/n0/f3/6e/n0f36e0r8uoipzszlz4mdtywwcm.jpeg"><br><br>   ,      ,   .           IP-. ,   ,   DNS-  .  ,       ,          IP- mit.edu. <br><br> <b>:</b>            ,    ,    ? <br><br> <b>:</b>   ,   . ,    ,    .       DNS-,    ,       .    2  .  —    ,   16  .           ,    16 .      ID,    16 ,      . <br><br>  ,     ,        32  . ,  ,    ,          ,        . <br><br><img src="https://habrastorage.org/webt/py/ca/my/pycamyquozaz7jj41b01zovow7q.jpeg"><br><br>  ,    ,         . <br><br>  ,         DNS    DNS   .  ,          ,  DNS     . ,  DNS SEC,       .  ,         ,  ,   DNS-     .    ,  ,        . <br><br>           origin.  DNS    ,       IP-,  : „,     “.  ,     ,   ,     ,     ,     ,    .      ,        ,        ? <br><br>  ,    –    DNS- ,     . , ,   .    -,    DNS-,    .   ,    DNS SEC,   ,         ,    DNS-   .  DNS-     , ,     ,      –     ,      . <br><br>  DNS SEC       ,   NSEC.   ,     . , NSEC  ,     foo.mit.edu,         goo.mit.edu,          ,    . <br><br><img src="https://habrastorage.org/webt/vy/w6/a1/vyw6a1qrruintd6iwnsg8exluzs.jpeg"><br><br> ,    ,      ,    ,        ,       ,         „,     “. <br><br>         .       ,    foo.mit.edu -&gt; goo.mit.edu — &gt;….  : » ,    ,       gooa.mit.edu".    , ,         . <br><br>          ,       DNS          .        NSEC3,       – -  , -  . <br><br> 52:00  <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "Sécurité des systèmes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> 12: « »,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BZTWXl9QNK8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en décembre gratuitement</b> en payant pour une période de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427087/">https://habr.com/ru/post/fr427087/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427069/index.html">Dépôt NPM local en 5 minutes avec ses packages et sa mise en cache</a></li>
<li><a href="../fr427075/index.html">L'histoire d'un développement</a></li>
<li><a href="../fr427077/index.html">Laplace Blur - Est-il possible de blub Laplace au lieu de Gauss, combien de fois est plus rapide, et vaut-il la perte de précision 1/32</a></li>
<li><a href="../fr427079/index.html">NetApp Insight 2018</a></li>
<li><a href="../fr427081/index.html">Critères de l'esprit humain, du point de vue d'un programmeur</a></li>
<li><a href="../fr427091/index.html">Vérification numérique de l'hypothèse abc (oui, celle-là)</a></li>
<li><a href="../fr427093/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 12: Sécurité du réseau, partie 3</a></li>
<li><a href="../fr427095/index.html">Antimoine - CAD d'un monde parallèle</a></li>
<li><a href="../fr427097/index.html">L'application mobile permet de détecter la dépression et d'autres problèmes psychologiques dès les premiers stades.</a></li>
<li><a href="../fr427101/index.html">Google prévoit de facturer aux fabricants d'appareils mobiles jusqu'à 40 $ pour chaque appareil vendu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>