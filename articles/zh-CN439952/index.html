<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤© ğŸ—‚ï¸ ğŸ˜£ åœ¨äº‘ç«¯ä½¿ç”¨è‡ªåŠ¨æ›´æ–°çš„SSLæ‰˜ç®¡Node.js httpsæœåŠ¡å™¨ï¼Œä»¥åŠå¦‚ä½•è®¾ç½®å¼€å‘å‘¨æœŸï¼ˆ+ gitï¼Œreactï¼‰ ğŸ§“ğŸ» ğŸ“¨ ğŸ </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å‰è¨€ 
 é¦–å…ˆï¼Œæœ‰ä¸€å¤©æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚ äº§ç”Ÿè¿™ç§æ„¿æœ›çš„åŸå› æ˜¯æˆ‘å–œæ¬¢é˜…è¯»ï¼Œä½†æ˜¯åœ¨å¹¿é˜”çš„ä¿„ç½—æ–¯äº’è”ç½‘ä¸­æ ¹æœ¬æ²¡æœ‰ä»»ä½•æ™®é€šçš„å›¾ä¹¦æ±‡æ€»å•†ã€‚ å®é™…ä¸Šï¼Œç”±äºä¸è´¹å¹ç°ä¹‹åŠ›æ¥å¯»æ‰¾è¦é˜…è¯»çš„ä¸œè¥¿å¹¶è¯•å›¾å›å¿†èµ·æˆ‘æœ€è¿‘è¯»è¿‡çš„ä¹¦çš„åç§°ä»¥åŠæˆ‘åœåœ¨å“ªä¸€ç« ï¼Œå› æ­¤è¯ç”Ÿäº†åˆ›å»ºæ‰€æœ‰è¿™æ ·çš„Webåº”ç”¨ç¨‹åºçš„æ„¿æœ›ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†ä½¿è¿™ä¸€åˆ‡å˜å¾—å¯...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨äº‘ç«¯ä½¿ç”¨è‡ªåŠ¨æ›´æ–°çš„SSLæ‰˜ç®¡Node.js httpsæœåŠ¡å™¨ï¼Œä»¥åŠå¦‚ä½•è®¾ç½®å¼€å‘å‘¨æœŸï¼ˆ+ gitï¼Œreactï¼‰</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439952/"><h2> å‰è¨€ </h2><br> é¦–å…ˆï¼Œæœ‰ä¸€å¤©æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚ äº§ç”Ÿè¿™ç§æ„¿æœ›çš„åŸå› æ˜¯æˆ‘å–œæ¬¢é˜…è¯»ï¼Œä½†æ˜¯åœ¨å¹¿é˜”çš„ä¿„ç½—æ–¯äº’è”ç½‘ä¸­æ ¹æœ¬æ²¡æœ‰ä»»ä½•æ™®é€šçš„å›¾ä¹¦æ±‡æ€»å•†ã€‚ å®é™…ä¸Šï¼Œç”±äºä¸è´¹å¹ç°ä¹‹åŠ›æ¥å¯»æ‰¾è¦é˜…è¯»çš„ä¸œè¥¿å¹¶è¯•å›¾å›å¿†èµ·æˆ‘æœ€è¿‘è¯»è¿‡çš„ä¹¦çš„åç§°ä»¥åŠæˆ‘åœåœ¨å“ªä¸€ç« ï¼Œå› æ­¤è¯ç”Ÿäº†åˆ›å»ºæ‰€æœ‰è¿™æ ·çš„Webåº”ç”¨ç¨‹åºçš„æ„¿æœ›ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†ä½¿è¿™ä¸€åˆ‡å˜å¾—å¯èƒ½ä¸”æ–¹ä¾¿ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ²¡æœ‰å¼€å‘ï¼Œç¼–ç¨‹ç­‰æ–¹é¢çš„ç»éªŒã€‚ æˆ‘æ²¡æœ‰ï¼Œæˆ‘çš„å·¥ä½œæ ¹æœ¬ä¸æ­¤æ— å…³ã€‚ ç„¶è€Œï¼Œæ¬²æœ›å…‹æœäº†æ‡’æƒ°ï¼Œæˆé•¿ä¸ºå…·ä½“çš„è¡Œä¸ºï¼Œæ˜¯ä¸€ç§çˆ±å¥½ã€‚ <br><br> æˆ‘ä¸ä¼šå‘Šè¯‰æˆ‘å¦‚ä½•å­¦ä¹ javascriptï¼Œnode.jsï¼Œreactï¼Œhtmlï¼Œcssç­‰ã€‚æˆ‘ä»¬å°†ç»§ç»­ä»‹ç»ç›®å‰æ‰€å­¦çš„å†…å®¹ï¼Œæˆ‘æƒ³ä¸æ‚¨åˆ†äº«çš„å†…å®¹ï¼Œå½“ç„¶ï¼Œè¿˜è¦å¬å¬å¯¹ä¸“å®¶çš„å»ºè®¾æ€§æ‰¹è¯„ã€‚ <br><br> åƒè®¸å¤šäººä¸€æ ·ï¼Œæˆ‘åœ¨è‡ªå·±çš„æœ¬åœ°ä¸»æœºä¸Šçš„PCä¸Šè¿›è¡Œäº†åŸ¹è®­ï¼š3000ï¼Œåˆ›å»ºäº†å‰ç«¯/åç«¯ï¼Œè¿›è¡Œäº†æ’ç‰ˆï¼Œä½¿ç”¨äº†apiç­‰ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´æ‹…å¿ƒå¦‚ä½•å°†æ‰€æœ‰è¿™äº›ä¿¡æ¯ç¨åè½¬ç§»åˆ°æ‰˜ç®¡ï¼Ÿ èƒ½è¡Œå— å› æ­¤æ˜¯å¦éœ€è¦é‡å†™ä»£ç ï¼Ÿ  <b>æœ€é‡è¦çš„æ˜¯ï¼Œæ˜¯å¦å¯ä»¥é…ç½®æ‰€æœ‰å†…å®¹ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥ä»ä»»ä½•PCä¸Šå¤„ç†è¯¥åº”ç”¨ç¨‹åºï¼Œå¹¶è½»æ¾å°†æ‰€æœ‰å†…å®¹è½¬ç§»åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ï¼Ÿ</b>  <b>æˆ‘å°†è®¨è®ºè¿™ä¸ªã€‚</b> <br><a name="habracut"></a><br><h2> æ‰˜ç®¡é€‰æ‹© </h2><br> å¯¹äºæˆ‘çš„ä¸šä½™çˆ±å¥½ï¼Œæˆ‘å‡†å¤‡æ¯æœˆèŠ±è´¹10ç¾å…ƒï¼Œå› æ­¤æˆ‘é€‰æ‹©äº†å°†æ¥æ‰“ç®—ä½¿ç”¨çš„ä¸»æœºã€‚ æ­£å¦‚æˆ‘æ‰€è¯´ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘æœ‰0ç‚¹ç»éªŒï¼ŒåŒ…æ‹¬ç½‘ç«™æ‰˜ç®¡ã€‚ æˆ‘å°è¯•å¹¶æ‹’ç»äº†ä»¥ä¸‹å†…å®¹ï¼š <br><br>  <b>Jelastic</b> ï¼šç¾è§‚å’Œç”¨æˆ·å‹å¥½çš„ç•Œé¢ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½æ˜¯ç›´è§‚ï¼Œå¯æ‰©å±•ä¸”æ˜“äºç†è§£çš„ã€‚ ä½†æ˜¯ï¼Œæˆ‘åœ¨è®¾ç½®æ—¶é‡åˆ°äº†å›°éš¾ï¼ˆnginxç”±äºæŸç§åŸå› ä¸æƒ³ä»vpsä¸Šå·¥ä½œï¼Œåªèƒ½ä½¿ç”¨å…¶å•ç‹¬çš„æ¨¡å—ï¼‰ï¼Œå¹¶ä¸”é€šè¿‡æ ‡å‡†æ–¹å¼å°†SSLï¼ˆå’Œè‡ªåŠ¨æ›´æ–°ï¼‰è¿æ¥åˆ°ä¿„è¯­åŸŸï¼ˆä»–ä»¬ç­”åº”ä¿®å¤è¯¥é”™è¯¯ï¼Œä½†æˆ‘ä¸æƒ³ç­‰å¾…ï¼‰ <br><br>  <b>äº‘æ‰˜ç®¡REG.RU</b> ï¼šæˆ‘åœ¨é‚£é‡Œä¹Ÿæœ‰ä¸€ä¸ªåŸŸï¼Œå› æ­¤è¯¥è§£å†³æ–¹æ¡ˆä¼¼ä¹åˆä¹é€»è¾‘ï¼Œä½†æ˜¯ä»–ä»¬æ²¡æœ‰åˆ†åˆ«é…ç½®PostgreSQLï¼Œå¹¶ä¸”ç”±äºæˆ‘ä¸æƒ³ä¸æ•°æ®åº“ç®¡ç†éƒ¨é—¨è”ç³»ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹è¿›è¡Œè¿›ä¸€æ­¥çš„ç ”ç©¶ã€‚ <br><br>  <b>AWSå’ŒGoogleäº‘</b> ï¼šæˆ‘å°è¯•è¿‡ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯æˆ‘è®°å¾—æˆ‘ä»¬çš„â€œå¥‡å¦™â€æ³•å¾‹ä»¥åŠå°†ç”¨æˆ·æ•°æ®æ”¾åœ¨ä¿„ç½—æ–¯è”é‚¦æœåŠ¡å™¨ä¸Šçš„è¦æ±‚ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œè¿™äº›å®¶ä¼™åœ¨ä¿„ç½—æ–¯è”é‚¦æ²¡æœ‰æœåŠ¡å™¨ã€‚ ä¸æ˜¯å¾‹å¸ˆï¼Œè€Œæ˜¯å‡ºäºç½ªæ¶ï¼Œå†³å®šåœ¨ä¿„ç½—æ–¯è”é‚¦å¯»æ‰¾å¸¦æœ‰æœåŠ¡å™¨çš„äº‘ã€‚  <b>å¦‚æœæ‚¨çš„åº”ç”¨ä¸å¤ªå¯èƒ½å‡ºç°æ³•å¾‹é—®é¢˜ï¼Œé‚£ä¹ˆä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</b> <br><br> å°½ç®¡ä¿„ç½—æ–¯è”é‚¦çš„æœåŠ¡å™¨ä¸Šæœ‰äº‘ï¼Œä½†æˆ‘ä»ç„¶å¸Œæœ›æœ‰ä¸€äº›ä¸œè¥¿å¯ä»¥ä½¿æˆ‘å…äºä¸å¾—ä¸æŠ•å…¥PostgreSQLç®¡ç†ã€‚ ä¸ä¹…å‰ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Yandex</a>å‡ºç°äº†è¿™ç§å†²åŠ¨ã€‚æˆ‘å°è¯•äº†ä¸€ä¸‹å¯ç”¨çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº‘</a> ï¼Œä¼¼ä¹ä¸€åˆ‡éƒ½å¾ˆç®€å•æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æš‚æ—¶</a>åœä¸‹æ¥äº†ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯PostgreSQLæ‰˜ç®¡ç«‹å³æä¾›1coreå’Œ4GBçš„RAMï¼Œæ¯æœˆèŠ±è´¹çº¦2kå¢å¸ƒï¼Œå› æ­¤ï¼Œåœ¨å¼€å‘å’Œä½è´Ÿè½½çš„æ—¶å€™ï¼Œæˆ‘è®¡åˆ’åœ¨VPSä¸Šè¿è¡ŒPostgreSQLã€œ300rï¼Œå¹¶ä»¥å¢åŠ çš„è´Ÿè½½è½¬ç§»æ•°æ®åº“ï¼Œ Yandexä»äº‹ç®¡ç†å’Œæ›´æ–°ã€‚ <br><br><h2> è®¾ç½®Yandex.Cloud </h2><br><h3> è™šæ‹Ÿç§æœ‰äº‘ </h3><br>  1ï¼‰ä¸ºæ‚¨çš„ç«™ç‚¹åˆ›å»ºä¸€ä¸ªç›®å½•ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/35e/3de/581/35e3de5819d0344d34cc9a03251cbf65.png" alt="å›¾ç‰‡"><br><br>  2ï¼‰åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç§æœ‰äº‘ï¼š <br><br> ä»–åœ¨å½“å‰é˜¶æ®µç»™æˆ‘çš„ä¸»è¦å†…å®¹æ˜¯ä»å¤–éƒ¨è®¿é—®åˆ›å»ºçš„èµ„æºçš„IPã€‚ æˆ‘åˆæ­¥äº†è§£äº†å­ç½‘ï¼ŒåŒºåŸŸï¼Œéš”ç¦»å’Œå®¹é”™åŠŸèƒ½ï¼Œå¦‚æœ‰å¿…è¦ï¼Œæˆ‘ä¼šèµ¶ä¸Šæ¥ã€‚ <br><br>  3ï¼‰åˆ›å»ºä¸€ä¸ªå­ç½‘å¹¶ä¸ºå…¶åˆ†é…ä¸€ä¸ªå†…éƒ¨IPï¼ˆæ®æˆ‘æ‰€çŸ¥ï¼Œå®ƒå°±åƒä¸€ä¸ªæœ¬åœ°ç½‘ç»œï¼‰ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f25/42d/f6c/f2542df6c7141d6e96738f6f1d3e6cf1.png" alt="å›¾ç‰‡"><br><br>  4ï¼‰è½¬åˆ°IPé€‰é¡¹å¡å¹¶ä¸ºè‡ªå·±ä¿ç•™ä¸€ä¸ªé™æ€IPã€‚ <br><br> åœ¨å®ƒä¸Šé¢ï¼Œæˆ‘ä»¬å°†åœ¨å®¶å’Œå…¶ä»–åœ°æ–¹è¿æ¥ã€‚ æ‚¨å¯èƒ½å¯ä»¥ä½¿ç”¨åŠ¨æ€ï¼Œä½†æˆ‘ä¸çŸ¥é“å®ƒåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šæ›´æ”¹ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47c/ef6/265/47cef626515785d83ba86cb6f5f8c185.png" alt="å›¾ç‰‡"><br><br><h3> è®¡ç®—äº‘ </h3><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è¿›è¡Œè®¡ç®—ï¼š)ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Linuxåˆ›å»ºè™šæ‹Ÿæœºï¼ˆæˆ‘é€‰æ‹©ubuntu 18.04ï¼‰ï¼Œå®‰è£…node.jsåº”ç”¨ç¨‹åºå’ŒpostgreSQLã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/265/293/e0c/265293e0c462dd9dd2452874799c2157.png" alt="å›¾ç‰‡"><br><br> æˆ‘ä»¬å•å‡»ä»¥åˆ›å»ºä¸€ä¸ªVMï¼Œå°†æ‰€æœ‰è®¾ç½®æœ€å°åŒ–ï¼Œå› ä¸ºåœ¨å¼€å‘è¿‡ç¨‹ä¸­å°†æ²¡æœ‰è´Ÿè½½ï¼ˆå½“æˆ‘ä»¬å‘å¸ƒåº”ç”¨ç¨‹åºæ—¶ï¼Œå†æ‰­æ›²ä¸€ç‚¹ï¼Œå¥½äº†ï¼Œæˆ‘ä»¬å°†é€šè¿‡å›¾å½¢è¿›è¡Œç›‘è§†ï¼‰ã€‚ <br><br><h4>  SSH </h4><br> æˆ‘åœ¨æ­¤é˜¶æ®µé‡åˆ°çš„é—®é¢˜ç‚¹æ˜¯SSHï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/687/476/389/68747638934544e751f6a0b21f43e683.png" alt="å›¾ç‰‡"><br><br> é‚£æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆæˆ‘ä¸çŸ¥é“ï¼Œæ‰€ä»¥æˆ‘å»å­¦ä¹ ã€‚ äº‹å®è¯æ˜ï¼Œè¿™åªæ˜¯ä¸€ç§è®¿é—®æ–¹æ³•ï¼Œä¸æ˜¯é€šè¿‡å¯†ç ï¼Œè€Œæ˜¯é€šè¿‡ç”Ÿæˆçš„SSHå¯†é’¥ã€‚ è¦å®é™…ç”Ÿæˆå®ƒï¼Œè¯·æŒ‰ç…§æˆ‘ä»¬çš„å»ºè®®ä¸‹è½½å¹¶å®‰è£…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Putty</a> ã€‚ <br><br> è¿è¡ŒCï¼š\ Program Files \ PuTTY \ puttygen.exe <br><br><img src="https://habrastorage.org/getpro/habr/post_images/333/03a/e02/33303ae02d9b14983cf0627087dfd8ee.png" alt="å›¾ç‰‡"><br><br> æˆ‘ä»¬æŒ‰ä¸‹â€œç”Ÿæˆâ€æŒ‰é’®å¹¶ç§»åŠ¨é¼ æ ‡ä»¥ä½¿ç”Ÿæˆçš„é”®å…·æœ‰éšæœºæ€§ï¼ˆæ®æˆ‘æ‰€çŸ¥ï¼‰ã€‚ æ¥ä¸‹æ¥ï¼Œå°†ä»¥ssh-rsaå¼€å¤´çš„è¡Œå¤åˆ¶åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­çš„æŸå¤„ï¼Œç„¶åå•å‡»â€œä¿å­˜ç§é’¥â€ï¼Œâ€œä¿å­˜å…¬é’¥â€ã€‚ å¤åˆ¶åˆ°æ–‡æœ¬æ–‡ä»¶çš„å¯†é’¥å°†æ’å…¥åˆ°Yandex Yandexé¡µé¢çš„å¯†é’¥çš„SSHå­—æ®µä¸­ã€‚ æˆ‘ä»¬å°†rootæŒ‡å®šä¸ºç™»å½•åï¼Œå¦åˆ™æ‚¨å°†æ— æ³•ä½¿ç”¨å°†è¦ä»home / workè¿æ¥åˆ°äº‘çš„åº”ç”¨ç¨‹åºçš„å›¾å½¢æ–‡ä»¶ç³»ç»Ÿæ—¶è¿›è¡Œè®¿é—®ï¼ˆä¹Ÿè®¸æœ‰åŠæ³•ï¼Œä½†æˆ‘ä¸æ˜ç™½ï¼‰ã€‚ <br>  <b>æ­£å¦‚Andreymalæ‰€æŒ‡å‡ºçš„é‚£æ ·ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨rootï¼Œè¿™æ ·ä¸­å›½çš„botæ‰ä¸å¯ä»¥è·å–æ‚¨çš„äº‘å¯†ç ï¼Œä½†æ˜¯ç”±äºYandex.cloudä»…å…·æœ‰SSHè®¿é—®æƒé™ï¼Œå› æ­¤æ‚¨å¯ä»¥è¿™æ ·ç”Ÿæ´»ã€‚</b> <b><br><br></b>  <b>ä¸»æœºä¸Šçš„åº”ç”¨ç¨‹åºåº”ä¸“é—¨ç”±érootç”¨æˆ·å¯åŠ¨ï¼Œä»¥å…æ”»å‡»è€…é€šè¿‡åº”ç”¨ç¨‹åºä¸­çš„æ¼æ´æ‰§è¡Œæ¶æ„ä»£ç ã€‚</b> <b><br></b> <br><br><h3> æˆ‘ä»¬ä»PCè¿æ¥åˆ°äº‘ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªå…è´¹çš„SSHå®¢æˆ·ç«¯ </h3><br> æ ‡å‡†çš„Puttyä»…å…è®¸æ‚¨åœ¨å‘½ä»¤è¡Œä¸Šå·¥ä½œï¼Œå¹¶ä¸”ç”±äºæˆ‘å¯¹Windowsç”¨æˆ·ä¸ç†Ÿæ‚‰ï¼Œå› æ­¤æˆ‘å¼€å§‹å¯»æ‰¾å¸¦æœ‰ä¼ªèµ„æºç®¡ç†å™¨çš„å®¢æˆ·ç«¯ã€‚ æœ€åˆï¼Œæˆ‘å°è¯•ä½¿ç”¨Mobaxtermï¼Œä½†æ˜¯åœ¨ä¸€æ®µæ—¶é—´ä¸æ´»åŠ¨ä¹‹åï¼Œå®ƒå…³é—­äº†ï¼Œèµ„æºç®¡ç†å™¨å®Œå…¨å†»ç»“ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘æ­£åœ¨ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">bitvise ssh</a> ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘è¿˜æ²¡æœ‰çœ‹åˆ°Mobaxtermè¿™æ ·çš„é—®é¢˜ã€‚ <br><br><h3> é…ç½®bitvise ssh </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/8a2/019/f4c/8a2019f4cafa7b44ef72286664175010.png" alt="å›¾ç‰‡"><br><br> åœ¨â€œæœåŠ¡å™¨â€&gt;â€œä¸»æœºâ€å­—æ®µä¸­ï¼ŒæŒ‡ç¤ºæˆ‘ä»¬çš„å¤–éƒ¨IPäº‘ã€‚ ç«¯å£22ã€‚å•å‡»â€œå®¢æˆ·ç«¯å¯†é’¥ç®¡ç†å™¨â€&gt;â€œå¯¼å…¥â€ï¼Œç„¶ååœ¨å…¶ä¸­æŒ‡å®šå…ˆå‰ç”Ÿæˆçš„ç§é’¥ã€‚ æ‚¨å¯èƒ½ä»ç„¶éœ€è¦ä¸€ä¸ªå…³é”®è¯ï¼Œé€‰æ‹©ä¸€äº›æ‚¨ä¸ä¼šå¿˜è®°çš„ä¸œè¥¿ã€‚ å…³é—­æ­¤çª—å£å¹¶åœ¨èº«ä»½éªŒè¯å­—æ®µä¸­æŒ‡å®šç”¨æˆ·åï¼šrootï¼Œæ–¹æ³•publickå¯†é’¥ï¼Œå®¢æˆ·ç«¯å¯†é’¥-é€‰æ‹©å…ˆå‰å¯¼å…¥çš„å¯†é’¥ã€‚ å•å‡»ç™»å½•ï¼Œå¦‚æœæˆ‘ä»¬ä¸€åˆ‡æ­£ç¡®ï¼Œåˆ™è¿æ¥åˆ°äº‘ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b4b/e6a/a9d/b4be6aa9df15651829c0b23749f18b41.png" alt="å›¾ç‰‡"><br><br><h2> å®‰è£…Node.js </h2><br> åœ¨è¿™é‡Œï¼Œæˆ‘å»ºè®®æ‚¨ä½¿ç”¨digitalocean.comä¸Šçš„è¯´æ˜ï¼Œè¯¥è¯´æ˜éå¸¸è¯¦ç»†ï¼Œè®¸å¤šä½¿ç”¨ä¿„è¯­ã€‚ é€šå¸¸æˆ‘ä¼šåœ¨Googleä¸Šæœç´¢â€œ digitalocean ubuntu 18.04 node.jsâ€æˆ–æ‚¨è¦åœ¨æ­¤å¤„å®‰è£…æˆ–é…ç½®çš„ä»»ä½•æ–‡ä»¶ã€‚ <br><br> å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™é‡Œ</a>é˜…è¯»å¦‚ä½•å®‰è£…Node.jsã€‚ <br><br> ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬è½¬åˆ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nodesource</a> ï¼ˆå¯ä»¥åœ¨æ­¤å¤„å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„node.jsï¼‰ï¼Œåœ¨æ­¤å¤„è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ad/aa7/0c9/3adaa70c90a1466c1a55b71eb25f2105.png" alt="å›¾ç‰‡"><br><br> ä¾æ¬¡å¤åˆ¶å¹¶è¿è¡Œå‘½ä»¤ï¼š <br><br><pre><code class="javascript hljs">curl -sL https:<span class="hljs-comment"><span class="hljs-comment">//deb.nodesource.com/setup_11.x | sudo -E bash - sudo apt-get install -y nodejs</span></span></code> </pre> <br> æˆ‘ä»¬æ£€æŸ¥å›¢é˜Ÿå¦‚ä½•å»ºç«‹å®ƒ <br><br><pre> <code class="javascript hljs">nodejs -v</code> </pre> <br> æˆ‘ä»¬å°†çœ‹åˆ°node.jsçš„ç‰ˆæœ¬ <br><br><pre> <code class="javascript hljs">npm -v</code> </pre> <br> æˆ‘ä»¬å°†æ˜¾ç¤ºnode.jsçš„è½¯ä»¶åŒ…ç®¡ç†å™¨çš„ç‰ˆæœ¬ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œè½¬åˆ°/ opt / mysuperappæ–‡ä»¶å¤¹ï¼ˆmy_super_app_name-æ‚¨å¿…é¡»åˆ›å»ºæ­¤æ–‡ä»¶å¤¹ï¼‰ã€‚ é•¿æ—¶é—´æœç´¢â€œå°†åº”ç”¨ç¨‹åºçš„node.jsæ–‡ä»¶æ”¾å…¥ubuntué€‚å½“çš„ä½ç½®â€ä¹‹åï¼Œé€‰æ‹©optç›®å½•ä½œä¸ºåº”ç”¨ç¨‹åºçš„ä½ç½®ã€‚ <br><br> æœ€åï¼Œåˆ›å»ºserver.jsæ–‡ä»¶ï¼Œå®ƒå°†æ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ï¼Œç„¶åå°†ç®€å•çš„æœåŠ¡å™¨ä»£ç ç²˜è´´åˆ°node.jsä¸Šï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hostname = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> port = <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = http.createServer(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { res.statusCode = <span class="hljs-number"><span class="hljs-number">200</span></span>; res.setHeader(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'text/plain'</span></span>); res.end(<span class="hljs-string"><span class="hljs-string">'Hello World!\n'</span></span>); }); server.listen(port, hostname, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Server running at http://</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${hostname}</span></span></span><span class="hljs-string">:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${port}</span></span></span><span class="hljs-string">/`</span></span>); });</code> </pre> <br> ç«¯å£80ç”¨äºhttpè¯·æ±‚ï¼Œç«¯å£443ç”¨äºhttpsã€‚ è™½ç„¶æˆ‘ä»¬åœ¨httpä¸Šæœ‰ä¸€ä¸ªæœåŠ¡å™¨ã€‚ <br><br> æˆ‘ä»¬ä¿å­˜æ‰€æœ‰å†…å®¹å¹¶è¿è¡Œå‘½ä»¤ï¼š <br><br><pre> <code class="plaintext hljs">node server.js</code> </pre> <br> æ§åˆ¶å°åº”æ˜¾ç¤ºâ€œæœåŠ¡å™¨åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ¬åœ°ä¸»æœºä¸Š</a>è¿è¡Œçš„æœåŠ¡å™¨ï¼š80 /â€è¡Œ <br><br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ä¸€ä¸ªå¤–éƒ¨IPï¼ˆæ‚¨çš„ubuntu VMçš„Yandexäº‘ä¸­çš„ä¸€ä¸ªï¼‰ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°â€œ Hello Worldï¼â€ã€‚ <br><br><h2> æˆ‘ä»¬ä½¿ç”¨gitæ–¹ä¾¿åœ°å®Œæˆæ‰€æœ‰å·¥ä½œæˆ–å¼€å‘å‘¨æœŸ </h2><br> ä¸€åˆ‡ä¼¼ä¹éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ä¼šä¸€ç›´è¿æ¥åˆ°äº‘ã€‚ è€Œä¸”ï¼Œçªç„¶ä¹‹é—´ï¼Œæˆ‘ä»¬å°†æ¥ä¸ä¼šç‹¬è‡ªå·¥ä½œã€‚ <br><br><h2>  Github </h2><br>  Githubæ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºä»£ç æ‰€åœ¨çš„åœ°æ–¹ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œä¸€ä¸ªäººçš„å·¥ä½œåŸåˆ™å¦‚ä¸‹ï¼š <br><br><ul><li> æˆ‘ä»¬æ­£åœ¨å®¶ç”¨PCä¸Šå¼€å‘åº”ç”¨ç¨‹åºã€‚ </li><li> ä¸€é”®ä¿å­˜å¹¶åœ¨Githubä¸Šå¸è½½ä»£ç ã€‚ </li><li> åœ¨æ‰˜ç®¡æˆ–å¦ä¸€å°PCä¸Šï¼Œä»githubä¸‹è½½æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œé‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼ˆå¦‚æœæ­£åœ¨æ‰˜ç®¡ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„Webåº”ç”¨ç¨‹åºçš„æ–°ç‰ˆæœ¬å¯ä»¥åœ¨ä¸‡ç»´ç½‘ä¸Šæ‰¾åˆ°ã€‚ </li></ul><br> ä¸€åˆ‡éƒ½æ˜¯å¿«é€Ÿï¼Œç®€å•å’Œæ–¹ä¾¿çš„ã€‚ <br><br> å®é™…åœ¨Githubä¸Šæ³¨å†Œå¹¶ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªç§æœ‰å­˜å‚¨åº“ï¼ˆè¯¥å­˜å‚¨åº“ä»…å¯¹æˆ‘ä»¬å¯ç”¨ï¼‰ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a10/e93/4b3/a10e934b3516444c1c8aad1b45035494.png" alt="å›¾ç‰‡"><br><br> å¤åˆ¶<a href="">github.com/ReTWi/mysuperapp.git</a>è¡Œä»¥ä¸‹è½½è¯¥åº”ç”¨ç¨‹åºã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/465/959/824/4659598241a27171fbbaa8e61c3a66c2.png" alt="å›¾ç‰‡"><br><br><ol><li> æˆ‘ä»¬è¿”å›bitviseå‘½ä»¤è¡Œï¼ŒæŒ‰ctrl + cåœæ­¢åº”ç”¨ç¨‹åºï¼ˆå¦‚æœä»ç„¶æœ‰æ•ˆï¼‰ã€‚ </li><li> è½¬åˆ°/ optç›®å½•ï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬åˆ›å»ºçš„åº”ç”¨ç¨‹åºåˆ é™¤è¯¥æ–‡ä»¶å¤¹ </li></ol><br> æˆ‘ä»¬å°†ä½¿ç”¨Gitå°†åº”ç”¨ç¨‹åºä¸Šä¼ åˆ°githubï¼Œç„¶åä»é‚£é‡Œä¸Šä¼ åˆ°æ‰˜ç®¡æˆ–å…¶ä»–PCã€‚  Gitæ˜¯ä¸€ä¸ªå•ç‹¬çš„è®¨è®ºä¸»é¢˜ï¼Œæ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹è®¨è®ºã€‚ <br> ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨ä¸»æœºä¸Š</a>å®‰è£…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">git</a> ï¼š <br><br><pre> <code class="javascript hljs">sudo apt update sudo apt install git</code> </pre> <br> æ£€æŸ¥ä¸€åˆ‡æ˜¯å¦æˆç«‹ï¼š <br><br><pre> <code class="javascript hljs">git --version</code> </pre> <br>  gitç‰ˆæœ¬åº”è¯¥å‡ºç°ã€‚ <br><br> æˆ‘ä»¬å¡«å†™gitæ•°æ®ï¼ˆæˆ‘ä¸æ˜ç™½ä¸ºä»€ä¹ˆï¼Œä½†æ˜¯æ˜¾ç„¶å¯èƒ½ä¼šæœ‰ä¸€äº›æ— èŠçš„è­¦å‘Šï¼‰ã€‚ <br><br><pre> <code class="javascript hljs">git config --global user.name <span class="hljs-string"><span class="hljs-string">"Your Name"</span></span> git config --global user.email <span class="hljs-string"><span class="hljs-string">"youremail@domain.com"</span></span></code> </pre> <br> æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†åº”ç”¨ç¨‹åºä¸Šè½½åˆ°ä¸»æœºï¼š <br>  ï¼ˆåº”è¯¥æœ‰åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºçš„é“¾æ¥ï¼‰ <br><br><pre> <code class="javascript hljs">git clone https:<span class="hljs-comment"><span class="hljs-comment">//github.com/ReTWi/mysuperapp.git</span></span></code> </pre> <br> ä¸€ä¸ªæ–°çš„mysuperappå°†å‡ºç°åœ¨/ optç›®å½•ä¸­ï¼Œè¯¥æ–‡ä»¶æ˜¯ä»githubä¸‹è½½çš„åº”ç”¨ç¨‹åºæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ã€‚ <br><br> ç°åœ¨æ˜¯æ—¶å€™å¯¹PCé‡å¤ç›¸åŒçš„æ“ä½œå¹¶å…³é—­PCé“¾äº†ï¼ˆä¸åŒï¼‰-&gt; Github-&gt;æ‰˜ç®¡ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨PCä¸Š</a>å®‰è£…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">node.jsã€‚</a> <br><br><h2>  Visual Studioä»£ç  </h2><br> é¦–å…ˆï¼Œé€‰æ‹©æˆ‘ä»¬å°†åœ¨å…¶ä¸­å·¥ä½œçš„æºä»£ç ç¼–è¾‘å™¨ã€‚ æˆ‘é€‰æ‹©äº†Visual Studioä»£ç ï¼Œå› æ­¤å®ƒç®€å•ï¼Œæ–¹ä¾¿ï¼Œå…·æœ‰è®¸å¤šæ’ä»¶ï¼Œå¹¶ä¸”å¦‚æœæ‚¨ä½¿ç”¨å¤šä¸ªè®¾å¤‡ï¼Œåˆ™å¯ä»¥é…ç½®è®¾ç½®çš„åŒæ­¥ã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸‹è½½ï¼Œå®‰è£…ï¼Œå¯åŠ¨å¹¶é€‰æ‹©å…±äº«çš„åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ï¼Œå› ä¸ºgit cloneå°†ä¸ºæˆ‘ä»¬åˆ›å»ºè‡ªå·±çš„æ–‡ä»¶å¤¹ã€‚ <br><br> æˆ‘ä½¿ç”¨çš„æ’ä»¶å¦‚ä¸‹ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7e5/5c2/17f/7e55c217f685490573a70f44970e0780.png" alt="å›¾ç‰‡"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸ºPCå®‰è£…git</a> ã€‚ <br> ä½¿ç”¨ctrl + shift +`or terminal&gt; new terminalåœ¨VScodeä¸­æ‰“å¼€ä¸€ä¸ªæ§åˆ¶å° <br><br>  <i>æ’¤é€€ï¼š</i> <i><br><br></i>  <i>åœ¨Windowsæ§åˆ¶å°ä¸­ï¼Œä¿„è¯­å­—ç¬¦ä¸å¥½ç”¨ï¼Œå› æ­¤æ— éœ€æ‰“å¼€æ–‡ä»¶&gt;é¦–é€‰é¡¹&gt;è®¾ç½®ï¼Œåœ¨å­—æ®µä¸­è¾“å…¥terminal.integrated.shellArgs.windowsï¼Œç„¶åå•å‡»</i> <i><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a70/787/6a5/a707876a56e4c0a2b601358d4aa7caf1.png" alt="å›¾ç‰‡"><br><br></i>  <i>å¹¶æ·»åŠ â€œ terminal.integrated.shellArgs.windowsâ€è¡Œï¼š[â€œ -NoExitâ€ï¼Œâ€œ / câ€ï¼Œâ€œ chcp 65001â€]ï¼Œ</i> <i><br><br><img src="https://habrastorage.org/getpro/habr/post_images/57d/217/da6/57d217da62d4189b8640eb854f07a8a0.png" alt="å›¾ç‰‡"></i> <br><br> é‡å¤å‘½ä»¤ä»¥ä»githubä¸‹è½½æ–‡ä»¶ï¼š <br><br><pre> <code class="javascript hljs">git clone https:<span class="hljs-comment"><span class="hljs-comment">//github.com/ReTWi/mysuperapp.git</span></span></code> </pre> <br> åœ¨VScodeä¸­ï¼Œå•å‡»æ–‡ä»¶&gt;æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰“å¼€æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ–‡ä»¶å¤¹ã€‚ <br><br> ä½¿ç”¨ç›¸åŒçš„ç®€å•æœåŠ¡å™¨ä»£ç åˆ›å»ºserver.jsæ–‡ä»¶ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hostname = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> port = <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = http.createServer(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { res.statusCode = <span class="hljs-number"><span class="hljs-number">200</span></span>; res.setHeader(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'text/plain'</span></span>); res.end(<span class="hljs-string"><span class="hljs-string">'Hello World!\n'</span></span>); }); server.listen(port, hostname, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Server running at http://</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${hostname}</span></span></span><span class="hljs-string">:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${port}</span></span></span><span class="hljs-string">/`</span></span>); });</code> </pre> <br> å®‰è£…nodemonä»¥åœ¨å¯¹ä»£ç è¿›è¡Œæ›´æ”¹æ—¶è‡ªåŠ¨é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼š <br><br><pre> <code class="javascript hljs">npm i nodemon -g</code> </pre> <br>  i-å®‰è£…ç®€ç§° <br>  g-å…¨å±€å®‰è£…ï¼ˆå¯åœ¨æ§åˆ¶å°ä¸­ä½¿ç”¨ï¼‰ï¼Œè€Œä¸ä»…ä»…æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ <br><br> è¿è¡Œå‘½ä»¤ï¼š <br><br><pre> <code class="javascript hljs">nodemon server.js</code> </pre> <br> åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š80 /æˆ–ä»…åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š80ä¸­æ‰“å¼€Hello Worldã€‚ <br><br> ç°åœ¨æ˜¯æ—¶å€™æŸ¥çœ‹æˆ‘ä»¬çš„PCé“¾&gt; Github&gt;æ‰˜ç®¡äº†ã€‚ <br><br> ä¸‹è½½Githubæ¡Œé¢ä»¥è·å¾—æ›´å¤§çš„ä¾¿åˆ©ï¼Œè¿æ¥æ‚¨çš„githubå¸æˆ·ï¼Œç„¶åå•å‡»æ·»åŠ æœ¬åœ°å­˜å‚¨åº“æ–‡ä»¶å¹¶æŒ‡å®šæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„ç›®å½•ã€‚ <br><br> åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸ä»Githubä¸‹è½½çš„ç‰ˆæœ¬ï¼ˆæˆ‘ä»¬æ·»åŠ äº†server.jsï¼‰ç›¸æ¯”æ‰€åšçš„æ›´æ”¹ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/568/3d0/52b/5683d052b9fbba8fe609035fd8ba253f.png" alt="å›¾ç‰‡"><br><br> å•å‡»â€œæäº¤åˆ°æ¯ç‰ˆâ€&gt;â€œæ¨é€åŸç‚¹â€ï¼Œä»è€Œå°†æ–‡ä»¶ä»PCä¸‹è½½åˆ°Githubã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eeb/234/bf6/eeb234bf61a0ed5b2708b196e32da7d8.png" alt="å›¾ç‰‡"><br><br> æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è½¬åˆ°æˆ‘ä»¬çš„githubå¸æˆ·ï¼Œå¹¶æŸ¥çœ‹ä¸‹è½½çš„server.jsæ–‡ä»¶ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1e6/cf8/e1b/1e6cf8e1b08c5a15d596193dd8b0efb3.png" alt="å›¾ç‰‡"><br><br> è®©æˆ‘ä»¬å¤šåšä¸€äº›ç»ƒä¹ ï¼Œåœ¨VScodeä¸­ï¼Œæˆ‘ä»¬æ›¿æ¢è¡Œâ€œ res.endï¼ˆ'Hello Worldï¼\ N'ï¼‰;â€ æ”¹ä¸ºâ€œ res.endï¼ˆ'OmNomNom'ï¼‰;â€ã€‚ æˆ‘ä»¬å°†çœ‹åˆ°æœåŠ¡å™¨æœ¬èº«é‡æ–°å¯åŠ¨ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c8/8cc/a53/8c88cca53e4d8d15632cc49e183817e7.png" alt="å›¾ç‰‡"><br><br> æˆ‘ä»¬å°†åœ¨æµè§ˆå™¨ä¸­ç­¾åˆ°ï¼Œç„¶ååœ¨æ­¤å¤„æŸ¥çœ‹æˆ‘ä»¬â€œ OmNomNomâ€æ‰€åšçš„æ›´æ”¹ã€‚ <br><br> æ¡Œé¢githubä¹Ÿå°†å‘æˆ‘ä»¬å±•ç¤ºæˆ‘ä»¬å·²æ›´æ”¹äº†è¿™ä¸€è¡Œï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/020/39b/7a0/02039b7a00fabe3c07037f6a356c1919.png" alt="å›¾ç‰‡"><br><br> å†æ¬¡ï¼Œå•å‡»æäº¤ç»™master&gt; push originå°†æ–‡ä»¶å‘é€åˆ°githubã€‚ <br><br> åˆ‡æ¢åˆ°æ‰˜ç®¡å‘½ä»¤è¡Œã€‚ <br><br> å¦‚æœåº”ç”¨ç¨‹åºä»åœ¨è¿è¡Œï¼ˆctrl + cï¼‰ï¼Œæˆ‘ä»¬å°†åœæ­¢å®ƒã€‚ <br><br> ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½æˆ‘ä»¬æ›´æ–°çš„åº”ç”¨ç¨‹åºï¼š <br><br><pre> <code class="javascript hljs">git config credential.helper store git pull</code> </pre><br> ç¬¬ä¸€ä¸ªå°†ä¿å­˜æˆ‘ä»¬çš„æ•°æ®ï¼Œè¿™æ ·æ‚¨å°±ä¸å¿…ä¸æ–­è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚ å°†æ¥ï¼Œgit pullå¯¹æˆ‘ä»¬æ¥è¯´è¶³å¤Ÿäº†ã€‚ <br><br> å®‰è£…pm2-ä¸nodemonç±»ä¼¼ï¼Œä»…ç”¨äºæ‰˜ç®¡ï¼š <br><br><pre> <code class="javascript hljs">npm i pm2 -g</code> </pre> <br> è®©æˆ‘ä»¬ä½¿ç”¨pm2å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå®ƒå°†é€šè¿‡æ‰˜ç®¡ä¸Šçš„ä¸‹ä¸€ä¸ªgit pullé‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼š <br><br><pre> <code class="javascript hljs">pm2 start server.js --watch</code> </pre> <br> åœ¨æˆ‘ä»¬çš„å¤–éƒ¨IPäº‘ä¸Šæ‰“å¼€æµè§ˆå™¨ï¼Œç„¶åæŸ¥çœ‹â€œ OmNomNomâ€ã€‚ <br><br> å› æ­¤ï¼Œæˆ‘ä»¬å…³é—­äº†åº”ç”¨ç¨‹åºåŠå…¶åœ¨ä¸»æœºä¸Šçš„å¿«é€Ÿéƒ¨ç½²çš„å·¥ä½œé“¾ã€‚ <br><br><h2> æˆ‘ä»¬åœ¨æœ¬åœ°ä¸»æœºå’Œä¸»æœºä¸Šä¸ºHTTPSåˆ›å»ºä¸´æ—¶SSLè¯ä¹¦ </h2><br> æˆ‘ä»¬è½¬åˆ°ç½‘ç«™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">zerossl.com</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/151/be3/00c/151be300c4226e87b30b7f4735e09c83.png" alt="å›¾ç‰‡"><br><br> åœ¨åŸŸip ...å­—æ®µä¸­ï¼Œé¦–å…ˆè¾“å…¥localhostï¼Œå•å‡»ç”Ÿæˆå¹¶é€šè¿‡æŒ‰é’®ä¸‹è½½2ä¸ªæ–‡ä»¶ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8a1/b4d/24a/8a1b4d24a65f44c3ba5a604a569e1811.png" alt="å›¾ç‰‡"><br><br> æˆ‘ä»¬å°†å®ƒä»¬ä¿å­˜åœ¨ssl / localhostæ–‡ä»¶å¤¹ä¸­çš„é¡¹ç›®ä¸­ã€‚ <br><br> å¯¹å¤–éƒ¨IPäº‘é‡å¤æ­¤è¿‡ç¨‹ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ssl / myappä¸­ã€‚ <br><br><h2> å¯åŠ¨æ›´å¤æ‚çš„httpsæœåŠ¡å™¨node.js </h2><br> åº”ç”¨ç»“æ„ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/330/6da/e58/3306dae5836d651136b030b2cc64041e.png" alt="å›¾ç‰‡"><br><br><ul><li> å®¢æˆ·-æˆ‘ä»¬çš„å‰ç«¯å°±åœ¨è¿™é‡Œã€‚ æˆ‘æœ‰ååº” </li><li> æ—¥å¿—-æ‰˜ç®¡æ—¥å¿—å°†åœ¨æ­¤å¤„åˆ é™¤ </li><li>  node_modules-node.jsæ¨¡å— </li><li> ç§äºº-æ‚¨çš„ç§äººæ–‡ä»¶ï¼Œæˆ‘å°†SSHè®¿é—®å­˜å‚¨åœ¨æ­¤å¤„ </li><li> æœåŠ¡å™¨æ˜¯æ‚¨çš„åç«¯ </li><li>  ssl-ç”¨äºåœ¨æœ¬åœ°ä¸»æœºå’Œä¸»æœºä¸Šè¿è¡Œhttpsçš„sslè¯ä¹¦ </li><li>  .babelrc-webpack'omåº”ç”¨ç¨‹åºå“åº”æ„å»ºè®¾ç½®ï¼ˆå…è®¸æ‚¨åœ¨å¼€å‘å‰ç«¯æ—¶ä½¿ç”¨æ›´ç°ä»£çš„JSï¼‰ </li><li>  .gitignore-ä¸ä¼šç§»åŠ¨åˆ°githubçš„æ–‡ä»¶ï¼ˆgitä¼¼ä¹çœ‹ä¸åˆ°å®ƒä»¬ï¼‰ </li><li>  client.js-ç”Ÿæˆååº”æ±‡ç¼–çš„å…¥å£ç‚¹ </li><li>  package.json-æ‚¨æ­£åœ¨ä½¿ç”¨çš„node_modeleså’Œå„ç§å‘½ä»¤æ‘˜è¦ã€‚ </li><li>  package-lock.json-æ¨¡å—ä¸­çš„æ›´æ”¹ï¼ˆæ®æˆ‘æ‰€çŸ¥ï¼Œè¯¥æ–‡ä»¶å°†æ£€æŸ¥ä¸»æœºå’ŒPCä¸Šæ˜¯å¦å®‰è£…äº†ç›¸åŒçš„æ¨¡å—ï¼‰ã€‚ </li><li>  pm2-watch.json-æ‰˜ç®¡çš„pm2å¯åŠ¨è®¾ç½® </li><li>  README.md-githubçš„å°é¢ </li><li>  server.js-åç«¯Node.jsæœåŠ¡å™¨çš„èµ·ç‚¹ </li><li>  webpack.config.js-ååº”æ„å»ºé…ç½® </li></ul><br><h3>  .gitignore </h3><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‡å‡ºäº†æˆ‘ä»¬ä¸æƒ³ä¸Šä¼ åˆ°githubçš„æ–‡ä»¶/æ–‡ä»¶å¤¹ã€‚ ä»–ä»¬åªä¼šåœ¨æ­¤è®¾å¤‡ä¸Šï¼Œè€Œgitä¸ä¼šè·Ÿè¸ª/æ˜¾ç¤ºä»–ä»¬çš„æ›´æ”¹ã€‚ æ‰“å¼€å¹¶æ’å…¥ï¼š <br><br><pre> <code class="javascript hljs">/node_modules/ <span class="hljs-regexp"><span class="hljs-regexp">/logs/</span></span>* # exception to the rule !logs/.gitkeep /public/react_bundle.js /public/isProd.js</code> </pre> <br> ç”±äºgithubä¸ä¼šå¸è½½ç©ºæ–‡ä»¶å¤¹ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨å…¶ä¸­æ”¾å…¥ä¸€äº›ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼Œç©ºçš„.gitkeepæ–‡ä»¶ã€‚ ä¿å­˜æ–‡ä»¶å¹¶å…³é—­ã€‚ <br><br><h3>  package.json </h3><br> æ‰“å¼€å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼ˆåœ¨//æ·»åŠ æ³¨é‡Šä¹‹åï¼‰ <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"myapp"</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    "version": "1.0.0", "description": "OmNomNom", "main": "server.js", "scripts": { "server": "pm2 start pm2-watch.json", //  npm run server     "client": "webpack -w --mode development", //  npm client    .        ,   . "client-prod": "webpack --mode production", //     production "client-analyze": "webpack --mode production --analyze true" //     production       .    }, "repository": { "type": "git", "url": "git+https://github.com/myapp/knigam.git" //     github }, "author": "rtw", "license": "UNLICENSED", //     ( ) "bugs": { "url": https://github.com/myapp/knigam.git" }, "homepage": "https://github.com/myapp/knigam.git#readme", "dependencies": { "@babel/core": "^7.2.2", //  js  frontend "@babel/plugin-transform-runtime": "^7.2.0", //  js  frontend "@babel/preset-env": "^7.3.1", //  js  frontend "@babel/preset-react": "^7.0.0", //  js  frontend "ajv": "^6.8.1", //    "babel-loader": "^8.0.5", //  js  frontend "babel-plugin-styled-components": "^1.10.0", //   styled-components "css-loader": "^2.1.0", //   webpack'om css "fastify": "^2.0.0-rc.6", //  express,      "fastify-cookie": "^2.1.6", //    "fastify-static": "^2.2.0", //     "moment": "^2.24.0", //    "pg": "^7.8.0", //    "pino": "^5.11.1", //   postgreSQL  node.js "pino-pretty": "^2.5.0", //     "react": "^16.8.1", // Frontend .      Vue.js,    .      ,     "react-dom": "^16.8.1", // React     "style-loader": "^0.23.1", //   webpack'om ,    "styled-components": "^4.1.3", // CSS in JS,           "webpack": "^4.29.3", //    "webpack-bundle-analyzer": "^3.0.3", //       "webpack-cli": "^3.2.3" //    ,     } }</span></span></code> </pre><br> æˆ‘å°†é‡ç‚¹ä»‹ç»ä¸ºåº”ç”¨ç¨‹åºé€‰æ‹©çš„ä¸¤ä¸ªä¸»è¦æ¡†æ¶/åº“ï¼š <br> é€‰æ‹©Fastifyä½œä¸ºExpress.jsçš„æ›¿ä»£äº§å“ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå·²ç»å¯¹htpp2æä¾›äº†å®éªŒæ€§æ”¯æŒï¼Œå› æ­¤å®ƒæ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒæ¯”Express.jsæ‹¥æœ‰æ›´å¤šçš„å‰é€”ï¼Œåè€…å·²ç»å˜å¾—éå¸¸ç¼“æ…¢å¹¶ä¸”æ­£åœ¨ä»¥æŸç§æ–¹å¼å¼€å‘ã€‚ å¦ä¸€æ–¹é¢ï¼Œexpress.jså·²ç»ä½¿ç”¨äº†å¾ˆé•¿æ—¶é—´ï¼Œæ‚¨å¯ä»¥æ›´è½»æ¾åœ°æ‰¾åˆ°æœ‰å…³å®ƒçš„ä¿¡æ¯ã€‚ <br><br> ä¹‹æ‰€ä»¥é€‰æ‹©Reactï¼Œæ˜¯å› ä¸ºå®ƒè®©æˆ‘æ›´è½»æ¾åœ°ä½¿ç”¨å®ƒï¼Œè‡ªå·±ç†è§£å’Œå°è¯•ä¸€åˆ‡ã€‚  Vue-ä¼¼ä¹æœ‰è‡ªå·±çš„è§„åˆ™å’Œæ–¹å‘ã€‚ å°½ç®¡åœ¨Vueä¸­å¯èƒ½éœ€è¦ç”¨è‡ªå·±çš„åŒæ‰‹å°‘å†™ä¸€äº›ä¸œè¥¿ï¼Œä½†æ˜¯ç”±äºè®­ç»ƒçš„é‡ç‚¹æ˜¯ä¼˜å…ˆçº§é«˜ï¼Œå¹¶ä¸”å¯¹äºä»¥å‰æ²¡æœ‰ç¼–ç¨‹çš„äººæ¥è¯´ï¼Œåšå‡ºååº”è¦å®¹æ˜“äº›ã€‚ <br><br> æˆ‘ä»¬ä¿å­˜package.jsonæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…åœ¨ä¾èµ–é¡¹ä¸­æŒ‡å®šçš„æ‰€æœ‰æ¨¡å—ï¼š <br><br><pre> <code class="javascript hljs">npm i</code> </pre> <br> æˆ‘ä»¬å°†æœ‰ä¸€ä¸ªnode_modulesæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å°†åŒ…å«æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ‰€æœ‰æ¨¡å—ã€‚ <br><br> å®¢æˆ·ç«¯-ç©ºæ–‡ä»¶å¤¹ <br>  logs-.gitkeepæ–‡ä»¶ä½äºå…¶ä¸­ï¼Œå› æ­¤è¯¥æ–‡ä»¶å¤¹è¿ç§»åˆ°æ‰˜ç®¡ï¼Œå¹¶ä¸”æ—¥å¿—æˆåŠŸè½å…¥è¯¥ä½ç½®ã€‚ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šå°†æ‰€æœ‰å†…å®¹è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ <br><br><h3> å…¬å¼€çš„ </h3><br> æˆ‘ä»¬ç½‘ç«™çš„é™æ€æ–‡ä»¶å°†ä½äºæ­¤å¤„ï¼Œå…¶ä¸­åŒ…å«å›¾ç‰‡ï¼Œç½‘ç«™å›¾æ ‡ç­‰ã€‚ <br> è®©æˆ‘ä»¬å…³æ³¨ä¸¤ä¸ªæ–‡ä»¶ï¼š <br>  index.htmlï¼š <br><br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;base href="/" /&gt; &lt;meta charset="UTF-8" /&gt; &lt;title&gt;MyApp&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="cookies"&gt;    react_bundle   &lt;/div&gt; &lt;noscript &gt;:       Javscript&lt;/noscript &gt; &lt;script src="react_bundle.js"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre> <br>  -åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åŠ è½½äº†ä¸€ä¸ªååº”å‰ç«¯ï¼Œå¹¶é€šè¿‡å…¶IDå‘ˆç°åˆ°æ ‡ç­¾ä¸­ã€‚ <br><br>  isProd.jsåŒ…å«ä¸€è¡Œâ€œ module.exports = falseâ€ <br> ç”±äºå®ƒåœ¨.gitignoreå¼‚å¸¸ä¸­ï¼Œå› æ­¤ä¸å¯ç§»æ¤ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åœ¨PCä¸Šå°†å…¶è®¾ç½®ä¸ºfalseï¼Œåœ¨ä¸»æœºä¸Šå°†å…¶è®¾ç½®ä¸ºtrueã€‚ ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨æ­¤æ–‡ä»¶æ¥äº†è§£æˆ‘ä»¬å½“å‰æ‰€å¤„çš„ç¯å¢ƒï¼ˆå¼€å‘/ç”Ÿäº§ï¼‰ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¼¼ä¹æ˜¯æœ€æ–¹ä¾¿çš„ï¼Œæ­¤å¤–ï¼Œæ‚¨å¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­éƒ¨åˆ†æ›´æ”¹ä»£ç å¹¶æ£€æŸ¥ç”Ÿäº§ä¸­æ¨¡å—çš„è¿è¡Œæƒ…å†µã€‚ <br><br>  ssl-æœ¬åœ°ä¸»æœºå’Œmyappæ–‡ä»¶å¤¹ä¸­ä»¥å‰ä¿å­˜äº†è¯ä¹¦ <br><br><h3>  .babelrc </h3><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"presets"</span></span>: [ [ <span class="hljs-string"><span class="hljs-string">"@babel/preset-env"</span></span>, { <span class="hljs-string"><span class="hljs-string">"targets"</span></span>: { <span class="hljs-string"><span class="hljs-string">"browsers"</span></span>: [<span class="hljs-string"><span class="hljs-string">"&gt;0.25%"</span></span>, <span class="hljs-string"><span class="hljs-string">"not ie 11"</span></span>, <span class="hljs-string"><span class="hljs-string">"not op_mini all"</span></span>] } } ], <span class="hljs-string"><span class="hljs-string">"@babel/preset-react"</span></span> ], <span class="hljs-string"><span class="hljs-string">"plugins"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"babel-plugin-styled-components"</span></span>, <span class="hljs-string"><span class="hljs-string">"@babel/plugin-transform-runtime"</span></span> ] }</code> </pre><br> è¶…è¿‡0.25ï¼…çš„ç”¨æˆ·ä½¿ç”¨ç”¨äºåˆ›å»ºå…·æœ‰æµè§ˆå™¨æ”¯æŒçš„react_bundleçš„è®¾ç½®ã€‚ <br><br><h3>  client.js </h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { render } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span> render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">!!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'cookies'</span></span>))</code> </pre> <br><br> ä½¿ç”¨Cookieæ ‡ç­¾åœ¨divä¸­æ¸²æŸ“å‰ç«¯ã€‚ <br><br>  pm2-watch.json-å…è®¸æ‚¨åœ¨ä¸»æœºä¸Šä½¿ç”¨â€œ npm run serverâ€å‘½ä»¤è¿è¡ŒæœåŠ¡å™¨ï¼Œå¹¶è·Ÿè¸ªä»£ç ä¸­çš„æ›´æ”¹å¹¶è‡ªåŠ¨é‡æ–°å¼•å¯¼ã€‚ <br><br><h3>  webpack.config.js </h3><br> ååº”å †åº”ç”¨ç¨‹åºç”Ÿæˆå™¨ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webpack = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack'</span></span>), path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>), BundleAnalyzerPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack-bundle-analyzer'</span></span>).BundleAnalyzerPlugin <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">env, argv</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> prod = argv.mode == <span class="hljs-string"><span class="hljs-string">'production'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> config = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">'./client.js'</span></span>, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.resolve(<span class="hljs-string"><span class="hljs-string">'./public'</span></span>), <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'react_bundle.js'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(js|jsx)$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">exclude</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/node_modules/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'babel-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.css$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [<span class="hljs-string"><span class="hljs-string">'style-loader'</span></span>, <span class="hljs-string"><span class="hljs-string">'css-loader'</span></span>] } ] }, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-attr"><span class="hljs-attr">alias</span></span>: { <span class="hljs-attr"><span class="hljs-attr">client</span></span>: path.resolve(<span class="hljs-string"><span class="hljs-string">'./client/shared'</span></span>), <span class="hljs-attr"><span class="hljs-attr">public</span></span>: path.resolve(<span class="hljs-string"><span class="hljs-string">'./public'</span></span>) } }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ argv.analyze ? <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BundleAnalyzerPlugin() : <span class="hljs-literal"><span class="hljs-literal">false</span></span>, prod ? <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.optimize.AggressiveMergingPlugin() : <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> webpack.ContextReplacementPlugin(<span class="hljs-regexp"><span class="hljs-regexp">/moment[\/\\]locale$/</span></span>, /ru/) ].filter(<span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>), <span class="hljs-attr"><span class="hljs-attr">optimization</span></span>: { <span class="hljs-attr"><span class="hljs-attr">minimize</span></span>: prod ? <span class="hljs-literal"><span class="hljs-literal">true</span></span> : <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">performance</span></span>: { <span class="hljs-attr"><span class="hljs-attr">hints</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> config }</code> </pre><br> ç®€è€Œè¨€ä¹‹ï¼Œä»–æ‰“å¼€client.jsæ–‡ä»¶åŠå…¶å†…éƒ¨çš„æ‰€æœ‰å†…å®¹ï¼Œæ”¶é›†react_bundleå¹¶å°†å…¶æ”¾ç½®åœ¨å…¬ç”¨æ–‡ä»¶å¤¹ä¸­ï¼Œä»è¯¥æ–‡ä»¶å¤¹ä¸­é€šè¿‡æ‰“å¼€çš„index.htmlå¯¹å…¶è¿›è¡ŒåŠ è½½ã€‚ <br><br><h3>  server.js </h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isProd = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./public/isProd'</span></span>), fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>), log = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./server/logger'</span></span>), path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   node.js,      process.on('unhandledRejection', (reason, promise) =&gt; { log.error({ reason, promise }, '  unhandledRejection') }) process.on('uncaughtException', err =&gt; { log.error({ err }, '  uncaughtException') }) // Redirect server from http port 80 to https 443 const fastifyHttp = require('fastify')({ logger: log, ignoreTrailingSlash: true }) fastifyHttp.listen(80, '::', (err, address) =&gt; { if (err) { log.error({ err, address }, '   HTTP ') } else { log.warn('Http c ') } }) // Let's Encrypt challenge fastifyHttp.get('/.well-known/acme-challenge/:file', (req, res) =&gt; { let stream = fs.createReadStream( path.join(__dirname + '/ssl/.well-known/acme-challenge/' + req.params.file) ) res.type('text/html').send(stream) }) fastifyHttp.get('/*', (req, res) =&gt; { res.redirect(301, 'https://' + req.headers.host + req.raw.url) }) fastifyHttp.get('/', (req, res) =&gt; { res.redirect(301, 'https://' + req.headers.host + req.raw.url) }) //  let fastifyOptions = { logger: log, ignoreTrailingSlash: true, http2: true } fastifyOptions.https = isProd ? { allowHTTP1: true, key: fs.readFileSync('./ssl/myapp/key.txt'), cert: fs.readFileSync('./ssl/myapp/crt.txt') } : { allowHTTP1: true, key: fs.readFileSync('./ssl/localhost/cert.key'), cert: fs.readFileSync('./ssl/localhost/cert.pem') } const fastify = require('fastify')(fastifyOptions) fastify.listen(443, '::', (err, address) =&gt; { if (err) { log.error({ err, address }, '   ') } else { log.warn( `   ${ isProd ? '' : ' ' }` ) } }) //  fastify.setSchemaCompiler(schema =&gt; { return ajv.compile(schema) }) //  fastify fastify.setErrorHandler((err, req, res) =&gt; { log.error({ err, req }, 'fastify errorHandler') //     if (err.validation) { return res.send({ error: '   ' }) } else { return res.send({ error: ' errorHandler' }) } }) //   fastify.register(require('fastify-static'), { root: path.join(__dirname, './public') }) //  fastify.register(require('fastify-cookie'), err =&gt; { if (err) log.error({ err }, 'fastify-cookie') }) //       /   //       index.html,     //        api,   GET /api/userdata fastify.setNotFoundHandler((req, res) =&gt; { res.sendFile('index.html') }) // Routes fastify.register( async openRoutes =&gt; { //    openRoutes.register(require('./server/api/open')) openRoutes.register(async withSession =&gt; { //         //    , : ///withSession.addHook('preHandler', async (req, res) =&gt; { // if (!(await sessionManagerIsOk(req, res))) return // }) withSession.register(require('./server/api/with_session')) }) }, { prefix: '/api' } //    )</span></span></code> </pre><br><h3> æœåŠ¡å™¨æ–‡ä»¶å¤¹ </h3><br> åç«¯å’Œæ‰€æœ‰æ–¹å¼éƒ½åœ¨è¿™é‡Œã€‚ <br>  logger.js-æ ¹æ®ç¯å¢ƒçš„ä¸åŒï¼ŒisProdä¼šè®°å½•åˆ°æ§åˆ¶å°æˆ–é”™è¯¯æ—¥å¿—ä¸­ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pino = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'pino'</span></span>), isProd = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../public/isProd'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> logOptions = isProd ? { <span class="hljs-attr"><span class="hljs-attr">level</span></span>: <span class="hljs-string"><span class="hljs-string">'warn'</span></span>, <span class="hljs-comment"><span class="hljs-comment">//   timestamp: () =&gt; { return ',"time":"' + new Date() + '"' } } : { level: 'warn', prettifier: require('pino-pretty'), prettyPrint: { levelFirst: true, translateTime: true } } let dest = isProd ? pino.destination('./logs/errors.log') : pino.destination(1) let log = pino(logOptions, dest) module.exports = log</span></span></code> </pre><br> æœåŠ¡å™¨/ API / <br>  open.js-åœ¨æ­¤å¤„æ·»åŠ æˆ‘ä»¬çš„è·¯å¾„ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fastify, options, next</span></span></span><span class="hljs-function">) </span></span>{ fastify.route({ <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'GET'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-attr"><span class="hljs-attr">handler</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (req, res) =&gt; { res.send(<span class="hljs-string"><span class="hljs-string">'api / route'</span></span>) } }) fastify.route({ <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'GET'</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">'/hi'</span></span>, <span class="hljs-attr"><span class="hljs-attr">handler</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (req, res) =&gt; { res.send(<span class="hljs-string"><span class="hljs-string">'api / route hi'</span></span>) } }) next() }</code> </pre> <br> åœ¨Localhostä¸Šè®¾ç½®å¹¶æ£€æŸ¥æ‰€æœ‰å†…å®¹ä¹‹åï¼Œæˆ‘ä»¬åªéœ€å°†æ‰€æœ‰å†…å®¹ä¸Šä¼ åˆ°githubï¼Œç„¶åä»git pullåˆ°æ‰˜ç®¡ã€‚ åœ¨æ‰˜ç®¡ä¸Šéœ€è¦åšçš„æ‰€æœ‰äº‹æƒ…å°±æ˜¯ä½¿ç”¨â€œ npm iâ€å‘½ä»¤å®‰è£…node.jsæ¨¡å—å¹¶åˆ›å»ºisProd.jsæ–‡ä»¶ã€‚ <br><br><h2>  SSLè‡ªåŠ¨æ›´æ–° </h2><br> å½“æ‚¨è´­ä¹°åŸŸåå¹¶å°†å…¶ç»‘å®šåˆ°IPäº‘æ—¶ï¼Œè¿™<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ˜¯REG.RU</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯´æ˜ç¤ºä¾‹</a> ï¼Œæ‚¨å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…è‡ªåŠ¨æ›´æ–°çš„å…è´¹SSLï¼Œä»¥ä½¿ç«™ç‚¹å¯ä»¥é€šè¿‡httpså·¥ä½œã€‚ <br><br> æˆ‘ä»¬çš„æœåŠ¡å™¨åœ¨æ²¡æœ‰nginxçš„æƒ…å†µä¸‹å¯ä»¥å·¥ä½œã€‚ å°†æ¥æˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å®ƒä½œä¸ºè´Ÿè½½å‡è¡¡å™¨æˆ–é€Ÿåº¦æ›´å¿«çš„HTTPæœåŠ¡å™¨æ¥åˆ†å‘é™æ€æ–‡ä»¶ï¼Œä½†åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»ç„¶æ²¡æœ‰å¿…è¦ã€‚ æˆ‘ä»¬è¿˜ä¸éœ€è¦è´Ÿâ€‹â€‹è½½å¹³è¡¡ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡æœ‰å‘ç°å…³äºé™æ€åˆ†å¸ƒé€Ÿåº¦çš„æ¯”è¾ƒã€‚ <br><br> åœ¨sslæ–‡ä»¶å¤¹ä¸­è¿›è¡Œå®‰è£…ä¹‹å‰ï¼Œè¯·åˆ›å»º.well-knownæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­è¿›è¡Œacme-challengeã€‚ åŸæ¥/ opt / myapp / ssl /ã€‚ä¼—æ‰€å‘¨çŸ¥/ acmeæŒ‘æˆ˜ <br><br> è¦åœ¨æ²¡æœ‰nginxçš„å…·æœ‰node.jsçš„æœåŠ¡å™¨ä¸Šå®‰è£…è‡ªåŠ¨æ›´æ–°çš„SSL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ï¼Œè¯·å•å‡»é“¾æ¥</a> ã€‚ ä¾æ¬¡åœ¨æ‰˜ç®¡æ§åˆ¶å°ä¸­æ‰§è¡Œå‘½ä»¤ï¼š <br><br><pre> <code class="javascript hljs">sudo apt-get update sudo apt-get install software-properties-common sudo add-apt-repository universe sudo add-apt-repository ppa:certbot/certbot sudo apt-get update sudo apt-get install certbot sudo certbot certonly</code> </pre><br> æˆ‘ä»¬é€‰æ‹©ç¬¬äºŒç§éªŒè¯æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šå°†ç‰¹å®šæ–‡ä»¶æ”¾åœ¨/opt/myapp/ssl/.well-known/acme-challengeæ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶åœ¨ç¡®è®¤æœåŠ¡å™¨æ‰€æœ‰è€…åå°†å…¶åˆ é™¤ã€‚ <br><br> æˆ‘ä»¬æ ¹æ®è¯·æ±‚æŒ‡ç¤ºæˆ‘ä»¬çš„åŸŸï¼Œä¾‹å¦‚ï¼šâ€œ example.comâ€å’Œåº”ç”¨ç¨‹åºçš„sslæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆæœåŠ¡å™¨å·²é…ç½®ä¸ºå¯ä»¥æä¾›ç”±botåˆ›å»ºçš„æ–‡ä»¶ï¼‰â€œ / opt / myapp / sslâ€ã€‚ <br><br> åƒµå°¸ç¨‹åºä¼šå°†cronä»»åŠ¡æœ¬èº«é…ç½®ä¸ºåœ¨è¯ä¹¦è¿‡æœŸ90å¤©å†…æ›´æ–°è¯ä¹¦ã€‚ <br><br> æˆ‘è®¤ä¸ºä¸éœ€è¦èŠ±å¤ªå¤šæ—¶é—´æ¥ç¼–å†™æ‰€æœ‰å†…å®¹ï¼Œåˆ°å‡Œæ™¨4ç‚¹ï¼Œæˆ‘å¯èƒ½å·²ç»é”™è¿‡äº†ä¸€äº›ä¸œè¥¿ï¼š/ <br><br> æŒæ¡äº†æ­¤ç”»å¸ƒæˆ–é˜…è¯»äº†ä¸€äº›ä¸ªäººè§‚ç‚¹çš„å“ˆå¸ƒæ‹‰äººå’Œä¸“å®¶çš„è§‚ç‚¹å¾ˆæœ‰è¶£ã€‚ æ‚¨çš„å¼€å‘å‘¨æœŸå¦‚ä½•å®‰æ’ï¼Ÿ æœ‰ä»€ä¹ˆåœ°æ–¹æˆ‘ä¼šè¯¯ä¼šæˆ–åšé”™äº‹å—ï¼Ÿ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN439952/">https://habr.com/ru/post/zh-CN439952/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN439942/index.html">Dockerï¼šæ¯ä¸ª.Netå¼€å‘äººå‘˜éœ€è¦äº†è§£çš„å†…å®¹</a></li>
<li><a href="../zh-CN439944/index.html">ç”¨äºå‡äººçš„SAPUI5ç¬¬5éƒ¨åˆ†ï¼šå®Œæ•´çš„åˆ†æ­¥ç»ƒä¹ </a></li>
<li><a href="../zh-CN439946/index.html">æˆ‘ä»¬ä¸ºä»€ä¹ˆé€‰æ‹©ç”µå­</a></li>
<li><a href="../zh-CN439948/index.html">è‹±ç‰¹å°”SVT-AV1ï¼šé‡å‹å¼€æºAV1ç¼–ç å™¨</a></li>
<li><a href="../zh-CN439950/index.html">ç¬¬ä¸‰å±Šå›¾çµæµ‹è¯•ï¼šè·å¥–è€…çš„å‚ä¸æ¡ä»¶å’Œå¥–å“</a></li>
<li><a href="../zh-CN439958/index.html">CodeFest X 3æœˆ30æ—¥è‡³31æ—¥ã€‚ æœªæ¥ç§‘</a></li>
<li><a href="../zh-CN439962/index.html">æˆ‘ä»¬ä¸AtlassianæœåŠ¡å°åˆä½œï¼Œä»Riada Insightæ’ä»¶ä¸­è·å¾—æœ€å¤§æ”¶ç›Š-Atlassianç”¨æˆ·ç»„ä¼šè®®çš„æŠ¥å‘Š</a></li>
<li><a href="../zh-CN439964/index.html">Runc CVE-2019-5736ä¸»æœºä¸­çš„æ¼æ´</a></li>
<li><a href="../zh-CN439966/index.html">ç”¨äºç®—æœ¯è¿ç®—çš„ç®€å•è§£æå™¨</a></li>
<li><a href="../zh-CN439968/index.html">ç”Ÿæˆç©ºé—´å’Œæœºä¼šç©ºé—´</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>