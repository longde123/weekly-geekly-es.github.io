<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•© üëê üõ•Ô∏è IDE de uma pessoa normal ou por que escolhemos M√¥naco üë®üèª‚Äçüç≥ üç± üëßüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota do Editor 
 No √∫ltimo artigo, falamos sobre o lan√ßamento do painel de controle do Voximplant, sem esquecer de mencionar o IDE atualizado. Hoje, d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IDE de uma pessoa normal ou por que escolhemos M√¥naco</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/445390/"><h2>  Nota do Editor </h2><br>  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√∫ltimo artigo,</a> falamos sobre o lan√ßamento do painel de controle do Voximplant, sem esquecer de mencionar o IDE atualizado.  Hoje, dedicamos uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">longa pausa</a> a essa ferramenta - nosso colega <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Geloosa</a> descreveu cuidadosamente o processo de escolha de uma tecnologia e a implementa√ß√£o com guias, estilos de preenchimento autom√°tico e personalizados.  Sente-se de forma mais conveniente, deixe de lado o resto dos seus assuntos e v√° para o ataque, onde as tripas de M√¥naco est√£o esperando pelos curiosos - n√£o escorregue, h√° muitas delas :) Aproveite a leitura. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t1/vr/8x/t1vr8xlaaladvtlhhi47hm4ihsg.png" width="700"></div><a name="habracut"></a><br><h2>  Qual biblioteca escolher para o editor de c√≥digo? </h2><br>  Npm produz mais de 400 resultados para o editor de c√≥digo.  Na maioria das vezes, eles s√£o inv√≥lucros da interface do usu√°rio de v√°rias das bibliotecas mais populares criadas para uma estrutura ou projeto espec√≠fico, plug-ins para as mesmas bibliotecas ou seus garfos com modifica√ß√µes pr√≥prias, al√©m de n√£o serem para editar o c√≥digo no navegador, eles simplesmente entram na sa√≠da por palavras-chave.  Ent√£o, felizmente, a escolha √© muito mais restrita.  Mais algumas bibliotecas - como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CodeFlask</a> , leve, mas n√£o muito funcional, projetada para pequenos trechos e exemplos interativos, mas n√£o para um IDE da Web completo com a funcionalidade que estamos acostumados nos editores de desktop. <br><br>  No final, temos tr√™s bibliotecas para escolher: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ace</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CodeMirror</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Monaco Editor</a> .  O primeiro deles, CodeMirror, foi uma iniciativa privada do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">berliner Marijn Haverbeke</a> , que precisava de um editor de c√≥digo de exerc√≠cio em seu tutorial online, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Eloquent JavaScript</a> .  A primeira vers√£o do editor foi lan√ßada em 2007.  Em 2010, a primeira vers√£o do Ace foi apresentada no JSConf.eu no mesmo Berlim, que o Ajax.org desenvolveu para a sua nuvem IDE Cloud9 (na verdade, Ace significa Editor do Ajax.org Cloud9).  Em 2016, o Cloud9 foi comprado pela Amazon e agora faz parte da AWS.  O mais recente, o Monaco Editor, √© um componente do VS Code e foi publicado pela Microsoft no final de 2015. <br><br>  Cada editor tem suas pr√≥prias for√ßas e fraquezas e √© usado em mais de um grande projeto.  Por exemplo, o CodeMirror √© usado nas ferramentas de desenvolvedor do Chrome e Firefox, um IDE no Bitbucket, no RunKit em npm;  Ace - na Codecademy, Khan Academy, MODX;  M√¥naco - no IDE do GitLab e no CodeSandbox.  A seguir, √© apresentado um gr√°fico de compara√ß√£o que pode ajud√°-lo a escolher a biblioteca mais adequada ao seu projeto. <br><br><table><tbody><tr><td></td><td colspan="3" align="center">  Bibliotecas </td></tr><tr><td></td><td>  Ace </td><td>  CodeMirror </td><td>  M√¥naco </td></tr><tr><td>  Desenvolvedor </td><td>  IDE Cloud9 (Ajax.org), <br>  agora parte do AmazonMozilla </td><td>  Marijn haverbeke </td><td>  Microsoft </td></tr><tr><td>  Suporte do navegador </td><td>  Firefox ^ 3.5 <br>  Chrome <br>  Safari ^ 4.0 <br>  IE ^ 8.0 <br>  Opera ^ 11.5 </td><td>  Firefox ^ 3.0 <br>  Chrome <br>  Safari ^ 5.2 <br>  IE ^ 8.0 <br>  Opera ^ 9.2 </td><td>  Firefox ^ 4.0 <br>  Chrome <br>  Safari (v -?) <br>  IE ^ 11.0 <br>  Opera ^ 15.0 </td></tr><tr><td>  Suporte de idioma <br>  (destaque da sintaxe) </td><td>  &gt; 120 </td><td>  &gt; 100 </td><td> &gt; 20 </td></tr><tr><td>  N√∫mero de caracteres em <br>  vers√µes mais recentes em <br>  cndjs.com </td><td>  366 608 (v1.4.3) </td><td>  394.269 (v5.44.0) </td><td>  2.064.949 (v0.16.2) </td></tr><tr><td>  O peso das √∫ltimas vers√µes, <br>  gzip </td><td>  2.147 KB </td><td>  1.411 KB </td><td>  10.898 KB </td></tr><tr><td>  Renderiza√ß√£o </td><td>  Dom </td><td>  Dom </td><td>  DOM e parcialmente &lt;canvas&gt; <br>  (para rolagem e minimapa) </td></tr><tr><td>  A documenta√ß√£o </td><td>  7 de 10: nenhuma pesquisa, nem sempre clara <br>  que os m√©todos retornem, existem d√∫vidas <br>  em plenitude e relev√¢ncia <br>  (nem todos os links funcionam no dock) </td><td>  6 em 10: mesclado com o guia do usu√°rio, <br>  pesquise por Ctrl + F, <br>  existem d√∫vidas sobre completude </td><td>  9 de 10: linda, com pesquisa e <br>  refer√™ncia cruzada <br>  -1 ponto por falta de explica√ß√£o <br>  para algumas bandeiras cuja aplica√ß√£o <br>  n√£o √© muito √≥bvio do nome </td></tr><tr><td>  Demonstra√ß√µes de in√≠cio r√°pido </td><td>  Como fazer - documentos de texto com exemplos de c√≥digo, <br>  separadamente, h√° demos com exemplos de c√≥digo <br>  (verdade, eles est√£o espalhados em p√°ginas diferentes, <br>  nem todo mundo trabalha e √© pesquisado com mais facilidade pelo Google), <br>  h√° uma demonstra√ß√£o em que voc√™ pode tocar em diferentes recursos, <br>  mas prop√µe-se gerenci√°-los por meio de controles da interface, <br>  ou seja, ainda devemos procurar separadamente m√©todos <br>  para conect√°-los </td><td>  Como fazer s√£o realmente pobres <br>  basicamente tudo est√° espalhado no github <br>  e stackoverflow, mas h√° demonstra√ß√µes de recursos com exemplos <br>  c√≥digo para sua implementa√ß√£o </td><td>  Combinado no formato de um playground: <br>  c√≥digo com coment√°rios e v√°rias demonstra√ß√µes, voc√™ pode <br>  tente imediatamente avaliar <br>  muitas possibilidades </td></tr><tr><td>  Atividade comunit√°ria </td><td>  M√©dia </td><td>  Alta </td><td>  M√©dia </td></tr><tr><td>  Atividade do desenvolvedor </td><td>  M√©dia </td><td>  M√©dia </td><td>  Alta </td></tr></tbody></table><br>  N√£o faz sentido comparar bibliotecas por tamanho, porque tudo depende do que e como conectar-se a um projeto espec√≠fico: carregue o arquivo finalizado com uma das constru√ß√µes (que tamb√©m variam) ou execute o pacote npm atrav√©s de algum tipo de coletor.  E o mais importante √© quanto o editor √© usado: se todos os estilos e temas est√£o carregados, quantos e quais complementos e plug-ins s√£o usados.  Por exemplo, no CodeMirror, a maioria das funcionalidades que funcionam no M√¥naco e no Ace prontamente est√£o dispon√≠veis apenas com complementos.  A tabela mostra o n√∫mero de caracteres nas vers√µes recentes na CDN e o peso de seus arquivos compactados para uma id√©ia geral de quais pedidos est√£o envolvidos. <br><br>  Todas as bibliotecas t√™m aproximadamente o mesmo conjunto de recursos b√°sicos: formata√ß√£o autom√°tica de c√≥digo, linhas dobradas, recortar / copiar / colar, teclas de atalho, capacidade de adicionar novas sintaxes para real√ßar e ordenar, verifica√ß√£o de sintaxe (no CodeMirror apenas atrav√©s de complementos, no Ace at√© agora apenas para JavaScript / CoffeeScript / CSS / XQuery), dicas de ferramenta e preenchimento autom√°tico (no CodeMirror - atrav√©s de complementos), pesquisa avan√ßada por c√≥digo (no CodeMirror - atrav√©s de complementos), m√©todos para implementar guias e modo de divis√£o, modo diferencial e uma ferramenta de mesclagem (no CodeMirror - com vantagens e desvantagens em uma janela ou em dois pain√©is atrav√©s de um complemento,  Ace - Lieb separado).  Devido √† sua idade, muitos complementos foram criados para o CodeMirror, mas seu n√∫mero afetar√° o peso e a velocidade do editor.  O M√¥naco pode fazer muitas coisas prontas e, na minha opini√£o, melhor e em um volume maior que o Ace e o CodeMirror. <br><br>  Ficamos no M√¥naco por v√°rias raz√µes: <br><br><ol><li>  As ferramentas mais desenvolvidas que consideramos cr√≠ticas para o nosso projeto: <br><ul><li>  IntelliSense - dicas e preenchimento autom√°tico; </li><li>  navega√ß√£o inteligente de c√≥digo no menu de contexto e atrav√©s do minimapa; </li><li>  modo diferencial de dois pain√©is pronto para uso. </li></ul><br></li><li>  Escrito em TypeScript.  Nosso painel de controle est√° escrito em Vue + Typescript, portanto, o suporte ao TS era importante.  A prop√≥sito, Ace recentemente tamb√©m suporta TS, mas foi originalmente escrito em JS.  Para CodeMirror, existem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tipos</a> em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DefinitelyTyped</a> . </li><li>  Ele √© desenvolvido ativamente (possivelmente porque foi lan√ßado h√° pouco tempo), os bugs s√£o corrigidos mais rapidamente e as solicita√ß√µes de pool s√£o combatidas.  Para compara√ß√£o, com o CodeMirror, tivemos uma experi√™ncia triste, quando os bugs n√£o eram corrigidos por anos e coloc√°vamos uma muleta em uma muleta e a dirig√≠amos. </li><li>  Documenta√ß√£o conveniente gerada automaticamente (que d√° esperan√ßa de que esteja completa) com refer√™ncias cruzadas entre interfaces e m√©todos. </li><li>  Para nosso gosto, a interface do usu√°rio mais bonita (provavelmente tamb√©m relacionada ao hor√°rio da cria√ß√£o) e uma API concisa. </li><li>  Depois de perguntar aos amigos dos desenvolvedores qual dos editores causou mais dores de cabe√ßa, Ace e CodeMirror foram os l√≠deres. </li></ol><br>  Separadamente, deve-se dizer sobre a velocidade do trabalho.  A an√°lise cara ocorre em um encadeamento de trabalho paralelo.  Al√©m disso, todos os c√°lculos s√£o limitados pelo tamanho da janela de exibi√ß√£o (todos os tipos, cores e renderiza√ß√£o s√£o calculados apenas para as linhas vis√≠veis).  Ele come√ßa a frear apenas se o c√≥digo contiver 100.000 linhas - os prompts podem ser calculados por v√°rios segundos.  O Ace, que tamb√©m usa trabalhadores para computa√ß√£o pesada, mostrou-se mais r√°pido: no c√≥digo do mesmo tamanho, os avisos aparecem quase instantaneamente e lida rapidamente com 200.000 linhas (no site oficial, afirma-se que mesmo 4 milh√µes de linhas n√£o devem ser um problema, embora os parafusos foram acelerados, a entrada come√ßou a desacelerar e as instru√ß√µes desapareceram ap√≥s o primeiro milh√£o).  O CodeMirror, onde n√£o h√° c√°lculos paralelos, dificilmente pode extrair esses volumes: pode piscar tanto o texto quanto a sintaxe.  Como 100.000 linhas em um arquivo s√£o raras no mundo real, fechamos os olhos para isso.  Mesmo com 40 a 50 mil linhas, o M√¥naco faz um excelente trabalho. <br><br><h2>  Conectando o M√¥naco e usando recursos b√°sicos (por exemplo, integra√ß√£o com o Vue) </h2><br><h3>  Liga√ß√£o </h3><br>  Aqui vou dar exemplos de c√≥digo dos componentes vue e usar a terminologia apropriada.  Mas tudo isso √© facilmente transportado para qualquer outra estrutura ou JS puro. <br><br>  O c√≥digo-fonte do M√¥naco pode ser baixado no site oficial e inserido no seu projeto, voc√™ pode busc√°-lo na CDN, pode se conectar ao projeto via npm.  Vou falar sobre a terceira op√ß√£o e construir usando o webpack. <br><br>  Colocamos o monaco-editor e um plug-in para montagem: <br><br><pre><code class="bash hljs">npm i -S monaco-editor npm i -D monaco-editor-webpack-plugin</code> </pre> <br>  Na configura√ß√£o do webpack, adicione: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MonacoWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'monaco-editor-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">// ... plugins: [ // ... new MonacoWebpackPlugin() ] };</span></span></code> </pre> <br>  Se voc√™ usar o Vue e o vue-cli-service para construir, adicione ao vue.config.js: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MonacoWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'monaco-editor-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-comment"><span class="hljs-comment">// ... configureWebpack: (config) =&gt; { // ... config.plugins.push(new MonacoWebpackPlugin()); } };</span></span></code> </pre> <br>  Se voc√™ n√£o precisar de todos os idiomas e recursos do Monaco, para reduzir o tamanho do pacote, poder√° transferir <code>MonacoWebpackPlugin</code> objeto com as configura√ß√µes para o <code>MonacoWebpackPlugin</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MonacoWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">output</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ,     languages: ['markdown'], //     ,     features: ['format', 'contextmenu'] //      })</span></span></code> </pre> <br>  Uma lista completa de recursos e idiomas para o plugin est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br><h3>  Crie e personalize um editor </h3><br>  Importamos o <code>editor</code> e chamamos <code>editor.create(el: HTMLElement, config?: IEditorConstructionOptions)</code> , passando o elemento DOM no qual queremos criar o editor como o primeiro argumento. <br><br>  No componente do editor: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {editor} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'monaco-editor'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {Component, Prop, Vue} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue-property-decorator'</span></span></span><span class="javascript">; @Component() </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Monaco</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Vue</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span></span><span class="javascript">{ private editor = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; mounted() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.editor = editor.create(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.$refs.editor); } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.editor</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: auto; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">60vw</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">height</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">200px</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  O cont√™iner do editor deve necessariamente definir a altura para que n√£o seja zero.  Se voc√™ criar o editor em uma div vazia (com altura zero - seu K.O.), o Monaco gravar√° a mesma altura em um estilo embutido na janela do editor. <br><br>  O segundo argumento opcional para <code>editor.create</code> √© a configura√ß√£o do editor.  H√° mais de uma centena de op√ß√µes, uma descri√ß√£o completa da interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IEditorConstructionOptions</a> est√° na documenta√ß√£o. <br><br>  Por exemplo, definiremos o idioma, o tema e o texto inicial e ativaremos o agrupamento de linhas (por padr√£o, eles n√£o s√£o agrupados): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> config = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">`function hello() { alert('Hello world!'); }`</span></span>, <span class="hljs-attr"><span class="hljs-attr">language</span></span>: <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>, <span class="hljs-attr"><span class="hljs-attr">theme</span></span>: <span class="hljs-string"><span class="hljs-string">'vs-dark'</span></span>, <span class="hljs-attr"><span class="hljs-attr">wordWrap</span></span>: <span class="hljs-string"><span class="hljs-string">'on'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor = editor.create(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$refs.editor, config);</code> </pre> <br>  A fun√ß√£o <code>editor.create</code> retorna um objeto com a interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IStandaloneCodeEditor</a> .  Atrav√©s dele, agora voc√™ pode controlar tudo o que acontece no editor, incluindo a altera√ß√£o das configura√ß√µes iniciais: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//        read-only  this.editor.updateOptions({wordWrap: 'off', readOnly: true});</span></span></code> </pre> <br>  Agora, o problema: <code>updateOptions</code> aceita um objeto com a interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IEditorOptions</a> , n√£o IEditorConstructionOptions.  Eles s√£o um pouco diferentes: IEditorConstructionOptions √© mais amplo, inclui as propriedades dessa inst√¢ncia do editor e algumas globais.  <code>updateOptions</code> propriedades da <code>updateOptions</code> s√£o alteradas por meio de <code>updateOptions</code> , global - por meio dos m√©todos do <code>editor</code> global.  E, consequentemente, aqueles que mudam globalmente mudam para todas as inst√¢ncias.  Entre essas op√ß√µes est√° o <code>theme</code> .  Crie 2 inst√¢ncias com temas diferentes;  y de ambos ser√° o dado no √∫ltimo (escuro aqui).  O <code>editor.setTheme('vs')</code> global <code>editor.setTheme('vs')</code> tamb√©m mudar√° de assunto para ambos.  Isso afetar√° at√© mesmo as janelas que est√£o em outra p√°gina do seu SPA.  Existem alguns lugares assim, mas voc√™ precisa segui-los. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// ... this.editor1 = editor.create(this.$refs.editor1, {theme: 'vs'}); this.editor2 = editor.create(this.$refs.editor2, {theme: 'vs-dark'}); // ... </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h3>  Excluir editor </h3><br>  Ao destruir uma janela de M√¥naco, voc√™ deve chamar o m√©todo de <code>dispose</code> , caso contr√°rio, todos os ouvintes n√£o ser√£o limpos e as janelas criadas depois disso poder√£o n√£o funcionar corretamente, reagindo a alguns eventos v√°rias vezes: <br><br><pre> <code class="javascript hljs">beforeDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.editor.dispose(); }</code> </pre> <br><h3>  Guias </h3><br>  As guias abertas no editor de arquivos usam a mesma janela do M√¥naco.  Para alternar entre eles, os m√©todos IStandaloneCodeEditor s√£o usados: <code>getModel</code> para salvar e <code>setModel</code> para atualizar o modelo do editor.  O modelo armazena texto, posi√ß√£o do cursor, hist√≥rico de a√ß√µes para desfazer refazer.  Para criar um modelo de um novo arquivo, o m√©todo global <code>editor.createModel(text: string, language: string)</code> √© usado.  Se o arquivo estiver vazio, voc√™ n√£o poder√° criar um modelo e passar <code>null</code> para <code>setModel</code> : <br><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'tabs'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'tab'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tab in tabs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">'</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tab.id</span></span></span><span class="hljs-tag">' @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'() =&gt; switchTab(tab.id)'</span></span></span><span class="hljs-tag">&gt;</span></span> {{tab.name}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {editor} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'monaco-editor'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> {Component, Prop, Vue} </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'vue-property-decorator'</span></span></span><span class="javascript">; @Component() </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> </span><span class="hljs-class"><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Monaco</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-keyword"><span class="javascript"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-class"><span class="hljs-title">Vue</span></span></span></span><span class="javascript"><span class="hljs-class"> </span></span></span><span class="javascript">{ private editor = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">; private tabs: [ {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'tab 1'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'const tab = 1;'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">model</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">active</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">}, {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">2</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'tab 2'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">text</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'const tab = 2;'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">model</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">null</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">active</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">} ]; mounted() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.editor = editor.create(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.$refs.editor); } private switchTab(id) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> activeTab = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.tabs.find(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">tab</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> tab.id === id); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (!activeTab.active) { </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//    (     )    const model = !activeTab.model &amp;&amp; activeTab.text ? editor.createModel(activeTab.text, 'javascript') : activeTab.model; //          this.tabs = this.tabs.map(tab =&gt; ({ ...tab, model: tab.active ? this.editor.getModel() : tab.model, active: tab.id === id })); //    this.editor.setModel(model); } } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><h3>  Modo Diff </h3><br>  Para o modo diff, voc√™ precisa usar outro m√©todo de <code>editor</code> ao criar a janela do editor - <code>createDiffEditor</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'diffEditor'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'editor'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> // ... mounted() { this.diffEditor = editor.createDiffEditor(this.$refs.diffEditor, config); } // ...</code> </pre> <br>  Ele usa os mesmos par√¢metros que o <code>editor.create</code> , mas a configura√ß√£o deve ter uma interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IDiffEditorConstructionOptions</a> , que √© um pouco diferente da configura√ß√£o regular do editor, em particular, n√£o possui <code>value</code> .  Os textos para compara√ß√£o s√£o definidos ap√≥s a cria√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IStandaloneDiffEditor</a> retornado via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">setModel</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.diffEditor.setModel({ <span class="hljs-attr"><span class="hljs-attr">original</span></span>: editor.createModel(<span class="hljs-string"><span class="hljs-string">'const a = 1;'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>), <span class="hljs-attr"><span class="hljs-attr">modified</span></span>: editor.createModel(<span class="hljs-string"><span class="hljs-string">'const a = 2;'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>) });</code> </pre> <br><br><h3>  Menu de contexto, paleta de comandos e teclas de atalho </h3><br>  O Monaco usa seu menu de contexto que n√£o √© do navegador, onde h√° navega√ß√£o inteligente, um cursor m√∫ltiplo para alterar todas as ocorr√™ncias e uma paleta de comandos, como no VS Code (paleta de comandos), com v√°rios comandos e atalhos √∫teis que aceleram a escrita do c√≥digo: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ka/ob/fa/kaobfagb3sdmtmikvocuai96die.png"></div><br><pre>  Menu de contexto M√¥naco </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/2s/_c/eg2s_c1kzyqi0eo4yhxo2o-sde4.png"></div><br><pre>  Paleta de comandos do M√¥naco </pre><br><br>  O menu de contexto √© expandido atrav√©s do m√©todo <code>addAction</code> (est√° dispon√≠vel no <code>IStandaloneCodeEditor</code> e no <code>IStandaloneDiffEditor</code> ), que aceita um objeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IActionDescriptor</a> : <br><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... &lt;div ref='diffEditor' :style='{display: isDiffOpened ? "block" : "none"}'&gt;&lt;/div&gt; // ... //  KeyCode  KeyMod     import {editor, KeyCode, KeyMod} from "monaco-editor"; // ... private editor = null; private diffEditor = null; private isDiffOpened = false; private get activeTab() { return this.tabs.find(tab =&gt; tab.active); } mounted() { this.diffEditor = editor.createDiffEditor(this.$refs.diffEditor); this.editor = editor.create(this.$refs.editor); this.editor.addAction({ //  ,     . contextMenuGroupId: '1_modification', //   : 1 - 'navigation', 2 - '1_modification', 3 - '9_cutcopypaste'; //    contextMenuOrder: 3, //       label: 'Show diff', id: 'showDiff', keybindings: [KeyMod.CtrlCmd + KeyMod.Shift + KeyCode.KEY_D], //   // ,     //    run: this.showDiffEditor }); } //      private showDiffEditor() { this.diffEditor.setModel({ original: this.activeTab.initialText, modified: this.activeTab.editedText }); this.isDiffOpened = true; }</span></span></code> </pre> <br></div></div><br>  Para vincular apenas um atalho a uma a√ß√£o sem mostr√°-lo no menu de contexto, o mesmo m√©todo √© usado, apenas o <code>contextMenuGroupId</code> a√ß√£o n√£o √© especificado: <br><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... //   private myActions = [ { contextMenuGroupId: '1_modification', contextMenuOrder: 3, label: &lt;string&gt;this.$t('scenarios.showDiff'), id: 'showDiff', keybindings: [KeyMod.CtrlCmd + KeyMod.Shift + KeyCode.KEY_D], run: this.showDiffEditor }, // ,   Ctrl + C + L      { label: 'Get content length', id: 'getContentLength', keybindings: [KeyMod.CtrlCmd + KeyCode.Key_C + KeyCode.Key_L], run: () =&gt; this.editor &amp;&amp; alert(this.editor.getValue().length) } ]; mounted() { this.editor = editor.create(this.$refs.editor); this.myActions.forEach(this.editor.addAction); //     }</span></span></code> </pre> <br></div></div><br>  A paleta de comandos incluir√° todas as a√ß√µes adicionadas. <br><br><h3>  Dicas e preenchimento autom√°tico </h3><br>  Para esses fins, o Monaco usa o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IntelliSense</a> , o que √© legal.  Voc√™ pode ler e ver nas imagens o link de quantas informa√ß√µes √∫teis ele pode mostrar.  Se o seu idioma ainda n√£o tiver um preenchimento autom√°tico, voc√™ poder√° adicion√°-lo atrav√©s do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">registerCompletionItemProvider</a> .  E para JS e TS, j√° existe um m√©todo <code>addExtraLib</code> que permite carregar defini√ß√µes TypeScript para dicas de ferramentas e preenchimento autom√°tico: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... import {languages} from "monaco-editor"; // ... // ,          private myAddedLib = null; mounted() { // languages     Monaco this.myAddedLib = languages.typescript.javascriptDefaults.addExtraLib('interface MyType {prop: string}', 'myLib'); } beforeDestroy() { //  ,   this.myAddedLib &amp;&amp; this.myAddedLib.dispose(); }</span></span></code> </pre> <br>  No primeiro par√¢metro, a linha passa as defini√ß√µes, no segundo, opcional, o nome da lib. <br><br><h3>  Temas e idiomas personalizados </h3><br>  O M√¥naco possui um m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Monarch</a> para determinar a sintaxe de seus idiomas.  A sintaxe √© descrita de maneira bastante padronizada: a correspond√™ncia entre os regulares e os tokens caracter√≠sticos desse idioma √© definida. <br><br><div class="spoiler">  <b class="spoiler_title">Ver c√≥digo</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... //  ,    : private myLanguage = { defaultToken: 'text', //  , brackets: [{ open: '(', close: ')', token: 'bracket.parenthesis' }], // ,   , keywords: [ 'autumn', 'winter', 'spring', 'summer' ], //     tokenizer: { root: [{ regex: /\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}/, action: { token: 'date' } }, { regex: /(boy|girl|man|woman|person)(\s[A-Za-z]+)/, action: ['text', 'variable'] } ] } }; mounted() { //     languages.register({ id: 'myLanguage' }); //      languages.setMonarchTokensProvider('myLanguage', this.myLanguage); // ... }</span></span></code> </pre> <br></div></div><br>  Voc√™ tamb√©m pode criar um tema para seus tokens - um objeto com a interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IStandaloneThemeData</a> - e instal√°-lo no <code>editor</code> global: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ... private myTheme = { base: 'vs', // ,      inherit: true, //       rules: [ {token: 'date', foreground: '22aacc'}, {token: 'variable', foreground: 'ff6600'}, {token: 'text', foreground: 'd4d4d4'}, {token: 'bracket', foreground: 'd4d4d4'} ] }; mounted() { editor.defineTheme('myTheme', this.myTheme); // ... }</span></span></code> </pre> <br>  Agora o texto no idioma descrito ficar√° assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gv/b-/3-/gvb-3-3by31loig9rdgmjoy0kb8.png"></div><br>  Voc√™ pode aplicar esse recurso, desde que tenha imagina√ß√£o suficiente.  Por exemplo, criamos um visualizador de log de chamadas em nosso painel para desenvolvedores.  Os logs geralmente s√£o longos e incompreens√≠veis, mas quando s√£o exibidos com destaque de sintaxe, pesquisa inteligente, linhas dobr√°veis ‚Äã‚Äã/ expans√≠veis, os comandos necess√°rios (por exemplo, par√¢metros de Prettify), destacando todas as linhas de chamada por seu ID ou traduzindo a hora no log para um fuso hor√°rio diferente e, em seguida, escavar torna-se muito mais f√°cil neles (a captura de tela √© clic√°vel): <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/4i/5v/rk/4i5vrkhe7g__s_mecfpytcf1gra.png"></a> </div><br><h3>  Conclus√£o </h3><br>  Em resumo, direi que M√¥naco √© fogo.  Depois de meses trabalhando com ele, tenho lembran√ßas excepcionalmente agrad√°veis.  Se voc√™ escolher um editor para o c√≥digo, n√£o deixe de ir ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Playground</a> e brincar com o c√≥digo, veja o que mais ele pode fazer.  Talvez seja exatamente isso que voc√™ est√° procurando. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt445390/">https://habr.com/ru/post/pt445390/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt445370/index.html">An√°lise TSDB em Prometheus 2</a></li>
<li><a href="../pt445372/index.html">Vis√£o de m√°quina versus intui√ß√£o humana: algoritmos para interromper a opera√ß√£o de programas de reconhecimento de objetos</a></li>
<li><a href="../pt445378/index.html">Labirintos: classifica√ß√£o, gera√ß√£o, busca de solu√ß√µes</a></li>
<li><a href="../pt445380/index.html">PHP moderno √© bonito e produtivo</a></li>
<li><a href="../pt445384/index.html">Miss√£o Chang'e-4 - equipamento cient√≠fico no m√≥dulo de aterragem e no sat√©lite repetidor</a></li>
<li><a href="../pt445392/index.html">Remarketing din√¢mico MyTarget: recomenda√ß√µes n√£o pessoais de produtos</a></li>
<li><a href="../pt445394/index.html">Altera√ß√µes no protocolo seguro 3D: conhe√ßa o 3-D Secure 2.0</a></li>
<li><a href="../pt445398/index.html">Gugology (isto n√£o √© um erro de digita√ß√£o) para programadores</a></li>
<li><a href="../pt445402/index.html">Disparar √† noite ou Por que carregar o produto - n√£o √© assustador</a></li>
<li><a href="../pt445406/index.html">Vis√£o geral do programa C ++ R√∫ssia 2019. Qual √© o pr√≥ximo dia para n√≥s?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>