<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôçÔ∏è üîâ ‚õÑÔ∏è Por que decidimos desenvolver a pr√°tica de teste de ML üèÇüèº üîß üéÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os servi√ßos preditivos e de otimiza√ß√£o baseados no Machine Learning s√£o de interesse para muitas empresas atualmente: de grandes bancos a pequenas loj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Por que decidimos desenvolver a pr√°tica de teste de ML</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/462679/"><img src="https://habrastorage.org/webt/jj/4m/8x/jj4m8xa_0bw0pikr53u3wm-pbdo.jpeg"><br><br>  Os servi√ßos preditivos e de otimiza√ß√£o baseados no Machine Learning s√£o de interesse para muitas empresas atualmente: de grandes bancos a pequenas lojas online.  Resolvendo os problemas de v√°rios clientes, encontramos v√°rios problemas, que serviram de base para nossas discuss√µes sobre os recursos dos testes de ML.  Para quem estiver interessado, este √© o pr√≥ximo post de Sergey Agaltsov, gerente de testes da Jet Infosystems. <br><a name="habracut"></a><br>  Anteriormente, apenas as grandes empresas podiam tirar proveito do aprendizado de m√°quina, pois era caro e dif√≠cil, e havia muito poucos dados no dom√≠nio p√∫blico.  Hoje ficou muito mais f√°cil.  A expertise ML pode ser solicitada a um integrador, empresa especializada ou em um site tem√°tico.  Isso √© bom para todos, porque, com o crescimento da experi√™ncia, novos algoritmos s√£o desenvolvidos, e o ‚Äúmealheiro da experi√™ncia‚Äù no campo do aprendizado de m√°quina √© constantemente enriquecido. <br><br>  O √∫nico aspecto para o qual n√£o encontramos uma solu√ß√£o pronta √© testar os servi√ßos de ML.  No Google, voc√™ pode garantir que, nos resultados da pesquisa, n√£o haja men√ß√£o das atividades dos testadores no desenvolvimento de tais servi√ßos.  Obviamente, os pr√≥prios especialistas em ci√™ncia de dados testam seus modelos usando v√°rias m√©tricas e, de acordo com essas m√©tricas, o servi√ßo pode ser o mais preciso poss√≠vel, no entanto, a realidade √© que o modelo nem sempre √© capaz de levar em considera√ß√£o v√°rias nuances e gargalos de produ√ß√£o.  Ent√£o, a l√≥gica do aprendizado de m√°quina come√ßa a se transformar em um c√≥digo r√≠gido. <br><br>  Nesse sentido, estamos come√ßando a enfrentar v√°rios problemas: <br><br><ul><li>  Nosso modelo de otimiza√ß√£o sempre leva em considera√ß√£o poss√≠veis restri√ß√µes de produ√ß√£o? <br></li><li>  Nossos modelos s√£o capazes de trabalhar com gargalos? <br></li><li>  Nosso modelo √© capaz de responder corretamente √†s mudan√ßas na produ√ß√£o? <br></li></ul><br>  Foi aqui que decidimos focar a equipe de teste. <br><br>  Nossa tarefa √© unificar a pr√°tica de teste de ML para poder responder a todos os problemas acima.  No momento, chegamos a v√°rias conclus√µes e agora vou lhe dizer quais. <br><br>
<h3>  Teste a conformidade com as restri√ß√µes e requisitos de produ√ß√£o para considera√ß√£o pelo algoritmo de otimiza√ß√£o </h3><br>  Nos testes cl√°ssicos, em qualquer teste, sempre temos um "resultado esperado".  N√≥s sabemos perfeitamente qual deve ser a rea√ß√£o do sistema em um ou outro dos dados de entrada.  No entanto, se estamos falando de ML em ambientes de produ√ß√£o, esse resultado mais esperado pode ser a conformidade com documentos regulamentares, como GOSTs, instru√ß√µes tecnol√≥gicas e fluxogramas tempor√°rios, que limitam os pr√≥prios processos de produ√ß√£o e os crit√©rios de qualidade do produto final.  Durante o teste, precisamos ter certeza de que todas essas restri√ß√µes s√£o realmente observadas e, apesar do n√∫mero, temos certeza de que cada uma delas √© coberta por casos de teste. <br><br>  No exemplo de um projeto real para otimizar a produ√ß√£o dos materiais N (ainda n√£o divulgamos o caso, usaremos nomes an√¥nimos), resolvemos esse problema da seguinte maneira: <br><br><ul><li>  Classificamos todos os tipos de misturas de materiais N pelo n√≠vel de elementos qu√≠micos neles.  Como resultado, obtivemos uma lista, que mais tarde planejamos usar como um aux√≠lio para garantir uma cobertura de teste suficiente. <br></li><li>  Est√°vamos convencidos de que as recomenda√ß√µes emitidas pelo modelo para todas essas misturas eram de fato incondicionalmente aceitas pelos t√©cnicos de produ√ß√£o e registramos o resultado desse problema em um arquivo CSV.  Assim, recebemos recomenda√ß√µes do sistema de um certo "padr√£o ouro". <br></li><li>  Em seguida, foi escrito um script que executava a lista de nossas misturas de refer√™ncia atrav√©s do modelo de vers√£o para vers√£o e comparava o resultado de sua entrega com o que estava armazenado em nosso "padr√£o ouro" csv. <br></li><li>  Se nenhuma mudan√ßa no comportamento do modelo for detectada, os testes de regress√£o poder√£o ser considerados bem-sucedidos.  Caso contr√°rio, um "interrogat√≥rio" foi realizado. <br></li></ul><br>  Assim, fomos capazes de resolver o problema do teste de regress√£o e ganhar confian√ßa de que as altera√ß√µes introduzidas no modelo n√£o afetam os resultados anteriores do nosso trabalho. <br><br><h3>  Testes focados em gargalos </h3><br>  Os modelos de otimiza√ß√£o s√£o mais capazes de prever o que √© encontrado com mais frequ√™ncia nos dados hist√≥ricos e, inversamente, um modelo pode ‚Äúse transformar em ab√≥bora‚Äù assim que encontrar algo incomum para si. <br><br>  Freq√ºentemente, nesses casos, o servi√ßo de otimiza√ß√£o precisa "solicitar" um modelo de comportamento adequado e isso gera o c√≥digo r√≠gido que eu escrevi anteriormente.  Mas como identificar esses gargalos e depurar o servi√ßo?  Vou falar sobre isso no exemplo do desenvolvimento de um servi√ßo para recomenda√ß√µes sobre o gerenciamento da produ√ß√£o do material N (o caso ainda n√£o est√° sujeito √† divulga√ß√£o, portanto, os nomes velados s√£o mencionados abaixo). <br><br>  Primeiro, nosso arquiteto desenvolveu um emulador de integra√ß√£o que gerou dados semelhantes aos produtivos e, assim, preencheu o per√≠odo, com base no qual o modelo de otimiza√ß√£o emitiu recomenda√ß√µes para o processamento do material N. Em seguida, o testador analisou essas recomenda√ß√µes e identificou as mais suspeitas - aquelas que foram eliminadas par√¢metros recomendados para o fluxo m√°ssico total.  J√° nessa fase, conseguimos identificar muitos problemas quando o modelo, de uma maneira ou de outra, n√£o conseguia processar adequadamente o fluxo de dados recebidos.  Isso nos permitiu estabilizar o estado do servi√ßo e seguir para a pr√≥xima etapa. <br><br>  A segunda etapa foi o teste "Sil√™ncio".  O servi√ßo foi criado no ambiente de produ√ß√£o em segundo plano.  Ele trabalhou sem distrair o operador de processamento de material N do controle da m√°quina e, por sua vez, coletamos "solu√ß√µes de operador", comparando-as com o que o servi√ßo recomendava.  Devido a isso, encontramos os pontos cegos do modelo que n√£o puderam ser capturados no est√°gio anterior. <br><br><h4>  O modelo deve ser capaz de responder √†s altera√ß√µes de produ√ß√£o. </h4><br>  Temos um portf√≥lio de servi√ßos em nosso portf√≥lio de projetos para otimizar a produ√ß√£o de materiais combust√≠veis.  A ess√™ncia do servi√ßo √© que o tecn√≥logo transfere o estoque dos componentes de produ√ß√£o para o modelo, define os indicadores limitantes da qualidade do produto e define o plano de produ√ß√£o necess√°rio e, em resposta, recebe uma recomenda√ß√£o: em que propor√ß√µes ele precisa usar determinados componentes para obter o combust√≠vel da quantidade especificada qualidade. <br><br>  No processo de desenvolvimento desse servi√ßo, encontramos um problema curioso que n√£o pod√≠amos prever com anteced√™ncia. <br><br>  Durante v√°rios anos, a empresa na produ√ß√£o de combust√≠vel trabalhou em um certo intervalo de rota√ß√µes agregadas e, ao mesmo tempo, usou mais / menos a mesma propor√ß√£o de componentes. <br><br>  Recentemente, por√©m, a organiza√ß√£o mudou o fornecimento desses componentes e tornou-se poss√≠vel compensar esse fato aumentando a velocidade das unidades.  O cliente esperava que o modelo fosse capaz de responder a essas mudan√ßas, portanto, do ponto de vista da produ√ß√£o tecnol√≥gica - essa √© uma solu√ß√£o aceit√°vel, mas isso n√£o aconteceu.  Porque  A resposta √© √≥bvia - o modelo foi treinado em uma amostra hist√≥rica, onde isso n√£o havia acontecido antes.  Voc√™ pode discutir por um longo tempo sobre quem est√° certo nesta situa√ß√£o e quem √© o culpado, mas no futuro planejamos reduzir a probabilidade de tais situa√ß√µes, como a seguir: <br><br><ol><li>  Trabalhe mais de perto com o representante do cliente da unidade de produ√ß√£o para identificar gargalos e poss√≠veis altera√ß√µes no produto. <br></li><li>  Cubra casos de teste com casos semelhantes com anteced√™ncia. <br></li><li>  Escreva autotestes para verificar a conformidade com as restri√ß√µes de produ√ß√£o e a correla√ß√£o de sinais. <br></li></ol><br>  Apenas algumas palavras sobre as ferramentas de teste que tivemos que usar: <br><br><ul><li>  rastreamento de bugs - Jira, <br></li><li>  sistema de gest√£o da qualidade - Test Rail, <br></li><li>  sistema de controle de vers√£o - GitLab, <br></li><li>  CI / CD - Jenkins, <br></li><li>  autotests - Java + Junit / TestNG, <br></li><li>  scripts para intera√ß√£o direta com o modelo - Python + Jupyter. <br></li></ul><br><h2>  Voc√™ testa ML? </h2><br>  Para n√≥s, a constru√ß√£o de uma pr√°tica de teste de ML tornou-se um desafio; na verdade, foi preciso crescer do zero.  Mas o teste √© necess√°rio - ajuda a reduzir o n√∫mero de erros antes de iniciar a opera√ß√£o de teste e a diminuir o tempo de implementa√ß√£o. <br><br>  Hoje, todos precisamos compartilhar e trocar experi√™ncias.  √â necess√°rio iniciar discuss√µes sobre testes em sites especializados e f√≥runs profissionais, que, a prop√≥sito, est√£o se tornando cada vez mais no campo da ML.  E se voc√™ j√° estabeleceu pr√°ticas para testar o ML, acho que todos estar√£o interessados ‚Äã‚Äãem ler sobre eles, ent√£o compartilhe sua experi√™ncia nos coment√°rios. <br><br>  <i>Sergey Agaltsov, Gerente de Testes, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt462679/">https://habr.com/ru/post/pt462679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt462667/index.html">Galaxy Guide DevOpsConf 2019</a></li>
<li><a href="../pt462671/index.html">Infraestrutura da empresa como produto</a></li>
<li><a href="../pt462673/index.html">Pedra, tesoura, papel, entrevistas de emprego, Spock</a></li>
<li><a href="../pt462675/index.html">Decep√ß√£o da informa√ß√£o</a></li>
<li><a href="../pt462677/index.html">Vepp - novo painel de controle de servidor e site do ISPsystem</a></li>
<li><a href="../pt462681/index.html">Como Chris Zhukovsky estudou o suporte ao cliente para seus jogos no aeroporto</a></li>
<li><a href="../pt462685/index.html">No caminho para aplicativos dur√°veis ‚Äã‚Äãusando o exemplo de gerador de site est√°tico PSKOV</a></li>
<li><a href="../pt462687/index.html">Novo painel de controle de hospedagem do ISPsystem: como ver</a></li>
<li><a href="../pt462689/index.html">DISKOBALL: competi√ß√µes de lan√ßamento de HDD, 23 de agosto de Moscou</a></li>
<li><a href="../pt462691/index.html">Como migrar do AD para o LDAP ao usar o Zimbra</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>