<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéø ü•§ üôÜüèº Captura de tela no Chrome - preparando-se para getDisplayMedia ‚òùüèΩ üë©‚Äçüëß‚Äçüë¶ üë©‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Chrome Web Store decidiu proibir a instala√ß√£o embutida de extens√µes para o Chrome. Isso est√° diretamente relacionado aos aplicativos WebRTC, pois ag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Captura de tela no Chrome - preparando-se para getDisplayMedia</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/415201/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/li/a0/cflia08iiqb4uw0psbbt0dpdisg.gif"></div><br>  A Chrome Web Store decidiu proibir a instala√ß√£o embutida de extens√µes para o Chrome.  Isso est√° diretamente relacionado aos aplicativos WebRTC, pois agora voc√™ precisa de uma extens√£o para capturas de tela no Chrome.  A <b>API getDisplayMedia</b> ser√° <b>√∫til</b> ? <br><a name="habracut"></a><br><h3>  Captura de tela no Chrome </h3><br>  Quando esse recurso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apareceu no Chrome 33</a> , ele precisava de uma extens√£o para funcionar - para resolver problemas de seguran√ßa.  Esse m√©todo √© melhor que o anterior, quando as capturas de tela foram ocultadas sob uma bandeira, por causa de quais sites pediram aos usu√°rios para ativ√°-la ... O que levou a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mensagens de seguran√ßa p√∫blica</a> . <br><br>  O Chrome n√£o mudou muito desde 2013.  Os requisitos de extens√£o adicionaram dificuldades ao processo de compartilhamento, mas gra√ßas √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">instala√ß√£o em linha</a> , que simplificou a vida √∫til: <br><br><ul><li>  o usu√°rio clica em um bot√£o para iniciar uma captura de tela; </li><li>  O aplicativo da web determina que o Chrome est√° sendo usado e que a extens√£o desejada n√£o est√° instalada; </li><li>  o aplicativo Web inicia a instala√ß√£o embutida, resolve com √™xito o retorno de chamada; </li><li>  no Chrome, uma janela de escolha aparece exatamente o que o usu√°rio deseja compartilhar. </li></ul><br>  Detalhes da implementa√ß√£o podem ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">encontrados aqui</a> . <br><br>  A caixa de sele√ß√£o √© um elemento chave aqui.  √â seguro us√°-lo sem uma rede da Web Store? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nz/zb/0x/nzzb0xkttsmaiqofapnsajxhow8.png"></div><br>  Nesse caso, o compartilhamento de uma guia √© particularmente intrigante, pois viola o princ√≠pio do sandbox para scripts de "origem cruzada". <br><br><h3>  Captura de tela do Firefox </h3><br>  O Firefox tem uma abordagem diferente - uma lista branca de sites que t√™m permiss√£o para usar a API.  Para entrar nessa lista, o site deve fazer uma solicita√ß√£o √† Mozilla e mostrar que ela possui os Termos de Servi√ßo e a pol√≠tica de privacidade.  Voc√™ pode modificar a lista de permiss√µes usando a extens√£o.  A necessidade dessa lista desapareceu com o lan√ßamento do Firefox 52, quando qualquer fonte confirmada teve permiss√£o para usar capturas de tela.  A nova <b>API getDisplayMedia</b> ainda n√£o √© usada <b>aqui</b> , sobre a qual falaremos em breve, mas a implementa√ß√£o √© quase a mesma: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/a8edc8bc9f9ef412bb18cf50a8573168.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90377994" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-screensharing-ff-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-screensharing-ff-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-screensharing-ff-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">navigator</span><span class="pl-kos">.</span><span class="pl-c1">mediaDevices</span><span class="pl-kos">.</span><span class="pl-en">getUserMedia</span><span class="pl-kos">(</span><span class="pl-kos">{</span><span class="pl-c1">video</span>: <span class="pl-kos">{</span><span class="pl-c1">mediaSource</span>: <span class="pl-s">'screen'</span><span class="pl-kos">}</span><span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-screensharing-ff-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">stream</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-screensharing-ff-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    ,     </span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-screensharing-ff-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">videoElement</span><span class="pl-kos">.</span><span class="pl-c1">srcObject</span> <span class="pl-c1">=</span> <span class="pl-s1">stream</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-screensharing-ff-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">,</span> <span class="pl-s1">error</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-screensharing-ff-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">"    "</span><span class="pl-kos">,</span> <span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-screensharing-ff-js-LC7" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">screensharing-ff.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Como resultado, a implementa√ß√£o ser√° alterada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para atender √†s especifica√ß√µes</a> . <br><br><h3>  API getDisplayMedia </h3><br>  O W3C Consortium est√° trabalhando para padronizar a API de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">captura de tela</a> .  √â relativamente simples e baseado em promessas, como <b>getUserMedia</b> : <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/02966f2508ecbfe5c4965057ab14c10f.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90378054" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-example1-spec-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-example1-spec-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-example1-spec-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c">//    1  Screen Capture API </span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-example1-spec-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">navigator</span><span class="pl-kos">.</span><span class="pl-en">getDisplayMedia</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">video</span>: <span class="pl-c1">true</span> <span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-example1-spec-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">stream</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-example1-spec-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    ,     </span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-example1-spec-js-LC5" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">videoElement</span><span class="pl-kos">.</span><span class="pl-c1">srcObject</span> <span class="pl-c1">=</span> <span class="pl-s1">stream</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-example1-spec-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">,</span> <span class="pl-s1">error</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-example1-spec-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">"    "</span><span class="pl-kos">,</span> <span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-example1-spec-js-LC8" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">example1-spec.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  O Microsoft EDGE j√° lan√ßou capturas de tela este ano.  O cen√°rio de uso √© pensado muito bem, com a adi√ß√£o de uma moldura amarela em torno da √°rea que o usu√°rio compartilha: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5q/eh/ti/5qehtirocb81wyu-bvojjpvilng.png"></div><br>  <font color="lightgray">Captura de tela da janela no Edge.</font>  <font color="lightgray">Preste aten√ß√£o ao quadro amarelo que destaca exatamente o que √© compartilhado.</font> <br><br><h3>  Os tempos mudam e as extens√µes do Chrome com eles </h3><br>  Falando da experi√™ncia do usu√°rio, a extens√£o appear.in funciona como descrito acima e possui mais de um milh√£o de instala√ß√µes.  A grande maioria dos usu√°rios passou por uma instala√ß√£o embutida, e h√° muitos deles que as capturas de tela da extens√£o na Chrome Web Store n√£o s√£o atualizadas desde ... provavelmente 2014. <br><br>  Como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">blog</a> da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chrome Web Store diz</a> , eles agora est√£o cortando uma instala√ß√£o embutida.  Foi uma grande surpresa, eu aprendi sobre isso gra√ßas ao antigo problema do Chrome - para tornar as capturas de tela mais acess√≠veis (gra√ßas a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wilhelm Wanecek</a> pela dica). <br><br>  Se eu entendi corretamente, isso levar√° √† abertura da Chrome Web Store em uma guia separada.  Na parte do aplicativo da Web, ser√° mais dif√≠cil determinar quando o usu√°rio instalou a extens√£o, ser√° necess√°rio usar pesquisas ou um tempo limite.  Os seguintes termos s√£o indicados na postagem: <br><br><ul><li>  Uma instala√ß√£o em linha n√£o estar√° dispon√≠vel para novas extens√µes a partir de 12 de junho.  Sem aviso pr√©vio; </li><li>  para extens√µes j√° publicadas, a instala√ß√£o em linha estar√° dispon√≠vel at√© 12 de setembro.  Aviso pr√©vio - com tr√™s meses de anteced√™ncia. </li></ul><br><h3>  Reivindica√ß√µes </h3><br>  Definitivamente, existem problemas aqui.  E nem estou falando do Google Hangouts / Meet, que evita completamente as dificuldades de experi√™ncia do usu√°rio com as quais todos os outros precisam lidar com a extens√£o incorporada.  Os caras do Chrome <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">j√°</a> est√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">torcendo as m√£os</a> . <br><br>  Gostaria de receber algumas not√≠cias da equipe da Chrome Web Store com anteced√™ncia (a carta chegou cerca de 24 horas ap√≥s a postagem do blog).  A extens√£o appear.in tem mais de um milh√£o de usu√°rios, o que a torna uma das mais populares para capturas de tela.  Nossos usu√°rios confiam em nosso site, ou seja, eles nos d√£o acesso a seus microfones e c√¢meras.  Usar uma instala√ß√£o embutida com base nessa confian√ßa √© provavelmente mais seguro do que instalar na Chrome Web Store.  Tamb√©m recorremos ao suporte da Web Store para remover c√≥pias ilegais da extens√£o, que centenas de usu√°rios se definiram repetidamente. <br><br>  E seria √≥timo se os caras do Google nos avisassem. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/jt/vw/sbjtvwg_upyhtugmunhy2unkwva.png"></div><br>  A conta <b>@webrtc</b> mencionou a inten√ß√£o de lan√ßar o <b>getDisplayMedia</b> em resposta a altera√ß√µes na pol√≠tica de instala√ß√£o em linha. <br><br>  O caminho para o Chrome √© o lan√ßamento do <b>getDisplayMedia</b> .  "Inten√ß√£o de lan√ßar" foi publicado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">logo ap√≥s as principais not√≠cias</a> .  No entanto, dado o ciclo de lan√ßamento do Chrome, levar√° v√°rias semanas.  Essa √© uma altera√ß√£o n√£o trivial nas disposi√ß√µes de seguran√ßa e nos cen√°rios dos usu√°rios; portanto, √© duvidoso que isso ocorra antes do prazo de 12 de setembro.  O ponto de ramifica√ß√£o do Chrome 69, que ser√° lan√ßado em 12 de setembro, √© dentro de um m√™s. <br><br>  A situa√ß√£o com o Chrome √© complicada pelo fato de agora o compartilhamento de guias ser permitido, mas com uma limita√ß√£o na escolha da exibi√ß√£o para o usu√°rio.  O compartilhamento de sa√≠da de √°udio √© suportado no Chrome, mas nem na especifica√ß√£o <b>getDisplayMedia</b> . <br><br><h3>  Como se preparar para as altera√ß√µes no Chrome </h3><br>  O c√≥digo relacionado ao suporte da <b>getDisplayMedia</b> √© relativamente simples.  Normalmente, uma chamada para esta API √© igual a <b>getUserMedia</b> com o argumento <b>mediaSource</b> chamado no Firefox.  Para determinar se esse recurso est√° dispon√≠vel √© f√°cil, √© necess√°rio verificar se <b>existe getDisplayMedia</b> e us√°-lo com prioridade, se dispon√≠vel: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/160f7f047299563404e670394532a7d6.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90378204" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-check-getdisplaymedia-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-check-getdisplaymedia-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-check-getdisplaymedia-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s">'getDisplayMedia'</span> <span class="pl-k">in</span> <span class="pl-smi">window</span><span class="pl-kos">.</span><span class="pl-c1">navigator</span><span class="pl-kos">)</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-check-getdisplaymedia-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  getDisplayMedia</span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-check-getdisplaymedia-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-kos">}</span> <span class="pl-k">else</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-check-getdisplaymedia-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//     </span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-check-getdisplaymedia-js-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-kos">}</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">check-getDisplayMedia.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Ainda n√£o est√° claro como indicar a taxa de quadros.  O uso de <b>applyConstraints</b> no <b>MediaStreamTrack</b> retornado funciona para <b>getUserMedia</b> e provavelmente funcionar√° para <b>getDisplayMedia</b> : <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/19d2379e3f8921b5840c07a4ec86f90f.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90378223" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-frame-rate-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-frame-rate-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-frame-rate-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">navigator</span><span class="pl-kos">.</span><span class="pl-en">getDisplayMedia</span><span class="pl-kos">(</span><span class="pl-kos">{</span><span class="pl-c1">video</span>: <span class="pl-c1">true</span><span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-frame-rate-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">stream</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-frame-rate-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">stream</span><span class="pl-kos">.</span><span class="pl-en">getTracks</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">.</span><span class="pl-en">applyConstraints</span><span class="pl-kos">(</span><span class="pl-kos">{</span><span class="pl-c1">frameRate</span>: <span class="pl-c1">5</span><span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-frame-rate-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s1">stream</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-frame-rate-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">frame-rate.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Os detalhes est√£o no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rastreador de especifica√ß√µes</a> . <br><br>  Infelizmente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adapter.js</a> n√£o pode inserir <b>getDisplayMedia</b> , pois a intera√ß√£o com cada extens√£o √© implementada de maneira um pouco diferente. <br><br><h3>  Mais e mais alto </h3><br>  Monitoro cuidadosamente se os desenvolvedores do WebRTC do Google podem influenciar o prazo para instala√ß√µes em linha ou lan√ßar o <b>getDisplayMedia no</b> prazo.  O desenvolvimento sob a web √†s vezes √© confuso, sim, mas como regra, no final, vemos um bom resultado.  Estamos aguardando o final desta hist√≥ria e teremos o maior prazer em dizer adeus √†s nossas extens√µes. <br><br><hr><br><h3>  Captura de tela no Voximplant </h3><br>  Tamb√©m temos uma captura de tela que funciona com √™xito no Chrome.  No entanto, embora ningu√©m tenha se despedido das extens√µes, fa√ßa o seguinte: <br><br><ol><li>  Fa√ßa o download da extens√£o em nosso reposit√≥rio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/voximplant/voximplant-chrome-extension</a> </li><li>  V√° para a pasta em que a extens√£o foi baixada, abra o <b>manifest.json</b> e adicione o URL do seu site √† se√ß√£o de <b>correspond√™ncias</b> . </li><li>  Na nova guia Chrome, insira <b>chrome: // extensions</b> , ative o modo de desenvolvedor e carregue a extens√£o da pasta. </li></ol><br>  Ent√£o voc√™ instala a vers√£o dev da extens√£o.  √â mais conveniente para os usu√°rios finais se voc√™ publicar a extens√£o na Googe Web Store.  Sobre isso, al√©m de como usar capturas de tela em nossa plataforma, voc√™ pode ler em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nosso Como Fazer</a> .  Tenha um bom compartilhamento! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt415201/">https://habr.com/ru/post/pt415201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt415191/index.html">Novo Campeonato ML Boot Camp VI. Previs√£o da resposta do p√∫blico √† pesquisa on-line</a></li>
<li><a href="../pt415193/index.html">Tradu√ß√£o: Por que o FI √© importante mesmo para programadores de POO?</a></li>
<li><a href="../pt415195/index.html">N√£o √© a √∫nica capital: NORBIT abre escrit√≥rios de desenvolvimento nas regi√µes</a></li>
<li><a href="../pt415197/index.html">O cora√ß√£o do smartphone: qual SoC escolher</a></li>
<li><a href="../pt415199/index.html">OpenStack: toda a verdade sobre o lan√ßamento "real"</a></li>
<li><a href="../pt415203/index.html">Como chegar √† AppStore pela primeira vez: um guia passo a passo</a></li>
<li><a href="../pt415205/index.html">Pergunte a Ethan: As civiliza√ß√µes futuras sentir√£o falta do Big Bang?</a></li>
<li><a href="../pt415207/index.html">Quando o c√©u perdeu a perfei√ß√£o</a></li>
<li><a href="../pt415209/index.html">‚ÄúEu precisava guardar uma sala vazia‚Äù: o surgimento de empregos sem sentido</a></li>
<li><a href="../pt415211/index.html">Via L√°ctea esconde dezenas de milhares de buracos negros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>