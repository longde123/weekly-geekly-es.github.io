<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçΩÔ∏è üîû üåØ O que vamos medir? Como escolher as m√©tricas corretas de ML para tarefas de neg√≥cios üí® üßùüèΩ ü§∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, um dos principais obst√°culos √† introdu√ß√£o do aprendizado de m√°quina nos neg√≥cios √© a incompatibilidade das m√©tricas e indicadores de ML com os q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O que vamos medir? Como escolher as m√©tricas corretas de ML para tarefas de neg√≥cios</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/420261/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/k8/mj/jt/k8mjjtq0jd8rwapyfx55yetkrni.png"></div><br><br>  Hoje, um dos principais obst√°culos √† introdu√ß√£o do aprendizado de m√°quina nos neg√≥cios √© a incompatibilidade das m√©tricas e indicadores de ML com os quais a alta administra√ß√£o opera.  Analista prev√™ aumento de lucro?  Mas voc√™ precisa entender em quais casos o aprendizado de m√°quina se tornar√° a causa do aumento e em quais outros fatores.  Infelizmente, muitas vezes a melhoria nas m√©tricas de ML n√£o leva ao crescimento do lucro.  Al√©m disso, √†s vezes a complexidade dos dados √© tal que at√© desenvolvedores experientes podem escolher m√©tricas incorretas que n√£o podem ser orientadas. <br><br>  Vejamos o que s√£o m√©tricas de ML e quando s√£o apropriadas para uso.  Analisaremos erros comuns e discutiremos quais op√ß√µes para definir o problema podem ser adequadas para aprendizado de m√°quina e neg√≥cios. <br><a name="habracut"></a><br><h2>  M√©tricas de ML: por que existem tantas? </h2><br>  As m√©tricas de aprendizado de m√°quina s√£o muito espec√≠ficas e geralmente enganosas, mostrando uma <s>boa cara em um jogo ruim, um</s> bom resultado para modelos ruins.  Para testar modelos e aprimor√°-los, voc√™ precisa escolher uma m√©trica que reflita adequadamente a qualidade do modelo e como mensur√°-lo.  Geralmente, um conjunto de dados de teste separado √© usado para avaliar a qualidade do modelo.  E, como voc√™ sabe, escolher a m√©trica certa √© uma tarefa dif√≠cil. <br><br>  Quais s√£o as tarefas mais frequentemente resolvidas com a ajuda do aprendizado de m√°quina?  Primeiro de tudo, isso √© regress√£o, classifica√ß√£o e agrupamento.  Os dois primeiros s√£o o chamado treinamento com o professor: existe um conjunto de dados rotulados, com base em alguma experi√™ncia, √© necess√°rio prever o valor definido.  A regress√£o √© uma previs√£o de algum valor: por exemplo, quanto o cliente comprar√°, qual √© a resist√™ncia ao desgaste do material, quantos quil√¥metros o carro percorrer√° antes da primeira falha. <br><br>  Clustering √© a defini√ß√£o de uma estrutura de dados destacando clusters (por exemplo, categorias de clientes) e n√£o temos suposi√ß√µes sobre esses clusters.  N√£o consideraremos esse tipo de problema. <br><br>  Os algoritmos de aprendizado de m√°quina otimizam (calculando a fun√ß√£o de perda) a m√©trica matem√°tica - a diferen√ßa entre a previs√£o do modelo e o valor real.  Mas se a m√©trica for a soma dos desvios, com o mesmo n√∫mero de desvios em ambas as dire√ß√µes, essa soma ser√° zero e simplesmente n√£o saberemos se h√° um erro.  Portanto, eles geralmente usam o absoluto m√©dio (a soma dos valores absolutos dos desvios) ou o erro quadr√°tico m√©dio (a soma dos quadrados dos desvios em rela√ß√£o ao valor verdadeiro).  √Äs vezes, a f√≥rmula √© complicada: pegue o logaritmo ou extraia a raiz quadrada dessas somas.  Gra√ßas a essas m√©tricas, voc√™ pode avaliar a din√¢mica da qualidade dos c√°lculos do modelo, mas para isso √© necess√°rio comparar o resultado com algo. <br><br>  Isso n√£o ser√° dif√≠cil se j√° houver um modelo constru√≠do com o qual comparar os resultados.  Mas e se a primeira vez que voc√™ criou um modelo?  Nesse caso, o coeficiente de determina√ß√£o, ou R2, √© frequentemente usado.  O coeficiente de determina√ß√£o √© expresso como: <br><br><img src="https://habrastorage.org/webt/1l/jx/8f/1ljx8f01udssbbmkzdcaywtiymg.png" width="285"><br><br>  Onde: <br>  R ^ 2 - coeficiente de determina√ß√£o, <br>  e <sub>t</sub> ^ 2 √© o erro quadr√°tico m√©dio, <br>  y <sub>t</sub> √© o valor correto, <br>  y <sub>t</sub> com uma capa √© o valor m√©dio. <br><br>  <i>Unidade menos a raz√£o entre o erro quadrado m√©dio do modelo e o erro quadrado m√©dio do valor m√©dio da amostra de teste.</i> <br><br>  Ou seja, o coeficiente de determina√ß√£o permite avaliar a melhoria da previs√£o pelo modelo. <br><br>  √Äs vezes acontece que um erro em uma dire√ß√£o n√£o √© equivalente a um erro na outra.  Por exemplo, se um modelo prev√™ um pedido de mercadorias no armaz√©m de um armaz√©m, √© bem poss√≠vel cometer um erro e pedir um pouco mais, as mercadorias aguardar√£o o tempo no armaz√©m.  E se o modelo cometer um erro de outra maneira e pedir menos, poder√° perder clientes.  Nesses casos, √© utilizado um erro quantil: desvios positivos e negativos do valor real s√£o levados em considera√ß√£o com pesos diferentes. <br><br>  No problema de classifica√ß√£o, o modelo de aprendizado de m√°quina distribui objetos em duas classes: o usu√°rio sai do site ou n√£o sai, a pe√ßa est√° com defeito ou n√£o, etc.  A precis√£o da previs√£o geralmente √© estimada como a raz√£o entre o n√∫mero de classes definidas corretamente e o n√∫mero total de previs√µes.  No entanto, essa caracter√≠stica raramente pode ser considerada um par√¢metro adequado. <br><br><img src="https://habrastorage.org/webt/g2/ey/4n/g2ey4nmyii6je2pd8u-qpzugaia.png"><br>  <i>Fig.</i>  <i>1. Matriz de erro para o problema de previs√£o de retorno do cliente</i> <br><br>  <b>Exemplo</b> : se 7 em cada 100 pessoas seguradas solicitarem uma indeniza√ß√£o, o modelo que prev√™ a aus√™ncia de um evento segurado ter√° uma precis√£o de 93% sem nenhum poder preditivo. <br><br><img src="https://habrastorage.org/webt/vs/sa/ms/vssamsgu8svhesbvt-vx98dtfqg.png" width="600"><br>  <i>Fig.</i>  <i>2. Um exemplo da depend√™ncia do lucro real da empresa na precis√£o do modelo no caso de classes desequilibradas</i> <br><br>  Para algumas tarefas, voc√™ pode aplicar as m√©tricas de integridade (o n√∫mero de objetos definidos corretamente da classe entre todos os objetos desta classe) e precis√£o (o n√∫mero de objetos definidos corretamente da classe entre todos os objetos que o modelo atribuiu a essa classe).  Se for necess√°rio levar em considera√ß√£o a integridade e a precis√£o, aplique a m√©dia harm√¥nica entre esses valores (medida F1). <br><br>  Usando essas m√©tricas, voc√™ pode avaliar as classifica√ß√µes executadas.  No entanto, muitos modelos prev√™em a probabilidade do relacionamento de um modelo com uma classe espec√≠fica.  Desse ponto de vista, √© poss√≠vel alterar o limite de probabilidade com rela√ß√£o ao qual os elementos ser√£o atribu√≠dos a uma ou outra classe (por exemplo, se o cliente sair com uma probabilidade de 60%, ent√£o poder√° ser considerado restante).  Se um limite espec√≠fico n√£o for definido, para avaliar a efic√°cia do modelo, √© poss√≠vel construir um gr√°fico da depend√™ncia de m√©tricas em diferentes valores de limite ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">curva ROC ou curva PR</a> ), tomando como m√©trica a √°rea sob a curva selecionada. <br><br><img src="https://habrastorage.org/webt/au/1v/oc/au1vocrxei1k6ejxck3lv0agsxc.png"><br>  <i>Fig.</i>  <i>3. curva PR</i> <br><br><h2>  M√©tricas de neg√≥cios </h2><br>  Alegoricamente falando, as m√©tricas de neg√≥cios s√£o elefantes: elas n√£o podem ser negligenciadas e, em um desses "elefantes", um grande n√∫mero de "papagaios" de aprendizado de m√°quina pode ser adequado.  A resposta √† pergunta sobre quais m√©tricas de ML aumentar√£o os lucros depende da melhoria.  De fato, as m√©tricas de neg√≥cios est√£o de alguma forma ligadas ao aumento dos lucros, mas quase nunca conseguimos associar diretamente os lucros a elas.  M√©tricas intermedi√°rias s√£o comumente usadas, por exemplo: <br><br><ul><li>  a dura√ß√£o das mercadorias em estoque e o n√∫mero de solicita√ß√µes de mercadorias quando elas n√£o est√£o dispon√≠veis; </li><li>  a quantidade de dinheiro que os clientes est√£o prestes a deixar; </li><li>  a quantidade de material que √© salva no processo de fabrica√ß√£o. </li></ul><br>  Quando se trata de otimizar um neg√≥cio usando o aprendizado de m√°quina, a cria√ß√£o de dois modelos est√° sempre impl√≠cita: preditivo e otimiza√ß√£o. <br><br>  O primeiro √© mais complicado, o segundo usa seus resultados.  Os erros no modelo de previs√£o nos for√ßam a estabelecer uma margem maior no modelo de otimiza√ß√£o, portanto, o valor otimizado √© reduzido. <br><br>  <b>Exemplo</b> : quanto menor a precis√£o de prever o comportamento do cliente ou a probabilidade de defeitos industriais, menor o n√∫mero de clientes capazes de manter e menor a quantidade de materiais economizados. <br><br>  As m√©tricas geralmente aceitas de sucesso nos neg√≥cios (EBITDA, etc.) raramente s√£o obtidas ao definir tarefas de ML.  Geralmente, √© necess√°rio estudar profundamente as especificidades e aplicar as m√©tricas aceitas no campo em que introduzimos o aprendizado de m√°quina (verifica√ß√£o m√©dia, presen√ßa, etc.). <br><br><h2>  Dificuldades de tradu√ß√£o </h2><br>  Ironicamente, √© mais conveniente otimizar modelos usando m√©tricas dif√≠ceis de entender para os representantes comerciais.  Como a √°rea sob a curva ROC no modelo de tonalidade de coment√°rios se relaciona com um tamanho de receita espec√≠fico?  Desse ponto de vista, a empresa enfrenta duas tarefas: como medir e como maximizar o efeito da introdu√ß√£o do aprendizado de m√°quina? <br><br>  A primeira tarefa √© mais f√°cil de resolver se voc√™ tiver dados retrospectivos e ao mesmo tempo outros fatores puderem ser nivelados ou medidos.  Ent√£o, nada impede que voc√™ compare os valores obtidos com dados retrospectivos semelhantes.  Mas h√° uma complica√ß√£o: a amostra deve ser representativa e, ao mesmo tempo, semelhante √† que testamos o modelo. <br><br>  <b>Exemplo</b> : voc√™ precisa encontrar os clientes mais semelhantes para descobrir se a verifica√ß√£o m√©dia aumentou.  Mas, ao mesmo tempo, a amostra de clientes deve ser grande o suficiente para evitar picos devido a comportamentos incomuns.  Esse problema pode ser resolvido criando-se uma sele√ß√£o suficientemente grande de clientes semelhantes e usando-o para verificar o resultado de seus esfor√ßos. <br><br>  No entanto, voc√™ pode perguntar: como converter a m√©trica selecionada em uma fun√ß√£o de perda (que o modelo est√° minimizando) para aprendizado de m√°quina.  Essa tarefa n√£o pode ser resolvida imediatamente: os desenvolvedores do modelo ter√£o que se aprofundar nos processos de neg√≥cios.  Mas se voc√™ usar uma m√©trica que depende dos neg√≥cios ao treinar o modelo, a qualidade dos modelos aumentar√° imediatamente.  Digamos, se o modelo predizer quais clientes sair√£o, na fun√ß√£o de uma m√©trica comercial, voc√™ poder√° usar um gr√°fico em que o n√∫mero de clientes que saem, de acordo com o modelo, seja plotado em um eixo e o valor total de fundos para esses clientes no outro eixo.  Com a ajuda desse cronograma, um cliente comercial pode escolher um ponto conveniente para si e trabalhar com ele.  Se, usando transforma√ß√µes lineares, reduzirmos o gr√°fico a uma curva PR (precis√£o em um eixo, segunda completude), poderemos otimizar a √°rea sob essa curva simultaneamente com a m√©trica de neg√≥cios. <br><br><img src="https://habrastorage.org/webt/-4/b3/ac/-4b3ach5_ooxpabi1_t-ovldov0.png" width="600"><br>  <i>Fig.</i>  <i>4. Curva de efeito monet√°rio</i> <br><br><h2>  Conclus√£o </h2><br>  Antes de definir a tarefa de aprendizado de m√°quina e criar um modelo, voc√™ precisa escolher uma m√©trica razo√°vel.  Se voc√™ estiver otimizando o modelo, poder√° usar uma das m√©tricas padr√£o como uma fun√ß√£o de erro.  Certifique-se de coordenar com o cliente a m√©trica selecionada, seus pesos e outros par√¢metros, convertendo m√©tricas de neg√≥cios em modelos de ML.  Em termos de dura√ß√£o, isso pode ser comparado ao desenvolvimento do modelo em si, mas sem isso n√£o faz sentido come√ßar o trabalho.  Se voc√™ envolver matem√°ticos no estudo de processos de neg√≥cios, poder√° reduzir bastante a probabilidade de erros nas m√©tricas.  A otimiza√ß√£o efetiva do modelo √© imposs√≠vel sem a compreens√£o da √°rea de assunto e uma declara√ß√£o conjunta do problema no n√≠vel dos neg√≥cios e das estat√≠sticas.  E depois de todos os c√°lculos, voc√™ poder√° avaliar o lucro (ou economia), dependendo de cada aprimoramento do modelo. <br><br>  <i>Nikolay Knyazev ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">iRumata</a> ), chefe do grupo de aprendizado de m√°quina, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt420261/">https://habr.com/ru/post/pt420261/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt420245/index.html">Como evitar a satura√ß√£o de mem√≥ria ao usar cole√ß√µes Java</a></li>
<li><a href="../pt420251/index.html">Apple afirma que o complexo da sede da empresa custa apenas US $ 200</a></li>
<li><a href="../pt420253/index.html">Como as APIs de bancos abertos est√£o mudando o mundo financeiro</a></li>
<li><a href="../pt420257/index.html">Voc√™ ainda instala o Windows 2008? Eu tamb√©m, e √© por isso</a></li>
<li><a href="../pt420259/index.html">Painel de diagn√≥stico de envelhecimento em Cingapura</a></li>
<li><a href="../pt420263/index.html">Confer√™ncia ServiceNow "Knowledge18"</a></li>
<li><a href="../pt420265/index.html">Sete quest√µes de implementa√ß√£o do Scrum que n√£o sab√≠amos</a></li>
<li><a href="../pt420267/index.html">Os autores do jogo 0 AD - bem feito</a></li>
<li><a href="../pt420269/index.html">Dinheiro pelo ralo: por que seu antiphishing n√£o detecta sites de phishing e como a Ci√™ncia de Dados o faz funcionar?</a></li>
<li><a href="../pt420271/index.html">Treinamento de empatia: estimulando as conex√µes neurais do c√©rebro por meio de um videogame</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>