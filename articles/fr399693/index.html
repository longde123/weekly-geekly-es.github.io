<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔘 👩‍👧 🚓 Les subtilités de la conception d'une carte de puissance onduleur 🛀🏿 🧑🏾‍🤝‍🧑🏽 🚘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous! Avec des pas modestes, je poursuis la série d'articles sur le développement du vélo électrique en fer. Commençons par le plus intéress...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Les subtilités de la conception d'une carte de puissance onduleur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/eczobike/blog/399693/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour à tous! </font><font style="vertical-align: inherit;">Avec des pas modestes, je poursuis la série d'articles sur le développement du vélo électrique en fer. </font><font style="vertical-align: inherit;">Commençons par le plus intéressant - l'onduleur, qui contrôle le moteur. </font><font style="vertical-align: inherit;">Je veux parler davantage des subtilités de la construction d'une carte de puissance et du régime de température des transistors. </font></font><br>
<br>
<img src="https://habrastorage.org/files/45b/d9d/9ac/45bd9d9ac8924ffb98df8b26a515613e.PNG"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vélo électrique modèle Warp Core</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principal problème dans la conception d'une carte pour des courants élevés à haute fréquence est l'inductance des conducteurs, des condensateurs, des boîtiers de transistors, ou plutôt, les émissions qui en résultent et la nécessité de définir une marge de paramètres pour les touches, ce qui entraîne une augmentation du coût de la conception et une augmentation des pertes de commutation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le processus de travail sur une charge inductive, lorsqu'un courant se brise, des surtensions surviennent sur la touche, qui sont égales à ∆V = -L (dI / dt), où ∆V est l'amplitude du changement de tension, L est l'inductance, dI / dt est le taux de changement de courant (augmentation ou diminuer). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons un cas particulier de PWM de deux phases, où le courant passe initialement par la clé fermée Q2, puis le courant s'accumule dans le circuit du moteur par la clé supérieure Q1. La touche Q6 est toujours activée pour plus de simplicité.</font></font><br>
<img src="https://habrastorage.org/files/5b2/95c/ab8/5b295cab866d446096ca044a23b5bc78.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La direction rouge indique le chemin du flux de courant initial. Au moment de la commutation, la touche Q2 s'ouvre, mais la tension sur cette touche passe à moins de l'amplitude de la chute sur la diode parasite du transistor MOS. Cela se produit du fait que l'inductance du moteur, dans lequel l'énergie est stockée, essaie de «sauver» son courant et crée une tension négative. Puis la clé Q1 commence à s'allumer, le courant augmente progressivement au niveau des inductances L_DC +, L_Q1D, L_Q1S, L_DC. Où L_QnD est l'inductance de drain du boîtier du transistor, et L_QnS est l'inductance de source et L_DC est l'inductance de la carte. En cours de transfert de courant d'une partie du circuit à une autre, le transistor Q2 peut soudainement détecter sur lui-même une tension supérieure à celle fournie par le bus d'alimentation et installée sur la capacité d'entrée. </font></font><br>
<br>
<img src="https://habrastorage.org/files/558/5ef/9b5/5585ef9b5f97417fac965bf07d530983.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple de commutation à un courant de 100A</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'amplitude de cette tension sera proportionnellement supérieure à la vitesse de commutation. Nous ne voulons pas allouer beaucoup de chaleur aux touches pendant le processus de commutation, par conséquent, il est considéré comme idéal lorsque la clé change instantanément, mais ce n'est pas réalisable en réalité. Autrement dit, plus cette transition se produit rapidement, moins les pertes seront actives dans la clé, mais en même temps, plus la transition se produit rapidement, plus les augmentations de contraintes sur L_DC, L_Q1D, L_Q1S seront importantes. Un autre phénomène rarement mentionné, mais peut-être le phénomène le plus parasite de ce processus est la charge de la diode Q2. Puisqu'il y a un délai, un temps mort, entre l'arrêt de Q2 et l'allumage de Q1, la charge de récupération inverse s'accumule sur la diode Q2, dans la documentation du transistor, il est indiqué comme Qrr, mesuré en nanocoulomb. Lorsque Q1 est activé, un courant traversant se produit,qui restaure la diode parasite Q2. L'intensité de ce courant sera d'autant plus élevée qu'il sera nécessaire d'activer Q1 plus rapidement et que le courant traversant le transistor sera important. De là, une surtension supplémentaire se produit à L_Q2D, L_Q2S. Ce commutateur est appelé "dur" de l'anglais. commutation dure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le transistor a été choisi sans marge de tension, une telle surtension peut provoquer une avalanche, ce qui réduira considérablement la durée de vie du transistor, et s'il est exposé pendant une longue période, il peut l'endommager complètement.</font></font><br>
<br>
<img src="https://habrastorage.org/files/951/826/341/9518263419dc45f3a96c673dac5bbc55.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours d'une telle commutation, des oscillations RF ("ringing", de l'ordre de quelques MHz) peuvent se produire, des inductances L_Q (1,2) S et des capacités parasites entre les grilles des transistors Q1 / 2 et leur drain sont impliquées. Étant donné que dans le boîtier 3 broches TO220 conventionnel, le signal de commande est en fait fourni par la branche d'alimentation, ce qui introduit ses propres interférences. Pour résoudre ce problème, une broche source distincte pour le signal de commande, sur laquelle il n'y a pas d'interférence de puissance, est sortie dans les modules d'assemblage de puissance. Au moment de l'ouverture du transistor Q1, le courant commençant à circuler à travers la source crée une chute de tension sur l'inductance des pattes de source du transistor, ce qui ralentit l'ouverture. De plus, une forte chute de tension interfère avec ce processus, ce qui atténue également le signal de commande de la grille grâce à une capacité parasite. En revanche, une forte augmentation de la tension Vds se produit sur le transistor Q2,qui tire l'obturateur pour l'ouvrir à travers une capacité parasite entre le drain et l'obturateur. La combinaison de tous ces facteurs conduit à l'apparition d'oscillations à haute fréquence, la lutte avec eux se fait généralement en diminuant la pente dI / dt et dVds / dt, mais il existe un optimum entre la vitesse d'ouverture, la perte d'ouverture et la perte de sonnerie du transistor.</font></font><br>
<br>
<img src="https://habrastorage.org/files/c2c/8e1/ea1/c2c8e1ea14b846c2982ff66e30ac279e.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'un arrêt «progressif» Q1 avec une vue du côté de Q2. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tension négative sur Vds (1) - inductance des jambes Q2. </font><font style="vertical-align: inherit;">Sur l'obturateur (3), seule la moitié de cette émission est visible, car </font><font style="vertical-align: inherit;">dans ce cas, dans le circuit de connexion de l'oscilloscope, le courant ne change que sur la jambe source.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Techniques de contrôle des inducteurs parasites</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérez l'option de deux conducteurs de même largeur, mais avec une disposition différente sur la carte. </font></font><br>
<br>
<img src="https://habrastorage.org/files/68e/4b3/554/68e4b35542014721939d486ec3d4f0c4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons que nous avons une largeur de piste de 10 mm, une longueur de 100 mm et la distance entre eux est de 0,5 mm. Pour l'option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a, l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inductance mutuelle sera de ~ 6,3 nH. Pour l'option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b, l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inductance sera ~ 132 nH. Qu'est-ce que cela signifie? Prenons le taux de variation actuel de 1,25A / nS, comme dans la capture d'écran ci-dessus, en suivant la formule ∆V = -L (dI / dt), nous obtenons le changement de tension pour l'option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∆V = -6,3 nH * 1,25A / ns = 7,8V. Pour l'option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cette valeur sera égale à 132nG * 1,25A / ns = 165V. C'est beaucoup plus élevé que notre tension d'alimentation! En fait, une panne se produira, et la tension reposera contre la limite de tension du transistor, et le courant le traversera, malgré le fait qu'il soit fermé. Par </font><font style="vertical-align: inherit;">conséquent, le bien de votre bon condensateur ne sera pas, si elles accrochent long « induction » :) </font></font><br>
<br>
<img src="https://habrastorage.org/files/42e/5fe/772/42e5fe77225a408a9f900faf4d4e21fb.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce qui pourrait aller ici </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ce qui concerne les composants parasites du boîtier du transistor, vous ne pourrez pas y faire face en particulier, les jambes les plus courtes à la carte, pas de longs fils. </font><font style="vertical-align: inherit;">La sonnerie haute fréquence est bien shuntée par les condensateurs en céramique, ils doivent être situés directement à côté des touches sur le bus d'alimentation, mais vous pouvez vous débarrasser complètement de la sonnerie en éliminant le fonctionnement de la diode parasite du transistor à l'aide de transistors SiC ou de contrôle adaptatif, mais il s'agit d'une gamme de prix différente. </font><font style="vertical-align: inherit;">Une autre option pour réduire l'inductance du boîtier est les transistors SMD, les soi-disant. </font><font style="vertical-align: inherit;">DirectFet, PowerQFN et similaires. </font><font style="vertical-align: inherit;">Mais ils ont aussi leurs inconvénients, ils incluent un pire dissipateur thermique, des difficultés de mise en page avec l'installation SMD et, bien sûr, le prix.</font></font><br>
<br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À propos du dissipateur thermique</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'une manière ou d'une autre, l'onduleur en fonctionnement produira de la chaleur. Plus de courant signifie plus de chaleur. Parce que dans le moteur, le courant pendant une courte période peut être plusieurs fois supérieur à la valeur moyenne pendant l'accélération et la décélération, pour les transistors, il est nécessaire de garantir des conditions thermiques normales pour ces pics de charge. Standard pour un cristal de silicium, la température maximale Tj = 175 ° C est indiquée.</font></font><br>
<br>
<img src="https://habrastorage.org/files/39c/d70/44e/39cd7044e85143f3a725ebb84f8d8b55.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au moment de la commutation des transistors, il y a de fortes émissions importantes de pertes thermiques actives. Les pertes passives sont des pertes sur la résistance du canal drain-source à l'état ouvert, sont plus constantes dans le temps et sont plus faciles à calculer. Pour les salves thermiques à court terme, le substrat en cuivre du transistor agit comme un bon tampon thermique, un autre inconvénient des composants SMD - il est sensiblement plus petit. La résistance thermique du cristal au boîtier du transistor I sélectionné est de 0,57 ° C / W, ce qui signifie que lorsqu'il émet 50 watts de chaleur en permanence, un gradient de température de 29 ° C se forme. Pour les émissions thermiques, il est également nécessaire de laisser une certaine marge et de prendre en compte un certain retard pour le thermocouple, donc 100 ° C a été choisi comme valeur optimale finale du boîtier du transistor.La question se pose - combien de temps puis-je donner un courant maximum pour surchauffer? Différentes interfaces thermiques ont été testées, même des cartes à base d'aluminium. Par la qualité du transfert de chaleur de la base du transistor au radiateur, je disposerais les matériaux dans cet ordre, en diminuant la conductivité thermique:</font></font><br>
<br>
<i>    <br>
    +  (2)<br>
   <br>
     +  (2)<br>
    +  <br>
     </i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le contact direct n'est pas notre option, car il ne fournit pas d'isolation électrique pour le boîtier du transistor du radiateur. Avec une petite marge de la plaque d'aluminium, il y avait un substrat d'oxyde d'aluminium. Le nitrure était sensiblement plus cher et moins abordable. Selon des tests entre le substrat organosilicié et la céramique d'oxyde d'aluminium, la différence était de près de 2 fois, pour la durée de la pleine charge, respectivement 1 minute et 30 secondes. Bien sûr, ce test ne prétend pas être d'une grande précision scientifique, mais avec une différence de prix d'un cent deux fois plus long pour "culbuter" sur un vélo? Le choix final, bien sûr, a été la céramique à base d'oxyde d'aluminium! En fin de compte, il est encore plus facile de l'installer avec, et un autre avantage est que la flexion du transistor est beaucoup moins lors du serrage de la vis. La pince, à en juger par la trace de pâte thermique, a toujours été uniforme.Ce que l'on ne peut pas dire des substrats flexibles.</font></font><br>
<img src="https://habrastorage.org/files/751/2b8/c6e/7512b8c6e4e04dfea96cf7f433d53fa8.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec un montage standard sur le radiateur à travers l'œil, à l'aide d'une vis, le tampon en silicone a tendance à se comprimer, ce qui peut entraîner un contact de surface inégal. </font><font style="vertical-align: inherit;">Par conséquent, le dernier élément est «substrat sans pâte thermique», car </font><font style="vertical-align: inherit;">elle, la graisse thermique, dans ce cas quelque peu compenser cet effet. </font><font style="vertical-align: inherit;">Bien sûr, dans de tels cas, il est recommandé d'utiliser un ressort spécial qui pressera uniformément l'ensemble du boîtier du transistor, mais nous n'avons pas eu l'occasion de les placer pour les adapter à la taille.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conduisant le contrôleur chinois, j'ai souvent remarqué qu'il n'avait qu'un côté chaud et que l'autre restait froid. </font><font style="vertical-align: inherit;">Par conséquent, la disposition finale des touches de mise sous tension a été réalisée de manière à chauffer le boîtier entier de la manière la plus égale possible. </font><font style="vertical-align: inherit;">Les clés ont été installées des deux côtés, grâce à un petit adaptateur en aluminium.</font></font><br>
<br>
<h3><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Épilogue</font></font></b></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, j'ai décrit les choses les plus intéressantes à mon avis. </font><font style="vertical-align: inherit;">Bien entendu, dans les coulisses, le choix du transistor MOS lui-même en fonction de ses caractéristiques, le calcul des pertes de chaleur sur la puce et le chauffage des condensateurs électrolytiques sous l'influence d'un courant pulsé. </font><font style="vertical-align: inherit;">Dans le prochain article, nous aborderons les circuits de l'appareil, les options de numérisation du courant et la mise en œuvre de la protection de courant.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr399693/">https://habr.com/ru/post/fr399693/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr399683/index.html">Les dix étoiles les plus brillantes du ciel</a></li>
<li><a href="../fr399685/index.html">L'ESA et Roscosmos ont publié les premiers résultats des observations scientifiques «ExoMars-2016»</a></li>
<li><a href="../fr399687/index.html">Android 7.0 Nougat sera disponible sur les smartphones Sony en décembre</a></li>
<li><a href="../fr399689/index.html">MediaTek Labs vous invite à un webinaire gratuit pour les développeurs d'électronique portable</a></li>
<li><a href="../fr399691/index.html">Si vous évaluez une personne, la première impression peut être la dernière</a></li>
<li><a href="../fr399695/index.html">Contact étroit: les capacités de votre smartphone avec NFC</a></li>
<li><a href="../fr399697/index.html">Douleur dans les mains lorsque vous travaillez sur un ordinateur. Partie 4: Intégration des leçons des prononciations du tour précédent</a></li>
<li><a href="../fr399699/index.html">Comment nous nous sommes préparés pour UAV Challenge 2016</a></li>
<li><a href="../fr399701/index.html">Univers OpenAI. Plateforme ouverte pour former une IA forte</a></li>
<li><a href="../fr399707/index.html">Rumeur: Fitbit, fabricant de montres intelligentes et de bracelets, prévoit d'acheter son rival Pebble pour 40 millions de dollars</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>