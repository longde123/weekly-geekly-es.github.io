<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔰 🕗 🤝 无限的本地化，或者我们如何实时翻译地图 🎩 📆 🧖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="当您的产品开始在具有自己的语言和文化特征的另一个国家销售时，会发生什么？ 最有可能的是，本地化正等着他。 在大多数情况下，仅需要翻译资源文件，以便菜单和界面元素使用用户熟悉的语言。 但是，如果销售的基础是数据，该怎么办呢？数据很多，它们不断地大量涌入，需要定期翻译。 不仅是一种语言，而且是多种语言。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>无限的本地化，或者我们如何实时翻译地图</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/425283/"><img src="https://habrastorage.org/webt/vx/rx/aq/vxrxaqudt-xi_kwjgd21ufa0ggw.jpeg"><br><br> 当您的产品开始在具有自己的语言和文化特征的另一个国家销售时，会发生什么？ 最有可能的是，本地化正等着他。 在大多数情况下，仅需要翻译资源文件，以便菜单和界面元素使用用户熟悉的语言。 但是，如果销售的基础是数据，该怎么办呢？数据很多，它们不断地大量涌入，需要定期翻译。 不仅是一种语言，而且是多种语言。 <br><br> 在剪辑下，您将找到有关2GIS中如何解决此问题的故事。 我将以迪拜的最后一个案例为例，但这种做法适用于任何语言。 <br><a name="habracut"></a><br><h2> 关于阿拉伯语 </h2><br> 整个故事始于2GIS在迪拜启动的事实，迪拜使用两种语言：阿拉伯语和英语。 <br><br> 数据的准确性是公司最重要的价值。 这是通过在地上制图师和专家的体力劳动来实现的。 在迪拜，当地专家和最终用户都懂英语，最初只在其中输入数据。 在成长的过程中，他们决定不停下来，而是添加阿拉伯语。 <br><br><h2> 斐济 </h2><br> 对于制图师的工作，我们拥有自己的软件。 这件事叫做斐济，是收集地图数据的主系统。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们已经写过</a>斐济如何帮助制图师编辑房屋和绘制道路。 经过处理和准备后从斐济上传的数据将流向最终产品，以讨好用户。 在本文中，我正在谈论的正是我们在斐济实施的用于编辑/存储/显示多语言数据的内容。 <br><br><h2> 条款 </h2><br> 在团队中，我们使用特定的词汇。 以下是四个示例↓ <br> 系统支持使用两种类型的语言： <br><br>  <b>元数据</b>语言-显示所有用户控件的语言：UI，元数据。 <br><br>  <b>数据</b>语言-一种显示地理对象，某些目录和分类器的属性值的语言。 <br><br> 语言与领土相关。 区域可以具有两种语言： <br><br>  <b>该地区的主要语言是该</b>地区正式采用的语言。 <br><br>  <b>地区的其他语言</b>是我们要发布产品的语言。 它是主要产品的补充。 <br><br><h2> 语言和方言 </h2><br> 该国不同地区采用的方言可能会有很大差异。 因此，在某些系统中，语言的核心（=基本版本）和方言是分开存储的，然后在卸载它们的词缀时才存储。 在我们看来，这种方法非常复杂，因此我们决定将每种方言都视为一种独立的语言。 <br><br> 与阿拉伯语言和方言有关的细微差别。 对于每种语言，您需要输入带有两个值的笔架方向标记：从左到右和从右到左。 默认情况下，笔架应从左向右移动。 如果该值是从右到左设置的，那么您需要为所有可编辑的多语言字段更改笔架的方向。 在最终产品中如何做到这一点写<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a> 。 我们必须做同样的事情。 <br><br><h2> 捕捉到领土 </h2><br> 我们的整个世界分为某些地区-这些地区可能是国家/地区，地区。 对于每个地区，我们都指定了几种语言，其中一种被认为是主要语言，其余被认为是其他语言。 翻译是从主要语言到其他语言的。 <br><br> 例如，在迪拜，我们将英语作为主要语言，因为它有很多数据。 阿拉伯语是可选的。 <br><br><h2> 输入并更改语言 </h2><br> 为了使制图师舒适地工作，我们在需要使用多种语言输入的地方重新设计了界面。 <br><br><img src="https://habrastorage.org/webt/ea/2v/tq/ea2vtqvbdzpl2ulocp8j1mzzdhu.png"><br><br> 在这张图片中，您可以看到我们将语言划分为选项卡，其中最左侧是主要语言，然后还有其他语言。 <br><br> 在其他语言的选项卡中，只有那些带有标记的字段可用于编辑，这些标记需要在数据库中进行翻译。 这是一种保护措施，有助于将用户的注意力集中在必要数据的转换上。 其他所有内容均以主要语言进行编辑。 <br><br><img src="https://habrastorage.org/webt/gk/yd/fh/gkydfh3us5wb162wi6s7ayetgte.png"><br><br> 实际上，仅当制图人员本人会几种语言并且不希望借助翻译者的帮助时，才需要使用其他语言编辑数据。 对于其他所有人，都有CrowdIn。 <br><br><h2>  Crowdin或流传输 </h2><br> 因此，我们使制图人员能够以不同的语言填写数据。 但是最好将翻译任务交给专业人员。 <br><br> 翻译应用程序时想到的第一件事是将资源文件提供给翻译器，并在传输后将其下载回去。 <br><br> 在这个问题上，CrowdIn平台为我们提供了很多帮助。 它使您可以将文件重定向到专业翻译人员。 剩下的唯一事情就是将转换后的数据集成到我们的系统中。 <br><br> 由于数据连续不断地传给我们，因此情况变得复杂，因此我们希望连续接收翻译。 <br><br> 我们对系统进行了如下优化：如果在该地区的主要语言中进行了更改，我们会将更改上传并翻译为该地区的所有其他语言。 对于制图师本人进行翻译的情况，我们例外。 在这里，我们认为他了解自己在做什么，因此无需连接翻译。 <br><br> 对于每个目录或映射对象，我们都有一个端到端版本，该版本随每次数据更新而增加。 因此，我们可以快速获取特定版本的所有更改。 <br><br> 版本控制系统非常简单且高效，但存在一个重大缺点：实际上，我们只有一个队列，无法以任何方式进行管理。 我们最多只能跳过该版本。 需要切换到普通队列，例如，切换到RabitMQ或Kafka，但还没有动手。 <br><br> 为了快速更新内容，我们编写了一个可在三个流中工作的小型服务。 <br><br> 第一流（Saver）抽取出所有需要翻译的数据，并从中生成xml文件。 <br><br> 第二个（导出）将它们发送到CrowdIn并将它们放入所需的项目中，该项目指示我们要翻译的主要语言以及要翻译成的语言的列表。 <br><br> 第三个（导入）会定期轮询CrowdIn API以查找已完成转换并已100％安装的文件，然后将完成的文件导入到我们的数据库中。 <br><br><img src="https://habrastorage.org/webt/99/uk/xo/99ukxoedj5npaxnkvylq6cidd3k.jpeg"><br><br> 没有耙子就做不到。 我们偶然发现了数据版本控制系统。 <br> 当我们下载单词的翻译时，数据的版本已更新，单词再次落入翻译中。 <br><br> 为了避免无休止的翻译循环，我们开始记录数据。 每个翻译的单词都有标记，从而消除了重复发送到CrowdIn的麻烦。 <br><br><h3> 讲解 </h3><br> 现在，我将告诉您CrowdIn的工作如何进行。 有多种使用该平台的方法，例如，您可以将文件上传到Git存储库，而CrowdIn本身会吸收它们。 但是我们认为通过API进行操作看起来更加方便。 <br><br>  CrowdIn有一个非常详细的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">教程</a> ，但是下面我将写我们如何做到的。 <br><br> 我们需要获取一个API密钥，该密钥将附加到我们的每个请求中，以便系统验证我们。 我们转到项目设置中的“ API”选项卡，然后查看“ API密钥”列中写的内容。 <br><br><img src="https://habrastorage.org/webt/oa/zi/bh/oazibhzp43g7sj851hzik0ctfhs.png"><br><br> 必须在每个平台请求的末尾添加此密钥。 例如，像这样： <br>  GET： <code>https://api.crowdin.com/api/project/{myLitleProject}/download/all.zip?key={project-key}</code> ： <code>https://api.crowdin.com/api/project/{myLitleProject}/download/all.zip?key={project-key}</code> myLitleProjectasket / download / <code>https://api.crowdin.com/api/project/{myLitleProject}/download/all.zip?key={project-key}</code> project- <code>https://api.crowdin.com/api/project/{myLitleProject}/download/all.zip?key={project-key}</code> <br><br>  2.创建一个文件夹，我们将在其中上传文件到项目中。 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uri = <span class="hljs-string"><span class="hljs-string">$"project/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_projectName}</span></span></span><span class="hljs-string">/add-directory?key=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{apiKey}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultipartFormDataContent { { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringContent(crowdInDirectoryPath), <span class="hljs-string"><span class="hljs-string">"name"</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PostAsync(uri, content);</code> </pre><br> 有一点笨拙的时刻。 我们正在编写服务，如果在开始创建服务之前先检查一下是否存在我们需要的文件夹，那将是很好的选择。  CrowdIn没有检查文件夹的常规方法，因此我们发送创建请求。 如果不存在，则CrowdIn将创建它并返回代码200。如果有文件夹，它将不创建任何内容并返回代码500。 <br><br>  3.导出文件。 添加文件功能具有很多选项和参数，如何读取以及在何处。 以下是我们如何使用xml文件加载数据的示例。 <br><br><div class="spoiler">  <b class="spoiler_title">例子</b> <div class="spoiler_text"> 我们使用以下结构将要转换的所有数据放入xml文件。 <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableDocument</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValues</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValue</span></span></span><span class="hljs-tag">&gt;</span></span> … <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Attributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableAttributeValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AttributeName</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableAttributeValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Attributes</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableValues</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LocalizableDocument</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> 为了使CrowdIn解析文件中需要翻译的数据，需要指定它。 为此，您需要编写一个translatable_elements参数数组，其中包含文档中必要元素的路径。 在我们的例子中，它看起来像这样： <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uri = <span class="hljs-string"><span class="hljs-string">$"project/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_projectName}</span></span></span><span class="hljs-string">/add-file?key=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{apiKey}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultipartFormDataContent { { <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringContent(<span class="hljs-string"><span class="hljs-string">"/LocalizableDocument/LocalizableValues/LocalizableValue/Attributes/LocalizableAttributeValue/Value"</span></span>), <span class="hljs-string"><span class="hljs-string">"translatable_elements[0]"</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filePath <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> filePaths) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileName = Path.GetFileName(filePath); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileStream = File.OpenRead(filePath); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileContent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamContent(fileStream); content.Add(fileContent, <span class="hljs-string"><span class="hljs-string">$"files[</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_crowdInDirectoryPath}</span></span></span><span class="hljs-string">/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{fileName}</span></span></span><span class="hljs-string">]"</span></span>, fileName); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PostAsync(uri, content);</code> </pre><br></div></div><br> 请注意：文档指出CrowdIn一次最多可以咀嚼20个文件，而一个文件的大小不应超过100 MB。 <br><br>  4.我们找出我们已完全翻译的文件。 我们使用针对特定语言的命令来执行此操作。 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uri = <span class="hljs-string"><span class="hljs-string">$"project/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{_projectName}</span></span></span><span class="hljs-string">/language-status?key=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{apiKey}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> content = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultipartFormDataContent {{ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringContent(langCode), <span class="hljs-string"><span class="hljs-string">"language"</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PostAsync(uri, content);</code> </pre><br> 该平台将向我们返回如下内容： <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span>directory<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>29812<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Version 1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">files</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span>file<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>29827<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>strings.xml<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span>file<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node_type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phrases</span></span></span><span class="hljs-tag">&gt;</span></span>7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phrases</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">translated</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">translated</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">approved</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">approved</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words</span></span></span><span class="hljs-tag">&gt;</span></span>32<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_translated</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_translated</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_approved</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">words_approved</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">files</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> 在这里，我们对值&lt;translated /&gt;和&lt;approved /&gt;感兴趣。 第一个显示此文件中已翻译行的百分比，第二个显示如果除翻译者之外，审阅者还参与工作流的批准值的百分比。 根据我们的工作流程，例如，在100，我们会考虑翻译和批准文档。 现在可以将该文件导入回给我们。 <br><br>  5.将文件导入回我们的系统。 <br> 这是通过简单的GET请求完成的。 <br><br><pre> <code class="hljs cmake">https://api.crowdin.com/api/<span class="hljs-keyword"><span class="hljs-keyword">project</span></span>/{_projectName}/<span class="hljs-keyword"><span class="hljs-keyword">export</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">file</span></span>?<span class="hljs-keyword"><span class="hljs-keyword">file</span></span>={_crowdInDirectoryPath}/{fileName}&amp;language={langCode}&amp;key={<span class="hljs-keyword"><span class="hljs-keyword">project</span></span>-key}</code> </pre> <br> 生成的文件将反序列化，并将数据导入到我们的系统中。 <br><br><h2> 而不是结论 </h2><br> 一般来说，仅此而已。 当然，我们仍然需要改进斐济地图上的签名显示，以便根据制图员现在统治的地区以正确的语言显示签名。 必须与其他系统达成共识，我们将如何向他们提供多语言数据，但这是另一回事了。 <br><br> 结果，我们本着“开机忘了”的精神接受了服务。 制图人员输入数据，翻译人员进行翻译，行长满意，该服务在必要时上传数据，我们无需考虑我们的系统如何以多种语言工作就解决了更为紧迫的问题。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN425283/">https://habr.com/ru/post/zh-CN425283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN425271/index.html">WPA3可能更安全：专家意见</a></li>
<li><a href="../zh-CN425273/index.html">另一种使用docker-compose的方式</a></li>
<li><a href="../zh-CN425275/index.html">扩展Node.js的12条技巧</a></li>
<li><a href="../zh-CN425279/index.html">如何面试Google：成为什么样，不该成为什么样</a></li>
<li><a href="../zh-CN425281/index.html">“使”流行的中国迷你路由器Hame A15（也称为“无品牌A5-V11”）克隆的准则</a></li>
<li><a href="../zh-CN425285/index.html">如果您不雇用琼斯，那您就不配得到领主</a></li>
<li><a href="../zh-CN425287/index.html">PostgreSQL中的FIAS Homes</a></li>
<li><a href="../zh-CN425289/index.html">公司重点</a></li>
<li><a href="../zh-CN425291/index.html">2018年夏季实习的结果：他们席卷了五百个皮塔饼沙瓦玛。 并幸存下来</a></li>
<li><a href="../zh-CN425293/index.html">移动中档开发人员的理想（可能）采访</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>