<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèº üßìüèæ üèóÔ∏è Architecture frontale de niveau sup√©rieur. Conf√©rence Yandex üßõüèæ ‚òÄÔ∏è üë©üèæ‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le choix de la bonne architecture est un √©l√©ment cl√© de la cr√©ation d'un service frontal. La d√©veloppeur Anna Karpelevich a expliqu√© aux √©tudiants de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Architecture frontale de niveau sup√©rieur. Conf√©rence Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/425611/">  Le choix de la bonne architecture est un √©l√©ment cl√© de la cr√©ation d'un service frontal.  La d√©veloppeur Anna Karpelevich a expliqu√© aux √©tudiants de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">School of Interface Development</a> ce qu'est l'architecture, quelles fonctions elle remplit et quels probl√®mes elle r√©sout.  De la conf√©rence, vous pouvez en apprendre davantage sur les approches architecturales les plus populaires dans le front-end: Model-View- * et Flux. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mWeq5Kh6tlM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Bonsoir.  Je m'appelle Anya Karpelevich.  Aujourd'hui, nous allons parler de l'architecture du front-end de haut niveau. <a name="habracut"></a><br><br>  Je travaille dans Yandex.Direct.  Nous r√©alisons des interfaces pour les annonceurs.  Ils publient des publicit√©s, les personnalisent.  C'est un syst√®me tr√®s complexe et int√©ressant, il a de nombreux composants interconnect√©s, ils se d√©veloppent les uns dans les autres, ils ont des fonctionnalit√©s communes et propres.  "Les pantalons se transforment en shorts √©l√©gants."  Tout cela doit √™tre contr√¥l√© tr√®s soigneusement.  Et l'architecture de nos applications est tr√®s complexe.  C'est l'une des raisons pour lesquelles je donne cette conf√©rence aujourd'hui.  J'adore vraiment ce sujet. <br><br>  Qu'est-ce que l'architecture?  Le fait est qu'il n'y a probablement pas de r√©ponse √† cette question.  Ou il y en a, mais chacun a le sien.  C'est un sujet tr√®s controvers√©.  Cela provoque beaucoup de controverse, beaucoup d'holivars.  Et une grande partie de ce dont je vais parler aujourd'hui est mon opinion.  Il est en partie soutenu par mon groupe de travail, en partie pas beaucoup.  Et chacun, lorsqu'il √©crit l'architecture de son application, d√©cide par lui-m√™me comment et quoi faire. <br><br>  C'est pourquoi l'architecture est l'un des endroits les plus cr√©atifs du travail d'un programmeur.  Et donc, notre pr√©sentation d'aujourd'hui commencera √©galement par la cr√©ativit√©. <br><br><img src="https://habrastorage.org/webt/bv/2m/kk/bv2mkka_ztkeyh6qgwvizb_oqsk.jpeg"><br><br>  Regardons l'image de gauche.  Je serai tr√®s heureux si quelqu'un reconna√Æt le b√¢timent qui y est repr√©sent√©.  Il s'agit de l'√©glise Saint-Sulpice √† Paris.  Faites attention aux tourelles, pour elles cette √©glise a √©t√© install√©e ici.  J'esp√®re qu'ils sont diff√©rents.  Ils sont tr√®s diff√©rents, et il y a une raison int√©ressante √† cela.  Entre eux 130 ans de diff√©rence.  Puis la tour de gauche a √©t√© d√©molie et reconstruite pendant la guerre franco-prussienne. <br><br>  Pourquoi est-elle ici?  Regardez cette photo.  Les tours ont la m√™me architecture, et l'ensemble de l'environnement, ces vignettes, luminaires, structures arqu√©es sont diff√©rents.  Pourquoi  Parce que le but de ces tours est le m√™me.  Aucun d'entre eux, par exemple, n'√©tait un clocher.  Ce ne sont que des tours.  Quelque chose y √©tait stock√© et tout le reste √©tait diff√©rent.  Pourquoi?  Parce que l'architecture de ces tours est la m√™me.  Les deux ont une vo√ªte, une seule fen√™tre et c'est une lancette.  Les fen√™tres ont √† peu pr√®s la m√™me hauteur.  Et l'id√©e est que l'architecture, √† la fois des b√¢timents et des applications, est une structure de support.  Ce n'est pas une vignette, pas un scintillement, pas une impl√©mentation.  C'est ce qui est au c≈ìur.  Et cette fondation, en r√®gle g√©n√©rale, d√©pend de l'environnement, du sol, en ce qui concerne le b√¢timent, du but que l'architecte se fixe, mais ne d√©pend presque jamais des am√©liorations de conception. <br><br>  L'exemple de construction pour le th√®me de l'architecture est assez √©vident.  Mais la bonne image est plus int√©ressante.  "L'architecture est une musique engourdie."  ¬´Architektur ist gefrorene Musik¬ª, a d√©clar√© Johann Wolfgang Goethe au XVIIIe si√®cle.  Goethe ne savait probablement rien de l'architecture des b√¢timents, il √©tait po√®te.  Et il √©tait assur√© de ne rien savoir de l'architecture des applications.  Mais il a exprim√© une id√©e tr√®s pr√©cieuse et int√©ressante. <br><br>  La musique existe en dynamique.  Ce n'est pas quelque chose de statique.  Ceci est un processus.  Et juste comme √ßa, une application est un processus.  Il a un moment de lancement, il a un moment de d√©veloppement, quand on fait quelque chose avec lui, on travaille.  Et il a enfin un moment d'ach√®vement.  L'architecture de l'application est sa tranche √† tout moment.  √Ä tout moment, notre application, en tant que th√®me musical, doit √™tre claire, concise, compr√©hensible, pr√©visible, etc. Sinon, tout s'effondrera. <br><br>  Avec cette introduction cr√©ative, nous terminons, passons √† des choses plus banales, plus proches de la pratique de la cr√©ation d'applications. <br><br>  Qu'est-ce que l'architecture et pourquoi est-elle n√©cessaire? <br><br><img src="https://habrastorage.org/webt/yc/9k/e9/yc9ke9y2n-ywlc5u8esvrfhhe4k.jpeg"><br><br>  Premi√®rement, nous avons l'organisation d'une grande quantit√© de codes, quelque chose que nous rencontrons tout le temps dans Direct, et pas seulement dans Direct.  Il y a tellement de code que vous pouvez vous y perdre.  Nous ne voulons pas nous perdre dans le code. <br><br>  Deuxi√®mement, la duplication des fonctionnalit√©s.  C'est √©galement un probl√®me √©ternel que vous rencontrerez toujours, et aujourd'hui ce sujet de duplication passera par la ligne rouge tout au long de la conf√©rence.  La m√™me fonctionnalit√© dont nous pouvons avoir besoin √† plusieurs endroits sur l'interface.  S'il est n√©cessaire √† plusieurs endroits, il doit s'agir physiquement du m√™me code utilis√© √† plusieurs endroits, pas d'une copie.  Pourquoi?  Nous en reparlerons plus loin.  Mais l'architecture devrait nous aider √† √©viter le copier-coller. <br><br>  Le troisi√®me est le soutien.  Il est bien √©vident que si nous avons une application, nous devons en quelque sorte la soutenir, et il est conseill√© que toutes les ressources de l‚Äô√©quipe ne soient pas gaspill√©es. <br><br>  Modifiez la composition de l'√©quipe.  C‚Äôest aussi une telle chose que nous rencontrons dans la vie r√©elle plus souvent que nous le souhaiterions.  Quelqu'un vient, quelqu'un part et si une personne passe six mois √† entrer le code, c'est mauvais.  Si la connaissance du code est stock√©e dans une seule t√™te, et qu'elle transmettra cette connaissance pendant six mois en cas de d√©part, c'est encore pire.  En g√©n√©ral, ici l'architecture nous aide √©galement √† rendre tout cela plus compr√©hensible et √† maintenir le partage des connaissances. <br><br>  Ajout et extension de fonctionnalit√©s.  Aussi une chose assez √©vidente.  Le directeur vient en courant vers nous et dit que cela est urgent.  Et si pour le faire de toute urgence, vous devez d√©penser beaucoup de temps et d'efforts, alors c'est une mauvaise solution architecturale.  Et nous avons besoin du bien. <br><br>  Et enfin, des erreurs.  Plus notre architecture est compr√©hensible et pr√©visible, plus il est facile de rechercher des erreurs, moins il y a de bogues. <br><br>  Comment appeler tout cela?  Tout cela peut √™tre appel√© - les probl√®mes d'un syst√®me complexe.  Une application est un syst√®me complexe, l'architecture nous aide √† r√©soudre un probl√®me. <br><br><img src="https://habrastorage.org/webt/fe/dm/o7/fedmo7no6wpl7dcco8nn-o8ktiu.jpeg"><br><br>  Bref, en quelque sorte.  Voici une photo de nouilles √† ma droite, et c'est ce qui se passe si vous ne suivez pas l'architecture, si vous ne la construisez pas, r√©fl√©chissez-y et concevez-la.  Et la deuxi√®me image est ce qui se passe si l'architecture est au moins r√©fl√©chie d'une mani√®re ou d'une autre.  Ce n'est pas Saint-Sulpice, mais au moins un cr√©ateur pour enfants, il se tient fermement et ne s'effondre pas.  Aujourd'hui, nous jouerons aussi beaucoup de constructeur. <br><br><img src="https://habrastorage.org/webt/ke/kg/57/kekg57hzr3erft5cfqrelnfgjwa.jpeg"><br><br>  Formellement √† propos de tout cela.  L'architecture est un moyen de r√©soudre les probl√®mes d'un syst√®me complexe par abstraction de l'impl√©mentation de l'interface et diff√©renciation des pouvoirs entre les blocs de code.  Plus loin, nous analyserons cette longue phrase en d√©tail. <br><br>  Quelles sont les caract√©ristiques de l'architecture d'application en tant que domaine de connaissance?  Elle a un domaine sp√©cifique avec lequel nous travaillons.  Autrement dit, ce n'est pas quelque chose d'abstrait, c'est une chose tr√®s sp√©cifique.  Voici la t√¢che, nous s√©lectionnons l'architecture pour cela, et non pour que, oooh, une approche architecturale int√©ressante, nous devons essayer.  Alors non.  Vous pouvez essayer quelque chose de petit, mais pour un projet s√©rieux, l'architecture est s√©lectionn√©e, parfois compos√©e pour un projet sp√©cifique. <br><br>  L'histoire de la question, quand, en g√©n√©ral, cette id√©e a surgi que l'architecture devrait √™tre fait.  C'est, je dois dire, qu'√† une √©poque une id√©e tr√®s extraordinaire a √©t√© exprim√©e en 1968 par Edsger Dijkstra, un merveilleux programmeur.  Il est probablement mieux connu comme l'auteur de l'algorithme de Dijkstra, la recherche du chemin le plus court dans un graphique.  Mais il a en fait beaucoup d'id√©es r√©volutionnaires pour son temps.  Et l'un d'eux est un article, alors je vais vous donner une r√©f√©rence au mat√©riel, vous pouvez le lire, il n'y a que deux pages, un court essai.  Cela ressemble √† "Op√©rateur GOTO consid√©r√© comme nuisible", dans la traduction "Op√©rateur GOTO - op√©rateur de transition inconditionnelle - mal".  C'√©tait la premi√®re pens√©e qui disons officiellement que nous devons √©crire l'architecture, pas les nouilles. <br><br>  Dans les ann√©es 70, cette id√©e √©tait d√©j√† d√©velopp√©e par Dijkstra en collaboration avec Parnassus, et individuellement, individuellement.  Le premier livre d√©taill√© sur l'architecture d'application en g√©n√©ral a √©t√© √©crit en 1996 par Mary Shaw et David Garlan.  Apr√®s cela, en fait, de tels livres d√©taill√©s sur l'architecture logicielle n'ont pas √©t√© √©crits pr√©cis√©ment en raison de la port√©e, que chaque domaine de la connaissance a ses propres approches architecturales, quelque part un, quelque part plus populaire, quelque chose, g√©n√©ralement non applicable √† certains endroits.  Et comme l'architecture est un processus cr√©atif, vous ne trouverez aucun livre sp√©cifique sur la fa√ßon d'√©crire l'architecture.  Peut-√™tre qu'apr√®s 1996, il n'y avait rien de particuli√®rement d√©taill√© √† ce sujet. <br><br>  Quelles sont les exigences pour l'architecture du projet maintenant.  Premi√®rement et surtout, ce qui est exig√©, en fait, c'est l'extensibilit√©, car si votre projet ne se d√©veloppe pas, il est mort. <br><br>  R√©utilisation du code.  Il s'agit du tr√®s copier-coller.  Si vous avez deux blocs qui sont utilis√©s √† deux endroits diff√©rents, vous avez besoin des m√™mes fonctionnalit√©s, puis vous devez r√©utiliser le m√™me code, et l'architecture doit √™tre telle que tout morceau de code puisse √™tre pris et r√©utilis√© d√®s qu'il est n√©cessaire . <br><br>  S√©paration des pouvoirs entre les modules de code.  Nous allons en parler aujourd'hui plus en d√©tail, pourquoi cela est n√©cessaire.  L'id√©e est la suivante: chaque module, chaque bloc, chaque morceau de code doit effectuer une action sp√©cifique, porter exactement une fonction.  Et cette fonction doit √™tre plac√©e dans le titre de cette m√©thode, classe, quelle qu'elle soit, module.  Un module - une fonction. <br><br>  Et enfin, la qualit√© des applications.  Il y a beaucoup de choses que j'aimerais faire - √† la fois la fiabilit√© et la compatibilit√© descendante.  En r√©alit√©, encore une fois, il est s√©lectionn√© pour la t√¢che.  Quelque part, la r√©trocompatibilit√© est n√©cessaire pour qu'en aucun cas rien ne bouge.  Quelque part, la fiabilit√© est n√©cessaire pour que, Dieu ne plaise, les mots de passe, les codes PIN des cartes ou les CVV ne fuiront nulle part.  Quelque part, vous en avez besoin pour √™tre sans probl√®me s'il s'agit d'un satellite ou autre chose.  En g√©n√©ral, choisissez-en quelques-uns.  Plus vous voulez prendre en charge, plus vous √™tes susceptible de rencontrer de la complexit√© en architecture. <br><br>  De plus, nous parlerons avec vous de quelques d√©finitions, de telles choses encyclop√©diques.  Pourquoi est-ce important?  Parce que la terminologie en architecture est tr√®s importante, et nous devons parler le m√™me langage avec vous.  Les d√©finitions sont pour la plupart tir√©es du paradigme de programmation appel√© POO.  Mais en fait, ils ont germ√© dans d'autres paradigmes, avec les termes ¬´classe, objet, interface¬ª, ils op√®rent non seulement dans le cadre de la POO.  Cependant, ces d√©finitions et cette compr√©hension sont tir√©es pr√©cis√©ment du monde de la POO. <br><br><img src="https://habrastorage.org/webt/wh/dt/05/whdt05wzktnd2lfx3clnz2t5hq0.jpeg"><br><br>  La chose la plus simple est la classe.  Qu'est-ce qu'une classe?  Ceci est un mod√®le, ceci est un exemple.  Par exemple, la classe Snake est la classe Snake.  Nous avons d√©fini avec elle trois champs priv√©s, c'est-√†-dire un champ qui n'est accessible √† personne sauf aux m√©thodes de la classe elle-m√™me - le nombre de buts, le nombre de queues et la longueur des perroquets.  Nous avons d√©termin√© le constructeur dans lequel nous avons mis ces m√™mes t√™tes, queues et longueur en perroquets.  J'ai la classe Snake.  Tout est simple. <br><br><img src="https://habrastorage.org/webt/bt/r6/dh/btr6dhizspc6nag8fusfusqb5ti.jpeg"><br><br>  Nous allons plus loin.  Objet.  Et un objet est une instance d'une structure sp√©cifique.  De plus, encore une fois dans la POO classique, il est sous-entendu qu'un objet est un objet d'une classe.  Dans le monde moderne, en JavaScript, qui n'√©tait pas toujours un langage OOP, et m√™me maintenant ce n'est pas toujours et pas partout OOP, on sait qu'il peut y avoir des objets abstraits.  Autrement dit, nous pouvons cr√©er un objet, un litt√©ral, qui ne sera pas un objet de la classe.  Mais voici un exemple de la fa√ßon dont nous cr√©ons un objet de la classe Snake.  Ici, nous avons un serpent √† deux queues d'une longueur de 38 perroquets, - un boa constrictor. <br><br><img src="https://habrastorage.org/webt/20/8j/jb/208jjb0c46u5ap_6yhdvjjdb0-k.jpeg"><br><br>  Module  Un module est une unit√© s√©mantique.  Ce n'est pas toujours une classe.  Il peut s'agir d'un ensemble de classes, d'un ensemble d'objets, d'un ensemble de m√©thodes qui ne sont pas combin√©es en classes.  En r√®gle g√©n√©rale, vous pouvez supposer qu'un module correspond √† ce que vous avez √©crit dans un seul fichier.  Mais, en principe, le module est le dossier dans lequel ils se trouvent, par exemple, le fichier et les tests de ce module sont √©galement un module.  Ce qui est important ici, c'est qu'un module est ce que vous appelez un module, ce que vous consid√©rez comme une unit√© de s√©mantique.  Dans ce cas, le module concerne la fa√ßon dont nous mangeons les serpents.  Le r√©sultat de ce module est la derni√®re m√©thode, eatSnake, car nous avons mang√© des serpents.  Je ne sais pas pourquoi nous mangeons des serpents, mais nous pouvons le faire, car nous avons √©crit ce module comme √ßa. <br><br><img src="https://habrastorage.org/webt/3r/0u/lr/3r0ulrmuomtsrmbuuqz0x9mbfye.jpeg"><br><br>  C'√©tait trivial, alors une chose un peu plus int√©ressante va commencer.  Interface de classe.  L'interface d'une classe est, plus simplement, ses m√©thodes publiques, ce √† quoi elle ressort, ce que nous pouvons obtenir d'un objet de cette classe d'un objet de l'ext√©rieur.  Cette classe impl√©mente l'interface getSnakeLength.  Il peut nous rendre la longueur du serpent.  Veuillez noter qu'il n'y a pas d'acc√®s externe aux champs priv√©s.  L'acc√®s depuis l'ext√©rieur est uniquement √† la m√©thode publique getSnakeLength. <br><br><img src="https://habrastorage.org/webt/pw/k-/eq/pwk-eqd0mzubaatv3mkauzqtdmq.jpeg"><br><br>  Et puis une chose tr√®s int√©ressante.  Nous avons longtemps discut√© de la fa√ßon d'appeler cette chose, car j'ai invent√© le terme ¬´interface abstraite¬ª lorsque j'ai cr√©√© cette conf√©rence.  Et honn√™tement, je n'ai jamais vu une d√©finition normale de cette approche et m√©thode.  Cependant, de nombreux langages de programmation vous permettent de cr√©er des interfaces abstraites, et de les appeler, d√®s que ce ne sont pas des classes abstraites, et des interfaces abstraites aussi, juste des interfaces.  Il s'av√®re un homonyme avec l'interface de classe.  L'id√©e est qu'une interface abstraite est un ensemble de m√©thodes qui font quelque chose.  Lorsque nous cr√©ons une classe, nous partons de la question "qu'est-ce que c'est?"  C'est un serpent et elle sait faire quelque chose ou pas.  Elle peut juste donner sa longueur. <br><br>  Et lorsque nous cr√©ons l'interface, nous partons de ce qu'il fait, de ce qu'il devrait √™tre capable de faire.  Et cela s'av√®re √™tre un moyen tr√®s puissant d'√©tendre les classes.  Nous pouvons attribuer des classes √† certaines classes, en les d√©veloppant √† l'aide d'interfaces.  Par exemple, le cadre I-BEM peut faire une telle chose, une telle histoire avec des interfaces abstraites est int√©gr√©e dans le cadre.  Malheureusement, de nombreux frameworks ne savent pas comment faire, et la chose est puissante. <br><br>  Ici, √† titre d'exemple, nous avons cr√©√© l'interface audible, quelque chose qui peut sonner.  Et sa d√©finition est la m√©thode abstraite getNoise vide.  Nous avons √©largi notre serpent avec la classe audible, impl√©ment√© sa m√©thode getNoise et notre serpent a siffl√©.  L'inspiration pour cet ensemble d'exemples m'a √©t√© donn√©e par le merveilleux livre d'Eric Freeman et Design Patterns. <br><br>  Nous allons maintenant essayer d'examiner ces exemples un peu plus pr√©cis√©ment. <br><br><img src="https://habrastorage.org/webt/rm/pb/df/rmpbdf8kcpdxy3n-o7elkjqzuf8.jpeg"><br><br>  Mais d'abord, parlons de la raison pour laquelle ces exemples √©taient n√©cessaires.  Et ils √©taient n√©cessaires ici pour cette grande diapositive.  Ce qui est √©crit ici est si important que je l'ai m√™me mis dans le cartouche jaune.  On peut dire un mantra.  Il s'agit d'un principe tr√®s important auquel vous devez toujours penser lorsque vous concevez l'architecture.  Haute coh√©sion, faible couplage - forte adh√©rence, faible connectivit√©.  Il y a un certain probl√®me avec le fait que le mot coh√©sion et le mot couplage sont traduits en russe, et ainsi de suite, et ainsi de suite, ¬´connectivit√©¬ª est traduit, le mot couplage a √©t√© sp√©cialement invent√© pour ce principe. <br><br>  Telle est l'id√©e.  Vos blocs doivent √™tre tr√®s compacts, tr√®s √©troitement coupl√©s.  Ils doivent impl√©menter exactement une fonction.  Et entre eux, ils doivent √™tre connect√©s tr√®s facilement pour pouvoir √™tre facilement combin√©s, assembl√©s, comme un designer.  Et puis votre architecture sera suffisamment flexible et fiable.  Et aussi facile √† tester. <br><br>  Voyons comment on peut obtenir une traction forte et un couplage faible sur les points de ce qu'on appelle. <br><br><img src="https://habrastorage.org/webt/tj/ii/da/tjiida1_0svgswa1j7at7e36wto.jpeg"><br><br>  Sp√©cialisation.  Chaque bloc ne r√©sout qu'un seul probl√®me.  Ici, nous avons une bonne illustration - un designer pour enfants.  Nous avons chaque bloc ou un ensemble de blocs.  Ils sont tous de leur forme, de leur taille.  Et si nous devons construire une maison, nous prendrons de longues barres.  Si nous devons construire une balle, nous prendrons des barres courtes.  Chaque barre a sa propre fonction.  Et ceux qui ont jou√© aux constructeurs le savent: plus la forme des pi√®ces est simple, plus vous pouvez en construire.  Rien ne sera construit √† partir d'une telle zagoguline, ou seulement ce qui est d√©crit dans l'instruction est construit.  Et qui en a besoin? <br><br>  La m√™me chose, l'abstraction.  Il s'agit de l'abstraction de l'interface de l'impl√©mentation.  L'id√©e est que l'interface est externe, comment notre classe est, notre bloc ressort, comment il interagit avec d'autres blocs ne devrait pas affecter son impl√©mentation interne.  Au contraire - cela arrive.  L'autre fa√ßon - jamais.  Dans une bonne architecture.  Ici, √† titre d'exemple, la formation de ces boutons n'affecte pas la forme du bloc lui-m√™me.  Nous s√©lectionnons s√©par√©ment la forme du bloc et collons d√©j√† dessus. <br><br><img src="https://habrastorage.org/webt/mz/jv/cp/mzjvcphyv-ww_qxak1dkhrayj04.jpeg"><br><br>  Encapsulation.  Suite du sujet pr√©c√©dent.  Dans les m√©thodes priv√©es, c'est-√†-dire √† l'int√©rieur de nos blocs, nous r√©alisons le sens m√™me de notre bloc, l'impl√©mentation.  Et l'interface, la fa√ßon dont ils sont connect√©s, est publique.  Autrement dit, dans ce cas, toutes ces croix, tirets et le formulaire lui-m√™me sont impl√©ment√©s.  Et les boutons sont l'interface.  Et une bonne architecture ressemble √† un tel constructeur. <br><br><img src="https://habrastorage.org/webt/mn/fj/sz/mnfjszrrwxblgrmhty4jcxchpf4.jpeg"><br><br>  Oh quel monstre effrayant.  Il s'agit de r√©utiliser du code.  Au d√©part, ce monstre devait en fait montrer un exemple d'architecture m√©diocre, mais regardez-le attentivement.  Il est beau.  De plus, il est visiblement satisfait de sa vie, court assez vigoureusement sur ses √©tranges jambes.  Peut-√™tre qu'il sait m√™me voler, ou, au moins, il a de belles ailes de papillon. <br><br>  Quelle est l'id√©e?  Si vous avez une impl√©mentation pour un chameau et une impl√©mentation pour un crocodile, et qu'un gestionnaire vient √† vous et vous dit qu'un chameau-crocodile est urgent.  Vous n'√©crivez pas s√©par√©ment un crocodile de chameau.  Vous prenez le corps d'un chameau, le s√©parez de la r√©alisation enti√®re du chameau.  Prenez la t√™te du crocodile, s√©parez-la du crocodile et r√©utilisez les blocs.  Pourquoi est-ce n√©cessaire? <br><br>  Ensuite, lorsque le manager revient vous voir et dit que nous nous √©tendons de toute urgence en Am√©rique du Sud, et qu'il y a des alligators, nous devons maintenir une forme de m√¢choire irr√©guli√®re, ou que l√†, la quatri√®me dent du crocodile n'est pas comme √ßa, vous ne fouillerez pas tout le projet , o√π avez-vous copi√© les t√™tes de crocodiles.  Parce que vous pourriez avoir d'autres crocodiles de z√®bres-bisons √† proximit√©.  Vous prenez simplement votre classe la t√™te d'un crocodile, faites une extension √† partir de la s√©rie de la t√™te de l'alligator, donnez-lui les param√®tres, il d√©terminera lui-m√™me quelles dents dessiner pour lui.  Et c'est tout.  En un seul endroit et pas dans tous les endroits o√π il est utilis√©. <br><br>  Ici, la fiabilit√© augmente parfois, car vous √™tes assur√© d'oublier une t√™te copi√©e dans un projet tr√®s rare.  En g√©n√©ral, il n'y a rien de mal √† de tels cadavres.  Bon cadavre, utile. <br><br><img src="https://habrastorage.org/webt/hm/mn/rq/hmmnrqebwtywkhb8c5o35gv7n6a.jpeg"><br><br>  Nous allons maintenant examiner directement des exemples de mauvais code.  ,  .     TypeScript,    .    ,   .  ,      ,      ,  TypeScript 2.7  ,     (     ‚Äî . .). <br><br> ,     User.      .  .    User  ,     . User  ,    ,   . <br><br>      printLabel.    User.  ,    User  User,     .  User  User  ,  ,   .  -  ,   . <br><br>  , ?    , . , .    , ‚àí   ,    UserWithSurname, ,      printLabel.   ? , ,    ,      ,   . -   ?    ,      .    , ‚àí  ,  .      . PrintLabel    . ?     ? ,  . <br><br>  ,       .  ,      .  , ,    .  ,   if,     ,   .  ,    ,    . <br><br><img src="https://habrastorage.org/webt/lz/u5/bt/lzu5btqwmkn4qlxej0cwvrpq4xk.jpeg"><br><br>    printLabel,   ,  iPrintLabel   ,  iPhone,    .     -   getText.   User,   iPrintLabel.   , ,     ,  -  ,   getText  iPrintLabel,            ,     . UserWithSurname,     User,        Surname   getText.   printLabel   .    iPrintLabel    getText. <br><br>    ,    ,  ,  .  . , ,     .     , , ,       , ,    iPrintLabel,     ,  ,  , ‚àí .  printLabel     .   ,           . <br><br>       .   ,   ,    ,      front-end,  , .          ,    front-end  , , . <br><br><img src="https://habrastorage.org/webt/pn/fz/mb/pnfzmbqi3a7_xxro1ocxrnfelf4.jpeg"><br><br>    -?  .    -  back-end.     - API, ,    REST API   REST.   ‚Äî   , ‚àí      -.         ,   , - PowerPoint,     .      . <br><br>      front-end. Front-end   -  .   -  ,         .  ,   - .   .      .    , -, .     ,     ,      . . <br><br>          front-end,    ,    ,       ,    ,      ,   ,     . <br><br><blockquote> &gt; - ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Client-server</a> ) <br> &gt;  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Component-based</a> ) <br> &gt;  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Event-driven</a> ) <br> &gt; REST ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Representational state transfer</a> ) <br> &gt; --*( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MVC</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MVP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MVVM</a> ) <br> &gt;    ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux</a> ) </blockquote><br>  Ce sont les approches architecturales.  Nous en avons mentionn√© certains aujourd'hui.  Architecture client-serveur;  l'architecture des composants, une de ses variantes vous est famili√®re de React, si tout va bien.  √âv√©nement, qui, curieusement, est √©galement familier √† tout le monde, il est bas√© sur presque tous les syst√®mes d'exploitation pour ordinateurs personnels.  REST, ce que nous aimons dans le serveur, et les deux derniers, que nous apprendrons en d√©tail aujourd'hui, sont les plus frontaux, avec lesquels nous travaillons est un mod√®le de pr√©sentation * et des flux de donn√©es unidirectionnels. <br><br>  Commen√ßons par MV *.  Pourquoi un ast√©risque?  L'histoire, comme on dit, pleine de douleur et de col√®re.  Il √©tait une fois, dans les ann√©es 80, la merveilleuse approche architecturale de MVC a √©t√© invent√©e.  M - Mod√®le, V - Vue, C - Contr√¥leur.  L'approche √©tait tr√®s pratique.  Invent√© g√©n√©ralement pour les applications de console.  Mais quand les technologies web ont commenc√© √† se d√©velopper, quand elles ont toutes commenc√© √† l'utiliser, il s'est av√©r√© que parfois c'√©tait n√©cessaire, ici le mod√®le MV est bon, mais le Controller n'est pas impl√©ment√© correctement.  En cons√©quence, il y avait tellement de variantes diff√©rentes de l'impl√©mentation de Model-View - quelque chose qui au d√©but a √©t√© confondu du fait qu'il s'appelait tout MVC.  Parce que, s'il y a un mod√®le MV, alors le troisi√®me est Controller, peu importe ce que nous y avons r√©ellement fourr√©. <br><br>  Ensuite, il s'est av√©r√© que les gens sont confus et signifient des choses compl√®tement diff√©rentes par MVC.  Il y a environ un an, ils ont commenc√© √† partager activement cette terminologie et √† se faire un nom pour chaque impl√©mentation de cette approche.  D'une mani√®re ou d'une autre, ce MV * est apparu.  J'ai √©galement vu le terme MVW sur Internet, o√π W est n'importe quoi.  Eh bien, nous passons, en fait, aux technologies MVC. <br><br><img src="https://habrastorage.org/webt/mv/yc/fu/mvycfuvbvwewv3dyc3jzfqnxgdo.jpeg"><br><br>  Comment sont-ils arrang√©s?  L'id√©e est que nous avons un mod√®le qui stocke les donn√©es.  Il y en a g√©n√©ralement beaucoup.  Il existe une sorte de vue qui montre ces donn√©es √† l'utilisateur.  En r√®gle g√©n√©rale, ils sont √©galement nombreux.  Et un troisi√®me composant, qui est un interm√©diaire entre eux, relie les donn√©es et l'affichage.  Ici, l'utilisateur dans le coin sup√©rieur droit travaille avec tout cela. <br><br><img src="https://habrastorage.org/webt/hn/32/tk/hn32tkw40hvqtfjylhpbguvvu40.jpeg"><br><br>  MVC, la fa√ßon dont tout a commenc√© remonte √† 1980, Smalltalk.  Mais c'est sous cette forme qu'elle existe jusqu'√† pr√©sent dans certains cadres.  Pas dans certains, assez dans beaucoup.  Quelle est l'id√©e?  L'utilisateur travaille directement avec la vue et le contr√¥leur.  Il entre des donn√©es dans certains champs de la vue, appuie sur le bouton Soumettre et les donn√©es vont au contr√¥leur.  Ceci est une soumission de formulaire.  Un tel formulaire de soumission honn√™te par bouton d'envoi, familier √† tout le monde depuis longtemps, j'esp√®re. <br><br>  Nous regardons.  La fl√®che jaune de l'utilisateur au contr√¥leur - il s'agit des donn√©es transf√©r√©es par l'utilisateur au contr√¥leur √† l'aide du bouton de soumission.  Une fl√®che verte, - le contr√¥le y est pass√©.  Le contr√¥leur examine ces donn√©es.  Peut-√™tre qu'il les traite en quelque sorte, les subtilit√©s de mise en ≈ìuvre sont d√©j√† l√†, et les envoie au mod√®le souhait√©.  Le contr√¥leur lui-m√™me choisit le mod√®le √† envoyer.  Envoie une fl√®che verte, envoie des donn√©es avec une fl√®che jaune. <br><br>  Le mod√®le traite √©galement les donn√©es.  Elle les valide peut-√™tre.  Peut-√™tre qu'elle les met dans la base.  Bref, le mod√®le sait quoi en faire.  En r√®gle g√©n√©rale, le r√©sultat est de nouvelles donn√©es.  Par exemple, nous pouvons dire √† l'utilisateur s'il s'est connect√© ou non, et le mod√®le a v√©rifi√© le mot de passe avec la connexion.  Apr√®s cela, le mod√®le transf√®re √† nouveau le contr√¥le au contr√¥leur, afin que le contr√¥leur s√©lectionne la vue √† afficher.  Et les donn√©es vont directement √† la vue.  Comment cela peut-il √™tre fait, en g√©n√©ral, comment un mod√®le peut-il envoyer des donn√©es √† une vue? <br><br><img src="https://habrastorage.org/webt/sj/kl/f5/sjklf5h9jknh0zzhtdhfio2pkvm.jpeg"><br><br>  Tr√®s simple.  Si le contr√¥leur et le mod√®le se trouvent dans le serveur principal et que la vue de mod√®les est c√¥t√© serveur.  C'est ainsi que les cadres Ruby on Rails, ASP.NET, Django sont organis√©s, en g√©n√©ral, partout o√π vous √©crivez des mod√®les c√¥t√© serveur, et le code HTML collect√© arrive au client, et les donn√©es remontent √©galement, avec une forte probabilit√©, c'est cette approche.  Quels sont les probl√®mes ici.  Dans une application d'une seule page, une telle chose ne peut pas √™tre construite.  Nous avons constamment des donn√©es sur le serveur, disparu sur le serveur, la page se recharge.  Deuxi√®mement, on ne sait pas trop o√π pousser la validation du client, et, en g√©n√©ral, le JavaScript du client, AJAX et tout cela ici?  Parce que si nous voulons quelque chose de rapide, nulle part.  Cela ne fonctionne tout simplement pas dans cette approche, ou fonctionne de sorte qu'il ne fonctionne pas mieux. <br><br>  La derni√®re ligne ici, c'est une histoire tellement int√©ressante, enracin√©e, semble-t-il, en 2008.  La question √©tait: o√π stocker la logique m√©tier - sur le mod√®le ou dans le contr√¥leur?  Certains ont d√©clar√©: ¬´Nous stockons la logique m√©tier dans le contr√¥leur, car il s'agit de donn√©es pratiques et imm√©diatement nettoy√©es envoy√©es au mod√®le.  Le contr√¥leur se validera, rev√©rifiera, le cas √©ch√©ant, et enverra une erreur. "  Il y avait ceux qui disaient que "Le r√©sultat est de gros contr√¥leurs laids stupides, des contr√¥leurs √©pais, stupides et laids."  Ils se sont vraiment r√©v√©l√©s √©normes.  Et ils ont dit que la logique m√©tier devrait √™tre dans le mod√®le, et que le contr√¥leur devrait √™tre mince, l√©ger, transf√©r√© les donn√©es, le mod√®le lui-m√™me trait√©.  Et puis dans la premi√®re version, le mod√®le, en g√©n√©ral, se r√©v√®le √™tre juste une API pour la base de donn√©es. <br><br>  Comment, √† mon avis, vraiment?  En fait, vous devez surveiller leurs t√¢ches.  Si vous avez une connexion entre une vue et un mod√®le qui est toujours un √† un, une vue est un mod√®le, alors il est pratique pour vous de faire de la logique m√©tier dans les contr√¥leurs et de cr√©er un mod√®le simple et propre, qui, en fait, sera une API pour la base de donn√©es.  Si vos vues et mod√®les peuvent se chevaucher, et qu'une vue d√©pend de plusieurs mod√®les, le mod√®le fonctionne avec de nombreuses vues, il est pratique pour vous d'avoir de nombreux contr√¥leurs fins et de les multiplier dans n'importe quelle progression, peu vous importe combien ils sont, ils sont toujours petits. <br><br>  Je dois dire que le monde semble avoir gagn√© le deuxi√®me point de vue, avec la logique m√©tier dans les mod√®les.  Autrement dit, ces gros contr√¥leurs laids stupides ne semblent pas √™tre utilis√©s si activement.  Signaux, vous pouvez voir ce que dans la documentation d'ASP.NET, le cadre propos√© en 2013 proposait la logique m√©tier dans les contr√¥leurs.  Et dans les derni√®res versions en 2014 - dans les mod√®les.  Il y a eu un moment tr√®s int√©ressant o√π cela a chang√©. <br><br>  Quels MVC ont des probl√®mes.  Nous les avons d√©j√† prononc√©s, mais nous le ferons.  Tester car il n'est pas clair comment impl√©menter la validation client est possible, mais difficile, AJAX est viss√© sur le c√¥t√©, vous devez faire quelque chose.  Ils ont trouv√© une solution.  La solution s'appelait MVP, et, oui, vous pouvez rencontrer MVP dans le framework avec le texte qu'ils sont MVC.  Par exemple, le framework Backbone MVP.  A propos de lui depuis longtemps dans la documentation dans le m√™me 2011-2012-2013, il a √©t√© √©crit qu'il s'agit d'un framework MVC. <br><br><img src="https://habrastorage.org/webt/4y/w2/ge/4yw2geofqyb5tmvj1fpv6o-q__e.jpeg"><br><br>  Model-View-Presenter.  Son sch√©ma est d√©j√† beaucoup plus simple.  Il existe des mod√®les.  Ils interagissent les uns avec les autres.  Ils donnent des donn√©es √† Presenter, Presenter les transf√®re √† la vue, les montre √† l'utilisateur.  Et de retour.  L'utilisateur introduit quelque chose dans la vue, appuie sur le bouton, le pr√©sentateur regarde, AJAX envoie au mod√®le ou le place dans le mod√®le, et le mod√®le AJAX envoie au serveur.  Autrement dit, tout est d√©j√† beaucoup plus simple et lin√©aire, mais sans normalisation c√¥t√© serveur, il y aura d√©j√† des difficult√©s.  Si vous voulez un serveur, un tel syst√®me sera compliqu√©. <br><br><img src="https://habrastorage.org/webt/by/k2/sp/byk2spod-5nthacsrxtjmbcxvwg.jpeg"><br><br>  Comparons.  Regardons la premi√®re image, o√π nous allons essayer d'impl√©menter une chose tr√®s simple - envoyer des donn√©es d'entr√©e au mod√®le.  Nous avons entr√© quelque chose, cliqu√© sur un bouton, il devrait appara√Ætre dans le mod√®le, le mod√®le fera quelque chose avec cela et nous dira que quelque chose s'est produit.  Nous sommes entr√©s: "je m'appelle Vasya", j'ai cliqu√© sur OK.  Si nous voulons une validation c√¥t√© client, cela se produit ici, presque par interception, dans les cas particuli√®rement graves, en effet, en interceptant un clic via event.preventDefault ().  Et quelque part, un point z√©ro sur le c√¥t√© a valid√© la validation du client. <br><br>  Ensuite, nous envoyons honn√™tement les donn√©es via le formulaire de soumission au responsable du traitement.  Les donn√©es entrent dans le mod√®le, le mod√®le le met en lui-m√™me, traite, regarde.  Nous dit que, bien, les donn√©es sont accept√©es, vous √™tes vraiment Vasya.  La troisi√®me fl√®che - le contr√¥le va au contr√¥leur, le mod√®le indique au contr√¥leur que, veuillez afficher l'√©tiquette ¬´Mon nom est Vasya¬ª.  Le contr√¥leur s√©lectionne la vue appropri√©e, affiche l'√©tiquette.  Et les donn√©es ¬´mon nom est Vasya¬ª, la quatri√®me fl√®che, jaune, le mod√®le y met.  La question est de savoir comment tester cela?  Seulement un instantan√©.  Pas d'autre moyen.  Il n'y a rien sur quoi √©crire, m√™me des tests fonctionnels. <br><br>  La deuxi√®me option, d√©j√† avec MVP.  Nous avons conduit "mon nom est Vasya", cliqu√© sur ok.  Fl√®che sous le num√©ro un, verte, - la direction est all√©e au pr√©sentateur.  Le pr√©sentateur a dit: le bouton est enfonc√©.  Le pr√©sentateur regarde, fl√®che num√©ro deux, bleu, notez qu'il s'agit d'une demande de donn√©es.  Dans MVP classique, il ne s'agit pas d'envoyer des donn√©es de la vue √† Presenter, mais une demande de donn√©es de Presenter.  C'est beaucoup plus propre, car Presenter peut d√©j√† savoir √† l'avance, par exemple, qu'il n'a pas besoin de donn√©es, tout de m√™me, tout va mal. <br><br>  Ensuite, le troisi√®me paragraphe sur Presenter est une validation JS honn√™te.  Nous pouvons d√©j√† l'√©crire en toute s√©curit√©, c'est un endroit sp√©cial pour cela.  La quatri√®me fl√®che - les donn√©es vont au mod√®le, par exemple, les mettent dans la base de donn√©es, dit: "Tout est en ordre, je le mets."  La cinqui√®me fl√®che, vous voyez, elle est ray√©e, j'esp√®re qu'il est clair qu'elle est ray√©e jaune-vert, et la gestion et les donn√©es sont revenues √† Presenter.  Le mod√®le a dit "je l'ai mis", le pr√©sentateur a r√©alis√© que puisque les donn√©es ont √©t√© plac√©es dans la base de donn√©es, cela signifie qu'il est n√©cessaire de montrer que tout est en ordre, les donn√©es sont mises.  Et la sixi√®me fl√®che - ils l'ont envoy√©e √† la vue, peut-√™tre √† une autre, mais je n'ai pas dessin√© la deuxi√®me vue. <br><br>  Quel est le plus ici.  La validation JS est tomb√©e √† sa juste place et tout s'est bien pass√©, AJAX est √©galement tomb√© en place, cela peut √™tre la quatri√®me fl√®che, par exemple, si le mod√®le est sur le serveur, ou le mod√®le AJAX lui-m√™me va au serveur.  Et enfin, nous pouvons tester Presenter en toute s√©curit√©, y √©crire des tests fonctionnels. <br><br><img src="https://habrastorage.org/webt/hw/it/hn/hwithnio6pftr2qf-5ogkg7x4vc.jpeg"><br><br>  Deuxi√®mement, qu'avons-nous d'autre de positif, en plus des tests simplifi√©s?  Nous avons obtenu une s√©paration de l'affichage visuel et de son travail.  Autrement dit, nous pouvons toujours √©crire un instantan√© sur View, et nous pouvons √©crire des tests sur Presenter s√©par√©ment.  Nous pouvons r√©parer le pr√©sentateur et ne pas toucher la vue, et vice versa.  Notre sp√©cialisation s'est am√©lior√©e.  C'est ainsi que les frameworks tels que Angular1, Backbone, Ember, Knockout des versions ant√©rieures sont organis√©s.  Une fois qu'il y en avait beaucoup, juste une concurrence f√©roce. <br><br>  Quelles sont les fonctionnalit√©s.  Le pr√©sentateur est d√©j√† plac√© sur le client, le mod√®le peut √™tre l√† et des applications d'une seule page sont tranquillement cr√©√©es.  Cela se passe mieux, mais il y a beaucoup d'applications d'une seule page sur cette histoire, ou du moins cela a √©t√© fait auparavant.  L'interaction avec le serveur AJAX est bonne.  Validation client en place.  Il semblerait que tout va bien, pourquoi r√©fl√©chir plus loin? <br><br>  Cependant, au moins MVVM a √©t√© invent√©.  C'est aussi une chose int√©ressante. <br><br><img src="https://habrastorage.org/webt/ts/qa/gs/tsqagsrgxuxkkpmk81xpvzu9zds.jpeg"><br><br>  Il s'agit essentiellement d'une impl√©mentation de Presenter utilisant le cadre.  Il s'est av√©r√© souvent lorsque vous avez √©crit le premier pr√©sentateur, le deuxi√®me pr√©sentateur, le cinqui√®me pr√©sentateur, qu'ils sont tous les m√™mes.  Et ils ont juste tricot√© une vue et un mod√®le.  Comme vous pouvez le voir, il est construit comme MVP. <br><br><img src="https://habrastorage.org/webt/vp/j-/xd/vpj-xd3_hkbngf5r3rrxff9qyb0.jpeg"><br><br>  Et tant de cadres viennent de r√©soudre ces t√¢ches contraignantes.  Quels en sont les avantages?  Nous n'avons pas besoin d'√©crire de code suppl√©mentaire.  Et cela acc√©l√®re vraiment la vitesse de d√©veloppement.  Quels sont les inconv√©nients.  La connectivit√© entre Model et ViewModel est am√©lior√©e. <br><br>  Autrement dit, des probl√®mes surviennent l√†-bas pr√©cis√©ment en raison de la forte connectivit√©, il arrive donc parfois que MVVM ne soit pas utilis√©.  Par exemple, je connais personnellement MVVM dans le cadre i-BEM, que nous utilisons parfois, et que nous n'utilisons pas parfois, car il s'agit d'une liaison g√™nante et trop stricte.  Cependant, il existe, Microsoft Silverlight est organis√© par cette technologie, et ils disent: bon.  Je ne sais pas, je ne l'ai pas essay√©. <br><br>  Pourquoi est-il arriv√© qu'en plus de MVP et MVVM, quelque chose d'autre soit apparu, vous tous familiaris√©s avec le mot redux, pourquoi il y avait des flux de donn√©es unidirectionnels. <br><br><img src="https://habrastorage.org/webt/xd/r5/bp/xdr5bp3oxzj8_uxsvw3lqd5tdlk.jpeg"><br><br>  Nous regardons la bonne image.  Nous avec MVP avons r√©guli√®rement un tel probl√®me.  Supposons que nous ayons un syst√®me complexe, pas un √† un - de nombreuses vues, de nombreux mod√®les.  Ils sont tous interconnect√©s.  La vue de dessus, jaune, a chang√© le mod√®le.  Le mod√®le a chang√© un autre mod√®le.  La vue jaune du bas a chang√©.  La vue inf√©rieure a √©galement chang√© le mod√®le.  Tous ensemble, ils ont chang√© la vision rouge centrale, et quelque chose d'incompr√©hensible s'y passe. <br><br>  Facebook a √©t√© confront√© √† ce probl√®me lorsqu'ils ont constamment re√ßu un bogue en raison de messages contextuels non lus.  Autrement dit, l'utilisateur voit "Vous avez un message non lu", s'ouvre, mais ce n'est pas le cas.  Parce que les deux points de vue ont corrig√© ensemble l'√©tat de celui-ci ... En g√©n√©ral, l'√©tat de la vue a √©t√© corrig√© √† partir de deux sources diff√©rentes, et qui a raison n'est pas clair.  Ils l'ont gouvern√©, un bug est ressuscit√©, ils ont r√©gn√© √† nouveau, un bug est ressuscit√©.  Au final, ils √©taient fatigu√©s, et ils ont d√©cid√© de r√©soudre le probl√®me radicalement, d√©sol√© pour la tautologie, et ont juste rendu l'√©tat de vue d√©terministe. <br><br>  Le probl√®me du MVP se situe pr√©cis√©ment dans le non-d√©terminisme de l'√©tat du syst√®me.  Nous ne pouvons pas toujours pr√©dire dans quel √©tat elle est maintenant, et qui est venu en premier, qui a corrig√© quoi.  Flux a r√©solu ce probl√®me, comme on dit, g√©n√©tiquement.  Il ne peut pas avoir √ßa.  Ils m'ont dit ici depuis longtemps que l'id√©e d'un flux de donn√©es unidirectionnel √©tait dans l'air, c'est vrai.  Et ce concept a √©t√© invent√©, bien s√ªr, bien avant Facebook, bien avant 2013, quand ils l'ont publi√©.  Mais comme ils disent, ils ont brevet√©, ils ont d'abord publi√© un spreadshit, que nous avons trouv√© une telle chose, utilisez-le. <br><br><img src="https://habrastorage.org/webt/ur/xk/hp/urxkhphyjz85uoyqlci_syhu1bo.jpeg"><br><br>  Regardons Flux plus en d√©tail.  Voici l'id√©e.  Nous avons un magasin, et ce magasin est un entrep√¥t de donn√©es, c'est la seule source de v√©rit√© pour notre application.  Tout le reste est faux.  Comment fonctionne-t-il?  Au d√©but, si nous regardons sp√©cifiquement le cycle de travail, il commence g√©n√©ralement par l'utilisateur qui fait quelque chose, c'est-√†-dire que la vue fonctionne.  La vue cr√©e une action.  Veuillez noter que l'action n'est pas remplie dans l'image.  Pourquoi  Parce que c'est une structure.  Ce n'est pas une classe, pas un objet, ce n'est pas quelque chose d'intelligent.  Telle est la structure.  Sur le web, en JavaScript on peut l'√©crire, c'est juste cet objet tr√®s abstrait. <br><br>  La vue cr√©e une structure, passe au gestionnaire de blocs.  Le gestionnaire de blocs d√©clenche un rappel.  Autrement dit, il dit: ¬´Appelez la fonction que l'on m'a dit d'appeler lorsque l'action se produit.  Il a dit d'appeler le magasin. "  Autrement dit, la m√©thode Store est appel√©e √† partir du r√©partiteur.  La m√©thode est appel√©e.  La m√©thode est appel√©e, elle est obtenue sur le Store.  Le magasin regarde ce qui en est arriv√©, se change en quelque sorte.  Il change son √©tat.  Et il est le seul √† pouvoir changer son √©tat.  Personne d'autre ne fait √ßa.  Autrement dit, il est la seule source de v√©rit√©.  Apr√®s cela, il diffuse toutes les vues qui lui sont li√©es, tous les composants qui lui sont li√©s: "J'ai chang√©, allez chercher les donn√©es." <br><br>  Les vues vont pour les donn√©es, puis un moment int√©ressant commence.  Dans Flux classique, comme sur Facebook, la vue est enti√®rement redessin√©e. <br><br><img src="https://habrastorage.org/webt/wb/7p/pj/wb7ppjlhpuquvd6a0e1ygfczicw.jpeg"><br><br>  Voici notre formulaire avec une √©tiquette et un bouton.  Comment fonctionne-t-elle?  Nous regardons le point z√©ro.  Le point z√©ro est √©galement l√†.  Il est la fl√®che bleue tout en bas, l'enregistrement du rappel.  C'est ce qui arrive en premier. <br><br>  Le responsable du magasin appelle: ¬´Veuillez enregistrer mon rappel, que vais-je faire lorsque l'action viendra √† vous.¬ª  C'est arriv√©.  Ensuite, nous pouvons travailler avec l'application.  Nous avons cliqu√© sur un bouton, cr√©√© une structure.  Veuillez noter qu'en plus des donn√©es saisies par l'utilisateur, par exemple Vasya, Action a √©galement des m√©tadonn√©es, type.  Un point tr√®s important est que l'action elle-m√™me transmet le type d'action qu'elle est, mais au r√©partiteur de toute fa√ßon.  Il jette toute l'√©mission Action.  Premi√®re fl√®che, la m√©thode est appel√©e. <br><br>  Le r√©partiteur appelle la m√©thode, en fait, un d√©clencheur d'action et y passe cette action.  Sur le d√©clencheur Action, un rappel est appel√©, que nous avons enregistr√© au point z√©ro.  Voici la fl√®che rouge, c'est un rappel depuis un rappel.  Le magasin prend ces donn√©es, semble que, le type est changer de nom, donc je me change dans le champ du nom en Vasya, et je l'envoie au back-end, et valide d'une mani√®re ou d'une autre, probablement, en g√©n√©ral, le magasin sait quoi faire .  Ensuite, la fl√®che violette diffuse l'√©v√©nement de modification.  Nous avons chang√©.  Tout le monde sait que nous avons chang√© de magasin. <br><br>  Ensuite, une petite caract√©ristique du Flux classique, qui peut ne pas √™tre famili√®re √† ceux qui ont travaill√© avec Redux, plus pr√©cis√©ment, m√™me avec React, et non avec Redux.  Les vues vont pour les donn√©es.  Ils vont au magasin et disent: "J'ai ce champ, ce champ et ce champ."  Nous sommes habitu√©s au fait que, au contraire, tout d√©pend des vues si vous avez travaill√© avec React, Redux ou quelque chose du genre.  Et le sixi√®me point, une refonte compl√®te. <br><br>  Regardons ce diagramme et trouvons un goulot d'√©tranglement, √† cause de quoi?  Redessiner.  Une refonte compl√®te, c'est pourquoi Flux a commenc√© √† √™tre activement utilis√© apr√®s 2013, quand est-ce arriv√©?  Qu'est-ce qui a rendu cela possible?  Maison virtuelle.  Une maison virtuelle qui vous permet de redessiner uniquement lorsque c'est vraiment n√©cessaire. <br><br><img src="https://habrastorage.org/webt/fw/mt/5b/fwmt5buqiod5aydmavmpq2d2ly0.jpeg"><br><br>  Mettons-nous de c√¥t√© et parlons de React qui, comme cela, combin√© avec succ√®s avec Flux, a fait le monde que nous connaissons maintenant lorsque cette technologie est la plus populaire. <br><br>  Le m√™me 2013, le m√™me 2013, le m√™me Facebook.  Initialement, React a √©t√© invent√© en g√©n√©ral, comme un avis de vues dans MVC, MVP, variations.  Et vous pouvez vraiment l'utiliser l√†-bas.  Quelle est sa puissance.  Premi√®rement, la maison virtuelle, comme ils l'ont dit √† juste titre, permet de ne pas redessiner la vraie maison, car c'est une op√©ration tr√®s difficile, mais de redessiner la virtuelle.  Et seulement si, en effet, il y avait un changement, nous redessinions le composant, √† la suite de quoi tout fonctionne beaucoup plus rapidement qu'il ne pourrait l'√™tre. <br><br>  Et - de purs composants immuables.  Ceci est le m√©canisme des propri√©t√©s.  L'impl√©mentation est √©galement r√©active, vous permettant de cr√©er des composants qui n'ont pas leur propre √©tat.  Et si vous √©crivez dans cette architecture, il est tr√®s correct de cr√©er des composants propres, sans √©tat, sans √©tat.  Ils n'ont que des donn√©es provenant du magasin, et il les tire.  Ils sont pratiques √† tester, ils se cassent rarement.  Ce qui est statique est assez difficile √† casser et les tests sont faciles. <br><br>  Les applications combin√©es avec l'architecture Flux sont puissantes.  Beaucoup de gens savent probablement que c'est vraiment une chose puissante.  Quelle importance faut-il mentionner?  En plus de React Redux, il existe de nombreux autres bundles.  Et vous savez probablement qu'il y a un deuxi√®me angulaire.  C'est √©galement une combinaison de framework r√©actif et d'architecture Flux.  Vue,    Flux  Redux ‚Äî Fluxxor, MobX  . .     React Redux.   Vue, ,      ,  React Redux.    . <br><br><img src="https://habrastorage.org/webt/vz/lp/zd/vzlpzdhegekq8qaleu18cxykukg.jpeg"><br><br>      ?  ,   React Redux   .  Vue, .    ‚Äî .               ‚Äî     MVC-.            .      .  - React Redux    . <br><br> MVP/MVVM-    .   ,      ‚Äî ,  ,    .  single page application,  multiple page application. -    - . ,       -,  -    . ,  MVP,     . <br><br>       ‚Äî single page application   ,    ,     . .  Flux    React Redux, View, Angular, MobX, Fluxxor  . . <br><br>  Conclusion . <br><br><blockquote> &gt; MVC: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Smalltalk-80</a> , <a href="">General MVC</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ASP.NET</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MVC on Web</a> <br> &gt; MVP: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MVP vs MVC</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GUI Architecture</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Backbone</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Angular1</a> <br> &gt; MVVM: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MS Silverlight</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  i-BEM</a> <br> &gt; Flux: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  Hexlet</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux for stupid people</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flux official</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.google.ru/url%3Fsa%3Dt%26rct%3Dj%26q%3D%26esrc%3Ds%26source%3Dweb%26cd%3D1%26cad%3Drja%26uact%3D8%26ved%3D0ahUKEwjAocDv153ZAhUBfywKHTHzDRQQFggoMAA%26url%3D">ReactJS</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VueJS</a> <br> &gt; : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> , ¬´Javascript. ¬ª</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   ., ¬´ ¬ª</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D.Garlain, M.Shaw, ‚ÄùAn introduction to Software Architecture‚Äù</a> (1994), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">E.Dijkstra ‚ÄùGOTO statement considered harmful‚Äù</a> (1968) <br></blockquote><br>  MVC, MVP, MVVM    . ,          .  Flux     . , ,  . ,    ‚Äî .    . JavaScript. .        ES5,     ¬´JavaScript. ¬ª      ,         ES6- ‚Äî , , ,      . <br><br>  , ¬´ ¬ª.   .    Java,      .   ,   ,    Flux,    .       MVP,    ‚Äî -.          ,       .      . <br><br>   ,     , ¬´   ¬ª. , , , ,  , .         ¬´GOTO operator considered harmful¬ª.   . ,   . <br><br>  .   .    .  ,  -   ,          .    ,  ,  Flux,     ,   input  Flux.       ‚Äî     ,    ,   -  .          .       ,    . ,    <a href=""></a> .  Merci beaucoup. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425611/">https://habr.com/ru/post/fr425611/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425601/index.html">Correction d'un bug dans un jeu 2000 sur Shockwave</a></li>
<li><a href="../fr425603/index.html">Recherche de cheminement de carri√®re</a></li>
<li><a href="../fr425605/index.html">Acceptation des paiements d'une carte sans jur. visages sur Yandex.Money</a></li>
<li><a href="../fr425607/index.html">Identifiez la fraude √† l'aide de l'ensemble de donn√©es Enron. Partie 2, trouver le meilleur mod√®le</a></li>
<li><a href="../fr425609/index.html">Th√©orie des jeux: prise de d√©cision avec exemples √† Kotlin</a></li>
<li><a href="../fr425613/index.html">Comment j'ai combin√© les donn√©es du plugin Tempo pour Jira Server et Jira Cloud et les ai migr√©es vers Jira Cloud</a></li>
<li><a href="../fr425619/index.html">Le probl√®me des bandits √† bras multiples - Comparez la strat√©gie Epsilon-Greedy et l'√©chantillonnage de Thompson</a></li>
<li><a href="../fr425621/index.html">Une entreprise qui utilise le dioxyde de carbone atmosph√©rique lance la production de m√©thane</a></li>
<li><a href="../fr425623/index.html">Visite photo de coworking ¬´Key¬ª</a></li>
<li><a href="../fr425625/index.html">D√©pens√©, ou pourquoi les localisateurs traduisent mal les jeux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>