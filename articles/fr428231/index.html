<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏻 😋 🏚️ Beau et propre: des outils qui vous aident à obtenir un code presque parfait 🥚 🆕 🤚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Adil Imran est un programmeur qui travaille dans ce domaine depuis longtemps, partageant expérience, bonnes pratiques et observations avec des collègu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Beau et propre: des outils qui vous aident à obtenir un code presque parfait</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/428231/"><img src="https://www.wlion.com/wp-content/uploads/2017/04/CleanCode.jpg"><br><br>  Adil Imran est un programmeur qui travaille dans ce domaine depuis longtemps, partageant expérience, bonnes pratiques et observations avec des collègues sur son blog.  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouvel article d'</a> Adil traite des outils qui vous aident à écrire un code beau et propre qui fonctionne bien. <br><br>  De l'auteur: vous voulez écrire du bon code, mais vous ne savez pas par où commencer, essayez de lire ceci et cela, mettez en pratique ce que vous lisez.  Mais encore, il y a plus de questions que de réponses.  Est-il nécessaire de supprimer le code "mort"?  Que faire si une variable inutilisée est trouvée dans un projet déjà écrit?  Comment trouver des schémas problématiques et tout corriger?  Ces questions sont importantes et nombre d'entre nous tentent d'y répondre.  Mais la meilleure chose à faire est de tout bien faire à partir de zéro, afin de ne pas avoir à chercher les zones à problèmes et à réparer les trous, ce qui fait perdre du temps.  Il existe plusieurs outils que vous pouvez appeler indispensables pour créer un bon code. <br><br>  Les exemples que nous couvrirons dans cet article sont pertinents pour React, bien que ce que vous lisez puisse être appliqué à presque tous les projets Web. <br><a name="habracut"></a><br><blockquote>  <b>Skillbox recommande:</b> Cours pratique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Profession Web Developer"</a> . <br><br>  <b>Nous vous rappelons:</b> <i>pour tous les lecteurs de «Habr» - une remise de 10 000 roubles lors de l'inscription à un cours Skillbox en utilisant le code promotionnel «Habr».</i> </blockquote><br>  La liste complète des outils d'article est ici: <br><br><ul><li>  Plus joli </li><li>  ESLint </li><li>  Automatisez le formatage et les peluches lors de l'enregistrement </li><li>  Husky </li><li>  Lint-staged </li><li>  Avec Husky et Lint-Staged Combined </li><li>  EditorConfig </li></ul><br><h3>  Commençons par Prettier </h3><br>  Cet outil est un optimiseur de code réfléchi. <br><br><img src="https://cdn-images-1.medium.com/max/800/1*opcd-o83ElQvQNP84oDgyQ.gif"><br><br>  <b>Pourquoi est-il nécessaire?</b> <br><br>  Nettoie le code prêt à l'emploi.  Imaginez simplement que vous devez optimiser environ 20 000 lignes.  Prettier fera tout cela automatiquement et rapidement. <br><br>  Il est simple à utiliser et facile à adapter par vous-même - plusieurs équipes travaillent à l'amélioration de Prettier, vous pouvez donc choisir la version qui vous convient. <br><br>  Si vous êtes un programmeur débutant qui veut écrire du beau code mais ne savez pas par où commencer, essayez Prettier. <br><br>  <b>L'installation</b> <br><br>  Vous devez créer un dossier appelé app, et à l'intérieur du type de dossier sur la ligne de commande ce qui suit: <br><br><pre><code class="javascript hljs">npm init -y</code> </pre> <br>  Cette commande créera le fichier package.json. <br><br>  Ensuite, nous traitons des dépendances. <br><br><pre> <code class="javascript hljs">yarn add --dev prettier</code> </pre> <br>  Après avoir exécuté la commande, ce qui suit apparaît à l'intérieur du fichier nouvellement créé: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-string"><span class="hljs-string">"devDependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Ensuite, créez un dossier src / dans le dossier de l'application.  Et à l'intérieur du fichier src / index.js.  Vous pouvez le nommer comme vous voulez, l'essentiel est de l'insérer dans son corps: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Yoda"</span></span>, <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'Jedi Master '</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trainJedi</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">jediWarrion</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (jediWarrion.name === <span class="hljs-string"><span class="hljs-string">'Yoda'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'No need! already trained'</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Training </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${jediWarrion.name}</span></span></span><span class="hljs-string"> complete`</span></span>) } trainJedi(person) trainJedi({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Adeel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'padawan'</span></span> });</code> </pre> <br>  Nous avons maintenant src / app / index.js avec du code maladroit. <br><br>  Vous pouvez y effectuer les opérations suivantes: <br>  - formater manuellement; <br>  - utiliser l'automatisation; <br>  - ne rien faire (laisser aller les choses et avancer). <br><br>  La troisième option est préférable de ne pas choisir, sinon pourquoi avons-nous besoin d'outils pour optimiser le code?  Choisissons la deuxième option.  Nous avons une dépendance et un script Prettier dans notre fichier package.json. <br><br>  Créez maintenant prettier.config.js dans le dossier de l'application. <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">printWidth</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">singleQuote</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">trailingComma</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bracketSpacing</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">jsxBracketSameLine</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">tabWidth</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">semi</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, };</code> </pre> <br>  <b>printWidth vous</b> permet de <b>vous</b> assurer que le code ne dépasse pas 100 caractères; <br>  <b>singleQuote</b> convertit tous les guillemets doubles en simples; <br>  <b>trailingComma</b> vérifiera toutes les virgules pendantes dans le code, en particulier à la fin de la dernière propriété de l'objet.  C'est expliqué <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> <br>  <b>bracketSpacing</b> gère les espaces dans les littéraux d'objets: <br><br><pre> <code class="javascript hljs">If bracketSpacing is <span class="hljs-literal"><span class="hljs-literal">true</span></span> - Example: { <span class="hljs-attr"><span class="hljs-attr">foo</span></span>: bar } If bracketSpacing is <span class="hljs-literal"><span class="hljs-literal">false</span></span> - Example: {<span class="hljs-attr"><span class="hljs-attr">foo</span></span>: bar} jsxBracketSameLine    JSX- <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span> <span class="hljs-comment"><span class="hljs-comment">// true example &lt;button className="prettier-class" id="prettier-id" onClick={this.handleClick}&gt; Click Here &lt;/button&gt; // false example &lt;button className="prettier-class" id="prettier-id" onClick={this.handleClick} &gt; Click Here &lt;/button&gt;</span></span></code> </pre> <br>  <b>tabWidth</b> définit le nombre d'espaces au niveau du retrait. <br>  <b>semi</b> - si vrais tirages;  à la fin de la déclaration. <br>  Voici une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">liste complète des options avec</a> lesquelles Prettier peut travailler. <br><br>  Une fois la configuration initiale terminée, vous pouvez exécuter le script. <br><br>  "Plus joli": "plus joli - écrire src / ** / *. Js" <br><br>  Dans l'exemple ci-dessus, le script recherche tous les fichiers .js du dossier src /. <br>  -write indique la nécessité de sauvegarder des fichiers de code optimisés. <br><br>  Exécutons le script: <br><br>  fil plus joli <br><br><img src="https://cdn-images-1.medium.com/max/800/1*XLy2nZkWeQz7gghWtweGKA.gif"><br><br>  Si vous avez des problèmes avec l'exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici le référentiel</a> où vous pouvez trouver tout ce qui est préparé. <br><br><h3>  ESLint </h3><br>  Cet outil analyse le code pour aider à détecter les modèles problématiques qui ne sont pas conformes aux règles et normes.  Cela fonctionne pour la plupart des langages de programmation. <br><br>  <b>Pourquoi est-il nécessaire lorsqu'il est appliqué à JavaScript?</b> <br><br>  Parce que JavaScript est un langage assez libre, les développeurs font souvent des erreurs.  ESLint vous aide à trouver des problèmes sans exécuter un programme écrit. <br><br>  <b>Comment ESLint se démarque-t-elle de son propre genre?</b> <br><br>  Il est facile à configurer, il est très flexible.  Vous pouvez ajouter et supprimer des règles si nécessaire - littéralement tout est configuré.  Ainsi, vous pouvez formater le code en fonction de l'ensemble de règles que vous utilisez. <br><br>  <b>Maintenant, deux guides de style sont les plus pertinents:</b> <br><br><ul><li>  Guide de style Google JavaScript </li><li>  Guide de style JavaScript Airbnb </li></ul><br>  Quant à moi, je recommande la deuxième option.  Il est très populaire, vous pouvez le vérifier en allant sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">son GitHub</a> . <br><br>  Tout d'abord, mettons à jour notre fichier package.json: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Signification de chaque option: <br><br>  <b>eslint</b> : c'est l'outil principal pour travailler avec du code natif. <br>  <b>babel-eslint</b> : <b>utile</b> si vous travaillez avec Flow ou des fonctionnalités expérimentales qui ne sont pas encore prises en charge par ESLint. <br>  <b>eslint-config-airbnb</b> : ce package fournit au développeur la configuration ESLint d'Airbnb. <br>  <b>eslint-plugin-babel:</b> plugin compagnon pour babel-eslint. <br>  <b>eslint-plugin-react:</b> optimise pour réagir. <br>  <b>eslint-plugin-import:</b> offre la possibilité de travailler avec la syntaxe d'import / export ES2015 + (ES6 +). <br>  <b>eslint-plugin-prettier:</b> rationalise l'interaction d'ESLint avec Prettier. <br><br>  Une fois les choses de base terminées, commençons.  Par exemple, créez un fichier .eslintrc.js dans le dossier app /. <br><br><pre> <code class="hljs pgsql">module.exports = { env: { es6: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, browser: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, node: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, }, extends: [<span class="hljs-string"><span class="hljs-string">'airbnb'</span></span>, <span class="hljs-string"><span class="hljs-string">'plugin:jest/recommended'</span></span>, <span class="hljs-string"><span class="hljs-string">'jest-enzyme'</span></span>], plugins: [ <span class="hljs-string"><span class="hljs-string">'babel'</span></span>, <span class="hljs-string"><span class="hljs-string">'import'</span></span>, <span class="hljs-string"><span class="hljs-string">'jsx-a11y'</span></span>, <span class="hljs-string"><span class="hljs-string">'react'</span></span>, <span class="hljs-string"><span class="hljs-string">'prettier'</span></span>, ], <span class="hljs-keyword"><span class="hljs-keyword">parser</span></span>: <span class="hljs-string"><span class="hljs-string">'babel-eslint'</span></span>, parserOptions: { ecmaVersion: <span class="hljs-number"><span class="hljs-number">6</span></span>, sourceType: <span class="hljs-string"><span class="hljs-string">'module'</span></span>, ecmaFeatures: { jsx: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> } }, rules: { <span class="hljs-string"><span class="hljs-string">'linebreak-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // Don<span class="hljs-string"><span class="hljs-string">'t play nicely with Windows. '</span></span>arrow-parens<span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // Incompatible with prettier '</span></span><span class="hljs-keyword"><span class="hljs-keyword">object</span></span>-curly-newlin<span class="hljs-string"><span class="hljs-string">e': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // Incompatible with prettier '</span></span><span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-mixed-operators<span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // Incompatible with prettier '</span></span>arrow-body-styl<span class="hljs-string"><span class="hljs-string">e': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // Not our taste? '</span></span><span class="hljs-keyword"><span class="hljs-keyword">function</span></span>-paren-newlin<span class="hljs-string"><span class="hljs-string">e': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // Incompatible with prettier '</span></span><span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-plusplus<span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', '</span></span>space-<span class="hljs-keyword"><span class="hljs-keyword">before</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">function</span></span>-paren<span class="hljs-string"><span class="hljs-string">': 0, // Incompatible with prettier '</span></span>max-len<span class="hljs-string"><span class="hljs-string">': ['</span></span>error<span class="hljs-string"><span class="hljs-string">', 100, 2, { ignoreUrls: true, }], // airbnb is allowing some edge cases '</span></span><span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-consol<span class="hljs-string"><span class="hljs-string">e': '</span></span>error<span class="hljs-string"><span class="hljs-string">', // airbnb is using warn '</span></span><span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-alert<span class="hljs-string"><span class="hljs-string">': '</span></span>error<span class="hljs-string"><span class="hljs-string">', // airbnb is using warn '</span></span><span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-param-<span class="hljs-keyword"><span class="hljs-keyword">reassign</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // Not our taste? "radix": "off", // parseInt, parseFloat radix turned off. Not my taste. '</span></span>react/require-<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>-props<span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // airbnb use error '</span></span>react/forbid-prop-<span class="hljs-keyword"><span class="hljs-keyword">types</span></span><span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // airbnb use error '</span></span>react/jsx-filename-<span class="hljs-keyword"><span class="hljs-keyword">extension</span></span><span class="hljs-string"><span class="hljs-string">': ['</span></span>error<span class="hljs-string"><span class="hljs-string">', { extensions: ['</span></span>.js<span class="hljs-string"><span class="hljs-string">'] }], // airbnb is using .jsx '</span></span>prefer-destructuring<span class="hljs-string"><span class="hljs-string">': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', '</span></span>react/<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-find-dom-nod<span class="hljs-string"><span class="hljs-string">e': '</span></span><span class="hljs-keyword"><span class="hljs-keyword">off</span></span><span class="hljs-string"><span class="hljs-string">', // I don'</span></span>t know <span class="hljs-string"><span class="hljs-string">'react/no-did-mount-set-state'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, <span class="hljs-string"><span class="hljs-string">'react/no-unused-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span> still buggy <span class="hljs-string"><span class="hljs-string">'react/jsx-one-expression-per-line'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, "jsx-a11y/anchor-is-valid": ["error", { "components": ["Link"], "specialLink": ["to"] }], "jsx-a11y/label-has-for": [<span class="hljs-number"><span class="hljs-number">2</span></span>, { "required": { "every": ["id"] } }], // <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> nested label htmlFor error <span class="hljs-string"><span class="hljs-string">'prettier/prettier'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>], }, };</code> </pre> <br>  Ajoutez le fichier .eslintignore à l'application / au dossier. <br><br>  /.git <br>  /.vscode <br>  node_modules <br><br>  Que fait le fichier .eslintrc.js? <br><br>  Voyons voir: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">env</span></span>:{}, <span class="hljs-attr"><span class="hljs-attr">extends</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">plugin</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">parser</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">parserOptions</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: {}, };</code> </pre> <br>  <b>env: L'</b> environnement définit des variables globales déjà prédéfinies.  Les environnements disponibles dans notre cas sont es6, un navigateur et un nœud.  Es6 rendra ECMAScript 6 disponible sauf les modules.  Le navigateur ajoutera toutes les variables globales telles que Windows.  En conséquence, le nœud ajoutera toutes les variables globales du nœud. <br><br>  <b>extend:</b> tableau de chaînes - chaque configuration supplémentaire étend les précédentes.  À l'heure actuelle, nous utilisons des règles de peluchage avec airbnb qui s'étendent à la plaisanterie, puis à la plaisanterie. <br><br>  <b>Plugins:</b> ce sont les règles de base du peluchage que nous voulons utiliser.  Nous travaillons avec babel, import, jsx-a11y, react, jolies et tout ce que j'ai spécifié ci-dessus. <br><br>  <b>analyseur:</b> ESLint utilise Espree par défaut, mais comme nous travaillons avec babel, vous devez utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Babel-ESLint</a> . <br><br>  <b>parserOptions:</b> lorsque nous changeons l'analyseur par défaut pour Espree en babel-eslint, nous devons clarifier parserOptions. <br><br>  <b>règles:</b> toutes les règles que nous pouvons modifier ou remplacer ici. <br><br>  Si tout est clair, parlons de .eslintignore.  Cette option permet d'indiquer tous les chemins qui n'ont pas besoin d'être traités à l'aide d'ESLint.  J'utilise seulement trois de ces chemins: <br>  /.git - quand je ne veux pas affecter mes fichiers git <br>  /.vscode, puisque je travaille avec VS Code, et cet éditeur a sa propre configuration, qui doit être spécifiée pour chaque projet et je ne veux pas entrer ici. <br>  node_modules - Je ne touche pas non plus aux dépendances, donc je les ai ajoutées à la liste. <br><br>  C'est tout, parlons des nouveaux scripts ajoutés pour notre package.json. <br><br>  <i>"Lint": "eslint --debug src /"</i> <i><br></i>  <i>"Lint: write": "eslint --debug src / --fix"</i> <br><br>  $ yarn lint - en exécutant cette commande, vous vérifiez tous vos fichiers dans src /, par conséquent, vous obtenez un journal détaillé avec une description des endroits problématiques dans chaque fichier, où des erreurs seront trouvées, que vous pouvez ensuite démarrer et corriger manuellement. <br><br><img src="https://cdn-images-1.medium.com/max/800/1*yfvCg7YG_IpFFbZYzBv8IA.gif"><br><br>  $ yarn lint: write - cette commande fait à peu près la même chose que la précédente.  La seule différence est que le fil a déjà une autorisation d'écriture ici - la commande corrige les erreurs en les supprimant du code. <br><br>  Donc, bien, si vous avez tenu jusqu'à ce moment-là, alors l'honneur et la louange vous sont réservés. <br><br><img src="https://cdn-images-1.medium.com/max/800/1*pi2nGW17A7cFXX2hc6apPA.gif"><br><br><h3>  Husky </h3><br>  Eh bien, ici, vous pouvez effectuer certaines actions lors d'une validation ou d'un push de code vers une branche. <br><br>  Tout ce que vous avez à faire est d'installer simplement Husky: <br><br>  <i>ajout de fil --dev husky</i> <br><br>  Ensuite, ajoutez l'extrait de code au fichier package.json: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"husky"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: { <span class="hljs-string"><span class="hljs-string">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>, <span class="hljs-string"><span class="hljs-string">"pre-push"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span> } },</code> </pre> <br>  Désormais, à chaque fois pendant une validation ou une poussée, l'extrait de code démarre l'exécution d'un certain script ou d'une certaine commande, par exemple une commande de formatage de code. <br><br><h3>  Lint-staged </h3><br>  Aide à empêcher le mauvais code d'entrer dans votre branche git. <br><br>  <b>Pourquoi des peluches?</b> <br><br>  Dans la plupart des cas, la vérification du code doit être effectuée avant la validation.  Ainsi, vous pouvez empêcher les erreurs d'entrer dans le référentiel et améliorer la qualité globale du programme.  Mais le lancement de peluches pour l'ensemble du projet est un processus assez lent, et les résultats du traitement peuvent ne pas être pertinents.  Au final, il vous suffit de traiter les fichiers que vous souhaitez valider. <br><br>  Il vous suffit d'installer le projet: <br><br>  <i>ajout de fil --dev lint-staged</i> <br><br>  Ensuite, ajoutez ceci au fichier package.json: <br><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>: { <span class="hljs-string"><span class="hljs-string">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] },</code> </pre> <br>  Vous lancez donc lint: write, puis en l'ajoutant à la zone de la scène.  La commande fonctionne pour les fichiers .js et .jsx, mais vous pouvez faire de même pour les autres fichiers si vous le souhaitez. <br><br><h3>  Combiner Husky et Lint-Staged </h3><br>  Chaque fois que vous validez votre code, un script appelé lint-staged est exécuté.  Il lance l'exécution de npm run lint: write, qui vous permet de vérifier et de formater le code.  Ensuite, le code déjà vérifié tombe dans l'étape de l'étape et la validation est exécutée. <br><br>  Le fichier package.json final devrait ressembler à ceci: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Maintenant, chaque fois que vous le faites <br>  <i>$ git add.</i> <i><br></i>  <i>$ git commit -m "un message descriptif ici"</i> <br><br>  le code sera automatiquement formaté en fonction des règles du fichier .eslintrc.js. <br><br><h3>  Parlez de EditorConfig </h3><br>  Créez d'abord le fichier .editorconfig dans le répertoire app /.  Insérez-y le code suivant: <br><br><pre> <code class="hljs vhdl"># EditorConfig <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> awesome: http://EditorConfig.org # top-most EditorConfig <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> root = <span class="hljs-literal"><span class="hljs-literal">true</span></span> [*.md] trim_trailing_whitespace = <span class="hljs-literal"><span class="hljs-literal">false</span></span> [*.js] trim_trailing_whitespace = <span class="hljs-literal"><span class="hljs-literal">true</span></span> # Unix-style newlines <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> a newline ending every <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> [*] indent_style = space indent_size = <span class="hljs-number"><span class="hljs-number">2</span></span> end_of_line = lf charset = utf-<span class="hljs-number"><span class="hljs-number">8</span></span> insert_final_newline = <span class="hljs-literal"><span class="hljs-literal">true</span></span> max_line_length = <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> <br><br>  Voici une liste des éditeurs qui prennent en charge <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">EditorCondig</a> .  La liste comprend les éléments suivants: Web storm, code d'application, Atom, eclipse, emacs, bbedit. <br><br>  Le code ci-dessus fait ceci: <br><br><ul><li>  Supprimez les espaces blancs des fichiers .md et .js. </li><li>  Spécifie le style de retrait au lieu des espaces. </li><li>  Définit la taille de retrait à 2. </li><li>  Mène la fin de la ligne à une norme unique. </li><li>  Ajoute une nouvelle ligne à la fin du fichier. </li><li>  Définit la longueur de chaîne à 100 caractères. </li></ul><br>  En fait, maintenant tout est prêt.  Si vous avez besoin de code source, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici</a> . <br><br><blockquote>  <b>Skillbox recommande:</b> <br><br><ul><li>  Cours en ligne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Profession frontend-developer"</a> </li><li>  Cours pratique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Mobile Developer PRO"</a> . </li><li>  Cours pratique annuel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"PHP-developer from scratch to PRO"</a> . </li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428231/">https://habr.com/ru/post/fr428231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428221/index.html">Génération AI de visages réalistes</a></li>
<li><a href="../fr428223/index.html">Les villes et leurs Big Data</a></li>
<li><a href="../fr428225/index.html">Comment faire des analyses Web pour SaaS via Google Analytics: introduction et suivi d'un entonnoir</a></li>
<li><a href="../fr428227/index.html">Apprentissage automatique: prédire les cours boursiers en bourse</a></li>
<li><a href="../fr428229/index.html">Comment Lisp est devenu un langage de programmation pour Dieu</a></li>
<li><a href="../fr428233/index.html">Cinq raisons d'aimer les soirées IT régionales</a></li>
<li><a href="../fr428235/index.html">Pourquoi m'ont-ils appelé de la NSA au milieu de la nuit et demandé la source</a></li>
<li><a href="../fr428237/index.html">Scrum-mitap avec jeu de société: invitez au jeu Scrum Values</a></li>
<li><a href="../fr428239/index.html">Les lecteurs flash à l'aube de 2019 - une relique du passé ou encore une nécessité?</a></li>
<li><a href="../fr428243/index.html">GeekBrains enseignera le langage de programmation C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>