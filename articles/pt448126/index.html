<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç© ü•¢ üçÉ Segredos da API de dispositivos Android. Relat√≥rio Yandex üôÜ üèóÔ∏è üë®üèº‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um dos principais desafios do desenvolvimento do Android √© a fragmenta√ß√£o. Quase todos os fabricantes alteram o Android para suas necessidades. O dese...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Segredos da API de dispositivos Android. Relat√≥rio Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/448126/">  Um dos principais desafios do desenvolvimento do Android √© a fragmenta√ß√£o.  Quase todos os fabricantes alteram o Android para suas necessidades.  O desenvolvedor Andrey Makeev listou as diferen√ßas entre implementa√ß√µes de fornecedores e o Android Open Source Project original.  No relat√≥rio, voc√™ pode aprender como se beneficiar dos recursos individuais do firmware em diferentes dispositivos. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/N0KQBUZE78E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Programei desde a escola, desenvolvo-o para Android h√° tr√™s anos.  Destes, passei um ano no Yandex, participei de projetos como Launcher e Phone. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/x-/ol/c_/x-olc_qfelylf6-mm3a6vdoxt-y.jpeg"><br><br>  Quero falar sobre como √© a fragmenta√ß√£o da API dos dispositivos Android - do lado de fora, do lado dos desenvolvedores de aplicativos e do lado de dentro, do ponto de vista dos desenvolvedores da plataforma e dos telefones. <br><br>  Meu relat√≥rio consiste em duas partes.  Primeiro, vamos falar sobre como a API √© fragmentada externamente.  Em seguida, examinaremos o c√≥digo - descobriremos como a caracter√≠stica exclusiva do telefone abstrato √© realizada, como o desenvolvimento √© constru√≠do. <br><br>  A fragmenta√ß√£o da API √© um dos par√¢metros pelos quais voc√™ pode fragmentar um dispositivo.  O mais √≥bvio e mais simples √© a fragmenta√ß√£o de acordo com o SDK do Android, n√≥s a encontramos todos os dias, literalmente desde os primeiros dias de desenvolvimento para o Android.  Sabemos o que e em qual vers√£o da API ela apareceu, que foi removida, que foi copiada, mas ainda est√° dispon√≠vel e que j√° foi desativada.  Como regra, usamos v√°rias bibliotecas de suporte do Google para simplificar nossas vidas.  Muito j√° foi feito por n√≥s. <br><br><img src="https://habrastorage.org/webt/qf/tq/vh/qftqvhka64nqp6qssqqqa2er6te.jpeg"><br><br><img src="https://habrastorage.org/webt/d0/ig/sx/d0igsx1hnplro-2u-tx9_iln0qo.jpeg"><br><br>  Em nosso c√≥digo, parece algo assim: ativamos algumas funcionalidades, desativamos algumas - dependendo da vers√£o do SDK em que estamos atualmente.  Se voc√™ usar algum, eles geralmente fazem o mesmo, mas por dentro. <br><br>  N√£o vamos nos concentrar nesse tipo de fragmenta√ß√£o.  Os contras s√£o conhecidos por todos - somos for√ßados a manter toda uma frota de dispositivos com vers√µes diferentes para, pelo menos, testar nosso aplicativo.  Al√©m disso, somos for√ßados a escrever c√≥digo extra.  Isso √© especialmente inconveniente quando voc√™ come√ßou a desenvolver para o Android e, de repente, acontece: voc√™ precisa aprender o que havia dois ou tr√™s anos atr√°s para oferecer suporte a alguns dispositivos antigos.  Aspectos positivos: a API est√° se desenvolvendo, a tecnologia est√° avan√ßando, o Android est√° conquistando novos usu√°rios, est√° se tornando mais conveniente para desenvolvedores e usu√°rios. <br><br>  Como trabalhamos com isso?  Tamb√©m usamos bibliotecas e ficamos muito felizes quando nos recusamos a suportar vers√µes mais antigas.  Eu acho que na vida de todos que fazem isso h√° mais de um ano, houve um momento assim.  Isso √© apenas felicidade.  Esta √© uma op√ß√£o de fragmenta√ß√£o √≥bvia e simples.  O pr√≥ximo passo √© a fragmenta√ß√£o do tipo Android.  Existem v√°rios deles.  A Android TV fala por si mesma, o Android Auto se destina principalmente a r√°dios de carros, Android Things - para IoT e dispositivos embarcados similares.  W √© o Wear OS, o antigo Android Watch, rel√≥gio para Android.  Vamos tentar considerar como isso fica do lado do desenvolvedor.  E, o mais interessante, vamos tentar considerar como fica por dentro. <br><br><img src="https://habrastorage.org/webt/vk/e-/51/vke-51qsyadiojfl-jdhcystsqk.jpeg"><br><br>  Veja dois exemplos de developer.android.com.  O primeiro √© o Wear OS.  O que precisamos para fazer um aplicativo?  Adicionamos uma depend√™ncia compileOnly para build.gradle e gravamos duas linhas adicionais no manifesto: uses-feature android.hardware.type.watch e uses-library, que corresponde ao mesmo nome de pacote que a biblioteca que conectamos. <br><br><img src="https://habrastorage.org/webt/ny/az/lb/nyazlbzf4abkspkjvz2nrdy0ek8.jpeg"><br><br>  Como implementamos algo?  Criamos uma atividade, apenas nesse caso n√£o gastamos uma atividade padr√£o com a qual estamos acostumados a trabalhar, e nem mesmo uma composta, mas WearableActivity, e chamamos m√©todos espec√≠ficos a ela, neste caso setAmbientEnabled ().  Portanto, temos uma depend√™ncia compileOnly, ou seja, ela n√£o entra no curso de nossa aplica√ß√£o.  Biblioteca de usos, que aparentemente for√ßa o sistema operacional a conectar essas classes e esse c√≥digo a n√≥s em tempo de execu√ß√£o no dispositivo e as novas classes que usamos. <br><br><img src="https://habrastorage.org/webt/o4/2d/gn/o42dgn9euh986enbms6qkzbf6za.jpeg"><br><br>  A API do Android Things praticamente n√£o √© diferente.  N√£o prescrevemos usos-recurso, apenas usos-biblioteca, compileOnly-depend√™ncia. <br><br><img src="https://habrastorage.org/webt/b4/_l/ad/b4_ladqetwuszdbbmov1fgrlaxy.jpeg"><br><br>  Criamos atividade, nesse caso, √© exclusiva da API do Android Things, a classe PeripheralManager.  Estamos pesquisando o GPIO e tentando prometer. <br><br><img src="https://habrastorage.org/webt/ea/i8/yc/eai8yckgovuw0wa7mbz_oc7nxy4.jpeg"><br><br>  Como esse aplicativo se comportar√° no seu telefone?  Existem duas op√ß√µes. <br><br><img src="https://habrastorage.org/webt/yr/tz/ei/yrtzeip9jrmya-notrdp4ftvque.jpeg"><br><br>  Se indicamos que android da biblioteca de usos: required = ‚Äùtrue‚Äù, n√£o cumprimos os requisitos obrigat√≥rios do PackageManager para instalar o aplicativo, e ele basicamente se recusa a instal√°-lo.  Se especificarmos android: required = ‚Äùfalse‚Äù, o aplicativo ser√° instalado, mas quando tentarmos acessar a classe PeripheralManager, obteremos NoClassDefFoundError, porque n√£o existe essa classe no Android padr√£o. <br><br>  Quais s√£o as conclus√µes?  Conectamos a depend√™ncia compileOnly apenas para entrar em contato com ela durante a montagem, e as classes que usamos nos aguardam no dispositivo, elas s√£o conectadas usando determinadas linhas no manifesto.  √Äs vezes, prescrevemos um recurso que √© mais frequentemente necess√°rio para distinguir no Google Play um dispositivo para o qual esse aplicativo pode ou n√£o pode ser distribu√≠do. <br><br>  N√£o pude destacar os lados negativos desse tipo de fragmenta√ß√£o.  Somente aqueles que se desenvolveram contar√£o muitas hist√≥rias sobre como encontraram bugs desconhecidos completamente incompreens√≠veis que n√£o encontraram no telefone.  O lado positivo √© que estes s√£o mercados adicionais, usu√°rios adicionais, experi√™ncia adicional, √© sempre bom. <br><br>  Como trabalhar com isso?  Escreva mais aplicativos.  A recomenda√ß√£o geral √© escrever mais de uma vers√£o do aplicativo para todos os tipos de Android, mas ainda assim diferentes.  Deve haver menos para um rel√≥gio, para o Android Things praticamente nada do que est√° escrito no telefone √© adequado, e assim por diante.  E use as bibliotecas que os desenvolvedores do Android e, √†s vezes, os desenvolvedores de dispositivos nos fornecem. <br><br>  O pr√≥ximo tipo de fragmenta√ß√£o menos estudado √© a fragmenta√ß√£o do produtor.  Cada fabricante, que recebeu o c√≥digo-fonte - em casos raros, √© o AOSP, mais frequentemente √© modificado pelos desenvolvedores de hardware - faz altera√ß√µes nele.  Como regra geral, aprendemos sobre os efeitos negativos desse tipo de fragmenta√ß√£o n√£o dos melhores canais - de cr√≠ticas negativas no Google Play, porque algu√©m quebrou alguma coisa.  Ou aprendemos isso com a an√°lise de falhas, quando de repente algo falha de uma maneira incompreens√≠vel, apenas em alguns dispositivos espec√≠ficos.  Na melhor das hip√≥teses, aprendemos isso com nosso controle de qualidade, quando algo ocorreu durante o teste em um dispositivo espec√≠fico. <br><br><img src="https://habrastorage.org/webt/hz/ag/7w/hzag7wj3ekniejprurricmjwvtq.jpeg"><br><br>  Neste t√≥pico, tenho uma hist√≥ria maravilhosa do nosso Launcher de desenvolvimento.  Recebemos um relat√≥rio de erro em que a atividade n√£o se estendia √† tela inteira e nosso papel de parede padr√£o favorito n√£o era exibido.  N√£o foi decodificado, uma janela vazia apareceu.  Nem sequer t√≠nhamos dispositivos para reproduzi-lo.  Ao esticar para a tela, ainda conseguimos encontrar um dispositivo low-end no qual n√£o funcionava, e consertamos tudo com facilidade usando o android: resizeableActivity = "true" no manifesto.  Com o papel de parede, tudo ficou muito mais complicado.  Cerca de dois dias, tentamos entrar em contato e obter informa√ß√µes mais detalhadas.  No final, eles descobriram que em v√°rios dispositivos o codec para decodificar o jpeg progressivo foi implementado com bugs, quando v√°rios algoritmos de compacta√ß√£o foram usados ‚Äã‚Äãnos resultados um do outro.  Nesse caso, acabamos de escrever uma verifica√ß√£o de cot√£o, que falhou na compila√ß√£o ao criar o aplicativo, se colocarmos o papel de parede codificado de maneira progressiva no pr√≥prio apk.  Recodificou todos os pap√©is de parede, repetiu a situa√ß√£o no back-end, que distribui o restante dos conjuntos de pap√©is de parede e tudo funciona muito bem.  Mas nos custou cerca de dois dias de processo. <br><br><img src="https://habrastorage.org/webt/qk/bv/cl/qkbvclmcafam7jog_rh9quaybcw.jpeg"><br><br>  Parece algo assim no c√≥digo.  Desagrad√°vel, mas infelizmente assim.  Geralmente essas linhas aparecem ap√≥s uma longa depura√ß√£o. <br><br><img src="https://habrastorage.org/webt/fs/ph/km/fsphkm8tzz4jyjrdht9bn8yw3a8.jpeg"><br><br>  Que garantias o Google nos d√° para garantir que a API n√£o seja quebrada tanto que os aplicativos n√£o funcionem em princ√≠pio?  Primeiro de tudo, existe um CDD, que descreve o que √© poss√≠vel e o que n√£o pode ser alterado, o que √© compat√≠vel com vers√µes anteriores e o que n√£o √©.  Este √© um documento de v√°rias dezenas de p√°ginas com recomenda√ß√µes gerais, as quais, √© claro, n√£o abranger√£o todos os casos.  Para cobrir mais casos, existe o CTS, que deve ser preenchido para que o telefone receba a certifica√ß√£o do Google e os servi√ßos do Google possam ser usados ‚Äã‚Äãa partir dele.  Este √© um conjunto de aproximadamente 350.000 testes automatizados.  H√° tamb√©m um Verificador CTS, um APK comum que voc√™ pode colocar no telefone para realizar uma s√©rie de verifica√ß√µes.  A prop√≥sito, se voc√™ comprar um telefone com as m√£os, poder√° verificar assim. <br><br>  Com o advento do Treble, o projeto VTS apareceu, √© mais prov√°vel para desenvolvedores de n√≠veis mais baixos.  Ele verifica as APIs do driver, que, come√ßando com o Project Treble, s√£o versionadas e tamb√©m passam por testes semelhantes.  Al√©m disso, os desenvolvedores de telefones s√£o pessoas saud√°veis ‚Äã‚Äãque desejam que os aplicativos Android funcionem bem para eles, mas isso √© uma esperan√ßa.  O lado negativo √© que encontramos bugs imprevistos que n√£o podem ser previstos at√© que o aplicativo seja iniciado no dispositivo.  Novamente, somos obrigados a comprar, al√©m do fato de que diferentes vers√µes da API, tamb√©m existem dispositivos adicionais de diferentes fabricantes, a fim de verific√°-los. <br><br>  Mas h√° aspectos positivos.  No m√≠nimo, os recursos mais frequentemente implementados pelos fabricantes se enquadram no pr√≥prio Android.  Algu√©m pode se lembrar que a API de impress√£o digital padr√£o apareceu mais tarde do que os dispositivos que poderiam desbloquear a tela com uma impress√£o digital.  Agora, de acordo com XDA Developers, a API do Android tamb√©m deseja desbloquear usando a c√¢mera na cara, mas isso ainda n√£o √© preciso.  √â prov√°vel que voc√™ descubra isso com voc√™. <br><br>  Al√©m disso, os pr√≥prios desenvolvedores de dispositivos, quando criam APIs n√£o padr√£o, podem e muitas publicam bibliotecas para trabalhar com sua API para desenvolvedores comuns.  E se voc√™ nunca fez isso antes, recomendo que voc√™ revise as estat√≠sticas do uso de seu aplicativo, veja quais s√£o os fabricantes mais populares e consulte os portais de desenvolvedores de seus sites.  Acho que voc√™ ficar√° surpreso ao saber que muitos t√™m APIs com recursos interessantes de hardware, recursos de seguran√ßa, servi√ßos em nuvem ou qualquer outra coisa interessante.  E, √† primeira vista, parece selvagem escrever recursos separados para dispositivos individuais, mas, al√©m dos dispositivos, tamb√©m existem fabricantes de processadores, ainda menores, que tamb√©m implementam suas APIs.  Por exemplo, a Qualcomm possui uma acelera√ß√£o de hardware maravilhosa para reconhecer imagens da c√¢mera, que voc√™ pode usar bastante, elas ainda t√™m uma boa descri√ß√£o delas. <br><br>  Assim, qualquer um de voc√™s pode obter algum benef√≠cio, mesmo com esse tipo de fragmenta√ß√£o.  O que estamos fazendo com isso?  Em nenhum caso, fique √† vontade para relatar erros e enviar relat√≥rios de erros para desenvolvedores de dispositivos e at√© para desenvolvedores do Android.  Como se alguma API que valesse a pena escrever no teste CTS fosse quebrada, ela seria gravada - e havia esses precedentes - e depois a API se tornaria mais confi√°vel. <br><br>  Aprenda o Android, saiba o que os fabricantes oferecem, n√£o jure com eles - trabalhe com eles. <br><br>  Como √© o interior?  Como posso implementar um recurso exclusivo do nosso telefone e usar essa API em um aplicativo Android comum? <br><br><img src="https://habrastorage.org/webt/-0/lw/np/-0lwnpd7n_agyjhtdbvtbo-_6gi.jpeg"><br><br>  Um pouco de teoria.  Como os pr√≥prios desenvolvedores do Android descrevem o dispositivo AOSP interno?  A camada superior √© um aplicativo que foi escrito por voc√™ ou pelos desenvolvedores do telefone, que n√£o possui direitos altos, apenas usa APIs padr√£o.  Essa √© uma estrutura, essas s√£o as classes que n√£o fazem parte do seu aplicativo, como Atividade, Parcel√°vel, Pacote configur√°vel - elas fazem parte do sistema, s√£o chamadas de estrutura.  As classes que est√£o dispon√≠veis para voc√™ no dispositivo.  A seguir est√£o os servi√ßos do sistema.  √â isso que o conecta ao sistema: ActivityManagerService, WindowManagerService, PackageManagerService, que implementam o lado interno da intera√ß√£o com o sistema. <br><br>  A seguir, est√£o a camada de abstra√ß√£o de hardware, essa √© a camada superior dos drivers, que cont√©m toda a l√≥gica para exibi√ß√£o na tela, para intera√ß√£o com Bluetooth e similares.  O kernel √© a camada inferior dos drivers, gerenciamento do sistema.  Quem sabe o que √© o n√∫cleo e o que ele enfrenta, n√£o precisa contar, mas voc√™ pode conversar por um longo tempo. <br><br><img src="https://habrastorage.org/webt/fp/lt/l3/fpltl3z44nvcpr9cnhadvf32oik.jpeg"><br><br>  Como fica no dispositivo?  Nosso aplicativo interage n√£o apenas com a estrutura padr√£o, mas tamb√©m pode interagir com a estrutura personalizada do fabricante.  Al√©m disso, por meio dessa estrutura, ele pode se comunicar com servi√ßos personalizados.  Se esses s√£o recursos conectados ou de baixo n√≠vel, o HAL √© escrito para eles e at√© mesmo drivers no n√≠vel do kernel, se necess√°rio. <br><br><img src="https://habrastorage.org/webt/ug/rf/un/ugrfunvrkrwxekn0jvxjwiuwdfg.jpeg"><br><br>  Como escrevemos nosso recurso?  O plano √© simples: voc√™ precisa escrever uma estrutura que n√£o seja muito diferente das bibliotecas que a maioria dos desenvolvedores do Android escreveu, acho que todos sabem disso.  Voc√™ precisa escrever um servi√ßo do sistema, que √© um aplicativo comum, apenas com um conjunto de direitos n√£o muito comuns no sistema.  E, se necess√°rio, voc√™ pode escrever HAL, mas omitimos isso.  Voc√™ pode escrever seus pr√≥prios drivers no n√≠vel do kernel, mas tamb√©m n√£o o consideraremos agora.  E escreva um aplicativo cliente que usar√° tudo isso. <br><br><img src="https://habrastorage.org/webt/ox/e9/a3/oxe9a3ty2mwzut11ygakkf3rb3e.jpeg"><br><br>  Para podermos interagir com o sistema, precisamos escrever algum tipo de contrato e, para isso, j√° existe um bom mecanismo para as interfaces AIDL.  √â apenas um tipo de interface com base na qual o sistema gera uma classe adicional que podemos estender, por meio da qual √© realizada a comunica√ß√£o entre processos entre o aplicativo e os servi√ßos do sistema. <br><br><img src="https://habrastorage.org/webt/gq/ya/ao/gqyaaombrkaywxj_naka1edc5fu.jpeg"><br><br>  Em seguida, escrevemos uma estrutura, nossa biblioteca, que mant√©m a implementa√ß√£o dessa interface, e proxies todas as chamadas para ela.  Se voc√™ estiver interessado, o ActivityManager, o PackageManager e o WindowManager funcionam da mesma maneira.  H√° um pouco mais de l√≥gica do que implementamos aqui, mas a ess√™ncia √© exatamente isso. <br><br><img src="https://habrastorage.org/webt/9m/5h/jn/9m5hjny8quqv2hin-be4cftx_zk.jpeg"><br><br>  Implementamos a estrutura, precisamos escrever um servi√ßo do sistema que receba nossos dados do lado do sistema; nesse caso, transmitimos e lemos n√∫meros inteiros.  Criamos uma classe, ela tamb√©m estende a interface gerada pelo AIDL no slide anterior.  Criamos um campo no qual escrevemos valores, lemos, escrevemos um setter, getter.  A √∫nica coisa √© que n√£o h√° bloqueios suficientes, mas eles n√£o se encaixam muito no slide, eles devem ser feitos. <br><br><img src="https://habrastorage.org/webt/co/wz/no/cowznogjbu9jlrsvhnxxurm6in8.jpeg"><br><br>  Al√©m disso, para que esse servi√ßo do sistema esteja dispon√≠vel, precisamos registr√°-lo no gerenciador de servi√ßos do sistema e, nesse caso, √© da mesma classe que n√£o est√° dispon√≠vel para aplicativos comuns.  Est√° dispon√≠vel precisamente para aqueles que est√£o na plataforma nas parti√ß√µes do sistema.  Registramos o servi√ßo simplesmente em Application.onCreate (), disponibilizamos-o sob o nome da classe que criamos. <br><br>  O que precisamos para o onCreate () iniciar basicamente e nosso servi√ßo ser carregado na mem√≥ria?  Escrevemos no manifesto no aplicativo android: persistent = ‚Äùtrue‚Äù.  Isso significa que este √© um processo persistente, que deve estar na mem√≥ria constantemente, porque executa as fun√ß√µes do sistema. <br><br><img src="https://habrastorage.org/webt/iq/sn/q5/iqsnq5bwcen_faerouvcj9n1qq8.jpeg"><br><br>  Tamb√©m no manifesto, podemos especificar android: sharedUserId, neste caso, sistema, mas pode ser uma ampla variedade de IDs diferentes, eles permitem que o aplicativo obtenha direitos mais amplos no sistema, interaja com v√°rias APIs e servi√ßos que n√£o est√£o dispon√≠veis para aplicativos comuns. <br><br>  Nesse caso, por exemplo, n√£o usamos nada parecido com isso. <br><br><img src="https://habrastorage.org/webt/qx/ds/s-/qxdss-ivnge6oagknlzx59wee9u.jpeg"><br><br>  Escrevemos uma estrutura, escrevemos um servi√ßo do sistema.  Omitiremos os mecanismos internos, este √© um t√≥pico um pouco complicado, merece um relat√≥rio separado. <br><br>  Como entregar a estrutura para desenvolvedores de aplicativos?  Dois formatos.  Podemos emitir classes completas e criar uma biblioteca completa compilada em seu aplicativo, e toda a l√≥gica se tornar√° parte de seus dexes. <br><br>  Ou voc√™ pode distribuir a estrutura na forma de classes stub, em rela√ß√£o √†s quais voc√™ s√≥ pode vincular durante a compila√ß√£o e esperar que essas classes esperem por voc√™ da mesma forma que os exemplos anteriores de v√°rias vers√µes do Android no pr√≥prio dispositivo.  Voc√™ pode distribu√≠-lo por meio de um reposit√≥rio Maven comum que todos conhecem ou por meio do Android Studio sdkmanager, semelhante √† instala√ß√£o de novas vers√µes do SDK.  √â dif√≠cil dizer qual m√©todo √© mais conveniente.  √â mais conveniente para mim conectar pessoalmente o Maven. <br><br><img src="https://habrastorage.org/webt/k_/a5/oo/k_a5ookzluycn3qz3uivbrdepwk.jpeg"><br><br>  Estamos escrevendo um aplicativo simples.  De uma maneira familiar, conectamos a depend√™ncia compileOnly, s√≥ que agora √© a nossa biblioteca.  N√≥s prescrevemos a biblioteca de usos que escrevemos e colocamos no dispositivo.  N√≥s escrevemos Activity, temos acesso a essas classes, interagimos com o sistema.  Portanto, seria poss√≠vel implementar absolutamente todos os recursos: transfer√™ncia de dados para alguns dispositivos adicionais, recursos adicionais de hardware, etc. <br><br>  Assim, todos os desenvolvedores disponibilizam recursos exclusivos do dispositivo para os desenvolvedores.  √Äs vezes, s√£o APIs privadas que oferecem apenas para parceiros.  √Äs vezes, eles s√£o p√∫blicos e aqueles que voc√™ pode encontrar nos portais de desenvolvedores.  Existem outras maneiras de implementar essas coisas, mas descrevi um m√©todo que √© considerado o principal no Google e entre os desenvolvedores do Android. <br><br>  Voc√™ n√£o deve tratar os desenvolvedores de dispositivos como pessoas que quebram seus aplicativos.  Estes s√£o os mesmos desenvolvedores, eles escrevem o mesmo c√≥digo, aproximadamente no mesmo n√≠vel.  Escreva relat√≥rios de bugs, eles realmente ajudam, eu frequentemente os analiso.  Escreva mais aplicativos e aproveite as oportunidades que o Android e o pr√≥prio dispositivo oferecem.  Eu tenho tudo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt448126/">https://habr.com/ru/post/pt448126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt448116/index.html">Unidade h√≠brida Intel Optane Memory H10 - Especifica√ß√µes dos recursos</a></li>
<li><a href="../pt448118/index.html">SEO e publicidade contextual - leva 175 mil rublos por dia em Izhevsk</a></li>
<li><a href="../pt448120/index.html">Sobre a proximidade dos picos</a></li>
<li><a href="../pt448122/index.html">Como o ReactJS funciona Pacote Reagir</a></li>
<li><a href="../pt448124/index.html">Mikrotik. Controle de SMS usando o servidor WEB</a></li>
<li><a href="../pt448128/index.html">9 dicas para usar a biblioteca Cats em Scala</a></li>
<li><a href="../pt448130/index.html">Design de constru√ß√£o de deck de videogame</a></li>
<li><a href="../pt448136/index.html">Instru√ß√µes: como testar fun√ß√µes ansible e descobrir sobre problemas antes da produ√ß√£o</a></li>
<li><a href="../pt448140/index.html">SNA Hackathon 2019 - resultados</a></li>
<li><a href="../pt448142/index.html">Onde evid√™ncias, fatos e imagina√ß√£o convergem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>