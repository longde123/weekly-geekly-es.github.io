<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏿 📥 🛵 يجب أن يتم تخزين طول مجموعة في متغير محلي في C #؟ ❎ ✉️ 🌇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="لاحظت أن الناس يستخدمون البناء في الغالب مثل هذا: 



var length = array.Length; for (int i = 0; i < length; i++) { //do smth }  
 يعتقدون أن إجراء مك...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>يجب أن يتم تخزين طول مجموعة في متغير محلي في C #؟</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454582/" style=";text-align:right;direction:rtl">  لاحظت أن الناس يستخدمون البناء في الغالب مثل هذا: <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> length = array.Length; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {    <span class="hljs-comment"><span class="hljs-comment">//do smth }</span></span></code> </pre> <br>  يعتقدون أن إجراء مكالمة إلى Array.Length على كل تكرار سيجعل CLR يستغرق وقتًا أطول لتنفيذ التعليمات البرمجية.  لتجنب ذلك ، يقومون بتخزين قيمة الطول في متغير محلي. <br>  دعنا نتعرف (مرة واحدة وإلى الأبد!) إذا كان هذا أمرًا قابلاً للتطبيق أو أن استخدام متغير مؤقت يعد مضيعة للوقت. <br><a name="habracut"></a><br>  للبدء ، دعنا نتفحص طرق C #: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {       sum += array[i];   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {       sum += array[i];   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  فيما يلي كيفية معالجتها بواسطة برنامج التحويل البرمجي JIT (لبرنامج .NET Framework 4.7.2 ضمن LegacyJIT-x86): <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  بدون متغير () <br>  <font color="#666666">؛ int sum = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#46aa03">edi</font> <br>  <font color="#666666">؛ كثافة العمليات = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">؛ int [] localRefToArray = this.array؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ int arrayLength = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ إذا كان (arrayLength == 0) يُرجع المبلغ ؛</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#46aa03">ecx</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#666666">؛ int arrayLength2 = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ إذا (i&gt; = arrayLength2)</font> <br>  <font color="#666666">.</font>  <font color="#666666">رمي IndexOutOfRangeException () جديد ؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">eax</font> <br>  <font color="#00007f">جاي</font> 056e2d31 <br>  <font color="#666666">؛ sum + = localRefToArray [i]؛</font> <br>  <font color="#00007f">إضافة</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">esi</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ أنا ++ ؛</font> <br>  <font color="#00007f">المؤتمر الوطني العراقي</font> <br>  <font color="#666666">؛ إذا (أنا &lt;arrayLength) حلقة الذهاب</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jg</font> <br>  <font color="#666666">؛ مبلغ الإرجاع ؛</font> <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">edi</font> </td><td>  مع المتغير () <br>  <font color="#666666">؛ int sum = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">؛ int [] localRefToArray = this.array؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ int arrayLength = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ كثافة العمليات = 0 ؛</font> <br>  <font color="#00007f">إكسور</font> <font color="#46aa03">إكس</font> <font color="#339933">،</font> <font color="#46aa03">إكس</font> <br>  <font color="#666666">؛ إذا كان (arrayLength == 0) يُرجع المبلغ ؛</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#666666">؛ int arrayLength2 = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ إذا (i&gt; = arrayLength2)</font> <br>  <font color="#666666">.</font>  <font color="#666666">رمي IndexOutOfRangeException () جديد ؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">جاي</font> 05902d31 <br>  <font color="#666666">؛ sum + = localRefToArray [i]؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">eax</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ أنا ++ ؛</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">؛ إذا (أنا &lt;arrayLength) حلقة الذهاب</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">eax</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jl</font> <br>  <font color="#666666">؛ مبلغ الإرجاع ؛</font> <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> </td></tr></tbody></table></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مقارنة في ميلد:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gc/4s/mi/gc4smi2gsptfuyqiuwyizrv2q80.png"><br></div></div><br>  من السهولة ملاحظة أن لديهم نفس العدد بالضبط من إرشادات المجمّع - 15. حتى منطق هذه التعليمات هو نفسه تقريبًا.  هناك اختلاف بسيط في ترتيب تهيئة المتغيرات والمقارنات حول ما إذا كان ينبغي استمرار الدورة.  يمكننا ملاحظة أنه في كلتا الحالتين يتم تسجيل طول الصفيف مرتين قبل الدورة: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  للتحقق من 0 (arrayLength) <br></li><li style=";text-align:right;direction:rtl">  في المتغير المؤقت لفحص حالة الدورة (arrayLength2). <br></li></ul><br>  اتضح أن كلتا الطريقتين ستترجمان إلى نفس الرمز بالضبط ، لكن أولهما يتم كتابته بشكل أسرع ، على الرغم من عدم وجود فائدة فيما يتعلق بوقت التنفيذ. <br>  قادني رمز المجمّع أعلاه إلى بعض الأفكار وقررت التحقق من عدة طرق أخرى: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {       sum += array[i] + array.Length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {       sum += array[i] + length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  تتم الآن إضافة العنصر الحالي وطول الصفيف ، ولكن في الحالة الأولى يتم طلب طول الصفيف في كل مرة ، وفي الحالة الثانية يتم حفظه مرة واحدة في متغير محلي.  دعنا نلقي نظرة على كود المجمع لهذه الطرق: <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  بدون متغير () <br>  <font color="#00007f">int</font> sum = <font color="#ff0000">0</font> <font color="#666666">؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">int</font> i = <font color="#ff0000">0</font> <font color="#666666">؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">الباحث</font> <font color="#009900">[</font> <font color="#009900">]</font> localRefToArray = هذا <font color="#339933">.</font>  مجموعة <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> arrayLength = localRefToArray <font color="#339933">.</font>  طول <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  إذا كان <font color="#009900">(</font> arrayLength == <font color="#ff0000">0</font> <font color="#009900">)</font> بإرجاع مبلغ <font color="#666666">؛</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">ebx</font> <font color="#339933">،</font> <font color="#46aa03">ebx</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  طول <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  إذا <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> <br>  رمي IndexOutOfRangeException <font color="#009900">(</font> <font color="#009900">) جديد</font> <font color="#666666">؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">esi</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">جاي</font> 05562d39 <br>  <font color="#00007f">int</font> t = array <font color="#009900">[</font> i <font color="#009900">]</font> <font color="#666666">؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">esi</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  ر <font color="#339933">+</font> = المبلغ <font color="#666666">؛</font> <br>  <font color="#00007f">إضافة</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">EDI</font> <br>  t <font color="#339933">+</font> = arrayLength <font color="#666666">؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">ebx</font> <br>  المبلغ = ر <font color="#666666">؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#46aa03">eax</font> <br>  أنا <font color="#339933">++</font> <font color="#666666">؛</font> <br>  <font color="#00007f">المؤتمر الوطني العراقي</font> <br>  إذا <font color="#009900">(</font> أنا &lt;arrayLength <font color="#009900">)</font> <font color="#00007f">حلقة</font> الذهاب <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ebx</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jg</font> <br>  مبلغ الإرجاع <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">edi</font> <br></td><td>  مع المتغير () <br>  <font color="#00007f">int</font> sum = <font color="#ff0000">0</font> <font color="#666666">؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">الباحث</font> <font color="#009900">[</font> <font color="#009900">]</font> localRefToArray = هذا <font color="#339933">.</font>  مجموعة <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> arrayLength = localRefToArray <font color="#339933">.</font>  طول <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> i = <font color="#ff0000">0</font> <font color="#666666">؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#46aa03">ecx</font> <br>  إذا <font color="#009900">(</font> arrayLength == <font color="#ff0000">0</font> <font color="#009900">)</font> <font color="#009900">(</font> مبلغ الإرجاع <font color="#666666">؛)</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">ebx</font> <font color="#339933">،</font> <font color="#46aa03">ebx</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  طول <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  إذا <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> <br>  رمي IndexOutOfRangeException <font color="#009900">(</font> <font color="#009900">) جديد</font> <font color="#666666">؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx edi</font> <br>  <font color="#00007f">جاي</font> 04b12d39 <br>  <font color="#00007f">int</font> t = array <font color="#009900">[</font> i <font color="#009900">]</font> <font color="#666666">؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">ecx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  ر <font color="#339933">+</font> = المبلغ <font color="#666666">؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  t <font color="#339933">+</font> = arrayLength <font color="#666666">؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">ebx</font> <br>  المبلغ = ر <font color="#666666">؛</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">eax</font> <br>  أنا <font color="#339933">++</font> <font color="#666666">؛</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">ecx</font> <br>  إذا <font color="#009900">(</font> أنا &lt;arrayLength <font color="#009900">)</font> <font color="#00007f">حلقة</font> الذهاب <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#46aa03">ebx</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jl</font> <br>  مبلغ الإرجاع <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br></td></tr></tbody></table></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مقارنة في ميلد:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/co/8z/ix/co8zixjrk_p7fexmgmyhs1xfqqa.png"><br></div></div><br>  مرة أخرى ، عدد التعليمات هي نفسها ، وكذلك (تقريبا) التعليمات نفسها.  الاختلاف الوحيد هو ترتيب تهيئة المتغيرات وشروط التحقق لاستمرار الدورة.  يمكنك ملاحظة أنه في حساب المجموع ، يتم أخذ الطول الأول للصفيف فقط في الاعتبار.  من الواضح أن هذا: <br><blockquote style=";text-align:right;direction:rtl">  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  طول <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  إذا كان <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> يرمي IndexOutOfRangeException ( <font color="#009900">)</font> جديدًا <font color="#666666">؛</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx edi</font> <br>  <font color="#00007f">جاي</font> 04b12d39 </blockquote><br>  في جميع الطرق الأربعة ، يتم التحقق من حدود الصفيف المضمن ويتم تنفيذها لكل عنصر من عناصر الصفيف. <br><br>  يمكننا بالفعل الوصول إلى الاستنتاج الأول: استخدام متغير إضافي لمحاولة تسريع الدورة هو مضيعة للوقت ، لأن المترجم سيقوم بذلك نيابةً عنك.  السبب الوحيد لتخزين صفيف طول في متغير هو جعل التعليمات البرمجية أكثر قابلية للقراءة. <br><br>  <i>ForEach</i> هو موقف آخر تماما.  خذ بعين الاعتبار الطرق الثلاثة التالية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithoutLength</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithoutLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i + array.Length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i + length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  وإليك الرمز بعد JIT: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ForEachWithoutLength ()</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <font color="#666666">؛ int sum = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">؛ int [] localRefToArray = this.array؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ كثافة العمليات = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">؛ int arrayLength = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ إذا كان (arrayLength == 0) goto exit ؛</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#666666">؛ كثافة العمليات ر = صفيف [i] ؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#46aa03">edx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ مبلغ + = أنا ؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">؛ أنا ++ ؛</font> <br>  <font color="#00007f">المؤتمر الوطني العراقي</font> <br>  <font color="#666666">؛ إذا (أنا &lt;arrayLength) حلقة الذهاب</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi edx</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jg</font> <br>  <font color="#666666">؛ مبلغ الإرجاع ؛</font> <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ForEachWithLengthWithoutLocalVariable ()</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <font color="#666666">؛ int sum = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">؛ int [] localRefToArray = this.array؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ كثافة العمليات = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">؛ int arrayLength = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ إذا كان (arrayLength == 0) غوتو الخروج</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#666666">؛ كثافة العمليات ر = صفيف [i] ؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#46aa03">edx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ مبلغ + = أنا ؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">؛ sum + = localRefToArray.Length؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ أنا ++ ؛</font> <br>  <font color="#00007f">المؤتمر الوطني العراقي</font> <br>  <font color="#666666">؛ إذا (أنا &lt;arrayLength) حلقة الذهاب</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi edx</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jg</font> <br>  <font color="#666666">؛ مبلغ الإرجاع ؛</font> <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ForEachWithLengthWithLocalVariable ()</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <font color="#666666">؛ int sum = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">؛ int [] localRefToArray = this.array؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ int length = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ كثافة العمليات = 0 ؛</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">ecx</font> <font color="#339933">،</font> <font color="#46aa03">ecx</font> <br>  <font color="#666666">؛ int arrayLength = localRefToArray.Length؛</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ إذا كان (arrayLength == 0) goto exit ؛</font> <br>  <font color="#00007f">اختبار</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  خروج <font color="#00007f">jle</font> <br>  <font color="#666666">؛ كثافة العمليات ر = صفيف [i] ؛</font> <br>  <font color="#00007f">حلقة</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">ecx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">؛ مبلغ + = أنا ؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">؛ مجموع + = الطول ؛</font> <br>  <font color="#00007f">أضف</font> <font color="#46aa03">esi</font> <font color="#339933">،</font> <font color="#46aa03">ebx</font> <br>  <font color="#666666">؛ أنا ++ ؛</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">ecx</font> <br>  <font color="#666666">؛ إذا (أنا &lt;arrayLength) حلقة الذهاب</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi ecx</font> <br>  <font color="#00007f">حلقة</font> <font color="#00007f">jg</font> <br>  <font color="#666666">؛ مبلغ الإرجاع ؛</font> <br>  الخروج <font color="#339933">:</font> <br>  <font color="#00007f">وسائل التحقق</font> <font color="#46aa03">eax</font> <font color="#339933">،</font> <font color="#46aa03">esi</font> </div></div><br>  أول ما يتبادر إلى الذهن هو أنه يتطلب تعليمات مجمّع أقل من دورة التجميع (على سبيل المثال ، لتلخيص العناصر البسيطة ، استغرق الأمر 12 تعليمة في <i>foreach</i> ، ولكن 15 في <i>for</i> ). <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مقارنة</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mw/ga/qy/mwgaqykzztnhwmztdcg4ns5thwa.png"><br></div></div><br>  بشكل عام ، فيما يلي نتائج <i>لـ vs foreach</i> القياسي لـ 1 مليون عنصر: <br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">sum+=array[i];</code> </pre><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  طريقة <br></td><td>  ItemsCount <br></td><td>  متوسط <br></td><td>  خطأ <br></td><td>  StdDev <br></td><td>  متوسط <br></td><td>  نسبة <br></td><td>  RatioSD <br></td></tr><tr><td>  ForEach <br></td><td>  1000000 <br></td><td>  1.401 مللي ثانية <br></td><td>  0.2691 مللي ثانية <br></td><td>  0.7935 مللي ثانية <br></td><td>  1.694 مللي ثانية <br></td><td>  1.00 <br></td><td>  0.00 <br></td></tr><tr><td>  إلى <br></td><td>  1000000 <br></td><td>  1.586 مللي ثانية <br></td><td>  0.3204 مللي ثانية <br></td><td>  0.9447 مللي ثانية <br></td><td>  1.740 مللي ثانية <br></td><td>  1.23 <br></td><td>  0.65 <br></td></tr></tbody></table></div>  و من أجل <br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">sum+=array[i] + array.Length;</code> </pre><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  طريقة <br></td><td>  ItemsCount <br></td><td>  متوسط <br></td><td>  خطأ <br></td><td>  StdDev <br></td><td>  متوسط <br></td><td>  نسبة <br></td><td>  RatioSD <br></td></tr><tr><td>  ForEach <br></td><td>  1000000 <br></td><td>  1.703 مللي ثانية <br></td><td>  0.3010 مللي ثانية <br></td><td>  0.8874 مللي ثانية <br></td><td>  1.726 مللي ثانية <br></td><td>  1.00 <br></td><td>  0.00 <br></td></tr><tr><td>  إلى <br></td><td>  1000000 <br></td><td>  1.715 مللي ثانية <br></td><td>  0.2859 مللي ثانية <br></td><td>  0.8430 مللي ثانية <br></td><td>  1.956 مللي ثانية <br></td><td>  1.13 <br></td><td>  0.56 <br></td></tr></tbody></table></div><br>  يسير <i>ForEach</i> عبر الصفيف بشكل أسرع بكثير من <i>أجل</i> .  لماذا؟  لمعرفة ذلك ، نحتاج إلى مقارنة الكود بعد JIT: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مقارنة بين جميع خيارات foreach الثلاثة</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ae/wx/5s/aewx5szyufp55plv9zsq2wznplq.png"><br></div></div><br>  دعونا نلقي نظرة على ForEachWithoutLength.  يتم طلب طول الصفيف مرة واحدة فقط ولا توجد أية اختبارات لحدود الصفيف.  يحدث ذلك لأن دورة ForEach تقيد أولاً تغيير المجموعة داخل الدورة ، والثانية لن تخرج عن المجموعة.  بسبب ذلك ، يمكن JIT تحمل لإزالة حدود مجموعة الشيكات. <br><br>  الآن دعونا ننظر بعناية في ForEachWithLengthWIthoutLocalVariable.  لا يوجد سوى جزء واحد غريب ، حيث يحدث sum + = length ليس للصفيف المتغير المحلي المحفوظ مسبقًا ، ولكن إلى جزء جديد يطلبه التطبيق من الذاكرة في كل مرة.  هذا يعني أنه ستكون هناك طلبات ذاكرة N + 1 لطول الصفيف ، حيث N هو طول صفيف. <br><br>  والآن نأتي إلى ForEachWithLengthWithLocalVariable.  الكود هناك هو نفسه تمامًا كما في المثال السابق ، باستثناء معالجة طول الصفيف.  قام المحول البرمجي مرة أخرى بإنشاء صفيف متغير محلي طوله يُستخدم للتحقق مما إذا كانت المصفوفة فارغة ، لكن المحول البرمجي ما زال يحفظ بصدق طول المتغير المحلي المعلن لدينا ، وهذا ما يتم استخدامه في الملخص داخل الدورة.  اتضح أن هذه الطريقة تطلب طول الصفيف من الذاكرة مرتين فقط.  الفرق صعب للغاية في العالم الحقيقي. <br><br>  في جميع الحالات ، تحولت أداة التجميع إلى رمز بسيط للغاية لأن الأساليب نفسها بسيطة.  إذا كانت الأساليب تحتوي على مزيد من المعلمات ، فسيتعين عليها التعامل مع الحزمة ، فقد تحصل المتغيرات على مخازن خارج السجلات ، وقد يكون هناك المزيد من الاختبارات ، ولكن المنطق الرئيسي سيبقى كما هو: إدخال متغير محلي لطول الصفيف هو فقط مفيدة لصنع رمز أكثر قابلية للقراءة.  اتضح أيضًا أن <i>Foreach</i> غالبًا ما يمر عبر الصفيف بشكل أسرع من <i>For</i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar454582/">https://habr.com/ru/post/ar454582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar454568/index.html">وصفت Mozilla توزيع حزمة الويب الموقعة رقمياً من Google بأنها "سيئة"</a></li>
<li><a href="../ar454570/index.html">إعادة إنشاء لعبة DOS قديمة في C ++ 17</a></li>
<li><a href="../ar454574/index.html">التعلم الآلي في التمويل الأصغر: بناء نموذج تسجيل للعملاء الذين لديهم سجل ائتماني فارغ</a></li>
<li><a href="../ar454576/index.html">توقف مؤلفو GandCrab عن العمل: إنهم يزعمون أنهم سرقوا بدرجة كافية</a></li>
<li><a href="../ar454578/index.html">كيفية الاتصال PhotoSwipe معرض في webview الروبوت</a></li>
<li><a href="../ar454584/index.html">مدرسة تطوير الواجهة: تحليل مهام مينسك ومجموعة جديدة في موسكو</a></li>
<li><a href="../ar454586/index.html">حل الكلمات المتقاطعة اليابانية باستخدام P̶y̶t̶h̶o̶̶n̶ Rust و WebAssembly</a></li>
<li><a href="../ar454588/index.html">تدعوك Gazprom Neft إلى زيارة: اجتماع GPN Data Science Meetup</a></li>
<li><a href="../ar454590/index.html">زيمبرا التعاون جناح والتحكم المحمول مع ABQ</a></li>
<li><a href="../ar454592/index.html">WAF من خلال عيون المتسللين</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>