<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì¶ üé≥ üë∂üèº An√°lisis detallado de AWS Lambda üèÇüèΩ üí≠ üèì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se prepar√≥ una traducci√≥n del art√≠culo espec√≠ficamente para estudiantes del curso de Servicios en la nube . ¬øEs interesante desarrollar en esta direcc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>An√°lisis detallado de AWS Lambda</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/466519/"><p>  <em>Se prepar√≥ una traducci√≥n del art√≠culo espec√≠ficamente para estudiantes del curso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios en la nube</a> .</em>  <em>¬øEs interesante desarrollar en esta direcci√≥n?</em>  <em>Vea una clase magistral de Egor Zuev (TeamLead en InBit) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚ÄúAWS EC2 Service‚Äù</a> y √∫nase al grupo de cursos m√°s cercano: comience el 26 de septiembre.</em> </p><br><p><img src="https://habrastorage.org/webt/qf/1s/yg/qf1sygkmys00k3zwczbo5cszqe0.png"></p><br><p>  Cada vez m√°s personas se est√°n cambiando a AWS Lambda por escalabilidad, rendimiento, ahorro de costos y la capacidad de procesar millones o incluso billones de solicitudes por mes.  Para hacer esto, no necesita administrar la infraestructura en la que funciona el servicio.  Y el escalado autom√°tico le permite atender miles de solicitudes simult√°neas por segundo.  Creo que AWS Lambda puede llamarse leg√≠timamente uno de los servicios de AWS m√°s populares. <a name="habracut"></a></p><br><h1 id="aws-lambda">  AWS Lambda </h1><br><p>  AWS Lambda es un servicio inform√°tico sin servidor orientado a eventos que le permite ejecutar c√≥digo sin asignar y administrar servidores y complementar otros servicios de AWS basados ‚Äã‚Äãen la l√≥gica del usuario.  Lambda responde autom√°ticamente a varios eventos (los llamados disparadores), por ejemplo, a solicitudes HTTP a trav√©s de Amazon API Gateway, cambios de datos en cestas de Amazon S3 o tablas de Amazon DynamoDB;  O puede ejecutar su c√≥digo a trav√©s de llamadas API utilizando AWS SDK y transiciones de estado en AWS Step Functions. </p><br><p>  Lambda ejecuta c√≥digo en una infraestructura inform√°tica altamente accesible y es totalmente responsable de administrar la plataforma subyacente, incluido el mantenimiento del servidor y del sistema operativo, la asignaci√≥n de recursos, el escalado autom√°tico, el monitoreo de c√≥digo y el registro.  Es decir, solo necesita cargar su c√≥digo y configurar c√≥mo y cu√°ndo debe ejecutarse.  A su vez, el servicio se encargar√° de su lanzamiento y garantizar√° una alta disponibilidad de su aplicaci√≥n. </p><br><h1 id="kogda-perehodit-na-lambda">  ¬øCu√°ndo actualizar a Lambda? </h1><br><p>  AWS Lambda es una plataforma inform√°tica conveniente para muchos escenarios de aplicaci√≥n, por supuesto, si el servicio y el tiempo de ejecuci√≥n de su c√≥digo son compatibles.  Si desea centrarse en el c√≥digo y la l√≥gica empresarial con el mantenimiento del servidor, el aprovisionamiento y la ampliaci√≥n a un proveedor externo por un precio razonable, definitivamente debe actualizar a AWS Lambda. </p><br><p>  Lambda es ideal para crear interfaces de software, y si usa el servicio con API Gateway, puede reducir significativamente los costos e ingresar al mercado m√°s r√°pido.  Hay varias formas de usar las funciones y opciones de Lambda para organizar una arquitectura sin servidor: todos podr√°n elegir algo adecuado en funci√≥n de su objetivo. </p><br><p>  Lambda le permite realizar una amplia gama de tareas.  Entonces, gracias al soporte de CloudWatch, puede crear tareas pendientes y automatizar procesos individuales.  No existen restricciones sobre la naturaleza e intensidad del uso del servicio (se tienen en cuenta el consumo de memoria y el tiempo), y nada le impide trabajar sistem√°ticamente en un microservicio completo basado en Lambda. </p><br><p>  Aqu√≠ puede crear acciones orientadas al servicio que no se realizan constantemente.  Un ejemplo t√≠pico es el escalado de im√°genes.  Incluso en el caso de sistemas distribuidos, las funciones de Lambda no pierden relevancia. </p><br><p>  Por lo tanto, si no desea participar en la asignaci√≥n y administraci√≥n de recursos inform√°ticos, pruebe AWS Lambda;  si no necesita computaci√≥n pesada e intensiva en recursos, pruebe AWS Lambda;  si su c√≥digo se ejecuta peri√≥dicamente; todo es correcto, debe probar AWS Lambda. </p><br><h1 id="bezopasnost">  Seguridad </h1><br><p>  Hasta el momento, no hay quejas sobre seguridad.  Por otro lado, dado que muchos procesos internos y caracter√≠sticas de implementaci√≥n de este modelo est√°n ocultos para el usuario del tiempo de ejecuci√≥n administrado de AWS Lambda, algunas reglas de seguridad en la nube generalmente aceptadas ya no son relevantes. </p><br><p>  Al igual que la mayor√≠a de los servicios de AWS, Lambda se brinda sobre la base de la responsabilidad compartida entre AWS y el cliente con respecto a la seguridad y el cumplimiento normativo.  Este principio reduce la carga operativa en el cliente, ya que AWS asume las tareas de servicio, administraci√≥n y control de los componentes del servicio, desde el sistema operativo host y el nivel de virtualizaci√≥n hasta la seguridad f√≠sica de los objetos de infraestructura. </p><br><p>  Hablando espec√≠ficamente sobre AWS Lambda, AWS es responsable de administrar la infraestructura subyacente, los servicios subyacentes relacionados, el sistema operativo y la plataforma de aplicaciones.  Si bien el cliente es responsable de la seguridad de su c√≥digo, el almacenamiento de datos confidenciales, el control de acceso a los mismos, as√≠ como a los servicios y recursos de Lambda (Identity and Access Management, IAM), incluso dentro del alcance de las funciones utilizadas. </p><br><p>  El siguiente diagrama muestra el modelo de responsabilidad compartida aplicable a AWS Lambda.  El √°rea de responsabilidad de AWS es naranja, y la responsabilidad del cliente es azul.  Como puede ver, AWS asume m√°s responsabilidad por las aplicaciones implementadas en el servicio. </p><br><p><img src="https://habrastorage.org/webt/z1/m8/i_/z1m8i_uzr3rkijayalh0mm_xume.png"></p><br><p>  <em>Modelo de responsabilidad compartida aplicable a AWS Lambda</em> </p><br><h1 id="sreda-vypolneniya-lambda">  Lambda Runtime </h1><br><p>  La principal ventaja de Lambda es que, al realizar una funci√≥n en su nombre, el servicio en s√≠ asigna los recursos necesarios.  Puede ahorrar tiempo y esfuerzo en la administraci√≥n del sistema y centrarse en la l√≥gica empresarial y la escritura de c√≥digos. </p><br><p>  El servicio Lambda se divide en dos planos.  El primero es el plano de control.  Seg√∫n Wikipedia, el plano de control es la parte de la red responsable de se√±alizar el tr√°fico y el enrutamiento.  Es el componente principal que toma decisiones globales sobre la asignaci√≥n, mantenimiento y distribuci√≥n de cargas de trabajo.  Adem√°s, el plano de control act√∫a como la topolog√≠a de red del proveedor de soluciones, que es responsable del enrutamiento y la gesti√≥n del tr√°fico. </p><br><p>  El segundo plano es el plano de datos.  Al igual que el plano de control, tiene sus propias tareas.  El plano de administraci√≥n proporciona una API para administrar funciones (CreateFunction, UpdateFunctionCode) y controla la interacci√≥n de Lambda con otros servicios de AWS.  El plano de datos est√° controlado por la API Invoke, que invoca las funciones Lambda.  Despu√©s de llamar a la funci√≥n, el plano de control selecciona o selecciona el tiempo de ejecuci√≥n existente preparado de antemano para esta funci√≥n, y luego ejecuta el c√≥digo en √©l. </p><br><p>  AWS Lambda admite muchos lenguajes de programaci√≥n, incluidos Java 8, Python 3.7, Go, NodeJS 8, .NET Core 2 y otros, a trav√©s de sus respectivos tiempos de ejecuci√≥n.  AWS los actualiza regularmente, distribuye parches de seguridad y realiza otras operaciones de mantenimiento en estos entornos.  Lambda le permite usar otros idiomas, siempre que usted mismo implemente el tiempo de ejecuci√≥n apropiado.  Y luego tendr√° que ocuparse de su mantenimiento, incluida la supervisi√≥n de la seguridad. </p><br><p>  <strong>¬øC√≥mo funciona todo y c√≥mo realizar√° el servicio sus funciones?</strong> </p><br><p>  Cada funci√≥n funciona en uno o varios entornos seleccionados que existen solo durante el ciclo de vida de esta funci√≥n y luego se destruyen.  En cada entorno, solo se realiza una llamada a la vez, pero se reutiliza si hay muchas llamadas en serie de la misma funci√≥n.  Todos los tiempos de ejecuci√≥n se ejecutan en m√°quinas virtuales con virtualizaci√≥n de hardware, en el llamado microVM.  Cada microVM se asigna a una cuenta de AWS espec√≠fica y los entornos pueden reutilizarlo para realizar diversas funciones en esa cuenta.  Los MicroVM est√°n empaquetados en los bloques de construcci√≥n de la plataforma de hardware Lambda Worker, que AWS posee y opera.  El mismo tiempo de ejecuci√≥n no puede ser utilizado por diferentes funciones, al igual que los microVM son √∫nicos para diferentes cuentas de AWS. </p><br><p><img src="https://habrastorage.org/webt/8e/ua/u8/8euau8gskbecg0tteyqq8ohkxbi.png"></p><br><p>  <em>Modelo de aislamiento AWS Lambda</em> </p><br><p>  El aislamiento en tiempo de ejecuci√≥n se implementa utilizando varios mecanismos.  En el nivel m√°s alto de cada entorno, hay copias separadas de los siguientes componentes: </p><br><ul><li>  C√≥digo de funci√≥n </li><li>  Cualquier capa Lambda seleccionada para la funci√≥n </li><li>  Tiempo de ejecuci√≥n de la funci√≥n </li><li>  Espacio de usuario m√≠nimo de Amazon Linux </li></ul><br><p>  Los siguientes mecanismos se utilizan para aislar diferentes entornos de tiempo de ejecuci√≥n: </p><br><ul><li>  cgroups: restricci√≥n de acceso a los recursos de la CPU, la memoria, el ancho de banda de la unidad y la red para cada entorno de tiempo de ejecuci√≥n; </li><li>  espacios de nombres: ID de proceso de agrupaci√≥n, ID de usuario, interfaces de red y otros recursos administrados por el kernel de Linux.  Cada tiempo de ejecuci√≥n se ejecuta en su propio espacio de nombres; </li><li>  seccomp-bpf: restricci√≥n de llamadas al sistema que se pueden usar en el entorno de tiempo de ejecuci√≥n; </li><li>  iptables y tablas de enrutamiento: aislamiento de entornos de tiempo de ejecuci√≥n entre ellos; </li><li>  chroot: proporciona acceso limitado al sistema de archivos subyacente. </li></ul><br><p>  Combinados con la tecnolog√≠a patentada de aislamiento de AWS, estos mecanismos aseguran una separaci√≥n confiable de los entornos de tiempo de ejecuci√≥n.  Los medios aislados de esta manera no pueden acceder o modificar datos de otros medios. </p><br><p>  Aunque se pueden ejecutar m√∫ltiples tiempos de ejecuci√≥n de la misma cuenta de AWS en el mismo microVM, bajo ninguna circunstancia se pueden compartir microVM entre diferentes cuentas de AWS.  AWS Lambda usa solo dos mecanismos para aislar microVM: instancias EC2 y Firecracker.  El aislamiento de invitados en Lambda basado en instancias EC2 ha estado en uso desde 2015.  Firecracker es el nuevo hipervisor de c√≥digo abierto dise√±ado espec√≠ficamente por AWS para cargas de trabajo sin servidor e introducido en 2018.  El equipo f√≠sico en el que se ejecutan los microVM se comparte entre las cargas de trabajo de diferentes cuentas. </p><br><h1 id="sohranenie-sred-i-sostoyaniy-processov">  Guardar entornos y estados del proceso </h1><br><p>  Aunque los tiempos de ejecuci√≥n de Lambda son √∫nicos para diferentes funciones, la misma funci√≥n se puede volver a llamar en ellos, es decir, el tiempo de ejecuci√≥n puede durar varias horas antes de ser destruido. </p><br><p>  Cada tiempo de ejecuci√≥n de Lambda tambi√©n tiene un sistema de archivos de permisos de escritura, accesible a trav√©s del directorio / tmp.  No se puede acceder a su contenido desde otros tiempos de ejecuci√≥n.  Con respecto a la preservaci√≥n de los estados del proceso, los archivos grabados en / tmp existen durante todo el ciclo de vida del tiempo de ejecuci√≥n.  Debido a esto, es posible acumular los resultados de varias llamadas, lo cual es especialmente √∫til para operaciones tan costosas como cargar modelos de aprendizaje autom√°tico. </p><br><h1 id="peredacha-dannyh-vyzovov">  Transferencia de datos de llamadas </h1><br><p>  La API de invocaci√≥n se puede utilizar en dos modos: en modo de evento y en modo de solicitud-respuesta.  En el modo de evento, la llamada se agrega a la cola para su posterior ejecuci√≥n.  En el modo "solicitud-respuesta", la funci√≥n se llama instant√°neamente con la carga √∫til proporcionada, despu√©s de lo cual se devuelve la respuesta.  En cualquier caso, la funci√≥n se ejecuta en el entorno Lambda, pero con diferentes rutas de carga √∫til. </p><br><p>  Durante las llamadas de solicitud-respuesta, la carga proviene de la API de procesamiento de solicitudes (API Caller), como AWS API Gateway o AWS SDK, al equilibrador de carga y luego al Servicio de ejecuci√≥n de llamadas Lambda (Servicio de invocaci√≥n).  Este √∫ltimo determina el entorno apropiado para ejecutar la funci√≥n y transfiere all√≠ la carga √∫til para completar la llamada.  El equilibrador de carga recibe tr√°fico con protecci√≥n TLS a trav√©s de Internet.  El tr√°fico dentro del servicio Lambda, despu√©s del equilibrador de carga, pasa a trav√©s de la VPC interna en una regi√≥n espec√≠fica de AWS. </p><br><p><img src="https://habrastorage.org/webt/ig/6m/pk/ig6mpkkpw_ompmjybwk99z7qwss.png"></p><br><p>  <em>Modelo de procesamiento de llamadas de AWS Lambda: modo de solicitud-respuesta</em> </p><br><p>  Las llamadas a eventos se pueden hacer de inmediato o agregarse a la cola.  En algunos casos, la cola se implementa utilizando el servicio Amazon SQS (Amazon Simple Queue Service), que transfiere llamadas al servicio de ejecuci√≥n de llamadas Lambda a trav√©s de un proceso de sondeo interno.  El tr√°fico transmitido est√° protegido por TLS y no se proporciona cifrado adicional de los datos almacenados en Amazon SQS. </p><br><p>  Las llamadas a eventos no devuelven respuestas: Lambda Worker simplemente ignora cualquier informaci√≥n de respuesta.  Lambda maneja las llamadas basadas en Amazon S3, Amazon SNS, CloudWatch y otras fuentes en modo evento.  Las llamadas de las transmisiones de Amazon Kinesis y DynamoDB, las llamadas de las colas SQS, el equilibrador de carga de la aplicaci√≥n y las API de Gateway se manejan en un modo de solicitud-respuesta. </p><br><h1 id="monitoring">  Monitoreo </h1><br><p>  Puede supervisar y auditar las funciones de Lambda utilizando diversos mecanismos y servicios de AWS, incluidos los siguientes. </p><br><p>  <strong>Amazon Cloudwatch</strong> <br>  Recopila varias estad√≠sticas, como el n√∫mero de solicitudes, la duraci√≥n de las solicitudes y el n√∫mero de solicitudes que fallaron. </p><br><p>  <strong>Amazon CloudTrail</strong> <br>  Le permite iniciar sesi√≥n, monitorear continuamente y guardar la informaci√≥n de actividad de la cuenta asociada con su infraestructura de AWS.  Tendr√° una cronolog√≠a completa de las acciones realizadas con la consola de administraci√≥n de AWS, el SDK de AWS, las herramientas de l√≠nea de comandos y otros servicios de AWS. </p><br><p>  <strong>Rayos X de AWS</strong> <br>  Proporciona visibilidad completa de todas las etapas del procesamiento de solicitudes en su aplicaci√≥n en funci√≥n de un mapa de sus componentes internos.  Le permite analizar aplicaciones durante el desarrollo y en el entorno de producci√≥n. </p><br><p>  <strong>Configuraci√≥n de AWS</strong> <br>  Podr√° realizar un seguimiento de los cambios en la configuraci√≥n de las funciones de Lambda (incluida su eliminaci√≥n) y tiempos de ejecuci√≥n, etiquetas, nombres de manejador, tama√±o de c√≥digo, asignaci√≥n de memoria, latencia y configuraciones de concurrencia, as√≠ como la funci√≥n, subred y enlaces de grupos de seguridad de Lambda IAM. </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><p>  AWS Lambda ofrece un poderoso conjunto de herramientas para crear aplicaciones seguras y escalables.  Muchos de los m√©todos de seguridad y cumplimiento normativo en AWS Lambda no son diferentes de los utilizados en otros servicios de AWS, aunque hay excepciones.  A partir de marzo de 2019, Lambda cumple con SOC 1, SOC 2, SOC 3, PCI DSS, la Ley de Responsabilidad y Continuidad del Seguro M√©dico de EE. UU. (HIPAA) y otras regulaciones.  Por lo tanto, cuando piense en implementar otra aplicaci√≥n, considere el servicio AWS Lambda; quiz√°s sea el m√°s adecuado para su tarea. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466519/">https://habr.com/ru/post/466519/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466503/index.html">Slurm DevOps. Segundo dia IaC, pruebas de infraestructura y "¬°Slurm inspira!"</a></li>
<li><a href="../466505/index.html">YIMP - Panel de control para Yii 2 en Bootstrap 4</a></li>
<li><a href="../466509/index.html">Una mirada al interior: el proceso del dispositivo para trabajar y la adaptaci√≥n en Google</a></li>
<li><a href="../466515/index.html">Entrevista ¬øQu√© deber√≠a esperar un ingeniero de trabajar en una startup europea? ¬øC√≥mo se hacen las entrevistas? ¬øEs dif√≠cil adaptarse?</a></li>
<li><a href="../466517/index.html">Entrenamiento de localizaci√≥n de la Universidad de Washington</a></li>
<li><a href="../466521/index.html">C for Metal: metal precioso para la inform√°tica en tarjetas gr√°ficas Intel</a></li>
<li><a href="../466525/index.html">¬øQu√© es un dise√±o de iPhone PSD y c√≥mo usarlo?</a></li>
<li><a href="../466527/index.html">Probar la funcionalidad del usuario del sitio web con los objetos de p√°gina de Capybara</a></li>
<li><a href="../466529/index.html">Tipos de compilaci√≥n en la JVM: Exposici√≥n de la sesi√≥n de magia negra</a></li>
<li><a href="../466533/index.html">Pastilda: resultados</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>