<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçü§ù‚Äçüë®üèº üå† üëá Modelos de billar Elo y EloBet ü§ô üôáüèæ ü§≤üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Durante muchos a√±os he estado viendo el billar como un deporte. Lo tiene todo: la fascinante belleza de un juego intelectual, la elegancia de los golp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Modelos de billar Elo y EloBet</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416809/"><p>  Durante muchos a√±os he estado viendo el billar como un deporte.  Lo tiene todo: la fascinante belleza de un juego intelectual, la elegancia de los golpes de kiem y la tensi√≥n psicol√≥gica de la competencia.  Pero hay una cosa que no me gusta: su <strong>sistema de calificaci√≥n</strong> . </p><br><p>  Su principal inconveniente es que solo tiene en cuenta el hecho del logro del torneo sin tener en cuenta la "complejidad" de los partidos.  El <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modelo Elo se ve</a> privado de este inconveniente, que controla la "fuerza" de los jugadores y lo actualiza seg√∫n los resultados de los partidos y la "fuerza" del oponente.  Sin embargo, no encaja perfectamente: se cree que todos los partidos se llevan a cabo en igualdad de condiciones, y en el billar se juegan hasta cierto n√∫mero de cuadros ganados (partidos).  Para dar cuenta de este hecho, consider√© otro modelo, al que llam√© <strong>EloBeta</strong> . </p><br><p>  Este art√≠culo estudia la calidad de los modelos Elo y EloBet en funci√≥n de los resultados de los partidos de billar.  <strong>Es importante tener en cuenta</strong> que los objetivos principales son evaluar la "fuerza" de los jugadores y crear una calificaci√≥n "justa", en lugar de construir modelos predictivos para obtener ganancias. </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/pp/cr/wk/ppcrwkym_jz00_q75dwa4z_k0w0.jpeg"></a> </p><a name="habracut"></a><br><br>  <strong>La calificaci√≥n actual del billar se basa en los logros del jugador en torneos</strong> con su "peso" diferente.  √ârase una vez, solo se tuvieron en cuenta los Campeonatos del Mundo.  Despu√©s de la aparici√≥n de muchas otras competiciones, se desarroll√≥ una tabla de puntos que el jugador podr√≠a ganar cuando llegara a una determinada etapa del torneo.  Ahora la calificaci√≥n tiene la forma de una cantidad "m√≥vil" de premios que el jugador ha ganado durante los (aproximadamente) √∫ltimos dos a√±os calendario. <br><p>  Este sistema tiene dos ventajas principales: es <strong>simple</strong> (gana mucho dinero - sube en el ranking) y <strong>predecible</strong> (si quieres subir a un cierto lugar - gana una cierta cantidad de dinero, todas las dem√°s cosas son iguales).  El problema es que <em>con este m√©todo no se tiene en cuenta la fuerza (habilidad, forma) de los oponentes</em> .  El contraargumento habitual es: "Si un jugador ha llegado a la √∫ltima etapa del torneo, entonces √©l / ella es, por definici√≥n, el jugador fuerte actual" ("los jugadores d√©biles no ganan torneos").  Suena bastante convincente.  Sin embargo, en el billar, como en cualquier deporte, el papel del caso debe tenerse en cuenta: si un jugador es "m√°s d√©bil", esto no significa que √©l / ella nunca pueda ganar "m√°s fuerte" en un partido contra un jugador.  Simplemente sucede con menos frecuencia que el escenario inverso.  Aqu√≠ es donde el <strong>modelo Elo</strong> entra en escena. </p><br><p>  La idea del modelo Elo es que cada jugador est√° asociado con una calificaci√≥n num√©rica.  Se introduce una suposici√≥n de que el resultado de un juego entre dos jugadores puede predecirse en funci√≥n de la diferencia en sus clasificaciones: valores m√°s altos significan <strong>una</strong> mayor probabilidad de ganar un jugador "fuerte" (con una calificaci√≥n m√°s alta).  <strong>La calificaci√≥n Elo se basa en la "fuerza" actual</strong> , calculada sobre la base de los resultados de los partidos con otros jugadores.  Esto evita una falla importante en el sistema de calificaci√≥n oficial actual.  Este enfoque tambi√©n le permite actualizar la calificaci√≥n del jugador durante el torneo para responder num√©ricamente a su buen desempe√±o. </p><br><p>  Al tener experiencia pr√°ctica con la calificaci√≥n Elo, me parece que deber√≠a mostrarse bien en el billar.  Sin embargo, hay un obst√°culo: <em>est√° dise√±ado para competiciones con un solo tipo de partido</em> .  Por supuesto, hay variaciones para tener en cuenta las ventajas del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">campo local</a> en el f√∫tbol y el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primer movimiento</a> en el ajedrez (ambos en forma de agregar un n√∫mero fijo de puntos de calificaci√≥n al jugador con una ventaja).  En el billar, los partidos se juegan en el formato "mejor de N": el jugador que gana los primeros gana <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">n</span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-4">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">c</span><span class="MJXp-mrow" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">N</span><span class="MJXp-mo" id="MJXp-Span-11" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-12">1</span></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mn" id="MJXp-Span-14">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.867ex" height="2.419ex" viewBox="0 -780.1 7262 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-66" x="2184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-72" x="2735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-61" x="3186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-63" x="3716" y="0"></use><g transform="translate(4149,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMAIN-2B" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMAIN-31" x="2111" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMAIN-32" x="6761" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> n = \ frac {N + 1} {2} </script>  marcos (fiestas).  Tambi√©n llamaremos a este formato "hasta <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> n </script>  victorias ". </p><br><p>  Intuitivamente, ganar un partido de hasta 10 victorias (final de un torneo serio) deber√≠a ser m√°s dif√≠cil para un jugador "d√©bil" que ganar un partido de 4 victorias (primera ronda de los torneos nacionales actuales).  Esto se tiene en cuenta en mi <strong>modelo EloBet</strong> . </p><br><p>  La idea de usar la calificaci√≥n Elo en el billar no es nueva.  Por ejemplo, hay los siguientes trabajos: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Snooker Analyst</a> utiliza un sistema de calificaci√≥n "Elo like" (m√°s como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un modelo Bradley - Terry</a> ).  La idea es actualizar la calificaci√≥n en funci√≥n de la diferencia entre el n√∫mero "real" y "esperado" de cuadros ganados.  Este enfoque plantea preguntas.  Por supuesto, <strong>la</strong> mayor diferencia en el n√∫mero de cuadros probablemente demuestre <strong>la</strong> mayor diferencia en fuerza, pero inicialmente el jugador no tiene esa tarea.  En el billar, el objetivo es "solo" ganar el partido, es decir  Gana un cierto n√∫mero de fotogramas antes que el oponente. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Esta discusi√≥n est√° en el foro</a> con la implementaci√≥n del modelo b√°sico de Elo. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Este</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estos son</a> usos reales en el snooker amateur. </li><li>  Quiz√°s hay otros trabajos que me perd√≠.  Estar√≠a muy agradecido por cualquier informaci√≥n sobre este tema. </li></ul><br><h1>  Revisar </h1><br><p>  Este art√≠culo est√° destinado a usuarios del lenguaje <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">R</a> que est√©n interesados ‚Äã‚Äãen estudiar la calificaci√≥n de Elo, y para los fan√°ticos del snooker.  Todos los experimentos est√°n escritos con la idea de ser reproducibles.  El c√≥digo est√° oculto bajo spoilers, tiene comentarios y utiliza paquetes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tidyverse</a> , por lo que puede ser interesante para los usuarios leer por s√≠ mismos R. Se supone que todo el c√≥digo presentado se ejecuta secuencialmente.  Un archivo se puede encontrar <a href="">aqu√≠</a> . </p><br><p>  El art√≠culo est√° organizado de la siguiente manera: </p><br><ul><li>  La secci√≥n <strong>Modelo</strong> describe los enfoques de <em>Elo</em> y <em>EloBet</em> con implementaci√≥n en R. </li><li>  La secci√≥n <strong>Experimento</strong> describe los detalles y la motivaci√≥n del c√°lculo: qu√© <em>datos</em> y <em>metodolog√≠a</em> se utilizan (y por qu√©), y qu√© <em>resultados</em> se obtienen. </li><li>  <strong>La secci√≥n Estudio de clasificaci√≥n EloBet</strong> contiene los resultados de la aplicaci√≥n del modelo EloBet a datos reales de billar.  Estar√° m√°s interesado en los amantes del snooker. </li></ul><br><p>  Necesitaremos la siguiente inicializaci√≥n. </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de inicializaci√≥n</b> <div class="spoiler_text"><pre><code class="hljs delphi">#      suppressPackageStartupMessages(<span class="hljs-keyword"><span class="hljs-keyword">library</span></span>(dplyr)) <span class="hljs-keyword"><span class="hljs-keyword">library</span></span>(tidyr) <span class="hljs-keyword"><span class="hljs-keyword">library</span></span>(purrr) #    <span class="hljs-keyword"><span class="hljs-keyword">library</span></span>(ggplot2) #    suppressPackageStartupMessages(<span class="hljs-keyword"><span class="hljs-keyword">library</span></span>(comperank)) theme_set(theme_bw()) #   .    . <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>.seed(<span class="hljs-number"><span class="hljs-number">20180703</span></span>)</code> </pre> </div></div><br><h1>  Modelos </h1><br><p>  Ambos modelos se basan en los siguientes supuestos: </p><br><ol><li>  Hay un conjunto fijo de jugadores que deben clasificarse de "m√°s fuerte" (primer lugar) a "m√°s d√©bil" (√∫ltimo lugar). </li><li>  Clasificaci√≥n por asociaci√≥n de jugadores <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> i </script>  con calificaci√≥n num√©rica <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-19"><span class="MJXp-msubsup" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-22" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.848ex" height="1.817ex" viewBox="0 -520.7 795.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-69" x="638" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> r_i </script>  : Un n√∫mero que representa la "fuerza" del jugador (un valor m√°s alto significa un jugador m√°s fuerte). </li><li>  Cuanto mayor sea la diferencia en las calificaciones antes del partido, menos probable es la victoria del jugador "d√©bil" (con una calificaci√≥n m√°s baja). </li><li>  Las calificaciones se actualizan despu√©s de cada partido en funci√≥n de su resultado y las calificaciones anteriores. </li><li>  Una victoria sobre un oponente "m√°s fuerte" debe ir acompa√±ada de <strong>un</strong> aumento mayor en la calificaci√≥n que una victoria sobre un oponente "m√°s d√©bil".  Con la derrota, lo contrario es cierto. </li></ol><br><h2>  Elo </h2><br><div class="spoiler">  <b class="spoiler_title">C√≥digo modelo Elo</b> <div class="spoiler_text"><pre> <code class="hljs lua">#<span class="hljs-string"><span class="hljs-string">' @details       .  #'</span></span> `...`        . #<span class="hljs-string"><span class="hljs-string">' #'</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span>  ,   <span class="hljs-number"><span class="hljs-number">1</span></span> (  `rating1`)   #<span class="hljs-string"><span class="hljs-string">'   2 ( `rating2`).      #'</span></span> . elo_win_prob &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rating1, rating2, ksi = 400, ...)</span></span></span></span> { norm_rating_diff &lt;- (rating2 - rating1) / ksi <span class="hljs-number"><span class="hljs-number">1</span></span> / (<span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">10</span></span>^norm_rating_diff) } #<span class="hljs-string"><span class="hljs-string">' @return     ,     #'</span></span> `comperank::add_iterative_ratings()`. elo_fun_gen &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(K, ksi = 400)</span></span></span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rating1, score1, rating2, score2)</span></span></span></span> { comperank::elo(rating1, score1, rating2, score2, K = K, ksi = ksi)[<span class="hljs-number"><span class="hljs-number">1</span></span>, ] } }</code> </pre> </div></div><br><p>  Elo Model actualiza las calificaciones mediante el siguiente procedimiento: </p><br><ul><li><p>  <strong>C√°lculo de la probabilidad de que cierto jugador gane el partido</strong> (antes de que comience).  La probabilidad de que un jugador gane (lo llamaremos "primero") con el identificador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-23"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> i </script>  y calificado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-28" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.848ex" height="1.817ex" viewBox="0 -520.7 795.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416809/&amp;usg=ALkJrhjMjOcCytVQshDcEJsZlT4YtFOjCQ#MJMATHI-69" x="638" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> r_i </script>  sobre otro jugador ("segundo") con identificador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> j </script>  y calificado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-msubsup" id="MJXp-Span-32"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-34" style="vertical-align: -0.4em;">j</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> r_j </script>  es igual </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-35"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">r</span><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-45" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">c</span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mn" id="MJXp-Span-54">1</span></span><span class="MJXp-mrow" id="MJXp-Span-55"><span class="MJXp-mn" id="MJXp-Span-56">1</span><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-58"><span class="MJXp-mn" id="MJXp-Span-59" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-60" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-61">(</span><span class="MJXp-msubsup" id="MJXp-Span-62"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-64" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-65">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-66"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-68" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-69">)</span><span class="MJXp-mrow" id="MJXp-Span-70"><span class="MJXp-mo" id="MJXp-Span-71">/</span></span><span class="MJXp-mn" id="MJXp-Span-72">400</span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-9"> Pr (r_i, r_j) = \ frac {1} {1 + 10 ^ {(r_j - r_i) / 400}} </script></p><br><p>  Con este enfoque, el c√°lculo de la probabilidad obedece al tercer supuesto. </p><br><p>  Normalizar la diferencia a 400 es una forma matem√°tica de decir qu√© diferencia se considera "grande".  Este n√∫mero puede ser reemplazado con un par√°metro modelo. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-73"><span class="MJXp-mtext" id="MJXp-Span-74">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> \ xi </script>  Sin embargo, esto solo afecta la propagaci√≥n de calificaciones futuras y generalmente es redundante.  Un valor de 400 es bastante est√°ndar. </p><br><p>  Con un enfoque general, la probabilidad de victoria es igual <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-77"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">L</span><span class="MJXp-mo" id="MJXp-Span-79" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-82" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-83" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-86" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-87" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> L (r_j - r_i) </script>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">L</span><span class="MJXp-mo" id="MJXp-Span-90" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">x</span><span class="MJXp-mo" id="MJXp-Span-92" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> L (x) </script>  alguna funci√≥n estrictamente creciente con valores de 0 a 1. Usaremos la curva log√≠stica.  Un estudio m√°s completo se puede encontrar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este art√≠culo</a> . </p><br></li><li><p>  <strong>C√°lculo del resultado del partido</strong> <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-93"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> S </script>  .  En el modelo base, es igual a 1 en caso de victoria del primer jugador (derrota del segundo), 0.5 en caso de empate y 0 en caso de derrota del primer jugador (victoria del segundo). </p><br></li><li><p>  <strong>Actualizaci√≥n de calificaci√≥n</strong> : </p><br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-95"><span class="MJXp-mtext" id="MJXp-Span-96">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">a</span><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">K</span><span class="MJXp-mtext" id="MJXp-Span-104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">t</span><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">S</span><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">r</span><span class="MJXp-mo" id="MJXp-Span-114" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-115"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-117" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-118" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-121" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-122" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> \ delta = K \ cdot (S - Pr (r_i, r_j)) </script>  .  Esta es la cantidad por la cual cambiar√°n las calificaciones.  Ella usa un coeficiente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-124"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> K </script>  (el √∫nico par√°metro del modelo).  Menos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> K </script>  (con probabilidades iguales) significa un cambio menor en las calificaciones: el modelo es m√°s conservador, es decir  Se necesitan m√°s victorias para "probar" un cambio de fuerza.  Por otro lado, m√°s <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> K </script>  significa m√°s credibilidad con resultados recientes que calificaciones actuales.  <em>La elecci√≥n de "√≥ptimo"</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-130"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> K </script></em>   <em>es una forma de crear un "buen" sistema de calificaci√≥n</em> . </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-132"><span class="MJXp-msubsup" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mo" id="MJXp-Span-137">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">o</span><span class="MJXp-mo" id="MJXp-Span-143">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">i</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-144" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-147" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-149">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> r_i ^ {(nuevo)} = r_i + \ delta </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-155"><span class="MJXp-msubsup" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-159"><span class="MJXp-mo" id="MJXp-Span-160">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">o</span><span class="MJXp-mo" id="MJXp-Span-166">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-167" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-168"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-170" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-172">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> r_j ^ {(nuevo)} = r_j - \ delta </script>  . </li></ul><br></li></ul><br><p>  <strong>Observaciones</strong> : </p><br><ul><li>  Como se puede ver en las f√≥rmulas de actualizaci√≥n, la suma de las calificaciones de todos los jugadores considerados no cambia con el tiempo: la calificaci√≥n aumenta debido a una disminuci√≥n en la calificaci√≥n del oponente </li><li>  Los jugadores sin partidos jugados est√°n asociados con una calificaci√≥n inicial de 0. Por lo general, se utilizan valores de 1500 o 1000, pero no veo otra raz√≥n que psicol√≥gica.  Teniendo en cuenta el comentario anterior, usar cero significa que la suma de todas las calificaciones siempre es cero, lo cual es hermoso a su manera. </li><li>  Es necesario jugar un cierto n√∫mero de partidos para que la calificaci√≥n refleje la "fuerza" del jugador.  Esto presenta un problema: los jugadores reci√©n agregados comienzan con una calificaci√≥n de 0, que probablemente no sea la m√°s peque√±a entre los jugadores actuales.  En otras palabras, los "reci√©n llegados" se consideran "m√°s fuertes" que algunos otros jugadores.  Puede intentar combatir esto con procedimientos de actualizaci√≥n de calificaci√≥n externa al ingresar a un nuevo jugador. </li><li><p>  ¬øPor qu√© tiene sentido un algoritmo as√≠?  En caso de igualdad de calificaciones <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-178"><span class="MJXp-mtext" id="MJXp-Span-179">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ delta </script>  siempre es igual <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-185"><span class="MJXp-mn" id="MJXp-Span-186">0.5</span><span class="MJXp-mtext" id="MJXp-Span-187">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> 0.5 \ cdot K </script>  .  Supongamos, por ejemplo, que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-193"><span class="MJXp-msubsup" id="MJXp-Span-194"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-196" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-198">0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> r_i = 0 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-199"><span class="MJXp-msubsup" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-202" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-203" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-204">400</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> r_j = 400 </script>  .  Esto significa que la probabilidad de ganar el primer jugador es <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">c</span><span class="MJXp-mrow" id="MJXp-Span-211"><span class="MJXp-mn" id="MJXp-Span-212">1</span></span><span class="MJXp-mrow" id="MJXp-Span-213"><span class="MJXp-mn" id="MJXp-Span-214">1</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-216">10</span></span><span class="MJXp-mtext" id="MJXp-Span-217">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">e</span><span class="MJXp-mn" id="MJXp-Span-233">0.0909</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> \ frac {1} {1 + 10} \ aproximadamente 0.0909 </script>  es decir  √©l / ella ganar√° 1 partido de 11. </p><br><ul><li>  En caso de victoria, √©l / ella recibir√° un aumento de aproximadamente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-234"><span class="MJXp-mn" id="MJXp-Span-235">0.909</span><span class="MJXp-mtext" id="MJXp-Span-236">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> 0.909 \ cdot K </script>  , que es m√°s que en el caso de la igualdad de calificaciones. </li><li>  En caso de una derrota, √©l / ella recibir√° una reducci√≥n de aproximadamente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-242"><span class="MJXp-mn" id="MJXp-Span-243">0.0909</span><span class="MJXp-mtext" id="MJXp-Span-244">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> 0.0909 \ cdot K </script>  , que es menor que en el caso de igualdad de calificaciones. </li></ul><br><p>  Esto muestra que el modelo Elo obedece a la quinta suposici√≥n: una victoria sobre un oponente es "m√°s fuerte" se acompa√±a de <strong>un</strong> aumento mayor en la calificaci√≥n que una victoria sobre un oponente es "m√°s d√©bil", y viceversa. </p><br></li></ul><br><p>  Por supuesto, el modelo Elo tiene sus propias <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">caracter√≠sticas pr√°cticas</a> (de alto nivel).  Sin embargo, lo m√°s importante para nuestro estudio es lo siguiente: se supone que todos los partidos se llevan a cabo en igualdad de condiciones.  Esto significa que la distancia del partido no se tiene en cuenta: una victoria en un partido de hasta 4 victorias se recompensa de la misma manera que una victoria en un partido de hasta 10 victorias.  Aqu√≠ viene el modelo de escenario EloBeta. </p><br><h2>  EloBeta </h2><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de modelo EloBet</b> <div class="spoiler_text"><pre> <code class="hljs lua">#<span class="hljs-string"><span class="hljs-string">' @details       . #'</span></span> #<span class="hljs-string"><span class="hljs-string">' @return  ,   1 (  `rating1`)   #'</span></span>   <span class="hljs-number"><span class="hljs-number">2</span></span> ( `rating2`).    `frames_to_win` #<span class="hljs-string"><span class="hljs-string">'  .        #'</span></span>   . elobeta_win_prob &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rating1, rating2, frames_to_win, ksi = 400, ...)</span></span></span></span> { prob_frame &lt;- elo_win_prob(rating1 = rating1, rating2 = rating2, ksi = ksi) #  ,     `frames_to_win`   #          # (`prob_frame`).   . pbeta(prob_frame, frames_to_win, frames_to_win) } #<span class="hljs-string"><span class="hljs-string">' @return       : 1  / #'</span></span> (), <span class="hljs-number"><span class="hljs-number">0.5</span></span>     <span class="hljs-number"><span class="hljs-number">0</span></span>  / (). get_match_result &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(score1, score2)</span></span></span></span> { #    ()  ,     . near_score &lt;- dplyr::near(score1, score2) dplyr::if_else(near_score, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, as.numeric(score1 &gt; score2)) } #<span class="hljs-string"><span class="hljs-string">' @return     ,     #'</span></span> `add_iterative_ratings()`. elobeta_fun_gen &lt;- <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(K, ksi = 400)</span></span></span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rating1, score1, rating2, score2)</span></span></span></span> { prob_win &lt;- elobeta_win_prob( rating1 = rating1, rating2 = rating2, frames_to_win = pmax(score1, score2), ksi = ksi ) match_result &lt;- get_match_result(score1, score2) delta &lt;- K * (match_result - prob_win) c(rating1 + delta, rating2 - delta) } }</code> </pre> </div></div><br><p>  En el modelo Elo, la diferencia en las calificaciones afecta directamente la probabilidad de ganar la partida completa.  La idea principal del modelo EloBet es la <strong>influencia directa de la diferencia en las calificaciones sobre la probabilidad de ganar en un cuadro</strong> y el <strong>c√°lculo expl√≠cito de la probabilidad de que un jugador gane</strong> <math> </math><strong><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> n </script></strong>   <strong>marcos antes del oponente</strong> . </p><br><p>  La pregunta sigue siendo: ¬øc√≥mo calcular tal probabilidad?  Resulta que este es uno de los problemas m√°s antiguos en la historia de la teor√≠a de la probabilidad y tiene su propio nombre: el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">problema de dividir las apuestas</a> (Problema de puntos).  Una muy buena presentaci√≥n se puede encontrar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este art√≠culo</a> .  Usando su notaci√≥n, la probabilidad deseada es: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-252"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">P</span><span class="MJXp-mo" id="MJXp-Span-254" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">n</span><span class="MJXp-mo" id="MJXp-Span-256" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">n</span><span class="MJXp-mo" id="MJXp-Span-258" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-260">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">m</span><span class="MJXp-mtext" id="MJXp-Span-264">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">t</span><span class="MJXp-msubsup" id="MJXp-Span-270"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271" style="margin-right: 0.05em;">s</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-276"><span class="MJXp-mn" id="MJXp-Span-277">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">n</span><span class="MJXp-mo" id="MJXp-Span-279">‚àí</span><span class="MJXp-mn" id="MJXp-Span-280">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">j</span><span class="MJXp-mo" id="MJXp-Span-274">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">n</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-281"><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-mrow" id="MJXp-Span-283"><span class="MJXp-mn" id="MJXp-Span-284">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">n</span><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-287">1</span></span><span class="MJXp-mtext" id="MJXp-Span-288">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">e</span><span class="MJXp-mrow" id="MJXp-Span-295"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">j</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-297"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-299" style="vertical-align: 0.5em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-300" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-301">1</span><span class="MJXp-mo" id="MJXp-Span-302" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">p</span><span class="MJXp-msubsup" id="MJXp-Span-304"><span class="MJXp-mo" id="MJXp-Span-305" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-306" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-307">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">n</span><span class="MJXp-mo" id="MJXp-Span-309">‚àí</span><span class="MJXp-mn" id="MJXp-Span-310">1</span><span class="MJXp-mo" id="MJXp-Span-311">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">j</span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-29"> P (n, n) = \ sum \ limits_ {j = n} ^ {2n-1} {{{2n-1} \ choose {j}} p ^ j (1-p) ^ {2n-1- j}} </script></p><br><p>  Aqui <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">P</span><span class="MJXp-mo" id="MJXp-Span-315" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">n</span><span class="MJXp-mo" id="MJXp-Span-317" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">n</span><span class="MJXp-mo" id="MJXp-Span-319" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> P (n, n) </script>  - probabilidad de que el primer jugador gane el partido antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-320"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> n </script>  victorias <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-322"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> p </script>  - la probabilidad de su victoria en un cuadro (el oponente tiene probabilidad <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-324"><span class="MJXp-mn" id="MJXp-Span-325">1</span><span class="MJXp-mo" id="MJXp-Span-326" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> 1-p </script>  )  Con este enfoque, se supone que <strong>los resultados del cuadro dentro de la coincidencia son independientes entre s√≠</strong> .  Esto puede estar en duda, pero es una suposici√≥n necesaria para este modelo. </p><br><p>  ¬øHay una forma m√°s r√°pida de calcular?  Resulta que la respuesta es s√≠.  Despu√©s de varias horas de conversi√≥n de f√≥rmulas, experimentos pr√°cticos y b√∫squedas en Internet, encontr√© la siguiente <a href="">propiedad</a> en una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">funci√≥n beta incompleta regularizada</a> <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-328"><span class="MJXp-msubsup" id="MJXp-Span-329"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-331" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-332" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">a</span><span class="MJXp-mo" id="MJXp-Span-334" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">b</span><span class="MJXp-mo" id="MJXp-Span-336" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> I_x (a, b) </script>  .  Sustituyendo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-337"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">m</span><span class="MJXp-mo" id="MJXp-Span-339" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">k</span><span class="MJXp-mo" id="MJXp-Span-341" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-342">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">n</span><span class="MJXp-mo" id="MJXp-Span-344" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-345">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346">k</span><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-348">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> m = k, ~ n = 2k - 1 </script>  en esta propiedad y reemplazando <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-349"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> k </script>  en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-351"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> n </script>  resulta <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-353"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">P</span><span class="MJXp-mo" id="MJXp-Span-355" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">n</span><span class="MJXp-mo" id="MJXp-Span-357" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">n</span><span class="MJXp-mo" id="MJXp-Span-359" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-360" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-361"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-363" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">n</span><span class="MJXp-mo" id="MJXp-Span-366" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">n</span><span class="MJXp-mo" id="MJXp-Span-368" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> P (n, n) = I_p (n, n) </script>  . </p><br><p>  Esto tambi√©n es una buena noticia para los usuarios de R, ya que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-369"><span class="MJXp-msubsup" id="MJXp-Span-370"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-372" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">n</span><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">n</span><span class="MJXp-mo" id="MJXp-Span-377" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> I_p (n, n) </script>  se puede calcular como <code>pbeta(p, n, n)</code> .  <strong>Nota</strong> : el caso general de la probabilidad de victoria en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> n </script>  fotogramas antes de que el oponente gane <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-380"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> m </script>  tambi√©n se puede calcular como <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-382"><span class="MJXp-msubsup" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-385" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">n</span><span class="MJXp-mo" id="MJXp-Span-388" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">m</span><span class="MJXp-mo" id="MJXp-Span-390" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> I_p (n, m) </script>  y <code>pbeta(p, n, m)</code> respectivamente.  Esto abre grandes oportunidades para <em>actualizar la probabilidad de ganar durante el partido</em> . </p><br><p>  El procedimiento de actualizaci√≥n de calificaci√≥n en el marco del modelo EloBet tiene el siguiente formulario (con calificaciones conocidas <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-391"><span class="MJXp-msubsup" id="MJXp-Span-392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-394" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> r_i </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-395"><span class="MJXp-msubsup" id="MJXp-Span-396"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-398" style="vertical-align: -0.4em;">j</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> r_j </script>  cantidad de cuadros necesarios para ganar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-399"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> n </script>  y el resultado del partido <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> S </script>  , como en el modelo Elo): </p><br><ul><li>  <strong>C√°lculo de la probabilidad de victoria del primer jugador en un cuadro</strong> : <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-403"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">p</span><span class="MJXp-mo" id="MJXp-Span-405" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">r</span><span class="MJXp-mo" id="MJXp-Span-408" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-409"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-411" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-412" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-413"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-415" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-416" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-417" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-418">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">c</span><span class="MJXp-mrow" id="MJXp-Span-423"><span class="MJXp-mn" id="MJXp-Span-424">1</span></span><span class="MJXp-mrow" id="MJXp-Span-425"><span class="MJXp-mn" id="MJXp-Span-426">1</span><span class="MJXp-mo" id="MJXp-Span-427" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-428"><span class="MJXp-mn" id="MJXp-Span-429" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-430" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-431">(</span><span class="MJXp-msubsup" id="MJXp-Span-432"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-434" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-435">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-438" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-439">)</span><span class="MJXp-mrow" id="MJXp-Span-440"><span class="MJXp-mo" id="MJXp-Span-441">/</span></span><span class="MJXp-mn" id="MJXp-Span-442">400</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> p = Pr (r_i, r_j) = \ frac {1} {1 + 10 ^ {(r_j - r_i) / 400}} </script>  . </li><li>  <strong>C√°lculo de la probabilidad de victoria de este jugador en el partido</strong> : <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-443"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">P</span><span class="MJXp-msubsup" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-447" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-453"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-455" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-456" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-457"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-459" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-460" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-461" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-462"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-464" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-465" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">n</span><span class="MJXp-mo" id="MJXp-Span-467" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">n</span><span class="MJXp-mo" id="MJXp-Span-469" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> Pr ^ {Beta} (r_i, r_j) = I_p (n, n) </script>  .  Por ejemplo, si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-470"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> p </script>  igual a 0.4, entonces la probabilidad de ganar el partido antes de 4 victorias cae a 0.29, y en "a 18 victorias" - a 0.11. </li><li>  <strong>Actualizaci√≥n de calificaci√≥n</strong> : <br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-472"><span class="MJXp-mtext" id="MJXp-Span-473">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">a</span><span class="MJXp-mo" id="MJXp-Span-479" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">K</span><span class="MJXp-mtext" id="MJXp-Span-481">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">t</span><span class="MJXp-mo" id="MJXp-Span-486" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">S</span><span class="MJXp-mo" id="MJXp-Span-488" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">P</span><span class="MJXp-msubsup" id="MJXp-Span-490"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-492" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-497" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-498"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-500" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-501" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-502"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-504" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-505" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-506" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> \ delta = K \ cdot (S - Pr ^ {Beta} (r_i, r_j)) </script>  . </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-507"><span class="MJXp-msubsup" id="MJXp-Span-508"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-511"><span class="MJXp-mo" id="MJXp-Span-512">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">o</span><span class="MJXp-mo" id="MJXp-Span-518">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">i</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-519" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-520"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-522" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-523" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-524">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> r_i ^ {(nuevo)} = r_i + \ delta </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-530"><span class="MJXp-msubsup" id="MJXp-Span-531"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-534"><span class="MJXp-mo" id="MJXp-Span-535">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">o</span><span class="MJXp-mo" id="MJXp-Span-541">)</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-542" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-545" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-546" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-547">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> r_j ^ {(nuevo)} = r_j - \ delta </script>  . </li></ul></li></ul><br><p>  <strong>Nota</strong> : porque  la diferencia en las calificaciones afecta directamente la probabilidad de ganar en un cuadro, y no en todo el partido, se debe esperar un valor de coeficiente √≥ptimo m√°s bajo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-553"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> K </script>  : parte del valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-555"><span class="MJXp-mtext" id="MJXp-Span-556">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> \ delta </script>  proviene de un efecto de refuerzo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-562"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">P</span><span class="MJXp-msubsup" id="MJXp-Span-564"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-566" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-571" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-572"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-574" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-575" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-576"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-578" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-579" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> Pr ^ {Beta} (r_i, r_j) </script>  . </p><br><p>  La idea de calcular el resultado de un partido basado en la probabilidad de ganar en un cuadro no es muy nueva.  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este sitio de</a> autor√≠a de Fran√ßois Labelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">,</a> puede encontrar un c√°lculo en l√≠nea de la probabilidad de ganar el "mejor de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-580"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> N </script>  "Coincide, junto con otras funciones. Me alegr√© de ver que nuestros resultados de c√°lculo coinciden. Sin embargo, no pude encontrar ninguna fuente para introducir un enfoque de este tipo en el procedimiento de actualizaci√≥n para las calificaciones Elo. Como antes, estar√© muy agradecido por cualquier informaci√≥n sobre este tema. </p><br><p>  Solo pude encontrar este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> y la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descripci√≥n</a> del sistema Elo en el servidor de juegos de backgammon (FIBS).  Tambi√©n hay un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">an√°logo en ruso</a> .  Aqu√≠, se tienen en cuenta las diferentes duraciones de los partidos al multiplicar la diferencia en las calificaciones por la ra√≠z cuadrada de la distancia del partido.  Sin embargo, no parece tener ninguna justificaci√≥n te√≥rica. </p><br><h1>  Un experimento </h1><br><p>  Un experimento tiene varios objetivos.  Seg√∫n los resultados de los partidos de billar: </p><br><ul><li>  Determinar los mejores valores de coeficientes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-582"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> K </script>  para ambos modelos </li><li>  Estudiar la estabilidad de los modelos en t√©rminos de precisi√≥n de la probabilidad predictiva. </li><li>  Para estudiar el efecto del uso de torneos de "invitaci√≥n" en las clasificaciones. </li><li>  Cree un historial de clasificaci√≥n justo para la temporada 2017/18 para todos los jugadores profesionales. </li></ul><br><h2>  Datos </h2><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de generaci√≥n de datos de experimento</b> <div class="spoiler_text"><pre> <code class="hljs mel">#       <span class="hljs-string"><span class="hljs-string">"train"</span></span>, <span class="hljs-string"><span class="hljs-string">"validation"</span></span>  <span class="hljs-string"><span class="hljs-string">"test"</span></span> split_cases &lt;- function(n, props = c(<span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0.25</span></span>, <span class="hljs-number"><span class="hljs-number">0.25</span></span>)) { breaks &lt;- n * cumsum(head(props, <span class="hljs-number"><span class="hljs-number">-1</span></span>)) / sum(props) id_vec &lt;- findInterval(seq_len(n), breaks, left.open = TRUE) + <span class="hljs-number"><span class="hljs-number">1</span></span> c(<span class="hljs-string"><span class="hljs-string">"train"</span></span>, <span class="hljs-string"><span class="hljs-string">"validation"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>)[id_vec] } pro_players &lt;- snooker_players %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(status == <span class="hljs-string"><span class="hljs-string">"pro"</span></span>) #     pro_matches_all &lt;- snooker_matches %&gt;% #      <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(!walkover1, !walkover2) %&gt;% #      semi_join(y = pro_players, by = c(player1Id = <span class="hljs-string"><span class="hljs-string">"id"</span></span>)) %&gt;% semi_join(y = pro_players, by = c(player2Id = <span class="hljs-string"><span class="hljs-string">"id"</span></span>)) %&gt;% #   <span class="hljs-string"><span class="hljs-string">'season'</span></span> left_join( y = snooker_events %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(id, season), by = c(eventId = <span class="hljs-string"><span class="hljs-string">"id"</span></span>) ) %&gt;% #       arrange(endDate) %&gt;% #    widecr transmute( game = seq_len(n()), player1 = player1Id, score1, player2 = player2Id, score2, matchId = id, endDate, eventId, season, #    (<span class="hljs-string"><span class="hljs-string">"train"</span></span>, <span class="hljs-string"><span class="hljs-string">"validation"</span></span>  <span class="hljs-string"><span class="hljs-string">"test"</span></span>)   # <span class="hljs-number"><span class="hljs-number">50</span></span>/<span class="hljs-number"><span class="hljs-number">25</span></span>/<span class="hljs-number"><span class="hljs-number">25</span></span> matchType = split_cases(n()) ) %&gt;% #    widecr as_widecr() #        (,  # ,  Championship League). pro_matches_off &lt;- pro_matches_all %&gt;% anti_join( y = snooker_events %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(type == <span class="hljs-string"><span class="hljs-string">"Invitational"</span></span>), by = c(eventId = <span class="hljs-string"><span class="hljs-string">"id"</span></span>) ) #     get_split &lt;- . %&gt;% count(matchType) %&gt;% mutate(share = n / sum(n)) #     <span class="hljs-number"><span class="hljs-number">50</span></span>/<span class="hljs-number"><span class="hljs-number">25</span></span>/<span class="hljs-number"><span class="hljs-number">25</span></span> (train/validation/test) pro_matches_all %&gt;% get_split() ## # A tibble: <span class="hljs-number"><span class="hljs-number">3</span></span> x <span class="hljs-number"><span class="hljs-number">3</span></span> ## matchType n share ## &lt;chr&gt; &lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; &lt;dbl&gt; ## <span class="hljs-number"><span class="hljs-number">1</span></span> test <span class="hljs-number"><span class="hljs-number">1030</span></span> <span class="hljs-number"><span class="hljs-number">0.250</span></span> ## <span class="hljs-number"><span class="hljs-number">2</span></span> train <span class="hljs-number"><span class="hljs-number">2059</span></span> <span class="hljs-number"><span class="hljs-number">0.5</span></span> ## <span class="hljs-number"><span class="hljs-number">3</span></span> validation <span class="hljs-number"><span class="hljs-number">1029</span></span> <span class="hljs-number"><span class="hljs-number">0.250</span></span> #    ,       #    . ,       #     __ __,    <span class="hljs-string"><span class="hljs-string">`pro_matches_all`</span></span>.  # ,        __  # __. pro_matches_off %&gt;% get_split() ## # A tibble: <span class="hljs-number"><span class="hljs-number">3</span></span> x <span class="hljs-number"><span class="hljs-number">3</span></span> ## matchType n share ## &lt;chr&gt; &lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; &lt;dbl&gt; ## <span class="hljs-number"><span class="hljs-number">1</span></span> test <span class="hljs-number"><span class="hljs-number">820</span></span> <span class="hljs-number"><span class="hljs-number">0.225</span></span> ## <span class="hljs-number"><span class="hljs-number">2</span></span> train <span class="hljs-number"><span class="hljs-number">1810</span></span> <span class="hljs-number"><span class="hljs-number">0.497</span></span> ## <span class="hljs-number"><span class="hljs-number">3</span></span> validation <span class="hljs-number"><span class="hljs-number">1014</span></span> <span class="hljs-number"><span class="hljs-number">0.278</span></span> #    K k_grid &lt;- <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> </div></div><br><p>  Utilizaremos los datos de billar del paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">comperank</a> .  La fuente original es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">snooker.org</a> .  Los resultados se toman de los siguientes partidos: </p><br><ul><li>  El partido se <strong>jug√≥ en la temporada 2016/17 o 2017/18</strong> . </li><li>  El partido <strong>es parte de un torneo de billar "profesional"</strong> , es decir: <br><ul><li>  Es del tipo "Invitational", "Qualifying" o "Ranking".  Tambi√©n distinguiremos dos juegos de partidos: "todos los partidos" (de todos los datos del torneo) y "partidos oficiales" (excluyendo torneos de invitaci√≥n).  Hay dos razones para esto: <br><ul><li>  En los torneos de invitaci√≥n, no todos los jugadores tienen la oportunidad de cambiar su calificaci√≥n.  Esto no es necesariamente malo en el marco de los modelos Elo y EloBet, pero tiene un "tinte de injusticia". </li><li>  Existe la creencia de que los jugadores "se toman en serio" solo para las clasificaciones oficiales.  <strong>Nota</strong> : la mayor√≠a de los torneos por invitaci√≥n forman parte de la Championship League, que creo que es aceptada por la mayor√≠a de los jugadores. <del>  no muy en serio </del>  en forma de pr√°ctica con la capacidad de ganar dinero.  La presencia de estos torneos puede afectar el ranking.  Adem√°s de la "Championship League" hay otros torneos de invitaci√≥n: "2016 China Championship", ambos "Champion of Champions", ambos "Masters", "2017 Hong Kong Masters", "2017 World Games", "2017 Romanian Masters". </li></ul></li><li>  Describe un billar tradicional (no 6 rojos o Power Snooker) entre jugadores individuales (no equipos). </li><li>  Ambos sexos pueden estar involucrados (no solo hombres o mujeres). </li><li>  Pueden participar jugadores de todas las edades (no solo personas mayores o "menores de 21 a√±os"). </li><li>  Esto no es un "Shoot-Out" porque  estos torneos se almacenan en la base de datos snooker.org. </li></ul></li><li>  El partido <strong>realmente tuvo lugar</strong> : su resultado es el resultado de un juego real que involucra a ambos jugadores. </li><li>  El partido se <strong>celebra entre dos profesionales</strong> .  La lista de profesionales se toma para la temporada 2017/18 (131 jugadores).  Esta decisi√≥n parece ser la m√°s controvertida, ya que  la eliminaci√≥n de partidos que involucran "ciegos" de aficionados a la derrota de profesionales de aficionados.  Esto lleva a una ventaja injusta de estos jugadores.  Me parece que tal decisi√≥n es necesaria para reducir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">inflaci√≥n de</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">calificaci√≥n</a> que se producir√° al tener en cuenta los partidos con aficionados.  Otro enfoque es estudiar profesionales y aficionados juntos, pero esto parece irracional en el marco de este estudio.  La derrota de un aficionado profesional se considera una p√©rdida de la oportunidad de aumentar la calificaci√≥n. </li></ul><br><p>  El n√∫mero final de partidos utilizados es 4118 para "todos los partidos" y 3644 para "partidos oficiales" (62.9 y 55.6 por jugador, respectivamente). </p><br><h2>  Metodolog√≠a </h2><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de funci√≥n de experimento</b> <div class="spoiler_text"><pre> <code class="hljs mel">#<span class="hljs-string"><span class="hljs-string">' @param matches   `longcr`  `widecr`   `matchType` #'</span></span> (   : <span class="hljs-string"><span class="hljs-string">"train"</span></span>, <span class="hljs-string"><span class="hljs-string">"validation"</span></span>  <span class="hljs-string"><span class="hljs-string">"test"</span></span>). #<span class="hljs-string"><span class="hljs-string">' @param test_type      .   #'</span></span>            #<span class="hljs-string"><span class="hljs-string">' ("") .  ,       #'</span></span>   <span class="hljs-string"><span class="hljs-string">`game`</span></span>. #<span class="hljs-string"><span class="hljs-string">' @param k_vec   K    . #'</span></span> @param rate_fun_gen ,     K  #<span class="hljs-string"><span class="hljs-string">'      `add_iterative_ratings()`. #'</span></span> @param get_win_prob        #<span class="hljs-string"><span class="hljs-string">'   (`rating1`, `rating2`)   ,  #'</span></span>     (<span class="hljs-string"><span class="hljs-string">`frames_to_win`</span></span>). ____:    #<span class="hljs-string"><span class="hljs-string">'     . #'</span></span> @param initial_ratings      #<span class="hljs-string"><span class="hljs-string">' `add_iterative_ratings()`. #'</span></span> #<span class="hljs-string"><span class="hljs-string">' @details   : #'</span></span> -      <span class="hljs-string"><span class="hljs-string">`matches`</span></span>   #<span class="hljs-string"><span class="hljs-string">'  `game`. #'</span></span> -     <span class="hljs-string"><span class="hljs-string">`test_type`</span></span>: #<span class="hljs-string"><span class="hljs-string">' -    1. #'</span></span> -       : <span class="hljs-number"><span class="hljs-number">1</span></span>  / #<span class="hljs-string"><span class="hljs-string">' (), 0.5     0  / (). #'</span></span> -    RMSE:      ,  #<span class="hljs-string"><span class="hljs-string">' "" -       . #'</span></span> #<span class="hljs-string"><span class="hljs-string">' @return Tibble   '</span></span>k<span class="hljs-string"><span class="hljs-string">'   K  '</span></span>goodness<span class="hljs-string"><span class="hljs-string">'  #'</span></span>   RMSE. compute_goodness &lt;- function(matches, test_type, k_vec, rate_fun_gen, get_win_prob, initial_ratings = <span class="hljs-number"><span class="hljs-number">0</span></span>) { cat(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) map_dfr(k_vec, function(cur_k) { #    cat(cur_k, <span class="hljs-string"><span class="hljs-string">" "</span></span>) matches %&gt;% arrange(game) %&gt;% add_iterative_ratings( rate_fun = rate_fun_gen(cur_k), initial_ratings = initial_ratings ) %&gt;% left_join(y = matches %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(game, matchType), by = <span class="hljs-string"><span class="hljs-string">"game"</span></span>) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(matchType %in% test_type) %&gt;% mutate( #       framesToWin = pmax(score1, score2), #    <span class="hljs-number"><span class="hljs-number">1</span></span>    <span class="hljs-string"><span class="hljs-string">`framesToWin`</span></span>  winProb = get_win_prob( rating1 = rating1Before, rating2 = rating2Before, frames_to_win = framesToWin ), result = get_match_result(score1, score2), squareError = (result - winProb)^<span class="hljs-number"><span class="hljs-number">2</span></span> ) %&gt;% summarise(goodness = <span class="hljs-keyword"><span class="hljs-keyword">sqrt</span></span>(mean(squareError))) }) %&gt;% mutate(k = k_vec) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(k, goodness) } #<span class="hljs-string"><span class="hljs-string">'   `compute_goodness()`      compute_goodness_wrap &lt;- function(matches_name, test_type, k_vec, rate_fun_gen_name, win_prob_fun_name, initial_ratings = 0) { matches_tbl &lt;- get(matches_name) rate_fun_gen &lt;- get(rate_fun_gen_name) get_win_prob &lt;- get(win_prob_fun_name) compute_goodness( matches_tbl, test_type, k_vec, rate_fun_gen, get_win_prob, initial_ratings ) } #'</span></span>     #<span class="hljs-string"><span class="hljs-string">' #'</span></span> @param test_type   <span class="hljs-string"><span class="hljs-string">`test_type`</span></span> ( )  #<span class="hljs-string"><span class="hljs-string">' `compute_goodness()`. #'</span></span> @param rating_type    ( ). #<span class="hljs-string"><span class="hljs-string">' @param data_type   . #'</span></span> @param k_vec,initial_ratings   <span class="hljs-string"><span class="hljs-string">`compute_goodness()`</span></span>. #<span class="hljs-string"><span class="hljs-string">' #'</span></span> @details         #<span class="hljs-string"><span class="hljs-string">'          .  #'</span></span> ,   ,      #<span class="hljs-string"><span class="hljs-string">'     : #'</span></span> - <span class="hljs-string"><span class="hljs-string">"pro_matches_"</span></span> + <span class="hljs-string"><span class="hljs-string">`&lt; &gt;`</span></span> + <span class="hljs-string"><span class="hljs-string">`&lt; &gt;`</span></span>   . #<span class="hljs-string"><span class="hljs-string">' - `&lt; &gt;` + "_fun_gen"    . #'</span></span> - <span class="hljs-string"><span class="hljs-string">`&lt; &gt;`</span></span> + <span class="hljs-string"><span class="hljs-string">"_win_prob"</span></span>  ,   #<span class="hljs-string"><span class="hljs-string">' . #'</span></span> #<span class="hljs-string"><span class="hljs-string">' @return Tibble   : #'</span></span> - __testType__ &lt;chr&gt; :   . #<span class="hljs-string"><span class="hljs-string">' - __ratingType__ &lt;chr&gt; :   . #'</span></span> - __dataType__ &lt;chr&gt; :   . #<span class="hljs-string"><span class="hljs-string">' - __k__ &lt;dbl/int&gt; :   K. #'</span></span> - __goodness__ &lt;dbl&gt; :   . do_experiment &lt;- function(test_type = c(<span class="hljs-string"><span class="hljs-string">"validation"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>), rating_type = c(<span class="hljs-string"><span class="hljs-string">"elo"</span></span>, <span class="hljs-string"><span class="hljs-string">"elobeta"</span></span>), data_type = c(<span class="hljs-string"><span class="hljs-string">"all"</span></span>, <span class="hljs-string"><span class="hljs-string">"off"</span></span>), k_vec = k_grid, initial_ratings = <span class="hljs-number"><span class="hljs-number">0</span></span>) { crossing( testType = test_type, ratingType = rating_type, dataType = data_type ) %&gt;% mutate( dataName = paste0(<span class="hljs-string"><span class="hljs-string">"pro_matches_"</span></span>, testType, <span class="hljs-string"><span class="hljs-string">"_"</span></span>, dataType), kVec = rep(list(k_vec), n()), rateFunGenName = paste0(ratingType, <span class="hljs-string"><span class="hljs-string">"_fun_gen"</span></span>), winProbFunName = paste0(ratingType, <span class="hljs-string"><span class="hljs-string">"_win_prob"</span></span>), initialRatings = rep(list(initial_ratings), n()), experimentData = pmap( list(dataName, testType, kVec, rateFunGenName, winProbFunName, initialRatings), compute_goodness_wrap ) ) %&gt;% unnest(experimentData) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(testType, ratingType, dataType, k, goodness) }</code> </pre> </div></div><br><p>   ""  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-584"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> K </script>     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-586"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">K</span><span class="MJXp-mo" id="MJXp-Span-588" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-589">1</span><span class="MJXp-mo" id="MJXp-Span-590" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-591">2</span><span class="MJXp-mo" id="MJXp-Span-592" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-593" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-594" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-595" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-596" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-597">100</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59">K = 1, 2, ..., 100</script>  .   <strong></strong>     ,   .   : </p><br><ul><li>   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-598"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> K </script>  : <br><ul><li> <strong>   </strong>       .  ,          .      <code>add_iterative_ratings()</code>   <code>comperank</code> .    " ", ..    . </li><li>   ,    (  )  , <strong>  </strong> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RMSE</a> (     )         (   ).  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">E</span><span class="MJXp-mo" id="MJXp-Span-605" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msqrt" id="MJXp-Span-606"><span class="MJXp-surd"><span class="MJXp-right MJXp-scale5" style="font-size: 301%; margin-top: 0.047em; margin-left: -0.273em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.113em solid;"></span><span class="MJXp-box"><span class="MJXp-mfrac" id="MJXp-Span-607" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-608">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-609"><span class="MJXp-mo" id="MJXp-Span-610">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">T</span><span class="MJXp-mrow" id="MJXp-Span-612"><span class="MJXp-mo" id="MJXp-Span-613">|</span></span></span></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-614"><span class=""><span class="MJXp-mo" id="MJXp-Span-615" style="margin-left: 0.111em; margin-right: 0.167em;">‚àë</span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-616" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">t</span><span class="MJXp-mo" id="MJXp-Span-618">‚àà</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">T</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-620"><span class="MJXp-mo" id="MJXp-Span-621" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-622"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-624" style="vertical-align: -0.4em;">t</span></span><span class="MJXp-mo" id="MJXp-Span-625" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-626"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627" style="margin-right: 0.05em;">P</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-628" style="vertical-align: -0.4em;">t</span></span><span class="MJXp-msubsup" id="MJXp-Span-629"><span class="MJXp-mo" id="MJXp-Span-630" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-631" style="vertical-align: 0.5em;">2</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61">RMSE = \sqrt{\frac{1}{|T|} \sum\limits_{t \in T}{(S_t - P_t)^2}}</script>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-632"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-633">T</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62">T</script> ‚Äî   , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-634"><span class="MJXp-mrow" id="MJXp-Span-635"><span class="MJXp-mo" id="MJXp-Span-636" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">T</span><span class="MJXp-mrow" id="MJXp-Span-638"><span class="MJXp-mo" id="MJXp-Span-639" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63">|T|</script> ‚Äî   , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-640"><span class="MJXp-msubsup" id="MJXp-Span-641"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-643" style="vertical-align: -0.4em;">t</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64">S_t</script> ‚Äî     , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-644"><span class="MJXp-msubsup" id="MJXp-Span-645"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646" style="margin-right: 0.05em;">P</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-647" style="vertical-align: -0.4em;">t</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65">P_t</script> ‚Äî       (   ).        ,          " " . </li></ul></li><li>  Valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-648"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> K </script>  <strong>  RMSE</strong>  .   "" ,     RMSE      <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67"> K </script> (       ).   0.5 (  ""    0.5)   . </li></ul><br><p>         ,      : "train" (), "validation" ()  "test" ().    , ..    "train"/"validation"    ,     "validation"/"test".       50/25/25  " ".  " "     " "  .      : 49.7/27.8/22.5. ,   ,       <strong>  </strong> . </p><br><p>        : </p><br><ul><li> <strong> </strong> :   . </li><li> <strong> </strong> : " "  " " (  ". "). </li><li> <strong> </strong> : "" ( "validation"    RMSE  ""  "train" )  "" ( "test"    RMSE  ""  "train"  "validation" ). </li></ul><br><h2>  Resultados </h2><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><pre> <code class="hljs mel">pro_matches_validation_all &lt;- pro_matches_all %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(matchType != <span class="hljs-string"><span class="hljs-string">"test"</span></span>) pro_matches_validation_off &lt;- pro_matches_off %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(matchType != <span class="hljs-string"><span class="hljs-string">"test"</span></span>) pro_matches_test_all &lt;- pro_matches_all pro_matches_test_off &lt;- pro_matches_off</code> </pre> <br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta">#     experiment_tbl &lt;- do_experiment()</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><pre> <code class="hljs mel">plot_data &lt;- experiment_tbl %&gt;% unite(<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>, ratingType, dataType) %&gt;% mutate( testType = recode( testType, validation = <span class="hljs-string"><span class="hljs-string">""</span></span>, test = <span class="hljs-string"><span class="hljs-string">""</span></span> ), groupName = recode( <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>, elo_all = <span class="hljs-string"><span class="hljs-string">",  "</span></span>, elo_off = <span class="hljs-string"><span class="hljs-string">", . "</span></span>, elobeta_all = <span class="hljs-string"><span class="hljs-string">",  "</span></span>, elobeta_off = <span class="hljs-string"><span class="hljs-string">", . "</span></span> ), #    groupName = factor(groupName, levels = unique(groupName)) ) compute_optimal_k &lt;- . %&gt;% group_by(testType, groupName) %&gt;% slice(which.<span class="hljs-keyword"><span class="hljs-keyword">min</span></span>(goodness)) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">ungroup</span></span>() compute_k_labels &lt;- . %&gt;% compute_optimal_k() %&gt;% mutate(label = paste0(<span class="hljs-string"><span class="hljs-string">"K = "</span></span>, k)) %&gt;% group_by(groupName) %&gt;% #   K         , #      .   -   #   . mutate(hjust = - (k == <span class="hljs-keyword"><span class="hljs-keyword">max</span></span>(k)) * <span class="hljs-number"><span class="hljs-number">1.1</span></span> + <span class="hljs-number"><span class="hljs-number">1.05</span></span>) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">ungroup</span></span>() plot_experiment_results &lt;- function(results_tbl) { ggplot(results_tbl) + geom_hline( yintercept = <span class="hljs-number"><span class="hljs-number">0.5</span></span>, colour = <span class="hljs-string"><span class="hljs-string">"#AA5555"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">0.5</span></span>, linetype = <span class="hljs-string"><span class="hljs-string">"dotted"</span></span> ) + geom_line(aes(k, goodness, colour = testType)) + geom_vline( data = compute_optimal_k, mapping = aes(xintercept = k, colour = testType), linetype = <span class="hljs-string"><span class="hljs-string">"dashed"</span></span>, show.legend = FALSE ) + geom_text( data = compute_k_labels, mapping = aes(k, Inf, label = label, hjust = hjust), vjust = <span class="hljs-number"><span class="hljs-number">1.2</span></span> ) + facet_wrap(~ groupName) + scale_colour_manual( values = c(<span class="hljs-string"><span class="hljs-string">``</span></span> = <span class="hljs-string"><span class="hljs-string">"#377EB8"</span></span>, <span class="hljs-string"><span class="hljs-string">``</span></span> = <span class="hljs-string"><span class="hljs-string">"#FF7F00"</span></span>), guide = guide_legend(title = <span class="hljs-string"><span class="hljs-string">""</span></span>, override.aes = list(<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">4</span></span>)) ) + labs( x = <span class="hljs-string"><span class="hljs-string">" K"</span></span>, y = <span class="hljs-string"><span class="hljs-string">"  (RMSE)"</span></span>, title = <span class="hljs-string"><span class="hljs-string">"        "</span></span>, subtitle = paste0( <span class="hljs-string"><span class="hljs-string">'   (  )  '</span></span>, <span class="hljs-string"><span class="hljs-string">'  .\n'</span></span>, <span class="hljs-string"><span class="hljs-string">'  K    (   '</span></span>, <span class="hljs-string"><span class="hljs-string">'"") ,   .'</span></span> ) ) + theme(title = element_text(<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">13</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> = element_text(<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">12</span></span>)) } plot_experiment_results(plot_data)</code> </pre> </div></div><br><p> <a href=""><img src="https://habrastorage.org/webt/un/ox/40/unox40-c1cmbx_9tm4zc7kqzqoc.png"> </a> </p><br><p>       : </p><br><ul><li>   ,   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-653">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68"> K </script>   ,   . </li><li>        ( ""  ""   ).         ,        .   -      "Championship League":       3     . </li><li>  RMSE   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-69"> K </script>   .  , RMSE       <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-656"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-70"> K </script>  ""      "".  ,  " "   . </li><li>    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-71"> K </script>    (   "") ,    .     <em></em>   "",   <em> </em>  . </li><li>   RMSE        .     0.5.      . </li></ul><br><table><thead><tr><th>  </th><th>  K </th><th> RMSE </th></tr></thead><tbody><tr><td> ,   </td><td>  24 </td><td> 0.465 </td></tr><tr><td> , .  </td><td>  29 </td><td> 0.455 </td></tr><tr><td> ,   </td><td>  10 </td><td> 0.462 </td></tr><tr><td> , .  </td><td>  11 </td><td> 0.453 </td></tr></tbody></table><br><p>  Porque    ,    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-660"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">K</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72"> K </script>  " " (   )  5:     30,   ‚Äî 10. </p><br><p>       ,  <strong>  </strong> <math> </math><strong><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-662"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">K</span><span class="MJXp-mo" id="MJXp-Span-664" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-665">30</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73">K = 30</script></strong>  <strong>  </strong> <math> </math><strong><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-666"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">K</span><span class="MJXp-mo" id="MJXp-Span-668" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-669">10</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74">K = 10</script></strong>  <strong>        </strong> . ,        <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-670"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-75"> n </script> ,      . </p><br><h1>    </h1><br><p>      " "    ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-672"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">K</span><span class="MJXp-mo" id="MJXp-Span-674" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-675">10</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76">K = 10</script>  )           - . </p><br><h2> -16    2017/18 </h2><br><div class="spoiler"> <b class="spoiler_title">  -16  2017/18</b> <div class="spoiler_text"><pre> <code class="hljs mel">#   gather_to_longcr &lt;- function(tbl) { bind_rows( tbl %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(-matches(<span class="hljs-string"><span class="hljs-string">"2"</span></span>)) %&gt;% rename_all(funs(gsub(<span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, .))), tbl %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(-matches(<span class="hljs-string"><span class="hljs-string">"1"</span></span>)) %&gt;% rename_all(funs(gsub(<span class="hljs-string"><span class="hljs-string">"2"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, .))) ) %&gt;% arrange(game) } #     K best_k &lt;- experiment_tbl %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(testType == <span class="hljs-string"><span class="hljs-string">"test"</span></span>, ratingType == <span class="hljs-string"><span class="hljs-string">"elobeta"</span></span>, dataType == <span class="hljs-string"><span class="hljs-string">"off"</span></span>) %&gt;% slice(which.<span class="hljs-keyword"><span class="hljs-keyword">min</span></span>(goodness)) %&gt;% pull(k) #!!!   <span class="hljs-string"><span class="hljs-string">""</span></span> , ..       !!! best_k &lt;- round(best_k / <span class="hljs-number"><span class="hljs-number">5</span></span>) * <span class="hljs-number"><span class="hljs-number">5</span></span> #       elobeta_ratings &lt;- rate_iterative( pro_matches_test_off, elobeta_fun_gen(best_k), initial_ratings = <span class="hljs-number"><span class="hljs-number">0</span></span> ) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">rename</span></span>(ratingEloBeta = rating_iterative) %&gt;% arrange(desc(ratingEloBeta)) %&gt;% left_join( y = snooker_players %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(id, playerName = name), by = c(player = <span class="hljs-string"><span class="hljs-string">"id"</span></span>) ) %&gt;% mutate(rankEloBeta = order(ratingEloBeta, decreasing = TRUE)) %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(player, playerName, ratingEloBeta, rankEloBeta) elobeta_top16 &lt;- elobeta_ratings %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(rankEloBeta &lt;= <span class="hljs-number"><span class="hljs-number">16</span></span>) %&gt;% mutate( rankChr = formatC(rankEloBeta, width = <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">format</span></span> = <span class="hljs-string"><span class="hljs-string">"d"</span></span>, flag = <span class="hljs-string"><span class="hljs-string">"0"</span></span>), ratingEloBeta = round(ratingEloBeta, <span class="hljs-number"><span class="hljs-number">1</span></span>) ) official_ratings &lt;- tibble( player = c( <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">237</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">224</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-number"><span class="hljs-number">68</span></span>, <span class="hljs-number"><span class="hljs-number">154</span></span>, <span class="hljs-number"><span class="hljs-number">97</span></span>, <span class="hljs-number"><span class="hljs-number">39</span></span>, <span class="hljs-number"><span class="hljs-number">85</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">202</span></span>, <span class="hljs-number"><span class="hljs-number">1260</span></span> ), rankOff = c( <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">26</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">23</span></span> ), ratingOff = c( <span class="hljs-number"><span class="hljs-number">905750</span></span>, <span class="hljs-number"><span class="hljs-number">878750</span></span>, <span class="hljs-number"><span class="hljs-number">751525</span></span>, <span class="hljs-number"><span class="hljs-number">1315275</span></span>, <span class="hljs-number"><span class="hljs-number">660250</span></span>, <span class="hljs-number"><span class="hljs-number">543225</span></span>, <span class="hljs-number"><span class="hljs-number">590525</span></span>, <span class="hljs-number"><span class="hljs-number">324587</span></span>, <span class="hljs-number"><span class="hljs-number">303862</span></span>, <span class="hljs-number"><span class="hljs-number">356125</span></span>, <span class="hljs-number"><span class="hljs-number">453875</span></span>, <span class="hljs-number"><span class="hljs-number">416250</span></span>, <span class="hljs-number"><span class="hljs-number">180862</span></span>, <span class="hljs-number"><span class="hljs-number">291025</span></span>, <span class="hljs-number"><span class="hljs-number">332450</span></span>, <span class="hljs-number"><span class="hljs-number">215125</span></span> ) )</code> </pre> </div></div><br><p> -16       2017/18    (      snooker.org): </p><br><table><thead><tr><th align="left">  </th><th align="center">   </th><th align="right">   </th><th align="center"> .  </th><th align="right"> .  </th><th align="center">     </th></tr></thead><tbody><tr><td align="left"> Ronnie O'Sullivan </td><td align="center">  1 </td><td align="right"> 128.8 </td><td align="center">  2 </td><td align="right"> 905 750 </td><td align="center">  1 </td></tr><tr><td align="left"> Mark J Williams </td><td align="center">  2 </td><td align="right"> 123.4 </td><td align="center">  3 </td><td align="right"> 878 750 </td><td align="center">  1 </td></tr><tr><td align="left"> John Higgins </td><td align="center">  3 </td><td align="right"> 112.5 </td><td align="center">  4 4 </td><td align="right"> 751 525 </td><td align="center">  1 </td></tr><tr><td align="left"> Mark Selby </td><td align="center">  4 4 </td><td align="right"> 102.4 </td><td align="center">  1 </td><td align="right"> 1 315 275 </td><td align="center"> -3 </td></tr><tr><td align="left"> Judd Trump </td><td align="center">  5 5 </td><td align="right"> 92.2 </td><td align="center">  5 5 </td><td align="right"> 660 250 </td><td align="center">  0 0 </td></tr><tr><td align="left"> Barry Hawkins </td><td align="center">  6 6 </td><td align="right"> 83.1 </td><td align="center">  7 7 </td><td align="right"> 543 225 </td><td align="center">  1 </td></tr><tr><td align="left"> Ding Junhui </td><td align="center">  7 7 </td><td align="right"> 82.8 </td><td align="center">  6 6 </td><td align="right"> 590 525 </td><td align="center"> -1 </td></tr><tr><td align="left"> Stuart Bingham </td><td align="center">  8 </td><td align="right"> 74.3 </td><td align="center">  13 </td><td align="right"> 324 587 </td><td align="center">  5 5 </td></tr><tr><td align="left"> Ryan Day </td><td align="center">  9 9 </td><td align="right"> 71.9 </td><td align="center">  16 </td><td align="right"> 303 862 </td><td align="center">  7 7 </td></tr><tr><td align="left"> Neil Robertson </td><td align="center">  10 </td><td align="right"> 70.6 </td><td align="center">  10 </td><td align="right"> 356 125 </td><td align="center">  0 0 </td></tr><tr><td align="left"> Shaun Murphy </td><td align="center">  11 </td><td align="right"> 70.1 </td><td align="center">  8 </td><td align="right"> 453 875 </td><td align="center"> -3 </td></tr><tr><td align="left"> Kyren Wilson </td><td align="center">  12 </td><td align="right"> 70.1 </td><td align="center">  9 9 </td><td align="right"> 416 250 </td><td align="center"> -3 </td></tr><tr><td align="left"> Jack Lisowski </td><td align="center">  13 </td><td align="right"> 68.8 </td><td align="center">  26 </td><td align="right"> 180 862 </td><td align="center">  13 </td></tr><tr><td align="left"> Stephen Maguire </td><td align="center">  14 </td><td align="right"> 63.7 </td><td align="center">  17 </td><td align="right"> 291 025 </td><td align="center">  3 </td></tr><tr><td align="left"> Mark Allen </td><td align="center">  15 </td><td align="right"> 63.7 </td><td align="center">  12 </td><td align="right"> 332 450 </td><td align="center"> -3 </td></tr><tr><td align="left"> Yan Bingtao </td><td align="center">  16 </td><td align="right"> 61.6 </td><td align="center">  23 </td><td align="right"> 215 125 </td><td align="center">  7 7 </td></tr></tbody></table><br><p>  : </p><br><ul><li>   ‚Ññ1     3    .     ,         ,     ( ). </li><li>  ""       (   13 ),      (    7 ). </li><li>     5    .     ,     6  -  WPBSA.         ,        -  "" .        : <strong>     ,   ‚Äî  </strong> . </li><li>            . </li><li>      ( ‚Ññ11),   (‚Ññ14)    (‚Ññ15)    -16.  ""   (‚Ññ26),   (‚Ññ23)    (‚Ññ17). </li></ul><br><p>  <strong>   </strong> .  ,   ‚Ññ16 (Yan Bingtao)      ‚Ññ1 (Ronnie O'Sullivan)  0.404.    4     0.299,  " 10 " ‚Äî 0.197       18  ‚Äî 0.125.   ,      . </p><br><h2>     </h2><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><pre> <code class="hljs mel">#   seasons_break &lt;- ISOdatetime(<span class="hljs-number"><span class="hljs-number">2017</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, tz = <span class="hljs-string"><span class="hljs-string">"UTC"</span></span>) #    elobeta_history &lt;- pro_matches_test_off %&gt;% add_iterative_ratings(elobeta_fun_gen(best_k), initial_ratings = <span class="hljs-number"><span class="hljs-number">0</span></span>) %&gt;% gather_to_longcr() %&gt;% left_join(y = pro_matches_test_off %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(game, endDate), by = <span class="hljs-string"><span class="hljs-string">"game"</span></span>) #   plot_all_elobeta_history &lt;- function(history_tbl) { history_tbl %&gt;% mutate(isTop16 = player %in% elobeta_top16$player) %&gt;% ggplot(aes(endDate, ratingAfter, <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> = player)) + geom_step(data = . %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(!isTop16), colour = <span class="hljs-string"><span class="hljs-string">"#C2DF9A"</span></span>) + geom_step(data = . %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(isTop16), colour = <span class="hljs-string"><span class="hljs-string">"#22A01C"</span></span>) + geom_hline(yintercept = <span class="hljs-number"><span class="hljs-number">0</span></span>, colour = <span class="hljs-string"><span class="hljs-string">"#AAAAAA"</span></span>) + geom_vline( xintercept = seasons_break, linetype = <span class="hljs-string"><span class="hljs-string">"dotted"</span></span>, colour = <span class="hljs-string"><span class="hljs-string">"#E41A1C"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span> ) + geom_text( x = seasons_break, y = Inf, label = <span class="hljs-string"><span class="hljs-string">" 2016/17"</span></span>, colour = <span class="hljs-string"><span class="hljs-string">"#E41A1C"</span></span>, hjust = <span class="hljs-number"><span class="hljs-number">1.05</span></span>, vjust = <span class="hljs-number"><span class="hljs-number">1.2</span></span> ) + scale_x_datetime(date_labels = <span class="hljs-string"><span class="hljs-string">"%Y-%m"</span></span>) + labs( x = NULL, y = <span class="hljs-string"><span class="hljs-string">" "</span></span>, title = paste0( <span class="hljs-string"><span class="hljs-string">"   -16     2016/17"</span></span> ), subtitle = paste0( <span class="hljs-string"><span class="hljs-string">"          "</span></span>, <span class="hljs-string"><span class="hljs-string">" ."</span></span> ) ) + theme(title = element_text(<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">13</span></span>)) } plot_all_elobeta_history(elobeta_history)</code> </pre> </div></div><br><p> <a href=""><img src="https://habrastorage.org/webt/ud/-k/ir/ud-kire5ad6wmun4dmpqm1pxyck.png">  </a> </p><br><h2>  -16   </h2><br><div class="spoiler"> <b class="spoiler_title">     -16</b> <div class="spoiler_text"><pre> <code class="hljs mel">#    top16_rating_evolution &lt;- elobeta_history %&gt;% #  <span class="hljs-string"><span class="hljs-string">`inner_join`</span></span>      <span class="hljs-string"><span class="hljs-string">`elobeta_top16`</span></span> inner_join(y = elobeta_top16 %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">select</span></span>(-ratingEloBeta), by = <span class="hljs-string"><span class="hljs-string">"player"</span></span>) %&gt;% #      <span class="hljs-number"><span class="hljs-number">2017</span></span>/<span class="hljs-number"><span class="hljs-number">18</span></span> semi_join( y = pro_matches_test_off %&gt;% <span class="hljs-keyword"><span class="hljs-keyword">filter</span></span>(season == <span class="hljs-number"><span class="hljs-number">2017</span></span>), by = <span class="hljs-string"><span class="hljs-string">"game"</span></span> ) %&gt;% mutate(playerLabel = paste(rankChr, playerName)) #   plot_top16_elobeta_history &lt;- function(elobeta_history) { ggplot(elobeta_history) + geom_step(aes(endDate, ratingAfter, <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> = player), colour = <span class="hljs-string"><span class="hljs-string">"#22A01C"</span></span>) + geom_hline(yintercept = <span class="hljs-number"><span class="hljs-number">0</span></span>, colour = <span class="hljs-string"><span class="hljs-string">"#AAAAAA"</span></span>) + geom_rug( data = elobeta_top16, mapping = aes(y = ratingEloBeta), sides = <span class="hljs-string"><span class="hljs-string">"r"</span></span> ) + facet_wrap(~ playerLabel, nrow = <span class="hljs-number"><span class="hljs-number">4</span></span>, ncol = <span class="hljs-number"><span class="hljs-number">4</span></span>) + scale_x_datetime(date_labels = <span class="hljs-string"><span class="hljs-string">"%Y-%m"</span></span>) + labs( x = NULL, y = <span class="hljs-string"><span class="hljs-string">" "</span></span>, title = <span class="hljs-string"><span class="hljs-string">"    -16 (   2017/18)"</span></span>, subtitle = paste0( <span class="hljs-string"><span class="hljs-string">" '       2017/18.\n"</span></span>, <span class="hljs-string"><span class="hljs-string">"   :      13- ."</span></span> ) ) + theme(title = element_text(<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">13</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">strip</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">text</span></span> = element_text(<span class="hljs-keyword"><span class="hljs-keyword">size</span></span> = <span class="hljs-number"><span class="hljs-number">12</span></span>)) } plot_top16_elobeta_history(top16_rating_evolution)</code> </pre> </div></div><br><p> <a href=""><img src="https://habrastorage.org/webt/ov/sk/hh/ovskhhxiqv_xg9aky_vec0_wp_m.png">   </a> </p><br><h1>  Conclusiones </h1><br><ul><li>  "   "  R  : <code>pbeta(p, n, m)</code> . </li><li>   ‚Äî        "best of <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-676"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-77"> N </script> " ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-678"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-78"> n </script> ).        . </li><li>    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-680"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">K</span><span class="MJXp-mo" id="MJXp-Span-682" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-683">30</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-79">K = 30</script>    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">K</span><span class="MJXp-mo" id="MJXp-Span-686" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-687">10</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-80">K = 10</script>         . </li><li> : <br><ul><li>  ""      ,     . </li><li>  2017/18      ',     . </li></ul></li></ul><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><pre> <code class="hljs pgsql">sessionInfo() ## R <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">3.4</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> (<span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-number"><span class="hljs-number">-03</span></span><span class="hljs-number"><span class="hljs-number">-15</span></span>) ## Platform: x86_64-pc-linux-gnu (<span class="hljs-number"><span class="hljs-number">64</span></span>-<span class="hljs-type"><span class="hljs-type">bit</span></span>) ## Running under: Ubuntu <span class="hljs-number"><span class="hljs-number">16.04</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> LTS ## ## Matrix products: <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> ## BLAS: /usr/lib/openblas-base/libblas.so<span class="hljs-number"><span class="hljs-number">.3</span></span> ## LAPACK: /usr/lib/libopenblasp-r0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.18</span></span>.so ## ## locale: ## [<span class="hljs-number"><span class="hljs-number">1</span></span>] LC_CTYPE=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LC_NUMERIC=C ## [<span class="hljs-number"><span class="hljs-number">3</span></span>] LC_TIME=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LC_COLLATE=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> ## [<span class="hljs-number"><span class="hljs-number">5</span></span>] LC_MONETARY=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LC_MESSAGES=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> ## [<span class="hljs-number"><span class="hljs-number">7</span></span>] LC_PAPER=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LC_NAME=C ## [<span class="hljs-number"><span class="hljs-number">9</span></span>] LC_ADDRESS=C LC_TELEPHONE=C ## [<span class="hljs-number"><span class="hljs-number">11</span></span>] LC_MEASUREMENT=ru_UA.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> LC_IDENTIFICATION=C ## ## attached base packages: ## [<span class="hljs-number"><span class="hljs-number">1</span></span>] stats graphics grDevices utils datasets methods base ## ## other attached packages: ## [<span class="hljs-number"><span class="hljs-number">1</span></span>] bindrcpp_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> comperank_0<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> comperes_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> ggplot2_2<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ## [<span class="hljs-number"><span class="hljs-number">5</span></span>] purrr_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> tidyr_0<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> dplyr_0<span class="hljs-number"><span class="hljs-number">.7</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span> ## ## loaded via a namespace (<span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> attached): ## [<span class="hljs-number"><span class="hljs-number">1</span></span>] Rcpp_0<span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.17</span></span> knitr_1<span class="hljs-number"><span class="hljs-number">.20</span></span> bindr_0<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> magrittr_1<span class="hljs-number"><span class="hljs-number">.5</span></span> ## [<span class="hljs-number"><span class="hljs-number">5</span></span>] munsell_0<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> tidyselect_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> colorspace_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> R6_2<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> ## [<span class="hljs-number"><span class="hljs-number">9</span></span>] rlang_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> highr_0<span class="hljs-number"><span class="hljs-number">.7</span></span> plyr_1<span class="hljs-number"><span class="hljs-number">.8</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> stringr_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> ## [<span class="hljs-number"><span class="hljs-number">13</span></span>] tools_3<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> grid_3<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> gtable_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> utf8_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> ## [<span class="hljs-number"><span class="hljs-number">17</span></span>] cli_1<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> htmltools_0<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span> lazyeval_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> yaml_2<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.19</span></span> ## [<span class="hljs-number"><span class="hljs-number">21</span></span>] assertthat_0<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> rprojroot_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> digest_0<span class="hljs-number"><span class="hljs-number">.6</span></span><span class="hljs-number"><span class="hljs-number">.15</span></span> tibble_1<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> ## [<span class="hljs-number"><span class="hljs-number">25</span></span>] crayon_1<span class="hljs-number"><span class="hljs-number">.3</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> glue_1<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> evaluate_0<span class="hljs-number"><span class="hljs-number">.10</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> rmarkdown_1<span class="hljs-number"><span class="hljs-number">.10</span></span> ## [<span class="hljs-number"><span class="hljs-number">29</span></span>] labeling_0<span class="hljs-number"><span class="hljs-number">.3</span></span> stringi_1<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> compiler_3<span class="hljs-number"><span class="hljs-number">.4</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span> pillar_1<span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ## [<span class="hljs-number"><span class="hljs-number">33</span></span>] scales_0<span class="hljs-number"><span class="hljs-number">.5</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> backports_1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> pkgconfig_2<span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416809/">https://habr.com/ru/post/es416809/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416797/index.html">Informe del Club de Roma 2018, Cap√≠tulo 3.1: ‚ÄúEconom√≠a regenerativa‚Äù</a></li>
<li><a href="../es416799/index.html">Un verano anormalmente caluroso ralentiz√≥ los intercambios en los Estados Unidos</a></li>
<li><a href="../es416801/index.html">La Duma del Estado en la primera lectura adopt√≥ un proyecto de ley para cancelar el roaming</a></li>
<li><a href="../es416805/index.html">¬øC√≥mo pasar el tiempo en una conferencia de negocios para un buen uso? Consejos de ISPsystem bizdedev</a></li>
<li><a href="../es416807/index.html">Jeffrey Richter llega a Rusia: anuncio de la conferencia DotNext 2018 Mosc√∫</a></li>
<li><a href="../es416813/index.html">Cuando 2 x 3 = 2, o una vez m√°s sobre la virtualizaci√≥n de datos</a></li>
<li><a href="../es416815/index.html">C√≥mo dejamos de pasar una semana emitiendo un puesto de desarrollo</a></li>
<li><a href="../es416817/index.html">3er lugar en la etapa de calificaci√≥n de DataScienceGame 2018</a></li>
<li><a href="../es416819/index.html">Adi√≥s, microservicios: de cien ni√±os problem√°ticos a una superestrella</a></li>
<li><a href="../es416821/index.html">C√≥mo funciona JS: comunicaciones WebRTC y P2P</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>