<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑ ü§πüèæ üíÜüèø Zuerst die Vorderseite und dann die R√ºckseite (eines Tages) üèáüèø üëßüèª ‚õ™Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bevor Sie mit der Implementierung einer neuen Funktion beginnen, m√ºssen Sie sich den Kopf zerbrechen. 


 Die Entwicklung komplexer Funktionen erforde...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zuerst die Vorderseite und dann die R√ºckseite (eines Tages)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463067/"><p>  Bevor Sie mit der Implementierung einer neuen Funktion beginnen, m√ºssen Sie sich den Kopf zerbrechen. </p><br><p>  Die Entwicklung komplexer Funktionen erfordert eine genaue Koordination der Bem√ºhungen eines Ingenieurteams. </p><br><p>  Und einer der wichtigsten Punkte ist das Problem der Parallelisierung von Aufgaben. </p><br><p>  Ist es m√∂glich, Frontsoldaten davor zu bewahren, auf eine Back-End-Implementierung warten zu m√ºssen?  Gibt es eine M√∂glichkeit, die Entwicklung einzelner Fragmente der Benutzeroberfl√§che zu parallelisieren? </p><br><p>  Das Thema Aufgabenparallelisierung in der Webentwicklung wird in diesem Artikel behandelt. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/72d/93d/13b/72d93d13b21e705a101b21c359c3a565.png"></p><a name="habracut"></a><br><h3 id="problema">  Das Problem </h3><br><p> Beginnen wir also damit, das Problem zu identifizieren.  Stellen Sie sich vor, Sie haben ein erfahrenes Produkt (Internet-Service), in dem einige verschiedene Microservices gesammelt werden.  Jeder Microservice in Ihrem System ist eine Art Mini-Anwendung, die in die allgemeine Architektur integriert ist und ein bestimmtes Problem des Servicebenutzers l√∂st.  Stellen Sie sich vor, heute Morgen (am letzten Tag des Sprints) hat der Product Owner Vasily Sie angerufen und angek√ºndigt: ‚ÄûIm n√§chsten Sprint beginnen wir mit dem Datenimport, wodurch die Servicebenutzer noch gl√ºcklicher werden. Dadurch kann der Benutzer den Service sofort mit einem Stopizot von Dofigalliard-Positionen aus f√ºllen dichtes 1C! ". </p><br><p>  Stellen Sie sich vor, Sie sind Manager oder Teamleiter und h√∂ren nicht all diese begeisterten Beschreibungen gl√ºcklicher Benutzer aus gesch√§ftlicher Sicht.  Sie sch√§tzen, wie viel Arbeit dies alles erfordert.  Als guter Manager bem√ºhen Sie sich, den Appetit von Vasily auf Bewertungsaufgaben f√ºr MVP (im Folgenden: Minimum Viable Product) zu verringern.  Gleichzeitig k√∂nnen die beiden Hauptanforderungen f√ºr MVP - die F√§higkeit des Importsystems, einer gro√üen Last standzuhalten und im Hintergrund zu arbeiten - nicht verworfen werden. </p><br><p>  Sie verstehen, dass der herk√∂mmliche Ansatz, wenn alle Daten innerhalb derselben Benutzeranforderung verarbeitet werden, nicht funktioniert.  Hier muss man den Garten aller Hintergrundarbeiter umz√§unen.  Sie m√ºssen sich an den Event Bus binden und √ºberlegen, wie der Load Balancer, die verteilte Datenbank usw. funktionieren.  Im Allgemeinen alle Freuden der Microservice-Architektur.  Infolgedessen kommen Sie zu dem Schluss, dass sich die Entwicklung des Backends f√ºr diese Funktion in die L√§nge zieht. Gehen Sie nicht zu Wahrsagern. </p><br><p>  Es stellt sich automatisch die Frage: "Was werden die Frontsoldaten die ganze Zeit tun, wenn es keine API gibt?". </p><br><p>  Au√üerdem stellt sich heraus, dass die Daten nicht sofort importiert werden d√ºrfen.  Sie m√ºssen sie zuerst validieren und den Benutzer alle gefundenen Fehler korrigieren lassen.  Auch im Frontend stellt sich ein schlauer Workflow heraus.  Und es ist notwendig, die Funktion wie √ºblich "gestern" zu sprengen.  Folglich m√ºssen die Kriegsveteranen irgendwie koordiniert sein, damit sie nicht in einer R√ºbe dr√§ngeln, keine Konflikte verursachen und ruhig jedes St√ºck davon sehen (siehe KDPV am Anfang des Artikels). </p><br><p>  In einer anderen Situation k√∂nnten wir von hinten nach vorne s√§gen.  Implementieren Sie zuerst das Backend und stellen Sie sicher, dass es die Last h√§lt, und h√§ngen Sie dann das Frontend ruhig daran.  Der Haken ist jedoch, dass Spezifikationen das neue Feature allgemein beschreiben, L√ºcken und kontroverse Punkte in Bezug auf die Benutzerfreundlichkeit aufweisen.  Was aber, wenn sich am Ende der Front-Implementierung herausstellt, dass die Funktion in dieser Form den Benutzer nicht zufriedenstellt?  √Ñnderungen der Benutzerfreundlichkeit k√∂nnen √Ñnderungen am Datenmodell erforderlich machen.  Wir m√ºssen sowohl die Vorder- als auch die R√ºckseite wiederholen, was sehr teuer sein wird. </p><br><h3 id="agile-pytaetsya-nam-pomoch">  Agile versucht uns zu helfen. </h3><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b07/30c/c25/b0730cc25193b2363dbefb3b550d6f39.png"></p><br><p>  Flexible Methoden bieten kluge Ratschl√§ge.  "Beginnen Sie mit dem Skateboard und zeigen Sie es dem Benutzer. Pl√∂tzlich wird es ihm gefallen. Wenn es Ihnen gef√§llt, fahren Sie auf die gleiche Weise fort und schrauben Sie neue Chips." <br>  Was aber, wenn der Benutzer sofort mindestens ein Motorrad ben√∂tigt und dies in zwei bis drei Wochen?  Was ist, wenn Sie, um mit der Arbeit an der Fassade des Motorrads zu beginnen, zumindest die Abmessungen des Motors und die Gr√∂√üe des Fahrgestells festlegen m√ºssen? </p><br><p>  Wie kann sichergestellt werden, dass die Umsetzung der Fassade nicht verz√∂gert wird, bis die anderen Schichten der Anwendung sicher sind? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ba2/5bc/5ad/ba25bc5ad7a863e7623f651f11eb12da.png"></p><br><p>  In unserer Situation ist es besser, einen anderen Ansatz zu verwenden.  Es ist besser, sofort mit der Erstellung einer Fassade (Vorderseite) zu beginnen, um sicherzustellen, dass die urspr√ºngliche Idee von MVP korrekt ist.  Auf der einen Seite scheint es ein Betrug zu sein, eine dekorative Fassade an Product Owner Vasily zu schieben, hinter der sich nichts befindet.  Auf der anderen Seite erhalten wir auf diese Weise sehr schnell Feedback zu dem Teil der Funktionalit√§t, auf den der Benutzer √ºberhaupt sto√üen wird.  Sie haben vielleicht eine unglaublich coole Architektur, aber wenn es keine Benutzerfreundlichkeit gibt, wird die gesamte Anwendung √ºber den Rand der App geworfen, ohne die Details zu verstehen.  Daher erscheint es mir wichtiger, so schnell wie m√∂glich die funktionsf√§higste Benutzeroberfl√§che bereitzustellen, anstatt den Fortschritt der Front mit dem Backend zu synchronisieren.  Es macht keinen Sinn, eine unvollendete Benutzeroberfl√§che und eine Sicherung zum Testen herauszugeben, deren Funktionalit√§t die Hauptanforderungen nicht erf√ºllt.  Gleichzeitig kann sich die Ausgabe von 80% der erforderlichen UI-Funktionen, jedoch ohne funktionierendes Back-End, als rentabel herausstellen. </p><br><h3 id="nemnogo-tehnicheskih-detaley">  Einige technische Details </h3><br><p>  Daher habe ich bereits kurz beschrieben, welche Funktion wir implementieren werden.  F√ºgen Sie einige technische Details hinzu. </p><br><p>  Der Benutzer sollte in der Lage sein, eine gro√üe Datendatei in den Dienst hochzuladen.  Der Inhalt dieser Datei muss in einem bestimmten Format vorliegen (z. B. CSV).  Die Datei muss eine bestimmte Datenstruktur haben und es gibt Pflichtfelder, die nicht leer sein d√ºrfen.  Mit anderen Worten, nach dem Entladen im Backend m√ºssen Sie die Daten validieren.  Die Validierung kann eine betr√§chtliche Zeit dauern.  Sie k√∂nnen die Verbindung zum Backend nicht offen halten (sie wird durch das Timeout unterbrochen).  Daher m√ºssen wir die Datei schnell akzeptieren und mit der Hintergrundverarbeitung beginnen.  Am Ende der Validierung m√ºssen wir den Benutzer dar√ºber informieren, dass er mit der Bearbeitung der Daten beginnen kann.  Der Benutzer muss die w√§hrend der Validierung festgestellten Fehler korrigieren. </p><br><p>  Nachdem alle Fehler behoben wurden, klickt der Benutzer auf die Schaltfl√§che Importieren.  Korrigierte Daten werden an das Backend zur√ºckgesendet.  um den Importvorgang abzuschlie√üen.  Wir m√ºssen das Frontend √ºber den Fortschritt aller Importphasen informieren. </p><br><p>  Der effektivste Weg, um zu alarmieren, ist WebSockets.  Von vorne werden √ºber Websocket mit einem bestimmten Zeitraum Anforderungen gesendet, um den aktuellen Status der Hintergrunddatenverarbeitung zu erhalten.  F√ºr die Hintergrunddatenverarbeitung ben√∂tigen wir Hintergrundhandler, eine verteilte Befehlswarteschlange, einen Ereignisbus usw. </p><br><p>  Der Datenfluss wird wie folgt angezeigt (als Referenz): </p><br><ol><li>  √úber die Dateibrowser-API bitten wir den Benutzer, die gew√ºnschte Datei von der Festplatte auszuw√§hlen. </li><li>  √úber AJAX senden wir die Datei an das Backend. </li><li>  Wir warten auf den Abschluss der Validierung und Analyse der Datendatei (wir fragen den Status der Hintergrundoperation √ºber Websocket ab). </li><li>  Nach Abschluss der Validierung laden wir die f√ºr den Import vorbereiteten Daten und rendern sie in die Tabelle auf der Importseite. </li><li>  Benutzer bearbeitet Daten, korrigiert Fehler.  Durch Klicken auf die Schaltfl√§che unten auf der Seite senden wir die korrigierten Daten an das Backend. </li><li>  Auch hier f√ºhren wir auf der Clientseite eine regelm√§√üige Abfrage des Hintergrundoperationsstatus durch. </li><li>  Bis zum Ende des aktuellen Imports sollte der Benutzer keinen neuen Import starten k√∂nnen (auch nicht im benachbarten Browserfenster oder auf dem benachbarten Computer). </li></ol><br><h3 id="plan-razrabotki">  Entwicklungsplan </h3><br><h4 id="mokap-ui-vs-prototip-ui">  Mocap UI vs.  Prototyp-Benutzeroberfl√§che </h4><br><p><img src="https://habrastorage.org/getpro/habr/post_images/908/3bc/f90/9083bcf90698b20014ec29e4580d3f08.jpg"></p><br><p>  Lassen Sie uns sofort den Unterschied zwischen Wireframe, Mockup und Prototype hervorheben. </p><br><p>  Das Bild oben zeigt das Drahtmodell.  Dies ist nur eine Zeichnung (in Zahlen oder auf Papier - das spielt keine Rolle).  Die beiden anderen Konzepte sind komplizierter. </p><br><p>  Mocap ist eine Pr√§sentationsform der zuk√ºnftigen Oberfl√§che, die nur als Pr√§sentation verwendet wird und anschlie√üend vollst√§ndig ersetzt wird.  Dieses Formular wird in Zukunft als Beispiel archiviert.  Die eigentliche Benutzeroberfl√§che wird mit anderen Tools erstellt.  Ein Mocap kann in einem Vektoreditor mit ausreichenden Designdetails erstellt werden, aber dann legen Front-End-Entwickler es einfach beiseite und betrachten es als Modell.  Mocap kann sogar in spezialisierten Browser-Konstruktoren erstellt werden und ist nur eingeschr√§nkt interaktiv.  Aber sein Schicksal ist unver√§ndert.  Er wird ein Model im Design Guide Album. </p><br><p>  Der Prototyp wird mit denselben Tools wie die zuk√ºnftige Benutzeroberfl√§che erstellt (z. B. React).  Der Prototypcode wird im allgemeinen Anwendungsrepository gehostet.  Es wird nicht ersetzt, wie dies bei mocap der Fall ist.  Zun√§chst wird das Konzept getestet (Proof of Concept, PoC).  Wenn es den Test besteht, wird es entwickelt und schrittweise in eine vollwertige Benutzeroberfl√§che umgewandelt. </p><br><p>  Jetzt n√§her am Punkt ... </p><br><p>  Stellen Sie sich vor, Kollegen aus dem Design-Workshop pr√§sentierten uns Artefakte ihres kreativen Prozesses: Modelle der zuk√ºnftigen Benutzeroberfl√§che.  Unsere Aufgabe ist es, die Arbeit so zu planen, dass die Parallelarbeit von Veteranen so schnell wie m√∂glich m√∂glich wird. </p><br><p>  Da die Kompilierung des Algorithmus mit einem Flussdiagramm beginnt, beginnen wir mit der Erstellung eines Prototyps mit einem minimalistischen Drahtmodell (siehe Abbildung oben).  In diesem Wireframe teilen wir zuk√ºnftige Funktionen in gro√üe Bl√∂cke auf.  Das Hauptprinzip hierbei ist die Fokussierung der Verantwortung.  Sie sollten eine Funktionalit√§t nicht in verschiedene Bl√∂cke unterteilen.  Fliegen gehen zu einem Block und Schnitzel zu einem anderen. </p><br><p>  Als N√§chstes m√ºssen Sie so schnell wie m√∂glich eine leere Seite (Dummy) erstellen, das Routing konfigurieren und einen Link zu dieser Seite in das Men√º einf√ºgen.  Anschlie√üend m√ºssen Sie Leerzeichen f√ºr die Basiskomponenten erstellen (eines f√ºr jeden Block im Prototyp Wireframe).  Und um diesen besonderen Rahmen in den Entwicklungszweig eines neuen Features einzubringen. </p><br><p>  Wir erhalten die folgende Hierarchie von Zweigen in Git: </p><br><pre><code class="plaintext hljs">master ---------------------- &gt; ‚îî feature/import-dev ------ &gt;</code> </pre> <br><p>  Der Zweig "import-dev" wird f√ºr das gesamte Feature die Rolle des Entwicklungsbrunchs spielen.  Es ist ratsam, eine verantwortliche Person (Betreuer) in dieser Niederlassung zu beauftragen, die atomare √Ñnderungen von allen Kollegen vornimmt, die parallel an der Funktion arbeiten.  Es ist auch ratsam, keine direkten Commits f√ºr diesen Zweig vorzunehmen, um die Wahrscheinlichkeit von Konflikten und unerwarteten √Ñnderungen zu verringern, wenn in diesem Zweig Fusionen von atomaren Pull-Anforderungen stattfinden. </p><br><p>  Weil  In diesem Moment haben wir bereits Komponenten f√ºr die Hauptbl√∂cke auf der Seite erstellt. Anschlie√üend k√∂nnen Sie sofort separate Zweige f√ºr jeden UI-Block erstellen.  Die endg√ºltige Hierarchie k√∂nnte folgenderma√üen aussehen: </p><br><pre> <code class="plaintext hljs">master ----------------------- &gt; ‚îî feature/import-dev ------- &gt; ‚îú feature/import-head ---- &gt; ‚îú feature/import-filter -- &gt; ‚îú feature/import-table --- &gt; ‚îú feature/import-pager --- &gt; ‚îî feature/import-footer -- &gt;</code> </pre> <br><p>  <strong>Hinweis: Es</strong> <em>spielt keine Rolle, zu welchem ‚Äã‚ÄãZeitpunkt diese atomaren Brunchs erstellt werden, und die oben dargestellte Namenskonvention ist nicht die einzige geeignete.</em>  <em>Brunch kann unmittelbar vor Arbeitsbeginn erstellt werden.</em>  <em>Und die Namen der Brunchs sollten allen Teilnehmern an der Entwicklung klar sein.</em>  <em>Der Name sollte so kurz wie m√∂glich sein und gleichzeitig explizit angeben, f√ºr welchen Teil der Funktionalit√§t der Zweig verantwortlich ist.</em> </p><br><p>  Durch den oben beschriebenen Ansatz stellen wir den konfliktfreien Betrieb mehrerer UI-Entwickler sicher.  Jedes UI-Fragment hat ein eigenes Verzeichnis in der Projekthierarchie.  Der Fragmentkatalog enth√§lt die Hauptkomponente, ihre Stile und ihre eigenen untergeordneten Komponenten.  Jedes Fragment kann auch einen eigenen Statusmanager haben (MobX-, Redux-, VueX-Parteien).  M√∂glicherweise verwenden die Komponenten des Fragments einige globale Stile.  Das √Ñndern globaler Stile beim Entwickeln eines Fragments einer neuen Seite ist jedoch untersagt.  Es lohnt sich auch nicht, das Standardverhalten und den Standardstil des allgemeinen Entwurfsatoms zu √§ndern. </p><br><p>  <strong>Hinweis:</strong> <em>‚ÄûDesign Atom‚Äú bezeichnet ein Element aus dem Satz von Standardkomponenten unseres Service - siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Atomic Design</a> ;</em>  <em>In unserem Fall wird davon ausgegangen, dass das Atomic Design-System bereits implementiert wurde.</em> </p><br><p>  Also haben wir die Frontsoldaten physisch voneinander getrennt.  Jetzt kann jeder von ihnen ruhig arbeiten, ohne Angst vor Konflikten mit der Fusion zu haben.  Au√üerdem kann jeder jederzeit eine Pull-Anfrage aus seiner Filiale in <strong>feature / import-dev</strong> erstellen.  Bereits jetzt ist es m√∂glich, statische Inhalte in aller Ruhe zu werfen und sogar interaktiv zu gestalten. </p><br><p>  Aber wie k√∂nnen wir die M√∂glichkeit der Interaktion zwischen UI-Fragmenten sicherstellen? </p><br><p>  Wir m√ºssen die Verbindung zwischen den Fragmenten implementieren.  Der JS-Dienst, der als Gateway f√ºr den Datenaustausch mit dem Backing fungiert, eignet sich f√ºr die Rolle einer Verbindung zwischen Fragmenten.  √úber denselben Dienst k√∂nnen Sie die Benachrichtigung √ºber Ereignisse implementieren.  Durch das Abonnieren bestimmter Ereignisse enthalten die Fragmente implizit den gesamten Lebenszyklus des Mikrodienstes.  √Ñnderungen an Daten in einem Fragment machen es erforderlich, den Status eines anderen Fragments zu aktualisieren.  Mit anderen Worten, wir haben die Integration von Fragmenten durch Daten und ein Ereignismodell durchgef√ºhrt. </p><br><p>  Um diesen Service zu erstellen, ben√∂tigen wir einen weiteren Zweig in git: </p><br><pre> <code class="plaintext hljs">master --------------------------- &gt; ‚îî feature/import-dev ----------- &gt; ‚îú feature/import-js-service -- &gt; ‚îú feature/import-head -------- &gt; ‚îú feature/import-filter ------ &gt; ‚îú feature/import-table ------- &gt; ‚îú feature/import-pager ------- &gt; ‚îî feature/import-footer ------ &gt;</code> </pre> <br><p>  <strong>Hinweis:</strong> <em>Haben Sie keine Angst vor der Anzahl der Filialen und z√∂gern Sie nicht, Filialen zu produzieren.</em>  <em>Mit Git k√∂nnen Sie effizient mit einer gro√üen Anzahl von Zweigen arbeiten.</em>  <em>Wenn sich eine Gewohnheit entwickelt, wird es leicht, sich zu verzweigen:</em> </p><br><pre> <code class="plaintext hljs">$/&gt; git checkout -b feature/import-service $/&gt; git commit . $/&gt; git push origin HEAD $/&gt; git checkout feature/import-dev $/&gt; git merge feature/import-service</code> </pre> <br><p>  <em>Dies wird einigen spannend erscheinen, aber der Gewinn der Minimierung von Konflikten ist bedeutender.</em>  <em>W√§hrend Sie der ausschlie√üliche Eigent√ºmer der Niederlassung sind, k√∂nnen <strong>Sie au√üerdem -f</strong> sicher <strong>dr√ºcken,</strong> ohne das Risiko <strong>einzugehen,</strong> dass die lokale Commit-Historie einer Person besch√§digt wird.</em> </p><br><h4 id="feykovye-dannye">  Gef√§lschte Daten </h4><br><p>  In der vorherigen Phase haben wir den Integrations-JS-Dienst (importService) und die UI-Fragmente vorbereitet.  Ohne Daten funktioniert unser Prototyp jedoch nicht.  Au√üer statischen Dekorationen wird nichts gezeichnet. </p><br><p>  Jetzt m√ºssen wir uns f√ºr ein ungef√§hres Datenmodell entscheiden und diese Daten in Form von JSON- oder JS-Dateien erstellen (die Wahl zugunsten der einen oder anderen h√§ngt von den Importeinstellungen in Ihrem Projekt ab; ist json-loader konfiguriert).  Unser importService sowie seine Tests (wir werden sp√§ter dar√ºber nachdenken) importieren aus diesen Dateien die Daten, die zur Simulation von Antworten aus einem echten Backend erforderlich sind (es wurde noch nicht implementiert).  Wo diese Daten abgelegt werden sollen, ist nicht wichtig.  Die Hauptsache ist, dass sie einfach in importService selbst importiert und in unserem Microservice getestet werden k√∂nnen. </p><br><p>  Es ist ratsam, das Datenformat und die Feldbenennungskonvention sofort mit den Entwicklern der R√ºckseite zu besprechen.  Sie k√∂nnen beispielsweise zustimmen, ein Format zu verwenden, das der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenAPI-Spezifikation entspricht</a> .  Unabh√§ngig von den Spezifikationen f√ºr das Sicherungsformat erstellen wir gef√§lschte Daten genau in √úbereinstimmung mit dem Sicherungsdatenformat. </p><br><p>  <strong>Hinweis:</strong> <em>Haben Sie keine Angst, einen Fehler mit dem gef√§lschten Datenmodell zu machen.</em>  <em>Ihre Aufgabe ist es, einen Entwurf des Datenvertrags zu erstellen, der dann noch mit den Backend-Entwicklern vereinbart wird.</em> </p><br><h4 id="kontrakty">  Vertr√§ge </h4><br><p>  Gef√§lschte Daten k√∂nnen als guter Ausgangspunkt f√ºr die Arbeit an der Spezifikation der zuk√ºnftigen API im Back-End dienen.  Und hier spielt es keine Rolle, wer und wie qualitativ der Entwurf des Modells umgesetzt wird.  Entscheidend ist die gemeinsame Diskussion und Koordination unter Beteiligung von Front- und Back-Entwicklern. </p><br><p>  Sie k√∂nnen spezielle Tools verwenden, um Vertr√§ge zu beschreiben (API-Spezifikationen).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zum</a> Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenAPI / Swagger</a> .  Bei der Beschreibung einer API mit einem solchen Tool m√ºssen nicht alle Entwickler anwesend sein.  Dies kann von einem Entwickler (Spezifikationseditor) durchgef√ºhrt werden.  Das Ergebnis einer gemeinsamen Diskussion √ºber die neue API waren einige Artefakte wie MFU (Meeting Follow Up), nach denen der Spezifikationseditor auch eine Referenz f√ºr die zuk√ºnftige API erstellt. </p><br><p>  Am Ende des Spezifikationsentwurfs sollte es nicht lange dauern, bis die Richtigkeit √ºberpr√ºft wurde.  Jeder Teilnehmer an der kollektiven Diskussion kann unabh√§ngig von den anderen eine fl√ºchtige Pr√ºfung durchf√ºhren, um zu √ºberpr√ºfen, ob seine Meinung ber√ºcksichtigt wurde.  Wenn etwas nicht stimmt, k√∂nnen Sie dies anhand der Editor-Spezifikationen (normale Arbeitskommunikation) kl√§ren.  Wenn alle mit der Spezifikation zufrieden sind, kann sie ver√∂ffentlicht und als Dokumentation f√ºr den Service verwendet werden. </p><br><h4 id="yunit-testirovanie">  Unit Testing </h4><br><p>  <strong>Hinweis:</strong> <em>F√ºr mich ist der Wert von Unit-Tests ziemlich niedrig.</em>  <em>Hier stimme ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">David Heinemeier Hansson @ RailsConf zu</a> .</em>  <em>"Unit-Tests sind eine gro√üartige M√∂glichkeit, um sicherzustellen, dass Ihr Programm das tut, was Sie k√∂nnen ... wie erwartet."</em>  <em>Aber ich gebe Sonderf√§lle zu, in denen Unit-Tests viel Nutzen bringen.</em> </p><br><p>  Nachdem wir uns f√ºr die gef√§lschten Daten entschieden haben, k√∂nnen wir mit dem Testen der Grundfunktionalit√§t beginnen.  Zum Testen von Front-End-Komponenten k√∂nnen Sie Tools wie Karma, Scherz, Mokka, Chai, Jasmin verwenden.  Normalerweise wird die gleichnamige Datei mit dem Postfix "spec" oder "test" neben der zu testenden JS-Ressource platziert: </p><br><pre> <code class="plaintext hljs">importService ‚îú importService.js ‚îî importService.test.js</code> </pre> <br><p>  Der spezifische Wert des Postfix h√§ngt von den Einstellungen des JS-Paketkollektors in Ihrem Projekt ab. </p><br><p>  Nat√ºrlich ist es in einer Situation, in der sich der R√ºcken in einem ‚Äûempf√§ngnisverh√ºtenden‚Äú Zustand befindet, sehr schwierig, alle m√∂glichen F√§lle mit Unit-Tests abzudecken.  Der Zweck von Unit-Tests ist jedoch etwas anders.  Sie dienen zum Testen der Funktionsweise einzelner Logikelemente. </p><br><p>  Zum Beispiel ist es gut, verschiedene Arten von Helfern mit Komponententests abzudecken, durch die Logikelemente oder bestimmte Algorithmen zwischen JS-Komponenten und -Diensten gemeinsam genutzt werden.  Diese Tests k√∂nnen auch das Verhalten in den Komponenten und Speichern von MobX, Redux, VueX als Reaktion auf √Ñnderungen der Benutzerdaten abdecken. </p><br><h4 id="integracionnoe-i-e2e-testirovanie">  Integration und E2E-Test </h4><br><p>  Integrationstests bedeuten, das Verhalten des Systems auf √úbereinstimmung mit der Spezifikation zu √ºberpr√ºfen.  Das hei√üt,  Es wird √ºberpr√ºft, ob der Benutzer genau das Verhalten sieht, das in den Spezifikationen beschrieben ist.  Dies ist ein h√∂heres Testniveau im Vergleich zu Unit-Tests. </p><br><p>  Zum Beispiel ein Test, der unter dem erforderlichen Feld nach einem Fehler sucht, wenn der Benutzer den gesamten Text gel√∂scht hat.  Oder ein Test, der √ºberpr√ºft, ob beim Speichern ung√ºltiger Daten ein Fehler generiert wird. </p><br><p>  E2E-Tests (End-to-End) arbeiten auf einem noch h√∂heren Niveau.  Sie √ºberpr√ºfen, ob das Verhalten der Benutzeroberfl√§che korrekt ist.  Wenn Sie beispielsweise √ºberpr√ºfen, ob dem Benutzer nach dem Senden der Datendatei an den Dienst eine Wendung angezeigt wird, die einen fortlaufenden asynchronen Prozess signalisiert.  Oder √ºberpr√ºfen Sie, ob die Visualisierung der Standardkomponenten des Dienstes mit den Anleitungen der Designer √ºbereinstimmt. </p><br><p>  Diese Art von Test funktioniert mit einigen UI-Automatisierungsframeworks.  Zum Beispiel k√∂nnte es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Selen sein</a> .  Solche Tests werden zusammen mit Selenium WebDriver in einigen Browsern ausgef√ºhrt (normalerweise Chrome mit "Headless-Modus").  Sie arbeiten lange, entlasten aber die QS-Spezialisten und f√ºhren einen Rauchtest f√ºr sie durch. </p><br><p>  Das Schreiben dieser Art von Tests ist ziemlich zeitaufw√§ndig.  Je fr√ºher wir anfangen, sie zu schreiben, desto besser.  Trotz der Tatsache, dass wir kein vollwertiges Backup haben, k√∂nnen wir bereits mit der Beschreibung von Integrationstests beginnen.  Wir haben bereits eine Spezifikation. </p><br><p>  Mit einer Beschreibung des E2E gibt es noch weniger Hindernistests.  Wir haben bereits die Standardkomponenten aus der Bibliothek der Designatome skizziert.  Implementierte bestimmte Teile der Benutzeroberfl√§che.  In importService wurden einige interaktive Daten zus√§tzlich zu gef√§lschten Daten und APIs erstellt.  Zumindest in einfachen F√§llen hindert Sie nichts daran, die Automatisierung der Benutzeroberfl√§che zu starten. </p><br><p>  Wenn Sie diese Tests schreiben, k√∂nnen Sie einzelne Entwickler erneut verwirren, wenn es keine verwirrten Personen gibt.  Um die Tests zu beschreiben, k√∂nnen Sie einen separaten Zweig erstellen (wie oben beschrieben).  In den Zweigen f√ºr Tests m√ºssen Updates aus dem Zweig " <strong>feature / import-dev</strong> " regelm√§√üig aktualisiert werden. </p><br><p>  Die allgemeine Reihenfolge der Zusammenf√ºhrungen lautet wie folgt: </p><br><ol><li>  Beispielsweise hat ein Entwickler aus dem Zweig " <strong>Feature / Import-Filter</strong> " eine PR erstellt.  Diese PR wird in der Vorschau angezeigt, und der Betreuer des Zweigs " <strong>feature / import-dev</strong> " injiziert diese PR. </li><li>  Der Maintainer gibt bekannt, dass das Update ver√∂ffentlicht wurde. </li><li>  Der Entwickler in der Verzweigung " <strong>feature / import-tests-e2e</strong> " zieht beim Zusammenf√ºhren aus der <strong>Verzweigung</strong> " <strong>-dev</strong> " extreme √Ñnderungen. </li></ol><br><h4 id="ci-i-avtomatizaciya-testirovaniya">  CI- und Testautomatisierung </h4><br><p>  Front-End-Tests werden mithilfe von Tools implementiert, die √ºber die CLI funktionieren.  In package.json werden Befehle geschrieben, um verschiedene Arten von Tests auszuf√ºhren.  Diese Befehle werden nicht nur von Entwicklern in der lokalen Umgebung verwendet.  Sie werden auch ben√∂tigt, um Tests in der CI-Umgebung (Continuous Integration) auszuf√ºhren. </p><br><p>  Wenn wir jetzt den Build in CI ausf√ºhren und keine Fehler vorliegen, wird unser lang erwarteter Prototyp an die Testumgebung geliefert (80% der Funktionen an der Vorderseite mit einem noch nicht implementierten Back-End).  Wir k√∂nnen Vasily das ungef√§hre Verhalten des zuk√ºnftigen Mikrodienstes zeigen.  Vasiliy tritt gegen diesen Prototyp und wird vielleicht einige Bemerkungen machen (vielleicht sogar ernsthafte).  Zu diesem Zeitpunkt sind Anpassungen nicht teuer.  In unserem Fall erfordert die Unterlage ernsthafte architektonische √Ñnderungen, sodass die Arbeit langsamer als auf der Vorderseite erfolgen kann.  Solange die Unterst√ºtzung nicht abgeschlossen ist, werden √Ñnderungen am Plan f√ºr seine Entwicklung keine katastrophalen Folgen haben.  Falls erforderlich, √§ndern Sie zu diesem Zeitpunkt etwas. Wir werden Sie bitten, Anpassungen an der API-Spezifikation vorzunehmen (in swagger).  Danach werden die oben beschriebenen Schritte wiederholt.  Front-Line-Mitarbeiter sind immer noch nicht auf Backends angewiesen.  Einzelne Frontend-Spezialisten sind unabh√§ngig voneinander. </p><br><h4 id="bekenda-kontrollery-zaglushki">  Backend.  Stub-Controller </h4><br><p>  Ausgangspunkt f√ºr die Entwicklung der API im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Backend</a> ist die genehmigte API-Spezifikation ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenAPI / Swagger</a> ).  Wenn es eine Spezifikation gibt, l√§sst sich das Backing auch leichter parallelisieren.  Die Analyse der Spezifikation sollte Entwickler dazu veranlassen, √ºber die Grundelemente der Architektur nachzudenken.  Welche allgemeinen Komponenten / Dienste m√ºssen Sie erstellen, bevor Sie mit der Implementierung einzelner API-Aufrufe fortfahren k√∂nnen?  Und auch hier k√∂nnen Sie den Ansatz wie bei Leerzeichen f√ºr die Benutzeroberfl√§che anwenden. </p><br><p>  Wir k√∂nnen von oben beginnen, d.h.  von der √§u√üeren Schicht unseres R√ºckens (von Controllern).  In dieser Phase beginnen wir mit Routing, Controller-Leerzeichen und gef√§lschten Daten.  Die Schicht von Diensten (BL) und Datenzugriff (DAL) haben wir noch nicht.  Wir √ºbertragen einfach die Daten von JS an das Backend und programmieren die Controller so, dass sie die erwarteten Antworten f√ºr die Grundf√§lle implementieren und Teile aus den gef√§lschten Daten ausgeben. </p><br><p>  Nach Abschluss dieser Phase sollten Frontsoldaten ein funktionierendes Backend f√ºr statische Testdaten erhalten.  Dar√ºber hinaus schreiben die Frontsoldaten genau die Integrationstests.  Im Prinzip sollte es derzeit nicht schwierig sein, das JS-Gateway (importService) auf die Verwendung von Controller-Leerzeichen im Hintergrund umzustellen. </p><br><p>  Der Antwortteil f√ºr Anforderungen √ºber Websocket unterscheidet sich konzeptionell nicht von Web-API-Controllern.  Wir machen diese "Antwort" auch auf Testdaten und verbinden importService mit dieser Vorbereitung. </p><br><p>  Letztendlich m√ºssen alle JS √ºbertragen werden, um mit einem echten Server zu arbeiten. </p><br><h4 id="bekend-finalizaciya-kontrollerov-zaglushki-v-dao">  Backend.  Finalisierung der Controller.  DAO Stubs </h4><br><p>  Jetzt ist es an der Zeit, die externe Tr√§gerschicht fertigzustellen.  F√ºr Steuerungen werden Dienste einzeln in BL implementiert.  Jetzt arbeiten Dienste mit gef√§lschten Daten.  Der Zusatz in dieser Phase ist, dass wir in Services bereits echte Gesch√§ftslogik implementieren.  In dieser Phase ist es ratsam, neue Tests gem√§√ü der Gesch√§ftslogik der Spezifikationen hinzuzuf√ºgen.  Es ist wichtig, dass kein Integrationstest f√§llt. </p><br><p>  <strong>Hinweis:</strong> Wir sind immer noch nicht davon abh√§ngig, ob das Datenschema in der Datenbank implementiert ist. </p><br><h4 id="bekend-finalizaciya-dao-realnaya-bd">  Backend.  Finalisieren Sie DAO.  Echt db </h4><br><p>  Nachdem das Datenschema in der Datenbank implementiert wurde, k√∂nnen wir die Testdaten aus den vorherigen Schritten darauf √ºbertragen und unsere rudiment√§re DAL auf die Arbeit mit dem realen Datenbankserver umstellen.  Weil  Wir √ºbertragen die f√ºr die Front erstellten Anfangsdaten in die Datenbank, alle Tests sollten relevant bleiben.  Wenn einer der Tests f√§llt, ist ein Fehler aufgetreten und Sie m√ºssen verstehen. </p><br><p>  <strong>Hinweis:</strong> <em>Im Allgemeinen gibt es bei einer sehr hohen Wahrscheinlichkeit, mit dem Datenschema in der Datenbank zu arbeiten, wenig f√ºr eine neue Funktion.</em>  <em>M√∂glicherweise werden √Ñnderungen an der Datenbank gleichzeitig mit der Implementierung von Diensten in BL vorgenommen.</em> </p><br><p>  Am Ende dieser Phase erhalten wir eine vollst√§ndige Alpha-Version des Mikroservices.  Diese Version kann bereits internen Benutzern (Product Owner, einem Produkttechnologen oder einer anderen Person) zur Bewertung als MVP angezeigt werden. </p><br><p>  Die Standarditerationen von Agile zur Behebung von Fehlern, zur Implementierung zus√§tzlicher Chips und zum endg√ºltigen Polieren werden fortgesetzt. </p><br><h4 id="zaklyuchenie">  Fazit </h4><br><p>  Ich denke, Sie sollten das oben Gesagte nicht blind als Leitfaden f√ºr Ma√ünahmen verwenden.  Zuerst m√ºssen Sie anprobieren und sich an Ihr Projekt anpassen.  Der oben beschriebene Ansatz kann einzelne Entwickler voneinander trennen und ihnen erm√∂glichen, unter bestimmten Bedingungen parallel zu arbeiten.  Alle Gesten mit Brunch und Daten√ºbertragung, die Implementierung von Leerzeichen f√ºr gef√§lschte Daten scheinen ein erheblicher Aufwand zu sein.  Der Gewinn aus diesem Overhead ergibt sich aus der erh√∂hten Parallelit√§t.  Wenn das Entwicklungsteam besteht <del>  eineinhalb Bagger </del>  Zwei Full Stacks oder ein Freotovik mit einem Backend, dann wird dieser Ansatz wahrscheinlich viel Gewinn bringen.  Obwohl in dieser Situation einige Punkte die Wirksamkeit der Entwicklung durchaus erh√∂hen k√∂nnen. </p><br><p>  Der Gewinn dieses Ansatzes zeigt sich, wenn wir zu Beginn schnell Werkst√ºcke implementieren, die einer zuk√ºnftigen realen Implementierung so nahe wie m√∂glich kommen, und die Arbeit an verschiedenen Teilen auf Dateistrukturebene im Projekt und auf der Ebene des Code-Management-Systems (git) physisch trennen. </p><br><p>  Ich hoffe, Sie fanden diesen Artikel hilfreich. </p><br><p>  Vielen Dank f√ºr Ihre Aufmerksamkeit! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463067/">https://habr.com/ru/post/de463067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463055/index.html">√úber Administratoren, Entwickler, endlose Verwirrung und DevOps-Transformation innerhalb des Unternehmens</a></li>
<li><a href="../de463057/index.html">Benutzerdefinierte Rechte f√ºr Yii Framework 2</a></li>
<li><a href="../de463059/index.html">Drei leben in der IT und nicht nur</a></li>
<li><a href="../de463061/index.html">Regeln f√ºr die Erstellung von Layouts in Figma</a></li>
<li><a href="../de463063/index.html">Wir besch√§ftigen uns mit Schnittstellen in Go</a></li>
<li><a href="../de463069/index.html">Reagieren Sie auf den animierten Leitfaden</a></li>
<li><a href="../de463071/index.html">Welche Auswirkungen haben Internetausf√§lle?</a></li>
<li><a href="../de463073/index.html">QUIC in Aktion: Wie Uber es implementiert hat, um die Leistung zu optimieren</a></li>
<li><a href="../de463075/index.html">Neue Open Source-Lizenzen</a></li>
<li><a href="../de463083/index.html">Schutz von iPhone-Backups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>