<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úíÔ∏è üìÑ üë©üèø‚Äçüî¨ Syst√®me de fid√©lit√© ou comment vivre gratuitement üßëüèΩ üïù ü§¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habrovsk. Dans le cadre de la grande panique du dernier article, je vous pr√©sente la deuxi√®me version. Tout est simple, sans morve. Le syst√®m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Syst√®me de fid√©lit√© ou comment vivre gratuitement</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428650/"> Bonjour, Habrovsk.  Dans le cadre de la grande panique du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dernier article, je</a> vous pr√©sente la deuxi√®me version.  Tout est simple, sans morve.  Le syst√®me de fid√©lit√© est un gros trou.  Apr√®s quelques exp√©riences, nous sommes arriv√©s √† la conclusion qu'un grand nombre de sites o√π un tel syst√®me est utilis√© sont totalement d√©pourvus de logique lorsqu'ils tentent de l'utiliser. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ui/xn/hh/uixnhhmsliz0oh9fr970u0idhqo.jpeg" alt="image"></div><a name="habracut"></a><br>  Bien s√ªr, quelqu'un a pu mettre en ≈ìuvre au moins une protection simple, mais, mais quelqu'un imagine Internet sous cette forme: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/43c/9b0/d71/43c9b0d712b4de1d0fb362e174efd55d.jpg" alt="image"><br><br>  En g√©n√©ral, de nombreuses attaques de pirates se produisent presque sous cette forme.  Ce n'est que dans les films qu'ils vous montreront un tas de gadgets du futur, dont la fonctionnalit√© n'a pas de sens dans le pr√©sent. <br><br>  Passons aux choses s√©rieuses.  Pour un exemple, je prendrai quelques syst√®mes o√π il peut y avoir un karzh de masse. <br><br>  Commen√ßons par l' <b>OBI</b> . <br><br>  Je dirai tout de suite que pour moi cela a √©t√© peu √©tudi√©.  Leurs r√®gles vagues sur l'utilisation des bonus me mettent dans des doutes diff√©rents.  Premi√®rement, ils ont plusieurs programmes de bonus.  Pour l'un d'eux, vous ne pouvez payer que dans trois villes de Russie, pour l'autre - en tout.  Dans le m√™me temps, les bonus ne s'appliquent pas √† tous, mais seulement jusqu'√† 50% de la valeur des marchandises.  Mais construire une maison √† moiti√© prix, c'est d√©j√† bien. <br><br>  En g√©n√©ral, OBI a √©galement une application o√π vous pouvez vous connecter √† notre carte et payer en g√©n√©rant un code √† barres. <br><br>  Acc√©dez √† la page d'inscription avec une l√©g√®re touche de baguette magique: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6a/a7/8l/6aa78lj04dkguptu46ht6ulvpwq.png" alt="image"></div><br>  Nous arrivons au formulaire d'inscription de <s>pas</s> notre carte: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cd/u7/h1/cdu7h1rl__q_jq1uclgvhlhvc4u.png" alt="image"></div><br>  Eh bien, remplis-le.  Au fait, ici, le syst√®me de calcul des cartes est le m√™me que dans le "Carrefour".  Pour √™tre clair - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Algorithme Moon</a> .  J'ai rempli toutes les donn√©es, indiqu√© un num√©ro de carte al√©atoire.  Au cours du processus, j'ai intercept√© une demande d'enregistrement via un renifleur. <br>  R√©p√©t√© plusieurs centaines de fois dans un cycle.  Il n'y a eu aucune erreur.  Le site a trait√© mes demandes assez efficacement et a renvoy√© une r√©ponse en json: <br><br> <code><b>"data":{"registration":null},"errors":[{"message":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u044b.","type":"validation","locations":{"path":"\/work\/obiclub.ru\/app\/GraphQL\/Mutation\/Frontend\/RegistrationMutation.php","line":109},"safe":true,"validation":{"cardnum":["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445."]}}]}</b></code> <br> <br>  Dans la variable <b>cardnum</b> √©tait le texte suivant, qui est traduit du <s>grec</s> Unicode - <br><blockquote>  ¬´Mauvais num√©ro de carte.  V√©rifiez l'exactitude des donn√©es saisies ¬ª </blockquote><br>  Il est int√©ressant de noter que pour toutes mes demandes d'une adresse IP, il n'y a pas eu de blocage.  De plus, la session dure tr√®s longtemps.  J'ai v√©rifi√© apr√®s une journ√©e - la r√©ponse √©tait.  Pourrait au moins r√©initialiser les cookies, entrer le captcha, puis un solide "facepalm".  L'√©criture de logiciels n'est pas difficile, seulement elle rel√®vera <br>  <b>Royaume-Uni.</b>  <b>RF</b>  <b>Article 273</b> , et c'est d√©j√† dangereux! <br><br>  Eh bien, nous avons construit une maison.  Nous devons faire le plein de notre voiture et faire le tour de la ville.  Je pourrais donner un exemple ici avec les stations-service les plus populaires, mais compte tenu de certaines consid√©rations, je ne le ferai pas.  Tout le monde a un syst√®me, mais l'approche est diff√©rente, je vais donc le d√©montrer √† la station-service la plus simple et la moins connue. <br><br>  <b>AZS-ETALON.RU</b> .  Cela a attir√© mon attention sur ce qui se trouve dans ma ville.  Le principe de fonctionnement est similaire - il existe une carte de fid√©lit√©;  il y a un site o√π nous enregistrons une carte;  Il y a une demande par autorisation dans laquelle vous pouvez payer √† la caisse.  Eh bien, c'est g√©n√©ralement dr√¥le. <br><br>  Acc√©dez au formulaire d'enregistrement de carte - <u><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lk.azs-etalon.ru/registration.php</a></u> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/bb/8k/vgbb8kimxzermvyszygfiegun4o.png" alt="image"></div><br>  Remplissez toutes les donn√©es, cliquez sur <s>"Hack"</s> "Register".  Nous obtenons la r√©ponse <blockquote>  "Num√©ro de carte invalide" </blockquote>  ce qui signifie que nous entrerons le num√©ro suivant sur le compte et ainsi de suite jusqu'√† ce que nous trouvions du carburant gratuit pour notre ami √† quatre roues. <br><br>  <i>- Automatiser?</i> <i><br></i>  <i>- Facile.</i> <i><br></i> <br>  Nous attrapons le colis pour l'inscription.  Nous obtenons ce qui suit <br><br>  <b>EN-T√äTES HTTP:</b> <br><br><div class="spoiler">  <b class="spoiler_title">Cap de spoiler</b> <div class="spoiler_text">  H√¥te: lk.azs-etalon.ru <br>  User-Agent: Mozilla / 5.0 (Windows NT 6.3; WOW64; rv: 41.0) Gecko / 20100101 Firefox / 41.0 <br>  Accepter: * / * <br>  Accept-Language: ru-RU, ru; q = 0,8, en-US; q = 0,5, en; q = 0,3 <br>  Accept-Encoding: gzip, d√©gonfler <br>  Type de contenu: application / x-www-form-urlencoded;  charset = utf-8 <br>  X-Requested-With: XMLHttpRequest <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©f√©rent</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lk.azs-etalon.ru/registration.php</a> <br>  Longueur du contenu: 174 <br>  Cookie: _ym_uid = 10265171001178589;  _ym_d = 1214095619;  _ym_visorc191282814 = w;  _ym_isad = 2;  PHPSESSID = u0vp19oks8iman1hi8m8j1n105 <br>  Connexion: garder en vie <br>  Pragma: pas de cache <br>  Contr√¥le du cache: pas de cache <br>  Si-modifi√©-depuis: * <br></div></div><br>  <b>POST-DONN√âES:</b> <br><div class="spoiler">  <b class="spoiler_title">Cap de spoiler</b> <div class="spoiler_text">  carte = 1111-114-089-111 &amp; fio =% D0% 90% D0% 9E% D0% 92% D0% A0% D0% 90% D0% 9B% D0% 9E% D0% 92% D0% 90% D0% A0 % D0% BB% D0% BE% D1% 80 &amp; t√©l√©phone = 7 (912) 345-6789 &amp; date = 11.11.1990 &amp; sexe = 1 &amp; pass = 123321q &amp; pass2 = 123321q <br></div></div><br>  Nous le mettons sous une forme pratique, l'ajustons √† CURL, le martelons en boucle et le mettons dans un flux.  Le site publiera: <blockquote>  "R—ú¬µ–Ü¬µ–Ç–Ö‚Äπ ‚Ññ –Ö—ï—ò¬µ–Ç —î ¬∞ –Ç‚Äö ‚Äπ" </blockquote>  qui traduit de l' <s>allemand</s> CP1251 - <blockquote>  "Num√©ro de carte invalide" </blockquote>  Nous fixons la condition pour l'apparition d'une autre r√©ponse et trouvons le <u>"buzz"</u> .  Le brutus le plus simple est pr√™t. <br><br>  Il n'y a pas de captcha, de blocage IP pour un grand nombre de demandes - non, il n'y a m√™me pas de contr√¥le initial pour la saisie des donn√©es du client.  Oh, d'accord.  Et c'est ainsi. <br><br>  Passons en revue une b√™te de plus.  Il est beaucoup plus grand que les autres, mais reste vuln√©rable. <br><br>  <b>Tape</b> ... Just - <b>TAPE</b> <br><br>  Acc√©dez √† getetepes lk.lenta.com/authentication/login/activate-card: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/en/ic/us/enicusare9pi6rphyjtuhhe6ts8.png" alt="image"></div><br>  <i>Nous supposons qu'il s'agissait d'une carte non activ√©e pr√©c√©demment valide.</i>  <i>On nous demande d'entrer un num√©ro de t√©l√©phone</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2a/9b8/7ea/e2a9b87ea13938442f7db4cd7ab99868.png" alt="image"><br><br>  Eh bien, entrez votre mobile, puis le reste des donn√©es, y compris le mot de passe.  C'est tout, nous sommes dans le compte personnel. <br><br>  Ici, pour ainsi dire, tout est similaire aux syst√®mes pr√©c√©dents.  Il est seulement important d'attraper les demandes n√©cessaires, puis de les r√©p√©ter dans l'ordre souhait√©. <br><br>  Mais empiriquement, une mauvaise vuln√©rabilit√© a √©t√© trouv√©e.  Lorsque vous entrez le mauvais code de v√©rification - que s'est-il pass√©?  Rien, ils ne nous ont pas laiss√© entrer dans le LC.  C'est logique, les gars. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ks/vc/l9/ksvcl9ysnyjeyyux69nc0q68f28.png" alt="image"></div><br>  Mais exp√©rimentalement, ce qui suit a √©t√© v√©rifi√©!  Des demandes de confirmation du code ont √©t√© saisies, dans lesquelles tous les param√®tres √©taient clairs: <br><blockquote>  {"Code": "12345667890", "carte": "800011999193", "t√©l√©phone": "91234567789"} </blockquote><br>  Je ne vais pas m√¢cher sur la fa√ßon dont j'ai exploit√© cette vuln√©rabilit√©, mais je vais vous le dire bri√®vement.  Avec lui, vous pouvez simplement omettre le <b>code</b> et nous acc√®derons toujours au compte utilisateur sans confirmer le num√©ro.  Et cela signifie que nous pouvons indiquer n'importe quel nombre! <br><br>  ( <i>J'essaie actuellement de contacter le support TAPE</i> ) <br><br>  Pourquoi tout √ßa?  Faisons le point. <br><br>  Il existe de nombreux services avec un syst√®me de fid√©lit√©.  Vous pouvez sans cesse les rechercher et les points "bruts".  Si je vous le dis, qu'est-il possible de piloter un avion pour ces points? <br><br>  <b>Aeroflot</b> et <b>S7</b> ont √©galement un syst√®me de bonus.  Les points sont des miles.  Nous pouvons les gagner aupr√®s, par exemple, de partenaires.  Aeroflot, soit dit en passant, en poss√®de environ 2 000.  Y compris, presque tous les grands supermarch√©s, y compris notre inf√¢me X5 Retail Group.  Vous pouvez √©changer des points contre des miles directement dans la LC du m√™me carrefour.  Eh bien, et donc dans presque tous les autres services.  Soit dit en passant, ce fait de vol de miles par les compagnies a√©riennes a √©t√© enregistr√© officiellement.  Bo√Ætier haut de gamme, non sans sacrifices. <br><br>  En cons√©quence, tout n'est pas aussi simple qu'il y para√Æt.  Il y a des gens qui vivent de ces points.  Eh bien, si ces boules vous appartiennent officiellement, alors quelqu'un est assis sur votre cou.  Les kulkhackers peuvent manger, s'habiller, conduire une voiture, voler dans les villes et bien plus encore gratuitement. <br><br>  PS: Merci pour le fait que plusieurs agents de s√©curit√© de <u>X5</u> m'ont contact√© en m√™me temps.  Il y a eu plus de discussions avec l'un sur <i>¬´√† qui appartiennent les clients ou les carrefours¬ª</i> que sur la question de la s√©curit√© du syst√®me.  Mais, je pense, ils vont tout arranger, puisque tout le Conseil de s√©curit√© est d√©j√† au courant.  Rapidement, eh bien.  Ils devraient rendre hommage.  L'essentiel est de s'am√©liorer. <br><br>  Eh bien, vous avez ici une enqu√™te. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428650/">https://habr.com/ru/post/fr428650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428638/index.html">Hearts Flame Motor: examen du moniteur cardiaque QardioCore</a></li>
<li><a href="../fr428640/index.html">Avec le combin√© dans votre poche: √©quipement Snom DECT pour r√©seaux t√©l√©phoniques sans fil</a></li>
<li><a href="../fr428644/index.html">Brainfuck de bas niveau</a></li>
<li><a href="../fr428646/index.html">Les mod√®les d'iPhone de l'ann√©e derni√®re ralentissent √©galement en raison de l'usure de la batterie</a></li>
<li><a href="../fr428648/index.html">Anton Arkhipov sur le travail efficace avec IntelliJ IDEA et TeamCity sur jug.msk.ru</a></li>
<li><a href="../fr428652/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 15: Logiciels m√©dicaux, partie 1</a></li>
<li><a href="../fr428654/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 15: Logiciels m√©dicaux, partie 2</a></li>
<li><a href="../fr428656/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 15: Logiciels m√©dicaux, partie 3</a></li>
<li><a href="../fr428658/index.html">Ateliers p√©dagogiques gratuits dans les bureaux de Mail.Ru Group</a></li>
<li><a href="../fr428660/index.html">Activation des strat√©gies de demande d'extraction extensible dans VSTS pour prendre en charge le processus de d√©veloppement</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>