<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👛 🙆🏿 🙏🏻 نمذجة لعبة محمولة ، ومن أين تبدأ ، وكيفية القيام بذلك. الجزء 3 (النهائي) 🚓 👇🏿 🏴‍☠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="في الجزء الأول ، ناقشت لماذا النماذج الأولية وبصفة عامة ، من أين نبدأ 
 - الجزء 1 

 في الجزء الثاني ، تشغيل القليل من خلال الفئات الرئيسية 
 والهندسة...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>نمذجة لعبة محمولة ، ومن أين تبدأ ، وكيفية القيام بذلك. الجزء 3 (النهائي)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453748/" style=";text-align:right;direction:rtl">  في الجزء الأول ، ناقشت لماذا النماذج الأولية وبصفة عامة ، من أين نبدأ <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 1</a> <br><br>  في الجزء الثاني ، تشغيل القليل من خلال الفئات الرئيسية <br>  والهندسة المعمارية - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء 2</a> <br><br>  والجزء الثالث - سيجري في الواقع مناقشة بسيطة ، وسنحلل كيفية عمل المعدلات ، وننزل إلى الملعب (هذا ليس بالأمر الصعب ، ولكن هناك فروق دقيقة).  والقليل عن العمارة ، سأحاول بدون الملل. <br><br>  لقطات الشاشة حول الصاروخ مملة عمومًا ، لذا أقترح مشاهدة مقطع فيديو من نموذج أولي تم تجميعه خلال أسبوعين مع الرسومات ، وتم التخلي عنه بسبب حقيقة أنه في هذا النوع من المنصات ، لا توجد طريقة للتغلب على ذلك.  هذا ، بالمناسبة ، هي واحدة من الأفكار الرئيسية حول النموذج الأولي - للتجميع ، ومعرفة ما إذا كان هذا القرف ، فهل من الضروري؟  ورمي بأمانة السلة إذا لم تبدو الإجابات مقنعة لك.  ولكن!  لا ينطبق هذا على المشاريع الإبداعية - يحدث الإبداع أحيانًا من أجل الإبداع). <br><br>  لذلك vidosik ، تحتاج إلى إلقاء نظرة على النصوص مرتبة حسب المستوى ، وليس في اللعب): <br><iframe width="560" height="315" src="https://www.youtube.com/embed/lY8e1igkzI0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br><br><h3 style=";text-align:right;direction:rtl">  استطراد صغير </h3><br>  في المقالة الأخيرة ، تلقيت رمز المراجعة وأنا ممتن لذلك ؛ يساعد النقد في التطور حتى لو كنت لا توافق عليه. <br><br>  <b>لكنني أرغب في النشر للهيكل والبناء فيما يتعلق بالنماذج الأولية:</b> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  بغض النظر عن مدى روعتك ، لا يمكنك أن تتوقع فقط أنه لن يتم رهنه ، ويمكن أن يكون هناك رهن كبير لما هو غير مطلوب.  لذلك ، في أي حال ، سوف تكون إعادة البناء أو التوسع ضرورية.  إذا لم تتمكن من وصف الفوائد المحددة للرمز / النهج ، فمن الأفضل عدم قضاء الكثير من الوقت على هذا الرمز. </li><li style=";text-align:right;direction:rtl">  لماذا في نظري OOP / Event Model / Composition أسهل للنماذج الأولية من ECS و Unity COOP و DI FrameWorks والأطر التفاعلية ، إلخ.  أقل خربشة ، جميع الاتصالات مرئية في الشفرة ، لأن المهمة الرئيسية للنموذج الأولي هي الإجابة على السؤال الرئيسي - هل من الممكن تشغيله ، وعدد من الاتصالات الثانوية - الأفضل للعب ، هذا أو ذاك.  لذلك ، تحتاج إلى تنفيذ الوظيفة الضرورية في أسرع وقت ممكن.  لماذا تقديم إطار عمل في مشروع صغير ، يصف كل غير المرغوب فيه من أجل تنفيذ ثلاثة كيانات لعبة؟  كل منها في الواقع فئة من 50-100 خطوط.  يجب التفكير في البنية كجزء من مهام النموذج الأولي ، وكجزء من امتداد ممكن لألفا ، لكن الثانية مطلوبة في الرأس أكثر من الشفرة ، حتى لا تحترق عند إضافة رمز </li></ol><br><br><h3 style=";text-align:right;direction:rtl">  حول المعدلات: </h3><br>  <b>وأخيرا حول المعدل نفسه:</b> <br>  هنا وقبل ذلك ، أنا أسمي المعدلات حقول القوة التي يمسها الصاروخ والتي تؤثر على طريقه ، في النموذج الأولي هناك نوعان منها - التسارع والانحراف. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">فئة المعدل</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PushSideModificator</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] TypeOfForce typeOfForce = TypeOfForce.Push; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> force; [SerializeField] DropPanelConfig dropPanelConfig; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> boundsOfCollider; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collider other)</span></span></span><span class="hljs-function"> </span></span>{ boundsOfCollider = other.bounds.extents.x; GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpaceForces { TypeOfForce = typeOfForce, Force = force, ColliderBound = boundsOfCollider, CenterOfObject = transform.position, IsAdded = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collider other)</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpaceForces { CenterOfObject = transform.position, IsAdded = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }); } }</code> </pre> <br></div></div><br>  هذه فئة بسيطة جدًا تتمثل مهمتها في اجتياز حدثين: <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  دخول اللاعب إلى الحقل (وهو في الواقع مشغل وحدة فعلية) ، وكل السياق اللازم - نوع التعديل ، وموقعه ، وحجم المصادم ، وقوة التعديل ، وما إلى ذلك.  في هذا الحدث الإضافي للمجمع ، يمكنه نقل أي سياق إلى الأطراف المعنية.  في هذا السياق ، هذا نموذج صاروخي يعالج المعدل. </li><li style=";text-align:right;direction:rtl">  الحدث الثاني - غادر اللاعب الميدان.  لإزالة تأثيرها على مسار اللاعب </li></ol><br>  <b>ما هو نموذج الحدث ل؟</b>  <b>من آخر قد يحتاج هذا الحدث؟</b> <b><br></b>  <b>في المشروع الحالي ، لم يتم تنفيذ هذا ، ولكن:</b> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  التمثيل الصوتي (تلقى حدثًا دخل إليه أحدهم - نلعب الصوت المقابل ، وخرج شخص - بالمثل) </li><li style=";text-align:right;direction:rtl">  علامات UI ، دعنا نقول لكل حقل أننا سنقوم بإزالة بعض الوقود من الصاروخ ، يجب أن تظهر تلميحات الأدوات على أننا دخلنا الحقل وفقدنا الوقود ، أو كسب نقاط لكل ضربة في الحقل ، هناك العديد من الخيارات التي تهتم بها الواجهة عند دخول اللاعب المجال. </li><li style=";text-align:right;direction:rtl">  المواصفات.  التأثيرات - عند اصطدامها بنوع مختلف من الحقول ، يمكن تراكب تأثيرات مختلفة ، سواء على الصاروخ نفسه أو في الفضاء المحيط بالصاروخ / الحقل.  المواصفات.  يمكن معالجة التأثيرات بواسطة كيان / وحدة تحكم منفصلة ، والتي سيتم أيضًا الاشتراك في أحداث من المعدلات. </li><li style=";text-align:right;direction:rtl">  حسنًا ، هذا الحد الأدنى من الكود ، ليست هناك حاجة إلى محددات الخدمة ، التجميع ، التبعيات ، إلخ. </li></ol><br><br><h3 style=";text-align:right;direction:rtl">  أساس اللعب </h3><br>  في هذا النموذج الأولي ، يتمثل جوهر طريقة اللعب في وضع معدِّلات في ساحة اللعب ، وتعديل مسار رحلة الصاروخ ، لتطير العقبات وضرب نقطة / كوكب الوجهة.  للقيام بذلك ، لدينا لوحة على اليمين ، توجد عليها أيقونات التعديل. <br><br><img src="https://habrastorage.org/webt/lj/eb/ga/ljebgar88u47kcyxyhz_6kzxyke.jpeg"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">فئة لوحة</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"> [RequireComponent (typeof(CanvasGroup))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DragAndDropModifiersPanel</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DropModifiersIcon iconPrfb; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DropPanelConfig config; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CanvasGroup canvasGroup; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.AddListener&lt;ButtonStartPressed&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, RocketStarted); canvasGroup = GetComponent&lt;CanvasGroup&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RocketStarted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ButtonStartPressed obj)</span></span></span><span class="hljs-function"> </span></span>{ canvasGroup.DOFade(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); (canvasGroup.transform as RectTransform).DOAnchorPosX(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>; x++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mod = config.GetModifierByType(TypeOfForce.Push); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> go = Instantiate(iconPrfb, transform); go.Init(mod); } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>; x++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mod = config.GetModifierByType(TypeOfForce.AddSpeed); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> go = Instantiate(iconPrfb, transform); go.Init(mod); } } }</code> </pre> <br></div></div><br><br>  توقع الأسئلة: <br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>; x++) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>; x++)</code> </pre><br><br>  3 و 1 - ما يسمى الأرقام السحرية التي تؤخذ ببساطة من الرأس وإدراجها في الرمز ، وهذا ينبغي تجنبه ، ولكن لماذا هم هنا؟  لم يتم بعد تحديد مبدأ تشكيل اللوحة اليمنى ، وقد تقرر ببساطة اختبار النموذج الأولي مع العديد من المعدلات فقط على النموذج الأولي. <br><br>  كيف نفعل ذلك بشكل صحيح؟  - على الأقل وضعه في الحقول القابلة للتسلسل ، وتعيين الكميات المطلوبة من خلال المفتش.  لماذا أنا كسول للغاية ويجب أن تفعل ذلك؟  هنا يجب أن ننتقل من الصورة الكبيرة ، من أجل تكوين العدد المطلوب من المعدلات ، سيظل كيانًا منفصلًا والتهيئة مسؤولين ، لذا كنت هنا كسولًا للغاية أتوقع الكثير من إعادة البناء في المستقبل.  ولكن من الأفضل عدم كسول!  ) <br><br>  حول التكوينات - عندما ظهرت المحاضرات الأولى حول ScriptableObject ، أعجبتني فكرة تخزين البيانات كأصل.  يمكنك الحصول على البيانات اللازمة أينما كنت في حاجة إليها ، دون ربطها بنسخة نسخة واحدة.  ثم كانت هناك محاضرة حول طريقة تطوير اللعبة التي تتضمن ScriptableObject ، حيث اعتادوا تخزين إعدادات المثيلات.  الإعدادات المسبقة / إعدادات شيء محفوظ في الأصل هي التكوين. <br><br>  <b>النظر في فئة التكوين:</b> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">فئة التكوين</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"> [CreateAssetMenu(fileName = <span class="hljs-string"><span class="hljs-string">"DropModifiersPanel"</span></span>, menuName = <span class="hljs-string"><span class="hljs-string">"Configs/DropModifier"</span></span>, order = <span class="hljs-number"><span class="hljs-number">2</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropPanelConfig</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScriptableObject</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ModifierBluePrintSimple[] modifierBluePrintSimples; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DropModifier </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetModifierByType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TypeOfForce typeOfModifiers)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> modifierBluePrintSimples.FirstOrDefault(x =&gt; x.GetValue.TypeOfModifier == typeOfModifiers).GetValue; } } [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropModifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TypeOfForce TypeOfModifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite Icon; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject Modifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Material Material; }</code> </pre> <br></div></div><br><br>  ما هو جوهر عمله؟  يقوم بتخزين فئة بيانات معدّل مخصصة. <br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropModifier</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TypeOfForce TypeOfModifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Sprite Icon; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject Modifier; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Material Material; }</code> </pre> <br><br>  هناك حاجة إلى تحديد نوع التعديل ، ورمز للواجهة ، ووضع لعبة كائن لعبة المعدل ، والمواد هنا بحيث يمكن تغييرها أثناء التكوين.  قد تكون موديلات موجودة بالفعل في ساحة اللعب ، ولنفترض أن مصمم اللعبة يغير نوعه ، والآن يعطي تسارعًا ، ومعدل التعديل من التكوين ويقوم بتحديث جميع الحقول ، بما في ذلك المواد ، وفقًا لهذا النوع من التعديل. <br><br>  العمل مع config بسيط للغاية - ننتقل إلى config for data لنوع معين ، حيث نحصل على هذه البيانات والإعدادات المرئية والإعدادات الممكنة من هذه البيانات. <br><br>  <b>أين الربح؟</b> <br>  الفائدة هي المرونة الكبيرة ، على سبيل المثال ، هل ترغب في تغيير المواد والرمز في معدِّل التسريع ، أو دعنا نقول ليحل محل مشروع اللعبة بأكمله.  بدلاً من إعادة الكتابة وإعادة التوجيه إلى حقول المفتش ، نقوم فقط بتغيير هذه البيانات في تهيئة واحدة وفويلا - سيتم تحديث كل شيء معنا ، على جميع المشاهد / المستويات / اللوحات. <br><br>  <b>وإذا كان هناك العديد من البيانات لمعدل التسريع في التكوين؟</b> <br>  في النموذج الأولي ، يمكنك بسهولة تتبعه يدويًا حتى لا تتكرر البيانات ؛ في مسودة العمل ، تحتاج إلى اختبارات والتحقق من صحة البيانات. <br><br><h3 style=";text-align:right;direction:rtl">  من الأيقونة إلى الملعب </h3><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">فئة أيقونة معدل</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DropModifiersIcon</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IDragHandler</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IBeginDragHandler</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IEndDragHandler</span></span></span><span class="hljs-class"> </span></span>{ [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Image icon; [Header(<span class="hljs-string"><span class="hljs-string">"       "</span></span>)] [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> RectTransform canvas; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CanvasGroup canvasGroup; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DropModifier currentModifier; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector3 startPoint; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector3 outV3; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject currentDraggedObj; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ canvasGroup = GetComponent&lt;CanvasGroup&gt;(); startPoint = transform.position; canvas = GetComponentInParent&lt;Canvas&gt;().transform as RectTransform; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DropModifier dropModifier)</span></span></span><span class="hljs-function"> </span></span>{ icon.sprite = dropModifier.Icon; currentModifier = dropModifier; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnBeginDrag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PointerEventData eventData)</span></span></span><span class="hljs-function"> </span></span>{ BlockRaycast(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); currentDraggedObj = Instantiate(currentModifier.Modifier, WorldSpaceCoord(), Quaternion.identity); GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ImOnDragEvent { IsDragging = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlockRaycast</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool state)</span></span></span><span class="hljs-function"> </span></span>{ canvasGroup.blocksRaycasts = state; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDrag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PointerEventData eventData)</span></span></span><span class="hljs-function"> </span></span>{ Vector2 outV2; RectTransformUtility.ScreenPointToLocalPointInRectangle(canvas, Input.mousePosition, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, out outV2); transform.position = canvas.transform.TransformPoint(outV2); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentDraggedObj != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) currentDraggedObj.transform.position = WorldSpaceCoord(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WorldSpaceCoord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ RectTransformUtility.ScreenPointToWorldPointInRectangle(canvas, Input.mousePosition, Camera.main, out outV3); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> outV3; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEndDrag</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PointerEventData eventData)</span></span></span><span class="hljs-function"> </span></span>{ GlobalEventAggregator.EventAggregator.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ImOnDragEvent { IsDragging = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (eventData.pointerCurrentRaycast.gameObject != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; eventData.pointerCurrentRaycast.gameObject.layer == <span class="hljs-number"><span class="hljs-number">5</span></span>) { Destroy(currentDraggedObj); transform.SetAsLastSibling(); canvasGroup.blocksRaycasts = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Destroy(gameObject); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct ImOnDragEvent { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool IsDragging; }</code> </pre><br></div></div><br><br>  <b>ما الذي يحدث هنا؟</b> <br>  نلتقط الأيقونة من اللوحة ، وننشئ تحتها مدونة للألعاب الخاصة بالمعدل نفسه.  وفي الواقع نحن نقوم بإعداد الإحداثيات من النقر / عربة اليد إلى مساحة اللعبة ، لذلك ننقل المُعدل في مساحة اللعبة مع الأيقونة الموجودة في واجهة المستخدم ، من خلال الطريقة التي أنصحك بها بقراءة RectTransformUtility ، هذه فئة مساعدة رائعة تحتوي على الكثير من الميزات للواجهة. <br><br>  دعنا نقول أننا نغير رأينا حول وضع معدل وإعادته إلى اللوحة ، <br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (eventData.pointerCurrentRaycast.gameObject != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; eventData.pointerCurrentRaycast.gameObject.layer == <span class="hljs-number"><span class="hljs-number">5</span></span>)</code> </pre> <br>  يسمح لنا هذا الجزء من الشفرة بفهم ما هو تحت الضغط.  لماذا يشار فحص طبقة هنا أيضا؟  ولماذا مرة أخرى هو السحر رقم 5؟  كما نتذكر من الجزء الثاني ، فإننا نستخدم مخطط rakester ليس فقط لواجهة المستخدم ، ولكن أيضًا للزر الموجود في المشهد ، أيضًا إذا أضفنا وظيفة لحذف المعدلات الموضوعة بالفعل في الحقل أو نقلها ، فسوف تقع أيضًا تحت مخطط rake ، وبالتالي هناك أيضًا فحص إضافي للانتماء إلى طبقة واجهة المستخدم.  هذه هي الطبقة الافتراضية ، ولا يتغير ترتيبها ، وبالتالي فإن الرقم 5 هنا ليس عمومًا رقمًا سحريًا. <br><br>  نتيجة لذلك ، اتضح أننا إذا أطلقنا الأيقونة الموجودة أعلى اللوحة ، فسوف نعود إلى اللوحة ، فإذا بقي المُعدل في الملعب أعلى الملعب ، فسيتم حذف الأيقونة. <br><br>  أمضى يوم عمل واحد على رمز النموذج الأولي.  بالإضافة إلى القليل من الضجة في الملف والرسومات.  بشكل عام ، تم العثور على طريقة اللعب المناسبة ، على الرغم من كثرة الأسئلة حول رقائق تصميم الألعاب والألعاب.  المهمة كاملة. <br><br><h3 style=";text-align:right;direction:rtl">  الاستنتاجات والتوصيات </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  وضع الهندسة المعمارية الحد الأدنى ، ولكن مع ذلك الهندسة المعمارية </li><li style=";text-align:right;direction:rtl">  اتبع المبادئ الأساسية ، ولكن بدون تعصب) </li><li style=";text-align:right;direction:rtl">  اختيار حلول بسيطة </li><li style=";text-align:right;direction:rtl">  بين التنوع والسرعة - من الأفضل اختيار سرعة للنموذج الأولي </li><li style=";text-align:right;direction:rtl">  للمشاريع الكبيرة / المتوسطة الحجم ، يعني أنه من الأفضل إعادة كتابة المشروع من نقطة الصفر.  على سبيل المثال ، الآن الاتجاه في Unity هو DOTS ، يجب عليك كتابة الكثير من المكونات والأنظمة ، إنها سيئة على المدى القصير ، وتضيع الوقت ، على المدى الطويل - عندما يتم تسجيل جميع المكونات والأنظمة ، يبدأ كسب الوقت.  لا أظن أنه من الجيد قضاء الكثير من الوقت في اتجاه الهندسة المعمارية ومعرفة نوع النموذج الأولي </li></ol><br>  نماذج ناجحة للجميع. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar453748/">https://habr.com/ru/post/ar453748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar453730/index.html">طب الأسنان الحديث: زرع الأسنان في وقت واحد وتوسيع عظم الفك من خلال عيون المدير الفني</a></li>
<li><a href="../ar453732/index.html">أنا من مورينس. وجهات النظر المائلة أو الاحترام؟</a></li>
<li><a href="../ar453734/index.html">تقديم هيلم 3</a></li>
<li><a href="../ar453742/index.html">البرنامج المساعد Memcached: NoSQL في الخلية</a></li>
<li><a href="../ar453744/index.html">ندرس مبدأ الطبقة الزائفة: لا () باستخدام مثال المهمة "تسليط الضوء على الصف النشط لجدول في CSS الخالص"</a></li>
<li><a href="../ar453750/index.html">حول الهجوم السيبراني بالتيمور الأخيرة</a></li>
<li><a href="../ar453756/index.html">مشاكل المنهجية الحالية لتحديد التهديدات الحالية من FSTEC</a></li>
<li><a href="../ar453760/index.html">معسكر تدريب الدائرة للدبابات والمعالجات</a></li>
<li><a href="../ar453764/index.html">فقدان الذاكرة الطوعي: التلاعب الحصين لإزالة الذكريات المؤلمة</a></li>
<li><a href="../ar453766/index.html">البرامج المعرفة للراديو - كيف يعمل؟ الجزء 6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>