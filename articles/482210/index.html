<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èÆÔ∏è üî© ü•ô Bot para Tetris y animaci√≥n de ingenier√≠a inversa. An√°lisis de la pista m√≥vil del segundo campeonato de programaci√≥n. ‚úÖ ü•ì üßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ganadores de la pista m√≥vil 
 El a√±o pasado, Yandex celebr√≥ dos campeonatos de programaci√≥n en l√≠nea. Continuamos publicando an√°lisis de las tareas de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bot para Tetris y animaci√≥n de ingenier√≠a inversa. An√°lisis de la pista m√≥vil del segundo campeonato de programaci√≥n.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/482210/"><img src="https://habrastorage.org/webt/wo/ry/hf/woryhf1ol6z2mgv2exh6uasa1gi.jpeg"><br><h5>  <sup><sub>Ganadores de la pista m√≥vil</sub></sup> </h5><br>  El a√±o pasado, Yandex celebr√≥ dos campeonatos de programaci√≥n en l√≠nea.  Continuamos publicando an√°lisis de las tareas del segundo campeonato.  Le recordamos que a los participantes se les ofrecieron cuatro pistas: aprendizaje autom√°tico, frontend, desarrollo m√≥vil y backend.  Aqu√≠ hay una discusi√≥n sobre la ronda de calificaci√≥n para desarrolladores m√≥viles: 121 de los que aprobaron las calificaciones y luego participaron en la final.  Las tareas fueron inventadas por especialistas de Yandex.Browser y otros equipos del portal de b√∫squeda.  En este centro, tocaremos el tema de los algoritmos gen√©ticos, escribiremos un bot para Tetris y realizaremos la b√∫squeda con diferentes m√©todos para Android e iOS. <br><a name="academy"></a><br><a name="habracut"></a><h2>  A. cables </h2>  <sup><i>Publicado por: Sergey Myasnikov</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td></td><td>  <b>Todos los idiomas</b> </td><td>  <b>Python 3.7.3 y Python 2.7</b> </td></tr><tr><td>  L√≠mite de tiempo </td><td>  4 s </td><td>  20 s </td></tr><tr><td>  L√≠mite de memoria </td><td colspan="2">  256 MB </td></tr><tr><td>  Entrar </td><td colspan="2">  entrada est√°ndar o input.txt </td></tr><tr><td>  Conclusi√≥n </td><td colspan="2">  salida est√°ndar o salida.txt </td></tr></tbody></table></div>  Se trajeron N computadoras a la nueva oficina.  El radiotelescopio cercano no permite el uso de Wi-Fi para la comunicaci√≥n, y el servicio de asistencia tendr√° que organizar una red con cables LAN.  Despu√©s de haber recogido todos los cables en las esquinas, los administradores lograron conectar K pares de computadoras.  Cansado despu√©s de un largo d√≠a de trabajo, el personal del servicio de asistencia recurri√≥ a usted para obtener ayuda, para calcular el presupuesto necesario para completar la tarea.  Entonces tiene una lista de M pares de computadoras que pueden conectar administradores, y el costo de cada cable.  Al comenzar a trabajar, encontr√≥ un error en el sistema de c√°lculo de costos, en lugar de sumar los costos, se multiplican, por lo que un cable con un valor de 4 y un cable con un valor de 3 juntos no son 7, como sugiere la l√≥gica, sino 12. <br><br>  Para completar la tarea, debe calcular el costo de los cables suficientes para la organizaci√≥n de una red conectada, de modo que cada computadora est√© conectada a cada una directa o indirectamente. <br><br><div class="spoiler"> <b class="spoiler_title">Formatos de E / S, ejemplos y notas</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  La primera l√≠nea contiene los n√∫meros 0 &lt;N &lt;10 <sup>6</sup> , 0 ‚â§ K &lt;10 <sup>6</sup> , 0 ‚â§ M &lt;10 <sup>6</sup> . <br><br>  Las siguientes l√≠neas K contienen pares de n√∫meros 0 &lt;u, v ‚â§ N: los n√∫meros de computadoras ya conectadas por el servicio de asistencia. <br><br>  Las siguientes l√≠neas M contienen triples de n√∫meros 0 &lt;u, v ‚â§ N y 0 &lt;p ‚â§ 10 <sup>9</sup> - el n√∫mero de computadoras que los administradores pueden conectar usando un cable de costo p. <br><br><h4>  Formato de salida </h4><br>  Imprima el costo m√≠nimo de cables suficiente para construir una red conectada, o ‚Äì1 si es imposible construir una red completa. <br><br>  La respuesta puede ser muy grande, por lo que debe generar el m√≥dulo 2 31-1. <br><br><h4>  Ejemplo 1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclusi√≥n</b> </td></tr><tr><td><code>2 0 1 <br> 2 1 9</code> </td> <td> <code>9</code> </td> </tr></tbody></table></div><h4>  Ejemplo 2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclusi√≥n</b> </td></tr><tr><td> <code>5 0 6 <br> 1 3 1 <br> 2 4 8 <br> 1 4 1 <br> 1 2 10 <br> 4 1 10 <br> 5 3 4</code> </td> <td> <code>32</code> </td> </tr></tbody></table></div><h4>  Ejemplo 3 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclusi√≥n</b> </td></tr><tr><td> <code>6 0 3 <br> 4 3 2 <br> 2 6 9 <br> 1 4 8</code> </td> <td> <code>‚Äì1</code> </td> </tr></tbody></table></div><h4>  Notas </h4><br>  La cantidad de datos de entrada puede alcanzar los 30 MB; preste atenci√≥n a la velocidad de lectura. </div></div><br><h4>  Soluci√≥n </h4><br>  La red completa que debe construirse para resolver el problema no es m√°s que un √°rbol de expansi√≥n m√≠nimo.  (Dado que los bordes K ya se han agregado al comienzo de la construcci√≥n, el gr√°fico resultante no es necesariamente un √°rbol, pero se garantiza que lo contendr√°). <br><br>  En el entorno cl√°sico, el problema de encontrar el √°rbol de expansi√≥n m√≠nimo implica minimizar la suma de los bordes, pero aqu√≠ es necesario minimizar el producto.  Afortunadamente, estos dos √°rboles coinciden.  Esto es f√°cil de probar al reemplazar los pesos de los bordes con sus logaritmos. <br><br>  Los algoritmos m√°s famosos para construir un √°rbol de expansi√≥n m√≠nima son los algoritmos Prima y Kraskal. <br><br>  En el caso de gr√°ficos densos, el algoritmo Prym tiene los asint√≥ticos O (N <sup>2</sup> ), que, dada la restricci√≥n N &lt;10 <sup>6</sup> , no permite usarlo para una soluci√≥n completa del problema.  (Pero tenga en cuenta que los datos de la prueba se compilaron para que la soluci√≥n con los asint√≥ticos indicados obtuviera exactamente la mitad del punto) <br><br>  Una implementaci√≥n ingenua del algoritmo de Kruskal que utiliza una matriz para mantener informaci√≥n sobre la composici√≥n actual de los componentes conectados a gr√°ficos tiene los asint√≥ticos O (M log M + N <sup>2</sup> ).  Aqu√≠ es equivalente a O (N <sup>2</sup> ).  Para obtener una soluci√≥n completa, debe usar una estructura de datos conocida como sistema de uni√≥n de conjunto disjunto (DSU). <br><br>  DSU le permite realizar dos operaciones: find (x) encuentra el "l√≠der" del conjunto al que pertenece x (el l√≠der se traduce inyectivamente al n√∫mero del conjunto);  union (x, y) combina los conjuntos a los que pertenecen x e y. <br><br>  Las heur√≠sticas de compresi√≥n de trayectoria y las heur√≠sticas de combinaci√≥n de rango, generalmente utilizadas en la implementaci√≥n de una estructura, permiten lograr un comportamiento asint√≥tico, en casos pr√°cticos equivalentes a O (1). <br><br>  Supongamos que usamos DSU para mantener informaci√≥n sobre los componentes de conectividad gr√°fica durante la ejecuci√≥n del algoritmo de Kraskal.  Entonces el comportamiento asint√≥tico del algoritmo ser√° O (M log M + N) = O (M log M). <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de decisi√≥n</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CablesSolution</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> MODULLO = <span class="hljs-number"><span class="hljs-number">2147483647L</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ InputReader in = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputReader(System.in); PrintWriter pw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintWriter(System.out); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m = in.readInt(); DisjointUnionSets dsu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DisjointUnionSets(n + <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; k; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> u = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v = in.readInt(); dsu.union(u, v); } Edge[] edges = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Edge[m]; <span class="hljs-comment"><span class="hljs-comment">// (4 + 4 + 8) * 2M = 32M for (int i = 0; i &lt; m; i++) { int u = in.readInt(); int v = in.readInt(); long p = in.readLong(); edges[i] = new Edge(u, v, p); } Arrays.sort(edges); long res = 1; boolean addedEdge = false; for (Edge edge : edges) { if (!dsu.check(edge.getU(), edge.getV())) { dsu.union(edge.getU(), edge.getV()); res = (res * edge.getP()) % MODULLO; addedEdge = true; } } if (!dsu.isJoint()) { res = -1; } else if (!addedEdge) { res = 0; } pw.println(res); pw.flush(); pw.close(); } public static class DisjointUnionSets { private int[] rank; // 4M private int[] parent; // 4M DisjointUnionSets(int size) { rank = new int[size]; parent = new int[size]; for (int i = 0; i &lt; size; i++) { parent[i] = i; } } int find(int target) { if (parent[target] != target) { parent[target] = find(parent[target]); } return parent[target]; } boolean check(int x, int y) { return find(x) == find(y); } void union(int x, int y) { int xRoot = find(x); int yRoot = find(y); if (xRoot == yRoot) { return; } if (rank[xRoot] &lt; rank[yRoot]) { parent[xRoot] = yRoot; } else if (rank[yRoot] &lt; rank[xRoot]) { parent[yRoot] = xRoot; } else { parent[yRoot] = xRoot; rank[xRoot] = rank[xRoot] + 1; } } boolean isJoint() { int parent = -1; for (int i = 1; i &lt; rank.length; i++) { if (parent == -1) { parent = find(i); } else { if (parent != find(i)) { return false; } } } return true; } } private static class Edge implements Comparable&lt;Edge&gt; { private int u; private int v; private long p; Edge(int u, int v, long p) { this.u = u; this.v = v; this.p = p; } int getU() { return u; } int getV() { return v; } long getP() { return p; } @Override public int compareTo(Edge edge) { return Long.compare(p, edge.p); } } }</span></span></code> </pre> </div></div><br><h2>  B. Frases perdidas </h2>  <sup><i>Publicado por: Dmitry Fisko</i></sup> <br><br>  Al observar las m√©tricas de la aplicaci√≥n, el gerente Vasily plante√≥ la hip√≥tesis de que la interfaz carece de entusiasmo que frenar√≠a a los usuarios.  Por lo tanto, Vasily solicit√≥ diversificar la interfaz de la aplicaci√≥n a la dise√±adora Maria.  Despu√©s de varios bocetos, ¬°se dio cuenta de Mary!  La idea desde el principio estaba en la superficie: result√≥ que era necesario agregar animaciones para el texto.  Seleccionamos varios textos e hicimos animaciones.  Desafortunadamente, despu√©s de completar el trabajo, las animaciones se mezclaron y el texto fuente de cada una de ellas se perdi√≥.  Ayude al equipo a comprender qu√© texto est√° animado en cada caso. <br><br><div class="spoiler">  <b class="spoiler_title">Formatos de E / S, ejemplo y notas</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  Tiene varios archivos de texto con las animaciones dadas, para cada uno debe seleccionar el texto apropiado. <br><br>  <a href="https://yadi.sk/d/Pidz4td7MeHV3Q">Enlace al archivo con archivos de animaci√≥n</a> . <br><br>  Cada animaci√≥n est√° definida por par√°metros: <br>  - <b>canvasWidth canvasHeight</b> : el ancho y la altura del contenedor para la animaci√≥n se especifican en la primera l√≠nea de entrada, <br>  - <b>FiguresCount</b> : el n√∫mero de figuras a <b>animar</b> se establece en la segunda l√≠nea de entrada, <br>  - <b>rect√°ngulo centerX centerY ancho altura √°ngulo color</b> - declaraci√≥n de un rect√°ngulo centrado en un punto (centerX, centerY), ancho √ó altura, √°ngulo de √°ngulo de grado de rotaci√≥n y color especificado, <br>  - <b>c√≠rculo centerX color del radio centerY</b> - declaraci√≥n de un c√≠rculo con el centro en el punto (centerX, centerY), radio del radio y color especificado. <br><br>  El par√°metro de color puede tener los valores {negro, rojo, blanco, amarillo}.  El par√°metro de √°ngulo toma valores en el rango (-359 ¬∞, 359 ¬∞). <br><br>  Para cada figura, se pueden especificar varios tipos de animaci√≥n a la vez, que se aplican en paralelo.  Adem√°s, cada tipo de animaci√≥n se puede aplicar no m√°s de una vez a una figura.  El n√∫mero de animaciones aplicadas a la figura se establece mediante el n√∫mero 0 ‚©Ω figureAnimationsCount ‚©Ω 3 inmediatamente despu√©s de la declaraci√≥n de la figura. <br><br>  Tipos de animaciones: <br>  - <b>mover destX destY time [ciclo]</b> - mueve una figura a un punto (destX, destY) en milisegundos de tiempo. <br>  - <b>tiempo de rotaci√≥n del √°ngulo [ciclo]</b> - rotaci√≥n de la figura por grados de √°ngulo en milisegundos de tiempo. <br>  - <b>scale destScale time [cycle]</b> - aumenta la cifra por destScale en milisegundos de tiempo. <br><br>  Si se especifica el par√°metro del ciclo, al final de la animaci√≥n, su movimiento contin√∫a en la direcci√≥n opuesta. <br><br><h4>  Formato de salida </h4><br>  El texto que se muestra al reproducir la animaci√≥n.  Para cada archivo de animaci√≥n, la respuesta debe indicarse en una nueva l√≠nea.  El caso de los caracteres en la respuesta puede ser arbitrario.  Cada texto encontrado en la animaci√≥n tiene una calificaci√≥n de 10 puntos. <br><br><h4>  Ejemplo </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclusi√≥n</b> </td></tr><tr><td> <code>400 400 <br> 10 <br> rectangle 69.000 280.000 24.000 24.000 0.000 black <br> 1 <br> move 251.000 72.000 10000 cycle <br> rectangle 256.000 188.000 24.000 48.000 0.000 black <br> 0 <br> rectangle 232.000 152.000 72.000 24.000 0.000 black <br> 0 <br> rectangle 35.000 400.000 24.000 24.000 0.000 black <br> 1 <br> move 285.000 -96.000 10000 cycle <br> rectangle 244.000 248.000 48.000 24.000 0.000 black <br> 0 <br> rectangle 300.000 117.000 24.000 48.000 0.000 black <br> 1 <br> move 112.000 164.000 5000 <br> rectangle 136.000 200.000 72.000 24.000 0.000 black <br> 0 <br> rectangle 160.000 236.000 24.000 48.000 0.000 black <br> 0 <br> rectangle 208.000 224.000 24.000 72.000 44.797 black <br> 1 <br> rotate -44.797 5000 <br> rectangle 232.000 200.000 24.000 24.000 0.000 black <br> 0</code> </td> <td> <code>42</code> </td> </tr></tbody></table></div><h4>  Notas </h4><br>  Visualizaci√≥n de la animaci√≥n del ejemplo: <br><br><img src="https://habrastorage.org/webt/35/k7/3k/35k73kldyohxgp1pqpsfooq9lyy.gif"></div></div><br><h4>  Soluci√≥n </h4><br>  La tarea consist√≠a en implementar la animaci√≥n.  Si la animaci√≥n se implementa correctamente, cuando se reproduce, se agregan muchas primitivas al texto legible.  La animaci√≥n se puede hacer utilizando cualquier medio, integrado en plataformas m√≥viles o soluciones de nivel inferior. <br><br>  Ejemplo de animaci√≥n ( <a href="https://yadi.sk/i/-LWlPWXbM2DbDg">enlace al archivo .mov</a> ): <br><br><img src="https://habrastorage.org/webt/ig/qi/le/igqile0qssc9k4crzwgste6buba.gif"><br><br><div class="spoiler">  <b class="spoiler_title">Una implementaci√≥n de ejemplo usando la biblioteca Tkinter de Python</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> copy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tkinter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> enum <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Enum FRAMES_PER_SECOND = <span class="hljs-number"><span class="hljs-number">60</span></span> TIME_BETWEEN_FRAMES = int(<span class="hljs-number"><span class="hljs-number">1000</span></span> / FRAMES_PER_SECOND) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rectangle</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x, left_y, width, height, color, angle=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + width / <span class="hljs-number"><span class="hljs-number">2</span></span> self.center_y = left_y + height / <span class="hljs-number"><span class="hljs-number">2</span></span> self.width = width self.height = height self.color = color self.angle = angle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_x - self.width / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + self.width / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_y - self.height / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_y)</span></span></span><span class="hljs-function">:</span></span> self.center_y = left_y + self.height / <span class="hljs-number"><span class="hljs-number">2</span></span> left_x = property(get_left_x, set_left_x) left_y = property(get_left_y, set_left_y) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Circle</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x, left_y, radius, color)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + radius self.center_y = left_y + radius self.radius = radius self.color = color self.angle = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_x - self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_y - self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_y)</span></span></span><span class="hljs-function">:</span></span> self.center_y = left_y + self.radius left_x = property(get_left_x, set_left_x) left_y = property(get_left_y, set_left_y) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationType</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Enum)</span></span></span><span class="hljs-class">:</span></span> MOVE = <span class="hljs-number"><span class="hljs-number">1</span></span> ROTATE = <span class="hljs-number"><span class="hljs-number">2</span></span> SCALE = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time, cycle)</span></span></span><span class="hljs-function">:</span></span> self.time = time self.cycle = cycle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">angle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_cycle_progress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.cycle: cycle_time = time_spent % (self.time * <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cycle_time &gt; self.time: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> - (cycle_time - self.time) / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cycle_time / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> time_spent &lt; self.time: cycle_time = time_spent % self.time <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cycle_time / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MoveAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, to_x, to_y, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.from_x = figure.center_x self.from_y = figure.center_y self.to_x = to_x self.to_y = to_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) diff_x = self.to_x - self.from_x diff_y = self.to_y - self.from_y <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> diff_x * cycle_progress, diff_y * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScaleAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, destination_scale, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.destination_scale = destination_scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + (self.destination_scale - <span class="hljs-number"><span class="hljs-number">1</span></span>) * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RotateAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rotate_angle, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.rotate_angle = rotate_angle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">angle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.rotate_angle * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Transformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RectangleTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Transformer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rectangle)</span></span></span><span class="hljs-function">:</span></span> self.rectangle = rectangle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.width = self.rectangle.width * scale self.rectangle.height = self.rectangle.height * scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.center_x = self.rectangle.center_x + diff_x self.rectangle.center_y = self.rectangle.center_y + diff_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.angle = (self.rectangle.angle + angle) % <span class="hljs-number"><span class="hljs-number">360</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CircleTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Transformer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, circle)</span></span></span><span class="hljs-function">:</span></span> self.circle = circle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> self.circle.radius = self.circle.radius * scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> self.circle.center_x = self.circle.center_x + diff_x self.circle.center_y = self.circle.center_y + diff_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Drawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationApplier</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(spent_time, transformer, animations)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> animation <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animations: transformer.scale(animation.scale(spent_time)) diff_x, diff_y = animation.move(spent_time) transformer.move(diff_x, diff_y) transformer.rotate(animation.angle(spent_time)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RectangleDrawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Drawer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rectangle, animations)</span></span></span><span class="hljs-function">:</span></span> self.rectangle = rectangle self.animations = animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> rect = self._transform_rect_with_animations(spent_time) rect_points = self._get_rectangle_points(rect) rotated_points = self._rotate(rect_points, rect.angle, [rect.center_x, rect.center_y]) canvas.create_polygon(rotated_points, fill=rect.color) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_transform_rect_with_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spent_time)</span></span></span><span class="hljs-function">:</span></span> rect = copy.copy(self.rectangle) transformer = RectangleTransformer(rect) AnimationApplier.apply_animations(spent_time, transformer, self.animations) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transformer.rectangle @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_rectangle_points</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rect)</span></span></span><span class="hljs-function">:</span></span> half_width = rect.width / <span class="hljs-number"><span class="hljs-number">2</span></span> half_height = rect.height / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ [rect.center_x - half_width, rect.center_y - half_height], [rect.center_x - half_width, rect.center_y + half_height], [rect.center_x + half_width, rect.center_y + half_height], [rect.center_x + half_width, rect.center_y - half_height] ] @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(points, angle, center)</span></span></span><span class="hljs-function">:</span></span> angle = math.radians(angle) cos_val = math.cos(angle) sin_val = math.sin(angle) cx, cy = center new_points = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x_old, y_old <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> points: x_old -= cx y_old -= cy x_new = x_old * cos_val - y_old * sin_val y_new = x_old * sin_val + y_old * cos_val new_points.append([x_new + cx, y_new + cy]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new_points <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CircleDrawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Drawer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, circle, animations)</span></span></span><span class="hljs-function">:</span></span> self.circle = circle self.animations = animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> circle = self._transform_rect_with_animations(spent_time) size = circle.radius * <span class="hljs-number"><span class="hljs-number">2</span></span> canvas.create_oval(circle.left_x, circle.left_y, circle.left_x + size, circle.left_y + size, fill=circle.color) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_transform_rect_with_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spent_time)</span></span></span><span class="hljs-function">:</span></span> circle = copy.copy(self.circle) transformer = CircleTransformer(circle) AnimationApplier.apply_animations(spent_time, transformer, self.animations) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transformer.circle <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Scene</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, animated_symbols)</span></span></span><span class="hljs-function">:</span></span> self.canvas = canvas self.drawers = self._get_generated_drawers(animated_symbols) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_generated_drawers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(animated_symbols)</span></span></span><span class="hljs-function">:</span></span> drawers = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> animated_symbol <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animated_symbols: figure = animated_symbol.figure animations = animated_symbol.animations <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> isinstance(figure, Rectangle): drawer = RectangleDrawer(figure, animations) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> isinstance(figure, Circle): drawer = CircleDrawer(figure, animations) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() drawers.append(drawer) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> drawers <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> self.canvas.delete(<span class="hljs-string"><span class="hljs-string">"all"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> drawer <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.drawers: drawer.draw(self.canvas, time_spent) self.canvas.pack() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Timer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.started_time = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.started_time = self._current_time() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">time_spent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> current_time = self._current_time() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> current_time - self.started_time @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_current_time</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int(round(time.time() * <span class="hljs-number"><span class="hljs-number">1000</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene_loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window, scene, timer)</span></span></span><span class="hljs-function">:</span></span> time_spent = timer.time_spent() scene.draw(time_spent) window.after(TIME_BETWEEN_FRAMES, scene_loop, window, scene, timer) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure_window_location</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window, canvas_width, canvas_height)</span></span></span><span class="hljs-function">:</span></span> screen_width = window.winfo_screenwidth() screen_height = window.winfo_screenheight() x = (screen_width / <span class="hljs-number"><span class="hljs-number">2</span></span>) - (canvas_width / <span class="hljs-number"><span class="hljs-number">2</span></span>) y = (screen_height / <span class="hljs-number"><span class="hljs-number">2</span></span>) - (canvas_height / <span class="hljs-number"><span class="hljs-number">2</span></span>) window.geometry(<span class="hljs-string"><span class="hljs-string">'%dx%d+%d+%d'</span></span> % (canvas_width, canvas_height, x, y)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimatedSymbol</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, animations)</span></span></span><span class="hljs-function">:</span></span> self.figure = figure self.animations = animations <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationsParser</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_animated_symbols</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, file_path)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(file_path) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: lines = f.readlines() canvas_width, canvas_height = self._parse_size(lines[<span class="hljs-number"><span class="hljs-number">0</span></span>]) symbols_count = int(lines[<span class="hljs-number"><span class="hljs-number">1</span></span>]) animated_symbols = [] current = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(symbols_count): figure = self._parse_figure(lines[current]) current += <span class="hljs-number"><span class="hljs-number">1</span></span> symbol_animations = self._parse_animations(figure, current, lines) current += <span class="hljs-number"><span class="hljs-number">1</span></span> + len(symbol_animations) animated_symbol = AnimatedSymbol(figure, symbol_animations) animated_symbols.append(animated_symbol) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> canvas_width, canvas_height, animated_symbols <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, line)</span></span></span><span class="hljs-function">:</span></span> parts = line.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int(parts[<span class="hljs-number"><span class="hljs-number">0</span></span>]), int(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, current, lines)</span></span></span><span class="hljs-function">:</span></span> animations = [] animations_count = int(lines[current]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(animations_count): parts = lines[current + i + <span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) animation = self._parse_animation(figure, parts) animations.append(animation) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_figure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, line)</span></span></span><span class="hljs-function">:</span></span> parts = line.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'rectangle'</span></span>: center_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) center_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) width = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) height = float(parts[<span class="hljs-number"><span class="hljs-number">4</span></span>]) angle = float(parts[<span class="hljs-number"><span class="hljs-number">5</span></span>]) color = parts[<span class="hljs-number"><span class="hljs-number">6</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) figure = Rectangle(center_x - width / <span class="hljs-number"><span class="hljs-number">2</span></span>, center_y - height / <span class="hljs-number"><span class="hljs-number">2</span></span>, width, height, color, angle) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'circle'</span></span>: center_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) center_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) radius = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) color = parts[<span class="hljs-number"><span class="hljs-number">4</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) figure = Circle(center_x - radius, center_y - radius, radius, color) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> figure <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, parts)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"move"</span></span>: animation = self._parse_move_animation(figure, parts) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: animation = self._parse_scale_animation(parts) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"rotate"</span></span>: animation = self._parse_rotate_animation(parts) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animation @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_move_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(figure, parts)</span></span></span><span class="hljs-function">:</span></span> to_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) to_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveAnimation(figure, to_x, to_y, time, cycle) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_scale_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parts)</span></span></span><span class="hljs-function">:</span></span> destination_scale = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ScaleAnimation(destination_scale, time, cycle) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_rotate_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parts)</span></span></span><span class="hljs-function">:</span></span> rotate_angle = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RotateAnimation(rotate_angle, time, cycle) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> canvas_width, canvas_height, animated_symbols = \ AnimationsParser().parse_animated_symbols(<span class="hljs-string"><span class="hljs-string">'animation_path.txt'</span></span>) window = tkinter.Tk() configure_window_location(window, canvas_width, canvas_height) canvas = tkinter.Canvas(window, width=canvas_width, height=canvas_height) scene = Scene(canvas, animated_symbols) timer = Timer() timer.start() window.after(TIME_BETWEEN_FRAMES, scene_loop, window, scene, timer) window.mainloop() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: main()</code> </pre> </div></div><br><h2>  C. Tetris bot </h2>  <sup><i>Autor: Dmitry Nevedomsky</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td>  L√≠mite de tiempo </td><td>  1 s </td></tr><tr><td>  L√≠mite de memoria </td><td>  256 MB </td></tr><tr><td>  Entrar </td><td>  entrada est√°ndar o input.txt </td></tr><tr><td>  Conclusi√≥n </td><td>  salida est√°ndar o salida.txt </td></tr></tbody></table></div>  A Ocupado Arkady le gusta pasar su tiempo libre participando en varias subastas de retrocomputadoras.  En uno de ellos, vio al Commodoro que hab√≠a visto la vida, y Arkady se apresur√≥ a comprar.  Y esta vez adquiri√≥ no solo hardware, sino tambi√©n software, una sorpresa lo estaba esperando en la computadora: Tetris estaba inacabado por el due√±o anterior.  Emp√≠ricamente, Arkady descifr√≥ sus reglas. <br><br>  Al jugador se le ofrece un campo Tetris de 10 celdas de ancho y una altura ilimitada.  Una lista de todos los tetramino que se deben colocar en el campo.  Tetramino "cae" inmediatamente, es decir, su posici√≥n se establece una vez para el movimiento correspondiente, y durante la ca√≠da, la posici√≥n y la rotaci√≥n no se pueden cambiar. <br><br>  El tetramino cae hasta que tropieza en el fondo o en otra figura.  Si al mismo tiempo se llena una fila completa del campo, esta fila desaparece y todo lo que est√° arriba cae una celda debajo. <br><br>  El n√∫mero de puntos obtenidos est√° determinado por el n√∫mero de filas destruidas.  El juego termina cuando se han colocado todas las piezas propuestas.  El autor del juego dej√≥ una tabla de registros en la que √©l mismo ocup√≥ todos los lugares. <br><br>  Como se mencion√≥ anteriormente, Arkady es una persona muy ocupada.  Pero tambi√©n es muy apostador.  Ay√∫dale a convertirse en el mejor en este juego. <br><br>  <b>Tabla de figuras y sus posibles giros.</b> <br><img src="https://habrastorage.org/webt/kq/l2/su/kql2suwzyyoghl7iat7ryncfaty.png"><br><div class="spoiler">  <b class="spoiler_title">Formatos de E / S, ejemplo y notas</b> <div class="spoiler_text"><h4>  Formato de entrada </h4><br>  Los datos de entrada est√°n en los archivos input1.txt, input2.txt, ..., input10.txt.  <a href="https://yadi.sk/d/YEFUMhJnnQsBYQ">Archivo con archivos</a> . <br><br>  La primera l√≠nea contiene un n√∫mero positivo de cifras N (N ‚â§ 100). <br><br>  En cada l√≠nea subsiguiente, se transmite un √∫nico car√°cter latino del conjunto <code>{'O', 'S', 'Z', 'L', 'J', 'T', 'I'}</code> . <br><br>  Cada s√≠mbolo representa una figura tetramino. <br><br><h4>  Formato de salida </h4><br>  Para la verificaci√≥n, debe enviar un archivo zip con los archivos de salida ubicados en su ra√≠z con los nombres output1.txt, output2.txt, ..., output10.txt, donde el archivo de salida outputX.txt debe corresponder con el archivo de entrada inputX.txt. <br>  El archivo de respuesta consta de N l√≠neas, cada una de las cuales corresponde a un tetramino de los datos de entrada y consta de dos n√∫meros A <sub>i</sub> y B <sub>i</sub> , que indican el movimiento del jugador con la figura propuesta: <br><br>  1. A <sub>i</sub> indica la columna del elemento tetramino m√°s a la izquierda (1 ‚â§ A <sub>i</sub> ‚â§ 10). <br>  2. B <sub>i</sub> indica la direcci√≥n de rotaci√≥n del tetramino (1 ‚â§ B <sub>i</sub> ‚â§ 4). <br><br>  Si el archivo requerido no est√° en el archivo o se form√≥ incorrectamente, se otorgar√°n 0 puntos para la prueba correspondiente. <br><br><h4>  Ejemplo </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>Entrar</b> </td><td>  <b>Conclusi√≥n</b> </td></tr><tr><td> <code>15 <br> Z <br> O <br> L <br> O <br> J <br> S <br> T <br> J <br> Z <br> J <br> Z <br> S <br> Z <br> I <br> O</code> </td> <td> <code>1 2 <br> 9 1 <br> 6 4 <br> 9 1 <br> 3 2 <br> 6 1 <br> 1 2 <br> 4 1 <br> 6 2 <br> 3 1 <br> 8 2 <br> 2 2 <br> 4 1 <br> 10 1 <br> 6 1</code> </td> </tr></tbody></table></div><h4>  Notas </h4><br>  En este ejemplo, se destruir√°n 4 filas. <br><br>  El estado final del campo: <br><br><img src="https://habrastorage.org/webt/kk/l3/m3/kkl3m3iepvoc6olrzp5mmawvr1y.png"><br><br>  Informaci√≥n sobre c√≥digos de error: <br><br>  1. PE: se cometi√≥ un error de salida (por ejemplo, no existe tal rotaci√≥n de la figura) <br>  2. WA: la informaci√≥n sobre la rotaci√≥n y la posici√≥n de la figura se proporcion√≥ correctamente, pero esta disposici√≥n est√° m√°s all√° de los l√≠mites del campo. <br>  3. TL, ML, OK, RE: estos c√≥digos tienen el mismo significado que en las reglas del sistema Yandex.Contest. <br><br>  Dado que el problema es NP-completo, la soluci√≥n no tiene que ser √≥ptima desde un punto de vista matem√°tico.  La efectividad de la decisi√≥n est√° determinada por el n√∫mero de puntos anotados. </div></div><br><h4>  Soluci√≥n </h4><br>  Esta es una tarea de prueba abierta.  Veamos qu√© significa esto. <br><br>  El participante recibe a su disposici√≥n un archivo zip, en cuya ra√≠z se encuentran los archivos de texto input1.txt, input2.txt, ..., input10.txt.  Un archivo es un conjunto de figuras de tetramino que se organizar√°n.  Como respuesta del participante, se espera un archivo zip generado, en cuya ra√≠z se encuentran los archivos output1.txt, output2.txt, ..., output10.txt.  Cada archivo debe contener movimientos por piezas en el mismo orden en que se especifican en el archivo del conjunto correspondiente. <br><br>  La tarea es NP-complete y la soluci√≥n al cien por cien es solo una b√∫squeda exhaustiva.  Por lo tanto, la complejidad crece exponencialmente con el aumento en el n√∫mero de figuras.  Como no es necesario entregar el c√≥digo de la soluci√≥n, no hay restricciones en la memoria y el tiempo de ejecuci√≥n. <br><br>  Se obtuvo un punto completo para la tarea cuando se logr√≥ una calidad "satisfactoria": la soluci√≥n deber√≠a haber obtenido el 60% de los puntos.  La soluci√≥n del autor al problema obtuvo la misma puntuaci√≥n, que se bas√≥ en un algoritmo gen√©tico entrenado en un aleatorizador est√°ndar de Tetris.  Este aleatorizador se describe <a href="https://tetris.fandom.com/wiki/Random_Generator">en el art√≠culo</a> . <br><br>  El resto de la tarea no es muy diferente de escribir un bot regular para tetris, excepto que el "vaso" del campo de juego es ilimitado en altura.  Por lo tanto, el √©xito de la decisi√≥n est√° determinado no por cu√°nto tiempo puede jugar el bot sin ir m√°s all√° del "cristal", sino por qu√© tan exitosamente organizar√° un conjunto limitado de figuras. <br><br>  El participante era libre de elegir una estrategia de soluci√≥n.  Estos son algunos de ellos en orden de complejidad creciente y aumento del n√∫mero de puntos anotados: <br><br>  1. Jugamos "manos" sin usar el c√≥digo, escribiendo movimientos en la soluci√≥n. <br>  2. Escribimos un visualizador y jugamos "manos", escribiendo movimientos en la soluci√≥n. <br>  3. El algoritmo codicioso.  En cada turno, tratamos de colocar la pieza para que el n√∫mero de filas destruidas sea m√°ximo.  Si hay varias de estas opciones, seleccione cualquiera de ellas al azar. <br>  4. El mismo algoritmo codicioso que en el p√°rrafo 3, solo que se verifica no el √©xito de establecer una figura, sino el √©xito de la b√∫squeda exhaustiva de un grupo de figuras (por ejemplo, un grupo de cinco figuras). <br>  5. El algoritmo gen√©tico.  Tenemos en cuenta en la funci√≥n de aptitud no solo el n√∫mero de filas rotas, como en el algoritmo codicioso, sino tambi√©n la suavidad del "relieve" del campo y, por ejemplo, el n√∫mero de espacios libres formados entre las figuras. <br><br><h2>  D y E. Quest </h2>  <sup><i>Autores: Ilimdar Ablyaev e Ilya Kuteev</i></sup> <br><br>  Misha hace un juego m√≥vil en el g√©nero de b√∫squeda.  Encontr√≥ en Internet una biblioteca preparada con un motor para el juego e hizo una interfaz basada en √©l.  Misha tiene prisa por lanzar el juego y cometi√≥ varios errores durante el proceso de desarrollo.  Para terminar el proyecto a tiempo, Misha te pidi√≥ ayuda.  Descargue el proyecto, corrija errores de compilaci√≥n, bloqueos y errores l√≥gicos en el mismo.  Completa la b√∫squeda y ve a la pantalla de Bingo, en la que aparecer√° la frase secreta.  Ella ser√° la respuesta al problema. <br><br>  Descargue el archivo con el proyecto: <a href="https://yadi.sk/d/pSevFNC3wACyGQ">Android</a> , <a href="https://yadi.sk/d/scriCzh0-XblPQ">iOS</a> .  El formato de salida es una frase secreta (cadena de hasta 255 caracteres). <br><br><h4>  Soluci√≥n de Android </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) Elimine la l√≠nea con el tema o agregue cualquier tema. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) Revisamos el texto de la tarea y corregimos todos los errores que resalta el IDE.</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eliminamos modificadores finales de mBackButton y mTitleTextView, ya que su inicializaci√≥n requiere recursos. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si transfiere la inicializaci√≥n de mTitleTextView y mBackButton al lugar de la declaraci√≥n, la aplicaci√≥n se bloquear√° al principio, ya que a√∫n no tiene un contexto. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Solucionamos el error con el valor de retorno de los m√©todos: reemplazamos Layout con ViewGroup. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicializamos la variable okButton en el m√©todo getTextTaskControlsLayout. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adem√°s, el IDE puede resaltar un error l√≥gico que los mismos oyentes est√°n asignados a los botones izquierdo y derecho. </font></font></li></ol><br> 3)  .  ds     ,        ¬´java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity¬ª.      . <br><br> 4)  . <br><br><ul><li>        ‚Äî java.lang.IndexOutOfBoundsException. </li><li>    :     Layout       Layout. . </li><li>         1.1 (     ). </li></ul><br> 5)   . <br><br><ul><li>    ,    . </li><li>       (   ,      ,   ). </li><li>    .    : <br> ‚Äî       Layout. <br> ‚Äî      . </li><li>      . </li></ul><br> 6)   .     ‚Äî        . <br><br> 7)  ¬´¬ª. <br><br><ul><li>     android.content.res.Resources$NotFoundException. </li><li>    .   ,    ID . </li><li>    . </li></ul><br> !         . <br><br><h4>   iOS </h4><br>       .   : <br><br><img src="https://habrastorage.org/webt/w_/n8/sh/w_n8shb8lv1tuk_hfwsv8uo0ye0.png" width="800"><br><br><cut></cut>  ,      Optional&lt;Optional&lt;Step&gt;&gt;. guard let    Optional  .    Optional,  flatMap({ $0 }),      . <br><br><img src="https://habrastorage.org/webt/qv/io/to/qviotowslanuxz3u2n7lus_d-y0.png" width="720"><br><br>  ,    . <br><br><img src="https://habrastorage.org/webt/hz/vk/v4/hzvkv4xffka4pvsvpcmjmbdyp1s.png" width="600"><br><br>   ,     QuestCore    .  : <br><br><img src="https://habrastorage.org/webt/7q/5a/vo/7q5avoteuj4nosrfndsb3lly0ie.png"><br><br>   ,       ‚Äî  goLeft,  goRight     .   ,  goRight  . <br><br><img src="https://habrastorage.org/webt/xa/xd/nn/xaxdnn9hfvfx4x74hit0resqy1y.png" width="380"><br><br>        ,    :    TestView,   firstResponder    .   ,  TestView   firstResponder.    ,        UIKit. <br><br><img src="https://habrastorage.org/webt/cr/6l/3t/cr6l3tid8c7couuavz26b5235z4.png" width="500"><br><br>      ¬´¬ª.     IBOutlet,     ,       .         . <br><br><img src="https://habrastorage.org/webt/32/wv/6r/32wv6rozifqs4ro2ncvwm3rdvco.png" width="600"><br><br><img src="https://habrastorage.org/webt/yt/a1/fm/yta1fmc5us8kz77j_4zdleeidoy.png" width="500"><br><br><hr><br> <a href="https://habr.com/ru/company/yandex/blog/428882/"> </a>      ,     2018 . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/482210/">https://habr.com/ru/post/482210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../482198/index.html">C√≥mo hacer tu autoescaler para un cl√∫ster</a></li>
<li><a href="../482200/index.html">Blockchain para la ciberseguridad: expectativas y realidad</a></li>
<li><a href="../482202/index.html">M√©todos para actualizar la criptograf√≠a en el equipo de Check Point a GOST 2012</a></li>
<li><a href="../482206/index.html">C√≥mo hacer que la producci√≥n en 3D de piezas para aviones sea m√°s econ√≥mica</a></li>
<li><a href="../482208/index.html">Regalos que te hacen perder A√±o Nuevo</a></li>
<li><a href="../482212/index.html">Hablar de ... queso?</a></li>
<li><a href="../482216/index.html">23 respuestas a la depresi√≥n de un psiquiatra profesional Maxim Malyavin (dpmmax)</a></li>
<li><a href="../482218/index.html">Java Digest para el 27 de diciembre</a></li>
<li><a href="../482220/index.html">Localizaci√≥n de marcador de Aruco</a></li>
<li><a href="../482222/index.html">Aplicaci√≥n web en Kotlin + Spring Boot + Vue.js (complemento)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>