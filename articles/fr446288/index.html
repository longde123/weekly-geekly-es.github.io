<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚ÄçüöÄ üß§ ü§® Mod√®le architectural ¬´Macro transactions partag√©es pour microservices¬ª üïö üë®üèæ‚Äçüöí üç°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publi√© par Denis Tsyplakov , architecte de solutions, DataArt 

 √ânonc√© du probl√®me 
 L'un des probl√®mes lors de la construction d'architectures de mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mod√®le architectural ¬´Macro transactions partag√©es pour microservices¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/446288/"><img src="https://habrastorage.org/webt/wn/ge/nc/wngencs0zvmck2rkwblk1hxldms.png"><br><br>  <i>Publi√© par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Denis Tsyplakov</a> , architecte de solutions, DataArt</i> <br><br><h2>  √ânonc√© du probl√®me </h2><br>  L'un des probl√®mes lors de la construction d'architectures de microservices et en particulier lors de la migration d'une architecture monolithique vers des microservices est souvent les transactions.  Chaque microservice est responsable de son propre groupe de fonctions, contr√¥le √©ventuellement les donn√©es associ√©es √† ce groupe et peut r√©pondre aux demandes des utilisateurs de mani√®re autonome ou en envoyant des demandes √† d'autres microservices.  Tout cela fonctionne bien jusqu'√† ce que nous devions garantir la coh√©rence des donn√©es contr√¥l√©es par diff√©rents microservices. <a name="habracut"></a><br><br>  Par exemple, notre application fonctionne dans une grande boutique en ligne.  Entre autres, nous avons trois secteurs d'activit√© distincts, faiblement interconnect√©s: <br><br><ol><li>  Entrep√¥t - quoi, o√π, comment et pendant combien de temps il a √©t√© stock√©, combien de marchandises d'un certain type sont actuellement en stock, etc. </li><li>  Envoi de marchandises - emballage, exp√©dition, suivi de livraison, analyse des r√©clamations concernant son retard, etc. </li><li>  Maintenir des rapports douaniers sur la circulation des marchandises si les marchandises sont exp√©di√©es √† l'√©tranger (en fait, je ne sais pas si dans ce cas il est n√©cessaire de r√©diger quelque chose de sp√©cial, mais je vais quand m√™me connecter les services de l'√âtat au processus pour ajouter du drame). </li></ol><br>  Chacun de ces trois domaines comprend de nombreuses fonctions disjointes et peut √™tre repr√©sent√© comme plusieurs microservices. <br><br>  Il y a un probl√®me.  Supposons qu'une personne a achet√© un produit, l'a emball√© et l'a envoy√© par courrier.  Entre autres, nous devons indiquer qu'il y a une unit√© de marchandises en moins dans l'entrep√¥t, pour noter que le processus de livraison des marchandises a commenc√©, et si les marchandises sont envoy√©es, par exemple, en Chine, pour s'occuper des papiers pour les douanes.  Si l'application se bloque (par exemple, un n≈ìud se bloque) √† la deuxi√®me ou √† la troisi√®me √©tape du processus, nos donn√©es vont devenir incoh√©rentes, et seuls quelques-uns de ces √©checs peuvent entra√Æner des probl√®mes plut√¥t d√©sagr√©ables pour l'entreprise (par exemple, une visite d'agents des douanes). <br><br>  Dans une architecture monolithique classique de ce type, le probl√®me est r√©solu simplement et avec √©l√©gance par des transactions dans la base de donn√©es.  Mais que faire si nous utilisons des microservices?  M√™me si nous utilisons la m√™me base de donn√©es de tous les services (ce qui n'est pas tr√®s √©l√©gant, mais dans notre cas c'est possible), travailler avec cette base de donn√©es provient de diff√©rents processus, et nous ne pourrons pas √©tirer la transaction entre les processus. <br><br><h2>  Des solutions </h2><br>  Le probl√®me a plusieurs solutions: <br><br><ol><li>  Curieusement, le probl√®me peut parfois √™tre ignor√©.  Si nous savons qu'un √©chec ne se produit pas plus d'une fois par mois et que l'√©limination manuelle des cons√©quences co√ªte de l'argent acceptable pour l'entreprise, vous ne pouvez pas pr√™ter attention au probl√®me, m√™me s'il peut sembler laid.  Je ne sais pas s‚Äôil est possible d‚Äôignorer les pr√©tentions du service des douanes, mais on peut supposer que dans certaines circonstances, cela est possible. </li><li> La compensation (il ne s'agit pas d'une compensation mon√©taire aux douanes, par exemple, vous avez pay√© une amende) est un groupe de diff√©rentes √©tapes qui compliquent la s√©quence de traitement, mais vous permettent de d√©tecter et de traiter un processus ayant √©chou√©.  Par exemple, avant de commencer l'op√©ration, nous √©crivons √† un service sp√©cial que nous commen√ßons l'op√©ration d'exp√©dition, et √† la fin nous marquons que tout s'est bien termin√©.  Ensuite, nous v√©rifions p√©riodiquement s'il y a des op√©rations en attente, et s'il y en a, en regardant les trois bases de donn√©es, nous essayons de mettre les donn√©es dans un √©tat coh√©rent.  Il s'agit d'une m√©thode compl√®tement fonctionnelle, mais qui complique consid√©rablement la logique de traitement, et le faire pour chaque op√©ration est assez p√©nible. </li><li>  Les transactions en deux phases, √† proprement parler, la sp√©cification XA +, qui vous permet de cr√©er des transactions distribu√©es par rapport aux applications, est un m√©canisme tr√®s lourd que peu de gens aiment et, surtout, peu de gens peuvent configurer.  De plus, avec des microservices l√©gers, il est id√©ologiquement faiblement compatible. </li><li>  En principe, une transaction est un cas particulier du probl√®me du consensus, et de nombreux syst√®mes de consensus distribu√©s peuvent √™tre utilis√©s pour r√©soudre le probl√®me (en gros, tout ce qui est google avec les mots cl√©s paxos, raft, zookeeper, etcd, consul).  Mais dans l'application pratique de donn√©es √©tendues et ramifi√©es sur l'activit√© de l'entrep√¥t, tout cela semble encore plus compliqu√© que les transactions en deux phases. </li><li>  Files d'attente et coh√©rence √©ventuelle (coh√©rence √† long terme) - nous divisons la t√¢che en trois t√¢ches asynchrones, traitons s√©quentiellement les donn√©es, les transmettons entre les services de la file d'attente √† la file d'attente et utilisons le m√©canisme de confirmation de livraison.  Dans ce cas, le code n'est pas tr√®s compliqu√©, mais il y a quelques points √† garder √† l'esprit: <br><ul><li>  La file d'attente garantit la livraison "une ou plusieurs fois", c'est-√†-dire que lors de la remise du m√™me message, le service doit g√©rer correctement cette situation et ne pas exp√©dier les marchandises deux fois.  Cela peut √™tre fait, par exemple, via l'UUID unique de la commande. </li><li>  Les donn√©es √† un moment donn√© seront l√©g√®rement incoh√©rentes.  C'est-√†-dire que les marchandises dispara√Ætront d'abord de l'entrep√¥t et seulement alors, avec un l√©ger retard, une commande pour son exp√©dition sera cr√©√©e.  Plus tard, les donn√©es douani√®res seront trait√©es.  Dans notre exemple, cela est tout √† fait normal et ne cause pas de probl√®mes pour l'entreprise, mais il y a des cas o√π un tel comportement de donn√©es peut √™tre tr√®s d√©sagr√©able. </li><li>  Si, par cons√©quent, le tout premier service doit renvoyer des donn√©es √† l'utilisateur, la s√©quence d'appels qui d√©livre finalement les donn√©es au navigateur de l'utilisateur peut √™tre assez simple.  Le principal probl√®me est que le navigateur envoie des demandes de mani√®re synchrone et attend g√©n√©ralement une r√©ponse synchrone.  Si vous effectuez un traitement de demande asynchrone, vous devez cr√©er une livraison asynchrone de la r√©ponse au navigateur.  Classiquement, cela se fait soit via des sockets Web, soit via des demandes p√©riodiques de nouveaux √©v√©nements du navigateur au serveur.  Il existe des m√©canismes, tels que SocksJS, par exemple, qui simplifient certains aspects de la cr√©ation de ce lien, mais il y aura toujours une complexit√© suppl√©mentaire. </li></ul></li></ol><br>  Dans la plupart des cas, cette derni√®re option est la plus acceptable.  Cela ne complique pas beaucoup la demande de traitement, bien qu'il fonctionne plusieurs fois plus longtemps, mais, en r√®gle g√©n√©rale, cela est acceptable pour ce type d'op√©ration.  Cela n√©cessite √©galement une organisation des donn√©es l√©g√®rement plus complexe pour couper les demandes r√©p√©t√©es, mais il n'y a rien de super compliqu√© √† ce sujet non plus. <br><br>  Sch√©matiquement, l'une des options de traitement des transactions √† l'aide de files d'attente et de coh√©rence √©ventuelle peut ressembler √† ceci: <br><br><ol><li>  L'utilisateur a effectu√© un achat, un message √† ce sujet est envoy√© dans la file d'attente (par exemple, un cluster RabbitMQ ou, si nous travaillons dans Google Cloud Platform - Pub / Sub).  La file d'attente est persistante, garantit la livraison une ou plusieurs fois et est transactionnelle, c'est-√†-dire que si le service traitant le message tombe soudainement, le message ne sera pas perdu, mais sera remis √† une nouvelle instance du service. </li><li>  Le message arrive au service, qui marque les marchandises dans l'entrep√¥t comme √©tant pr√©par√©es pour l'exp√©dition et envoie √† son tour le message ¬´Les marchandises sont pr√™tes pour l'exp√©dition¬ª √† la file d'attente. </li><li>  √Ä l'√©tape suivante, le service responsable de l'exp√©dition re√ßoit un message de pr√©paration √† l'exp√©dition, cr√©e une t√¢che d'exp√©dition, puis envoie un message ¬´l'exp√©dition des marchandises est planifi√©e¬ª. </li><li>  Le service suivant, apr√®s avoir re√ßu un message indiquant que l'exp√©dition est pr√©vue, lance le processus de paperasse pour les douanes. </li></ol><br>  De plus, chaque message re√ßu par le service est v√©rifi√© pour son caract√®re unique, et si un message avec un tel UUID a d√©j√† √©t√© trait√©, il est ignor√©. <br><br>  Ici, la ou les bases de donn√©es √† chaque instant sont dans un √©tat l√©g√®rement incoh√©rent, c'est-√†-dire que les marchandises dans l'entrep√¥t sont d√©j√† marqu√©es comme √©tant en cours de livraison, mais la t√¢che de livraison elle-m√™me n'est pas encore l√†, elle appara√Ætra dans une seconde ou deux.  Mais en m√™me temps, nous avons 99,999% (en fait, ce nombre est √©gal au niveau de fiabilit√© du service de file d'attente) garantit que la t√¢che d'envoi appara√Ætra.  Pour la plupart des entreprises, cela est acceptable. <br><br><h2>  De quoi parle l'article alors? </h2><br>  Dans l'article, je veux parler d'une autre fa√ßon de r√©soudre le probl√®me de transactionnalit√© dans les applications de microservices.  Malgr√© le fait que les microservices fonctionnent mieux lorsque chaque service a sa propre base de donn√©es, pour les syst√®mes de petite et moyenne taille, toutes les donn√©es, en r√®gle g√©n√©rale, s'int√®grent facilement dans une base de donn√©es relationnelle moderne.  Cela est vrai pour presque tous les syst√®mes d'entreprise internes.  Autrement dit, nous n'avons souvent pas strictement besoin de partager des donn√©es entre diff√©rentes machines physiques.  Nous pouvons stocker des donn√©es de diff√©rents microservices dans des groupes de tables non li√©s de la m√™me base de donn√©es.  Cela est particuli√®rement pratique si vous divisez une ancienne application monolithique en services et que vous avez d√©j√† divis√© le code, mais les donn√©es r√©sident toujours dans la m√™me base de donn√©es.  Cependant, le probl√®me du fractionnement des transactions persiste - la transaction est √©troitement li√©e √† la connexion r√©seau et, par cons√©quent, au processus qui a ouvert cette connexion, et nous avons des processus distincts.  Comment √™tre <br><br>  Ci-dessus, j'ai d√©crit plusieurs fa√ßons courantes de r√©soudre le probl√®me, mais je veux en outre proposer une autre fa√ßon pour un cas sp√©cial, lorsque toutes les donn√©es sont dans la m√™me base de donn√©es.  Je <b>ne recommande pas d'essayer d'impl√©menter</b> cette m√©thode <b>dans ce projet</b> , mais c'est assez curieux pour moi <b>de la pr√©senter</b> dans l'article.  Eh bien, tout d'un coup, cela sera utile dans certains cas particuliers. <br><br>  Son essence est tr√®s simple.  Une transaction est associ√©e √† une connexion r√©seau et la base de donn√©es ne sait pas vraiment qui se trouve √† cette extr√©mit√© de la connexion r√©seau ouverte.  Elle s'en fiche, l'essentiel est que les bonnes commandes soient envoy√©es au socket.  Il est clair que g√©n√©ralement un socket appartient exclusivement √† un processus c√¥t√© client, mais je vois au moins trois fa√ßons de contourner ce probl√®me. <br><br><h3>  1. Modifiez le code de la base de donn√©es </h3><br>  Au niveau du code de base de donn√©es pour les bases de donn√©es, dont nous pouvons changer le code, en cr√©ant notre propre assemblage de base de donn√©es, nous impl√©mentons le m√©canisme de transfert des transactions entre les connexions.  Comment cela peut fonctionner du point de vue du client: <br><br><ol><li>  Nous commen√ßons la transaction, faisons quelques changements, il est temps de transf√©rer la transaction au service suivant. </li><li>  Nous demandons √† la base de donn√©es de nous donner l'UUID de la transaction et d'attendre N secondes.  Si pendant ce temps une autre connexion avec cet UUID ne vient pas, annulez la transaction, si c'est le cas, transf√©rez toutes les structures de donn√©es associ√©es √† la transaction vers la nouvelle connexion et continuez √† travailler avec elle. </li><li>  Nous transmettons l'UUID au service suivant (c'est-√†-dire √† un autre processus, √©ventuellement √† une autre machine virtuelle). </li><li>  Dans ce document, ouvrez une connexion et ex√©cutez la commande DB - poursuivez la transaction avec l'UUID sp√©cifi√©. </li><li>  Nous continuons √† travailler avec la base de donn√©es dans le cadre d'une transaction lanc√©e par un autre processus. </li></ol><br>  Cette m√©thode est la plus l√©g√®re √† utiliser, mais n√©cessite une modification du code de la base de donn√©es, les programmeurs d'application ne le font g√©n√©ralement pas, elle n√©cessite beaucoup de comp√©tences sp√©ciales.  Tr√®s probablement, il sera n√©cessaire de transf√©rer des donn√©es entre les processus de base de donn√©es et les bases de donn√©es, dont le code peut √™tre modifi√© en toute s√©curit√© en gros, un - PostgreSQL.  De plus, cela ne fonctionnera que pour les serveurs non g√©r√©s, vous ne l‚Äôutiliserez pas dans RDS ou Cloud SQL. <br><br>  Sch√©matiquement, cela ressemble √† ceci: <br><br><img src="https://habrastorage.org/webt/lc/ok/ia/lcokianx0usjlvmfjo9wnlc1vhy.png"><br><br><h3>  2. Manipulation des prises </h3><br>  La deuxi√®me chose qui me vient √† l'esprit est la manipulation subtile des connexions √† la base de donn√©es par les sockets.  Nous pouvons cr√©er un ¬´proxy de socket invers√©¬ª, qui dirige les commandes provenant de plusieurs clients vers un port sp√©cifique dans un flux de commandes vers la base de donn√©es. <br><br>  En fait, cette application est tr√®s similaire √† pgBouncer, seulement, en plus de ses fonctionnalit√©s standard, elle effectue certaines manipulations avec le flux d'octets des clients et peut remplacer un client par un autre sur commande. <br><br>  Je n'aime pas beaucoup cette m√©thode, pour sa mise en ≈ìuvre il faut nettoyer les paquets binaires circulant entre le serveur et les clients.  Et cela n√©cessite encore beaucoup de programmation syst√®me.  Je l'ai apport√© uniquement pour √™tre complet. <br><br><h3>  3. Passerelle JDBC </h3><br>  Nous pouvons cr√©er un pilote JDBC de passerelle - nous prenons le pilote JDBC standard pour une base de donn√©es sp√©cifique, que ce soit PostgreSQL.  Nous encapsulons la classe et cr√©ons des interfaces HTTP pour toutes ses m√©thodes externes (pas HTTP, mais la diff√©rence est petite).  Ensuite, nous cr√©ons un autre pilote JDBC - une fa√ßade, qui redirige tous les appels de m√©thode vers la passerelle JDBC.  En fait, nous scions le pilote existant en deux moiti√©s et connectons ces moiti√©s sur le r√©seau.  Nous obtenons le diagramme de composants suivant: <br><br><img src="https://habrastorage.org/webt/zo/f4/z9/zof4z9dt8p2segieoslko79fc_0.png"><br><br>  <i>NB!: Comme nous pouvons le voir, les trois options sont similaires, la seule diff√©rence est √† quel niveau nous transf√©rons la connexion et quels outils nous utilisons pour cela.</i> <i><br></i> <br><br>  Apr√®s cela, nous apprenons √† notre pilote √† faire essentiellement la m√™me astuce avec la transaction UUID d√©crite dans la m√©thode 1. <br><br>  Dans le code d'application Java, l'utilisation de cette m√©thode peut ressembler √† ceci. <br><br><h3>  Service A - d√©but de la transaction </h3><br>  Vous trouverez ci-dessous le code d'un service qui d√©marre une transaction, apporte des modifications √† la base de donn√©es et la transmet √† un autre service pour la terminer.  Dans le code, nous utilisons le travail direct avec les classes JDBC.  Bien s√ªr, personne ne le fait en 2019, mais pour des raisons de simplicit√©, le code est simplifi√©. <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//    , ,  ‚Äú‚Äù //   Class.forName("org.postgresql.FacadeDriver"); var connection = DriverManager.getConnection( "jdbc:postgresqlfacade://hostname:port/dbname","username", "password"); //  -    statement = dbConnection.createStatement(); var statement.executeUpdate(‚Äúinsert ...‚Äù); /* ,        . transactionUUID(int)  -,     ,   JDBC gateway-.  ResultSet        Varchar,  UUID.            .   ,         UUID.  60 ‚Äî  ,    .        , , JDBCTemplate.      ResultSet */ var rs = statement.executeQuery(‚Äúselect transactionUUID(60)‚Äù); String uuid = extractUUIDFromResultSet(rs); //      remoteServiceProxy.continueProcessing(uuid, otherParams); //          //     . closeEverything(); return;</span></span></code> </pre> <br><h3>  Service B - finalisation de la transaction </h3><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ,     // remoteServiceProxy.continueProcessing(...) //     . Class.forName("org.postgresql.FacadeDriver"); var connection = DriverManager.getConnection( "jdbc:postgresqlfacade://hostname:port/dbname","username", "password"); //     Gateway JDBC,    // .  continue transaction    ,   // gateway JDBC statement = dbConnection.createStatement(); statement.executeUpdate(‚Äúcontinue transaction ‚Äù+uuid); // ,    ,      //      statement.executeUpdate(‚Äúupdate ..."); //   connection.commit(); return;</span></span></code> </pre> <br><h2>  Interaction avec d'autres composants et cadres </h2><br>  Consid√©rez les effets secondaires possibles d'une telle solution architecturale. <br><br><h3>  Pool de connexions </h3><br>  √âtant donn√© qu'en r√©alit√©, nous aurons un v√©ritable pool de connexions √† l'int√©rieur de la passerelle JDBC - il est pr√©f√©rable de d√©sactiver les pools de connexions dans les services, car ils captureront et maintiendront une connexion √† l'int√©rieur du service qui pourrait √™tre utilis√©e par un autre service. <br><br>  De plus, apr√®s avoir re√ßu l'UUID et attendu le transfert vers un autre processus, la connexion devient essentiellement inop√©rante, et du point de vue du frontend JDBC, elle se ferme automatiquement, et du point de vue de la passerelle JDBC, elle doit √™tre maintenue sans donner √† personne d'autre que qui viendra avec l'UUID souhait√©. <br><br>  En d'autres termes, la double gestion du pool de connexions dans la passerelle JDBC et au sein de chacun des services peut produire des erreurs subtiles et d√©sagr√©ables. <br><br><h3>  Jpa </h3><br>  Avec JPA, je vois deux probl√®mes possibles: <br><br><ol><li>  Gestion des transactions.  Lors de la validation d'un JPA, le moteur peut penser qu'il a enregistr√© toutes les donn√©es, alors qu'il n'a pas √©t√© enregistr√©.  Tr√®s probablement, la gestion manuelle des transactions et flush () avant de transf√©rer la transaction devraient r√©soudre le probl√®me. </li><li>  Le cache de deuxi√®me niveau est susceptible de ne pas fonctionner correctement, mais dans les syst√®mes distribu√©s, son utilisation est en tout cas limit√©e. </li></ol><br><h3>  Transactions de printemps </h3><br>  Le m√©canisme de gestion des transactions Spring, peut-√™tre, ne peut pas √™tre activ√©, et vous devrez les g√©rer manuellement.  Je suis presque s√ªr qu'il peut √™tre d√©velopp√© - par exemple, pour √©crire une √©tendue personnalis√©e - mais pour dire avec certitude, nous devons √©tudier comment l'extension Spring Transactions y est organis√©e, mais je n'y ai pas encore cherch√©. <br><br><h2>  Avantages et inconv√©nients </h2><br><h3>  Avantages </h3><br><ul><li>  Ne n√©cessite pratiquement pas de modification du code monolithique existant lors du sciage. </li><li>  Vous pouvez √©crire des transactions interserveurs complexes sans pratiquement aucune complexit√© de code. </li><li>  Vous permet de faire une trace interservices de l'ex√©cution des transactions. </li><li>  La solution est assez flexible, vous pouvez utiliser des transactions classiques o√π la distribution n'est pas requise et partager la transaction uniquement pour les op√©rations o√π une interaction interservices est requise. </li><li>  L'√©quipe de projet n'est pas tenue de ma√Ætriser de force les nouvelles technologies.  Les nouvelles technologies sont bien s√ªr bonnes, mais la t√¢che - il est imp√©ratif et urgent (jusqu'√† hier!) D'enseigner √† 20 d√©veloppeurs le concept de construction de syst√®mes r√©actifs - peut √™tre tr√®s simple.  Cependant, rien ne garantit que les 20 personnes termineront la formation √† temps. </li></ul><br><h3>  Inconv√©nients </h3><br><ul><li>  Non √©volutif et, en fait, non modulaire au niveau de la base de donn√©es, contrairement √† une solution en file d'attente.  Vous avez toujours une base de donn√©es dans laquelle toutes les requ√™tes et l'ensemble de la charge convergent.  En ce sens, la solution est sans issue: si vous souhaitez par la suite augmenter la charge ou rendre la solution modulaire en fonction des donn√©es, vous devrez tout refaire. </li><li>  Vous devez √™tre tr√®s prudent lors du transfert d'une transaction entre des processus, en particulier des processus √©crits dans des frameworks.  Les sessions ont leurs propres param√®tres et, pour diff√©rents cadres, un changement soudain de connexion avec la base de donn√©es peut entra√Æner un fonctionnement incorrect.  Voir, par exemple, les param√®tres de session et les transactions pour PostgreSQL. </li><li>  Quand j'ai dit l'id√©e dans le chat de notre architecte local sur DataArt, la premi√®re chose que mes coll√®gues m'ont demand√© √©tait de savoir si je buvais (non, je ne buvais pas!).  Mais j'avoue que l'id√©e, disons, n'est pas la plus r√©pandue, et si vous la mettez en ≈ìuvre dans votre projet, elle semblera tr√®s inhabituelle pour ses autres participants. </li><li>  N√©cessite un pilote JDBC personnalis√©.  L'√©crire prend du temps, vous devez le d√©boguer, y rechercher des erreurs, y compris celles caus√©es par des erreurs de communication r√©seau, etc. </li></ul><br><h2>  Avertissement </h2><br>  Je vous pr√©viens encore une fois: <b>n'essayez pas de r√©p√©ter cette astuce</b> <s>chez vous</s> dans ce projet, √† moins d'avoir une explication tr√®s claire de la raison pour laquelle vous en avez besoin et des preuves convaincantes qu'il n'y a pas d'autre moyen du tout. <br><br>  Tout √† partir du premier avril! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446288/">https://habr.com/ru/post/fr446288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446278/index.html">Le r√¥le du syst√®me IGF-1 dans la modulation de la long√©vit√©: contradictions et nouvelle compr√©hension du point de vue des centenaires</a></li>
<li><a href="../fr446280/index.html">Section des sciences au DUMP: √©largissez vos horizons</a></li>
<li><a href="../fr446282/index.html">Comment d√©ployer rapidement HotSpot avec les exigences des lois de la F√©d√©ration de Russie?</a></li>
<li><a href="../fr446284/index.html">Qu'est-ce qu'un chef d'√©quipe</a></li>
<li><a href="../fr446286/index.html">Piratage en grec ancien: r√©sultats de la phase en ligne de NeoQUEST-2019</a></li>
<li><a href="../fr446292/index.html">Vous n'y cherchiez tout simplement pas: comment trouver des employ√©s pour le projet dans le support technique</a></li>
<li><a href="../fr446296/index.html">Immortalit√© biologique, colonisation de Mars, Amish, EC1863 et copywriting. Chapitre 1. Et le c≈ìur du cyborg bat</a></li>
<li><a href="../fr446298/index.html">Un outil simple pour commencer √† utiliser l'IA pour la prise de d√©cision</a></li>
<li><a href="../fr446300/index.html">Comment coordonner le vol de la sonde dans la stratosph√®re (ce que nous rencontrerons en pratique au lancement)</a></li>
<li><a href="../fr446302/index.html">9 citations de Habraseminar 2019 pour les blogueurs, les entrepreneurs et les RH</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>