<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏾 👩🏽‍🌾 🐼 Layanan Terpadu goszakup.gov.kz - Versi 2 🗑️ 👩🏿‍🤝‍👩🏽 🛃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya bekerja sebagai pengembang di perusahaan Pusat Keuangan Elektronik JSC. 
 Salah satu proyek kami adalah Portal Pengadaan Publik Republik Kazakhst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Layanan Terpadu goszakup.gov.kz - Versi 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441438/"> Saya bekerja sebagai pengembang di perusahaan Pusat Keuangan Elektronik JSC. <br>  Salah satu proyek kami adalah Portal Pengadaan Publik Republik Kazakhstan - goszakup.gov.kz. <br><br>  Setahun yang lalu, kami meluncurkan proyek besar - Unified Services (OpenData). <br>  Untuk implementasi, metodologi RestAPI digunakan. <br><br>  Hari ini saya akan berbicara tentang versi baru layanan kami dan antarmuka baru untuk bekerja dengannya. <br><br><img src="https://habrastorage.org/webt/pt/bj/mx/ptbjmxtr9jqrdj0suzdnoztmabu.png"><br><a name="habracut"></a><br>  Kami telah mengembangkan dan meluncurkan 6 layanan Data Terbuka: <br><br><ul><li>  Daftar peserta </li><li>  Mendaftar pemasok yang tidak bermoral </li><li>  Daftar rencana tahunan </li><li>  Pengumuman negara.  pengadaan </li><li>  Daftar Lot </li><li>  Daftar kontrak </li></ul><br>  Banyak perusahaan di Kazakhstan sudah menghubungkan dan menerima data pada layanan ini. <br>  Peluncuran Open Data memungkinkan kami untuk mengurangi beban basis data sekitar 40% karena fakta bahwa perusahaan tidak perlu menulis parser yang berbeda untuk mengumpulkan data tentang Pengadaan Publik.  Sudah cukup untuk menjalani pencarian yang sulit :) <br><br><ol><li>  tulis permintaan untuk token akses </li><li>  baca dokumentasi untuk layanan di portal kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">goszakup.gov.kz/ru/developer/ows</a> </li><li>  tulis klien RestAPI Anda </li></ol><br><h4>  Layanan Terpadu - Pendekatan Baru </h4><br>  RestAPI memungkinkan untuk mendapatkan data dengan lebih mudah dan cepat daripada mem-parsing sebuah situs, tetapi standar RestAPI tidak memberikan fleksibilitas kepada perusahaan dan untuk membangun koneksi dengan objek-objek Anda harus mendapatkan semua data terlebih dahulu dan baru kemudian membangun tautan di antara mereka. <br>  Untuk menerima data tentang pengumuman, perlu oleh RestAPI untuk meminta terlebih dahulu daftar pengumuman, kemudian daftar lot dan akhirnya daftar rencana.  Ini berarti bahwa untuk menerima satu pengumuman, perlu untuk menyelesaikan setidaknya 3 permintaan, dan jika Anda perlu menerima data pada 50 iklan, Anda akan memerlukan setidaknya 101 permintaan ke RestAPI, asalkan setiap pengumuman akan memiliki 1 lot (1 untuk menerima 50 iklan, 50 untuk menerima lot, 50 hingga menerima poin rencana). <br><br>  Kami telah menemukan cara untuk mengurangi jumlah ini menjadi satu permintaan! <br><br>  Kami meluncurkan versi 2 dari Layanan Terpadu - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ows.goszakup.gov.kz/v2</a> . <br>  Selain memperluas kumpulan data, kami memperluas kemampuan untuk bekerja dengan API kami. <br><br>  Sekarang data dapat diperoleh melalui RestAPI dan antarmuka baru - GraphQL. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ows.goszakup.gov.kz/v2/graphql</a> <br><br><img src="https://habrastorage.org/webt/jm/q-/tb/jmq-tbqg_fuph_g2mvshivb-gas.png"><br><br>  Saya tidak akan menjelaskan apa itu GraphQL, untuk ini Anda dapat membaca artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">aliksend</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apakah GraphQL ini?</a> <br><br>  Saya akan memberi tahu Anda keuntungan apa yang kami dapatkan setelah memulai GraphQL: <br><br><ul><li>  Meminta fleksibilitas; </li><li>  Mendapatkan objek terkait; </li><li>  Pengetikan lengkap permintaan dan tanggapan; </li><li>  Antarmuka pencarian data baru. </li></ul><br><h4>  Minta fleksibilitas </h4><br>  Dengan permintaan RestAPI yang sederhana, Anda mendapatkan format data yang telah ditetapkan sebelumnya. <br>  Ketika Anda meminta GraphQL, Anda mendapatkan data dalam format yang Anda butuhkan. <br><br>  Saat meminta data, Anda sendiri yang menentukan format data yang Anda butuhkan, misalnya ID dan <br><br>  Nomor kontrak <br><br><pre><code class="javascript hljs">{ contract { id contract_number_sys } }</code> </pre> <br>  Sebagai tanggapan, kami hanya mendapatkan data ini: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"data"</span></span>: { <span class="hljs-string"><span class="hljs-string">"contract"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"contract_number_sys"</span></span>: <span class="hljs-string"><span class="hljs-string">"_"</span></span> } ] } }</code> </pre><br>  Nah, pertanyaan seperti itu adalah yang termudah untuk mengimplementasikan GraphQL.  Perusahaan diberi kesempatan untuk memilih data apa yang ingin mereka terima, sementara kita tidak perlu melakukan penyesuaian seolah-olah ketika bekerja dengan RestAPI.  Anda hanya mendapatkan set bidang yang diperlukan. <br><br><img src="https://habrastorage.org/webt/95/cr/jw/95crjwjr7wikz8fhajv-lh6w9iq.gif"><br><br><h4>  Mengambil Objek Terkait </h4><br>  Kami tidak berhenti mengulangi fungsionalitas RestAPI hanya dengan memungkinkan sebagian data dipilih. <br><br>  Kami telah mengimplementasikan fitur 2 dari GraphQL - hubungan objek. <br><br>  Jika Anda menerima data menurut RestAPI, untuk menerima data pada kontrak dan perusahaan, pelanggan dalam kontrak pertama-tama harus mendapatkan data dari <b>Daftar Peserta</b> , dan hanya kemudian menerima data dari <b>Daftar Kontrak</b> dan membangun koneksi antara objek itu sendiri. <br><br>  Sekarang, ketika bekerja dengan GraphQL, Anda tidak perlu sepenuhnya menerima data dari Daftar Peserta, cukup minta data dalam format yang Anda minati: <br><br><pre> <code class="javascript hljs">{ contract { id contract_number_sys customer { name_ru } } }</code> </pre><br>  Dengan demikian, dengan satu permintaan, kami mendapatkan data kontrak dan data perusahaan untuk pelanggan: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"data"</span></span>: { <span class="hljs-string"><span class="hljs-string">"contract"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"contract_number_sys"</span></span>: <span class="hljs-string"><span class="hljs-string">"_"</span></span>, <span class="hljs-string"><span class="hljs-string">"customer"</span></span> : { <span class="hljs-string"><span class="hljs-string">"name_ru"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> } } ] } }</code> </pre><br><img src="https://habrastorage.org/webt/9t/q6/_i/9tq6_ixwkyzzqnplhf2gpdfjd2e.gif"><br><br>  Dan ada banyak hubungan seperti itu yang telah diterapkan, sekarang perusahaan untuk menerima data akan membutuhkan lebih sedikit permintaan untuk data.  Pada saat yang sama, orang tidak perlu lagi menebak dengan tepat bagaimana benda terkait satu sama lain, untuk menerima set data lengkap untuk menghubungkan mereka satu sama lain. <br><br>  Saya mencoba menunjukkan sebagian struktur koneksi yang berhasil saya capai. <br><br><img src="https://habrastorage.org/webt/iv/db/sw/ivdbsw9gyxmh7cugosffdj6wcjy.png"><br><br><h4>  Mengetik permintaan dan tanggapan </h4><br>  Banyak pendukung permintaan SOAP selalu memasukkan plus - data yang paling penting. <br>  RestAPI, tidak seperti SOAP, tidak memiliki deskripsi strukturnya dan Anda tidak tahu sebelumnya tipe data apa.  Tapi GraphQL mengubah segalanya. <br><br>  Sekarang Anda dapat meminta data dari GraphQL di seluruh skema data dan Anda akan menerima: <br><br><ul><li>  Deskripsi lengkap tentang struktur data; </li><li>  Deskripsi bidang mana yang memiliki tipe data (Int, String, Boolean); </li><li>  Deskripsi objek bersarang dan struktur bidang objek bersarang; </li><li>  Deskripsi terperinci, misalnya, dalam bahasa Rusia untuk setiap bidang; </li><li>  Terima pemberitahuan bahwa beberapa bidang telah menerima bendera yang ditinggalkan dengan deskripsi. </li></ul><br>  Saya menggunakan program REST Client Insomnia - insomnia.rest untuk bekerja dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GraphQL</a> <br>  Saat bekerja dengan GraphQL, ia menerima seluruh struktur objek dan meminta ketika membangun kueri. <br><br>  Saya akan memberikan beberapa tangkapan layar sebagai contoh. <br><br>  1. Bantuan dalam membangun kueri sejak itu  program menerima struktur objek yang lengkap <br><br><img src="https://habrastorage.org/webt/xl/jj/fb/xljjfbpgh2j1xata_orj0aurhqi.png"><br><br>  2. Petunjuk untuk deskripsi masing-masing bidang dengan tipe data dan deskripsi <br><br><img src="https://habrastorage.org/webt/6v/ep/93/6vep93hfz0ynsplgm9_kraaktky.png"><br><br>  3. Petunjuk jika beberapa bidang menerima bendera - Sudah usang <br><br><img src="https://habrastorage.org/webt/vg/rx/lt/vgrxlti7nowou4kqq1gsr6ov138.png"><br><br>  Dan fitur GraphQL ini memungkinkan Anda untuk memiliki gambaran lengkap tentang bidang dan objek yang Anda gunakan. <br><br><img src="https://habrastorage.org/webt/4f/lg/ux/4flguxg9ruc1mgbvyif7ffcwr9e.gif"><br><br><h4>  Antarmuka pengambilan data baru </h4><br>  Dan saya meninggalkan yang paling menarik pada akhirnya. <br><br>  Semuanya tampak keren, dimungkinkan untuk membangun struktur data Anda sendiri, ada koneksi dengan objek lain, semua data diketik.  Tapi masih ada yang hilang ... <br><br>  Tidak ada cukup kesempatan untuk mencari data ini. <br><br>  Sejak awal, format pencarian diimplementasikan dengan parameter dalam permintaan itu sendiri: <br><br><pre> <code class="javascript hljs">{ trd_buy(ref_buy_status_id: <span class="hljs-number"><span class="hljs-number">1</span></span>) { name_kz name_ru } }</code> </pre><br>  Tapi di sini saya mengalami sejumlah masalah: <br><br><ol><li>  dengan sejumlah besar kriteria pencarian, kueri menjadi tidak dapat dibaca; </li><li>  tidak mungkin untuk menentukan array ketika mencari data untuk mencari beberapa varian dari bidang yang sama. </li></ol><br>  Untuk menyederhanakan konstruksi kueri, dan untuk memperluas kemampuan pencarian, saya menerapkan objek bersarang untuk memfilter data. <br><br>  Kami mendefinisikan variabel dalam permintaan yang menunjukkan objek pemfilteran. <br><br><pre> <code class="javascript hljs">query($filter: TrdBuyFiltersInput){ trd_buy(filters: $filter) { name_kz name_ru } }</code> </pre><br>  Kami menggambarkan sendiri parameter pencarian data: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"filter"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ref_buy_status_id"</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] } }</code> </pre><br>  Dan sebagai hasilnya, kami akan menerima semua iklan yang memiliki status 1 dan 2. <br><br>  Dalam permintaan itu sendiri, kami hanya menunjukkan struktur data, dan semua parameter pencarian masuk ke transmisi parameter di mana kami sudah dapat mentransfer array data untuk penyaringan sesuai dengan beberapa kriteria. <br><br><img src="https://habrastorage.org/webt/cl/gl/di/clgldijd6pe0y7evhlw0k37eawg.gif"><br><br>  Selain itu, dalam skema GraphQL itu sendiri, kita juga memiliki deskripsi objek pencarian seperti itu: <br><br><img src="https://habrastorage.org/webt/t5/ns/i1/t5nsi1rf4yy4ubvk3cxakvmqmci.png"><br><br><h4>  Layanan Terpadu - Versi 2.0: </h4><br>  Layanan bekerja: <br><br><ul><li>  Daftar peserta </li><li>  Daftar pengumuman </li><li>  Daftar kontrak </li><li>  Daftar tindakan </li><li>  Daftar Lot </li><li>  Daftar rencana tahunan </li><li>  Mendaftar pemasok yang tidak bermoral </li></ul><br>  Kami meluncurkan fungsionalitas baru yang sangat menyederhanakan pekerjaan dengan API kami, memiliki struktur kueri yang fleksibel dan kemampuan untuk mencari data sesuai dengan kriteria yang ditentukan. <br><br>  Kami tidak kehilangan kecepatan dalam mendapatkan data, tetapi hanya mengurangi karena ini jumlah permintaan yang diperlukan untuk mendapatkan data. <br><br>  Kami dapat memperingatkan dalam skema data tentang bidang yang dinonaktifkan atau diganti namanya. <br><br>  Kami berencana untuk mengembangkan API lebih lanjut dan memungkinkan pencarian data morfologis layanan juga. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id441438/">https://habr.com/ru/post/id441438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id441424/index.html">Bagaimana melindungi diri Anda dari troll bermerek</a></li>
<li><a href="../id441426/index.html">Manajer puncak Apple dituduh melakukan perdagangan oleh orang dalam. Dia harus melawannya</a></li>
<li><a href="../id441428/index.html">Dasar-Dasar PowerShell: Menentukan Akhir Garis dengan Karakter Tertentu</a></li>
<li><a href="../id441430/index.html">Pertama kali kami mencoba App Center dan menceritakan pengalaman kami</a></li>
<li><a href="../id441436/index.html">Para ilmuwan telah menumbuhkan sel induk universal menggunakan teknik CRISPR</a></li>
<li><a href="../id441442/index.html">YouTube telah menonaktifkan iklan anti-vaksin</a></li>
<li><a href="../id441444/index.html">Di jari: tipe terkait di Rust dan apa perbedaannya dari argumen tipe</a></li>
<li><a href="../id441446/index.html">Belajar Komputer: Cara Mendapatkan Keterampilan Baru</a></li>
<li><a href="../id441448/index.html">Panci mustahil dan ubin Penrose lainnya menang</a></li>
<li><a href="../id441450/index.html">Pentesting Azure - Pikiran tentang Keamanan dalam Cloud Computing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>