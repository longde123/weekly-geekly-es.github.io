<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëãüèæ üñçÔ∏è ‚óªÔ∏è Criando um jogo AR com Vuforia üêª üà∑Ô∏è üë≤üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[Existem GIFs 3D embaixo do corte] 

 A realidade aumentada (RA) tornou-se repentinamente um termo muito popular. Gra√ßas ao Vuforia, os desenvolvedore...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando um jogo AR com Vuforia</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440592/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/4p/rn/iq4prnuz3u7xpw2-dc0tmkawzh0.gif"></div><br>  <i>[Existem GIFs 3D embaixo do corte]</i> <br><br>  A realidade aumentada (RA) tornou-se repentinamente um termo muito popular.  Gra√ßas ao Vuforia, os desenvolvedores podem <em>complementar</em> facilmente <em>o</em> mundo f√≠sico com conte√∫do digital. <br><br>  Embora o lan√ßamento do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">ARKit</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">ARCore tenha</a> ajudado a aumentar a popularidade da realidade aumentada, outras plataformas e SDKs j√° existiam.  Um deles era Vuforia;  e, recentemente, a Unity <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">firmou um contrato de parceria com a Vuforia</a> e integrou essa plataforma de AR ao mecanismo de jogo Unity. <br><br>  Neste tutorial, criarei um jogo de realidade aumentada usando o Vuforia SDK integrado ao mecanismo Unity.  No processo, falarei sobre os seguintes componentes principais: <br><br><ul><li>  Configurar a transfer√™ncia de dados da c√¢mera de realidade aumentada </li><li>  Rastreamento de imagens - o que √© e como funciona </li><li>  Anexando conte√∫do digital a um objeto f√≠sico </li><li>  Crie intera√ß√µes personalizadas que s√£o acionadas dependendo do que a c√¢mera v√™ </li></ul><a name="habracut"></a><br><blockquote>  <em>Nota:</em> este tutorial sobre Vuforia pressup√µe que voc√™ j√° conhece os conceitos b√°sicos de desenvolvimento no Unity.  Se voc√™ √© novo no Unity, confira o √≥timo tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">Introdu√ß√£o ao Unity</a> . </blockquote><br><h2>  Desenvolvimento de jogos de realidade aumentada no Unity </h2><br>  Existem muitos dispositivos de RA no mercado, mas o principal objetivo dos aplicativos de RA √© o espa√ßo m√≥vel de plataformas como iOS e Android.  √â aqui que a combina√ß√£o de Unity e Vuforia √© conveniente - no desenvolvimento de plataforma cruzada.  Outra vantagem √© que o aplicativo pode ser testado no editor.  Para isso, voc√™ s√≥ precisa de uma webcam! <br><br>  Antes de come√ßar, fa√ßa o download da vers√£o mais recente do Unity e instale o componente <em>Vuforia Augmented Reality Support</em> .  Se voc√™ usa o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">Unity Hub</a> , pode adicionar este componente a uma vers√£o j√° instalada do Unity. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77d/51e/162/77d51e162a6330e4cd363ac55761272a.png"></div><br><h2>  Come√ßando a trabalhar </h2><br>  Agora que voc√™ possui o Unity, o Vuforia e uma webcam, √© necess√°rio fazer o download de um projeto de amostra ( <a href="">daqui</a> ). <br><br>  Ap√≥s o download, extraia os arquivos e abra o projeto <em>Como criar um jogo de realidade aumentada usando o Vuforia Starter</em> no Unity.  Quando o projeto for carregado, abra a cena <em>Starter</em> na pasta <em>Scenes</em> e observe a janela Hierarchy: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fee/279/a87/fee279a87c70ac68f7e690fec68736aa.png"></div><br>  Depois de revisar a composi√ß√£o do projeto, clique no bot√£o <em>Reproduzir</em> no editor para preencher o pedido no nosso jogo de pizza. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89d/9a4/bdb/89d9a4bdb068ce92d2200ffc55b109eb.gif"></div><br>  √ìtimo, podemos brincar de pizza, mas nosso verdadeiro desafio √© transformar isso em um jogo de realidade aumentada. <br><br><blockquote>  <em>Nota: Os</em> ativos da interface do usu√°rio para este tutorial foram baixados do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">shareicon.net</a> </blockquote>  . <br><h2>  Conhe√ßa o Chef Vuforia </h2><br>  Para fazer isso, precisamos fazer com que a pizza virtual apare√ßa na imagem do rastreador que possu√≠mos no mundo real.  Depois de adicionar o recheio ao pedido, voc√™ pode "servir" fisicamente a pizza, tirando-a da visibilidade da c√¢mera ... <br><br>  Mas tudo tem seu tempo.  Primeiro, voc√™ precisa substituir a <em>c√¢mera principal por uma c√¢mera</em> <em>AR</em> .  Remova a <em>c√¢mera principal</em> da cena e <em>clique</em> com o <em>bot√£o direito do mouse</em> na <em>hierarquia</em> . <br><br>  Em seguida, adicione <em>Vuforia -&gt; AR Camera</em> .  Isso abrir√° esta janela: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e20/f6a/eda/e20f6aedaf4a2857ec12c18bfbc5693e.png"></div><br>  Clique em <em>Importar</em> e aguarde o Pacote Vuforia ser importado para o projeto, e alguns arquivos ser√£o adicionados. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a92/200/9ba/a922009bacca58142d3fe09febf61c54.png"></div><br>  Voc√™ pode ignorar os novos arquivos nas pastas <em>Editor</em> e <em>Streaming Assets</em> .  Estes s√£o apenas modelos;  Os arquivos que precisamos est√£o inclu√≠dos no projeto. <br><br>  A pasta <em>Vuforia</em> cont√©m todos os prefabs e scripts usados ‚Äã‚Äãpela plataforma Vuforia que iremos usar. <br><br>  Tamb√©m vale a pena mencionar o arquivo <em>VuforiaConfiguration</em> dentro da pasta <em>Resources</em> .  Este arquivo foi adicionado porque √© necess√°ria uma licen√ßa para desenvolver o aplicativo Vuforia.  No entanto, se desejar, voc√™ pode obter uma licen√ßa de desenvolvedor gratuita para o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">Vuforia Developer Portal</a> . <br><br>  <em>Nota:</em> se o seu projeto n√£o tiver uma Chave de Licen√ßa de Aplicativo, ela poder√° ser encontrada no arquivo LEIA-ME.  Copie a linha no campo inspetor do arquivo <em>VuforiaConfiguration</em> . <br><br>  Agora que temos a C√¢mera AR em cena, s√≥ h√° uma coisa a fazer: ativar a Realidade Aumentada! <br><br>  V√° para <em>Editar -&gt; Configura√ß√µes do projeto -&gt; Player</em> .  Role para baixo at√© as op√ß√µes <em>XR Settings</em> e verifique se a caixa de sele√ß√£o <em>Vuforia Augmented Reality Supported</em> est√° marcada. <br><br>  Clique no editor do <em>Play</em> e diga ol√° para si mesmo! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d5/c82/40d/4d5c8240defa8a0b9c721523c293686b.png"></div><br>  <em>Nota:</em> se voc√™ clicou em play e a tela ‚ÄúFalha na inicializa√ß√£o do Vuforia‚Äù aparece, tente reiniciar o Unity.  Este √© um erro aleat√≥rio que aparece apenas em alguns sistemas. <br><br><h2>  Introdu√ß√£o ao reconhecimento de padr√µes </h2><br>  Admirar-se √© √≥timo, √© claro, mas n√£o √≠amos fazer um jogo de pizza? <br><br>  Por padr√£o, o Vuforia funciona com o <em>reconhecimento de imagem</em> .  O reconhecimento de padr√µes, tamb√©m chamado de Tracker Recognition ou Image Tracking, √© um processo no qual uma c√¢mera reconhece uma imagem predefinida e sabe o que fazer com ela, por exemplo, renderiza algum conte√∫do sobre ela.  Isso funciona melhor quando a imagem de rastreamento, de alguma forma, corresponde ao conte√∫do, por exemplo, plantas baixas para renderiza√ß√£o de constru√ß√£o funcionam bem na parte superior da imagem com a constru√ß√£o. <br><br>  <em>Como funciona:</em> √© muito importante escolher uma imagem de boa qualidade para rastreamento.  Ao usar o Vuforia, voc√™ pode carregar a imagem selecionada no portal do desenvolvedor para verificar a qualidade de seu rastreamento, e isso deve ser feito <i>antes de</i> iniciar o desenvolvimento.  O portal do desenvolvedor atribui uma classifica√ß√£o √† imagem, mas, mais importante, mostra seus "pontos caracter√≠sticos".  Para que o rastreador seja bom, esses pontos caracter√≠sticos (pontos de destaque) devem ser densamente distribu√≠dos sobre a imagem e n√£o deve haver nenhum padr√£o repetitivo neles.  Em tempo de execu√ß√£o, a c√¢mera procura esses pontos caracter√≠sticos para calcular sua localiza√ß√£o em rela√ß√£o √† imagem. <br><br>  Para este tutorial, o banco de dados de imagem e rastreamento j√° est√° configurado.  A imagem da pizza est√° localizada na pasta Materiais que voc√™ baixou anteriormente.  Idealmente, imprima-o.  Ou voc√™ pode abri-lo em algum dispositivo digital e depois "mostr√°-lo" para a c√¢mera.  Veja como √© a imagem no banco de dados do Vuforia Tracker: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/874/bdc/1a4/874bdc1a450aa82f890dd3c3fbdf3c11.png"></div><br>  Como voc√™ pode ver, os pontos caracter√≠sticos est√£o bem distribu√≠dos.  Tamb√©m √© pizza, o que √© conveniente! <br><br><h2>  Adicionando destinos de imagem √† cena </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/554/c3b/730/554c3b7304b1d3252f8939e6a1833616.png"></div><br>  √â hora de fazer a m√°gica!  Faremos uma pizza virtual aparecer em cima da nossa pizza.  Novamente, use o menu <em>Criar</em> na <em>Hierarquia</em> e selecione <em>Vuforia -&gt; Imagem</em> . <br><br>  Agora temos um <em>GameObject de destino de imagem</em> em cena.  Olhe para este alvo no inspetor e voc√™ ver√° v√°rios componentes.  Os mais importantes s√£o o <em>Comportamento do destino da imagem</em> e o <em>manipulador de eventos rastre√°veis ‚Äã‚Äãpadr√£o</em> .  Examinaremos o segundo com mais detalhes posteriormente, mas, por enquanto, verifique se as op√ß√µes da lista suspensa <em>Comportamento de destino</em> da <em>imagem</em> est√£o configuradas da seguinte maneira: <br><br><ul><li>  <em>O banco de dados est√°</em> definido como <em>RW_ItsaPizza</em> <br></li><li>  <em>Destino da imagem</em> definido como <em>PizzaClipArt</em> </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d7/b68/e4c/8d7b68e4c1c525760a4fd85b32ed5c3d.png"></div><br>  Lembra dos arquivos adicionados anteriormente ao projeto que eu pedi para ignorar?  Voc√™ os encontrou!  A Vuforia est√° adicionando v√°rios bancos de dados de amostra do Image Target para que possamos come√ßar a desenvolver e us√°-los como exemplo, como o que estamos usando, j√° adicionado aos materiais. <br><br><blockquote>  <em>Nota: o</em> Pizza Tracker √© o √∫nico destino de imagem no seu banco de dados;  no entanto, pode haver centenas de imagens em um banco de dados.  Al√©m disso, pode haver v√°rios bancos de dados em um aplicativo. </blockquote><br>  Agora que configuramos a <em>C√¢mera AR</em> e o <em>Rastreador de imagens</em> em cena, temos tudo o que voc√™ precisa para que a realidade aumentada funcione!  No Editor, clique no bot√£o <em>Reproduzir</em> e coloque a imagem impressa na frente da c√¢mera. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ed/fac/48a/5edfac48a1830186b1f0826dc6e8d733.png"></div><br>  Temos pizza! <br><br><h3>  Anexando objetos de jogo aos rastreadores como objetos filhos </h3><br>  A pizza √© um pouco pequena, mas est√° firmemente presa √† imagem do rastreador.  Voc√™ tamb√©m pode notar que, se voc√™ remover a imagem rastreada, a pizza permanecer√° no ar. <br><br>  O fato √© que, enquanto a webcam pode ver o <em>rastreador de imagens</em> , Vuforia √© capaz de atualizar a posi√ß√£o da <em>c√¢mera AR</em> na cena.  Se voc√™ quiser ver isso em a√ß√£o, configure o Unity Editor para que as janelas <em>Game</em> e <em>Scene</em> fiquem vis√≠veis ao mesmo tempo, selecione <em>AR Camera</em> e clique em Play. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b57/b3e/a62/b57b3ea62a4854fa17bc667aeedd2fc3.gif"></div><br>  Como fazer com que a pizza se comporte corretamente quando a c√¢mera est√° funcionando?  Selecione <em>ImageTarget</em> na hierarquia.  Voc√™ ver√° que sua escala em cada eixo √© <em>10</em> .  Isso √© controlado pelo componente <em>Image Target Behavior</em> .  Na se√ß√£o avan√ßada, voc√™ pode ver que o par√¢metro <em>Width</em> tem um valor <em>10</em> .  Foi definido quando a imagem foi carregada no site do desenvolvedor da Vuforia. <br><br><blockquote>  <em>Dica:</em> voc√™ n√£o entende por que o Image Target foi definido como largura 10 neste tutorial?  Quando o tamanho n√£o √© um fator significativo para o aplicativo, defini-lo como 10 fornece √† c√¢mera uma maior probabilidade de rastreamento, mantendo uma boa posi√ß√£o para o conte√∫do entre os planos pr√≥ximos e distantes da c√¢mera AR.  No entanto, √†s vezes √© necess√°rio que a realidade aumentada tenha uma certa escala.  Nesse caso, voc√™ precisa definir o tamanho do rastreador de imagens para que ele corresponda √†s medidas f√≠sicas ao fazer o upload no portal do desenvolvedor. </blockquote><br>  Agora selecione <em>Pizza</em> GameObject na <em>Hierarquia</em> .  Arraste-o para <em>ImageTarget</em> para torn√°-lo filho.  A escala mudar√° para <code>(X: 0.1, Y: 0.1, Z: 0.1)</code> .  Retorne aos valores <code>(X: 1, Y: 1, Z: 1)</code> e tamb√©m mude a Posi√ß√£o at√© <code>0.01</code> ao longo do eixo <em>Y.</em>  Gra√ßas a isso, a <em>Pizza</em> estar√° em conformidade com o <em>ImageTarget</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f51/7d0/17c/f517d017c05aa0dcca22205f115fedc7.gif"></div><br>  Pressione <em>Reproduzir</em> novamente e voc√™ ver√° que a pizza est√° sobre a imagem e tamb√©m desaparece quando a imagem desaparece do quadro. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ea1/68b/565/ea168b5655b0857fcf96f56201d4414b.gif"></div><br><h2>  Explorando DefaultTrackableEventHandler </h2><br>  Esse comportamento √© obtido do <em>DefaultTrackableEventHandler</em> do <em>ImageTarget</em> .  Abra o script e visualize-o. <br><br>  O script √© bem comentado, mas vale a pena prestar aten√ß√£o em alguns aspectos: <br><br><ul><li>  A fun√ß√£o <em>Iniciar</em> registra esse script como um manipulador de eventos para o <em>TrackableBehaviour</em> (nesse caso, <em>ImageTargetBehaviour</em> ). </li><li>  <em>OnDestroy</em> remove esse link. </li><li>  <em>OnTrackableStateChanged</em> √© a fun√ß√£o mais importante.  O c√≥digo dela diz o que deve acontecer quando o estado de rastreamento √© alterado. </li><li>  <em>OnTrackingFound</em> e <em>OnTrackingLost</em> s√£o chamados de <em>OnTrackableStateChanged</em> .  No <em>DefaultTrackableEventHandler,</em> eles alternam os componentes <em>Renderer</em> , <em>Collider</em> e <em>Canvas</em> de qualquer filho. </li></ul><br>  Quando a c√¢mera detecta uma imagem, ela n√£o move mais a <em>C√¢mera AR</em> ;  ela tamb√©m ordena que o GameObject <em>Pizza</em> ative todos os seus componentes <em>Renderer</em> e, quando a imagem desaparece da c√¢mera, ele novamente ordena que os desative. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b82/21c/7de/b8221c7de8529c1a8120f54a69ec4136.png"></div><br>  Diger esta informa√ß√£o por enquanto. <br><br><h2>  Crie suas pr√≥prias a√ß√µes de rastreamento </h2><br>  √â hora de fazer algo com esta informa√ß√£o! <br><br>  Remova o componente <em>DefaultTrackableEventHandler</em> do <em>ImageTarget</em> .  Em seguida, adicione o <em>PizzaTrackableEventHandler</em> , que pode ser encontrado na pasta <em>Scripts</em> .  Em seguida, abra <em>PizzaTrackableEventHandler</em> .  Este √© um clone de <em>DefaultTrackableEventHandler</em> , mas o c√≥digo em <em>OnTrackingFound</em> e <em>OnTrackingLost foi</em> exclu√≠do - <em>voc√™</em> precisa resolver esse problema! <br><br>  Habilitar e desabilitar os componentes do <em>Renderer</em> √© √∫til em quase todos os aplicativos de recupera√ß√£o de direitos, ent√£o vamos recuperar esse c√≥digo.  Se voc√™ ficar preso, voc√™ pode copi√°-lo do <em>DefaultTrackableEventHandler</em> ou encontr√°-lo no spoiler abaixo. <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTrackingFound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rendererComponents = GetComponentsInChildren&lt;Renderer&gt;(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Enable rendering: foreach (var component in rendererComponents) { component.enabled = true; } } protected virtual void OnTrackingLost() { var rendererComponents = GetComponentsInChildren&lt;Renderer&gt;(true); // Enable rendering: foreach (var component in rendererComponents) { component.enabled = false; } }</span></span></code> </pre> </div></div><br>  Estamos prontos para transformar esse projeto em um jogo de realidade aumentada! <br><br>  Veja a interface do usu√°rio e encontre o bot√£o que o jogador precisa pressionar para concluir a pizza. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c6/e2c/691/1c6e2c691d437d380f9ec2bc3a743935.png"></div><br>  Como voc√™ pode ver, quando um bot√£o √© pressionado, o evento <code>GameManager.CompleteOrder()</code> chamado.  Em vez de for√ßar o jogador a pressionar o bot√£o, verifique se ele "serviu" a pizza para concluir o pedido (movendo o rastreador para fora da visibilidade da c√¢mera). <br><br>  No in√≠cio de <em>PizzaTrackableEventHandler,</em> adicione um <em>UnityEvent</em> para chamar quando Image perder o rastreamento. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Vuforia; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.Events; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PizzaTrackableEventHandler</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">ITrackableEventHandler</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> UnityEvent OnTrackingLostEvent; ...</code> </pre> <br>  Agora vamos chamar o evento no m√©todo <em>OnTrackingLost</em> : <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTrackingLost</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rendererComponents = GetComponentsInChildren&lt;Renderer&gt;(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Enable rendering: foreach (var component in rendererComponents) { component.enabled = false; } //Trigger our event OnTrackingLostEvent.Invoke(); }</span></span></code> </pre> <br>  Isso torna o <em>PizzaTrackableEventHandler</em> mais flex√≠vel, porque agora podemos definir a execu√ß√£o de qualquer a√ß√£o se o rastreamento for perdido.  Salve o <em>PizzaTrackableEventHandler</em> , retorne ao Unity Editor e aguarde a conclus√£o da compila√ß√£o.  Quando terminar, fa√ßa com que <code>GameManager.CompleteOrder()</code> chamado quando o rastreador de pizza de rastreamento for perdido.  Por fim, desative ou remova o <em>CompleteOrderButton</em> na interface do usu√°rio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d30/cf5/c73/d30cf5c73272cda70762935e43609f56.gif"></div><br>  Salve a cena, clique em <em>Reproduzir</em> e sirva pizza! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2fd/9fb/a10/2fd9fba107a348f34cc8dd71518471a3.gif"></div><br><h2>  Para onde ir a seguir </h2><br>  Parab√©ns, voc√™ concluiu o tutorial! <br><br>  Um exemplo de projeto pode ser baixado <a href="">aqui</a> . <br><br>  Para obter mais informa√ß√µes sobre como desenvolver o Vuforia no Unity, consulte a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">Biblioteca do desenvolvedor</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">Vuforia</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">o tutorial do Unity</a> . <br><br>  N√£o se esque√ßa de configurar uma conta de desenvolvedor no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">portal Vuforia</a> .  Voc√™ tamb√©m pode tentar enviar v√°rios rastreadores diferentes para verificar como eles s√£o rastreados. <br><br>  Para mais detalhes, leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener">os bot√µes virtuais</a> .  O site da Vuforia possui materiais de amostra.  Verifique se voc√™ pode criar esses bot√µes virtuais para substituir a interface do usu√°rio em um jogo de pizza. <br><br>  Crie novas id√©ias para jogos de realidade aumentada.  Talvez este seja um jogo de luta com cartas em que criaturas pulam diretamente das cartas?  E em defesa da torre, onde voc√™ controla um helic√≥ptero de combate usando seu telefone? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440592/">https://habr.com/ru/post/pt440592/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440582/index.html">Os carros el√©tricos s√£o puxados para o fundo da corpora√ß√£o automobil√≠stica?</a></li>
<li><a href="../pt440584/index.html">O que h√° de errado com o Raspberry Pi</a></li>
<li><a href="../pt440586/index.html">Consenso Exonum: Como Funciona</a></li>
<li><a href="../pt440588/index.html">O MIT aprendeu a transmitir som com um laser</a></li>
<li><a href="../pt440590/index.html">Onde est√£o as pernas do Java Memory Model</a></li>
<li><a href="../pt440594/index.html">1C e Yandex, computa√ß√£o em nuvem. Para cima e para baixo</a></li>
<li><a href="../pt440596/index.html">Flightradar24 - como funciona?</a></li>
<li><a href="../pt440598/index.html">Sonda InSight Marciana funciona com sucesso no Planeta Vermelho</a></li>
<li><a href="../pt440600/index.html">Quantos nomes de dom√≠nio .com n√£o s√£o usados?</a></li>
<li><a href="../pt440602/index.html">Dunning com Kruger, S√≥crates e os c√≠rculos do conhecimento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>