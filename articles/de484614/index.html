<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ò†Ô∏è üë¶üèª üë∏üèæ 6 Empfehlungen f√ºr die Entwicklung sicherer Go-Anwendungen üç± üóûÔ∏è üë®‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In den letzten Jahren hat sich Golang immer weiter verbreitet. Erfolgreiche Projekte wie Docker, Kubernetes und Terraform haben gro√üe Eins√§tze in dies...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>6 Empfehlungen f√ºr die Entwicklung sicherer Go-Anwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/484614/">  In den letzten Jahren hat sich Golang immer weiter verbreitet.  Erfolgreiche Projekte wie Docker, Kubernetes und Terraform haben gro√üe Eins√§tze in dieser Programmiersprache gemacht.  Go ist zum De-facto-Standard f√ºr die Erstellung von Befehlszeilentools geworden.  Und wenn wir √ºber Sicherheit sprechen, stellt sich heraus, dass in diesem Bereich bei Go alles in bester Ordnung ist.  Seit 2002 wurde n√§mlich nur <a href="https://www.cvedetails.com/vendor/1485/Golang.html">eine</a> Golang-Sicherheitsl√ºcke in der CVE-Registrierung registriert. <br><br>  Die Tatsache, dass die Programmiersprache keine Sicherheitsl√ºcken aufweist, bedeutet jedoch nicht, dass jede in dieser Sprache geschriebene Anwendung absolut sicher ist.  Wenn der Entwickler sich nicht an bestimmte Empfehlungen h√§lt, kann er auch in einer solchen Sprache eine ungesch√ºtzte Anwendung erstellen.  Im Fall von Go finden Sie √§hnliche Empfehlungen in den <a href="https://www.owasp.org/index.php/OWASP_Secure_Coding_Practices_-_Quick_Reference_Guide">OWASP-</a> Materialien. <br><br><img src="https://habrastorage.org/webt/xc/f0/b_/xcf0b_xlknav3wjietldqa1nexc.jpeg"><br><br>  Der Autor des Artikels, dessen √úbersetzung wir heute ver√∂ffentlichen, formulierte auf der Grundlage von OWASP-Daten 6 Empfehlungen f√ºr die Entwicklung sicherer Anwendungen auf Go. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. √úberpr√ºfen Sie die Benutzereingaben</font> </h2><br>  Die Validierung der vom Benutzer eingegebenen Daten ist nicht nur erforderlich, um das ordnungsgem√§√üe Funktionieren der Anwendung sicherzustellen.  Sie zielt auch auf die Bek√§mpfung von Eindringlingen ab, die mit Hilfe von Daten, die auf besondere Weise aufbereitet wurden, versuchen, das System zu st√∂ren.  Durch die √úberpr√ºfung der Benutzerdaten k√∂nnen Benutzer sicherer mit der Anwendung arbeiten, da sie vor h√§ufigen Fehlern gesch√ºtzt sind.  Durch die Analyse von Benutzerbefehlen k√∂nnen Sie beispielsweise verhindern, dass versucht wird, mehrere Datens√§tze gleichzeitig zu l√∂schen, wenn eine solche Aktion zu einer Fehlfunktion des Systems f√ºhren kann. <br><br>  Sie k√∂nnen standardm√§√üige Go-Pakete verwenden, um Benutzereingaben zu √ºberpr√ºfen.  <code>strconv</code> Paket <code>strconv</code> Sie beispielsweise Zeichenfolgendaten in andere Datentypen konvertieren.  Go unterst√ºtzt dank <code>regexp</code> auch regul√§re Ausdr√ºcke.  Sie k√∂nnen verwendet werden, um komplexe Datenvalidierungsskripten zu implementieren.  Obwohl in der Entwicklungsumgebung von Go in der Regel Standardbibliotheken bevorzugt werden, gibt es Pakete von Drittanbietern, mit denen Daten √ºberpr√ºft werden sollen.  Zum Beispiel <a href="https://github.com/go-playground/validator">Validator</a> .  Mit diesem Paket k√∂nnen komplexe Datenstrukturen oder einzelne Werte auf einfache Weise √ºberpr√ºft werden.  Der folgende Code √ºberpr√ºft beispielsweise die <code>User</code> auf die Richtigkeit der darin enthaltenen E-Mail-Adresse: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>  <span class="hljs-string"><span class="hljs-string">"gopkg.in/go-playground/validator.v9"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> User <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {  Email <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`json:"email" validate:"required,email"`</span></span>  Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-string"><span class="hljs-string">`json:"name" validate:"required"`</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  v := validator.New()  a := User{    Email: <span class="hljs-string"><span class="hljs-string">"a"</span></span>,  }  err := v.Struct(a)  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _, e := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> err.(validator.ValidationErrors) {    fmt.Println(e)  } }</code> </pre> <br><h2>  <font color="#3AC1EF">2. Verwenden Sie HTML-Vorlagen</font> </h2><br>  XSS (Cross Site Scripting, Cross Site Scripting) ist eine schwerwiegende und weit verbreitete Sicherheitsanf√§lligkeit.  Die XSS-Sicherheitsanf√§lligkeit erm√∂glicht es einem Angreifer, sch√§dlichen Code in die Anwendung einzuf√ºgen, der sich auf die von der Anwendung generierten Daten auswirken kann.  Beispielsweise kann jemand JavaScript-Code als Teil einer Abfragezeichenfolge in einer URL an die Anwendung senden.  Wenn die Anwendung eine solche Anforderung verarbeitet, kann dieser JavaScript-Code ausgef√ºhrt werden.  Infolgedessen sollte der Anwendungsentwickler dies erwarten und die vom Benutzer empfangenen Daten bereinigen. <br><br>  Go verf√ºgt √ºber ein HTML- <a href="https://golang.org/pkg/html/template/">/ Vorlagenpaket</a> , mit dem Sie HTML-Code generieren k√∂nnen, der vor b√∂swilligen Fragmenten gesch√ºtzt ist.  Infolgedessen erkennt der Browser, der die angegriffene Anwendung anzeigt, anstelle von Code wie <code>&lt;script&gt;alert('You've Been Hacked!');&lt;/script&gt;</code> , der den Benutzer dar√ºber informiert, dass er gehackt wurde, b√∂sartigen JavaScript-Code als Klartext .  So sieht ein HTTP-Server mit HTML-Vorlagen aus: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"html/template"</span></span>  <span class="hljs-string"><span class="hljs-string">"net/http"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span></span></span> {  param1 := r.URL.Query().Get(<span class="hljs-string"><span class="hljs-string">"param1"</span></span>)  tmpl := template.New(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>)  tmpl, _ = tmpl.Parse(<span class="hljs-string"><span class="hljs-string">`{{define "T"}}{{.}}{{end}}`</span></span>)  tmpl.ExecuteTemplate(w, <span class="hljs-string"><span class="hljs-string">"T"</span></span>, param1) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  http.HandleFunc(<span class="hljs-string"><span class="hljs-string">"/"</span></span>, handler)  http.ListenAndServe(<span class="hljs-string"><span class="hljs-string">":8080"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) }</code> </pre> <br>  Es gibt Bibliotheken von Drittanbietern, die Sie beim Entwickeln von Webanwendungen auf Go verwenden k√∂nnen.  Angenommen, dies ist das <a href="https://www.gorillatoolkit.org/">Gorilla-Web-Toolkit</a> .  Dieses Toolkit enth√§lt Bibliotheken, die dem Entwickler helfen, beispielsweise Werte in Authentifizierungscookies zu codieren.  Und hier ist ein weiteres Projekt - <a href="https://github.com/justinas/nosurf">nosurf</a> .  Dies ist ein HTTP-Paket, mit dessen Hilfe <a href="https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)">CSRF-</a> Angriffe verhindert werden. <br><br><h2>  <font color="#3AC1EF">3. Sch√ºtzen Sie Ihr Projekt vor SQL Injection</font> </h2><br>  Wenn Sie nicht neu in der Webentwicklung sind, kennen Sie wahrscheinlich SQL-Injection-Angriffe (mithilfe einer Methode zum Injizieren von beliebigem SQL-Code in Abfragen).  Die entsprechende Schwachstelle steht weiterhin an erster Stelle im <a href="https://www.owasp.org/images/7/72/OWASP_Top_10-2017_%2528en%2529.pdf.pdf">OWASP Top 10</a> Ranking.  Um Anwendungen vor SQL Injection zu sch√ºtzen, m√ºssen Sie einige Funktionen ber√ºcksichtigen.  Das erste, was sichergestellt werden muss, ist, dass der Benutzer, der eine Verbindung zur Datenbank herstellt, eingeschr√§nkte Berechtigungen hat.  Es wird au√üerdem empfohlen, die vom Benutzer eingegebenen Daten zu l√∂schen, √ºber die wir bereits gesprochen haben, oder Sonderzeichen zu <a href="https://golang.org/pkg/html/template/">umgehen</a> und die <a href="https://golang.org/pkg/html/template/">HTMLEscapeString-</a> Funktion aus dem <code>html/template</code> Paket zu verwenden. <br><br>  Das Wichtigste beim Schutz vor SQL-Injection ist jedoch die Verwendung von parametrisierten Abfragen (vorbereiteten Ausdr√ºcken).  In Go werden Ausdr√ºcke nicht f√ºr eine Verbindung, sondern f√ºr eine Datenbank vorbereitet.  Hier ist ein Beispiel f√ºr die Verwendung parametrisierter Abfragen: <br><br><pre> <code class="go hljs">customerName := r.URL.Query().Get(<span class="hljs-string"><span class="hljs-string">"name"</span></span>) db.Exec(<span class="hljs-string"><span class="hljs-string">"UPDATE creditcards SET name=? WHERE customerId=?"</span></span>, customerName, <span class="hljs-number"><span class="hljs-number">233</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>)</code> </pre> <br>  Was aber, wenn das Datenbankmodul die Verwendung vorbereiteter Ausdr√ºcke nicht unterst√ºtzt?  Was aber, wenn dies die Abfrageleistung beeintr√§chtigt?  In solchen F√§llen k√∂nnen Sie die Funktion <code>db.Query()</code> verwenden, aber zuerst m√ºssen Sie daran denken, die Benutzereingaben zu l√∂schen.  Um Angriffe mit SQL Injection zu verhindern, k√∂nnen Sie Bibliotheken von <a href="https://github.com/sqlmapproject/sqlmap">Drittanbietern</a> wie <a href="https://github.com/sqlmapproject/sqlmap">sqlmap verwenden</a> . <br><br>  Es sollte beachtet werden, dass trotz aller Bem√ºhungen, Anwendungen vor SQL-Angriffen zu sch√ºtzen, Angreifer diese Angriffe manchmal immer noch erfolgreich ausf√ºhren k√∂nnen.  Sprich - durch externe Anwendungsabh√§ngigkeiten.  Um die Projektsicherheit zu erh√∂hen, k√∂nnen Sie die Anwendungssicherheit mit den entsprechenden Tools √ºberpr√ºfen.  Zum Beispiel die Tools der <a href="https://www.sqreen.com/">Sqreen-</a> Plattform. <br><br><h2>  <font color="#3AC1EF">4. Verschl√ºsseln Sie wichtige Informationen</font> </h2><br>  Wenn eine Person beispielsweise in der BASE64-Codierung eine bestimmte Zeichenfolge nicht lesen kann, bedeutet dies nicht, dass die darin verborgenen Informationen zuverl√§ssig gesch√ºtzt sind.  Daher m√ºssen wichtige Informationen verschl√ºsselt werden, um sie vor Eindringlingen zu sch√ºtzen, die Zugriff auf verschl√ºsselte Daten erhalten k√∂nnen.  Normalerweise verschl√ºsselte Informationen wie Datenbankkennw√∂rter, Benutzerkennw√∂rter, pers√∂nliche Benutzerdaten. <br><br>  Im Rahmen des OWASP-Projekts werden einige <a href="https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html">Empfehlungen</a> zu bevorzugten Verschl√ºsselungsalgorithmen ausgesprochen.  Zum Beispiel ist es <code>bcrypt</code> , <code>PDKDF2</code> , <code>Argon2</code> , <code>scrypt</code> .  Es gibt ein Paket Go, <a href="https://godoc.org/golang.org/x/crypto">crypto</a> , das zuverl√§ssige Implementierungen verschiedener Verschl√ºsselungsalgorithmen enth√§lt.  Hier ist ein Beispiel mit dem <code>bcrypt</code> Algorithmus: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"database/sql"</span></span>  <span class="hljs-string"><span class="hljs-string">"context"</span></span>  <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>  <span class="hljs-string"><span class="hljs-string">"golang.org/x/crypto/bcrypt"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  ctx := context.Background()  email := []<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>(<span class="hljs-string"><span class="hljs-string">"john.doe@somedomain.com"</span></span>)  password := []<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>(<span class="hljs-string"><span class="hljs-string">"47;u5:B(95m72;Xq"</span></span>)  hashedPassword, err := bcrypt.GenerateFromPassword(password, bcrypt.DefaultCost)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err)  }  stmt, err := db.PrepareContext(ctx, <span class="hljs-string"><span class="hljs-string">"INSERT INTO accounts SET hash=?, email=?"</span></span>)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err)  }  result, err := stmt.ExecContext(ctx, hashedPassword, email)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err)  } }</code> </pre> <br>  Beachten Sie, dass Sie auch bei Verwendung der Verschl√ºsselung f√ºr die sichere √úbertragung von Informationen zwischen Diensten sorgen m√ºssen.  Beispielsweise sollten Sie das Kennwort des Benutzers nicht im Klartext √ºbertragen, selbst wenn es verschl√ºsselt gespeichert ist.  Bei der √úbertragung von Daten im Internet ist von der Annahme auszugehen, dass sie von einem Angreifer abgefangen werden k√∂nnen, der Daten von Anforderungen sammelt, die in einem bestimmten System ausgef√ºhrt werden.  Der Angreifer kann die gesammelten Informationen mit den von anderen Systemen empfangenen Daten abgleichen und dadurch das f√ºr ihn interessante Projekt knacken. <br><br><h2>  <font color="#3AC1EF">5. HTTPS erzwingen</font> </h2><br>  Heutzutage ben√∂tigen die meisten Browser Sites, die mit ihnen ge√∂ffnet werden, um HTTPS zu unterst√ºtzen.  Chrome zeigt beispielsweise eine Benachrichtigung in der Adressleiste an, wenn Daten mit der Site ohne Verwendung von HTTPS ausgetauscht werden.  In einer Organisation, die ein bestimmtes Projekt unterst√ºtzt, kann eine Sicherheitsrichtlinie angewendet werden, die darauf abzielt, einen sicheren Datenaustausch zwischen den Diensten zu organisieren, aus denen dieses Projekt besteht.  Um die Sicherheit der Verbindungen zu gew√§hrleisten, muss daher nicht nur darauf geachtet werden, dass die Anwendung an Port 443 empfangsbereit ist. Das Projekt muss √ºber die entsprechenden Zertifikate verf√ºgen. Au√üerdem muss die erzwungene Verwendung von HTTPS organisiert werden, um zu verhindern, dass der Angreifer auf den HTTP-Datenaustausch umschaltet. <br><br>  Hier ist eine Beispielanwendung, die HTTPS erzwingt: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"crypto/tls"</span></span>  <span class="hljs-string"><span class="hljs-string">"log"</span></span>  <span class="hljs-string"><span class="hljs-string">"net/http"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  mux := http.NewServeMux()  mux.HandleFunc(<span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(w http.ResponseWriter, req *http.Request)</span></span></span></span> {    w.Header().Add(<span class="hljs-string"><span class="hljs-string">"Strict-Transport-Security"</span></span>, <span class="hljs-string"><span class="hljs-string">"max-age=63072000; includeSubDomains"</span></span>)    w.Write([]<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>(<span class="hljs-string"><span class="hljs-string">"This is an example server.\n"</span></span>))  })  cfg := &amp;tls.Config{    MinVersion:        tls.VersionTLS12,    CurvePreferences:     []tls.CurveID{tls.CurveP521, tls.CurveP384, tls.CurveP256},    PreferServerCipherSuites: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,    CipherSuites: []<span class="hljs-keyword"><span class="hljs-keyword">uint16</span></span>{      tls.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,      tls.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,      tls.TLS_RSA_WITH_AES_256_GCM_SHA384,      tls.TLS_RSA_WITH_AES_256_CBC_SHA,    },  }  srv := &amp;http.Server{    Addr:     <span class="hljs-string"><span class="hljs-string">":443"</span></span>,    Handler:   mux,    TLSConfig:  cfg,    TLSNextProto: <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*http.Server, *tls.Conn, http.Handler)</span></span></span><span class="hljs-function">, 0),  }  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Fatal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(srv.ListenAndServeTLS("tls.crt", "tls.key")</span></span></span><span class="hljs-function">) }</span></span></code> </pre> <br>  Bitte beachten Sie, dass die Anwendung auf Port 443 lauscht. Und hier ist die Leitung, die f√ºr die erzwungene Verwendung von HTTPS verantwortlich ist: <br><br><pre> <code class="go hljs">w.Header().Add(<span class="hljs-string"><span class="hljs-string">"Strict-Transport-Security"</span></span>, <span class="hljs-string"><span class="hljs-string">"max-age=63072000; includeSubDomains"</span></span>)</code> </pre> <br>  Dar√ºber hinaus kann die Angabe des Servernamens in der TLS-Konfiguration sinnvoll sein: <br><br><pre> <code class="go hljs">config := &amp;tls.Config{ServerName: <span class="hljs-string"><span class="hljs-string">"yourSiteOrServiceName"</span></span>}</code> </pre> <br>  Es wird empfohlen, dass Sie immer die Verschl√ºsselung von Daten verwenden, die zwischen Teilen des Systems √ºbertragen werden, auch wenn die Webanwendung eine Art internes Chat-Unternehmen ist.  Stellen Sie sich die m√∂glichen Folgen eines Angriffs vor, bei dem ein Angreifer Anwendungsdaten abf√§ngt, die √ºber ein Netzwerk √ºbertragen werden.  Wann immer m√∂glich, lohnt es sich, sich auf m√∂gliche Angriffe auf das Projekt vorzubereiten, um das Leben der Angreifer so weit wie m√∂glich zu verkomplizieren. <br><br><h2>  <font color="#3AC1EF">6. Achten Sie auf Fehlerbehandlung und Protokollierung.</font> </h2><br>  Dieser Artikel ist der letzte auf unserer Liste, aber definitiv nicht der letzte, der an Bedeutung gewinnt.  Hier geht es um Fehlerbehandlung und Protokollierung. <br><br>  Um die in der Produktion auftretenden Probleme rechtzeitig zu bew√§ltigen, m√ºssen Sie die Anwendung mit entsprechenden Werkzeugen ausstatten.  Gleichzeitig sollten Sie sehr vorsichtig mit Fehlermeldungen sein, die Benutzern angezeigt werden.  Sie sollten dem Benutzer nicht mitteilen, was schief gelaufen ist.  Tatsache ist, dass ein Angreifer diese Informationen verwenden kann, um herauszufinden, welche Dienste und Technologien im Projekt verwendet werden.  Dar√ºber hinaus ist daran zu erinnern, dass die Protokolle, obwohl sie normalerweise in einem positiven Licht wahrgenommen werden, irgendwo gespeichert werden.  Wenn das Anwendungsprotokoll in die falschen H√§nde ger√§t, kann die Analyse der darin enthaltenen Informationen dazu beitragen, das Projekt anzugreifen. <br><br>  Das Erste, was hier ber√ºcksichtigt werden muss, ist, dass es keine Ausnahmen f√ºr Go gibt.  Dies bedeutet, dass Fehler in Anwendungen, die in Go geschrieben wurden, nicht so behandelt werden wie Fehler in Anwendungen, die in anderen Sprachen geschrieben wurden.  Normalerweise sieht es so aus: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br>  Dar√ºber hinaus verf√ºgt Go √ºber eine Standardbibliothek f√ºr die Arbeit mit Protokollen, die als <code>log</code> .  Hier ist ein einfaches Beispiel f√ºr seine Verwendung: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"log"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  log.Print(<span class="hljs-string"><span class="hljs-string">"Logging in Go!"</span></span>) }</code> </pre> <br>  Es gibt Bibliotheken von Drittanbietern f√ºr die Organisation der Protokollierung.  Zum Beispiel ist dies <code>logrus</code> , <code>glog</code> , <code>loggo</code> .  Hier ist ein kleines Beispiel f√ºr die Verwendung von <code>logrus</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (  <span class="hljs-string"><span class="hljs-string">"os"</span></span>  log <span class="hljs-string"><span class="hljs-string">"github.com/sirupsen/logrus"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {  file, err := os.OpenFile(<span class="hljs-string"><span class="hljs-string">"info.log"</span></span>, os.O_CREATE|os.O_APPEND, <span class="hljs-number"><span class="hljs-number">0644</span></span>)  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> {    log.Fatal(err)  }  <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> file.Close()  log.SetOutput(file)  log.SetFormatter(&amp;log.JSONFormatter{})  log.SetLevel(log.WarnLevel)  log.WithFields(log.Fields{    <span class="hljs-string"><span class="hljs-string">"animal"</span></span>: <span class="hljs-string"><span class="hljs-string">"walrus"</span></span>,    <span class="hljs-string"><span class="hljs-string">"size"</span></span>:  <span class="hljs-number"><span class="hljs-number">10</span></span>,  }).Info(<span class="hljs-string"><span class="hljs-string">"A group of walrus emerges from the ocean"</span></span>) }</code> </pre> <br>  Verwenden Sie schlie√ülich beim Arbeiten mit Daten, die in die Protokolle fallen, die Sicherheitsempfehlungen, die wir bereits besprochen haben.  Insbesondere l√∂schen und verschl√ºsseln Sie solche Daten. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Die hier gegebenen Empfehlungen sind ein Minimum, das ein in Go geschriebenes Projekt haben sollte.  Wenn es sich bei dem betreffenden Projekt jedoch um ein Befehlszeilendienstprogramm handelt, muss kein Schutz f√ºr den √ºber das Netzwerk √ºbertragenen Datenverkehr implementiert werden.  Die restlichen Tipps gelten f√ºr nahezu jede Art von Anwendung.  Wenn Sie sich eingehend mit dem Thema der Entwicklung sicherer Anwendungen auf Go <a href="https://github.com/OWASP/Go-SCP">befassen</a> m√∂chten, <a href="https://github.com/OWASP/Go-SCP">lesen Sie das OWASP-Buch</a> zu diesem Thema.  Und <a href="https://github.com/guardrailsio/awesome-golang-security">hier</a> ist ein Repository, das Links zu verschiedenen Tools enth√§lt, die die Sicherheit von Go-Anwendungen gew√§hrleisten sollen. <br><br>  Was auch immer Sie im Bereich der Sicherung Ihrer Anwendungen tun, denken Sie daran, dass die Sicherheit immer verbessert werden kann und Angreifer st√§ndig neue Angriffsm√∂glichkeiten finden.  Daher m√ºssen Sie den Anwendungsschutz nicht von Fall zu Fall, sondern st√§ndig durchf√ºhren. <br><br>  <b>Sehr geehrte Leser!</b>  Wie sch√ºtzen Sie Ihre in Go geschriebenen Anwendungen? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484614/">https://habr.com/ru/post/de484614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484600/index.html">Microsoft Ignite The Tour Prague - Technische Konferenz</a></li>
<li><a href="../de484602/index.html">Buch ‚ÄûEntwicklung mobiler Anwendungen in C # f√ºr iOS und Android‚Äú</a></li>
<li><a href="../de484604/index.html">Neues Jahr, neuer Browser: Microsoft Edge ist noch nicht fertig und kann jetzt heruntergeladen werden</a></li>
<li><a href="../de484610/index.html">Auf Wiedersehen sauberer Code</a></li>
<li><a href="../de484612/index.html">Optimierung der Projekterstellungszeit</a></li>
<li><a href="../de484616/index.html">6 Erkenntnisse aus Node.js Erfahrung in der Optimierung der Serviceleistung</a></li>
<li><a href="../de484618/index.html">Angular 9 und Ivy: Faulen Laden von Komponenten</a></li>
<li><a href="../de484620/index.html">Neuer PS1-Grafik-Renderer f√ºr Omega Red Emulator</a></li>
<li><a href="../de484624/index.html">Intervall-Fasten und Lebensverl√§ngerungsmuster</a></li>
<li><a href="../de484628/index.html">Eric Ciaramella als Beispiel f√ºr Zensur bei Wikipedia / Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>