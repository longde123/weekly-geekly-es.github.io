<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ωüèø üë©üèø‚Äçüåæ üò¶ Cr√©ation de composants personnalis√©s pour Bootstrap 4 üíÖüèø üëß üîµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'opinion publique a traduit Bootstrap dans la cat√©gorie des frameworks l√©gendaires du pass√©, mais cela vaut toujours la peine d'√™tre regard√©. Bootstr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cr√©ation de composants personnalis√©s pour Bootstrap 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416235/"><p><img src="https://habrastorage.org/webt/gm/os/o0/gmoso05v9ay78e90jed0lo0jqz4.jpeg"></p><br><p>  L'opinion publique a traduit Bootstrap dans la cat√©gorie des frameworks l√©gendaires du pass√©, mais cela vaut toujours la peine d'√™tre regard√©.  Bootstrap 4 est un excellent navigateur pour une mise en page s√ªre et, surtout, un exemple d'approche <strong>HTML sur JS</strong> pour cr√©er des applications Web, r√©v√®le pleinement les capacit√©s existantes de HTML pour la description d√©clarative de l'interface utilisateur. </p><br><p> Et comment le code du framework JavaScript se d√©veloppe est √©galement utile pour avoir une id√©e.  L'architecture des plugins <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jQuery</a> est toujours en cours d'utilisation, mais √† partir de la version 4, elle est envelopp√©e par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rollup</a> dans le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ES6</a> classes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">transform√© √† l'</a> aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Babel6</a> .  jQuery ne sera probablement pas bient√¥t du tout - plus √† ce sujet plus tard - mais pour l'instant, sur l'exemple de la cr√©ation de votre propre plugin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BsMultiSelect</a> , sur la m√™me pile que <strong>Boostrap 4</strong> , les fonctionnalit√©s de d√©veloppement du framework seront r√©v√©l√©es. </p><a name="habracut"></a><br><h2 id="pochemu-kazhdyy-programmist-dolzhen-napisat-svoy-">  Pourquoi " <em>chaque programmeur devrait √©crire le sien ...</em> " </h2><br><p> " <em>Am√©liorer le bon seul butin</em> ."  Le besoin de comprendre ce que le nouveau Bootstrap a obtenu √©tait le transfert de ses composants vers la nouvelle pile, et combien il est maintenant plus facile de cr√©er des composants de haut niveau.  Tout semblait simple: combinez <code>.form-control</code> , <code>.badge</code> et <code>.dropdown-menu</code> et vous pouvez facilement obtenir une multi-s√©lection ... </p><br><p><img src="https://habrastorage.org/webt/tu/-9/mu/tu-9munyxhcouzrd0vjvzvfzlg0.png"></p><br><h2 id="konflikt-arhitektur-s-poroga">  Conflit d'architecture depuis la porte </h2><br><p>  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plug-</a> in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BsMultiSelect</a> r√©sultant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n'utilise pas</a> directement le code JS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bootstrap.js</a> , mais utilise sa d√©pendance, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">popper.js</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">framework</a> pop-up vanilla).  En effet, le <a href="">composant d√©roulant de bootstrap.js</a> doit trouver l'√©l√©ment dit bascule lors de l'initialisation dans le DOM (dans le cas particulier, c'est un bouton qui ouvre le menu), s'il ne le trouve pas, il se bloque avec une erreur (puisque je cr√©e directement √† partir de js, j'ai des "boutons" bien s√ªr que non).  Conclusion: les composants affin√©s sous "HTML sur JS" ne peuvent pas (ou d√©savantageusement) √™tre cr√©√©s directement √† partir de JS.  Conclusion num√©ro deux: vous devez programmer des composants personnalis√©s pour que sous le composant "HTML sur JS", il y ait toujours un composant plus l√©ger de "pure JS".  J'ai ce <a href="">MulitSelect.js</a> compl√®tement effac√© non seulement du code mais aussi des styles Bootstrap.  MulitSelect.js joue le m√™me r√¥le pour BsMulitSelect.js, tout comme popper.js pour dropdown.js. </p><br><h2 id="dva-slova-o-popperjs">  Deux mots sur popper.js </h2><br><p>  Grande biblioth√®que - une fonction.  DropDown.js se r√©p√®te mais fournit une interface compl√®tement limit√©e (encore une fois, car dans "HTML sur JS", l'API enti√®re n'est pas n√©cessaire).  Popper a un probl√®me plus ouvert que nous ne le souhaiterions.  J'ai √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©√ßu</a> que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sous IE11, il publie des √©v√©nements pas comme sous Chrome</a> . </p><br><h2 id="o-perehode-ot-iife-k-classam">  √Ä propos de la transition de l'IFEF aux cours </h2><br><p>  <a href="">Le passe-partout standard du plugin jQuery</a> consiste √† d√©finir la fonction constructeur dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IIFE</a> .  Maintenant, c'est une classe √† l'int√©rieur de IIFE.  Ouverture: les anciennes fa√ßons fonctionnelles de faire des m√©thodes priv√©es entrent en conflit avec le lambda ES6, donc elles ont √©t√© "abandonn√©es" dans Bootstrap.  Toutes les m√©thodes sont publiques, tandis que les m√©thodes pseudo-priv√©es sont pr√©fix√©es par _ c'est-√†-dire  undercrore.  Je comprends que je me trompe, mais je respecte mes conventions - "m√©thodes publiques avec une majuscule".  Dans tout le reste, BsMultiSelect a cr√©√© l'adoption de l'accord du DropDown.js "standard", c'est-√†-dire  Je voudrais le repr√©senter comme une sorte de passe-partout avec de la viande. </p><br><div class="spoiler">  <b class="spoiler_title">cependant, une autre diff√©rence, puisqu'il y a un rollup, j'ai frapp√© les fichiers ..</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> $ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'jquery'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AddToJQueryPrototype <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./AddToJQueryPrototype'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MultiSelect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./MultiSelect'</span></span> <span class="hljs-comment"><span class="hljs-comment">// ... ( (window, $) =&gt; { AddToJQueryPrototype('BsMultiSelect', (element, optionsObject, onDispose) =&gt; { // ... return new MultiSelect(element, optionsObject, onDispose, facade, window, $); }, $); } )(window, $)</span></span></code> </pre> </div></div><br><p>  Nouvel accord: le plugin <a href="">devrait publier le constructeur</a> - afin de ne pas perdre le constructeur dans IIFE.  Oui, un IIFE doit rester - personne n'a supprim√© la t√¢che de d√©finir les d√©pendances de fen√™tre, $ et Popper (pour ceux qui "ne peuvent pas entrer dans les modules") de mani√®re standard. </p><br><h2 id="konfiguracii-linterov-eslint-i-stylelint">  Configurations d'Eslint et Stylelint Linter </h2><br><p>  Je ne me sentais pas oblig√© de suivre les r√®gles draconiennes pour styliser le code Bootstrap.  Certes, ils √©crivent dans un environnement qui les aide √† d√©finir des espaces et la rigueur du contr√¥le des sources est tr√®s bonne, mais il est difficile pour moi d'√©couter chaque seconde la douleur du linter dans VS Code.  Lorsque vous √©crivez votre propre plugin, les r√®gles peuvent et doivent √™tre consid√©rablement assouplies. </p><br><p>  Eslint, stylelint peut ne pas sortir trop souvent, mais il n'y a aucun d√©sir de regarder les nouvelles r√®gles.  √Ä tous √©gards, cette r√©alisation m'√©nerve davantage. </p><br><h2 id="organizaciya-koda-i-rollup">  Code d'organisation et cumul </h2><br><p>  Le code redistribuable ES6 de Bootstrap est empaquet√© par cumul en deux versions: <strong>bootstrap.js</strong> autonome et bundle <strong>bootstrap.bundle.js</strong> - ce dernier inclut popper.js. </p><br><p>  L'auteur de rollup.config.js a des instincts √©trangers √† moi.  <a href="">Toute cette transformation de configuration</a> par push et pop, selon la version requise de autonome ou de bundle, semble √©labor√©e et intimidante, heureusement, pour √©crire un plug-in, vous n'avez besoin que d'un seul type de bundle "autonome" et je n'ai pas √† prouver que je peux faire mieux. </p><br><p>  La version autonome de Bootstrap est √©galement indiqu√©e dans le champ principal du package, c'est-√†-dire  Les d√©pendances npm sont r√©solues dans le m√™me fichier que les utilisateurs chargent via <code>&lt;script&gt;</code> .  Ce n'est pas une solution sans ambigu√Øt√©, mais mon plugin <strong>BsMultiSelect a</strong> suivi le m√™me chemin.  Dans ce cas, les <a href="">assistants babel</a> peuvent √™tre inclus dans le <a href="">plugin</a> , malgr√© le fait qu'ils soient √©galement inclus dans bootsrap.js.  La duplication n'est en quelque sorte pas correcte ... </p><br><p>  Ce qui est int√©ressant, c'est que Bootstrap a une configuration parall√®le sous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jspm - le chargeur de module du navigateur natif ES</a> et son champ principal est d√©j√† du code distant propre, 12 composants qui ne sont pas group√©s, mais stock√©s s√©par√©ment dans le r√©pertoire js / dist.  Ici, chaque fichier inclut des assistants babel.  Jspm est maintenant √† la crois√©e des chemins, donc en cr√©ant BsMultiselect Ignore it. </p><br><blockquote>  Et pourtant, il est int√©ressant de demander aux connaisseurs, jspm va-t-il lever les 12 aides auxiliaires dupliqu√©es dans le navigateur? </blockquote><p>  Un gros plus du cumul a √©t√© d√©couvert - ses packages sont lisibles, contrairement √† webpack. </p><br><h2 id="bootsrap-4-ispolzuet-babel-6-a-plagin-bsmultiselect--babel-7">  Bootsrap 4 utilise Babel 6 et le plugin BsMultiSelect Babel 7 </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BsMultiSelect a</a> facilement migr√© vers la version b√™ta de Babel 7 en utilisant le plugin rollup-babel mis √† jour (√©galement en version b√™ta).  <strong>Cela vaut la peine de passer √† Babel 7 maintenant √†</strong> cause du nouveau <code>@babel/preset-env</code> (la configuration du transpilateur "sur quels navigateurs le code s'ex√©cutera").  En utilisant Internet seul, il est devenu assez difficile de comprendre le fonctionnement des pr√©r√©glages ES6, ils ont connu une longue √©volution et de nombreuses configurations obsol√®tes se sont accumul√©es.  Mieux vaut miser Babel 7 + <code>@babel/preset-env</code> tout de suite </p><br><p>  N√©anmoins, les erreurs b√™ta de babel n'ont pas d√ª attendre longtemps: [... nodeList] a √©t√© transperc√© dans nodeList.concat ().  Je n'ai pas compris pendant longtemps, la traduction du code en appels jquery (c'est toujours n√©cessaire, mais plus √† ce sujet plus tard) a r√©solu le probl√®me.  Demandez: ¬´Pourquoi alors Babel si vous ne traitez pas avec lui?¬ª, La r√©ponse: ¬´importations et lambda¬ª. </p><br><h2 id="prakticheskie-aspekty">  Aspects pratiques </h2><br><p>  Bootstrap 4 et son plugin (comme tout code js) ont deux options de t√©l√©chargement vers le navigateur: <strong>via script / style</strong> (cr√©er une "page"), et <strong>via le n≈ìud d'assemblage / webpack</strong> (cr√©er une "application", donc je vais continuer ces deux en principe, des situations tr√®s diff√©rentes et d√©notent: ¬´page¬ª et ¬´application¬ª). <br>  Pour la page et pour l'application, le m√™me "fichier de distribution" Bootstrap sera utilis√©.  Ce n'est pas une solution √©vidente et pas la seule (par exemple, un code diff√©rent est utilis√© pour <code>jspm</code> et pour les tests <code>jspm</code> ), mais lors de la cr√©ation de votre propre plugin, il ne reste plus qu'√† suivre cette convention, en esp√©rant son optimalit√©. </p><br><p>  <strong>Trouver un √©quilibre entre la satisfaction de deux besoins en utilisant le m√™me code pour deux options de t√©l√©chargement diff√©rentes: ¬´pages¬ª et ¬´applications¬ª est la principale t√¢che architecturale du d√©veloppeur du plug-in.</strong> </p><br><p>  Apr√®s tout, le plugin Bootstrap peut √©galement √™tre cr√©√© <em>ad hoc</em> , directement dans votre application.  Dans ce cas, vous pouvez √©crire le code du plug-in avec tous les plaisirs: les polyphiles et l'acc√®s aux variables SASS du sch√©ma.  Cependant, lors de la r√©utilisation, il sera n√©cessaire de transf√©rer le plugin vers son propre package npm, les plaisirs ci-dessus entrent dans la cat√©gorie des probl√®mes: vous perdez l'acc√®s aux variables SASS et vous devez garder √† l'esprit les cr√©ateurs des ¬´pages¬ª qui connectent le plugin via un script (o√π sont mes polyfichiers?). </p><br><h2 id="dostup-k-sass-peremennym-stilya-bootstrap-4">  Acc√®s aux variables de style SASS Bootstrap 4 </h2><br><p>  Je voudrais √©crire des classes / s√©lecteurs css Bootstrap pour √©crire le plugin.  Dans ce cas, lors de la personnalisation du th√®me Bootstrap, vous pouvez vous attendre √† ce que le plugin s'adapte sans effort suppl√©mentaire. </p><br><p>  Pour un plugin auto-publi√©, il n'y a pas d'acc√®s aux variables SASS. </p><br><p>  Classes / s√©lecteurs CSS existants - ne couvrent pas tous les styles n√©cessaires pour BsMutliSelect, par exemple, vous avez besoin de <code>min-height</code> pour <code>ul.form-control</code> , lorsque dans bootstrap.css il n'y a qu'un s√©lecteur css avec une hauteur pour <code>input.form-control</code> - vous ne pouvez pas l'appliquer pour <code>ul</code> .  Les autres classes / s√©lecteurs existants apportent beaucoup de styles superflus: que se passe-t-il si vous souhaitez affecter, par exemple, la couleur de .form-control √† un √©l√©ment sans affecter une classe <code>.form-control</code> ?  Cela ne fonctionnera pas car il n'existe pas de classe telle que <code>.input-color</code> dans laquelle la variable <a href="">$ input-color</a> serait publi√©e ¬´s√©par√©ment¬ª de tout. </p><br><p>  De plus, il n'est pas possible de suivre les d√©cisions de l'√©quipe Bootstrap: ils n'ont pas un tel probl√®me, s'ils en ont besoin - ils cr√©ent une classe / s√©lecteur CSS avec la variable souhait√©e et op√®rent dessus.  Si vous voulez d√©battre, vous devrez expliquer avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mark Otto</a> , dans l'√©quipe BS, il y a un niveau de prise de d√©cision anormalement √©lev√©, m√™me pour des changements cosm√©tiques dans les s√©lecteurs CSS, si les demandes entrent dans la cat√©gorie "offre". </p><br><p>  Je propose la solution suivante. </p><br><p>  Pour une page (cr√©ation d'un plug-in via un <code>script</code> ), vous devez supporter l'inaccessibilit√© des variables.  Mais il n'est pas n√©cessaire de proposer de traiter avec CSS - les variables inaccessibles peuvent √™tre propos√©es pour √™tre personnalis√©es via les param√®tres js, car elles ne sont pas nombreuses (et toutes ne sont pas modifi√©es par un sch√©ma).  Pour BsMultiSelect, les probl√®mes √©taient: couleur d√©sactiv√©e, couleur d'entr√©e, ombre de contr√¥le focalis√©e (etc. seulement 10 styles, la plupart changent rarement de sch√©mas) ... </p><br><div class="spoiler">  <b class="spoiler_title">D'une part, c'est une d√©claration de tous les styles dont d√©pend le plugin ...</b> <div class="spoiler_text"><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"select[multiple='multiple']"</span></span>).bsMultiSelect({ <span class="hljs-attr"><span class="hljs-attr">selectedPanelDefMinHeight</span></span>: <span class="hljs-string"><span class="hljs-string">'calc(2.25rem + 2px)'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// default size selectedPanelLgMinHeight: 'calc(2.875rem + 2px)', // LG size selectedPanelSmMinHeight: 'calc(1.8125rem + 2px)', // SM size selectedPanelDisabledBackgroundColor: '#e9ecef', // disabled background selectedPanelFocusBorderColor: '#80bdff', // focus border selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)', // foxus shadow selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)', // valid foxus shadow selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)', // invalid foxus shadow inputColor: '#495057', // color of keyboard entered text selectedItemContentDisabledOpacity: '.65' // btn disabled opacity used });</span></span></code> </pre> </div></div><br><p>  Mais pour une application utilisant SASS et le collecteur, vous pouvez proposer de copier vous-m√™me <a href="">BsMultiSelect.scss</a> et d'y corriger le chemin d'acc√®s √† votre _variables.scss.  Ainsi, le plugin "recevra" les variables variables. </p><br><div class="spoiler">  <b class="spoiler_title">Tout au long de CSS ...</b> <div class="spoiler_text"><pre> <code class="javascript hljs"> $(<span class="hljs-string"><span class="hljs-string">"select[multiple='multiple']"</span></span>).bsMultiSelect({ <span class="hljs-attr"><span class="hljs-attr">useCss</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> });</code> </pre> </div></div><br><p>  Ces deux m√©thodes sont √©crites explicitement dans mon code JS, via deux ¬´adaptateurs¬ª.  BsMultiSelect est en fait deux plugins en un.  <a href="">L'un</a> qui fonctionne avec des styles via des variables js, l' <a href="">autre</a> d√©l√®gue ce travail css. </p><br><p>  Dans le m√™me temps, je dois dire directement que travailler avec CSS peut √™tre n√©cessaire m√™me si le transfert de styles personnalis√©s via les param√®tres JS a √©t√© utilis√©, simplement parce que les auteurs des sch√©mas font g√©n√©ralement leur travail de mani√®re tr√®s approximative.  Ou √©trange.  Par exemple, le sch√©ma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Skethy pour</a> une raison quelconque a d√©cid√© que le menu n'a pas besoin d'un effet de survol.  Les caract√©ristiques doivent √™tre d√©pos√©es. </p><br><p>  Mais avec l'exemple sommaire, j'esp√®re que vous pouvez voir comment le plug-in s'est adapt√© au circuit lourd assez facilement (il a fallu surcharger les valeurs de seulement trois styles via les param√®tres js). </p><br><div class="spoiler">  <b class="spoiler_title">adaptation au sch√©ma par js</b> <div class="spoiler_text"><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"select[multiple='multiple']"</span></span>).bsMultiSelect({ <span class="hljs-attr"><span class="hljs-attr">selectedPanelFocusBoxShadow</span></span>:<span class="hljs-string"><span class="hljs-string">"0px 0px 0px 0.2rem rgba(51,51,51,0.25)"</span></span>, <span class="hljs-attr"><span class="hljs-attr">selectedPanelFocusBorderColor</span></span>:<span class="hljs-string"><span class="hljs-string">"#333"</span></span>, <span class="hljs-attr"><span class="hljs-attr">selectedPanelDisabledBackgroundColor</span></span>: <span class="hljs-string"><span class="hljs-string">"#f7f7f9"</span></span> });</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/ez/tg/0y/eztg0yrp2tdyhkbsgxzw2_rtyqw.png"></p><br><p>  C'est le maximum qui peut √™tre atteint en utilisant les classes CSS "standard" <code>.bage</code> , <code>.form-control</code> , <code>.close</code> , etc.  Presque tout adapt√© au sch√©ma, mais pas tout. </p><br><p>  C'est dommage, bien s√ªr, que vous ne puissiez pas vous √©loigner de ces trois param√®tres, toutes les variables de style de sch√©ma ne sont pas accessibles via les s√©lecteurs / classes css (je mens, vous pouvez laisser si vous pouvez copier BsMultiSelect.scss pour vous-m√™me et y apporter les variables de circuit, mais cela ne satisfait pas compl√®tement , comme toutes les d√©cisions qui commencent par les mots ¬´copie √† vous-m√™me¬ª). </p><br><p>  Cliquez ici: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://dashboardcode.github.io/BsMultiSelect/indexsketchy.html</a> </p><br><h2 id="polyfilly">  Polyfill's </h2><br><p>  Dans le sc√©nario ¬´J'√©cris un plugin ad hoc √† l'int√©rieur de l'application¬ª - vous utiliserez <code>@babel/polyfill</code> sans aucun probl√®me, et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">patchez le</a> DOM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">polyfill.io</a> car √† l'int√©rieur de votre application il est d√©j√† l√†. </p><br><p>  Lorsqu'un plugin est d√©plac√© vers un module npm externe, toute la joie dispara√Æt car les utilisateurs de Bootstrap n'ont pas d√©cid√© de satisfaire les longues listes de polyfills requis dans la documentation. </p><br><p>  Solution: tout ce que babel ne transposera pas mais laissera aux polyphiles, l'emp√™chera de le faire, grin√ßant des dents, pour se convertir en appels jQuery (par exemple, Node.closest dans $ .closest).  Cette approche est adopt√©e dans Bootstrap 4 lui-m√™me et il s'agit √©videmment d'une lutte contre le gonflement.  Surprise  jQuery est un polyfill. </p><br><p>  Je suis d'accord que la programmation avec Babel avec un ≈ìil sur CanIUse.com et MDN.com n'est pas amusante.  Et le code est maladroit (pour moi). </p><br><p>  Ici, il est n√©cessaire de souligner √† nouveau la situation d'en haut.  Bootstrap utilise deux biblioth√®ques jQuery et popper.js.  Popper.js est un framework double vanilla, il n'a pas de polyfills babel, jQuery ou externes, tout seul.  JQuery est emball√© par grunt utilisant d√©j√† babel, mais en quelque sorte comme par magie sans ses polyfills et helper's.  Un plug-in Bootstrap tiers (comme BsMultiSelct) utilise Babel 7. Votre produit peut encore utiliser autre chose.  Il n'y a pas de plate-forme polyphile unique, une duplication de code multiple est attendue, il y a quatre impl√©mentations du m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus proche</a> charg√©es dans le navigateur.  Mais on ne peut rien y faire. </p><br><p>  Si vous avez n√©anmoins utilis√© des polyfichiers lors de la cr√©ation de votre propre plugin, vous devez vous rappeler que si l'application a des scripts en ligne (c'est-√†-dire <code>&lt;script&gt;$( function() {/*..*/}) &lt;/script&gt;</code> ) alors vous n'aurez qu'√† t√©l√©charger les polyfichiers de mani√®re synchrone (sinon le code en ligne peut commencer son ex√©cution avant le moment o√π le plugin est charg√©).  C'est-√†-dire  par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">webpack-polyfill-injector</a> (l'injecteur de polyphil le plus riche que je connaisse) que je dois contr√¥ler pour qu'il ne d√©cide pas de charger les polyphiles de mani√®re asynchrone (comportement par d√©faut). </p><br><h2 id="no-jquery">  Pas de jQuery </h2><br><p>  jQuery semble quelque peu toxique, rivalisant avec et obscurcissant Babel / ES6, mais ce n'est pas √©ternel.  Il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">branche v4-sans-jquery</a> , elle est d√©j√† dans la requ√™te de pool, elle pr√©voit de sortir la <strong>version 4.3 de <code>bootstrap-nojquery</code> c</strong> .  Auparavant, l'espace de noms des √©v√©nements √©tait appel√© le plus gros probl√®me de rejet de jquery, bien qu'il soit √©vident que vous pouvez √©crire sans eux (BsMultiSelect l'a fait sans).  Apparemment d√©cid√©. </p><br><p>  Il a √©galement √©t√© annonc√© qu'√† partir de la <strong>version 4.3, il</strong> sera possible de charger s√©par√©ment les composants d'origine dans le navigateur (uniquement pour le sc√©nario "application").  Les composants d'origine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deviendront-ils</a> alors "comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BsMultiSelect</a> "?  Non.  Si l'√©quipe BS a besoin de certaines variables SASS, elle fera des classes / s√©lecteurs CSS pour elle-m√™me et les op√©rera √† partir de JS ("CSS fonctionnel").  Les cr√©ateurs de fonctionnalit√©s personnalis√©es ne sont pas disponibles. </p><br><p>  La transition possible de sass √† <strong>post-css</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/twbs/bootstrap/projects/11</a> <strong>dans la 5√®me version</strong> ne change fondamentalement rien.  Ou change tout: "JS sur HTML". </p><br><p>  <strong>Bootstrap 5</strong> devra mettre en place des recommandations sur la fa√ßon de s'int√©grer dans les polyfichiers Babel, et comment patcher le DOM.  Ici, la pr√©vision est plus ou moins claire: des assemblages compl√®tement diff√©rents seront propos√©s aux cr√©ateurs de pages et aux cr√©ateurs d'applications. </p><br><h2 id="itogi">  R√©sum√© </h2><br><p>  Pendant que vous √©crivez des composants Bootstrap 4 sur Babel en utilisant la m√©thode <em>ad hoc</em> sans penser √† la r√©utilisation, ce qui signifie des polyphiles, et o√π trouver les variables de style, vous ne connaissez pas le chagrin. </p><br><p>  Mais si vous faites du plugin un package npm s√©par√© - et avec le d√©sir de prendre une d√©cision dans l'esprit de Bootstrap 4 lui-m√™me, le plaisir devient moins, vous pensez plus souvent et plus longtemps.  Vous devez probablement d√©cider imm√©diatement qui sont vos utilisateurs et proposer diff√©rentes versions, l'une pour ceux qui construiront l'application en bundles, l'autre pour l'√©criture de pages, c'est-√†-dire  chargement du script du plugin. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416235/">https://habr.com/ru/post/fr416235/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416215/index.html">Food Design Digest juin 2018</a></li>
<li><a href="../fr416217/index.html">Comment j'ai connect√© des ordinateurs et des utilisateurs aux ports de p√©riph√©riques r√©seau dans le programme de surveillance Network MACMonitor</a></li>
<li><a href="../fr416219/index.html">Yandex a commenc√© √† indexer Google Docs avec des mots de passe</a></li>
<li><a href="../fr416229/index.html">10 livres sur le marketing et des sujets connexes qu'un designer devrait lire</a></li>
<li><a href="../fr416231/index.html">Surveillance des salles Zadarma Zabbix</a></li>
<li><a href="../fr416237/index.html">Devenir designer: du freelance d'une auberge √† la collaboration avec les meilleures entreprises et le lancement de votre produit</a></li>
<li><a href="../fr416239/index.html">Le r√¥le et les fonctions du PMO dans les entreprises de design</a></li>
<li><a href="../fr416241/index.html">R√©cup√©rer des niveaux de Super Mario Bros en utilisant Python</a></li>
<li><a href="../fr416243/index.html">Alternatives au cobalt, ce diamant sanglant des piles</a></li>
<li><a href="../fr416245/index.html">Nous cr√©ons un bot sur Aimylogic pour automatiser la boutique en ligne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>