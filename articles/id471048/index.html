<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅🏼 🍓 🎇 React + Mobx: apa gunanya? 🙏🏼 🤹🏻 ✔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari ini saya ingin memberi tahu Anda tentang bagaimana transisi ke Mobx terjadi pada proyek kami, apa keuntungannya. Proyek tipikal juga akan ditampi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>React + Mobx: apa gunanya?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471048/"> Hari ini saya ingin memberi tahu Anda tentang bagaimana transisi ke Mobx terjadi pada proyek kami, apa keuntungannya.  Proyek tipikal juga akan ditampilkan dan penjelasan tentang masalah utama akan diberikan.  Tapi pertama-tama, perkenalan. <br><br><img src="https://habrastorage.org/webt/lv/he/d2/lvhed2wb-qbln7ffhw3_e9ljj0e.png" alt="gambar"><br><a name="habracut"></a><br>  Mengapa Anda perlu beralih ke sesuatu?  Sebenarnya, jawaban untuk pertanyaan ini sudah setengah dari pertempuran.  Banyak sekarang senang menerapkan teknologi baru hanya karena mereka baru.  Garis yang bagus dalam resume, kemungkinan pengembangan diri, berada dalam tren.  Ini bagus ketika Anda bisa maju. <br><br>  Namun, setiap alat harus menyelesaikan masalahnya sendiri, dan kami menolaknya dengan satu atau lain cara ketika kami menulis kode komersial. <br><br>  Dalam proyek kami, ada sejumlah widget tempat pengguna memasukkan data mereka, berinteraksi dengan formulir.  Sebagai aturan, setiap widget memiliki beberapa layar.  Sekali waktu, semuanya bekerja pada MarkoJS + templating engine lama yang diperlukan jQuery pada klien.  Interaksi dengan bentuk-bentuk ditulis dalam gaya imperatif, jika ... yang lain, panggilan balik dan ini semua sama yang sudah ada di masa lalu. <br><br>  Kemudian tiba saatnya untuk <b>Bereaksi</b> .  Logika bisnis pada klien semakin tebal, ada banyak opsi interaksi, kode penting berubah menjadi kekacauan yang rumit.  Kode reaksi deklaratif ternyata jauh lebih nyaman.  Akhirnya dimungkinkan untuk berkonsentrasi pada logika daripada presentasi, menggunakan kembali komponen dan dengan mudah mendistribusikan tugas untuk mengembangkan fitur baru antara karyawan yang berbeda. <br><br>  Tetapi aplikasi pada murni Bereaksi dari waktu ke waktu bertumpu pada batas yang nyata.  Tentu saja, kami bosan menulis ini. SetState untuk semua orang dan memikirkan asinkroninya, tetapi melempar data dan panggilan balik melalui ketebalan komponen membuatnya sangat sulit.  Singkatnya, saatnya telah datang untuk sepenuhnya memisahkan data dan presentasi.  Ini bukan pertanyaan tentang bagaimana Anda dapat mengatur untuk melakukannya pada Bereaksi murni, tetapi dalam kerangka kerja industri yang menerapkan arsitektur Flux dari aplikasi front-end telah populer akhir-akhir ini. <br><br>  Menurut jumlah artikel dan referensi di lowongan, <b>Redux</b> adalah yang paling terkenal di antara kita.  Sebenarnya, saya sudah membawa tangan saya untuk menginstalnya di proyek kami dan memulai pengembangan, seperti pada saat-saat terakhir (dan ini benar-benar!) Iblis menarik Habr, dan kemudian hanya ada diskusi tentang topik "Redux atau Mobx?"  Inilah artikel ini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">habr.com/en/post/459706</a> .  Setelah membacanya, dan juga semua komentar di bawahnya, saya menyadari bahwa saya masih akan menggunakan <b>Mobx</b> . <br><br>  Jadi lagi.  Jawaban untuk pertanyaan paling penting - mengapa semua ini?  - kelihatannya seperti ini: saatnya untuk memisahkan presentasi dan data, saya ingin membangun manajemen data dalam gaya deklaratif (seperti menggambar), tidak ada penyerbukan silang dari callback dan atribut yang diteruskan. <br><br>  Sekarang kita siap untuk melanjutkan. <br><br><h3>  1. Tentang aplikasi </h3><br>  Kita perlu membangun di depan seorang perancang layar dan bentuk, yang kemudian dapat dengan cepat dikocok, terhubung satu sama lain mengikuti perubahan persyaratan bisnis.  Hal ini tak terhindarkan menggerakkan kami ke yang berikut: untuk membuat koleksi komponen yang benar-benar terisolasi, serta beberapa komponen dasar yang sesuai dengan masing-masing widget kami (pada kenyataannya, ini adalah SPA terpisah yang dibuat setiap kali berdasarkan kasus bisnis baru dalam aplikasi umum). <br><br>  Contoh-contoh akan menunjukkan versi terpotong dari salah satu gadget ini.  Agar tidak menumpuk kode tambahan, biarkan itu berupa tiga bidang input dan tombol. <br><br><h3>  2. Data </h3><br>  Mobx pada dasarnya bukan kerangka kerja, melainkan hanya perpustakaan.  Manual secara eksplisit menyatakan bahwa itu tidak mengatur data Anda secara langsung.  Anda sendiri harus memunculkan organisasi semacam itu.  Omong-omong, kami menggunakan <b>Mobx 4</b> karena versi 5 menggunakan tipe data Sybmol, yang, sayangnya, tidak didukung oleh semua browser. <br><br>  Jadi, semua data dialokasikan ke entitas yang terpisah.  Aplikasi kami bertujuan untuk satu set dua folder: <br>  - <i>komponen</i> tempat kita meletakkan semua tampilan <br>  - <i>toko</i> , yang akan berisi data, serta logika bekerja dengan mereka. <br>  Sebagai contoh, komponen entri data khas untuk kami terdiri dari dua file: <i>Input.js</i> dan <i>InputStore.js</i> .  File pertama adalah komponen React bodoh yang sepenuhnya bertanggung jawab untuk menampilkan, yang kedua adalah data komponen ini, aturan pengguna ( <i>onClick</i> , <i>onChange</i> , dll ...) <br><br>  Sebelum kita langsung ke contoh, kita perlu memecahkan masalah penting lainnya. <br><br><h3>  3. Manajemen </h3><br>  Ya, kami memiliki komponen yang sepenuhnya otonom dari View-Store, tetapi bagaimana kita berkumpul bersama dalam seluruh aplikasi?  Untuk tampilan, kita akan memiliki komponen root dari <i>App.js</i> , dan untuk mengelola aliran data, penyimpanan utama adalah <i>mainStore.js</i> .  Prinsipnya sederhana: mainStore tahu segalanya tentang semua repositori dari semua komponen yang diperlukan (akan ditunjukkan di bawah bagaimana ini dicapai).  Repositori lain tidak tahu apa-apa tentang dunia sama sekali (well, akan ada satu pengecualian - kamus).  Dengan demikian, kami dijamin tahu ke mana data kami pergi dan ke mana harus mencegatnya. <br><br><img src="https://habrastorage.org/webt/9c/bf/wi/9cbfwie08uztcx5vvocxj6szwqq.jpeg" alt="gambar"><br><br>  <i>mainStore secara</i> deklaratif, melalui perubahan bagian-bagian dari keadaannya, dapat mengontrol sisa komponen.  Dalam gambar berikut, <i>Tindakan</i> dan <i>Status</i> merujuk ke penyimpanan komponen, dan <i>nilai yang</i> <i>dihitung</i> merujuk ke <i>mainStore</i> : <br><br><img src="https://habrastorage.org/webt/y1/d9/uv/y1d9uvdt1z24mzeezyjzer0jjj0.png" alt="gambar"><br><br>  Mari kita mulai menulis kode.  File aplikasi utama index.js: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Provider} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/App"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mainStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./stores/mainStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> optionsStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./stores/optionsStore"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  IE11 require("es6-object-assign").polyfill(); require( "./static/less/main.less"); const stores = { mainStore, optionsStore, ButtonStore : mainStore.ButtonStore, FioStore : mainStore.FioStore, EmailStore : mainStore.EmailStore }; ReactDOM.render(( &lt;Provider {...stores}&gt; &lt;App /&gt; &lt;/Provider&gt; ), document.getElementById('reactContainer'));</span></span></code> </pre> <br>  Di sini Anda dapat melihat konsep dasar Mobx.  Data (toko) tersedia di mana saja dalam aplikasi melalui mekanisme <b>Penyedia</b> .  Kami membungkus aplikasi kami dengan mendaftar fasilitas penyimpanan yang dibutuhkan.  Untuk menggunakan <i>Penyedia, kami</i> menghubungkan <i>modul mobx-react</i> .  Agar toko kontrol utama <i>mainStore</i> memiliki akses ke semua data lain sejak awal, kami menginisialisasi toko anak dalam <i>mainStore</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// mainStore.js import optionsStore from "./optionsStore"; import ButtonStore from "./ButtonStore"; import FioStore from "./FioStore"; import EmailStore from "./EmailStore"; .... class mainStore { constructor() { /** *    */ this.ButtonStore = new ButtonStore(); this.FioStore = new FioStore(); this.EmailStore = new EmailStore(); ...</span></span></code> </pre> <br><br>  Sekarang <i>App.js</i> , kerangka aplikasi kita <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {observer, inject} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ButtonArea <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./ButtonArea"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Email <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./Email"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Fio <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./Fio"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> l10n <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../l10n/localization.js"</span></span>; @inject(<span class="hljs-string"><span class="hljs-string">"mainStore"</span></span>) @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); }; render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mainStore = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.mainStore; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;div className="container"&gt; &lt;Fio label={l10n.ru.profile.name} name={"name"} value={mainStore.userData.name} daData={true} /&gt; &lt;Fio label={l10n.ru.profile.surname} name={"surname"} value={mainStore.userData.surname} daData={true} /&gt; &lt;Email label={l10n.ru.profile.email} name={"email"} value={mainStore.userData.email} /&gt; &lt;ButtonArea /&gt; &lt;/div&gt; ); } }</code> </pre> <br>  Ada dua konsep Mobx lebih mendasar - <i>menyuntikkan</i> dan <i>pengamat</i> . <br>  <b>menyuntikkan</b> hanya mengimplementasikan toko yang diperlukan dalam aplikasi.  Bagian yang berbeda dari aplikasi kami menggunakan repositori yang berbeda, yang kami cantumkan dalam <i>injeksi</i> , dipisahkan dengan koma.  Secara alami, toko-toko pluggable pada awalnya harus terdaftar di <i>Penyedia</i> .  Repositori tersedia dalam komponen melalui <i>this.props.yourStoreName</i> . <br>  <b>pengamat</b> - dekorator menunjukkan bahwa komponen kami akan berlangganan data yang dimodifikasi menggunakan Mobx.  Data telah berubah - reaksi telah terjadi di komponen (akan ditampilkan di bawah).  Dengan demikian, tidak ada langganan dan panggilan balik khusus - Mobx memberikan perubahan itu sendiri! <br><br>  Kami akan kembali mengelola seluruh aplikasi di <i>mainStore</i> , tetapi untuk saat ini kami akan mengerjakan komponennya.  Kami memiliki tiga jenis di antaranya - <i>Fio</i> , <i>Email</i> , <i>Button</i> .  Biarkan yang pertama dan ketiga bersifat universal, dan <i>Email</i> - kustom.  Mari kita mulai dengannya. <br><br>  Layar adalah komponen React bodoh biasa: <br><br><div class="spoiler">  <b class="spoiler_title">Email.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {inject, observer} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx-react'</span></span>; @inject(<span class="hljs-string"><span class="hljs-string">"EmailStore"</span></span>) @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Email</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); }; componentDidMount = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.EmailStore.validate(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name); }; componentWillUnmount = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.EmailStore.unmount(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name); }; render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> EmailStore = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.EmailStore; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> params = EmailStore.params; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> status = <span class="hljs-string"><span class="hljs-string">"form-group email "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params.isCorrect &amp;&amp; params.onceValidated) status += <span class="hljs-string"><span class="hljs-string">"valid"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params.isWrong &amp;&amp; params.onceValidated) status += <span class="hljs-string"><span class="hljs-string">"error"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div className={status}&gt; &lt;label htmlFor={name}&gt;{</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.props.label}&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/label&gt; &lt;input type="email" disabled={this.props.disabled} name={name} id={name} value={params.value} onChange={(e) =&gt; EmailStore.bindData(e, name)} /</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; ); } }</span></span></span></span></span></span></code> </pre></div></div><br>  Kami menghubungkan komponen eksternal validasi, dan penting untuk melakukan ini setelah elemen sudah termasuk dalam tata letak.  Oleh karena itu, metode dari toko disebut di <i>componentDidMount</i> . <br><br>  Sekarang repositori itu sendiri: <br><br><div class="spoiler">  <b class="spoiler_title">EmailStore.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {action, observable} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> reactTriggerChange <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-trigger-change"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Validators <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/Validators"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { getTarget } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/elementaries"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EmailStore</span></span></span><span class="hljs-class"> </span></span>{ @observable params = { <span class="hljs-attr"><span class="hljs-attr">value</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">disabled</span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">isCorrect</span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">isWrong</span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">onceValidated</span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">prevalidated</span></span> : <span class="hljs-literal"><span class="hljs-literal">null</span></span> } <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> @action bindData = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.value = getTarget(e).value; }; <span class="hljs-comment"><span class="hljs-comment">/** *   */</span></span> @action validate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> callbacks = { <span class="hljs-attr"><span class="hljs-attr">success</span></span> : <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">formatedValue</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.value = formatedValue; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.isCorrect = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.isWrong = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.onceValidated = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }, <span class="hljs-attr"><span class="hljs-attr">fail</span></span> : <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">formatedValue</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.value = formatedValue; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.isCorrect = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.params.isWrong = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> options = { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : <span class="hljs-string"><span class="hljs-string">"email"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> element = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(name); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Validators(element, options, callbacks).init(); <span class="hljs-comment"><span class="hljs-comment">//    reactTriggerChange(element); this.params.prevalidated = true; }; }</span></span></code> </pre> <br></div></div><br>  Perlu memperhatikan dua entitas baru. <br><br>  <b>diamati</b> - objek, setiap perubahan bidang yang dimonitor oleh Mobx (dan mengirim sinyal ke <i>pengamat</i> , yang berlangganan penyimpanan khusus kami). <br>  <b>action</b> - dekorator ini harus membungkus pawang yang mengubah keadaan aplikasi dan / atau menyebabkan efek samping.  Di sini kita mengubah nilai <i>nilai</i> dalam <i>params @observable</i> . <br><br>  Itu dia, komponen sederhana kami sudah siap!  Dia dapat melacak data pengguna dan merekamnya.  Nanti kita akan melihat bagaimana repositori pusat <i>mainStore</i> berlangganan untuk mengubah data ini. <br><br>  Sekarang komponen <i>Fio yang</i> khas.  Perbedaannya dari yang sebelumnya adalah bahwa kita akan menggunakan komponen jenis ini dalam jumlah tak terbatas dalam satu aplikasi.  Ini membebankan beberapa persyaratan tambahan pada penyimpanan komponen.  Selain itu, kami akan melakukan lebih banyak petunjuk tentang karakter input menggunakan layanan <b>DaData yang</b> sangat baik.  Tampilan: <br><br><div class="spoiler">  <b class="spoiler_title">Fio.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {inject, observer} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx-react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {get} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; @inject(<span class="hljs-string"><span class="hljs-string">"FioStore"</span></span>) @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Fio</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); }; componentDidMount = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** *       */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.FioStore.registration(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props); }; componentWillUnmount = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.FioStore.unmount(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name); }; render() { <span class="hljs-comment"><span class="hljs-comment">/** *       *  DaData: * data.surname -  * data.name -  * https://dadata.ru/api/suggest/name */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FioStore = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.FioStore; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> item = get(FioStore.items, name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item &amp;&amp; item.isCorrect &amp;&amp; item.onceValidated &amp;&amp; !item.prevalidated) status = <span class="hljs-string"><span class="hljs-string">"valid"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item &amp;&amp; item.isWrong &amp;&amp; item.onceValidated) status = <span class="hljs-string"><span class="hljs-string">"error"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    store let value = this.props.value; if (item) value = item.value; return ( &lt;div className="form-group fio"&gt; &lt;label htlmfor={name}&gt;{this.props.label}&lt;/label&gt; &lt;input type="text" disabled={this.props.disabled} name={name} id={name} value={value} onChange={(e) =&gt; FioStore.bindData(e, name)} /&gt; {(item &amp;&amp; item.suggestions &amp;&amp; item.suggestions.length &gt; 0) &amp;&amp; &lt;div className="hint-container" id={"hint-container-" + item.id}&gt;{item.suggestions.map((suggestion, i) =&gt; { return ( &lt;div className={"suggestion-item fs-" + i} key={i} value={suggestion.data[name]} onClick={(e) =&gt; FioStore.setSuggestion(e, name)}&gt; &lt;span className="suggestion-text"&gt;{suggestion.data[name]}&lt;/span&gt; &lt;/div&gt;) })}&lt;/div&gt;} &lt;/div&gt; ); } }</span></span></code> </pre></div></div><br>  Ada sesuatu yang baru di sini: kita tidak mengakses status komponen secara langsung, tetapi melalui <i>get</i> : <br><pre> <code class="javascript hljs">get(FioStore.items, name)</code> </pre> <br>  Faktanya adalah bahwa jumlah instance komponen tidak terbatas, dan repositori adalah satu untuk semua komponen jenis ini.  Oleh karena itu, saat pendaftaran, kami memasukkan parameter dari setiap instance di <i>Peta</i> : <br><br><div class="spoiler">  <b class="spoiler_title">Fiostore.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {action, autorun, observable, get, set} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> reactTriggerChange <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-trigger-change"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Validators <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/Validators"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { getDaData, blockValidate } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/functions"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { getAttrValue, scrollToElement, getTarget } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/elementaries"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FioStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { autorun(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** *        .         setSuggestion() */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> self = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; $(<span class="hljs-string"><span class="hljs-string">"body"</span></span>).click(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e.target.className !== <span class="hljs-string"><span class="hljs-string">"suggestion-item"</span></span> &amp;&amp; e.target.className !== <span class="hljs-string"><span class="hljs-string">"suggestion-text"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> items = self.items.entries(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> [key, value] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> items) { value.suggestions = []; } } }); }) } <span class="hljs-comment"><span class="hljs-comment">/** *   items       Fio    */</span></span> @observable items = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>([]); <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> @action registration = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nameExists = get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items, params.name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!blockValidate({params, nameExists, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"Fio"</span></span>})) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  items   const value = { value : params.value, disabled : params.disabled, isCorrect : null, isWrong : null, suggestions : [], daData : params.daData, startValidation : true, //      onceValidated : false, //      prevalidated : false }; set(this.items, params.name, value); this.validate(params.name); }; /** *    */ @action unmount = (name) =&gt; { this.items.delete(name); }; /** *    *    */ @action bindData = (e, name) =&gt; { const value = getTarget(e).value; const item = get(this.items, name); /** *     DaData */ if (item.daData &amp;&amp; !item.startValidation) { getDaData({value, type: "fio", name}) .then((result) =&gt; { item.suggestions = result.suggestions; }) .catch((error) =&gt; {console.log(error)}) } else { item.startValidation = false; item.value = value; } }; /** *   */ @action setSuggestion = (e, name) =&gt; { if (e) e.preventDefault(); get(this.items, name).value = getAttrValue(e); //     get(this.items, name).suggestions = []; get(this.items, name).isCorrect = true; get(this.items, name).isWrong = false; }; /** *   */ @action validate = (name) =&gt; { const callbacks = { success : (formatedValue) =&gt; { get(this.items, name).value = formatedValue; get(this.items, name).isCorrect = true; get(this.items, name).isWrong = false; get(this.items, name).onceValidated = true; }, fail : (formatedValue) =&gt; { get(this.items, name).value = formatedValue; get(this.items, name).isCorrect = false; get(this.items, name).isWrong = true; } }; const options = { type : "fio" }; const element = document.getElementById(name); new Validators(element, options, callbacks).init(); //    reactTriggerChange(element); get(this.items, name).prevalidated = true; }; }</span></span></code> </pre></div></div><br>  Status komponen generik kami diinisialisasi sebagai berikut: <br><br><pre> <code class="javascript hljs">@observable items = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>([]);</code> </pre> <br>  Akan lebih mudah untuk bekerja dengan objek JS biasa, namun, itu tidak akan "disadap" ketika mengubah nilai bidangnya, karena  bidang ditambahkan secara dinamis ketika komponen baru ditambahkan ke halaman.  Menerima petunjuk DaData yang kami ambil secara terpisah. <br><br>  Komponen tombol terlihat serupa, tetapi tidak ada tips: <br><br><div class="spoiler">  <b class="spoiler_title">Button.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {inject, observer} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx-react'</span></span>; @inject(<span class="hljs-string"><span class="hljs-string">"ButtonStore"</span></span>) @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomButton</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); }; componentDidMount = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** *       */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.ButtonStore.registration(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props); }; componentWillUnmount = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.ButtonStore.unmount(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name); }; render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.name; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div className=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"form-group button"</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;button disabled={</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.props.disabled} onClick={(e</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.ButtonStore.bindClick(e, name)} name={name} id={name} &gt;{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.text}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt; &lt;/</span></span>div&gt; ); } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ButtonStore.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {action, observable, get, set} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {blockValidate} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/functions"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ButtonStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() {} <span class="hljs-comment"><span class="hljs-comment">/** *   items       Button    */</span></span> @observable items = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>([]) <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> @action registration = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nameExists = get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.items, params.name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!blockValidate({params, nameExists, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"Button"</span></span>})) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  items   const value = { disabled : params.disabled, isClicked : false }; set(this.items, params.name, value); }; /** *    */ @action unmount = (name) =&gt; { this.items.delete(name); }; /** *    */ @action bindClick = (e, name) =&gt; { e.preventDefault(); get(this.items, name).isClicked = true; }; }</span></span></code> </pre> <br></div></div><br>  Komponen <i>Button</i> dibungkus oleh komponen HOC dari <i>ButtonArea</i> .  Harap dicatat bahwa komponen yang lebih tua termasuk set toko sendiri, dan yang termuda.  Dalam rantai komponen bersarang tidak perlu meneruskan parameter dan panggilan balik.  Segala sesuatu yang diperlukan untuk pengoperasian komponen tertentu ditambahkan langsung padanya. <br><br><div class="spoiler">  <b class="spoiler_title">ButtonArea.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {inject, observer} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx-react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> l10n <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../l10n/localization.js"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./Button"</span></span>; @inject(<span class="hljs-string"><span class="hljs-string">"mainStore"</span></span>, <span class="hljs-string"><span class="hljs-string">"optionsStore"</span></span>) @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ButtonArea</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"button-container"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{this.props.optionsStore.dict.buttonsHeading}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{</span></span></span></span><span class="xml"><span class="hljs-tag">"</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">send_data</span></span></span></span><span class="xml"><span class="hljs-tag">"} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.mainStore.buttons.sendData.disabled</span></span></span></span><span class="xml"><span class="hljs-tag"> ? </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">true</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">false</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{l10n.ru.common.continue}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } }</span></span></code> </pre> <br></div></div><br>  Jadi, kami memiliki semua komponen yang siap.  Masalahnya diserahkan kepada manajer <i>mainStore.</i>  Pertama, semua kode penyimpanan: <br><br><div class="spoiler">  <b class="spoiler_title">mainStore.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {observable, computed, autorun, reaction, get, action} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> optionsStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./optionsStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ButtonStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./ButtonStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> FioStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./FioStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> EmailStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./EmailStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fetchOrdinary, sendStats } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../helpers/functions"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> l10n <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../../../l10n/localization.js"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mainStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ButtonStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ButtonStore(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.FioStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FioStore(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.EmailStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EmailStore(); autorun(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fillBlocks(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fillData(); }); <span class="hljs-comment"><span class="hljs-comment">/** *      */</span></span> reaction( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dataInput, (result) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isIncorrect = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result[i]) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> res = result[i][j]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!res.isCorrect) isIncorrect = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userData[j] = res.value; } }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isIncorrect) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.buttons.sendData.disabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.buttons.sendData.disabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span> }; } ); <span class="hljs-comment"><span class="hljs-comment">/** *     */</span></span> reaction( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sendDataButton, (result) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.isClicked) { get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ButtonStore.items, <span class="hljs-string"><span class="hljs-string">"send_data"</span></span>).isClicked = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> authRequestSuccess = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"request is success!"</span></span>) }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> authRequestFail = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"request is fail!"</span></span>) }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> request = { <span class="hljs-attr"><span class="hljs-attr">method</span></span> : <span class="hljs-string"><span class="hljs-string">"send_userdata"</span></span>, <span class="hljs-attr"><span class="hljs-attr">params</span></span> : { <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userData.name, <span class="hljs-attr"><span class="hljs-attr">surname</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userData.surname, <span class="hljs-attr"><span class="hljs-attr">email</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userData.email } }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">"Request body is:"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(request); fetchOrdinary( optionsStore.OPTIONS.sendIdentUrl, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(request), { <span class="hljs-attr"><span class="hljs-attr">success</span></span>: authRequestSuccess, <span class="hljs-attr"><span class="hljs-attr">fail</span></span>: authRequestFail } ); } } } ); } @observable userData = { <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">email</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> }; @observable buttons = { <span class="hljs-attr"><span class="hljs-attr">sendData</span></span> : { <span class="hljs-attr"><span class="hljs-attr">disabled</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }; <span class="hljs-comment"><span class="hljs-comment">/** *     * @key -   * @value -      (name, type),          */</span></span> componentsMap = { <span class="hljs-attr"><span class="hljs-attr">userData</span></span> : [ [<span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-string"><span class="hljs-string">"fio"</span></span>], [<span class="hljs-string"><span class="hljs-string">"surname"</span></span>, <span class="hljs-string"><span class="hljs-string">"fio"</span></span>], [<span class="hljs-string"><span class="hljs-string">"email"</span></span>, <span class="hljs-string"><span class="hljs-string">"email"</span></span>], [<span class="hljs-string"><span class="hljs-string">"send_data"</span></span>, <span class="hljs-string"><span class="hljs-string">"button"</span></span>] ] }; <span class="hljs-comment"><span class="hljs-comment">/** *     listener'  stores */</span></span> @observable listenerBlocks = {}; <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> @action fillBlocks = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.componentsMap) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pageBlock = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.componentsMap[i]; <span class="hljs-comment"><span class="hljs-comment">//      (key)     (value) const blocks = {}; pageBlock.forEach((item, i) =&gt; { const _name = item[0]; const _type = item[1]; if (!blocks[_type]) { blocks[_type] = [_name] } else { blocks[_type].push(_name) } }) this.listenerBlocks[i] = blocks; } }; /** *    */ @action fillData = () =&gt; { if (optionsStore.preset) { // ,   undefined,     if (optionsStore.preset.name) this.userData.name = optionsStore.preset.name; if (optionsStore.preset.surname) this.userData.surname = optionsStore.preset.surname; } }; /** * Listener    */ @computed get dataInput() { const mappedResult = { fio : {}, email : { email : {} } }; if (this.FioStore &amp;&amp; this.FioStore.items) { this.listenerBlocks.userData.fio.forEach((item) =&gt; { const i = get(this.FioStore.items, item); if (i) { mappedResult.fio[item] = { isCorrect : i.isCorrect, value : i.value } } }) } if (this.EmailStore &amp;&amp; this.EmailStore.params) { mappedResult.email.email = { isCorrect : this.EmailStore.params.isCorrect, prevalidated : this.EmailStore.params.prevalidated, value : this.EmailStore.params.value } } return mappedResult } /** * Listener     */ @computed get sendDataButton() { let result = {}; const i = get(this.ButtonStore.items, "send_data"); if (i) { result = { isClicked : i.isClicked } } return result } } export default new mainStore();</span></span></code> </pre> <br></div></div><br>  Beberapa entitas kunci lagi. <br><br>  <b>dihitung</b> adalah dekorator untuk fungsi yang melacak perubahan yang <i>dapat diamati</i> .  Keuntungan penting Mobx adalah hanya melacak data yang dikomputasi dan kemudian dikembalikan sebagai hasilnya.  Reaksi dan, sebagai konsekuensinya, penggambaran ulang DOM virual terjadi hanya jika diperlukan. <br>  <b>reaksi</b> - alat untuk mengatur efek samping berdasarkan kondisi yang berubah.  Dibutuhkan dua fungsi: yang pertama dihitung, mengembalikan keadaan yang dihitung, yang kedua dengan efek yang harus mengikuti perubahan keadaan.  Dalam contoh kita, <i>reaksi</i> diterapkan dua kali.  Dalam yang pertama, kita melihat keadaan bidang dan menyimpulkan apakah seluruh formulir sudah benar, dan juga mencatat nilai masing-masing bidang.  Pada yang kedua, kita klik tombol (lebih tepatnya, jika ada tanda "tombol ditekan"), kami mengirim data ke server.  Objek data ditampilkan di konsol browser.  Karena <i>mainStore</i> mengetahui semua repositori, segera setelah memproses klik tombol, kami dapat menonaktifkan bendera dengan gaya imperatif: <br><br><pre> <code class="javascript hljs">get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ButtonStore.items, <span class="hljs-string"><span class="hljs-string">"send_data"</span></span>).isClicked = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br>  Anda dapat mendiskusikan seberapa dapat diterimanya kehadiran "imperatif" tersebut, tetapi dalam hal apa pun, kontrol hanya terjadi dalam satu arah - dari <i>mainStore</i> ke <i>ButtonStore</i> . <br>  <b>autorun</b> digunakan di mana kami ingin menjalankan beberapa tindakan secara langsung, bukan sebagai reaksi untuk menyimpan perubahan.  Dalam contoh kami, satu fungsi bantu diluncurkan, serta prefilling bidang formulir dengan data dari kamus. <br><br>  Dengan demikian, urutan tindakan yang kita miliki adalah sebagai berikut.  Komponen melacak peristiwa pengguna dan mengubah statusnya.  <i>mainStore</i> melalui <i>dihitung</i> menghitung hasil hanya berdasarkan negara yang telah berubah.  Yang berbeda <i>dihitung</i> mencari perubahan di berbagai negara di repositori yang berbeda.  Selanjutnya, melalui <i>reaksi,</i> berdasarkan hasil yang <i>dihitung</i> , <i>kami</i> melakukan tindakan dengan <i>dapat diamati</i> , serta melakukan efek samping (misalnya, kami membuat permintaan AJAX).  <i>Obsevables</i> berlangganan komponen anak, yang digambar ulang jika perlu.  Aliran data searah dengan kontrol penuh atas di mana dan apa yang berubah. <br><br>  <b>Anda dapat mencoba</b> contoh dan kodenya sendiri.  Tautan ke repositori: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">github.com/botyaslonim/mobx-habr</a> . <br>  Kemudian seperti biasa: <i>npm i</i> , <i>npm run local</i> .  Di folder <i>publik</i> , file <i>index.html</i> .  Petunjuk DaData berfungsi pada akun gratis saya, oleh karena itu, mereka mungkin dapat jatuh pada beberapa titik karena efek habr. <br><br>  Saya akan dengan senang hati memberikan komentar dan saran yang membangun tentang pekerjaan aplikasi di <b>Mobx!</b> <br><br>  Sebagai kesimpulan, saya akan mengatakan bahwa perpustakaan telah sangat menyederhanakan pekerjaan dengan data.  Untuk aplikasi kecil dan menengah, itu pasti akan menjadi alat yang sangat nyaman untuk melupakan sifat-sifat komponen dan panggilan balik dan berkonsentrasi langsung pada logika bisnis. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471048/">https://habr.com/ru/post/id471048/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471038/index.html">File deskriptor Linux dengan contoh</a></li>
<li><a href="../id471040/index.html">[bookmark] React manual versi PDF dan ePUB</a></li>
<li><a href="../id471042/index.html">Pemecahan masalah dengan pwnable.kr 25 - otp. Batas ukuran file Linux</a></li>
<li><a href="../id471044/index.html">Sass MediaScreen - Menentukan Perangkat CSS</a></li>
<li><a href="../id471046/index.html">Avalonia yang bergaya</a></li>
<li><a href="../id471050/index.html">D Pendanaan Dana Pengembangan Bahasa: Platform Baru dan Hibah Baru ...</a></li>
<li><a href="../id471052/index.html">Bisakah saya kabur? Dipukul oleh pemrograman tipe generik</a></li>
<li><a href="../id471054/index.html">Longrid pada realisme ancaman kuantum untuk cryptocurrency dan masalah "ramalan 2027"</a></li>
<li><a href="../id471062/index.html">Bagaimana cara mengajar Alice untuk mengelola rumah pintar Anda. Laporan Yandex</a></li>
<li><a href="../id471066/index.html">Seperti apa bentuk arsip zip dan apa yang bisa kita lakukan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>