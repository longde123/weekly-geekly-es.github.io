<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏽 👩🏻‍🎨 💯 Temukan N Perbedaan. Pengalaman pengujian tata letak Tinkoff.ru 😼 🔥 👩‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini diterbitkan atas nama Alexander Kochetkov dan Crasse Snejana. 

 Berapa banyak perbedaan yang akan Anda temukan dalam 10 detik? 



 Pengu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Temukan N Perbedaan. Pengalaman pengujian tata letak Tinkoff.ru</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/429054/">  <i>Artikel ini diterbitkan atas nama Alexander Kochetkov dan Crasse Snejana.</i> <br><br>  Berapa banyak perbedaan yang akan Anda temukan dalam 10 detik? <br><br><img src="https://habrastorage.org/webt/yv/qh/_z/yvqh_zsiieango28fgf74stqf_k.jpeg"><br><br>  Penguji kami akan menemukan SEMUA perbedaannya.  Dan bahkan yang tidak terlihat.  Di bawah ini saya akan berbicara tentang bagaimana dia akan melakukannya, tetapi pertama-tama saya akan memperkenalkan Anda pada hal-hal. <br><a name="habracut"></a><br>  Perusahaan kami sedang mengembangkan berbagai aplikasi web.  Ambil contoh aplikasi web klien yang khas dengan UI yang kaya, beberapa ratus halaman, tata letak responsif, dan dukungan untuk semua browser populer.  Dalam skenario ini, pengujian regresi UI yang ada berubah menjadi AD dan membutuhkan banyak waktu.  Agar tidak menjadi gila dan tidak berkubang di rawa ini, kami mengotomatiskan proses ini dan menciptakan alat baru - <b>QVisual</b> . <br><br>  Bagaimana tata letak pengujian seseorang (UI)?  Dia mengambil implementasi saat ini dan membandingkannya dengan standar abstrak yang dibangun berdasarkan pengalamannya sendiri, kenyamanan dan ribuan halaman web dilihat sebelumnya.  Untuk menulis AI Anda sendiri untuk menguji tata letak tentu saja akan sangat keren.  Tapi ide ini terlihat seperti menembak dari meriam ke burung pipit.  Oleh karena itu, kami melakukannya dengan lebih mudah: sebagai referensi, kami mulai menerima halaman yang sama yang sebelumnya diverifikasi oleh seseorang (dalam kebanyakan kasus ini adalah halaman dari rilis yang sukses sebelumnya).  Jadi, seluruh tugas datang untuk membandingkan dua halaman. <br><br>  Tentu saja, banyak solusi telah diterbitkan yang memungkinkan Anda untuk membandingkan dua gambar piksel dengan piksel.  Mengapa kami menulis "motor lain"?  Jawabannya sederhana - kami tidak ingin membatasi diri pada perbandingan piksel demi piksel, kami ingin dapat membandingkan setiap blok pada halaman dan menerima laporan yang bermakna tentang jumlah dan jenis perbedaan pada blok ini.  Oleh karena itu, alat yang kami terapkan dapat membandingkan tidak hanya gambar itu sendiri, tetapi juga elemen halaman individual, jika diperlukan.  Jadi kami beroperasi bukan dengan tangkapan layar dari dua halaman, tetapi dengan snapshot dari halaman-halaman ini. <br><br><h4>  Keuntungan dari Pendekatan </h4><br>  Cuplikan adalah tangkapan layar seluruh halaman plus data tentang gaya dan properti beberapa elemen web di halaman ini.  Kami menerapkan pencarian perbedaan snapshot dengan aplikasi server dengan API terbuka. <br><br>  Pendekatan: membandingkan elemen, bukan gambar, memungkinkan kami untuk menyoroti kesalahan umum, seperti: <br><br><ul><li>  <b>IMAGE</b> - elemen pada halaman tidak secara visual sesuai dengan elemen pada standar; </li><li>  <b>PINDAH</b> - elemen offset, elemen identik dengan referensi, tetapi dengan koordinat yang berbeda; </li><li>  <b>DISESUAIKAN</b> - sangat mirip dengan offset, tetapi alih-alih posisi elemen, ukurannya berbeda; </li><li>  <b>TEXT</b> - kesalahan dalam teks; </li><li>  <b>CSS</b> dan <b>ATRIBUT</b> - perbedaan gaya dan atribut tidak selalu terlihat secara visual dan tidak selalu merupakan kesalahan.  Tetapi untuk mengendalikan perubahan di dalamnya cukup berguna, karena dalam beberapa kasus membantu menemukan kesalahan yang terkait dengannya. </li></ul><br>  Analisis kecil contoh dengan sejumlah kesalahan umum: <br><br><img src="https://habrastorage.org/webt/2a/tm/-i/2atm-iq1tzielskk7jjhetmeu8i.gif" alt="gambar"><br><br><h4>  Bagaimana cara kerjanya? </h4><br>  Anda dapat menghapus snapshot dari halaman menggunakan alat Anda sendiri, dan Anda dapat mentransfer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tangkapan layar</a> dan data tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">elemen</a> ke server dengan dua permintaan POST biasa. <br>  Jika tes Anda ditulis dalam Java, akan lebih mudah untuk menggunakan perpustakaan kami untuk tujuan ini, yang dengan sendirinya akan membuat snapshot dan mentransfer data ke server. <br>  Sebelum Anda mulai, Anda perlu menentukan beberapa variabel (alamat server, jenis dan versi browser, dll.).  Dalam tes itu sendiri, Anda harus menentukan alamat halaman dari mana Anda ingin mengambil snapshot, dan daftar pelacak dalam format Xpath atau CSS untuk mencari elemen yang kami butuhkan (opsional).  Itu saja! <br><br>  Di dalam perpustakaan, kami menggunakan perintah internal Selenium WebDriver dan skrip JavaScript untuk mengambil snapshot.  Perintah internal WebDriver memungkinkan Anda untuk mengambil tangkapan layar dengan cepat dan akurat (tanpa menempel dan menggulir), dan js - menemukan elemen yang diperlukan dan menambahkan data tentangnya dalam snapshot.  Setelah menghapus snapshot, kami mentransfernya ke aplikasi server kami, yang akan menyimpan data tentang elemen-elemen dalam mongo, dan screenshot itu sendiri di disk server.  Sekarang snapshot ini dapat dibandingkan dengan standar.  Data elemen akan dibandingkan seperti objek biasa, dan tangkapan layar - piksel demi piksel menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenCV</a> . <br>  Sekarang Anda bisa mendapatkan laporan tentang membandingkan dua foto.  Untuk melakukan ini, Anda perlu mengirim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">permintaan GET</a> dan mendapatkan data tentang perbandingan dalam bentuk JSON sebagai tanggapan, atau menggunakan aplikasi front-end kami, yang akan membuat laporan yang terperinci, dan yang paling penting, dapat dibaca. <br><br><h4>  Dan bagaimana dengan laporannya? </h4><br>  Halaman utama laporan berisi informasi tentang tes yang berhasil lulus dan gagal (disorot merah) dan terdiri dari tiga daftar: <br><br><ul><li>  daftar tes (cerita) di mana tata letak diperiksa.  Di sini, untuk kenyamanan, nama-nama pengujian sesuai dengan url halaman dari mana foto diambil; </li><li>  daftar negara (state) - setiap cerita dapat berisi beberapa negara, misalnya, tangkapan layar sebelum mengisi formulir dan setelah.  Setiap negara bagian dapat memuat beberapa foto dalam resolusi dan versi peramban yang berbeda; </li><li>  daftar dengan berbagai browser dan izin serta statistik singkat. </li></ul><br>  Di bagian atas terdapat ikon yang memungkinkan Anda untuk memfilter hasil tergantung pada jenis kesalahan dan persentase perbedaan dalam perbandingan pixel-per-pixel.  Implementasi ini mempercepat verifikasi kesalahan. <br><br><img src="https://habrastorage.org/webt/66/fo/wn/66fownexe7yn5lcjo67pdyjrlxe.png" alt="gambar"><br><br>  Statistik singkat di blok daftar terakhir berisi tiga parameter: <br><br><ul><li>  <b>piksel</b> - perbedaan antara dua gambar dalam persentase relatif terhadap ukuran seluruh halaman; </li><li>  <b>elemen</b> - jumlah elemen yang berbeda (dari yang ditemukan oleh pelacak yang lulus dalam tes); </li><li>  <b>kesalahan</b> - kesalahan internal yang terjadi ketika membandingkan foto-foto (misalnya, salah satu gambar tidak ditemukan untuk perbandingan, atau tidak ada data tentang foto-foto). </li></ul><br>  Laporan untuk setiap halaman adalah dua tangkapan layar dan sapuan elemen yang berbeda di mana diff ditemukan.  Teks sembulan ketika melayang di atas elemen yang berbeda menunjukkan jenis kesalahan dan pelacak tempat elemen ditemukan.  Anda juga dapat mengatur pemfilteran menurut jenis kesalahan, menyembunyikan salah satu tangkapan layar dan mengaktifkan / menonaktifkan hasil perbandingan piksel per piksel. <br><br><img src="https://habrastorage.org/webt/j4/1i/vd/j41ivdk8scudg4igkojzeu4u_hc.png"><br><br>  Seperti disebutkan di atas, kami juga membandingkan tangkapan layar piksel demi piksel, yang untuk beberapa tugas sangat efektif.  Misalnya, untuk halaman baru dengan DOM yang tidak stabil, tidak masuk akal untuk menghabiskan waktu menulis dan memelihara pelacak. <br><br><img src="https://habrastorage.org/webt/wl/t7/nr/wlt7nr5-69dzhhby8jy8mgqg7tc.gif"><br><br>  Sebagai kesimpulan, saya ingin mengatakan tentang pembuangan nyata alat ini untuk perusahaan: setiap hari <b>QVisual</b> membantu penguji kami untuk mengikuti semua perubahan dalam tata letak aplikasi.  Kami menghemat banyak waktu membandingkan pendaratan dengan secara otomatis membuat tangkapan layar (hingga 1500+ pendaratan dalam 3 browser dalam 6 resolusi layar). <br><br>  <b>PS</b> . Ini adalah ikhtisar singkat dari alat kami.  Anda dapat menemukan informasi lebih lanjut tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> , serta berpartisipasi dalam pengembangan alat ini. <br><br>  <b>PPS</b> Bagi mereka yang ingin menguji diri mereka sendiri - ini semua perbedaan dalam gambar dari header: <br><br><img src="https://habrastorage.org/webt/ft/ny/oi/ftnyoiatmcuv5mhfvezdmcgrynm.jpeg"><br><br>  Saluran dukungan alat Telegram: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">t.me/qvisual</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429054/">https://habr.com/ru/post/id429054/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429044/index.html">Saham Apple telah mengalami kejatuhan terburuk sejak 2014. Investor besar telah kehilangan miliaran</a></li>
<li><a href="../id429046/index.html">Empat tahun pengembangan SObjectizer-5.5. Bagaimana SObjectizer berubah selama waktu ini?</a></li>
<li><a href="../id429048/index.html">Kiat untuk pemula hoster</a></li>
<li><a href="../id429050/index.html">Serangan pertukaran Gate.io cryptocurrency direkam</a></li>
<li><a href="../id429052/index.html">Mengapa pada laptop-sentuh beberapa SPA tidak lagi mendukung event sentuh</a></li>
<li><a href="../id429056/index.html">Fisika, bukan biologi, membuat penuaan tak terhindarkan</a></li>
<li><a href="../id429058/index.html">Menggunakan Retrofit 2 di aplikasi Android</a></li>
<li><a href="../id429060/index.html">Konsep pikiran yang ideal. AI Universal</a></li>
<li><a href="../id429062/index.html">Menjinakkan multicast</a></li>
<li><a href="../id429064/index.html">Berjuang untuk sumber daya, bagian 5: Mulai dari awal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>