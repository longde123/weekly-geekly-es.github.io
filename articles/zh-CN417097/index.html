<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§£ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ ğŸ¤¶ğŸ½ JavaScriptå…ƒç¼–ç¨‹ ğŸ‘¨ğŸ¾â€âœˆï¸ âœŒï¸ ğŸ§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å…ƒç¼–ç¨‹æ˜¯ä¸€ç§ä¸ç¨‹åºçš„åˆ›å»ºç›¸å…³è”çš„ç¨‹åºè®¾è®¡ï¼Œè¿™äº›ç¨‹åºçš„åˆ›å»ºä¼šç”±äºå…¶å·¥ä½œè€Œç”Ÿæˆå…¶ä»–ç¨‹åºï¼Œæˆ–è€…åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè‡ªè¡Œæ›´æ”¹ç¨‹åºã€‚ ï¼ˆç»´åŸºç™¾ç§‘ï¼‰ 

 ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€ï¼Œå¯ä»¥å°†JavaScriptå†…éƒ¨çš„å…ƒç¼–ç¨‹è§†ä¸ºä¸€ç§æœºåˆ¶ï¼Œä½¿æ‚¨å¯ä»¥æ ¹æ®ä»»ä½•æ“ä½œå®æ—¶åˆ†æå’Œæ›´æ”¹ç¨‹åºã€‚ è€Œä¸”ï¼Œå¾ˆå¯èƒ½æ‚¨æ¯å¤©éƒ½åœ¨ç¼–å†™è„šæœ¬æ—¶ä»¥æŸç§æ–¹å¼ä½¿ç”¨å®ƒä»¬...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScriptå…ƒç¼–ç¨‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/docsvision/blog/417097/"><blockquote> å…ƒç¼–ç¨‹æ˜¯ä¸€ç§ä¸ç¨‹åºçš„åˆ›å»ºç›¸å…³è”çš„ç¨‹åºè®¾è®¡ï¼Œè¿™äº›ç¨‹åºçš„åˆ›å»ºä¼šç”±äºå…¶å·¥ä½œè€Œç”Ÿæˆå…¶ä»–ç¨‹åºï¼Œæˆ–è€…åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè‡ªè¡Œæ›´æ”¹ç¨‹åºã€‚  ï¼ˆç»´åŸºç™¾ç§‘ï¼‰ </blockquote><p> ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€ï¼Œå¯ä»¥å°†JavaScriptå†…éƒ¨çš„å…ƒç¼–ç¨‹è§†ä¸ºä¸€ç§æœºåˆ¶ï¼Œä½¿æ‚¨å¯ä»¥æ ¹æ®ä»»ä½•æ“ä½œå®æ—¶åˆ†æå’Œæ›´æ”¹ç¨‹åºã€‚ è€Œä¸”ï¼Œå¾ˆå¯èƒ½æ‚¨æ¯å¤©éƒ½åœ¨ç¼–å†™è„šæœ¬æ—¶ä»¥æŸç§æ–¹å¼ä½¿ç”¨å®ƒä»¬ã€‚ </p><a name="habracut"></a><br><p> ä»æœ¬è´¨ä¸Šè®²ï¼ŒJavaScriptæ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„åŠ¨æ€è¯­è¨€ï¼Œå¯è®©æ‚¨å¾ˆå¥½åœ°ç¼–å†™çµæ´»çš„ä»£ç ï¼š </p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *   save-    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> comment = { <span class="hljs-attr"><span class="hljs-attr">authorId</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">comment</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> comment) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pascalCasedName = name.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).toUpperCase() + name.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>); comment[<span class="hljs-string"><span class="hljs-string">`save</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${pascalCasedName}</span></span></span><span class="hljs-string">`</span></span>] = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   } } comment.saveAuthorId(); //  authorId comment.saveComment(); //  comment</span></span></code> </pre> <br><p> ç”¨äºåŠ¨æ€åˆ›å»ºå…¶ä»–è¯­è¨€æ–¹æ³•çš„ç±»ä¼¼ä»£ç é€šå¸¸å¯èƒ½éœ€è¦ç‰¹æ®Šçš„è¯­æ³•æˆ–APIã€‚ ä¾‹å¦‚ï¼ŒPHPè¿˜æ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œä½†æ˜¯åœ¨å…¶ä¸­å®ƒå°†éœ€è¦æ›´å¤šçš„åŠªåŠ›ï¼š </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comment</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $authorId; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $comment; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($authorId, $comment)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;authorId = $authorId; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comment = $comment; } <span class="hljs-comment"><span class="hljs-comment">//       public function __call($methodName, $arguments) { foreach (get_object_vars($this) as $fieldName =&gt; $fieldValue) { $saveMethodName = "save" . strtoupper($fieldName[0]) . substr($fieldName, 1); if ($methodName == $saveMethodName) { //   } } } } $comment = new Comment(1, ''); $comment-&gt;saveAuthorId(); //  authorId $comment-&gt;saveComment(); //  comment</span></span></code> </pre> <br><p> é™¤äº†çµæ´»çš„è¯­æ³•å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰è®¸å¤šç”¨äºç¼–å†™åŠ¨æ€ä»£ç çš„æœ‰ç”¨å‡½æ•°ï¼šObject.createï¼ŒObject.definePropertyï¼ŒFunction.applyç­‰ã€‚ </p><br><p> æ›´è¯¦ç»†åœ°è€ƒè™‘å®ƒä»¬ã€‚ </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»£ç ç”Ÿæˆ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨åŠŸèƒ½</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¤„ç†å¯¹è±¡</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åæ˜ API</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¦å·</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»£ç†äºº</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç»“è®º</a> </li></ol><br><h2 id="1-generaciya-koda">  1.ä»£ç ç”Ÿæˆ </h2><br><p> åŠ¨æ€æ‰§è¡Œä»£ç çš„æ ‡å‡†å·¥å…·æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">eval</a>å‡½æ•°ï¼Œå®ƒå…è®¸æ‚¨ä»ä¼ é€’çš„å­—ç¬¦ä¸²ä¸­æ‰§è¡Œä»£ç ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">'alert("Hello, world")'</span></span>);</code> </pre> <br><p> ä¸å¹¸çš„æ˜¯ï¼Œevalæœ‰è®¸å¤šç»†å¾®å·®åˆ«ï¼š </p><br><ul><li> å¦‚æœæˆ‘ä»¬çš„ä»£ç ä»¥ä¸¥æ ¼æ¨¡å¼ï¼ˆâ€œ use strictâ€ï¼‰ç¼–å†™ï¼Œåˆ™åœ¨evalä¸­å£°æ˜çš„å˜é‡å°†åœ¨è°ƒç”¨evalä»£ç ä¸­ä¸å¯è§ã€‚ åŒæ—¶ï¼Œevalä¸­çš„ä»£ç æœ¬èº«å¯ä»¥éšæ—¶æ›´æ”¹å¤–éƒ¨å˜é‡ã€‚ </li><li>  evalä¸­çš„ä»£ç æ—¢å¯ä»¥åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼ˆå¦‚æœé€šè¿‡window.evalè°ƒç”¨ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä¸­è¿›è¡Œè°ƒç”¨çš„å‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œï¼ˆå¦‚æœåªæ˜¯evalï¼Œæ²¡æœ‰çª—å£ï¼‰ã€‚ </li><li> å½“ç”¨è¾ƒå°çš„å˜é‡åæ›¿æ¢å˜é‡åä»¥å‡å°å¤§å°æ—¶ï¼Œç”±äºJSçš„ç¼©å°ä¼šå‡ºç°é—®é¢˜ã€‚ ä½œä¸ºå­—ç¬¦ä¸²ä¼ é€’ç»™evalçš„ä»£ç é€šå¸¸ä¸ä¼šç¢°åˆ°minifierï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ—§çš„æœªæœ€å°åŒ–çš„åç§°å¼€å§‹è®¿é—®å¤–éƒ¨å˜é‡ï¼Œè¿™å°†å¯¼è‡´ç»†å¾®çš„é”™è¯¯ã€‚ </li></ul><br><p> è§£å†³è¿™äº›é—®é¢˜æœ‰ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–°åŠŸèƒ½</a> ã€‚ </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hello = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'alert("Hello, " + name)'</span></span>); hello(<span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-comment"><span class="hljs-comment">// alert("Hello, ");</span></span></code> </pre> <br><p> ä¸evalä¸åŒï¼Œæˆ‘ä»¬æ€»æ˜¯å¯ä»¥é€šè¿‡å‡½æ•°çš„å‚æ•°æ˜¾å¼ä¼ é€’å‚æ•°ï¼Œå¹¶åŠ¨æ€åœ°ä¸ºå…¶æä¾›ä¸Šä¸‹æ–‡ï¼ˆé€šè¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.apply</a>æˆ–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.call</a> ï¼‰ã€‚ å¦å¤–ï¼Œåˆ›å»ºçš„å‡½æ•°æ€»æ˜¯åœ¨å…¨å±€èŒƒå›´å†…è°ƒç”¨ã€‚ </p><br><p> åœ¨è¿‡å»ï¼Œevalé€šå¸¸ç”¨äºåŠ¨æ€æ›´æ”¹ä»£ç ï¼Œå› ä¸º  JavaScriptçš„åå°„æœºåˆ¶å¾ˆå°‘ï¼Œæ²¡æœ‰è¯„ä¼°å°±ä¸å¯èƒ½åšåˆ°ã€‚ ä½†æ˜¯åœ¨ç°ä»£è¯­è¨€æ ‡å‡†ä¸­ï¼Œå‡ºç°äº†æ›´å¤šçš„é«˜çº§åŠŸèƒ½ï¼Œå¹¶ä¸”ç°åœ¨å¾ˆå°‘ä½¿ç”¨evaläº†ã€‚ </p><br><h2 id="2-rabota-s-funkciyami">  2.ä½¿ç”¨åŠŸèƒ½ </h2><br><p>  JavaScriptä¸ºæˆ‘ä»¬æä¾›äº†è®¸å¤šå‡ºè‰²çš„å·¥å…·æ¥åŠ¨æ€å¤„ç†å‡½æ•°ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶è·å–æœ‰å…³å‡½æ•°çš„å„ç§ä¿¡æ¯å¹¶è¿›è¡Œæ›´æ”¹ï¼š </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.length-</a>å…è®¸æ‚¨ä»å‡½æ•°ä¸­æ‰¾åˆ°å‚æ•°æ•°é‡ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> func = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hello, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${surname}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">`</span></span>) }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(func.length) <span class="hljs-comment"><span class="hljs-comment">// 2</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.apply</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.call-</a>å…è®¸æ‚¨åŠ¨æ€æ›´æ”¹æ­¤å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">introduce</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.name}</span></span></span><span class="hljs-string">`</span></span>; } } person.introduce(); <span class="hljs-comment"><span class="hljs-comment">//   person.introduce.call({ name: '' }); //  </span></span></code> </pre> <br><p> å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºï¼Œåœ¨Function.applyä¸­ï¼Œå‡½æ•°çš„å‚æ•°ç”¨ä½œæ•°ç»„ï¼Œåœ¨Function.callä¸­ï¼Œä»¥é€—å·åˆ†éš”ã€‚ ç»å¸¸åœ¨å°†æ­¤å‚æ•°åˆ—è¡¨ä½œä¸ºæ•°ç»„ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚ ä¸€ä¸ªå¸¸è§çš„ç¤ºä¾‹æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Math.max</a>å‡½æ•°ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ— æ³•ä¸æ•°ç»„ä¸€èµ·ä½¿ç”¨ï¼‰ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max.apply(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre> <br><p> éšç€æ–°çš„ç‚¹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å·®è¿ç®—ç¬¦</a>çš„å‡ºç°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ï¼Œ</a>æ‚¨å¯ä»¥ç®€å•åœ°ç¼–å†™ä»¥ä¸‹ä»£ç ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.max(...[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.bind-</a>å…è®¸æ‚¨ä»ç°æœ‰å‡½æ•°åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼Œä½†å…·æœ‰ä¸åŒçš„ä¸Šä¸‹æ–‡ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">introduce</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.name}</span></span></span><span class="hljs-string">`</span></span>; } } person.introduce(); <span class="hljs-comment"><span class="hljs-comment">//   const introduceEgor = person.introduce.bind({ name: '' }); introduceEgor(); //  </span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.caller-</a>å…è®¸æ‚¨è·å–è°ƒç”¨å‡½æ•°ã€‚  <strong>ä¸å»ºè®®ä½¿ç”¨å®ƒ</strong> ï¼Œå› ä¸ºå®ƒåœ¨è¯­è¨€æ ‡å‡†ä¸­æ˜¯ä¸å­˜åœ¨çš„ï¼Œå¹¶ä¸”åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•ä½¿ç”¨ã€‚ è¿™æ˜¯ç”±äºä»¥ä¸‹äº‹å®ï¼šå¦‚æœå„ç§JavaScriptå¼•æ“å®ç°äº†è¯­è¨€è§„èŒƒä¸­æè¿°çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å°¾éƒ¨è°ƒç”¨</a>ä¼˜åŒ–ï¼Œåˆ™è°ƒç”¨Function.callerå¯èƒ½ä¼šå¼€å§‹äº§ç”Ÿé”™è¯¯çš„ç»“æœã€‚ ç”¨æ³•ç¤ºä¾‹ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(a.caller == b); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ a(); } b(); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Function.toString-</a>è¿”å›<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‡½æ•°</a>çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ è¿™æ˜¯ä¸€é¡¹éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¯è®©æ‚¨æ£€æŸ¥å‡½æ•°çš„å†…å®¹åŠå…¶å‚æ•°ï¼š </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFullName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname, middlename</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${surname}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${middlename}</span></span></span><span class="hljs-string">`</span></span>); } getFullName.toString() <span class="hljs-comment"><span class="hljs-comment">/* * "(name, surname, middlename) =&gt; { * console.log(`${surname} ${name} ${middlename}`); * }" */</span></span></code> </pre> <br><p> æ”¶åˆ°å‡½æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼åï¼Œæˆ‘ä»¬å¯ä»¥è§£æå’Œè§£æå®ƒã€‚ ä¾‹å¦‚ï¼Œè¿™å¯ä»¥ç”¨äºæå–å‡½æ•°å‚æ•°çš„åç§°ï¼Œå¹¶æ ¹æ®åç§°è‡ªåŠ¨æ›¿æ¢æ‰€éœ€çš„å‚æ•°ã€‚ é€šå¸¸ï¼Œæœ‰ä¸¤ç§è§£ææ–¹æ³•ï¼š </p><br><ul><li> è§£æä¸€å †å¸¸è§„æ•°æ®ï¼Œæˆ‘ä»¬å°†è·å¾—å¯æ¥å—çš„å¯é æ€§æ°´å¹³ï¼ˆå¦‚æœæˆ‘ä»¬ä¸æ¶µç›–æ‰€æœ‰å¯èƒ½çš„å‡½æ•°æ¡ç›®ç±»å‹ï¼Œåˆ™å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼‰ã€‚ </li><li> æˆ‘ä»¬è·å¾—è¯¥å‡½æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œå¹¶å°†å…¶æ”¾å…¥å®Œæˆçš„JavaScriptè§£æå™¨ä¸­ï¼ˆä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">esprima</a>æˆ–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">acorn</a> ï¼‰ï¼Œç„¶åä½¿ç”¨ç»“æ„åŒ–ASTã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡esprimaè¿›è¡ŒASTè§£æçš„ç¤ºä¾‹ã€‚</a> æˆ‘è¿˜å¯ä»¥ä¸ºAlexei Okhrimenkoçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§£æå™¨</a>æä¾›ä¸€ä»½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸é”™çš„æŠ¥å‘Š</a> ã€‚ </li></ul><br></li></ul><br><p> å…·æœ‰å¸¸è§„å‡½æ•°è§£æçš„ç®€å•ç¤ºä¾‹ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">è·å–å‡½æ•°å‚æ•°åˆ—è¡¨</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *    . * @param fn  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFunctionParams = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> COMMENTS = <span class="hljs-regexp"><span class="hljs-regexp">/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,\)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,\)]*))/gm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> DEFAULT_PARAMS = <span class="hljs-regexp"><span class="hljs-regexp">/=[^,]+/gm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> FAT_ARROW = <span class="hljs-regexp"><span class="hljs-regexp">/=&gt;.*$/gm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ARGUMENT_NAMES = <span class="hljs-regexp"><span class="hljs-regexp">/([^\s,]+)/g</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> formattedFn = fn .toString() .replace(COMMENTS, <span class="hljs-string"><span class="hljs-string">""</span></span>) .replace(FAT_ARROW, <span class="hljs-string"><span class="hljs-string">""</span></span>) .replace(DEFAULT_PARAMS, <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> params = formattedFn .slice(formattedFn.indexOf(<span class="hljs-string"><span class="hljs-string">"("</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>, formattedFn.indexOf(<span class="hljs-string"><span class="hljs-string">")"</span></span>)) .match(ARGUMENT_NAMES); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> params || []; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFullName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname, middlename</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(surname + <span class="hljs-string"><span class="hljs-string">' '</span></span> + name + <span class="hljs-string"><span class="hljs-string">' '</span></span> + middlename); }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(getFunctionParams(getFullName)); <span class="hljs-comment"><span class="hljs-comment">// ["name", "surname", "middlename"]</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><div class="spoiler">  <b class="spoiler_title">è·å¾—èº«ä½“æœºèƒ½</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     . * @param fn  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFunctionBody = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> restoreIndent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">body</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lines = body.split(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bodyLine = lines.find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">line</span></span></span><span class="hljs-function"> =&gt;</span></span> line.trim() !== <span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> indent = <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> bodyLine !== <span class="hljs-string"><span class="hljs-string">"undefined"</span></span> ? <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/[ \t]*/</span></span></span></span><span class="hljs-function"><span class="hljs-params">.exec(bodyLine</span></span></span><span class="hljs-function">) || [])[0] : ""; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indent</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indent</span></span></span><span class="hljs-function"> || ""; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">lines</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">line =&gt; line.replace(indent, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">join</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"\n"</span></span></span></span></span><span class="hljs-function">); }; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fnStr</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fn</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rawBody</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fnStr</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">substring</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> fnStr.indexOf(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"{"</span></span></span></span></span><span class="hljs-function">) + 1, </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fnStr</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">lastIndexOf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"}"</span></span></span></span></span><span class="hljs-function">) ); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indentedBody</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">restoreIndent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">rawBody</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">trimmedBody</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">indentedBody</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">replace</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/^\s+|\s+$/g</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">return</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">trimmedBody</span></span></span><span class="hljs-function">; }; //       </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getFullName</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">getFullName</span></span></span><span class="hljs-function"> = (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname, middlename</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(surname + <span class="hljs-string"><span class="hljs-string">' '</span></span> + name + <span class="hljs-string"><span class="hljs-string">' '</span></span> + middlename); }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(getFunctionBody(getFullName));</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><p> é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œä½¿ç”¨ç¼©å°å™¨æ—¶ï¼Œè§£æå‡½æ•°å†…éƒ¨çš„ä»£ç æœ¬èº«åŠå…¶å‚æ•°éƒ½å¯ä»¥è¢«ä¼˜åŒ–ï¼Œå› æ­¤å¯ä»¥æ›´æ”¹ã€‚ </p><br><h2 id="3-rabota-s-obektami">  3.å¤„ç†å¯¹è±¡ </h2><br><p>  JavaScriptæœ‰ä¸€ä¸ªå…¨å±€Objectå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«è®¸å¤šç”¨äºåŠ¨æ€å¤„ç†å¯¹è±¡çš„æ–¹æ³•ã€‚ </p><br><p> è¿™äº›è¯­è¨€ä¸­çš„å¤§å¤šæ•°æ–¹æ³•æ—©å·²åœ¨è¯¥è¯­è¨€ä¸­å­˜åœ¨å¹¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚ </p><br><h3 id="svoystva-obekta"> å¯¹è±¡å±æ€§ </h3><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.assign-</a>æ–¹ä¾¿åœ°å°†ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„å¯¹è±¡ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign({}, { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }) <span class="hljs-comment"><span class="hljs-comment">// {a: 1, b: 2, c: 3}</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.keys</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.values-</a>è¿”å›é”®åˆ—è¡¨æˆ–å¯¹è±¡å€¼åˆ—è¡¨ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(obj)); <span class="hljs-comment"><span class="hljs-comment">// ["a", "b", "c"] console.log(Object.values(obj)); // [1, 2, 3]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.entries-</a>ä»¥<em>[[key1ï¼Œvalue1]ï¼Œ[key2ï¼Œvalue2]]</em>æ ¼å¼è¿”å›å…¶å±æ€§çš„åˆ—è¡¨ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">c</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(obj)); <span class="hljs-comment"><span class="hljs-comment">// [["a", 1], ["b", 2], ["c", 3]]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.prototype.hasOwnProperty-</a>æ£€æŸ¥å±æ€§æ˜¯å¦åŒ…å«åœ¨å¯¹è±¡ä¸­ï¼ˆä¸åœ¨å…¶åŸå‹é“¾ä¸­ï¼‰ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }; obj.__proto__ = { <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(obj.hasOwnProperty(<span class="hljs-string"><span class="hljs-string">'a'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// true console.log(obj.hasOwnProperty('b')) // false</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.getOwnPropertyNames-</a>è¿”å›å…¶è‡ªèº«å±æ€§çš„åˆ—è¡¨ï¼ŒåŒ…æ‹¬æšä¸¾å’Œéæšä¸¾ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(obj, <span class="hljs-string"><span class="hljs-string">'c'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">enumerable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//    for (let key in obj) { console.log(key); } // "a", "b" console.log(Object.getOwnPropertyNames(obj)); // [ "a", "b", "c" ]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.getOwnPropertySymbols-</a>è¿”å›å…¶è‡ªèº«çš„åˆ—è¡¨ï¼ˆåŒ…å«åœ¨å¯¹è±¡ä¸­ï¼Œè€Œä¸åœ¨å…¶åŸå‹é“¾ä¸­ï¼‰ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> a = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'a'</span></span>); obj[a] = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertySymbols(obj)); <span class="hljs-comment"><span class="hljs-comment">// [ Symbol(a) ]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.prototype.propertyIsEnumerable-</a>æ£€æŸ¥å±æ€§æ˜¯å¦å¯æšä¸¾ï¼ˆä¾‹å¦‚ï¼Œåœ¨for-inï¼Œfor-ofå¾ªç¯ä¸­å¯ç”¨ï¼‰ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = [ <span class="hljs-string"><span class="hljs-string">' '</span></span> ]; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(arr.propertyIsEnumerable(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// true â€”  ' '   console.log(arr.propertyIsEnumerable('length')); // false â€”  length   </span></span></code> </pre> <br></li></ul><br><h3 id="deskriptory-svoystv-obekta"> å¯¹è±¡å±æ€§æè¿°ç¬¦ </h3><br><p> æè¿°ç¬¦å…è®¸æ‚¨å¾®è°ƒå±æ€§å‚æ•°ã€‚ ä½¿ç”¨å®ƒä»¬ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å–/å†™å…¥ä»»ä½•å±æ€§ï¼ˆgetterå’Œsetters-get / setï¼‰ï¼Œä½¿å±æ€§ä¸å¯å˜æˆ–ä¸å¯æšä¸¾ä»¥åŠè®¸å¤šå…¶ä»–äº‹æƒ…æ—¶æ–¹ä¾¿åœ°åˆ¶ä½œè‡ªå·±çš„æ‹¦æˆªå™¨ã€‚ </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.defineProperty</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.defineProperties-</a>åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§æè¿°ç¬¦ã€‚ ä½¿ç”¨getterå’Œsetteråˆ›å»ºè‡ªå·±çš„æè¿°ç¬¦ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(obj, <span class="hljs-string"><span class="hljs-string">'fullname'</span></span>, { <span class="hljs-comment"><span class="hljs-comment">//     fullname get: function() { return `${this.name} ${this.surname}`; }, //     fullname (     delete obj.fullname) set: function(value) { const [name, surname] = value.split(' '); this.name = name; this.surname = surname; }, }); console.log(obj.fullname); //   obj.fullname = ' '; console.log(obj.name); //  console.log(obj.surname); // </span></span></code> </pre> <br><p> åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œfullnameå±æ€§æ²¡æœ‰è‡ªå·±çš„å€¼ï¼Œè€Œæ˜¯åŠ¨æ€ä½¿ç”¨nameå’Œsurnameå±æ€§ã€‚ ä¸å¿…åŒæ—¶å®šä¹‰getterå’Œsetter-æˆ‘ä»¬å¯ä»¥åªä¿ç•™getterå¹¶è·å¾—åªè¯»å±æ€§ã€‚ æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¾ç½®å™¨ä¸­æ·»åŠ å…¶ä»–æ“ä½œä»¥åŠè®¾ç½®å€¼ï¼Œä¾‹å¦‚ï¼Œæ—¥å¿—è®°å½•ã€‚ <br> é™¤äº†get / setå±æ€§å¤–ï¼Œæè¿°ç¬¦è¿˜å…·æœ‰å…¶ä»–å‡ ä¸ªè¦é…ç½®çš„å±æ€§ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = {}; <span class="hljs-comment"><span class="hljs-comment">//      get/set,       value.    get/set  value.   â€” undefined. Object.defineProperty(obj, 'name', { value: '' }); // ,         (for-in, for-of, Object.keys).   â€” false. Object.defineProperty(obj, 'a', { enumerable: true }); //         defineProperty     delete.   â€” false. Object.defineProperty(obj, 'b', { configurable: false }); //      .   â€” false. Object.defineProperty(obj, 'c', { writable: true });</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.getOwnPropertyDescriptor</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.getOwnPropertyDescriptors-</a>å…è®¸æ‚¨è·å–æ‰€éœ€çš„å¯¹è±¡æè¿°ç¬¦æˆ–å…¶å®Œæ•´åˆ—è¡¨ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = { <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">b</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(obj, <span class="hljs-string"><span class="hljs-string">"a"</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// { configurable: true, enumerable: true, value: 1, writable: true } /** * { * a: { configurable: true, enumerable: true, value: 1, writable: true }, * b: { configurable: true, enumerable: true, value: 2, writable: true } * } */ console.log(Object.getOwnPropertyDescriptors(obj));</span></span></code> </pre> <br></li></ul><br><h3 id="sozdanie-ogranicheniy-pri-rabote-s-obektami"> åœ¨å¤„ç†å¯¹è±¡æ—¶åˆ›å»ºé™åˆ¶ </h3><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.freeze-</a> â€œå†»ç»“â€å¯¹è±¡çš„å±æ€§ã€‚ è¿™ç§â€œå†»ç»“â€çš„ç»“æœæ˜¯å¯¹è±¡å±æ€§çš„å®Œå…¨ä¸å˜æ€§-æ— æ³•æ›´æ”¹å’Œåˆ é™¤å®ƒä»¬ï¼Œæ·»åŠ æ–°å±æ€§ï¼Œæ›´æ”¹æè¿°ç¬¦ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.freeze({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//       ,       . obj.a = 2; obj.b = 3; console.log(obj); // { a: 1 } console.log(Object.isFrozen(obj)) // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.seal-</a> â€œå¯†å°â€å¯¹è±¡çš„å±æ€§ã€‚ å¯†å°ä¸Object.freezeç›¸ä¼¼ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šåŒºåˆ«ã€‚ ä¸Object.freezeä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬ç¦æ­¢æ·»åŠ æ–°å±æ€§ï¼Œåˆ é™¤ç°æœ‰å±æ€§ï¼Œæ›´æ”¹å…¶æè¿°ç¬¦ï¼Œä½†åŒæ—¶æˆ‘ä»¬å¯ä»¥æ›´æ”¹å±æ€§å€¼ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.seal({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); obj.a = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  a   2 //     ,       . obj.b = 3; console.log(obj); // { a: 2 } console.log(Object.isSealed(obj)) // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.preventExtensions-</a>ç¦æ­¢æ·»åŠ æ–°çš„å±æ€§/æè¿°ç¬¦ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.preventExtensions({ <span class="hljs-attr"><span class="hljs-attr">a</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); obj.a = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//       ,       . obj.b = 3; console.log(obj); // { a: 2 } console.log(Object.isExtensible(obj)) // false</span></span></code> </pre> <br></li></ul><br><h3 id="prototipy-obektov"> å¯¹è±¡åŸå‹ </h3><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.create-</a>ä½¿ç”¨å‚æ•°ä¸­æŒ‡å®šçš„åŸå‹åˆ›å»ºå¯¹è±¡ã€‚ æ­¤åŠŸèƒ½å¯ç”¨äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŸå‹ç»§æ‰¿</a>å’Œåˆ›å»ºâ€œå¹²å‡€â€å¯¹è±¡ï¼Œè€Œæ— éœ€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.prototypeçš„</a>å±æ€§ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pureObj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(<span class="hljs-literal"><span class="hljs-literal">null</span></span>);</code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.getPrototypeOf</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.setPrototypeOf-</a>è·å–/æ›´æ”¹å¯¹è±¡çš„åŸå‹ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> duck = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bird = {}; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.setPrototypeOf(duck, bird); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(duck) === bird); <span class="hljs-comment"><span class="hljs-comment">// true console.log(duck.__proto__ === bird); // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.prototype.isPrototypeOf-</a>æ£€æŸ¥å½“å‰å¯¹è±¡æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸­ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> duck = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bird = {}; duck.__proto__ = bird; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(bird.isPrototypeOf(duck)); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br></li></ul><br><h2 id="4-reflect-api">  4.åæ˜ API </h2><br><p> éšç€ES6çš„åˆ°æ¥ï¼Œå…¨å±€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect</a>å¯¹è±¡å·²æ·»åŠ åˆ°JavaScriptä¸­ï¼Œä»¥å­˜å‚¨ä¸åå°„å’Œè‡ªçœæœ‰å…³çš„å„ç§æ–¹æ³•ã€‚ </p><br><p> ä»–çš„å¤§å¤šæ•°æ–¹æ³•æ˜¯å°†ç°æœ‰æ–¹æ³•ä»è¯¸å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Functionä¹‹</a>ç±»çš„å…¨å±€å¯¹è±¡è½¬ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„åç§°ç©ºé—´çš„ç»“æœï¼Œå¹¶è¿›è¡Œäº†ä¸€äº›é‡æ„ä»¥ä½¿ä½¿ç”¨æ›´åŠ èˆ’é€‚ã€‚ </p><br><p> å°†å‡½æ•°è½¬ç§»åˆ°Reflectå¯¹è±¡ä¸ä»…å¯ä»¥æ–¹ä¾¿åœ°å¯»æ‰¾å¿…è¦çš„åå°„æ–¹æ³•å¹¶æä¾›æ›´å¤§çš„è¯­ä¹‰ï¼Œè€Œä¸”è¿˜å¯ä»¥é¿å…åœ¨æˆ‘ä»¬çš„å¯¹è±¡åŸå‹ä¸­ä¸åŒ…å«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.prototypeçš„</a>æƒ…å†µå‡ºç°ï¼Œä½†æˆ‘ä»¬æƒ³ä»é‚£é‡Œä½¿ç”¨è¿™äº›æ–¹æ³•ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> obj = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(<span class="hljs-literal"><span class="hljs-literal">null</span></span>); obj.qwerty = <span class="hljs-string"><span class="hljs-string">'qwerty'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(obj.__proto__) <span class="hljs-comment"><span class="hljs-comment">// null console.log(obj.hasOwnProperty('qwerty')) // Uncaught TypeError: obj.hasOwnProperty is not a function console.log(obj.hasOwnProperty === undefined); // true console.log(Object.prototype.hasOwnProperty.call(obj, 'qwerty')); // true</span></span></code> </pre> <br><p> é‡æ„ä½¿æ–¹æ³•çš„è¡Œä¸ºæ›´åŠ æ˜ç¡®å’Œå•è°ƒã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåœ¨æ›´æ—©çš„æ—¶å€™ï¼Œå½“å¯¹ä¸æ­£ç¡®çš„å€¼ï¼ˆä¾‹å¦‚æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼‰è°ƒç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.defineProperty</a>æ—¶ï¼Œä¼šå¼•å‘å¼‚å¸¸ï¼Œä½†åŒæ—¶ï¼Œå¯¹ä¸å­˜åœ¨çš„å¯¹è±¡æè¿°ç¬¦è°ƒç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.getOwnPropertyDescriptor</a>æ—¶ä¼šé»˜é»˜è¿”å›undefinedï¼Œç„¶åReflectçš„ç±»ä¼¼æ–¹æ³•å§‹ç»ˆä¼šä¸ºä¸æ­£ç¡®çš„æ•°æ®å¼•å‘å¼‚å¸¸ã€‚ </p><br><p> è¿˜æ·»åŠ äº†å‡ ç§æ–°æ–¹æ³•ï¼š </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect.construct</a>æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Object.create</a>çš„æ›´æ–¹ä¾¿çš„æ›¿ä»£æ–¹æ³•ï¼Œå®ƒä¸ä»…å…è®¸ä½¿ç”¨æŒ‡å®šçš„åŸå‹åˆ›å»ºå¯¹è±¡ï¼Œè¿˜å¯ä»¥ç«‹å³å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, surname</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.formatParam(name); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.surname = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.formatParam(surname); } Person.prototype.formatParam = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">param</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> param.slice(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).toUpperCase() + param.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>).toLowerCase(); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldPerson = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.create(Person.prototype); <span class="hljs-comment"><span class="hljs-comment">// {} Person.call(oldPerson, '', ''); // {name: "", surname: ""} const newPerson = Reflect.construct(Person, ['', '']); // {name: "", surname: ""}</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect.ownKeys-</a>è¿”å›å±äºæŒ‡å®šå¯¹è±¡ï¼ˆè€Œä¸æ˜¯åŸå‹é“¾ä¸­çš„å¯¹è±¡ï¼‰çš„å±æ€§çš„æ•°ç»„ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; person.__proto__ = { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.ownKeys(person)); <span class="hljs-comment"><span class="hljs-comment">// ["name", "surname"]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect.deleteProperty-</a> <em>åˆ é™¤</em>æ“ä½œç¬¦çš„æ›¿ä»£æ–¹æ³•ï¼Œä»¥ä¸€ç§æ–¹æ³•çš„å½¢å¼è¿›è¡Œï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> person.name; <span class="hljs-comment"><span class="hljs-comment">// person = {surname: ""} Reflect.deleteProperty(person, 'surname'); // person = {}</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect.has</a> - <em>in</em>è¿ç®—ç¬¦çš„æ›¿ä»£æ–¹æ³•ï¼Œä»¥ä¸€ç§æ–¹æ³•çš„å½¢å¼å®ç°ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'name'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> person); <span class="hljs-comment"><span class="hljs-comment">// true console.log(Reflect.has(person, 'name')); // true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect.get</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Reflect.set-</a>ç”¨äºè¯»å–/æ›´æ”¹å¯¹è±¡å±æ€§ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.get(person, <span class="hljs-string"><span class="hljs-string">'name'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">//  Reflect.set(person, 'surname', '') // person = {name: "", surname: ""}</span></span></code> </pre> <br></li></ul><br><p> æœ‰å…³æ›´æ”¹çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ã€‚ </p><br><h3 id="reflect-metadata"> åæ˜ å…ƒæ•°æ® </h3><br><p> é™¤äº†ä¸Šé¢åˆ—å‡ºçš„â€œåå°„å¯¹è±¡â€æ–¹æ³•å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå®éªŒæ€§å»ºè®®ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å°†å„ç§å…ƒæ•°æ®ç»‘å®šåˆ°å¯¹è±¡ã€‚ </p><br><p> å…ƒæ•°æ®å¯ä»¥æ˜¯ä¸å¯¹è±¡æ²¡æœ‰ç›´æ¥å…³ç³»çš„ä»»ä½•æœ‰ç”¨ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š </p><br><ul><li>  TypeScriptåœ¨æ‰“å¼€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">embedDecoratorMetadata</a>æ ‡å¿—<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ—¶ï¼Œä¼š</a>åœ¨å…ƒæ•°æ®ä¸­å†™å…¥æœ‰å…³ç±»å‹çš„ä¿¡æ¯ï¼Œä»è€Œå…è®¸æ‚¨åœ¨è¿è¡Œæ—¶è®¿é—®å®ƒä»¬ã€‚ æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å…³é”®è®¾è®¡è·å–æ­¤ä¿¡æ¯ï¼šç±»å‹ï¼š <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> typeData = Reflect.getMetadata(<span class="hljs-string"><span class="hljs-string">"design:type"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, propertyName);</code> </pre> </li><li> æµè¡Œçš„ç”¨äºåè½¬æ§åˆ¶çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">InversifyJS</a>åº“å°†æœ‰å…³æ‰€æè¿°å…³ç³»çš„å„ç§ä¿¡æ¯å­˜å‚¨åœ¨å…ƒæ•°æ®ä¸­ã€‚ </li></ul><br><p> ç›®å‰ï¼Œæ­¤<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">polyfillå¯</a>åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ã€‚</a> </p><br><h2 id="5-simvoly-symbols">  5.ç¬¦å· </h2><br><p> ç¬¦å·æ˜¯ä¸€ç§æ–°çš„ä¸å¯å˜æ•°æ®ç±»å‹ï¼Œä¸»è¦ç”¨äºä¸ºå¯¹è±¡å±æ€§æ ‡è¯†ç¬¦åˆ›å»ºå”¯ä¸€çš„åç§°ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼åˆ›å»ºè§’è‰²ï¼š </p><br><ol><li><p> æœ¬åœ°ç¬¦å·-Symbolå‡½æ•°çš„å‚æ•°ä¸­çš„æ–‡æœ¬ä¸ä¼šå½±å“å”¯ä¸€æ€§ï¼Œä»…åœ¨è°ƒè¯•æ—¶æ‰éœ€è¦ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym1 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym2 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(sym1 == sym2); <span class="hljs-comment"><span class="hljs-comment">// false</span></span></code> </pre> <br></li><li><p> å…¨å±€å­—ç¬¦-å­—ç¬¦å­˜å‚¨åœ¨å…¨å±€æ³¨å†Œè¡¨ä¸­ï¼Œå› æ­¤å…·æœ‰ç›¸åŒé”®çš„å­—ç¬¦ç›¸ç­‰ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym3 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.for(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym4 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.for(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sym5 = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.for(<span class="hljs-string"><span class="hljs-string">'other name'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(sym3 == sym4); <span class="hljs-comment"><span class="hljs-comment">// true,        'name' console.log(sym3 == sym5); // false,    </span></span></code> </pre> <br></li></ol><br><p> åˆ›å»ºæ­¤ç±»æ ‡è¯†ç¬¦çš„èƒ½åŠ›ä½¿æˆ‘ä»¬ä¸å¿…æ‹…å¿ƒä¼šè¦†ç›–æˆ‘ä»¬æœªçŸ¥å¯¹è±¡ä¸­çš„æŸäº›å±æ€§ã€‚ è¿™ç§è´¨é‡ä½¿æ ‡å‡†çš„åˆ›å»ºè€…å¯ä»¥è½»æ¾åœ°å‘å¯¹è±¡æ·»åŠ æ–°çš„æ ‡å‡†å±æ€§ï¼Œè€Œä¸ä¼šç ´åä¸å„ç§ç°æœ‰åº“ï¼ˆå¯èƒ½å·²ç»å®šä¹‰äº†ç›¸åŒå±æ€§ï¼‰å’Œç”¨æˆ·ä»£ç çš„å…¼å®¹æ€§ã€‚ å› æ­¤ï¼Œå­˜åœ¨è®¸å¤šæ ‡å‡†ç¬¦å·ï¼Œå…¶ä¸­ä¸€äº›æä¾›äº†æ–°çš„åæ€æœºä¼šï¼š </p><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.iterator-</a>å…è®¸æ‚¨ä½¿ç”¨<em>for-of</em>æˆ–<em>... spreadè¿ç®—ç¬¦</em>åˆ›å»ºç”¨äºè¿­ä»£å¯¹è±¡çš„è‡ªå·±çš„è§„åˆ™ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> arr = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//       arr[Symbol.iterator] = function() { const self = this; let pos = this.length - 1; return { next() { if (pos &gt;= 0) { return { done: false, value: self[pos--] }; } else { return { done: true }; } } } }; console.log([...arr]); // [3, 2, 1]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.hasInstance</a>æ˜¯ä¸€ç§ç¡®å®šæ„é€ å‡½æ•°æ˜¯å¦å°†å¯¹è±¡è¯†åˆ«ä¸ºå…¶å®ä¾‹çš„æ–¹æ³•ã€‚ ç”±instanceofè¿ç®—ç¬¦ä½¿ç”¨ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyArray</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.hasInstance](instance) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.isArray(instance); } } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log([] <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> MyArray); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.isConcatSpread-</a>æŒ‡ç¤ºåœ¨Array.concatä¸­ä¸²è”æ—¶æ˜¯å¦åº”å±•å¹³æ•°ç»„ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> firstArr = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> secondArr = [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]; firstArr.concat(secondArr); <span class="hljs-comment"><span class="hljs-comment">// [1, 2, 3, 4, 5, 6] secondArr[Symbol.isConcatSpreadable] = false; console.log(firstArr.concat(secondArr)); // [1, 2, 3, [4, 5, 6]]</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.species-</a>å…è®¸æ‚¨æŒ‡å®šå°†ä½¿ç”¨å“ªä¸ªæ„é€ å‡½æ•°åœ¨ç±»å†…éƒ¨åˆ›å»ºæ´¾ç”Ÿå¯¹è±¡ã€‚ <br> ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨äºå¤„ç†æ•°ç»„çš„æ ‡å‡†Arrayç±»ï¼Œå®ƒå…·æœ‰ä¸€ä¸ª.mapæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ ¹æ®å½“å‰æ•°ç»„åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚ ä¸ºäº†æ‰¾å‡ºç”¨äºåˆ›å»ºè¯¥æ–°æ•°ç»„çš„ç±»ï¼ŒArrayå¦‚ä¸‹è°ƒç”¨<em>this.constructor [Symbol.species]</em> ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.prototype.map = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cb</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ArrayClass = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.constructor[<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.species]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayClass(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.length); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value, index, arr</span></span></span><span class="hljs-function">) =&gt;</span></span> { result[index] = cb(value, index, arr); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p> å› æ­¤ï¼Œé‡å†™Symbol.speciesï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„ç”¨äºå¤„ç†æ•°ç»„çš„ç±»ï¼Œå¹¶è¯´æ‰€æœ‰æ ‡å‡†æ–¹æ³•ï¼ˆä¾‹å¦‚.mapï¼Œ.reduceç­‰ï¼‰éƒ½ä¸è¿”å›Arrayç±»çš„å®ä¾‹ï¼Œè€Œæ˜¯è¿”å›æˆ‘ä»¬ç±»çš„å®ä¾‹ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyArray</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Array</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> get [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.species]() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyArray(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [1, 2, 3] console.log(arr instanceof MyArray); // true console.log(arr instanceof Array); // true //   Array.map     Array,    Symbol.species  this      MyArray const doubledArr = arr.map(x =&gt; x * 2); console.log(doubledArr instanceof MyArray); // true console.log(doubledArr instanceof Array); // true</span></span></code> </pre> <br><p> å½“ç„¶ï¼Œè¿™ä¸ä»…é€‚ç”¨äºæ•°ç»„ï¼Œè€Œä¸”é€‚ç”¨äºå…¶ä»–æ ‡å‡†ç±»ã€‚ æ­¤å¤–ï¼Œå³ä½¿æˆ‘ä»¬ä»…ä½¿ç”¨è¿”å›ç›¸åŒç±»çš„æ–°å®ä¾‹çš„æ–¹æ³•æ¥åˆ›å»ºè‡ªå·±çš„ç±»ï¼Œä¹Ÿåº”ä½¿ç”¨this.constructor [Symbol.species]æ¥è·å–å¯¹æ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ </p><br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.toPrimitive-</a>å…è®¸æ‚¨æŒ‡å®šå¦‚ä½•å°†æˆ‘ä»¬çš„å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼ã€‚ å¦‚æœæ˜¯æ›´æ—©çš„ç‰ˆæœ¬ï¼Œä¸ºäº†ç®€åŒ–ä¸ºåŸå§‹ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦å°†toStringå’ŒvalueOfä¸€èµ·ä½¿ç”¨ï¼Œç°åœ¨ä¸€åˆ‡éƒ½å¯ä»¥é€šè¿‡ä¸€ç§æ–¹ä¾¿çš„æ–¹æ³•å®Œæˆï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> figure = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.toPrimitive](hint) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hint === <span class="hljs-string"><span class="hljs-string">'string'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hint === <span class="hljs-string"><span class="hljs-string">'number'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">// default return this.name; } } } console.log(`${figure}`); // hint = string console.log(+figure); // hint = number console.log(figure + ''); // hint = default</span></span></code> </pre> <br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.match-</a>å…è®¸æ‚¨ä¸º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">String.prototype.match</a>å‡½æ•°çš„æ–¹æ³•åˆ›å»ºè‡ªå·±çš„å¤„ç†ç¨‹åºç±»ï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StartAndEndsWithMatcher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(value) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value; } [<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>.match](str) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> startsWith = str.startsWith(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> endsWith = str.endsWith(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (startsWith &amp;&amp; endsWith) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testMatchResult = <span class="hljs-string"><span class="hljs-string">'||'</span></span>.match(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StartAndEndsWithMatcher(<span class="hljs-string"><span class="hljs-string">'|'</span></span>)); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(testMatchResult); <span class="hljs-comment"><span class="hljs-comment">// ["|"] const catMatchResult = '|'.match(new StartAndEndsWithMatcher('|')); console.log(catMatchResult) // null</span></span></code> </pre> <br><p>     â€” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.replace</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.search</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Symbol.split</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">String.prototype</a> . </p><br></li></ul><br><p>  ,   (  reflect-metadata   )         .  -   ,    ,       .        : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> validationRules = <span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>(<span class="hljs-string"><span class="hljs-string">'validationRules'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> person = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; person[validationRules] = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: [<span class="hljs-string"><span class="hljs-string">'max-length-256'</span></span>, <span class="hljs-string"><span class="hljs-string">'required'</span></span>], <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: [<span class="hljs-string"><span class="hljs-string">'max-length-256'</span></span>] };</code> </pre> <br><h2 id="6-proksi-proxy"> 6.  (Proxy) </h2><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Proxy</a>    ,    Reflect API  Symbols  ES6,       //  ,  ,       .  ,  <em>   </em> . </p><br><p>           ,    data-binding  MobX  React, Vue  .       . </p><br><p>  : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> formData = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'User'</span></span>, <span class="hljs-attr"><span class="hljs-attr">password</span></span>: <span class="hljs-string"><span class="hljs-string">'pass'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> proxyFormData = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Proxy</span></span>(formData, { set(target, name, value) { target[name] = value; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forceUpdate(); <span class="hljs-comment"><span class="hljs-comment">//   React- } }); //       forceUpdate()    React proxyFormData.login = 'User2'; //     ,   -      proxyFormData.age = 20;</span></span></code> </pre> <br><p>        ,  /: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> formData = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'User'</span></span>, <span class="hljs-attr"><span class="hljs-attr">password</span></span>: <span class="hljs-string"><span class="hljs-string">'pass'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> proxyFormData = {}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> param <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> formData) { <span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.defineProperty(proxyFormData, <span class="hljs-string"><span class="hljs-string">`__private__</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${param}</span></span></span><span class="hljs-string">`</span></span>, { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: formData[param], <span class="hljs-attr"><span class="hljs-attr">enumerable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.defineProperty(proxyFormData, param, { <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-string"><span class="hljs-string">`__private__</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${param}</span></span></span><span class="hljs-string">`</span></span>]; }, <span class="hljs-attr"><span class="hljs-attr">set</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-string"><span class="hljs-string">`__private__</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${param}</span></span></span><span class="hljs-string">`</span></span>] = value; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forceUpdate(); <span class="hljs-comment"><span class="hljs-comment">//   React- }, enumerable: true, configurable: true }); } //       forceUpdate()    React proxyFormData.login = 'User2'; //                  -  Reflect.defineProperty proxyFormData.age = 20;</span></span></code> </pre> <br><p>          -,     â€”   Proxy            (  ,       ),    /             ,           <em>delete obj[name]</em> . </p><br><h2 id="7-zaklyuchenie"> 7.  </h2><br><p> JavaScript        ,           ECMAScript 4,             .               ,   . </p><br><p>             <a href="">  </a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">You Don't Know JS</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN417097/">https://habr.com/ru/post/zh-CN417097/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN417085/index.html">æµè§ˆå™¨ä½¿WebRTCåº”ç”¨ç¨‹åºä¸­çš„å£°éŸ³é™éŸ³ã€‚ åœä»€ä¹ˆ</a></li>
<li><a href="../zh-CN417087/index.html">HPE Digitize 2018ï¼šæ´»åŠ¨å’Œç°åœºç›´æ’­</a></li>
<li><a href="../zh-CN417089/index.html">é‡å­è®¡ç®—æœºï¼šä¸€ä¸ªå…‰å­ç»Ÿæ²»ä¸€åˆ‡</a></li>
<li><a href="../zh-CN417091/index.html">ä¸ºç½‘ç»œåˆ›å»ºå¡é€šæ°´ç€è‰²å™¨ã€‚ ç¬¬ä¸‰éƒ¨åˆ†</a></li>
<li><a href="../zh-CN417093/index.html">å¸¦æœ‰Modbusçš„è§¦æ‘¸å¼€å…³ï¼šä¸ºä»€ä¹ˆéœ€è¦å®ƒä»¬ä»¥åŠå¦‚ä½•åœ¨æ™ºèƒ½å…¬å¯“ä¸­åº”ç”¨å®ƒä»¬</a></li>
<li><a href="../zh-CN417099/index.html">æˆ‘å¦‚ä½•ç¼–å†™æ ‡å‡†çš„C ++ 11åº“ï¼Œæˆ–è€…ä¸ºä»€ä¹ˆboostå¦‚æ­¤ä»¤äººææƒ§ã€‚ ç¬¬äºŒç« </a></li>
<li><a href="../zh-CN417101/index.html">Readyçš„å®šä¹‰-æˆ‘ä»¬å¿˜äº†å‘Šè¯‰æˆ‘ä»¬çš„</a></li>
<li><a href="../zh-CN417103/index.html">Spark SQLã€‚ å…³äºæŸ¥è¯¢ä¼˜åŒ–å™¨çš„ä¸€äº›çŸ¥è¯†</a></li>
<li><a href="../zh-CN417105/index.html">åœ¨3Dæ‰“å°æœºä¸Šæ‰“å°ã€‚ 3Dtoolçš„ç§˜å¯†ç»å†</a></li>
<li><a href="../zh-CN417107/index.html">Trueæ—¶æ¸¸æˆçš„åˆ›é€ è€…ï¼šäº†è§£ï¼ˆï¼‰æ¸¸æˆå¼€å‘ï¼ŒVRé—®é¢˜å’ŒMLæ¨¡æ‹Ÿçš„çŸ¥è¯†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>