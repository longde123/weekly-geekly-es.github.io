<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📵 👩‍🔧 🐘 كيفية تقليل استخدام الذاكرة وتسريع رمز بيثون باستخدام المولدات 🌳 💧 🛠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحبا بالجميع. اليوم نريد أن نشارك ترجمة مفيدة واحدة ، أعدت قبل إطلاق الدورة التدريبية "مطور الويب في بيثون" . تعد كتابة التعليمات البرمجية الموفرة لل...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيفية تقليل استخدام الذاكرة وتسريع رمز بيثون باستخدام المولدات</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/477926/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  مرحبا بالجميع.  اليوم نريد أن نشارك ترجمة مفيدة واحدة ، أعدت قبل إطلاق الدورة التدريبية <a href="https://otus.pw/m8hh/">"مطور الويب في بيثون"</a> .  تعد كتابة التعليمات البرمجية الموفرة للوقت والفعالة في Python مهمة بشكل خاص عند إنشاء تطبيق ويب أو نموذج للتعلم الآلي أو الاختبار. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ii/2f/-o/ii2f-oqb0scheybgzq7yavjz1ue.png"></p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  عندما بدأت في تعلم المولدات في بيثون ، لم يكن لدي أي فكرة عن مدى أهميتها.  ومع ذلك ، فقد ساعدوني باستمرار في كتابة وظائف طوال رحلتي عبر التعلم الآلي. </p><br><p style=";text-align:right;direction:rtl">  تسمح لك وظائف المولد بالإعلان عن وظيفة ستتصرف مثل التكرار.  أنها تسمح للمبرمجين بإنشاء متكررين سريع وبسيط ونظيف.  التكرار هو كائن يمكن تكراره (محلقًا).  يتم استخدامه لاستخلاص حاوية البيانات وجعلها تتصرف ككائن قابل للتكرار.  على سبيل المثال ، يمكن أن يكون مثال الكائن القابل للتكرار هو السلاسل والقوائم والقواميس. </p><br><p style=";text-align:right;direction:rtl">  يبدو المولد وكأنه دالة ، لكنه يستخدم الكلمة المفتاحية بدلاً من الإرجاع.  دعونا نلقي نظرة على مثال لجعله أكثر وضوحا. </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">def generate_numbers(): n = 0 while n &lt; 3: yield n n += 1</code> </pre> <br><p style=";text-align:right;direction:rtl">  هذه هي وظيفة مولد.  عندما تسميها ، فإنها ترجع كائن المولد. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt;&gt;&gt; numbers = generate_numbers() &gt;&gt;&gt; type(numbers) &lt;class 'generator'&gt;</code> </pre> <br><p style=";text-align:right;direction:rtl">  من المهم الانتباه إلى كيف يتم تغليف الحالة في جسم وظيفة المولد.  يمكنك تكرار واحد في وقت واحد باستخدام وظيفة next () المدمجة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt;&gt;&gt; next_number = generate_numbers() &gt;&gt;&gt; next(next_number) 0 &gt;&gt;&gt; next(next_number) 1 &gt;&gt;&gt; next(next_number) 2</code> </pre> <br><h2 id="chto-proizoydet-esli-vy-vyzovete-next-posle-okonchaniya-vypolneniya" style=";text-align:right;direction:rtl">  ماذا يحدث إذا اتصلت بعد ذلك () بعد انتهاء التنفيذ؟ </h2><br><p style=";text-align:right;direction:rtl">  StopIteration هو نوع استثناء مضمّن يحدث تلقائيًا بمجرد توقف المولد عن إرجاع نتيجة.  هذه إشارة توقف للحلقة. </p><br><h2 id="operator-yield" style=";text-align:right;direction:rtl">  بيان العائد </h2><br><p style=";text-align:right;direction:rtl">  وتتمثل مهمتها الرئيسية في التحكم في تدفق وظيفة المولد بحيث يبدو وكأنه عبارة إرجاع.  عند استدعاء دالة المولد أو استخدام تعبير المولد ، فإنها تُرجع مكررًا خاصًا يسمى المولد.  لاستخدام مولد ، قم بتعيينه إلى بعض المتغيرات.  عند استدعاء طرق خاصة في المولد ، مثل next () ، سيتم تنفيذ رمز الوظيفة حتى يتم إنتاجه. </p><br><p style=";text-align:right;direction:rtl">  عندما يحصل في بيان العائد ، يقوم البرنامج بإيقاف الوظيفة مؤقتًا وإرجاع القيمة إلى الكائن الذي بدأ التنفيذ.  (بينما توقف الإرجاع عن تنفيذ الوظيفة بالكامل.) عندما يتم تعليق الوظيفة ، يتم الحفاظ على حالتها. </p><br><p style=";text-align:right;direction:rtl">  الآن وقد أصبحنا على دراية بالمولدات في Python ، فلنقارن الطريقة المعتادة مع النهج الذي يستخدم المولدات من حيث الذاكرة والوقت الذي يقضيه في تنفيذ التعليمات البرمجية. </p><br><h2 id="postanovka-problemy" style=";text-align:right;direction:rtl">  بيان المشكلة </h2><br><p style=";text-align:right;direction:rtl">  لنفترض أننا بحاجة إلى مراجعة قائمة كبيرة من الأرقام (على سبيل المثال ، 1،000،000،000) وحفظ المربعات الخاصة بجميع الأرقام التي يجب تخزينها بشكل منفصل في قائمة أخرى. </p><br><h2 id="obychnyy-podhod" style=";text-align:right;direction:rtl">  النهج المعتاد </h2><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">import memory_profiler import time def check_even(numbers): even = [] for num in numbers: if num % 2 == 0: even.append(num*num) return even if __name__ == '__main__': m1 = memory_profiler.memory_usage() t1 = time.clock() cubes = check_even(range(100000000)) t2 = time.clock() m2 = memory_profiler.memory_usage() time_diff = t2 - t1 mem_diff = m2[0] - m1[0] print(f"It took {time_diff} Secs and {mem_diff} Mb to execute this method")</code> </pre> <br><p style=";text-align:right;direction:rtl">  بعد تشغيل الكود أعلاه ، نحصل على ما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">It took 21.876470000000005 Secs and 1929.703125 Mb to execute this method</code> </pre> <br><p style=";text-align:right;direction:rtl">  باستخدام المولدات </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">import memory_profiler import time def check_even(numbers): for num in numbers: if num % 2 == 0: yield num * num if __name__ == '__main__': m1 = memory_profiler.memory_usage() t1 = time.clock() cubes = check_even(range(100000000)) t2 = time.clock() m2 = memory_profiler.memory_usage() time_diff = t2 - t1 mem_diff = m2[0] - m1[0] print(f"It took {time_diff} Secs and {mem_diff} Mb to execute this method")</code> </pre> <br><p style=";text-align:right;direction:rtl">  بعد تشغيل الكود أعلاه ، نحصل على ما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">It took 2.9999999995311555e-05 Secs and 0.02656277 Mb to execute this method</code> </pre> <br><p style=";text-align:right;direction:rtl">  كما نرى ، يتم تقليل وقت التشغيل والذاكرة المستخدمة بشكل كبير.  تعمل المولدات على مبدأ يعرف باسم "الحوسبة البطيئة".  هذا يعني أنه يمكنهم حفظ المعالج والذاكرة وموارد الحوسبة الأخرى. </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  استنتاج </h2><br><p style=";text-align:right;direction:rtl">  آمل في هذا المقال أن أتمكن من إظهار كيف يمكن استخدام المولدات في Python لتوفير موارد مثل الذاكرة والوقت.  تظهر هذه الميزة نظرًا لحقيقة أن المولدات لا تخزن جميع النتائج في الذاكرة ، ولكن تحسبها على الطاير ، ويتم استخدام الذاكرة فقط إذا طلبنا نتيجة الحسابات.  تسمح لك المولدات أيضًا باستخلاص كمية كبيرة من كود البليت ، وهو أمر ضروري لكتابة التكرارات ، لذلك فهي تساعد أيضًا في تقليل مقدار الكود. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar477926/">https://habr.com/ru/post/ar477926/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar477914/index.html">الإسقاط على السقف: الانطباعات بعد أسبوع من استخدام جهاز العرض ، ضع "في النهاية"</a></li>
<li><a href="../ar477916/index.html">كيف يحاول منشئو البرامج الضارة تجنب اكتشافه: نقوم بتحليل Spy.GmFUToMitm كمثال</a></li>
<li><a href="../ar477918/index.html">مكتب المساعدة مفتوح المصدر كبديل عن Zendesk و Scout Help. العمارة والتصميم وسهولة الاستخدام</a></li>
<li><a href="../ar477920/index.html">الجوانب العملية لحركة FIRE للتقاعد المبكر في روسيا</a></li>
<li><a href="../ar477924/index.html">JavaFX البرنامج التعليمي: CSS التصميم</a></li>
<li><a href="../ar477928/index.html">سجلات التقارير من QA-mitap Redmadrobot</a></li>
<li><a href="../ar477934/index.html">خصومات من المضيفين يوم الجمعة الأسود 2019</a></li>
<li><a href="../ar477936/index.html">قاموس تكنولوجيا المعلومات أم ماذا؟ إلى أين؟ إلى أين؟ الجزء 2</a></li>
<li><a href="../ar477944/index.html">الحالة: توقف دعم Python 2.7 منذ عام 2020</a></li>
<li><a href="../ar477946/index.html">"قم بتغطية المسارات الخاصة بك واترك عطلة نهاية الأسبوع": كيفية إزالة نفسك من الخدمات الأكثر شعبية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>