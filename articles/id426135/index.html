<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦂 🉐 🤕 Cloud Pribadi untuk Internet of Things 👨🏼‍⚖️ 👨🏻 🙉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salam, Habr! 

 Kami, tim arsitek TI dari IBM, yang bergerak dalam penciptaan dan pemasaran solusi industri untuk berbagai industri. Di waktu senggang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cloud Pribadi untuk Internet of Things</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ibm/blog/426135/"><img src="https://habrastorage.org/webt/eg/uo/mr/eguomrkrciqdlubmnmltrvoy7tg.png"><br><br>  Salam, Habr! <br><br>  Kami, tim arsitek TI dari IBM, yang bergerak dalam penciptaan dan pemasaran solusi industri untuk berbagai industri.  Di waktu senggang, kami meneliti teknologi baru, bereksperimen, dan mencoba praktik terbaik. <br><br>  Dalam beberapa tahun terakhir, tema Internet of Things telah sangat populer.  Pelanggan kami bertanya tentang solusi kotak universal dan platform yang dapat ditemukan secara lokal di Pusat Data mereka.  Yang paling penting, diharapkan bahwa berdasarkan "kotak" seperti itu, semua layanan dan aplikasi baru harus dikembangkan dan diluncurkan dengan sangat cepat, atau lebih tepatnya secara instan atau "kemarin." <br><br>  Kami bertanya pada diri sendiri: "Bagaimana jika kita mengumpulkan sesuatu yang serupa pada teknologi terbuka dan publik?" <br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami</a> telah berbicara dan menunjukkan banyak hal tentang penggunaan wadah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Docker</a> dan alat manajemen mereka berdasarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kubernetes</a> .  Namun, sejauh ini tidak mungkin untuk melihat bagaimana semua teknologi canggih ini dapat digunakan pada skala industri untuk tugas-tugas bisnis, khususnya di bawah Internet of Things.  Jadi mari kita isi celah ini.  Konsep layanan mikro, serta pendekatan modis untuk pengembangan (DevOps), integrasi dan penyebaran aplikasi (CI / CD) akan dianggap sebagai tugas yang sedikit berbeda dan disisihkan untuk nanti. <br><br>  Dalam artikel ini kami ingin berbicara tentang persiapan dan pemasangan salah satu komponen utama - IBM Cloud Private (pada kenyataannya, perakitan industri Docker / Kubernetes dan sedikit lagi), yang dapat bertindak sebagai inti infrastruktur bersyarat saat membuat platform Internet of Things lokal.  Tanyakan kenapa dia? <br><br>  Karena kami menjanjikan teknologi terbuka dan publik (versi gratis untuk komunitas dan dukungan dari komunitas): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">hub.docker.com/r/ibmcom/icp-inception</a> <br><br><h2>  Gambaran Umum IBM Cloud Private </h2><br>  IBM Cloud Private (ICP) adalah platform cloud pribadi untuk penyebaran dan operasi di tempat.  ICP adalah lingkungan terintegrasi yang memungkinkan Anda merancang, mengembangkan, menyebarkan, dan mengelola aplikasi lokal yang dibangun dengan arsitektur wadah.  Pengiriman ICP termasuk orkestra berbasis Kubernetes (K8s), toko gambar lokal, serta konsol manajemen dan alat pemantauan pendukung. <br><br><h3>  Apa itu cloud pribadi atau pribadi? </h3><br>  Cloud pribadi adalah model komputasi awan yang berjalan secara eksklusif untuk satu organisasi, biasanya pada wilayah dan sumber dayanya.  Awan seperti itu dapat dikelola dan dikelola oleh spesialisnya sendiri dan karyawan pihak ketiga.  Platform serupa dapat di-host baik di belakang firewall perusahaan dan di luarnya.  Cloud pribadi memberikan manfaat cloud publik, termasuk penyebaran dan skalabilitas yang cepat, serta kemudahan penggunaan, manajemen, dan fleksibilitas.  Pada saat yang sama, versi lokal memberikan kontrol yang lebih besar terhadap sistem, peningkatan produktivitas, biaya yang dapat diprediksi secara akurat, peningkatan persyaratan keamanan dan kemampuan manajemen yang fleksibel tergantung pada kebutuhan organisasi.  Cloud pribadi memungkinkan Anda untuk mengonfigurasinya secara langsung untuk tugas bisnis tertentu dan persyaratan keamanan pelanggan. <br><br>  Sebelum melanjutkan dengan instalasi ICP, kami akan mendefinisikan terminologi: <br><br>  <b>Master node</b> <br><ul><li>  Monitor dan kontrol cluster K8s. </li><li>  kubectl: alat baris perintah untuk mengelola cluster. </li><li>  REST API: antarmuka untuk berinteraksi dengan node kerja. </li><li>  etcd: adalah keystore yang persisten dan terjangkau, digunakan sebagai penyimpanan cadangan K8 untuk semua data cluster. </li><li>  kube-scheduler: komponen ini mengawasi wadah yang baru dibuat (pod) yang tidak memiliki node yang ditetapkan, dan memilih sebuah node untuk menjalankannya. </li><li>  Biasanya 3 atau lebih node utama diperlukan untuk operasi yang stabil dan memastikan toleransi kesalahan.  Dalam kasus kami, untuk menghemat sumber daya, kami akan menginstal semua komponen ICP yang diperlukan pada satu server khusus (Single Node). </li></ul><br>  <b>Node kerja</b> <br><ul><li>  Mesin yang bekerja di K8 sebelumnya dikenal sebagai Minion.  Node ini dapat berupa salah satu dari host yang menerima tugas dari node utama, dan juga mengontrol proses peluncuran kontainer di dalamnya.  Bergantung pada pengaturan cluster, node yang bekerja dapat berupa mesin virtual atau server fisik. </li><li>  Komponen-komponen berikut dapat dijalankan pada setiap node: </li><li>  kubelet: adalah layanan utama dari simpul kerja.  Ini memantau wadah yang ditugaskan ke simpulnya (baik apirusver untuk koneksi aman, atau melalui file konfigurasi lokal). </li><li>  kube-proxy: menampilkan layanan yang didefinisikan dalam API K8 pada setiap host, mendukung aturan jaringan pada host dan koneksi penerusan. </li><li>  buruh pelabuhan: peluncuran kontainer dan lingkungan manajemen. </li><li>  supervisord: Ini adalah proses pemantauan ringan dan sistem kontrol yang dapat Anda gunakan untuk menjaga kubelet dan docker tetap berjalan. </li><li>  fluentd: Ini adalah layanan yang membantu memastikan logging tingkat cluster. </li></ul><br>  <b>Wadah</b> <br><ul><li>  Aplikasi yang berjalan di lingkungan yang terisolasi. </li><li>  Himpunan proses yang dapat dieksekusi dan gambar yang diluncurkan dari program. </li></ul><br>  <b>Kepompong (polong)</b> <br><ul><li>  Pod adalah sekelompok satu atau beberapa kontainer Docker, dengan penyimpanan / jaringan umum dan spesifikasi cara menjalankan kontainer pada simpul kerja. </li><li>  Setiap Pod memiliki IP sendiri. </li><li>  Pod membagikan ruang nama PID, jaringan, dan nama host. </li></ul><br>  <b>Pengontrol replikasi</b> <br><ul><li>  Memberikan aksesibilitas dan skalabilitas. </li><li>  Bertanggung jawab untuk mengontrol jumlah Pod yang digunakan. </li><li>  Menggunakan template yang menjelaskan apa yang seharusnya berisi setiap Pod. </li></ul><br>  <b>Label</b> <br><ul><li>  Metadata ditugaskan untuk sumber daya K8, misalnya: wadah, layanan. </li><li>  Pasangan nilai kunci dilampirkan ke objek untuk identifikasi. </li><li>  Parameter ini sangat penting karena didasarkan pada permintaan cluster untuk sumber daya dengan label tertentu. </li></ul><br>  <b>Layanan</b> <br><ul><li>  Kumpulan kontainer yang terpapar sebagai titik akhir. </li><li>  Informasi tentang status cluster K8s dan pengaturan jaringan, yang berlaku untuk semua node yang bekerja. </li><li>  Dengan konfigurasi yang benar, pod yang dibuat oleh pengontrol replikasi akan secara otomatis terdaftar sebagai layanan yang sesuai. </li></ul><br>  <b>Informasi Rahasia (rahasia)</b> <br><ul><li>  Informasi rahasia untuk dibaca atau digunakan oleh wadah. </li><li>  Volume khusus dari disk drive dipasang secara otomatis sehingga wadah dapat membaca konten. </li><li>  Setiap entri memiliki jalurnya sendiri. </li></ul><br><h3>  Arsitektur </h3><br>  Di bawah ini adalah arsitektur ICP tingkat tinggi yang mencantumkan komponen utama berdasarkan simpul utama, kerja dan proxy.  Perlu dicatat bahwa dalam artikel ini penekanan utama ditempatkan pada kombinasi kontainer Docker dan lingkungan manajemen Kubernetes.  Komponen open source ini adalah kunci dan mendasar bagi platform ICP.  Namun demikian, untuk sepenuhnya bekerja dengan ICP, Anda juga perlu pengetahuan tentang Helm, manajer manajemen paket perangkat lunak.  K8 digunakan untuk menyebarkan dan meng-host contoh aplikasi yang dibangun ke dalam skema Helm, yang pada gilirannya merujuk pada gambar Docker.  Skema helm berisi informasi tentang detail aplikasi Anda, dan gambar Docker berisi semua paket perangkat lunak yang diperlukan untuk menjalankan aplikasi Anda. <br><br> <a href=""><img src="https://habrastorage.org/webt/ch/hd/is/chhdisgv9bo9fu4bfdow2g1ydmu.png"></a> <br><br>  Untuk pengantar mendetail tentang arsitektur dan komponen platform ICP, Anda dapat menggunakan tautan dokumentasi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pusat Pengetahuan IBM</a> . <br><br><h2>  Persiapan </h2><br>  Untuk menyelesaikan instalasi ICP dengan nyaman dalam 20-30 menit, diperlukan sumber daya perangkat keras minimum dan akses Internet: <br>  • Satu host (fisik atau virtual) <br>  • CPU = 8 core (atau core virtual) <br>  • RAM = 10 GB (mungkin dibutuhkan hingga 14 GB) <br>  • Disk = 40 GB (pada SSD lebih cepat) <br><blockquote>  <i><b>Catatan:</b> jika Anda memiliki waktu luang lebih sedikit dan sumber daya perangkat keras lebih sedikit, maka di suatu tempat dalam 40-60 menit Anda dapat menginstal ICP pada 1 virtual core i5 dan 10 GB RAM.</i> </blockquote><br><h2>  Instalasi </h2><br><h3>  Unduh Ubuntu </h3><br>  Unduh distribusi <a href="">Server Ubuntu versi 16.04.05</a> .  Lakukan instalasi OS standar pada mesin virtual atau fisik dengan karakteristik di atas. <br><br><h3>  Mendapatkan Alamat IP </h3><br>  Setelah menyelesaikan proses instalasi OS, di baris perintah, cari tahu alamat IP mesin virtual Anda menggunakan perintah berikut: <br><br><pre><code class="bash hljs">ifconfig</code> </pre> <br>  Anda perlu menulis / mengingat alamat IP Ethernet (inet addr), serta Bcast dan Mask.  Parameter ini akan ditampilkan setelah menjalankan perintah yang sesuai: <br> <a href=""><img src="https://habrastorage.org/webt/ao/tp/gh/aotpghosoq-nglwcwwm-1fmn_pk.png"></a> <br>  <i>Gambar 1. Contoh perintah ifconfig</i> <br><br><h3>  Koneksi SSH </h3><br>  Jika Anda menggunakan fungsi "Instal Mudah" ketika mengatur mesin virtual, maka setelah instalasi penuh Ubuntu Server Anda perlu menginstal server OpenSSH.  Anda dapat melakukan ini dengan perintah berikut: <br><br><pre> <code class="bash hljs">apt install openssh-server sudo systemctl <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> sshd</code> </pre> <br>  Setelah menjalankan perintah yang sesuai, Anda akan dapat terhubung ke mesin virtual menggunakan SSH.  Tergantung pada OS, Anda dapat menggunakan metode koneksi yang berbeda.  Untuk Windows, Anda dapat menggunakan alat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Putty</a> populer, untuk MacOS, Anda dapat menggunakan perintah ssh di terminal. <br><br> <a href=""><img src="https://habrastorage.org/webt/2w/v8/st/2wv8st2har9fplst87-ouu2xn3a.png"></a> <br>  <i>Gambar 2. Contoh koneksi via Putty untuk Windows</i> <br><br>  Langkah selanjutnya adalah mengatur kata sandi untuk pengguna super (root): <br><br><pre> <code class="bash hljs">sudo -i passwd</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/tk/p5/l_/tkp5l_dnzxuaf5-bdlf5j2nllis.png"></a> <br>  <i>Gambar 3. Mengatur kata sandi baru untuk pengguna root</i> <br><br><h3>  Pembaruan Antarmuka Jaringan </h3><br>  Setelah kami mengkonfigurasi kemampuan untuk terhubung melalui SSH dan memperbarui kata sandi pengguna super, kami perlu mengkonfigurasi antarmuka jaringan untuk menentukan parameter jaringan statis.  Ini dilakukan dengan perintah berikut: <br><br><pre> <code class="bash hljs">nano /etc/network/interfaces</code> </pre> <br>  Kami memperbarui pengaturan antarmuka jaringan (antarmuka jaringan primer) berdasarkan informasi yang diperoleh selama perintah ifconfig, contoh kami terlihat seperti ini: <br><br><pre> <code class="bash hljs">auto ens33 iface ens33 inet static address 192.168.175.7 netmask 255.255.255.0 network 192.168.175.0 broadcast 192.168.175.255 gateway 192.168.175.2 dns-nameservers 192.168.175.2 8.8.8.8</code> </pre> <br><blockquote>  <i><b>Catatan:</b> Penting untuk menentukan server DNS dengan benar, karena akses Internet diperlukan untuk pemasangan komponen ICP berikutnya.</i> </blockquote><br> <a href=""><img src="https://habrastorage.org/webt/u3/cb/v7/u3cbv77no49a5vnxx5jfvb-rena.png"></a> <br>  <i>Gambar 4. Konfigurasi antarmuka jaringan</i> <br><br>  Simpan file yang diperbarui menggunakan langkah-langkah berikut: Ctrl + X, Ya, Enter. <br><br>  Untuk menyederhanakan masuk ke mesin virtual dengan hak superuser (root), Anda perlu membuat perubahan pada konfigurasi layanan SSH.  Untuk melakukan ini, jalankan perintah berikut: <br><br><pre> <code class="bash hljs">nano /etc/ssh/sshd_config</code> </pre> <br>  Selanjutnya, cari jalur izin akses dan edit sesuai itu: <br><br><pre> <code class="bash hljs">PermitRootLogin yes</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/4h/mg/9c/4hmg9clbw62w0fb_v7enmmptweo.png"></a> <br>  <i>Gambar 5. Memperbarui konfigurasi SSH</i> <br><br>  Simpan file seperti pada langkah sebelumnya: Ctrl + X, Ya, Enter. <br><br>  Setelah melakukan semua perubahan, untuk menerapkan parameter baru, masuk akal untuk memulai ulang sepenuhnya mesin virtual atau memulai kembali layanan yang sesuai (jaringan dan ssh), misalnya, dengan perintah berikut: <br><br><pre> <code class="bash hljs">shutdown -r 0</code> </pre> <br>  atau <br><br><pre> <code class="bash hljs">service &lt;service_name&gt; restart</code> </pre> <br>  Setelah menghidupkan ulang mesin, Anda harus masuk kembali melalui SSH. <br><br><h3>  Pembaruan Komponen </h3><br>  Perbarui Server Ubuntu dengan perintah berikut (perintah harus dijalankan sebagai root): <br><br><pre> <code class="bash hljs">apt update</code> </pre> <br>  Catatan: jika kesalahan terjadi selama pembaruan: "Tempat penyimpanan ': // Ubuntu-Server 16.04.5 LTS _Xenial Xerus_ - Rilis amd64 (20180731) xenial Release' tidak memiliki file Rilis.".  Anda harus menjalankan perintah berikut: <br><br><pre> <code class="bash hljs">sudo nano /etc/apt/sources.list</code> </pre> <br>  Dan berikan komentar: <br><br><pre> <code class="bash hljs">deb cdrom:[Ubuntu-Server 16.04.5 LTS …</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/x4/l8/0w/x4l80wwrr4ovzqd0a_wj3jqy8ki.png"></a> <br>  <i>Gambar 6. Koreksi kemungkinan kesalahan</i> <br><br>  Selanjutnya, simpan file, seperti yang dilakukan sebelumnya: Ctrl + X, Ya, Enter <br><br>  Setelah memperbaiki kesalahan yang mungkin terjadi, jalankan perintah pembaruan lagi dan sebagai hasilnya Anda akan melihat sesuatu seperti ini: <br><br> <a href=""><img src="https://habrastorage.org/webt/iu/i7/7_/iui77_byceas5t0cujkv-1p9ltu.png"></a> <br>  <i>Gambar 7. Pembaruan Ubuntu</i> <br><br><h2>  Instal IBM Cloud Private </h2><br>  Sebelum Anda menginstal ICP, Anda perlu mengedit file host: <br><br><pre> <code class="bash hljs">nano /etc/hosts</code> </pre> <br>  Ganti string 127.0.1.1 ubuntu dengan alamat IP Anda dan nama host yang sesuai. <br><br>  Pastikan nama host dan alias di baris dipisahkan oleh tab atau spasi: <br> <a href=""><img src="https://habrastorage.org/webt/ht/jk/ks/htjkkshqzdczphtd999qhxb_unu.png"></a> <br>  <i>Gambar 8. Mengubah file hosts</i> <br><br>  Simpan file: Ctrl + X, Ya, Enter <br><br>  2 perintah berikut akan memungkinkan Anda untuk memperbarui sistem dan memasang modul tambahan. <br><br><pre> <code class="bash hljs">apt update apt-get install apt-transport-https ca-certificates curl software-properties-common python-minimal jq</code> </pre> <br>  Periksa terminal untuk kesalahan: <br><br> <a href=""><img src="https://habrastorage.org/webt/so/ve/fi/sovefisrk9vxuzgcxusddtzir6e.png"></a> <br>  <i>Gambar 9. Memasang komponen tambahan</i> <br><br>  Tambah memori virtual maksimum dengan perintah: <br><br><pre> <code class="bash hljs">sysctl -w vm.max_map_count=262144</code> </pre><br>  K8 tidak akan mulai dengan swap diaktifkan.  Anda dapat menonaktifkannya dengan perintah: <br><br><pre> <code class="bash hljs">swapoff –a</code> </pre> <br><blockquote>  <i><b>Catatan:</b> dua perintah sebelumnya akan bekerja di sesi saat ini.</i>  <i>Ketika Anda reboot, parameter ini akan hilang dan Anda harus mendaftarkannya lagi.</i> </blockquote><br>  Aplikasi parameter ini saat memuat OS dapat diaktifkan dengan perintah berikut: <br><br><pre> <code class="bash hljs">sed -i <span class="hljs-string"><span class="hljs-string">'/ swap / s/^/#/'</span></span> /etc/fstab <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"vm.max_map_count=262144"</span></span> &gt;&gt; /etc/sysctl.conf</code> </pre> <br><h3>  Menambahkan Kunci GPG </h3><br>  Kami menggunakan perintah berikut: <br><br><pre> <code class="bash hljs">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -</code> </pre> <br><h3>  Menambahkan repositori untuk menginstal Docker </h3><br>  Untuk menyelesaikan instalasi repositori, Anda harus menjalankan 2 perintah berikut: <br><br><pre> <code class="bash hljs">add-apt-repository <span class="hljs-string"><span class="hljs-string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(lsb_release -cs)</span></span></span><span class="hljs-string"> stable"</span></span> apt-get update</code> </pre> <br><h3>  Instal Docker </h3><br>  Gunakan perintah berikut untuk menginstal Docker (Docker versi 17.12.1 adalah versi maksimum yang didukung untuk IBM Cloud Private 2.1.0.3): <br><br><pre> <code class="bash hljs">apt-get install docker-ce=17.12.1~ce-0~ubuntu</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/so/ve/fi/sovefisrk9vxuzgcxusddtzir6e.png"></a> <br>  <i>Gambar 10. Proses instalasi Docker</i> <br><br>  Anda dapat memverifikasi fungsionalitas Docker dengan perintah berikut: <br><br><pre> <code class="bash hljs">docker version</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/w3/8y/si/w38ysiwd6porpbipaez4_nghy9i.png"></a> <br>  <i>Gambar 11. Memeriksa Docker</i> <br><br><h3>  Unduh IBM Cloud Private </h3><br>  Untuk mengunduh gambar ICP-ce (Edisi Komunitas) dari sumber dockerHub, Anda perlu menggunakan toolkit Docker.  Anda dapat melakukan ini dengan perintah berikut: <br><br><pre> <code class="bash hljs">docker pull ibmcom/icp-inception:2.1.0.3</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/vq/k4/m3/vqk4m3d4o-sclprferxvwcjprte.png"></a> <br>  <i>Gambar 12. Unduh ICP</i> <br><br>  IBM mengemas semua komponen penting yang diperlukan untuk instalasi ke dalam satu paket (perhatikan bahwa Anda dapat mengubah versi ke versi yang lebih baru jika perlu).  Perintah tarikan akan mengunggah gambar ke sistem file lokal (gambar akan diluncurkan untuk menginstal ICP). <br><br>  Buat direktori dan navigasikan ke sana: <br><br><pre> <code class="bash hljs">mkdir /opt/icp <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/icp</code> </pre> <br>  Salin paket ICP ke direktori ini: <br><br><pre> <code class="bash hljs">docker run -e LICENSE=accept -v <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(pwd)</span></span></span><span class="hljs-string">"</span></span>:/data ibmcom/icp-inception:2.1.0.3 cp -r cluster /data</code> </pre> <br><blockquote>  <i><b>Catatan:</b> perintah Docker toolkit ini mengeksekusi perintah Linux copy (cp) dari direktori yang ditentukan (opsi -v).</i>  <i>Direktori cluster akan dibuat di / opt / icp dengan semua file yang diperlukan.</i> </blockquote><br><h3>  Konfigurasikan kunci SSH </h3><br>  Buat kunci ssh baru di direktori / opt / icp / cluster: <br><br><pre> <code class="bash hljs">ssh-keygen -b 4096 -f ~/.ssh/id_rsa -N <span class="hljs-string"><span class="hljs-string">""</span></span> cat ~/.ssh/id_rsa.pub | sudo tee -a ~/.ssh/authorized_keys systemctl restart sshd cp ~/.ssh/id_rsa ./cluster/ssh_key</code> </pre> <br>  Pastikan kunci dibuat dan terletak di folder / opt / icp / cluster: <br><br><pre> <code class="bash hljs">ls /opt/icp/cluster</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/5t/-f/th/5t-fthfoh0nvegetpvqgs5qcqvm.png"></a> <br>  <i>Gambar 13. Isi folder cluster</i> <br><br><h3>  Pengaturan ICP </h3><br>  Tambahkan alamat IP dari setiap node di cluster ke file / opt / icp / cluster / hosts (dalam kasus kami, kami menggunakan alamat IP yang sama untuk setiap komponen yang kami tentukan di / etc / hosts).  Kami melakukan ini dengan perintah berikut: <br><br><pre> <code class="bash hljs">nano /opt/icp/cluster/hosts</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/uv/g4/3n/uvg43n_tjis5f-s9x1oakpsfjwi.png"></a> <br>  <i>Gambar 14. Isi file hosts</i> <br><br>  Simpan file: Ctrl + X, Ya, Enter <br><br>  Informasi terperinci tentang opsi instalasi dapat ditemukan di file konfigurasi: <br><br><pre> <code class="bash hljs">more /opt/icp/cluster/config.yaml</code> </pre> <br>  Kami tidak menyarankan mengubah pengaturan instalasi default. <br><blockquote>  <i><b>Catatan:</b> 2 file instalasi paling penting adalah host dan config.yaml, yang menjelaskan opsi instalasi ICP.</i>  <i>Dalam konfigurasi multi-pekerja, Anda harus menentukan daftar alamat IP di bagian pekerja.</i>  <i>Saat memasang versi ICP saat ini dalam mode Node Tunggal, alamat IP dalam file host hanya berubah.</i> </blockquote><br><h3>  Instalasi ICP </h3><br>  Pergi ke direktori cluster dan jalankan instalasi: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/icp/cluster docker run -e LICENSE=accept --net=host -t -v <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(pwd)</span></span></span><span class="hljs-string">"</span></span>:/installer/cluster ibmcom/icp-inception:2.1.0.3 install</code> </pre> <br>  Bergantung pada sumber daya yang tersedia, instalasi dapat berlangsung dari 20 hingga 60 menit.  Jika terjadi kesalahan (pesan merah), buat perubahan yang sesuai pada file konfigurasi.  Kadang-kadang instalasi mungkin sedikit melambat karena upaya untuk menyambung kembali ke komponen yang belum dimulai (misalnya, ketika memulai Cloudant atau IAM). <br><br>  Instalasi akan terlihat seperti ini: <br> <a href=""><img src="https://habrastorage.org/webt/ft/9-/8r/ft9-8re-bg2velkh1hlxqdgoecu.png"></a> <br>  <i>Gambar 15. Hasil Instalasi ICP</i> <br><br>  Jika terjadi kesalahan, menghapus ICP mungkin diperlukan: <br><br><pre> <code class="bash hljs">docker run -e LICENSE=accept --net=host -t -v <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(pwd)</span></span></span><span class="hljs-string">"</span></span>:/installer/cluster ibmcom/icp-inception:2.1.0.3 uninstall</code> </pre> <br>  Sebelum melanjutkan ke langkah berikutnya, tunggu sekitar 5 menit untuk semua komponen ICP untuk memulai dengan sukses. <br><br>  Ikuti tautan yang disediakan setelah instalasi selesai, masukkan konsol ICP (admin / admin): <br><br><pre> <code class="bash hljs">https://&lt;ip_address&gt;:8443</code> </pre> <br> <a href=""><img src="https://habrastorage.org/webt/t8/en/-t/t8en-t-wktktunis-pn4phoz2dw.png"></a> <br>  <i>Gambar 16. Halaman login panel kontrol</i> <br><br>  Halaman Selamat Datang ICP: <br> <a href=""><img src="https://habrastorage.org/webt/ji/bf/t6/jibft6ehclvq8-npu2slawyoxbo.png"></a> <br>  <i>Gambar 17. Antarmuka web panel kontrol</i> <br><br>  Di kanan atas, pilih menu Katalog, daftar aplikasi yang tersedia ditampilkan: <br> <a href=""><img src="https://habrastorage.org/webt/3i/_w/tt/3i_wttbjrkwapn7nvohf-fo4ziy.png"></a> <br>  <i>Gambar 18. Katalog komponen</i> <br><br>  Direktori ini berisi daftar aplikasi dan perangkat lunak, deskripsi yang dapat Anda pelajari sesuka hati, tetapi sejauh ini jangan terburu-buru untuk menggunakannya. <br>  Kami belum belajar bagaimana menangani ICP yang baru diinstal dengan benar (tidak hanya melalui antarmuka Web, tetapi juga konsol dalam bentuk CLI - Command Line Interface), sambungkan penyimpanan persisten dan buat pengaturan kecil. <br><br><h2>  Kesimpulannya </h2><br>  Untuk meringkas. <br><br>  Kami berhasil menyebarkan edisi komunitas IBM Cloud Private (versi 2.1.0.3) pada satu host di mesin virtual yang menjalankan Ubuntu Server OS 04/16/05.  Saat ini, kami telah memverifikasi instalasi pada VMware dan Hyper-V hypervisors, itu pasti berfungsi pada XenServer dan seharusnya tidak ada kesulitan untuk VirtualBox dan KVM. <br><br>  Siapa yang benar-benar ingin terjun lebih jauh ke dalam studi ICP, yaitu, pilihan yang sangat baik dari pekerjaan laboratorium rekan kami di sini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/phthom/IBMCloudPrivate</a> <br><br>  Dari langkah-langkah yang akan datang - setelah instalasi baru, kita hanya perlu mengkonfigurasi sedikit ICP dan mulai mengisinya dengan sesuatu yang berguna dan dekat dengan tugas-tugas praktis. <br><br>  Jika komunitas Habr secara positif mendukung inisiatif ini, maka seiring dengan kemajuan penelitian dan percobaan kami, kami akan mengisi inti platform dengan komponen yang diperlukan untuk pengumpulan telemetri, penyimpanan data, pemrosesan, analisis, peramalan, pembentukan antarmuka program eksternal dan pembuatan aplikasi pengguna.  Dengan demikian, mengembangkan serangkaian artikel tersebut. <br><br>  Menunggu tanggapan dan saran Anda! <br><br>  Selain itu, orang-orang yang sepaham dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AIXportal.ru kami</a> menyiapkan klip video yang luar biasa untuk menginstal IBM Cloud Private di saluran Youtube mereka, seseorang akan lebih nyaman seperti ini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">youtu.be/eQwOOTzjM24</a> <br><br><h2>  Tautan dan materi yang bermanfaat </h2><br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halaman produk dalam bahasa Rusia</a> <br>  • Siapa yang ingin berlatih bahasa Inggris, buku - " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ICP for Dummies</a> " 2018.  (40 halaman) <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kertas putih untuk ICP 2.1.0.3</a> di Pusat Pengetahuan IBM <br>  • Buka komunitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ICP di IBM developerWorks</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">resep ICP untuk pengembang</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426135/">https://habr.com/ru/post/id426135/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426121/index.html">MC.exe (Kompiler pesan), rc.exe, link.exe untuk menghasilkan .dll untuk EventMessageFile</a></li>
<li><a href="../id426123/index.html">Pelajari OpenGL. Pelajaran 6.1. PBR atau Rendering yang Tepat Secara Fisik. Teori</a></li>
<li><a href="../id426125/index.html">Steroid karier. Elevator</a></li>
<li><a href="../id426131/index.html">Unduh konfigurasi ke FPGA melalui USB atau bongkar FTDI MPSSE</a></li>
<li><a href="../id426133/index.html">Memperkenalkan Versi Alpha dari Snapshots Volume di Kubernetes</a></li>
<li><a href="../id426137/index.html">Zaman Kejujuran</a></li>
<li><a href="../id426141/index.html">Red Hat ganti Docker dengan Podman</a></li>
<li><a href="../id426143/index.html">Animasi 3D - video atau interaktif?</a></li>
<li><a href="../id426145/index.html">Lokakarya Penerimaan Independen, 23 Oktober, Moskow</a></li>
<li><a href="../id426149/index.html">Pemasang Python lakukan-sendiri-sendiri untuk Android dibuat dari TeamCity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>