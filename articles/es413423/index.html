<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≠ üÖ∞Ô∏è üë®üèø‚Äçüéì Soluciones de acceso remoto en Mars IS üçÉ üßÄ üèÇüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buen d√≠a,% username%! 

 En cualquier empresa grande (y no solo en una grande), las personas desean tener acceso a la informaci√≥n corporativa (correo ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Soluciones de acceso remoto en Mars IS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/marsis/blog/413423/">  Buen d√≠a,% username%! <br><br>  En cualquier empresa grande (y no solo en una grande), las personas desean tener acceso a la informaci√≥n corporativa (correo de trabajo, calendario, recursos internos) en cualquier momento y de la manera m√°s simple posible.  Se han creado soluciones separadas llamadas Mobile Device Management para proporcionar y administrar estos accesos. <br><br>  Hist√≥ricamente, hemos utilizado diferentes soluciones para administrar dispositivos m√≥viles en nuestra empresa.  Al principio, era una soluci√≥n dise√±ada para un fabricante espec√≠fico, luego cambiamos a otro producto que nos permit√≠a admitir dispositivos iOS y Android.  Posteriormente, se decidi√≥ cambiar a una soluci√≥n de Microsoft. <br><a name="habracut"></a><br><h2>  <b>Microsoft Intune</b> </h2><br>  En el momento de analizar la funcionalidad de la soluci√≥n, la versi√≥n en la nube proporcionaba una lista bastante peque√±a de caracter√≠sticas, por lo que se decidi√≥ utilizar Intune Hybrid. <br><br>  <b>¬øQu√© es un h√≠brido Intune?</b> <br><br><img src="https://habrastorage.org/webt/r0/j0/cc/r0j0cczgjro0aytasnalp_48oqe.png"><br><br>  Este es el viejo y bueno System Center Configuration Manager, integrado con Microsoft Intune.  Esta soluci√≥n tiene sus propias caracter√≠sticas: <br><br><ul><li>  Toda la administraci√≥n de dispositivos m√≥viles se realiza a trav√©s de SCCM. </li><li>  Todas las pol√≠ticas y configuraciones de seguridad se crean y administran a trav√©s de SCCM. </li></ul><br>  En general, la administraci√≥n de dispositivos m√≥viles no se ha diferenciado de la administraci√≥n de estaciones de trabajo.  La parte de la nube se usa solo para la comunicaci√≥n entre dispositivos y SCCM. <br><br>  Junto con la decisi√≥n de cambiar a MS Intune, se hizo necesario transferir a todos los usuarios a la nueva plataforma.  Desafortunadamente, solo ten√≠amos 5 meses para migrar y 28,000 usuarios en todo el mundo. <br><br>  Para empezar, se utiliz√≥ el enfoque menos destructivo para la migraci√≥n y se aconsej√≥ a los usuarios que reconfiguraran los dispositivos para trabajar con el nuevo servicio. <br><br>  Este enfoque dej√≥ de funcionar en un momento determinado, y los usuarios comenzaron a verse obligados a desconectarse del servicio anterior con un bloqueo paralelo de la capacidad de configurar el dispositivo.  Esto cre√≥ ciertas dificultades y una carga adicional en el servicio de escritorio.  El gr√°fico de incidentes abiertos en el servicio de dispositivos m√≥viles muestra claramente el per√≠odo de la migraci√≥n m√°s activa. <br><br>  Afortunadamente, la transici√≥n fue exitosa, a tiempo y sin problemas inesperados. <br><br><img src="https://habrastorage.org/webt/mr/7y/zo/mr7yzogekruczdl0c3w5awc0pmo.png"><br><br><h2>  <b>¬øC√≥mo es la vida en Marte con Microsoft Intune?</b> </h2><br>  Durante la migraci√≥n, fue bastante dif√≠cil para todos los equipos de soporte adaptarse, ya que la funcionalidad para administrar dispositivos m√≥viles era mucho m√°s amplia y m√°s conveniente que en SCCM.  Pero al sacrificar cierta cantidad de funcionalidad, obtuvimos una estabilidad significativamente mayor del servicio y menos incidentes en general.  A modo de comparaci√≥n, con la soluci√≥n anterior para 28,000 usuarios, tuvimos alrededor de 700 incidentes por mes, pero ahora el nivel se mantiene en ¬± 350 incidentes. <br><br>  Con los nuevos lanzamientos de SCCM, Microsoft est√° agregando nuevas funcionalidades y espero que contin√∫en invirtiendo en una soluci√≥n h√≠brida. <br><br>  <b>¬øQu√© hay de nuevo?</b> <br><br>  La migraci√≥n al nuevo producto tambi√©n proporcion√≥ nuevas funciones de control de acceso, ya que Intune es solo una parte del servicio Enterprise Mobility + Security.  Las caracter√≠sticas m√°s importantes e interesantes para nosotros son el <b>acceso condicional</b> y <b>la administraci√≥n de aplicaciones m√≥viles</b> . <br><br>  El acceso condicional es una pol√≠tica de control de acceso al servicio.  Digamos que un usuario quiere conectarse desde un tel√©fono personal a Exchange Online.  La pol√≠tica de acceso requiere que su dispositivo est√© ejecutando Microsoft Intune para acceder a EXO.  Si este usuario intenta configurar el buz√≥n a trav√©s de la aplicaci√≥n de correo est√°ndar en iOS, ver√° solo un mensaje: "El administrador requiere que el dispositivo se controle a trav√©s de Microsoft Intune". Del mismo modo, puede controlar el acceso a cualquier aplicaci√≥n registrada en Azure AD. <br><br>  Mobile Application Management es la gesti√≥n de datos corporativos dentro de la aplicaci√≥n.  Es esta configuraci√≥n la que determina si es posible guardar documentos de trabajo en la memoria del tel√©fono, copiarlos en aplicaciones de terceros, etc. <br><br>  Ambas funciones permiten una configuraci√≥n flexible e indolora del usuario de la configuraci√≥n de seguridad. <br><br><h2>  <b>Migraci√≥n a Intune Standalone</b> </h2><br>  Despu√©s de interesarnos por las nuevas soluciones de Microsoft, en particular la gesti√≥n conjunta y el piloto autom√°tico, nos dimos cuenta de que era necesario cambiar a una soluci√≥n totalmente basada en la nube (la llamada Intune Standalone). <br><br>  En el momento de la decisi√≥n, Microsoft ya hab√≠a publicado instrucciones paso a paso sobre la migraci√≥n de usuarios de SCCM a Intune Standalone: <br><br><ul><li>  Exporte configuraciones de SCCM e imp√≥rtelas a Intune. </li><li>  Migraci√≥n de usuarios de prueba. </li><li>  Migraci√≥n de todos los usuarios. </li><li>  Cambie MDM Authority de SCCM a Intune. </li></ul><br>  En la etapa de exportaci√≥n / importaci√≥n, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se utiliz√≥</a> una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">soluci√≥n de Microsoft</a> .  Desafortunadamente, la importaci√≥n no fue muy bien y no solo se migraron aplicaciones espec√≠ficas de SCCM, sino todos los tipos de implementaci√≥n, creando aplicaciones separadas en Intune. <br><br>  Se parec√≠a a esto: <br><br><img src="https://habrastorage.org/webt/8y/b3/fl/8yb3flsgley6xygi-wvt4bb68ji.jpeg"><br><br>  Adem√°s, por alguna raz√≥n, la versi√≥n de la aplicaci√≥n tampoco se import√≥ correctamente y debido a esto, fue necesario publicar todas las aplicaciones manualmente.  Con esta configuraci√≥n y las pol√≠ticas se migraron sin ning√∫n problema. <br><br>  <b>Prueba de migraci√≥n grupal</b> <br><br>  Inicialmente, el grupo de prueba estaba formado por mis colegas y yo.  Tem√≠amos que los usuarios pudieran notar que estaban migrando.  Esto podr√≠a provocar una ola de llamadas al servicio de escritorio.  Pero las pruebas mostraron que, en ausencia de una diferencia en las configuraciones y aplicaciones publicadas, los usuarios no notan nada. <br><br>  ¬øCu√°l fue el mecanismo de migraci√≥n?  El usuario requerido se elimin√≥ de la colecci√≥n SCCM, que se utiliz√≥ en la configuraci√≥n de suscripci√≥n de Intune.  Esto se hizo a trav√©s de una colecci√≥n exclusiva, que, a su vez, estaba vinculada a un grupo en Active Directory.  En consecuencia, para migrar al usuario, solo necesita agregarlo al grupo AD necesario. <br><br>  Pero inesperadamente, hubo problemas al proporcionar acceso a la mesa de servicio para administrar los dispositivos migrados.  Cre√© un papel especial, que solo ten√≠a los derechos necesarios para sus tareas.  El rol se asign√≥ al grupo necesario, pero el acceso para algunas personas no apareci√≥.  Se verificaron las licencias de analista y sus cuentas, pero todo fue en vano.  La comprobaci√≥n de los roles efectivos a trav√©s de Graph API mostr√≥ que existe un rol, pero la persona a√∫n no ten√≠a acceso.  Despu√©s de una larga investigaci√≥n, junto con el soporte de Microsoft, se descubri√≥ que era necesario una licencia (Intune en EMS E3 o EMS E5) para los analistas.  Y tambi√©n, los analistas, a su vez, necesitan ser migrados a Intune Standalone.  La necesidad no estaba documentada y tard√≥ un par de semanas en resolverse. <br><br>  Al mismo tiempo, atraje a un grupo de representantes de ventas de un pa√≠s europeo a la migraci√≥n que utilizan activamente el servicio VPN en su trabajo diario y corren alrededor de la migraci√≥n en s√≠, as√≠ como el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servidor</a> configurado por separado para NDE independiente de Intune.  Fue en este paso que la migraci√≥n casi se cancel√≥ con el regreso de todos los usuarios. <br><br>  Para que el usuario pueda utilizar el servicio VPN, se le entrega un perfil que configura el cliente VPN utilizando el certificado SCEP especificado, que se refiere a la CA ra√≠z.  En consecuencia, un par de certificados deben estar presentes para la operaci√≥n. <br>  Solo ten√≠amos un certificado (Root CA). <br><br>  Lo m√°s simple es asumir que el problema est√° en el servidor NDES.  Pero funcion√≥ a la perfecci√≥n y ni siquiera recibi√≥ solicitudes de certificados.  Al examinar los registros de los propios dispositivos, descubr√≠ que el dispositivo ni siquiera recibi√≥ la configuraci√≥n necesaria para solicitar un certificado SCEP.  Microsoft ampli√≥ este problema a los desarrolladores de Intune que descubrieron la importancia de tener no solo todos los certificados, sino tambi√©n la necesidad de entregar todos los certificados y configuraciones a los mismos grupos de usuarios y dispositivos.  En nuestro caso, Root CA se entreg√≥ a todos los dispositivos y SCEP solo a ciertos dispositivos. <br><br>  Y as√≠, comenzamos la migraci√≥n de aumentar de 1000 a 4000 usuarios en una ola.  El proceso tom√≥ 4 semanas.  Est√°bamos listos para cualquier cosa (todos sabemos que muy raramente todo sale seg√∫n lo planeado).  Pero todo sali√≥ bien sin un aumento en las llamadas al servicio de escritorio. <br><br><h2>  <b>Dispositivos obsoletos</b> </h2><br>  De acuerdo con nuestros est√°ndares, nos esforzamos por las versiones m√≠nimas del sistema operativo m√≥vil: <br><br>  ¬∑ T-1 para iOS. <br>  ¬∑ T-2 para Android. <br><br>  * T es la √∫ltima versi√≥n en este momento. <br><br>  En menor medida, esto se aplica a iOS, ya que  Apple ha apoyado durante mucho tiempo sus dispositivos.  Esto es m√°s cierto para dispositivos Android.  Por ejemplo, las personas a√∫n usan Android 4.4.2 en dispositivos que tienen m√°s de 4 a√±os. <br><br>  En este caso, estamos llevando a cabo un di√°logo con el equipo local de TI para determinar el momento de la sustituci√≥n de dispositivos, ya que es necesario encontrar un equilibrio entre la seguridad y el dinero gastado en actualizarlos. <br><br><h2>  <b>Que sigue</b> </h2><br>  El cambio de decisi√≥n ha llevado a cambios internos.  Por ejemplo, hab√≠a scripts para limpiar SCCM de dispositivos obsoletos escritos en PowerShell, que ahora no son posibles de usar.  En todas sus nuevas soluciones, Microsoft est√° promoviendo la API Graph, que debe ser dominada. <br><br>  Hasta hace poco, la creaci√≥n de informes se basaba en SSRS; ahora utilizaremos Power BI + oData Feed con datos del almac√©n de datos de Intune. <br><br>  Anteriormente mencion√© el acceso convencional y la gesti√≥n de aplicaciones m√≥viles.  La primera soluci√≥n ya se ha implementado; ahora estamos trabajando en la segunda.  Tambi√©n estamos probando Azure Application Proxy como reemplazo de VPN en dispositivos m√≥viles.  Si es interesante, con gusto lo contar√© en nuevos art√≠culos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es413423/">https://habr.com/ru/post/es413423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es413413/index.html">Descripci√≥n general del componente Symfony: Config</a></li>
<li><a href="../es413415/index.html">L√≠mites de concurrencia adaptativa en Netflix</a></li>
<li><a href="../es413417/index.html">Eficiencia energ√©tica: los enfoques que probamos en Rusia</a></li>
<li><a href="../es413419/index.html">Resumen de noticias de PostgreSQL. Edici√≥n No. 7</a></li>
<li><a href="../es413421/index.html">Posibles incertidumbres en la carrera de un programador</a></li>
<li><a href="../es413427/index.html">Programaci√≥n para ingenieros de redes: trabajar con la configuraci√≥n</a></li>
<li><a href="../es413429/index.html">Estamos escribiendo un complemento para recibir certificados de comod√≠n Let's Encrypt</a></li>
<li><a href="../es413431/index.html">Talleres sobre desarrollo de contratos inteligentes sobre Solidez</a></li>
<li><a href="../es413433/index.html">El 65% de los profesionales de TI rusos quieren trabajar en el extranjero.</a></li>
<li><a href="../es413435/index.html">La herencia m√°s all√° de la gen√©tica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>