<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฃ ๐ ๐ Telegraff: Kotlin DSL for Telegram ๐ฉ ๐ง๐พ ๐ฏ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุนูู Habrรฉ ุงูุขูุงู ูู ุงูููุงูุงุช ุญูู ููููุฉ ุฅูุดุงุก ุฑูุจูุช Telegram ููุบุงุช ูููุตุงุช ุงูุจุฑูุฌุฉ ุงููุฎุชููุฉ. ุงูููุถูุน ุฃุจุนุฏ ูุง ูููู ุนู ุงูุฌุฏูุฏ. 


 ููู Telegraff ูู ุฃูุถู ุฅ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegraff: Kotlin DSL for Telegram</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445072/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3v/da/0z/3vda0ztz83mtq8efycve_gfyrqa.png" alt="ุดุนุงุฑ"></p><br><p style=";text-align:right;direction:rtl">  ุนูู Habrรฉ ุงูุขูุงู ูู ุงูููุงูุงุช ุญูู ููููุฉ ุฅูุดุงุก ุฑูุจูุช Telegram ููุบุงุช ูููุตุงุช ุงูุจุฑูุฌุฉ ุงููุฎุชููุฉ.  ุงูููุถูุน ุฃุจุนุฏ ูุง ูููู ุนู ุงูุฌุฏูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ููู Telegraff ูู ุฃูุถู ุฅุทุงุฑ ูุชูููุฐ ุฑูุจูุชุงุช Telegram ุ ูุณุฃุซุจุช ุฐูู ุชุญุช ุงูุฎูุถ. </p><a name="habracut"></a><br><h2 id="preambula" style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ุนุงู 2015 ุ ูุงู ุงูุฑูุจู ุงูุฑูุณู ูู ุญูู.  ูุงู ูุฏู ูุฏุฎุฑุงุช ุจุงูุฏููุงุฑ ูุฏููุช ุงูุณุนุฑ ุญุฑูููุง ูู ุฎูุณ ุฏูุงุฆู ูุจูุน ุงูุนููุฉ ุจุงูุณุนุฑ ุงูุฐู ุฃุญุชุงุฌู.  ุงูุญูู ุงูุชู ุงุณุชูุฑุช ุ ุชุนุจุช ููุชุจุช ุฑูุจูุช Telegram ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TinkoffRatesBot</a> ) ุ ูุงูุฐู ูุฎุทุฑู ุฅุฐุง ูุตู ุณุนุฑ ุงูุตุฑู ุฅูู ุงููููุฉ (ุงููุชููุนุฉ). <br>  ููุฏ ุชุฃุซุฑุช ูุซูุฑุง ุจูุฐู ุงููููุฉ.  ูุชุจ ุจูุชุง ุจุณุฑุนุฉ ูุจูุฑุฉ ุ ูููู ูู ูุญุตู ุนูู ุงูุฑุถุง. </p><br><p style=";text-align:right;direction:rtl"> ุงูุชูุงูู ูุน Telegram ููุณ ููู ุชูู ููุงู ูุดุงูู.  ุชู ุญู ูุฐู ุงููุดููุฉ ูู ุจุถุน ุณุงุนุงุช.  ูุฃูุง ููุฏูุด ูู ูุฌูุฏ ููุชุจุงุช ุจุฃููููุง ูู Java (ุฐุงุชู ุ ูุน ุฑูุฒ ูุซูุฑ ููุงุดูุฆุฒุงุฒ ูู ุงูุฌูุฏุฉ) ููุชูุงูู ูุน Telegrams ุ ุงูุชู ูุณุจุช ุฃูุซุฑ ูู ุฃูู ูุฌู ุนูู Github. </p><br><p style=";text-align:right;direction:rtl">  ูุงู ุงูุชุญุฏู ุงูุฑุฆูุณู ุจุงููุณุจุฉ ูู ูู ูุธุงู ุงูุจุฑูุฌุฉ ุงููุตูุฉ: ูููู ุงููุณุชุฎุฏู ุจุงุณุชุฏุนุงุก ุฃูุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ "/ taxi" ุ ูุณุฃูู ุงูุฑูุจูุช ุณูุณูุฉ ูู ุงูุฃุณุฆูุฉ ุ ูุชู ุงูุชุญูู ูู ุตุญุฉ ูู ุฅุฌุงุจุฉ ููููู ุฃู ุชุคุซุฑ ุนูู ุชุฑุชูุจ ุงูุฃุณุฆูุฉ ุงููุงุญูุฉ ุ ูุชู ุชุดููู "ุงููููุฐุฌ" ุงููุนุชุงุฏ ุ ููุชู ุฅุนุทุงุก ุทุฑููุฉ ุงููุนุงูุฌุฉ ุงูููุงุฆูุฉ ูุชุดููู ุงุณุชุฌุงุจุฉ. <br>  ููุฏ ูุนูุช ุฐูู ุ ููู ุจููุฉ ุงูุทุจูุงุช ุ ููุณุชููุงุช ุงูุชุฌุฑูุฏ ุ ูุงู ูู ุดูุก ุบูุฑ ูุชุฌุงูุณ ูุฏุฑุฌุฉ ุฃูู ูุงู ูู ุงููุฑูุฑ ุงููุธุฑ ุฅูููุง.  ููุฏ ุชุนุฐุจูู ุงูุณุคุงู: ููู ูููู ููู ุฐูู ุจุฅูุฌุงุฒ ูุนุถููุฉ ุฅูู ูููุฐุฌ ูุฌูู ุงูููุญูุ </p><br><p style=";text-align:right;direction:rtl">  ููุช ุฃุฑุบุจ ูู ุงูุญุตูู ุนูู ุดูุก ุจุณูุท ููุฑูุญ ุ ูุงูุฃูู ูู ุฐูู - ุฃู ุฃููู ูุงุฏุฑูุง ุนูู ูุตู ุงููุต ุจุฃูููู ูู ููู ูุงุญุฏ ูุนุฒูู ุญุชู ูุง ุฃุญุชุงุฌ ุฅูู ุนุฑุถ ูุตู ุงููุดุฑูุน ูู ุฃุฌู ููู ุณูุณูุฉ ุชูุงุนู ุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุง ูููู ุฃู ุงููุถูุฉ ูุงูุช ุญุงุฏุฉ ููุบุงูุฉ ุ ูุฃู ุงููููุฉ ูุฏ ุชู ุญููุง ุจุงููุนู.  ุจุฏูุง ูู ุฐูู ุ ูู ุจุนุถ ุงูุฃุญูุงู ููุฑุช ุจู.  ูุงู ุงูููุฑ ูู Groovy DSL ุ ูููู ุนูุฏูุง ูุตู Kotlin ุ ุฃุตุจุญ ุงูุงุฎุชูุงุฑ ูุงุถุญูุง.  ููุฐุง ุจุฏุง Telegraff. </p><br><p style=";text-align:right;direction:rtl">  ูุนู ุ ุจุงูุทุจุน ุ ูู ุชูู ููุงู ููุงูุณุฉ ุณูููุฒ ุจูุง Telegraff.  ูุงูุงุฏุนุงุก ุจุฃู Telegraff ูู ุงูุฃูุถู ูุง ููุจุบู ุฃู ูุคุฎุฐ ุญุฑููุง.  ููู Telegraff ูู ููุฌ ุฌุฏูุฏ ููุฑูุฏ โโููุฐุง ุงูุชุญุฏู.  ูู ุงูุณูู ุฃู ุชููู ุงูุฃูุถู ุ ูููู ุงููุญูุฏ. </p><br><h2 id="kak-etim-polzovatsya" style=";text-align:right;direction:rtl">  ููููุฉ ุงุณุชุฎุฏุงููุงุ </h2><br><h3 id="zavisimosti" style=";text-align:right;direction:rtl">  ุงุนุชูุงุฏุง ุนูู </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฃููู ูู ุชุญุฏูุฏ ูุณุชูุฏุน ุฅุถุงูู ููุชุจุนูุงุช.  ุฑุจูุง ูู ูุฑุญูุฉ ูุง ุณูู ุฃูุดุฑ Telegraff ูู Maven Central ุฃู ูู JCenter ุ ููู ุงูุขู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Gradle</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="kotlin hljs">repositories { maven { url <span class="hljs-string"><span class="hljs-string">"https://dl.bintray.com/ruslanys/maven"</span></span> } }</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฎุถุฑู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">repositories</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">repository</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">snapshots</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">enabled</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">enabled</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">snapshots</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>bintray-ruslanys-maven<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>bintray<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span>https://dl.bintray.com/ruslanys/maven<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">repository</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">repositories</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุจูู ุงูุญุงู ุจุงููุณุจุฉ ููุตุบูุฑุฉ.  ูุงุณุชุฎุฏุงู Telegraff ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุชุจุนูุฉ ูุงุญุฏุฉ ููุท ูุจุฏุก ุชุดุบูู ุงูุฑุจูุน: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Gradle</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">compile("me.ruslanys.telegraff:telegraff-starter:1.0.0")</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฎุถุฑู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>me.ruslanys.telegraff<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>telegraff-starter<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><h3 id="konfiguraciya" style=";text-align:right;direction:rtl">  ุชุฑุชูุจ </h3><br><p style=";text-align:right;direction:rtl">  ุชูููู ุงููุดุฑูุน ุจุณูุท ููููู ุฃู ููุชุตุฑ ุนูู ุงููุนููุชูู ุฃู ุงูุซูุงุซุฉ ุงูุฃููู: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">application.properties</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">telegram.access-key=123 # โ telegram.mode=webhook # โก telegram.webhook-base-url=https://ruslanys.me # โข telegram.webhook-endpoint-url=/telegram # โฃ telegram.handlers-path=handlers # โค telegram.unresolved-filter.enabled=false # โฅ</code> </pre> </div></div><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูููุชุงุญ ุงูุฎุงุต ุจู ุฅูู Telegram API. </li><li style=";text-align:right;direction:rtl">  ูุถุน ุชููู ุงูุฑุณุงุฆู (ุงูุชุญุฏูุซุงุช) ูู Telegram.  ูููู ุฃู ูููู ุฅูุง ุงูุงูุชุฑุงุน ุฃู webhook. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุงูุฅุดุงุฑุฉ ุฅูู ุทุฑููุฉ ุชููู ุงูุชุญุฏูุซุงุช ุจูุงุณุทุฉ "webhook" ุ ูุฌุจ ุนููู ุชุญุฏูุฏ ุงููุณุงุฑ ุฅูู ุงูุชุทุจูู ุงูุฎุงุต ุจู. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ุชุญุฏูุฏ ุงููุณุงุฑ ุงูุฎุงุต ุจู ุฅูู ููุทุฉ ุงูููุงูุฉ.  ุฅุฐุง ูู ูุชู ุฅุนุงุฏุฉ ุชุนุฑูู ูุฐู ุงููุนููุฉ ุ ูุณูุชู ุฅูุดุงุก ูุณุงุฑ ุงููููุฐุฌ ุงูุชุงูู: <code>/telegram/${UUID}</code> .  ูุจู ุจุฏุก ุงูุชุทุจูู ุ ูุชู ุชุนููู ุงูุนููุงู ุงููุญุฏุฏ ูุนููุงู ุฑุจุท ุงูููุจ.  ูู ููุงูุฉ ุงูุนูู ุ ูุชู ุงุณุชุจุฏุงู ุนููุงู ุฑุจุท ุงูููุจ ูุชููู ูุงุฏุฑูุง ุนูู ุงูุชุจุฏูู ุฅูู ุงูุงุณุชูุตุงุก ูู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ูุจุฏุฃ ูููุง. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุฑุบุจุช ูู ุฐูู ุ ููููู ุชุบููุฑ ุงููุฌูุฏ ุงูุฐู ุชูุฌุฏ ุจู ุงูุจุฑุงูุฌ ุงููุตูุฉ ูููุนุงูุฌุงุช.  ุจุดูู ุงูุชุฑุงุถู ุ ูุฐุง ูู ูุฌูุฏ <code>handlers</code> . </li><li style=";text-align:right;direction:rtl">  <code>UnresolvedFilter</code> ุชุถููู <code>UnresolvedFilter</code> ูู "ุงูุชุณููู" ููุชู ุชููููู ุจุดูู ุงูุชุฑุงุถู.  ูู ุญุงูุฉ ุนุฏู ุงูุนุซูุฑ ุนูู ูุนุงูุฌ ุนูู ุฑุณุงูุฉ ุงููุณุชุฎุฏู ุ ูุณุชุฌูุจ <code>UnresolvedFilter</code> ุจุดูุก ูุซู "ุนุฐุฑูุง ุ ุฃูุง ูุง ุฃูููู :(". </li></ol><br><p style=";text-align:right;direction:rtl">  ุญุงู ุงูููุช ููุชุงุจุฉ ุงููุตูุต! </p><br><h3 id="obrabotchiki" style=";text-align:right;direction:rtl">  ูุนุงูุฌุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุนุงูุฌุงุช (ุงูุจุฑุงูุฌ ุงููุตูุฉ) ูู ุฌุฒุก ุฑุฆูุณู ูู Telegraff.  ูุฐุง ูู ุงูููุงู ุงูุฐู ูุชู ููู ุชุนููู ุณูุณูุฉ ุชูุงุนู ุงููุณุชุฎุฏู.  ุฎูุงุตุฉ ุงูููู ูู ุฃู ูู ุฃูุฑ ุ ูุซู "/ start" ุ "/ taxi" ุ "/ help" ุ ูู ุจุฑูุงูุฌ ูุตู / ูุตู / ูุนุงูุฌ / ูุนุงูุฌ ูููุตู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูุญุชูู ุงูุจุฑูุงูุฌ ุงููุตู ุนูู ูุฌููุนุฉ ูู ุงูุฎุทูุงุช (ุงูุฃุณุฆูุฉ) ุงูุชู ูุญุชุงุฌ ุงููุณุชุฎุฏู ุฅูู ุชูููุฐูุง ูู ุฃุฌู ุชูููุฐ ุฃูุฑ.  ุจูุนูู ุขุฎุฑ ุ ูุฌุจ ุนูู ุงููุณุชุฎุฏู ููุก ุงููููุฐุฌ.  ููุธุฑูุง ูุฃู messenger ูู ุงููุงุฌูุฉ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูุชุญุฏุซ ูุทูุจ ุงููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุญุชุงุฌ ุฅูู ุชูุถูุญ ุฃู ุงุณุชุฌุงุจุงุช ุงููุณุชุฎุฏู ูุฌุจ ุงูุชุญูู ูู ุตุญุชูุงุ  ุฃูู ุดูุก ุณููุนูู ุงููุณุชุฎุฏู ูู ุฃูู ุณูู ูุณุชุฌูุจ ุจุดูู ูุฎุชูู ุนูุง ุชุชููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูู ุงูููุงูุฉ ุ ูููู ุฃู ูุชูุฑุน ุงููุต ุงูุจุฑูุฌู ุ ุฃู  ูููู ุฃู ุชุคุซุฑ ูู ุฅุฌุงุจุฉ ุนูู ุณุคุงู ูู ุชุฑุชูุจ ุงูุฅุฌุงุจุงุช ุงููุงุญูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู! </p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ุถุน ุงูููู ุจุงูููุญู <code>.kts</code> ูู ุงููุฌูุฏ ูุน <code>handlers</code> ุงูููุงุฑุฏ: <code>src/main/resources/handlers/ExampleHandler.kts</code> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุณููุงุฑูู ุงุณุชุฏุนุงุก ุณูุงุฑุฉ ุฃุฌุฑุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PaymentMethod</span></span></span><span class="hljs-class"> </span></span>{ CARD, CASH } handler(<span class="hljs-string"><span class="hljs-string">"/taxi"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// โ step&lt;String&gt;("locationFrom") { // โก question { // โข MarkdownMessage(" ?") } } step&lt;String&gt;("locationTo") { question { MarkdownMessage(" ?") } } step&lt;PaymentMethod&gt;("paymentMethod") { question { state -&gt; MarkdownMessage("   ?", "", "") // โฃ } validation { // โค when (it.toLowerCase()) { "" -&gt; PaymentMethod.CARD "" -&gt; PaymentMethod.CASH else -&gt; throw ValidationException(",    ") // โฅ } } next { state -&gt; null // โฆ } } process { state, answers -&gt; // โง val from = answers["locationFrom"] as String val to = answers["locationTo"] as String val paymentMethod = answers["paymentMethod"] as PaymentMethod // โจ // Business logic MarkdownMessage("""     #${state.chat.id}.   $from  $to.  $paymentMethod. """.trimIndent()) // โฉ } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุงุชูุญ ุงูุณููุจ ุนู ุนูุฏ ูู ุชุคุฎุฐ ูู ุงูุซูุงุจุช.  ูู ุงูุฅูุชุงุฌ ุ ุจุงูุทุจุน ุ ูู ุงูุฃูุถู ุชุฌูุจ ูุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุนุฑูุฉ ุฐูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนูู ุงูุณููุงุฑูู.  ูุทููุจ ุงุณู ูุฑูู ูุงุญุฏ ุนูู ุงูุฃูู.  ูู ูุฐู ุงูุญุงูุฉ ุ ููุงู ูุฑููุงู: "/ ุชุงูุณู" ุ "ุชุงูุณู".  ุฅุฐุง ูุงูุช ุฑุณุงูุฉ ุงููุณุชุฎุฏู ุชุจุฏุฃ ุจูุฐู ุงููููุงุช ุ ูุณูุชู ุงุณุชุฏุนุงุก ุงููุนุงูุฌ ุงูููุงุจู. </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฏ ุงูุฎุทูุงุช (ุงูุฃุณุฆูุฉ).  ูุทููุจ ุงุณู ุฎุทูุฉ ูุฑูุฏุฉ ู  ุจุนุฏ ุฐูู ุ ูููู ุงููุตูู ุฅูู ุงุณุชุฌุงุจุฉ ุงููุณุชุฎุฏู ุจุฏูุฉ ุจูุงุณุทุฉ ูุฐุง ุงูููุชุงุญ ("locationFrom"). </li><li style=";text-align:right;direction:rtl">  ุชุญุชูู ูู ุฎุทูุฉ ุนูู ุซูุงุซุฉ ุฃูุณุงู ุ ุฃูููุง ูู ุงูุณุคุงู ููุณู.  ุงูุณุคุงู ูู ูุณู ุฅูุฒุงูู ูุฌุจ ุฃู ูููู ุญุงุถุฑุงู ูู ูู ุฎุทูุฉ.  ูุง ููุฌุฏ ุฃู ูุนูู ูู ุฎุทูุฉ ุฏูู ุณุคุงู. </li><li style=";text-align:right;direction:rtl">  ููููู ููุก ุงูุณุคุงู ููุง ูุญูู ูู.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณููุทูุจ ูู ุงููุณุชุฎุฏู ูู ุฎูุงู ููุญุฉ ุงูููุงุชูุญ ุชุญุฏูุฏ ุฃุญุฏ ุงูุฎูุงุฑุงุช: "ุงูุจุทุงูุฉ" ุฃู "ุงูููุฏูุฉ".  ูุชูุฌุฉ ูุงุณุชุฏุนุงุก ูุฐุง ุงูุญุธุฑ ุ ูุฌุจ ุฃู ูููู ููุงู ูุงุฆู ูู ุงูููุน <code>TelegramSendRequest</code> .  ุนุฐุฑูุง ุ ูู ุฃุชููู ูู ุงูุชูุตู ุฅูู ุฃู ุดูุก ุฃูุถู ูู ูุงุญูุฉ <code>SendRequest</code> ุ ุงูุชู ุชุตู ุงูุจููุฉ ุนูู ุฃููุง ุทูุจ ุตุงุฏุฑ ูู Telegram. <br><img src="https://habrastorage.org/webt/zc/fg/u0/zcfgu08yo--cn3bhnrnhawcfad0.png" alt="ูููู ุงูุทุจูุฉ"></li><li style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุซุงููุฉ ุงูุฃูุซุฑ ุฃูููุฉ ูู ุงูุชุญูู ูู ุงุณุชุฌุงุจุฉ ุงููุณุชุฎุฏู.  ูุชู ุชุญุฏูุฏ ููุน ูู ุฎุทูุฉ (ุนุงู) ุ ูุจุงูุชุงูู ุ ูุฌุจ ุนูู ูุชูุฉ ุงูุชุญูู ูู ุงูุตุญุฉ ุฃู ุชุฑุฌุน ุจุงูุถุจุท ุงูููุน ุงูุฐู ูุชู ุจู ุชุญุฏูุฏ ุงูุฎุทูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงุณุชุฌุงุจุฉ ุงููุณุชุฎุฏู ุบูุฑ ูุฑุถูุฉ ุ ูููููู ุทุฑุญ <code>ValidationException</code> ูุน ุชูุถูุญ ุงููุต ุ ูููู ููุณ ููุญุฉ ุงูููุงุชูุญ ุ ุฅุฐุง ุชูุช ุงูุฅุดุงุฑุฉ ุฅููู ูู ุงูุณุคุงู. </li><li style=";text-align:right;direction:rtl">  ูุณู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ุนุจุงุฑุฉ ุนู ูุชูุฉ ุชุดูุฑ ุฅูู ุงูุฎุทูุฉ ุงูุชุงููุฉ.  ุจุดูู ุงูุชุฑุงุถู ุ ุณูุชู ุชูููุฐ ุงูุฎุทูุงุช ุจุชุฑุชูุจ ุฅุนูุงููุง ุ ูู ุฃุนูู ุฅูู ุฃุณูู.  ูููู ูููู ุฃู ุชุชุฃุซุฑ ูุฐู ุงูุนูููุฉ ุจุชุฌุงูุฒ ุงููุชูุฉ ุงูููุงุจูุฉ.  ูููู ุฅุฑุฌุงุน ุฅูุง ููุชุงุญ ุงูุฎุทูุฉ ุงูุชุงููุฉ ( <code>String</code> ) ุฃู "ูุงุฑุบุฉ" ูุชูุฌุฉ ูุชูููุฐ ูุฐู ุงููุชูุฉ ุ ููุง ูุดูุฑ ุฅูู ุฃูู ูุง ุชูุฌุฏ ุฎุทูุงุช ุฃุฎุฑู ูุฃูู ูุฏ ุญุงู ุงูููุช ููุชุงุจุนุฉ ุชูููุฐ ุงูุฃูุฑ. </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุฅูุดุงุก ุทูุจ ูุณุชุฎุฏู ุ ุชููู ุงููุนุงูุฌุฉ ูุทููุจุฉ.  ุงูุญุฌุฌ ูู lambda ูู ุงูุญุงูุฉ (ูุฐุง ูุดุจู ุงูุฌูุณุฉ) ูุฑุฏูุฏ ุงููุณุชุฎุฏููู. </li><li style=";text-align:right;direction:rtl">  ูุงุญุธ ุฃู ุงูุงุณุชุฌุงุจุฉ ุงููุงุดูุฉ ูู ุชุนุฏ ุณูุณูุฉ ุงุณุชุฌุงุจุฉ ุงููุณุชุฎุฏู ุ ูููููุง ูุงุฆู ุชู ูุนุงูุฌุชู ุจุงููุนู ูู ุงูููุน ุงููุทููุจ. </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ูููู ุงูุฑุฏ ุนูู ุงูุฃูุฑ ูุดุงุจููุง ููููุฑุฉ 4. ุฅุฐุง ูู ููู ุงูุฑุฏ ุนูู ุงูุฃูุฑ ูุทููุจูุง ุ ูููููู ุฅุฑุฌุงุน "ุฎุงููุฉ". </li></ol><br><p style=";text-align:right;direction:rtl">  ูุฏ ูุง ูุญุชูู ุงููุนุงูุฌ ุนูู ุฎุทูุงุช ุนูู ุงูุฅุทูุงู.  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุญุชุงุฌ ููุท ุฅูู ุชุญุฏูุฏ ุณููู ุงููุนุงูุฌ ูุงุณุชุฏุนุงุก ุงูุฃูุฑ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุตู ุงูุชุฑุญูุจ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs">handler(<span class="hljs-string"><span class="hljs-string">"/start"</span></span>) { process { _, _ -&gt; MarkdownMessage(<span class="hljs-string"><span class="hljs-string">"!"</span></span>) } }</code> </pre> </div></div><br><h3 id="probuem" style=";text-align:right;direction:rtl">  ูุญุงููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุงููุญุงููุฉ ุ ูู ุจุชูุฑุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูุฏุน</a> ุ ููู <code>telegraff-sample</code> ุฅูู ุงูุฌูุงุฒ ุงููุญูู <code>telegraff-sample</code> ูุฌูุฏ <code>telegraff-sample</code> .  ุชูููู ุ ุฅุทูุงู ุ ุงูููุณ! </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ <code>telegraff-sample</code> ูู ูุดุฑูุน ูุณุชูู ุจุดูู ูุชุนูุฏ ูุง ูุฑุชุจุท ุจุงููุงูุฏ ูุญุชู ูุฏูู Gradle Wrapper.  ููููู ุชุฑู ูุฐุง ุงููุฌูุฏ ููุท.  ูุฐุง ูู ููุน ูู ุงููููุฐุฌ ุงูุฃุตูู. </p><br><h2 id="kak-eto-ustroeno" style=";text-align:right;direction:rtl">  ููู ูุนููุ </h2><br><h3 id="telegram" style=";text-align:right;direction:rtl">  ุจุฑููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุชูุงูู ูุน Telegram ุจุณูุท ููุบุงูุฉ ููุชู ุชูููุฐู ูู <a href=""><code>TelegramApi</code></a> . </p><br><p style=";text-align:right;direction:rtl">  ุชู ุชูููุฐ ูู ุทุฑููุฉ ุจุดูู ูุชุนูุฏ ุจุดูู ูุฑุฏู ุจุณุจุจ ุนุฏุฏ ูู ุงูุธุฑูู: ุจุฏุกูุง ูู ุงุณุชุฎุฏุงู Spring's RestTemplate (ูุงุฎุชุจุงุฑุงุชู) ุ ุฅูู ุฎุตูุตูุฉ Telegram API. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ูู ุงูุชูููู ุ ููุงู ููุนุงู ูู ุนููุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ูู Telegraff: <a href="">PollingClient</a> ุ <a href="">WebhookClient</a> .  ุงุนุชูุงุฏุง ุนูู ุงูุชูููู ุ ุณูุชู ุงูุฅุนูุงู ุนู ุตูุฏูู ูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ูุนูู ุงูุฑุบู ูู ุฃู ุทุฑู ุชููู ุงูุชุญุฏูุซุงุช (ุฑุณุงุฆู ุฌุฏูุฏุฉ) ุชุฎุชูู ุนู Telegram ุ ุฅูุง ุฃู ุฌููุฑูุง ูู ูุชุบูุฑ ููุชูุฎุต ูู ุดูุก ูุงุญุฏ - ูุดุฑ ุญุฏุซ ( <a href=""><code>TelegramUpdateEvent</code></a> ) ุญูู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ูู ุฎูุงู <code>EventPublisher</code> (ููุท "ุงููุฑุงูุจ").  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ุชูููุฐ ุงููุณุชูุน ุงูุฎุงุต ุจู ุนู ุทุฑูู ุงูุงุดุชุฑุงู ูู ูุฐุง ุงูููุน ูู ุงูุฃุญุฏุงุซ.  ุทุจูุฉ ููุทููุฉ ุ ููุง ูุจุฏู ูู ุ ุชุฌุฑูุฏูุฉ ุ ูุฃูู ูุง ููู ูุทูููุง ููู ุชู ุงุณุชูุงู ุงูุฑุณุงูุฉ. </p><br><h3 id="filtry" style=";text-align:right;direction:rtl">  ูุฑุดุญุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุจูุฌุฑุฏ ุงุณุชูุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ ุ ูุฌุจ ูุนุงูุฌุชูุง ูุงูุฑุฏ ุนูู ุงููุณุชุฎุฏู.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุงูุฑุณุงูุฉ ุฅูู ุงูุงูุชูุงู ุนุจุฑ ุณูุณูุฉ ุงูุชุตููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุดุงุจู ููุฑุดุญุงุช Java EE ุงููุฃูููุฉ ููุจุฑูุฌู Java.  ุงููุฑู ุงููุญูุฏ ูู ุฃู ูุง ูุณูู ุจุงููุนุงูุฌุงุช (ุฅุฐุง ุฑุณููุง ููุงุฒู ูุน Java EE ุ ููุฐู ูู Servlets) ููุณุช ูุณุชููุฉ ุนู ุงููุฑุดุญุงุช ุ ูููููุง ุฌุฒุก ูููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/uo/ok/y8/uooky82zpiurpncn-szq4bdejni.png" alt="ุณูุณูุฉ ูุฑุดุญ"></p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุชู ุชุฑุดูุญ ุงูููุงุชุฑ ููููู ุฃู ุชุณูุญ ููุฑุณุงุฆู ุจุงูุฐูุงุจ ุฃุจุนุฏ ูู ุงูุณูุณูุฉ ุ ุฑุจูุง ูุง. </p><br><p style=";text-align:right;direction:rtl">  <code>LoggingFilter</code> ุงููุงุถุญ ุฃู <code>LoggingFilter</code> ูู <code>LoggingFilter</code> ุฐู ุงูุฃููููุฉ ุงูุนููุง (ุงูุฃูู) ุงูุฐู ุณูุชู ุงุณุชุฏุนุงุคู ูุฌุฒุก ูู ูุนุงูุฌุฉ ุฑุณุงูุฉ ุฌุฏูุฏุฉ.  ูุณุฌู ุงููุนูููุงุช ุนูู ุฑุณุงูุฉ ูุงุฑุฏุฉ ููุฑุณููุง ุฅูู ุฃุณูู ุงูุณูุณูุฉ.  ุฃุถูุช ุนูุฏุง <code>LoggingFilter</code> ููุซุงู.  ูู ุงููุงูุน ุ ูุฏ ูุง ูููู ุฐูู ููุทููุง ุ ูุฃู  ูุชู ุชุณุฌูู ุงูุฑุณุงุฆู ุงููุงุฑุฏุฉ ุนูู ูุณุชูู ุงูุนููู. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฑุดุญ ุงูุชุงูู ูู <code>CancelFilter</code> .  ุฅูู ูุนูู ุจุดูู ุฃุณุงุณู ูุน <code>HandlersFilter</code> ููู ูููู ูู.  ูููุชู ุจุณูุทุฉ: ุฅุฐุง ุฃุฑุงุฏ ุงููุณุชุฎุฏู ุงูุชุฎูู ุนู ุงูุจุฑูุงูุฌ ุงููุตู ุงูุญุงูู ุ ูููููู ูุชุงุจุฉ "/ ุฅูุบุงุก" ุฃู "ุฅูุบุงุก" ููุฌุจ ุฅูุบุงุก ุญุงูุชู (ุงูุฌูุณุฉ).  ููููู ุจุฏุก ุฃู ุณููุงุฑูู ุฌุฏูุฏ ุฏูู ุฅููุงู ุงูุณููุงุฑูู ุงูุณุงุจู.  ููุฐุง ุงูุณุจุจ ุ ูู <code>CancelFilter</code> "ุฃุนูู" (ุงูุฃููููุฉ). </p><br><p style=";text-align:right;direction:rtl">  <code>HandlersFilter</code> ูู ุงููุฑุดุญ ุงูุฑุฆูุณู ูู ุงูุนูููุฉ ุงูุญุงููุฉ.  ูุฐุง ุงููุฑุดุญ ูู ุงูุฐู ูุฎุฒู ุญุงูุฉ ุฏุฑุฏุดุงุช ุงููุณุชุฎุฏู ุ ููุฌุฏ ููุฏุนู ุงููุนุงูุฌ ุงููุทููุจ (ุงูุจุฑูุงูุฌ ุงููุตู) ุ ููุทุจู ูุชู ุงูุชุญูู ูู ุงูุตุญุฉ ุ ููุญุฏุฏ ุชุฑุชูุจ ุงูุฎุทูุงุช ููุณุชุฌูุจ ูููุณุชุฎุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุนุซุฑ <code>HandlersFilter</code> ุนูู ุฃู ูุนุงูุฌุงุช ููุงุณุจุฉ ูุฑุณุงูุฉ ุงููุณุชุฎุฏู ุ ุณูุงุก ูู ุงูุฌูุณุฉ ุฃู ูู ุงููุญุชูู ุ ูุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุฅูู ุฃุณูู ุงูุณูุณูุฉ.  ูุฑุดุญ ุงููุฏูุน ูู <code>UnresolvedFilter</code> .  ูุฐุง ูุฑุดุญ ูุนุฑู ุฃูู ุงูุฃุฎูุฑ ุ ูุจุงูุชุงูู ูุฅู ูุธููุชู ุจุณูุทุฉ: ุฅุฐุง ูุตููุง ุฅูู ุ ูุฅู ููููุฉ ุงูุฑุฏ ุนูู ุฑุณุงูุฉ ุบูุฑ ูุงุถุญุฉ ุ ุณุฃููู ุฃููู ูู ุฃููู ุดูุฆูุง.  ูุจุฏู ูู ุฃูู ูู ุงูุฃูุถู ุชููู ุจุนุถ ุงูุฑุณุงุฆู ุนูู ุงูุฃูู ูู ุจุฑูุงูุฌ ุงูุฑูุจูุช ุฅุฐุง ูู ููู ูุนุฑู ููููุฉ ุงูุฑุฏ ุ ุจุฏูุงู ูู ุชููู ุฃู ุดูุก ุนูู ุงูุฅุทูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุฅุถุงูุฉ ุนุงูู ุงูุชุตููุฉ ุงูุฎุงุต ุจู ุ ููุฒูู ุฅุนูุงู Bean ูู ูุฆุฉ <code>TelegramFilter</code> ูุชุญุฏูุฏ ุงูุชุนููู ุงูุชูุถูุญู <code>@TelegramFilterOrder(ORDER_NUMBER)</code> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ูุฑุดุญ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-meta"><span class="hljs-meta">@TelegramFilterOrder(Integer.MIN_VALUE)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoggingFilter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TelegramFilter { override fun handleMessage</span></span></span></span>(message: TelegramMessage, chain: TelegramFilterChain) { log.info(<span class="hljs-string"><span class="hljs-string">"New message from #{}: {}"</span></span>, message.chat.id, message.text) chain.doFilter(message) } <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> log = LoggerFactory.getLogger(LoggingFilter::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุชููุฐ ุจูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TinkoffRatesBot</a> "ุขูุฉ ุญุงุณุจุฉ".  ุจุฏูู ุงูุงุชุตุงู ุจุฃู ุจุฑูุงูุฌ ูุตู ูุฃูุฑ ุ ููููู ุฅุฑุณุงู ุฑูู ุ ุนูู ุณุจูู ุงููุซุงู ุ "1000" ุ ุฃู ุญุชู ุชุนุจูุฑ ูุงูู ุ ุนูู ุณุจูู ุงููุซุงู ุ "4500 * 3 - 12000".  ุณูู ูุญุณุจ ุงูุฑูุจูุช ูุชูุฌุฉ ุงูุชุนุจูุฑ ุ ููุทุจู ุฃุณุนุงุฑ ุงูุตุฑู ุงูุญุงููุฉ ุนูู ุงููุชูุฌุฉ ููุนุฑุถ ูุนูููุงุช ุนููุง.  ูู ุงููุงูุน ุ ูุชูุฌุฉ ูุฐู ุงูุฅุฌุฑุงุกุงุช ูู ุชูููุฐ <code>CalculationFilter</code> ุ ูุงูุฐู ููุน ูู ุงูุณูุณูุฉ ุฃุณูู <code>HandlersFilter</code> ุ ูููู ุฃุนูู <code>UnresolvedFilter</code> . </p><br><h3 id="obrabotchiki-1" style=";text-align:right;direction:rtl">  ูุนุงูุฌุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุธุงู ุงูุจุฑูุฌุฉ ุงููุตูุฉ Telegraff (ูุนุงูุฌุงุช) ูุจูู ุนูู Kotlin DSL.  ุจุงุฎุชุตุงุฑ ุ ูุฏูุฑ ุญูู ูุงูุจุฏุง ูุจูุงุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุง ูุง ุฃุฑู ูุฌูุฉ ูุธุฑ ุจุดูู ูููุตู ุนุฑุถ Kotlin DSL ุ ู  ูุฐู ูุญุงุฏุซุฉ ูุฎุชููุฉ ุชูุงููุง.  ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู</a> ูุจูุฑุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">JetBrains</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชูุฑูุฑ</a> ุดุงูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">i_osipov</a> . </p><br><h3 id="nyuansy" style=";text-align:right;direction:rtl">  ุงููุฑูู ุงูุฏูููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงููุณู ูุฎุตุต ููููุฒุงุช ุงูุญุงููุฉ.  ูููู ุ ูู ุฑุฃูู ุ ููุณูุง ููููู ุ ุจุนุถูู ูููู ุฅุตูุงุญู ุ ุงูุจุนุถ ุงูุขุฎุฑ ูุง ูููู ุฅุตูุงุญู.  ูููู ุนููู ุฃู ุชุนุฑู ุนู ูุฐู ุงูุฌูุงูุจ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงููุดุงุฑูุฉ ุฃู ูุนุฑูุฉ ููููุฉ ุชุตุญูุญ ููุทุฉ ุฃู ููุทุฉ ุฃุฎุฑู ูู ูุฐุง ุงููุณู ุ ุณุฃููู ููุชููุง ููุบุงูุฉ. </p><br><h4 id="telegram-1" style=";text-align:right;direction:rtl">  ุจุฑููุฉ </h4><br><p style=";text-align:right;direction:rtl">  ุฑุจูุง ูู ูุชู ูุตู ุทุจูุฉ ุงูุชูุงูู ูุน Telegram ุจุงููุงูู.  ููุท ุชูู ุงูุฃุณุงููุจ ุงูุชู ููุช ุจุญุงุฌุฉ ุฅูู ุชูููุฐูุง.  ุฅุฐุง ูุงู ููุงู ุดูุก ุชูุชูุฑ ุฅููู ุดุฎุตููุง ุ <a href=""><code>TelegramApi</code></a> ุจุชุตุญูุญ <a href=""><code>TelegramApi</code></a> ูุฅุฑุณุงู PR! </p><br><p style=";text-align:right;direction:rtl">  ูู ุจูู ุงูุฃุฌุฒุงุก ุงููููุฉ ูู ุงูููุช ุงูุญุงูู ุนุฏู ูุฌูุฏ ุฏุนู ููุญุฉ ุงูููุงุชูุญ ุงููุถููุฉ (ููุฐุง ูู ุนูุฏูุง ุชููู ููุญุฉ ุงูููุงุชูุญ ูุจุงุดุฑุฉ ุฃุณูู ุงูุฑุณุงูุฉ ุงูููุฌูุฏุฉ ูู ุงูุดุฑูุท).  ุชุชูุงูู ุงููููุฉ ุจุณุจุจ ุงูุญุงุฌุฉ ุฅูู "ุฅุฏุฎุงู" ููุญุงุช ุงูููุงุชูุญ ุงููุถููุฉ ุจุดูู ุตุญูุญ ูู ุงููููู ุงูุญุงูู ุจุญูุซ ุชุธู ุจุณูุทุฉ ููุฑูุญุฉ ููุนุฒููุฉ.  ููุงู ุจุงููุนู ููุฑุฉ ุฌูุฏุฉ ูุชูููุฐ ูุฐู ุงููุธููุฉ ุ ูููู ูู ูุชู ุชูููุฐูุง ูุงุฎุชุจุงุฑูุง ุจุฃู ุดูู ูู ุงูุฃุดูุงู. </p><br><h4 id="fat-jar" style=";text-align:right;direction:rtl">  ุฌุฑุฉ ุงูุฏููู </h4><br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ูููู ุฃู ุชูุงุฌู ุจุนุถ ุงูููุชุจุงุช ุ ูุซู <code>JRuby</code> ูุฑุจูุง <code>Kotlin Embedded Compiler</code> (ุงููุงุฒูุฉ ูุชุฌููุน ุงูุจุฑุงูุฌ ุงููุตูุฉ) ูุดุงูู ูุฌุฒุก ูู <code>Fat JAR</code> .  <code>Fat JAR</code> ูู ุนูุฏูุง ูุชู ุชุนุจุฆุฉ ุงูููุฏ ุงูุฎุงุต ุจู ููู ุงูุชุจุนูุงุช ูู ููู ูุงุญุฏ ( <code>*.jar</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูุญู ูุฐู ุงููุดููุฉ ุ ููููู ูู ุงูุชุจุนูุงุช ูู ููุช ุงูุชุดุบูู.  ููุฐุง ูู ุ ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุชุทุจูู ุ ูุชู ูุดุฑ ุงูุชุจุนูุฉ JAR ูู ุงูุญุฒูุฉ ุงูุฑุฆูุณูุฉ ูู ููุงู ูุง ุนูู ุงููุฑุต ููุดุงุฑ ุฅูู classpath ูุจู ุฐูู.  ูุฐุง ุณูู ุฌุฏูุง ูู ุฎูุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูููู</a> <code>bootJar</code> : </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุชูููู ุงููุณุงุนุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">bootJar { requiresUnpack "**/**kotlin**.jar" requiresUnpack "**/**telegraff**.jar" }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูู ุฃุฌู ุงูุฑุฌูุน ูู ูุนุงูุฌุงุช (ุงูุจุฑุงูุฌ ุงููุตูุฉ) ุฅูู ุญุจูุจู (ุงูุฎุฏูุงุช ุ ุนูู ุณุจูู ุงููุซุงู) ุ ูุฌุจ ุฃูุถูุง ุชูุฑูุบูุง.  ุงูุฐู ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ููุบู ูุงุฆุฏุฉ ูุฐุง ุงูููุฌ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุฃุฑุงูุง ุ ูุธู <code>application</code> ุงูููููู ุงูุฅุถุงูู <code>application</code> Gradle ุงูุทุฑููุฉ ุงูุฃูุซุฑ ููุซูููุฉ ูุจุณุงุทุฉ ูููุงุกูุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุฅุฐุง ููุช ุชููู ุจุชุนุจุฆุฉ ุงูุชุทุจูู ุงูุฎุงุต ุจู ุ ููู ูููู ููุงู ุงุฎุชูุงู ุญุณุจ ุงููุชูุฌุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุญูู ูู ูุฐุง ูุชุจุช ุจุดูุก ูู ุงูุชูุตูู <a href="">ููุง</a> . </p><br><h4 id="poryadok-inicializacii" style=";text-align:right;direction:rtl">  ุชุฑุชูุจ ุงูุชููุฆุฉ </h4><br><p style=";text-align:right;direction:rtl">  ููุง ุฃูุฏ ุฃู ุฃุดูุฑ ุฅูู ุญุงูุชูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุฅุฐุง ูุธุฑุช ุฅูู ุณููุงุฑูู ุงุณุชุฏุนุงุก ุณูุงุฑุฉ ุฃุฌุฑุฉ ุ ููููู ุฃู ุชุฑู ุฃู ูุฆุฉ <code>enum</code> ูุญุฏุฏุฉ ุฃุนูู ูู ุงุณุชุฏุนุงุก <code>handler(...)</code> .  ูุชู ูุฑุถ ูุฐู ุงูุถุฑูุฑุฉ ูู ุฎูุงู ุญูููุฉ ุฃู <code>handler</code> ูู ุงุณุชุฏุนุงุก ุฏุงูุฉ.  ููุงููุฉ ุฏุงูุฉ ุ ูุงููุชูุฌุฉ ุงูุชู ูุฌุจ ุฃู ุชููู ุจุนุถ ุงูุจููุฉ ุ ูุงูุชู ุณูู ุชุณุชุฎุฏู Telegraff ูู ููุช ูุงุญู.  ุฅุฐุง ุ ููููุง ููุชุงุฆุฌ ุชูููุฐ ุงูุจุฑูุงูุฌ ุงููุตู ุงูุฎุงุต ุจู ุ ูุง ูููู ูููุตูุน ุฅุญุถุงุฑ ุงููุชูุฌุฉ ุฅูู ุงูููุน ุงููุทููุจ ุ ูุณูุญุฏุซ ุฎุทุฃ ูู ูุฑุญูุฉ ุงูุชููุฆุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ุนููู ุฃู ุชุชุฐูุฑ ุฃูู ูููู ุชููุฆุฉ ุงูุจุฑุงูุฌ ุงููุตูุฉ ูู ููุช ุฃุจูุฑ ูู ุชุทุจููู ููููู ุจุงููุงูู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุถุนุช ุฑุงุจุทูุง ูุณูุงู ูู ูุชุบูุฑ ุซุงุจุช ูุญุงููุช ุงูุญุตูู ุนูู ุจุนุถ ุงูุฎุฏูุงุช ุนูู ุงูุณุทุฑ ุงูุฃูู ูู ููู ุงูุจุฑูุงูุฌ ุงููุตู ุ ููุฏ ูุชุถุญ ุฃู ุงูุณูุงู ูู ูุญุชูู ุนููู ุ ูุฃู  ูู ุชุชู ุชููุฆุชู ุจุนุฏ.  ูุชุฌูุจ ูุซู ูุฐู ุงููุดููุงุช ุ ุงุณุชุฎุฏู ุทุฑููุฉ Telegraff.  ุฅูู ูุถูู ุชููุฆุฉ ุงูุณูุงู ูุฃู ุฌููุน ุงูุญุจูุจ ุงููุงุฒูุฉ ูุชููุฑุฉ.  ูุซุงู ูููู ุฑุคูุชู <a href="">ููุง</a> . </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br><p style=";text-align:right;direction:rtl">  ุฃุฑุฏุช ุฃู ุฃุญุงูู - ุดููุฉ ุ <br>  ุฃุฑุฏุช ุฅุตูุงุญู - ุฅุฑุณุงู ุงูุนูุงูุงุช ุงูุนุงูุฉ ุ <br>  ุฃุฑุฏุช ุฃู ุฃุดูุฑ - ูุถุน ุนูุงูุฉ ุงููุฌูุฉ ูู ุฌูุซุจ ุ ูุซู ูุฐุง ุงูููุตุจ ูุฃุฎุจุฑ ุฃุตุฏูุงุฆู! </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุน ุงููุดุฑูุน</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar445072/">https://habr.com/ru/post/ar445072/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar445060/index.html">ุชูุธูู ุนูููุงุช ุงูุจุญุซ ุนู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ูุณุชูุฏุนุงุช ุจูุงูุงุช ููุชุงุญ ุงูุฑุจูุน</a></li>
<li><a href="../ar445062/index.html">ุชูุณูู ุงูุนุฑุถ ุงูุชูุฏููู ุงูุญุฏูุซุ</a></li>
<li><a href="../ar445064/index.html">ุงููุนุฑูุฉ ูู ุฃุฌู ุตุงูู ุงูุญูุงุฏ - ูุฑุตุฉ ููุนูุฏุฉ</a></li>
<li><a href="../ar445066/index.html">ููู ุฃูุชุจ ููุงุญุธุงุช ุงูุฑูุงุถูุงุช ุนูู LaTeX ูู Vim</a></li>
<li><a href="../ar445070/index.html">ููุฎุต ุงูููุงุฏ ุงููุซูุฑุฉ ููุงูุชูุงู ููุทูุฑ ุงููุงุชู ุงููุญููู ุฑูู 291 (18 ูุงุฑุณ - 24 ูุงุฑุณ)</a></li>
<li><a href="../ar445074/index.html">ุจุฑูุฌุฉ ูุงุนุฏุฉ LibreOffice. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar445076/index.html">ูุฏู ุนููุงู ุชูููููุฌูุง ุงููุนูููุงุช ุฌุฏุงุฑ ุงูุญูุงูุฉ ุงููุนุฑูุฉ</a></li>
<li><a href="../ar445078/index.html">ูู ุงููุฑุฌุญ ุฃู ุชุญูู ููุฒูุงุก ุงููู ุงูุดุจูุงุช ุงูููุฑุจุงุฆูุฉ ุงูุฃูุฑูููุฉ ูู ุงููุชุณูููู</a></li>
<li><a href="../ar445080/index.html">ูู ุฑูุณูุง ุ ุณูุชู ุฅูุดุงุก "ุงูุณูู ุงูุญุฏูุฏูุฉ ุงูุฑูููุฉ"</a></li>
<li><a href="../ar445082/index.html">ูู ุงูุดูุฑ ุงููุงุถู ุ ุฃุทูููุง ุนูู Zuckerberg ุงุณู ุงููุนุชูู. ุชุตุญูุญ: ูู ุงููุงูุน ุ ูู ูููุณุจูู ูู ูู ูุฌุฑุฏ ุนุงุฑ ุณุฎูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>