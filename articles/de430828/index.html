<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéß üöµüèΩ üë®üèª‚Äçüåæ Erfahrung in der Verwendung von LCD-Displays auf Basis von MELT-Produkten üåö üåñ üë®üèø‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist einer aufregenden Abenteuerquest gewidmet, die ich vor anderthalb Jahren durchlaufen musste, um einen aktualisierten externen Senso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erfahrung in der Verwendung von LCD-Displays auf Basis von MELT-Produkten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430828/"> Dieser Artikel ist einer aufregenden Abenteuerquest gewidmet, die ich vor anderthalb Jahren durchlaufen musste, um einen aktualisierten externen Sensor f√ºr die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier in diesem Artikel</a> beschriebene Wetterstation zu erstellen.  Nach den Betriebserfahrungen der Vorg√§ngerversion wollte ich unbedingt einen Sensor mit einer Kontrollanzeige erstellen, damit die kaprizi√∂seste Komponente der Station - der Windgeschwindigkeitssensor - regelm√§√üig √ºberpr√ºft (und √ºberpr√ºft) werden kann.  Die Abenteuer begannen, als ich anfing, ein Display f√ºr diesen Zweck auszuw√§hlen, und aus einer Reihe von Gr√ºnden, √ºber die ich mich weiter f√ºr die Produkte meiner einheimischen MELT entschied.  Bevor ich jedoch die <s>Methoden des nicht-traditionellen Geschlechtsverkehrs beschreibe,</s> wie ich mit den Produkten dieses von mir gew√§hlten Unternehmens umgehen kann, lohnt es sich, kurz auf den Hauptgrund f√ºr all diese grandiose Modernisierung einzugehen, die ich begonnen habe. <br><a name="habracut"></a><br>  In den Kommentaren zu diesem Artikel wurde ich zu Recht auf das Design der Sensoren hingewiesen, dass die Achse eines solchen Ger√§ts eine feste Spitze haben und auf einer ebenso festen Basis ruhen sollte (denken Sie an eine Armbanduhr ‚Äûauf so vielen Steinen‚Äú).  Nat√ºrlich wusste ich das, aber dann konnte ich mir keine M√∂glichkeit vorstellen, eine Lichtachse mit einem scharfen Punkt mit ausreichender H√§rte zu versehen. Im Gegenteil, ich ging den Weg der Minimierung der Reibung, indem ich eine Messingspitze (f√ºr Wetterfahne) oder eine Duralspitze (f√ºr Geschwindigkeitssensor) in ein weiches PTFE tauchte (siehe) .Draftsman im angegebenen Artikel).  In vollem Verst√§ndnis, dass diese Entscheidung nur vor√ºbergehend und von kurzer Dauer ist und in naher Zukunft etwas Wesentlicheres einfallen muss. <br><br>  Das Ergebnis der letzten beiden Betriebszeiten zeigte jedoch, dass eine solche L√∂sung durchaus f√ºr eine Wetterfahne geeignet ist, die nat√ºrlich die fluoroplastische Basis mit einer Messingachse auf das Metall zers√§gte, ihn aber √ºberhaupt nicht verletzte - minimale Reibung ist dort nicht erforderlich, auch nicht teilweise umgekehrt.  Schlimmer war es mit einem Geschwindigkeitssensor, bei dem nicht nur der Fluoroplast an der Basis ges√§gt wurde, sondern auch die Spitze selbst aus einem weichen Duraluminium, das zwei Millimeter lang gel√∂scht wurde.  Infolgedessen wurde zun√§chst die Startschwelle inakzeptabel erh√∂ht und der Sensor musste modernisiert werden.  Das Anemometer selbst wurde ebenfalls modernisiert, da die Laser-CD, auf deren Grundlage sie von der Sonne geschichtet wurde, ein unordentliches Aussehen erhielt (nun, ich wusste vorher nicht, dass CDs aus zwei Schichten bestehen). <br><br>  Ich hoffe, dass ich Ihnen sp√§ter mehr √ºber den neuen Sensor erz√§hlen kann, nachdem er zumindest ein wenig in Betrieb ist und Sie sicherstellen k√∂nnen, dass Sie nichts auf einmal √§ndern m√ºssen (dh nicht fr√ºher als zu Beginn des Sommers).  Und jetzt nur noch einige Details zu den √Ñnderungen im Messkreis, da sie sich auf das Hauptthema dieses Artikels beziehen. <br><br><h2>  √úber den Sensormesskreis </h2><br>  Im Zusammenhang mit der Absenkung der Startschwelle stellte sich die Frage, wie lange es dauert, die vom Geschwindigkeitssensor kommenden niedrigen Frequenzen zu messen (Einzelheiten finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieser Ver√∂ffentlichung</a> zu Methoden zur Messung niedriger Frequenzen).  Um die Schwelle f√ºr den k√ºnstlichen Start nicht zu begrenzen, sollten wir in diesem Fall Frequenzen ab 1-2 Hertz messen: Wenn man bedenkt, dass der Sensor 16 L√∂cher in einem Kreis hat (siehe Foto des Sensors <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Originalartikel</a> ), entspricht dies ungef√§hr einer Umdrehung in 8-16 Sekunden, was offensichtlich niedriger ist als jeder Schwellenwert zum Starten.  Das hei√üt, das Zeitlimit f√ºr das Warten auf das Eintreffen des n√§chsten Frequenzimpulses sollte mindestens 1 s betragen (siehe den angegebenen Artikel zu Messmethoden). Dies macht Sinn f√ºr die Energiespargeschichte: Um eine akzeptable Aktualisierungszeit zu erhalten und gleichzeitig die Daten zu mitteln, um ein Rattern auf dem Display zu vermeiden, Wir m√ºssen den Controller alle zwei Sekunden aufwecken.  Und wenn die H√§lfte von ihnen die Zeit braucht, um auf Impulse zu warten, wird keine Energie eingespart - unter Ber√ºcksichtigung der Tatsache, dass die emittierende LED des Sensors die ganze Zeit funktioniert hat und etwa 20 mA verbraucht. <br><br><div class="spoiler">  <b class="spoiler_title">Einige Details in Klammern</b> <div class="spoiler_text">  Ich stelle in Klammern fest, dass ich mich im Zusammenhang mit diesem Problem sofort an den aktuellen Z√§hler erinnerte, der Anfang der achtziger Jahre in unserem Konstruktionsb√ºro entwickelt wurde, noch bevor alle Arten von Steuerungen auftauchten.  Darin wurde eine echte Vektormittelung implementiert: Die Aufzeichnung aller Messwerte wurde n√§mlich durch das Signal selbst vom Plattenteller des Geschwindigkeitssensors getaktet - ein ungef√§hres Analogon zum Nachlauf eines externen Interrupts.  Mit anderen Worten, wenn kein Strom vorhanden ist, wurde keine Aufzeichnung durchgef√ºhrt, und die Schaltung verbrauchte nichts - nur Echtzeituhren funktionierten.  Die Schwelle f√ºr den Start dieses Drehtellers, der in Form eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Laufrads ohne</a> Auftrieb hergestellt wurde, betrug, um die Wahrheit zu sagen, 2-3 cm / s, und das Messger√§t zeigte die Richtung durch Drehen des gesamten K√∂rpers an.  Es ist also im Wasser, das 700-mal dichter als Luft ist!  W√§hrend der Mittelungszeit, die Stunden betrug, drehte sich ein solches Windrad mindestens einmal um, da es dort fast keine leeren Messungen gab.  Und f√ºr eine Wetterstation ist, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wie bereits erw√§hnt</a> , eine mathematisch korrekte Mittelungsmethode nicht geeignet, da sie bei Windstille etwas Reales zeigen sollte.  Daher k√∂nnen wir hier nicht auf eine k√ºnstlich begrenzte Zeit√ºberschreitung verzichten, um auf Impulse vom Sensor zu warten. <br></div></div><br>  Es ist m√∂glich, eine komplexe Steuerung des Erwachens des Controllers aus zwei Quellen auszur√ºsten: normalerweise aufgrund einer externen Unterbrechung durch den Geschwindigkeitssensor (dh w√§hrend des Wartens auf Impulse vom Sensor wechselt der Controller auch in den Energiesparmodus) und ohne Wind wird er vom Watchdog gezwungen.  Dies w√§re nur dann sinnvoll, wenn das Prinzip des Lesens des Geschwindigkeitssensors von optischen zu weniger energieaufwendigen Schaltkreisen ge√§ndert wird (nach denen noch gesucht werden muss - der Hallsensor verbraucht beispielsweise 5-10 mA, was grundlegend weniger ist als das optische Design).  Aber alles wurde vereinfacht, weil mein Sensor jetzt von einer Solarbatterie gespeist wird, wodurch ich den Energiesparmodus einfach aufgeben konnte. <br><br>  Um die Messwerte zu messen, habe ich mich nicht mit Timern besch√§ftigt oder Arduino millis () gez√§hlt, sondern einfach einen primitiven externen Frequenzgenerator mit einer Zeitspanne von ca. 1,5 Sekunden auf Timer 555 eingerichtet: <br><br><img src="https://habrastorage.org/webt/hn/o0/ig/hno0igehcu7spf5ge0q4fx9jynu.png" width="400"><br>  Wie wir uns erinnern, verwendet die Sensorschaltung den ‚Äûnackten‚Äú Atmega328-Controller im DIP-Paket, der √ºber Uno programmiert und am Sockel installiert wurde. Arduino selbst wird nur f√ºr das Prototyping verwendet.  Der Generatorausgang wurde mit dem Interrupt-Pin INT0, Pin 4 der Mikroschaltung (Pin D2 der Uno-Karte) verbunden.  Die positive Differenzunterbrechung (RISING) setzt ein bestimmtes Flag, nach dem der n√§chste Messwert im Hauptzyklus genommen wird.  Die Frequenz vom Sensor wird ebenfalls mit der Interrupt-Methode gemessen (der Sensorausgang ist mit dem Interrupt-Eingang INT1, Pin 4 (D3), verbunden, siehe die letzte Methode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im selben Artikel</a> ), da die maximale Gesamtwartezeit doppelt so lang ist wie die gemessene Frequenz.  Bei einer Zeit√ºberschreitung von 1 Sekunde betr√§gt die minimale gemessene Frequenz somit 2 Hz (eine Umdrehung des Anemometers in 8 Sekunden).  In jedem vierten Zyklus erfolgt eine Mittelwertbildung und die fertigen Daten werden an das Hauptmodul gesendet, dh die Messwerte werden ungef√§hr alle 6 Sekunden aktualisiert. <br><br>  Die gesamte Geschichte mit einem aktualisierten Sensor muss kalibriert und regelm√§√üig √ºberpr√ºft werden, um festzustellen, ob die Reibung zugenommen hat. Dabei werden die Messwerte mit einem manuellen Anemometer verglichen.  Daher ist es sehr unpraktisch, wenn die Messwerte an einer Stelle (im Haus) angezeigt werden und der externe Sensor an einer v√∂llig anderen Stelle installiert wird - im Gartenpavillon.  Es stellte sich die Frage nach der Installation eines Steuer-LCD im Sensorgeh√§use.  Da Sch√∂nheit hier nicht erforderlich ist, sind die Informationsanforderungen daf√ºr minimal: Eine einzeilige Anzeige mit 10 Zeichen reicht aus.  Die geometrischen Anforderungen sind jedoch recht streng: Das Display muss in das vorhandene Geh√§use mit einer Breite von 70 mm passen.  Ich muss sagen, dass ich aufgrund meiner organischen Abneigung gegen LCD-Displays (schwach, kontrastarm, mit kleinen Buchstaben, ekelhafter Qualit√§t der Hintergrundbeleuchtung und viel Verbrauch, dazu sp√§ter mehr) fast nicht √ºber das Angebot im Einzelhandel informiert bin.  Und so wurde sofort klar, dass die Displays, nach denen ich brauchte, im Verkauf sehr gesucht werden mussten: Das in Gesch√§ften vorherrschende 16x2-LCD-Standarddisplay hat eine 80 mm lange Platine und passt nicht in meinen Sensor, und alle anderen Typen sind unabh√§ngig davon noch gr√∂√üer von der Firma.  In der Natur gibt es nat√ºrlich kleinere Sorten, aber dann in der Natur und nicht im heimischen Einzelhandel. <br><br><h2>  L√∂sung: oh MELT! </h2><br>  Am Ende entdeckte ich zwei MELTs gleichzeitig, die wunderbar zu meiner Aufgabe passten.  Der erste von ihnen ist ein einzeiliger 10-stelliger MT-10S1 mit einem Controller, der laut Hersteller " <i>HD44780 von HITACHI und KS0066 von SAMSUNG √§hnelt</i> ".  Es hat ziemlich gro√üe Zeichen: mehr als 8 mm hoch, was eigentlich f√ºr chinesische Displays mit viel gr√∂√üeren Gr√∂√üen charakteristisch ist.  Die Breite der Platte betr√§gt 66 mm, die Abmessungen des hervorstehenden Bildschirms (au√üen) betragen 62 x 19,5.  Der Verbrauch in diesem Fall st√∂rt mich nicht sehr (da der externe Sensor von einer Solarbatterie mit offensichtlich gr√∂√üerer Leistung als erforderlich gespeist wird), aber aus Gewohnheit stellte ich beim Betrachten der Zeile im Datenblatt fest, dass er auch kleiner als gew√∂hnlich ist - 0,7 mA (alle gew√∂hnlichen LCDs) Displays auf Analoga des HD44780 verbrauchen ab 1,2 mA).  Es gibt immer noch eine Hintergrundbeleuchtung f√ºr den Haufen, wie es f√ºr all diese Typen √ºblich ist - ziemlich elend und gleichzeitig viel Energie verbrauchend. <br><br><img src="https://habrastorage.org/webt/6h/j2/wp/6hj2wpcmpeo_32v2pui7fxdbqwm.png" width="400"><br><br>  Das zweite Display des MT-10T7 ist noch erstaunlicher: Genau in den gleichen Abmessungen passen 10 Sieben-Segment-Ziffern mit einer H√∂he von bis zu 13 mm.  Einige Verd√§chtigungen wurden durch eine nicht standardm√§√üige und anscheinend selbst erstellte Schnittstelle verursacht (f√ºr die das Beispiel der Programmierung im verbalen Pseudocode sogar im Datenblatt angegeben ist).  Das Display enth√§lt keine echte Steuerung: Es gibt eine Reihe von statischen Latch-Triggern, die durch kombinatorische Logik gesteuert werden.  Dank dieser Einfachheit verbraucht dieses gesamte Design nur 30 ŒºA, das hei√üt, es ist wirklich f√ºr Ger√§te geeignet, die rund um die Uhr mit Batteriestrom betrieben werden (der Verbrauch von 1,4 mA in herk√∂mmlichen Displays und sogar 0,7 mA in MT-10S1 ist viel h√∂her als f√ºr solche zul√§ssig Anwendung des Wertes - Berechnen Sie selbst, wie lange ein solches Display funktioniert, auch ohne Ber√ºcksichtigung der √ºbrigen Komponenten des Ger√§tes (z. B. AAA-Batterien mit einer Kapazit√§t von ca. 1500 mAh). <br><br><img src="https://habrastorage.org/webt/4c/dv/ki/4cdvkitbls9tkoihtq7swvmauly.png" width="400"><br><br>  Kurz gesagt, geben Sie zwei! <br><br><h2>  MT-10T7 </h2><br>  Ein Versuch, den im Datenblatt beschriebenen Algorithmus f√ºr MT-10T7 (sowohl auf Arduino als auch in reinem Assembler) unabh√§ngig zu reproduzieren, f√ºhrte nicht zum Erfolg.  Was falsch gemacht wurde, verstand ich nicht, weil ich auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diese Publikation stie√ü</a> , in der der Autor (eshkinkot) ein sehr gut geschriebenes und gr√ºndlich ausgef√ºhrtes Beispiel f√ºr den Umgang mit MT-10T7 gab, wonach alles sofort funktionierte.  Wenn jemand interessiert ist, dann <a href="">liegt hier ein</a> modifiziertes Beispiel f√ºr eshkinkot, erg√§nzt durch alle aussagekr√§ftigen Symbole, die auf siebenstelligen Indikatoren g√ºltig sind, einschlie√ülich Buchstaben, die nicht mit den Zahlen √ºbereinstimmen: <br><br><img src="https://habrastorage.org/webt/hz/1u/4_/hz1u4_8n0uolveo40f-osvuitua.jpeg" width="400"><br><img src="https://habrastorage.org/webt/lk/wo/4g/lkwo4gmlxuqqfkmntzs13krvitc.jpeg" width="400"><br><img src="https://habrastorage.org/webt/n6/dd/pj/n6ddpjvxujkqk82ballqqvmua3w.jpeg" width="400"><br><img src="https://habrastorage.org/webt/gm/qq/x0/gmqqx0kwdiutig9tfvwrtuq2mtq.jpeg" width="400"><br><br>  In diesen Bildern wird der Bildschirmkontrast leicht verzerrt, indem der Teiler auf Vo - 18 kOhm (zur Leistung) eingestellt wird: 10 kOhm (zur Masse), obwohl ohne ihn der ‚ÄûStandard‚Äú -Kontrast durchaus akzeptabel ist. <br><br>  Ich habe dann dem angegebenen Beispiel eine Funktion hinzugef√ºgt, die eine beliebige Zahl auf dem Display innerhalb von drei bis vier Dezimalstellen wiedergibt - positiv oder negativ, ganzzahlig oder Gleitkomma, dh die Gesamtzahl der Zeichen kann f√ºnf erreichen: "-12,7", zum Beispiel.  Da der Punkt im Sieben-Segment-Code keine separate Vertrautheit belegt, wird maximal 4 Bits angezeigt. Die Eingabeparameter f√ºr diese Funktion sind: a) ein Array (char buf [5]), das eine ACSII-Darstellung der Anzahl enth√§lt, b) die tats√§chliche Anzahl der darin enthaltenen Zeichen (ii von 1 bis 5) und c) die Position (pos von 0 bis 9), an der das erste (linke) Zeichen der Zahl gesetzt werden soll (f√ºr die Funktionen und die Notation, die auf dem Weg verwendet werden, siehe die angegebene Ver√∂ffentlichung von eshkinkot oder im Beispiel durch Bezugnahme): <br><br><div class="spoiler">  <b class="spoiler_title">Funktionscode</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeASCIIdig_serial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> buf[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">], byte ii, byte pos)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//      { boolean dot; //     //  ,   pos: pos=pos+(4-ii); //  ,    : for (byte i=0; i &lt;= ii; i++) if (buf[i]=='.') pos++; // : for (byte i=0; i &lt;= ii; i++){ // .  ,    : if (buf[i+1]=='.') dot=true; else dot=false; switch (buf[i]) { //decoder ASCII -&gt; 7-  case '0': writeSymbol(pos, DIGIT_ZERO, dot); break; case '1': writeSymbol(pos, DIGIT_ONE, dot); break; case '2': writeSymbol(pos, DIGIT_TWO, dot); break; case '3': writeSymbol(pos, DIGIT_THREE, dot); break; case '4': writeSymbol(pos, DIGIT_FOUR, dot); break; case '5': writeSymbol(pos, DIGIT_FIVE, dot); break; case '6': writeSymbol(pos, DIGIT_SIX, dot); break; case '7': writeSymbol(pos, DIGIT_SEVEN, dot); break; case '8': writeSymbol(pos, DIGIT_EIGHT, dot); break; case '9': writeSymbol(pos, DIGIT_NINE, dot); break; case '-': writeSymbol(pos, SYMBOL_MINUS, dot); break; } //end decoder if (buf[i]!='.') pos++; //  ,  +1  }//end for i }</span></span></span></span></code> </pre> <br></div></div><br>  Das MT-10T7-Modul f√ºr die Steuerausgabe von numerischen Werten ist bequemer als gew√∂hnliche Linienmatrixanzeigen: Es hat gro√üe Zahlen, und der Dezimalpunkt belegt keine separate Vertrautheit, und daher kann ein weiteres Zeichen an denselben Positionen angebracht werden.  F√ºr meine Zwecke ist es jedoch bequemer, wenn die M√∂glichkeit besteht, Buchstaben auszugeben (andernfalls muss die Richtung in Kompassgraden angezeigt werden, was etwas ungew√∂hnlich ist).  In diesem Fall wandte ich mich daher der einzeiligen Matrix MT-10S1 mit identischer Gr√∂√üe zu, die trotz einiger M√§ngel zum fertigen Design migrierte.  Gleichzeitig hat er bereits eine Hintergrundbeleuchtung, die dem MT-10T7 fehlt (daf√ºr musste sofort der MT-10T8 gekauft werden), und ich entschied, dass seine Anwesenheit in diesem Fall nicht schaden w√ºrde. <br><br><h2>  MT-10S1 </h2><br>  Das MT-10S1-Display hat eineinhalb Mal kleinere Buchstaben, aber auch eine recht anst√§ndige Gr√∂√üe.  Dar√ºber hinaus ist sein Bildschirm in seinen Gesamtabmessungen wirtschaftlich verpackt: Es gibt keine 10-stelligen Import-Gegenst√ºcke, aber im Winstar WH1601L (wo die Zeichen noch etwas kleiner sind) ist ein Zeichen mehr als einen Millimeter gr√∂√üer als die Gesamtl√§nge der Tafel und des Bildschirms.  Nun, der Controller-Verbrauch ist fast halbiert (im Vergleich zum gleichen WH1601L).  Eigentlich enden die Vorteile dort, dann beginnen die ‚ÄûFeatures‚Äú. <br><br>  Das Modul verf√ºgt, wie bereits erw√§hnt, √ºber einen Controller, der mit dem HD44780 von HITACHI kompatibel ist.  Das hei√üt, er sollte mit seinem geliebten Fl√ºssigkristall ohne √ºberm√§√üigen Stress arbeiten.  Dar√ºber hinaus stimmt die "Standard" -Codierungsseite mit der englisch-kyrillischen Seite von HD44780 und ihren vielen Analoga √ºberein, dh MT-10S1 sollte problemlos mit Liquid Crystal Rus funktionieren. Es sind keine Codepages erforderlich, damit dies umgeschaltet werden kann.  Und er macht das alles wirklich, aber mit Nuancen. <br><br>  Die erste Einschr√§nkung: In der einzeiligen Version sparen Entwickler anscheinend Register, und nur 8 Zeichen einer Zeichenfolge (Adressen 00h - 07h) befinden sich im Speicher pro Register (und die verbleibenden zwei Zeichen befinden sich bereits in einem anderen Register (40h-41h).  Das hei√üt, die De-facto-Anzeige ist zweizeilig, nur beide Zeilen befinden sich physisch in einer Zeile.  Bei n√§herer Betrachtung stellte sich heraus, dass dies auch f√ºr WH1601 gilt (nur dort nimmt das zweite Register volle acht Ziffern an).  Warum dies so unpraktisch ist, ist v√∂llig unklar. In gew√∂hnlichen 16x2-Displays sind die Register 16-Bit-Register, und eine solche K√ºrzung macht das Produkt kaum billiger, im Gegenteil, aufgrund der Notwendigkeit, verschiedene Versionen des Controllers zu produzieren (wenn sie unterschiedlich sind, von denen ich mir √ºberhaupt nicht sicher bin).  Ich dachte, es w√§re mit weniger als dem √ºblichen Verbrauch von MT-10S1 verbunden, aber der gleiche WH1601 verbraucht 1,2-1,4 mA, das hei√üt, er unterscheidet sich nicht von seinen fortschrittlichen Gegenst√ºcken. <br><br>  Nun, es scheint, okay - in Liquid Crystal Rus wurden die Funktion setDRAMModel () und die entsprechende Konstante LCD_DRAM_WH1601 gefunden.  F√ºr diesen Modus verf√ºgt die Bibliothek √ºber eine offensichtliche Adress√ºbersetzung: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ac&gt;<span class="hljs-number"><span class="hljs-number">7</span></span> &amp;&amp; ac&lt;<span class="hljs-number"><span class="hljs-number">0x14</span></span>) command(LCD_SETDDRAMADDR | (<span class="hljs-number"><span class="hljs-number">0x40</span></span>+ac<span class="hljs-number"><span class="hljs-number">-8</span></span>));</code> </pre> <br>  Ich wei√ü jedoch nicht, wie es auf anderen einzeiligen Displays funktioniert, und der MT-10S1 weigert sich vollst√§ndig, in diesem Modus zu arbeiten - der Bildschirm bleibt einfach leer.  Da es sich um eine Adressierung handelt, k√∂nnen Sie dies nicht mit einer einfachen selbstgeschriebenen Funktion √ºber der Bibliothek beheben, aber ich habe mich nicht in der Bibliothek umgesehen und herausgefunden, was los ist. Ich habe bereits mehr als ein halbes Dutzend fl√ºssigkristallkorrigierte Optionen, ich m√∂chte sie nicht produzieren und weiter. <br><br>  Die Anzeige des MT-10S1 muss zweizeilig deklariert sein: lcd.begin (16, 2);  (Anstelle von 16 k√∂nnen Sie 10 oder 12 ersetzen, es √§ndert sich nichts, da die tats√§chliche Anzahl der Zeichen in einer Zeile immer noch 8 betr√§gt.)  Ein Versuch, es als einzelne Zeile zu initialisieren (Nummer 1 an zweiter Stelle), f√ºhrt zu einem Fehler - der Hintergrund wird dunkel.  Und mehrstellige Zahlen k√∂nnen nur innerhalb von 8 Zeichen angezeigt werden. Bei l√§ngeren Zeilen verschwinden extreme Zeichen √ºber 8 einfach.  Daher eignen sich die Zeichen 9 und 10 entweder nur zur Anzeige von Hilfsgr√∂√üen (z. B. Ma√üeinheiten), oder Sie m√ºssen die Zeilennummer in separate Ziffern aufteilen und die Cursorposition auf das erste Zeichen der zweiten Zeile √§ndern, wenn Sie √ºber das 8. Zeichen hinausgehen. <br><br>  F√ºr Betroffene <a href="">k√∂nnen</a> Sie <a href="">hier</a> eine Probeskizze f√ºr diese Anzeige herunterladen (Anschluss von Leitungen - im Skizzentext oder in der Abbildung unten).  √úbrigens wird der Kontrast (√ºber den im Werksdatensatz kein Wort vorhanden ist und der Vo-Ausgang als NC bezeichnet wird) hier auf die √ºbliche Weise eingestellt, aber Sie m√ºssen dies wirklich nicht tun: Ohne Hintergrundbeleuchtung erscheint der Hintergrund etwas dunkel, aber wenn Sie versuchen, ihn aufzuhellen, indem Sie den Teiler mit dem Vo-Ausgang verbinden Beim Einschalten der Hintergrundbeleuchtung geht der Kontrast sp√ºrbar verloren. <br><br><h2>  Schnittstelle zum Controller </h2><br>  Nachdem √ºberpr√ºft wurde, ob alles ordnungsgem√§√ü funktioniert, stellte sich die Frage, wie dies alles mit der Sensorsteuerung verbunden werden kann.  Nat√ºrlich gab es nicht gen√ºgend freie Schlussfolgerungen f√ºr die Sensorsteuerung, um die Steuerung von ihr aus zu erm√∂glichen, aber ich wollte die Stadt nicht wirklich mit gro√üen Steuerungen umz√§unen - es ist bequemer, wenn der Aufbau des Systems modular aufgebaut ist und die Anzeige den bereits zuvor debuggten grundlegenden Algorithmus nicht beeintr√§chtigt.  Es blieb eine der seriellen Schnittstellen zu verwenden. <br><br>  Dies erfordert die I <sup>2</sup> C-L√∂sung, die auf PCF8574 (oder seinen vielen Analoga) basiert, zumal dieser Chip selbst nur ein ausgetrickstes Schieberegister ist und daher im Betrieb mehrere zehn ŒºA und im Ruhezustand weniger als 10 ŒºA verbraucht.  Zusammen mit MT-10T7 bilden sie ein hervorragendes Paar f√ºr die Erstellung von Ger√§ten mit geringem Stromverbrauch und Indikatoren. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MELT</a> bietet f√ºr diesen Fall sogar eine vorgefertigte Option: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MT-10T11</a> mit einem Gesamtverbrauch von 30 ŒºA. <br><br>  F√ºr MT-10S1 gibt es jedoch keine so bequeme L√∂sung - aus irgendeinem Grund werden nur Versionen mit einer 20x4-Konfiguration mit einem Zusatz in Form eines Analogons von PCF8574 unter den MELT-Linienanzeigen geliefert ( <b>UPD:</b> In den Kommentaren wurde jedoch vorgeschlagen, dass es auch eine MT-16S2H-Konfiguration von 16x4 mit derselben Schnittstelle gibt , seine Dimensionen sind jenseits der Dimensionen, die ich brauche).  Das fertige Modul des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in diesem Artikel</a> beschriebenen Typs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ist</a> in diesem Fall unpraktisch zu verwenden, da das zweite unangenehme Merkmal des MT-10S1-Displays die nicht standardm√§√üige Pinbelegung ist.  Die Schlussfolgerungen sind die gleichen (HD44780, genauer gesagt das inl√§ndische Gegenst√ºck KB1013VG6), befinden sich jedoch in einer v√∂llig nicht standardm√§√üigen Reihenfolge.  Aus Gr√ºnden des Interesses habe ich sowohl importierte 16x1- als auch MELT-Zweizeilen- / Vierzeilige √ºberpr√ºft - alle haben eine Standardausgabereihenfolge, und MT-10S1 hebt sich aus irgendeinem Grund von diesem Hintergrund ab.  Sie m√ºssen also eine selbst getroffene Entscheidung treffen. <br><br>  Infolgedessen habe ich trivialerweise denselben ATmega328-Controller auf dem Display installiert, auf die gleiche Weise programmiert - √ºber UNO - und dann auf einer separaten Platine in die Buchse gesteckt, die nur mit dem zum Starten erforderlichen Zubeh√∂r ausgestattet ist: Quarz mit Leitern, Stromversorgung und RC-Schaltung Ausgang zur√ºcksetzen (siehe Sensorschaltung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Originalartikel</a> , wo die Steuerung auf √§hnliche Weise angeschlossen ist). <br><br><div class="spoiler">  <b class="spoiler_title">Apropos Reset-Verkettung</b> <div class="spoiler_text">  √úbrigens zur Reset-Schaltung: Ich habe bereits einen Kondensator mit 1 Mikrofarad an einem Widerstand von mehreren kOhm, dh die Verz√∂gerungszeit beim Einschalten der Stromversorgung betr√§gt einige Millisekunden.  Wie viele?  Das Handbuch lehrt uns, dass f√ºr die gesamte Mega-Familie hier √ºberhaupt keine externe Kette erforderlich ist, der korrekte Start vom internen Schaltkreis ausgef√ºhrt werden soll und viel schneller.  Die Gewohnheit, beim Einschalten eine externe RC-Kette f√ºr einen verz√∂gerten Start an Pin 1 des Controllers anzubringen, blieb mir jedoch aus der Zeit der bereits vergessenen AVR Classic-Familie erhalten, in der der Controller m√∂glicherweise nicht richtig gestartet wurde, wenn die Versorgungsspannung nicht schnell genug war.  Und in der Mega Brown-out Detector-Familie funktioniert es m√∂glicherweise nicht sehr gut.  In kritischen F√§llen lohnt es sich immer noch, einen externen Leistungsmonitor zu installieren, aber hier schadet die RC-Kette nichts, kann aber in F√§llen mit schlechten Stromquellen helfen.  Die Entwickler von Arduino-Boards sind sich dessen √ºbrigens bewusst, denn auf dem Uno-Board gibt es zum Beispiel die gleiche Kette von 10 kOhm / 100 nF. <br></div></div><br>  Und Gott selbst befahl, zwei identische AVR-Controller an die √ºbliche serielle Schnittstelle anzudocken, die bis auf den Programmierprozess ohnehin nirgendwo anders in diesem Projekt verwendet wird und f√ºr die alles bereits zur Hand ist.  √úbrigens unterscheidet sich eine solche L√∂sung preislich nicht von den auf PCF8574 basierenden Komponenten und kann in der Variante mit MT-10T7 hinsichtlich der Energieeinsparung mit ihr konkurrieren - falls der oben erw√§hnte MT-10T11 nicht zur Hand ist. <br><br>  Insgesamt ist die Schaltung des MT-10S1-Moduls mit der Steuerung wie folgt (in der Abbildung ist die Bezeichnung der ATmega328-Schlussfolgerungen in Klammern nach den Schlussfolgerungen der Arduino-Karte angegeben): <br><br><img src="https://habrastorage.org/webt/zu/4h/sg/zu4hsgop0jxa8ufsqopzlr4xqro.png" width="880"><br><br>  Im Controller habe ich den Energiesparmodus angewendet (ja, das ist hier nicht wirklich erforderlich, aber warum sollte der Chip unn√∂tig eingeschaltet bleiben?).  Dar√ºber hinaus erfolgt das Aufwecken auf einem Signal vom gleichen Rechteckwellengenerator auf dem 555-Chip wie der Takt des Hauptreglers, nur diesmal auf der fallenden Flanke (FALLING), um die Mess- und Daten√ºbertragungsfunktionen geringf√ºgig zu trennen. <br><br><div class="spoiler">  <b class="spoiler_title">Das Geheimnis der Natur</b> <div class="spoiler_text">  Damit verbunden ist ein Geheimnis der Natur, das ich nicht l√∂sen konnte.  Es ist bekannt, dass Mega nur durch einen externen asynchronen Interrupt aus dem Tiefschlaf gebracht werden kann, da die Uhr ausgeschaltet ist und ein synchroner Interrupt einfach nicht auftreten kann.  Und die ganze Familie der 28-poligen AVR-Controller, die ihren Stammbaum von ATmega8 (48/88/168/328) f√ºhren, hat als solche nur Low-Level-Interrupts INT0 und INT1 (und PCINT-Interrupt, wird aber in Arduino nicht verwendet).  Alle offiziellen Empfehlungen beziehen sich sowohl auf Atmel-Materialien als auch auf Arduino-Websites.  Das Beispiel auf der Website arduino.cc besagt ausdr√ºcklich: " <i>In allen au√üer den IDLE-Schlafmodi kann nur LOW verwendet werden</i> ."  Und dies ist sozusagen kein Zweifel, zum Beispiel wiederholt Monk dasselbe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in seinem Buch</a> ausf√ºhrlicher: ‚Äû <i>Beachten Sie, dass der LOW-Interrupt-Typ ausgew√§hlt ist.</i>  <i>Dies ist die einzige Art von Interrupt, die in diesem Beispiel verwendet werden kann.</i>  <i>Die Typen RISING, FALLING und CHANGE funktionieren nicht</i> . ‚Äú <br><br>  Eine Unterbrechung auf einem niedrigen Pegel ist sehr unpraktisch zu verwenden, da sie, sobald sie auftritt, mit diesem niedrigsten Pegel am Ausgang immer wieder auftritt und besondere Ma√ünahmen ergriffen werden m√ºssen, um unn√∂tige Ausl√∂ser zu beseitigen.  Als ich in den Foren nach verschiedenen L√∂sungen f√ºr dieses Problem suchte, stie√ü ich pl√∂tzlich auf einige Codebeispiele, in denen INT0 vom Typ RISING oder FALLING explizit verwendet wird, um aus dem Schlaf zu kommen.  Nat√ºrlich habe ich dies dem Analphabetismus der Autoren zugeschrieben.  Aber als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ich</a> √ºber den Satz stolperte: ‚Äû <i>Obwohl Sie jede andere Art von Interrupt verwenden k√∂nnen (RISING, FALLING, CHANGE) - sie alle bringen den Prozessor aus dem Schlaf</i> ‚Äú, entschied ich mich trotz der Feinde, ein Live-Experiment durchzuf√ºhren - es war gut daf√ºr von Hand. <br><br>  Und zu meinem Erstaunen hat alles perfekt funktioniert.  Energiesparmodus - SLEEP_MODE_PWR_DOWN;  Aufgrund von Nutzlosigkeit habe ich hier keine Ma√ünahmen ergriffen, um den Verbrauch durch Deaktivieren aller anderen Funktionen weiter zu senken, aber der Taktgenerator ist offensichtlich ausgeschaltet.  Trotzdem wacht der Controller regelm√§√üig an der fallenden Flanke auf, fordert Daten an, zeigt sie auf dem Display an und schl√§ft wieder ein.  F√ºr die Reinheit des Experiments entfernte ich das MK von der UNO-Platine und steckte es mit dem angeschlossenen Quarz in meine Fassung, und trotzdem funktionierte alles weiter.  Dies ist am Verbrauch zu erkennen: fast 17 mA im Normalmodus und 0,9-1 mA bei eingeschalteter Energieeinsparung (davon sollten 0,7 mA dem Display zugeordnet werden). <br><br>  Ohne aus meinem Erstaunen herauszukommen, las ich die Datenbl√§tter von Atmel, schaute in Evstifeevs Buch (mit ihrer √úbersetzung), schaute sogar in das alte Atmel-Handbuch √ºber die Classic-Familie und verbrachte dann einen halben Tag damit, nach einer Erkl√§rung zu suchen, was geschah (sowohl auf Russisch als auch auf Russisch) auf Englisch) in zwei bekannten Suchmaschinen, fand aber nirgends auch nur einen Hinweis.  Es sei denn, es ist in den Anwendungshinweisen von Atmel n√ºtzlich, da es zweifelhaft ist, dass dort etwas ver√∂ffentlicht wurde, das den Datenbl√§ttern widerspricht. Ich bin froh, wenn jemand, der wei√ü, wei√ü, was ich falsch verstehe. <br>  <b>UPD: Die</b> Live-Assembler-Pr√ºfung (ATmega8) ergab die vollst√§ndige √úbereinstimmung mit den Datenbl√§ttern, dh, nur die Unterbrechung der Ebene funktioniert.  Die einzige Erkl√§rung, die mir einf√§llt, ist, dass Arduino den PCINT-Interrupt irgendwie mit einem regul√§ren Interrupt verbunden hat.  Ein Versuch, die Situation durch Studium des Textes der Arduino-Systembibliotheken zu kl√§ren, brachte nichts - dort w√ºrde sich der Teufel das Bein brechen. <br></div></div><br>  Die Daten√ºbertragung von der Sensorsteuerung zur Anzeigesteuerung √ºber UART ist in Form eines Dialogs organisiert.  Beim Aufwachen fordert der Display-Controller bei jeder vierten Unterbrechung nacheinander Daten an: <br><br><pre> <code class="cpp hljs">. . . . . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag==<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//   4-  ~6  Serial.print('T'); //   while(!Serial.available()); //  T iit = Serial.readBytes(buft,5); //  5  , //  ii    Serial.print('H'); //   while(!Serial.available()); //  iihh=Serial.readBytes(bufhh,5); //  5  , //  ii    Serial.print('S'); //   while(!Serial.available()); //  iiss=Serial.readBytes(bufss,5); //  5  , //  ii    Serial.print('D'); //   while(!Serial.available()); //  iid=Serial.readBytes(bufd,5); //  5  , //  ii    flag=0; //   } . . . . .</span></span></code> </pre><br>  Hier sind buft, bufhh, bufss und bufd Arrays (keine Strings!) Aus f√ºnf Bytes, die Daten zu Temperatur, Luftfeuchtigkeit, Geschwindigkeit und Richtung in Form einer ASCII-Zerlegung der entsprechenden Zahlen enthalten.  Um nicht zu viel zu akzeptieren, gibt das Setup eine verk√ºrzte Zeit√ºberschreitung f√ºr den Empfang an: <br><br><pre> <code class="cpp hljs">. . . . . Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); Serial.setTimeout(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   10  . . . . .</span></span></code> </pre><br>  Die Anzeige ist bequemer: Erstens haben Sie sofort die L√§nge der empfangenen Nummer, und zweitens sendet die Funktion Serial.print () eine ASCII-Zeichenfolge von der Seite des Sensorcontrollers, wobei die Pausen nur in den 10 ms zwischen den Sendungen festgelegt werden :: <br><br><pre> <code class="cpp hljs">. . . . . <span class="hljs-comment"><span class="hljs-comment">//     : if (Serial.available()&gt;0) //  { char ch=Serial.read(); if (ch=='T') { Serial.print(temperature,1); delay(10);} if (ch=='H') { Serial.print(humidity,0); delay(10);} if (ch=='S') { float wFrq=(3+0.8*f)/10; //   / if (wFrq&gt;0.3) Serial.print(wFrq,1); else Serial.print(0.0,1); delay(10);} if (ch=='D') { // Serial.println(wind_G); Serial.println(wind_Avr); delay(10); }//end ch }//end serial . . . . .</span></span></code> </pre><br>  Die Berechnung der Geschwindigkeit in m / s ist hier identisch mit der im Hauptmodul der Station durchgef√ºhrten (die Startschwelle wird zuf√§llig auf 0,3 m / s eingestellt) und muss auch entsprechend den Kalibrierungsergebnissen ge√§ndert werden. <br><br>  Wenn Sie versuchen, die Daten mit dem √ºblichen Serial.read () zu akzeptieren, und dann das Ergebnis des Empfangs auf einem Display mit einer Funktion wie lcd.print (t, 1) anzeigen, wobei t die Temperatur in Grad ist, die beispielsweise 12,7 entspricht, dann MT-10S1 als Antwort darauf Der Befehl gibt "49.5" aus.  Erraten oder vorschlagen?  Dies sind die ersten drei Zeichen in der Sequenz ‚Äû49 50 46 55‚Äú, dh in der ASCII-Erweiterung der Nummer ‚Äû12.7‚Äú.  Daher ist es einfacher, ein Array von Zeichen sofort zu akzeptieren und direkt so viele Zeichen anzuzeigen, wie gesendet wurden (count ist ein Z√§hler, der sich mit jedem Interrupt um eins erh√∂ht): <br><br><pre> <code class="cpp hljs">. . . . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count%<span class="hljs-number"><span class="hljs-number">8</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-comment"><span class="hljs-comment">// 8   lcd.clear(); if (buft[0]!='-') lcd.print("+"); for (byte i = 0; i &lt; iit; i++) lcd.print(buft[i]); //  lcd.setCursor(6, 0); for (byte i = 0; i &lt; iihh; i++) lcd.print(bufhh[i]); //  lcd.setCursor(0, 1); lcd.print("%"); } if ((count+4)%8==0){ //  4  lcd.clear(); lcd.setCursor(0, 0); for (byte i = 0; i &lt; iiss; i++) lcd.print(bufss[i]); //  lcd.setCursor(5, 0); dir_dd(bufd); //  } . . . . .</span></span></code> </pre><br>  Die letzte Zeile muss entschl√ºsselt werden.  Tatsache ist, dass die Richtungsdaten im 0-15-Code gesendet werden (zu dem sie bei der Implementierung der Vektormittelung noch vom Gray-Code √ºbertragen werden).  Im Fall des Sieben-Segment-Displays MT-10T7 wurden sie in Kompassgrade √ºbersetzt: <br><br><pre> <code class="cpp hljs">. . . . . dd=atoi(bufd); <span class="hljs-comment"><span class="hljs-comment">//   dd=dd*22.5; //   itoa(dd,bufd,10); //    . . . . .</span></span></code> </pre><br>  Und hier k√∂nnen wir direkt in russischen Buchstaben schreiben, genauso wie im Hauptmodul der Wetterstation (aufgrund dessen diese Anzeige tats√§chlich gew√§hlt wurde): <br><br><pre> <code class="cpp hljs">. . . . . <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dir_dd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dd[])</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(atoi(dd)) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} }<span class="hljs-comment"><span class="hljs-comment">//end switch }//end dir . . . . .</span></span></code> </pre><br><h2>  Aussehen </h2><br>  Das Foto zeigt das Erscheinungsbild des Displays mit dem angeschlossenen Controller im Betriebszustand: <br><br><img src="https://habrastorage.org/webt/wo/dg/fk/wodgfkuefea3shdafmubstmlmke.jpeg" width="400"><br><br>  So sieht die modifizierte Sensorbaugruppe aus: <br><br><img src="https://habrastorage.org/webt/ww/v4/p_/wwv4p_duhu45imp1gwppoz0ydzo.jpeg" width="400"><br><br>  Die Hintergrundbeleuchtungsparameter sind die in der obigen Abbildung angegebenen.  Da der Spannungsabfall √ºber der Hintergrundbeleuchtung in den MELT-Modulen bei einer 12-V-Stromversorgung 4,5 V betr√§gt, betr√§gt der Hintergrundbeleuchtungsstrom 50 mA (maximal f√ºr dieses Modul 60 mA). <br><br>  Das Geh√§use ist maximal abgedichtet, um zu vermeiden, dass feuchte Luft ins Innere gelangt (der schwarze Rahmen des Bildschirms stammt von der Gummimantel eines d√ºnnen Kabels).  Die wei√üe Platte rechts ist das Geh√§use des Luftfeuchtigkeits-Temperatursensors SHT-75, der aus dem Geh√§use genommen wurde (der Sensor selbst befindet sich dahinter).  Das gelbe Kabel oben ist die 433-MHz-Sendeantenne.  Auf der linken Seite befinden sich die Anschl√ºsse, an denen die Geschwindigkeits- und Richtungssensoren angeschlossen sind. <br><br>  Und so sehen die Messwerte auf dem Display des Hauptmoduls der Wetterstation aus (das schwarze Modul mit der wei√üen Antenne rechts ist der 433-MHz-Empf√§nger): <br><br><img src="https://habrastorage.org/webt/53/kd/kg/53kdkgcw_aqjwuzrjw4ev1k7uby.jpeg" width="400"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430828/">https://habr.com/ru/post/de430828/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430818/index.html">SQLAlchemy-Beschleunigung f√ºr Architekturastronauten</a></li>
<li><a href="../de430820/index.html">Schwarzer Freitag 2018 - VDS in Moskau und Amsterdam</a></li>
<li><a href="../de430822/index.html">Informationssicherheit im Internet der Dinge: Wer ist das Ding und wer ist der Meister?</a></li>
<li><a href="../de430824/index.html">Suchen Sie in MS SQL Server 2005 nach besch√§digtem Objekt anhand der besch√§digten Seitenzahl</a></li>
<li><a href="../de430826/index.html">Wie man einen Entwicklungsmanager entwickelt</a></li>
<li><a href="../de430830/index.html">Schwarzer Freitag, Traditionen und englische Redewendungen zum Einkaufen</a></li>
<li><a href="../de430832/index.html">Human Black Friday Preis</a></li>
<li><a href="../de430834/index.html">10 Tods√ºnden des Sprechers</a></li>
<li><a href="../de430836/index.html">Kotlin: Statik, die es nicht gibt</a></li>
<li><a href="../de430838/index.html">Die Wunder des Crowd-Marketings oder wie man ein Unternehmen mit Bewertungen f√∂rdert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>