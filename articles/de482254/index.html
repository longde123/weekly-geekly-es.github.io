<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✋🏿 ✋🏿 🎅🏾 VonmoTrade-Experiment. Teil 3: Optionsscheinheft. Verarbeitung und Speicherung von Handelsinformationen 😦 🧑 🧘🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im letzten Artikel des Zyklus haben wir die Arten von Umtauschaufträgen kennengelernt. Heute werden wir das Auftragsbuch, die Bearbeitung von Anträgen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VonmoTrade-Experiment. Teil 3: Optionsscheinheft. Verarbeitung und Speicherung von Handelsinformationen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482254/"><p><img src="https://habrastorage.org/webt/lv/ju/tn/lvjutn5seci4yo6l0tjwdpzp2hc.jpeg"></p><br><p>  Im <a href="https://habr.com/ru/post/481772/">letzten Artikel des</a> Zyklus haben wir die Arten von Umtauschaufträgen kennengelernt.  Heute werden wir das Auftragsbuch, die Bearbeitung von Anträgen und Fragen im Zusammenhang mit der Organisation der Speicherung von Handelsinformationen analysieren. </p><a name="habracut"></a><br><h2 id="spros-i-predlozhenie">  Nachfrage und Angebot </h2><br><p>  Sicherlich erinnern Sie sich an das Gesetz von Angebot und Nachfrage im Verlauf der Wirtschaft, das die Mechanismen des Marktes für Preisbildung zeigt: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k3/wd/4f/k3wd4fqvwmpscyvlwrzwunvga2s.png"></div><br><p>  Die gleiche Mechanik arbeitet am Austausch. </p><br><p>  Das Orderbuch ist eine Liste, in die Limitaufträge von Verkäufern und Käufern eingetragen werden und die das aktuelle Interesse an einem bestimmten Finanzinstrument anzeigt. </p><br><p>  Wenn Sie die vorherige Grafik in Bezug auf das Auftragsbuch konvertieren, erhalten Sie ungefähr Folgendes: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kp/eg/xa/kpegxayhhmx9tshlntcmgdkaxtw.jpeg"></div><br><p>  Hier sehen wir, dass der Marktpreis erhalten wird, wenn der maximale Nachfragepreis und der minimale Angebotspreis gleich sind.  Spread ist der Unterschied in diesen Preisen.  Dies ist ein wichtiger Indikator, da er mit der Liquidität des Instruments zusammenhängt.  Je geringer der Spread, desto flüssiger das Instrument.  Um die Liquidität im Rahmen des Börsenhandels zu gewährleisten, wird der maximale Spread häufig begrenzt, oberhalb dessen der Handel eingestellt werden kann. </p><br><h2 id="sozdanie-zayavok">  Erstellung von Anwendungen </h2><br><p>  Berücksichtigen Sie den Lebensverlauf einer Bewerbung von der Zulassung über den Umtausch bis zur Erfüllung oder Stornierung.  Der Einfachheit halber betrachten wir den Devisenmarkt.  Ein spezieller Prozess ist für die Logik der Auftragsabwicklung zuständig, nennen wir ihn den Market Controller. </p><br><p>  Also, der Teilnehmer erstellt eine Bewerbung, es kommt zur Vermittlung.  Der Controller muss sicherstellen, dass der Teilnehmer über genügend Liquidität verfügt, um die angeforderte Auftragsart zu erstellen.  Die Informationsquelle kann ein interner Buchhaltungsservice oder eine beliebige externe API sein. </p><br><p>  Für die sofortige Ausführung dieser Anwendung muss eine sogenannte Paired-Anwendung auf dem Markt vorhanden sein. </p><br><p>  Wenn es eine Gegenreihenfolge des gefundenen Paares gibt, wird die kleinere Reihenfolge vollständig und die größere teilweise ausgeführt.  Natürlich, wenn die Handelsanweisungen der Anwendung eine teilweise Ausführung zulassen.  Fehlt eine Gegenbestellung, fällt eine neue Bestellung in das Auftragsbuch und nimmt ihren Platz in der Auftragsliste ihrer Art ein. </p><br><p>  Da nur ausstehende Bestellungen in das Auftragsbuch aufgenommen werden, müssen Sie für Bestellungen anderer Typen Ihre Listen auswählen. </p><br><p>  In allen Bestelllisten sollte die Einkaufsseite in absteigender Reihenfolge und die Verkaufsseite in aufsteigender Reihenfolge sortiert sein.  Das erste Element der Liste der Limitaufträge für jede Seite bildet den jeweils besten Preis für Angebot und Nachfrage. </p><br><p>  Ein weiterer wichtiger Punkt ist die Reihenfolge der Ausführung.  Die Steuerung muss FIFO implementieren.  Wenn daher die Preise der beiden Gebote übereinstimmen, sollte das zuvor erstellte höher sein. </p><br><p>  In der Benutzeroberfläche sieht das Buch wie eine Tabelle aus, die aus einer Reihe von Preisstufen besteht, in denen Limitaufträge sowohl für den Kauf als auch für den Verkauf angezeigt werden. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sf/ea/sq/sfeasqf4984trxw4f22naanwgps.png"></div><br><p>  Zur zusätzlichen visuellen Unterscheidung haben Kauf- und Verkaufsanwendungen unterschiedliche Farben. </p><br><h2 id="agregirovanie-urovney">  Level Aggregation </h2><br><p>  Buchtiefe - Die Anzahl der Preisstufen.  Bei aktiven Märkten mit einer großen Anzahl von ausstehenden Aufträgen, die durch einen Mindestabstand voneinander getrennt sind, kann die Tiefe für die Anzeige im Terminal des Händlers sehr groß sein.  Um das gesamte Buch zu bewerten, benötigen Sie ein Level-Gruppierungs-Tool. </p><br><p>  Indem wir eine Dezimalstelle abschneiden und die Ebenen gruppieren, können wir ihre Anzahl bei jedem Schritt verringern. </p><br><h2 id="vypolnenie-i-otmena-zayavok">  Ausführung und Stornierung von Anträgen </h2><br><p>  Nachdem der Auftrag im Buch ausgeführt oder storniert wurde, muss der Controller das Buch aktualisieren, indem er diesen Auftrag löscht und alle an den Änderungen im Buch interessierten Personen benachrichtigt. </p><br><h2 id="arhitektura-i-masshtabirovanie-obrabotchikov">  Handlerarchitektur und Skalierung </h2><br><p>  Angesichts der erforderlichen Leistung und Zuverlässigkeit müssen Ansätze zur Skalierung von Anwendungen und Speichersystemen festgelegt werden. </p><br><p>  In der Regel verwenden Börsen die vertikale Skalierung.  Der Code zum Verarbeiten von Anwendungen und Benutzerkonten wird auf einem Computer innerhalb eines einzelnen Monolithen ausgeführt.  Ein solcher Ansatz zeigt eine gute Leistung, weist jedoch eine erhebliche Einschränkung auf - in jedem Fall ist die vertikale Skalierung sowohl hinsichtlich der Prozessorleistung als auch der Speicherkapazität begrenzt. </p><br><p>  Im Rahmen des Experiments entschied ich, dass die Marktbearbeitung horizontal skaliert werden sollte.  Jedes einzelne Werkzeug wird nach einem eigenen Verfahren bearbeitet.  Prozesse werden automatisch auf die Clusterknoten verteilt.  Im Falle eines Ausfalls wird der Markt ohne Statusverlust auf einen anderen Knoten übertragen. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cq/zt/id/cqztidkf705boagoxloher7o1to.png"></div><br><p>  Die Formel des Systems ist äußerst einfach: M Handler sind auf K Knoten des Clusters verteilt und verwenden L Datenspeicher. <br>  Mit einem ähnlichen Schema können Sie das System auf ungefähr 150 Knoten skalieren.  Und jeder Markt-Controller kann ungefähr 30.000 RPS verarbeiten. </p><br><p>  Da der Anwendungsfluss in allen Märkten unterschiedlich ist und von der Benutzeraktivität abhängt, können die Märkte in mehrere Gruppen unterteilt werden: kleine, mittlere und große.  Jeder Knoten verfügt über Einstellungen, mit denen Sie die Anzahl der Märkte begrenzen können, die er verarbeiten kann.  Der Assistent verteilt Märkte desselben Typs automatisch und gleichmäßig auf Clusterknoten.  Bei einer Änderung der Clusterzusammensetzung werden die Märkte neu verteilt.  Dadurch wird eine mehr oder weniger gleichmäßige Lastverteilung auf das System erreicht. </p><br><p>  Eine Beispielansicht von Knoten in der Exchange-Verwaltungsschnittstelle: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m2/bj/p_/m2bjp_piybni9hzrwneo9lo9yju.png"></div><br><h2 id="hranenie-dannyh">  Datenspeicherung </h2><br><p>  Das Auftragsbuch ändert sich ständig und muss im Gedächtnis behalten werden.  Für MVP habe ich Tarantool mit WAL als In-Memory-Speicher gewählt.  Alle historischen Daten werden in PostgreSQL aufgezeichnet. </p><br><p>  Das Schema zum Speichern aktueller und historischer Daten sollte dem ausgewählten Schema zum Skalieren des Codes der Handler entsprechen.  Jeder Markt kann sein eigenes Postgres und Tarantool verwenden.  Kombinieren Sie dazu das Paar aus postgresql und tarantool zu einer einzigen Entität - einem Market Data Warehouse. </p><br><p>  Beim Einrichten des Marktes hat der Administrator die Möglichkeit, Repositorys zu verwalten.  Um die Flexibilität aufrechtzuerhalten, geben wir anstelle des Zugriffs auf bestimmte postgresql- und tarantool-Instanzen eine eindeutige Verbindungspool-ID an.  Die Schnittstelle dieser Pools wird von der Plattform unterstützt.  Somit sieht das Repository in der Admin-Oberfläche folgendermaßen aus: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ow/es/qq/owesqqyxx3_unguebi8nv4yjxt0.png"></div><br><p>  Beim Einrichten eines Marktes muss der Administrator mindestens ein Geschäft für jeden Markt angeben.  Wenn Sie einige angeben, erhalten Sie einen Markt mit logischer Datenreplikation.  Mit dieser Funktion können Sie die Zuverlässigkeit und Leistung eines Speicherschemas konfigurieren. </p><br><h2 id="dannye-knigi-orderov">  Auftragsbuchdaten </h2><br><p>  Tarantool verwendet Speicherplatz, um gespeicherte Daten zu organisieren.  Die Angabe der benötigten Plätze für das Auftragsbuch lautet wie folgt: </p><br><pre><code class="lua hljs">book = { state = { name = <span class="hljs-string"><span class="hljs-string">'book_state'</span></span>, id = <span class="hljs-number"><span class="hljs-number">1</span></span>, }, orders = { limit = { buy_orders = { name = <span class="hljs-string"><span class="hljs-string">'limit_buy_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">10</span></span>, }, sell_orders = { name = <span class="hljs-string"><span class="hljs-string">'limit_sell_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">20</span></span>, }, }, market = { buy_orders = { name = <span class="hljs-string"><span class="hljs-string">'market_buy_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">30</span></span>, }, sell_orders = { name = <span class="hljs-string"><span class="hljs-string">'market_sell_orders'</span></span>, id = <span class="hljs-number"><span class="hljs-number">40</span></span>, }, }, ... }, orders_mapping = { name = <span class="hljs-string"><span class="hljs-string">'orders_mapping'</span></span>, id = <span class="hljs-number"><span class="hljs-number">50</span></span>, }, }</code> </pre> <br><p>  Da mehrere Märkte ihre Daten auf einer Tarantool-Instanz speichern können, fügen wir allen Entitäten eine Marktkennung hinzu.  Die derzeitige Umsetzung des Buches basiert auf dem Prinzip des einmaligen Zählens und des mehrmaligen Gebens.  Während der Buchaktualisierung werden Gruppierungen automatisch nachgezählt.  Zum Beispiel fügen wir dem Markt eine Bestellung hinzu, die Genauigkeit der Preise beträgt 6, es gibt 6 mögliche Preisgruppen + eine Scheibe mit den ursprünglichen Bestelldaten, die aktualisiert werden müssen. </p><br><p>  Es gibt eine Vielzahl von orders_mapping-Aufträgen für die Ausgabe von Listen aktiver Kundenaufträge. </p><br><p>  Dank des Tarantool-Datenmodells, das eine Kombination aus Indizes und verschiedenen Stichprobeniteratoren verwendet, benötigt der Lua-Code, der die Speicherung des Auftragsbuchs implementiert, nur 600 Zeilen (zusammen mit der Initialisierung). </p><br><h2 id="istoricheskie-dannye">  Historische Daten </h2><br><p>  Marktdaten werden für jeden Markt in separaten Tabellen gespeichert.  Betrachten Sie eine Reihe von Basistabellen. </p><br><h3 id="istoriya-vypolnennyh-zayavok">  Verlauf abgeschlossener Bewerbungen </h3><br><p>  Verwenden Sie die Verlaufstabelle, um die Ergebnisse der Verarbeitung von Anwendungen zu speichern.  Es enthält vollständig ausgefüllte Anträge sowie stornierte, jedoch teilweise ausgefüllte Anträge. </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> public.history ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uuid</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, ts <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">without</span></span> <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">now</span></span>(), owner <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varying</span></span>(<span class="hljs-number"><span class="hljs-number">75</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">COLLATE</span></span> pg_catalog.<span class="hljs-string"><span class="hljs-string">"default"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, order_type <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, order_side <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, price <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, qty <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, commission <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, opts jsonb <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> history_pkey PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, ts) )</code> </pre> <br><p>  Die Ausgabe für Endnutzer basiert auf der Vorgeschichte ihrer Angebote. </p><br><h3 id="istoricheskiy-datafid">  Feed mit historischen Daten </h3><br><p>  Zu Analysezwecken sowie zur Bildung eines historischen Datenfeeds muss der Marktcontroller nach jeder Transaktion Informationen zu diesem Ereignis speichern.  Verwenden Sie die Tick-Tabelle, um Ereignisse von Marktänderungen zu beheben: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> public.ticks ( ts <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">without</span></span> <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, bid <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, ask <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">last</span></span> <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, bid_vol <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), ask_vol <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), last_vol <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), opts jsonb <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'{}'</span></span>::jsonb, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> ticks_pk PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (ts) )</code> </pre> <br><p>  Nach der Transaktion werden Preise und Marktvolumina gespeichert, und das Feld opts enthält Serviceinformationen, z. B. eine Beschreibung der an der Transaktion beteiligten Bestellungen. </p><br><h3 id="datafid-dlya-grafikov">  Diagrammdaten-Feed </h3><br><p>  Um Trading-Charts zu erstellen, reicht die Tick-Tabelle aus.  Es enthält den sogenannten Raw-Stream, aber postgresql verfügt über leistungsstarke Analysefunktionen und ermöglicht es Ihnen, Daten nach Bedarf zu aggregieren. </p><br><p>  Probleme beginnen, wenn zu viele Daten vorhanden sind und zu wenig Strom vorhanden ist.  Erstellen Sie zum Lösen eine Tabelle mit vorberechneten Daten: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> public.df ( t <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">without</span></span> <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> zone <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, r df_resolution <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'1m'</span></span>::df_resolution, o <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), h <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), l <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), c <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), v <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>,<span class="hljs-number"><span class="hljs-number">32</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> df_pk PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (t, r) )</code> </pre> <br><p>  Wir werden im nächsten Artikel darüber sprechen, wie man mit Zeitreihen in Postgresql arbeitet, Daten für die df-Tabelle aufbereitet und wie man Diagramme erstellt. </p><br><h2 id="itog">  Zusammenfassung </h2><br><p>  Wir haben die wichtigsten Punkte bei der Organisation des Auftragsbuchs und des Auftragsabwicklungsmechanismus herausgefunden und uns ein wenig mit der Arbeit mit Marktdaten befasst. </p><br><p>  Das ausgewählte Speicherschema ermöglicht es Ihnen, von einem Geschäft für alle Märkte aus zu starten und die Märkte im Verlauf des Projekts auf verschiedene Geschäfte zu verteilen, um sie so nah wie möglich an den Marktprozessoren zu platzieren. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482254/">https://habr.com/ru/post/de482254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482244/index.html">Ergebnisse der Blindkameratests: iPhone, Pixel, Huawei, Samsung</a></li>
<li><a href="../de482246/index.html">Richtige Antworten und Bekanntgabe der Gewinner</a></li>
<li><a href="../de482248/index.html">Wir teilen unsere Erfahrungen damit, wie SSDs unter RAID angezeigt werden und welche Array-Ebene rentabler ist</a></li>
<li><a href="../de482250/index.html">Eine einfache Zustandsmaschine für VueJS</a></li>
<li><a href="../de482252/index.html">Automatische Katzentoilette - Fortsetzung</a></li>
<li><a href="../de482256/index.html">KI und die Zukunft der Arbeit: Beschäftigungsaussichten in naher Zukunft</a></li>
<li><a href="../de482258/index.html">Wie neuronale Netze funktionieren und warum sie anfingen, viel Geld zu bringen</a></li>
<li><a href="../de482260/index.html">TelegramBot. Die Grundfunktionalität. Aufkleber und Emoticons. (Teil 3)</a></li>
<li><a href="../de482262/index.html">So melden Sie sich bei Talend Open Studio an</a></li>
<li><a href="../de482264/index.html">Brasilien, dunkle Magie, Mortal Kombat, Mars und 15.000 Menschen. Ontiko Jahresergebnisse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>