<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯеВ ЁЯТЕЁЯП┐ ЁЯУЮ рдПрдХрддрд╛ рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ рдореИрдк рд╢реЗрдбрд░реНрд╕ ЁЯТО ЁЯО╗ ЁЯЪЩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдореИрдкреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ рдФрд░ рд╢реЗрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ рдПрдХрддрд╛ рдореЗрдВ рдмрдирд╛рдирд╛ рд╣реИред 

 рдпрд╣ рдкреНрд░рднрд╛рд╡ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рддрдХрдиреАрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХрддрд╛ рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ рдореИрдк рд╢реЗрдбрд░реНрд╕</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462153/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/511/6a1/e02/5116a1e02debfaa58afe0cddf3b4c6c9.png" alt="рдЫрд╡рд┐"></div><br>  рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ <strong>рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдореИрдкреНрд╕ рдХреЗ</strong> рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ рдФрд░ рд╢реЗрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ рдПрдХрддрд╛ рдореЗрдВ рдмрдирд╛рдирд╛ рд╣реИред <br><br>  рдпрд╣ рдкреНрд░рднрд╛рд╡ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рддрдХрдиреАрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рд╣реЛрд▓реЛрдЧреНрд░рд╛рдлрд┐рдХ рдЕрдиреБрдорд╛рди рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдлрд┐рд▓реНрдо "рдмреНрд▓реИрдХ рдкреИрдВрдерд░реНрд╕" рд╕реЗ рдПрдХ рд░реЗрдд рдХреА рдореЗрдЬред <br><br>  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рдгрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдмрд░рди рдХрд╣рдпреЛрдЧреБ</a> рдХрд╛ рдПрдХ рдЯреНрд╡реАрдЯ рд╣реИ, рдЬреЛ рдЙрджрд╛рд╣рд░рдг рджреЗрддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдореИрдкрдмреЙрдХреНрд╕ рдХреЗ</a> рд▓рд┐рдП рдХреНрдпрд╛ рдмрдирд╛ рд░рд╣рд╛ рд╣реИред <br><a name="habracut"></a><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1118609807844442112"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-1" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1118610439049494540"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  рджреГрд╢реНрдп (рдорд╛рдирдЪрд┐рддреНрд░ рдХреЛ рдЫреЛрдбрд╝рдХрд░) рдХреЛ рдпреВрдирд┐рдЯреА рд╡рд┐рдЬрд╝реБрдЕрд▓ рдЗрдлрд╝реЗрдХреНрдЯ рдЧреНрд░рд╛рдлрд╝ рд╕реНрдкреЗрд╕рд╢рд┐рдк рдбреЗрдореЛ (рдиреАрдЪреЗ рджреЗрдЦреЗрдВ) рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдпрд╣рд╛рдБ</a> рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рд╣реИ</a> ред <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/rqMcPZoEc3U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  рднрд╛рдЧ 1. рд╡рд░реНрдЯреЗрдХреНрд╕ рдСрдлрд╝рд╕реЗрдЯ </h2><br><h2>  рдкреНрд░рднрд╛рд╡ рдХрд╛ рдПрдирд╛рдЯреЙрдореА </h2><br>  рдкрд╣рд▓реА рдЪреАрдЬ рдЬреЛ рдЖрдк рддреБрд░рдВрдд рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╡рд╣ рдпрд╣ рд╣реИ рдХрд┐ рднреМрдЧреЛрд▓рд┐рдХ рдорд╛рдирдЪрд┐рддреНрд░ <em>рд╕рдкрд╛рдЯ рд╣реИрдВ</em> : рдпрджрд┐ рдЙрдиреНрд╣реЗрдВ рдмрдирд╛рд╡рдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрдирдХреЗ рдкрд╛рд╕ рддреНрд░рд┐-рдЖрдпрд╛рдореА рдХреА рдХрдореА рд╣реЛрддреА рд╣реИ рдЬреЛ рд╕рдВрдмрдВрдзрд┐рдд рдорд╛рдирдЪрд┐рддреНрд░ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдкрд╛рд╕ рд╣реЛрдЧреАред <br><br>  рдЖрдк рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: рдЦреЗрд▓ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рдПрдХ 3 рдбреА рдореЙрдбрд▓ рдмрдирд╛рдПрдВ, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рдирдХреНрд╢реЗ рд╕реЗ рдПрдХ рдмрдирд╛рд╡рдЯ рд▓рд╛рдЧреВ рдХрд░реЗрдВред  рдпрд╣ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдореЗрдВ рдмрд╣реБрдд рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ рдФрд░ рд╡реАрдбрд┐рдпреЛ рдмрд╛рд░рди рдХрд╣рдпреЛрдЧреБ рд╕реЗ "рд╕реНрдХреНрд░реЙрд▓рд┐рдВрдЧ" рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреЛ рдорд╣рд╕реВрд╕ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдЧрд╛ред <br><br>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдПрдХ рдЕрдзрд┐рдХ рддрдХрдиреАрдХреА рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, shaders рдХрд╛ рдЙрдкрдпреЛрдЧ 3D рдореЙрдбрд▓ рдХреА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЙрдирдХреА рдорджрдж рд╕реЗ, рдЖрдк рдХрд┐рд╕реА рднреА рд╡рд┐рдорд╛рди рдХреЛ рдЙрд╕ рдХреНрд╖реЗрддреНрд░ рдХреА рдШрд╛рдЯрд┐рдпреЛрдВ рдФрд░ рдкрд╣рд╛рдбрд╝реЛрдВ рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдирдХреА рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ, рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдЪрд┐рд▓реНрд▓реЛрдЯ</a> , рдорд┐рд░реНрдЪ рдХреЗ рдорд╛рдирдЪрд┐рддреНрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЕрдкрдиреА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕рд┐рджреНрдз рд╣реИред  рдиреАрдЪреЗ рджреА рдЧрдИ рдЫрд╡рд┐ рдПрдХ рдЧреЛрд▓ рдЬрд╛рд▓ рдкрд░ рдкреНрд▓реЙрдЯ рдХрд┐рдП рдЧрдП рдХреНрд╖реЗрддреНрд░ рдХреА рдмрдирд╛рд╡рдЯ рдХреЛ рджрд░реНрд╢рд╛рддреА рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a7/b64/0a6/5a7b640a60ca2ce42c9d4ee3f5c95150.png" width="797" height="346"></div><br>  рдпрджреНрдпрдкрд┐ рд╣рдо рдкрд╣рд╛рдбрд╝рд┐рдпреЛрдВ рдФрд░ рдкрд╣рд╛рдбрд╝реЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рдлрд┐рд░ рднреА рд╡реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдкрд╛рдЯ рд╣реИрдВред  рдЗрд╕рд╕реЗ рдпрдерд╛рд░реНрдерд╡рд╛рдж рдХрд╛ рднреНрд░рдо рдирд╖реНрдЯ рд╣реЛрддрд╛ рд╣реИред <br><br><h2>  рдЖрджрд░реНрд╢ рдорд╛рдирджрдВрдб </h2><br>  рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реЗрдбреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдкрд╣рд▓рд╛ рдХрджрдо рдПрдХ рддрдХрдиреАрдХ рд╣реИ рдЬрд┐рд╕реЗ <strong>рд╕рд╛рдорд╛рдиреНрдп рдПрдХреНрд╕рдЯреНрд░реВрдЬрд╝рди</strong> рдХрд╣рд╛ рдЬрд╛рддрд╛ <strong>рд╣реИ</strong> ред  рдЙрд╕реЗ <strong>рдПрдХ рд╢реАрд░реНрд╖ рд╕рдВрд╢реЛрдзрдХ рдХреА</strong> рдЖрд╡рд╢реНрдпрдХрддрд╛ <strong>рд╣реИ</strong> : рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдЬреЛ рдПрдХ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдХреЛрдиреЗ рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЬрд┐рд╕ рддрд░рд╣ рд╕реЗ рд╡рд░реНрдЯреЗрдХреНрд╕ рдореЙрдбрд┐рдлрд╛рдпрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╣ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╢реЗрдбрд░ рдХреЗ рдкреНрд░рдХрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ, рд╣рдо <strong>рд╕рд░рдлреЗрд╕ рд╕реНрдЯреИрдВрдбрд░реНрдб рд╢реЗрдбрд░</strong> рдХреЛ рдмрджрд▓реЗрдВрдЧреЗ - рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╢реЗрдбреНрд╕ рдЬреЛ рдЖрдк рдпреВрдирд┐рдЯреА рдореЗрдВ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдПрдХ 3D рдореЙрдбрд▓ рдХреЗ рдХреЛрдиреЗ рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВред  рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡рд░реНрдЯреЗрдХреНрд╕ рд╢реЗрдбрд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓реНрд╕ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдмрд╣реБрдд рдкрд╣рд▓реЗ рддрд░реАрдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ, <strong>рдиреЙрд░реНрдорд┐рдВрдЧрд▓реНрд╕ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛</strong> ред  рдЗрд╕рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ "рдЖрдЙрдЯ" ( <em>рдПрдХреНрд╕рдЯреНрд░реВрдЬрд╝рди</em> ) рдХреЛ рдзрдХреЗрд▓рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬреЛ 3 рдбреА рдореЙрдбрд▓ рдХреЛ рдЕрдзрд┐рдХ рдкреНрд░рд╕реНрдлреБрдЯрд┐рдд рд░реВрдк рджреЗрддрд╛ рд╣реИред  "рдмрд╛рд╣рд░" рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ рд╕рд╛рдорд╛рдиреНрдп рдХреА рджрд┐рд╢рд╛ рдХреЗ рд╕рд╛рде рдЪрд▓рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/3e4/fe3/2753e4fe3502d77d46d7205e1ec81809.png"></div><br>  рдЪрд┐рдХрдиреА рд╕рддрд╣реЛрдВ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЦрд░рд╛рдм рд╢реАрд░реНрд╖ рдХрдиреЗрдХреНрд╢рди рд╡рд╛рд▓реЗ рдореЙрдбрд▓ рдореЗрдВ, рдпрд╣ рд╡рд┐рдзрд┐ рдЕрдЬреАрдм рдХрд▓рд╛рдХреГрддрд┐рдпреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреА рд╣реИред  рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдХреЛ рдореЗрд░реЗ рдкрд╣рд▓реЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рд╕реЗ рдПрдХ рдореЗрдВ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд╕рдордЭрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдП рдЬреЗрдВрдЯрд▓ рдЗрдВрдЯреНрд░реЛрдбрдХреНрд╢рди рдЯреВ рд╢реЗрдбрд░реНрд╕</a> , рдЬрд╣рд╛рдВ рдореИрдВрдиреЗ рджрд┐рдЦрд╛рдпрд╛ рдХрд┐ рдХреИрд╕реЗ <strong>рдПрдХ</strong> 3D рдореЙрдбрд▓ рдХреЛ <strong>рдПрдХреНрд╕рдЯреНрд░реВрдб</strong> рдФрд░ <strong>рдЗрдВрдЯреНрд░реЛрдЗрдб рдХрд┐рдпрд╛ рдЬрд╛рдП</strong> ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a8/668/0e5/5a86680e5ab92b536d4999e693aed8cb.gif" width="485" height="278"></div><br>  рдПрдХ рд╕рддрд╣ shader рдореЗрдВ extruded рдорд╛рдирджрдВрдбреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рд╕рддрд╣ shader рдореЗрдВ рдПрдХ <code>#pragma</code> , рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реВрдЪрдирд╛ рдФрд░ рдЖрджреЗрд╢ рдкреНрд░рд╕рд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдРрд╕рд╛ рдПрдХ рдЖрджреЗрд╢ <code>vert</code> , рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>vert</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рд╕рдВрдкрд╛рджрд┐рдд shader рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> surface surf Standard fullforwardshadows addshadow vertex:vert ... float _Amount; ... void vert(inout appdata_base v) { v.vertex.xyz += v.normal * _Amount; }</span></span></code> </pre> <br>  рдЪреВрдВрдХрд┐ рд╣рдо рд╢реАрд░реНрд╖реЛрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдмрджрд▓ рд░рд╣реЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ <code>addshadow</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдпрджрд┐ рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдореЙрдбрд▓ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдЕрдкрдиреЗ рдЖрдк рдкрд░ рдЫрд╛рдпрд╛ рдбрд╛рд▓реЗред <br><br><div class="spoiler">  <b class="spoiler_title">Appdata_base рдХреНрдпрд╛ рд╣реИ?</b> <div class="spoiler_text">  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдордиреЗ <code>appdata_base</code> ( <code>appdata_base</code> ) рдХрд╛ рдПрдХ рдлрдВрдХреНрд╢рди рдЬреЛрдбрд╝рд╛ рд╣реИ, рдЬреЛ рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ <code>appdata_base</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд╕рдВрд░рдЪрдирд╛ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд╢реАрд░реНрд╖ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреА рд╣реИред  рдЗрд╕рдореЗрдВ рди рдХреЗрд╡рд▓ <em>рд╢реАрд░реНрд╖ рд╕реНрдерд┐рддрд┐</em> ( <code>v.vertex</code> ) рд╢рд╛рдорд┐рд▓ рд╣реИ, рдмрд▓реНрдХрд┐ рдЕрдиреНрдп рдХреНрд╖реЗрддреНрд░ рднреА рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <em>, рд╕рд╛рдорд╛рдиреНрдп рджрд┐рд╢рд╛</em> ( <code>v.normal</code> ) рдФрд░ <em>рдмрдирд╛рд╡рдЯ рдЬрд╛рдирдХрд╛рд░реА</em> рдЬреЛ рдХрд┐ рд╢реАрд░реНрд╖ ( <code>v.texcoord</code> ) рд╕реЗ <code>v.texcoord</code> ред <br><br>  рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ рдФрд░ рд╣рдореЗрдВ рдЕрдиреНрдп рдЧреБрдгреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ <em>рд╢реАрд░реНрд╖ рд░рдВрдЧ</em> ( <code>v.color</code> ) рдФрд░ <em>рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рджрд┐рд╢рд╛</em> ( <code>v.tangent</code> )ред  рд╡рд░реНрдЯреЗрдХреНрд╕ рд╕рдВрд╢реЛрдзрдХ рдХреЛ рд╡рд┐рднрд┐рдиреНрди <code>appdata_tan</code> рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ <code>appdata_tan</code> рдФрд░ <code>appdata_full</code> , рдЬреЛ рдХрдо рдкреНрд░рджрд░реНрд╢рди <code>appdata_full</code> рдХреА рд▓рд╛рдЧрдд рдкрд░ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рддреЗ <code>appdata_full</code> ред  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдпреВрдирд┐рдЯреА 3 рдбреА рд╡рд┐рдХреА</a> рдореЗрдВ <code>appdata</code> (рдФрд░ рдЗрд╕рдХреЗ рд╡реЗрд░рд┐рдПрдВрдЯ) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </div></div><br><div class="spoiler">  <b class="spoiler_title">рдореВрд▓реНрдпреЛрдВ рдХреЛ рд▓рдВрдмрд╡рдд рдХреИрд╕реЗ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ?</b> <div class="spoiler_text">  рд╢реАрд░реНрд╖ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдХреЛрдИ рд╡рд╛рдкрд╕реА рдорд╛рди рдирд╣реАрдВ рд╣реИред  рдпрджрд┐ рдЖрдк C # рднрд╛рд╖рд╛ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╕рдВрд░рдЪрдирд╛рдПрдВ рдорд╛рди рджреНрд╡рд╛рд░рд╛ рдкрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдЕрд░реНрдерд╛рдд рдЬрдм <code>v.vertex</code> рдмрджрд▓рддрд╛ рд╣реИ <code>v.vertex</code> рдпрд╣ рдХреЗрд╡рд▓ <code>v</code> рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рджрд╛рдпрд░рд╛ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╢рд░реАрд░ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реЛрддрд╛ рд╣реИред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, <code>v</code> рдХреЛ <code>inout</code> рд░реВрдк <code>v</code> рднреА рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрдирдкреБрдЯ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдк рдЬреЛ рднреА рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рддреЗ рд╣реИрдВ, рд╡рд╣ рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рд╕реНрд╡рдпрдВ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо <code>vert</code> рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред  рдЗрди- <code>out</code> рдФрд░ <code>out</code> рдХреАрд╡рд░реНрдб рдмрд╣реБрдд рдмрд╛рд░ рдХрдВрдкреНрдпреВрдЯрд░ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП <code>out</code> , рдФрд░ рд╡реЗ рд▓рдЧрднрдЧ # C рдореЗрдВ <code>ref</code> рдФрд░ <code>out</code> рд╕рд╛рде рд╕рд╣рд╕рдВрдмрджреНрдз рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </div></div><br><h2>  рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рд╛рде рдЖрджрд░реНрд╢ рдорд╛рдирджрдВрдбреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдирд╛ </h2><br>  рдКрдкрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХреЛрдб рд╣рдо рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЙрд╕ рдкреНрд░рднрд╛рд╡ рд╕реЗ рджреВрд░ рд╣реИ рдЬрд┐рд╕реЗ рд╣рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо рдПрдХ рд╣реА рд░рд╛рд╢рд┐ рд╕реЗ рд╕рднреА рдХреЛрдиреЗ рдирд┐рдХрд╛рд▓рдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рд╣рдо 3 рдбреА рдореЙрдбрд▓ рдХреА рд╕рддрд╣ рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рднреМрдЧреЛрд▓рд┐рдХ рдХреНрд╖реЗрддреНрд░ рдХреА рдШрд╛рдЯрд┐рдпреЛрдВ рдФрд░ рдкрд╣рд╛рдбрд╝реЛрдВ рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдХрд┐рд╕реА рддрд░рд╣ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдмрд┐рдВрджреБ рдХреЛ рдХрд┐рддрдирд╛ рдЙрдард╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдФрд░ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдмреБрдирд╛рд╡рдЯ рдЙрд╕ рдмрдирд╛рд╡рдЯ рд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рдЬрд┐рд╕рдореЗрдВ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рдКрдВрдЪрд╛рдЗрдпрд╛рдВ рдХреВрдЯ-рдХреВрдЯ рдХрд░ рднрд░реА рд╣реИрдВред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдмрдирд╛рд╡рдЯ рдХреЛ рдЕрдХреНрд╕рд░ <strong>рдКрдВрдЪрд╛рдИ</strong> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдХреНрд╕рд░ рдЙрдиреНрд╣реЗрдВ рд╕рдВрджрд░реНрдн рдХреЗ рдЖрдзрд╛рд░ рдкрд░ <strong>рдбреЗрдкреНрдердореИрдк</strong> рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдКрдБрдЪрд╛рдЗрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдКрдБрдЪрд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рдорд╛рди рдХреЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрд░реЗрдЦ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рд╣рдореЗрдВ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдКрдкрд░ рдЙрдард╛рдиреЗ рдФрд░ рдХрдо рдХрд░рдиреЗ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f3/223/118/0f32231186763ee73f27bde4a1d2c5bf.png"></div><br>  рдпрд╣ рдЙрд╕ рднреМрдЧреЛрд▓рд┐рдХ рдХреНрд╖реЗрддреНрд░ рдХреА рдЙрдкрдЧреНрд░рд╣ рдЫрд╡рд┐ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЖрдк рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рд╕рдВрдмрджреНрдз рдКрдВрдЪрд╛рдИ рдорд╛рдирдЪрд┐рддреНрд░ рд╣реИред  рдиреАрдЪреЗ рдордВрдЧрд▓ рдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдЧреНрд░рд╣ рдирдХреНрд╢рд╛ (рдКрдкрд░) рдФрд░ рдКрдВрдЪрд╛рдИ рдирдХреНрд╢рд╛ (рдиреАрдЪреЗ) рд╣реИ рдЬреЛ рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b80/468/176/b804681769208dfc72ec69441d9f0986.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/266/f0c/b59/266f0cb59bb01a7f875d3323d526372a.png"></div><br>  рдореИрдВрдиреЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреА рдПрдХ рдФрд░ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдЧрд╣рд░рд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрд╛рдд рдХреА, рдЬрд┐рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">"рдлреЗрд╕рдмреБрдХ рдХреА 3 рдбреА рддрд╕реНрд╡реАрд░реЗрдВ рдЕрдВрджрд░ рд╕реЗ: рд▓рдВрдмрди рд╢реЗрдбреНрд╕"</a> [рд╣реИрдмреЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреБрд╡рд╛рдж</a> ] рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ, рд╣рдо рдорд╛рдиреЗрдВрдЧреЗ рдХрд┐ рдКрдВрдЪрд╛рдИ рдХрд╛ рдирдХреНрд╢рд╛ рдЧреНрд░реЗрд╕реНрдХреЗрд▓ рдореЗрдВ рдПрдХ рдЫрд╡рд┐ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдХрд╛рд▓реЗ рдФрд░ рд╕рдлреЗрдж рдХрдо рдФрд░ рдЕрдзрд┐рдХ рдКрдВрдЪрд╛рдИ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реИрдВред  рд╣рдореЗрдВ рдЗрди рдореВрд▓реНрдпреЛрдВ рдХреЛ <em>рд░реИрдЦрд┐рдХ рд░реВрдк</em> рд╕реЗ рд╕реНрдХреЗрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ <em>рд╣реИ</em> , <em>рдЕрд░реНрдерд╛рддреН</em> , рд░рдВрдЧ рдЕрдВрддрд░, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>0.1</code> рдкрд░ <code>0</code> рдФрд░ <code>0.1</code> рдмреАрдЪ рдпрд╛ <code>0.9</code> рдФрд░ <code>1.0</code> рдмреАрдЪ рдКрдВрдЪрд╛рдИ рдХреЗ рдЕрдВрддрд░ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред  рдЧрд╣рд░рд╛рдИ рдХреЗ рдирдХреНрд╢реЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╣рдореЗрд╢рд╛ рд╕рдЪ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдореЗрдВ рд╕реЗ рдХрдИ рдЧрд╣рд░рд╛рдИ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдПрдХ <em>рд▓рдШреБрдЧрдгрдХреАрдп рдкреИрдорд╛рдиреЗ</em> рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдПрдХ рдмрдирд╛рд╡рдЯ рдХрд╛ рдирдореВрдирд╛ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП, рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рджреЛ рддрддреНрд╡реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: рдмрдирд╛рд╡рдЯ рдФрд░ рдмрд┐рдВрджреБ рдХреЗ <strong>рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдЬреЛ</strong> рд╣рдо рдирдореВрдирд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдмрд╛рдж рд╡рд╛рд▓реЗ рдХреЛ <code>texcoord</code> рдлрд╝реАрд▓реНрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ <code>appdata_base</code> рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрд╣ рд╡рд░реНрддрдорд╛рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рд╡рд░реНрддрдорд╛рди рд╢реАрд░реНрд╖ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдпреВрд╡реА рд╕рдордиреНрд╡рдп рд╣реИред  рдПрдХ <em>рд╕рддрд╣ рдлрд╝рдВрдХреНрд╢рди</em> рдореЗрдВ рдмрдирд╛рд╡рдЯ рдирдореВрдирд╛рдХрд░рдг <code>tex2D</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЬрдм рд╣рдо рдПрдХ <code> </code> , рддреЛ <code>tex2Dlod</code> рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред <br><br>  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдХреЛрдб рд╕реНрдирд┐рдкреЗрдЯ рдореЗрдВ, <code>_HeightMap</code> рдирд╛рдордХ рдПрдХ рдмрдирд╛рд╡рдЯ <code>_HeightMap</code> рдЙрдкрдпреЛрдЧ рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ рдХреЗ рд▓рд┐рдП рдХрд┐рдП рдЧрдП рдПрдХреНрд╕рдЯреНрд░реВрдЬрд╝рди рдорд╛рди рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs">sampler2D _HeightMap; ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ fixed height = tex2Dlod(_HeightMap, float4(v.texcoord.xy, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)).r; vertex.xyz += v.normal * height * _Amount; }</code> </pre> <br>  Tex2D рдХреЛ рд╡рд░реНрдЯреЗрдХреНрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ? <br>  рдпрджрд┐ рдЖрдк рдЙрд╕ рдХреЛрдб рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ рдЬреЛ рдПрдХрддрд╛ рд╕реНрдЯреИрдВрдбрд░реНрдб рд╕рд░рдлреЗрд╕ рд╢реИрдбрд░ рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдЗрд╕рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрдирд╛рд╡рдЯ рдХрд╛ рдирдореВрдирд╛ рдХреИрд╕реЗ рд╢рд╛рдорд┐рд▓ рд╣реИред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдпрд╣ <em>рдореБрдЦреНрдп рдмрдирд╛рд╡рдЯ</em> (рдЬрд┐рд╕реЗ <code>_MainTex</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдХреЛ рдПрдХ <em>рд╕рддрд╣ рдлрд╝рдВрдХреНрд╢рди</em> (рдЬрд┐рд╕реЗ <code>surf</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдореЗрдВ рдмрд┐рд▓реНрдЯ-рдЗрди <code>tex2D</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>tex2D</code> рд╣реИред <br><br>  рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, <code>tex2D</code> рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рдмрдирд╛рд╡рдЯ рд╕реЗ рдкрд┐рдХреНрд╕рд▓ рдХрд╛ рдирдореВрдирд╛ <code>tex2D</code> рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА рдЗрд╕рдореЗрдВ рдЬреЛ рднреА рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛ, рд░рдВрдЧ рдпрд╛ рдКрдВрдЪрд╛рдИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ <code>tex2D</code> рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рд╢реАрд░реНрд╖ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ <code>tex2D</code> <em>рди рдХреЗрд╡рд▓</em> рдмрдирд╛рд╡рдЯ рд╕реЗ рдкрд┐рдХреНрд╕рд▓ рдкрдврд╝рддрд╛ рд╣реИред  рд╡рд╣ рдпрд╣ рднреА рддрдп рдХрд░рддреА рд╣реИ рдХрд┐ рдХреИрдорд░реЗ рдХреЗ рд▓рд┐рдП рджреВрд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрдирд╛рд╡рдЯ рдХреЗ рдХрд┐рд╕ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕ рддрдХрдиреАрдХ рдХреЛ <strong>рдорд╛рдЗрдкрдореИрдкрд┐рдВрдЧ</strong> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: рдпрд╣ рдЖрдкрдХреЛ рдПрдХ рд╣реА рдмрдирд╛рд╡рдЯ рдХреЗ рдЫреЛрдЯреЗ рд╕рдВрд╕реНрдХрд░рдг рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рджреВрд░реА рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рд╕рддрд╣ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ, рд╢реЗрдбрд░ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрддрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕ <strong>рдПрдордЖрдИрдкреА рдмрдирд╛рд╡рдЯ рдХрд╛</strong> рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред  рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдЕрднреА рддрдХ рд╢реАрд░реНрд╖ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдкреВрд░реНрдг рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХреЗ рд╕рд╛рде <code>tex2D</code> рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, <code>tex2Dlod</code> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рджреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреИрд░рд╛рдореАрдЯрд░ рдкрд╛рд╕ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рд╢реВрдиреНрдп рдорд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдкрд░рд┐рдгрд╛рдо рдиреАрдЪреЗ рджреА рдЧрдИ рдЫрд╡рд┐рдпреЛрдВ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗ рд░рд╣рд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a7/b64/0a6/5a7b640a60ca2ce42c9d4ee3f5c95150.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/dbf/dad/c0bdbfdadf38764dd3d75ffb69d07dea.png"></div><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдПрдХ рдорд╛рдореВрд▓реА рд╕рд░рд▓реАрдХрд░рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЬрд┐рд╕ рдХреЛрдб рдХреА рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕рдореАрдХреНрд╖рд╛ рдХреА рд╡рд╣ рдХрд┐рд╕реА рднреА рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдо рдорд╛рди рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рддрд╣ рдмрд┐рд▓реНрдХреБрд▓ рд╕рдкрд╛рдЯ рд╣реИред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдХреЛ рд╡рд┐рдорд╛рди рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br>  рдЗрд╕рд▓рд┐рдП, рдЖрдк <code>v.normal</code> рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ <code>float3(0, 1, 0)</code> : <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ float3 normal = float3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); fixed height = tex2Dlod(_HeightMap, float4(v.texcoord.xy, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)).r; vertex.xyz += normal * height * _Amount; }</code> </pre> <br>  рд╣рдо рдРрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ <code>appdata_base</code> рдореЗрдВ рд╕рднреА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ <strong>рдореЙрдбрд▓ рд╕реНрдерд╛рди</strong> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВ, рдЕрд░реНрдерд╛рдд, рд╡реЗ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдХреЗрдВрджреНрд░ рдФрд░ рдЕрднрд┐рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдПрдХрддрд╛ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд╕рд╛рде рд╕рдВрдХреНрд░рдордг, рд░реЛрдЯреЗрд╢рди рдФрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рд╡рд╕реНрддреБ рдХреА рд╕реНрдерд┐рддрд┐, рд░реЛрдЯреЗрд╢рди рдФрд░ рдкреИрдорд╛рдиреЗ рдХреЛ рдмрджрд▓рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореВрд▓ 3 рдбреА рдореЙрдбрд▓ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред <br><br><h2>  рднрд╛рдЧ 2. рд╕реНрдХреНрд░реЙрд▓рд┐рдВрдЧ рдкреНрд░рднрд╛рд╡ </h2><br>  рд╣рдордиреЗ рдКрдкрд░ рдЬреЛ рдХреБрдЫ рднреА рдХрд┐рдпрд╛ рд╡рд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдирдП рд╡рд░реНрдЯреЗрдХреНрд╕ рдХреА рдКрдБрдЪрд╛рдИ рдХреЛ рдПрдХ рдЕрд▓рдЧ <code>getVertex</code> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдХреЛрдб <code>getVertex</code> : <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">float4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getVertex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float4 vertex, float2 texcoord)</span></span></span><span class="hljs-function"> </span></span>{ float3 normal = float3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); fixed height = tex2Dlod(_HeightMap, float4(texcoord, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)).r; vertex.xyz += normal * height * _Amount; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vertex; }</code> </pre> <br>  рддрдм рдкреВрд░реЗ рдлрд╝рдВрдХреНрд╢рди <code>vert</code> рд╣реЛрдЧрд╛: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ vertex = getVertex(v.vertex, v.texcoord.xy); }</code> </pre> <br>  рд╣рдордиреЗ рдРрд╕рд╛ рдХрд┐рдпрд╛ рдХреНрдпреЛрдВрдХрд┐ рдиреАрдЪреЗ рд╣рдореЗрдВ рдХрдИ рдмрд┐рдВрджреБрдУрдВ рдХреА рдКрдВрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЕрдкрдиреЗ рдЕрд▓рдЧ рдХрд╛рд░реНрдп рдореЗрдВ рд╣реЛрдЧреА, рдХреЛрдб рдмрд╣реБрдд рд╕рд░рд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред <br><br><h2>  рдпреВрд╡реА рд╕рдордиреНрд╡рдп рдЧрдгрдирд╛ </h2><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рд╣рдореЗрдВ рджреВрд╕рд░реА рд╕рдорд╕реНрдпрд╛ рдХреА рдУрд░ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИред  <code>getVertex</code> рдлрд╝рдВрдХреНрд╢рди рди рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рд╢реАрд░реНрд╖ (v.vertex) рдХреА рд╕реНрдерд┐рддрд┐ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рдЗрд╕рдХреЗ рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ ( <code>v.texcoord</code> ) рдкрд░ рднреА рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЬрдм рд╣рдо рд╡рд░реНрдЯреЗрдХреНрд╕ рдХреА рдКрдБрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдХрд╣рддреЗ рд╣реИрдВ рдХрд┐ <code>appdata_base</code> рдлрдВрдХреНрд╢рди рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░ рд░рд╣рд╛ рд╣реИ, рджреЛрдиреЛрдВ рдбреЗрдЯрд╛ рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ <code>appdata_base</code> рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ рдЕрдЧрд░ рд╣рдореЗрдВ рдкрдбрд╝реЛрд╕реА рдмрд┐рдВрджреБ рдХреА рд╕реНрдерд┐рддрд┐ рдХрд╛ рдирдореВрдирд╛ рд▓реЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ?  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╣рдо <strong>рдореЙрдбрд▓ рд╕реНрдерд╛рди</strong> рдореЗрдВ xyz рд╕реНрдерд┐рддрд┐ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЗрд╕рдХреЗ UV-рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИред <br><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдореМрдЬреВрджрд╛ рдкреНрд░рдгрд╛рд▓реА рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рд╢реАрд░реНрд╖ рдХреЗ рд▓рд┐рдП рдКрдВрдЪрд╛рдИ рдСрдлрд╕реЗрдЯ рдЧрдгрдирд╛ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХрд╛ рдкреНрд░рддрд┐рдмрдВрдз рд╣рдореЗрдВ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдПрдХ рд╕рдорд╛рдзрд╛рди рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдПрдХ 3D рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдЦреЛрдЬрдирд╛ рд╣реИ, рдЗрд╕рдХреЗ рд╢реАрд░реНрд╖ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЬрд╛рдирдирд╛ред  рдпрд╣ рдПрдХ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рдХрд╛рдо рд╣реИ, рдФрд░ рдЗрд╕реЗ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрдХрдиреАрдХреЗрдВ рд╣реИрдВ (рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ <strong>рдЯреНрд░рд┐рдкреНрд▓рд╛рдирд╛рд░ рдкреНрд░реЛрдЬреЗрдХреНрд╢рди</strong> )ред  рд▓реЗрдХрд┐рди рдЗрд╕ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдореЗрдВ рдпреВрд╡реА рдХреЛ рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЗ рд╕рд╛рде рдорд┐рд▓рд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдпрджрд┐ рд╣рдо рдпрд╣ рдорд╛рди рд▓реЗрддреЗ рд╣реИрдВ рдХрд┐ рд╢реЗрдб рдХреЛ рд╣рдореЗрд╢рд╛ рд╕рдкрд╛рдЯ рдЬрд╛рд▓реА рдкрд░ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рддреЛ рдХрд╛рд░реНрдп рддреБрдЪреНрдЫ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рд╣рдо рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг <em>рдпреВрд╡реА-рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ</em> (рдирд┐рдЪрд▓реА рдЫрд╡рд┐) рдХреА рдЧрдгрдирд╛ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рджреЛрдиреЛрдВ рдПрдХ рд╕рдкрд╛рдЯ рдЬрд╛рд▓ рдкрд░ рд░реИрдЦрд┐рдХ рд░реВрдк рд╕реЗ рд╕реБрдкрд░рд┐рдВрдкреЛрдЬ рдХрд┐рдП рдЧрдП рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/147/614/a7a/147614a7a05ba08700aef85be89f3a53.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02f/ff8/c42/02fff8c42dae9fa7de4f7e9598843afe.png" width="359" height="210"></div><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ <em>рд╢реАрд░реНрд╖ рд╕реНрдерд╛рди</em> рдХреЗ <em>рдШрдЯрдХреЛрдВ рдХреЗ XZ</em> рдХреЛ рдЗрд╕реА <em>рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ</em> рдореЗрдВ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/48a/607/6b0/48a6076b06650e1074dd5b0f2f7ed023.png" width="363" height="393"></div><br>  рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ <strong>рд░реИрдЦрд┐рдХ рдкреНрд░рдХреНрд╖реЗрдк</strong> рдХрд╣рд╛ рдЬрд╛рддрд╛ <strong>рд╣реИ</strong> ред  рдореЗрд░реА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЗрд╕ рдкрд░ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдж рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдСрдл рдХрд▓рд░ рдЗрдВрдЯрд░рдкреЛрд▓реЗрд╢рди</a> )ред <br><br>  рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпреВрд╡реА рдорд╛рди рд╕реАрдорд╛ рдореЗрдВ рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mn" id="MJXp-Span-2">0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMAIN-30" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> 0 </script>  рдХреЛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mn" id="MJXp-Span-4">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMAIN-31" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 1 </script>  ;  рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рдкреНрд░рддреНрдпреЗрдХ рд╢реАрд░реНрд╖ рдХреЗ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рдЕрд╕реАрдорд┐рдд рд╣реИрдВред  рдЧрдгрд┐рдд рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, XZ рд╕реЗ UV рдореЗрдВ рд░реВрдкрд╛рдВрддрд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдХреЗрд╡рд▓ рдЙрдирдХреЗ рд╕реАрдорд╛ рдореВрд▓реНрдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-msubsup" id="MJXp-Span-6"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-8" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-9"><span class="MJXp-mo" id="MJXp-Span-10">рдо</span></span><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mo" id="MJXp-Span-12">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mo" id="MJXp-Span-14">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-15"><span class="MJXp-mo" id="MJXp-Span-16">рдЯ</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.388ex" height="2.78ex" viewBox="0 -780.1 2750.5 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMATHI-58" x="0" y="0"></use><g transform="translate(828,-243)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдо</text><g transform="translate(476,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рд┐</text></g><g transform="translate(1015,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рди</text></g><g transform="translate(1418,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдЯ</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> X_ {рдорд┐рдирдЯ} </script>  ред <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-msubsup" id="MJXp-Span-18"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-20" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-21"><span class="MJXp-mo" id="MJXp-Span-22">рдЕ</span></span><span class="MJXp-mrow" id="MJXp-Span-23"><span class="MJXp-mo" id="MJXp-Span-24">рдз</span></span><span class="MJXp-mrow" id="MJXp-Span-25"><span class="MJXp-mo" id="MJXp-Span-26">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-27"><span class="MJXp-mo" id="MJXp-Span-28">рдХ</span></span><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mo" id="MJXp-Span-30">рдд</span></span><span class="MJXp-mrow" id="MJXp-Span-31"><span class="MJXp-mo" id="MJXp-Span-32">рдо</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.029ex" height="2.78ex" viewBox="0 -780.1 3887.6 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMATHI-58" x="0" y="0"></use><g transform="translate(828,-243)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдЕ</text><g transform="translate(513,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдз</text></g><g transform="translate(917,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рд┐</text></g><g transform="translate(1455,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдХ</text></g><g transform="translate(2042,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдд</text></g><g transform="translate(2482,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдо</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> X_ {рдЕрдзрд┐рдХрддрдо} </script></li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-33"><span class="MJXp-msubsup" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35" style="margin-right: 0.05em;">Z</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-36" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-37"><span class="MJXp-mo" id="MJXp-Span-38">рдо</span></span><span class="MJXp-mrow" id="MJXp-Span-39"><span class="MJXp-mo" id="MJXp-Span-40">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-41"><span class="MJXp-mo" id="MJXp-Span-42">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-43"><span class="MJXp-mo" id="MJXp-Span-44">рдЯ</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.051ex" height="2.78ex" viewBox="0 -780.1 2605.5 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMATHI-5A" x="0" y="0"></use><g transform="translate(683,-243)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдо</text><g transform="translate(476,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рд┐</text></g><g transform="translate(1015,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рди</text></g><g transform="translate(1418,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдЯ</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> Z_ {рдорд┐рдирдЯ} </script>  ред <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-45"><span class="MJXp-msubsup" id="MJXp-Span-46"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47" style="margin-right: 0.05em;">Z</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-48" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-49"><span class="MJXp-mo" id="MJXp-Span-50">рдЕ</span></span><span class="MJXp-mrow" id="MJXp-Span-51"><span class="MJXp-mo" id="MJXp-Span-52">рдз</span></span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mo" id="MJXp-Span-54">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-55"><span class="MJXp-mo" id="MJXp-Span-56">рдХ</span></span><span class="MJXp-mrow" id="MJXp-Span-57"><span class="MJXp-mo" id="MJXp-Span-58">рдд</span></span><span class="MJXp-mrow" id="MJXp-Span-59"><span class="MJXp-mo" id="MJXp-Span-60">рдо</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.692ex" height="2.78ex" viewBox="0 -780.1 3742.6 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMATHI-5A" x="0" y="0"></use><g transform="translate(683,-243)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдЕ</text><g transform="translate(513,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдз</text></g><g transform="translate(917,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рд┐</text></g><g transform="translate(1455,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдХ</text></g><g transform="translate(2042,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдд</text></g><g transform="translate(2482,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдо</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-6"> Z_ {рдЕрдзрд┐рдХрддрдо} </script></li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-61"><span class="MJXp-msubsup" id="MJXp-Span-62"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63" style="margin-right: 0.05em;">U</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-64" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-65"><span class="MJXp-mo" id="MJXp-Span-66">рдо</span></span><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mo" id="MJXp-Span-68">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-69"><span class="MJXp-mo" id="MJXp-Span-70">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-71"><span class="MJXp-mo" id="MJXp-Span-72">рдЯ</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.051ex" height="2.78ex" viewBox="0 -780.1 2605.5 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/post/462153/&amp;usg=ALkJrhjPgS6SJNsUuqIynfUQFbjfwPlh7A#MJMATHI-55" x="0" y="0"></use><g transform="translate(683,-243)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдо</text><g transform="translate(476,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рд┐</text></g><g transform="translate(1015,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рди</text></g><g transform="translate(1418,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдЯ</text></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> U_ {рдорд┐рдирдЯ} </script>  ред <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-73"><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75" style="margin-right: 0.05em;">U</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-76" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-77"><span class="MJXp-mo" id="MJXp-Span-78">рдЕ</span></span><span class="MJXp-mrow" id="MJXp-Span-79"><span class="MJXp-mo" id="MJXp-Span-80">рдз</span></span><span class="MJXp-mrow" id="MJXp-Span-81"><span class="MJXp-mo" id="MJXp-Span-82">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mo" id="MJXp-Span-84">рдХ</span></span><span class="MJXp-mrow" id="MJXp-Span-85"><span class="MJXp-mo" id="MJXp-Span-86">рдд</span></span><span class="MJXp-mrow" id="MJXp-Span-87"><span class="MJXp-mo" id="MJXp-Span-88">рдо</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> U_ {рдЕрдзрд┐рдХрддрдо} </script></li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-89"><span class="MJXp-msubsup" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91" style="margin-right: 0.05em;">V</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-92" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-93"><span class="MJXp-mo" id="MJXp-Span-94">рдо</span></span><span class="MJXp-mrow" id="MJXp-Span-95"><span class="MJXp-mo" id="MJXp-Span-96">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-97"><span class="MJXp-mo" id="MJXp-Span-98">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-99"><span class="MJXp-mo" id="MJXp-Span-100">рдЯ</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> V_ {рдорд┐рдирдЯ} </script>  ред <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-101"><span class="MJXp-msubsup" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103" style="margin-right: 0.05em;">V</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-104" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-105"><span class="MJXp-mo" id="MJXp-Span-106">рдЕ</span></span><span class="MJXp-mrow" id="MJXp-Span-107"><span class="MJXp-mo" id="MJXp-Span-108">рдз</span></span><span class="MJXp-mrow" id="MJXp-Span-109"><span class="MJXp-mo" id="MJXp-Span-110">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-111"><span class="MJXp-mo" id="MJXp-Span-112">рдХ</span></span><span class="MJXp-mrow" id="MJXp-Span-113"><span class="MJXp-mo" id="MJXp-Span-114">рдд</span></span><span class="MJXp-mrow" id="MJXp-Span-115"><span class="MJXp-mo" id="MJXp-Span-116">рдо</span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> V_ {рдЕрдзрд┐рдХрддрдо} </script></li></ul><br>  рдЬреЛ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдП рдЧрдП рд╣реИрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/87a/520/05c/87a52005ccc02b02403068fd3e075864.png" width="359" height="210"></div><br>  рдпреЗ рдорд╛рди рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдЬрд╛рд▓реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднрд┐рдиреНрди рд╣реЛрддреЗ рд╣реИрдВред  рдпреВрдирд┐рдЯреА рд╡рд┐рдорд╛рди рдкрд░, <em>рдпреВрд╡реА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ</em> рд╕реЗ рд╕реАрдорд╛ рдореЗрдВ рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-117"><span class="MJXp-mn" id="MJXp-Span-118">0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> 0 </script>  рдХреЛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-119"><span class="MJXp-mn" id="MJXp-Span-120">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> 1 </script>  , рдФрд░ <em>рдХреЛрдиреЗ</em> рдХреЗ <em>рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ</em> рд╕реАрдорд╛ рд╕реЗ рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mo" id="MJXp-Span-122" style="margin-left: 0em; margin-right: 0.111em;">тИТ</span><span class="MJXp-mn" id="MJXp-Span-123">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> -5 </script>  рдХреЛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-124"><span class="MJXp-mo" id="MJXp-Span-125" style="margin-left: 0em; margin-right: 0.111em;">+</span><span class="MJXp-mn" id="MJXp-Span-126">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> + 5 </script>  ред <br><br>  XZ рдХреЛ UV рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд╕рдореАрдХрд░рдг рд╣реИрдВ: <br><br>  (1) <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d2/e5c/a22/7d2e5ca229d8fc1c135aaa42e863fc9c.svg" alt="рдЫрд╡рд┐"></div><br><br><div class="spoiler">  <b class="spoiler_title">рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ?</b> <div class="spoiler_text">  рдпрджрд┐ рдЖрдк рд░реИрдЦрд┐рдХ рдкреНрд░рдХреНрд╖реЗрдк рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕реЗ рдЕрдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ, рддреЛ рдпреЗ рд╕рдореАрдХрд░рдг рдмрд╣реБрдд рдбрд░рд╛рдиреЗ рд╡рд╛рд▓реЗ рд▓рдЧ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рд╡реЗ рдХрд╛рдлреА рд╕рд░рд▓рддрд╛ рд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВред <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-127"><span class="MJXp-mrow" id="MJXp-Span-128"><span class="MJXp-mo" id="MJXp-Span-129" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдп </font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-130"><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">реВ</font></font></span></span></span></span><script type="math/tex" id="MathJax-Element-15"> рдпреВ </script>  ред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдЕрдВрддрд░рд╛рд▓ рд╣реИрдВ: рдПрдХ рд╕реЗ рдорд╛рди рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-132"><span class="MJXp-msubsup" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕ </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-135" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mo" id="MJXp-Span-137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдо </font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-138"><span class="MJXp-mo" id="MJXp-Span-139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд┐ </font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-140"><span class="MJXp-mo" id="MJXp-Span-141"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рди </font></font></span></span><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯ</font></font></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-16"> X_ {рдорд┐рдирдЯ} </script>  рдХреЛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-144"><span class="MJXp-msubsup" id="MJXp-Span-145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146" style="margin-right: 0.05em;">X</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-147" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-148"><span class="MJXp-mo" id="MJXp-Span-149">рдЕ</span></span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mo" id="MJXp-Span-151">рдз</span></span><span class="MJXp-mrow" id="MJXp-Span-152"><span class="MJXp-mo" id="MJXp-Span-153">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-154"><span class="MJXp-mo" id="MJXp-Span-155">рдХ</span></span><span class="MJXp-mrow" id="MJXp-Span-156"><span class="MJXp-mo" id="MJXp-Span-157">рдд</span></span><span class="MJXp-mrow" id="MJXp-Span-158"><span class="MJXp-mo" id="MJXp-Span-159">рдо</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-17"> X_ {рдЕрдзрд┐рдХрддрдо} </script>  рджреВрд╕рд░реЗ рд╕реЗ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-160"><span class="MJXp-msubsup" id="MJXp-Span-161"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162" style="margin-right: 0.05em;">U</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-163" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-164"><span class="MJXp-mo" id="MJXp-Span-165">рдо</span></span><span class="MJXp-mrow" id="MJXp-Span-166"><span class="MJXp-mo" id="MJXp-Span-167">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-168"><span class="MJXp-mo" id="MJXp-Span-169">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-170"><span class="MJXp-mo" id="MJXp-Span-171">рдЯ</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-18"> U_ {рдорд┐рдирдЯ} </script>  рдХреЛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-172"><span class="MJXp-msubsup" id="MJXp-Span-173"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174" style="margin-right: 0.05em;">U</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-175" style="vertical-align: -0.4em;"><span class="MJXp-mrow" id="MJXp-Span-176"><span class="MJXp-mo" id="MJXp-Span-177">рдЕ</span></span><span class="MJXp-mrow" id="MJXp-Span-178"><span class="MJXp-mo" id="MJXp-Span-179">рдз</span></span><span class="MJXp-mrow" id="MJXp-Span-180"><span class="MJXp-mo" id="MJXp-Span-181">рд┐</span></span><span class="MJXp-mrow" id="MJXp-Span-182"><span class="MJXp-mo" id="MJXp-Span-183">рдХ</span></span><span class="MJXp-mrow" id="MJXp-Span-184"><span class="MJXp-mo" id="MJXp-Span-185">рдд</span></span><span class="MJXp-mrow" id="MJXp-Span-186"><span class="MJXp-mo" id="MJXp-Span-187">рдо</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-19"> U_ {рдЕрдзрд┐рдХрддрдо} </script>  ред  рд╕рдордиреНрд╡рдп рдХреЗ рд▓рд┐рдП рдЖрд╡рдХ рдбреЗрдЯрд╛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">X</span></span></span><script type="math/tex" id="MathJax-Element-20"> X </script>  рд╡рд░реНрддрдорд╛рди рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рдордиреНрд╡рдп рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рд╕рдордиреНрд╡рдп рд╣реЛрдЧрд╛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-190"><span class="MJXp-mrow" id="MJXp-Span-191"><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0.278em; margin-right: 0.278em;">рдп</span></span><span class="MJXp-mrow" id="MJXp-Span-193"><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0.278em; margin-right: 0.278em;">реВ</span></span></span></span><script type="math/tex" id="MathJax-Element-21"> рдпреВ </script>  рдмрдирд╛рд╡рдЯ рдирдореВрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ред <br><br>  рд╣рдореЗрдВ рдЖрдиреБрдкрд╛рддрд┐рдХрддрд╛ рдХреЗ рдЧреБрдгреЛрдВ рдХреЛ рдмрдирд╛рдП рд░рдЦрдирд╛ рд╣реЛрдЧрд╛ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">X</span></span></span><script type="math/tex" id="MathJax-Element-22"> X </script>  рдФрд░ рдЗрд╕рдХрд╛ рдЕрдВрддрд░рд╛рд▓, рдФрд░ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-197"><span class="MJXp-mrow" id="MJXp-Span-198"><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0.278em; margin-right: 0.278em;">рдп</span></span><span class="MJXp-mrow" id="MJXp-Span-200"><span class="MJXp-mo" id="MJXp-Span-201" style="margin-left: 0.278em; margin-right: 0.278em;">реВ</span></span></span></span><script type="math/tex" id="MathJax-Element-23"> рдпреВ </script>  рдФрд░ рдЗрд╕рдХрд╛ рдЕрдВрддрд░рд╛рд▓ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-202"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">X</span></span></span><script type="math/tex" id="MathJax-Element-24"> X </script>  рддрдм рдЗрд╕рдХреЗ 25% рдЕрдВрддрд░рд╛рд▓ рдХреЛ рдорд╛рдпрдиреЗ рд░рдЦрддрд╛ рд╣реИ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-204"><span class="MJXp-mrow" id="MJXp-Span-205"><span class="MJXp-mo" id="MJXp-Span-206" style="margin-left: 0.278em; margin-right: 0.278em;">рдп</span></span><span class="MJXp-mrow" id="MJXp-Span-207"><span class="MJXp-mo" id="MJXp-Span-208" style="margin-left: 0.278em; margin-right: 0.278em;">реВ</span></span></span></span><script type="math/tex" id="MathJax-Element-25"> рдпреВ </script>  рдЗрд╕рдХреЗ рдЕрдВрддрд░рд╛рд▓ рдХрд╛ 25% рднреА рдорд╛рдпрдиреЗ рд░рдЦреЗрдЧрд╛ред <br><br>  рдпрд╣ рд╕рдм рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22a/784/da1/22a784da18e327b20b872699a901f0ec.png" width="292" height="202"></div><br>  рдЗрд╕рд╕реЗ рд╣рдо рдпрд╣ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЧреБрд▓рд╛рдмреА рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд▓рд╛рд▓ рдЦрдВрдб рд╕реЗ рдмрдирд╛ рдЕрдиреБрдкрд╛рдд рдиреАрд▓реЗ рдЦрдВрдб рдФрд░ рдиреАрд▓реЗ рд░рдВрдЧ рдХреЗ рдмреАрдЪ рдХреЗ рдЕрдиреБрдкрд╛рдд рдХреЗ рд╕рдорд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br>  (2) <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bcc/9e1/49e/bcc9e149ea65e83dd70345dd92784788.png" height="39" width="232"></div><br>  рдЕрдм рд╣рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдКрдкрд░ рджрд┐рдЦрд╛рдП рдЧрдП рд╕рдореАрдХрд░рдг рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-209"><span class="MJXp-mrow" id="MJXp-Span-210"><span class="MJXp-mo" id="MJXp-Span-211" style="margin-left: 0.278em; margin-right: 0.278em;">рдп</span></span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mo" id="MJXp-Span-213" style="margin-left: 0.278em; margin-right: 0.278em;">реВ</span></span></span></span><script type="math/tex" id="MathJax-Element-26"> рдпреВ </script>  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/737/266/0fe/7372660fe877b0780e4cebc97a6f22f2.png" height="85" width="388"></div><br>  рдФрд░ рдЗрд╕ рд╕рдореАрдХрд░рдг рдХрд╛ рдареАрдХ рд╡реИрд╕рд╛ рд╣реА рд░реВрдк рд╣реИ рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ (1)ред </div></div><br>  рдЗрди рд╕рдореАрдХрд░рдгреЛрдВ рдХреЛ рдХреЛрдб рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs">float2 _VertexMin; float2 _VertexMax; float2 _UVMin; float2 _UVMax; <span class="hljs-function"><span class="hljs-function">float2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vertexToUV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float4 vertex)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (vertex.xz - _VertexMin) / (_VertexMax - _VertexMin) * (_UVMax - _UVMin) + _UVMin; }</code> </pre> <br>  рдЕрдм рд╣рдо <code>getVertex</code> рдлрд╝рдВрдХреНрд╢рди рдХреЛ <code>v.texcoord</code> рдкрд╛рд╕ рдХрд┐рдП рдмрд┐рдирд╛ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">float4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getVertex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float4 vertex)</span></span></span><span class="hljs-function"> </span></span>{ float3 normal = float3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float2 texcoord = vertexToUV(vertex); fixed height = tex2Dlod(_HeightMap, float4(texcoord, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)).r; vertex.xyz += normal * height * _Amount; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vertex; }</code> </pre> <br>  рддрдм рдкреВрд░реЗ рдлрдВрдХреНрд╢рди <code>vert</code> рдХрд╛ рд░реВрдк рд▓реЗрддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ v.vertex = getVertex(v.vertex); }</code> </pre> <br><h3>  рд╕реНрдХреНрд░реЙрд▓ рдкреНрд░рднрд╛рд╡ </h3><br>  рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреЗ рдЧрдП рдХреЛрдб рдХреЗ рдХрд╛рд░рдг, рдкреВрд░рд╛ рдирдХреНрд╢рд╛ рдореЗрд╖ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИред  рдпрджрд┐ рд╣рдо рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдЖрдЗрдП рдХреЛрдб рдХреЛ рдереЛрдбрд╝рд╛ рдФрд░ рдФрдкрдЪрд╛рд░рд┐рдХ рдХрд░реЗрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдорд╛рдирдЪрд┐рддреНрд░ рдХреЗ рдПрдХ рдЕрд▓рдЧ рд╣рд┐рд╕реНрд╕реЗ рдкрд░ рдЬрд╝реВрдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдмрдЬрд╛рдп рдЗрд╕реЗ рдкреВрд░рд╛ рджреЗрдЦрдиреЗ рдХреЗред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b5/1c3/bcd/0b51c3bcd59365527d3659564768b01b.png" width="530" height="309"></div><br>  рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХреЛ рджреЛ рдореВрд▓реНрдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рдЗрд╕рдХрд╛ рдЖрдХрд╛рд░ ( <code>_CropSize</code> ) рдФрд░ рдорд╛рдирдЪрд┐рддреНрд░ рдкрд░ рд╕реНрдерд╛рди ( <code>_CropOffset</code> ), <em>рд╢реАрд░реНрд╖ рд╕реНрдерд╛рди</em> рдореЗрдВ рдорд╛рдкрд╛ рдЧрдпрд╛ ( <code>_VertexMin</code> рд╕реЗ <code>_VertexMax</code> )ред <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Cropping float2 _CropSize; float2 _CropOffset;</span></span></code> </pre> <br>  рдЗрди рджреЛ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд░реИрдЦрд┐рдХ рдкреНрд░рдХреНрд╖реЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ <code>getVertex</code> 3D рдореЙрдбрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рд╕реНрдХреЗрд▓ рдФрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдмрд┐рдВрджреБ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рдПред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0c/620/418/c0c620418088c383addcaa54328fe0fc.png" width="529" height="589"></div><br>  рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдХреЛрдб: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ float2 croppedMin = _CropOffset; float2 croppedMax = croppedMin + _CropSize; <span class="hljs-comment"><span class="hljs-comment">// v.vertex.xz: [_VertexMin, _VertexMax] // cropped.xz : [croppedMin, croppedMax] float4 cropped = v.vertex; cropped.xz = (v.vertex.xz - _VertexMin) / (_VertexMax - _VertexMin) * (croppedMax - croppedMin) + croppedMin; v.vertex.y = getVertex(cropped); }</span></span></code> </pre> <br>  рдпрджрд┐ рд╣рдо рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <code>_CropOffset</code> рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рдЗрд╕рдХреЗ рдХрд╛рд░рдг, рдЯреНрд░рдВрдХреЗрд╢рди рдХреНрд╖реЗрддреНрд░ рд╣рд┐рд▓ рдЬрд╛рдПрдЧрд╛, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдирд╛ред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MoveMap</span></span></span><span class="hljs-class"> :</span></span> MonoBehaviour { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Material Material; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 Speed; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 Offset; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> CropOffsetID; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ CropOffsetID = Shader.PropertyToID(<span class="hljs-string"><span class="hljs-string">"_CropOffset"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Material.SetVector(CropOffsetID, Speed * Time.time + Offset); } }</code> </pre> <br>  рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рднреА рдкрд╛рдареЛрдВ рдХреЗ <strong>рд░реИрдк рдореЛрдб</strong> рдХреЛ <strong>рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ</strong> рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рдирд╛ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдпрджрд┐ рдпрд╣ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдмрдирд╛рд╡рдЯ рдХреЛ рд▓реВрдк рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред <br><br>  рдЬрд╝реВрдо / рдЬрд╝реВрдо рдкреНрд░рднрд╛рд╡ рдХреЗ рд▓рд┐рдП, рдмрд╕ <code>_CropSize</code> рдмрджрд▓рдирд╛ <code>_CropSize</code> ред <br><br><h2>  рднрд╛рдЧ 3. рдЗрд▓рд╛рдХреЗ рдХреА рдЫрд╛рдпрд╛рдВрдХрди </h2><br><h2>  рд╕рдкрд╛рдЯ рдЫрд╛рдпрд╛рдВрдХрди </h2><br>  рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреЗ рдЧрдП рд╕рднреА рдХреЛрдб рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдПрдХ рдЧрдВрднреАрд░ рд╕рдорд╕реНрдпрд╛ рд╣реИред  рдореЙрдбрд▓ рдХреЛ рдЫрд╛рдпрд╛рдВрдХрди рдХрд░рдирд╛ рдХреБрдЫ рдЕрдЬреАрдм рд╣реИред  рд╕рддрд╣ рдареАрдХ рд╕реЗ рдШреБрдорд╛рд╡рджрд╛рд░ рд╣реИ, рд▓реЗрдХрд┐рди рдкреНрд░рдХрд╛рд╢ рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд░рддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рд╕рдкрд╛рдЯ рдерд╛ред <br><br>  рдпрд╣ рдиреАрдЪреЗ рдХреА рдЫрд╡рд┐рдпреЛрдВ рдореЗрдВ рдмрд╣реБрдд рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╢реАрд░реНрд╖ рдЫрд╡рд┐ рдПрдХ рдореМрдЬреВрджрд╛ shader рдХреЛ рджрд┐рдЦрд╛рддреА рд╣реИ;  рдиреАрдЪреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0b/dbf/dad/c0bdbfdadf38764dd3d75ffb69d07dea.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/511/6a1/e02/5116a1e02debfaa58afe0cddf3b4c6c9.png"></div><br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдирд╛ рдПрдХ рдмрдбрд╝реА рдЪреБрдиреМрддреА рд╣реЛ рд╕рдХрддреА рд╣реИред  рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рддреНрд░реБрдЯрд┐ рдХреНрдпрд╛ рд╣реИред <br><br>  рд╕рд╛рдорд╛рдиреНрдп рдПрдХреНрд╕рдЯреНрд░реВрдЬрд╝рди рдСрдкрд░реЗрд╢рди рдиреЗ рдЙрд╕ рд╡рд┐рдорд╛рди рдХреА рд╕рд╛рдорд╛рдиреНрдп рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рд╢реБрд░реВ рдореЗрдВ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдерд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХрддрд╛ рдиреЗ рдХреЗрд╡рд▓ рдХреЛрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЙрдирдХреА рд╕рд╛рдорд╛рдиреНрдп рджрд┐рд╢рд╛ рдирд╣реАрдВред  рд╢реАрд░реНрд╖ <strong>рдХреА рджрд┐рд╢рд╛ рд╕рд╛рдорд╛рдиреНрдп рд╣реИ</strong> , рдЬреИрд╕рд╛ рдХрд┐ рдирд╛рдо рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ, рдПрдХ рдЗрдХрд╛рдИ рд▓рдВрдмрд╛рдИ рд╡реЗрдХреНрдЯрд░ ( <em>рджрд┐рд╢рд╛</em> ) рд╣реИ рдЬреЛ рд╕рддрд╣ рдХреЗ рд▓рдВрдмрд╡рдд рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддреА рд╣реИред  <em>рдиреЙрд░реНрдорд▓</em> рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдПрдХ 3 рдбреА рдореЙрдбрд▓ рдХреЛ рдЫрд╛рдпрд╛рдВрдХрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддреЗ рд╣реИрдВред  3 рдбреА рдореЙрдбрд▓ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рддреНрд░рд┐рднреБрдЬ рд╕реЗ рдкреНрд░рдХрд╛рд╢ рдХреИрд╕реЗ рдкрд░рд┐рд▓рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рд╕рддрд╣ рд╢реЗрдб рджреНрд╡рд╛рд░рд╛ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдореЙрдбрд▓ рдХреА рддреАрди-рдЖрдпрд╛рдореАрддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣ рдПрдХ рд╕рдкрд╛рдЯ рд╕рддрд╣ рд╕реЗ рдкреНрд░рдХрд╛рд╢ рдХреЛ рдЙрдЫрд╛рд▓ рджреЗрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рдПрдХ рдШреБрдорд╛рд╡рджрд╛рд░ рд╕рддрд╣ рдХреЛ рдЙрдЫрд╛рд▓ рджреЗрдЧрд╛ред  рдЗрд╕ рдЯреНрд░рд┐рдХ рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдЕрдХреНрд╕рд░ рд▓реЛ-рдкреЙрд▓реА рд╕рд░рдлреЗрд╕ рдХреЛ рд╕реНрдореВрдж рд▓реБрдХ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ (рдиреАрдЪреЗ рджреЗрдЦреЗрдВ) рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f6b/d7c/443/f6bd7c443381c1f0e133ee7b7bce05e1.png"></div><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╡рд┐рдкрд░реАрдд рд╣реЛрддрд╛ рд╣реИред  рдЬреНрдпрд╛рдорд┐рддрд┐ рдШреБрдорд╛рд╡рджрд╛рд░ рдФрд░ рдЪрд┐рдХрдиреА рд╣реИ, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ рд╕рднреА рдорд╛рдирджрдВрдбреЛрдВ рдХреЛ рдКрдкрд░ рдХреА рдУрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдкреНрд░рдХрд╛рд╢ рдореЙрдбрд▓ рд╕реЗ рдкрд░рд┐рд▓рдХреНрд╖рд┐рдд рд╣реЛрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рд╕рдкрд╛рдЯ рдерд╛ (рдиреАрдЪреЗ рджреЗрдЦреЗрдВ): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/323/241/cde/323241cdef1b3a41604c579f4fdb509b.png"></div><br>  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рд╕рд╛рдорд╛рдиреНрдп рдореИрдкрд┐рдВрдЧ (рдмрдореНрдк рдореИрдкрд┐рдВрдЧ)</a> рдкрд░ рд▓реЗрдЦ рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рдЫрд╛рдпрд╛рдВрдХрди рдореЗрдВ рдорд╛рдирджрдВрдбреЛрдВ рдХреА рднреВрдорд┐рдХрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдВ рд╕рдорд╛рди рд╕рд┐рд▓реЗрдВрдбрд░ рдмрд╣реБрдд рдЕрд▓рдЧ рджрд┐рдЦрддреЗ рд╣реИрдВ, рд╡рд╣реА 3D рдореЙрдбрд▓ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рд╡рд░реНрдЯрд┐рдХрд▓ рдиреЙрд░реНрдореНрд╕ (рдиреАрдЪреЗ рджреЗрдЦреЗрдВ) рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рдХреЗ рдХрд╛рд░рдгред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b7/4fc/15f/1b74fc15f90516cc80b283953ef12373.png" width="315" height="243"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f93/544/d9c/f93544d9c95a70da71848897f0913676.png" width="347" height="254"></div><br>  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рди рддреЛ рдПрдХрддрд╛ рдФрд░ рди рд╣реА рд╢реЗрдбрд░реНрд╕ рдмрдирд╛рдиреЗ рдХреА рднрд╛рд╖рд╛ рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреБрдирд░реНрдЧрдгрдирд╛ рдорд╛рдирджрдВрдбреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рд╕рдорд╛рдзрд╛рди рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдкрдХреЛ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рд╕реНрдерд╛рдиреАрдп рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЙрдиреНрд╣реЗрдВ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред <br><br><h2>  рд╕рд╛рдорд╛рдиреНрдп рдЧрдгрдирд╛ </h2><br>  рдЫрд╛рдпрд╛рдВрдХрди рд╕рдорд╕реНрдпрд╛ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╕рддрд╣ рдЬреНрдпрд╛рдорд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдорд╛рдирджрдВрдбреЛрдВ рдХреА рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЧрдгрдирд╛ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕реА рддрд░рд╣ рдХреЗ рдХрд╛рд░реНрдп рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рд╡рд░реНрдЯреЗрдХреНрд╕ рд╡рд┐рд╕реНрдерд╛рдкрди - рдореЗрд▓реНрдЯрд┐рдВрдЧ рд╢реЗрдбрд░ рдкрд╛рд░реНрдЯ 1</a> рджреНрд╡рд╛рд░рд╛ рдПрдХ рдкреЛрд╕реНрдЯ рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рдереА, рдЬрд╣рд╛рдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener">рдХреЛрди рд╡рд╛рд░реНрд╕</a> рдореЗрдВ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рдкрд┐рдШрд▓рдиреЗ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╕рдорд╛рдкреНрдд рдХреЛрдб рдХреЛ 3 рдбреА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдореЗрдВ рдХрд╛рдо рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЖрдЗрдП рдЕрдм рдХреЗрд╡рд▓ рджреЛ рдЖрдпрд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдп рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░реЗрдВред  рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЛ 2 рдбреА рд╡рдХреНрд░ (рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЖрд░реЗрдЦ рдореЗрдВ рдмрдбрд╝рд╛ рдиреАрд▓рд╛ рддреАрд░) рдкрд░ рдмрд┐рдВрджреБ рдХреЗ рд╕рдорд╛рди <strong>рд╕рд╛рдорд╛рдиреНрдп</strong> рдХреА <strong>рджрд┐рд╢рд╛ рдХреА</strong> рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e5a/405/6be/e5a4056be62b920d9721a84d7c050ee6.png" width="316" height="346"></div><br>  рдПрдХ рдЬреНрдпрд╛рдорд┐рддреАрдп рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, <em>рд╕рд╛рдорд╛рдиреНрдп</em> (рдмрдбрд╝рд╛ рдиреАрд▓рд╛ рддреАрд░) рдХреА <em>рджрд┐рд╢рд╛</em> рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмреНрдпрд╛рдЬ рдХреА рдмрд┐рдВрджреБ (рдПрдХ рдкрддрд▓реА рдиреАрд▓реА рд░реЗрдЦрд╛) рд╕реЗ рдЧреБрдЬрд░рддреА <strong>рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреЗ</strong> рд▓рд┐рдП рдПрдХ рд▓рдВрдмрд╡рдд рд▓рдВрдмрд╡рдд рд╣реИред  <em>рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛</em> рдХреЛ рдореЙрдбрд▓ рдХреА рд╡рдХреНрд░рддрд╛ рдкрд░ рд╕реНрдерд┐рдд рд░реЗрдЦрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  <strong>рдПрдХ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рд╡реЗрдХреНрдЯрд░</strong> рдПрдХ <em>рдЗрдХрд╛рдИ рд╡реЗрдХреНрдЯрд░ рд╣реИ</em> рдЬреЛ рдПрдХ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдкрд░ рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИред <br><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╕рд╛рдорд╛рдиреНрдп рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рджреЛ рдХрджрдо рдЙрдард╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╡рд╛рдВрдЫрд┐рдд рдмрд┐рдВрджреБ рдкрд░ <em>рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛</em> рдХреЛ рдвреВрдВрдвреЗрдВ;  рдЗрд╕рдХреЗ рдмрд╛рдж рд╡реЗрдХреНрдЯрд░ рд▓рдВрдм рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВ (рдЬреЛ <em>рд╕рд╛рдорд╛рдиреНрдп</em> рдХреА рдЖрд╡рд╢реНрдпрдХ <em>рджрд┐рд╢рд╛</em> рд╣реЛрдЧреА)ред <br><br><h3>  рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдЧрдгрдирд╛ </h3><br>  <em>рд╕рд╛рдорд╛рдиреНрдп</em> рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП <em>,</em> рд╣рдореЗрдВ рдкрд╣рд▓реЗ <em>рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреА</em> рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрд╣ рдкрд╛рд╕ рдХреЗ рдПрдХ рдмрд┐рдВрджреБ рдХрд╛ рдирдореВрдирд╛ рдХрд░рдХреЗ рдФрд░ рд╢реАрд░реНрд╖ рдХреЗ рдкрд╛рд╕ рдПрдХ рд░реЗрдЦрд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрдорд╛рдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЫреЛрдЯреА рд░реЗрдЦрд╛, рдореВрд▓реНрдп рдЬрд┐рддрдирд╛ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд╣реЛрдЧрд╛ред <br><br>  рддреАрди рдЪрд░рдгреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><ul><li>  рдЪрд░рдг 1. рдПрдХ рд╕рдкрд╛рдЯ рд╕рддрд╣ рдкрд░ рдПрдХ рдЫреЛрдЯреА рд░рд╛рд╢рд┐ рд▓реЗ рдЬрд╛рдПрдБ </li><li>  рдЪрд░рдг 2. рдирдП рдмрд┐рдВрджреБ рдХреА рдКрдВрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВред </li><li>  рдЪрд░рдг 3. рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд░реНрддрдорд╛рди рдмрд┐рдВрджреБ рдХреА рдКрдВрдЪрд╛рдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ </li></ul><br>  рдпрд╣ рд╕рдм рдиреАрдЪреЗ рджреА рдЧрдИ рдЫрд╡рд┐ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/46f/bd3/7e8/46fbd37e868d16ff7ec6f1a164377018.png"></div><br>  рдЗрд╕рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдПрдХ рдирд╣реАрдВ рдмрд▓реНрдХрд┐ рджреЛ рдмрд┐рдВрджреБрдУрдВ рдХреА рдКрдВрдЪрд╛рдЗрдпреЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд░рдирд╛ рд╣реИред  рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рд╣рдордиреЗ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдпрд╛ рдЬреЛ рдПрдХ рдЬрд╛рд▓ рдмрд┐рдВрджреБ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдкрд░рд┐рджреГрд╢реНрдп рдХреА рдКрдВрдЪрд╛рдИ рдХрд╛ рдирдореВрдирд╛ рд▓реЗрддрд╛ рд╣реИред  рд╣рдордиреЗ рдЗрд╕реЗ <code>getVertex</code> рдХрд╣рд╛ рд╣реИред <br><br>  рд╣рдо рд╡рд░реНрддрдорд╛рди рдмрд┐рдВрджреБ рдкрд░ рдФрд░ рдлрд┐рд░ рджреЛ рдЕрдиреНрдп рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рдирдП рд╢реАрд░реНрд╖ рдорд╛рди рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред  рдПрдХ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреЗ рд▓рд┐рдП рд╣реЛрдЧрд╛, рджреВрд╕рд░рд╛ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреЗ рд▓рд┐рдП рджреЛ рдмрд┐рдВрджреБрдУрдВ рдкрд░ рд╣реЛрдЧрд╛ред  рдЙрдирдХреА рдорджрдж рд╕реЗ, рд╣рдо рд╕рд╛рдорд╛рдиреНрдп рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред  рдпрджрд┐ рдкреНрд░рднрд╛рд╡ рдкреИрджрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдореВрд▓ рдЬрд╛рд▓ рд╕рдкрд╛рдЯ рд╣реИ (рдФрд░ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рд╣реИ), рддреЛ рд╣рдореЗрдВ <code>v.normal</code> рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдФрд░ рд╣рдо <code>float3(0, 0, 1)</code> рдФрд░ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреЗ рд▓рд┐рдП рджреЛ рдмрд┐рдВрджреБрдУрдВ рдкрд░ рдХреНрд░рдорд╢рдГ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <code>float3(0, 0, 1)</code> рдФрд░ <code>float3(1, 0, 0)</code> ред  рдпрджрд┐ рд╣рдо рдРрд╕рд╛ рд╣реА рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗ, рд▓реЗрдХрд┐рди, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдЧреЛрд▓реЗ рдХреЗ рд▓рд┐рдП, рддреЛ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдФрд░ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреА рдЧрдгрдирд╛ рджреЛ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд▓рд┐рдП рджреЛ рдЙрдкрдпреБрдХреНрдд рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдЦреЛрдЬрдирд╛ рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реЛрдЧрд╛ред <br><br><h3>  рд╡реЗрдХреНрдЯрд░ рдХрд▓рд╛рдХреГрддрд┐ </h3><br>  рджреЛ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдФрд░ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рд╡реИрдХреНрдЯрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо <strong>рд╡реЗрдХреНрдЯрд░ рдЙрддреНрдкрд╛рдж</strong> рдирд╛рдордХ рдПрдХ рдСрдкрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХреА рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдПрдХ рд╡реЗрдХреНрдЯрд░ рдХрд╛рдо рдХреА рдХрдИ рдкрд░рд┐рднрд╛рд╖рд╛рдПрдВ рдФрд░ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рд╣реИрдВ рдФрд░ рдпрд╣ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИред <br><br>  рдПрдХ рд╡реЗрдХреНрдЯрд░ рдЙрддреНрдкрд╛рдж рджреЛ рд╡реИрдХреНрдЯрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХ рдирдпрд╛ рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рджреЛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╡реИрдХреНрдЯрд░ рдпреВрдирд┐рдЯ рдереЗ (рдЙрдирдХреА рд▓рдВрдмрд╛рдИ рдПрдХрддрд╛ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ), рдФрд░ рд╡реЗ 90 рдХреЗ рдХреЛрдг рдкрд░ рд╕реНрдерд┐рдд рд╣реИрдВ, рддреЛ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╡реЗрдХреНрдЯрд░ рджреЛрдиреЛрдВ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ 90 рдбрд┐рдЧреНрд░реА рдкрд░ рд╕реНрдерд┐рдд рд╣реЛрдЧрд╛ред <br><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рднреНрд░рд╛рдордХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЧреНрд░рд╛рдлрд┐рдХ рд░реВрдк рд╕реЗ рдЗрд╕реЗ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рджреЛ рдЕрдХреНрд╖реЛрдВ рдХрд╛ рд╡реЗрдХреНрдЯрд░ рдЙрддреНрдкрд╛рдж рдПрдХ рддреАрд╕рд░рд╛ рдмрдирд╛рддрд╛ рд╣реИред  рд╡рд╣ рд╣реИ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">X</span><span class="MJXp-mtext" id="MJXp-Span-216">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-217"><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0.278em; margin-right: 0.278em;">рдЧ</span></span><span class="MJXp-mrow" id="MJXp-Span-219"><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.278em; margin-right: 0.278em;">реБ</span></span><span class="MJXp-mrow" id="MJXp-Span-221"><span class="MJXp-mo" id="MJXp-Span-222" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-223"><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.278em; margin-right: 0.278em;">рд╛</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">Y</span><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">Z</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> X \ рдЧреБрдирд╛ Y = Z </script>  рд▓реЗрдХрд┐рди рдпрд╣ рднреА <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-228"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">X</span><span class="MJXp-mtext" id="MJXp-Span-230">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-231"><span class="MJXp-mo" id="MJXp-Span-232" style="margin-left: 0.278em; margin-right: 0.278em;">рдЧ</span></span><span class="MJXp-mrow" id="MJXp-Span-233"><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0.278em; margin-right: 0.278em;">реБ</span></span><span class="MJXp-mrow" id="MJXp-Span-235"><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.278em; margin-right: 0.278em;">рди</span></span><span class="MJXp-mrow" id="MJXp-Span-237"><span class="MJXp-mo" id="MJXp-Span-238" style="margin-left: 0.278em; margin-right: 0.278em;">рд╛</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">Z</span><span class="MJXp-mo" id="MJXp-Span-240" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> X \ рдЧреБрдирд╛ Z = Y </script>  , рдФрд░ рдЗрд╕реА рддрд░рд╣ред <br><br>  рдпрджрд┐ рд╣рдо рдкрд░реНрдпрд╛рдкреНрдд рд░реВрдк рд╕реЗ рдЫреЛрдЯрд╛ рдХрджрдо рдЙрдард╛рддреЗ рд╣реИрдВ (рдХреЛрдб рдореЗрдВ, рдпрд╣ <code>offset</code> ), рддреЛ рджреЛ рдмрд┐рдВрджреБрдУрдВ рдкрд░ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдФрд░ рд╕реНрдкрд░реНрд╢рд░реЗрдЦрд╛ рдХреЗ рд╡реИрдХреНрдЯрд░ 90 рдбрд┐рдЧреНрд░реА рдХреЗ рдХреЛрдг рдкрд░ рд╣реЛрдВрдЧреЗред<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдорд╛рдиреНрдп рд╡реЗрдХреНрдЯрд░ рдХреЗ рд╕рд╛рде рдорд┐рд▓рдХрд░, рд╡реЗ рддреАрди рд▓рдВрдмрд╡рдд рдЕрдХреНрд╖реЛрдВ рдХреЛ рдореЙрдбрд▓ рдХреА рд╕рддрд╣ рдХреЗ рд╕рд╛рде рдЙрдиреНрдореБрдЦ рдмрдирд╛рддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдЬрд╛рдирдХрд░, рд╣рдо рд╕рд╛рдорд╛рдиреНрдп рд╡реЗрдХреНрдЯрд░ рдХреА рдЧрдгрдирд╛ рдФрд░ рдЕрджреНрдпрддрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдХреЛрдб рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ float3 bitangent = float3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float3 tangent = float3(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> offset = <span class="hljs-number"><span class="hljs-number">0.01</span></span>; float4 vertexBitangent = getVertex(v.vertex + float4(bitangent * offset, <span class="hljs-number"><span class="hljs-number">0</span></span>) ); float4 vertex = getVertex(v.vertex); float4 vertexTangent = getVertex(v.vertex + float4(tangent * offset, <span class="hljs-number"><span class="hljs-number">0</span></span>) ); float3 newBitangent = (vertexBitangent - vertex).xyz; float3 newTangent = (vertexTangent - vertex).xyz; v.normal = cross(newTangent, newBitangent); v.vertex.y = vertex.y; }</code> </pre> <br><h3>  рдпрд╣ рд╕рдм рдПрдХ рд╕рд╛рде рд░рдЦрдирд╛ </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдм рдЬрдм рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ, рд╣рдо рд╕реНрдХреНрд░реЙрд▓ рдкреНрд░рднрд╛рд╡ рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_base v)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// v.vertex.xz: [_VertexMin, _VertexMax] // cropped.xz : [croppedMin, croppedMax] float2 croppedMin = _CropOffset; float2 croppedMax = croppedMin + _CropSize; float4 cropped = v.vertex; cropped.xz = (v.vertex.xz - _VertexMin) / (_VertexMax - _VertexMin) * (croppedMax - croppedMin) + croppedMin; float3 bitangent = float3(1, 0, 0); float3 normal = float3(0, 1, 0); float3 tangent = float3(0, 0, 1); float offset = 0.01; float4 vertexBitangent = getVertex(cropped + float4(bitangent * offset, 0) ); float4 vertex = getVertex(cropped); float4 vertexTangent = getVertex(cropped + float4(tangent * offset, 0) ); float3 newBitangent = (vertexBitangent - vertex).xyz; float3 newTangent = (vertexTangent - vertex).xyz; v.normal = cross(newTangent, newBitangent); v.vertex.y = vertex.y; v.texcoord = float4(vertexToUV(cropped), 0,0); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рдЗрд╕ рдкрд░ рд╣рдорд╛рд░рд╛ рдкреНрд░рднрд╛рд╡ рдЕрдВрддрддрдГ рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИред </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d9/b07/680/0d9b0768068b2329d53e22a71ff27dfb.gif" width="700" height="272"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдЧреЗ рдХрд╣рд╛рдБ рдЬрд╛рдирд╛ рд╣реИ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдкреНрд░рднрд╛рд╡реЛрдВ рдХрд╛ рдЖрдзрд╛рд░ рдмрди рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, </font><font style="vertical-align: inherit;">рдлрд┐рд▓реНрдо "рдмреНрд▓реИрдХ рдкреИрдВрдерд░" рд╕реЗ </font><font style="vertical-align: inherit;">рд╣реЛрд▓реЛрдЧреНрд░рд╛рдлрд┐рдХ рдЕрдиреБрдорд╛рди рдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реЗрдд рддрд╛рд▓рд┐рдХрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА рдПрдХ рдкреНрд░рддрд┐ </font><font style="vertical-align: inherit;">ред</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ecS1_-Y_uP8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХрддрд╛ рдкреИрдХреЗрдЬ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд▓рд┐рдП рдкреВрд░рд╛ рдкреИрдХреЗрдЬ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="noopener"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреИрдЯреНрд░рд┐рдпрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рдЗрд╕рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдкреНрд░рднрд╛рд╡ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рд╕рдВрдкрддреНрддрд┐рдпрд╛рдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi462153/">https://habr.com/ru/post/hi462153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi462141/index.html">рдбреЗрдЯрд╛рд╕реЗрдВрдЯрд░ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдЯ</a></li>
<li><a href="../hi462145/index.html">рд╕рджрд╕реНрдпрддрд╛ рд╕рдорд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рдХрдИ рджрд┐рди рдХреНрдпреЛрдВ рд▓рдЧрддреЗ рд╣реИрдВ?</a></li>
<li><a href="../hi462147/index.html">рдЬрдм рд░реАрдПрдХреНрдЯрд┐рд╡ рдиреЗрдЯрд┐рд╡ рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреА рд╡рд┐рд░рд╛рд╕рдд рдХреЛ рд╡рд╛рдкрд╕ рд▓рд╛рддреЗ рд╣реБрдП рдиреЗрд╡рд┐рдЧреЗрд╢рди рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛</a></li>
<li><a href="../hi462149/index.html">IOS рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рдПрдХреНрд╕реЗрд╕рд░реАрдЬрд╝ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕реЗрд╕ рдкреНрд░рддрд┐рдмрдВрдз рдореЛрдб рдФрд░ рдЗрд╕реЗ рдХреИрд╕реЗ рдмрд╛рдпрдкрд╛рд╕ рдХрд░реЗрдВ</a></li>
<li><a href="../hi462151/index.html">5 рд╢реАрд░реНрд╖ Kubernetes рд╡рд┐рддрд░рдг</a></li>
<li><a href="../hi462155/index.html">рд╡рд░реНрдХрд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ "рдЬреИрд╕рд╛ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ," рдЙрддрдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ "</a></li>
<li><a href="../hi462159/index.html">рдЧреЛрд▓рдВрдЧ рдФрд░ рдУрдкрдирд╕реАрд╡реА рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдХ рдЪреЗрд╣рд░рд╛ рдкрд╣рдЪрд╛рди рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдирд┐рд░реНрдорд╛рдг</a></li>
<li><a href="../hi462161/index.html">рд╡рд┐рдВрдбреЛрдЬ 10 рдкрд░ рдЕрдкрд╛рдЪреЗ рдПрдпрд░рдлреНрд▓реЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдЕрдиреБрднрд╡</a></li>
<li><a href="../hi462163/index.html">рдРрд╕реА рддрдХрдиреАрдХреЗрдВ рдЬреЛ 2020 рдореЗрдВ рд▓реЛрдХрдкреНрд░рд┐рдп рд╣реЛ рдЬрд╛рдПрдВрдЧреА</a></li>
<li><a href="../hi462165/index.html">рдЧреИрд░-рдореМрдЬреВрдж рдЧреЗрдорд┐рдВрдЧ рдХрдВрдкрдиреА рдХреЗ рд▓рд┐рдП 25 рд▓реЛрдЧреЛрдВ рдХреЛ рдХреИрд╕реЗ рдХрд╛рдо рдореЗрдВ рд▓рдЧрд╛рдпрд╛ рдЧрдпрд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>