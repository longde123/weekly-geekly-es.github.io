<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéä üõÖ ‚óÄÔ∏è Touch-Schalter mit Modbus: Warum werden sie ben√∂tigt und wie werden sie in einer intelligenten Wohnung angewendet? üßù üë®‚Äçüëß üëãüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In Budgetsystemen eines Smart Homes werden normalerweise Standardschalter verwendet - ihre Art der Ausgabe wird auch als ‚ÄûTrockenkontakt‚Äú bezeichnet ....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Touch-Schalter mit Modbus: Warum werden sie ben√∂tigt und wie werden sie in einer intelligenten Wohnung angewendet?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirenboard/blog/417093/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/up/wo/hl/upwohlfmxuv_nz9mr5vatxwj3ky.jpeg" width="600"></div><br>  In Budgetsystemen eines Smart Homes werden normalerweise Standardschalter verwendet - ihre Art der Ausgabe wird auch als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûTrockenkontakt‚Äú bezeichnet</a> .  Dies ist jedoch nicht die einzige Option: Auf der Suche nach einem sch√∂nen Switch bin ich auf Ger√§te mit dem darin enthaltenen Modbus RTU-Protokoll gesto√üen.  Zus√§tzlich zu dem sch√∂nen Erscheinungsbild k√∂nnen Sie den Betriebsmodus jeder Taste konfigurieren, die Hintergrundbeleuchtung detailliert steuern und sie an die zentrale Steuerung anschlie√üen (ich habe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wiren Board 5 verwendet</a> ). Vier Dr√§hte reichen aus - Strom, Masse und zwei Leitungen f√ºr RS-485. <br><br>  Informationen zum Anschlie√üen eines solchen Schalters und zum Konfigurieren der Steuerung von Licht und Bel√ºftung finden Sie unten.  In diesem Artikel wird auch ausf√ºhrlich beschrieben, wie Sie mit Modbus-Ger√§ten im Allgemeinen arbeiten. <br><a name="habracut"></a><br>  <i>Erkl√§rung des Wiren Board-Vermarkters: Dieser Artikel wurde aus einem von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Kallyanbl4</a> in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unserem Forum</a> erstellten Thema erstellt.</i>  <i>Nach unserer Bitte schrieb er einen vollwertigen Artikel und durfte ihn auf unserem Blog ver√∂ffentlichen, wof√ºr er sich sehr bedankt.</i>  <i>Der gesamte Text wird vom Autor verfasst, mit Ausnahme der Anmerkungen am Ende.</i> <br><br><h3>  Beschreibung der Schalter </h3><br>  Nachdem ich studiert hatte, was jetzt auf dem Markt ist, kaufte ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diese</a> interessanten Schalter von den Chinesen: <br><br><img src="https://habrastorage.org/webt/xw/lm/5_/xwlm5_ynjxrtogilijnfvqxd4bk.jpeg" width="600"><br><br>  Ihre Vorteile: <br><br><ul><li>  gutes Design; </li><li>  Ber√ºhrungsschalter blinken, wenn sie gedr√ºckt werden, im Dunkeln in einer angenehmen wei√üen Farbe beleuchtet; </li><li>  relativ niedriger Preis - 2000 Rubel pro St√ºck.  Der Preis beinhaltet die individuelle Lasergravur; </li><li>  programmierbarer Schalter - Sie k√∂nnen die Taste f√ºr fast jede Aktion einstellen: Licht einschalten, LEDs steuern, Vorhang heben / senken, ... </li></ul><br>  Switch-Spezifikationen: <br><br><ul><li>  Versorgungsspannung - 12 V; </li><li>  Daten√ºbertragungsrate - 19200 Bit / s; </li><li>  Anzahl der √ºbertragenen Bits - 8; </li><li>  Anzahl der Stoppbits - 1; </li><li>  Parit√§tskontrolle - keine √úberpr√ºfung. </li></ul><br>  Bei der Arbeit an Modbus RTU verf√ºgen die angeschlossenen Ger√§te √ºber sogenannte Register - Zellen, in denen Informationen gespeichert sind.  Im Screenshot eine Beschreibung der Register f√ºr den Vier-Tasten-Schalter: <br><br><img src="https://habrastorage.org/webt/jc/ve/uz/jcveuzacmo7a4kscyvauqrd0fec.jpeg"><br><br>  Wenn Sie auf eine der Touch-Tasten klicken, √§ndern sich die Werte in den Registern 0-3 von 0 auf 1. <br><br><h3>  Leistungsschalter </h3><br>  Im Wiren Board 5-Controller befinden sich je nach Konfiguration zwei bis vier RS-485-Ports.  Switches (in meinem Fall sind es 27) m√ºssen an diese Ports angeschlossen werden. <br><br>  In diesem Fall k√∂nnen alle Switches auf einem gemeinsamen Bus betrieben werden.  Die Schalter k√∂nnen in Reihe geschaltet werden, wobei das Kabel von einem Schalter zum anderen gef√ºhrt wird. Ich habe mich jedoch entschlossen, alle Kabel in einer Abschirmung anzuschlie√üen. <br><br>  Verbindungskabel - 8-adriges Cat 5e UTP.  Sie k√∂nnen einen Vierkern verwenden, aber normalerweise mache ich alles "nur f√ºr den Fall".  Sie k√∂nnen andere vieradrige Kabel in Betracht ziehen, aber der wichtige Punkt ist, dass das Kabel abgeschirmt werden sollte, da trotz der relativ niedrigen Signalfrequenzen Verluste und Tonabnehmer nicht ausgeschlossen sind. <br><br>  Infolgedessen sind alle Schalter wie in der Abbildung gezeigt miteinander verbunden: <br><br><img src="https://habrastorage.org/webt/5e/bg/vg/5ebgvgcgc-u6uamikfwmpudrcqm.jpeg" width="400"><br><br>  Wie aus der Abbildung ersichtlich ist, sind alle Switches √ºber einen passiven UTP-Switch miteinander verbunden.  F√ºr die Kerne 1 und 2 (orange und wei√ü-orange) werden Daten √ºbertragen (Leitungen A und B), 12 V werden an die Kerne 7 und 8 (braun und wei√ü-braun) angeschlossen. Ich verwende Mean Well NDR-75-12 als Stromquelle . <br><br>  Ich wusste nicht, wie sich der passive chinesische UTP-Switch verh√§lt, daher habe ich beim Entwerfen des Shields einen Platz f√ºr einen aktiven RS-423-Switch bereitgestellt.  Ich stelle fest, dass die Schaltung sowohl √ºber passive als auch √ºber aktive Schalter funktioniert.  Und selbst wenn sie miteinander verbunden sind. <br><br><img src="https://habrastorage.org/webt/b3/ur/at/b3urat_0w80cu1lw3lnp1jf_o50.jpeg" width="400"><br><br><h3>  Lichtsteuerung durch Relais </h3><br>  Nach meinem Projekt sind in der Wohnung 27 unabh√§ngige Ger√§te (Licht, L√ºfter) geplant, die mit 220 V betrieben werden. Drei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Relaismodule WBIO-DO-R10A-8</a> und ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WBIO-DO-R10R-4</a> wurden ausgew√§hlt, um sie zu steuern.  Die Wahl liegt in der Tatsache begr√ºndet, dass fast die gesamte Beleuchtung in der Wohnung LED ist, was sich von Gl√ºhlampen durch einen hohen Anlaufstrom unterscheidet.  Die ausgew√§hlten Relais k√∂nnen eine Stromumschaltung von bis zu 10 A pro Kanal liefern, was in meinem Fall nicht erforderlich ist - aber, wie bereits erw√§hnt, "nur f√ºr den Fall mit einem Spielraum". <br><br><img src="https://habrastorage.org/webt/pd/ov/yy/pdovyyz0vwsmyp9jbsn7nyx7gca.jpeg" width="400"><br><br>  Die Relaisumschaltung erfolgt √ºber die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webschnittstelle der Steuerung</a> .  Das Verfahren ist intuitiv, es sind keine Anweisungen oder Hinweise erforderlich. <br><br><h3>  Software-Teil </h3><br>  <b>Port-Datei</b> <br><br>  Aus der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hardwarebeschreibung von Wiren Board 5</a> erfahren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wir</a> , dass es zwei <i>Ger√§teports / dev / ttyAPP1</i> und <i>/ dev / ttyAPP4 hat</i> , die zwei RS-485-Ports entsprechen.  In meinem Fall ist der Switch mit dem Port <i>/ dev / ttyAPP1 verbunden</i> . <br><br>  <b>Ger√§teadresse (Switch)</b> <br><br>  Beim Datenaustausch √ºber das Modbus RTU-Protokoll wird jedes Ger√§t durch seine eigene eindeutige Nummer identifiziert - die Modbus-Adresse.  In der Regel gibt der Hersteller diese Adresse in Form von drei Ziffern auf dem Ger√§t selbst an. Wenn jedoch keine solche Nummer auf dem Ger√§t vorhanden ist, k√∂nnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie die Adressen √ºber die Befehlszeile durchlaufen</a> (es wird verwendet, dass die Adresse im Modbus-Register 0x80 gespeichert ist): <br><br><pre><code class="bash hljs">root@wirenboard:~<span class="hljs-comment"><span class="hljs-comment"># service wb-mqtt-serial stop root@wirenboard:~# for i in {1..247}; do modbus_client -mrtu /dev/ttyAPP1 --debug -a$i -t3 -r0x80 -s1 -pnone; done 2&gt;/dev/null | grep Data:</span></span></code> </pre> <br>  Das Ergebnis sollte in folgender Form vorliegen: <br><br><pre> <code class="bash hljs">Data: 0x008e</code> </pre><br>  Die Antwort wurde im Hexadezimalformat empfangen und entspricht 142 im Dezimalformat. <br>  Es ist zu beachten, dass bei jedem <i>Aufruf des</i> Dienstprogramms <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">modbus_client der</a></i> Standard f√ºr den <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seriellen Abfragetreiber wb-mqtt</a></i> f√ºr den Controller gestoppt werden sollte.  Andernfalls <i>funktioniert das</i> Dienstprogramm <i>modbus_client</i> nicht. <br><br>  <b>Datenaustausch zwischen Switch und Wiren Board</b> <br><br>  Oben wird eine Schleife geschrieben, die alle m√∂glichen Modbus-Adressen abfragt und den Adresswert zur√ºckgibt, wenn ein Ger√§t gefunden wird.  Die Schleife verwendet das Dienstprogramm <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">modbus_client</a></i> , das zum Debuggen verbundener Ger√§te erforderlich ist.  An diesem Punkt stellen wir sicher, dass alles richtig angeschlossen ist und der Switch ordnungsgem√§√ü mit dem Controller interagiert.  Versuchen Sie dazu, die Daten im Register 0x01-Schalter zu lesen: <br><br><pre> <code class="bash hljs">root@wirenboard:~<span class="hljs-comment"><span class="hljs-comment"># service wb-mqtt-serial stop root@wirenboard:~# modbus_client -mrtu /dev/ttyAPP1 --debug -a142 -s1 -pnone -b19200 -a142 -t0x03</span></span></code> </pre><br>  (Eine Beschreibung des Dienstprogramms und seiner Schl√ºssel finden Sie in der Controller-Dokumentation.) <br><br>  Das Ergebnis ist wie folgt: <br><br><pre> <code class="bash hljs">Opening /dev/ttyAPP1 at 19200 bauds (N, 8, 1) [8E][03][00][64][00][01][DA][EA] Waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a confirmation... &lt;8E&gt;&lt;03&gt;&lt;02&gt;&lt;00&gt;&lt;01&gt;&lt;2C&gt;&lt;5B&gt; SUCCESS: <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> 1 of elements: Data: 0x0001</code> </pre><br>  Ein solches Ergebnis bedeutet, dass ein diskreter Wert 1 in das Register geschrieben wird. Nach dem Dr√ºcken einer der Tasten des Schalters √§ndert sich der Wert des Registers auf den entgegengesetzten Wert: <br><br><pre> <code class="bash hljs">SUCCESS: <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> 1 of elements: Data: 0x0000</code> </pre><br>  Wenn das Ergebnis wie in diesem Absatz beobachtet wird, ist alles richtig angeschlossen, der Schalter und die Steuerung verstehen sich. <br><br>  <b>Native Treiber f√ºr den Switch</b> <br><br>  Nachdem wir sichergestellt haben, dass sich Controller und Switch verstehen, ist es Zeit, eine Beschreibung der Switch-Tasten auf Software-Ebene zu geben.  Die Entwickler schlagen vor, der Datei /etc/wb-mqtt-serial.conf eine Beschreibung des verbundenen Ger√§ts hinzuzuf√ºgen oder eine benutzerdefinierte Vorlage in Form der Datei /usr/share/wb-mqtt-serial/templates/config-*.json zu erstellen <br><br>  Ich bin den zweiten Weg gegangen, meine Vorlage sieht folgenderma√üen aus: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"device_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"4-band-switch"</span></span>, <span class="hljs-string"><span class="hljs-string">"device"</span></span>: { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"4-band-switch"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"4bsw"</span></span>, <span class="hljs-string"><span class="hljs-string">"enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"channels"</span></span>: [{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"All"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x00"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Window"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x01"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Side"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x02"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Diode"</span></span>, <span class="hljs-string"><span class="hljs-string">"reg_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"holding"</span></span>, <span class="hljs-string"><span class="hljs-string">"address"</span></span>: <span class="hljs-string"><span class="hljs-string">"0x03"</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"switch"</span></span> } ] } }</code> </pre><br>  Eine detaillierte Beschreibung der oben beschriebenen Vorlage finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschreibung des Treibers <i>wb-mqtt-serial</i></a> .  Besch√§ftige dich kurz mit den Feldern: <br><br><ul><li>  "Name": "Alle" ist der Name der Schaltfl√§che.  Wenn die Vorlage richtig geschrieben ist, wird diese Schaltfl√§che auf der Registerkarte Einstellungen mit der Adresse <i>/ Ger√§te / 4bsw_142 / Steuerelemente / Alle angezeigt</i> </li><li>  "Reg_type": "holding "- Typ und Gr√∂√üe des Registers.  Der Switch verwendet "Holding" - ein 16-Bit-Register, das zum Lesen und Schreiben zur Verf√ºgung steht. </li><li>  "Adresse": "0x00" - die Adresse des Schalterregisters, aus dem die Steuerung Daten liest. </li><li>  "Typ": "Schalter" - wie der Schalter in der Weboberfl√§che angezeigt wird.  Im Fall von "Schalter" - in Form eines diskreten Schalters. </li></ul><br>  Speichern Sie die Vorlage auf dem Controller.  Danach k√∂nnen Sie im Abschnitt der Weboberfl√§che (Configs -&gt; /etc/wb-mqtt-serial.conf) ein neues Ger√§t mit dieser Vorlage hinzuf√ºgen (4-Band-Switch).  F√ºgen Sie unseren ersten Schalter hinzu und klicken Sie auf Speichern. <br><br><h4>  Die Regel, die das Relais aktiviert, wenn die Schaltertaste gedr√ºckt wird </h4><br>  Innerhalb des Statuscontrollers werden alle angeschlossenen Ger√§te durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MQTT-Nachrichten beschrieben</a> .  Ger√§te werden auch durch Senden von MQTT-Nachrichten gesteuert.  Die Clients der MQTT-Nachrichtenwarteschlange (Broker) sind sowohl die Webschnittstelle als auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Regelengine</a> . <br><br>  Aus Gr√ºnden der √úbersichtlichkeit werden wir sehen, wie die Weboberfl√§che die eingehende Nachricht verarbeitet.  Wir √∂ffnen die Registerkarte Einstellungen der Weboberfl√§che und sehen, was passiert, wenn die Taste Alle am Switch gedr√ºckt wird: Innerhalb des Switch √§ndert sich der Wert des Modbus-Registers, der <i>wb-mqtt-serial-</i> Treiber fragt den Switch ab und der 4-Band-Switch sendet gem√§√ü der <i>Ger√§tevorlage</i> eine MQTT-Nachricht Im Thema <i>/ Ger√§te / 4bsw_142 / Steuerelemente / Alle</i> - und auf der Seite Einstellungen <i>√§ndert sich</i> der Wert im Thema <i>/ Ger√§te / 4bsw_142 / Steuerelemente / Alle</i> sofort von 0 auf 1. <br><br>  Betrachten Sie den zweiten Client - die Regelengine.  Die Engine arbeitet wie die Weboberfl√§che mit der Nachrichtenwarteschlange und kann auf √Ñnderungen des Werts reagieren - hierf√ºr wird die Funktion <i>whenChanged</i> verwendet.  In meinem Fall sah die Regel folgenderma√üen aus: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   defineRule("switch_all", { whenChanged: "4bsw_142/All", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT3_R3A2"] = newValue; dev["wb-gpio"]["EXT3_R3A5"] = newValue; dev["wb-gpio"]["EXT1_R3A1"] = newValue; dev["wb-gpio"]["EXT1_R3A2"] = newValue; dev["wb-gpio"]["EXT1_R3A5"] = newValue; dev["wb-gpio"]["EXT2_R3A8"] = newValue; dev["wb-gpio"]["EXT3_R3A7"] = newValue; } }); //  defineRule("switch_window", { whenChanged: "4bsw_142/Window", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT4_ON4"] = newValue; // dev["wb-gpio"]["EXT3_R3A6"] = newValue; // dev["wb-gpio"]["EXT3_R3A7"] = newValue; } }); // defineRule("switch_side", { whenChanged: "4bsw_142/Side", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT1_R3A3"] = newValue; dev["wb-gpio"]["EXT1_R3A4"] = newValue; dev["wb-gpio"]["EXT2_R3A1"] = newValue; } }); // defineRule("switch_diode", { whenChanged: "4bsw_142/Diode", then: function(newValue, devName, cellName) { dev["wb-gpio"]["EXT2_R3A2"] = newValue; dev["wb-gpio"]["EXT2_R3A3"] = newValue; dev["wb-gpio"]["EXT3_R3A3"] = newValue; } });</span></span></code> </pre><br>  Gerne beantworte ich alle Fragen in den Kommentaren. <br><br><h3>  Marketer Notizen </h3><br><ol><li>  Es ist besser, die RS-485-Leitung mit einem KSPEVG 2x2x0,35-Kabel zu verlegen (es kostet nur 30 Rubel pro Meter) und nicht mit einem Stern, sondern mit einem Bus. </li><li>  Wir empfehlen Ihnen, bei LED-Lampen vorsichtig zu sein - ihr Anlaufstrom kann den Nennwert von 150 (!) √úberschreiten (dies wird ein separater Artikel sein) - und die leistungsstarken Relaismodule <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WB-MR6 zu betrachten</a> : Strom 16 A pro Kanal, einschlie√ülich Einschaltstrom bis 800 (!) Amp in Modifikation S. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de417093/">https://habr.com/ru/post/de417093/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de417083/index.html">Hohe Lasten der WM 2018</a></li>
<li><a href="../de417085/index.html">Browser schalten den Sound in Ihrer WebRTC-Anwendung stumm. H√∂r auf was?</a></li>
<li><a href="../de417087/index.html">HPE Digitalize 2018: Event und Live-Stream</a></li>
<li><a href="../de417089/index.html">Quantencomputer: Ein Photon, um alle zu regieren</a></li>
<li><a href="../de417091/index.html">Erstellen Sie einen Cartoon-Water-Shader f√ºr das Web. Teil 3</a></li>
<li><a href="../de417097/index.html">JavaScript-Metaprogrammierung</a></li>
<li><a href="../de417099/index.html">Wie habe ich die Standard-C ++ 11-Bibliothek geschrieben oder warum ist Boost so be√§ngstigend? Kapitel 2</a></li>
<li><a href="../de417101/index.html">Definition von Ready - Was wir vergessen haben zu erz√§hlen</a></li>
<li><a href="../de417103/index.html">Spark SQL. Ein bisschen √ºber das Abfrageoptimierungsprogramm</a></li>
<li><a href="../de417105/index.html">Drucken auf einem 3D-Drucker. Die geheimen Erfahrungen von 3Dtool</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>