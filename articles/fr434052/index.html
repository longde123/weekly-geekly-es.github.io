<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèø üïî üõéÔ∏è Conf√©rence BLACK HAT. Comment faire un t√©l√©phone espion. Partie 1 üõåüèΩ üï∫üèæ üÖ±Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentateur: Kevin McNami est directeur du Bell Labs Security Research Laboratory, qui fait partie d'Alcatel-Lucent. Sa pr√©sentation s'intitule "Comm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conf√©rence BLACK HAT. Comment faire un t√©l√©phone espion. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/434052/"> <b>Pr√©sentateur:</b> Kevin McNami est directeur du Bell Labs Security Research Laboratory, qui fait partie d'Alcatel-Lucent.  Sa pr√©sentation s'intitule "Comment fabriquer un t√©l√©phone espion", et si vous avez des questions, veuillez les conserver jusqu'√† la fin du discours afin que nous sachions qu'il nous reste suffisamment de temps pour eux. <br><br>  <b>Kevin McNami: Je</b> souhaite la bienvenue √† tous, je suis heureux de prendre la parole ici aujourd'hui.  Je vais parler de la fa√ßon de faire un bon t√©l√©phone espion, mais je pense que le principal int√©r√™t pour vous sera de savoir comment prendre ce module de t√©l√©phone espion SpyPhone et le mettre dans une application Android. <br><br><img src="https://habrastorage.org/webt/dr/hx/-2/drhx-2kmcqms3gbkq7b132fjxly.jpeg"><br><br>  Ma pr√©sentation comprendra 3 parties.  Le premier est une d√©monstration de SpyPhone en action, puis nous parlerons un peu de la conception sp√©ciale du ¬´t√©l√©phone espion¬ª.  La troisi√®me partie de la conversation sera consacr√©e √† la fa√ßon dont vous pouvez injecter le service SpyPhone dans l'application, et √† la fin j'aimerai les r√©sultats et r√©pondrai aux questions. <a name="habracut"></a><br><br>  La diapositive suivante montre comment les gens percevaient le ¬´t√©l√©phone espion¬ª.  Fondamentalement, ils pensaient qu'un tel t√©l√©phone vous permet d'espionner d'autres personnes. <br><br><img src="https://habrastorage.org/webt/hg/ak/j_/hgakj_n3t3xngdbjcz_y2qkh4oe.jpeg"><br><br>  Un t√©l√©phone espion moderne est diff√©rent; il s'agit d'un smartphone classique ex√©cutant le syst√®me d'exploitation Android.  Android est une plate-forme tr√®s flexible avec laquelle il est facile de travailler, elle est tr√®s ouverte et vous permet de faire beaucoup de choses.  Voil√† √† quoi ressemble un SpyPhone moderne.  Je pense que la m√™me chose peut √™tre faite avec les t√©l√©phones fonctionnant sous iOS, mais j'ai concentr√© mes efforts sur Android. <br><br><img src="https://habrastorage.org/webt/cc/kj/9j/cckj9juwbf-6zfxflyuldvv2kgk.jpeg"><br><br>  Auparavant, pour organiser la surveillance ext√©rieure, vous auriez besoin d'une vari√©t√© d'√©quipements, allant des magn√©tophones pour enregistrer les conversations t√©l√©phoniques √† la bande et se terminant par des voitures avec un √©quipement de surveillance secr√®te.  Aujourd'hui, vous n'avez besoin que d'un t√©l√©phone Android.  Vous utilisez un tel t√©l√©phone avec un logiciel sp√©cial install√© dessus et vous pouvez suivre la personne qui poss√®de ce t√©l√©phone.  Vous pouvez contr√¥ler ses appels t√©l√©phoniques, vous pouvez contr√¥ler son emplacement, vous pouvez m√™me envoyer des messages √† partir du t√©l√©phone de cette personne, afficher une liste de contacts, etc. <br><br><img src="https://habrastorage.org/webt/5p/yz/4m/5pyz4m9usmzfr0w0eparr6k6jj4.jpeg"><br><br>  Il s'agit d'une forme tr√®s puissante de dispositif de cyber-surveillance.  Si le t√©l√©phone d'une personne est infect√© par cette application de spyware et que cette personne l'apporte au bureau, vous pouvez suivre cette personne au travail, regarder des r√©unions d'affaires, etc.  La gestion et le contr√¥le de l'appareil espion se font via Internet.  Le module espion ne n√©cessite aucun √©quipement suppl√©mentaire sp√©cial, tout est situ√© √† l'int√©rieur du t√©l√©phone.  Lorsqu'il a quelque chose √† transmettre, il vous contacte via le site de commande et de contr√¥le et vous transmet des informations.  Plus tard, je vais vous montrer une d√©monstration de comment cela fonctionne. <br><br>  Consid√©rez maintenant les contre-mesures.  Dans l'Antiquit√©, le soi-disant ¬´c√¥ne de silence¬ª √©tait utilis√© pour emp√™cher les √©coutes.  Si quelqu'un vous espionne, vous pouvez toujours entrer dans le ¬´c√¥ne de silence¬ª et communiquer en toute libert√© avec votre interlocuteur. <br><br><img src="https://habrastorage.org/webt/vh/5y/_e/vh5y_en9esxra-bn-sze6liqtac.jpeg"><br><br>  Le ¬´c√¥ne de silence¬ª d'aujourd'hui est un peu diff√©rent.  L'entreprise pour laquelle je travaille a d√©velopp√© une technologie qui peut √™tre plac√©e sur le r√©seau et qui d√©tecte automatiquement le trafic comme la commande et le contr√¥le, qui est m√©di√©e par un t√©l√©phone Android. <br><br><img src="https://habrastorage.org/webt/kw/ac/kf/kwackfpsxr5969mwjrmcsshtpbw.jpeg"><br><br>  C'est pourquoi nous avons cr√©√© le module SpyPhone, que nous utilisons comme d√©monstration lorsque nous nous rendons chez nos clients, qui sont principalement des fournisseurs de services de communication mobile et d'Internet mobile.  Nous leur montrons un ¬´t√©l√©phone espion¬ª pour montrer qu'il y a un √©norme probl√®me de s√©curit√© dans le r√©seau mobile.  Cette menace en est encore √† ses balbutiements, mais pourrait potentiellement causer de gros d√©g√¢ts √† l'avenir.  Nous utilisons ce module pour √©duquer nos clients sur les dangers, il est donc naturel que la deuxi√®me partie de la d√©monstration soit la pr√©sentation de notre produit, qui puisse r√©sister √† ces dangers. <br><br>  Le smartphone est un appareil tr√®s puissant.  Il permet d'acc√©der √† votre emplacement, se connecte √† Internet de presque n'importe o√π, dispose d'un microphone, d'une cam√©ra, se connecte aux r√©seaux locaux via Wi-Fi, et tout cela en fait une plate-forme d'espionnage id√©ale. <br><br>  Je dirais qu'un smartphone est un outil de cyberespionnage id√©al qui peut √™tre utilis√© pour suivre l'emplacement de la victime, t√©l√©charger des informations personnelles, intercepter et envoyer des messages, enregistrer des conversations et prendre des photos √† l'insu du propri√©taire.  Dans le contexte du BYOD et de l'APT, c'est la plateforme id√©ale pour lancer des attaques internes sur les r√©seaux d'entreprises ou gouvernementaux. <br><br>  Je pense que j'en ai assez parl√©, alors passons √† la d√©monstration.  Sur la gauche, vous voyez une capture d'√©cran de l'√©cran du t√©l√©phone, qui deviendra bient√¥t un logiciel espion, c'est le t√©l√©phone que j'utilise actuellement.  Sur la droite, vous voyez la console de commande et de contr√¥le, qui sera utilis√©e par la personne qui suit ce t√©l√©phone. <br><br><img src="https://habrastorage.org/webt/_4/6a/jg/_46ajgs8j-rdxilitp23c6gtauw.jpeg"><br><br>  Nous avons donc pris le malware, le module SpyPhone, et l'avons impl√©ment√© dans une copie du jeu tr√®s populaire Angry Birds.  Ensuite, nous avons envoy√© un gars un e-mail disant qu'il pouvait t√©l√©charger ce jeu cool et y jouer.  Nous pouvons √©galement placer ce jeu infect√© sur des sites tiers, d'o√π l'utilisateur peut le t√©l√©charger.  Maintenant, je vais aller sur mon navigateur sur mon t√©l√©phone pour voir la lettre re√ßue. <br><br>  Ainsi, lorsque ce type re√ßoit la lettre, il clique sur le lien et entre dans le v√©ritable magasin d'applications pour ¬´Android¬ª sur la page avec notre jeu.  Nous avons d√©cid√© de l'appeler Very Angry Birds, car il contient le module SpyPhone. <br><br><img src="https://habrastorage.org/webt/kj/ou/aw/kjouawinr68g9gmqxjkvt4ownem.jpeg"><br><br>  Ainsi, l'utilisateur t√©l√©charge ce jeu.  Sur votre t√©l√©phone Android, lorsque vous installez l'application, il vous fournit une liste de toutes les autorisations dont il a besoin pour fonctionner. <br><br><img src="https://habrastorage.org/webt/ho/pr/6g/hopr6ggpo_asy9ahqwnolkca1fu.jpeg"><br><br>  Il indique que l'application a besoin d'acc√©der √† votre position, √† vos informations personnelles, aux communications r√©seau, au stockage de donn√©es, aux services payants et aux appels t√©l√©phoniques.  √âtant donn√© que l'utilisateur souhaite installer l'application, il ne fait g√©n√©ralement pas attention √† toutes ces autorisations, qui apparaissent constamment lors de l'installation des programmes, et clique simplement sur le bouton "Installer".  L'√©cran montre maintenant comment se d√©roule le processus d'installation de l'application.  Ensuite, nous lan√ßons l'application install√©e.  Maintenant, √† gauche, vous voyez le jeu en cours d'ex√©cution, et √† droite - les informations du site Web de commande et de contr√¥le que le smartphone est sous contr√¥le, et vous pouvez entendre les sons qui accompagnent le jeu. <br><br><img src="https://habrastorage.org/webt/uj/2l/qg/uj2lqgnuqhkbagarhwtw-79kgsi.jpeg"><br><br>  Je vais couper le son car cela m'ennuie.  Donc, notez que le jeu se joue comme d'habitude, il n'y a rien d'extraordinaire qui pourrait attirer l'attention de l'utilisateur.  Il n'y a aucune preuve que quelque chose d'√©trange arrive au t√©l√©phone. <br><br>  L'utilisateur joue, c'est tr√®s cool, mais m√™me lorsqu'il arr√™te de jouer et ferme le jeu, le module espion continuera de fonctionner en arri√®re-plan.  M√™me si vous red√©marrez le t√©l√©phone, le service SpyPhone sera red√©marr√©, maintenant il est constamment pr√©sent sur ce smartphone.  Donc, ce t√©l√©phone est infect√© par un cyberespion et est maintenant affich√© ici dans la console du site Web de commande et de contr√¥le.  Si je clique sur cette ligne, le site me donnera des informations stock√©es sur cet appareil.  Nous pouvons obtenir une carte avec l'emplacement de cet appareil - c'est Las Vegas. <br><br><img src="https://habrastorage.org/webt/pc/7n/jb/pc7njbtwgwmbhm1sm7t_raj_weg.jpeg"><br><br>  Permettez-moi de souligner qu'ici la connexion entre le t√©l√©phone et l'ordinateur ne se fait pas directement, mais via Internet √† l'aide d'un serveur Web situ√© √† Ottawa, o√π je travaille.  La seule raison pour laquelle j'ai connect√© ce t√©l√©phone avec un c√¢ble √† mon ordinateur est la n√©cessit√© de prendre des captures d'√©cran.  La console montre que d'autres t√©l√©phones fonctionnent en m√™me temps.  Voici l'un d'entre eux situ√© en Chine, vous pouvez donc cr√©er un r√©seau international de ¬´t√©l√©phones espions¬ª et les surveiller tout le temps lorsqu'ils sont en ligne. <br><br>  Alors, revenons √† notre t√©l√©phone √† Las Vegas.  Vous pouvez voir que voici l'adresse e-mail du compte du propri√©taire du t√©l√©phone, le num√©ro de t√©l√©phone, la norme de communication CDMA, le type de r√©seau, l'IMEI, le pays de l'op√©rateur mobile, son nom, l'√©tat de la carte SIM, les coordonn√©es de localisation et les contacts du propri√©taire du t√©l√©phone.  Toutes ces informations sont t√©l√©charg√©es sur le serveur de commande et de contr√¥le, et nous pouvons suivre le propri√©taire de ce t√©l√©phone 24 heures par jour, 7 jours par semaine et utiliser toutes les informations fournies par le t√©l√©phone, y compris le t√©l√©chargement de la liste de contacts de cette personne en particulier.  Cela nous donnera une liste d'autres objectifs potentiels si nous utilisons une sorte de cyber-espionnage industriel, lorsque nous voulons savoir avec qui le propri√©taire du t√©l√©phone parle et avec qui il fait affaire.  Nous pourrions utiliser cette liste de contacts pour cibler des personnes sp√©cifiques. <br><br>  On peut imaginer qu'un attaquant distribue ce jeu √† toutes les boutiques d'applications Android, et apr√®s que les gens l'aient t√©l√©charg√©, vous vous concentrez sur un employ√© d'une entreprise particuli√®re, sur sa liste de contacts, etc. <br><br>  Une autre chose que nous pouvons faire est de mettre √† jour le logiciel espion install√© et d'envoyer des messages au t√©l√©phone infect√©.  Vous pouvez l'utiliser √† d'autres fins, par exemple pour effrayer les gens avec de tels messages.  Nous pouvons acc√©der aux messages SMS et e-mail, d√©terminer l'emplacement du t√©l√©phone.  Toutes ces op√©rations sont indiqu√©es dans la partie sup√©rieure de la console de gestion du t√©l√©phone captur√©; elles sont surlign√©es en bleu.  Une autre chose qui peut √™tre fait est d'allumer l'appareil photo du t√©l√©phone, je vais essayer de le faire d√®s maintenant.  Je prends le t√©l√©phone dans mes mains et clique sur la fonction ¬´Peep¬ª dans la console de contr√¥le, cela prendra un certain temps, car vous devez prendre une photo et l'envoyer sur le site de commande et de contr√¥le.  Comme vous pouvez le voir, ma photo appara√Æt d'abord, prise avec la cam√©ra frontale, derri√®re elle se trouve une photo de cette pi√®ce, prise avec la cam√©ra arri√®re.  Ainsi, je peux photographier √† distance sur un t√©l√©phone infect√© et recevoir ces photos. <br><br>  Si vous remarquez, le jeu est toujours en cours d'ex√©cution sur l'√©cran, de sorte que la personne ne remarquera m√™me pas que la photo a √©t√© prise.  Cela se fait en arri√®re-plan √† l'insu de l'utilisateur.  Nous pouvons utiliser la m√™me technologie pour filmer des vid√©os.  La derni√®re chose que je veux d√©montrer est la fonction d'√©coute.  Donc, je dis au t√©l√©phone: "C'est un test, un, deux trois, c'est un test, un, deux, trois."  Ensuite, je clique sur le bouton "Play Audio", la connexion prend un peu de temps, et maintenant vous entendez la r√©p√©tition de mes mots. <br><br><img src="https://habrastorage.org/webt/up/3d/tj/up3dtj_py5rll1icl17ltkdhsek.jpeg"><br><br>  J'ai donc enregistr√© la conversation via le microphone du t√©l√©phone et l'ai t√©l√©charg√©e sur le site Web de commande et de contr√¥le, donc tout est plut√¥t cool.  Il s'agissait donc d'une d√©monstration de ce que la technologie SpyPhone peut faire. <br><br>  Parlons maintenant un peu de la fa√ßon dont nous avons d√©velopp√© la conception et la technologie de nos logiciels et pourquoi nous avons pris de telles d√©cisions de conception.  Je reviens aux diapositives pr√©c√©dentes. <br><br><img src="https://habrastorage.org/webt/nz/dn/fb/nzdnfbiuj4adzssaa23fhdeojwo.jpeg"><br><br>  Tout d'abord, nous voulions combiner nos logiciels malveillants avec les fonctionnalit√©s d'origine du t√©l√©phone et cr√©er un programme espion de type cheval de Troie avec acc√®s √† distance qui fonctionnerait avec un t√©l√©phone Android.  Nous avons pris comme base une application de d√©monstration appel√©e ¬´Dictionnaire interrogeable¬ª et l'avons modifi√©e afin qu'un module de spyware puisse y √™tre ins√©r√©, et l'avons impl√©ment√© comme une application r√©guli√®re pour Android. <br><br>  Autrement dit, nous avons adh√©r√© √† la conception de programmes Android originaux utilisant Java.  Nous en avions besoin pour contenir tous les composants n√©cessaires en lui-m√™me, pour fonctionner en arri√®re-plan, m√™me si l'application a √©t√© arr√™t√©e, elle a d√©marr√© lorsque le t√©l√©phone s'est charg√©.  Notre deuxi√®me t√¢che consistait √† faciliter l'int√©gration de SpyPhone dans les applications officielles.  Cela a fonctionn√© et notre logiciel malveillant n'a pas interf√©r√© avec le fonctionnement d'autres applications install√©es sur le t√©l√©phone.  En tant que commande et contr√¥le du serveur de commande et de contr√¥le, nous avons choisi le serveur Web NodJS avec transfert de donn√©es via HTTP.  Pour les commandes de contr√¥le de notre programme, nous avons utilis√© l'interface JS, et les commandes elles-m√™mes ressemblaient √† ceci: <br><br>  mise √† jour - envoyer des informations au serveur, <br>  toast - afficher un message √† l'√©cran, <br>  arr√™t - arr√™tez SpyPhone, <br>  sms - envoyer un SMS √† un contact, <br>  location - envoyer les informations de localisation du t√©l√©phone au serveur, <br>  peep - prendre une photo et l'envoyer au serveur, <br>  √©couter - enregistrer le son et l'envoyer au serveur. <br><br>  Tout cela √©tait assez facile √† programmer, car les cr√©ateurs d'Android ont fourni √† leur syst√®me un ensemble complet d'outils de d√©veloppement SDK assez puissant.  Ce kit fournit une interface pour tout ce que vous voulez.  Nous n'avons jamais d√©velopp√© de programmes Android, mais gr√¢ce √† ce SDK, nous n'avons m√™me pas eu √† apprendre quoi que ce soit et nous avons d√©velopp√© cette chose en quelques semaines. <br><br>  La diapositive suivante montre la conception initiale du dictionnaire interrogeable, sur la base de laquelle nous avons cr√©√© SpyPhone en utilisant les codes Java que vous voyez ici.  Nous avons ajout√© une partie appel√©e droidwhisper √† cette application. <br><br><img src="https://habrastorage.org/webt/x1/kj/xb/x1kjxbeuhd0hdapmjaljlqlxl2c.jpeg"><br><br>  C'est la partie que nous allions couper et coller dans une application appropri√©e plus tard.  Nous n'avions aucune exp√©rience dans la cr√©ation d'exploits sp√©ciaux qui exploiteraient les vuln√©rabilit√©s des applications, nous avons donc import√© l'API standard fournie par Android: <br><br>  Information utilisateur <br>  - importer android.accounts.Account; <br>  - importez android.accounts.AccountManager. <br>  T√©l√©phone et SMS <br>  ‚ÄìImportez android.telephony.SmsManager; <br>  ‚ÄìImportez android.telephony.TelephonyManager. <br>  Emplacement <br>  ‚ÄìImportez android.location.Location; <br>  ‚ÄìImportez android.location.LocationListener; <br>  ‚ÄìImportez android.location.LocationManager; <br>  Enregistrement de fichiers multim√©dias (audio et vid√©o) <br>  - importez android.media.MediaRecording. <br>  Appareil photo <br>  ‚ÄìImportez android.hardware.Camera; <br>  ‚ÄìImportez android.hardware.Camera.PictureCallback; <br>  ‚ÄìImportez android.hardware.Camera.PreviewCallback; <br>  ‚ÄìImportez android.hardware.Camera.Size; <br>  ‚ÄìImportez android.media.AudioManager; <br>  ‚ÄìImportez android.view.SurfaceHolder; <br>  ‚ÄìImportez android.view.SurfaceView. <br>  Internet <br>  ‚ÄìImport org.apache.http.HttpResponse; <br>  ‚ÄìImport org.apache.http.NameValuePair; <br>  ‚ÄìImport org.apache.http.client.ClientProtocolException; <br>  ‚ÄìImport org.apache.http.client.HttpClient. <br><br>  Quelqu'un a dit que l'enregistrement de vid√©os et la prise de photos lorsque le t√©l√©phone est dans la poche de l'utilisateur n'√©tait pas tr√®s bon.  Par cons√©quent, si vous voulez prendre une bonne photo, vous envoyez le SMS au propri√©taire, car nous avons son num√©ro de t√©l√©phone.  Il re√ßoit un message, tient le t√©l√©phone face √† lui pour le lire, et √† ce moment vous prenez une photo avec la cam√©ra frontale.  Si vous venez de l'appeler, il porte le t√©l√©phone √† son oreille et √† ce moment-l√†, vous pouvez prendre une photo avec la cam√©ra arri√®re. <br><br><img src="https://habrastorage.org/webt/6z/_2/gs/6z_2gsau6ryamdbty0z1ahrzdbm.jpeg"><br><br>  Faire fonctionner la cam√©ra est un peu plus compliqu√©, nous avons donc utilis√© tout un ensemble de classes, par exemple AudioManager, SurfaceHolder et similaires.  Nous devions pr√©voir de d√©sactiver temporairement le clic lorsque vous prenez une photo, afin de ne pas attirer l'attention de l'utilisateur si cette fonction est activ√©e dans les param√®tres de son appareil photo.  De plus, nous avons envisag√© que les photos ou vid√©os d'espionnage prises soient affich√©es dans la galerie du t√©l√©phone sous forme de miniatures de 1 pixel afin que l'utilisateur ne puisse pas les voir.  Nous avons donc d√ª utiliser quelques astuces pour assurer le fonctionnement discret de notre module d'espionnage.  Comme je l'ai d√©j√† remarqu√©, presque tout pour assurer la communication avec le serveur de commande et de contr√¥le est contenu dans le t√©l√©phone lui-m√™me.  Nous avons √©galement utilis√© certaines des faiblesses de s√©curit√© d'Android. <br><br>  Comme vous le savez, ces applications doivent √™tre sign√©es pour √™tre install√©es sur le t√©l√©phone, mais ce n'est pas un probl√®me, car vous pouvez utiliser n'importe quel ancien certificat pour la signature, car l'essentiel est que l'application ait un certificat, peu importe lequel.  Plus tard, j'en parlerai davantage. <br><br>  Il s'agissait donc d'une br√®ve description de la conception que nous avons utilis√©e lors de la cr√©ation de l'application.  Maintenant, je vais vous parler du processus de mise en ≈ìuvre, c'est-√†-dire de la fa√ßon dont nous avons pris notre module malveillant et l'avons ins√©r√© dans l'application. <br><br>  La premi√®re chose que nous avons faite a √©t√© de choisir le jeu Angry Birds.  Nous l'avons choisi non pas parce que c'est un tr√®s bon jeu, mais √† cause de sa popularit√©.  Notre module SpyPhone peut √™tre entr√© dans n'importe quelle application.  Tout d'abord, nous avons besoin d'une copie du fichier .apk d'origine.  Il s'agit d'une archive contenant tous les composants de l'application.  A l'int√©rieur du fichier d'application se trouve du code Java, ou plut√¥t pas tout √† fait Java - c'est le code de la machine virtuelle Dalvik.  Ce code peut √™tre remplac√© par un autre contenu, c'est ce qu'on appelle une vuln√©rabilit√© de ¬´cl√© principale¬ª.  Donc, nous devons ouvrir ce fichier .apk et le d√©monter, c'est-√†-dire avoir une liste de tous les composants √† d√©monter. <br>  Donc, tout d'abord, nous extrayons tous les composants de l'application Angry Birds 2000. <br><br><img src="https://habrastorage.org/webt/jn/-q/hr/jn-qhrdpn4wnuagyq5qc9e3ijhu.jpeg"><br><br>  Ensuite, nous ins√©rons notre exemple de r√©pertoire / android / droidwhisper dans le r√©pertoire smali, et c'est dans le dernier dossier droidwhisper que se trouvent les fichiers d'application du dictionnaire Searchable modifi√©s contenant notre module d'espionnage. <br><br><img src="https://habrastorage.org/webt/yw/ia/tz/ywiatzuo8p6m4ljxd-w62lqbkz4.jpeg"><br><br>  Nous avons t√©l√©charg√© le jeu Angry Birds sur Google Play Market et en avons fait une copie.  La prochaine chose qui nous inqui√®te, ce sont les cl√©s de signature.  Vous voyez tous ces fichiers dans notre r√©pertoire appel√© inject. <br><br>  Dans le processus de d√©montage, nous avons utilis√© le programme Apk_tools, un outil de gestion des fichiers .apk.  Maintenant, en utilisant la ligne de commande, je montre comment nous avons commenc√© √† d√©monter Angry Birds. <br><br><img src="https://habrastorage.org/webt/lr/nl/ez/lrnlezy_e4ablfcgfp3akq8oyrw.jpeg"><br><br>  Ensuite, nous avons proc√©d√© directement au d√©montage de l'application.  Nous avons cr√©√© le catalogue Angry Birds, o√π nous avons ins√©r√© tous les composants de l'application.  Comme il s'agit d'une d√©monstration, vous devez attendre un peu jusqu'√† la fin du processus de d√©montage.  Donc, vous voyez une pl√©thore de r√©pertoires, le dossier des actifs est situ√© en premier, des choses comme les sons sont dedans, puis il y a des dossiers de ressources, des biblioth√®ques lib, mais la cl√© pour nous est le r√©pertoire smali, qui contient le code et le format du langage d'assemblage. <br><br>  23:00 min <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conf√©rence BLACK HAT.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment faire un t√©l√©phone espion.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2e partie</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/h98KtUgUOsg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en janvier gratuitement</b> en payant pour une p√©riode de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV √† partir de 249 $</a> aux Pays-Bas et aux √âtats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434052/">https://habr.com/ru/post/fr434052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434040/index.html">Recueil universitaire ITMO: parler des projets universitaires, des succ√®s et des r√©alisations de nos dipl√¥m√©s</a></li>
<li><a href="../fr434044/index.html">Authentification √† deux facteurs (2FA) r√©sistante au phishing</a></li>
<li><a href="../fr434046/index.html">GLSL: Centre ou Centroid? Ou quand les shaders attaquent</a></li>
<li><a href="../fr434048/index.html">Facebook d√©veloppe une crypto-monnaie pour WhatsApp</a></li>
<li><a href="../fr434050/index.html">Java Enterprise vs Android en 2019 - que choisir pour un d√©butant?</a></li>
<li><a href="../fr434054/index.html">Conf√©rence BLACK HAT. Comment faire un t√©l√©phone espion. 2e partie</a></li>
<li><a href="../fr434056/index.html">Vous devez savoir o√π mettre le z√©ro</a></li>
<li><a href="../fr434058/index.html">La pr√©sentation technique du nouveau StarsX / BFS de SpaceX est pr√©vue pour mars-avril 2019.</a></li>
<li><a href="../fr434060/index.html">Vaut-il la peine d'enregistrer la longueur d'un tableau dans une variable locale en C #</a></li>
<li><a href="../fr434062/index.html">Amazon a envoy√© 1700 audio utilisateur Alexa √† une personne al√©atoire</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>