<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçü§ù‚Äçüë®üèº üßïüèº üöÑ Controlador de carga MPPT em STM32F334C8T6 üåì ü§ï üö£üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os coment√°rios nos meus artigos anteriores repetidamente levantaram a quest√£o bastante razo√°vel: "Por que fazer conversores dc / dc em um microcontrol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Controlador de carga MPPT em STM32F334C8T6</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454024/"><p>  Os coment√°rios nos meus artigos anteriores repetidamente levantaram a quest√£o bastante razo√°vel: <em>"Por que fazer conversores dc / dc em um microcontrolador quando existem produtos prontos?"</em>  e, como resposta, mencionei constantemente, como o exemplo mais impressionante, um controlador de carregamento com algoritmo MPPT.  Mas dizer uma coisa e mostrar ... √© muito mais interessante e claro, ent√£o hoje vou falar sobre meu pequeno projeto lento de um controlador desse tipo. </p><br><p>  O projeto do controlador est√° aberto, todos os arquivos de origem est√£o dispon√≠veis no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github</a> .  O controlador em si √© bastante simples de implementar, √© constru√≠do com base na topologia do buck, usa os componentes dispon√≠veis e tudo isso fornece boa repetibilidade, mesmo sem muito conhecimento.  O layout dos conectores e componentes foi projetado para que esse controlador possa ser usado como uma placa de depura√ß√£o para o estudo da eletr√¥nica de pot√™ncia e como um dispositivo final, resta apenas justific√°-lo. </p><br><p><img src="https://habrastorage.org/webt/m9/jz/zv/m9jzzv8udvu62hfujno-cwyeerg.jpeg" alt="Fotos de resson√¢ncia magn√©tica"></p><a name="habracut"></a><br><h1 id="glava-1-chto-takoe-algoritm-mppt-i-zachem-on-nuzhen">  Cap√≠tulo 1. O que √© o algoritmo MPPT e por que √© necess√°rio </h1><br><p>  O pr√≥prio MPPT √© o processo de encontrar o ponto de pot√™ncia m√°xima de um painel solar.  A presen√ßa desse algoritmo no controlador permite, sob certas condi√ß√µes, aumentar significativamente a efici√™ncia do uso de pain√©is solares.  Quando um fabricante grava energia no painel, por exemplo, 100 ... 200 ... 250 ... 320 W, significa a pot√™ncia nominal do painel solar em um n√≠vel de insola√ß√£o de 1000 W / m <sup>2</sup> .  Obviamente, os fabricantes n√£o levam os pain√©is para fora e n√£o esperam pelas condi√ß√µes clim√°ticas ideais; portanto, esse valor √© aceito como padr√£o e √© "gerado" na bancada do laborat√≥rio. </p><br><p>  Em condi√ß√µes reais, com c√©u claro, o n√≠vel m√°ximo de insola√ß√£o varia de 250 W / m <sup>2</sup> em algum lugar da Noruega a 900-1000 W / m <sup>2</sup> no norte da √Åfrica.  Segue-se que no norte o painel solar n√£o distribuir√° sua energia declarada, mas na √Åfrica √© f√°cil.  MAS ... Assim que as nuvens aparecem no c√©u que obscurecem o painel solar, o n√≠vel de insola√ß√£o diminui.  Lembre-se do clima do √∫ltimo m√™s, quantos dias ensolarados ideais voc√™ viu?  Se voc√™ √© de Krasnodar, ent√£o talvez muito, mas os habitantes da faixa intermedi√°ria de nuvens s√£o definitivamente mais. </p><br><p>  Na verdade, qual √© o problema ... Com uma diminui√ß√£o na ilumina√ß√£o do painel solar, a localiza√ß√£o do ponto de pot√™ncia m√°xima (TMM) no CVC do painel solar real muda.  Agora vamos descobrir o que √© TMM ... Para isso, pegamos um painel solar com a pot√™ncia declarada de 200 W (eu tenho Delta BST200-24P) e removemos dele a caracter√≠stica de tens√£o de corrente (I-V) em um n√≠vel de insola√ß√£o de 1000 W / m <sup>2</sup> : </p><br><p><img src="https://habrastorage.org/webt/19/of/fo/19offomrype-rernndjj3hb2wqm.png" alt="VAC do painel solar"></p><br><p><img src="https://habrastorage.org/webt/qz/ul/97/qzul97qjoj_0vwksddogizi9wkk.jpeg" alt="Painel solar TTX"></p><br><p>  Se voc√™ olhar para o gr√°fico de pot√™ncia, ele mostra claramente o pico em que o painel fornece a m√°xima pot√™ncia poss√≠vel - este √© o TMM.  Al√©m disso, se voc√™ abaixar a linha a partir deste ponto, ele cruzar√° o CVC - as coordenadas deste ponto s√£o o pr√≥prio resultado que voc√™ precisa encontrar.  Simplificando: <strong>"MPPT √© o processo de encontrar um ponto na caracter√≠stica I-V no qual o produto de corrente e tens√£o tem um valor m√°ximo"</strong> </p><br><p>  Al√©m disso, vale a pena prestar aten√ß√£o que o painel solar pode dar um pouco mais, isso √© normal, porque  sua efic√°cia depende n√£o apenas do n√≠vel de insola√ß√£o, mas tamb√©m da temperatura.  Se voc√™ colocar o painel ao sol, depois de algumas horas ele esquentar√° bastante e a energia cair√° cerca de 10%. </p><br><p>  Agora vamos descobrir o que exatamente o controlador de carregamento far√° e por que ele precisa de resson√¢ncia magn√©tica.  Como mencionado anteriormente, o n√≠vel de insola√ß√£o mudar√° significativamente durante a opera√ß√£o: nuvens, tempo nublado, amanhecer e p√¥r do sol, respectivamente, e a caracter√≠stica I-V do painel solar tamb√©m mudar√°: </p><br><p><img src="https://habrastorage.org/webt/um/ll/w_/umllw__pu-2_11x5p3kdytfbjqm.png" alt="CVC de insola√ß√£o"></p><br><p>  O gr√°fico mostra a caracter√≠stica I-V para 4 casos: 1000, 800, 600 e 400 W / m <sup>2</sup> e, portanto, para cada caso, teremos nosso pr√≥prio ponto na caracter√≠stica I-V, onde o produto de corrente e tens√£o ter√° um valor m√°ximo.  <strong>A tarefa do controlador de carregamento com MPPT √© procurar o ponto de pot√™ncia m√°ximo para condi√ß√µes clim√°ticas espec√≠ficas.</strong>  Por exemplo, voc√™ mora em algum lugar de Voronezh, possui calor e muita energia solar, encontra TMM e aproveita ao m√°ximo a energia, mas ap√≥s 15 minutos uma nuvem subiu acima dos pain√©is e fechou parcialmente os pain√©is e o valor da insola√ß√£o mudou e, portanto, a caracter√≠stica I-V mudou pain√©is.  Para que o controlador de carregamento possa se adaptar √†s novas condi√ß√µes, ele precisa, com uma certa frequ√™ncia, por exemplo, uma vez a cada 5 minutos, executar c√°lculos e procurar TMM para um novo CVC. </p><br><p>  Existem muitos algoritmos de pesquisa no TMM, variando dos mais simples "0,8 * U <sub>xx</sub> " a v√°rios algoritmos de varredura com redes neurais, mas descreverei em mais detalhes sobre os algoritmos e sua implementa√ß√£o no c√≥digo em um artigo separado.  Espero que voc√™ entenda o que √© TMM e por que estamos procurando; agora voc√™ pode ir diretamente para a gl√¢ndula. </p><br><h1 id="glava-2-tehnicheskie-harakteristiki-i-funkcional-kontrollera">  Cap√≠tulo 2. Especifica√ß√µes e Funcionalidade do Controlador </h1><br><p>  Agora √© necess√°rio decidir o que o controlador deve fornecer a funcionalidade necess√°ria.  Em primeiro lugar, o controlador carrega a bateria e, portanto, √© necess√°rio implementar o controle CC / CV (estabiliza√ß√£o de corrente e tens√£o) na sa√≠da e, para isso, √© necess√°rio medir a corrente e a tens√£o na sa√≠da.  Em segundo lugar, para procurar TMM, √© necess√°rio medir a caracter√≠stica I-V do painel solar, o que significa que √© necess√°rio medir a corrente e a tens√£o na entrada.  Em terceiro lugar, deve haver uma redu√ß√£o de tens√£o CC / CC, que reduzir√° a tens√£o de entrada para 12 ou 24V; nesse caso, haver√° um retorno s√≠ncrono.  Tudo isso permitir√° que voc√™ implemente a funcionalidade b√°sica do dispositivo, como resultado, o diagrama funcional ficar√° assim: </p><br><p><img src="https://habrastorage.org/webt/kr/eu/e0/kreue0025-em-j32uy7zfzqo2gw.png" alt="Diagrama funcional"></p><br><p>  Como voc√™ pode ver, n√£o h√° nada complicado, o circuito √© muito semelhante ao exemplo deste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> e as √∫nicas diferen√ßas est√£o nos circuitos de feedback adicionais para implementar o algoritmo de busca TMM e o processo de carregamento.  Al√©m disso, √© necess√°rio implementar prote√ß√£o contra superaquecimento, atrav√©s de correntes, adicionar algumas interfaces para se comunicar com o mundo exterior e atualizar convenientemente o firmware. </p><br><h5 id="tehnicheskie-harakteristiki">  Especifica√ß√µes: </h5><br><ul><li>  Tens√£o de entrada: 15 ... 60V </li><li>  Tens√£o de sa√≠da: 12 / 24V </li><li>  Corrente nominal de sa√≠da: 20A </li><li>  Algoritmos de resson√¢ncia magn√©tica: Sim </li><li>  Frequ√™ncia de convers√£o: 100 kHz </li><li>  Prote√ß√£o contra superaquecimento: Sim </li><li>  Atrav√©s da prote√ß√£o atual: Sim </li><li>  Prote√ß√£o da bateria: OVP e OCP </li><li>  Interfaces: USB, Modbus </li><li>  Recurso: pelo menos 50.000 horas </li><li>  Dimens√µes totais: 1109020 mm </li></ul><br><p>  N√£o h√° detalhes especiais nesta solu√ß√£o, o principal vi√©s √© o aumento da confiabilidade, a efic√°cia dos algoritmos TMM e a manuten√ß√£o de um custo adequado do controlador.  Das comodidades, foi decidido colocar USB isolado galvanicamente para configurar e piscar o microcontrolador de controle + ele pode ser usado para depura√ß√£o se voc√™ n√£o gostar do SWO.  Al√©m disso, para a implementa√ß√£o do controle remoto e monitoramento, foi instalado o RS-485, que √© confi√°vel, barato de implementar e permite organizar a comunica√ß√£o a uma dist√¢ncia de 1000 metros.  De wi-fi e outras coisas, o r√°dio recusou imediatamente, porque  o controlador geralmente √© operado em um painel de metal e como op√ß√£o em um edif√≠cio de concreto armado. </p><br><h1 id="glava-3-vybor-komponentov">  Cap√≠tulo 3. Sele√ß√£o de Componentes </h1><br><p>  No KDPV, √© vis√≠vel que o dispositivo consiste em duas placas de circuito impresso: m√≥dulo de controle de 4 camadas e a placa principal de 2 camadas.  Os atentos podem perceber que o m√≥dulo de controle √© semelhante √† solu√ß√£o do √∫ltimo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> , apenas completamente redesenhado.  De fato, depois de testar a vers√£o anterior do <em>painel de controle</em> e depois das discuss√µes nos coment√°rios, foi decidido fazer v√°rias altera√ß√µes globais: </p><br><ul><li>  Recusa de instala√ß√£o vertical no conector e a transi√ß√£o para horizontal.  Isso nos permitiu resolver o problema com o conector e dispensar os PLSs normais de 2,54 mm, al√©m de reduzir significativamente a altura do dispositivo.  Com a vers√£o vertical, a altura do controlador seria de 60 mm, e n√£o 20, e haveria uma grande chance de interromper o painel de controle.  Agora, ele n√£o se destaca contra os outros componentes e ainda ocupa pouco espa√ßo; </li><li>  Dimens√µes da placa reduzidas para 90x35 mm; </li><li>  O controlador STM32F334R8T6 foi substitu√≠do por um STM32F334C8T6, mais compacto e mais barato.  Essa substitui√ß√£o tamb√©m levou a uma diminui√ß√£o no n√∫mero de canais para controlar a meia ponte de 5 para 4.  Como a pr√°tica demonstrou, este controlador n√£o assume o controle de uma s√≥ vez por 5 meias-pontes, a menos que algoritmos muito simples.  Com base nisso, foi decidido abandonar o pacote LQFP-64 em favor do LQFP-48; </li><li>  Adicionado USB isolado galvanicamente, ou mais precisamente, a ponte USB-UART, porque  o microcontrolador em si n√£o possui uma interface de hardware USB; </li><li>  Removido o chip PHY para RS-485 do painel de controle, conforme  nem todo mundo precisa e nem sempre, mas para seu poss√≠vel uso, um UART e um gpio adicional para controle de recep√ß√£o / transmiss√£o s√£o enviados para o conector.  Tamb√©m agora, na placa principal, voc√™ pode colocar PHY galvanicamente isolado e n√£o ficar vinculado √† minha decis√£o; </li><li>  Al√©m da interface SWD, foi decidido enviar SWO para o conector de depura√ß√£o para uma depura√ß√£o mais conveniente do programa. </li></ul><br><p><img src="https://habrastorage.org/webt/bz/tw/cd/bztwcd9f2vlp49nv4ajjzq5pux4.jpeg" alt="Conselho de administra√ß√£o"></p><br><p>  Agora, vamos √† sele√ß√£o de componentes para a parte principal (de pot√™ncia) do conversor.  Na minha hist√≥ria anterior sobre a topologia Buck, falei sobre a escolha de componentes de pot√™ncia (transistores, capacitores, indutor) e o m√©todo de calcular suas classifica√ß√µes.  Hoje eu gostaria de falar um pouco mais sobre componentes igualmente importantes, a saber, sobre o driver de gerenciamento de teclas de for√ßa, sensores de corrente e muito mais. </p><br><h5 id="datchik-toka">  Sensor de corrente </h5><br><p>  Para controlar a carga da bateria e medir a caracter√≠stica de tens√£o de corrente do painel solar, √© necess√°rio medir uma corrente direta na faixa de 0 a 20A.  N√£o existem muitas op√ß√µes para medir corrente cont√≠nua; os m√©todos mais eficazes e mais simples s√£o um desvio de corrente e um sensor de efeito Hall.  Na primeira vers√£o, tentei um monte de "shunt + INA194", a op√ß√£o geralmente est√° funcionando, mas o monitor em si era bastante barulhento e havia um problema ao medir correntes menores que 3-4A.  O problema foi resolvido aumentando o valor nominal da deriva√ß√£o e o filtro digital, mas a pot√™ncia liberada na deriva√ß√£o na forma de calor aumentou, o que eu n√£o queria muito. </p><br><p>  Inicialmente, joguei a op√ß√£o com o uso de sensores Hall imediatamente, a saber, a s√©rie ACS (por exemplo, ACS758 ou ACS711), porque  Eu j√° tentei aplic√°-los no passado, mas eles mentiram muito e seu alcance de medi√ß√£o √© baixo.  √â verdade que, em uma das discuss√µes, um homem falou sobre a experi√™ncia bem-sucedida do uso desses sensores, descobriu-se que s√©ries relativamente novas pararam de responder √† menor interfer√™ncia, o principal √© que n√£o havia nada de ferro ou algo que pudesse ser magnetizado perto deles.  Preciso medir a corrente direta em um sistema em que a taxa de mudan√ßa de corrente n√£o seja alta e, portanto, uma banda de 100 kHz √© suficiente.  Com base na simplicidade e pre√ßo da solu√ß√£o, na segunda vers√£o do controlador MPPT, instalei o ACS713ELCTR-30A.  O Allegro possui duas vers√µes de sensores - CC e CC / CA, n√£o preciso medir a altera√ß√£o e, portanto, a escolha √© √≥bvia a favor da CC, que tamb√©m possui um grande valor de "volts por ampere".  Isso possibilitou medir com precis√£o n√£o apenas grandes correntes, mas tamb√©m pequenas no n√≠vel de 0,3 ... 0,5A com um erro real de ¬± 5%.  O circuito para ligar este sensor √© extremamente simples: </p><br><p><img src="https://habrastorage.org/webt/ep/-r/r2/ep-rr2vao5uk4rxhnpkxcibhgos.png" alt="Circuito do sensor de corrente"></p><br><p>  A inclus√£o √© padr√£o, n√£o h√° m√°gica no circuito, a √∫nica coisa que precisa ser feita √© "coordenar" a faixa de sa√≠da do sensor de 0 ... 5V com o que ele pode medir o ADC do microcontrolador STM32, ou seja, com a faixa de 0 ... 3,3V.  O sensor possui sa√≠da de tens√£o, √© linear e um aumento na tens√£o de sa√≠da em 133 mV significa um aumento na corrente que flui atrav√©s do sensor em 1A.  Com base nisso, a tens√£o m√≠nima de sa√≠da √© 0V e a m√°xima 30A * 133 mV / A = 3,99V.  Teoricamente, o divisor de tens√£o n√£o p√¥de ser configurado, porque  a corrente m√°xima √© de apenas 20A e, portanto, a tens√£o de sa√≠da estar√° dentro de 2,66V e n√£o amea√ßa a entrada ADC de forma alguma, mas √© melhor jogar com seguran√ßa.  Talvez ap√≥s o teste e uma interrup√ß√£o prolongada do dispositivo, eu ainda remova o divisor e coloquei um seguidor de tens√£o no amplificador operacional. </p><br><h5 id="drayver-upravleniya-zatvorami-tranzistorov">  Driver da porta do transistor </h5><br><p>  Mesmo no est√°gio da id√©ia, decidi abandonar imediatamente o isolamento galv√¢nico completo do circuito de controle do circuito de pot√™ncia, √© banal caro, embora elimine a interfer√™ncia e proteja a parte digital.  A introdu√ß√£o do isolamento galv√¢nico de 2 tens√µes e um driver aumentaria o pre√ßo do conversor em 40%.  Portanto, tive que recusar meus drivers favoritos da s√©rie Infineon 1ED / 1EDI e escolher algo decente com o poder de bootstrap para a chave superior, minha escolha caiu em uma solu√ß√£o relativamente nova - NCP5183DR2G.  O driver provou ser muito est√°vel em opera√ß√£o e suficiente para controlar um par de mosfets a uma frequ√™ncia de 100 kHz.  Eu encontrei um menos nele - a falta de uma entrada separada, por exemplo, ShutDown ou Enable para desligar o driver em caso de acidente; portanto, para implementar prote√ß√£o, voc√™ precisa instalar uma l√≥gica discreta adicional ou usar a entrada de hardware FAULT no pr√≥prio microcontrolador STM32F334.  Eu escolhi a segunda op√ß√£o e at√© agora ela n√£o me falhou, embora inicialmente eu estivesse c√©tico sobre a confiabilidade de uma solu√ß√£o desse tipo.  O circuito de controle do transistor √© assim: </p><br><p><img src="https://habrastorage.org/webt/lb/ga/kd/lbgakdmt_teki4jkembec5gwgwe.png" alt="Circuito do motorista"></p><br><p>  A solu√ß√£o √© simples e clara, a √∫nica coisa que vou acrescentar √© que o capacitor C1 deve ser cer√¢mico com um diel√©trico X7R e, de prefer√™ncia, n√£o o mais podre, o Yageo / Murata / Samsung original √© suficiente para todos.  O restante do p√≥ solto pode ser uma marca mais simples.  A prop√≥sito, voc√™ pode ler sobre a "agonia de escolha" do valor nominal dos resistores de porta R1 e R5 neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> . </p><br><h5 id="vyhodnye-kondensatory">  Capacitores de sa√≠da </h5><br><p>  Afirmei acima a prioridade da confiabilidade e dos recursos do conversor e, portanto, √© necess√°rio eliminar todas as fraquezas.  Na minha opini√£o, existe apenas um ponto fraco nos modernos conversores dc / dc - capacitores eletrol√≠ticos, que de alguma forma "secam" e se degradam depois de um tempo, o que primeiro leva a um aumento na ondula√ß√£o e superaquecimento e depois √† falha do conversor. </p><br><p>  No meu controlador de carregamento, existem dois locais: capacitores na entrada e na sa√≠da.  Foi decidido substituir os eletr√≥litos de sa√≠da por capacitores de pol√≠mero de estado s√≥lido (como em suas placas de v√≠deo), que s√£o muito mais f√°ceis de realizar trabalhos em correntes de dezenas de amperes e t√™m um recurso em uma ordem de magnitude superior √† do capacitor eletrol√≠tico de mais alta qualidade.  Eles t√™m um menos - o pre√ßo, esse prazer da Panasonic custa US $ 2 / pc, mas vale a pena. </p><br><p>  Na entrada do dispositivo, a tens√£o pode chegar a 60V, o que significa que os capacitores de pol√≠mero de estado s√≥lido n√£o podem mais ser fornecidos, eles simplesmente n√£o existem, no m√°ximo 35V.  √â verdade que existem op√ß√µes h√≠bridas, este √© um elo intermedi√°rio entre o eletr√≥lito e um capacitor de estado s√≥lido, eles s√£o de at√© 100V.  Para esse tipo de capacitor, o eletr√≥lito l√≠quido √© substitu√≠do por um pasta, que permite v√°rias vezes aumentar seu recurso. </p><br><p><img src="https://habrastorage.org/webt/gl/tf/wd/gltfwd1e_9rxm2hpssaf225lico.jpeg" alt="Fotos de resson√¢ncia magn√©tica"></p><br><p>  Os mais atentos podem perceber que os capacitores de estado s√≥lido de sa√≠da s√£o diferentes em duas placas.  Acho que todo mundo "apreciou" o custo de um capacitor de 120 uF 35V, o eletr√≥lito de Wurth custa 10 vezes mais barato.  Com base nisso, decidi fazer testes para comprar uma alternativa aos capacitores 35SEK330M da Panasonic.  Bem, como alternativa ... existe uma empresa asi√°tica <em>Lelon</em> , que faz um anal√≥gico completo (em suas palavras) de capacitores Panasonic.  Coloquei o original em uma placa, em outra anal√≥gica, os pr√≥prios dispositivos j√° foram testados por cerca de um m√™s e at√© que a diferen√ßa seja realmente notada, vamos ver qual ser√° o recurso final, mas para aqueles que querem reduzir o pre√ßo 5 vezes para US $ 0,4 / pe√ßa, aconselho que voc√™ pense sobre isso. </p><br><h5 id="obschie-svedeniya-po-komponentam">  Vis√£o geral do componente </h5><br><p>  Eu gostaria de dizer separadamente sobre a pol√≠tica de escolha de componentes e solu√ß√µes.  Como a id√©ia envolve o uso desse controlador n√£o apenas para estudar em cima da mesa, mas tamb√©m para trabalhar ‚Äúem campo‚Äù, foi decidido usar apenas fabricantes confi√°veis ‚Äã‚Äãe n√£o usar componentes chineses (exceto a experi√™ncia com <em>Lelon</em> ) e v√°rios artesanatos com aliexpress.  Na minha vers√£o e na BOM, aparecem originais com digikey de fabricantes como Infineon, TI, ON, ST, Yageo, Bourns e outros.  Em princ√≠pio, ningu√©m pro√≠be que voc√™ facilite os componentes, com o mesmo aliexpress, mas esteja preparado para reduzir a confiabilidade e a efici√™ncia do controlador. </p><br><h1 id="glava-4-o-proekte-i-ishodnikah">  Cap√≠tulo 4. Sobre o Projeto e os c√≥digos-fonte </h1><br><p>  Eu j√° escrevi sobre componentes de pot√™ncia e m√©todos de c√°lculo no meu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo sobre buck</a> , voc√™ pode ler aqui.  Vou apenas dar os resultados que obtive: </p><br><ul><li><p>  A indut√¢ncia do indutor de pot√™ncia √© de 30 ŒºH, enrolada em um anel R32 / 20/10 de material Kool Mu.  O anel √© francamente selecionado com uma margem, porque  experimentos com aumento de frequ√™ncia e corrente foram planejados; </p><br></li><li><p>  A capacit√¢ncia dos capacitores de sa√≠da √© de cerca de 300 microfarads; na realidade, a capacit√¢ncia √© significativamente maior, o que reduz a ondula√ß√£o da sa√≠da.  Tentei trabalhar com 3 capacitores, est√° tudo bem, por isso, se voc√™ decidir repeti-lo, fique √† vontade para deixar metade dos assentos dos capacitores de sa√≠da vazios.  Em princ√≠pio, voc√™ pode tentar soldar 6 capacitores eletrol√≠ticos comuns, se n√£o for poss√≠vel comprar capacitores de estado s√≥lido.  De acordo com minhas suposi√ß√µes, o controlador funcionar√° sem problemas; </p><br></li><li><p>  Transistores ( <em>IPD053N08N3GATMA1</em> ) Escolhi aqueles que estavam em minhas a√ß√µes e eram f√°ceis de comprar.  Se voc√™ j√° possui as chaves ou n√£o pode comprar as que eu tenho, escolha um transistor com uma resist√™ncia de canal n√£o superior a 8 mOhm e um port√£o n√£o superior a 100 nC.            . </p><br></li></ul><br><p>     ,     github,        PDF: </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a> </li></ul><br><p>      Altium Designer 19,       Curcuit Studio.  ,         ,     PDF  Gerber-,             . </p><br><p>    ‚Ä¶     ""             github,         ,          .          dc/dc ,    -, -, -,  ,        . </p><br><h1 id="zaklyuchenie">  Conclus√£o </h1><br><p>       , ..     ,   , ,           .1         .                ‚Äî   10 ,   HIN  LIN   (GND).       ,     ""    . </p><br><p>      PCBway      ,       .     ,     , <del>   </del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Seu suporte ser√° gasto em hardware e isso resultar√° em algum artigo interessante. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamb√©m tenho 2 conjuntos de placas de circuito impresso, se algu√©m quiser montar um controlador, darei gratuitamente a boas m√£os. </font><font style="vertical-align: inherit;">Voc√™ s√≥ precisa coletar e, se desejar, me escrever seus coment√°rios e sugest√µes. </font><font style="vertical-align: inherit;">Aqueles que desejam escrever em um pessoal.</font></font></p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projetos Github</font></font></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454024/">https://habr.com/ru/post/pt454024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454006/index.html">Sobre TI sem v√≠nculos: promo√ß√µes, reten√ß√£o e rotatividade em empresas da CEI e EUA</a></li>
<li><a href="../pt454010/index.html">Educa√ß√£o superior e continuada em TI: resultados do estudo My Circle</a></li>
<li><a href="../pt454012/index.html">O fim da era dos dispositivos de reparo. Como Apple e Amazon limpam antigos comerciantes de eletr√¥nicos</a></li>
<li><a href="../pt454016/index.html">3CX v16 Atualiza√ß√£o 1, aplicativo 3CX para iOS Beta e a nova vers√£o 3CX Call Flow Designer</a></li>
<li><a href="../pt454018/index.html">iOS Digest No. 6 (17 a 30 de maio)</a></li>
<li><a href="../pt454028/index.html">Esbo√ßos com PHP R√∫ssia 2019: c√≥digo limpo, magia negra</a></li>
<li><a href="../pt454030/index.html">Odigest: interessante para designers da semana</a></li>
<li><a href="../pt454032/index.html">Roteador e dados passando a arquitetura Clean Swift</a></li>
<li><a href="../pt454034/index.html">Primeiro Modelo: Conjunto de Dados Fashion MNIST</a></li>
<li><a href="../pt454036/index.html">6 maneiras de ir para o inferno de solu√ß√µes prontas e diminuir um milh√£o ou dois</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>