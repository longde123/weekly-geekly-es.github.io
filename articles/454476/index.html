<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨 😶 🌕 Mejores prácticas Node.js - Consejos de estructura del proyecto 🍂 👉🏾 🎅🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Les presento la traducción adaptada del primer capítulo de " Node.js Best Practices " de Yoni Goldberg. Una selección de recomendaciones en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mejores prácticas Node.js - Consejos de estructura del proyecto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454476/"><img src="https://habrastorage.org/webt/1s/eu/vv/1seuvv9zdxaimyzdcixzoolp1li.png"><br>  Hola Habr!  Les presento la traducción adaptada del primer capítulo de " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Node.js Best Practices</a> " de Yoni Goldberg.  Una selección de recomendaciones en Node.js se publica en github, tiene casi 30 toneladas de estrellas, pero hasta ahora no se ha mencionado en Habré.  Supongo que esta información será útil, al menos para principiantes. <br><a name="habracut"></a><br><h2>  1. Consejos de estructura del proyecto </h2><br><h3>  1.1 Estructura tu proyecto por componente </h3><br>  El peor error de las aplicaciones grandes es la arquitectura monolítica en forma de una gran base de código con una gran cantidad de dependencias (código de espagueti), esta estructura ralentiza enormemente el desarrollo, especialmente la introducción de nuevas funciones.  Consejo: separe su código en componentes separados, para cada componente, seleccione su propia carpeta para los módulos de componentes.  Es importante que cada módulo siga siendo pequeño y simple.  En la sección "Detalles", puede ver ejemplos de la estructura correcta de los proyectos. <br><br>  <b>De lo contrario:</b> será difícil para los desarrolladores desarrollar el producto: agregar nuevas funcionalidades y realizar cambios en el código será lento y tendrá una alta probabilidad de romper otros componentes dependientes.  Se cree que si las unidades de negocio no están divididas, puede haber problemas con el escalado de la aplicación. <br><br><div class="spoiler">  <b class="spoiler_title">Detalles</b> <div class="spoiler_text">  <b>Explicación de un párrafo</b> <br><br>  Para aplicaciones de tamaño mediano y superior, los monolitos son realmente malos: un programa grande con muchas dependencias es simplemente difícil de entender y, a menudo, conduce a un código de espagueti.  Incluso los programadores experimentados que saben cómo "preparar los módulos" adecuadamente gastan mucho esfuerzo en el diseño arquitectónico y tratan de evaluar cuidadosamente las consecuencias de cada cambio en las relaciones entre los objetos.  La mejor opción es una arquitectura basada en un conjunto de programas de componentes pequeños: divida el programa en componentes separados que no compartan sus archivos con nadie, cada componente debe consistir en una pequeña cantidad de módulos (por ejemplo, módulos: API, servicio, acceso a la base de datos, pruebas etc.), de modo que la estructura y composición del componente son obvias.  Algunos pueden llamar a esta arquitectura "microservicio", pero es importante comprender que los microservicios no son una especificación que debe seguir, sino más bien un conjunto de algunos principios.  A petición suya, puede adoptar tanto estos principios individuales como todos los principios de la arquitectura de microservicios.  Ambos métodos son buenos si mantiene baja la complejidad del código. <br><br>  Lo menos que tiene que hacer es definir los límites entre los componentes: asignar una carpeta en la raíz de su proyecto para cada uno de ellos y hacerlos independientes.  El acceso a la funcionalidad del componente debe implementarse solo a través de una interfaz pública o API.  Esta es la base para mantener la simplicidad de sus componentes, evitar el "infierno de dependencias" y permitir que su aplicación se convierta en un microservicio completo. <br><br>  <b>Cita del blog: "Escalar requiere escalar toda la aplicación"</b> <br>  Del blog MartinFowler.com <br><blockquote>  Las aplicaciones monolíticas pueden ser exitosas, pero las personas se sienten cada vez más frustradas con ellas, especialmente cuando piensan en implementarse en la nube.  Cualquier cambio, incluso pequeño, en la aplicación requiere el ensamblaje y la redistribución de todo el monolito.  A menudo es difícil mantener constantemente una buena estructura modular en la que los cambios en un módulo no afecten a otros.  El escalado requiere escalar toda la aplicación, y no solo sus partes individuales, por supuesto, este enfoque requiere más esfuerzo. </blockquote><br>  <b>Cita del blog: "¿De qué habla la arquitectura de su aplicación?"</b> <br>  Del blog de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tío-bob</a> <br><blockquote>  ... si ha estado en la biblioteca, entonces representa su arquitectura: la entrada principal, los escritorios de recepción, las salas de lectura, las salas de conferencias y muchos salones con estanterías.  La arquitectura misma dirá: este edificio es una biblioteca. </blockquote><br>  Entonces, ¿de qué está hablando la arquitectura de su aplicación?  Cuando miras la estructura de directorios de nivel superior y los archivos de módulos en ellos, dicen: Soy una tienda en línea, soy contador, soy un sistema de gestión de producción.  ¿O están gritando: soy Rails, soy Spring / Hibernate, soy ASP? <br>  (Nota del traductor, Rails, Spring / Hibernate, ASP son frameworks y tecnologías web). <br><br>  <b>Estructura adecuada del proyecto con componentes autónomos.</b> <br><br><img src="https://habrastorage.org/webt/mp/g5/q8/mpg5q82ipd9tnobr96aq8_smbte.png"><br><br>  <b>Estructura de proyecto incorrecta con agrupación de archivos por propósito</b> <br><br><img src="https://habrastorage.org/webt/3p/sd/e-/3psde-16jcizpuabedn_afgpfsg.png"><br></div></div><br><h3>  1.2 Separe las capas de sus componentes y no las mezcle con la estructura de datos Express </h3><br>  Cada uno de sus componentes debe tener "capas", por ejemplo, para trabajar con la web, la lógica de negocios, el acceso a la base de datos, estas capas deben tener su propio formato de datos no mezclado con el formato de datos de las bibliotecas de terceros.  Esto no solo separa claramente los problemas, sino que también facilita enormemente la verificación y prueba del sistema.  A menudo, los desarrolladores de API mezclan capas pasando objetos de capa web Express (como req, res) a la lógica de negocios y la capa de datos; esto hace que su aplicación sea dependiente y esté fuertemente conectada con Express. <br><br>  <b>De lo contrario:</b> para una aplicación en la que se mezclan objetos de capa, es más difícil proporcionar pruebas de código, organización de tareas CRON y otras llamadas no Express. <br><br><div class="spoiler">  <b class="spoiler_title">Detalles</b> <div class="spoiler_text">  <b>Divida el código del componente en capas: web, servicios y <abbr title="Capa de acceso a datos: capa de acceso a datos">DAL</abbr></b> <br><br><img src="https://habrastorage.org/webt/mp/g5/q8/mpg5q82ipd9tnobr96aq8_smbte.png"><br><br>  <b>La otra cara es mezclar capas en una animación GIF</b> <br><br><img src="https://habrastorage.org/webt/ma/to/2e/mato2eau6nrt3dr0kcqi9fawmee.gif"><br></div></div><br><h3>  1.3 Envuelva sus utilidades básicas en paquetes npm </h3><br>  En una aplicación grande que consta de varios servicios con sus propios repositorios, las utilidades universales como un registrador, cifrado, etc., deben envolverse con su propio código y presentarse como paquetes privados npm.  Esto le permite compartirlos entre varias bases de código y proyectos. <br><br>  <b>De lo contrario:</b> debe inventar su propia bicicleta para compartir este código entre bases de códigos separadas. <br><br><div class="spoiler">  <b class="spoiler_title">Detalles</b> <div class="spoiler_text">  <b>Explicación de un párrafo</b> <br><br>  Tan pronto como el proyecto comience a crecer y tenga diferentes componentes en diferentes servidores que utilicen las mismas utilidades, debe comenzar a administrar las dependencias.  ¿Cómo puedo permitir que varios componentes lo usen sin duplicar el código de su utilidad entre repositorios?  Hay una herramienta especial para esto, y se llama npm ...  Comience envolviendo paquetes de utilidades de terceros con su propio código para que pueda reemplazarlo fácilmente en el futuro y publique este código como un paquete privado npm.  Ahora toda su base de código puede importar el código de utilidades y usar todas las funciones de administración de dependencias npm.  Recuerde que existen las siguientes formas de publicar paquetes npm para uso personal sin abrirlos para acceso público: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">módulos privados</a> , un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">registro privado</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paquetes npm locales</a> . <br><br>  <b>Compartir sus propias utilidades compartidas en diferentes entornos.</b> <br><img src="https://habrastorage.org/webt/ll/yp/zt/llypztuehnlrksisayzdto91jzq.png"><br></div></div><br><h3>  1.4 Separe Express en "aplicación" y "servidor" </h3><br>  Evite el desagradable hábito de definir una aplicación Express completa en un archivo enorme, divida su código 'Express' en al menos dos archivos: una declaración API (app.js) y un código de servidor www.  Para una estructura aún mejor, coloque una declaración de API en los módulos componentes. <br><br>  <b>De lo contrario:</b> su API solo estará disponible para realizar pruebas a través de llamadas HTTP (que es más lenta y mucho más difícil generar informes de cobertura).  Aún así, supongo, no es muy divertido trabajar con cientos de líneas de código en un archivo. <br><br><div class="spoiler">  <b class="spoiler_title">Detalles</b> <div class="spoiler_text">  <b>Explicación de un párrafo</b> <br><br>  Recomendamos utilizar el generador de aplicaciones Express y su enfoque para crear la base de datos de la aplicación: la declaración de API está separada de la configuración del servidor (datos de puerto, protocolo, etc.).  Esto le permite probar la API sin realizar llamadas de red, lo que acelera las pruebas y facilita la obtención de métricas de cobertura de código.  También le permite implementar de manera flexible la misma API para diferentes configuraciones de red del servidor.  Como beneficio adicional, también obtiene una mejor separación de responsabilidades y un código más limpio. <br><br>  <b>Código de muestra: declaración API, debe estar en app.js</b> <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = express(); app.use(bodyParser.json()); app.use(<span class="hljs-string"><span class="hljs-string">"/api/events"</span></span>, events.API); app.use(<span class="hljs-string"><span class="hljs-string">"/api/forms"</span></span>, forms);</code> </pre> <br>  <b>Ejemplo de código: los parámetros de red del servidor deben estar en / bin / www</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../app'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>); <span class="hljs-comment"><span class="hljs-comment">/** *          Express. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> port = normalizePort(process.env.PORT || <span class="hljs-string"><span class="hljs-string">'3000'</span></span>); app.set(<span class="hljs-string"><span class="hljs-string">'port'</span></span>, port); <span class="hljs-comment"><span class="hljs-comment">/** *  HTTP-. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> server = http.createServer(app);</code> </pre> <br><br>  <b>Ejemplo: probar nuestra API usando supertest (un paquete de prueba popular)</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express(); app.get(<span class="hljs-string"><span class="hljs-string">'/user'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ res.status(<span class="hljs-number"><span class="hljs-number">200</span></span>).json({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'tobi'</span></span> }); }); request(app) .get(<span class="hljs-string"><span class="hljs-string">'/user'</span></span>) .expect(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, /json/) .expect(<span class="hljs-string"><span class="hljs-string">'Content-Length'</span></span>, <span class="hljs-string"><span class="hljs-string">'15'</span></span>) .expect(<span class="hljs-number"><span class="hljs-number">200</span></span>) .end(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, res</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> err; });</code> </pre> <br></div></div><br><h3>  1.5 Use una configuración jerárquica segura basada en variables de entorno </h3><br>  Una configuración ideal debería proporcionar: <br><br>  (1) lectura de claves tanto del archivo de configuración como de las variables de entorno, <br>  (2) mantener secretos fuera del código del repositorio, <br>  (3) estructura de datos jerárquica (en lugar de plana) del archivo de configuración para facilitar el trabajo con la configuración. <br><br>  Hay varios paquetes que pueden ayudar a implementar estos puntos, como: rc, nconf y config. <br><br>  <b>De lo contrario: el</b> incumplimiento de estos requisitos de configuración conducirá a la interrupción del trabajo tanto de un desarrollador individual como de todo el equipo. <br><br><div class="spoiler">  <b class="spoiler_title">Detalles</b> <div class="spoiler_text">  <b>Explicación de un párrafo</b> <br><br>  Cuando se trata de ajustes de configuración, muchas cosas pueden ser molestas y ralentizarse: <br><br>  1. Establecer todos los parámetros usando variables de entorno se vuelve muy tedioso si necesita ingresar más de 100 claves (en lugar de simplemente arreglarlas en el archivo de configuración), sin embargo, si la configuración se especificará solo en los archivos de configuración, esto puede ser inconveniente para DevOps.  Una solución de configuración confiable debe combinar ambos métodos: tanto los archivos de configuración como las anulaciones de parámetros de las variables de entorno. <br><br>  2. Si el archivo de configuración es JSON "plano" (es decir, todas las claves se escriben como una sola lista), entonces con un aumento en el número de configuraciones será difícil trabajar con él.  Este problema se puede resolver formando estructuras anidadas que contienen grupos de claves de acuerdo con las secciones de configuración, es decir  organice una estructura de datos JSON jerárquica (vea el ejemplo a continuación).  Hay bibliotecas que le permiten almacenar esta configuración en varios archivos y combinar los datos de ellos en tiempo de ejecución. <br><br>  3. No se recomienda almacenar información confidencial (como la contraseña de una base de datos) en los archivos de configuración, pero no existe una solución definitiva y conveniente sobre dónde y cómo almacenar dicha información.  Algunas bibliotecas de configuración le permiten cifrar archivos de configuración, otras cifran estas entradas durante las confirmaciones de git, o puede guardar parámetros secretos en archivos y establecer sus valores durante la implementación a través de variables de entorno. <br><br>  4. Algunos escenarios de configuración avanzada requieren que ingrese las claves a través de la línea de comando (vargs) o que sincronice los datos de configuración a través de un caché centralizado como Redis para que varios servidores usen los mismos datos. <br><br>  Existen bibliotecas npm que lo ayudarán con la implementación de la mayoría de estas recomendaciones. Le recomendamos que eche un vistazo a las siguientes bibliotecas: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rc</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nconf</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">config</a> . <br><br>  <b>Ejemplo de código: la estructura jerárquica ayuda a encontrar registros y trabajar con archivos de configuración voluminosos</b> <b><br></b> <br><pre> <code class="json hljs">{ // Customer module configs <span class="hljs-attr"><span class="hljs-attr">"Customer"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"dbConfig"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"host"</span></span>: <span class="hljs-string"><span class="hljs-string">"localhost"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"port"</span></span>: <span class="hljs-number"><span class="hljs-number">5984</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dbName"</span></span>: <span class="hljs-string"><span class="hljs-string">"customers"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"credit"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"initialLimit"</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, // Set low for development <span class="hljs-attr"><span class="hljs-attr">"initialDays"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> } } }</code> </pre><br>  (Nota del traductor, los comentarios no se pueden usar en el archivo JSON clásico. El ejemplo anterior se toma de la documentación de la biblioteca de configuración, que agrega funcionalidad para borrar previamente los archivos JSON de los comentarios. Por lo tanto, el ejemplo funciona bastante, sin embargo, las linternas como ESLint con la configuración predeterminada pueden "Jurar" en un formato similar). <br></div></div><br>  Epílogo del traductor: <br><br><ol><li>  La descripción del proyecto dice que la traducción al ruso ya se ha lanzado, pero no encontré esta traducción allí, así que tomé el artículo. </li><li>  Si la traducción le parece muy breve, intente expandir la información detallada en cada sección. </li><li>  Lamento que las ilustraciones no hayan sido traducidas. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454476/">https://habr.com/ru/post/454476/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454462/index.html">Fotograma sin papel fotográfico</a></li>
<li><a href="../454464/index.html">Desarrollo de pruebas visuales basadas en Gemini y Storybook.</a></li>
<li><a href="../454470/index.html">La vida antes del tiempo de ejecución. Informe Yandex</a></li>
<li><a href="../454472/index.html">Lo que necesita saber sobre el último parche de enrutador de Cisco</a></li>
<li><a href="../454474/index.html">Eventos digitales en Moscú del 3 al 9 de junio.</a></li>
<li><a href="../454478/index.html">Se anuncia la extensión de Azure IoT Edge Tools (Vista previa)</a></li>
<li><a href="../454482/index.html">Una amarga lección en la industria de IA</a></li>
<li><a href="../454484/index.html">Redes neuronales artificiales explicadas en palabras simples</a></li>
<li><a href="../454486/index.html">La tragedia de Common Lisp: por qué los idiomas populares crecen en complejidad</a></li>
<li><a href="../454488/index.html">El estado electrónico del futuro.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>