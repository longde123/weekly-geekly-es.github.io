<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿 🐈 🏻 Cosmos. 7 ans 🕋 👂🏾 💅🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 

 En 2012, j'ai écrit un article sur mon hobby - Cosmos: modélisation de l'évolution des organismes multicellulaires 


 Près de 7 ans...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cosmos. 7 ans</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458612/">  Bonjour, Habr! <br><br>  En 2012, j'ai écrit un article sur mon hobby - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cosmos: modélisation de l'évolution des organismes multicellulaires</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/7_yYU6lvvk4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Près de 7 ans se sont écoulés depuis lors, durant lesquels j'ai travaillé sur le développement de ce projet.  Aujourd'hui, je veux vous parler un peu de ce que j'ai appris à faire et de la façon dont je prévois de développer le projet. <br><a name="habracut"></a><br><h4>  Motivation "Big Evolution" </h4><br>  Cosmos 2012 est un excellent exemple du sentiment de «l'effet d'immersion» du visionnement, qui a été le point de départ dans le développement de l'idée de faire une «simulation de vie sur le GPU». <br><br>  Cependant, il n'y a pas eu de véritable évolution: le processus devrait se développer en continu et ne pas atteindre un état final quelques minutes après le lancement. <br><br>  Il s'est avéré que le plus difficile était de réaliser l'évolution la plus longue possible d'espèces qui «ne convergent pas à la limite du développement», donnant lieu à une réelle variété de formes.  Ensuite, il sera possible d'explorer ces formes, puis il y aura un réel intérêt à exécuter la simulation pendant des jours, des semaines, des mois - en attendant l'apparition de formes d'étude de plus en plus complexes et développées. <br><br><h4>  La physique </h4><br>  Vous pouvez penser à n'importe quelle physique: avec l'aide du GPU, vous pouvez construire une très large gamme de modèles avec le nombre d'éléments suffisants pour les processus évolutifs en temps réel.  Toute combinaison des principes d'interaction de certains "éléments", "atomes", "cellules" - donne naissance à un constructeur de formes en évolution dans lequel une simulation organisée complexe peut littéralement s'auto-assembler à partir de rien. <br><br>  Au début, je voulais créer une matière multicellulaire qui permettrait au cosmos de se toucher directement, «sans voler à travers», ayant une structure de boules reliées les unes aux autres en mosaïque, à la manière des tissus cellulaires des organismes réels. <br><br>  Il était nécessaire que les organismes ressemblent davantage aux vrais, et la signification physique est apparue dans la structure différente de leur corps.  Vous pouvez «dessiner» un corps avec de la peau, des membres, des muscles, des jambes, des organes internes avec de telles cellules, et de tels corps existeront et se développeront littéralement à l'intérieur de la simulation. <br><br>  Un exemple du SDK CUDA a été la réalisation de collisions de particules rondes basées sur un réseau spatial, permettant aux particules d'interagir uniquement avec les plus proches. <br><br>  J'ai compris comment fonctionne l'exemple 3D - et écrit ma simulation pour 2D. <br>  Sur la GTX 580 de l'époque, cela permettait de calculer 256 000 particules en temps réel. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8eKQtesUK64" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  CUDA + JavaScript </h4><br>  Un autre problème était qu'il me convenait de proposer un concept cosmique en JavaScript, alors que les simulations à grande échelle ne devenaient possibles que sur le GPU. <br><br>  Environ 100 fois plus pratique et plus rapide sur JS. <br>  Et environ 1000 fois plus rapide sur un GPU. <br><br>  La solution était d'écrire la physique des interactions des particules sur CUDA, et de donner la possibilité de créer des particules et de contrôler leurs paramètres à partir de JavaScript, en intégrant le moteur Google V8 qui apparaissait alors dans la simulation en tant que langage de script. <br><br>  J'ai ajouté la possibilité de connecter les particules avec les mêmes «élastiques» que celles connectées dans les premiers espaces.  En conséquence, on pourrait écrire le code dans le script de contrôle JS: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ball1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ball(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ball2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ball(); ball1.xy = [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>]; ball1.rgb = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]; ball2.xy = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>]; ball2.rgb = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> link = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Link(ball1, ball2);</code> </pre> <br>  et deux boules blanches sont apparues sur l'écran, reliées l'une à l'autre par une «bande élastique». <br><br>  Déjà à ce niveau de développement du moteur, des opportunités intéressantes sont apparues pour des expériences avec la physique virtuelle: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/K0HQCr6aaO4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Immeuble </h4><br>  En ajoutant plusieurs propriétés aux boules, telles que la force de liaison, la masse, la taille, l'élasticité - j'ai obtenu un constructeur contrôlé par JavaScript dans lequel je pouvais dessiner les structures de milliers de créatures constituées de cellules de propriétés physiques différentes - et tout cela a été calculé par le GPU en temps réel. <br><br>  Comme équilibre entre le prix et la qualité, une forme douce et profilée d'une pieuvre a été choisie. <br><br>  Chaque élément du corps (centre, membres) est réalisé à l'aide du nombre minimum de billes nécessaire, tandis que le volume et la masse sont naturellement répartis - où les membres s'épaississent vers le centre - la matière devient plus durable et massive: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/djnDp02Ywp4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  La motilité </h4><br>  L'étape suivante consistait à créer la motilité des corps cosmiques.  Les muscles étaient faciles à fabriquer - il suffisait de resserrer les liens entre les boules le long des pattes, ce qui provoquait l'effet de la contraction musculaire. <br><br>  Les neurones agissants se connectent à ces muscles et s'il y a un signal, le muscle se contracte.  Deux muscles par membre - une pieuvre bidimensionnelle entièrement contrôlable. <br><br>  À l'aide d'un petit réseau de neurones récurrents à mutation aléatoire (de l'ordre de 10 à 100 neurones) et d'une simple sélection des meilleurs individus selon le critère, par exemple, «qui pourrait bouger plus loin», vous pouvez appeler la cinématique de mouvement nécessaire pour chaque forme de corps: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cqBveJ5xVMQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Genesis </h4><br>  Les «hexoïdes» sont une autre forme de corps activement explorée.  Les corps de ces créatures sont composés de cellules qui forment des formes arbitraires à partir de boules de même taille sur la base d'un réseau non strict proche de l'hexagonal. <br><br>  Cette forme est bien adaptée pour étudier l'évolution simultanée de la forme et de la motilité du corps «en conjonction», tout en maximisant le potentiel d'expériences avec des cellules de différents types, différant en force et en fonction.  Par exemple, les corps cosmiques peuvent être constitués de combinaisons de cellules solides qui forment le cadre de la créature et les muscles qui mettent la structure en mouvement. <br><br>  À l'avenir, lorsqu'ils seront immergés dans un habitat complexe, sur la base de ces principes, différentes formes de créatures pourront être développées - dont certaines seront plus «blindées», d'autres sont conçues pour se déplacer rapidement, d'autres pour une attaque efficace, etc. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P9FEgUQvYNo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Chasse et élevage </h4><br>  Si le cosmos apprend à se chasser, la quantité de matière dans la simulation peut rester constante, tandis que des générations de créatures se succéderont. <br><br>  Des chaînes alimentaires stables peuvent alors se former et un grand processus de co-évolution de différentes espèces de créatures commence. <br><br>  Pour la première expérience, j'ai utilisé 4 types de cellules: <br><br><ul><li>  <b>cellule digestive (colorée)</b> - en touchant un autre corps cosmique, mord un morceau </li><li>  <b>armure (légère)</b> - une cage mécanique plus solide qui ne peut pas être mordue </li><li>  <b>tissu conjonctif (gris)</b> - tissu élastique doux </li><li>  <b>cellule motrice (sombre)</b> - permet à l'espace de se déplacer plus rapidement </li></ul><br>  Dès que le cosmos mange un nombre suffisant de cellules, il "se divise", formant à proximité sa copie légèrement mutée. <br><br>  Un tel processus génère déjà des formes avec une structure et un comportement différenciés: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/CFEB1gyZFrM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Tt1aRIbpqHI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Habitat </h4><br>  Un espace froid vide n'est pas le meilleur endroit où vivre. <br><br>  Pour créer un biome virtuel, vous pouvez utiliser des matériaux de construction de base - des particules de sol, d'eau, de lumière et des cellules végétales capables de croître. <br><br>  Les particules de sol adhèrent les unes aux autres, formant une plate-forme solide.  Le sol peut être mouillé si des particules d'eau s'y déposent. <br><br>  Sur un sol humide, sous un bon éclairage, les plantes peuvent pousser.  La masse végétale est la principale source d'aliments biologiques pour les formes animales. <br><br>  Les corps animaux, en décomposition, renvoient des substances inorganiques dans l'écosystème du biome. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yAbSZe0AW1Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8DvTednlNAA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ANQ-H6LSmEg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h4>  PS </h4><br>  Il s'agit d'un article de synthèse dont les dimensions ne permettent pas une divulgation cohérente de tous les domaines dans lesquels le projet se développe. <br><br>  Maintenant, je travaille sur un concepteur interactif complet qui vous donnera la possibilité de "jouer à des jeux spatiaux" en mode bac à sable, de concevoir de nouveaux types de créatures, de dessiner des écosystèmes "en mode Dieu" et d'observer l'évolution en temps réel. <br><br>  Quant à la partie technique, les progrès ne sont pas en reste: depuis 2012, le paradigme de développement a changé 4 fois, passant progressivement du concept CUDA + JS décrit dans cet article vers des modèles GPU ORM qui fonctionnent complètement côté GPU et ont leur propre langage objet pour les procédures stockées. <br><br>  <b>C'est tout, merci de votre attention!</b> <br><br>  Suivez le développement du projet et soutenez le développement ici: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://www.patreon.com/samadhi_toolbox</a> <br><br>  Il y a encore peu de billets de blog, mais s'il y a des abonnés, je promets de les poster, en 7 ans j'ai accumulé sans vergogne beaucoup de contenu <br><br>  En conclusion - un petit aperçu de travail: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SMI4lyOYtNY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458612/">https://habr.com/ru/post/fr458612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458600/index.html">Que sont les vélos électriques (examen de groupe en deux parties de cinq modèles de deux fabricants), partie 1</a></li>
<li><a href="../fr458602/index.html">Comment nous avons percé le grand pare-feu chinois (partie 1)</a></li>
<li><a href="../fr458604/index.html">Pourquoi les deux plus grands fabricants d'électronique ont uni leurs forces dans un nouveau projet de GPU</a></li>
<li><a href="../fr458606/index.html">Exécutez OpenVPN dans Docker en 2 secondes</a></li>
<li><a href="../fr458608/index.html">Outils de développement Node.js File d'attente des travaux</a></li>
<li><a href="../fr458614/index.html">Création d'un hook Reactive UsePosition () pour obtenir et suivre les coordonnées du navigateur</a></li>
<li><a href="../fr458622/index.html">Automatisation pour les plus petits. Première partie (qui est après zéro). Virtualisation du réseau</a></li>
<li><a href="../fr458624/index.html">Comment nous avons appris à dessiner des textes sur toile</a></li>
<li><a href="../fr458626/index.html">StealthWatch: concepts de base et exigences minimales. Partie 1</a></li>
<li><a href="../fr458630/index.html">Un peu d'histoire de développement de votre jeu sur Windows Forms + C # pur dans mes 16 ans</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>