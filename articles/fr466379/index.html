<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèõÔ∏è üìè üö∂üèΩ Ex√©cutez le logiciel ¬´desktop¬ª sur le microcontr√¥leur üå©Ô∏è üèçÔ∏è üë®üèø‚Äçü§ù‚Äçüë®üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Embox a particip√© au festival TechTrain IT. Comme la premi√®re fois, nous avons apport√© les morceaux de fer et montr√© nos r√©alisations en direct. Nous ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ex√©cutez le logiciel ¬´desktop¬ª sur le microcontr√¥leur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/embox/blog/466379/"><img src="https://habrastorage.org/webt/hd/do/8b/hddo8b7znwo2uxyl3nocsgfxlye.png" align="right" width="320"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Embox a</a> particip√© au festival <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TechTrain</a> IT.  Comme la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re fois, nous avons</a> apport√© les morceaux de fer et montr√© nos r√©alisations en direct.  Nous en avons d√©j√† √©crit sur le Habr√©, mais on ne sait jamais qui :).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le t√©l√©phone VoIP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qt</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenCV</a> ont √©t√© pr√©sent√©s, tous bas√©s sur STM32F7-Discovery.  En plus du stand, nous avons fait trois rapports.  J'ai d√©j√† d√©crit les id√©es du premier sur le projet ouvert sur un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">habr</a>  Dans cet article, je veux raconter les id√©es d'un autre de notre rapport, qui s'intitulait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Lancement d'un logiciel¬´ de bureau ¬ªsur des microcontr√¥leurs¬ª</a> .  Eh bien, saisissant cette occasion, je vais vous parler un peu de mes sentiments √† propos du festival. <a name="habracut"></a><br><br><h2>  TechTrain </h2><br>  Tout d'abord, permettez-moi de vous parler un peu du festival lui-m√™me.  Celui qui n'est pas int√©ress√© peut imm√©diatement revenir en arri√®re dans la section ¬´Lancement du logiciel¬´ Desktop ¬ªsur le microcontr√¥leur¬ª <br><br>  La premi√®re chose qui a attir√© mon attention lors du festival a √©t√© beaucoup de monde.  Nous sommes fatigu√©s de nous tenir sur le stand, de parler, de mener une qu√™te et de communiquer.  D'un autre c√¥t√©, c'√©tait tr√®s amusant et int√©ressant, et surtout, nous avons eu beaucoup d'√©motions positives, par exemple, plusieurs personnes nous ont dit que nous avions un bon blog sur le hub :).  Les participants au festival venaient de divers domaines d‚Äôactivit√©, et ne venaient m√™me pas des TI, car le slogan du festival est ¬´un grand festival pour les d√©veloppeurs, les ing√©nieurs et les sympathisants¬ª.  Il y avait beaucoup d'enfants, un gar√ßon √† la fin du festival a sorti une machine robot du stand et a jou√© avec.  Ni le gar√ßon ni le robot n'ont √©t√© bless√©s. <br><br>  Pour rendre l'√©tendue du public plus compr√©hensible, je vais l'illustrer diff√©remment.  De nombreuses activit√©s ont √©t√© r√©alis√©es lors du festival, dont l'une √©tait une qu√™te.  Les participants √† la qu√™te devaient monter sur les stands, accomplir les t√¢ches invent√©es et obtenir un tirage.  Pour cela, quelqu'un a m√™me obtenu un quadricopt√®re entier.  Mais maintenant, ce n'est pas √ßa.  Nous √©tions √©galement l'un des endroits o√π vous pouviez obtenir un sceau.  Nous avions pr√©par√© des t√¢ches, y compris des questions.  Les questions √©taient simples, concernant les logiciels open source et les syst√®mes embarqu√©s.  Mais le contingent √©tait si diff√©rent que certains en voulaient √† la simplicit√© de la question, tandis que d'autres entraient dans la stupeur.  Le dernier, nous avons naturellement aid√©, expliqu√© (ou sugg√©r√© Google) des choses comme: "qui sont les cr√©ateurs du langage C", "ce qui est c√©l√®bre pour Linus Torvalds", "quelle est la diff√©rence entre un microprocesseur et un microcontr√¥leur" ou "qu'est-ce qu'un compilateur crois√©".  En cons√©quence, personne n'est parti sans imprimer.  Soit dit en passant, c'√©tait un peu √©trange, mais √©trangement, beaucoup de gens pouvaient facilement d√©chiffrer ¬´GNU - GNU n'est pas Unix¬ª.  Probablement pr√©par√© pour Stallman.  :) <br><br>  Le second d√©coule du premier.  Il y avait du divertissement pour un public tr√®s large.  Par exemple, Habr a apport√© un bac √† sable.  Certes, ce n'√©tait pas un bac √† sable local o√π vous pouvez obtenir une invitation pour un article, mais il √©tait possible de se vautrer dans sa renomm√©e.  A propos des invitations dans le bac √† sable, je n'ai pas pens√© √† demander, peut-√™tre qu'ils ont donn√© comme dans un vrai bac √† sable.  Il y avait un club de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vieux ordinateurs</a> , on pouvait jouer dessus, ce que beaucoup faisaient.  Il y avait des machines √† sous du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mus√©e des machines √† sous sovi√©tiques</a> .  Sberbank, offrait un espace d√©tente, il √©tait √©galement possible d'y jouer d√©j√† dans la play station.  Il y avait des kickers oui IT traditionnels et bien d'autres divertissements.  Malheureusement, nous avons d√ª travailler, donc je ne parle que de ce qui √©tait visible depuis notre stand. <br><br>  Le troisi√®me et probablement le principal est que les organisateurs ont r√©ussi √† rassembler des repr√©sentants de pratiquement tous les domaines informatiques, du d√©veloppement Web et des syst√®mes distribu√©s aux syst√®mes embarqu√©s.  Des d√©veloppeurs et autres techniciens, aux ressources humaines et simplement int√©ress√©s, par exemple, les joueurs (apr√®s tout, il √©tait possible de pirater <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Romero</a> lui-m√™me) ou les amateurs de bricolage.  Il y avait l'AQ de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">COMAQA, il y</a> avait des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chefs d'</a> √©quipe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Burning Lead</a> .  Il y avait des communaut√©s de diff√©rentes villes (Rostov, Tver, Krasnodar).  En cons√©quence, les rapports et les stands √©taient tr√®s diff√©rents dans le sujet.  Par exemple, notre stand √©tait situ√© entre la communaut√© des chefs d'√©quipe Burning Lead et le stand du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Club des directeurs informatiques de Saint-P√©tersbourg</a> . <br><br>  En cons√©quence, des gens d'horizons tr√®s diff√©rents se sont approch√©s de notre stand, il y avait des d√©veloppeurs Web et des joues dotnet, il y avait JS et des avantages.  Quelqu'un s'est souvenu qu'il faisait quelque chose sur l'AVR alors qu'il √©tait encore √† l'universit√©, quelqu'un disait qu'il s'amusait avec RaPi ou Arduino.  Il y avait beaucoup de poussins DotNet, beaucoup se demandaient si nous avions un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.NET Micro Framework</a> .  Nous avons m√™me pens√© √† ne pas le tra√Æner vers nous.  On s'attendait √† ce qu'il y ait beaucoup de questions sur Rust.  Bref, √† mon avis, les organisateurs ont r√©ussi √† bien mettre en ≈ìuvre l'id√©e du festival ¬´D√©couvrez ce que vivent les autres!¬ª.  Apr√®s tout, comme dans n'importe quel festival, l'essentiel ici est de voir les autres et de se montrer :). <br><br>  Oui, les photos ne sont pas donn√©es ici.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quelques photos</a> , y compris avec un gar√ßon vivant Volodya, peuvent √™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vues</a> dans notre groupe.  Eh bien, bien s√ªr, dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le groupe techtrain, un</a> tas de photos de haute qualit√©, ils ont promis d'en publier plus. <br><br><h2>  Lancer le logiciel de bureau sur un microcontr√¥leur </h2><br>  Mon rapport √©tait une sorte de r√©sum√© des r√©sultats de plusieurs de nos travaux sur le lancement de logiciels de bureau ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenCV</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pjsip</a> ).  Le rapport s'adresse au grand public.  Pour un habr j'essaierai de r√©duire beaucoup de d√©tails, et pour les choses n√©cessaires je donnerai le lien ou les mots-cl√©s pour la recherche. <br><br>  Pour commencer, je vais donner une sorte d‚Äôordre du jour.  En fait, il y aura 3 parties.  Tout d'abord, j'expliquerai les difficult√©s de transfert de logiciels de bureau vers des microcontr√¥leurs, et en cours de route, j'expliquerai la diff√©rence entre le microcontr√¥leur et le microprocesseur.  Je vais √©galement r√©pondre √† une question cl√©, par <s>exemple, bayan de ch√®vre</s> , pourquoi ex√©cuter un logiciel de bureau sur un microcontr√¥leur, et enfin, je vais vous dire comment nous avons pu r√©duire consid√©rablement le co√ªt de transfert de ce logiciel de ¬´bureau¬ª vers des microcontr√¥leurs. <br><br><h3>  Quelle est la diff√©rence entre les microcontr√¥leurs et les microprocesseurs </h3><br>  Donc, une de nos questions sur la qu√™te a sonn√© et peut-√™tre sous l'influence de cela, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> est apparu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur un programmeur typique</a> expliquant en quoi elles diff√®rent.  Je suis d'accord avec tout dans l'article, mais nous essaierons de l'expliquer dans nos propres mots et de faire plusieurs autres accents. <br><br>  Qu'est-ce qu'une microcontr√¥leur (MCU)?  Si vous regardez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> , vous pouvez comprendre qu'un microcontr√¥leur est un syst√®me sur une puce, c'est-√†-dire qu'un processeur et des p√©riph√©riques sont situ√©s sur une seule puce. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le terme syst√®me sur puce (System-on-a-Chip, SoC)</a> est un concept plus large qu'un microcontr√¥leur.  Il s'agit d'un tel circuit √©lectronique int√©gr√© dans une seule puce, qui contient un microprocesseur (CPU) et des p√©riph√©riques.  Dans tout t√©l√©phone mobile, il y a une puce dans laquelle, en plus de plusieurs c≈ìurs de processeur, il y a un tas de p√©riph√©riques.  M√™me les processeurs x86 incluent d√©sormais des ponts et m√™me des GPU.  Mais je veux me concentrer non pas sur un classement clair, mais sur les fonctionnalit√©s.  Tout le monde sait que les syst√®mes sur puce: <br><ul><li>  Consommez moins </li><li>  Sont moins chers </li><li>  Moins productif </li></ul><br>  Tout le monde ne sait pas qu'ils sont encore plus fiables en r√©duisant le nombre de contacts et peuvent avoir une plus grande plage de temp√©rature. <br><br>  Le microcontr√¥leur a une int√©gration encore plus grande et comprend √©galement de la m√©moire (RAM et ROM), qui est √©galement r√©f√©r√©e √† la p√©riph√©rie.  En cons√©quence, les propri√©t√©s sont pr√©serv√©es, consomment encore moins, co√ªtent encore moins, encore moins productives, encore plus fiables. <br><br>  Je veux parler de ¬´encore moins productif¬ª plus en d√©tail.  Le fait est que, d'une part, c'est vrai, prenez n'importe quel CPU ou SoC √† usage g√©n√©ral moderne et voyez des performances nettement sup√©rieures dans ce qu'on appelle les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DMIPS</a> .  Mais si vous pensez pourquoi une telle performance?  √Ä titre d'exemple, je vais donner les jeux Quake and Doom (dont le cr√©ateur √©tait John Romero au festival), ils ont tr√®s bien fonctionn√© sur le Pentium MMX.  Mais les performances des syst√®mes bas√©s sur ce CPU sont d√©j√† bloqu√©es par des microcontr√¥leurs haut de gamme.  Je veux dire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">STM32F7</a> ou m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">STM32H7</a> .  Autrement dit, sur la base de ces MCU, il est tout √† fait possible d'ex√©cuter des applications de niveau Doom et Quake, ce qui, vous en convenez, n'est pas mauvais du tout. <br><br>  Parlons d'une autre caract√©ristique du MCU - la m√©moire interne.  Elle, comme je l'ai dit, se trouve directement sur la puce et, par cons√©quent, est tr√®s rapide.  Mais elle, bien s√ªr, ne suffit pas.  Mais combien peu?  Le microcontr√¥leur STM32F769 contient 2 Mo de m√©moire flash (ROM) et 512 + 16 + 4 ko SRAM (RAM).  De plus, par exemple, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte STM32F769i-disco</a> poss√®de √©galement une m√©moire externe (SDRAM 128 Mbit et m√©moire Flash Quad-SPI 512 Mbit), qui est adress√©e directement.  Je ne parle m√™me pas de la possibilit√© de connecter une carte SD ou USB.  Eh bien, si vous vous souvenez de la c√©l√®bre phrase ¬´640 kb devrait suffire √† tout le monde¬ª, alors la question raisonnable se pose - pourquoi les logiciels de bureau modernes sont-ils si gourmands?  Par exemple, une calculatrice dans Windows 10 en mode veille consomme jusqu'√† 16 Mo de m√©moire. <br><br>  Passons √† la prochaine fonctionnalit√© du MCU, la pr√©sence de la ROM.  En fait, les syst√®mes dot√©s d'un CPU contiennent √©galement une ROM; l'ex√©cution d√©marre √† partir de celle-ci et le BIOS d√©marre, mais le reste du logiciel est charg√© dans la RAM et ex√©cut√© √† partir de celle-ci.  Dans les syst√®mes embarqu√©s, il est habituel d'ex√©cuter du code directement, qui est appel√© eXecute-In-Place (XIP), Linux, en passant, prend √©galement en charge ce mode, mais l'essentiel est de tout charger dans la m√©moire principale et m√™me de l'ex√©cuter.  La possibilit√© d'ex√©cuter directement √† partir de la ROM est importante pour deux raisons: la premi√®re est l'architecture Harvard, la s√©paration du bus de commande et du bus de donn√©es vous permet d'augmenter la vitesse d'ex√©cution du programme;  la seconde - eh bien, naturellement, moins de m√©moire est gaspill√©e, car au moins un segment de code n'a pas besoin d'√™tre copi√© ailleurs. <br><br>  Une autre caract√©ristique cl√© du MCU est l'absence d'un module tel que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MMU</a> , c'est-√†-dire que les microcontr√¥leurs ne prennent pas en charge le mat√©riel pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la gestion de la m√©moire virtuelle</a> .  Dans le MCU, m√™me pas tous ont des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MPU</a> , et le code s'ex√©cute dans le m√™me espace d'adressage, il est donc difficile d'organiser un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fork complet ()</a> .  Mais fork () lui-m√™me, comme nous l'avons √©crit dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´fork () vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vfork () ¬ªest un</a> appel syst√®me assez lourd, et selon sa fonctionnalit√©, dans de nombreux cas, il peut √™tre remplac√© par vfork () ou posix_spawn (). <br><br>  En r√©sum√©, en quoi les microcontr√¥leurs diff√®rent des microprocesseurs, nous pouvons dire ce qui suit: <br>  En termes de mat√©riel: <br><ul><li>  Les microcontr√¥leurs ont tous les p√©riph√©riques n√©cessaires, y compris la m√©moire </li><li>  Les microcontr√¥leurs ont beaucoup moins de m√©moire </li><li>  Les microcontr√¥leurs n'ont pas de MMU mat√©rielle </li><li>  Les microcontr√¥leurs ont une vitesse d'horloge inf√©rieure et peuvent avoir une architecture de processeur diff√©rente (architecture cadeau) </li></ul><br><br>  En termes de propri√©t√©s de consommation: <br><ul><li>  Les microcontr√¥leurs consomment moins d'√©nergie, peuvent fonctionner sur batterie </li><li>  Les microcontr√¥leurs sont moins chers </li><li>  Les microcontr√¥leurs sont plus fiables </li><li>  Les microcontr√¥leurs sont moins productifs </li></ul><br><br><h3>  Pourquoi ex√©cuter un logiciel de bureau sur un microcontr√¥leur </h3><br>  Ainsi, les microcontr√¥leurs sont moins productifs et √©taient initialement destin√©s (et destin√©s) aux t√¢ches de contr√¥le.  Alors pourquoi ex√©cuter sur eux un logiciel con√ßu pour une autre classe de syst√®mes?  Eh bien, m√™me si leur puissance est d√©j√† suffisante pour de telles t√¢ches, mais ces t√¢ches peuvent √™tre r√©solues de mani√®re traditionnelle pour les microcontr√¥leurs.  Autrement dit, pour utiliser divers petits RTOS ou √©crire du code √† partir de z√©ro, ce qu'on appelle le bare-metal.  Il y a une r√©ponse √©vidente, au d√©part les t√¢ches de gestion √©taient tr√®s simples, maintenant les exigences de fonctionnalit√© augmentent rapidement.  M√™me √† partir d'une ampoule minable dont ils attendent le contr√¥le via Internet, je ne parle pas de la bouilloire, ils vont probablement bient√¥t s√©lectionner la composition du th√© selon l'humeur du propri√©taire et chauffer la quantit√© optimale d'eau √† la temp√©rature optimale afin d'am√©liorer la situation environnementale.  :) <br><br>  Par cons√©quent, il n'est pas surprenant que des tentatives soient constamment faites pour utiliser le logiciel d√©j√† d√©velopp√© dans les microcontr√¥leurs.  Par exemple, ucLinux est l'une des premi√®res tentatives largement connues pour ex√©cuter Linux sur de petites plates-formes, maintenant c'est le mode NOMMU principalement Linux.  L'id√©e √©tait d'ex√©cuter Linux sur des plates-formes mat√©rielles sans MMU, mais nous avons d√©couvert que c'est l'une des principales diff√©rences entre le CPU et le MCU. <br><br>  En bref, les avantages d'utiliser un logiciel pr√™t √† l'emploi: <br><ul><li>  R√©duisez les co√ªts de d√©veloppement </li><li>  D√©lai de mise sur le march√© plus court </li><li>  R√©duction des erreurs dans le code.  Les logiciels pr√™ts √† l'emploi sont plus fiables. </li></ul><br><br><h3>  Comment nous le faisons chez Embox </h3><br>  Ici vous comprenez, vous pouvez parler tr√®s longtemps, mais encore une fois j'essaierai d'esquisser les points principaux dans une th√®se et de mani√®re accessible. <br><br>  Le premier.  Embox utilise le syst√®me de construction Mybuild avec son propre langage pour d√©crire les modules et les syst√®mes, nous l'avons √©crit dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Mybuild - un syst√®me de construction pour les applications modulaires¬ª</a> .  Ce syst√®me de construction vous permet de ne rien inclure de superflu dans l'image, ou plut√¥t d'inclure uniquement ce qui est requis.  Vous pouvez vraiment affiner les caract√©ristiques du syst√®me, par exemple, pour ex√©cuter PJSIP sur STM32F7, nous avons limit√© le nombre de paquets Ethernet √† 16 en √©crivant simplement une ligne dans le fichier de configuration du syst√®me <br><pre><code class="cpp hljs">include embox.net.skbuff(amount_skb=<span class="hljs-number"><span class="hljs-number">16</span></span>)</code> </pre> <br>  Mybuild analyse les d√©pendances et g√©n√®re divers artefacts, y compris les fichiers d'en-t√™te, les scripts de l'√©diteur de liens et les Makefiles.  Tout cela permet de r√©duire consid√©rablement la quantit√© de m√©moire requise et de ne pas inclure les parties qui ne sont pas du tout utilis√©es. <br><br>  Le deuxi√®me.  De toute √©vidence, Embox doit prendre en charge POSIX et il est pris en charge.  De plus, nous avons impl√©ment√© notre propre biblioth√®que standard, car elle doit √©galement √™tre reconstruite en fonction de la configuration du syst√®me. <br><br>  Le troisi√®me.  Liaison statique.  Afin d'√©viter les probl√®mes avec un seul espace d'adressage, de r√©duire la taille de l'image et de n'inclure que les parties requises, nous utilisons un lien statique.  √Ä diff√©rentes √©tapes, diff√©rentes parties du syst√®me sont assembl√©es, mais finalement tout (le noyau, tous les sous-syst√®mes, biblioth√®ques et applications) est li√© en une seule image.  Il contient toutes les informations sur tous les personnages de l'image.  Et bien qu'√† premi√®re vue, nous ayons de nombreuses applications avec des points d'entr√©e int (..) standard, mais dans l'image r√©sultante, ce seront des caract√®res diff√©rents qui seront disponibles sur le syst√®me √† partir de la ligne de commande. <br><br>  Quatri√®mement.  Nous avons d√ª impl√©menter un runtime pour C ++, car de nombreuses applications et biblioth√®ques populaires utilisent des avantages. <br><br>  Cinqui√®mement.  Nous avons ajout√© la possibilit√© d'utiliser le syst√®me de construction <br><pre> <code class="bash hljs"> ./configure; make; make install</code> </pre> <br>  Apr√®s avoir t√©l√©charg√© la source quelque part et appliqu√© les correctifs n√©cessaires. <br><br><h3>  Conclusion </h3><br>  Aujourd'hui, les exigences fonctionnelles pour les syst√®mes qui √©taient auparavant r√©alis√©s sur des microcontr√¥leurs ont consid√©rablement augment√©.  Les syst√®mes de contr√¥le devraient √™tre compatibles avec les syst√®mes universels.  Les caract√©ristiques des microcontr√¥leurs ont √©galement consid√©rablement augment√©, ce qui vous permet d'ex√©cuter des logiciels sur eux avec les fonctionnalit√©s correspondantes.  Historiquement, les logiciels pour microcontr√¥leurs √† des fins d'optimisation ont √©t√© √©crits pour une t√¢che sp√©cifique, mais avec une augmentation des exigences fonctionnelles, il est n√©cessaire d'appliquer des approches du monde des syst√®mes universels qui peuvent augmenter consid√©rablement la fiabilit√© des logiciels, √† savoir la r√©utilisation des modules, le d√©veloppement distribu√©.  Logiciel universel, bien qu'il ne prenne pas en compte les caract√©ristiques des syst√®mes embarqu√©s, mais dispose de fonctionnalit√©s nettement sup√©rieures et fonctionnant bien.  Par cons√©quent, l'utilisation de logiciels de bureau sur des microcontr√¥leurs donne un gain.  En effet, d'une part, vous pouvez utiliser une plate-forme mat√©rielle moins ch√®re, plus fiable et moins consommatrice, et d'autre part, le co√ªt de d√©veloppement de tels syst√®mes est consid√©rablement r√©duit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466379/">https://habr.com/ru/post/fr466379/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466365/index.html">D√©veloppement d'un syst√®me d'exploitation monolithique de type Unix - Prise en main (1)</a></li>
<li><a href="../fr466367/index.html">Niveau d'API Android, compatibilit√© ascendante et descendante</a></li>
<li><a href="../fr466371/index.html">Les 3 principales objections de vente auxquelles vous pourriez √™tre confront√© en travaillant avec des technologies de tendance</a></li>
<li><a href="../fr466373/index.html">D√©veloppement de bots Python TamTam</a></li>
<li><a href="../fr466375/index.html">Museum DataArt. KUVT2 - √©tudier et jouer</a></li>
<li><a href="../fr466381/index.html">Comment les ampoules LED Era ont chang√© en 2019</a></li>
<li><a href="../fr466383/index.html">Cryptocurrency Ocean: examen des 50 meilleurs projets avec CoinMarketCap</a></li>
<li><a href="../fr466385/index.html">Comprendre les courtiers de messages. Apprentissage de la m√©canique de la messagerie via ActiveMQ et Kafka. Chapitre 1</a></li>
<li><a href="../fr466397/index.html">Nous reprogrammons le caissier et imprimons dessus Keanu Reeves. Partie 2. Logiciel PC</a></li>
<li><a href="../fr466401/index.html">Un peu de math√©matiques financi√®res: calculer l'inflation et les int√©r√™ts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>