<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏛️ 📏 🚶🏽 Exécutez le logiciel «desktop» sur le microcontrôleur 🌩️ 🏍️ 👨🏿‍🤝‍👨🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Embox a participé au festival TechTrain IT. Comme la première fois, nous avons apporté les morceaux de fer et montré nos réalisations en direct. Nous ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exécutez le logiciel «desktop» sur le microcontrôleur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/embox/blog/466379/"><img src="https://habrastorage.org/webt/hd/do/8b/hddo8b7znwo2uxyl3nocsgfxlye.png" align="right" width="320"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Embox a</a> participé au festival <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TechTrain</a> IT.  Comme la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">première fois, nous avons</a> apporté les morceaux de fer et montré nos réalisations en direct.  Nous en avons déjà écrit sur le Habré, mais on ne sait jamais qui :).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le téléphone VoIP</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qt</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenCV</a> ont été présentés, tous basés sur STM32F7-Discovery.  En plus du stand, nous avons fait trois rapports.  J'ai déjà décrit les idées du premier sur le projet ouvert sur un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">habr</a>  Dans cet article, je veux raconter les idées d'un autre de notre rapport, qui s'intitulait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Lancement d'un logiciel« de bureau »sur des microcontrôleurs»</a> .  Eh bien, saisissant cette occasion, je vais vous parler un peu de mes sentiments à propos du festival. <a name="habracut"></a><br><br><h2>  TechTrain </h2><br>  Tout d'abord, permettez-moi de vous parler un peu du festival lui-même.  Celui qui n'est pas intéressé peut immédiatement revenir en arrière dans la section «Lancement du logiciel« Desktop »sur le microcontrôleur» <br><br>  La première chose qui a attiré mon attention lors du festival a été beaucoup de monde.  Nous sommes fatigués de nous tenir sur le stand, de parler, de mener une quête et de communiquer.  D'un autre côté, c'était très amusant et intéressant, et surtout, nous avons eu beaucoup d'émotions positives, par exemple, plusieurs personnes nous ont dit que nous avions un bon blog sur le hub :).  Les participants au festival venaient de divers domaines d’activité, et ne venaient même pas des TI, car le slogan du festival est «un grand festival pour les développeurs, les ingénieurs et les sympathisants».  Il y avait beaucoup d'enfants, un garçon à la fin du festival a sorti une machine robot du stand et a joué avec.  Ni le garçon ni le robot n'ont été blessés. <br><br>  Pour rendre l'étendue du public plus compréhensible, je vais l'illustrer différemment.  De nombreuses activités ont été réalisées lors du festival, dont l'une était une quête.  Les participants à la quête devaient monter sur les stands, accomplir les tâches inventées et obtenir un tirage.  Pour cela, quelqu'un a même obtenu un quadricoptère entier.  Mais maintenant, ce n'est pas ça.  Nous étions également l'un des endroits où vous pouviez obtenir un sceau.  Nous avions préparé des tâches, y compris des questions.  Les questions étaient simples, concernant les logiciels open source et les systèmes embarqués.  Mais le contingent était si différent que certains en voulaient à la simplicité de la question, tandis que d'autres entraient dans la stupeur.  Le dernier, nous avons naturellement aidé, expliqué (ou suggéré Google) des choses comme: "qui sont les créateurs du langage C", "ce qui est célèbre pour Linus Torvalds", "quelle est la différence entre un microprocesseur et un microcontrôleur" ou "qu'est-ce qu'un compilateur croisé".  En conséquence, personne n'est parti sans imprimer.  Soit dit en passant, c'était un peu étrange, mais étrangement, beaucoup de gens pouvaient facilement déchiffrer «GNU - GNU n'est pas Unix».  Probablement préparé pour Stallman.  :) <br><br>  Le second découle du premier.  Il y avait du divertissement pour un public très large.  Par exemple, Habr a apporté un bac à sable.  Certes, ce n'était pas un bac à sable local où vous pouvez obtenir une invitation pour un article, mais il était possible de se vautrer dans sa renommée.  A propos des invitations dans le bac à sable, je n'ai pas pensé à demander, peut-être qu'ils ont donné comme dans un vrai bac à sable.  Il y avait un club de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vieux ordinateurs</a> , on pouvait jouer dessus, ce que beaucoup faisaient.  Il y avait des machines à sous du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Musée des machines à sous soviétiques</a> .  Sberbank, offrait un espace détente, il était également possible d'y jouer déjà dans la play station.  Il y avait des kickers oui IT traditionnels et bien d'autres divertissements.  Malheureusement, nous avons dû travailler, donc je ne parle que de ce qui était visible depuis notre stand. <br><br>  Le troisième et probablement le principal est que les organisateurs ont réussi à rassembler des représentants de pratiquement tous les domaines informatiques, du développement Web et des systèmes distribués aux systèmes embarqués.  Des développeurs et autres techniciens, aux ressources humaines et simplement intéressés, par exemple, les joueurs (après tout, il était possible de pirater <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Romero</a> lui-même) ou les amateurs de bricolage.  Il y avait l'AQ de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">COMAQA, il y</a> avait des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chefs d'</a> équipe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Burning Lead</a> .  Il y avait des communautés de différentes villes (Rostov, Tver, Krasnodar).  En conséquence, les rapports et les stands étaient très différents dans le sujet.  Par exemple, notre stand était situé entre la communauté des chefs d'équipe Burning Lead et le stand du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Club des directeurs informatiques de Saint-Pétersbourg</a> . <br><br>  En conséquence, des gens d'horizons très différents se sont approchés de notre stand, il y avait des développeurs Web et des joues dotnet, il y avait JS et des avantages.  Quelqu'un s'est souvenu qu'il faisait quelque chose sur l'AVR alors qu'il était encore à l'université, quelqu'un disait qu'il s'amusait avec RaPi ou Arduino.  Il y avait beaucoup de poussins DotNet, beaucoup se demandaient si nous avions un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.NET Micro Framework</a> .  Nous avons même pensé à ne pas le traîner vers nous.  On s'attendait à ce qu'il y ait beaucoup de questions sur Rust.  Bref, à mon avis, les organisateurs ont réussi à bien mettre en œuvre l'idée du festival «Découvrez ce que vivent les autres!».  Après tout, comme dans n'importe quel festival, l'essentiel ici est de voir les autres et de se montrer :). <br><br>  Oui, les photos ne sont pas données ici.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quelques photos</a> , y compris avec un garçon vivant Volodya, peuvent être <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vues</a> dans notre groupe.  Eh bien, bien sûr, dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le groupe techtrain, un</a> tas de photos de haute qualité, ils ont promis d'en publier plus. <br><br><h2>  Lancer le logiciel de bureau sur un microcontrôleur </h2><br>  Mon rapport était une sorte de résumé des résultats de plusieurs de nos travaux sur le lancement de logiciels de bureau ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenCV</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pjsip</a> ).  Le rapport s'adresse au grand public.  Pour un habr j'essaierai de réduire beaucoup de détails, et pour les choses nécessaires je donnerai le lien ou les mots-clés pour la recherche. <br><br>  Pour commencer, je vais donner une sorte d’ordre du jour.  En fait, il y aura 3 parties.  Tout d'abord, j'expliquerai les difficultés de transfert de logiciels de bureau vers des microcontrôleurs, et en cours de route, j'expliquerai la différence entre le microcontrôleur et le microprocesseur.  Je vais également répondre à une question clé, par <s>exemple, bayan de chèvre</s> , pourquoi exécuter un logiciel de bureau sur un microcontrôleur, et enfin, je vais vous dire comment nous avons pu réduire considérablement le coût de transfert de ce logiciel de «bureau» vers des microcontrôleurs. <br><br><h3>  Quelle est la différence entre les microcontrôleurs et les microprocesseurs </h3><br>  Donc, une de nos questions sur la quête a sonné et peut-être sous l'influence de cela, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> est apparu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur un programmeur typique</a> expliquant en quoi elles diffèrent.  Je suis d'accord avec tout dans l'article, mais nous essaierons de l'expliquer dans nos propres mots et de faire plusieurs autres accents. <br><br>  Qu'est-ce qu'une microcontrôleur (MCU)?  Si vous regardez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> , vous pouvez comprendre qu'un microcontrôleur est un système sur une puce, c'est-à-dire qu'un processeur et des périphériques sont situés sur une seule puce. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le terme système sur puce (System-on-a-Chip, SoC)</a> est un concept plus large qu'un microcontrôleur.  Il s'agit d'un tel circuit électronique intégré dans une seule puce, qui contient un microprocesseur (CPU) et des périphériques.  Dans tout téléphone mobile, il y a une puce dans laquelle, en plus de plusieurs cœurs de processeur, il y a un tas de périphériques.  Même les processeurs x86 incluent désormais des ponts et même des GPU.  Mais je veux me concentrer non pas sur un classement clair, mais sur les fonctionnalités.  Tout le monde sait que les systèmes sur puce: <br><ul><li>  Consommez moins </li><li>  Sont moins chers </li><li>  Moins productif </li></ul><br>  Tout le monde ne sait pas qu'ils sont encore plus fiables en réduisant le nombre de contacts et peuvent avoir une plus grande plage de température. <br><br>  Le microcontrôleur a une intégration encore plus grande et comprend également de la mémoire (RAM et ROM), qui est également référée à la périphérie.  En conséquence, les propriétés sont préservées, consomment encore moins, coûtent encore moins, encore moins productives, encore plus fiables. <br><br>  Je veux parler de «encore moins productif» plus en détail.  Le fait est que, d'une part, c'est vrai, prenez n'importe quel CPU ou SoC à usage général moderne et voyez des performances nettement supérieures dans ce qu'on appelle les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DMIPS</a> .  Mais si vous pensez pourquoi une telle performance?  À titre d'exemple, je vais donner les jeux Quake and Doom (dont le créateur était John Romero au festival), ils ont très bien fonctionné sur le Pentium MMX.  Mais les performances des systèmes basés sur ce CPU sont déjà bloquées par des microcontrôleurs haut de gamme.  Je veux dire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">STM32F7</a> ou même <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">STM32H7</a> .  Autrement dit, sur la base de ces MCU, il est tout à fait possible d'exécuter des applications de niveau Doom et Quake, ce qui, vous en convenez, n'est pas mauvais du tout. <br><br>  Parlons d'une autre caractéristique du MCU - la mémoire interne.  Elle, comme je l'ai dit, se trouve directement sur la puce et, par conséquent, est très rapide.  Mais elle, bien sûr, ne suffit pas.  Mais combien peu?  Le microcontrôleur STM32F769 contient 2 Mo de mémoire flash (ROM) et 512 + 16 + 4 ko SRAM (RAM).  De plus, par exemple, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte STM32F769i-disco</a> possède également une mémoire externe (SDRAM 128 Mbit et mémoire Flash Quad-SPI 512 Mbit), qui est adressée directement.  Je ne parle même pas de la possibilité de connecter une carte SD ou USB.  Eh bien, si vous vous souvenez de la célèbre phrase «640 kb devrait suffire à tout le monde», alors la question raisonnable se pose - pourquoi les logiciels de bureau modernes sont-ils si gourmands?  Par exemple, une calculatrice dans Windows 10 en mode veille consomme jusqu'à 16 Mo de mémoire. <br><br>  Passons à la prochaine fonctionnalité du MCU, la présence de la ROM.  En fait, les systèmes dotés d'un CPU contiennent également une ROM; l'exécution démarre à partir de celle-ci et le BIOS démarre, mais le reste du logiciel est chargé dans la RAM et exécuté à partir de celle-ci.  Dans les systèmes embarqués, il est habituel d'exécuter du code directement, qui est appelé eXecute-In-Place (XIP), Linux, en passant, prend également en charge ce mode, mais l'essentiel est de tout charger dans la mémoire principale et même de l'exécuter.  La possibilité d'exécuter directement à partir de la ROM est importante pour deux raisons: la première est l'architecture Harvard, la séparation du bus de commande et du bus de données vous permet d'augmenter la vitesse d'exécution du programme;  la seconde - eh bien, naturellement, moins de mémoire est gaspillée, car au moins un segment de code n'a pas besoin d'être copié ailleurs. <br><br>  Une autre caractéristique clé du MCU est l'absence d'un module tel que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MMU</a> , c'est-à-dire que les microcontrôleurs ne prennent pas en charge le matériel pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la gestion de la mémoire virtuelle</a> .  Dans le MCU, même pas tous ont des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MPU</a> , et le code s'exécute dans le même espace d'adressage, il est donc difficile d'organiser un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fork complet ()</a> .  Mais fork () lui-même, comme nous l'avons écrit dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«fork () vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vfork () »est un</a> appel système assez lourd, et selon sa fonctionnalité, dans de nombreux cas, il peut être remplacé par vfork () ou posix_spawn (). <br><br>  En résumé, en quoi les microcontrôleurs diffèrent des microprocesseurs, nous pouvons dire ce qui suit: <br>  En termes de matériel: <br><ul><li>  Les microcontrôleurs ont tous les périphériques nécessaires, y compris la mémoire </li><li>  Les microcontrôleurs ont beaucoup moins de mémoire </li><li>  Les microcontrôleurs n'ont pas de MMU matérielle </li><li>  Les microcontrôleurs ont une vitesse d'horloge inférieure et peuvent avoir une architecture de processeur différente (architecture cadeau) </li></ul><br><br>  En termes de propriétés de consommation: <br><ul><li>  Les microcontrôleurs consomment moins d'énergie, peuvent fonctionner sur batterie </li><li>  Les microcontrôleurs sont moins chers </li><li>  Les microcontrôleurs sont plus fiables </li><li>  Les microcontrôleurs sont moins productifs </li></ul><br><br><h3>  Pourquoi exécuter un logiciel de bureau sur un microcontrôleur </h3><br>  Ainsi, les microcontrôleurs sont moins productifs et étaient initialement destinés (et destinés) aux tâches de contrôle.  Alors pourquoi exécuter sur eux un logiciel conçu pour une autre classe de systèmes?  Eh bien, même si leur puissance est déjà suffisante pour de telles tâches, mais ces tâches peuvent être résolues de manière traditionnelle pour les microcontrôleurs.  Autrement dit, pour utiliser divers petits RTOS ou écrire du code à partir de zéro, ce qu'on appelle le bare-metal.  Il y a une réponse évidente, au départ les tâches de gestion étaient très simples, maintenant les exigences de fonctionnalité augmentent rapidement.  Même à partir d'une ampoule minable dont ils attendent le contrôle via Internet, je ne parle pas de la bouilloire, ils vont probablement bientôt sélectionner la composition du thé selon l'humeur du propriétaire et chauffer la quantité optimale d'eau à la température optimale afin d'améliorer la situation environnementale.  :) <br><br>  Par conséquent, il n'est pas surprenant que des tentatives soient constamment faites pour utiliser le logiciel déjà développé dans les microcontrôleurs.  Par exemple, ucLinux est l'une des premières tentatives largement connues pour exécuter Linux sur de petites plates-formes, maintenant c'est le mode NOMMU principalement Linux.  L'idée était d'exécuter Linux sur des plates-formes matérielles sans MMU, mais nous avons découvert que c'est l'une des principales différences entre le CPU et le MCU. <br><br>  En bref, les avantages d'utiliser un logiciel prêt à l'emploi: <br><ul><li>  Réduisez les coûts de développement </li><li>  Délai de mise sur le marché plus court </li><li>  Réduction des erreurs dans le code.  Les logiciels prêts à l'emploi sont plus fiables. </li></ul><br><br><h3>  Comment nous le faisons chez Embox </h3><br>  Ici vous comprenez, vous pouvez parler très longtemps, mais encore une fois j'essaierai d'esquisser les points principaux dans une thèse et de manière accessible. <br><br>  Le premier.  Embox utilise le système de construction Mybuild avec son propre langage pour décrire les modules et les systèmes, nous l'avons écrit dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«Mybuild - un système de construction pour les applications modulaires»</a> .  Ce système de construction vous permet de ne rien inclure de superflu dans l'image, ou plutôt d'inclure uniquement ce qui est requis.  Vous pouvez vraiment affiner les caractéristiques du système, par exemple, pour exécuter PJSIP sur STM32F7, nous avons limité le nombre de paquets Ethernet à 16 en écrivant simplement une ligne dans le fichier de configuration du système <br><pre><code class="cpp hljs">include embox.net.skbuff(amount_skb=<span class="hljs-number"><span class="hljs-number">16</span></span>)</code> </pre> <br>  Mybuild analyse les dépendances et génère divers artefacts, y compris les fichiers d'en-tête, les scripts de l'éditeur de liens et les Makefiles.  Tout cela permet de réduire considérablement la quantité de mémoire requise et de ne pas inclure les parties qui ne sont pas du tout utilisées. <br><br>  Le deuxième.  De toute évidence, Embox doit prendre en charge POSIX et il est pris en charge.  De plus, nous avons implémenté notre propre bibliothèque standard, car elle doit également être reconstruite en fonction de la configuration du système. <br><br>  Le troisième.  Liaison statique.  Afin d'éviter les problèmes avec un seul espace d'adressage, de réduire la taille de l'image et de n'inclure que les parties requises, nous utilisons un lien statique.  À différentes étapes, différentes parties du système sont assemblées, mais finalement tout (le noyau, tous les sous-systèmes, bibliothèques et applications) est lié en une seule image.  Il contient toutes les informations sur tous les personnages de l'image.  Et bien qu'à première vue, nous ayons de nombreuses applications avec des points d'entrée int (..) standard, mais dans l'image résultante, ce seront des caractères différents qui seront disponibles sur le système à partir de la ligne de commande. <br><br>  Quatrièmement.  Nous avons dû implémenter un runtime pour C ++, car de nombreuses applications et bibliothèques populaires utilisent des avantages. <br><br>  Cinquièmement.  Nous avons ajouté la possibilité d'utiliser le système de construction <br><pre> <code class="bash hljs"> ./configure; make; make install</code> </pre> <br>  Après avoir téléchargé la source quelque part et appliqué les correctifs nécessaires. <br><br><h3>  Conclusion </h3><br>  Aujourd'hui, les exigences fonctionnelles pour les systèmes qui étaient auparavant réalisés sur des microcontrôleurs ont considérablement augmenté.  Les systèmes de contrôle devraient être compatibles avec les systèmes universels.  Les caractéristiques des microcontrôleurs ont également considérablement augmenté, ce qui vous permet d'exécuter des logiciels sur eux avec les fonctionnalités correspondantes.  Historiquement, les logiciels pour microcontrôleurs à des fins d'optimisation ont été écrits pour une tâche spécifique, mais avec une augmentation des exigences fonctionnelles, il est nécessaire d'appliquer des approches du monde des systèmes universels qui peuvent augmenter considérablement la fiabilité des logiciels, à savoir la réutilisation des modules, le développement distribué.  Logiciel universel, bien qu'il ne prenne pas en compte les caractéristiques des systèmes embarqués, mais dispose de fonctionnalités nettement supérieures et fonctionnant bien.  Par conséquent, l'utilisation de logiciels de bureau sur des microcontrôleurs donne un gain.  En effet, d'une part, vous pouvez utiliser une plate-forme matérielle moins chère, plus fiable et moins consommatrice, et d'autre part, le coût de développement de tels systèmes est considérablement réduit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466379/">https://habr.com/ru/post/fr466379/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466365/index.html">Développement d'un système d'exploitation monolithique de type Unix - Prise en main (1)</a></li>
<li><a href="../fr466367/index.html">Niveau d'API Android, compatibilité ascendante et descendante</a></li>
<li><a href="../fr466371/index.html">Les 3 principales objections de vente auxquelles vous pourriez être confronté en travaillant avec des technologies de tendance</a></li>
<li><a href="../fr466373/index.html">Développement de bots Python TamTam</a></li>
<li><a href="../fr466375/index.html">Museum DataArt. KUVT2 - étudier et jouer</a></li>
<li><a href="../fr466381/index.html">Comment les ampoules LED Era ont changé en 2019</a></li>
<li><a href="../fr466383/index.html">Cryptocurrency Ocean: examen des 50 meilleurs projets avec CoinMarketCap</a></li>
<li><a href="../fr466385/index.html">Comprendre les courtiers de messages. Apprentissage de la mécanique de la messagerie via ActiveMQ et Kafka. Chapitre 1</a></li>
<li><a href="../fr466397/index.html">Nous reprogrammons le caissier et imprimons dessus Keanu Reeves. Partie 2. Logiciel PC</a></li>
<li><a href="../fr466401/index.html">Un peu de mathématiques financières: calculer l'inflation et les intérêts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>