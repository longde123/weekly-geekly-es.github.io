<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçç ‚öúÔ∏è ‚ôíÔ∏è C√≥mo se representa el marco de Rise of the Tomb Raider üòç üîó ü§¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Rise of the Tomb Raider (2015) es la secuela del excelente reinicio de Tomb Raider (2013). Personalmente, encuentro ambas partes interesantes porque s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo se representa el marco de Rise of the Tomb Raider</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436500/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/5p/s6/1k5ps6qnv2soku_ymxsemz7wnxa.gif"></div><br>  Rise of the Tomb Raider (2015) es la secuela del excelente reinicio de Tomb Raider (2013).  Personalmente, encuentro ambas partes interesantes porque se alejaron de la serie original estancada y volvieron a contar la historia de Lara.  En este juego, como en la precuela, el lugar central est√° ocupado por la trama, proporciona una mec√°nica fascinante de elaboraci√≥n, caza y escalada / investigaci√≥n. <br><br>  Tomb Raider us√≥ Crystal Engine, desarrollado por Crystal Dynamics, tambi√©n usado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Deus Ex: Human Revolution</a> .  La secuela utiliz√≥ un nuevo motor llamado Foundation, desarrollado previamente para Lara Croft y el Templo de Osiris (2014).  Su representaci√≥n generalmente se puede describir como un motor de mosaico con un pase de iluminaci√≥n preliminar, y luego descubriremos lo que esto significa.  El motor le permite elegir entre los renderizadores DX11 y DX12;  Eleg√≠ este √∫ltimo, por las razones que discutimos a continuaci√≥n.  Para capturar el marco, se utiliz√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Renderdoc</a> 1.2 en la Geforce 980 Ti, el juego incluye todas las funciones y decoraciones. <br><br><h2>  Marco analizado </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/254/df9/0bb/254df90bbbfd5498710f37624e12d1f4.jpg"></div><br>  Para evitar spoilers, dir√© que en este marco los malos est√°n persiguiendo a Lara, porque ella est√° buscando un artefacto que est√°n buscando.  Este conflicto de intereses no puede resolverse sin armas.  Lara se col√≥ en la base enemiga por la noche.  Eleg√≠ un marco con iluminaci√≥n atmosf√©rica y de contraste, en el que el motor puede mostrarse. <a name="habracut"></a><br><br><h4>  Profundidad de avance </h4><br>  Aqu√≠, se realiza la optimizaci√≥n habitual para muchos juegos: un peque√±o paso preliminar de la profundidad (aproximadamente 100 llamadas de sorteo).  El juego representa los objetos m√°s grandes (y no los que ocupan m√°s espacio en la pantalla) para aprovechar las caracter√≠sticas del procesador de video Early-Z.  Lea m√°s sobre esto en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un art√≠culo de Intel</a> .  En resumen, las GPU pueden evitar ejecutar un sombreador de p√≠xeles si pueden determinar que se superpone con el p√≠xel anterior.  Este es un pasaje de bastante bajo costo, que llena previamente el b√∫fer Z con valores de profundidad. <br><br>  En este punto, descubr√≠ una t√©cnica interesante de nivel de detalle (LOD) llamada "fizzle" o "tablero de ajedrez".  Esta es una forma com√∫n de mostrar u ocultar gradualmente objetos a distancia, para que luego puedan reemplazarse con una malla de menor calidad u ocultarlos por completo.  Mira este cami√≥n.  Parece que est√° renderizando dos veces, pero de hecho est√° renderizando con un LOD alto y un LOD bajo en la misma posici√≥n.  Cada uno de los niveles representa aquellos p√≠xeles que el otro no renderiz√≥.  El primer LOD tiene 182,226 v√©rtices, y el segundo LOD tiene 47,250. A gran distancia son indistinguibles, pero uno de ellos es tres veces menos costoso.  En este marco, LOD 0 casi desaparece y LOD 1 se renderiza casi por completo.  Despu√©s de la desaparici√≥n completa de LOD 0, solo se representar√° LOD 1. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c31/d8d/24e/c31d8d24e58229c27fb4edf6f635974d.png"></div><br>  <i>LOD 0</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bf/3b4/5bb/7bf3b45bbe13521b4bae010f72a702a7.png"></div><br>  <i>LOD 1</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jy/7r/it/jy7rit_bwqm4n0lwpzzlydyx5rs.gif"></div><br>  La textura pseudoaleatoria y el coeficiente de probabilidad nos permite descartar p√≠xeles que no han pasado el valor umbral.  Esta textura se usa en ROTR.  Uno puede preguntarse por qu√© no se usa la mezcla alfa.  La mezcla alfa tiene muchos inconvenientes en comparaci√≥n con el desvanecimiento por fizzle. <br><br><ol><li>  <strong>Conveniencia para el pasaje preliminar de las profundidades:</strong> gracias a la representaci√≥n de un objeto opaco con agujeros hechos en √©l, podemos renderizar en el pasaje preliminar y usar temprano-z.  Los objetos con mezcla alfa en una etapa tan temprana no se procesar√°n en el b√∫fer de profundidad debido a problemas de clasificaci√≥n. </li><li>  <strong>La necesidad de sombreadores adicionales</strong> : si se usa un renderizador diferido, el sombreador de los objetos opacos no contiene ninguna iluminaci√≥n.  Si necesita reemplazar un objeto opaco por uno transparente, entonces necesita una opci√≥n separada en la que haya iluminaci√≥n.  Adem√°s de aumentar la cantidad de memoria necesaria y la complejidad debido a al menos un sombreador adicional para todos los objetos opacos, deben ser precisos para evitar que los objetos avancen.  Esto es complicado por muchas razones, pero todo se reduce al hecho de que el renderizado ahora se realiza en una ruta de c√≥digo diferente. </li><li>  <strong>Redibujos m√°s grandes</strong> : la combinaci√≥n alfa puede crear redibujos grandes, y con un cierto nivel de complejidad de los objetos, puede ser necesaria una gran fracci√≥n del ancho de banda para sombrear el LOD. </li><li>  <strong>Conflictos Z</strong> : los <strong>conflictos</strong> z son un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">efecto de parpadeo</a> cuando dos pol√≠gonos se representan a una profundidad muy cercana entre s√≠.  En este caso, la inexactitud de los c√°lculos de coma flotante obliga a que se procesen a su vez.  Si renderizamos dos LOD consecutivos, ocultando gradualmente uno y mostrando el segundo, entonces pueden causar un conflicto z, porque est√°n muy cerca el uno del otro.  Siempre hay formas de evitar esto, por ejemplo, prefiriendo un pol√≠gono a otro, pero este sistema es complejo. </li><li>  <strong>Efectos de Z-Buffer</strong> : Muchos efectos como SSAO usan solo el buffer de profundidad.  Si renderizamos objetos transparentes al final de la tuber√≠a cuando la oclusi√≥n ambiental ya se complet√≥, no podr√≠amos tenerlo en cuenta. </li></ol><br>  La desventaja de esta t√©cnica es que se ve peor que la mezcla alfa, pero un buen patr√≥n de ruido, desenfoque despu√©s de la efervescencia o anti-aliasing temporal puede ocultarlo casi por completo.  En este sentido, ROTR no hace nada particularmente inusual. <br><br><h4>  Pase normal </h4><br>  Crystal Dynamics utiliza un patr√≥n de iluminaci√≥n bastante inusual en sus juegos, que cubriremos en el pasillo de iluminaci√≥n.  Por ahora, basta con decir que el motor no tiene un pase G-buffer;  al menos en la medida en que es familiar en otros juegos.  En este pasaje, los objetos transmiten solo informaci√≥n sobre la profundidad y las normales a la salida.  Las normales se registran en el destino de representaci√≥n del formato RGBA16_SNORM en el espacio mundial.  Es curioso que este motor utilice el esquema Z-up, no el Y-up (el eje Z se dirige hacia arriba, no el eje Y), que se usa con mayor frecuencia en otros motores / paquetes de modelado.  El canal alfa contiene brillo, que luego se desempaqueta como <code>exp2(glossiness * 12 + 1.0)</code> .  El valor de brillo tambi√©n puede ser negativo, porque el signo se usa como una bandera que indica si la superficie es met√°lica.  Esto se puede notar por s√≠ solo, porque todos los colores oscuros en el canal alfa est√°n relacionados con objetos met√°licos. <br><br><table><tbody><tr><td>  <strong><font color="#ff0000">R</font></strong> </td><td>  <strong><font color="#00ff00">G</font></strong> </td><td>  <strong><font color="0000ff">B</font></strong> </td><td></td></tr><tr><td>  <strong>Normal.x</strong> </td><td>  <strong>Normal.y</strong> </td><td>  <strong>Normal.z</strong> </td><td>  <b>Brillo + Metalidad</b> </td></tr></tbody></table><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e8/209/484/1e8209484fe730d178c4afffef4c8f93.jpg"></div><br>  <i>Normal</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fb/dd3/b2d/8fbdd3b2d2ddbce3111a4c017e7daef3.jpg"></div><br>  <i>Brillo / metalidad</i> <br><br>  <strong>Ventajas de la partida</strong> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa1/b15/52b/aa1b1552b0f81c2122d094441e531f3f.jpg"></div><br>  ¬øRecuerda que en la secci√≥n "Profundidad preliminar", hablamos sobre el ahorro de costos de p√≠xeles?  Volver√© un poco para ilustrarlo.  Toma la siguiente imagen.  Esto representa la parte detallada de la monta√±a en el b√∫fer normal.  Renderdoc resalt√≥ amablemente los p√≠xeles que pasaron la prueba de profundidad con verde, y los que no la pasaron con rojo (no se mostrar√°n).  El n√∫mero total de p√≠xeles que se representar√≠an sin este pase preliminar es aproximadamente igual a 104518 (calculado en Photoshop).  El n√∫mero total de p√≠xeles que realmente se representan es 23858 (calculado por Renderdoc).  ¬°Ahorre alrededor del 77%!  Como vemos, con un uso inteligente, este pase preliminar puede dar una gran ganancia, y solo requiere alrededor de cien llamadas de extracci√≥n. <br><br>  <strong>Grabar comandos multiproceso</strong> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/919/5d0/623/9195d06236fd6247cea6e6065f05e9e8.png"></div><br>  Vale la pena se√±alar un aspecto interesante, por lo que eleg√≠ el renderizador DX12: grabar comandos de subprocesos m√∫ltiples.  En API anteriores, como DX11, la representaci√≥n generalmente se realiza en un solo hilo.  El controlador de gr√°ficos recibi√≥ comandos de representaci√≥n del juego y transmiti√≥ constantemente solicitudes de GPU, pero el juego no sab√≠a cu√°ndo ocurrir√≠a esto.  Esto conduce a la ineficiencia, porque el controlador debe de alguna manera adivinar lo que la aplicaci√≥n est√° tratando de hacer, y no escala a m√∫ltiples hilos.  Las API m√°s nuevas, como DX12, transfieren el control a un desarrollador que puede decidir c√≥mo escribir comandos y cu√°ndo enviarlos.  Aunque Renderdoc no puede mostrar c√≥mo se realiza la grabaci√≥n, ver√° que hay siete pases de color marcados como Color Pass N, y cada uno de ellos est√° envuelto en un par de ExecuteCommandList: Reset / Close.  Marca el comienzo y el final de la lista de comandos.  La lista representa aproximadamente 100-200 llamadas de sorteo.  Esto no significa que fueron grabados usando varias transmisiones, pero lo insin√∫a. <br><br>  <strong>Huellas en la nieve</strong> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca6/d21/2e8/ca6d212e89b61f52738dfbd01363e366.jpg"></div><br>  Si miras a Lara, puedes ver que cuando se mueve frente a la captura de pantalla, deja huellas en la nieve.  En cada cuadro, se ejecuta un sombreador de c√°lculo, que registra las deformaciones en ciertas √°reas y las aplica en funci√≥n del tipo y la altura de la superficie.  Aqu√≠, solo se aplica el mapa normal a la nieve (es decir, la geometr√≠a no cambia), pero en algunas √°reas donde la nieve es m√°s gruesa, la deformaci√≥n se lleva a cabo.  Tambi√©n puedes ver c√≥mo la nieve "cae" en su lugar y llena las huellas dejadas por Lara.  Esta t√©cnica se describe con mucho m√°s detalle en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GPU Pro 7</a> .  La textura de urdimbre de nieve es un tipo de mapa de elevaci√≥n que rastrea los movimientos de Lara y se pega alrededor de los bordes para que el sombreador de muestreo pueda aprovechar este plegado. <br><br><h4>  Atlas de sombras </h4><br>  Al crear mapeo de sombras, se utiliza un enfoque bastante com√∫n: empacar tantas tarjetas de sombras como sea posible en una textura de sombra com√∫n.  Tal atlas de sombras es en realidad una gran textura de 16 bits con un tama√±o de 16384 √ó 8196.  Esto le permite reutilizar y escalar de manera muy flexible los mapas de sombras en el atlas.  En el marco que estamos analizando, se registran 8 mapas de sombras en el atlas.  Cuatro de ellos se relacionan con la fuente principal de iluminaci√≥n direccional (la luna, porque sucede en la noche), porque usan mapas de sombras en cascada, una t√©cnica bastante est√°ndar de sombras de larga distancia para iluminaci√≥n direccional, que ya expliqu√© un poco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">antes</a> .  M√°s interesante a√∫n, varias fuentes de proyecci√≥n y foco tambi√©n se incluyen en la captura de este marco.  El hecho de que se graben 8 mapas de sombras en este marco no significa que solo haya 8 fuentes de iluminaci√≥n de sombras proyectadas en √©l.  El juego puede almacenar en cach√© los c√°lculos de sombras, es decir, la iluminaci√≥n que no ha cambiado ni la posici√≥n de la fuente ni la geometr√≠a del alcance no debe actualizar su mapa de sombras. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f00/8d9/169/f008d9169bd3490c26f923bcc4ea8e85.jpg"></div><br>  Parece que la representaci√≥n de mapas de sombras tambi√©n se beneficia al escribir comandos de subprocesos m√∫ltiples en la lista, y en este caso, se escribieron hasta 19 listas de comandos para representar mapas de sombras. <br><br>  <strong>Sombras de la iluminaci√≥n direccional.</strong> <br><br>  Las sombras de la iluminaci√≥n direccional se calculan antes del paso de la iluminaci√≥n y luego se muestrean.  No s√© qu√© pasar√≠a si hubiera varias fuentes de iluminaci√≥n direccional en la escena. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/209/845/cef209845628db5e68588f07880542eb.jpg"></div><br><h4>  Oclusi√≥n ambiental </h4><br>  Para la oclusi√≥n ambiental, ROTR le permite usar HBAO o una variante de HBAO + (esta t√©cnica fue publicada originalmente por NVIDIA).  Hay varias variaciones de este algoritmo, por lo que considerar√© el que encontr√© en ROTR.  Primero, el b√∫fer de profundidad se divide en 16 texturas, cada una de las cuales contiene 1/16 de todos los valores de profundidad.  La separaci√≥n se realiza de tal manera que cada textura contiene un valor de un bloque 4 √ó 4 de la textura original que se muestra en la figura a continuaci√≥n.  La primera textura contiene todos los valores marcados en rojo (1), la segunda contiene los valores marcados en azul (2), y as√≠ sucesivamente.  Si desea saber m√°s sobre esta t√©cnica, aqu√≠ hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un art√≠culo de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Louis Bavoil</a> , quien tambi√©n fue uno de los autores del art√≠culo sobre HBAO. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c9/2dc/60f/1c92dc60fe369caed766efe18dd2739d.png"></div><br>  El siguiente paso calcula la oclusi√≥n ambiental para cada textura, lo que nos da 16 texturas AO.  Se genera una oclusi√≥n ambiental de la siguiente manera: el tamp√≥n de profundidad se muestrea varias veces, recreando la posici√≥n y acumulando el resultado del c√°lculo para cada una de las muestras.  Cada textura de oclusi√≥n ambiental se calcula utilizando diferentes coordenadas de muestreo, es decir, en un bloque de 4x4 p√≠xeles, cada p√≠xel cuenta su propia parte de la historia.  Esto se hace por razones de rendimiento.  Cada p√≠xel ya muestrea el b√∫fer de profundidad 32 veces, y el efecto completo requerir√° 16 √ó 32 = 512 muestras, lo que es un fracaso incluso para las GPU m√°s potentes.  Luego se recombinan en una textura de pantalla completa, que resulta ser bastante ruidosa, por lo que para suavizar los resultados justo despu√©s de eso, se realiza un pase de desenfoque de pantalla completa.  Vimos una soluci√≥n muy similar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Shadow of Mordor</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/25f/e57/dd8/25fe57dd8001f561e9a971b36b57085e.png" alt="imagen"></div><br>  <i>Piezas HBAO</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/113/e1b/7d0/113e1b7d065a25b8f4dfb8dce29c808c.png" alt="imagen"></div><br>  <i>HBAO completo con ruido</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/063/bfe/cd1/063bfecd15cdf8d62a0b6221fddfe4ee.png" alt="imagen"></div><br>  <i>Desenfoque horizontal completo HBAO</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51d/af9/8e2/51daf98e295b549a57089b4d17df1975.png" alt="imagen"></div><br>  <i>Listo HBAO</i> <br><br><h4>  Pre-pase de iluminaci√≥n en mosaico </h4><br>  Light Prepass es una t√©cnica bastante inusual.  La mayor√≠a de los equipos de desarrollo usan una combinaci√≥n de c√°lculo de iluminaci√≥n diferida + directa (con variaciones, por ejemplo, con mosaico, agrupaci√≥n) o completamente directa para algunos efectos del espacio de la pantalla.  La t√©cnica de pre-iluminaci√≥n es tan inusual que merece una explicaci√≥n.  Si el concepto de iluminaci√≥n tradicional retrasada es separar las propiedades de los materiales de la iluminaci√≥n, entonces la idea de separar la iluminaci√≥n de las propiedades de los materiales es la piedra angular del paso preliminar de la iluminaci√≥n.  Aunque esta redacci√≥n parece un poco tonta, la diferencia con la iluminaci√≥n diferida tradicional es que almacenamos todas las propiedades del material (como albedo, color especular, rugosidad, metalidad, microoclusi√≥n, emisivo) en un enorme G-buffer, y lo usamos m√°s tarde como datos de entrada para pases de iluminaci√≥n posteriores.  La iluminaci√≥n diferida tradicional puede presentar una gran carga en el rendimiento;  cuanto m√°s complejos son los materiales, m√°s informaci√≥n y operaciones se necesitan en el G-buffer.  Sin embargo, en el pase de iluminaci√≥n preliminar, primero acumulamos toda la iluminaci√≥n por separado, utilizando la cantidad m√≠nima de datos, y luego los aplicamos en pases posteriores a los materiales.  En este caso, la iluminaci√≥n es suficiente solo para condiciones normales, aspereza y metalidad.  Los sombreadores (aqu√≠ se usan dos pases) generan datos en tres formatos de renderizado RGBA16F.  Uno contiene iluminaci√≥n difusa, el segundo contiene iluminaci√≥n especular y el tercero contiene iluminaci√≥n ambiental.  En este punto, todos los datos sombra se tienen en cuenta.  Es curioso que en el primer paso (iluminaci√≥n difusa + espejo) para un pase de pantalla completa, se use un cuadr√°ngulo de dos tri√°ngulos, y en otros efectos, se usa un tri√°ngulo de pantalla completa (por qu√© esto es importante, puede averiguarlo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ).  Desde este punto de vista, todo el marco no es integral. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/41d/6ba/a3b/41d6baa3b45cc3e0df1423eaf015d416.jpg" alt="imagen"></div><br>  <i>Iluminaci√≥n difusa</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cd/0c5/137/9cd0c513782787daa220b7627b11b28e.jpg" alt="imagen"></div><br>  <i>Iluminaci√≥n del espejo</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33d/ed9/cbc/33ded9cbc62470319b7729b542b7e830.jpg" alt="imagen"></div><br>  <i>Iluminaci√≥n ambiental</i> <br><br>  <strong>Optimizaci√≥n de azulejos</strong> <br><br>  La iluminaci√≥n de azulejos es una t√©cnica de optimizaci√≥n dise√±ada para representar una gran cantidad de fuentes de luz.  ROTR divide la pantalla en mosaicos de 16 √ó 16, y luego guarda informaci√≥n sobre qu√© fuentes se cruzan con cada mosaico, es decir, los c√°lculos de iluminaci√≥n se realizar√°n solo para aquellas fuentes relacionadas con los mosaicos.  Al comienzo del marco, se inicia una secuencia de sombreadores computacionales, que determinan qu√© fuentes se relacionan con los mosaicos.  En la etapa de iluminaci√≥n, cada p√≠xel determina en qu√© mosaico se encuentra y recorre cada fuente de luz en el mosaico, realizando todos los c√°lculos de iluminaci√≥n.  Si las fuentes est√°n vinculadas a los mosaicos de manera eficiente, puede ahorrar una gran cantidad de c√≥mputo y la mayor parte del ancho de banda, as√≠ como aumentar la productividad. <br><br>  <strong>Zoom de profundidad</strong> <br><br>  El muestreo ascendente basado en profundidad es una t√©cnica interesante √∫til en este y pases posteriores.  A veces, los algoritmos computacionalmente caros no se pueden representar a resoluci√≥n completa, por lo que se representan a una resoluci√≥n m√°s baja y luego se ampl√≠an.  En nuestro caso, la iluminaci√≥n ambiental se calcula en la mitad de la resoluci√≥n, es decir, despu√©s de los c√°lculos, la iluminaci√≥n debe recrearse correctamente.  En la forma m√°s simple, se toman 4 p√≠xeles de baja resoluci√≥n y se interpolan para obtener algo parecido a la imagen original.  Esto funciona para transiciones suaves, pero no se ve bien en las discontinuidades, porque all√≠ mezclamos valores no relacionados que pueden ser adyacentes en el espacio de la pantalla, pero distantes entre s√≠ en el espacio mundial.  En soluciones a este problema, generalmente se toman varias muestras de b√∫fer de profundidad y se comparan con la muestra de profundidad que queremos recrear.  Si la muestra est√° demasiado lejos, entonces no la tenemos en cuenta al reconstruir.  Tal esquema funciona bien, pero significa que el sombreador de recreaci√≥n requiere mucho ancho de banda. <br><br>  ROTR hace un movimiento complicado con el descarte temprano de la plantilla.  Despu√©s de pasar las normales, el b√∫fer de profundidad est√° completamente lleno, por lo que el motor realiza un pase de pantalla completa, marcando todos los p√≠xeles interrumpidos en el b√∫fer de plantilla.  Cuando llega el momento de recrear el b√∫fer de iluminaci√≥n ambiental, el motor usa dos sombreadores: uno es muy simple para √°reas sin espacios de profundidad, el otro es m√°s complejo para p√≠xeles con espacios.  La plantilla temprana descarta p√≠xeles si no pertenecen a la regi√≥n correspondiente, es decir, solo hay costos en las regiones necesarias.  Las siguientes im√°genes son mucho m√°s claras: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/747/912/729/747912729abfecffd281c72e8ca4e258.jpg" alt="imagen"></div><br>  <i>Iluminaci√≥n ambiental de media resoluci√≥n</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f0d/e46/b7e/f0de46b7e19ace552377d1a39d86ed22.png" alt="imagen"></div><br>  <i>Escalando las profundidades del interior</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d64/354/63b/d6435463b209e7361831b279abcf1ae1.jpg" alt="imagen"></div><br>  <i>Iluminaci√≥n ambiental de resoluci√≥n completa, sin costillas</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db5/e12/702/db5e1270220121c5ca9c2a9277d519ed.png" alt="imagen"></div><br>  <i>Escalando las profundidades de las costillas</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ea/971/5cf/3ea9715cf0c57785d926b0711808b256.jpg" alt="imagen"></div><br>  <i>Listo iluminaci√≥n ambiental</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a5/5d2/128/4a55d2128ab191fb120ca3c1c4310c95.jpg" alt="imagen"></div><br>  <i>Vista de media resoluci√≥n</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd4/eaa/a07/cd4eaaa0719a527bcdd1add09f00597b.jpg" alt="imagen"></div><br>  <i>Una vista de primer plano de la imagen recreada</i> <br><br>  Despu√©s del paso preliminar de la iluminaci√≥n, la geometr√≠a se transfiere al transportador, solo que esta vez cada objeto muestra texturas de iluminaci√≥n, textura de oclusi√≥n ambiental y otras propiedades de materiales que no escribimos en el G-buffer desde el principio.  Esto es bueno, porque el ancho de banda se guarda en gran medida aqu√≠ debido al hecho de que no es necesario leer un mont√≥n de texturas para escribirlas en un gran G-buffer, y luego leerlas / decodificarlas nuevamente.  El inconveniente obvio de este enfoque es que toda la geometr√≠a necesita retransmitirse, y la textura del paso preliminar de la iluminaci√≥n en s√≠ misma representa una gran carga en el rendimiento.  Me preguntaba por qu√© no usar un formato m√°s ligero, por ejemplo R11G11B10F, para las texturas preliminares del pase de iluminaci√≥n, pero hay informaci√≥n adicional en el canal alfa, por lo que esto ser√≠a imposible.  Sea como fuere, esta es una soluci√≥n t√©cnica interesante.  En este punto, toda la geometr√≠a opaca ya est√° renderizada y encendida.  Tenga en cuenta que incluye objetos emisores de luz, como el cielo y la pantalla del port√°til. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2eb/3cb/0a3/2eb3cb0a3f58c521079fc2bbd1b3fd67.jpg"></div><br><h4>  Reflexiones </h4><br>  Esta escena no es un buen ejemplo para demostrar reflexiones, as√≠ que eleg√≠ otra.  El sombreador de reflejos es una combinaci√≥n bastante complicada de ciclos que se puede reducir a dos partes: uno muestra mapas c√∫bicos y el otro realiza SSR (Reflexi√≥n del espacio de la pantalla - c√°lculo de reflexiones en el espacio de la pantalla);  todo esto se hace en una pasada y al final se mezcla teniendo en cuenta el coeficiente que determina si el SSR detect√≥ reflexi√≥n (probablemente el coeficiente no es binario, sino que es un valor en el intervalo [0, 1]).  SSR funciona de manera est√°ndar para muchos juegos: rastrea repetidamente el b√∫fer de profundidad, tratando de encontrar la mejor intersecci√≥n entre el rayo reflejado por la superficie sombreada y otra superficie en cualquier lugar de la pantalla.  SSR funciona con la cadena mip de la escala previamente reducida del b√∫fer HDR actual, y no con todo el b√∫fer. <br><br>  Tambi√©n existen factores de correcci√≥n como el brillo de la reflexi√≥n, as√≠ como la peculiar textura de Fresnel, que se calcul√≥ antes de este pasaje, en funci√≥n de las condiciones normales y la rugosidad.  No estoy completamente seguro, pero despu√©s de estudiar el c√≥digo de ensamblaje, me parece que ROTR solo puede calcular SSR para superficies lisas.  El motor no tiene una cadena de mip borrosa despu√©s de la etapa SSR, que existe en otros <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">motores</a> , y ni siquiera hay nada como rastrear el b√∫fer de profundidad utilizando rayos, que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">var√≠a seg√∫n la rugosidad</a> .  En general, las superficies m√°s rugosas reciben reflejos de los mapas c√∫bicos, o no los reciben en absoluto.  Sin embargo, donde SSR funciona, su calidad es muy alta y estable, teniendo en cuenta el hecho de que no se acumula con el tiempo y no se realiza el desenfoque espacial.  Los datos alfa tambi√©n admiten SSR (en algunos templos se pueden ver reflejos muy hermosos en el agua) y esta es una buena adici√≥n que no se ve con frecuencia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5af/b6f/093/5afb6f0937fe9b172b8e38d3f0459b9b.jpg" alt="imagen"></div><br>  <i>Reflexiones para</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ecc/66d/c6c/ecc66dc6ca98108593b9a5ec4695dc63.jpg" alt="imagen"></div><br>  <i>Tamp√≥n de reflexi√≥n</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec9/6ff/e57/ec96ffe5730e775b678a47ae23906b73.jpg" alt="imagen"></div><br>  <i>Reflexiones despu√©s</i> <br><br><h4>  Niebla encendida </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/578/565/d2a/578565d2af38eac19d8aff86b82cf710.jpg"></div><br>  En nuestra escena, la niebla est√° mal representada porque oscurece el fondo y, por lo tanto, es creada por part√≠culas, por lo que nuevamente utilizamos el ejemplo con reflejos.  La niebla es relativamente simple, pero bastante efectiva.  Hay dos modos: global, el color general de la niebla y el color de la dispersi√≥n interna obtenida del mapa c√∫bico.  Quiz√°s el mapa c√∫bico fue tomado nuevamente de los mapas de reflexi√≥n c√∫bicos, o tal vez creado de nuevo.  En ambos modos, la rarefacci√≥n de la niebla se toma de la textura global de rarefacci√≥n, en la que las curvas de rarefacci√≥n se empaquetan para varios efectos.  En tal esquema, es notable que proporcione una niebla iluminada de muy bajo costo, es decir  dispersando los cambios internos en el espacio, creando la ilusi√≥n de la interacci√≥n de la niebla con la iluminaci√≥n distante.  Este enfoque tambi√©n se puede utilizar para la dispersi√≥n atmosf√©rica hacia el interior cerca del cielo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e33/e0e/c3a/e33e0ec3aee95a3cd5a669b332946083.jpg" alt="imagen"></div><br>  <i>Niebla a</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/acb/5ed/c78/acb5edc78ab74eb97b9350c1e7aba261.jpg" alt="imagen"></div><br>  <i>Niebla despu√©s</i> <br><br><h4>  Iluminaci√≥n volum√©trica </h4><br>  En las primeras etapas del marco, se realizan varias operaciones para prepararse para la iluminaci√≥n volum√©trica.  Se copian dos memorias intermedias de la CPU a la GPU: √≠ndices de fuente de luz y datos de fuente de luz.  Ambos son le√≠dos por un sombreador computacional que genera una textura 3D de 40x23x16 de la vista de la c√°mara que contiene el n√∫mero de fuentes de luz que cruzan esta √°rea.  La textura es 40 √ó 23 porque cada mosaico ocupa 32 √ó 32 p√≠xeles (1280/32 = 40, 720/32 = 22.5), y 16 es el n√∫mero de p√≠xeles en profundidad.  La textura no incluye todas las fuentes de luz, sino solo aquellas que est√°n marcadas como voluminosas (hay tres en nuestra escena).  Como veremos a continuaci√≥n, hay otros efectos volum√©tricos falsos creados por texturas planas.  La textura mostrada tiene una resoluci√≥n m√°s alta: 160x90x64.  Despu√©s de determinar el n√∫mero de fuentes de luz por mosaico y su √≠ndice, tres sombreadores computacionales se ejecutan secuencialmente, realizando las siguientes operaciones: <br><br><ol><li>  El primer paso determina la cantidad de luz que ingresa a la celda dentro del volumen en forma de una pir√°mide de visibilidad.  Cada c√©lula acumula la influencia de todas las fuentes de luz, como si tuvieran part√≠culas suspendidas que reaccionan a la luz y devuelven parte de ella a la c√°mara. </li><li>  La segunda pasada difumina la iluminaci√≥n con un radio peque√±o.  Esto probablemente sea necesario para evitar parpadeos al mover la c√°mara, porque la resoluci√≥n es muy baja. </li><li>  El tercer paso omite la textura del volumen de adelante hacia atr√°s, agregando gradualmente la influencia de cada fuente y dando la textura final.  De hecho, simula la cantidad total de iluminaci√≥n entrante a lo largo del haz a una distancia dada.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dado que cada celda contiene una parte de la luz reflejada por las part√≠culas hacia la c√°mara, en cada una de ellas recibiremos una contribuci√≥n conjunta de todas las celdas previamente pasadas. </font><font style="vertical-align: inherit;">Este pasaje tambi√©n se difumina.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuando todo esto se completa, obtenemos una textura 3D que informa cu√°nta luz recibe una posici√≥n en particular en relaci√≥n con la c√°mara. </font><font style="vertical-align: inherit;">Todo lo que queda por hacer en el pasaje de pantalla completa es determinar esta posici√≥n, encontrar el v√≥xel correspondiente de la textura y agregarlo al b√∫fer HDR. </font><font style="vertical-align: inherit;">El sombreador de iluminaci√≥n en s√≠ es muy simple y contiene solo unas 16 instrucciones.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b58/939/e8a/b58939e8ae5abf2320c519abc51f6e8a.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iluminaci√≥n volum√©trica</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ab/006/e9d/1ab006e9d0b62e0ea0470751185ffe41.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iluminaci√≥n volum√©trica despu√©s</font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Renderizado de cabello </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si la funci√≥n PureHair no est√° habilitada, las capas est√°ndar de cabello se representan una encima de la otra. </font><font style="vertical-align: inherit;">Esta soluci√≥n todav√≠a se ve genial, pero me gustar√≠a centrarme en la √∫ltima tecnolog√≠a. </font><font style="vertical-align: inherit;">Si la funci√≥n est√° habilitada, el marco comienza con una simulaci√≥n del cabello de Lara con una secuencia de sombreadores computacionales. </font><font style="vertical-align: inherit;">La primera parte de Tomb Raider utiliz√≥ una tecnolog√≠a llamada TressFX, y en la secuela Crystal Dynamics implement√≥ una tecnolog√≠a mejorada. </font><font style="vertical-align: inherit;">Despu√©s de los c√°lculos iniciales, obtenemos hasta 7 buffers. </font><font style="vertical-align: inherit;">Todos ellos se usan para controlar el cabello de Lara. </font><font style="vertical-align: inherit;">El proceso es el siguiente:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicie un sombreador computacional para calcular valores de movimiento basados ‚Äã‚Äãen posiciones anteriores y actuales (para desenfoque de movimiento) </font></font></li><li>          1√ó1        () </li><li>   122       (Triangle Strip) (   ‚Äî  ).     ,         .    7 ,      .     ,      ,  .      ¬´ ¬ª. </li><li>  /   quad    ,     ,     .  ,          ,    . </li><li>       4,      (    ¬´ ¬ª) </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si est√° interesado en aprender m√°s sobre esto, entonces AMD tiene muchos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">presentaciones</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , porque es una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioteca p√∫blica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> creada por la compa√±√≠a </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Estaba confundido por la etapa anterior a la etapa 1, en la que se realiza la misma llamada de sorteo que en la etapa 3, se dice que representa solo valores de profundidad, pero de hecho el contenido no se representa, y esto es interesante; </font><font style="vertical-align: inherit;">quiz√°s Renderdoc no me est√° diciendo nada. </font><font style="vertical-align: inherit;">Sospecho que puede haber intentado ejecutar una solicitud de representaci√≥n condicional, pero no veo ninguna llamada de predicci√≥n.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21f/127/76f/21f12776f41f0893c37a677deca12529.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cabello recogido</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/832/f49/ecd/832f49ecd96406db87ee99f3b1089de0.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P√≠xeles visibles del cabello</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/289/33e/030/28933e0309107cfcb3120564d55fd412.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cabello sombreado</font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Representaci√≥n en mosaico de datos alfa y part√≠culas </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los objetos transparentes vuelven a utilizar la clasificaci√≥n de las fuentes de luz en mosaico calculadas para el paso de iluminaci√≥n preliminar de las fichas. Cada objeto transparente calcula su propia iluminaci√≥n en una pasada, es decir, el n√∫mero de instrucciones y ciclos se vuelve bastante aterrador (por eso se utiliz√≥ la pasada preliminar de iluminaci√≥n para objetos opacos). ¬°Los objetos transparentes incluso pueden realizar reflejos en el espacio de la pantalla si est√°n encendidos! Cada objeto se procesa en orden de atr√°s hacia adelante directamente en el b√∫fer HDR, incluyendo vidrio, llama, agua de rutina, etc. El pasaje alfa tambi√©n muestra los bordes resaltados cuando Lara se enfoca en alg√∫n objeto (por ejemplo, una botella con una mezcla combustible en una caja a la izquierda).</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/445/4a8/311/4454a83115f4118ab092fc1ff3bcaaf1.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo, las part√≠culas se convierten en un b√∫fer de media resoluci√≥n para suavizar la enorme carga en el ancho de banda creado por su repintado, especialmente cuando se utilizan muchas part√≠culas grandes que cubren la pantalla para crear niebla, niebla, llamas, etc. Por lo tanto, el tamp√≥n HDR y el tamp√≥n de profundidad disminuyen a la mitad en cada lado, despu√©s de lo cual comienza el procesamiento de part√≠culas. Las part√≠culas crean una gran cantidad de redibujado, algunos p√≠xeles se sombrean unas 40 veces. El mapa de calor muestra lo que quiero decir. Dado que las part√≠culas se renderizaron en la mitad de la resoluci√≥n, se usa el mismo truco de zoom inteligente que en la iluminaci√≥n ambiental (los espacios se marcan en la plantilla, el primer paso se convierte en p√≠xeles internos, el segundo recrea los bordes). Puede notar que las part√≠culas se convierten en otros efectos alfa, como la llama,brillo, etc. Esto es necesario para que el alfa se pueda clasificar correctamente en relaci√≥n con, por ejemplo, el humo. Tambi√©n puede notar que aqu√≠ aparecen rayos de luz "volum√©tricos", provenientes de focos de seguridad. Se agregan aqu√≠ y no se crean en la etapa de iluminaci√≥n volum√©trica. Esta es una forma econ√≥mica pero realista de crearlos a largas distancias.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e78/0f1/c77/e780f1c77d8c9031e10b1ddc6faf6b20.jpg" alt="imagen"></div><br> <i>  </i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1db/409/09c/1db40909cea712bec3b9f1d4eab109d7.jpg" alt="imagen"></div><br> <i> -</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c1/8f2/80a/2c18f280ab65f272470ff711def4b89e.jpg" alt="imagen"></div><br> <i>   1</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/098/e29/66c/098e2966cf5d8bdc62a7d76bfdc2344e.jpg" alt="imagen"></div><br> <i>   2</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e0b/c73/f5a/e0bc73f5ab35af88840eebe45f175074.jpg" alt="imagen"></div><br> <i>   3</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb0/6ef/e9e/eb06efe9eb6fe1db3e749e6b1a6c1c9c.jpg" alt="imagen"><br> <i>   </i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/56e/263/ba6/56e263ba63ae60ee5af108c172711410.jpg" alt="imagen"></div><br> <i>  </i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e8f/564/288/e8f564288ae2310272be7ac9899409d9.jpg" alt="imagen"></div><br> <i> -</i> <br><br><h4>     </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROTR realiza la velocidad de obturaci√≥n y la correcci√≥n de tono en una sola pasada. Sin embargo, aunque generalmente creemos que la correcci√≥n gamma ocurre con la correcci√≥n de tono, este no es el caso aqu√≠. Hay muchas formas de implementar la exposici√≥n, como hemos visto con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otros </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">juegos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . El c√°lculo de la luminancia en ROTR es muy interesante y casi no requiere datos intermedios o pases, por lo que explicaremos este proceso con m√°s detalle. Toda la pantalla se divide en 64 √ó 64 mosaicos, despu√©s de lo cual el c√°lculo de grupos (20, 12, 1) de 256 secuencias en cada uno comienza a llenar toda la pantalla. Cada hilo esencialmente realiza la siguiente tarea (el pseudoc√≥digo se presenta a continuaci√≥n):</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">16</span></span>; ++i) { uint2 iCoord = CalculateCoord(threadID, i, j); <span class="hljs-comment"><span class="hljs-comment">// Obtain coordinate float3 hdrValue = Load(hdrTexture, iCoord.xyz); // Read HDR float maxHDRValue = max3(hdrValue); // Find max component float minHDRValue = min3(hdrValue); // Find min component float clampedAverage = max(0.0, (maxHDRValue + minHDRValue) / 2.0); float logAverage = log(clampedAverage); // Natural logarithm sumLogAverage += logAverage; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada grupo calcula la suma logar√≠tmica de los 64 p√≠xeles (256 hilos, cada uno de los cuales procesa 16 valores). En lugar de almacenar el valor promedio, guarda la suma y el n√∫mero de p√≠xeles realmente procesados ‚Äã‚Äã(no todos los grupos procesan exactamente 64 √ó 64 p√≠xeles, porque, por ejemplo, pueden ir m√°s all√° de los bordes de la pantalla). Shader usa sabiamente el almacenamiento local de hilos para dividir la suma; cada flujo primero funciona con 16 valores horizontales, y luego los flujos separados resumen todos estos valores verticalmente, y finalmente el flujo de control de este grupo (flujo 0) agrega el resultado y los guarda en el b√∫fer. Este b√∫fer contiene 240 elementos, esencialmente d√°ndonos el brillo promedio de muchas √°reas de la pantalla. El siguiente comando inicia 64 hilos que recorren todos estos valores y los agregan,para obtener el brillo final de la pantalla. Tambi√©n regresa del logaritmo a unidades lineales.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No tengo mucha experiencia con t√©cnicas de exposici√≥n, pero al leer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta publicaci√≥n de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Krzysztof Narkovic se aclararon algunas cosas. Es necesario guardar en una matriz de 64 elementos para calcular el promedio m√≥vil, en el que puede ver los valores calculados anteriores y suavizar la curva para evitar cambios muy bruscos en el brillo, creando cambios bruscos en la velocidad de obturaci√≥n. Este es un sombreador muy complejo y todav√≠a no he descubierto todos sus detalles, pero el resultado final es el valor de la velocidad de obturaci√≥n correspondiente al cuadro actual. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de encontrar las velocidades de obturaci√≥n adecuadas, una pasada realiza la velocidad de obturaci√≥n final m√°s la correcci√≥n tonal. ROTR parece usar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapeo fotogr√°fico de tonos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que explica el uso de medios logar√≠tmicos en lugar de los medios habituales. </font><font style="vertical-align: inherit;">La f√≥rmula de correcci√≥n tonal en el sombreador (despu√©s de la exposici√≥n) se puede ampliar de la siguiente manera:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/yv/-k/bzyv-kjhv-hs6lj3mh4yfrh427w.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/id/zn/1d/idzn1d3rn-3qs7vrokrn94d9z1m.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una breve explicaci√≥n se puede encontrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No pude entender por qu√© es necesaria una divisi√≥n adicional por Lm, porque cancela la influencia de la multiplicaci√≥n. </font><font style="vertical-align: inherit;">En cualquier caso, whitePoint es 1.0, por lo que el proceso no hace mucho en este marco, la imagen solo cambia la velocidad de obturaci√≥n. </font><font style="vertical-align: inherit;">¬°Ni siquiera hay un l√≠mite para los valores del intervalo LDR! </font><font style="vertical-align: inherit;">Ocurre durante la gradaci√≥n de color, cuando el cubo de color limita indirectamente valores superiores a 1.0.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1a/92f/2e8/e1a92f2e852892aa137c170a56718f8e.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exposici√≥n a</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/788/c4f/905/788c4f905eecffaa8d5dbd12d1c8972d.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exposici√≥n despu√©s</font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Destello de lente </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los destellos de las lentes se representan de manera interesante. Un peque√±o pase preliminar calcula una textura 1xN (donde N es el n√∫mero total de elementos de deslumbramiento que se renderizar√°n como destellos de lente, en nuestro caso hay 28). Esta textura contiene el valor alfa de la part√≠cula y alguna otra informaci√≥n no utilizada, pero en lugar de calcularlo a partir de una solicitud de visibilidad o algo similar, el motor lo calcula analizando el b√∫fer de profundidad alrededor de la part√≠cula en el c√≠rculo. Para hacer esto, la informaci√≥n sobre los v√©rtices se almacena en un b√∫fer disponible para el sombreador de p√≠xeles.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a0/604/e96/8a0604e96d5a4fe4ebf691719f03d75f.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego, cada elemento se representa como simples planos alineados con el plano emitidos por las fuentes de luz. </font><font style="vertical-align: inherit;">Si el valor alfa es menor que 0.01, el valor NaN se asigna a la posici√≥n para que esta part√≠cula no se rasterice. </font><font style="vertical-align: inherit;">Son un poco como el efecto de floraci√≥n y agregan brillo, pero este efecto en s√≠ mismo se crea m√°s tarde.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/526/da9/a18/526da9a184f303dc8e3bfd82cd16034a.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lente estalla</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/465/440/335/4654403353e5b94dc7bae2a68b95ed88.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementos de destello de lente</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c1/f10/c43/5c1f10c4396cbd6a8502a28b5a53fe0f.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Destellos de lente despu√©s</font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bloom </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bloom utiliza un enfoque est√°ndar: reduciendo la resoluci√≥n del b√∫fer HDR, se a√≠slan los p√≠xeles brillantes y luego su escala se incrementa secuencialmente con desenfoque para expandir su √°rea de influencia. El resultado se ampl√≠a a la resoluci√≥n de la pantalla y la composici√≥n se superpone encima. Hay un par de puntos interesantes que vale la pena explorar. Todo el proceso se realiza utilizando 7 sombreadores computacionales: 2 para disminuci√≥n de muestras, 1 para desenfoque simple, 4 para acercamiento.</font></font><br><br><ol><li>                  target   (mip 1).        .  ,   mip-    ,           0.02. </li><li>     mip      mip 2, 3, 4  5. </li><li>       mip 5.        ,    .       ,             . </li><li>   ‚Äî   .  3          ,   mip N    mip N + 1,       ,     .     bloom      ,     . </li><li>     mip 1      HDR-,      bloom. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0c/478/bc7/b0c478bc7ccc0c4774cea8b2aaa4ec8b.jpg" alt="imagen"></div><br> <i>Bloom </i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f77/b74/99b/f77b7499b451e0f232b06d183ccc04f4.jpg"></div><br> <i>MIP 1   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c65/ae2/875/c65ae2875487b8a9b441a9ce0b137430.jpg"></div><br> <i>MIP 2   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/55b/9a4/757/55b9a4757f48867201dc76df90ea0dd1.jpg"></div><br> <i>MIP 3   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ba5/17d/a6f/ba517da6f179cca1067a08115579c155.jpg"></div><br> <i>MIP 4   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33f/91f/44d/33f91f44dcc1f9a395375fce8535ac2d.jpg" alt="imagen"></div><br> <i>MIP 5   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ecb/561/33d/ecb56133d1965bcc93024c5cded95ec7.jpg"></div><br> <i> MIP 5  Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/235/0ed/474/2350ed47490101cda12baffbd61fc8f0.jpg"></div><br> <i>MIP 4   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff0/cfb/4df/ff0cfb4dfeea995b8666d4b8aec057a1.jpg"></div><br> <i>MIP 3   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/980/7ca/a31/9807caa31251495050af2e2fd32b5e90.jpg" alt="imagen"></div><br> <i>MIP 2   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/857/4be/854/8574be854f2526857ef9b6854d6f7235.jpg"></div><br> <i>MIP 1   Bloom</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9be/aa8/8a1/9beaa88a1bf00876801bb103ef85dd16.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bloom after El</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aspecto curioso es que las texturas de escala reducida cambian la relaci√≥n de aspecto. </font><font style="vertical-align: inherit;">En aras de la visualizaci√≥n, los correg√≠, y solo puedo adivinar las razones de esto; </font><font style="vertical-align: inherit;">quiz√°s esto se hace para que los tama√±os de textura sean m√∫ltiplos de 16. Otro punto interesante: dado que estos sombreadores generalmente tienen un ancho de banda muy limitado, los valores almacenados en la memoria compartida del grupo se convierten de float32 a float16. </font><font style="vertical-align: inherit;">Esto permite que el sombreador intercambie operaciones matem√°ticas para duplicar la memoria libre y el ancho de banda. </font><font style="vertical-align: inherit;">Para que esto se convierta en un problema, el rango de valores deber√≠a ser bastante grande.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fxaa </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROTR admite una amplia gama de diferentes t√©cnicas de suavizado, como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXAA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Fast Approximate AA) y SSAA (Super Sampling AA). </font><font style="vertical-align: inherit;">Es de destacar que la opci√≥n de habilitar AA temporal est√° ausente, porque para la mayor√≠a de los juegos AAA modernos se est√° convirtiendo en est√°ndar. </font><font style="vertical-align: inherit;">Sea como fuere, FXAA hace frente a su tarea notablemente, SSAA tambi√©n funciona bien, esta es una opci√≥n bastante "pesada" si el juego carece de rendimiento.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Desenfoque de movimiento </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parece que Motion Blur utiliza un enfoque muy similar a la soluci√≥n en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shadows of Mordor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Despu√©s de renderizar la iluminaci√≥n volum√©trica, un pase de representaci√≥n separado genera los vectores de movimiento desde los objetos animados hasta el buffer de movimiento. Luego, este b√∫fer se combina con el movimiento causado por la c√°mara, y el b√∫fer de movimiento final se convierte en entrada al paso de desenfoque, que realiza el desenfoque en la direcci√≥n indicada por los vectores de movimiento del espacio de la pantalla. Para estimar el radio de desenfoque en unas pocas pasadas, se calcula la textura de los vectores de movimiento en una escala reducida para que cada p√≠xel tenga una idea aproximada de qu√© tipo de movimiento se encuentra cerca. El desenfoque se realiza en varias pasadas a media resoluci√≥n y, como vimos, m√°s tarde su escala con la ayuda de la plantilla aumenta en dos pasadas. Se realizan varios pases por dos razones: primero,para reducir la cantidad de lecturas de textura necesarias para crear desenfoque con un radio potencialmente muy grande y, en segundo lugar, porque se realizan diferentes tipos de desenfoque. Depende de si el personaje animado estaba en los p√≠xeles actuales.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f4/91d/df6/3f491ddf60c6a1a6b9caeaec316eab4f.jpg" alt="imagen"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenfoque de movimiento para</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e5/eb5/d42/2e5eb5d42d4e0c36c4c96e764538f8c8.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Velocidad de desenfoque de movimiento</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edf/3ed/2e7/edf3ed2e7144ec27ba21b3b16e606c7f.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pase de desenfoque de movimiento 1</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7c5/c65/931/7c5c6593183900a85a3d0372fce9eb03.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion Blur Pass 2</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a3/bc5/bcc/8a3bc5bcc85c92d698fc081e49c0f318.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion Blur Pass 3</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04f/5e1/a7e/04f5e1a7e722d9818c8a23ef5759c172.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion Blur Pass 4</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f9d/98f/579/f9d98f579e02acec8e3ef99e90bdd0c0.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion Blur Pass 5</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/99e/3ca/b5c/99e3cab5cbf5d25b2eea0d3311eae7cf.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion Blur Pass 6</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/042/af0/5bd/042af05bd488751c53bd97c73cb037fc.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenfoque de movimiento, acercamiento y alejamiento</font></font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e10/26d/c47/e1026dc47d9035e8713422ad8210e6a7.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenfoque de movimiento, bordes de zoom</font></font></i> <br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Caracter√≠sticas y detalles adicionales </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hay algunas cosas m√°s que vale la pena mencionar sin muchos detalles. </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Congelaci√≥n de la c√°mara: en climas fr√≠os agrega copos de nieve y escarcha a la c√°mara </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C√°mara sucia: agrega suciedad a la c√°mara. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Correcci√≥n de color: al final del cuadro, se realiza una peque√±a correcci√≥n de color, utilizando un cubo de color bastante est√°ndar para realizar la correcci√≥n de color, como se describi√≥ anteriormente, y tambi√©n agrega ruido para hacer que algunas escenas sean m√°s severas </font></font></li></ol><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> UI </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La interfaz de usuario se implementa de forma un poco inusual: representa todos los elementos en el espacio lineal. </font><font style="vertical-align: inherit;">Por lo general, en el momento de la representaci√≥n, la interfaz de usuario ya hab√≠a realizado la correcci√≥n de tono y la correcci√≥n gamma. </font><font style="vertical-align: inherit;">Sin embargo, ROTR usa espacio lineal hasta el final del cuadro. </font><font style="vertical-align: inherit;">Esto tiene sentido, porque el juego utiliza una reminiscencia de la interfaz de usuario 3D; </font><font style="vertical-align: inherit;">sin embargo, antes de grabar im√°genes sRGB en el b√∫fer HDR, deben convertirse al espacio lineal para que la operaci√≥n m√°s reciente (correcci√≥n gamma) no distorsione los colores.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para resumir </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espero que hayas disfrutado leyendo este an√°lisis de la misma manera que lo hice. </font><font style="vertical-align: inherit;">Personalmente, definitivamente aprend√≠ mucho de eso. </font><font style="vertical-align: inherit;">Felicitaciones a los talentosos desarrolladores de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crystal Dynamics</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por el fant√°stico trabajo realizado para crear este motor. </font><font style="vertical-align: inherit;">Tambi√©n quiero agradecer a Baldur Karlsson por su fant√°stico trabajo en Renderdoc. </font><font style="vertical-align: inherit;">Su trabajo hizo que la depuraci√≥n de gr√°ficos en una PC fuera un proceso mucho m√°s conveniente. </font><font style="vertical-align: inherit;">Creo que lo √∫nico que fue un poco complicado en este an√°lisis fue el seguimiento de los lanzamientos de sombreadores, porque al momento de escribir esta funci√≥n no est√° disponible para DX12. </font><font style="vertical-align: inherit;">Espero que con el tiempo aparezca y todos estemos muy contentos.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436500/">https://habr.com/ru/post/es436500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436490/index.html">Motorola planea introducir la encarnaci√≥n Razr v3</a></li>
<li><a href="../es436492/index.html">Estamos buscando oradores en el d√©cimo DIY Mitap 17 de febrero de 2019</a></li>
<li><a href="../es436494/index.html">Reemplazar un disco manteniendo la numeraci√≥n adecuada en CEPH</a></li>
<li><a href="../es436496/index.html">PVS-Studio para Java</a></li>
<li><a href="../es436498/index.html">Software AG: no solo ARIS</a></li>
<li><a href="../es436502/index.html">Pampers de suscripci√≥n o c√≥mo vender m√°s a los mismos clientes</a></li>
<li><a href="../es436504/index.html">Sistema en paquete, o ¬øQu√© hay debajo de la cubierta del paquete de chips?</a></li>
<li><a href="../es436506/index.html">C√≥mo crear un AI-racista sin mucho esfuerzo</a></li>
<li><a href="../es436508/index.html">$ 10 millones en inversiones y elogios de Wozniak: crear una computadora educativa para ni√±os</a></li>
<li><a href="../es436510/index.html">Datos centrales en detalle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>