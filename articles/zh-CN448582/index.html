<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¬ ğŸ¤ŸğŸ½ ğŸ‘ˆğŸ¾ åœ¨Kotlinä¸Šåˆ›å»ºæç¤ºè®¡ç®—å™¨ï¼šå®ƒå¦‚ä½•å·¥ä½œï¼Ÿ ğŸ ğŸ¤²ğŸ¼ ğŸ¤·ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„Kotlinæç¤ºè®¡ç®—å™¨åº”ç”¨ç¨‹åºã€‚ æ›´å…·ä½“åœ°è¯´ï¼ŒKotlin 1.3.21ï¼ŒAndroid 4å’ŒAndroid Studio3ã€‚é¦–å…ˆï¼Œå¯¹äºé‚£äº›å¼€å§‹å¼€å‘Androidåº”ç”¨ç¨‹åºçš„äººæ¥è¯´ï¼Œè¿™ç¯‡æ–‡ç« ä¼šå¾ˆæœ‰è¶£ã€‚ å®ƒä½¿æ‚¨èƒ½å¤Ÿäº†è§£å®ƒåœ¨åº”ç”¨ç¨‹åºä¸­çš„ä½œç”¨ä»¥åŠå·¥ä½œæ–¹å¼ã€‚ 

 å½“æ‚¨éœ€è¦è®¡ç®—...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åœ¨Kotlinä¸Šåˆ›å»ºæç¤ºè®¡ç®—å™¨ï¼šå®ƒå¦‚ä½•å·¥ä½œï¼Ÿ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/448582/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/775/c60/399/775c60399ffbcc7824f19acc01c5ddcc.png"></div><br> æˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªç®€å•çš„Kotlinæç¤ºè®¡ç®—å™¨åº”ç”¨ç¨‹åºã€‚ æ›´å…·ä½“åœ°è¯´ï¼ŒKotlin 1.3.21ï¼ŒAndroid 4å’ŒAndroid Studio3ã€‚é¦–å…ˆï¼Œå¯¹äºé‚£äº›å¼€å§‹å¼€å‘Androidåº”ç”¨ç¨‹åºçš„äººæ¥è¯´ï¼Œè¿™ç¯‡æ–‡ç« ä¼šå¾ˆæœ‰è¶£ã€‚ å®ƒä½¿æ‚¨èƒ½å¤Ÿäº†è§£å®ƒåœ¨åº”ç”¨ç¨‹åºä¸­çš„ä½œç”¨ä»¥åŠå·¥ä½œæ–¹å¼ã€‚ <br><br> å½“æ‚¨éœ€è¦è®¡ç®—å†³å®šå°†æ—¶é—´èŠ±åœ¨é¤é¦†æˆ–å’–å•¡é¦†çš„å…¬å¸çš„å°è´¹é‡‘é¢æ—¶ï¼Œè¿™ç§è®¡ç®—å™¨éå¸¸æœ‰ç”¨ã€‚ å½“ç„¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ï¼Œä¹Ÿä¸æ€»æ˜¯è®©ä¾è€…å–èŒ¶ï¼Œè¿™æ›´å¤šæ˜¯è¥¿æ–¹çš„ä¼ ç»Ÿï¼Œä½†æ˜¯åœ¨ä»»ä½•æƒ…å†µä¸‹å¼€å‘è¿™ç§åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹éƒ½å¾ˆæœ‰è¶£ã€‚ <br><a name="habracut"></a><br><blockquote>  <b>æˆ‘ä»¬æé†’æ‚¨ï¼š</b> <i>å¯¹äºæ‰€æœ‰â€œå“ˆå‹ƒâ€è¯»è€…æ¥è¯´ï¼Œä½¿ç”¨â€œå“ˆå‹ƒâ€ä¿ƒé”€ä»£ç æ³¨å†Œä»»ä½•Skillboxè¯¾ç¨‹æ—¶å‡å¯äº«å—10,000å¢å¸ƒçš„æŠ˜æ‰£ã€‚</i> <br><br>  <b>Skillboxå»ºè®®ï¼š</b>å®ç”¨è¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ Mobile Developer PROâ€</a> ã€‚ <br></blockquote> è¿™æ˜¯åº”ç”¨ç¨‹åºåœ¨è¿‡ç¨‹ä¸­çš„å¤–è§‚ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/377/25b/a5d/37725ba5d3b43432a2f6f245612bf9b0.gif"><br><br> æ‚¨è¾“å…¥æ‰€éœ€çš„æ€»é‡‘é¢ç™¾åˆ†æ¯”ï¼Œä¼šè®®å‚åŠ äººæ•°å¹¶è·å¾—ç»“æœ-åº”è¯¥ç•™ä¸‹çš„æç¤ºæ•°é‡ã€‚ <br><br><h3> å¼€å§‹ä½¿ç”¨ </h3><br> å®Œæ•´çš„åº”ç”¨ç¨‹åºç•Œé¢å¦‚ä¸‹ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dba/d96/944/dbad969440ad0dc32e80107e4aa85f7b.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb8/5c5/cb2/bb85c5cb2407a65e73744d53c405abf7.png"><br><br> ç¬¬ä¸€æ­¥æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‹è½½é¡¹ç›®åŸºç¡€çŸ¥è¯†</a> ã€‚ åœ¨Android Studio 3.0æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­æ‰“å¼€å®ƒã€‚ æˆ‘ä»¬æ„å»ºå¹¶å¯åŠ¨è¯¥é¡¹ç›®ï¼Œç„¶åçœ‹åˆ°ä¸€ä¸ªç™½è‰²å±å¹•ã€‚ ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œåº”è¯¥æ˜¯è¿™æ ·ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d1/70b/9e9/4d170b9e9fa171588c5450ede082fe4e.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/243/99e/21d/24399e21da463ba4b867dee479e04a27.png"><br><br> ç”¨æˆ·åŠ¨ä½œåœ¨é¡¹ç›®ä¸­æŒ‰æ—¶é—´é¡ºåºåˆ—å‡ºï¼Œä»¥ä¾¿æ‰€æœ‰å†…å®¹éƒ½æ¸…æ™°æ˜“æ‡‚ã€‚ è¦æŸ¥çœ‹å®ƒï¼Œè¯·æ‰“å¼€æŸ¥çœ‹-&gt;å·¥å…·çª—å£-&gt; TODOã€‚ <br><br> æˆ‘ä»¬ç ”ç©¶è¯¥é¡¹ç›®å¹¶æ‰“å¼€colors.xmlè¯„ä¼°è°ƒè‰²æ¿ã€‚ æ–‡æœ¬æ•°æ®ï¼ˆç­¾åï¼‰æ”¾ç½®åœ¨strings.xmlä¸­ï¼Œstyles.xmlä¸­æœ‰å‡ ä¸ªå­—ä½“æ¨¡æ¿ã€‚ <br><br><h3> æˆæœ¬éƒ¨åˆ†å¼€å‘ </h3><br> æ‰“å¼€activity_main.xmlå¹¶åœ¨LinearLayoutï¼ˆï¼ƒ1ï¼‰ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š <br><br><pre><code class="kotlin hljs">&lt;TextView android:id=<span class="hljs-string"><span class="hljs-string">"@+id/expensePerPersonTextView"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:paddingTop=<span class="hljs-string"><span class="hljs-string">"30dp"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/h1Bold"</span></span> android:textColor=<span class="hljs-string"><span class="hljs-string">"@color/colorAccent"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"0"</span></span>/&gt; &lt;TextView android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:paddingBottom=<span class="hljs-string"><span class="hljs-string">"25dp"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/h2"</span></span> android:textColor=<span class="hljs-string"><span class="hljs-string">"@color/colorAccent"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"@string/perPersonStaticText"</span></span>/&gt;</code> </pre> <br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">material.ioå·¥å…·</a>è‡ªå®šä¹‰valuesç›®å½•æ ·å¼æˆ–ä½¿ç”¨é¢œè‰²è¿›è¡Œæ’­æ”¾ã€‚ <br><br> ç°åœ¨é¡¹ç›®çœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c09/a61/b03/c09a61b03dcb6e026636d8e3103c2c88.png"><br>  <i>å¦‚æ‚¨æ‰€è§ï¼Œæˆæœ¬çš„è®¡ç®—æ˜¯æ ¹æ®ç”¨æˆ·ç”Ÿæˆçš„æ•°æ®è¿›è¡Œçš„ã€‚</i> <br><br><h3> å¸æˆ·ç§‘å‘å±• </h3><br> åœ¨è´¹ç”¨éƒ¨åˆ†ï¼ˆï¼ƒ2ï¼‰ä¹‹åï¼Œåœ¨LinearLayoutä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š <br><br><pre> <code class="kotlin hljs">&lt;LinearLayout android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:orientation=<span class="hljs-string"><span class="hljs-string">"vertical"</span></span> android:background=<span class="hljs-string"><span class="hljs-string">"@color/colorAccent"</span></span>&gt; &lt;! â€” TODO #<span class="hljs-number"><span class="hljs-number">3</span></span>: Build Bill Section â†’ â€¦ &lt;/LinearLayout&gt;</code> </pre> <br> åœ¨TODOåˆ—è¡¨ä¹‹åå…³é—­LinearLayoutï¼Œç„¶åæ·»åŠ ä¸€ä¸ªæ–°ä»£ç ï¼Œå°†å…¶æ”¾å…¥LinearLayoutï¼ˆï¼ƒ3ï¼‰ä¸­ï¼š <br><br><pre> <code class="kotlin hljs">&lt;TextView android:layout_margin=<span class="hljs-string"><span class="hljs-string">"15dp"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:textColor=<span class="hljs-string"><span class="hljs-string">"@color/colorWhite"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/h4"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"@string/billStaticText"</span></span>/&gt; &lt;EditText android:id=<span class="hljs-string"><span class="hljs-string">"@+id/billEditText"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:textColor=<span class="hljs-string"><span class="hljs-string">"@color/colorWhite"</span></span> android:inputType=<span class="hljs-string"><span class="hljs-string">"numberDecimal"</span></span> android:maxLines=<span class="hljs-string"><span class="hljs-string">"1"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/h2Bold"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"0"</span></span>/&gt;</code> </pre> <br> ç”±äºåº”ç”¨ç¨‹åºçš„ä¸»è¦ä»»åŠ¡æ˜¯ä¸ºé¤å…ä¸­çš„æ¯ä¸ªèšä¼šå‚ä¸è€…è®¡ç®—å•ä¸ªæˆæœ¬ï¼Œå› æ­¤ä¸»è¦å€¼ç”±costPerPersonTextViewæ’­æ”¾ã€‚ <br><br>  EditTextå°†è¾“å…¥é™åˆ¶ä¸ºä¸€è¡Œï¼›æ­¤å‚æ•°å¿…é¡»å…·æœ‰NumberDecimal inputTypeå€¼ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b16/ce5/2ec/b16ce52ecd384a86d069eae700959889.png"><br>  <i>æˆ‘ä»¬å¼€å§‹æµ‹è¯•é¡¹ç›®ï¼Œç„¶åè¾“å…¥æ€»æŸåçš„å‚æ•°ï¼ˆæ¯å­ï¼Œç›˜å­ç ´æŸç­‰ï¼‰</i> <br><br><h3> å¼€å‘â€œäººå‘˜å’ŒæŠ€å·§â€éƒ¨åˆ† </h3><br> è¦æ·»åŠ å¸å¤´ä½“ç§¯é€‰æ‹©ï¼Œè¯·åœ¨æ–°çš„LinearLayoutéƒ¨åˆ†ï¼ˆï¼ƒ4ï¼‰ä¸­æ’å…¥ä»¥ä¸‹ä»£ç ï¼š <br><br><pre> <code class="kotlin hljs">&lt;TextView android:layout_margin=<span class="hljs-string"><span class="hljs-string">"15dp"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:textColor=<span class="hljs-string"><span class="hljs-string">"@color/colorWhite"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/h4"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"@string/tipStaticText"</span></span>/&gt; &lt;LinearLayout android:layout_width=<span class="hljs-string"><span class="hljs-string">"match_parent"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:orientation=<span class="hljs-string"><span class="hljs-string">"horizontal"</span></span>&gt; &lt;ImageButton android:id=<span class="hljs-string"><span class="hljs-string">"@+id/subtractTipButton"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/operationButton"</span></span> android:layout_marginLeft=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span> android:layout_marginStart=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span> android:src=<span class="hljs-string"><span class="hljs-string">"@drawable/subtract"</span></span>/&gt; &lt;TextView android:id=<span class="hljs-string"><span class="hljs-string">"@+id/tipTextView"</span></span> android:layout_margin=<span class="hljs-string"><span class="hljs-string">"15dp"</span></span> android:layout_width=<span class="hljs-string"><span class="hljs-string">"0dp"</span></span> android:layout_height=<span class="hljs-string"><span class="hljs-string">"wrap_content"</span></span> android:textColor=<span class="hljs-string"><span class="hljs-string">"@color/colorWhite"</span></span> android:layout_weight=<span class="hljs-string"><span class="hljs-string">"1"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/h2Bold"</span></span> android:text=<span class="hljs-string"><span class="hljs-string">"20%"</span></span>/&gt; &lt;ImageButton android:id=<span class="hljs-string"><span class="hljs-string">"@+id/addTipButton"</span></span> style=<span class="hljs-string"><span class="hljs-string">"@style/operationButton"</span></span> android:layout_marginEnd=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span> android:layout_marginRight=<span class="hljs-string"><span class="hljs-string">"20dp"</span></span> android:src=<span class="hljs-string"><span class="hljs-string">"@drawable/add"</span></span>/&gt; &lt;/LinearLayout&gt;</code> </pre> <br> è¿™éƒ¨åˆ†ä»£ç å¯¹äºç²¾ç¡®è®¡ç®—å°è´¹é‡‘é¢æ˜¯å¿…éœ€çš„ã€‚ æ–‡æœ¬çš„é»˜è®¤å€¼ä¸º20ã€‚ImageButtonåœ¨æ–‡ä»¶å¤¹ä¸­æä¾›äº†å…·æœ‰å†™æƒé™çš„å›¾æ ‡ã€‚ <br><br> æˆ‘ä»¬å®Œå…¨å¤åˆ¶è¯¥éƒ¨åˆ†å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆï¼ƒ5ï¼‰ï¼š <br><br><ul><li>  ImageButton IDï¼ˆsubtractPeopleButtonï¼ŒaddPeopleButtonï¼‰ </li><li>  TextView IDï¼ˆnumberOfPeopleStaticTextï¼ŒnumberOfPeopleTextViewï¼‰ </li><li>  numberOfPeopleTextViewçš„DefaultTextï¼ˆå¿…é¡»ä¸º4ï¼‰ã€‚ </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/bb8/5c5/cb2/bb85c5cb2407a65e73744d53c405abf7.png"><br><br> ç°åœ¨ï¼Œå½“æ‚¨å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥æ·»åŠ å‘ç¥¨é‡‘é¢ï¼Œâ€œæ·»åŠ /å‡å»â€æŒ‰é’®ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æ²¡æœ‰ä»»ä½•ååº”ã€‚ <br><br><h3> æ·»åŠ è§†å›¾ </h3><br> æ‰“å¼€MainActivity.ktå¹¶å°†å…¶æ·»åŠ åˆ°initViewsï¼ˆï¼ƒ6ï¼‰å‡½æ•°ä¸­ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initViews</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { expensePerPersonTextView = findViewById(R.id.expensePerPersonTextView) billEditText = findViewById(R.id.billEditText) addTipButton = findViewById(R.id.addTipButton) tipTextView = findViewById(R.id.tipTextView) subtractTipButton = findViewById(R.id.subtractTipButton) addPeopleButton = findViewById(R.id.addPeopleButton) numberOfPeopleTextView = findViewById(R.id.numberOfPeopleTextView) subtractPeopleButton = findViewById(R.id.subtractPeopleButton) <span class="hljs-comment"><span class="hljs-comment">//TODO #8: Bind Buttons to Listener //TODO #16: Bind EditText to TextWatcher }</span></span></code> </pre> <br><h3> å®ŒæˆæŒ‰é’® </h3><br> ä¸ºäº†æ·»åŠ æŒ‰é’®å•å‡»æ”¯æŒï¼Œæˆ‘ä»¬å®ç°äº†ç±»çº§åˆ«çš„View.OnClickListenerï¼ˆï¼ƒ7ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>(), View.OnClickListener {</code> </pre> <br> ç°åœ¨æ— æ³•ç¼–è¯‘é¡¹ç›®ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä¸€äº›å…¶ä»–æ­¥éª¤ï¼ˆï¼ƒ8ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (v?.id) { R.id.addTipButton -&gt; incrementTip() R.id.subtractTipButton -&gt; decrementTip() R.id.addPeopleButton -&gt; incrementPeople() R.id.subtractPeopleButton -&gt; decrementPeople() } }</code> </pre> <br> å°±Kotlinçš„æŒ‰é’®å’Œå¼€å…³è€Œè¨€ï¼Œä¸€åˆ‡éƒ½ç»„ç»‡å¾—éå¸¸é…·ï¼ å°†ä¸‹é¢çš„ä»£ç æ·»åŠ åˆ°æ‰€æœ‰å¢é‡å’Œå‡é‡å‡½æ•°ä¸­ <br><br>  ï¼ˆï¼ƒ9-ï¼ƒ12ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementTip</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tipPercent != MAX_TIP) { tipPercent += TIP_INCREMENT_PERCENT tipTextView.text = String.format(<span class="hljs-string"><span class="hljs-string">"%d%%"</span></span>, tipPercent) } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decrementTip</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tipPercent != MIN_TIP) { tipPercent -= TIP_INCREMENT_PERCENT tipTextView.text = String.format(<span class="hljs-string"><span class="hljs-string">"%d%%"</span></span>, tipPercent) } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementPeople</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (numberOfPeople != MAX_PEOPLE) { numberOfPeople += PEOPLE_INCREMENT_VALUE numberOfPeopleTextView.text = numberOfPeople.toString() } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decrementPeople</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (numberOfPeople != MIN_PEOPLE) { numberOfPeople -= PEOPLE_INCREMENT_VALUE numberOfPeopleTextView.text = numberOfPeople.toString() } }</code> </pre> <br> æ­¤å¤„ï¼Œä»£ç ä½¿ç”¨æœ€å¤§å€¼ï¼ˆMAX_TIPå’ŒMAX_PEOPLEï¼‰ä¿æŠ¤å¢é‡åŠŸèƒ½ã€‚ æ­¤å¤–ï¼Œè¯¥ä»£ç è¿˜ä»¥æœ€å°å€¼ï¼ˆMIN_TIPï¼†MIN_PEOPLEï¼‰ä¿æŠ¤å‡é‡åŠŸèƒ½ã€‚ <br><br> ç°åœ¨ï¼Œå°†æŒ‰é’®ç»‘å®šåˆ°initViewså‡½æ•°ä¸­çš„ä¾¦å¬å™¨ä¸Šï¼ˆï¼ƒ13ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initViews</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { ... addTipButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) subtractTipButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) addPeopleButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) subtractPeopleButton.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-comment"><span class="hljs-comment">//TODO #15: Bind EditText to TextWatcher }</span></span></code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/d63/496/07b/d6349607bff6afada315fee2481dcbf6.gif"><br><br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥æ·»åŠ æ€»æŸå¤±ï¼Œæç¤ºå’Œä¼šè®®å‚ä¸è€…çš„æ•°é‡ã€‚ å¥½å§ï¼Œç°åœ¨æœ€é‡è¦çš„æ˜¯... <br><br><h3> æˆæœ¬æ ¸ç®—ç§‘ </h3><br> æ­¤ä»£ç è®¡ç®—æˆæœ¬ï¼ˆï¼ƒ14ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateExpense</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> totalBill = billEditText.text.toString().toDouble() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> totalExpense = ((HUNDRED_PERCENT + tipPercent) / HUNDRED_PERCENT) * totalBill <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> individualExpense = totalExpense / numberOfPeople expensePerPersonTextView.text = String.format(<span class="hljs-string"><span class="hljs-string">"$%.2f"</span></span>, individualExpense) }</code> </pre> <br> å¥½å§ï¼Œè¿™é‡Œè°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥è€ƒè™‘å…¬å¸ä¸­çš„äººæ•°å¹¶è®¡ç®—å°è´¹ï¼ˆï¼ƒ15ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementTip</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { â€¦ } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decrementTip</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { â€¦ } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incrementPeople</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { â€¦ } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decrementPeople</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { â€¦ }</code> </pre> <br> æˆ‘ä»¬å¯åŠ¨è¯¥åº”ç”¨ç¨‹åºã€‚ å®ƒçœ‹èµ·æ¥å¾ˆå¥½ç”¨ã€‚ ä½†è¿™å¯èƒ½ä¼šæ›´å¥½ã€‚ <br><br> å¦‚æœæ‚¨å°è¯•åˆ é™¤å‘ç¥¨é‡‘é¢ï¼Œç„¶åå¢åŠ æç¤ºæˆ–æœ‹å‹çš„æ•°é‡ï¼Œåˆ™è¯¥åº”ç”¨ç¨‹åºå°†å´©æºƒï¼Œå› ä¸ºå°šæœªæ£€æŸ¥é›¶æˆæœ¬ã€‚ æ­¤å¤–ï¼Œå¦‚æœæ‚¨å°è¯•æ›´æ”¹å‘ç¥¨é‡‘é¢ï¼Œåˆ™ä¸ä¼šæ›´æ–°æˆæœ¬ã€‚ <br><br><h3> æœ€åæ­¥éª¤ </h3><br> æ·»åŠ TextWatcherï¼ˆï¼ƒ16ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>(), View.OnClickListener, TextWatcher {</code> </pre> <br> ç„¶åï¼Œæˆ‘ä»¬åµŒå…¥billEditTextä¾¦å¬å™¨ï¼ˆï¼ƒ17ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs">billEditText.addTextChangedListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre> <br> å¦å¤–ï¼Œæ·»åŠ ä»£ç ä»¥æ‰§è¡ŒTextWatcherï¼ˆï¼ƒ18ï¼‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">CharSequence</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, start: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, before: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, count: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!billEditText.text.isEmpty()) { calculateExpense() } } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">afterTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Editable</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> {} <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">CharSequence</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, start: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, count: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, after: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {}</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/014/081/0eb/0140810eb741e3a9565f8611e97c4307.png"><br><br> å¥½å§ï¼Œç°åœ¨ç»å¯¹ä¸€åˆ‡æ­£å¸¸ï¼ æ­å–œï¼Œæ‚¨åœ¨Kotlinä¸Šç¼–å†™äº†è‡ªå·±çš„å°è´¹è®¡ç®—å™¨ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f13/b8e/f21/f13b8ef21e4f6a28e695dbc9b1207666.gif"><br><blockquote>  <b>Skillboxå»ºè®®ï¼š</b> <br><br><ul><li> ä¸¤å¹´å®è·µè¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œæˆ‘æ˜¯PRO Webå¼€å‘äººå‘˜â€</a> ã€‚ </li><li> åœ¨çº¿è¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ Cï¼ƒ-developerâ€</a> ã€‚ </li><li> å¹´åº¦å®è·µè¯¾ç¨‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ PHPå¼€å‘äººå‘˜ä»0åˆ°PROâ€</a> ã€‚ <br></li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN448582/">https://habr.com/ru/post/zh-CN448582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN448568/index.html">å¦‚ä½•å®æ–½ISO 27001ï¼šä½¿ç”¨è¯´æ˜</a></li>
<li><a href="../zh-CN448572/index.html">äººé™…äº¤æµæ­£åœ¨æˆä¸ºä¸€ç§å¥¢ä¾ˆå“</a></li>
<li><a href="../zh-CN448574/index.html">SEOä¾‹ç¨‹çš„ä¸€é¡¹ä»»åŠ¡ï¼šä¸‰æ­¥è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN448576/index.html">æ™¶ä½“ç®¡æ•…äº‹ç¬¬äºŒéƒ¨åˆ†ï¼šæ¥è‡ªæˆ˜äº‰çš„å©åŸš</a></li>
<li><a href="../zh-CN448580/index.html">CQ CQ CQèŠ‚æ—¥å¿«ä¹ï¼Œä¸šä½™æ— çº¿ç”µï¼ #WorldAmateurRadioDay</a></li>
<li><a href="../zh-CN448584/index.html">ä½¿ç”¨è‹±è¯­ä»‹è¯æ—¶çš„7ä¸ªå¸¸è§é”™è¯¯ä»¥åŠå¦‚ä½•é¿å…å®ƒä»¬</a></li>
<li><a href="../zh-CN448588/index.html">Yandex.Cloudä¸­çš„ç½‘ç»œè´Ÿè½½å‡è¡¡å™¨çš„ä½“ç³»ç»“æ„</a></li>
<li><a href="../zh-CN448590/index.html">ç†Ÿæ‚‰çš„é™Œç”Ÿäººæˆ–å†æ¬¡å…³äºä½¿ç”¨è®¾è®¡æ¨¡å¼</a></li>
<li><a href="../zh-CN448594/index.html">Sophosæä¾›å…è´¹çš„é˜²ç—…æ¯’å’Œé˜²ç«å¢™ï¼ˆUTMï¼ŒNGFWï¼‰</a></li>
<li><a href="../zh-CN448596/index.html">è·‘æ­¥æœºä¸Šçš„å¹³æ¿ç”µè„‘æ”¯æ¶æˆ–æœç´¢è‡ªç”±æ­¥</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>