<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ผ ๐ ๐ค๏ธ ุงูููุฏุณุฉ ุงูุนูุณูุฉ ููุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุฌูุงุฒ ุจุงุณุชุฎุฏุงู ูุซุงู "ูุญูุฏ ุงููุฑู" ุงููุงูุถ. ุงูุฌุฒุก 2 ๐ฅ ๐ฑ ๐คฑ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏู ุงูุชุจุงููู ุฅูู ุงูุฌุฒุก ุงูุซุงูู ูู ููุงูุฉ ุงูููุฏุณุฉ ุงูุนูุณูุฉ ูุจุฑูุงูุฌ Flashing Rhino ุงูุซุงุจุช ุงููุณุชูุฏ ุฅูู ูุฑุดุฉ ุนูู ูู ูุคุชูุฑ SMARTRHINO-2018 . 

 ูู ุงูุฌุฒุก ุงูุฃู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุฏุณุฉ ุงูุนูุณูุฉ ููุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุฌูุงุฒ ุจุงุณุชุฎุฏุงู ูุซุงู "ูุญูุฏ ุงููุฑู" ุงููุงูุถ. ุงูุฌุฒุก 2</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inforion/blog/412561/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ny/yo/jz/nyyojzktr_-hcfv4j7ygq_eaiuu.png"></div><br>  ููุฏู ุงูุชุจุงููู ุฅูู ุงูุฌุฒุก ุงูุซุงูู ูู ููุงูุฉ ุงูููุฏุณุฉ ุงูุนูุณูุฉ ูุจุฑูุงูุฌ Flashing Rhino ุงูุซุงุจุช ุงููุณุชูุฏ ุฅูู ูุฑุดุฉ ุนูู ูู ูุคุชูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SMARTRHINO-2018</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงูุฌุฒุก ุงูุฃูู ูู</a> ุงูููุงูุฉ ุ ุชู ุชุญููู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููุฌูุงุฒ ูู ุฃุฏุงุฉ ุชูููู IDA ูุชู ุฅุฌุฑุงุก ุชุญููู ุฃููู ูุฃูุงูุฑ ุจุฑูุชูููู ุงูุฌูุงุฒ.  ุชู ุงุฎุชุจุงุฑ ุงูุฃูุงูุฑ ุงููุฑุฏูุฉ ุนูู ุฌูุงุฒ ูุนูู. <br><br>  ูู ุงูุฌุฒุก ุงูุซุงูู ุ ุณูุชู ุฅุฌุฑุงุก ุชุญููู ูููุงู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงููุชุจููุฉ. <br><br>  ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑู ุ ุจุนุฏ ุชุญููู ูููุฉ Bluetooth ูู ุญูุซ ุงูุชุญูู ูู ูุตุงุจูุญ LED ุ ุชูุฑุฑ ุงูุชุจุฏูู ุฅูู ูููุฉ LED ุ ุญูุซ ุฃู ุงููููุฉ ุงูุฃูููุฉ ูู ุฅูุดุงุก ุชุทุจูู ููุชุญูู ูู ูุตุงุจูุญ LED ุ ูููุฐุง ููุฒู ููู ููุตู ูุนูููุฉ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช</a> ูุชุงุญ ููุฏุฑุงุณุฉ ุงููุณุชููุฉ. <br><br>  <i>ูุชู ุชูููุฑ ุฌููุน ุงููุนูููุงุช ููุฃุบุฑุงุถ ุงูุชุนููููุฉ ููุท.</i> <br><br>  ุชุญุช ุงููุทุฉ ููุงู ุงููุซูุฑ ูู ูุญูุฏ ุงููุฑู ูุงูุถ. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูููุฉ LED </h2><br>  <i>ุจุงุฎุชุตุงุฑ: ุชุญููู ูุงูู ูููููุฉ ุงููุณุคููุฉ ุนู ุชุจุฏูู ุงููุตุงุจูุญ.</i>  <i>ุชุญููู ุฃููุงุน ุงูุจูุงูุงุช ูุงููุชุบูุฑุงุช ุงูุนุงูููุฉ.</i> <br><br>  ูุชู ุชูุซูู ูููุฉ LED ุจูุงุณุทุฉ ุฏุงูุฉ <b>x_leds_task</b> ุงูููุฌูุฏุฉ ูู <code>0x08005A08</code> . <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฎุทูุท ุงูุบุฑูุจุฉ "ูุฏู ููุฉ ุฎุงุฑูุฉ ..." ูู ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ููููุฉ LED ุ ููููู ุงูุงูุชุจุงู ุฅูู ุงูุณุทุฑ <b>"hue&gt; max: change shine \ r \ n"</b> . <br><br><img src="https://habrastorage.org/webt/6j/7u/qv/6j7uqvcupizmfsbqca81as5dwlw.png"><br><br>  ูู ุงูููุช ููุณู ุ ูุฑู ุญุงูุฉ ูุฃูููุฉ - (WORD *) (ุขูุฉ ูขูฆ + ูค).  ูู ูุงุฆูุฉ ุงูุณูุงู ูููุชุบูุฑ v26 ุ ุญุฏุฏ ุงูุนูุตุฑ "ุชุญููู ุฅูู ุจููุฉ *" ุ ุซู ุญุฏุฏ ุงูุจููุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูุณุจููุง: <br><br><img src="https://habrastorage.org/webt/6a/2i/jv/6a2ijvqm631yl3ce5z6uom02znw.png"><br><br>  ุจุงููุธุฑ ุฅูู ุฃู <code>v5 = v26</code> ุ ูุฅููุง ููุฑุฑ ุนูููุฉ <i>"ุงูุชุญููู ุฅูู ุงูุจููุฉ *"</i> ูููุชุบูุฑ v5. <br><br>  ููุงุตู ููููุฉ ุงูููุฏ ูุงูุจูุงูุงุช.  ุชุนููู ุงูุชูุซูู ุงูุณุฏุงุณู ูู ูู ููุงู.  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  v5 - <b>ุจููุงุฏุฉ</b> ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฅุตุฏุงุฑ 6 - <b>idx</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ</b> 8 - <b>hue_1</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 9</b> - <b>hue_2</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 26</b> - <b>_led</b> ุ </li></ul><br>  ุงูููุฏ ูุชุญุณู.  ููู ุจุนุถ ุงููุชุบูุฑุงุช ูุง ุชุฒุงู ุชุคุฐู ุงูุนูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงููุชุบูุฑ v23: <br><br><img src="https://habrastorage.org/webt/pz/cp/ch/pzcpchfjgrlwgwwtbun85x6weve.png"><br><br><img src="https://habrastorage.org/webt/k1/4k/fi/k14kfil99uzjgtwdpimtjcrl-ye.png"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูู ูุง ูุจุฏู ุ v23 ุนุจุงุฑุฉ ุนู ุตููู ูู 4 ุจุงูุช.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  idx ูู ูุคุดุฑ LED.  ูุถุงู ูุฐุง ุงูููุฑุณ ุฅูู ุงูุนููุงู ุงูุฃุณุงุณู ุ  ุจูุฐู ุงูุทุฑููุฉ ุ ูุชู ุงููุตูู ุฅูู ุงูุนูุงุตุฑ ูู ููุณ ุนูููุงุช ุงูุฅุฒุงุญุฉ - ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุชุชุตุฑู ุจูุง ุงููุตูููุงุช. <br></div></div><br>  ูุญู ูุนูู ุงูููุน <code>char v23[4]</code> <b>ููุนูุฏ</b> ุชุณููุชู ุฅูู <b>leds_smth</b> ุ ููุตุจุญ ุงูููุฏ ุฃุฌูู: <br><br><img src="https://habrastorage.org/webt/3a/zp/vv/3azpvvasy-8oabd8be6tshcy6z8.png"><br><br>  ููููู ุฃูุถูุง ููุงุญุธุฉ ุฃู ูุชูุฌุฉ ุฏุงูุฉ x_queue_recv ูุชู ุฅุฑุฌุงุนูุง ุฅูู ุงููุชุบูุฑ v25: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">x_queue_recv(&amp;v25, leds_queue, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre> <br>  ูููู ูุฏ ูุง ูููู ูู ุงููุงุถุญ ููู ุชููู ุงูุจูุงูุงุช ุงูุชู ุชุญุชุงุฌูุง ูู ุงูุจููุฉ <i>_led</i> .  ูุงูุญูููุฉ ูู ุฃู ุงููุชุบูุฑูู v25 ู _led <b><i>ููุนุงู ุจุงููุฑุจ ูู ุงูููุฏุณ</i></b> - ููููู ููู ุฐูู ูู ุฎูุงู ุญูููุฉ ุฃูููุง ูู ุงูููู ุงููุชุฑุงุจุท <b><i>ูุชู</i></b> ูุชุงุจุชููุง ูู ุงูุณุทูุฑ ุงููุฌุงูุฑุฉ.  ูููู ุฑุคูุฉ ูููุน ุงููุชุบูุฑุงุช ุนูู ุงูููุฏุณ ูู ูุงูุฐุฉ ูููุตูุฉ ุฅุฐุง ููุช ุจุงูููุฑ ุงููุฒุฏูุฌ ุนูู ุงููุชุบูุฑ: <br><br><img src="https://habrastorage.org/webt/gm/1z/qs/gm1zqsoxvvppvneguj76arsppdu.png"><br><br>  ุฑุจูุง ุชููู ุจููุฉ ุ ุฃู ูุงู ุงููุชุฑุฌู ุจุจุนุถ ุงูุชุญุณูู.  ูุจุงูุชุงูู ุ ูููู ุงูููู ุฃู ุงูุจูุงูุงุช ูู ูููุฉ Bluetooth ูุชู ุฅุฑุณุงููุง ุฅูู ูููุฉ LED.  ููุนุฑูุฉ ุฃูุซุฑ ุฏูุฉ ุ ุณูู ุฃุชุญูู ูู ุงูุฌูุงุฒ - ููุญุตูู ุนูู ูุคุดุฑ LED ุตูุฑ ุนุจุฑ Bluetooth ุ ุณุฃุฑุณู ุงูููู <b>0x208</b> ุ <b>0x2D0</b> ุ <b>0x398</b> ุ <b>0x3E9</b> ุ ูุงูุชู ูููู ููุงุญุธุชูุง ูู ุงูุฑูุฒ: <br><br><img src="https://habrastorage.org/webt/f-/1k/ds/f-1kdsphlzdbhuc4q6dwtfk6zge.png"><br><br>  ูุชุงุฆุฌ ุงูุชุญูู ูู ูููุฉ ุงูุตุจุบุฉ ุนูู ุงูุฌูุงุฒ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  0x208 - ุชูููุช ูุคุดุฑุงุช LED ุนู ุงูุชุจุฏูู ุจุณูุงุณุฉ ูุชู ุชุนููููุง ูู ุงูุฃููุงู: ุงูุฃุญูุฑ ูุงูุฃุฎุถุฑ ูุงูุฃุฒุฑู ูุงูุฃุฑุฌูุงูู ุ </li><li style=";text-align:right;direction:rtl">  0x2D0 - ุจุฏุฃุช ุงููุตุงุจูุญ ูู ุงูุชุจุฏูู ูุฑุฉ ุฃุฎุฑู ุ </li><li style=";text-align:right;direction:rtl">  0x398 - ูู ูุชุบูุฑ ุดูุก ุ </li><li style=";text-align:right;direction:rtl">  0x3E9 - ูู ูุชุบูุฑ ุดูุก. </li></ul><br>  ุฅุฐุง ูุธุฑุช ุฅูู ุงูุฑูุฒ ูุฑุฉ ุฃุฎุฑู ุ ููููู ุฃู ุชุฑู ุฃูู ูููู ุฑุจุท ุงููููุฉ 0x398 ููุทูููุง ุจูููุฉ ุฃูู ูู 0x167 (ูุชู ุชุนููู ููู ูุฎุชููุฉ ูุนูุตุฑ ุงูุตููู <i>leds_smth</i> ).  ูุฐูู ุ ุณุฃููู ุจุฅุฌุฑุงุก ูุฐุง ุงููุญุต: ุฃููุงู ุ ุณุฃููู ุจุชุนููู ุฃูู LED ุฅูู ุงูููู ุงูุฃุฎุถุฑ (hue = 0x78 ุ <code>LED 010078FF20</code> ) ุ ุจูููุง ุชุณุชูุฑ ุงููุตุงุจูุญ ุงูุซูุงุซุฉ ุงูุฃุฎุฑู ูู ุชุจุฏูู ุฃููุงููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5h/mp/dc/5hmpdckwscpkhlgvth05w1xvmuy.gif"></div><br>  ุงูุขู ุณุฃููู <code>LED 010398FFFF</code> ุจุฑูุชูููู Bluetooth <code>LED 010398FFFF</code> - ุจุนุฏ ุฐูู ุชุญูู LED ุงูุฃูู ุฅูู ูุถุน ุชุจุฏูู ุงูููู ุงูุนุงู. <br><br>  ูุจุงูุชุงูู ุ ูุฅู ูููุฉ ุงูุตุจุบุฉ 0x398 ุชุนูุฏ ุชุนููู ูููุฉ ุงูููู ุงูุซุงุจุชุฉ ุ ููุง ูุนูู ุฃู ุงูุตููู leds_smth ูุญุชูู ุนูู ุฃุนูุงู (0 ุฃู 1) ูุดุบู ูุตุงุจูุญ LED: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  0 - LED ุบูุฑ ูุดุบูู ุ ูุดุงุฑู ูู ุงูุชุจุฏูู ุงูุณูุณ ููุฃููุงู ( <b>hue = 0x398</b> ) ุ </li><li style=";text-align:right;direction:rtl">  1 - ุงูุตูุงู ูุดุบูู ุ ูููู ุงููุณุชุฎุฏู ุจุชุนููู ููู ุซุงุจุช (ุตุจุบุฉ <b>&lt;= 0x167</b> ). </li></ul><br>  ุฅุนุงุฏุฉ ุชุณููุฉ leds_smth ุฅูู <b>leds_busy</b> . <br><br>  ุงูุขู ูุฌุจ ุฃู ูููู ุงูุบุฑุถ ูู ูุชูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ูุงุถุญูุง: <br><br><img src="https://habrastorage.org/webt/sb/x8/mf/sbx8mfnnah6gziclrsqmgdcmpu0.png"><br><br>  ุชุคุฏู ุงูุฏูุฑุฉ ูู ุงูุฎุทูุท 83-101 ูุณููุณุงุก ุฃููุงู ูุงุนูุฉ ูุน ุฎุทูุฉ ุชุจุฏูู ุงูููู ูู 5: <code>v12 += 5</code> .  ุฅุฐุง ูุงู ูุคุดุฑ LED ูุญุชูู ุนูู ููู ุซุงุจุช ููุฏ ุงูุชุดุบูู ุ ูุฅู ูุฐุง ุงููุคุดุฑ ูุง ูุดุงุฑู ูู ุงููุณููุณุงุก.  ุจุนุฏ ุงูุฏูุฑุฉ ุ ุชูุฌุฏ ุฎุทูุท ูุฅุฏุฑุงุฌ ุฌููุน ูุตุงุจูุญ LED ุนูู ุงููุฏู ุงููุตูุฑ. <br><br>  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_800678A - <b>x_led_set_hsv</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ</b> 12 - <b>hue_step</b> ุ </li><li style=";text-align:right;direction:rtl">  v13 ุ v17 ุ v18 ุ v19 - <b>led0_busy</b> ุ <b>led1_busy</b> ุ <b>led2_busy</b> ุ <b>led3_busy</b> ุ </li><li style=";text-align:right;direction:rtl">  v11 ุ v20 ุ v21 ุ v22 - <b>hue0</b> ุ <b>hue1</b> ุ <b>hue2</b> ุ <b>hue3</b> ุ </li><li style=";text-align:right;direction:rtl">  dword_200004C4 - <b>led_control</b> . </li></ul><br>  ูู ุงูููุชุฑุถ ุฃู ุชุคุฏู ูุธููุฉ sub_80039FE ูููุฉ (ูุฅูุง ูู ุชุชุบูุฑ ูุตุงุจูุญ LED ุจุณูุงุณุฉ ุ ูููู ุนูู ุงูููุฑ) ุ <b>ูููุทูู</b> ุนูููุง <b>x_sleep</b> ุ ูุงููุชุบูุฑ <b>v16</b> ูู <b>led_timeout</b> . <br><br>  ุงูุบุฑุถ ูู ูุธููุฉ sub_8006934 ููุณ ูุงุถุญูุง ุจุนุฏ ุ ูููู ูุชู ุงุณุชุฎุฏุงูู ูู ูู ููุงู ุจุนุฏ ุชุนููู ุงูููู ุนูู ูุตุงุจูุญ LED - ููููู <b>ุชุณููุชูุง ุจู x_led_fix_color</b> . <br><br>  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุณููุฉ ูุฐู ุ ูู ุงูุณูู ููู ุงููุธููุฉ <b>sub_8006944</b> (ุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ูู ุงูุตุจุบุฉ &lt;= 0x167 ุงููุฑุน): <br><br><img src="https://habrastorage.org/webt/nf/8a/j-/nf8aj-jzfsk9livqh_zxpwtojgq.png"><br><br>  ูููู ุจุจุณุงุทุฉ ุจุฅุฌุฑุงุก ูุญุต ุฅุถุงูู ูุชุญุฏูุฏ ููู LED.  ุฃุนุฏ ุชุณููุฉ ุงููุธููุฉ sub_8006944 ุฅูู <b>x_led_set_hsv_wrap</b> (ุงููุงุญูุฉ <i>_wrap</i> - ุชูุถูุญ ุฃู ูุฐุง "ุบูุงู" ุนูู ูุธููุฉ ุฃุฎุฑู) ููู ุจุชุนููู ุงููููุฐุฌ ุงูุฃููู ุงูุฎุงุต ุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">signed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> __<span class="hljs-function"><span class="hljs-function">fastcall </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x_led_set_hsv_wrap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> led_control, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">signed</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> idx, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> hue, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span></span></code> </pre> <br>  ุฏุนูุง ูุฑุฌุน ูุณุชูู ูุงุญุฏ ุฅูู ูุธููุฉ x_leds_task.  ูุฑุฉ ุฃุฎุฑู ุจุงููุธุฑ ุฅูู ุงูุฑูุฒ ุ ููููู ุฃู ุชุฌุฏ ุฃู ุงููุฑุน "hue&gt; 0x3E8" ุจุฏุฃ ูุจุฏู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/sh/tm/5j/shtm5jrmecd3quimykrcgognngs.png"><br><br>  ุจูุนูู ุ ูุฌุจ ุฃู ุชุบูุฑ ูููุฉ ุงูุตุจุบุฉ ุงูุฃูุจุฑ ูู 0x3E8 ูููุฉ ุงููุณููุณุงุก ุงูููููุฉ.  ุณูู ุฃุชุญูู ูู ุฎูุงู ุฅุฑุณุงู ุจุนุถ ุงูููู ุฅูู ุงูุฌูุงุฒ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  hue = 0x3E9 - ุจุฏุฃุช ูุตุงุจูุญ LED ุจุงูุชุจุฏูู ุจุณุฑุนุฉ: <br><br><img src="https://habrastorage.org/webt/1z/an/to/1zantozqcbgf0ho69jmgbvdd8v8.gif"><br></li><li style=";text-align:right;direction:rtl">  hue = 0xFFFF - ุจุฏุฃุช ูุตุงุจูุญ LED ูู ุงูุชุจุฏูู ุจุจุทุก ุดุฏูุฏ: <br><br><img src="https://habrastorage.org/webt/jr/ty/sn/jrtysngekw8_1ise6uwd0kikrhc.gif"><br></li></ul><br>  ุนูุฏ ุงูุฎุฑูุฌ ูู ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ููููุฉ LED ุ ูุชู <b>ุงุณุชุฎุฏุงู</b> ูุธููุฉ <b>sub_8003C44</b> ุ ูุงูุชู ุชูุณุชุฎุฏู ุฃูุถูุง ูู ูุธููุฉ sub_8005070: <br><br><img src="https://habrastorage.org/webt/ow/ws/ql/owwsqly9wu0bhmwzhu3r7buky5s.png"><br><br>  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_8005070 - <b>x_freeMsg</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8003C44 - <b>x_free_queue</b> . </li></ul><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูู ูููุฉ LED ุ ูุง ูููู ูููุฑุน ุงูุชุงูู ุฅูุง ุฌุฐุจ ุงูุงูุชุจุงู: <br><br><img src="https://habrastorage.org/webt/iu/q6/rr/iuq6rrf54hzoupmpslmnp0r8pcu.png"><br><br>  ููููู ูุญุงููุฉ ุชูููุฐ ุงูุฃูุฑ <code>LED B816D8D90000FFFF</code> .  ูููู ุฅุฐุง ุชุฐูุฑุช ุฃูู ุชู ุฃุฎุฐ ุญุฑููู ููุท ููุคุดุฑ LED ุ ููู ุงููุงุถุญ ุฃู ูุญุงููุฉ ุงููุตูู ุฅูู ูุฐุง ุงูุฑูุฒ ุณุชูุดู.  ุงุชุฑู ูุฐุง ุงูุฎูุท ูููุช ูุงุญู.  ุฃุนุฏ ุชุณููุฉ ุงููุธููุฉ sub_8004AE8 ุฅูู <b>x_mad_blinking</b> ุ ูุญุงู ุงูููุช ูุฅุตูุงุญ ุชูููุน ูุธููุฉ <b>x_printf</b> (ุขุฎุฑ ูุฑุฉ ูุชุจุช ูููุง ุชูููุนูุง ุฎุงุทุฆูุง): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x_printf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *format, ...)</span></span></span></span></code> </pre> <br>  ุชู ุชูููู ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ููููุฉ LED ุ ูููู ูุง ูุฒุงู ููุงู ุฑูุฒ ูู ุจุฏุงูุฉ ุงููููุฉ. <br><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุฑูุฒ: <br><br><img src="https://habrastorage.org/webt/kt/xx/wn/ktxxwnzjvx9eqkkuiydzlro3vz4.png"><br><br>  ูู ุงูุณุทุฑ 49 ุ ูู ุงููุฑุฌุญ ุฃู ูุชู ุงูุชุญูู ูู ุชููุฑ ูุคุดุฑุงุช LED ุ ููู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ ุ ูุชู ุฅุฌุฑุงุก ููุงููุฉ ุฅูู ุงูุฏุงูุฉ sub_8004BBC ุ ูุงูุชู ุชุนูู ุนูู ุฅููุงู ุงูููุงุทุนุงุช ูุจุฏุก ุญููุฉ ูุง ููุงุฆูุฉ ูุชู ูููุง ุงุณุชุฎุฏุงู ุงูุณุทุฑ "../Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_gpio.c".  ุนูู ุงูุฃุฑุฌุญ ุ ุฃููุง ูุธููุฉ <b>ุชุฃููุฏ</b> ุฃู ูุง ุดุงุจู. <br><br>  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_8004BBC - <b>x_gpio_assert</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_800698C - <b>x_check_gpio</b> . </li></ul><br>  <b>ุณูุตุจุญ</b> ุงูุบุฑุถ ูู ูุธููุฉ <b>sub_8006968</b> ูุงุถุญูุง ุฅุฐุง ูุธุฑุช ุจุนูุงูุฉ ุฅูู ุงูุฌูุงุฒ ุนูุฏ ุชุดุบููู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/i8/ap/t4/i8apt4kjg6rrbu73wzya5noyx6m.gif"></div><br>  ูุชู ุชุดุบูู ูุตุงุจูุญ LED ุงูุฃุฑุจุนุฉ ูุนูุง ุจุงูููู ุงูุฃุญูุฑ ุฃููุงู ุ ุซู ุจุงูููู ุงูุฃุฎุถุฑ ุ ุซู ุจุงูููู ุงูุฃุฒุฑู.  ุจุนุฏ ุฐูู ุ ูุชู ุชุนููููุง ุญุณุจ ุงูููู: 0-ุฃุญูุฑ ุ 1-ุฃุฎุถุฑ ุ 2-ุฃุฒุฑู ุ 3 ุจููุณุฌู.  ูุนูุฏูุง ููุท ูุจุฏุฃูู ูู ุชุจุฏูู ุงููุณููุณุงุก. <br><br>  ูุธุฑูุง ูุฃู ุงููุณููุณุงุก ุชุจุฏุฃ ูู ุฏูุฑุฉ ุงูููุงู ุงูุฑุฆูุณูุฉ ุ ููู ุงูููุทูู ุฃู ุชููู ุงูุฎุทูุท ูู 58 ุฅูู 61 ูุจู ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ูุณุคููุฉ ุนู ุชุถููู ุฃููุงู ูุฎุชููุฉ ุนูู ุงููุฏู ุงููุตูุฑ ูู ูุตุงุจูุญ LED ุ ูุงูุฎุทูุท 52-56 ูุณุคููุฉ ุนู ุชุนููู ุงูุฃุญูุฑ ูุงูุฃุฎุถุฑ ูุงูุฃุฒุฑู ุนูู ุฌููุน ูุตุงุจูุญ LED ูู ููุช ูุงุญุฏ.  ูู ุจุฅุนุงุฏุฉ ุชุณููุฉ ุงููุธููุฉ sub_8006968 ุฅูู <b>x_led_all_set_rgb</b> (RGB - ุนูู ุญุฏุณ ุจุญุช ุ ููููุง ูููุณูุทุงุช ุงูุชู ุชู ุชูุฑูุฑูุง). <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุดุฐูุฐ ูู ูููุฉ LED </h2><br>  <i>ุจุงุฎุชุตุงุฑ: ุชุญุฏูุฏ ูุธููุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชุญุชูู ุนูู ุฎุทูุท ุบุฑูุจุฉ.</i>  <i>ุฅูุดุงุก ูููุฉ ูุฑูุฑ ููุฌูุงุฒ.</i> <br><br>  ูููุชูู ุงูุขู ุฅูู ุจุฏุงูุฉ ุฏุงูุฉ x_leds_task: <br><br><img src="https://habrastorage.org/webt/k1/64/2j/k1642jmvbxu5d0a7vs5lrtd3pru.png"><br><br>  <b>"Eraze"</b> ุ <b>"gen"</b> ุ <b>"flash"</b> ุ <b>"reset"</b> - ููุงุฐุง ูุฐุง ููู ุุุ <br><br>  ุฏุนููุง ูุญุงูู ูุนุฑูุฉ ุฐูู. <br><br>  ุฏุน sub_80066BC ูููู <b>x_leds_task_init</b> . <br><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู sub_8006B38: <br><br><img src="https://habrastorage.org/webt/qa/80/ez/qa80ezojcnsyo_vz_q1hru7whz8.png"><br><br>  ูุฐูุฑุฉ ุงูููุงู ุงููููุฉ ุ ุชูุงููุ <br><br><img src="https://habrastorage.org/webt/pf/oa/tf/pfoatfwwwasjk338b3lphqiiya4.png"><br><br>  ุนูุฏุฉ ุฅูู x_leds_task.  ููุงู ุฎุทุฃ ูุง ูู ููุน ุงููุชุบูุฑ v24: <br><br><img src="https://habrastorage.org/webt/vg/ag/8u/vgag8ujkoylag2iryzujjvjldfu.png"><br><br>  ุงุฑุชูุจุช ุงููุคุณุณุฉ ุงูุฏูููุฉ ููุชูููุฉ ุฎุทุฃู ููููุงู ูู ุงูููุน ุ ููู ุงูุชุนููู ุจุนูุงูุฉ ููุฏุณ ูุณุงุนุฏูุง.  ุจูู ุงููุชุบูุฑุงุช v24 ู v25 ุจูุฏุฑ 12 ุจุงูุช (0x44 - 0x38).  ูุฐูู ุ ูููู ุจุฅุนุงุฏุฉ ุชุณููุฉ v24 ุฅูู <b>buf</b> ูุชุนููู ุงูููุน <code>unsigned __int8 buf[12]</code> (ุณุชุญุฐุฑ Ida ูู ุฃู ููุน ุงูุจูุงูุงุช ุงูุฌุฏูุฏ ุฃูุจุฑ ูู ุงููุฏูู - ูุญู ูุชูู). <br><br>  ุงูุชุงูู.  ุงููุธููุฉ sub_8004CE4: <br><br><img src="https://habrastorage.org/webt/sc/qg/tw/scqgtwrqr1vzlaubtsqstydsqmu.png"><br><br>  ุฅุนุงุฏุฉ ุชุณููุฉ <i>a1</i> ุฅูู <b>buf</b> ุ <i>v1</i> ุฅูู <b>_buf</b> . <br><br>  ุงููุธููุฉ sub_8006B26: <br><br><img src="https://habrastorage.org/webt/gs/du/ff/gsduffmdls272wqpmmv6_klqxdm.png"><br><br>  ูู ุชุนุฑูุช ุนูููุงุ <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฅุฐุง ูุงู ุจุฏูู ูููุงุฌุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/8k/1d/p9/8k1dp9nmxkl0xjktjtsk_cp2vem.png"><br>  ุจุงูุทุจุน <b>memcpy</b> .  ุฅุนุงุฏุฉ ุชุณููุฉ. <br></div></div><br>  ุซู ุงูุบุฑุถ ูู ุงูุฏุงูุฉ sub_8004CE4 ูู ุงูุญุตูู ุนูู ุจุนุถ ุงูุจูุงูุงุช ุนูู ุงูุนููุงู <b>0x08007C00</b> .  ุจุงูููุงุณุจุฉ ุ ููุน ูุฐุง ุงูุนููุงู ูู ูุทุงู ุนูุงููู ุงูุฐุงูุฑุฉ ุงููุญูููุฉ ููุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ (ูุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุ ุนูู ูุฌู ุงูุฎุตูุต).  ุฅุนุงุฏุฉ ุชุณููุฉ sub_8004CE4 ุฅูู <b>x_read_data_0x08007C00</b> . <br><br>  X_leds_task ุณุทุฑ ุงููุธุงุฆู 36: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)buf[<span class="hljs-number"><span class="hljs-number">0</span></span>] - <span class="hljs-number"><span class="hljs-number">65</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0x19</span></span> )</code> </pre> <br>  ูู ุจุชุบููุฑ ุนุฑุถ ุงูุจูุงูุงุช (ููุชุงุญ R ุนูู ุงูุฑูู 65 ุ ููุชุงุญ H ุนูู ุงูุฑูู 0x19): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)buf[<span class="hljs-number"><span class="hljs-number">0</span></span>] - <span class="hljs-string"><span class="hljs-string">'A'</span></span> &gt; <span class="hljs-number"><span class="hljs-number">25</span></span> )</code> </pre> <br>  ุจุนุฏ ุงููููู ูู ุงูุชูููุฑ ุ ููููู ุฃู ุชููู ุฃู ูุฐุง ุงุฎุชุจุงุฑ ููุฏู ุงูุฃุจุฌุฏูุฉ ุงููุงุชูููุฉ AZ. <br><br>  ุจุนุฏ ุฐูู ุ ุจุงุณุชุฎุฏุงู ุงููุทุงูุจุงุช ูู ุดูู ุณูุงุณู ุงูุชูุณูู ุ ุฃุนุฏ ุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_8004C10 - <b>x_erase</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_80059C8 - <b>x_gen</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8004C84 - <b>x_flash</b> . </li></ul><br>  ูุง ุชุนูู ูุธููุฉ sub_8003C66 ุดูุฆูุง ุฑุงุฆุนูุง - ููู ุชุฒูุฏ ููุท ูู ุจุนุถ ุงููุชุบูุฑ ุงูุนุงู - ุฅุนุงุฏุฉ ุชุณููุฉ sub_8003C66 ุฅูู <b>x_smth_inc</b> . <br><br>  <b>ูุง</b> ุชูุจู ุงูุฏุงูุฉ <b>x_erase</b> ุจุงููุนู ุฃู ูุณูุทุงุช - ูููู ุงูุชุญูู ูู ุฐูู ูู ุฃุฏุงุฉ ุงูุชูููู: <br><br><img src="https://habrastorage.org/webt/rv/p3/_i/rvp3_iqmhzsegjqyi3mugvpxnis.png"><br><br>  ุฏุงุฎู x_erase ุ ูุชู ุงุณุชุฎุฏุงู ุงูุนููุงู ุงููุฃููู 0x08007C00 ููุชู ุงููุตูู ุฅูู ุซูุงุซ ูุธุงุฆู ุบูุฑ ูุนุฑููุฉ: <br><br><img src="https://habrastorage.org/webt/ys/nb/_b/ysnb_bfgd19htkrnmbyo5hudr0m.png"><br><br>  <b>ูุธุฑุฉ ุณุฑูุนุฉ</b> ุนูู ูุฐู ุงููุธุงุฆู ุงูุซูุงุซ ุ ูุฑู ุฃููุง ุชุตู ุฅูู ุนูุงููู ูู ุงููุทุงู <b>0x40022000 - 0x400223FF</b> .  ุชูุถุญ ูุซุงุฆู ูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ ุจูุถูุญ ุฃู ูุฐุง ูู ูุทุงู <b>"ูุงุฌูุฉ FLASH"</b> .  ุฃู ุฃู ูุธููุฉ x_erase ุชูุญู ูุทุนุฉ ูู ุฐุงูุฑุฉ ุงูููุงุด - ุฑุงุฆุนุฉ! <br><br>  ุนูู ูุง ูุจุฏู ุ ุชูุชุจ ูุธููุฉ x_flash ุฅูู ุฐุงูุฑุฉ ููุงุด ุ ุจุนุฏ ุงูุชุญูู ูู ุทูู ุงูุณุทุฑ ูููุชุงุจุฉ (ุจุงูููุงุณุจุฉ ุ ุงูุญุฌุฌ a2 ู a3 ุบูุฑ ุถุฑูุฑูุฉ ููุง - ุณูุณุงุนุฏ Idea): <br><br><img src="https://habrastorage.org/webt/ki/di/zi/kidizigfv5lb6bwg24aspkgvxmw.png"><br><br>  ููู ูุฐุง ูุญุฏุซ ูู "ุฌูุงุฒ ุงูุฅุถุงุกุฉ" ุุุ <br><br>  ุญุณููุง ุ ูุงุฐุง ุนู ูุธููุฉ <b>x_gen</b> ุ  ุจุนุฏ ูุธุฑุฉ ุณุฑูุนุฉ ูุฅุนุงุฏุฉ ุชุณููุฉ ุงููุชุบูุฑุงุช ุ ุณุชุจุฏู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/v3/js/nb/v3jsnb8jb36wstn3obcln2c3pvk.png"><br><br>  ุชุจุฏู ุงูุฏุงูุฉ <b>sub_8006CB4</b> ููุง ููู: <br><br><img src="https://habrastorage.org/webt/ub/h1/rk/ubh1rki0ikjrygsiqcx9vuwylxc.png"><br><br>  ู <b>sub_8006D10</b> - ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/gp/qy/oc/gpqyocts_ubcd4u3ep9koyrcb0o.png"><br><br>  ูุง ุชุชุฑุงุฌุน ุนู ุงูุฑุบุจุฉ ูู ุงูุจุญุซ ุนูู ุงูุฅูุชุฑูุช ุนู ูุฐู ุงูุซูุงุจุช ุงูุฌูููุฉ ุบูุฑ ุงููุงุฆูุฉ: <b>0xABCD</b> ู <b>0x1234</b> ู <b>0xE66D</b> ู <b>0xDEEC</b> ู <b>0x4C957F2D</b> ู <b>0x5851F42D</b> .  ุฅุฐุง ูู ูุชู ุญุธุฑ ุงูุฅูุชุฑูุช ุจุงููุงูู ุจุนุฏ ุ ูุฑุจูุง ุณุชุฌุฏ ูุฐู ุงูุซูุงุจุช ูู ุงููุตุฏุฑ <b>ููุธุงุฆู ุนุดูุงุฆูุฉ</b> .  ูุง ุนุฌุจ ุฃู ุชุณูู ุงููุธููุฉ ุงูุฃู x_gen. <br><br>  ูุฐุง ุฃูุถูุง ูููู ูููุฐุฌู ููุบุงูุฉ: ุงุณุชุฏุนุงุก srand () ูุจู ุงูุญููุฉ ุ ูุงุณุชุฏุนุงุก ุนุดูุงุฆู () ูู ุงูุญููุฉ ุ ูุฐุง ุฃุนุฏ ุชุณููุชู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_8006D10 - x_rand ุ </li><li style=";text-align:right;direction:rtl">  sub_8006CB4 - x_srand. </li></ul><br>  ูููู ูููุงุฑุฆ ุงููุถููู ุ ูู ุฎูุงู ุงููุธุฑ ูู ุงูุฏุงูุฉ <b>sub_8005098</b> ุ ูุนุฑูุฉ ูุตุฏุฑ <i>ุงูุจุฐูุฑ</i> ููุธููุฉ srand. <br><br>  ูุจุงูุชุงูู ุ ูุฅู ุงูุฏุงูุฉ x_gen ุชููุฏ <b>ุณูุณูุฉ ุนุดูุงุฆูุฉ ูู ุงูุญุฌู ุงููุญุฏุฏ</b> . <br><br>  ุจุนุฏ ูุชุงุจุฉ ุงูุฎุท ุงูุฐู ุชู ุฅูุดุงุคู ูู ุฐุงูุฑุฉ ููุงุด ุ ูููู ุงูุฌูุงุฒ ุจุฅุนุงุฏุฉ ุงูุชุดุบูู: <br><br><img src="https://habrastorage.org/webt/a9/ta/rr/a9tarrhqqc-jj7g-e-dplvr67py.png"><br><br>  ูุจุฏู ููุฃูู ููุน ูู ุฅุนุงุฏุฉ ุชุดุบูู ุบุฑูุจ.  ูููู ุฅุฐุง ูุธุฑูุง ุฅูู ูุงุฆูุฉ ููุงู ูุฐุง ุงูุฌูุงุฒ ุ ูุณูู ูุฌุฏ "ูููุฉ ุงููุฑุงูุจุฉ" ูู ุจูููุง.  ูู ุงููุงุถุญ ุฃูู ุฅุฐุง ูุงูุช ููุงู "ูููุฉ ุนุงููุฉ" ุ ุชุชู ุฅุนุงุฏุฉ ุชูููุฏ ุงูููุงูุฉ. <br><br>  ูููู ุงุนุชุจุงุฑ ูููุฉ LED ุจุงุณุชุซูุงุก ูุถุน MadBlinking ุชุญููููุง. <br><br>  ุฏุนูุง ููุธุฑ ุนุจุฑ ุงูุฎุทูุท ุฅูู ุงูููุงู ุงูุฃุฎุฑู ุงูููุฌูุฏุฉ ูู ุงููุธุงู: <br><br><img src="https://habrastorage.org/webt/fz/yj/yk/fzyjykt6djuq8v20hjpuw5l0xow.png"><br><br>  ุจุนุฏ ุงุณุชุนุงุฏุฉ ุงูุฑูุงุจุท ุฅูู ุงูุณูุงุณู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ููููู ูุดุงูุฏุฉ ูุฐู ุงูุตูุฑุฉ: <br><br><img src="https://habrastorage.org/webt/ha/bl/ks/hablksetvyb0rskx6veqrxbt_z0.png"><br><br>  ุฃููุงู ุ ููุงู ุงุฑุชุจุงุท ุจุณูุณูุฉ ุชุญุชูู ุนูู ูููุฉ ุงูุงุณู ุ ุซู ุงุฑุชุจุงุท ุจูุธููุฉ ุงููููุฉ ุงูุฑุฆูุณูุฉ.  ููุชู ุงุณุชุฎุฏุงููุง ูู ุงููุธููุฉ <b>ุงูุฑุฆูุณูุฉ</b> ุ ุญูุซ ูุชู ุฅุทูุงู ูุฐู ุงูููุงู: <br><br><img src="https://habrastorage.org/webt/oc/ah/qd/ocahqdn8usagpkr-isbabunuwms.png"><br><br>  ููููุฐ ุนูููุงุช ุฅุนุงุฏุฉ ุงูุชุณููุฉ ุงูููููุฏุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_80050FC - <b>x_sensor_task</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8004AAC - <b>x_watchdogTask</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8005440 - <b>x_uartRxTask</b> . </li></ul><br><h2 style=";text-align:right;direction:rtl">  ูููุฉ ุงููุฑุงูุจุฉ </h2><br>  ูุง ุชููู ููุฆุฉ ูุฑุงูุจุฉ ุงูููุงู ุจุฃู ุดูุก ูุซูุฑ ููุงูุชูุงู ุจุดูู ุฎุงุต: <br><br><img src="https://habrastorage.org/webt/m-/65/5w/m-655wpo6oboqmrob1tonwaoska.png"><br><br>  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  dword_200003F8 - <b>wd_variable</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8001050 - <b>x_update_wd_var</b> . </li></ul><br><h2 style=";text-align:right;direction:rtl">  ูููุฉ UART </h2><br>  <i>ุจุงุฎุชุตุงุฑ: ุงุจุญุซ ุนู ุงูุจูุงูุงุช ูุงููุธุงุฆู ุงูุชู ููุง ุฑูุงุจุท ูู ูุธุงุฆู ูุฎุชููุฉ.</i>  <i>ุชุญุฏูุฏ ุงูุบุฑุถ ูููุง.</i> <br><br>  ุชุชูุญ ูู ูุธุฑุฉ ุณุฑูุนุฉ ุนูู ูููุฉ UART ุงูุชุดุงู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ูุงุฆูุฉ ุงูุชุธุงุฑ ุบูุฑ ูุนุฑููุฉ ูุญุฏุฏุฉ ุจูุงุณุทุฉ ุงููุชุบูุฑ <b>unk_200003EC</b> : <br><br><img src="https://habrastorage.org/webt/8j/ei/zz/8jeizzxpvgu5opijgopamebser0.png"><br><br>  ุจุนุฏ ุงุณุชุนุงุฏุฉ ุงููุฑุงุฌุน ููุฐุง ุงููุชุบูุฑ ุนุจุฑ ุงูุจุญุซ ุงูุซูุงุฆู ุ ุณูุฑู ุฃูู ุจุงูุฅุถุงูุฉ ุฅูู x_uartRxTask ูุชู ุงุณุชุฎุฏุงูู ูู ุงูุฑุฆูุณู (ููุงู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุชู ุชู ุฅูุดุงุคูุง ุ ุนูู ูุง ูุจุฏู) ููู ุงููุธููุฉ ุบูุฑ ูุนุฑููุฉ ุญุชู ุงูุขู <b>sub_80051EC</b> : <br><br><img src="https://habrastorage.org/webt/g2/md/sg/g2mdsgx9wwhzpklgcacelye8rb8.png"><br><br>  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_80051EC - <b>x_recvMsg_uart_queue</b> ุ </li><li style=";text-align:right;direction:rtl">  unk_200003EC - <b>uart_queue</b> . </li></ul><br>  ุฑุงุฌุน ุงููุฑุงุฌุน ุงูุชุจุงุฏููุฉ ูู x_recvMsg_uart_queue: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  sub_8005250 ุ </li><li style=";text-align:right;direction:rtl">  x_bluetooth_task. </li></ul><br>  ุฃููุงู ุ ุฑุงุฌุน ุงูุฏุงูุฉ <b>sub_8005250</b> : <br><br><img src="https://habrastorage.org/webt/z1/8z/yj/z18zyj09grly6nwhuycpftjbrcu.png"><br><br>  ุจุนุฏ ุงูุชูููุฑ ุ ุฃุนุฏ ุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  unk_2000034C - <b>cmd_count</b> ุ </li><li style=";text-align:right;direction:rtl">  a1 - <b>ููุฏ</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 4</b> - <b>_ ุณูุฏ</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 6</b> ูู <b>rsp</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8005250 - <b>x_bluetooth_cmd</b> . </li></ul><br>  ุฏุนููุง ูุฑู ุงูุขู ุญูุซ ูุง ูุฒุงู ูุณุชุฎุฏู x_bluetooth_cmd.  ุฌููุน ุงูุฑูุงุจุท ุงูุฅุถุงููุฉ ููุท ูู ูููุฉ Bluetooth ุ ุญุงู ุงูููุช ููุนูุฏุฉ ุฅูููุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฑุฌูุน ุฅูู ูููุฉ ุงูุจููุชูุซ </h2><br>  <i>ุจุงุฎุชุตุงุฑ: ุงูุชุญููู ุงูููุงุฆู ููููุฉ ุงูุจููุชูุซ.</i>  <i>ุงุจุญุซ ุนู ุงูุชูููุถ ุจุฏูู ูููุฉ ูุฑูุฑ.</i> <br><br><img src="https://habrastorage.org/webt/mb/2b/-e/mb2b-eatekfev7dil5vfk3_s-es.png"><br><br>  ุฅุฐุง ูุธุฑุช ุฅูู ุงูุฃูุงูู ุงูุชู <b>ุชุณุชุฎุฏู</b> ูููุง ุงููุธููุฉ <b>sub_8006A84</b> ุ ููู ุชูู ูุณูููุง ููุบุงูุฉ ูุชูุธุฑ ูู ุฃุญุดุงุกูุง ุ ููู ูููู ููุงู ุดู - ูุฐุง ูู <b>calloc</b> .  ุฅูู ููุทูู - ูู ุฃุฌู ุชููู ุงูุจูุงูุงุช ูู ุงููุฎุฒู ุงููุคูุช ุ ูุฌุจ ุนููู ุฃููุงู ุฅูุดุงุก ูุฐุง ุงููุฎุฒู ุงููุคูุช. <br><br>  ุงูุขู <b>sub_8006DBC</b> .  ูููู ูุธุฑุฉ ุนููู (ุชูุช ุฅุนุงุฏุฉ ุชุณููุฉ ุงููุชุบูุฑุงุช ุจุงููุนู): <br><br><img src="https://habrastorage.org/webt/kt/hw/31/kthw31aeqzwyae4jvnoqf5u6yl4.png"><br><br>  ุจุงุณุชุฏุนุงุก ูุธุงุฆู ููุชุจุฉ C ุงูููุงุณูุฉ ููุนูู ูุน ุงูุณูุงุณู ุ ุณูุฑู <b>strstr</b> (ุงูุจุญุซ ุนู ุณูุณูุฉ ูุฑุนูุฉ) ููุง ูุฅุนุงุฏุฉ ุชุณููุชูุง ุจุฌุฑุฃุฉ. <br><br>  ุฏุนูุง ูุฐูุจ ูู ุฎูุงู ููุฏ ุงููุธููุฉ x_bluetooth_task - <i>ุฑุจูุง ุชุบูุฑ ุดูุก ูุง ููุง ููุฐ ุขุฎุฑ ุฒูุงุฑุฉ</i> .  ูู ูุฐู ุงูุนูููุฉ ุ ูููู ุจุชุณููุฉ ุงููุชุบูุฑุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฅุตุฏุงุฑ 2 - <b>_ ุงูุญุงูุฉ</b> ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฅุตุฏุงุฑ 3 - <b>data_len</b> . </li></ul><br>  ุชูุฌุฏ ูุธููุฉ <b>sub_80052E2 ุจุฌูุงุฑูุง ูุจุงุดุฑุฉ</b> .  ุนู ุทุฑูู ุงูููุงุณ ูุน ุงููุธุงุฆู ุงูุชู ุชุณุญุจ ุงูุฃุฑูุงู ูู ุฃูุฑ Bluetooth ุ ูุฅููุง ุชุณุญุจ ุณูุณูุฉ ุจุทูู ูุญุฏุฏ - ุฏุนูุง ูุณูููุง <b>x_get_str</b> . <br><br>  ููุงุตู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 26</b> - <b>isEcho</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 6</b> - <b>meow_str</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 10</b> - <b>uart_cmd_byte</b> ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฅุตุฏุงุฑ 11 - <b>uart_cmd_str</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ</b> 12 - <b>str_0</b> ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฅุตุฏุงุฑ 13 - <b>str_1</b> ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 14</b> - <b>format_str</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8000F5C - <b>x_blink_small_led</b> . </li></ul><br>  ุงูุงูุชูุงุก ุจุฅุนุงุฏุฉ ุชุณููุฉ ุณุฑูุนุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฅุตุฏุงุฑ 19 - <b>ูููุฉ ุงููุฑูุฑ</b> ุ  (ุญูุซ ุชูุฌุฏ ุฎุทูุท ุญูู ุงูุชูููุถ ููููุฉ ุงููุฑูุฑ ุจุฌูุงุฑู) </li><li style=";text-align:right;direction:rtl">  sub_8004CC0 - <b>x_check_password</b> ุ </li><li style=";text-align:right;direction:rtl">  sub_8006AF4 - <b>x_free</b> (ูุธุฑูุง ูุฃู ูููุฉ ุงููุฑูุฑ ู cmd ู bt_args ุชุดูุฑ ุฅูู ูุงุฆูุงุช ุฏููุงููููุฉ (ุชุญูู ูู ุฐูู!) ุ ูุฌุจ ุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุจุนุฏ ุงุณุชุฎุฏุงููุง) ุ </li><li style=";text-align:right;direction:rtl">  sub_8006DAC - <b>x_strcpy</b> ( <b>ุฌุฑุจู</b> !). </li></ul><br>  ุงุณุชูุดู ุงูุขู ุงููุฑูุน <b>READ</b> ุ <b>WRIT</b> ุ <b>AUTP</b> ุ <b>SETP</b> . <br><br>  ููุง ุฃุธูุฑ ุงุฎุชุจุงุฑ ุนูู ุฌูุงุฒ ููุฏ ุงูุชุดุบูู ุ ููุฒู ุงูุญุตูู ุนูู ุฅุฐู ูุฃูุงูุฑ READ ู WRIT ู SETP.  ุชููุฏูุง ูุญุงููุฉ ุงูุชูููุถ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <b>AUTP</b> ุฅูู ูุธููุฉ <b>x_check_password</b> ููุชุญูู ูู ูููุฉ ุงููุฑูุฑ: <br><br><img src="https://habrastorage.org/webt/vt/pw/6b/vtpw6b3h64bivcvzdlalldoo45k.png"><br><br>  ุงุชุถุญ ุฃู ุทูู ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ูููู 8 ุฃุญุฑู ูุฃู ุชุชู ููุงุฑูุฉ ูููุฉ ุงููุฑูุฑ (ูู ุงูุฏุงูุฉ sub_8006B08) ุจุงูุจุงูุช ูู ุงูุนููุงู <b>0x08007C00</b> - ุญูุซ ูุชู ุชุฎุฒูู ุณูุณูุฉ ุงูุฃุญุฑู ุงูุนุดูุงุฆูุฉ AZ. <br><br>  ุงุชุถุญ ุ ุฏูู ูุนุฑูุฉ ูููุฉ ุงููุฑูุฑ ุ ูุง ูููููุง ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงูุฌูุงุฒ.  ุญุณูุง ุ ุฃู ูุง ูููู ุชูุฑูุจุง ... <br><br>  ุงูุชุจู ุฅูู ููุงู <b>ุงุณุชุฎุฏุงู</b> ูุชุบูุฑ <b>auth_flag</b> : <br><br><img src="https://habrastorage.org/webt/8h/ng/l0/8hngl0dqritcx8yzk1jbvkqpq34.png"><br><br>  ุงุชุถุญ ุฃูู ูุชู ุงุณุชุฎุฏุงูู ููุณ ููุท ูู ูููุฉ Bluetooth.  ูููุง ููุท ูู ููุธุฑ ูู ูููุฉ ุงูุงุณุชุดุนุงุฑ ุจุนุฏ.  ูุฐูุจ ููุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ูููุฉ ุงูุงุณุชุดุนุงุฑ </h2><br>  <i>ุจุงุฎุชุตุงุฑ: ูุงุฐุง ููุนู ุฒุฑ ุงูููุณุ</i> <br><br>  ููููุง ูุฃูุถู ููุงุฑุณุงุช ุงูุจุฑูุฌุฉ ุ ุชุชูุงุณุจ ูููุฉ ุงููุณุชุดุนุฑ ุจุงููุงูู ูุน ุดุงุดุฉ IDA ูุงุญุฏุฉ.  ููุฐุง ูุง ููุฑุญ ุฅูุง: <br><br><img src="https://habrastorage.org/webt/mq/13/3v/mq133vs_uxqmyldfhmicajpxiak.png"><br><br>  ุฎุท ูุฎุท ... <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "TSCูช d \ r \ n" - ูุฌุจ ุฃู ูุฌุนูู ูุฐุง ุงูุฎุท ุชููุฑ ูู ูุญุฏุฉ ุชุญูู ุงูุงุณุชุดุนุงุฑ ุจุงูููุณ ูุฃุฌูุฒุฉ ุงูุชุญูู ุงูุฏูููุฉ STM32 ุ </li><li style=";text-align:right;direction:rtl">  "AUTH BTN \ r \ n" - ุฒุฑ ุงูุชูููุถ ุุุ </li><li style=";text-align:right;direction:rtl">  "ุชุนููู AUTHูช d \ r \ n" - ูู ุชุฑูุฏ ุชุนููู ุนูุงูุฉ ุงููุตุงุฏูุฉุ </li></ul><br>  ุฏุนููุง ูุฑู ููู ุณูุชุตุฑู ุงูุฌูุงุฒ ุฅุฐุง ุถุบุทุช ุนูู ุฒุฑ ุงูููุณ (ูู ุฃุฏุฑูุช ุฃู ูุญูุฏ ุงููุฑู ุนูู ุงูุณุงู ูุฏูู ุฒุฑ ููุณุ): <br><br><img src="https://habrastorage.org/webt/0p/ig/bp/0pigbpj4pj5gdrn1onololc_zfk.gif"><br><br>  ุนูุฏ ุงูุถุบุท ููุชุฑุฉ ูุฌูุฒุฉ ุ ูุถูุก ูุตุจุงุญ LED ุงูุฃุญูุฑ ุงูุตุบูุฑ.  ูุน ุงูุถุบุท ููุชุฑุฉ ุทูููุฉ ุ ูุชู ุชุดุบูู ูุฐุง ุงูุตูุงู ููุชุฑุฉ ุทูููุฉ. <br><br>  ุฅุฐุง <b>ุฑุจุทูุง</b> ุฐูู <b>ุจุงูููุฏ</b> ุ ูููููุง ุฃู ููุชุฑุถ ุฃู ุงูุฏุงูุฉ <b>sub_8000708</b> ูู ุฏุงูุฉ ููุญุตูู ุนูู ุงูููุช ุงูุญุงูู.  ุซู ุ ุฅุฐุง ูุงู ุงููุฑู ุจูู ุงูููุช ุงูุญุงูู ูุจุฏุงูุฉ ููุณ ุงููุณุชุดุนุฑ ุฃูุซุฑ ูู 1000 (ุซุงููุฉ ูุงุญุฏุฉ) ุ ูุณูุชู ุชุดุบูู LED ููุฏุฉ <b>0xEA60</b> ูููู ุซุงููุฉ (ุฏูููุฉ ูุงุญุฏุฉ).  ููู ูุชุบูุฑ auth_flag ุฐู ุฃูููุฉ ูุจูุฑุฉ ุ ูุงูุฐู ุชู ุชุนูููู ุฅูู 1 ุจุถุบุทุฉ ุทูููุฉ ุนูู ุฒุฑ ุงูููุณ ุ ููุง ูููุญ <s>ุงูููุงุฌู</s> ุงููุตูู ุฅูู ุงููุณุคูู ุนู "ุชุฑููุจุงุช ุงูุฅุถุงุกุฉ" ูููุตูู ุฅูู ุงููุธุงุฆู ุงููููุฒุฉ. <br><br>  ูููุฐุง ุ ุจุนุฏ ุงูุชูููุถ "ุนู ุทุฑูู ุงูุฒุฑ" ุ ููููู ูุฑุงุกุฉ ูููุฉ ุงููุฑูุฑ ุงููุฎุฒูุฉ ูู ุงูุฌูุงุฒ (ุงูุฃูุฑ READ) ุฃู ุงููุชุงุจุฉ ุฅูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (ูุธููุฉ WRIT) ุฃู ุชุนููู ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ (SETP). <br><br><h2 style=";text-align:right;direction:rtl">  ูููุถ ุจุฌููู </h2><br>  <i>ุจุฅูุฌุงุฒ: ูู ูููู ุชูููุฐ ูุฑุน ุฑูุฒ Mad Blinking ุบุฑูุจุ</i> <br><br>  ุฏุนูุง ูุนูุฏ ุฅูู ูููุฉ Bluetooth ููููู ุจุจุนุถ ุฅุนุงุฏุฉ ุงูุชุณููุฉ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  v21 - <b>vip_smth</b> (ูู ูุชุถุญ ุจุนุฏ ูุง ูู ููุฌูุฏ) ุ </li><li style=";text-align:right;direction:rtl">  v22 - <b>vip_str</b> (ุณูุณูุฉ ุบูุฑ ูุนุฑููุฉ ุงูุญุฌู ุ ูุณุชุฎุฑุฌุฉ ูู ุงููุณูุทุงุช) ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฅุตุฏุงุฑ 23</b> - <b>mad_led</b> - <b>ุฎุตุต</b> "ุงูุชุญููู ุฅูู ุงูุจููุฉ *" ูุญุฏุฏ <i>Struct_LED</i> . </li></ul><br>  ูููุง ูุฑู ุงูุฑูู <b>0xB816D8D9</b> (ุชู ุงูุนุซูุฑ ุนููู ูู ุงูุฌุฒุก ุงูุฃูู ูู ุงูููุงูุฉ ูู ูููุฉ Bluetooth) ููุคุดุฑ LED.  ุณูุชู ุชูููุฐ ูุฐุง ุงูุฑูุฒ ุฅุฐุง ุชู ุงูุชุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( sub_8005520(vip_str, vip_smth) == <span class="hljs-number"><span class="hljs-number">0x46F70674</span></span> )</code> </pre> <br>  ุฅุนุงุฏุฉ ุชุณููุฉ sub_8005520 ุฅูู <b>x_vip_check</b> ูุฅููุงุก ูุธุฑุฉ ุนููู: <br><br><img src="https://habrastorage.org/webt/dl/h9/tx/dlh9txqyu5n1t4orgprpptbk8oc.png"><br><br>  ุจุงููุธุฑ ุฅูู ุฃู ุงููุณูุทุฉ ุงูุฃููู ุนุจุงุฑุฉ ุนู ุณูุณูุฉ (ุนูู ุงูุฃูู ูุชู ุชูุฑูุฑ ุงูุณูุณูุฉ ุฅูู ูุฐู ุงูุฏุงูุฉ) ุ ููุถุญ ูุฐุง ุงูุฑูุฒ ุฃู ุงููุณูุทุฉ ุงูุซุงููุฉ ูู ุทูู ูุฐู ุงูุณูุณูุฉ (ุฃู ุงูุทูู ุงูุฐู ูุฌุจ ูุนุงูุฌุชู).  ุฅุนุงุฏุฉ ุงูุชุณููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  a1 - <b>ุดุงุฑุน</b> ุ </li><li style=";text-align:right;direction:rtl">  ุฃ 2 - <b>ููู</b> . </li></ul><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุฏุงูุฉ <b>sub_8000254</b> : <br><br><img src="https://habrastorage.org/webt/y-/ql/js/y-qljsey4clq4lowsdbrblnkyf8.png"><br><br>  ุงูุธุฑ ุงูุขู ุฅูู <b>sub_8000148</b> .  ูุง ูู ุจุฏุงูุชูุง: <br><br><img src="https://habrastorage.org/webt/l7/xz/cr/l7xzcrdgjq0n5a82enkalsukqse.png"><br><br>  ูุฐู ููุณุช ุณูู ุซูุซ ุงููุธููุฉ ... ูููู ... ูุฐูุฐ!  ุณูู ูุฑู ุญูุงุฑ ุฐู ุฎุจุฑุฉ ููุง ุจุณูููุฉ ... <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุงุฐุงุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุนูููุฉ ุชูุณูู ุนุฏุฏ ุตุญูุญ. <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููู ูููู ุงุณุชุฎุฑุงุฌูุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุจุฌูุฏ ุ <b>ูููููู</b> ูู ุฎูุงู ุงูุฏุงูุฉ <b>sub_8000254</b> ุงููุตูู ุฅูู <b>x_printf</b> (ูู ุฎูุงู ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงูุฃุฎุฑู).  ูู ุงูููุงุท ุงููููุฉ ุงูุชู ูุฌุจ ุฅุซุงุฑุชูุง ูู ูุฐู ุงููุฑุญูุฉ ุฃูู ุนุงุฏุฉ ูุง ุชููู ุฌููุน <i>ุงููุธุงุฆู ุงูููุงุณูุฉ ููุงุณูุฉ ุฅูู ุญุฏ ูุง</i> .  ูุฐุง ูุนูู ุฃูู ููููู ูุญุงููุฉ ุงูุนุซูุฑ ูู ุงููุฌุงู ุงูุนุงู ุนูู ุงูุฃูู ุนูู ุจุนุถ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูููุธููุฉ ููุฏ ุงูุจุญุซ ุ ุจุญูุซ ุชููู ุงูุฏุฑุงุณุฉ ุฃูุซุฑ ุฅูุชุงุฌูุฉ. <br><br>  ูุฐุง ุ ูุฃุฎุฐ ูุตุฏุฑ printf ุ ุซู ููุธุฑ ุฅูู <b>vfprintf</b> ุ <b>ูููุงุฑูู</b> ุจุฑูุฒ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงููุฏุฑูุณุฉ.  <b>ุจุงุณุชุฎุฏุงู</b> ุดูุฑุฉ ุงููุตุฏุฑ ุ ูุฎุฑุฌ ุฅูู ุฏุงูุฉ <b>itoa</b> ููุณุชูุชุฌ ุฃู ุงูุฏุงูุฉ <b>sub_8000254</b> ูู ุนุงูู <b>ุงูุชุดุบูููช</b> (ูุน ุฃุฎุฐ ุจุงูู ุงููุณูุฉ) ุ ููุฐู ุงููุธููุฉ ุงูุทูููุฉ ุงูุฑููุจุฉ ููุณุช ุฃูุซุฑ ูู ุฃุฎุฐ ุงูุฌุฒุก ุงูุตุญูุญ ูู ุงููุณูุฉ (ุนูููุฉ div). <br></div></div><br>  ูุฏ ูุทุฑุญ ุณุคุงู ูุดุฑูุน - ููุงุฐุงุ  ูุงูุญูููุฉ ูู ุฃูู ูุง ูููู ุฃู ุชููู ููุงู ุนูููุงุช DIV ุ MOD ูู ูุชุญูู ุฏููู ูุนูู ุ ูุจุงูุชุงูู ุ ูุฅู ุงููุชุฑุฌู ูุญู ูุญู ุงุณุชุฏุนุงุก ุงููุธุงุฆู ุงููุฑุฏูุฉ ุจุฏูุงู ูู ูุฐู ุงูุนูุงูู.  ุจุงูููุงุณุจุฉ ุ ุฅููู ุจุนุถ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุธุงุฆู ุงูุฑูุงุถูุฉ</a> ุงูุฃุฎุฑู. <br><br>  ูุง ุชูุณู ุฅุนุงุฏุฉ ุงูุชุณููุฉ ุฃุซูุงุก ุงูุญูุฑ. <br><br>  ูููุฐุง ุ ุงูุฏุงูุฉ <b>x_vip_check</b> ุ ุชุญุณุจ ... ููุฐุง ุณูููู <b><i>ูุงุฌุจู</i></b> . <br><br>  ุจุงูููุงุณุจุฉ ุ ุฅุฐุง ููุช ุจุชูููุฐ ุฃูุฑ <b>VIP</b> ุงูุตุญูุญ ุ ูุญุตู ุนูู "ูุญูุฏ ุงููุฑู ูู ุงูุฏูุณูู": <br><br><img src="https://habrastorage.org/webt/ah/ty/sc/ahtyscents-3j77aqcxfa0_hrtq.gif"><br><br><h2 style=";text-align:right;direction:rtl">  ุชูุฑูุฑ ููุฌุฒ ุนู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ </h2><br>  ูุนุชูุฏ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููุฌูุงุฒ ุนูู ูุธุงู ุงูุชุดุบูู ูู ุงูููุช ุงูุญูููู FreeRTOS.  ูุชููู ุงููุธุงู ุงูููุงู ุงูุชุงููุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ูููุฉ ุจููุชูุซ</b> .  ุฃูุงูุฑ ุงูุนูููุงุช ุงูุชู ุชุฃุชู ูู ุดูู ูุต ุนุจุฑ ุงูุจููุชูุซ. </li><li style=";text-align:right;direction:rtl">  <b>ูููุฉ LED</b> .  ูุชุญูู ูู ูุคุดุฑุงุช LED ุงูููููุฉ ููููุง ูุฃูุงูุฑ Bluetooth. </li><li style=";text-align:right;direction:rtl">  <b>ูููุฉ ุงูุงุณุชุดุนุงุฑ</b> .  ูุดุบูู ุถูุก LED ุงูุฃุญูุฑ ุ ููุณูุญ ุจุชุฎููู ูุตูุฑ ุงูุฃูุฏ ุจุฏูู ูููุฉ ูุฑูุฑ ุนูู ุงูุฌูุงุฒ. </li><li style=";text-align:right;direction:rtl">  <b>ูููุฉ UART</b> .  ูุณูุญ ูู ุจุงูุชูุงุนู ูุน ูุญุฏุฉ Bluetooth ุนุจุฑ ูููุฐ UART ุงูุฏุงุฎูู (ุงููุณุชุฎุฏู ูุชููุฆุฉ Bluetooth). </li><li style=";text-align:right;direction:rtl">  <b>ูููุฉ ุงููุฑุงูุจุฉ</b> .  ูุชุชุจุน ุงูุชุฌููุฏ. </li></ol><br>  ูู ุชุฃุฎุฐ ุงูุฏุฑุงุณุฉ ูู ุงูุงุนุชุจุงุฑ ุงููุฏุฑุฉ ุนูู ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ูููุฐ UART (ุฌูุงุช ุงูุงุชุตุงู Tx / GND). <br><br><h2 style=";text-align:right;direction:rtl">  ุงูููุฎุต </h2><br>  ุฃุซูุงุก ุงููุตู ุงูุฑุฆูุณู ูู ุงููุคุชูุฑ ุ ุชู ุชูููู ูุธููุฉ ุงูุชุญูู ูู LED ุงูุฑุฆูุณูุฉ ููุท.  ููุฏ ุชู ุชุฒููุฏ ุงููุดุงุฑููู ุงูุฃูุซุฑ ูุดุงุทูุง ุจู "ูุญูุฏ ุงููุฑู" ุงูุชุฌุฑูุจู. <br><br>  ูู ุฑุฃูู ุ ุฃูุชุฌ "ูุญูุฏ ุงููุฑู" ุชุฎุทูุทูุง ูุงุฆููุง ูุฏูุฑุฉ ุชุฏุฑูุจูุฉ ุญูู ุงูููุฏุณุฉ ุงูุนูุณูุฉ ูุงูุจุญุซ ุนู ุงูุซุบุฑุงุช ุงูุฃูููุฉ.  ูุฏ ุชููู ุฅุญุฏู ููุฒุงุช ุงูุชุฎุทูุท ูู ุงููุฏุฑุฉ ุนูู ุชุบููุฑ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุนุฏุฉ ูุฑุงุช ููุง ุชุดุงุก ุ ูููู ุฏูุฑุฉ ุจุฑุงูุฌ ุซุงุจุชุฉ ุฎุงุตุฉ ุจูุง.  ุนูู ุนูุณ ุชุญููู ููู ูุงุจู ููุชูููุฐ ุ ุชุณูุญ ูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงูุนูุณูุฉ ุจููู ุฃูุถู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููููุฉ ุงูุนูู ูุน ุงููุคุณุณุฉ ุงูุฏูููุฉ ููุชูููุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุจุงุฏุฆ ุงูุชูุงุนู ุจูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ูุงูุฌูุงุฒ ุ </li><li style=";text-align:right;direction:rtl">  ูุจุงุฏุฆ ุงูุชุดุบูู RTOS. </li></ul><br>  ุดูุฑุง ุฌุฒููุง ูุฌููุน ุงูุฐูู ูุฑุฃูุง ุญุชู ุงูููุงูุฉ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar412561/">https://habr.com/ru/post/ar412561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar412551/index.html">ูุณุฎ ุงููุต ูู ุงูุญุงูุธุฉ ุฅูู ุฃุฌูุฒุฉ Android ุนุจุฑ ADB</a></li>
<li><a href="../ar412553/index.html">ููุฎุต ุงูุฃุญุฏุงุซ ููุญุชุฑูู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ูู ูุฌุงู ุชูููููุฌูุง ุงููุนูููุงุช ูุดูุฑ ููููู 2018</a></li>
<li><a href="../ar412555/index.html">ูุนุฏุงุช ูุบูุงุทูุณูุฉ ููุญุฑู ุจุฏูู ูุฑุด</a></li>
<li><a href="../ar412557/index.html">ููููุฉ ุฅูุดุงุก ุจุฑูุงูุฌ ุงูุฑูุจูุช ุงูุฎุงุต ุจู ุฏูู ููุงุฑุงุช ุงูุจุฑูุฌุฉ ูุฑุจุทู ุจู Yandex.Alice</a></li>
<li><a href="../ar412559/index.html">ุงูุนูุฏ ุงูุฐูู ูุชูุฏูุฏ ุฃููู ูุจุฏุก ุชุดุบูู blockchain</a></li>
<li><a href="../ar412565/index.html">ูุงุฑููุงุชูุฑ ุนู ูุณุคูู ุงููุธุงู: ูู ุงูุญูุงุฉ ุชููุถ ุฃูุงู ุนููู</a></li>
<li><a href="../ar412571/index.html">ูุตุต ูุฌุงุญ Kubernetes ูู ุงูุฅูุชุงุฌ. ุงูุฌุฒุก 9: ูุฌููุนุงุช CERN ู 210 K8s</a></li>
<li><a href="../ar412573/index.html">ูุง ูู ุงูุฎุทุฃ ูู Geektimes ุงูุนูุฏุฉ ุฅูู ูุจุฑ</a></li>
<li><a href="../ar412575/index.html">ูู ูู ุนุงู ุ ุชุตุจุญ ููุณููู ุงูุจูุจ โโุฑุชูุจุฉ ุฃูุซุฑ ูุฃูุซุฑ ุ ูุฃู ููุณ ุงูุฃุดุฎุงุต ูุคูููููุง</a></li>
<li><a href="../ar412579/index.html">Marvel: Infinity War ุฃู ููููุฉ ุฌูุน ุงูุจูุงูุงุช ููุดุฑูุนู ูู ุจุถุน ุฏูุงุฆู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>