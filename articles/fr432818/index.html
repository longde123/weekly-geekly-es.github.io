<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✉️ 😬 👩🏾‍🤝‍👩🏼 Traceur maison: conseils pour les débutants, travailler avec grbl-firmware 🆖 👨🏼‍🍳 👴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout en étudiant à l'université un sujet aussi divertissant que les circuits, j'ai pensé à faire dans le cadre du projet de cours "Traceur à deux axes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Traceur maison: conseils pour les débutants, travailler avec grbl-firmware</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432818/"><p>  Tout en étudiant à l'université un sujet aussi divertissant que les circuits, j'ai pensé à faire dans le cadre du projet de cours "Traceur à deux axes sur papier avec la tête d'un stylo plume basé sur Arduino."  Au moment où j'ai commencé à travailler, j'ai moi-même vaguement imaginé le développement de la partie électrique du projet, ainsi que de la partie mécanique.  Il n'y a jamais eu une telle expérience dans ma vie.  C'est pourquoi j'ai trouvé sur le réseau, triant beaucoup de ressources, qui me semblait le tutoriel le plus simple et le plus compréhensible, et j'ai décidé de le suivre exactement.  Cependant, il est vite devenu évident que tout ce qui était simple à première vue n'était pas assez détaillé pour un tel "artisan" comme moi.  Par conséquent, dans les questions qui restaient en coulisse, j'ai dû improviser, pas toujours avec succès, comme il s'est avéré plus tard.  C'était un peu de fond.  J'aimerais maintenant partager ma précieuse expérience sur un certain nombre de questions clés.  Je ne donnerai pas de nouvelles instructions avec ma version de cet appareil, car  sur Internet, donc des solutions plus efficaces. </p><br><h3 id="soderzhanie">  Table des matières </h3><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La construction</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Circuit électrique</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Logiciels</a> <a name="habracut"></a></li></ol><br><h3 id="1-konstrukciya-a-name1a">  1. Conception </h3><br><p><img src="https://habrastorage.org/webt/2q/j-/rx/2qj-rxkxvbgoa4oqvzwh9a0v4lk.png"></p><br><p>  Le design que j'ai choisi était en contreplaqué.  Comme les essieux, des goujons ont été utilisés, qui ont été mis en rotation par des moteurs pas à pas, et pour cette raison, la plate-forme sur les écrous s'est déplacée le long de l'axe.  Un axe était attaché à la plate-forme, l'autre avec un bord.  De la fabrication de tout cela, je peux dire: </p><br><ul><li>  Si l'axe supérieur n'a pas de support des deux côtés, mais est fixé, comme le mien, avec un seul bord, vous devez réfléchir à l'avance à l'équilibre des axes.  Celui du haut va inévitablement talonner, voire pas du tout, submerger toute la structure avec le poids de son bord «suspendu». </li><li>  Les lignes du motif peuvent aller par vagues le long de la taille du filetage du goujon, ainsi qu'en raison de la gigue de la structure elle-même pendant le fonctionnement. </li><li>  Deux des problèmes ci-dessus conduisent à une autre chose: le stylo (dans mon cas, le stylo) peut écrire de manière inégale dans différentes parties de la page. </li><li>  Le poids et les dimensions de l'appareil doivent également être calculés à l'avance, afin que plus tard, il ne devienne pas clair que vos moteurs ne tirent pas une telle charge. </li><li>  Et un autre détail important: il est préférable d'utiliser des vis, des clous, etc. dans la mesure du possible pour la fixation.  Les dessins sur colle, même les plus fiables, ont tendance à se désagréger au moment le plus inattendu.  Et dans certains cas, après assemblage de la pièce principale, il sera très difficile de revenir au «collage» de pièces internes petites mais très importantes sans démonter les pièces finies. </li><li>  Si vous utilisez de la colle quelque part, veillez très, très attentivement à ce qu'elle ne tombe pas dans les parties mobiles de la structure.  Même une petite gouttelette peut bloquer le mécanisme et le rendre inutilisable. <cut></cut></li></ul><br><h2 id="2-shema-elektricheskaya-a-name2a">  2. Le circuit électrique </h2><br><p><img src="https://habrastorage.org/webt/4q/9x/qf/4q9xqfsgp-mutarfcxtixrq7kwa.png"><br><img src="https://habrastorage.org/webt/ne/sc/q0/nescq0lychg2doa4rlzzvavfrmo.png"><br>  Le circuit lui-même était extrêmement simple et ne nécessitait même pas de soudure.  J'ai même pris le CNC Shield fini spécialement pour travailler avec CNC.  Néanmoins, il y a quelques nuances ici: </p><br><ul><li>  Mon analogue chinois d'Arduino, nommé WAVGAT, pour un segment a refusé de flasher comme un Arduino Uno R3 normal.  Il a été affirmé sur Internet que ces cartes sont entièrement compatibles avec tous les logiciels Arduino, mais pour travailler avec lui via l'IDE, il était nécessaire de télécharger une bibliothèque de mise à jour WAVGAT distincte.  J'ai donc réussi à télécharger le croquis sur la carte, mais le logiciel lui-même ne voulait toujours pas fonctionner correctement.  J'ai essayé toutes les options pour résoudre ces problèmes (j'ai surchargé le chargeur de démarrage de la carte, changé les fichiers des cartes et les constantes de la bibliothèque avec le logiciel), mais le résultat est resté le même.  Apparemment, c'est pour cette tâche que vous devrez obtenir l'Arduino classique. </li><li>  Un autre problème a été le lancement des moteurs pas à pas.  Ils fredonnaient, s'échauffaient, malgré les conducteurs froids, mais ne bougeaient pas.  En vérifiant méthodiquement la chaîne élément par élément, j'ai réalisé que le problème est dans leur connexion.  Le fait est que cette fois, les Chinois étaient aussi originaux.  Il s'est avéré que les fils du moteur contiennent des paires croisées AB.  Si les paires d'un moteur de magasin ordinaire allaient de l'ordre de 2B-2A-1A-1B, alors pour une raison quelconque, les Chinois avaient 2V-1A-2A-1B.  Cela peut être vérifié en «sélectionnant» le circuit avec un multimètre dans le mode correspondant: les sorties AB appariées grincent. </li><li>  Et pourtant, il s'est avéré que le servo variateur inoffensif de faible puissance est tout à fait capable de "brûler" irrémédiablement toute la carte Arduino avec une charge excessive prolongée.  Dans ce cas, la carte continuera à fonctionner, mais sera parfois interrompue au milieu, s'arrêtant aux commandes d'asservissement. </li><li>  Par conséquent, surveillez la température des appareils pendant leur fonctionnement pour éviter des conséquences fatales. <cut></cut></li></ul><br><h2 id="3-po-a-name3a">  3. Logiciel </h2><br><p>  Il y a des options: </p><br><ul><li>  Le moyen le plus simple d'obtenir un merveilleux programme BenBox simple.  Il est spécialisé spécifiquement pour travailler avec CNC et est facile à installer et à manipuler.  L'inconvénient de cette option est ses limites.  Premièrement, le micrologiciel de la carte dans le bundle logiciel est déjà contenu dans le fichier hexadécimal, il y a donc des problèmes avec sa modification.  Et la fonctionnalité en général n'est pas très étendue, elle ressemble à un simple éditeur graphique.  Si vous ne voulez pas entrer dans les détails du fonctionnement de tout ce mécanisme, vous pouvez travailler avec cette option. </li><li>  Un peu plus compliqué, mais aussi plus prometteur est de travailler avec le firmware GRBL.  Cette bibliothèque peut être facilement consultée sur Internet et offre beaucoup plus de fonctionnalités que BenBox.  Mais pour travailler à travers ce mécanisme, vous devez gérer la configuration initiale de tout cela. <br><ol><li>  Alors, téléchargez et décompressez la bibliothèque grbl-servo.  Vous pouvez maintenant le télécharger sur la carte via l'IDE, simplement en le trouvant parmi les exemples. </li><li>  Pour envoyer des commandes directement à l'appareil, vous aurez besoin de Universal Gcode Sender (ou d'un autre logiciel similaire).  Après l'avoir installé sur un ordinateur, nous ouvrons le canal de communication avec la carte via le port com auquel la carte est connectée. </li><li>  Pour les paramètres initiaux et ultérieurs de la carte dans la ligne de commande de l'application, tapez "$$".  Par cette commande, nous obtenons un ensemble complet de paramètres de base de la carte, qui peuvent être modifiés en définissant les paramètres nécessaires.  Par exemple, les commandes "$ 110 = 380" et "$ 111 = 380" définissent la vitesse des moteurs sur les axes X et Y à 380 mm \ min.  Les paramètres importants sont la vitesse et l'accélération des moteurs, la direction des axes (directe ou inverse).  Vous trouverez plus d'instructions sur ce paramètre sur Internet. </li><li>  Il y a aussi la possibilité de contrôler la machine sur les moteurs (onglet de commande de la machine) et le servo (commandes M5 (rotation vers la position initiale) et M3 s90 (rotation 90 ou tout autre nombre de degrés)). </li><li>  Ensuite, vous devez préparer une image pour le travail.  Pour cela, vous aurez également besoin d'un supplément.  Logiciel, par exemple, Inkscape.  Il est similaire à n'importe quel autre éditeur graphique et vous pouvez en savoir plus sur son utilisation également sur Internet.  Mais il y a quelques points importants: </li></ol></li><li>  Vous devez d'abord définir les tailles de page correctes dans les propriétés afin que la taille de votre image ne semble pas être supérieure aux capacités du traceur.  Il est également nécessaire de remplacer les pixels par des millimètres en unités de mesure. </li><li>  Après avoir créé l'image, appuyez sur ctrl + shift + C et allez dans le menu - extensions - MI GRBL ... - réglez la vitesse des moteurs et l'angle de rotation du servo - enregistrez l'image au format gcode. <br><ol><li>  Enfin, nous revenons à l'expéditeur universel de Gcode et dans l'onglet Mode fichier, ouvrons notre image gcode.  À l'aide du bouton Visualiser, vous pouvez surveiller graphiquement le fonctionnement du programme et, dans la fenêtre Tableau des commandes, vous pouvez suivre l'exécution de la commande.  Il ne reste plus qu'à exécuter tout cela et à observer le résultat. </li></ol></li></ul><br><p>  En conséquence, le travail sur un tel appareil s'est avéré difficile et laborieux, et le résultat final n'est pas idéal.  Mais une telle expérience est intéressante et non inutile.  Par conséquent, j'espère que quelqu'un viendra à portée de main et aidera à éviter un "ratissage" inutile de mes conseils. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432818/">https://habr.com/ru/post/fr432818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432808/index.html">Salaires en AI: où il y a plus d'argent et qui ils cherchent en Russie</a></li>
<li><a href="../fr432810/index.html">Premières amendes pour le GDPR: qui a déjà été puni</a></li>
<li><a href="../fr432812/index.html">Nous écrivons des robots de trading en utilisant le cadre graphique StockSharp. Partie 1</a></li>
<li><a href="../fr432814/index.html">Intégration de Cake et TeamCity</a></li>
<li><a href="../fr432816/index.html">AXIS M3046-V vs IDIS DC-D3212X: Comparez les caméras CCTV</a></li>
<li><a href="../fr432820/index.html">Test dynamique des applications Android</a></li>
<li><a href="../fr432822/index.html">Je gâche le code de ma vie pour les développeurs et je ne veux plus le faire</a></li>
<li><a href="../fr432824/index.html">Accélérer la création de ConcurrentReferenceHashMap</a></li>
<li><a href="../fr432826/index.html">Développement Android moderne sur Kotlin. 2e partie</a></li>
<li><a href="../fr432828/index.html">Test et débogage de MapReduce</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>