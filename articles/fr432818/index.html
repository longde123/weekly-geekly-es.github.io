<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úâÔ∏è üò¨ üë©üèæ‚Äçü§ù‚Äçüë©üèº Traceur maison: conseils pour les d√©butants, travailler avec grbl-firmware üÜñ üë®üèº‚Äçüç≥ üë¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout en √©tudiant √† l'universit√© un sujet aussi divertissant que les circuits, j'ai pens√© √† faire dans le cadre du projet de cours "Traceur √† deux axes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Traceur maison: conseils pour les d√©butants, travailler avec grbl-firmware</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432818/"><p>  Tout en √©tudiant √† l'universit√© un sujet aussi divertissant que les circuits, j'ai pens√© √† faire dans le cadre du projet de cours "Traceur √† deux axes sur papier avec la t√™te d'un stylo plume bas√© sur Arduino."  Au moment o√π j'ai commenc√© √† travailler, j'ai moi-m√™me vaguement imagin√© le d√©veloppement de la partie √©lectrique du projet, ainsi que de la partie m√©canique.  Il n'y a jamais eu une telle exp√©rience dans ma vie.  C'est pourquoi j'ai trouv√© sur le r√©seau, triant beaucoup de ressources, qui me semblait le tutoriel le plus simple et le plus compr√©hensible, et j'ai d√©cid√© de le suivre exactement.  Cependant, il est vite devenu √©vident que tout ce qui √©tait simple √† premi√®re vue n'√©tait pas assez d√©taill√© pour un tel "artisan" comme moi.  Par cons√©quent, dans les questions qui restaient en coulisse, j'ai d√ª improviser, pas toujours avec succ√®s, comme il s'est av√©r√© plus tard.  C'√©tait un peu de fond.  J'aimerais maintenant partager ma pr√©cieuse exp√©rience sur un certain nombre de questions cl√©s.  Je ne donnerai pas de nouvelles instructions avec ma version de cet appareil, car  sur Internet, donc des solutions plus efficaces. </p><br><h3 id="soderzhanie">  Table des mati√®res </h3><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La construction</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Circuit √©lectrique</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Logiciels</a> <a name="habracut"></a></li></ol><br><h3 id="1-konstrukciya-a-name1a">  1. Conception </h3><br><p><img src="https://habrastorage.org/webt/2q/j-/rx/2qj-rxkxvbgoa4oqvzwh9a0v4lk.png"></p><br><p>  Le design que j'ai choisi √©tait en contreplaqu√©.  Comme les essieux, des goujons ont √©t√© utilis√©s, qui ont √©t√© mis en rotation par des moteurs pas √† pas, et pour cette raison, la plate-forme sur les √©crous s'est d√©plac√©e le long de l'axe.  Un axe √©tait attach√© √† la plate-forme, l'autre avec un bord.  De la fabrication de tout cela, je peux dire: </p><br><ul><li>  Si l'axe sup√©rieur n'a pas de support des deux c√¥t√©s, mais est fix√©, comme le mien, avec un seul bord, vous devez r√©fl√©chir √† l'avance √† l'√©quilibre des axes.  Celui du haut va in√©vitablement talonner, voire pas du tout, submerger toute la structure avec le poids de son bord ¬´suspendu¬ª. </li><li>  Les lignes du motif peuvent aller par vagues le long de la taille du filetage du goujon, ainsi qu'en raison de la gigue de la structure elle-m√™me pendant le fonctionnement. </li><li>  Deux des probl√®mes ci-dessus conduisent √† une autre chose: le stylo (dans mon cas, le stylo) peut √©crire de mani√®re in√©gale dans diff√©rentes parties de la page. </li><li>  Le poids et les dimensions de l'appareil doivent √©galement √™tre calcul√©s √† l'avance, afin que plus tard, il ne devienne pas clair que vos moteurs ne tirent pas une telle charge. </li><li>  Et un autre d√©tail important: il est pr√©f√©rable d'utiliser des vis, des clous, etc. dans la mesure du possible pour la fixation.  Les dessins sur colle, m√™me les plus fiables, ont tendance √† se d√©sagr√©ger au moment le plus inattendu.  Et dans certains cas, apr√®s assemblage de la pi√®ce principale, il sera tr√®s difficile de revenir au ¬´collage¬ª de pi√®ces internes petites mais tr√®s importantes sans d√©monter les pi√®ces finies. </li><li>  Si vous utilisez de la colle quelque part, veillez tr√®s, tr√®s attentivement √† ce qu'elle ne tombe pas dans les parties mobiles de la structure.  M√™me une petite gouttelette peut bloquer le m√©canisme et le rendre inutilisable. <cut></cut></li></ul><br><h2 id="2-shema-elektricheskaya-a-name2a">  2. Le circuit √©lectrique </h2><br><p><img src="https://habrastorage.org/webt/4q/9x/qf/4q9xqfsgp-mutarfcxtixrq7kwa.png"><br><img src="https://habrastorage.org/webt/ne/sc/q0/nescq0lychg2doa4rlzzvavfrmo.png"><br>  Le circuit lui-m√™me √©tait extr√™mement simple et ne n√©cessitait m√™me pas de soudure.  J'ai m√™me pris le CNC Shield fini sp√©cialement pour travailler avec CNC.  N√©anmoins, il y a quelques nuances ici: </p><br><ul><li>  Mon analogue chinois d'Arduino, nomm√© WAVGAT, pour un segment a refus√© de flasher comme un Arduino Uno R3 normal.  Il a √©t√© affirm√© sur Internet que ces cartes sont enti√®rement compatibles avec tous les logiciels Arduino, mais pour travailler avec lui via l'IDE, il √©tait n√©cessaire de t√©l√©charger une biblioth√®que de mise √† jour WAVGAT distincte.  J'ai donc r√©ussi √† t√©l√©charger le croquis sur la carte, mais le logiciel lui-m√™me ne voulait toujours pas fonctionner correctement.  J'ai essay√© toutes les options pour r√©soudre ces probl√®mes (j'ai surcharg√© le chargeur de d√©marrage de la carte, chang√© les fichiers des cartes et les constantes de la biblioth√®que avec le logiciel), mais le r√©sultat est rest√© le m√™me.  Apparemment, c'est pour cette t√¢che que vous devrez obtenir l'Arduino classique. </li><li>  Un autre probl√®me a √©t√© le lancement des moteurs pas √† pas.  Ils fredonnaient, s'√©chauffaient, malgr√© les conducteurs froids, mais ne bougeaient pas.  En v√©rifiant m√©thodiquement la cha√Æne √©l√©ment par √©l√©ment, j'ai r√©alis√© que le probl√®me est dans leur connexion.  Le fait est que cette fois, les Chinois √©taient aussi originaux.  Il s'est av√©r√© que les fils du moteur contiennent des paires crois√©es AB.  Si les paires d'un moteur de magasin ordinaire allaient de l'ordre de 2B-2A-1A-1B, alors pour une raison quelconque, les Chinois avaient 2V-1A-2A-1B.  Cela peut √™tre v√©rifi√© en ¬´s√©lectionnant¬ª le circuit avec un multim√®tre dans le mode correspondant: les sorties AB appari√©es grincent. </li><li>  Et pourtant, il s'est av√©r√© que le servo variateur inoffensif de faible puissance est tout √† fait capable de "br√ªler" irr√©m√©diablement toute la carte Arduino avec une charge excessive prolong√©e.  Dans ce cas, la carte continuera √† fonctionner, mais sera parfois interrompue au milieu, s'arr√™tant aux commandes d'asservissement. </li><li>  Par cons√©quent, surveillez la temp√©rature des appareils pendant leur fonctionnement pour √©viter des cons√©quences fatales. <cut></cut></li></ul><br><h2 id="3-po-a-name3a">  3. Logiciel </h2><br><p>  Il y a des options: </p><br><ul><li>  Le moyen le plus simple d'obtenir un merveilleux programme BenBox simple.  Il est sp√©cialis√© sp√©cifiquement pour travailler avec CNC et est facile √† installer et √† manipuler.  L'inconv√©nient de cette option est ses limites.  Premi√®rement, le micrologiciel de la carte dans le bundle logiciel est d√©j√† contenu dans le fichier hexad√©cimal, il y a donc des probl√®mes avec sa modification.  Et la fonctionnalit√© en g√©n√©ral n'est pas tr√®s √©tendue, elle ressemble √† un simple √©diteur graphique.  Si vous ne voulez pas entrer dans les d√©tails du fonctionnement de tout ce m√©canisme, vous pouvez travailler avec cette option. </li><li>  Un peu plus compliqu√©, mais aussi plus prometteur est de travailler avec le firmware GRBL.  Cette biblioth√®que peut √™tre facilement consult√©e sur Internet et offre beaucoup plus de fonctionnalit√©s que BenBox.  Mais pour travailler √† travers ce m√©canisme, vous devez g√©rer la configuration initiale de tout cela. <br><ol><li>  Alors, t√©l√©chargez et d√©compressez la biblioth√®que grbl-servo.  Vous pouvez maintenant le t√©l√©charger sur la carte via l'IDE, simplement en le trouvant parmi les exemples. </li><li>  Pour envoyer des commandes directement √† l'appareil, vous aurez besoin de Universal Gcode Sender (ou d'un autre logiciel similaire).  Apr√®s l'avoir install√© sur un ordinateur, nous ouvrons le canal de communication avec la carte via le port com auquel la carte est connect√©e. </li><li>  Pour les param√®tres initiaux et ult√©rieurs de la carte dans la ligne de commande de l'application, tapez "$$".  Par cette commande, nous obtenons un ensemble complet de param√®tres de base de la carte, qui peuvent √™tre modifi√©s en d√©finissant les param√®tres n√©cessaires.  Par exemple, les commandes "$ 110 = 380" et "$ 111 = 380" d√©finissent la vitesse des moteurs sur les axes X et Y √† 380 mm \ min.  Les param√®tres importants sont la vitesse et l'acc√©l√©ration des moteurs, la direction des axes (directe ou inverse).  Vous trouverez plus d'instructions sur ce param√®tre sur Internet. </li><li>  Il y a aussi la possibilit√© de contr√¥ler la machine sur les moteurs (onglet de commande de la machine) et le servo (commandes M5 (rotation vers la position initiale) et M3 s90 (rotation 90 ou tout autre nombre de degr√©s)). </li><li>  Ensuite, vous devez pr√©parer une image pour le travail.  Pour cela, vous aurez √©galement besoin d'un suppl√©ment.  Logiciel, par exemple, Inkscape.  Il est similaire √† n'importe quel autre √©diteur graphique et vous pouvez en savoir plus sur son utilisation √©galement sur Internet.  Mais il y a quelques points importants: </li></ol></li><li>  Vous devez d'abord d√©finir les tailles de page correctes dans les propri√©t√©s afin que la taille de votre image ne semble pas √™tre sup√©rieure aux capacit√©s du traceur.  Il est √©galement n√©cessaire de remplacer les pixels par des millim√®tres en unit√©s de mesure. </li><li>  Apr√®s avoir cr√©√© l'image, appuyez sur ctrl + shift + C et allez dans le menu - extensions - MI GRBL ... - r√©glez la vitesse des moteurs et l'angle de rotation du servo - enregistrez l'image au format gcode. <br><ol><li>  Enfin, nous revenons √† l'exp√©diteur universel de Gcode et dans l'onglet Mode fichier, ouvrons notre image gcode.  √Ä l'aide du bouton Visualiser, vous pouvez surveiller graphiquement le fonctionnement du programme et, dans la fen√™tre Tableau des commandes, vous pouvez suivre l'ex√©cution de la commande.  Il ne reste plus qu'√† ex√©cuter tout cela et √† observer le r√©sultat. </li></ol></li></ul><br><p>  En cons√©quence, le travail sur un tel appareil s'est av√©r√© difficile et laborieux, et le r√©sultat final n'est pas id√©al.  Mais une telle exp√©rience est int√©ressante et non inutile.  Par cons√©quent, j'esp√®re que quelqu'un viendra √† port√©e de main et aidera √† √©viter un "ratissage" inutile de mes conseils. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432818/">https://habr.com/ru/post/fr432818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432808/index.html">Salaires en AI: o√π il y a plus d'argent et qui ils cherchent en Russie</a></li>
<li><a href="../fr432810/index.html">Premi√®res amendes pour le GDPR: qui a d√©j√† √©t√© puni</a></li>
<li><a href="../fr432812/index.html">Nous √©crivons des robots de trading en utilisant le cadre graphique StockSharp. Partie 1</a></li>
<li><a href="../fr432814/index.html">Int√©gration de Cake et TeamCity</a></li>
<li><a href="../fr432816/index.html">AXIS M3046-V vs IDIS DC-D3212X: Comparez les cam√©ras CCTV</a></li>
<li><a href="../fr432820/index.html">Test dynamique des applications Android</a></li>
<li><a href="../fr432822/index.html">Je g√¢che le code de ma vie pour les d√©veloppeurs et je ne veux plus le faire</a></li>
<li><a href="../fr432824/index.html">Acc√©l√©rer la cr√©ation de ConcurrentReferenceHashMap</a></li>
<li><a href="../fr432826/index.html">D√©veloppement Android moderne sur Kotlin. 2e partie</a></li>
<li><a href="../fr432828/index.html">Test et d√©bogage de MapReduce</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>