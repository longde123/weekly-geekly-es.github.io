<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêá ‚ö™Ô∏è ü§¶üèæ Folha de dicas da abrevia√ß√£o de C ++ e muito mais. Parte 2: "e n√£o apenas" üï∫üèª üóÇÔ∏è üôÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta √© a segunda e a √∫ltima parte da minha planilha de abreviaturas que um desenvolvedor de C ++ deve conhecer. O C ++ √© mencionado aqui apenas porque...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Folha de dicas da abrevia√ß√£o de C ++ e muito mais. Parte 2: "e n√£o apenas"</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470317/">  Esta √© a segunda e a √∫ltima parte da minha planilha de abreviaturas que um desenvolvedor de C ++ deve conhecer.  O C ++ √© mencionado aqui apenas porque eu criei a folha de dicas principalmente para mim e sou apenas o mesmo desenvolvedor do C ++. <br><br>  De fato, esta parte cont√©m conceitos cujo escopo n√£o se limita ao C ++.  Portanto, a sele√ß√£o pode ser de interesse para um p√∫blico mais amplo. <br><br><img src="https://habrastorage.org/webt/5v/rw/tl/5vrwtlvriee907omassuau2avzq.png"><br><a name="habracut"></a><br>  Como na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte</a> , as abrevia√ß√µes s√£o agrupadas, se isso faz sentido.  Se n√£o fizer sentido, eles ser√£o listados em ordem alfab√©tica. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Concorr√™ncia e opera√ß√µes at√¥micas:</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABA</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FAA</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RCU</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Armazenamento de dados:</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√ÅCIDO</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAP</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PACELC</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BASE</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Princ√≠pios de desenvolvimento de software:</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SECO</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BEIJO</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YAGNI</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NIH</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FTSE</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GRASP</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">S√ìLIDO</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Outro:</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABI</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VACA</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FBC, FBCP</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LRU</a> <br><br><h2>  Concorr√™ncia e opera√ß√µes at√¥micas <a name="Concurrency"></a></h2><br><h3>  Cas <a name="CAS"></a></h3><br>  <i>Compare E Troque.</i>  <i>Compara√ß√£o com a troca.</i>  Esta √© uma instru√ß√£o at√¥mica com tr√™s argumentos: vari√°vel at√¥mica ou endere√ßo de mem√≥ria, valor esperado, novo valor.  Se e somente se o valor da vari√°vel corresponder ao valor esperado, a vari√°vel receber√° um novo valor e a instru√ß√£o ser√° conclu√≠da com √™xito.  <i>O CAS</i> simplesmente retorna um valor booleano (e pode ser chamado Compare And Set) ou, se falhar, tamb√©m retorna o valor atual do primeiro argumento. <br><br><div class="spoiler">  <b class="spoiler_title">Pseudo c√≥digo</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cas</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* addr, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; expected, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> new_value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (*addr != expected) { expected = *addr; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } *addr = new_value; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> </div></div><br>  No C ++, o <i>CAS</i> √© representado pelas fam√≠lias dos m√©todos <code>std::atomic&lt;T&gt;::compare_exchange_weak</code> , <code>std::atomic&lt;T&gt;::compare_exchange_strong</code> e as fun√ß√µes livres <code>std::atomic_compare_exchange_weak</code> , <code>std::atomic_compare_exchange_strong</code> .  A diferen√ßa entre <b>* fraco</b> e <b>* forte</b> √© que o primeiro pode produzir resultados falsos negativos.  I.e.  se o valor for esperado, eles retornar√£o <code>false</code> e n√£o o substituir√£o por um novo.  A raz√£o para a exist√™ncia de <b>*</b> opera√ß√µes <b>fracas</b> √© que em algumas arquiteturas <b>* fortes s√£o</b> relativamente caras.  Na maioria dos casos, as instru√ß√µes <i>CAS</i> giram em um loop (o chamado loop CAS); portanto, usar <b>* fraco em</b> vez de <b>* forte</b> n√£o muda a l√≥gica, mas pode melhorar o desempenho. <br><br>  <i>As</i> instru√ß√µes <i>CAS</i> s√£o usadas para implementar primitivas de sincroniza√ß√£o (como mutexes e sem√°foros) e algoritmos sem bloqueio.  Muitas vezes levam a um problema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABA</a> . <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> <br><br><h3>  ABA <a name="ABA"></a></h3><br>  <i>Problema ABA.</i>  <i>Problema ABA.</i>  Esse problema surge em algoritmos paralelos com base em compara√ß√µes com trocas (consulte o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> ), por exemplo, em algoritmos sem bloqueio.  A conclus√£o √© que o thread l√™ o valor da vari√°vel at√¥mica, faz outra coisa e atualiza essa vari√°vel por compara√ß√£o com a troca.  I.e.  a l√≥gica do fluxo √© a seguinte: se a vari√°vel ainda cont√©m o valor anterior, nada mudou, tudo est√° em ordem.  Mas isso pode n√£o ser verdade.  Uma descri√ß√£o mais formal do problema: <br><br><ul><li>  o thread 1 l√™ o valor da vari√°vel, √© igual a A </li><li>  o segmento 1 est√° sendo for√ßado a sair, o segmento 2 est√° iniciando </li><li>  o encadeamento 2 altera o valor da vari√°vel de A para B, faz v√°rias altera√ß√µes (altera algum valor associado √† vari√°vel ou apenas libera mem√≥ria) e depois altera novamente o valor - de B para A </li><li>  o thread 1 retoma a opera√ß√£o, compara o valor obtido anteriormente com o atual e conclui que nada mudou </li></ul><br>  Poss√≠veis solu√ß√µes para o problema: <br><br><ol><li>  O mais simples e mais √≥bvio √© usar bloqueios.  Isso resultar√° no algoritmo usual de seguran√ßa de thread com se√ß√µes cr√≠ticas.  Mas deixar√° de estar livre de bloqueios.  Mas se se tratasse de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> e <i>ABA</i> , provavelmente n√£o √© uma op√ß√£o. </li><li>  Adicione r√≥tulos especiais aos valores comparados.  Por exemplo, um contador do n√∫mero de altera√ß√µes.  Por um lado, esse contador pode estourar, mas, por outro lado, os modernos processadores x86_64 suportam opera√ß√µes <i>CAS de</i> 128 bits.  I.e.  ao comparar ponteiros com um contador, voc√™ pode fornecer at√© 64 bits e algu√©m achou que isso √© suficiente para 10 anos de opera√ß√£o cont√≠nua do algoritmo. </li><li>  Algumas arquiteturas (ARM, por exemplo) fornecem instru√ß√µes LL / SC (carga vinculada, armazenamento condicional) que n√£o apenas permitem obter o valor atual do endere√ßo na mem√≥ria, mas tamb√©m entender se esse valor foi alterado desde a √∫ltima leitura. </li></ol><br>  Para usar estruturas de dados como uma pilha, lista ou fila, livres de bloqueios, em geral, onde existe o risco de ficar com um ponteiro pendurado em um n√≥ remoto, h√° toda uma fam√≠lia de solu√ß√µes para o problema <i>ABA com</i> base na remo√ß√£o adiada de n√≥s.  Isso inclui o coletor de lixo, os indicadores de perigo e o mecanismo de leitura-modifica√ß√£o-grava√ß√£o (consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RCU</a> ). <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tr√™s (ingl√™s)</a> <br><br><h3>  FAA <a name="FAA"></a></h3><br>  <i>Buscar e adicionar.</i>  <i>Ah ... obtenha e adicione (parece que esse conceito nunca √© traduzido para o russo).</i>  Uma opera√ß√£o at√¥mica com dois argumentos: uma vari√°vel at√¥mica ou um endere√ßo na mem√≥ria e o valor pelo qual essa vari√°vel deve ser alterada.  Se a arquitetura permitir, a opera√ß√£o retornar√° o valor anterior da vari√°vel alterada (x86 permite desde i486).  Ao contr√°rio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> , a <i>FAA</i> sempre <i>√©</i> bem-sucedida. <br><br><div class="spoiler">  <b class="spoiler_title">Pseudo c√≥digo</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">faa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* addr, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> diff)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value = *addr; *addr = value + diff; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; }</code> </pre> </div></div><br>  No C ++, ele √© implementado como as fam√≠lias dos m√©todos <code>std::atomic&lt;T&gt;::fetch_add</code> , <code>fetch_sub</code> , <code>fetch_and</code> , <code>fetch_or</code> , <code>fetch_xor</code> e as fun√ß√µes livres correspondentes <code>std::atomic_fetch_add</code> , etc. <br><br>  Como conv√©m a uma instru√ß√£o at√¥mica, o <i>FAA</i> √© usado em implementa√ß√µes de primitivas de sincroniza√ß√£o e algoritmos sem bloqueio e estruturas de dados. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> <br><br><h3>  RCU <a name="RCU"></a></h3><br>  <i>Leitura-c√≥pia-atualiza√ß√£o.</i>  <i>Leitura-modifica√ß√£o-grava√ß√£o.</i>  Este √© um mecanismo sem bloqueio para sincronizar o acesso √† estrutura de dados (sem bloqueios, √© claro).  √â usado nos casos em que a velocidade de leitura √© cr√≠tica.  √â um exemplo da troca de tempo e mem√≥ria (troca espa√ßo-tempo). <br><br>  A id√©ia do <i>RCU</i> √© que o fluxo do gravador n√£o altere os dados no local, mas crie uma c√≥pia, fa√ßa as altera√ß√µes necess√°rias e troque atomicamente os dados atuais e a c√≥pia alterada.  Ao mesmo tempo, os threads do leitor constantemente t√™m acesso a dados - antigos ou novos, quem quer que tenha tempo.  Quando n√£o h√° leitores trabalhando com a vers√£o desatualizada, o gravador exclui os dados que n√£o s√£o mais necess√°rios, liberando mem√≥ria. <br><br>  O RCU muito simplificado funciona assim: <br><br><ul><li>  Muitos leitores, um escritor. </li><li>  Leitura e mudan√ßa ocorrem simultaneamente. </li><li>  Os leitores usam sincroniza√ß√£o muito leve.  De fato, o leitor s√≥ precisa notificar o escritor no momento de entrar na se√ß√£o cr√≠tica e no momento de sair dela.  O trabalho com dados sincronizados ocorre apenas na se√ß√£o cr√≠tica. </li><li>  O escritor, assim que substitui atentamente os dados por uma c√≥pia, anuncia o in√≠cio do chamado per√≠odo de car√™ncia (per√≠odo de car√™ncia).  O per√≠odo de car√™ncia termina quando todos os leitores que estavam em se√ß√µes cr√≠ticas no in√≠cio deste per√≠odo deixaram suas se√ß√µes cr√≠ticas.  Agora, o gravador pode excluir com seguran√ßa dados obsoletos.  Est√° impl√≠cito que todas as se√ß√µes cr√≠ticas s√£o finitas, o que garante a finitude do per√≠odo de car√™ncia. </li></ul><br>  <i>O RCU √©</i> √≥timo para dados que s√£o frequentemente lidos e raramente atualizados.  Esse mecanismo √© usado ativamente no kernel do Linux, onde √© bastante simples determinar quando o per√≠odo de car√™ncia termina. <br><br>  Desvantagens: <br><br><ul><li>  Fraco para sincronizar o acesso a dados modificados com frequ√™ncia. </li><li>  Dif√≠cil de implementar no espa√ßo do usu√°rio. </li><li>  Depende da capacidade de alterar atomicamente os ponteiros para um endere√ßo na mem√≥ria, mas nem todas as arquiteturas fornecem esse recurso. </li></ul><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> <br><br><h2>  Armazenamento de dados <a name="Storage"></a></h2><br><h3>  √ÅCIDO <a name="ACID"></a></h3><br>  <i>Atomicidade, Consist√™ncia, Isolamento, Durabilidade.</i>  <i>Atomicidade, consist√™ncia, isolamento, durabilidade.</i>  Este √© um conjunto de requisitos de transa√ß√£o em um DBMS.  <i>O ACID</i> fornece opera√ß√£o DBMS confi√°vel e previs√≠vel, mesmo em caso de erros. <br><br><ul><li>  <b>A atomicidade</b> assegura que a transa√ß√£o seja conclu√≠da completamente ou n√£o fa√ßa nada.  Um estado intermedi√°rio √© imposs√≠vel, n√£o ser√° tal que uma opera√ß√£o de transa√ß√£o tenha sido bem-sucedida e a outra n√£o.  Tudo ou nada. </li><li>  <b>A consist√™ncia</b> garante que todos os dados no banco de dados atendam a todas as regras e restri√ß√µes especificadas antes do in√≠cio da transa√ß√£o e ap√≥s sua conclus√£o.  Durante a execu√ß√£o da transa√ß√£o, a consist√™ncia pode ser violada. </li><li>  <b>O isolamento</b> garante que transa√ß√µes simult√¢neas n√£o afetem uma √† outra.  Nenhuma transa√ß√£o tem acesso a dados inconsistentes processados ‚Äã‚Äãpor outra transa√ß√£o. </li><li>  <b>Durabilidade</b> significa que o resultado de uma transa√ß√£o bem-sucedida √© armazenado no banco de dados e n√£o pode ser perdido, n√£o importa o que aconte√ßa com o banco de dados imediatamente ap√≥s a conclus√£o da transa√ß√£o. </li></ul><br>  Todos os principais DBMSs relacionais suportam totalmente o <i>ACID</i> .  No mundo NoSQL, esse suporte completo provavelmente √© uma exce√ß√£o. <br><br>  Leia mais: uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">duas (ingl√™s)</a> <br><br><h3>  Cap <a name="CAP"></a></h3><br>  <i>Teorema da PAC.</i>  <i>Teorema da PAC.</i>  O teorema afirma que qualquer sistema distribu√≠do pode ter mais de duas propriedades da lista: consist√™ncia dos dados ( <b>consist√™ncia</b> ), disponibilidade ( <b>disponibilidade</b> ), resist√™ncia √† separa√ß√£o ( <b>toler√¢ncia de parti√ß√£o</b> ). <br><br><ul><li>  <b>Consist√™ncia</b> neste caso significa consist√™ncia (simplificada) consistente.  I.e.  assim que a opera√ß√£o de atualiza√ß√£o de dados em um n√≥ for conclu√≠da com √™xito, todos os outros n√≥s j√° ter√£o esses dados atualizados.  Assim, todos os n√≥s est√£o em um estado consistente.  Essa n√£o √© a consist√™ncia exigida pelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ACID</a> . </li><li>  <b>Disponibilidade</b> significa que cada n√≥ com falha retorna uma resposta correta para cada solicita√ß√£o (tanto para leitura quanto para grava√ß√£o) em um per√≠odo de tempo razo√°vel.  N√£o h√° garantia de que as respostas de diferentes n√≥s correspondam. </li><li>  <b>Resist√™ncia √† separa√ß√£o</b> significa que o sistema continuar√° funcionando corretamente em caso de perda de um n√∫mero arbitr√°rio de mensagens entre seus n√≥s. </li></ul><br>  Porque  todas as tr√™s propriedades s√£o inating√≠veis; do ponto de vista do teorema da <i>PAC</i> , todos os sistemas distribu√≠dos se enquadram em tr√™s classes: <b>CA</b> , <b>CP</b> e <b>AP</b> .  <b>Os</b> sistemas <b>CA</b> obviamente n√£o t√™m resist√™ncia √† separa√ß√£o.  Porque  na grande maioria dos casos, a distribui√ß√£o implica a distribui√ß√£o em uma rede real e, em uma rede real, sempre h√° uma probabilidade diferente de zero de perder um pacote, e os sistemas <b>CA</b> s√£o de pouco interesse. <br><br>  A escolha √© entre <b>CP</b> e <b>AP</b> , ou seja, entre consist√™ncia e disponibilidade.  DBMSs relacionais tradicionais que seguem os princ√≠pios do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ACID</a> preferem consist√™ncia.  Enquanto muitas solu√ß√µes NoSQL escolhem acessibilidade e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BASE</a> . <br><br>  No caso de opera√ß√£o normal da rede, ou seja, quando n√£o h√° separa√ß√£o de rede, o teorema da <i>CAP</i> n√£o imp√µe restri√ß√µes √† consist√™ncia e disponibilidade.  I.e.  doar algo n√£o √© necess√°rio. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tr√™s (ingl√™s)</a> <br><br><h3>  Pacelc <a name="PACELC"></a></h3><br>  <i>Teorema do PACELC.</i>  <i>Teorema do PACELC.</i>  Essa √© uma extens√£o do teorema do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAP</a> , que afirma que um sistema distribu√≠do no caso de uma parti√ß√£o de rede ( <b>Parti√ß√£o</b> ) √© for√ßado a escolher entre <b>Disponibilidade</b> ( <b>Consist√™ncia</b> ) e, no caso de opera√ß√£o normal de rede ( <b>Else</b> ), √© necess√°rio escolher entre lat√™ncia ( <b>Consist√™ncia)</b> ) <br><br>  Portanto, se o teorema do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAP</a> distinguir duas classes de sistemas est√°veis ‚Äã‚Äãcom a separa√ß√£o de rede, o <i>PACELC possui</i> quatro deles: <b>PA / EL</b> , <b>PA / EC</b> , <b>PC / EL</b> e <b>PC / EC</b> .  Alguns bancos de dados NoSQL podem mudar de classe, dependendo das configura√ß√µes. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> <br><br><h3>  BASE <a name="BASE"></a></h3><br>  <i>Basicamente dispon√≠vel, estado suave, consist√™ncia eventual.</i>  <i>Disponibilidade b√°sica, estado fr√°gil, consist√™ncia a longo prazo.</i>  De acordo com o teorema da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PAC</a> em sistemas distribu√≠dos, algo ter√° que ser abandonado.  A coer√™ncia estrita √© geralmente abandonada em favor da coer√™ncia a longo prazo.  O que significa que, na aus√™ncia de altera√ß√µes de dados, o sistema algum dia chegar√° a um estado consistente. <br><br>  Para indicar tal compromisso, a abreviatura <i>BASE</i> come√ßou a ser usada com certa <i>rigidez</i> e resultou em um jogo de termos qu√≠micos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ACID</a> - acidez, <i>BASE</i> - basicidade). <br><br><ul><li>  <b>Basicamente dispon√≠vel</b> significa que o sistema garante a disponibilidade dos dados, responde a cada solicita√ß√£o.  Mas a resposta pode ser dados desatualizados ou inconsistentes (ou a falta deles) </li><li>  <b>Estado suave</b> significa que o estado do sistema pode mudar com o tempo, mesmo na aus√™ncia de solicita√ß√µes de altera√ß√µes de dados.  Porque a qualquer momento, os dados podem ser trazidos para um estado consistente. </li><li>  <b>A consist√™ncia eventual</b> significa que, se os dados pararem de mudar, eles obviamente terminar√£o em um estado consistente.  I.e.  a mesma solicita√ß√£o para n√≥s diferentes levar√° √†s mesmas respostas. </li></ul><br>  Leia mais: uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">duas (ingl√™s)</a> <br><br><h2>  Princ√≠pios de desenvolvimento de software <a name="Principles"></a></h2><br><h3>  SECO <a name="DRY"></a></h3><br>  <i>N√£o se repita.</i>  <i>N√£o repita.</i>  Esse √© o princ√≠pio do desenvolvimento de software, cuja principal id√©ia √© reduzir a quantidade de informa√ß√µes duplicadas no sistema, e o objetivo √© reduzir a complexidade do sistema e aumentar sua capacidade de gerenciamento. <br><br>  No original ( <i>O</i> livro do <i>programador pragm√°tico</i> , de <i>Andrew Hunt</i> e <i>David Thomas</i> ), esse princ√≠pio √© formulado da seguinte maneira: "Cada conhecimento deve ter uma representa√ß√£o √∫nica, consistente e autorizada dentro do sistema".  Nesse caso, entende-se por conhecimento qualquer parte de uma √°rea ou algoritmo de assunto: um c√≥digo, um esquema de banco de dados, um determinado protocolo de intera√ß√£o etc. Assim, para fazer uma altera√ß√£o no sistema, apenas um "conhecimento" precisa ser atualizado em um s√≥ lugar. <br><br>  Um exemplo idiota: o cliente e o servidor transmitem dados estruturados um para o outro.  Porque  Como s√£o aplicativos diferentes executados em m√°quinas diferentes, os dois devem ter suas pr√≥prias implementa√ß√µes dessas estruturas.  Se algo mudar, as altera√ß√µes ter√£o que ser feitas em dois lugares.  Um passo √≥bvio para evitar essa repeti√ß√£o √© alocar o c√≥digo comum em uma biblioteca separada.  O pr√≥ximo passo √© ger√°-lo de acordo com a descri√ß√£o das estruturas (Google Protocol Buffers, por exemplo), para n√£o escrever o mesmo tipo de c√≥digo para acessar os campos das estruturas. <br><br>  A duplica√ß√£o de c√≥digo √© apenas um caso especial de viola√ß√£o de <i>DRY</i> .  E esse nem sempre √© o caso.  Se dois peda√ßos de c√≥digo parecerem iguais, mas cada um implementar sua pr√≥pria l√≥gica de neg√≥cios, o <i>DRY</i> n√£o <i>ser√°</i> quebrado. <br><br>  Como qualquer outro princ√≠pio, o <i>DRY</i> √© uma ferramenta, n√£o um dogma.  Quanto maior o sistema, mais f√°cil √© violar esse princ√≠pio.  Primeiro, o ideal √© inating√≠vel.  E segundo, se seguir cegamente o <i>DRY</i> levar a um c√≥digo mais complicado e dificultar a compreens√£o, √© melhor abandon√°-lo. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (russo)</a> <br><br><h3>  KISS <a name="KISS"></a></h3><br>  <i>Mantenha-o simples, est√∫pido.</i>  <i>Torne mais f√°cil (est√∫pido, neste caso, n√£o √© uma liga√ß√£o).</i>  Esse √© o princ√≠pio de design de que a maioria dos sistemas funciona melhor se permanecer simples.  O princ√≠pio se originou na ind√∫stria aeron√°utica e √© aplicado muito onde, inclusive no desenvolvimento de software. <br><br>  Neste √∫ltimo caso, o <i>KISS</i> √© √∫til para projetar e escrever diretamente o c√≥digo.  Arquitetura e c√≥digo simples n√£o s√£o apenas mais f√°ceis de entender, mas tamb√©m mais f√°ceis de usar, manter e desenvolver.  O MapReduce n√£o deve ser enganado se um par produtor-consumidor for suficiente.  A m√°gica da metaprograma√ß√£o √© excessivamente complexa se voc√™ puder executar algumas fun√ß√µes comuns e atingir o n√≠vel de desempenho necess√°rio. <br><br>  Com tudo isso, n√£o se deve esquecer que a simplicidade n√£o √© uma meta, mas apenas um requisito n√£o-funcional.  O principal √© atingir a meta de design / implementa√ß√£o, e √© aconselh√°vel fazer isso da maneira mais simples poss√≠vel. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tr√™s (ingl√™s)</a> <br><br><h3>  YAGNI <a name="YAGNI"></a></h3><br>  <i>Voc√™ n√£o vai precisar disso.</i>  <i>Voc√™ n√£o precisa disso.</i>  Esse √© o princ√≠pio do desenvolvimento de software, cuja id√©ia principal √© a rejei√ß√£o de funcionalidade excessiva e o objetivo √© economizar recursos gastos no desenvolvimento. <br><br>  <i>YAGNI</i> diz que voc√™ n√£o precisa projetar ou implementar fun√ß√µes que n√£o s√£o necess√°rias no momento.  Mesmo se voc√™ tiver certeza de que eles ser√£o necess√°rios no futuro.  N√£o h√° necessidade de adicionar abstra√ß√µes desnecess√°rias, cujos benef√≠cios aparecer√£o algum tempo depois. <br><br>  O problema √© que as pessoas n√£o prev√™em bem o futuro.  Portanto, provavelmente tudo o que √© feito "em reserva" simplesmente n√£o ser√° √∫til.  E acontece que o tempo e o dinheiro gastos em tais desenvolvimentos, testes e documenta√ß√£o s√£o desperdi√ßados.  Al√©m disso, o software se tornou mais complicado; recursos adicionais devem ser gastos no suporte novamente.  Pior ainda, quando era necess√°rio fazer diferente.  Dinheiro e tempo ser√£o gastos tamb√©m na corre√ß√£o. <br><br>  O princ√≠pio <i>YAGNI</i> √© <i>um pouco</i> mais radical que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DRY</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">KISS</a> .  Se eles dividem o sistema em partes compreens√≠veis e tomam decis√µes simples, a <i>YAGNI</i> simplesmente elimina pe√ßas e solu√ß√µes desnecess√°rias. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tr√™s (ingl√™s)</a> <br><br><h3>  Nih <a name="NIH"></a></h3><br>  <i>N√£o inventado aqui.</i>  <i>N√£o inventado aqui.</i>  Esta √© uma s√≠ndrome de rejei√ß√£o do desenvolvimento de outras pessoas, uma posi√ß√£o que praticamente beira a inven√ß√£o de uma bicicleta.  Freq√ºentemente, a s√≠ndrome √© acompanhada pela cren√ßa de que a cria√ß√£o de tecnologia dentro da empresa ser√° mais r√°pida e barata, e a pr√≥pria tecnologia atender√° melhor √†s necessidades da empresa.  No entanto, na maioria dos casos, esse n√£o √© o caso, e o <i>NIH</i> √© um anti-padr√£o. <br><br>  Aqui est√£o alguns casos que justificam o <i>NIH</i> : <br><br><ul><li>  A qualidade da solu√ß√£o de terceiros n√£o √© alta o suficiente ou o pre√ßo n√£o √© baixo o suficiente. </li><li>  Uma solu√ß√£o de terceiros tem restri√ß√µes de licenciamento. </li><li>  O uso de uma solu√ß√£o de terceiros cria depend√™ncia de seu fornecedor e, portanto, amea√ßa os neg√≥cios. </li></ul><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tr√™s (ingl√™s)</a> <br><br><h3>  Ftse <a name="FTSE"></a></h3><br>  <i>Teorema Fundamental da Engenharia de Software.</i>  <i>Teorema fundamental do desenvolvimento de software.</i>  Na verdade, este n√£o √© um teorema, n√£o tem prova.  Este √© um ditado famoso de Andrew Koenig: <br><blockquote>  Qualquer problema pode ser resolvido adicionando outra camada de abstra√ß√£o. </blockquote>  √Äs vezes, eles adicionam a esta frase "... exceto pelo problema de muitas camadas de abstra√ß√£o".  Em geral, o ‚Äúteorema‚Äù n√£o √© uma coisa s√©ria, mas vale a pena conhecer. <br><br>  Leia mais: uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez (ingl√™s)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">duas (ingl√™s)</a> <br><br><h3>  GRASP <a name="GRASP"></a></h3><br>  <i>Padr√µes de software de atribui√ß√£o de responsabilidade geral.</i>  <i>Modelos de aloca√ß√£o de responsabilidade geral.</i>  Esses nove padr√µes s√£o formulados em <i>Applying UML and Patterns</i> por <i>Craig Larman</i> .  Cada modelo √© uma solu√ß√£o t√≠pica para um problema de design de software (mas bastante geral). <br><br><ol><li>  <i>Especialista em informa√ß√£o</i> .  Problema: qual √© o princ√≠pio geral da distribui√ß√£o de responsabilidades entre objetos?  Decis√£o: atribua um dever a algu√©m que possua as informa√ß√µes necess√°rias para cumprir essa obriga√ß√£o. </li><li>  <b>Criador</b>  Problema: quem deve ser respons√°vel pela cria√ß√£o de um novo objeto?  Solu√ß√£o: a classe B deve criar inst√¢ncias da classe A se uma ou mais das seguintes condi√ß√µes for verdadeira: <br>  - classe B agrega ou cont√©m inst√¢ncias de A <br>  - B escreve A <br>  - B usa ativamente A <br>  - B possui dados de inicializa√ß√£o A </li><li>  <i>Baixo acoplamento</i>  Problema: como reduzir o impacto da mudan√ßa?  Como aumentar a possibilidade de reutiliza√ß√£o?  Solu√ß√£o: distribua responsabilidades para que a conectividade seja baixa.  O acoplamento √© uma medida de qu√£o rigidamente os elementos est√£o conectados, o quanto eles dependem um do outro.  I.e.  Recomenda-se conectar objetos para que eles conhe√ßam um ao outro apenas o m√≠nimo necess√°rio. </li><li>  <b>Alta engrenagem</b> ( <i>alta coes√£o</i> ).  Problema: Como gerencio a complexidade?  Solu√ß√£o: distribua responsabilidades para que o alto envolvimento seja mantido.  Alto engajamento significa que as responsabilidades de um elemento est√£o focadas em uma √°rea. </li><li>  <b>Controlador</b>  Problema: quem deve ser respons√°vel por lidar com eventos de entrada?  Solu√ß√£o: atribua uma classe a ser respons√°vel, que representa todo o sistema ou subsistema como um todo (controlador externo) ou um script espec√≠fico (controlador de script ou sess√£o).  Ao mesmo tempo, o controlador n√£o implementa uma rea√ß√£o a eventos, delegando isso aos executores relevantes. </li><li>  <b>Polimorfismo</b> ( <i>Polimorfismo</i> ).  Problema: como lidar com comportamentos diferentes com base no tipo? :     ,   ,     ,       . </li><li> <b> </b> ( <i>Pure Fabrication</i> ). :       ,    ? :  ,              . </li><li> <b></b> ( <i>Indirection</i> ). :   ,        <i>Low Coupling</i> ? :          . </li><li> <b>  </b> ( <i>Protected Variations</i> ). :      ,           ? :          ,      . </li></ol><br>  <i>GRASP</i>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SOLID</a> .  , . .      ‚Äî    . <br><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h3> SOLID <a name="SOLID"></a></h3><br> <i> SOLID.</i>    -    (       ).      (Robert Martin)   2000-.    ‚Äî  ,   ,   . <br><br><ol><li> <b>  </b> ( <i>Single Responsibility Principle, SRP</i> ).        . ¬´   ,    ¬ª. </li><li> <b> /</b> ( <i>Open Closed Principle, OCP</i> ).   (, , )     ,    .  :      ,              . </li><li> <b>   </b> ( <i>Liskov Substitution Principle, LSP</i> ).          ,       .  I.e.  -        . </li><li> <b>  </b> ( <i>Interface Segregation Principle, ISP</i> ).    ,   .      ,    .  ,  ,          .             ,  . </li><li> <b>  </b> ( <i>Dependency Inversion Principle, DIP</i> ).          .      .      .     . ,  ,       ,          ,    (  Java  C#). </li></ol><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h2>  Outros <a name="Misc"></a></h2><br><h3> ABI <a name="ABI"></a></h3><br> <i>Application Binary Interface.   .</i>   ,     ( , , ).         <i>ABI</i> ‚Äì       ,         (,         ). <br><br>  <i>ABI</i>     ELF  Linux  PE  Windows.   ,    (,  , etc.)       . , ELF  PE ,          . <br><br>       <i>ABI</i>      ,    ,    ,    ,      ,  . .  . . <br><br>  C++    <i>ABI</i> ,  , . .      . ,  C++   Unix-  (Linux, FreeBSD, MacOS)  x86_64  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">System V AMD64 ABI</a> ,  ARM ‚Äì <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ARM C++ ABI</a> . Visual C++ ABI   ,     .     System V ABI,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a> (mangling)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    ( Linux  6 ,  Windows ‚Äì 4),    . <br><br>   API  <i>ABI</i>  ,     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> .   C++11        (  ). -  GCC 5     (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">COW</a> ),     . <br><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a>       . <br><br><h3> COW <a name="COW"></a></h3><br> <i>Copy On Write.   .</i>    ,     implicit sharing  lazy copy.   ,    ,      ,     .         ‚Äî     ¬´¬ª ‚Äî      . <br><br>  <i>COW</i> :     .    ,   ,      . <br><br>   <i>COW</i> : <br><br><ul><li>      Linux.   <code>fork()</code>     ,      . </li><li>   (snapshots)     (Btrfs, ZFS)    (MS SQL Server). </li><li>  ++11   <code>std::string</code>  <i>COW</i> .  C++11   <code>std::string</code>  (. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABI</a> ). </li><li>    Qt  <i>COW</i> . </li></ul><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h3> FBC, FBCP <a name="FBC"></a></h3><br> <i>Fragile Base Class (Problem).    .</i>    ,    ,             . <br><br><div class="spoiler"> <b class="spoiler_title">,   </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Base</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">method1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } virtual void method2() { // ... method1(); // &lt;--      } }; struct Derived : Base { void method1() override { method2(); } };</span></span></code> </pre> </div></div><br>   FBC        , ,      Java ( C++            ).         <i>FBCP</i>    : <br><br><ul><li>     ,     (  <code>final</code>  C++  Java). </li><li>         ,       . </li><li>        ,       ,    . </li></ul><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h3> LRU <a name="LRU"></a></h3><br> <i>Least Recently Used.    .</i>      (   ).          ¬´-¬ª,      ‚Äî   (hit ratio).    ,                 .       ,    .    ‚Äî ,          ,    . <br><br> <i>LRU</i>    ,       . , ,    . ,      .    <i>LRU</i> ‚Äî O(n),      ‚Äî O(1),     ‚Äî   O(1).     -   . <br><br><div class="spoiler"> <b class="spoiler_title">, </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">K</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LRU</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Queue = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::pair&lt;K, V&gt;&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Iterator = <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Queue::iterator; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Hash = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">unordered_map</span></span>&lt;K, Iterator&gt;; Queue queue_; Hash hash_; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> limit_; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: LRU(<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> limit) : limit_(limit) { } <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::optional&lt;V&gt; get(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> K&amp; key) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> it = hash_.find(key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (it == hash_.end()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {}; } it-&gt;second = reorder(it-&gt;second); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { it-&gt;second-&gt;second }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(K&amp;&amp; key, V&amp;&amp; value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hash_.size() &gt;= limit_) { pop(); } queue_.emplace_front(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(key), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(value)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> it = queue_.begin(); hash_[it-&gt;first] = it; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-function"><span class="hljs-function">Iterator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Iterator it)</span></span></span><span class="hljs-function"> </span></span>{ queue_.emplace_front(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(it-&gt;first), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(it-&gt;second)); queue_.erase(it); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> queue_.begin(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ hash_.erase(queue_.back().first); queue_.pop_back(); } };</code> </pre> </div></div><br>   <i>LRU</i>    , . .      n .  <i>LRU</i>         : MRU (Most Recently Used), LFU (Least Frequently Used), Segmented LRU, 2Q  . . <br><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h2>  PS </h2><br>   -   -  ‚Äî   . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470317/">https://habr.com/ru/post/pt470317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470301/index.html">√Årvore de palavras-chave: an√°lise gr√°fica para extra√ß√£o sem√¢ntica</a></li>
<li><a href="../pt470303/index.html">Instale o servidor tftp no CentOS 8 ou RedHat 8</a></li>
<li><a href="../pt470305/index.html">Preparando-se para a certifica√ß√£o profissional da Spring. Container, IoC, Feij√£o</a></li>
<li><a href="../pt470311/index.html">Brinquedos de madeira, parte sete - 1993</a></li>
<li><a href="../pt470313/index.html">Brinquedos de madeira, parte oito - 1994</a></li>
<li><a href="../pt470321/index.html">Brinquedos de madeira, parte nove - 1995</a></li>
<li><a href="../pt470323/index.html">DIY DeepFake [Parte 1]</a></li>
<li><a href="../pt470331/index.html">Como identificar logs ISI, Scopus ou Scimago indexados?</a></li>
<li><a href="../pt470333/index.html">Programador, Gerente, MVC e Crit√©rios de aceita√ß√£o</a></li>
<li><a href="../pt470337/index.html">Como trabalhei por 3 meses no Y. Market e parei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>