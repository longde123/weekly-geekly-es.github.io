<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐇 ⚪️ 🤦🏾 Folha de dicas da abreviação de C ++ e muito mais. Parte 2: "e não apenas" 🕺🏻 🗂️ 🙂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta é a segunda e a última parte da minha planilha de abreviaturas que um desenvolvedor de C ++ deve conhecer. O C ++ é mencionado aqui apenas porque...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Folha de dicas da abreviação de C ++ e muito mais. Parte 2: "e não apenas"</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470317/">  Esta é a segunda e a última parte da minha planilha de abreviaturas que um desenvolvedor de C ++ deve conhecer.  O C ++ é mencionado aqui apenas porque eu criei a folha de dicas principalmente para mim e sou apenas o mesmo desenvolvedor do C ++. <br><br>  De fato, esta parte contém conceitos cujo escopo não se limita ao C ++.  Portanto, a seleção pode ser de interesse para um público mais amplo. <br><br><img src="https://habrastorage.org/webt/5v/rw/tl/5vrwtlvriee907omassuau2avzq.png"><br><a name="habracut"></a><br>  Como na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte</a> , as abreviações são agrupadas, se isso faz sentido.  Se não fizer sentido, eles serão listados em ordem alfabética. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Concorrência e operações atômicas:</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABA</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FAA</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RCU</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Armazenamento de dados:</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ÁCIDO</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAP</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PACELC</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BASE</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Princípios de desenvolvimento de software:</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SECO</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BEIJO</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YAGNI</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NIH</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FTSE</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GRASP</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SÓLIDO</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Outro:</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABI</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VACA</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FBC, FBCP</a> <br>  • <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LRU</a> <br><br><h2>  Concorrência e operações atômicas <a name="Concurrency"></a></h2><br><h3>  Cas <a name="CAS"></a></h3><br>  <i>Compare E Troque.</i>  <i>Comparação com a troca.</i>  Esta é uma instrução atômica com três argumentos: variável atômica ou endereço de memória, valor esperado, novo valor.  Se e somente se o valor da variável corresponder ao valor esperado, a variável receberá um novo valor e a instrução será concluída com êxito.  <i>O CAS</i> simplesmente retorna um valor booleano (e pode ser chamado Compare And Set) ou, se falhar, também retorna o valor atual do primeiro argumento. <br><br><div class="spoiler">  <b class="spoiler_title">Pseudo código</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cas</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* addr, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; expected, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> new_value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (*addr != expected) { expected = *addr; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } *addr = new_value; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> </div></div><br>  No C ++, o <i>CAS</i> é representado pelas famílias dos métodos <code>std::atomic&lt;T&gt;::compare_exchange_weak</code> , <code>std::atomic&lt;T&gt;::compare_exchange_strong</code> e as funções livres <code>std::atomic_compare_exchange_weak</code> , <code>std::atomic_compare_exchange_strong</code> .  A diferença entre <b>* fraco</b> e <b>* forte</b> é que o primeiro pode produzir resultados falsos negativos.  I.e.  se o valor for esperado, eles retornarão <code>false</code> e não o substituirão por um novo.  A razão para a existência de <b>*</b> operações <b>fracas</b> é que em algumas arquiteturas <b>* fortes são</b> relativamente caras.  Na maioria dos casos, as instruções <i>CAS</i> giram em um loop (o chamado loop CAS); portanto, usar <b>* fraco em</b> vez de <b>* forte</b> não muda a lógica, mas pode melhorar o desempenho. <br><br>  <i>As</i> instruções <i>CAS</i> são usadas para implementar primitivas de sincronização (como mutexes e semáforos) e algoritmos sem bloqueio.  Muitas vezes levam a um problema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABA</a> . <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> <br><br><h3>  ABA <a name="ABA"></a></h3><br>  <i>Problema ABA.</i>  <i>Problema ABA.</i>  Esse problema surge em algoritmos paralelos com base em comparações com trocas (consulte o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> ), por exemplo, em algoritmos sem bloqueio.  A conclusão é que o thread lê o valor da variável atômica, faz outra coisa e atualiza essa variável por comparação com a troca.  I.e.  a lógica do fluxo é a seguinte: se a variável ainda contém o valor anterior, nada mudou, tudo está em ordem.  Mas isso pode não ser verdade.  Uma descrição mais formal do problema: <br><br><ul><li>  o thread 1 lê o valor da variável, é igual a A </li><li>  o segmento 1 está sendo forçado a sair, o segmento 2 está iniciando </li><li>  o encadeamento 2 altera o valor da variável de A para B, faz várias alterações (altera algum valor associado à variável ou apenas libera memória) e depois altera novamente o valor - de B para A </li><li>  o thread 1 retoma a operação, compara o valor obtido anteriormente com o atual e conclui que nada mudou </li></ul><br>  Possíveis soluções para o problema: <br><br><ol><li>  O mais simples e mais óbvio é usar bloqueios.  Isso resultará no algoritmo usual de segurança de thread com seções críticas.  Mas deixará de estar livre de bloqueios.  Mas se se tratasse de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> e <i>ABA</i> , provavelmente não é uma opção. </li><li>  Adicione rótulos especiais aos valores comparados.  Por exemplo, um contador do número de alterações.  Por um lado, esse contador pode estourar, mas, por outro lado, os modernos processadores x86_64 suportam operações <i>CAS de</i> 128 bits.  I.e.  ao comparar ponteiros com um contador, você pode fornecer até 64 bits e alguém achou que isso é suficiente para 10 anos de operação contínua do algoritmo. </li><li>  Algumas arquiteturas (ARM, por exemplo) fornecem instruções LL / SC (carga vinculada, armazenamento condicional) que não apenas permitem obter o valor atual do endereço na memória, mas também entender se esse valor foi alterado desde a última leitura. </li></ol><br>  Para usar estruturas de dados como uma pilha, lista ou fila, livres de bloqueios, em geral, onde existe o risco de ficar com um ponteiro pendurado em um nó remoto, há toda uma família de soluções para o problema <i>ABA com</i> base na remoção adiada de nós.  Isso inclui o coletor de lixo, os indicadores de perigo e o mecanismo de leitura-modificação-gravação (consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RCU</a> ). <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">três (inglês)</a> <br><br><h3>  FAA <a name="FAA"></a></h3><br>  <i>Buscar e adicionar.</i>  <i>Ah ... obtenha e adicione (parece que esse conceito nunca é traduzido para o russo).</i>  Uma operação atômica com dois argumentos: uma variável atômica ou um endereço na memória e o valor pelo qual essa variável deve ser alterada.  Se a arquitetura permitir, a operação retornará o valor anterior da variável alterada (x86 permite desde i486).  Ao contrário do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAS</a> , a <i>FAA</i> sempre <i>é</i> bem-sucedida. <br><br><div class="spoiler">  <b class="spoiler_title">Pseudo código</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">faa</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* addr, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> diff)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value = *addr; *addr = value + diff; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; }</code> </pre> </div></div><br>  No C ++, ele é implementado como as famílias dos métodos <code>std::atomic&lt;T&gt;::fetch_add</code> , <code>fetch_sub</code> , <code>fetch_and</code> , <code>fetch_or</code> , <code>fetch_xor</code> e as funções livres correspondentes <code>std::atomic_fetch_add</code> , etc. <br><br>  Como convém a uma instrução atômica, o <i>FAA</i> é usado em implementações de primitivas de sincronização e algoritmos sem bloqueio e estruturas de dados. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> <br><br><h3>  RCU <a name="RCU"></a></h3><br>  <i>Leitura-cópia-atualização.</i>  <i>Leitura-modificação-gravação.</i>  Este é um mecanismo sem bloqueio para sincronizar o acesso à estrutura de dados (sem bloqueios, é claro).  É usado nos casos em que a velocidade de leitura é crítica.  É um exemplo da troca de tempo e memória (troca espaço-tempo). <br><br>  A idéia do <i>RCU</i> é que o fluxo do gravador não altere os dados no local, mas crie uma cópia, faça as alterações necessárias e troque atomicamente os dados atuais e a cópia alterada.  Ao mesmo tempo, os threads do leitor constantemente têm acesso a dados - antigos ou novos, quem quer que tenha tempo.  Quando não há leitores trabalhando com a versão desatualizada, o gravador exclui os dados que não são mais necessários, liberando memória. <br><br>  O RCU muito simplificado funciona assim: <br><br><ul><li>  Muitos leitores, um escritor. </li><li>  Leitura e mudança ocorrem simultaneamente. </li><li>  Os leitores usam sincronização muito leve.  De fato, o leitor só precisa notificar o escritor no momento de entrar na seção crítica e no momento de sair dela.  O trabalho com dados sincronizados ocorre apenas na seção crítica. </li><li>  O escritor, assim que substitui atentamente os dados por uma cópia, anuncia o início do chamado período de carência (período de carência).  O período de carência termina quando todos os leitores que estavam em seções críticas no início deste período deixaram suas seções críticas.  Agora, o gravador pode excluir com segurança dados obsoletos.  Está implícito que todas as seções críticas são finitas, o que garante a finitude do período de carência. </li></ul><br>  <i>O RCU é</i> ótimo para dados que são frequentemente lidos e raramente atualizados.  Esse mecanismo é usado ativamente no kernel do Linux, onde é bastante simples determinar quando o período de carência termina. <br><br>  Desvantagens: <br><br><ul><li>  Fraco para sincronizar o acesso a dados modificados com frequência. </li><li>  Difícil de implementar no espaço do usuário. </li><li>  Depende da capacidade de alterar atomicamente os ponteiros para um endereço na memória, mas nem todas as arquiteturas fornecem esse recurso. </li></ul><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> <br><br><h2>  Armazenamento de dados <a name="Storage"></a></h2><br><h3>  ÁCIDO <a name="ACID"></a></h3><br>  <i>Atomicidade, Consistência, Isolamento, Durabilidade.</i>  <i>Atomicidade, consistência, isolamento, durabilidade.</i>  Este é um conjunto de requisitos de transação em um DBMS.  <i>O ACID</i> fornece operação DBMS confiável e previsível, mesmo em caso de erros. <br><br><ul><li>  <b>A atomicidade</b> assegura que a transação seja concluída completamente ou não faça nada.  Um estado intermediário é impossível, não será tal que uma operação de transação tenha sido bem-sucedida e a outra não.  Tudo ou nada. </li><li>  <b>A consistência</b> garante que todos os dados no banco de dados atendam a todas as regras e restrições especificadas antes do início da transação e após sua conclusão.  Durante a execução da transação, a consistência pode ser violada. </li><li>  <b>O isolamento</b> garante que transações simultâneas não afetem uma à outra.  Nenhuma transação tem acesso a dados inconsistentes processados ​​por outra transação. </li><li>  <b>Durabilidade</b> significa que o resultado de uma transação bem-sucedida é armazenado no banco de dados e não pode ser perdido, não importa o que aconteça com o banco de dados imediatamente após a conclusão da transação. </li></ul><br>  Todos os principais DBMSs relacionais suportam totalmente o <i>ACID</i> .  No mundo NoSQL, esse suporte completo provavelmente é uma exceção. <br><br>  Leia mais: uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">duas (inglês)</a> <br><br><h3>  Cap <a name="CAP"></a></h3><br>  <i>Teorema da PAC.</i>  <i>Teorema da PAC.</i>  O teorema afirma que qualquer sistema distribuído pode ter mais de duas propriedades da lista: consistência dos dados ( <b>consistência</b> ), disponibilidade ( <b>disponibilidade</b> ), resistência à separação ( <b>tolerância de partição</b> ). <br><br><ul><li>  <b>Consistência</b> neste caso significa consistência (simplificada) consistente.  I.e.  assim que a operação de atualização de dados em um nó for concluída com êxito, todos os outros nós já terão esses dados atualizados.  Assim, todos os nós estão em um estado consistente.  Essa não é a consistência exigida pelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ACID</a> . </li><li>  <b>Disponibilidade</b> significa que cada nó com falha retorna uma resposta correta para cada solicitação (tanto para leitura quanto para gravação) em um período de tempo razoável.  Não há garantia de que as respostas de diferentes nós correspondam. </li><li>  <b>Resistência à separação</b> significa que o sistema continuará funcionando corretamente em caso de perda de um número arbitrário de mensagens entre seus nós. </li></ul><br>  Porque  todas as três propriedades são inatingíveis; do ponto de vista do teorema da <i>PAC</i> , todos os sistemas distribuídos se enquadram em três classes: <b>CA</b> , <b>CP</b> e <b>AP</b> .  <b>Os</b> sistemas <b>CA</b> obviamente não têm resistência à separação.  Porque  na grande maioria dos casos, a distribuição implica a distribuição em uma rede real e, em uma rede real, sempre há uma probabilidade diferente de zero de perder um pacote, e os sistemas <b>CA</b> são de pouco interesse. <br><br>  A escolha é entre <b>CP</b> e <b>AP</b> , ou seja, entre consistência e disponibilidade.  DBMSs relacionais tradicionais que seguem os princípios do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ACID</a> preferem consistência.  Enquanto muitas soluções NoSQL escolhem acessibilidade e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BASE</a> . <br><br>  No caso de operação normal da rede, ou seja, quando não há separação de rede, o teorema da <i>CAP</i> não impõe restrições à consistência e disponibilidade.  I.e.  doar algo não é necessário. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">três (inglês)</a> <br><br><h3>  Pacelc <a name="PACELC"></a></h3><br>  <i>Teorema do PACELC.</i>  <i>Teorema do PACELC.</i>  Essa é uma extensão do teorema do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAP</a> , que afirma que um sistema distribuído no caso de uma partição de rede ( <b>Partição</b> ) é forçado a escolher entre <b>Disponibilidade</b> ( <b>Consistência</b> ) e, no caso de operação normal de rede ( <b>Else</b> ), é necessário escolher entre latência ( <b>Consistência)</b> ) <br><br>  Portanto, se o teorema do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CAP</a> distinguir duas classes de sistemas estáveis ​​com a separação de rede, o <i>PACELC possui</i> quatro deles: <b>PA / EL</b> , <b>PA / EC</b> , <b>PC / EL</b> e <b>PC / EC</b> .  Alguns bancos de dados NoSQL podem mudar de classe, dependendo das configurações. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma vez (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> <br><br><h3>  BASE <a name="BASE"></a></h3><br>  <i>Basicamente disponível, estado suave, consistência eventual.</i>  <i>Disponibilidade básica, estado frágil, consistência a longo prazo.</i>  De acordo com o teorema da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PAC</a> em sistemas distribuídos, algo terá que ser abandonado.  A coerência estrita é geralmente abandonada em favor da coerência a longo prazo.  O que significa que, na ausência de alterações de dados, o sistema algum dia chegará a um estado consistente. <br><br>  Para indicar tal compromisso, a abreviatura <i>BASE</i> começou a ser usada com certa <i>rigidez</i> e resultou em um jogo de termos químicos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ACID</a> - acidez, <i>BASE</i> - basicidade). <br><br><ul><li>  <b>Basicamente disponível</b> significa que o sistema garante a disponibilidade dos dados, responde a cada solicitação.  Mas a resposta pode ser dados desatualizados ou inconsistentes (ou a falta deles) </li><li>  <b>Estado suave</b> significa que o estado do sistema pode mudar com o tempo, mesmo na ausência de solicitações de alterações de dados.  Porque a qualquer momento, os dados podem ser trazidos para um estado consistente. </li><li>  <b>A consistência eventual</b> significa que, se os dados pararem de mudar, eles obviamente terminarão em um estado consistente.  I.e.  a mesma solicitação para nós diferentes levará às mesmas respostas. </li></ul><br>  Leia mais: uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">duas (inglês)</a> <br><br><h2>  Princípios de desenvolvimento de software <a name="Principles"></a></h2><br><h3>  SECO <a name="DRY"></a></h3><br>  <i>Não se repita.</i>  <i>Não repita.</i>  Esse é o princípio do desenvolvimento de software, cuja principal idéia é reduzir a quantidade de informações duplicadas no sistema, e o objetivo é reduzir a complexidade do sistema e aumentar sua capacidade de gerenciamento. <br><br>  No original ( <i>O</i> livro do <i>programador pragmático</i> , de <i>Andrew Hunt</i> e <i>David Thomas</i> ), esse princípio é formulado da seguinte maneira: "Cada conhecimento deve ter uma representação única, consistente e autorizada dentro do sistema".  Nesse caso, entende-se por conhecimento qualquer parte de uma área ou algoritmo de assunto: um código, um esquema de banco de dados, um determinado protocolo de interação etc. Assim, para fazer uma alteração no sistema, apenas um "conhecimento" precisa ser atualizado em um só lugar. <br><br>  Um exemplo idiota: o cliente e o servidor transmitem dados estruturados um para o outro.  Porque  Como são aplicativos diferentes executados em máquinas diferentes, os dois devem ter suas próprias implementações dessas estruturas.  Se algo mudar, as alterações terão que ser feitas em dois lugares.  Um passo óbvio para evitar essa repetição é alocar o código comum em uma biblioteca separada.  O próximo passo é gerá-lo de acordo com a descrição das estruturas (Google Protocol Buffers, por exemplo), para não escrever o mesmo tipo de código para acessar os campos das estruturas. <br><br>  A duplicação de código é apenas um caso especial de violação de <i>DRY</i> .  E esse nem sempre é o caso.  Se dois pedaços de código parecerem iguais, mas cada um implementar sua própria lógica de negócios, o <i>DRY</i> não <i>será</i> quebrado. <br><br>  Como qualquer outro princípio, o <i>DRY</i> é uma ferramenta, não um dogma.  Quanto maior o sistema, mais fácil é violar esse princípio.  Primeiro, o ideal é inatingível.  E segundo, se seguir cegamente o <i>DRY</i> levar a um código mais complicado e dificultar a compreensão, é melhor abandoná-lo. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (russo)</a> <br><br><h3>  KISS <a name="KISS"></a></h3><br>  <i>Mantenha-o simples, estúpido.</i>  <i>Torne mais fácil (estúpido, neste caso, não é uma ligação).</i>  Esse é o princípio de design de que a maioria dos sistemas funciona melhor se permanecer simples.  O princípio se originou na indústria aeronáutica e é aplicado muito onde, inclusive no desenvolvimento de software. <br><br>  Neste último caso, o <i>KISS</i> é útil para projetar e escrever diretamente o código.  Arquitetura e código simples não são apenas mais fáceis de entender, mas também mais fáceis de usar, manter e desenvolver.  O MapReduce não deve ser enganado se um par produtor-consumidor for suficiente.  A mágica da metaprogramação é excessivamente complexa se você puder executar algumas funções comuns e atingir o nível de desempenho necessário. <br><br>  Com tudo isso, não se deve esquecer que a simplicidade não é uma meta, mas apenas um requisito não-funcional.  O principal é atingir a meta de design / implementação, e é aconselhável fazer isso da maneira mais simples possível. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">três (inglês)</a> <br><br><h3>  YAGNI <a name="YAGNI"></a></h3><br>  <i>Você não vai precisar disso.</i>  <i>Você não precisa disso.</i>  Esse é o princípio do desenvolvimento de software, cuja idéia principal é a rejeição de funcionalidade excessiva e o objetivo é economizar recursos gastos no desenvolvimento. <br><br>  <i>YAGNI</i> diz que você não precisa projetar ou implementar funções que não são necessárias no momento.  Mesmo se você tiver certeza de que eles serão necessários no futuro.  Não há necessidade de adicionar abstrações desnecessárias, cujos benefícios aparecerão algum tempo depois. <br><br>  O problema é que as pessoas não prevêem bem o futuro.  Portanto, provavelmente tudo o que é feito "em reserva" simplesmente não será útil.  E acontece que o tempo e o dinheiro gastos em tais desenvolvimentos, testes e documentação são desperdiçados.  Além disso, o software se tornou mais complicado; recursos adicionais devem ser gastos no suporte novamente.  Pior ainda, quando era necessário fazer diferente.  Dinheiro e tempo serão gastos também na correção. <br><br>  O princípio <i>YAGNI</i> é <i>um pouco</i> mais radical que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DRY</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">KISS</a> .  Se eles dividem o sistema em partes compreensíveis e tomam decisões simples, a <i>YAGNI</i> simplesmente elimina peças e soluções desnecessárias. <br><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">três (inglês)</a> <br><br><h3>  Nih <a name="NIH"></a></h3><br>  <i>Não inventado aqui.</i>  <i>Não inventado aqui.</i>  Esta é uma síndrome de rejeição do desenvolvimento de outras pessoas, uma posição que praticamente beira a invenção de uma bicicleta.  Freqüentemente, a síndrome é acompanhada pela crença de que a criação de tecnologia dentro da empresa será mais rápida e barata, e a própria tecnologia atenderá melhor às necessidades da empresa.  No entanto, na maioria dos casos, esse não é o caso, e o <i>NIH</i> é um anti-padrão. <br><br>  Aqui estão alguns casos que justificam o <i>NIH</i> : <br><br><ul><li>  A qualidade da solução de terceiros não é alta o suficiente ou o preço não é baixo o suficiente. </li><li>  Uma solução de terceiros tem restrições de licenciamento. </li><li>  O uso de uma solução de terceiros cria dependência de seu fornecedor e, portanto, ameaça os negócios. </li></ul><br>  Leia mais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um (russo)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">três (inglês)</a> <br><br><h3>  Ftse <a name="FTSE"></a></h3><br>  <i>Teorema Fundamental da Engenharia de Software.</i>  <i>Teorema fundamental do desenvolvimento de software.</i>  Na verdade, este não é um teorema, não tem prova.  Este é um ditado famoso de Andrew Koenig: <br><blockquote>  Qualquer problema pode ser resolvido adicionando outra camada de abstração. </blockquote>  Às vezes, eles adicionam a esta frase "... exceto pelo problema de muitas camadas de abstração".  Em geral, o “teorema” não é uma coisa séria, mas vale a pena conhecer. <br><br>  Leia mais: uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vez (inglês)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">duas (inglês)</a> <br><br><h3>  GRASP <a name="GRASP"></a></h3><br>  <i>Padrões de software de atribuição de responsabilidade geral.</i>  <i>Modelos de alocação de responsabilidade geral.</i>  Esses nove padrões são formulados em <i>Applying UML and Patterns</i> por <i>Craig Larman</i> .  Cada modelo é uma solução típica para um problema de design de software (mas bastante geral). <br><br><ol><li>  <i>Especialista em informação</i> .  Problema: qual é o princípio geral da distribuição de responsabilidades entre objetos?  Decisão: atribua um dever a alguém que possua as informações necessárias para cumprir essa obrigação. </li><li>  <b>Criador</b>  Problema: quem deve ser responsável pela criação de um novo objeto?  Solução: a classe B deve criar instâncias da classe A se uma ou mais das seguintes condições for verdadeira: <br>  - classe B agrega ou contém instâncias de A <br>  - B escreve A <br>  - B usa ativamente A <br>  - B possui dados de inicialização A </li><li>  <i>Baixo acoplamento</i>  Problema: como reduzir o impacto da mudança?  Como aumentar a possibilidade de reutilização?  Solução: distribua responsabilidades para que a conectividade seja baixa.  O acoplamento é uma medida de quão rigidamente os elementos estão conectados, o quanto eles dependem um do outro.  I.e.  Recomenda-se conectar objetos para que eles conheçam um ao outro apenas o mínimo necessário. </li><li>  <b>Alta engrenagem</b> ( <i>alta coesão</i> ).  Problema: Como gerencio a complexidade?  Solução: distribua responsabilidades para que o alto envolvimento seja mantido.  Alto engajamento significa que as responsabilidades de um elemento estão focadas em uma área. </li><li>  <b>Controlador</b>  Problema: quem deve ser responsável por lidar com eventos de entrada?  Solução: atribua uma classe a ser responsável, que representa todo o sistema ou subsistema como um todo (controlador externo) ou um script específico (controlador de script ou sessão).  Ao mesmo tempo, o controlador não implementa uma reação a eventos, delegando isso aos executores relevantes. </li><li>  <b>Polimorfismo</b> ( <i>Polimorfismo</i> ).  Problema: como lidar com comportamentos diferentes com base no tipo? :     ,   ,     ,       . </li><li> <b> </b> ( <i>Pure Fabrication</i> ). :       ,    ? :  ,              . </li><li> <b></b> ( <i>Indirection</i> ). :   ,        <i>Low Coupling</i> ? :          . </li><li> <b>  </b> ( <i>Protected Variations</i> ). :      ,           ? :          ,      . </li></ol><br>  <i>GRASP</i>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SOLID</a> .  , . .      —    . <br><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h3> SOLID <a name="SOLID"></a></h3><br> <i> SOLID.</i>    -    (       ).      (Robert Martin)   2000-.    —  ,   ,   . <br><br><ol><li> <b>  </b> ( <i>Single Responsibility Principle, SRP</i> ).        . «   ,    ». </li><li> <b> /</b> ( <i>Open Closed Principle, OCP</i> ).   (, , )     ,    .  :      ,              . </li><li> <b>   </b> ( <i>Liskov Substitution Principle, LSP</i> ).          ,       .  I.e.  -        . </li><li> <b>  </b> ( <i>Interface Segregation Principle, ISP</i> ).    ,   .      ,    .  ,  ,          .             ,  . </li><li> <b>  </b> ( <i>Dependency Inversion Principle, DIP</i> ).          .      .      .     . ,  ,       ,          ,    (  Java  C#). </li></ol><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h2>  Outros <a name="Misc"></a></h2><br><h3> ABI <a name="ABI"></a></h3><br> <i>Application Binary Interface.   .</i>   ,     ( , , ).         <i>ABI</i> –       ,         (,         ). <br><br>  <i>ABI</i>     ELF  Linux  PE  Windows.   ,    (,  , etc.)       . , ELF  PE ,          . <br><br>       <i>ABI</i>      ,    ,    ,    ,      ,  . .  . . <br><br>  C++    <i>ABI</i> ,  , . .      . ,  C++   Unix-  (Linux, FreeBSD, MacOS)  x86_64  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">System V AMD64 ABI</a> ,  ARM – <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ARM C++ ABI</a> . Visual C++ ABI   ,     .     System V ABI,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a> (mangling)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    ( Linux  6 ,  Windows – 4),    . <br><br>   API  <i>ABI</i>  ,     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> .   C++11        (  ). -  GCC 5     (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">COW</a> ),     . <br><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a>       . <br><br><h3> COW <a name="COW"></a></h3><br> <i>Copy On Write.   .</i>    ,     implicit sharing  lazy copy.   ,    ,      ,     .         —     «» —      . <br><br>  <i>COW</i> :     .    ,   ,      . <br><br>   <i>COW</i> : <br><br><ul><li>      Linux.   <code>fork()</code>     ,      . </li><li>   (snapshots)     (Btrfs, ZFS)    (MS SQL Server). </li><li>  ++11   <code>std::string</code>  <i>COW</i> .  C++11   <code>std::string</code>  (. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ABI</a> ). </li><li>    Qt  <i>COW</i> . </li></ul><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h3> FBC, FBCP <a name="FBC"></a></h3><br> <i>Fragile Base Class (Problem).    .</i>    ,    ,             . <br><br><div class="spoiler"> <b class="spoiler_title">,   </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Base</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">method1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... } virtual void method2() { // ... method1(); // &lt;--      } }; struct Derived : Base { void method1() override { method2(); } };</span></span></code> </pre> </div></div><br>   FBC        , ,      Java ( C++            ).         <i>FBCP</i>    : <br><br><ul><li>     ,     (  <code>final</code>  C++  Java). </li><li>         ,       . </li><li>        ,       ,    . </li></ul><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h3> LRU <a name="LRU"></a></h3><br> <i>Least Recently Used.    .</i>      (   ).          «-»,      —   (hit ratio).    ,                 .       ,    .    — ,          ,    . <br><br> <i>LRU</i>    ,       . , ,    . ,      .    <i>LRU</i> — O(n),      — O(1),     —   O(1).     -   . <br><br><div class="spoiler"> <b class="spoiler_title">, </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">K</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LRU</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Queue = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::pair&lt;K, V&gt;&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Iterator = <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Queue::iterator; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Hash = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">unordered_map</span></span>&lt;K, Iterator&gt;; Queue queue_; Hash hash_; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> limit_; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: LRU(<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> limit) : limit_(limit) { } <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::optional&lt;V&gt; get(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> K&amp; key) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> it = hash_.find(key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (it == hash_.end()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {}; } it-&gt;second = reorder(it-&gt;second); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { it-&gt;second-&gt;second }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(K&amp;&amp; key, V&amp;&amp; value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hash_.size() &gt;= limit_) { pop(); } queue_.emplace_front(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(key), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(value)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> it = queue_.begin(); hash_[it-&gt;first] = it; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-function"><span class="hljs-function">Iterator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reorder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Iterator it)</span></span></span><span class="hljs-function"> </span></span>{ queue_.emplace_front(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(it-&gt;first), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(it-&gt;second)); queue_.erase(it); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> queue_.begin(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ hash_.erase(queue_.back().first); queue_.pop_back(); } };</code> </pre> </div></div><br>   <i>LRU</i>    , . .      n .  <i>LRU</i>         : MRU (Most Recently Used), LFU (Least Frequently Used), Segmented LRU, 2Q  . . <br><br>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> (.)</a> <br><br><h2>  PS </h2><br>   -   -  —   . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470317/">https://habr.com/ru/post/pt470317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470301/index.html">Árvore de palavras-chave: análise gráfica para extração semântica</a></li>
<li><a href="../pt470303/index.html">Instale o servidor tftp no CentOS 8 ou RedHat 8</a></li>
<li><a href="../pt470305/index.html">Preparando-se para a certificação profissional da Spring. Container, IoC, Feijão</a></li>
<li><a href="../pt470311/index.html">Brinquedos de madeira, parte sete - 1993</a></li>
<li><a href="../pt470313/index.html">Brinquedos de madeira, parte oito - 1994</a></li>
<li><a href="../pt470321/index.html">Brinquedos de madeira, parte nove - 1995</a></li>
<li><a href="../pt470323/index.html">DIY DeepFake [Parte 1]</a></li>
<li><a href="../pt470331/index.html">Como identificar logs ISI, Scopus ou Scimago indexados?</a></li>
<li><a href="../pt470333/index.html">Programador, Gerente, MVC e Critérios de aceitação</a></li>
<li><a href="../pt470337/index.html">Como trabalhei por 3 meses no Y. Market e parei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>