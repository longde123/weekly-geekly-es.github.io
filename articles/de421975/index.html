<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêª üôãüèΩ üßí Neue Funktionen von FLProg - ESP8266 als Controller, nicht als Modem ‚úñÔ∏è üàöÔ∏è üë®‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quelle 

 Guten Tag. 

 Ich habe lange nicht mehr √ºber mein FLProg-Projekt gesprochen. Der letzte Beitrag war noch auf Geektimes. 
 Es ist Zeit, diese...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neue Funktionen von FLProg - ESP8266 als Controller, nicht als Modem</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flprog/blog/421975/"><img src="https://habrastorage.org/webt/ml/zd/fz/mlzdfzisukbpum1gd0ei-hgzahq.jpeg"><br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle</a></i> <br><br>  Guten Tag. <br><br>  Ich habe lange nicht mehr √ºber mein FLProg-Projekt gesprochen.  Der letzte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beitrag</a> war noch auf Geektimes. <br>  Es ist Zeit, dieses Chaos zu beheben.  Von diesem Beitrag aus beginne ich eine Reihe von Lektionen zur Verwendung der neuen Funktionen des Programms. <br><br>  Wenn Sie mit dem Projekt nicht vertraut sind, k√∂nnen Sie dessen Verlauf im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blog sehen</a> . <br><br>  Jetzt testet die Website des Programms die Vorabversion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit der Nummer 3.1.4</a> .  Ab Version 3.1 f√ºhrte das Programm die Unterst√ºtzung von ESP8266-Controllern als vollwertige Controller ein. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">F√ºr diejenigen, die mit diesen Controllern nicht vertraut sind, eine kleine Beschreibung</b> <div class="spoiler_text">  ESP8266 wurde f√ºr den Einsatz in Smart Sockets, Mesh-Netzwerken, IP-Kameras, drahtlosen Sensoren, tragbarer Elektronik usw. entwickelt.  Mit einem Wort, ESP8266 wurde geboren, um das Gehirn des kommenden ‚ÄûInternet der Dinge‚Äú zu werden. <br><br>  Es gibt zwei M√∂glichkeiten, den Chip zu verwenden: <br><br>  1) in Form einer UART-WIFI-Br√ºcke, wenn das auf dem ESP8266 basierende Modul mit einer vorhandenen L√∂sung auf der Basis eines anderen Mikrocontrollers verbunden ist und von AT-Befehlen gesteuert wird, wodurch die L√∂sung mit einer Wi-Fi-Infrastruktur ausgestattet wird; <br><br>  2) Implementierung einer neuen L√∂sung unter Verwendung des ESP8266-Chips selbst als Steuerungsmikrocontroller. <br><br>  <i>Das erste Szenario wurde lange Zeit im FLProg-Projekt implementiert.</i>  Es wird mit einem der kosteng√ºnstigen chinesischen ESP8266-Module implementiert.  Es eignet sich f√ºr Arduino-Liebhaber und diejenigen, die bereits vorgefertigte Schaltpl√§ne und debuggte Firmware auf der Grundlage von etwas haben, das ihnen sehr am Herzen liegt. <br><br>  Das zweite Szenario beinhaltet das Schreiben einer individuellen Firmware, um den Chip ‚Äûvon innen‚Äú zu steuern.  <i>(Vor der Ver√∂ffentlichung von FLProg 3.1 muss die Firmware f√ºr den propriet√§ren Compiler geschrieben werden. Ab dieser Version ist es jetzt m√∂glich, Firmware in den Sprachen FBD und LAD in der FLProg-Umgebung zu schreiben</i> .) <br><br>  Das Szenario der Verwendung des Chips als Steuerungsmikrocontroller ist insofern interessant, als Sie damit Ger√§te erstellen k√∂nnen, die sehr klein sind und mit Batteriestrom sehr lange laufen.  F√ºr die Arbeit mit Peripherieger√§ten an Bord verf√ºgt der ESP8266 √ºber alle erforderlichen Funktionen. <br><br>  Hauptmerkmale <br><br>  Der ESP8266-Chip ist eine der am besten integrierten WiFi-L√∂sungen.  Im Chip befindet sich vieles, was bei konkurrierenden L√∂sungen h√§ufig Teil der externen Bindung ist: <br><br><img src="https://habrastorage.org/webt/f5/4a/cm/f54acmts4n2raechilq0v-oz67o.png"><br><br>  Ein typisches Chip-Strapping besteht daher nur aus wenigen Elementen.  Weniger Elemente = geringere Kosten f√ºr Komponenten, weniger Kosten f√ºr das L√∂ten, weniger Platzierungsfl√§che, weniger Kosten f√ºr Leiterplatten.  Dies wird perfekt durch die aktuellen Preise f√ºr Module best√§tigt, die auf dem Helden unserer heutigen Bewertung basieren. <br><br>  Verwaltet all diese integrierte Landwirtschaft mit einer erweiterten Version des 32-Bit-Prozessors der L106 Diamond-Serie von Tensilica.  Was ist drinnen interessant? <br><br>  ‚Ä¢ 802.11 b / g / n-Protokoll <br>  ‚Ä¢ Wi-Fi Direct (P2P), Soft-AP <br>  ‚Ä¢ Integrierter TCP / IP-Protokollstapel <br>  ‚Ä¢ Integrierter TR-Schalter, Balun, LNA, Leistungsverst√§rker und passendes Netzwerk <br>  ‚Ä¢ Integrierte PLL-, Regler- und Energieverwaltungseinheiten <br>  ‚Ä¢ + 20,5 dBm Ausgangsleistung im 802.11b-Modus <br>  ‚Ä¢ Unterst√ºtzt die Antennendiversit√§t <br>  ‚Ä¢ Leckstrom von &lt;10uA abschalten <br>  ‚Ä¢ SDIO 2.0, SPI, UART <br>  ‚Ä¢ STBC, 1x1 MIMO, 2x1 MIMO <br>  ‚Ä¢ A-MPDU- und A-MSDU-Aggregation und Schutzintervall von 0,4 Œºs <br>  ‚Ä¢ Wecken Sie Pakete in &lt;22 ms auf und senden Sie sie <br>  ‚Ä¢ Standby-Stromverbrauch von &lt;1,0 mW (DTIM3) <br><br>  <b>Ultra Low Power-Technologie</b> <br><br>  Der Energieverbrauch ist eines der wichtigsten Merkmale einer L√∂sung, die behauptet, das Gehirn von Milliarden von IoT-Ger√§ten zu sein.  Was ist der Grund f√ºr die Popularit√§t von BLE und verschiedenen nativen Implementierungen von Funkschnittstellen?  Letztendlich bem√ºhen sich alle Ger√§te, die auf diesen Implementierungen basieren, immer noch, mit speziellen Bridge-Ger√§ten in gew√∂hnliches Wi-Fi zu gelangen. <br><br>  Das Geheimnis ist einfach: Es ist schwierig, ein mit WLAN verbundenes Ger√§t zu erstellen, das gen√ºgend Zeit hat und mit autonomer Stromversorgung arbeitet.  Verbraucher sind nicht bereit, die Batterien in den Sensoren alle zwei bis drei Monate zu wechseln.  Daher musste der ‚ÄûZugang zum Netzwerk‚Äú Br√ºcken bereitstellen, die an konstanten Strom angeschlossen sind.  ESP8266 sollte dieses Problem l√∂sen.  Jetzt kann Wi-Fi auch in eigenst√§ndigen Sensoren verwendet werden, die mit kleinen Batterien betrieben werden.  Durch den Einsatz fortschrittlicher Energiemanagementmechanismen f√ºr die L√∂sung. <br><br>  Wenn Sie sich kurz die Eigenschaften des Verbrauchs des Chips ansehen, k√∂nnen Sie im Dunkeln bleiben.  215mA im Sendemodus - nichts Besonderes?  Ja, aber es lohnt sich, das Datenblatt zu lesen, und Sie beginnen, die Aussichten der L√∂sung zu verstehen.  Der ESP8266 verbraucht im Tiefschlafmodus (mit einer Echtzeituhr) etwa 60 uA und im Wartungsmodus weniger als 1,0 mA (DTIM = 3) oder weniger als 0,5 mA (DTIM = 10) <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle</a></i> <br><br></div></div><br>  Das Programm unterst√ºtzt die meisten vorhandenen Karten, die auf dem ESP8266-Controller basieren. <br><br><img src="https://habrastorage.org/webt/rj/is/19/rjis19uw5s43zlebk4vppg_hkjo.png"><img src="https://habrastorage.org/webt/lg/h1/uq/lgh1uqmexi8fyhl-unnqbkombdc.png"><br><br><div class="spoiler">  <b class="spoiler_title">Fast alle Funktionsbl√∂cke und Peripherieger√§te, die zum Programmieren von Arduino-Karten geeignet sind, stehen zum Erstellen von Firmware zur Verf√ºgung.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/0u/ng/cb/0ungcb98ovf2a70_8j-zzmj6eoq.png"><br><br><img src="https://habrastorage.org/webt/w3/wm/ik/w3wmikka6bby4dkvy7h1fhjyfow.png"><br><br><img src="https://habrastorage.org/webt/7i/1v/po/7i1vpofteeg3wnewb_reljz6b4c.png"><br><br><img src="https://habrastorage.org/webt/di/g4/fz/dig4fz-hnaxme_c_q_auqirovey.png"><br><br><img src="https://habrastorage.org/webt/cn/nb/_b/cnnb_buyax0fsjbkugezyhwuqja.png"><br><br><img src="https://habrastorage.org/webt/e7/eh/a3/e7eha3x9zhvnc5flppsdlj7dfla.png"><br><br><img src="https://habrastorage.org/webt/nv/kt/fb/nvktfbaaakn332vtwzuyy5-gubs.png"><br><br><img src="https://habrastorage.org/webt/vi/h_/em/vih_em1rdxtwq_rbkecryluuxds.png"><br><br><img src="https://habrastorage.org/webt/wi/kh/sj/wikhsjjpmxcpa4dlwf1aaelnm-q.png"><br></div></div><br>  Dar√ºber hinaus werden bei der Auswahl eines ESP8266-Controllers neue, daf√ºr spezifische Bl√∂cke angezeigt. <br><br><img src="https://habrastorage.org/webt/sb/ab/a8/sbaba8ajep8n4dgbejxfd-08irg.png"><br><br>  In Anbetracht des Vorhandenseins eines WLAN-Controllers an Bord √§ndert sich auch der Projektbaum. <br>  Erstens gibt es wie bei allen Controllern Zweige zur Steuerung des Frostschutz- und EEPROM-Speichers <br><br><img src="https://habrastorage.org/webt/kz/kf/ke/kzkfkenbq_ny9m4tlrlzezd0tgk.png"><br><br>  Als n√§chstes folgen die spezifischeren Einstellungen. <br><br>  Konfigurieren des WiFi-Clients und des Zugangspunkts (deren gleichzeitiger Betrieb ist m√∂glich). <br><br><img src="https://habrastorage.org/webt/qo/sb/f1/qosbf1tudriibqoq0xbrq3ucwiw.png"><br><br>  Einstellen des drahtlosen Update-Modus (bisher nur Arduino OTA, plant jedoch die Implementierung und Aktualisierung √ºber den Browser und das automatische Herunterladen der Firmware vom Update-Server) <br><br><img src="https://habrastorage.org/webt/ah/nf/vm/ahnfvmt1xisdq0fju6spqksczwo.png"><br><br>  Implementierung der M√∂glichkeit zum Erstellen einer Weboberfl√§che f√ºr Controller-Einstellungen.  Sie k√∂nnen eine unbegrenzte Anzahl von Einstellungsseiten mit der erforderlichen Anzahl von Parametern erstellen.  Als Parameter werden sowohl Standardsystemparameter der Steuerung (siehe Screenshots oben) als auch eine beliebige Anzahl von Benutzerparametern verwendet, die f√ºr die Kommunikation zwischen der Firmware und der Konfigurationsschnittstelle verwendet werden.  Auf alle Seiten (au√üer der Hauptseite) sowie auf einzelne Parameter k√∂nnen Sie den Zugriff nur auf bestimmte Benutzer festlegen (die Anzahl der erstellten Benutzer ist nicht begrenzt). <br><br><img src="https://habrastorage.org/webt/9u/q0/ku/9uq0kuzmsxyeigkk891qwl4ykcm.png"><br><br>  Und nat√ºrlich wird wie bei Arduino die Unterst√ºtzung f√ºr die Austauschprotokolle Modbus RTU, Modbus TCP und Modbus RTU √ºber TCP implementiert. <br><br><img src="https://habrastorage.org/webt/gv/sf/uq/gvsfuq4ljfjsrucb_c5n0sejc1k.png"><br><br>  Der Bridge-Modus zwischen Modbus RTU und Modbus TCP ist ebenfalls implementiert. <br><br><img src="https://habrastorage.org/webt/fc/5h/gd/fc5hgdtimmlsyxwppb-j3su_wkk.png"><br><br>  Im Allgemeinen habe ich versucht, die F√§higkeiten dieses wunderbaren Controllers zu maximieren.  Etwas ist gelungen. <br><br>  Dieser Beitrag ist eine √úbersicht und beginnt in der Reihe. Im n√§chsten Beitrag werden wir die Erstellung einer Weboberfl√§che mit Einstellungen und das Abrufen der Zeit von den genauen Zeitservern betrachten. <br><br>  Das FLProg-Projekt ist ein gemeinn√ºtziges Projekt, und Sie k√∂nnen das Programm von der Projektwebsite herunterladen, da dort <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"kostenlos und ohne SMS" steht.</a>  Es gibt keine Einschr√§nkungen im Programm.  Versionen werden f√ºr Windows und OC Linux bereitgestellt. <br><br>  <b>PS</b> <br><br>  Nach zahlreichen Beschwerden √ºber meine Diktion und die Art und Weise, wie das Material pr√§sentiert wurde, gab ich die Idee auf, Videokurse aufzuzeichnen (Lehr- und Sprechertalente wurden mir nicht gegeben). <br><br>  Aber einer der Programmbenutzer kam mir zu Hilfe. <br><br>  Ich m√∂chte Ihnen den Kanal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>‚ÄûArduino Prom‚Äú</b></a> und die Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>‚ÄûArduino Prom‚Äú</b></a> vorstellen.  Sie widmen sich ganz dem FLProg-Projekt, und heute stehen ungef√§hr hundert Videolektionen auf dem Programm. <br><br>  Hier ist das letzte Video, in dem es darum geht, eine Uhr mit Synchronisation √ºber das Internet zu erstellen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ITJ_JMc17XA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421975/">https://habr.com/ru/post/de421975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421963/index.html">Buchhaltung und Buchhalter: ihre Rolle in der Organisation</a></li>
<li><a href="../de421965/index.html">‚ÄûNeben der Arbeit arbeite ich noch‚Äú - 10 Fragen an den Programmierer, dritte Ausgabe</a></li>
<li><a href="../de421967/index.html">Kinderspielzeug auf logischen Elementen</a></li>
<li><a href="../de421969/index.html">Generierung von PostgreSQL-Datumssequenzen und generate_series</a></li>
<li><a href="../de421971/index.html">Der geb√ºrtige Russe aus Xorg bei rdesktop ist eine Kleinigkeit, aber nett</a></li>
<li><a href="../de421977/index.html">Unterwasser-GPS auf zwei Transceivern</a></li>
<li><a href="../de421979/index.html">Dracula-Thema - ein universelles Thema f√ºr fast alles</a></li>
<li><a href="../de421983/index.html">Maschinelles Lernen wird dazu beitragen, die Tsetsefliegenpopulation zu reduzieren, um das Auftreten von Schlafkrankheiten zu verringern</a></li>
<li><a href="../de421985/index.html">GraphQL ist die Zukunft von Microservices?</a></li>
<li><a href="../de421991/index.html">Hosten Sie eine Webanwendung auf Amazon Web Services. Billig. Ist es m√∂glich?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>