<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏿 🏗️ 👰🏻 Como previmos a vazão, abordá-la como um desastre natural 🍝 👨🏼‍🔬 👩🏽‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Às vezes, para resolver um problema, basta olhar para ele de um ângulo diferente. Mesmo que nos últimos 10 anos esses problemas tenham sido resolvidos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como previmos a vazão, abordá-la como um desastre natural</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rostelecom/blog/444694/"> Às vezes, para resolver um problema, basta olhar para ele de um ângulo diferente.  Mesmo que nos últimos 10 anos esses problemas tenham sido resolvidos da mesma maneira com efeitos diferentes, não é fato que esse método seja o único. <br><br>  Existe um tópico como rotatividade de clientes.  A coisa é inevitável, porque os clientes de qualquer empresa podem parar e usar seus produtos ou serviços por vários motivos.  Obviamente, para a empresa, a saída é uma ação natural, mas não a mais desejável, então todos estão tentando minimizar essa saída.  E melhor ainda - prever a probabilidade de saída de uma categoria específica de usuários ou de um usuário específico e oferecer algumas etapas de retenção. <br><br>  Analise e tente manter o cliente, se possível, pelo menos pelos seguintes motivos: <br><br><ul><li>  <b>atrair novos clientes é mais caro que os procedimentos de retenção</b> .  Para atrair novos clientes, em regra, você precisa gastar algum dinheiro (publicidade), enquanto os clientes existentes podem ser ativados com uma oferta especial com condições especiais; </li><li>  <b>Entender por que os clientes estão saindo é a chave para melhorar produtos e serviços</b> . </li></ul><br>  Existem abordagens padrão para prever vazões.  Mas em um dos campeonatos de IA, decidimos usar a distribuição Weibull para isso.  Na maioria das vezes, é usado para análise de sobrevivência, previsão do tempo, análise de desastres naturais, engenharia industrial e similares.  A distribuição Weibull é uma função de distribuição especial parametrizada por dois parâmetros <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BB;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.355ex" height="2.057ex" viewBox="0 -780.1 583.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-3BB" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>λ</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-1"> λ </script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> k </script>  . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/aq/g8/a0/aqg8a0b7d5eha5dgdrxtfvogwcm.png" width="400"></a> <br>  <i>Wikipedia</i> <br><br>  Em geral, a coisa é divertida, mas para prever a vazão e, de fato, na fintech, ela não é usada com tanta frequência.  Abaixo, mostramos como fizemos isso (o Laboratório de Mineração de Dados) ao ganhar ouro no AI Championship na nomeação "AI in Banks". <br><a name="habracut"></a><br><h2>  Sobre a saída em geral </h2><br>  Vejamos um pouco o que é a saída do cliente e por que é tão importante.  Para os negócios, a base de clientes é importante.  Os novos clientes acessam esse banco de dados, por exemplo, depois de aprenderem sobre um produto ou serviço com a publicidade, vivem por algum tempo (usam ativamente os produtos) e depois de algum tempo param de usá-lo.  Esse período é chamado de “Ciclo de vida do cliente” (eng. Ciclo de vida do cliente) - um termo que descreve as etapas pelas quais o cliente passa ao descobrir um produto, tomar uma decisão de compra, pagar, usar e se tornar um cliente fiel e, finalmente, parar de usar por um motivo ou outro produto.  Consequentemente, a saída é o estágio final do ciclo de vida do cliente quando o cliente deixa de usar os serviços e, para os negócios, isso significa que o cliente deixou de ser lucrativo e, em geral, de qualquer benefício. <br><br>  Cada cliente do banco é uma pessoa específica que seleciona um cartão bancário específico especificamente para suas necessidades.  Muitas vezes viaja - um mapa com milhas é útil.  Ele compra muito - olá, cartão com reembolso.  Ele compra muito em lojas específicas - e para isso já existe um plástico afiliado especial.  Obviamente, às vezes um cartão também é selecionado de acordo com o critério de "Serviço mais barato".  Em geral, existem variáveis ​​suficientes aqui. <br><br>  E outra pessoa escolhe o próprio banco - vale a pena escolher um cartão bancário, cujas agências só estão em Moscou e na região quando você é de Khabarovsk?  Se o cartão desse banco for pelo menos duas vezes mais rentável, a presença de agências bancárias próximas ainda é um critério importante.  Sim, 2019 já está aqui e o digital é o nosso tudo, mas vários problemas para alguns bancos só podem ser resolvidos na agência.  Além disso, novamente, uma parte da população confia em um banco físico muito mais do que em um aplicativo em um smartphone, isso também precisa ser levado em consideração. <br><br>  Como resultado, uma pessoa pode ter muitos motivos para rejeitar os produtos do banco (ou do próprio banco).  Ele mudou de emprego e a taxa do cartão passou de um salário para "Para meros mortais", o que é menos lucrativo.  Ele se mudou para outra cidade onde não há agências bancárias.  Não gostei de conversar com um operador não qualificado do departamento.  Ou seja, pode haver ainda mais motivos para fechar uma conta do que para usar um produto. <br><br>  E o cliente pode não apenas expressar explicitamente sua intenção - ir ao banco e escrever um extrato, mas simplesmente parar de usar os produtos sem quebrar o contrato.  Aqui, para entender esses problemas, foi decidido usar o aprendizado de máquina e a IA. <br><br>  Além disso, a saída de clientes pode ocorrer em qualquer setor (telecomunicações, provedores de Internet, seguradoras, em geral, onde houver uma base de clientes e transações periódicas). <br><br><h2>  O que fizemos </h2><br>  Antes de tudo, era necessário descrever um limite claro - desde quando começamos a considerar que o cliente se foi.  Do ponto de vista do banco que nos forneceu os dados para o trabalho, o estado de atividade do cliente era binário - está ativo ou não.  Havia um sinalizador ACTIVE_FLAG na tabela "Atividade", cujo valor poderia ser "0" ou "1" (respectivamente, "Inativo" e "Ativo").  E tudo ficaria bem, mas a pessoa é capaz de usá-lo ativamente por um tempo e depois sair do ativo por um mês - fica doente, vai para outro país para descansar ou até mesmo para testar o cartão de outro banco.  Ou talvez após um longo período de inatividade, comece novamente a usar os serviços do banco <br><br>  Portanto, decidimos chamar o período de inatividade de um determinado período contínuo durante o qual o sinalizador para ele foi definido como "0". <br><br><img src="https://habrastorage.org/webt/z8/02/rs/z802rsv-4dlnhqqr9xk23ooyzu4.png"><br><br>  Os clientes passam de inativos para ativos após períodos de inatividade de vários comprimentos.  Temos a oportunidade de calcular o grau de valor empírico “confiabilidade dos períodos de inatividade” - ou seja, a probabilidade de uma pessoa voltar a usar os produtos do banco após inatividade temporária. <br><br>  Por exemplo, este gráfico mostra a retomada da atividade (ACTIVE_FLAG = 1) de clientes após vários meses de inatividade (ACTIVE_FLAG = 0). <br><br><img src="https://habrastorage.org/webt/vi/xo/cq/vixocqqdpx_txxmdfbvqjaioc-i.png"><br><br>  Aqui vamos esclarecer um pouco o conjunto de dados com o qual começamos a trabalhar.  Portanto, o banco forneceu informações agregadas por 19 meses nas seguintes tabelas: <br><br><ul><li>  “Atividade” - transações mensais de clientes (por cartão, no Internet banking e mobile banking), incluindo informações sobre folha de pagamento e rotatividade. </li><li>  "Cartões" - dados de todos os cartões que um cliente possui, com uma programação tarifária detalhada. </li><li>  “Contratos” - informações sobre contratos de clientes (abertos e fechados): empréstimos, depósitos, etc., indicando os parâmetros de cada um. </li><li>  "Clientes" - um conjunto de dados demográficos (sexo e idade) e a disponibilidade de dados de contato. </li></ul><br>  Para o trabalho, precisávamos de todas as tabelas, exceto o "Mapa". <br><br>  A dificuldade aqui era outra coisa - nesses dados o banco não indicava que tipo de atividade ocorreu nos cartões.  Ou seja, conseguimos entender se houve transações ou não, mas não conseguimos mais determinar seu tipo.  Portanto, não estava claro se o cliente estava sacando dinheiro, se ele recebeu um salário ou se gastou dinheiro em compras.  E não tínhamos dados sobre saldos de contas, o que seria útil. <br><br>  A amostra em si não foi imparcial - nesta seção, durante 19 meses, o banco não fez nenhuma tentativa de reter clientes e minimizar a vazão. <br><br>  Então, sobre períodos de inatividade. <br><br>  Para formular a definição de vazão, é necessário escolher um período de inatividade.  Para criar uma previsão de saída por vez <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>t</mi><mi>t</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.679ex" height="1.937ex" viewBox="0 -728.2 723 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-74" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-74" x="361" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>t</mi><mi>t</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> tt </script>  , você deve ter um histórico de clientes de pelo menos três meses no intervalo <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mi>t</mi><mo>&amp;#x2212;</mo><mn>3</mn><mo>;</mo><mi>t</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.013ex" height="2.66ex" viewBox="0 -832 5172.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-74" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-2212" x="862" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-33" x="1862" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-3B" x="2363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-74" x="2808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-2212" x="3392" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-31" x="4393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMAIN-5D" x="4893" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mi>t</mi><mo>−</mo><mn>3</mn><mo>;</mo><mi>t</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-4"> [t - 3; t - 1] </script>  .  Nossa história foi limitada a 19 meses, por isso decidimos levar um período de inatividade de 6 meses, se houver.  E pelo período mínimo para uma previsão qualitativa, levaram 3 meses.  Os números de 3 e 6 meses foram coletados empiricamente com base em uma análise do comportamento dos dados do cliente. <br><br>  A definição de saída que formulamos da seguinte forma: saída mensal do cliente <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> k </script>  este é o primeiro mês com ACTIVE_FLAG = 0, em que pelo menos seis zeros seguidos no campo ACTIVE_FLAG estão em execução desde este mês, ou seja, o mês desde o qual o cliente está inativo por 6 meses. <br><br><img src="https://habrastorage.org/webt/dr/h8/cl/drh8clajw5h0q5adiei2q4tdvva.png"><br>  <i>Número de clientes que partiram</i> <br><br><img src="https://habrastorage.org/webt/z_/fu/1x/z_fu1xlznamfpfcypdacnqyzzpg.png"><br>  <i>Número de clientes restantes</i> <br><br><h2>  Como é considerado vazão </h2><br>  Em tais competições e, na verdade, na prática, as saídas são frequentemente previstas dessa maneira.  O cliente utiliza produtos e serviços em diferentes intervalos de tempo; os dados sobre a interação com ele são apresentados na forma de um vetor de característica de comprimento fixo n.  Na maioria das vezes, essas informações incluem: <br><br><ul><li>  Dados específicos do usuário (dados demográficos, segmento de marketing). </li><li>  O histórico do uso de produtos e serviços bancários (são ações do cliente que estão sempre vinculadas a um período ou período específico do intervalo que precisamos). </li><li>  Dados externos, se forem capazes de obtê-los - por exemplo, análises de redes sociais. </li></ul><br>  E depois disso, eles derivam a definição de vazão, própria para cada tarefa.  Em seguida, eles usam o algoritmo de aprendizado de máquina, que prevê a probabilidade de o cliente sair <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> k </script>  com base no vetor de fatores <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>X</mi><mi>n</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.215ex" height="2.057ex" viewBox="0 -780.1 1384.4 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-6E" x="1215" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>X</mi><mi>n</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-7"> X ^ n </script>  .  Para aprender o algoritmo, é usada uma das estruturas conhecidas para a construção de conjuntos de árvores de decisão, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">XGBoost</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LightGBM</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CatBoost</a> ou suas modificações. <br><br>  O algoritmo em si não é ruim, mas em termos de previsão de vazão, ele tem várias desvantagens sérias. <br><br><ul><li>  <b>Ele não tem a chamada "memória"</b> .  A entrada do modelo recebe um determinado número de recursos que correspondem ao momento atual no tempo.  Para disponibilizar informações sobre o histórico de alterações nos parâmetros, é necessário calcular recursos especiais que caracterizam alterações nos parâmetros ao longo do tempo, por exemplo, o número ou a quantidade de transações bancárias nos últimos 1,2,3 meses.  Essa abordagem pode refletir apenas parcialmente a natureza das mudanças temporárias. </li><li>  <b>Horizonte de previsão fixo.</b>  O modelo é capaz de prever a saída de clientes apenas por um período predeterminado, por exemplo, uma previsão com um mês de antecedência.  Se você precisar de uma previsão para outro período de tempo, por exemplo, por três meses, precisará reconstruir o conjunto de treinamento e treinar novamente o novo modelo. </li></ul><br><h2>  Nossa abordagem </h2><br>  Decidimos imediatamente que não usaríamos abordagens padrão.  Além de nós, 497 pessoas se inscreveram no campeonato, cada uma com uma boa experiência.  Portanto, tentar fazer algo de maneira padrão nessas condições não é uma boa ideia. <br><br>  E começamos a resolver os problemas enfrentados pelo modelo de classificação binária, prevendo a distribuição probabilística dos tempos de saída do cliente.  Uma abordagem semelhante pode ser vista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , pois permite uma previsão mais flexível da vazão e teste de hipóteses mais complexas do que na abordagem clássica.  Como uma família de distribuições simulando o tempo de saída, escolhemos a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">distribuição Weibull</a> por seu amplo uso na análise de sobrevivência.  O comportamento do cliente pode ser visto como um tipo de sobrevivência. <br><br>  Aqui estão exemplos de distribuições de densidade de probabilidade Weibull, dependendo dos parâmetros <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BB;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.355ex" height="2.057ex" viewBox="0 -780.1 583.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-3BB" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>λ</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-8"> λ </script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> k </script>  : <br><br><img src="https://habrastorage.org/webt/9j/xt/6w/9jxt6wjvljkqk7h8-0urxy64bru.png"><br><br>  Essa é a distribuição de densidade de probabilidade da rotatividade de clientes de três clientes diferentes ao longo do tempo.  O tempo é apresentado em meses.  Em outras palavras, este gráfico mostra quando é mais provável que o cliente escoe nos próximos dois meses.Como você pode ver, um cliente com uma distribuição tem um grande potencial de sair mais cedo do que clientes com uma distribuição Weibull (2, 0,5) e Weibull (3.1). <br><br>  O resultado é um modelo que para todo cliente, para qualquer <br>  do mês prevê os parâmetros de distribuição Weibull, que melhor refletem o início da probabilidade de vazão ao longo do tempo.  Se mais detalhes: <br><br><ul><li>  Características-alvo na amostra de treinamento - o tempo restante antes da saída em um mês específico para um cliente específico. </li><li>  Se não houver um indicador de vazão para o cliente, assumimos que o tempo de vazão é maior que o número de meses, começando no atual e no final do nosso histórico. </li><li>  O modelo utilizado: uma rede neural recorrente com uma camada LSTM. </li><li>  Como uma função de perda, usamos a função de probabilidade logarítmica negativa para a distribuição Weibull. </li></ul><br>  Aqui estão as vantagens deste método: <br><br><ul><li>  A distribuição probabilística, além da possibilidade óbvia de classificação binária, permite prever de forma flexível vários eventos, por exemplo, se o cliente deixa de usar os serviços do banco dentro de 3 meses.  Além disso, se necessário, várias métricas podem ser calculadas sobre essa distribuição. </li><li>  A rede neural recorrente LSTM possui memória e usa com eficiência todo o histórico.  Com a expansão ou aperfeiçoamento da história, a precisão aumenta. </li><li>  A abordagem pode ser escalada sem problemas ao dividir os intervalos de tempo em menores (por exemplo, ao dividir meses em semanas). </li></ul><br>  Mas não basta criar um bom modelo, você também precisa avaliar adequadamente sua qualidade. <br><br><h2>  Como avaliar a qualidade </h2><br>  Como métrica, escolhemos a curva de elevação.  É usado nos negócios para esses casos por causa de uma interpretação compreensível; está bem descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Se você descrever o significado dessa métrica em uma frase, obterá “Quantas vezes o algoritmo faz a melhor previsão na primeira <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/rostelecom/blog/444694/&amp;usg=ALkJrhiV-6XzL1xE1VjV_dCDPxUOtjbm0Q#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-10"> k </script>  % do que aleatoriamente. " <br><br><h2>  Treinamos modelos </h2><br>  As condições de concorrência não estabeleceram uma métrica de qualidade específica pela qual vários modelos e abordagens possam ser comparados.  Além disso, a definição do conceito de vazão pode ser diferente e pode depender da declaração do problema, que, por sua vez, é determinado pelos objetivos de negócios.  Portanto, para entender qual método é melhor, treinamos dois modelos: <br><br><ol><li>  Uma abordagem de classificação binária usada com freqüência usando o algoritmo de aprendizado de máquina de um conjunto de árvores de decisão ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LightGBM</a> ); </li><li>  Modelo Weibull-LSTM </li></ol><br>  A amostra de teste consistiu em 500 clientes pré-selecionados que não estavam na amostra de treinamento.  Para o modelo, os hiperparâmetros foram selecionados usando a validação cruzada pelo cliente.  Para treinar cada modelo, os mesmos conjuntos de atributos foram usados. <br><br>  Devido ao fato de o modelo não possuir memória, foram tomados sinais especiais para ele, mostrando a razão de alterações nos parâmetros de um mês para o valor médio dos parâmetros nos últimos três meses.  O que caracterizou a taxa de mudança de valores no último período de três meses.  Sem isso, um modelo baseado na floresta aleatória estaria em uma posição anteriormente perdida em relação ao Weibull-LSTM. <br><br><h2>  Por que o LSTM com distribuição Weibull é melhor do que a abordagem baseada no conjunto de árvores de decisão </h2><br>  Aqui, tudo é claramente literalmente algumas fotos. <br><br><img src="https://habrastorage.org/webt/wq/ul/jp/wquljpjw0rwhzl6zrawpt3mivkq.png"><br>  <i>Comparação da curva de elevação para o algoritmo clássico e Weibull-LSTM</i> <br><br><img src="https://habrastorage.org/webt/g2/qc/do/g2qcdo7jy459ro6ulkdmlmicaqk.png"><br>  <i>Comparação Métrica da Curva de Elevação Mensal para Algoritmo Clássico e Weibull-LSTM</i> <br><br>  Em geral, o LSTM executa o algoritmo clássico em quase todos os casos. <br><br><h2>  Previsão de vazão </h2><br>  Um modelo baseado em uma rede neural recorrente com células LSTM com uma distribuição Weibull pode prever a saída com antecedência, por exemplo, prever a saída de um cliente nos próximos n meses.  Considere o caso de n = 3. Nesse caso, para cada mês, a rede neural deve determinar corretamente se o cliente sairá do próximo mês até o nono mês.  Em outras palavras, ela deve determinar corretamente se o cliente permanecerá após n meses.  Isso pode ser considerado uma previsão antecipada: prever o momento em que o cliente começou a pensar em como sair. <br><br>  Compare a curva de elevação para Weibull-LSTM 1, 2 e 3 meses antes da saída: <br><br><img src="https://habrastorage.org/webt/wq/ul/jp/wquljpjw0rwhzl6zrawpt3mivkq.png"><br><br>  Já escrevemos acima que as previsões feitas para clientes que não estão ativos há algum tempo também são importantes.  Portanto, adicionaremos à amostra esses casos quando o cliente que já partiu estiver inativo por um ou dois meses e verificaremos que o Weibull-LSTM classifica corretamente esses casos como vazão.  Como esses casos estavam presentes na amostra, esperamos que a rede lide bem com eles: <br><br><img src="https://habrastorage.org/webt/g3/ny/sa/g3nysak-rqeskiijrddvo5gilfu.png"><br><br><h2>  Retenção de clientes </h2><br>  Na verdade, isso é a principal coisa que pode ser feita com informações disponíveis que tais e tais clientes estão preparando para parar de usar o produto.  Falando sobre a construção de um modelo que possa oferecer algo útil aos clientes para mantê-los, isso não funcionará se você não tiver um histórico dessas tentativas que terminariam bem. <br><br>  Como não tínhamos uma história, decidimos assim. <br><br><ol><li>  Estamos construindo um modelo que define produtos interessantes para cada cliente. </li><li>  Em cada mês, executamos um classificador e identificamos clientes em potencial. </li><li>  Alguns clientes oferecem um produto, de acordo com o modelo do parágrafo 1, lembram-se de suas ações. </li><li>  Após alguns meses, analisamos quais desses clientes potencialmente saíram e quais permaneceram.  Assim, formamos uma amostra de treinamento. </li><li>  Nós treinamos o modelo na história obtida no parágrafo 4. </li><li>  Opcionalmente, repita o procedimento, substituindo o modelo do parágrafo 1 pelo modelo obtido no parágrafo 5. </li></ol><br>  O teste A / B usual pode servir como uma verificação da qualidade dessa retenção - dividimos os clientes que potencialmente saem em dois grupos.  Oferecemos produtos baseados em nosso modelo de retenção para um e não oferecemos nada para o segundo.  Decidimos treinar um modelo que já poderia se beneficiar no ponto 1 do nosso exemplo. <br><br>  Queríamos tornar a segmentação o mais interpretável possível.  Para isso, escolhemos vários sinais que podem ser facilmente interpretados: número total de transações, salário, rotatividade total da conta, idade, sexo.  Os sinais da tabela "Cartões" não foram considerados não informativos e os sinais da tabela 3 "Contratos" - devido à complexidade do processamento, a fim de evitar o vazamento de dados entre o conjunto de validação e o conjunto de treinamento. <br><br>  O agrupamento foi realizado usando modelos de mistura gaussiana.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O critério de informação de Akaike tornou possível determinar 2 ótimos. O primeiro ideal corresponde a 1 cluster. O segundo ideal, menos pronunciado, corresponde a 80 agrupamentos. A seguinte conclusão pode ser extraída desse resultado: é extremamente difícil dividir dados em clusters sem informações a priori. Para um melhor armazenamento em cluster, você precisa de dados que descrevam cada cliente em detalhes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, a tarefa de treinar com um professor foi considerada para oferecer a cada cliente individualmente um produto. Foram considerados os seguintes produtos: “Depósito a prazo”, “Cartão de crédito”, “Cheque especial”, “Empréstimo ao consumidor”, “Empréstimo para carro”, “Hipoteca”.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outro tipo de produto estava presente nos dados: “Conta Corrente”. Mas não o consideramos por causa do baixo conteúdo de informações. Por usuários clientes do banco, ou seja, Eles não pararam de usar seus produtos, foi construído um modelo que previa qual produto poderia ser do seu interesse. A regressão logística foi escolhida como modelo, e o valor de elevação dos 10 primeiros percentis foi usado como métrica de avaliação da qualidade. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A qualidade do modelo pode ser estimada na figura. </font></font><br><br><img src="https://habrastorage.org/webt/rw/0-/eg/rw0-egqx09j2qznktsnf8ighvby.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados do modelo de recomendação do cliente</font></font></i> <br><br><h2>  Sumário </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa abordagem nos trouxe o primeiro lugar na nomeação “AI nos bancos” no Campeonato de IA do RAIF-Challenge 2017. </font></font><br><br><img src="https://habrastorage.org/webt/bu/ps/57/bups57u_w9e1bdcmdzzkbs8bwlg.png" width="1000"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aparentemente, o principal foi abordar o problema de um lado incomum e usar um método comumente usado para outras situações. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora a saída massiva de usuários possa muito bem ser um desastre natural para serviços. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esse método também pode ser observado em qualquer outra área em que é importante considerar a saída, não pelos bancos como um todo. </font><font style="vertical-align: inherit;">Por exemplo, usamos para calcular nossa própria vazão - nas filiais da Rostelecom na Sibéria e São Petersburgo. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empresa "Laboratório de mineração de dados" "Portal de pesquisa" Sputnik "</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444694/">https://habr.com/ru/post/pt444694/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444684/index.html">Trabalhamos com redes neurais: uma lista de verificação para depuração</a></li>
<li><a href="../pt444686/index.html">Waves Smart Assets: listas em preto e branco, negociação com intervalo</a></li>
<li><a href="../pt444688/index.html">Pare de falar sobre o modelo de repositório com Eloquent</a></li>
<li><a href="../pt444690/index.html">Como os pesquisadores da Uber aplicam e escalam o conhecimento do comportamento humano</a></li>
<li><a href="../pt444692/index.html">MOSDROID # 16 Sulphur em Redmadrobot</a></li>
<li><a href="../pt444696/index.html">Aumente a densidade do contêiner em um nó usando a tecnologia PFCACHE</a></li>
<li><a href="../pt444700/index.html">Bancos de dados aleatórios. Oracle Enterprise Data Quality - Shield e Sword for Enterprise Storage</a></li>
<li><a href="../pt444704/index.html">Oportunidades nanoCAD SPDS Canteiro de obras em projetos de construção e reconstrução em condições apertadas</a></li>
<li><a href="../pt444706/index.html">Fotos em 3D do Facebook dentro: Parallax Shaders</a></li>
<li><a href="../pt444708/index.html">Aplicativo PentQL com GraphQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>