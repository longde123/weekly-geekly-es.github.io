<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦ ğŸ¤šğŸ½ ğŸ‘©ğŸ»â€âœˆï¸ ç”µæŠ¥å‘å¸ƒäº†å®˜æ–¹MTProtoä»£ç†æœåŠ¡å™¨ ğŸ’± â™ï¸ ğŸ¤™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ€åï¼Œåœ¨ä»”ç»†ç ”ç©¶MTProtoä»£ç†åè®®å¹¶å¯¹å…¶è¿›è¡Œåå‘å·¥ç¨‹ä¹‹åï¼ŒTelegramå†³å®šå‘å¸ƒæ­£å¼ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬æ”¯æŒè´§å¸åŒ–çš„æ¨å¹¿æ¸ é“ï¼Œç”šè‡³æ˜¯åœ¨Dockeræ˜ åƒä¸­ã€‚ 

 ä»€ä¹ˆæ˜¯MTProtoä»£ç†ï¼Ÿ 
 è¿™æ˜¯Telegramçš„åˆ›å»ºè€…æä¾›çš„ç‰¹å®šä»£ç†æœåŠ¡å™¨å’Œåè®®ï¼Œå¯è®©æ‚¨ç»•è¿‡é”å¹¶é€šè¿‡å…¶ä½¿ç”¨è·åˆ©ã€‚ 

 å®˜æ–¹ä»£ç† 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ç”µæŠ¥å‘å¸ƒäº†å®˜æ–¹MTProtoä»£ç†æœåŠ¡å™¨</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412755/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/yw/_s/sc/yw_sscf7l6ounborxi3bnh3wx-4.png" alt="å›¾ç‰‡"></div><br> æœ€åï¼Œåœ¨ä»”ç»†ç ”ç©¶MTProtoä»£ç†åè®®å¹¶å¯¹å…¶è¿›è¡Œåå‘å·¥ç¨‹ä¹‹åï¼ŒTelegramå†³å®šå‘å¸ƒæ­£å¼ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬æ”¯æŒ<s>è´§å¸åŒ–çš„</s>æ¨å¹¿æ¸ é“ï¼Œç”šè‡³æ˜¯åœ¨Dockeræ˜ åƒä¸­ã€‚ <br><a name="habracut"></a><br><h2> ä»€ä¹ˆæ˜¯MTProtoä»£ç†ï¼Ÿ </h2><br> è¿™æ˜¯Telegramçš„åˆ›å»ºè€…æä¾›çš„ç‰¹å®šä»£ç†æœåŠ¡å™¨å’Œåè®®ï¼Œå¯è®©æ‚¨ç»•è¿‡é”å¹¶é€šè¿‡å…¶ä½¿ç”¨è·åˆ©ã€‚ <br><br><h2> å®˜æ–¹ä»£ç† </h2><br> åœ¨ä¸Š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€ä¸ªå‡ºç‰ˆç‰©ä¸­</a> ï¼Œä»‹ç»äº†ä»£ç†æœåŠ¡å™¨çš„è®¸å¤šéå®˜æ–¹å®ç°ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…¶ä¸­è®¸å¤š</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ˜¯</a>ç”±Habrç”¨æˆ·<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¼–å†™</a>çš„ã€‚ <br><br> ç°åœ¨æˆ‘ä»¬æœ‰äº†<b>æ­£å¼</b>ç‰ˆæœ¬ï¼š <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/TelegramMessenger/MTProxy</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">hub.docker.com/r/telegrammessenger/proxy</a> <br><br><h2> ä»–èƒ½åšä»€ä¹ˆï¼Ÿ </h2><br><ol><li> æ¯ä¸ªä»£ç†æœ€å¤šæ”¯æŒ16ä¸ªä¸åŒçš„å¯†é’¥ </li><li> æ¯ä¸ªæ ¸å¿ƒå¤šè¾¾60,000ä¸ªè¿æ¥ </li><li> å…·æœ‰ç”¨äºæ”¶é›†ç»Ÿè®¡ä¿¡æ¯çš„APIï¼ˆä»…åœ¨æœ¬åœ°å¯ç”¨ï¼‰ </li><li>  Dockerä¸­çš„ç°æˆæ˜ åƒ </li><li> æ˜¾ç¤ºæ¨èé¢‘é“ </li></ol><br><h2> å¦‚ä½•è®¾ç½®ï¼Ÿ </h2><br> ä¸¢è„¸å¾ˆç®€å•ï¼š <br><br><pre><code class="bash hljs">docker run -d -p443:443 --name=mtproto-proxy --restart=always -v proxy-config:/data telegrammessenger/proxy:latest</code> </pre> <br> ä¹‹åï¼Œæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br><pre> <code class="bash hljs">docker logs mtproto-proxy</code> </pre> <br> å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#### #### Telegram Proxy #### [+] No secret passed. Will generate 1 random ones. [*] Final configuration: [*] Secret 1: afajkfhjksajkahkhkjkkk [*] tg:// link for secret 1 auto configuration: tg://proxy?server=127.0.0.1&amp;port=443&amp;secret= afajkfhjksajkahkhkjkkk [*] t.me link for secret 1: https://t.me/proxy?server=127.0.0.1&amp;port=443&amp;secret= afajkfhjksajkahkhkjkkk [*] Tag: no tag [*] External IP: 127.0.0.1 [*] Make sure to fix the links in case you run the proxy on a different port. [+] Starting proxy...</span></span></code> </pre><br> å®é™…ä¸Šï¼ŒåŸºæœ¬è®¾ç½®å·²å®Œæˆã€‚ <br><br><h2> é¢‘é“å‡çº§ </h2><br> å¦‚æœè¦åœ¨è¿æ¥ä»£ç†æ—¶æ˜¾ç¤ºé¢‘é“ï¼Œåˆ™éœ€è¦æ³¨å†Œä»£ç†ï¼š <br> å®˜æ–¹æœºå™¨äºº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@MTProxybot</a>å°†å¯¹æ­¤æä¾›å¸®åŠ©<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ã€‚</a> <br><br> ä»–åº”è¯¥å‘é€IPï¼šç«¯å£+å¯†é’¥ï¼Œä½œä¸ºå›åº”ï¼Œæ‚¨å°†æ”¶åˆ°ä¸€ä¸ªå¹¿å‘Šæ ‡ç­¾ã€‚ <br><br> å¯åŠ¨å®¹å™¨æ—¶ï¼Œå¿…é¡»å°†æ­¤æ ‡ç­¾ä½œä¸ºå‚æ•°ä¼ é€’ï¼š <br><br><pre> <code class="bash hljs">docker run -d -p443:443 --name=mtproto-proxy --restart=always -v proxy-config:/data -e TAG=_TAG telegrammessenger/proxy:latest</code> </pre> <br> æ¥ä¸‹æ¥ï¼Œè¿”å›åˆ°è¯¥æ¼«æ¸¸å™¨ï¼Œé€‰æ‹©æ‚¨çš„ä»£ç†ï¼Œç„¶åé€‰æ‹©â€œè®¾ç½®æ¨å¹¿â€-ç°åœ¨ï¼Œå®ƒä»…ä¿ç•™å‘é€ä»»ä½•è¦æ˜¾ç¤ºçš„é¢‘é“çš„æƒé™ã€‚ <br><br> å°±æ˜¯è¿™æ ·ï¼Œç°åœ¨æ‚¨æœ‰äº†å¸¦æœ‰ä¿ƒé”€æ¸ é“çš„å®˜æ–¹ç”µæŠ¥ä»£ç†ï¼Œå®ƒå°†æ˜¾ç¤ºç»™æ‰€æœ‰ç”¨æˆ·ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">è¿›é˜¶è®¾å®š</b> <div class="spoiler_text"> é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¹¶å°†å…¶å­˜å‚¨åœ¨Dockerå·ä¸­ï¼Œå¦‚æœæ‚¨å¯ä»¥æŒ‡å®šå…¶ä»–å¯†é’¥ï¼š <br>  <b>-e SECRET = 00baadf00d15abad1deaa51sbaadcafe</b> <br><pre> <code class="bash hljs">docker run -d -p443:443 -v proxy-config:/data -e SECRET=00baadf00d15abad1deaa51sbaadcafe telegrammessenger/proxy:latest</code> </pre> <br><br> æˆ–å‡ ä¸ªï¼š <br><br><pre> <code class="bash hljs">docker run -d -p443:443 -v proxy-config:/data -e SECRET=935ddceb2f6bbbb78363b224099f75c8,2084c7e58d8213296a3206da70356c81 telegrammessenger/proxy:latest</code> </pre><br> æˆ–è€…æ‚¨å¯ä»¥è¦æ±‚æ‚¨ç”Ÿæˆå‡ ä¸ªå¯†é’¥ï¼š <br><br><pre> <code class="bash hljs">docker run -d -p443:443 -v proxy-config:/data -e SECRET_COUNT=4 telegrammessenger/proxy:latest</code> </pre> <br> é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†å¯åŠ¨2 worker'aï¼Œæ‚¨å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼æ›´æ”¹è®¾ç½®ï¼š <br>  <b>å·¥äºº= 16</b> <br><br><pre> <code class="bash hljs">docker run -d -p443:443 -v proxy-config:/data -e WORKERS=16 telegrammessenger/proxy:latest</code> </pre> <br> å¯ä»¥åœ¨ä»¥ä¸‹ä½ç½®è¿›è¡Œç›‘è§†ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">localhost</a> ï¼š2398 / stats <br><br> æ‚¨å¯ä»¥è·å¾—ä»¥ä¸‹ç»Ÿè®¡ä¿¡æ¯ï¼š <br><br><pre> <code class="bash hljs">docker <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> mtproto-proxy curl http://localhost:2398/stats</code> </pre> <br>  <i>ready_targetsï¼š <b>å‡†å¤‡</b>ä½¿ç”¨ä»£ç†<b>æœåŠ¡</b>è¯·æ±‚çš„ç”µæŠ¥æœåŠ¡å™¨çš„æ•°é‡</i> <i><br></i>  <i>active_targetsï¼š <b>æœåŠ¡äº</b>ä»£ç†è¯·æ±‚çš„ç”µæŠ¥æœåŠ¡å™¨çš„æ•°é‡</i> <i><br></i>  <i>total_special_connectionsï¼šä¼ å…¥è¿æ¥æ•°</i> <i><br></i>  <i>total_max_special_connectionsï¼šå…¥ç«™è¿æ¥é™åˆ¶</i> <br></div></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯¥æœºå™¨äºº</a>è¿˜å¯ä»¥æ˜¾ç¤ºæœ‰å…³ä»£ç†ä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡ä¿¡æ¯ï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rq/dy/qs/rqdyqsgpp27dyqy48pquz59weog.png"></div><br><h3> ç å¤´å·¥äººç»„æˆ </h3><br> æ‚¨å¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docker-compose</a>è€Œä¸æ˜¯åœ¨ä¸€è¡Œä¸­ç¼–å†™é•¿å‘½ä»¤ã€‚ <br><br><h2> æ‚¨å¯èƒ½ä¹Ÿæœ‰å…´è¶£ã€‚ </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸•ç»´å°”Â·æœæ´›å¤«ï¼ˆPavel Durovï¼‰ï¼šåœ¨ILVä¸Šè¯‰åï¼Œè‹¹æœé˜»æ­¢äº†å…¨çƒç”µæŠ¥çš„æ›´æ–°</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SSLHï¼šå°†SSH / HTTPS / OpenVPN /ç”µæŠ¥éšè—åœ¨å•ä¸ªç«¯å£443åé¢</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN412755/">https://habr.com/ru/post/zh-CN412755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN412743/index.html">èŒä¸šï¼šç½‘ç»œä¾¦æ¢</a></li>
<li><a href="../zh-CN412747/index.html">MISã€‚ åŒ»ç–—æ•°æ®å­˜å‚¨</a></li>
<li><a href="../zh-CN412749/index.html">ç”µå­è‰ºæœ¯ï¼šç”µæµ</a></li>
<li><a href="../zh-CN412751/index.html">ç§ƒé¡¶ï¼šæ²»ç–—çš„ç†è®ºä¸å®è·µï¼Œç¬¬1éƒ¨åˆ†â€œæˆ‘çš„äºŒæ°¢ç¾ä¸¸æ¿€ç´ ï¼Œæˆ‘çš„æ•Œäººâ€</a></li>
<li><a href="../zh-CN412753/index.html">é€šè¿‡å¯„å­˜å™¨ä¸Šçš„LTDC ...å¯åŠ¨STM32ä¸Šçš„æ˜¾ç¤º</a></li>
<li><a href="../zh-CN412757/index.html">æ—¥æœ¬çš„LEDç¯æ³¡</a></li>
<li><a href="../zh-CN412759/index.html">Telegramçš„æ–°MTProto-proxyæœåŠ¡å™¨</a></li>
<li><a href="../zh-CN412763/index.html">å°†Firefly-RK3288é‡è£…æ¿ä¸RockChip RK3288 SoCä¸€èµ·ä½¿ç”¨ Microchip Digital I2Cçƒ­ä¼ æ„Ÿå™¨-MCP9808</a></li>
<li><a href="../zh-CN412765/index.html">æ–°çš„Unityç£è´´å¡ç³»ç»Ÿç®€ä»‹</a></li>
<li><a href="../zh-CN412767/index.html">CMG Impact 2016ä¼šè®®å›é¡¾</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>