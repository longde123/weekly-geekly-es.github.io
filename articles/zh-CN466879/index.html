<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♍️ 🕢 🚽 JavaScript和Node.js中的最佳测试技术 🈸 🗝️ 🤵🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="这是提供JavaScript和Node.js可靠性的综合指南。 这里收集了数十种最好的帖子，书籍和工具。 

 首先，处理作为任何应用程序基础的公认测试方法。 然后，您可以深入研究自己感兴趣的领域：前端和接口，后端，CI或以上所有内容。 

 目录内容 


- 第0节。黄金法则。 一个建议是所有其...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript和Node.js中的最佳测试技术</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/466879/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/t2/fe/u-/t2feu-mapmlc7txb2ith9futkie.jpeg"></div><br> 这是提供JavaScript和Node.js可靠性的综合指南。 这里收集了数十种最好的帖子，书籍和工具。 <br><br> 首先，处理作为任何应用程序基础的公认测试方法。 然后，您可以深入研究自己感兴趣的领域：前端和接口，后端，CI或以上所有内容。 <br><a name="habracut"></a><br><h1> 目录内容 </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第0节。黄金法则。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一个建议是所有其他建议背后的推动力（1个特殊章节）。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1节。测试的剖析。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基础知识：创建可理解的测试（12章）。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2节。后端。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有效地编写针对后端和微服务的测试（8章）。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3节。前端，接口，端到端。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们正在为Web界面编写测试，包括组件和E2E测试（11章）。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第4节。测试有效性的度量。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">观察者的观察：测试质量评估（4章）。</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第5节。持续集成。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JS世界中的CI建议（9章）。</a> </li></ul><br><a name="1"></a><h1> 第0节：黄金法则 </h1><br><h2>  0.黄金法则：坚持精益测试 </h2><br>  <b>怎么办。</b> 测试代码与所运行的代码不同。 使它尽可能简单，简短，没有抽象，单一，工作精益和节俭。 另一个人应该查看测试并立即了解他在做什么。 <br><br> 我们的负责人忙于生产代码，他们没有足够的空间来增加复杂性。 如果我们将新的复杂代码部分放到我们的可怜的头脑中，这将减慢整个团队在该任务上的工作，为此，我们正在对其进行测试。 实际上，因此，许多团队只是避开了测试。 <br><br> 测试是获得友好和微笑助手的机会，与他一起工作非常好，并且从小额投资中获得了丰厚的回报。 科学家认为，在我们的大脑中，有两种系统：一种用于不需要力气的动作（例如在空旷的道路上行驶），另一种用于需要意识的复杂操作（例如求解数学方程式）。 为第一个系统创建测试，以便在查看代码时获得与编辑HTML文档类似的简单感觉，而无需使用<code>2X(17 × 24)</code>解决方案<code>2X(17 × 24)</code> 。 <br><br> 可以通过仔细选择测试的方法，工具和目标来实现这一目标，从而使它们既经济又可以带来较大的投资回报率。 仅根据需要进行测试，并尽量保持灵活性。 有时为了快速和简单起见，甚至值得放弃一些测试并牺牲可靠性。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f27/bc3/5f9/f27bc35f96e79037157cea807ac5be23.png"><br><br> 以下大多数建议均源于该原则。 <br>  <b>准备好了吗</b> <br><br><a name="2"></a><h1> 第1节。测试剖析 </h1><br><h2>  1.1每个测试的名称应由三部分组成 </h2><br>  <b>怎么办。</b> 测试报告应指出该应用程序的当前版本是否满足那些不熟悉该代码的人的需求：参与DevOps工程师部署的测试人员以及您自己在两年内。 最好的是，测试以要求的语言报告信息，并且其名称由三部分组成： <br><br><ol><li> 到底在测试什么？ 例如， <code>ProductsService.addNewProduct</code>方法。 </li><li> 在什么条件和情况下？ 例如，价格不传递给该方法。 </li><li> 预期的结果是什么？ 例如，新产品未被批准。 </li></ol><br>  <b>否则。</b> 部署失败，称为“添加产品”的测试失败。 您了解什么是错误的吗？ <br><br>  <b>注意事项</b> 每章都有示例代码，有时还有插图。 见扰流板。 <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>正确的做法。</b> 测试名称由三部分组成。 <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//1. unit under test describe('Products Service', function() { describe('Add new product', function() { //2. scenario and 3. expectation it('When no price is specified, then the product status is pending approval', ()=&gt; { const newProduct = new ProductService().add(...); expect(newProduct.status).to.equal('pendingApproval'); }); }); });</span></span></code> </pre> <br></div></div><br><h2>  1.2根据AAA模式构建测试 </h2><br>  <b>怎么办。</b> 每个测试应包括三个明显分开的部分：安排（准备），行为（行动）和声明（结果）。 坚持这样的结构可以确保您的代码阅读者不必使用大脑处理器来理解测试计划： <br><br> 安排：根据测试方案使系统进入状态的所有代码。 这可能包括在测试设计器中创建模块的实例，将记录添加到数据库，创建存根而不是对象以及任何其他准备系统进行测试运行的代码。 <br><br> 行动：将代码执行作为测试的一部分。 通常只有一行。 <br> 声明：确保获得的价值符合期望。 通常只有一行。 <br><br>  <b>否则。</b> 您不仅会花费大量时间来处理主要代码，而且您的大脑也会因应做的简单工作-测试而膨胀。 <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>正确的做法。</b> 根据AAA模式构造的测试。 <br><br><pre> <code class="javascript hljs">describe.skip(<span class="hljs-string"><span class="hljs-string">'Customer classifier'</span></span>, () =&gt; { test(<span class="hljs-string"><span class="hljs-string">'When customer spent more than 500$, should be classified as premium'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//Arrange const customerToClassify = {spent:505, joined: new Date(), id:1} const DBStub = sinon.stub(dataAccess, "getCustomer") .reply({id:1, classification: 'regular'}); //Act const receivedClassification = customerClassifier.classifyCustomer(customerToClassify); //Assert expect(receivedClassification).toMatch('premium'); }); });</span></span></code> </pre><br>  <b>反模式的一个例子。</b> 一件一件没有一件分开的事更难解释。 <br><br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'Should be classified as premium'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> customerToClassify = {<span class="hljs-attr"><span class="hljs-attr">spent</span></span>:<span class="hljs-number"><span class="hljs-number">505</span></span>, <span class="hljs-attr"><span class="hljs-attr">joined</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(), <span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> DBStub = sinon.stub(dataAccess, <span class="hljs-string"><span class="hljs-string">"getCustomer"</span></span>) .reply({<span class="hljs-attr"><span class="hljs-attr">id</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">classification</span></span>: <span class="hljs-string"><span class="hljs-string">'regular'</span></span>}); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> receivedClassification = customerClassifier.classifyCustomer(customerToClassify); expect(receivedClassification).toMatch(<span class="hljs-string"><span class="hljs-string">'premium'</span></span>); });</code> </pre> <br></div></div><br><h2>  1.3用产品的语言描述期望：以BDD的风格陈述 </h2><br>  <b>怎么办。</b> 以声明式的方式进行编程测试，使用户可以立即了解其本质，而无需花费单个脑部处理器周期。 当您编写以条件逻辑包装的命令式代码时，读者必须付出很多努力。 从这个角度来看，您需要使用期望/应该并且不使用自定义代码，以声明性的BDD风格用类人语言描述期望。 如果在Chai和Jest中没有必要的断言（通常会重复执行），则可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">扩展匹配器Jest</a>或<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">为Chai</a>编写<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">自己的插件</a> 。 <br><br>  <b>否则。</b> 该团队将编写更少的测试，并<code>with .skip()</code>装饰令人讨厌的测试。 <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用Mocha的示例</a> 。 <br><br>  <b>反模式的一个例子。</b> 为了理解测试的本质，用户被迫通过相当长的强制性代码。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"When asking for an admin, ensure only ordered admins in results"</span></span> , ()={ <span class="hljs-comment"><span class="hljs-comment">//assuming we've added here two admins "admin1", "admin2" and "user1" const allAdmins = getUsers({adminOnly:true}); const admin1Found, adming2Found = false; allAdmins.forEach(aSingleUser =&gt; { if(aSingleUser === "user1"){ assert.notEqual(aSingleUser, "user1", "A user was found and not admin"); } if(aSingleUser==="admin1"){ admin1Found = true; } if(aSingleUser==="admin2"){ admin2Found = true; } }); if(!admin1Found || !admin2Found ){ throw new Error("Not all admins were returned"); } });</span></span></code> </pre><br>  <b>正确的做法。</b> 阅读此声明性测试很简单。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"When asking for an admin, ensure only ordered admins in results"</span></span> , ()={ <span class="hljs-comment"><span class="hljs-comment">//assuming we've added here two admins const allAdmins = getUsers({adminOnly:true}); expect(allAdmins).to.include.ordered.members(["admin1" , "admin2"]) .but.not.include.ordered.members(["user1"]); });</span></span></code> </pre> <br></div></div><br><h2>  1.4坚持黑盒测试：仅测试公共方法 </h2><br>  <b>怎么办。</b> 测试内部将导致巨大的开销，并且几乎一无所获。 如果您的代码或API提供了正确的结果，是否值得花三个小时测试它如何在内部工作并随后支持这些脆弱的测试？ 当检查公共行为时，同时隐式检查实现本身，只有在存在特定问题（例如，错误的输出）时，测试才会失败。 这种方法也称为行为测试。 另一方面，如果您正在测试内部结构（“白盒”方法），那么您将不着重于计划组件的输出，而是将重点放在小细节上，并且即使代码没问题，您的测试也可能由于代码的细微改动而中断，但是护送将占用更多资源。 <br><br>  <b>否则。</b> 您的测试就像一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">男孩在喊“狼！”</a>  ：大声报告误报（例如，由于私有变量名称的更改，测试失败）。 很快人们将开始忽略CI通知就不足为奇了，有一天他们会错过一个真正的bug ... <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>反模式的一个例子。</b> 没有充分的理由测试内部。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用Mocha的示例</a> 。 <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductService</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//this method is only used internally //Change this name will make the tests fail calculateVAT(priceWithoutVAT){ return {finalPrice: priceWithoutVAT * 1.2}; //Change the result format or key name above will make the tests fail } //public method getPrice(productId){ const desiredProduct= DB.getProduct(productId); finalPrice = this.calculateVATAdd(desiredProduct.price).finalPrice; } } it("White-box test: When the internal methods get 0 vat, it return 0 response", async () =&gt; { //There's no requirement to allow users to calculate the VAT, only show the final price. Nevertheless we falsely insist here to test the class internals expect(new ProductService().calculateVATAdd(0).finalPrice).to.equal(0); });</span></span></code> </pre> <br></div></div><br><h2>  1.5选择正确的模拟实现：避免使用伪造的对象，而使用存根和间谍 </h2><br>  <b>怎么办。</b> 模拟实现（测试双打）是必不可少的，因为它们与应用程序的内部相关联，并且有些具有很大的价值（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">刷新模仿的实现的内存：伪造的对象（模拟），存根和间谍对象（间谍））</a> ） 但是，并非所有技术都是等效的。 间谍程序和存根旨在测试需求，但具有不可避免的副作用-它们还会对内部产生轻微影响。 伪造的对象被设计为测试内部，这导致了巨大的开销，如第1.4章所述。 <br><br> 在使用模拟实现之前，请问自己一个最简单的问题：“我是否使用它来测试已出现在文档中或可能出现在需求中的功能？” 如果不是这样，就会出现白盒测试的痕迹。 <br><br> 例如，如果您想了解当支付服务不可用时应用程序的运行情况是否应该按其应有的方式运行，可以改成一个存根并返回“ No answer”以检查被测模块是否返回了正确的值。 因此，您可以在某些情况下检查应用程序的行为/响应/输出。 您还可以在间谍的帮助下确认，当服务不可用时，会发送信函，这也是行为测试，可以更好地反映在文档中，并带有要求（“如果无法保存付款信息，请发送信函”）。 同时，如果您提供了伪造的付款服务并确保使用正确的JS类型调用了该服务，则您的测试将针对与应用程序功能无关且可能经常更改的内部。 <br><br>  <b>否则。</b> 任何代码重构都涉及查找和更新代码中的所有伪造对象。 来自助理朋友的测试变成了负担。 <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>反模式的一个例子。</b> 伪造物品是为了胆量。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用Sinon的示例</a> 。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"When a valid product is about to be deleted, ensure data access DAL was called once, with the right product and right config"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//Assume we already added a product const dataAccessMock = sinon.mock(DAL); //hmmm BAD: testing the internals is actually our main goal here, not just a side-effect dataAccessMock.expects("deleteProduct").once().withArgs(DBConfig, theProductWeJustAdded, true, false); new ProductService().deletePrice(theProductWeJustAdded); mock.verify(); });</span></span></code> </pre><br>  <b>正确的做法。</b> 间谍旨在测试需求，但有副作用-它们不可避免地会影响内部。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"When a valid product is about to be deleted, ensure an email is sent"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//Assume we already added here a product const spy = sinon.spy(Emailer.prototype, "sendEmail"); new ProductService().deletePrice(theProductWeJustAdded); //hmmm OK: we deal with internals? Yes, but as a side effect of testing the requirements (sending an email) });</span></span></code> </pre> <br></div></div><br><h2>  1.6不要使用“ foo”，要使用真实的输入 </h2><br>  <b>怎么办。</b> 生产错误通常发生在非常具体且令人惊讶的输入数据上。 测试期间的数据越真实，就越可能及时发现错误。 要生成模拟生产数据的种类和类型的伪真实数据，请使用特殊的库，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Faker</a> 。 这样的库可以生成现实的电话号码，用户昵称，银行卡，公司名称，甚至是文本“ lorem ipsum”。 您可以创建测试（在单元测试之上，而不是代替单元测试），以将伪造的数据随机化以使模块适合测试，甚至可以从生产环境中导入真实数据。 想走得更远吗？ 阅读下一章（关于基于属性的测试）。 <br><br>  <b>否则。</b> 使用诸如“ Foo”之类的合成输入，您的开发测试将看起来成功，并且当黑客<code>@3e2ddsf . ##' 1 fdsfds . fds432 AAAA</code>诸如<code>@3e2ddsf . ##' 1 fdsfds . fds432 AAAA</code>类<code>@3e2ddsf . ##' 1 fdsfds . fds432 AAAA</code>棘手代码时，生产数据可能会失败<code>@3e2ddsf . ##' 1 fdsfds . fds432 AAAA</code> <code>@3e2ddsf . ##' 1 fdsfds . fds432 AAAA</code>  <code>@3e2ddsf . ##' 1 fdsfds . fds432 AAAA</code> 。 <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>反模式的一个例子。</b> 由于使用了不真实的数据，测试套件成功运行。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用Jest的示例</a> 。 <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addProduct = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, price</span></span></span><span class="hljs-function">) =&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> productNameRegexNoSpace = <span class="hljs-regexp"><span class="hljs-regexp">/^\S*$/</span></span>;<span class="hljs-comment"><span class="hljs-comment">//no white-space allowed if(!productNameRegexNoSpace.test(name)) return false;//this path never reached due to dull input //some logic here return true; }; test("Wrong: When adding new product with valid properties, get successful confirmation", async () =&gt; { //The string "Foo" which is used in all tests never triggers a false result const addProductResult = addProduct("Foo", 5); expect(addProductResult).to.be.true; //Positive-false: the operation succeeded because we never tried with long //product name including spaces });</span></span></code> </pre><br>  <b>正确的做法。</b> 随机化现实输入。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"Better: When adding new valid product, get successful confirmation"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addProductResult = addProduct(faker.commerce.productName(), faker.random.number()); <span class="hljs-comment"><span class="hljs-comment">//Generated random input: {'Sleek Cotton Computer', 85481} expect(addProductResult).to.be.true; //Test failed, the random input triggered some path we never planned for. //We discovered a bug early! });</span></span></code> </pre> <br></div></div><br><h2>  1.7使用基于属性的测试来验证多个输入组合 </h2><br>  <b>怎么办。</b> 通常，对于每个测试，我们都会选择几个输入数据样本。 即使输入格式类似于真实数据（请参阅“请勿使用” foo”一章），我们也仅涵盖输入数据的几种组合（方法<code>('', true, 1)</code> ，方法<code>("string" , false" , 0)</code> ）。但在操作中，可以用数千种不同的组合调用用五个参数调用的API，其中一种会导致进程<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">崩溃</a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">模糊</a> ）。如果编写一个自动发送1000个输入数据组合的测试，该怎么办？修复，代码以什么组合不能返回正确答案？我们对m所做的相同操作  todike基于性能测试：通过发送输入数据的所有可能组合成测试单元我们增加一个错误检测的机会，例如，我们有一个方法。 <code>addNewProduct(id, name, isDiscount)</code>支持他的库将调用此方法有多种组合。 <code>(,  ,  )</code> ，例如<code>(1, "iPhone", false)</code> ， <code>(2, "Galaxy", true)</code>等。您可以使用自己喜欢的测试运行器（Mocha，Jest <code>(2, "Galaxy", true)</code>基于属性进行测试等）和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">js-verify</a>或<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">testcheck之</a>类的库（它有更好的文档）。 您还可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">尝试快速检查库</a> ，该<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">库</a>提供了附加功能，并由作者积极提供。 <br><br>  <b>否则。</b> 您无所顾忌地为测试选择了输入数据，该数据仅涵盖功能良好的代码执行路径。 不幸的是，这降低了测试作为检测错误的手段的有效性。 <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>正确的做法。</b> 使用mocha-testcheck测试多种组合。 <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'mocha-testcheck'</span></span>).install(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {expect} = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'chai'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> faker = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'faker'</span></span>); describe(<span class="hljs-string"><span class="hljs-string">'Product service'</span></span>, () =&gt; { describe(<span class="hljs-string"><span class="hljs-string">'Adding new'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//this will run 100 times with different random properties check.it('Add new product with random yet valid properties, always successful', gen.int, gen.string, (id, name) =&gt; { expect(addNewProduct(id, name).status).to.equal('approved'); }); }) });</span></span></code> </pre> <br></div></div><br><h2>  1.8如有必要，请仅使用短镜头和内联镜头。 </h2><br>  <b>怎么办。</b> 当您需要<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基于快照</a>进行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">测试时</a> ，请仅使用简短的快照，而不使用所有多余的快照（例如，在3-7行中），包括它们作为测试的一部分（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Inline Snapshot</a> ），而不作为外部文件。 遵循此建议将使您的测试不言而喻，并且更加可靠。 <br><br> 另一方面，“经典快照”指南和工具促使我们在外部媒体上存储大文件（例如，用于渲染组件的标记或JSON API结果），并在每次运行测试时将结果与保存的版本进行比较。 可以说，它可以将我们的测试与包含3000个值的1000行隐式关联，该值是测试作者从未见过的，他从未想到过。 为什么这样不好？ 因为测试失败有1000个原因。 甚至只有一行可以使快照无效，并且这种情况经常发生。 多少钱 在每个空格之后，注释或CSS或HTML中的微小变化。 此外，测试的名称不会告诉您有关失败的信息，因为它只会检查1000行没有更改，并且还鼓励测试的作者尽可能多地获取他无法分析和验证的长文档。 所有这些都是模糊而仓促的测试的症状，该测试没有明确的任务，并且试图实现太多目标。 <br><br> 值得注意的是，在很多情况下，使用长而外部的图像是可以接受的，例如，在确认方案时，而不是数据（提取值并关注字段）时，或者接收的文档很少更改时，都是可以接受的。 <br><br>  <b>否则。</b>  UI测试失败。 代码看起来不错，理想的像素显示在屏幕上，那么会发生什么呢？ 您对快照的测试只是揭示了原始文档和刚收到的文档之间的区别-在标记中添加了一个空格字符... <br><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text">  <b>反模式的一个例子。</b> 将测试与一些未知的2000行代码相关联。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'TestJavaScript.com is renderd correctly'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//Arrange //Act const receivedPage = renderer .create( &lt;DisplayPage page = "http://www.testjavascript.com" &gt; Test JavaScript &lt; /DisplayPage&gt;) .toJSON(); //Assert expect(receivedPage).toMatchSnapshot(); //We now implicitly maintain a 2000 lines long document //every additional line break or comment - will break this test });</span></span></code> </pre><br>  <b>正确的做法。</b> 期望是可见的，并且是人们关注的焦点。 <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'When visiting TestJavaScript.com home page, a menu is displayed'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//Arrange //Act receivedPage tree = renderer .create( &lt;DisplayPage page = "http://www.testjavascript.com" &gt; Test JavaScript &lt; /DisplayPage&gt;) .toJSON(); //Assert const menu = receivedPage.content.menu; expect(menu).toMatchInlineSnapshot(` &lt;ul&gt; &lt;li&gt;Home&lt;/li&gt; &lt;li&gt; About &lt;/li&gt; &lt;li&gt; Contact &lt;/li&gt; &lt;/ul&gt; `); });</span></span></code> </pre> <br></div></div><br><h2>  1.9避免使用全局测试平台和初始数据，将数据分别添加到每个测试中 </h2><br>  <b>怎么办。</b> 根据黄金法则（第0章），每个测试都应在数据库中自己的行集中进行添加和工作，以避免绑定，并且使用户更容易理解测试。 实际上，测试人员通常在运行使用初始数据（种子）（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">也称为“测试台”</a> ）填充数据库的测试之前违反此规则，以提高生产率。       ,     (.  « »),              .                .    ,           ,     (, ). <br><br> <b>  .</b>   ,  ,     ,   ?  , , ,         . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反模式的一个例子。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试不是独立的，而是使用某种全局挂钩从数据库获取全局数据。</font></font><br><br><pre> <code class="javascript hljs">before(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//adding sites and admins data to our DB. Where is the data? outside. At some external json or migration framework await DB.AddSeedDataFromJson('seed.json'); }); it("When updating site name, get successful confirmation", async () =&gt; { //I know that site name "portal" exists - I saw it in the seed files const siteToUpdate = await SiteService.getSiteByName("Portal"); const updateNameResult = await SiteService.changeName(siteToUpdate, "newName"); expect(updateNameResult).to.be(true); }); it("When querying by site name, get the right site", async () =&gt; { //I know that site name "portal" exists - I saw it in the seed files const siteToCheck = await SiteService.getSiteByName("Portal"); expect(siteToCheck.name).to.be.equal("Portal"); //Failure! The previous test change the name :[ });</span></span></code> </pre><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确的做法。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以停留在测试中，每个测试仅适用于自己的数据。</font></font><br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"When updating site name, get successful confirmation"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//test is adding a fresh new records and acting on the records only const siteUnderTest = await SiteService.addSite({ name: "siteForUpdateTest" }); const updateNameResult = await SiteService.changeName(siteUnderTest, "newName"); expect(updateNameResult).to.be(true); });</span></span></code> </pre><br></div></div><br><h2> 1.10   ,    </h2><br> <b> .</b>  ,  -     ,     try-catch-finally  ,      .        ( ),        . <br><br>        Chai: <code>expect(method).to.throw</code> (  Jest: <code>expect(method).toThrow()</code> ).      ,    ,    . ,     ,        . <br><br> <b>  .</b>     (, CI-)   ,    . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>   ,     try-catch   . <br><br><pre> <code class="javascript hljs">/it(<span class="hljs-string"><span class="hljs-string">"When no product name, it throws error 400"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span>() =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> errorWeExceptFor = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> addNewProduct({<span class="hljs-attr"><span class="hljs-attr">name</span></span>:<span class="hljs-string"><span class="hljs-string">'nest'</span></span>});} <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { expect(error.code).to.equal(<span class="hljs-string"><span class="hljs-string">'InvalidInput'</span></span>); errorWeExceptFor = error; } expect(errorWeExceptFor).not.to.be.null; <span class="hljs-comment"><span class="hljs-comment">//if this assertion fails, the tests results/reports will only show //that some value is null, there won't be a word about a missing Exception });</span></span></code> </pre><br> <b>  .</b>     ,   , ,   QA    . <br><br><pre> <code class="javascript hljs">it.only(<span class="hljs-string"><span class="hljs-string">"When no product name, it throws error 400"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span>() =&gt; { expect(addNewProduct)).to.eventually.throw(AppError).with.property(<span class="hljs-string"><span class="hljs-string">'code'</span></span>, <span class="hljs-string"><span class="hljs-string">"InvalidInput"</span></span>); });</code> </pre><br></div></div><br><h2> 1.11    </h2><br> <b> .</b>       : <br><br><ul><li>  smoke-, <br></li><li> IO-less, <br></li><li> ,   ,      , <br></li><li>   ,       pull request',   . <br></li></ul><br>   ,     , , #cold #api #sanity.            . ,     Mocha     : <code>mocha — grep 'sanity'</code> . <br><br> <b>  .</b>   ,    ,   ,   ,  ,       ,      ,      . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>   '#cold-test'      (Cold=== ,     -    ,     ). <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//this test is fast (no DB) and we're tagging it correspondingly //now the user/CI can run it frequently describe('Order service', function() { describe('Add new order #cold-test #sanity', function() { it('Scenario - no currency was supplied. Expectation - Use the default currency #sanity', function() { //code logic here }); }); });</span></span></code> </pre> <br></div></div><br><h2> 1.12      </h2><br> <b> .</b>    ,    Node.js       .          ,    Node. <br><br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> TDD</a> .     ,   ,       ,      .         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">--</a> ,       - .   ,      ,      .       ,    .       ,  ,     ,    ,     (,   ..). <br><br> <b>  .</b>   ,    . <br><br><a name="3"></a><h1>  2:   </h1><br><h2> ️2.1    :        </h2><br> <b> .</b>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>  10 ,                 .         .   ,      10  (, ,   ),   ,   ,      <i></i>  ?         ? <br><br>    :  2019-  , TDD        , , ,      . ,     ,    , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   </a> .  IoT-,         Kafka  RabbitMQ,     ,       -  .          ,  ,         ?      (, ,  ),      ,      - . <br><br>             (    )    ,        ,    («   API,    ,  !» (consumer-driven contracts)).     ,      : ,    ,  ,     . <br><br> :   TDD      - .    TDD ,     .  ,     . <br><br> <b>  .</b>       ROI,  Fuzz,   ,      10 . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> Cindy Sridharan        'Testing Microservices — the sane way' <br><br><img src="https://habrastorage.org/getpro/habr/post_images/375/7ab/6f0/3757ab6f02f3bad93c7235ad2ee0ad95.png"><br><br> 一个例子： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-2zP494wdUY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><h2> 2.2        </h2><br> <b> .</b>       ,     .        ,     .          ,   ,   ?   —   .        :      TDD-,     . <br><br>      «»,    API,   ,     (,   ,     in-memory ),      , ,   .     ,  ,      «   »,        . <br><br> <b>  .</b>         ,   ,       20 %. <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>     Express API   (     ). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/625/d5d/7c1/625d5d7c195e640bacb1b4f50d8a0cdc.png"><br></div></div><br><h2> 2.3 ,       API </h2><br> <b> .</b>     ,        (   ).    - ,  ! —    ,       , .  « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-22</a> »   :          ,       ,      .           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   (consumer-driven contracts)   PACT</a> :       , … ! PACT           — «»,          .   PACT-      —    .  ,   API           CI,       . <br><br> <b>  .</b>  —       . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/308/385/2ff/3083852ffe6faa62f826bc9c131027d7.png"><br></div></div><br><h2> 2.4     </h2><br> <b> .</b>     ,           Express-.   .   ,         ,        ,  JS- {req,res}.     ,      (,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Sinon</a> )    {req,res},  ,     .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://www.npmjs.com/package/node-mocks-">node-mock-http</a>       {req,res}    . ,   ,    HTTP-,  res- (.  ). <br><br> <b>  .</b>   Express- ===        . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>    ,         Express-. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//the middleware we want to test const unitUnderTest = require('./middleware') const httpMocks = require('node-mocks-http'); //Jest syntax, equivalent to describe() &amp; it() in Mocha test('A request without authentication header, should return http status 403', () =&gt; { const request = httpMocks.createRequest({ method: 'GET', url: '/user/42', headers: { authentication: '' } }); const response = httpMocks.createResponse(); unitUnderTest(request, response); expect(response.statusCode).toBe(403); });</span></span></code> </pre><br></div></div><br><h2> 2.5         </h2><br> <b> .</b>                   .    CI-   ,         .                  (,   ),     (,   ),          .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Sonarqube</a> (2600+ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> )  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Code Climate</a> (1500+ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ). :: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Keith Holliday</a> <br><br> <b>  .</b>            ,            . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>   CodeClimate,    : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c63/a0c/6d2/c63a0c6d207ab1fc67f540db7b2d6259.png"><br></div></div><br><h2> 2.6 ,      Node </h2><br> <b> .</b>   ,         .     (   )   . ,  - ,      ?      ?      ,  API    50 % ?      ,  Netflix   - ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Chaos Engineering</a> ).  :   ,              . ,     Netflix, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">chaos monkey</a> ,    ,  ,     ,     -   (   Kubernetes   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">kube-monkey</a> ,   ).         ,         . , ,   Node-     ,   ,    v8    1,7 ,    UX ,     ?   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">node-chaos</a> (-),        ,   Node. <br><br> <b>  .</b>      ,     production   . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> Node-chaos     ,   Node.js,          . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/39d/46d/fc1/39d46dfc17d7bc4a6d50735681bd1025.png"><br></div></div><br><h2> 2.7       ,        </h2><br> <b> .</b>    ( 0),              ,   ,        .       ,        (seeds) ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   « »</a> )   .       ,     (.  « »),     ,         .                .    ,           ,     (, ). <br><br> <b>  .</b>   ,  ,     ,   ?  , , ,         . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>       -        . <br><br><pre> <code class="javascript hljs">before(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//adding sites and admins data to our DB. Where is the data? outside. At some external json or migration framework await DB.AddSeedDataFromJson('seed.json'); }); it("When updating site name, get successful confirmation", async () =&gt; { //I know that site name "portal" exists - I saw it in the seed files const siteToUpdate = await SiteService.getSiteByName("Portal"); const updateNameResult = await SiteService.changeName(siteToUpdate, "newName"); expect(updateNameResult).to.be(true); }); it("When querying by site name, get the right site", async () =&gt; { //I know that site name "portal" exists - I saw it in the seed files const siteToCheck = await SiteService.getSiteByName("Portal"); expect(siteToCheck.name).to.be.equal("Portal"); //Failure! The previous test change the name :[ });</span></span></code> </pre><br> <b>  .</b>     ,       . <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">"When updating site name, get successful confirmation"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-comment"><span class="hljs-comment">//test is adding a fresh new records and acting on the records only const siteUnderTest = await SiteService.addSite({ name: "siteForUpdateTest" }); const updateNameResult = await SiteService.changeName(siteUnderTest, "newName"); expect(updateNameResult).to.be(true); });</span></span></code> </pre><br></div></div><br><a name="4"></a><h1>  3:   </h1><br><h2>  3.1。  UI   </h2><br> <b> .</b>      ,      ,   ,        .        ,         ,      (    HTML  CSS)    . ,                (, , , ),      ,         ,         . <br><br> <b>  .</b>          10 ,     500  (100  = 1 ) - -    . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>    . <br><br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'When users-list is flagged to show only VIP, should display only VIP members'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// Arrange const allUsers = [ { id: 1, name: 'Yoni Goldberg', vip: false }, { id: 2, name: 'John Doe', vip: true } ]; // Act const { getAllByTestId } = render(&lt;UsersList users={allUsers} showOnlyVIP={true}/&gt;); // Assert - Extract the data from the UI first const allRenderedUsers = getAllByTestId('user').map(uiElement =&gt; uiElement.textContent); const allRealVIPUsers = allUsers.filter((user) =&gt; user.vip).map((user) =&gt; user.name); expect(allRenderedUsers).toEqual(allRealVIPUsers); //compare data with data, no UI here });</span></span></code> </pre><br> <b><b> .</b>     UI  .</b> <br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'When flagging to show only VIP, should display only VIP members'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// Arrange const allUsers = [ {id: 1, name: 'Yoni Goldberg', vip: false }, {id: 2, name: 'John Doe', vip: true } ]; // Act const { getAllByTestId } = render(&lt;UsersList users={allUsers} showOnlyVIP={true}/&gt;); // Assert - Mix UI &amp; data in assertion expect(getAllByTestId('user')).toEqual('[&lt;li data-testid="user"&gt;John Doe&lt;/li&gt;]'); });</span></span></code> </pre><br></div></div><br><h2> 3.2  HTML-   ,     </h2><br> <b> .</b>  HTML-   ,     . ,  ,   CSS-.      ,      'test-id-submit-button'.              .   ,    ,           . <br><br> <b>  .</b>     ,    ,   .    — , ,  Ajax .   .    ,      CSS  'thick-border'  'thin-border' <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>     ,    . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// the markup code (part of React component) &lt;b&gt; &lt;Badge pill className="fixed_badge" variant="dark"&gt; &lt;span data-testid="errorsLabel"&gt;{value}&lt;/span&gt; &lt;!-- note the attribute data-testid --&gt; &lt;/Badge&gt; &lt;/b&gt; // this example is using react-testing-library test('Whenever no data is passed to metric, show 0 as default', () =&gt; { // Arrange const metricValue = undefined; // Act const { getByTestId } = render(&lt;dashboardMetric value={undefined}/&gt;); expect(getByTestId('errorsLabel')).text()).toBe("0"); });</span></span></code> </pre><br> <b> .</b>   CSS-. <br><br><pre> <code class="javascript hljs">&lt;!-- the markup code (part <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> React component) --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"metric"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"d-flex-column"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{value}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;!-- what <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> the designer changes the classs? --&gt; <span class="hljs-comment"><span class="hljs-comment">// this exammple is using enzyme test('Whenever no data is passed, error metric shows zero', () =&gt; { // ... expect(wrapper.find("[className='d-flex-column']").text()).toBe("0"); });</span></span></code> </pre><br></div></div><br><h2> 3.3           </h2><br> <b> .</b>   ,   ,     .   ,    ,      .   ,     —  -       ,       (.  <i>    « »</i> ).      (, )     ,     . <br><br>  ,  :        ,      .            (  )     .           ,       . <br><br> <b>  .</b>               ,           .         ? <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>        . <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calendar</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> defaultProps = {<span class="hljs-attr"><span class="hljs-attr">showFilters</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>} render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div&gt; A filters panel </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">with</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a button to hide</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/show filters &lt;FiltersPanel showFilter={showFilters} title='Choose Filters'/</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; ) } } /</span></span></span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/Examples use React &amp; Enzyme test('Realistic approach: When clicked to show filters, filters are displayed', () =&gt; { /</span></span></span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/ Arrange const wrapper = mount(&lt;Calendar showFilters={false} /</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;</span></span></span><span class="hljs-function">) // </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Act</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">wrapper</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">find</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'button'</span></span></span></span></span><span class="hljs-function">).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">simulate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'click'</span></span></span></span></span><span class="hljs-function">); // </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Assert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">expect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">wrapper.text(</span></span></span><span class="hljs-function">).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">includes</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'Choose Filter'</span></span></span></span></span><span class="hljs-function">)); // </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">This</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">is</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">how</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">the</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">will</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">approach</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">element</span></span></span><span class="hljs-function">: </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">by</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function"> })</span></span></code> </pre><br> <b> .</b>      . <br><br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'Shallow/mocked approach: When clicked to show filters, filters are displayed'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// Arrange const wrapper = shallow(&lt;Calendar showFilters={false} title='Choose Filter'/&gt;) // Act wrapper.find('filtersPanel').instance().showFilters(); // Tap into the internals, bypass the UI and invoke a method. White-box approach // Assert expect(wrapper.find('Filter').props()).toEqual({title: 'Choose Filter'}); // what if we change the prop name or don't pass anything relevant? })</span></span></code> </pre><br></div></div><br><h2> 3.4          .     </h2><br> <b> .</b>        (,    ).      (, <code>setTimeOut</code> )     ,   .       (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cypress cy.request('url')</a> ),     API,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> wait(expect(element))  @testing-library/DOM</a> .       ,    API,      ,    .      ,   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">hurry-up the clock</a> .  —  ,   ,          (      ).        ,       ,    - npm-   , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">wait-for-expect</a> . <br><br> <b>  .</b>   ,    .          ,      .           . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> E2E API       (Cypress). <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// using Cypress cy.get('#show-products').click()// navigate cy.wait('@products')// wait for route to appear // this line will get executed only when the route is ready</span></span></code> </pre><br> <b>  .  ,  DOM- (@testing-library/dom).</b> <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// @testing-library/dom test('movie title appears', async () =&gt; { // element is initially not present... // wait for appearance await wait(() =&gt; { expect(getByText('the lion king')).toBeInTheDocument() }) // wait for appearance and return the element const movie = await waitForElement(() =&gt; getByText('the lion king')) })</span></span></code> </pre><br> <b> .</b>    . <br><br><pre> <code class="javascript hljs">test(<span class="hljs-string"><span class="hljs-string">'movie title appears'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// element is initially not present... // custom wait logic (caution: simplistic, no timeout) const interval = setInterval(() =&gt; { const found = getByText('the lion king'); if(found){ clearInterval(interval); expect(getByText('the lion king')).toBeInTheDocument(); } }, 100); // wait for appearance and return the element const movie = await waitForElement(() =&gt; getByText('the lion king')) })</span></span></code> </pre><br></div></div><br><h2> 3.5.      </h2><br> <b> .</b>   -   ,        .    ,    ,      .      :    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pingdom</a> , AWS CloudWatch  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gcp StackDriver</a>    ,  ,          SLA.          ,     ,    (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">lighthouse</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pagespeed</a> ),   .    — ,      :     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   </a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">       (TTI)</a> .  ,      ,   ,     ,  ,   DOM, SSL   .      ,   CI,     247     CDN. <br><br> <b>  .</b>   ,  ,       ,       ,       -    CDN. <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>  Lighthouse   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/857/732/c2c/857732c2c3976c167757a9da12d81e05.png"><br></div></div><br><h2> 3.6         API  </h2><br> <b> .</b>     ( 2),    ,         ,      (  ).      API    (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Sinon</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Test doubles</a> ),    API.         .    API      ,           (         ).      API,     . ,     ,   API  .  ,    :     . <br><br> <b>  .</b>       ,   API   100 ,     20  . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>    API-. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// unit under test export default function ProductsList() { const [products, setProducts] = useState(false) const fetchProducts = async() =&gt; { const products = await axios.get('api/products') setProducts(products); } useEffect(() =&gt; { fetchProducts(); }, []); return products ? &lt;div&gt;{products}&lt;/div&gt; : &lt;div data-testid='no-products-message'&gt;No products&lt;/div&gt; } // test test('When no products exist, show the appropriate message', () =&gt; { // Arrange nock("api") .get(`/products`) .reply(404); // Act const {getByTestId} = render(&lt;ProductsList/&gt;); // Assert expect(getByTestId('no-products-message')).toBeTruthy(); });</span></span></code> </pre><br></div></div><br><h2> 3.7     ,    </h2><br> <b> .</b>  E2E (end-to-end,  )      UI   (.  3.6).       ,    ,  .     ,         ,    -     .  ,   —        (,        ),      .   -   ,      ,  UI-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cypress</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pupeteer</a> .           ,    :    50 ,    ,       .           10  .   ,         ,    , —    .     ,   . <br><br> <b>  .</b> UI        ,     ,      ( ,     UI)    . <br><br><h2> 3.8            </h2><br> <b> .</b>   ,       API   ,     ,           .          (before-all),    -        .   ,       :       .     ,      .  - API-         .      ,          .      (,    ),  ,      ,       .  ,    :      ,       API  (.  3.6). <br><br> <b>  .</b> ,   200  ,     100 ,         20    . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>      (before-all),       (before-each) (,   Cypress). <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   Cypress</a> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> authenticationToken; <span class="hljs-comment"><span class="hljs-comment">// happens before ALL tests run before(() =&gt; { cy.request('POST', 'http://localhost:3000/login', { username: Cypress.env('username'), password: Cypress.env('password'), }) .its('body') .then((responseFromLogin) =&gt; { authenticationToken = responseFromLogin.token; }) }) // happens before EACH test beforeEach(setUser =&gt; () { cy.visit('/home', { onBeforeLoad (win) { win.localStorage.setItem('token', JSON.stringify(authenticationToken)) }, }) })</span></span></code> </pre><br></div></div><br><h2> 3.9    smoke-,       </h2><br> <b> .</b>  production-          ,         ,    .    ,       ,       ,    ,     .   smoke-        .         production,  ,    ,       . , smoke-    ,      . <br><br> <b>  .</b>    ,   ,    production  .             /Payment. <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> Smoke-    . <br><br><pre> <code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'When doing smoke testing over all page, should load them all successfully'</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// exemplified using Cypress but can be implemented easily // using any E2E suite cy.visit('https://mysite.com/home'); cy.contains('Home'); cy.contains('https://mysite.com/Login'); cy.contains('Login'); cy.contains('https://mysite.com/About'); cy.contains('About'); })</span></span></code> </pre><br></div></div><br><h2> 3.10        </h2><br> <b> .</b>    ,     .    «»   ,        , ,   ,          . ,        (   )   ,     ,  -,  ,      ,     .      « »,         . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   </a>   .       , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cucumber   JavaScript</a> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">StoryBook</a>   UI-    ,           (,      ,        ,  ..)  ,    .      ,           ,   . <br><br> <b>  .</b>     ,        . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b>        cucumber-js. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// this is how one can describe tests using cucumber: plain language that allows anyone to understand and collaborate Feature: Twitter new tweet I want to tweet something in Twitter @focus Scenario: Tweeting from the home page Given I open Twitter home Given I click on "New tweet" button Given I type "Hello followers!" in the textbox Given I click on "Submit" button Then I see message "Tweet saved"</span></span></code> </pre><br> <b>  .</b>   Storybook  ,      . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/135/d4c/6c5/135d4c6c5dcf2758cfd90bc20dbad939.png"><br></div></div><br><h2> 3.11        </h2><br> <b> .</b>   ,                 .       ,     .    ,     .            ,     -    .         ,     .      , ,      ,       .   ,        -   .      UI        « ».     ,      (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">wraith</a> , PhantomCSS),        .   (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Applitools</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Perci.io</a> )          , ,     « » (, ),      DOM/CSS,    . <br><br> <b>  .</b>   ,    (   )   ,       ? <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>   :  ,   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b00/b82/ad7/b00b82ad77c637eb6e00742f38780216.png"><br><br> <b>  </b> .  wraith      UI. <br><br><pre> <code class="javascript hljs">​# Add <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> many domains <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> necessary. Key will act <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> a label​ domains: english: <span class="hljs-string"><span class="hljs-string">"http://www.mysite.com"</span></span>​ ​# Type screen widths below, here are a couple <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> examples​ screen_widths: - <span class="hljs-number"><span class="hljs-number">600</span></span>​ - <span class="hljs-number"><span class="hljs-number">768</span></span>​ - <span class="hljs-number"><span class="hljs-number">1024</span></span>​ - <span class="hljs-number"><span class="hljs-number">1280</span></span>​ ​# Type page URL paths below, here are a couple <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> examples​ paths: about: path: <span class="hljs-regexp"><span class="hljs-regexp">/about selector: '.about'​ subscribe: selector: '.subscribe'​ path: /</span></span>subscribe</code> </pre><br></div></div><br><a name="5"></a><h1>  4:    </h1><br><h2> 4.1    (~80 %),      </h2><br> <b> .</b>   —   ,   .    ,     .  —     (,    ),  .    ? ,  10-30 %      .  100 %  ,                .      . ,   :         Airbus,     ;     ,   50 %   .     ,       ,       80 % ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Fowler: «in the upper 80s or 90s»</a> ), ,  ,    . <br><br> :      (CI),     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Jest</a> )     ,    .       ,   .  ,       (      ) —           .  ,  —   ,      ,     .       ,    . <br><br> <b>  .</b>       .    ,     ,     .     . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>    .</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d94/db1/8bf/d94db18bf89f833800bf8234c40f095c.png"><br><br> <b>  </b> .       (  Jest). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b97/d73/d8b/b97d73d8b66e627b8fee40d9fa940d7f.png"><br></div></div><br><h2> 4.2    ,        </h2><br> <b> .</b>    ,       .   , , ,   ,     . ,   ,  -     ,   .     <code>PricingCalculator</code>    ,  ,     ,     10 000    …     ,     ,  .  ,      .   80-     ,    .   :             ,    ,  ,      .      ,    - . <br><br> <b>  .</b>    ,     ,    ,    . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>      ?   ,        QA       . :     , -   . ,   -    API  . </div></div><br><br><img src="https://habrastorage.org/getpro/habr/post_images/18e/7d7/2dc/18e7d72dcf5440fe964269002529b69c.png"><br><br><h2> 4.3        </h2><br> <b> .</b>     :       100 %,        . 怎么会这样      ,  ,   ,    .       .    -          :    ,    ,   ,       . <br><br>        ,    .        JavaScript- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Stryker</a> : <br><br><ol><li>      « ». ,  <code>newOrder.price===0</code>   <code>newOrder.price!=0</code> .  «»  . <br></li><li>    ,     ,    :      ,  .    ,   ,   . <br></li></ol><br>   ,     ,       ,     . <br><br> <b>  .</b>   ,  85-     85 %   . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>  100 %,  0 %. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addNewOrder</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">newOrder</span></span></span><span class="hljs-function">) </span></span>{ logger.log(<span class="hljs-string"><span class="hljs-string">`Adding new order </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${newOrder}</span></span></span><span class="hljs-string">`</span></span>); DB.save(newOrder); Mailer.sendMail(newOrder.assignee, <span class="hljs-string"><span class="hljs-string">`A new order was places </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${newOrder}</span></span></span><span class="hljs-string">`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">approved</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}; } it(<span class="hljs-string"><span class="hljs-string">"Test addNewOrder, don't use such test names"</span></span>, () =&gt; { addNewOrder({<span class="hljs-attr"><span class="hljs-attr">asignee</span></span>: <span class="hljs-string"><span class="hljs-string">"John@mailer.com"</span></span>,<span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">120</span></span>}); });<span class="hljs-comment"><span class="hljs-comment">//Triggers 100% code coverage, but it doesn't check anything</span></span></code> </pre><br> <b>  .</b> Stryker reports,   ,       (). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/880/047/5ed/8800475ed27d8c632aa2fb7a0372da68.png"><br></div></div><br><h2> 4.4      - </h2><br> <b> .</b>             ESLint.  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">eslint-plugin-mocha</a>  ,       (     <code>describe()</code> ),    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ,           .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">eslint-plugin-jest</a>  ,       (    ). <br><br> <b>  .</b>   90-     ,    ,   ,          . ,          . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>    ,  ,   . <br><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">"Too short description"</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> userToken = userService.getDefaultToken() <span class="hljs-comment"><span class="hljs-comment">// *error:no-setup-in-describe, use hooks (sparingly) instead it("Some description", () =&gt; {});//* error: valid-test-description. Must include the word "Should" + at least 5 words }); it.skip("Test name", () =&gt; {// *error:no-skipped-tests, error:error:no-global-tests. Put tests only under describe or suite expect("somevalue"); // error:no-assert }); it("Test name", () =&gt; {*//error:no-identical-title. Assign unique titles to tests });</span></span></code> </pre><br></div></div><br><a name="6"></a><h1>  5: CI     </h1><br><h2> 5.1      ,      </h2><br> <b> .</b>  —   .        ,           .  ,        (   !).     ,         .      ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ESLint standard</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Airbnb</a> ),     . , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">eslint-plugin-chai-expect</a>   ,    . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Eslint-plugin-promise</a>     (    ). <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Eslint-plugin-security</a>     ,     DOS-.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">eslint-plugin-you-dont-need-lodash-underscore</a>  ,      ,      V8, , <code>Lodash._map(…)</code> . <br><br> <b>  .</b>    ,      ,     . 这是怎么回事？      ,   ,     .      .          ,    ,      . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b> .</b>   ,        .  , ESLint   production-. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ec/386/b94/2ec386b943b21f0dee093e6c50e5ae75.png"><br></div></div><br><h1> 5.2            </h1><br> <b> .</b>   CI         , ,    ..?      ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> . 怎么了        : (1)  -&gt; (2)   -&gt; (3) .    ,          ,     . <br><br>             ,       ,   ,         ,   -   . <br><br>  CI- ( , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CircleCI local CLI</a> )     .   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">wallaby</a> ,      (  )    .    npm-  package.json,    ,     (, , , ).       (non-zero exit code)           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">concurrently</a> .             — , <code>npm run quality</code> .             githook ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">husky </a> ). <br><br> <b>  .</b>           ,           . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> Npm-,   ,  ,        . <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"inspect:sanity-testing"</span></span>: <span class="hljs-string"><span class="hljs-string">"mocha **/**--test.js --grep \"sanity\""</span></span>, <span class="hljs-string"><span class="hljs-string">"inspect:lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint ."</span></span>, <span class="hljs-string"><span class="hljs-string">"inspect:vulnerabilities"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm audit"</span></span>, <span class="hljs-string"><span class="hljs-string">"inspect:license"</span></span>: <span class="hljs-string"><span class="hljs-string">"license-checker --failOn GPLv2"</span></span>, <span class="hljs-string"><span class="hljs-string">"inspect:complexity"</span></span>: <span class="hljs-string"><span class="hljs-string">"plato ."</span></span>, <span class="hljs-string"><span class="hljs-string">"inspect:all"</span></span>: <span class="hljs-string"><span class="hljs-string">"concurrently -c \"bgBlue.bold,bgMagenta.bold,yellow\" \"npm:inspect:quick-testing\" \"npm:inspect:lint\" \"npm:inspect:vulnerabilities\" \"npm:inspect:license\""</span></span> }, <span class="hljs-string"><span class="hljs-string">"husky"</span></span>: { <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: { <span class="hljs-string"><span class="hljs-string">"precommit"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run inspect:all"</span></span>, <span class="hljs-string"><span class="hljs-string">"prepush"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run inspect:all"</span></span> } }</code> </pre><br></div></div><br><h2> 5.3     production- </h2><br> <b> .</b>   —     CI-.                .   — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Docker-compose</a>           .     (,  )     production-.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AWS Local</a>      AWS-.     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>  ,    serverless  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AWS SAM</a>    Faas-. <br><br>   Kubernetes           CI-,        . ,   « Kubernetes»     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Minikube</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MicroK8s</a> ,    ,     .       « Kubernetes»:   CI- (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Codefresh</a> )     Kubernetes-,     CI-   ;          . <br><br> <b>  .</b>                    . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b></b> : CI-,     Kubernetes- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">(Dynamic-environments Kubernetes</a> ) <br><br><pre> <code class="javascript hljs">deploy: stage: deploy image: registry.gitlab.com/gitlab-examples/kubernetes-deploy script: - ./configureCluster.sh $KUBE_CA_PEM_FILE $KUBE_URL $KUBE_TOKEN - kubectl create ns $NAMESPACE - kubectl create secret -n $NAMESPACE docker-registry gitlab-registry --docker-server=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY"</span></span> --docker-username=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY_USER"</span></span> --docker-password=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY_PASSWORD"</span></span> --docker-email=<span class="hljs-string"><span class="hljs-string">"$GITLAB_USER_EMAIL"</span></span> - mkdir .generated - echo <span class="hljs-string"><span class="hljs-string">"$CI_BUILD_REF_NAME-$CI_BUILD_REF"</span></span> - sed -e <span class="hljs-string"><span class="hljs-string">"s/TAG/$CI_BUILD_REF_NAME-$CI_BUILD_REF/g"</span></span> templates/deals.yaml | tee <span class="hljs-string"><span class="hljs-string">".generated/deals.yaml"</span></span> - kubectl apply --namespace $NAMESPACE -f .generated/deals.yaml - kubectl apply --namespace $NAMESPACE -f templates/my-sock-shop.yaml environment: name: test-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>-ci</code> </pre><br></div></div><br><h2> 5.4    </h2><br> <b> .</b>    ,      ,     .  ,     500  ,   ,     .  ,      CI- ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Jest</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AVA</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Mocha</a> )      ,     .  CI-      (!),       .  ,          CLI   ,    ,        . <br><br> <b>  .</b>      —         ,       . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> Mocha parallel  Jest    Mocha    ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript Test-Runners Benchmark</a> ) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d87/ff4/d2e/d87ff4d2e1664df527d8a69d4403e8e9.png"><br></div></div><br><h2> 5.5             </h2><br> <b> .</b> ,           .         10 ?       CI-  npm-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">license check</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">plagiarism check</a> (   ),        ,    ,   Stackoveflow     . <br><br> <b>  .</b>  ,       ,     . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>  .</b> <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//install license-checker in your CI environment or also locally npm install -g license-checker //ask it to scan all licenses and fail with exit code other than 0 if it found unauthorized license. The CI system should catch this failure and stop the build license-checker --summary --failOn BSD</span></span></code> </pre><br><img src="https://habrastorage.org/getpro/habr/post_images/09b/b9b/2ad/09bb9b2ad230b17b0006bd137f480606.png"><br></div></div><br><h2> 5.6        </h2><br> <b> .</b>    ,  Express,   .           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npm audit</a> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">snyk</a> (     ).       CI   . <br><br> <b>  .</b>              .   . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>:</b>   NPM Audit <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a89/b1a/ed3/a89b1aed3ab2301c3f4d077e0a259c60.png"><br></div></div><br><h2> 5.7    </h2><br> <b> .</b>  package-lock.json  Yarn  npm    (     ):       .           <code>npm install</code>  <code>npm update</code> ,     .         ,    —   .         ,    package.json     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ncu</a> . <br><br>       ,    .   : <br><br><ul><li> CI   ,   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npm outdated</a>  npm-check-updates (ncu).     . <br></li><li>    ,      pull request'   . <br></li></ul><br>    :      ?       ,          (          ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  eslint-scope</a> ).       « »:        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">latest</a> ,    ,     (,   1.3.1,     — 1.3.8). <br><br> <b>  .</b>     ,     . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b></b> :  ,       ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ncu</a>     CI-. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c09/9c2/640/c099c264012f534b4bf8dc8ef83d2f4b.png"><br></div></div><br><h2> 5.8  CI-,    Node </h2><br> <b> .</b>      ,   Node     .         ,    Node. <br><br><ol><li>   .      ,    Jenkins     . <br></li><li>      Docker. <br></li><li>     ,  .     .   smoke-,       (, ,  )       . <br></li><li>  ,       ,    ,   ,   ,    . <br></li><li>        ,      . ,            -.           -  (       ). <br></li><li>        .        . <br></li><li>      ,    ,    . <br></li><li>            (, Docker-). <br></li><li>    ,      .      <code>node_modules</code> . <br></li></ol><br> <b>  .</b>    ,   . <br><br><h2> 5.9  :      CI-,    Node </h2><br> <b> .</b>    ,     ,     .                Node,   CI        . ,      MySQL,    Postgres.  CI-     «»,        MySQl, Postgres    Node.      ,  -   (,        ).   CI,    ,      . <br><br> <b>  .</b>              -   ? <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <b>:</b>   Travis ( CI)             Node. <br><br><pre> <code class="javascript hljs">language: node_js node_js: - <span class="hljs-string"><span class="hljs-string">"7"</span></span> - <span class="hljs-string"><span class="hljs-string">"6"</span></span> - <span class="hljs-string"><span class="hljs-string">"5"</span></span> - <span class="hljs-string"><span class="hljs-string">"4"</span></span> install: - npm install script: - npm run test</code> </pre> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN466879/">https://habr.com/ru/post/zh-CN466879/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN466863/index.html">设置渐近线</a></li>
<li><a href="../zh-CN466865/index.html">等待11月1日：禁止或使加密货币合法化</a></li>
<li><a href="../zh-CN466873/index.html">JavaScript最不了解的5件事</a></li>
<li><a href="../zh-CN466875/index.html">Visual C ++中Unicode字符的printf函数格式说明符的不幸命运</a></li>
<li><a href="../zh-CN466877/index.html">恶意物资已经更新，并且正在通过Exim的漏洞传播（CVE-2019-10149）</a></li>
<li><a href="../zh-CN466881/index.html">伊万·沙马托夫（Ivan Shamatov）：如何写钱</a></li>
<li><a href="../zh-CN466887/index.html">只是除法，或如何创建数学理论并从中获利40万美​​元</a></li>
<li><a href="../zh-CN466889/index.html">2019年8月的波罗的海域名区域状态</a></li>
<li><a href="../zh-CN466899/index.html">为什么现在放弃所有内容并学习Swift和Kotlin</a></li>
<li><a href="../zh-CN466903/index.html">总是展示你的作品</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>