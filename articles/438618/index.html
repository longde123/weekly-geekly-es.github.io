<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí§ üí¢ ‚úâÔ∏è Hacer un proyector l√°ser de texto DIY üë©üèª‚Äçüç≥ ü§∏üèæ üë®üèΩ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Averig√ºemos c√≥mo hacer un proyector l√°ser lo suficientemente simple con componentes electr√≥nicos que pueda encontrar en casa. 



 Introduccion 
 Hay ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hacer un proyector l√°ser de texto DIY</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438618/">  Averig√ºemos c√≥mo hacer un proyector l√°ser lo suficientemente simple con componentes electr√≥nicos que pueda encontrar en casa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dn/9d/2r/dn9d2r-uteclj5p-smec6__dd2s.jpeg"></div><a name="habracut"></a><br><br><h3>  Introduccion </h3><br>  Hay dos formas de crear una imagen con un l√°ser: escaneo vectorial y escaneo de trama. <br><br>  Durante el escaneo vectorial, el l√°ser se mueve a lo largo de los contornos de la imagen, solo se apaga mientras se mueve de un contorno a otro.  Eso significa que el l√°ser est√° encendido la mayor parte del tiempo, lo que genera una imagen resultante bastante brillante. <br><br>  Ese m√©todo se usa con mayor frecuencia en proyectores l√°ser industriales a gran escala, pero requiere el uso de un dispositivo electromec√°nico bastante complejo, el galvan√≥metro, para mover el l√°ser r√°pidamente.  Los precios comienzan desde $ 80 por par y es muy poco pr√°ctico ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aunque posible</a> ) hacer en casa. <br><br>  El segundo m√©todo es el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escaneo de trama</a> .  All√≠, el rayo l√°ser se mueve de lado a lado, dibujando la imagen l√≠nea por l√≠nea.  Ese es el m√©todo utilizado en los viejos televisores y monitores CRT. <br><br>  Dado que los movimientos verticales y horizontales se realizan repetidamente, se requiere una configuraci√≥n mec√°nica mucho m√°s simple que el escaneo vectorial.  Adem√°s, dado que la imagen se divide en elementos separados, es mucho m√°s f√°cil de programar. <br><br>  El principal inconveniente del escaneo de trama es que el haz pasa sobre cada elemento de la imagen, incluso aquellos que no necesitan ser iluminados, lo que hace que la imagen sea m√°s tenue.  Pero, debido a la simplicidad, ese es el m√©todo que eleg√≠ para mi proyector l√°ser. <br><br>  Para mover el rayo l√°ser a lo largo de una l√≠nea (horizontalmente), hay una t√©cnica muy conveniente: utilizar un espejo que gira a una velocidad constante.  Como la rotaci√≥n es continua, puede mover la viga bastante r√°pido.  Pero mover el rayo a otra l√≠nea es m√°s dif√≠cil. <br><br>  La opci√≥n m√°s f√°cil es usar m√∫ltiples l√°seres apuntando al espejo giratorio.  La desventaja es que el n√∫mero de l√≠neas mostradas estar√≠a determinado por el n√∫mero de l√°seres utilizados, lo que hace que la configuraci√≥n sea m√°s complicada, adem√°s de que necesitar√≠a un espejo bastante alto.  Pero tambi√©n hay ventajas: la √∫nica parte m√≥vil de todo el sistema es el espejo (menos elementos para romper), y el uso de m√∫ltiples l√°seres puede hacer que la imagen sea m√°s brillante.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un ejemplo</a> de un proyector construido de esa manera. <br><br>  Otro m√©todo de escaneo, que a menudo se encuentra en Internet, es combinar escaneos verticales y horizontales mediante el uso de un tambor de espejo giratorio, donde se colocan "facetas" separadas en diferentes √°ngulos con respecto al eje de rotaci√≥n.  Esa configuraci√≥n de espejo hace que el rayo l√°ser se refleje en diferentes √°ngulos verticales cuando el espejo gira, creando un escaneo vertical. <br><br>  Aunque el proyector resultante es bastante simple en esencia (solo necesita un l√°ser, un espejo con un motor y un sensor de sincronizaci√≥n), este m√©todo tiene un gran inconveniente: es muy dif√≠cil construir un espejo multifac√©tico en casa.  Por lo general, la inclinaci√≥n de las "facetas" debe ajustarse perfectamente durante la construcci√≥n, y el nivel de precisi√≥n requerido es incre√≠blemente alto. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un ejemplo de tal proyector.</a> <br><br>  Para hacerlo m√°s f√°cil, utilic√© otro m√©todo de escaneo: un espejo que gira constantemente para formar el escaneo horizontal y un espejo que oscila peri√≥dicamente para el escaneo vertical. <br><br><h3>  Realizaci√≥n </h3><br><h4>  Escaneo horizontal </h4><br>  ¬øD√≥nde puedes encontrar un espejo de rotaci√≥n r√°pida?  ¬°En una vieja impresora l√°ser, por supuesto!  Las impresoras l√°ser utilizan un espejo poligonal, colocado encima de un motor sin escobillas para escanear el rayo l√°ser a lo largo del papel.  El motor generalmente se encuentra en la parte superior de la PCB que lo controla. <br><br>  Ya ten√≠a un m√≥dulo espejo de una impresora vieja: <br><br><img src="https://habrastorage.org/webt/es/nv/ya/esnvyasomgnjsv_djsdcjcmomya.jpeg"><br><br>  No pude encontrar documentaci√≥n para el m√≥dulo o el chip dentro de √©l, as√≠ que para determinar el dise√±o del pin del m√≥dulo tuve que realizar ingenier√≠a inversa.  Las l√≠neas de alimentaci√≥n son f√°ciles de ubicar: est√°n conectadas al √∫nico condensador electrol√≠tico en la PCB.  Pero simplemente obtener energ√≠a para el motor no es suficiente para hacerlo girar; tambi√©n debe proporcionar una se√±al de sincronizaci√≥n para establecer la velocidad de rotaci√≥n.  La se√±al es un simple meandro de la frecuencia de 20 a 500-1000 Hz. <br><br>  Para encontrar la l√≠nea correcta, tom√© un generador de impulsos configurado para 100 Hz, y lo conect√© (a trav√©s de una resistencia) a cada l√≠nea disponible del puerto del m√≥dulo l√°ser.  Una vez que la se√±al se suministra a la l√≠nea correcta, el motor comienza a girar.  El espejo gira bastante r√°pido para nuestros prop√≥sitos: como se midi√≥ m√°s tarde, gira a una velocidad superior a 250 RPS.  Pero desafortunadamente, la rotaci√≥n del motor lo hizo bastante ruidoso.  No es un problema para mis experimentos, pero sin duda ser√≠a notable cuando el proyector est√© completo y funcionando.  Tal vez podr√≠a mitigarse utilizando un m√≥dulo espejo m√°s nuevo o simplemente colocando el m√≥dulo en una caja. <br><br><h4>  Laser </h4><br>  Para las pruebas preliminares utilic√© un l√°ser de un puntero l√°ser barato.  El m√≥dulo debe configurarse de modo que tenga m√∫ltiples grados de libertad para apuntar correctamente el l√°ser al espejo. <br><br><img src="https://habrastorage.org/webt/jj/om/rm/jjomrmbcmdanknftfsoy4en335q.jpeg"><br><br>  Como utilizamos el escaneo de trama, la luz l√°ser se distribuye a lo largo de toda el √°rea de la imagen, lo que hace que la imagen sea bastante tenue, solo es visible en la oscuridad. <br><br>  Entonces, mucho m√°s tarde, despu√©s de dibujar con √©xito una imagen, reemplac√© el m√≥dulo l√°ser por uno m√°s potente: el diodo l√°ser de un reproductor de DVD. <br><blockquote>  <b>Advertencia: ¬°los l√°seres de DVD son muy peligrosos y pueden cegarlo!</b>  <b>¬°Mientras trabaja con el l√°ser, use gafas protectoras en todo momento!</b> </blockquote><br>  Tanto el l√°ser como los m√≥dulos de espejo poligonal se colocaron encima de una peque√±a tabla de madera.  Despu√©s de suministrar la se√±al de reloj al motor y la potencia al l√°ser, debe apuntar el l√°ser de tal manera que el rayo golpee los bordes del espejo.  Como resultado, mientras el espejo gira, obtienes una larga l√≠nea horizontal. <br><br><h4>  Fotosensor de sincronizaci√≥n </h4><br>  Para permitir que el microcontrolador rastree la posici√≥n de un rayo l√°ser en movimiento, necesitamos un fotosensor.  Pero para ese prop√≥sito utilic√© un fotodiodo obstruido con un trozo de cart√≥n con un peque√±o agujero en el medio.  Es necesario para rastrear el momento en que el rayo golpea el fotodiodo con mayor precisi√≥n. <br><br>  Aqu√≠ est√° el sistema de montaje para el fotodiodo (sin el cart√≥n): <br><br><img src="https://habrastorage.org/webt/0e/sc/ps/0escpsgv8qc_g7m_3gx_jfhtvkq.jpeg"><br><br>  Durante el funcionamiento normal, el rayo l√°ser reflejado debe golpear primero el fotodiodo, y solo entonces, el espejo de exploraci√≥n vertical. <br><br>  Despu√©s de instalar el sensor, lo prob√© suministrando voltaje a trav√©s de la resistencia y observando la se√±al con un osciloscopio; su amplitud fue suficiente para conectar el sensor directamente a la entrada GPIO del microcontrolador. <br><br><h4>  Escaneo vertical </h4><br>  Como mencion√© anteriormente, utilic√© un espejo oscilante peri√≥dicamente para formar el escaneo vertical.  ¬øC√≥mo lo manejas?  La forma m√°s f√°cil es usar un electroim√°n.  A veces las personas simplemente montan los espejos en la parte superior de los altavoces de la computadora, pero no es una opci√≥n particularmente deseable (los resultados son inconsistentes, demasiado dif√≠ciles de calibrar). <br><br>  En mi construcci√≥n utilic√© el motor BLDC de un reproductor de DVD para controlar el espejo de exploraci√≥n vertical.  Dado que el proyector estaba destinado a generar texto, no hab√≠a muchas l√≠neas para dibujar, lo que significaba que el espejo solo deb√≠a estar ligeramente inclinado. <br><br>  El motor BLDC consta de tres bobinas, que juntas forman un estator.  Si una de las bobinas est√° conectada a una fuente de energ√≠a con carga positiva, y las otras dos est√°n conectadas alternativamente a la fuente con carga negativa, el rotor del motor se tambalear√°.  El barrido angular m√°ximo est√° determinado por la configuraci√≥n del motor, espec√≠ficamente, el n√∫mero de polos.  Para un motor de DVD no supera los 30 grados.  Dado que este motor es bastante potente y f√°cil de controlar (solo se requieren dos teclas), este motor encaja muy bien para nuestro prop√≥sito de construir un proyector l√°ser de texto. <br><br>  As√≠ es como se ve el motor con un espejo conectado: <br><br><img src="https://habrastorage.org/webt/ta/2n/lz/ta2nlzcapdqar6yt07zn1uapxaa.jpeg"><br><br>  Tenga en cuenta que la superficie reflectante del espejo debe estar en la parte delantera, lo que significa que no est√° obstruida por el vidrio. <br><br><h4>  Resumen </h4><br>  As√≠ es como se ve el proyector montado: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/34d/b49/db4/34db49db473c79f3ff220c47b06e1f26.jpg"></a> <br><br>  El m√≥dulo de proyecci√≥n de cerca: <br><br><img src="https://habrastorage.org/webt/9f/s6/st/9fs6stcfnkj-y1-btlsreresfry.jpeg"><br><br>  El espejo poligonal se mueve en sentido horario, por lo que el rayo l√°ser se mueve de izquierda a derecha. <br><br>  El potente diodo l√°ser de DVD ya est√° instalado (dentro del colimador).  El espejo de exploraci√≥n vertical est√° configurado de tal manera que la imagen proyectada apunta hacia arriba, en mi caso, al techo de mi habitaci√≥n. <br><br>  Como puede ver en la imagen, el microcontrolador STM32F103 instalado en una peque√±a placa de depuraci√≥n (Blue Pill) controla el l√°ser y las partes mec√°nicas del proyector.  Esta placa est√° instalada en la placa de pruebas. <br><br>  Esquema del dispositivo: <br><br><img src="https://habrastorage.org/webt/zm/8c/ou/zm8coube490avwqo6rwe1f28r8c.png"><br><br>  Como mencion√© anteriormente, para controlar el motor de espejo poligonal solo necesitamos una se√±al: la se√±al de sincronizaci√≥n (POLY_CLOCK) producida por uno de los temporizadores de STM32 que funcionan en modo PWM.  Su frecuencia y relaci√≥n de trabajo no cambian mientras el proyector est√° funcionando.  Para alimentar el motor, uso una fuente de alimentaci√≥n de 12V separada. <br><br>  Las dos se√±ales PWM para controlar el espejo de exploraci√≥n vertical son generadas por otro temporizador del microcontrolador.  Estas se√±ales pasan por un chip ULN2003A que controla el motor del DVD.  Entonces, al establecer diferentes relaciones de trabajo para los canales PWM de esos tiempos, podemos cambiar el √°ngulo de giro del motor. <br><br>  Desafortunadamente, la versi√≥n actual del proyector no proporciona comentarios sobre la ubicaci√≥n del espejo.  Significa que el microcontrolador puede conducir los espejos, pero no "sabe" su posici√≥n actual.  La inercia del rotor y la inductancia de las bobinas producen algunos retrasos al cambiar la direcci√≥n de rotaci√≥n. <br><br>  Gracias a todo esto, hay dos consecuencias principales: <br><br><ul><li>  La densidad de l√≠nea no es constante, porque la velocidad de rotaci√≥n del espejo no se puede controlar; </li><li>  Muchas l√≠neas no est√°n operativas.  El espejo de exploraci√≥n vertical oscila en ciclos, por lo que algunas de las l√≠neas podr√≠an salir hacia abajo y la otra hacia abajo.  Como resultado, dado que no podemos rastrear la posici√≥n, las l√≠neas solo se pueden mostrar mientras el motor gira de una manera particular.  Como solo se muestra la mitad de las l√≠neas, el brillo de la imagen se reduce a la mitad. </li></ul><br>  Sin embargo, la falta de comentarios hace que el dispositivo sea bastante f√°cil de construir. <br><br>  El proceso de formaci√≥n de la imagen tambi√©n es bastante simple: <br><br><ul><li>  Cada vez que el rayo l√°ser golpea el fotodiodo, el microcontrolador genera una interrupci√≥n.  En esta interrupci√≥n, la MCU calcula la velocidad de exploraci√≥n horizontal actual.  Despu√©s de eso, el temporizador de sincronizaci√≥n especial se reinicia. </li><li>  Este temporizador de sincronizaci√≥n genera sus propias interrupciones en momentos particulares durante la exploraci√≥n horizontal. <br></li><li>  En particular, alg√∫n tiempo despu√©s de la sincronizaci√≥n, se debe formar la se√±al de control del l√°ser.  Mi dispositivo lo forma con un combo DMA + SPI.  Esencialmente, estos m√≥dulos transmiten una l√≠nea de la imagen en la salida MOSI SPI en el momento correcto, un bit a la vez. </li><li>  Una vez finalizada la salida de la imagen, el l√°ser debe volver a encenderse para que el fotodiodo pueda volver a aceptar su haz. </li></ul><br>  La modulaci√≥n l√°ser se realiza a trav√©s de una de las claves del chip ULN2003A.  La resistencia R3 es necesaria para proteger el diodo l√°ser de sobrecorriente.  Est√° instalado justo al final del cable l√°ser, aislado.  Para alimentar el l√°ser, utilic√© una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fuente de alimentaci√≥n</a> externa.  Es importante controlar el consumo de corriente del l√°ser y asegurarse de que est√© dentro del rango aceptable para el diodo l√°ser en particular. <br><br>  Ejemplo de una imagen (8 l√≠neas de alto): <br><br><img src="https://habrastorage.org/webt/zt/hz/as/zthzas6tt6dssqi7vibtj513ngq.jpeg"><br><br>  El texto est√° algo desproporcionado porque el proyector apunta a una pared en √°ngulo.  Actualmente, cada ciclo de exploraci√≥n vertical tiene una longitud de 32 pasos (1 paso significa girar el espejo poligonal en 1 borde). <br><br>  El proyector puede mostrar 14 l√≠neas distintas: todo despu√©s de eso comienza a mezclarse con otras l√≠neas, corrompiendo la imagen. <br><br>  La foto al principio tambi√©n usa una fuente de 8 l√≠neas, lo que hace posible mostrar incluso dos l√≠neas de texto algo bien. <br><br>  Las fuentes 11x7 y 6x4 tambi√©n son compatibles con el c√≥digo: <br><br><img src="https://habrastorage.org/webt/h4/jm/ho/h4jmhojg2t2x-620ho09efs09qo.jpeg"><br><br>  Ejemplo de "texto en ejecuci√≥n": <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/7rWy6-go_y8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  El video hace que la imagen parpadee verticalmente, pero en realidad no es visible. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Proyecto en GitHub.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438618/">https://habr.com/ru/post/438618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438602/index.html">Desmontamos el protocolo de mensajes de buscapersonas POCSAG, parte 1</a></li>
<li><a href="../438604/index.html">Bitrix en un mont√≥n de Nginx + PHP-FPM, configurando el CNC, as√≠ como un cach√© compuesto con comentarios a trav√©s de nginx. Configuraci√≥n modificada</a></li>
<li><a href="../438606/index.html">Agradable degradaci√≥n. Informe Yandex.Taxi</a></li>
<li><a href="../438610/index.html">Plantillas Responsive Figma: creaci√≥n de un componente de dise√±o flexible para iOS Mobile Navigation</a></li>
<li><a href="../438614/index.html">¬øQu√© es una animaci√≥n inactiva de calidad? Los desarrolladores comparten sus ejemplos favoritos.</a></li>
<li><a href="../438620/index.html">Mi camino como desarrollador de juegos novatos</a></li>
<li><a href="../438622/index.html">Bonsai: motor wiki familiar</a></li>
<li><a href="../438624/index.html">Programamos el cambio a trav√©s del pasaje. MicroPython en esp8266 (sonoff) con OTA. Parte 1</a></li>
<li><a href="../438626/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 284 (28 de enero - 3 de febrero)</a></li>
<li><a href="../438628/index.html">Notificaci√≥n de estado de cambio de componente de estado compartido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>