<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüè´ üôÜüèø ü§≠ Clasificaci√≥n "topol√≥gica" de un gr√°fico con ciclos üîü üè∞ üë©üèæ‚Äçü§ù‚Äçüë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El t√≠tulo completo del art√≠culo deber√≠a haber sido la clasificaci√≥n "topol√≥gica" sostenible de un gr√°fico con ciclos en O(|V| + |e| log |e|) en el tie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Clasificaci√≥n "topol√≥gica" de un gr√°fico con ciclos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451208/"> El t√≠tulo completo del art√≠culo deber√≠a haber sido la clasificaci√≥n "topol√≥gica" sostenible de un gr√°fico con ciclos en <code>O(|V| + |e| log |e|)</code> en el tiempo y <code>O(|V|)</code> en la memoria sin recurrencia ", pero me dijeron ¬øQu√© es exagerar? <br><a name="habracut"></a><br>  Descargo de responsabilidad: soy un programador, no un matem√°tico, por lo que el lenguaje inexacto es posible en lugares, por lo que puedes y debes patear. <br><br><h3>  Esencia de la tarea. </h3><br>  Analizar√© la redacci√≥n del problema, cuya soluci√≥n quiero compartir, en partes. <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La ordenaci√≥n topol√≥gica</a></b> es el orden de los v√©rtices de un gr√°fico ac√≠clico dirigido en el que cada uno de los v√©rtices del que sale el borde llega antes que el v√©rtice en el que entra este borde.  Aqu√≠ hay dos matices importantes: un gr√°fico puede tener <em>m√°s de uno de</em> esos ordenamientos y solo es aplicable a los gr√°ficos <em>ac√≠clicos</em> .  A los matem√°ticos no les importa, pero los programadores a veces quieren determinismo y un poco m√°s que "lo siento, tienes un ciclo aqu√≠, no tendr√°s ninguna clasificaci√≥n". <br><br>  Por lo tanto, agregamos el requisito de <b>estabilidad</b> : un par de v√©rtices, cuyo orden no est√° dado por los bordes del gr√°fico, debe determinarse por el orden en que estos v√©rtices llegaron a la entrada del algoritmo.  Como resultado, las ordenaciones repetidas no cambiar√°n el orden de los v√©rtices. <br><br>  Con la falta de <b>recursividad,</b> todo es simple, la computadora es significativamente m√°s d√©bil que la m√°quina de Turing y la memoria (y especialmente la pila) se ha limitado.  Por lo tanto, en la programaci√≥n aplicada, generalmente los algoritmos iterativos son preferibles a los recursivos. <br><br>  Y finalmente, definir√© lo que llamo clasificaci√≥n "topol√≥gica" si hay <b>ciclos</b> en el gr√°fico.  Este es el orden de los v√©rtices, que coincide con la verdadera clasificaci√≥n topol√≥gica, si cada uno de los ciclos se reemplaza por un v√©rtice, y los v√©rtices del ciclo en s√≠, de acuerdo con el requisito de estabilidad, se ubican entre s√≠ en el orden original. <br><br>  Y ahora <s>con toda esta basura intentaremos despegar.</s> Lo har√© todo dentro del marco de tiempo y restricciones de memoria indicadas al comienzo de la publicaci√≥n. <br><br><h3>  Busca una soluci√≥n </h3><br>  Si observa los algoritmos existentes para la clasificaci√≥n topol√≥gica ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmo de Kahn</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">b√∫squeda profunda</a> ), resulta que todos ellos, si hay un ciclo, dicen "No puedo" y dejan de funcionar. <br><br>  Por lo tanto, vamos por otro lado, con algoritmos que pueden hacer algo inteligible con los ciclos.  Por ejemplo, <em>encu√©ntralos</em> .  Entre los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmos</a> enumerados en Wikipedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">para encontrar ciclos en gr√°ficos</a> , se llam√≥ la atenci√≥n sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el algoritmo Taryan</a> .  Contiene una observaci√≥n interesante de que, como subproducto, el algoritmo produce la clasificaci√≥n topol√≥gica <em>inversa</em> del gr√°fico: <br><blockquote>  Si bien no hay nada especial en el orden de los nodos dentro de cada componente fuertemente conectado, una propiedad √∫til del algoritmo es que no se identificar√° ning√∫n componente fuertemente conectado antes que ninguno de sus sucesores.  Por lo tanto, <em>el orden en el que se identifican los componentes fuertemente conectados constituye un tipo topol√≥gico inverso del DAG formado por los componentes fuertemente conectados</em> . </blockquote>  Es cierto que el algoritmo es recursivo y no est√° claro qu√© tiene con la estabilidad, pero esto es claramente un movimiento en la direcci√≥n correcta.  Una lectura m√°s cercana de Wikipedia revela una referencia al art√≠culo <a href="">Un algoritmo de espacio eficiente para encontrar componentes fuertemente conectados</a> , escrito por el compa√±ero David Pearce, en el que no solo existe un algoritmo imperativo, sino que tambi√©n ha reducido los requisitos de memoria en comparaci√≥n con el cl√°sico El algoritmo de Tarjan.  La ventaja es la <a href="">implementaci√≥n del algoritmo en Java</a> .  Debe tomar! <br><br><div class="spoiler">  <b class="spoiler_title">Algoritmo PEA_FIND_SCC3 (V, E) del art√≠culo de Pierce</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wq/44/il/wq44iloqbs-c5f4qxqabj710a2c.png"><br></div></div><br>  Entonces, tenemos una lista de v√©rtices en la entrada y (gracias a Pierce) un cierto √≠ndice del componente de conectividad fuerte al que pertenece este v√©rtice en la salida.  El siguiente paso es ordenar de manera estable los v√©rtices de acuerdo con el n√∫mero de serie de su componente.  Hay un algoritmo para tal tarea, se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ordenaci√≥n de conteo</a> , que realiza esto en tiempo <code>O(n)</code> . <br><br>  En el proceso de reunir el algoritmo en un mont√≥n, result√≥ que el hecho de que sea natural darle la clasificaci√≥n topol√≥gica <em>opuesta</em> realmente est√° saliendo de Taryan; luego, las ramas vecinas del gr√°fico (que no tienen una relaci√≥n de orden entre ellas) numerar√°n hacia atr√°s, luego las piezas del gr√°fico no teniendo alguna conexi√≥n entre ellos, resulta estar en el orden inverso ... <br><br><h3>  La respuesta </h3><br>  Entonces la soluci√≥n final: <br><br><ol><li>  Numeramos los v√©rtices de la lista original. <code>O(|V|)</code> </li><li>  Ordenamos los bordes de cada v√©rtice de acuerdo con el n√∫mero del v√©rtice al que va el borde. <code>O(|e| log |e|)</code> </li><li>  Usando el algoritmo de Pierce, encontramos y numeramos los componentes de una conexi√≥n fuerte. <code>O(|V|)</code> </li><li>  Usando la clasificaci√≥n contando, clasificamos los v√©rtices en funci√≥n de los n√∫meros de los componentes fuertemente conectados que recibieron. <code>O(|V|)</code> </li></ol><br>  <a href="">C√≥digo GitHub, Java, dominio p√∫blico</a> .  Cabe se√±alar que para garantizar la estabilidad de la clasificaci√≥n, el algoritmo de Pierce se modifica ligeramente y evita los v√©rtices en el orden inverso. <br><br><h3>  ¬øPero por qu√©? </h3><br>  Y ahora el trasfondo, por qu√© se necesitaba todo esto.  Al cargar / descargar bibliotecas din√°micas (.so), glibc necesita decidir en qu√© orden inicializar las variables est√°ticas.  Las variables dependen unas de otras, dependen de diferentes funciones, etc.  En general, todo esto forma el gr√°fico mismo en el que hay ciclos y que deben ser ordenados. <br><br>  √ârase una vez, un c√≥digo bastante sub√≥ptimo que realizaba la tarea para <code>O(n^2)</code> estaba involucrado en esta tarea.  Y en general, esto realmente no molest√≥ a nadie, hasta que en 2012 se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descubri√≥</a> que el c√≥digo no funcionaba correctamente y en algunos casos estaba equivocado. <br><br>  Los hombres rudos de RedHat pensaron, pensaron y arruinaron algunos ciclos m√°s desde arriba.  Se repararon los casos problem√°ticos, pero el algoritmo comenz√≥ a funcionar para <code>O(n^3)</code> , y esto ya se hizo evidente y en algunas aplicaciones comenz√≥ a tomar varias decenas de segundos, lo que fue un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">error</a> en 2013.  Adem√°s, el autor del error descubri√≥ casos en los que el algoritmo con <code>O(n^3)</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tambi√©n</a> <code>O(n^3)</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">equivocado</a> .  Sugiri√≥ usar el algoritmo Taryan, aunque el parche con correcciones nunca se ha dise√±ado. <br><br>  Y pas√≥ el tiempo, glibc se desaceler√≥ sin piedad y en 2015 hubo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">otro intento de reparar el algoritmo</a> .  Desafortunadamente, sin √©xito, el algoritmo se eligi√≥ <code>O(n^2)</code> , adem√°s de confundir las ramas del gr√°fico, entre las cuales el orden no est√° definido. <br><br>  Hoy es el a√±o 2019, glibc todav√≠a se est√° desacelerando.  A juzgar por el tiempo que me llev√≥ solucionar el problema, las posibilidades de que lo solucione son significativamente inferiores al 100%.  Esto se agrava a√∫n m√°s por el hecho de que las cosas est√°n sucediendo en C, sin compatibilidad con IDE, en el c√≥digo de estilo de codificaci√≥n GNU, corredor de prueba loco ("si desea ejecutar la prueba nuevamente, simplemente elimine el archivo .out correspondiente").  Y para que glibc eche un vistazo a su parche, debe seguir el procedimiento de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">asignaci√≥n de derechos de autor</a> , emitir el parche correctamente y el diablo sabe qu√© m√°s.  Por lo tanto, para eliminar al menos el problema de inventar un algoritmo que resuelva el problema, se escribi√≥ esta publicaci√≥n. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/451208/">https://habr.com/ru/post/451208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451196/index.html">Separaci√≥n de perfiles de clientes y aut√≥nomos.</a></li>
<li><a href="../451198/index.html">El papel de la realidad aumentada y la realidad virtual en la NBA</a></li>
<li><a href="../451200/index.html">Obtenci√≥n autom√°tica de certificados SSL por Let's Encrypt usando DNS-01 challenge y AWS</a></li>
<li><a href="../451204/index.html">Editores de texto gratuitos para colaboraci√≥n</a></li>
<li><a href="../451206/index.html">¬øQu√© est√° pasando con los repositorios RDF en este momento?</a></li>
<li><a href="../451210/index.html">Integraci√≥n de Jira con GitLab</a></li>
<li><a href="../451212/index.html">Sistema de protecci√≥n de arco con la capacidad de operar con una se√±al de corriente.</a></li>
<li><a href="../451214/index.html">Fundamentos de la inteligencia artificial moderna: ¬øc√≥mo funciona y destruir√° nuestra sociedad este a√±o?</a></li>
<li><a href="../451216/index.html">C√≥mo deshabilitar completamente Windows Defender en Windows 10</a></li>
<li><a href="../451218/index.html">Inteligencia de negocios en ruso - Quintetos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>