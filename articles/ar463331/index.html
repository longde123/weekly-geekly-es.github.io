<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ธ ๐ฉ๐ผโ๐พ ๐ถ๐ฟ ุนููู ุฃุจููู. ุงูุขู ูุน ุฑุฏ ูุนู ุงูุณูุงููุฑ โธ๏ธ โ ๐ฃ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูููู ูุคูู ุงููุงุฏุฉ ุ ุงูุชู ูููุดุฑ ุชุฑุฌูุชูุง ุงูููู ุ ุฅู ูููุฉ ูุทูุฑู ุจุฑูุงูุฌ Apollo Client ูู ุฌุนู ูุฐู ุงูุฃุฏุงุฉ ูู ุงูุญู ุงูุฃูุซุฑ ุญุฏุงุซุฉ ูุณูููุฉ ูุฅุฏุงุฑุฉ ุญุงูุฉ ุชุทุจููุงุช Rea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุนููู ุฃุจููู. ุงูุขู ูุน ุฑุฏ ูุนู ุงูุณูุงููุฑ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/463331/" style=";text-align:right;direction:rtl"> ูููู ูุคูู ุงููุงุฏุฉ ุ ุงูุชู ูููุดุฑ ุชุฑุฌูุชูุง ุงูููู ุ ุฅู ูููุฉ ูุทูุฑู ุจุฑูุงูุฌ Apollo Client ูู ุฌุนู ูุฐู ุงูุฃุฏุงุฉ ูู ุงูุญู ุงูุฃูุซุฑ ุญุฏุงุซุฉ ูุณูููุฉ ูุฅุฏุงุฑุฉ ุญุงูุฉ ุชุทุจููุงุช React.  ูููู ูุฌุชูุน React ุจุชุทููุฑ ูุฅุชูุงู ุทุฑู ุฌุฏูุฏุฉ ููุนุงูุฉ ูุชุทููุฑ ูุงุฌูุงุช ุงููุณุชุฎุฏู.  ูุณุนู ููุจุฏุนู Apollo Client ุฅูู ุงูุชุฃูุฏ ูู ุฃู ูุดุฑูุนูู ูุฏุนู ูู ูุง ูุชุนูู ุจุนุงูู React.  ููููุง ููุฐุง ุงูุชูููุฏ ุ ููุฏู ูุทูุฑู Apollo Client ุฅุตุฏุงุฑูุง ุฌุฏูุฏูุง ูู ุงููุธุงู ูุฒูุฏูุง ุจุฏุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุจุท</a> React. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c50/900/397/c50900397548d8d2dfe4b8df6e8af04c.png" alt="ุตูุฑุฉ"></a> <br><br>  ุชู ุฅุฏุฎุงู ุงูุณูุงููุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">React 16.8</a> .  ูุฐู ุขููุฉ ุฌุฏูุฏุฉ ุชุณูุญ ูู ุจุฅูุดุงุก ููููุงุช ุฐุงุช ุญุงูุฉ ุจุฏูู ุงูุงุถุทุฑุงุฑ ุฅูู ุงูุชุนุงูู ูุน ุงููุดููุงุช ุงูุฎุงุตุฉ ุจุงูููููุงุช ุงููุณุชูุฏุฉ ุฅูู ุงููุตู.  ูุชุถูู ุชุทุจูู Apollo Client ุงูุขู ุซูุงุซ ุฎุทุงูุงุช ูููู ุงุณุชุฎุฏุงููุง ูู ุงูุชุทุจููุงุช - ูู ุฌููุน ุชูู ุงูุฃูุงูู ุงูุชู ุชุณุชุฎุฏู ูููุง ููููุงุช ุนุงููุฉ ุงููุณุชูู ุฃู ุขููุงุช ุชูุฏูู ุงูุฏุนุงุฆู.  ูุฐู ูู <code>useSubscription</code> ู <code>useSubscription</code> ู <code>useSubscription</code> .  ูุฐู ุงูุฎุทุงูุงุช ุณููุฉ ุงูุชุนูู ุ ููุฏููุง ุงูุนุฏูุฏ ูู ุงููุฒุงูุง ุนูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูููุฌูุฏุฉ ูุณุจููุง.  ุนูู ูุฌู ุงูุฎุตูุต ุ ูุชุนูู ูุฐุง ุจุชุฎููุถ ุญุฌู ุญุฒูุฉ ุงูุชุทุจูู ูุชูููู ููุฏุงุฑ ุฑูุฒ boilerplate. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุงูุงุจุชุฏุงุก</font> </h2><br>  ุฅุฐุง ููุช ุชููู ุฅูุดุงุก ูุดุฑูุน Apollo ุฌุฏูุฏ ุ ููุตู ุจุชุซุจูุช ุงูุญุฒูุฉ ุงูุชุงููุฉ ุจุนุฏ ุชูููู ูุซูู ุนููู Apollo: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">npm install @apollo/react-hooks</code> </pre> <br>  ุชุตุฏุฑ ูุฐู ุงูุญุฒูุฉ ูููู <code>ApolloProvider</code> ุ ูุงูุฐู ูุณุชุฎุฏู ูุชูุตูู ุนููู Apollo ุจุชุทุจูู React.  ุจููุณ ุงูุทุฑููุฉ ุ ุชู ุชูุธูู ุงูุนูู ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุฏููุฉ. <br><br>  ุฅุฐุง ูุงู ูุฏูู ุจุงููุนู ูุดุฑูุน ูุณุชุฎุฏู Apollo ุ ููุฐุง ูุนูู ุฃู ูุฏูู ุนุฏุฉ ุทุฑู ููุชุจุฏูู ุฅูู ุงูุณูุงููุฑ.  ูุนุชูุฏ ุงุฎุชูุงุฑ ุทุฑููุฉ ูุนููุฉ ุนูู ูุฏู ุฑุบุจุชู ูู ุฅุฌุฑุงุก ุนูููุฉ ุงูููู ุจุงูุถุจุท.  ุงูุชูุงุตูู ุญูู ูุฐุง ูููู ุงูุนุซูุฑ ุนูููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ููุงุฐุง ุงูุณูุงููุฑ ูู ุงููุณุชูุจูุ</font> </h2><br>  ูุง ูุฒุงู Apollo Client ูุฏุนู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงุณุชูุงุฏูุง ุฅูู ููููุงุช ุฐุงุช ุชุฑุชูุจ ุนุงูู ูุชูุฏูู ุงูุฏุนุงุฆู.  ุณุชููู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ููุฌูุฏุฉ ูู ุงููุธุงู ูุจุนุถ ุงูููุช ูู ุงููุณุชูุจู.  ูุนุชูุฏ ุฃูู ูู ุงููุณุชูุจู ุ ุณุชููู ุงูุณูุงููุฑ ูู ุฃูุถู ุขููุฉ ูุชุญููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุนููู Apollo.  ุนูู ุงูุฑุบู ูู ุฃู ุฃููุฆู ุงูุฐูู ูุณุชุฎุฏููู Apollo ุจุงููุนู ูุง ูุชุนูู ุนูููู ุงูุชุจุฏูู ุฅูู ุงูุณูุงููุฑ ูู ุงูููุช ุงูุญุงูู ุ ุฅูุง ุฃูู ูุชุนูู ุนูููู ุงุณุชุฎุฏุงู ุงูุณูุงููุฑ ูููููุงุช ุฌุฏูุฏุฉ.  ูุฐู ุงูุชูุตูุฉ ููุง ุงูุนุฏูุฏ ูู ุงูุฃุณุจุงุจ ุงูุชู ุณููุธุฑ ูููุง ุงูุขู. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">using ุนูุฏ ุงุณุชุฎุฏุงู ุงูุฎุทุงูุงุช ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู ููุฏ ุฃูู ููุชุนุงูู ูุน ุงูุจูุงูุงุช</font> </h3><br>  ุงูุฎุทุงูุงุช ุชููู ูู ููุฏุงุฑ ููุฏ boilerplate ุงููุณุชุฎุฏู ููุนูู ูุน ุงูุจูุงูุงุช.  ูุฐุง ูุคุฏู ุฅูู ุงูุฎูุงุถ ูู ุญุฌู ุงูููููุงุช ูุฅูู ุญูููุฉ ุฃู ูุฐู ุงูููููุงุช ูู ุฃุณูู ููููู.  ูุชูุฌุฉู ูุฐูู ุ ูู ูุญุชุงุฌ ุงููุทูุฑูู ุจุนุฏ ุงูุขู ุฅูู ุงูุฎูุถ ูู ููููุฉ ุชุฑุชูุจ ุงูููููุงุช ุงูุนููุง ุ ุฃู ุชุญููู ุงูููุทู ุงููุนูุฏ ูุนุฑูุถ ุงูุฏุนุงุฆู.  ูุชุญููู ุงูุจูุงูุงุช ุ ูุง <code>useQuery</code> ุณูู ุงุณุชุฏุนุงุก ุฏุงูุฉ <code>useQuery</code> ุงููุฑุฏูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LAST_LAUNCH = gql<span class="hljs-string"><span class="hljs-string">`  query lastLaunch {    launch {      id      timestamp    }  } `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LastLaunch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { loading, data } = useQuery(LAST_LAUNCH);  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Last Launch</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      {loading ? </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Loading</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Timestamp: {data.launch.timestamp}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">}    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  ); }</code> </pre> <br>  <code>useQuery</code> ููุง ูู ุชุญููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุฑุจุท ุนููู Apollo <code>useQuery</code> <br>  ุฃูู ูุธุฑุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง</a> ุงูุชุทุจูู ุงูุชุนูููู ุญูุซ ููููู ุฑุคูุฉ ูุซุงู ุนููู ูุงุณุชุฎุฏุงู ุฎุทุงูุงุช ุนููู Apollo. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุทูุฑุงุช ูุชุนุฏุฏุฉ</font> </h3><br>  ุนูุฏูุง ุชููู ุจุฅุฌุฑุงุก ุทูุฑุงุช ูุชุนุฏุฏุฉ ูู ูููู ูุงุญุฏ ุ ูููู ุฃู ูุคุฏู ุงุณุชุฎุฏุงู ููููุงุช ุฐุงุช ุชุฑุชูุจ ุนุงูู ุฃู ุขููุฉ ุชูุฏูู ุงูุฏุนุงุฆู ุฅูู ุฑูุฒ ูุตุนุจ ูููู.  ุฅู ุงุณุชุฎุฏุงู API render prop ุ ุจูุงุก ุงูููุงูู ุงูุชู ุชุชููู ูู ููููุงุช <code>Mutation</code> ูุถูู ูู ุจุนุถูุง ุงูุจุนุถ ุ ูุนุทู ุฅุญุณุงุณูุง ุฎุงุทุฆูุง ุจุงูููุฏ ุงูููุธู ูุชุณูุณูู ุงููุฑูู ุงููุงุถุญ.  ุฑุจุท <code>useMutation</code> ุงูุฌุฏูุฏ <code>useMutation</code> ุนูู ูุฐู ุงููุดููุฉ ุชูุงููุง.  ุงูุญูููุฉ ูู ุฃู ุงุณุชุฎุฏุงูู ูุชู ุชููููู ุฅูู ุงุณุชุฏุนุงุก ูุธููุฉ ุจุณูุทุฉ.  ููุถุญ ุงููุซุงู ุงูุชุงูู ููู ูููู ููุนุฏูุฏ ูู ุงูุทูุฑุงุช ูุงูุงุณุชุนูุงูุงุช ุงูุชูุงุนู ูุน ุจุนุถูุง ุงูุจุนุถ.  ูู ูุฐุง ูุญุฏุซ ุฏุงุฎู ููุณ ุงููููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Message</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [saveMessage, { loading }] = useMutation(SAVE_MESSAGE);  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [deleteMessage] = useMutation(DELETE_MESSAGE);  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { data } = useQuery(GET_MESSAGE);  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">    &lt;div&gt;      &lt;p&gt;        {loading          ? </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'Loading ...'</span></span></span></span><span class="hljs-function"><span class="hljs-params">          : </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">`Message: </span></span></span><span class="hljs-subst"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string"><span class="hljs-subst">${data &amp;&amp; data.message ? data.message.content : </span></span></span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-string"><span class="hljs-subst">}</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">`</span></span></span></span><span class="hljs-function"><span class="hljs-params">}      &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/p&gt;      &lt;p&gt;        &lt;button onClick={() =&gt; saveMessage()}&gt;Save&lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">button&gt;        &lt;button onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> deleteMessage()}&gt;Delete&lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt;      &lt;/</span></span>p&gt;    <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  ); }</code> </pre> <br>  ูุชู ุงุณุชุฎุฏุงู ุฑุจุท <code>useMutation</code> .  ุชุณุชุทูุน ุฃู ุชุฑู ุทูุฑุงุช ูุชุนุฏุฏุฉ ูู ุงูุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ูุญุชูู ูููุฐุฌ ุงูุชุทุจูู ูุฐุง ุฃูุถูุง ุนูู ูููู ูุดุงุจู ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู ุชูุฏูู ุงูุฏุนุงุฆู.  ูููุญู ูุฐุง ุงููุฑุตุฉ ูููุงุฑูุฉ ูุฐุง ุงููููู ูุน ุงููููู ุงูุฐู ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู ุงูุฎุทุงูุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">support ุชุญุณูู ุฏุนู TypeScript</font> </h3><br>  ููุณ ุณุฑุงู ุฃููุง ูู ุนุดุงู TypeScript ุงููุจุงุฑ.  ุชุชูุงูู ุฅููุงููุงุช ุงูุฎุทุงูุงุช ุงูุฌุฏูุฏุฉ ูุน ุชุนุฑููุงุช ุงููุชุงุจุฉ ุงูุชููุงุฆูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ Apollo CLI.  ูุฐุง ูุณูู ุฅูู ุญุฏ ูุจูุฑ ูุชุงุจุฉ ุฑูุฒ ููุน ุขูู ูููููุงุช React.  ุฅููู ูุง ูุจุฏู ุฃู ุชุญููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุฎุทุงุทูู useQuery ู TypeScript: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RocketData, RocketVars } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./types'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> GET_ROCKET_INVENTORY = gql<span class="hljs-string"><span class="hljs-string">`  query getRocketInventory($year: Int!) {    rocketInventory(year: $year) {      id      year    }  } `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RocketInventoryList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { loading, data } = useQuery&lt;RocketData, RocketVars&gt;(    GET_ROCKET_INVENTORY,    { <span class="hljs-attr"><span class="hljs-attr">variables</span></span>: { <span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-number"><span class="hljs-number">2019</span></span> } }  );  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-comment"><span class="hljs-comment">/* ... show data ... */</span></span>); }</code> </pre> <br>  ุชุฌุนู ุฎุทุงูุงุช Apollo ู TypeScript ูู ุงูุณูู ุชุทููุฑ ููููุงุช React ุงููุทุจูุนุฉ ุจุดุฏุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ุชุญุณููุงุช ุฅุถุงููุฉ ุนูู Apollo Client ููุทูุฑู React</font> </h2><br>  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงูุฅุตุฏุงุฑ ูู Apollo ูุฑูุฒ ุนูู ุนูุงูุงุช ุฌุฏูุฏุฉ ุ ุฅูุง ุฃูู ูููููุง ุงูุชุญุฏุซ ุนู ุจุนุถ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู. <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">size ุชูููู ุญุฌู ุงูุญุฒูุฉ ุจูุณุจุฉ 50 ูช</font> </h3><br>  ูู ุญูู ุฃู ุญุฌู ุฑุฒูุฉ gzip ุงููุตุบุฑุฉ ูุงููุถุบูุทุฉ <code>react-apollo@2</code> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">10.6 ูููู ุจุงูุช</a> ุ ูุฅู ุญุฌู ุฑุฒูุฉ <code>react-apollo@3</code> ูุจูุบ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">7.8 ูููู ุจุงูุช</a> ููุท.  ุนูุงูุฉ ุนูู ุฐูู ุ ุฅุฐุง ูุงูุช ุญุฒูุฉ <code>@apollo/react-hooks</code> ูุงููุฉ ูู ุ ูุณูุชู ุชูููู ุญุฌู ุงูุญุฒูุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">5.1 ูููู ุจุงูุช</a> ููุท.  ููุฐุง ูููุฑ 50 ูช ูููุฑุงุช ููุงุฑูุฉ <code>react-apollo@2</code> . <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">query ุชุฃุฎุฑ ุชูููุฐ ุงูุงุณุชุนูุงู</font> </h3><br>  <code>useQuery</code> ูููุฐ ุงุณุชุนูุงูู ูู ููุช ุงุณุชุฏุนุงุก ุงููุธููุฉ.  ูููู ูุฐุง ูู ุจุงูุถุจุท ุณููู ุงููุธุงู ุงูุฐู ูุง ูุญุชุงุฌ ุฅููู ุฏุงุฆููุง.  ุชุฎูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุญูููุง ูุฅุฏุฎุงู ุงุณุชุนูุงู ุจุญุซ ูุนุทู ุงููุณุชุฎุฏู ูุทุงูุจุงุช.  ูุฏ ุชุญุชุงุฌ ุฅูู ุนุฑุถ ูููู ุจู ุญูู ููุฐุง ุฌุงูุฒ ููุจูู ูุง ูุฏุฎูู ุงููุณุชุฎุฏู.  ูููู ูู ููุณ ุงูููุช ุ ุณูุชู ุชุฃุฎูุฑ ุชูููุฐ ุงูุงุณุชุนูุงู ุฅูู ุฎุงุฏู ุงูุจุญุซ ุญุชู ุงููุญุธุฉ ุงูุชู ูุจุฏุฃ ูููุง ุงููุณุชุฎุฏู ุฅุฏุฎุงู ุดูุก ูุง ูู ุงูุญูู.  ูุชุทุจูู ูุฐุง ุงูุณููุงุฑูู ุ ููููู ุงุณุชุฎุฏุงู ุฑุจุท <code>useLazyQuery</code> ุ ูุงูุฐู ูุนุฑุถ tuple ูุน ูุธููุฉ <code>execute</code> ูู ุงูููุถุน ุงูุซุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [execute, { loading, data }] = useLazyQuery(GET_INVENTORY);</code> </pre> <br>  ูู ูุชู ุชูููุฐ ุงูุทูุจ ุญุชู ุชุณุชุฏุนู ูุธููุฉ <code>execute</code> .  ูู ูุฐู ุงููุฑุญูุฉ ุ ุณูุชู ุชูุฏูู ุงููููู ูุฑุฉ ุฃุฎุฑู ูุณูุชู ุชุทุจูู ูุฎุทุท ุชูููุฐ ุงูุงุณุชุนูุงู ุงููุนุชุงุฏ ุงูุฐู ูุชู ุชูููุฐู ุจุงุณุชุฎุฏุงู <code>useQuery</code> . <br><br><h3 style=";text-align:right;direction:rtl">  <font color="#3AC1EF">ูุซุงุฆู API ุงูุฌุฏูุฏุฉ</font> </h3><br>  ูููุง ุจุชุญุฏูุซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู</a> ุนููู Apollo ุนู ุทุฑูู ุฅุถุงูุฉ ูุนูููุงุช ุฑุจุท.  ููุตู ุจุงุณุชุฎุฏุงููุง ูู ูุจู ุฃููุฆู ุงูุฐูู ุจุฏุฃูุง ููุชู ุงูุนูู ูุน ูุธุงููุง.  ููุน ุฐูู ุ ุนูู ุงูุฑุบู ูู ุฐูู ุ ูู ููู ุจุฅุฒุงูุฉ ุงููุนูููุงุช ูู ุงููุซุงุฆู ุงููุชุนููุฉ ุจููููุฉ ุงูุนูู ูุน ุงูููููุงุช ุฐุงุช ุงูุชุฑุชูุจ ุงูุนุงูู ููุน ุขููุฉ ุชูุฏูู ุงูุฏุนุงุฆู.  ูู ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ูููู ุงูุนุซูุฑ ุนูููุง ูู ุงููุซุงุฆู ุ ููููู ุงูุขู ุงุณุชุฎุฏุงู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ุงูุฌุฏูุฏุฉ ุงูุชู ุชุณูุญ ูู ุจุงูุชุจุฏูู ุจูู ุงูููุฏ ุงูุฐู ููุถุญ ุงูุญู ูููุณ ุงููุดููุฉ ุจุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงูุชู ูุญุจูุง ุงููุงุฑุฆ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fbc/47f/ca2/fbc47fca2492cc46bf582e27515e185f.png"></div><br>  <i><font color="#999999">ุฎูุงุฑุงุช ุงูุฑูุฒ ุงููุฎุชููุฉ ุงููุชุงุญุฉ ูู ุงููุซุงุฆู</font></i> <i><font color="#999999"><br></font></i> <h2 style=";text-align:right;direction:rtl">  <i><font color="#999999"><font color="#3AC1EF">ุงููุชุงุฆุฌ</font></font></i> </h2> <i><font color="#999999"><br></font></i>  ูููู ููุดุฆู Apollo Client ุฃู ุฃูุซุฑ ูุง ูุนุฌุจูู ูู React ูู ุฃู ุงููุฑูู ุงูุฃุณุงุณู ูู ูุทูุฑู ูุฐู ุงูููุชุจุฉ ููุฌุชูุน ุงููุชุญูุณูู ูู ุญูููุง ูุจุฐููู ูุตุงุฑู ุฌูุฏูู ุฏุงุฆููุง ูุชุญุณูู ุฅููุงููุฉ ุงุณุชุฎุฏุงู React ูู ูุฌูุฉ ูุธุฑ ูุจุฑูุฌ.  ูุนุฏ ุธููุฑ ุงูุณูุงููุฑ ุ ุงูุชู ููุตุญ ุงูุฌููุน ุจุชุฌุฑุจุชูุง ุนูู ุงูุฅุทูุงู ุ ุฃุญุฏ ุฃููุน ุงูุฃูุซูุฉ ุนูู ูุฐุง ุงูุทููุญ. <br><br>  ูุชููู ุฃู ุชุชูุงุนู ุฎุทุงูุงุช React ุงูููุฏูุฉ ูู Apollo Client ูุน ูู ูุณุชุฎุฏููู ูุฐุง ุงููุดุฑูุน ูุชุทููุฑ ุชุทุจููุงุชูู. <br><br>  <b>ุฃุนุฒุงุฆู ุงููุฑุงุก!</b>  ูู ุชุณุชุฎุฏู ุนููู ุฃุจูููุ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar463331/">https://habr.com/ru/post/ar463331/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar463317/index.html">ุงูุชูุงุตูู ุงููููุฉ ูุงุฎุชุฑุงู ุจูู ูุงุจูุชุงู ูุงู ุนูู AWS</a></li>
<li><a href="../ar463321/index.html">ุณูุงู ูุงุจููุฉ ุงูุงุณุชุฎุฏุงู ูุงูุฎุฑูุฌ: ุชุญููู ูุฃูุจุฑ 20 ูุชุฌุฑุง ุงููุชุฎุตุตุฉ ุงูุฑูุณูุฉ ุนูู ุงูุงูุชุฑูุช</a></li>
<li><a href="../ar463325/index.html">ุงูุนูุงุณ ูุตูู ุงููุนุจุฉ: ุดุฎุตูุงุช ูุนุจุฉ ูู ูุฎุฑุฌ ูููุง</a></li>
<li><a href="../ar463327/index.html">Vue.js: 3 ุฃููุงุท ูุถุงุฏุฉ</a></li>
<li><a href="../ar463329/index.html">ุชุทููุฑ ูุฎุทุทุงุช ุดุฌุฑุฉ ุฏููุงููููุฉ ุจุงุณุชุฎุฏุงู SVG ู Vue.js</a></li>
<li><a href="../ar463333/index.html">ุงุฎุชูุงุฑ ูุธุงู ุฅุฏุงุฑุฉ ุงูุงุฎุชุจุงุฑ ูู ุนุงู 2019</a></li>
<li><a href="../ar463335/index.html">ุงุณุชุฎุฏุงู ูุญูู ุซุงุจุช PVS-Studio ูู ุชุทููุฑ ุงูุฃูุธูุฉ ุงููุฏูุฌุฉ ูู C ู C ++</a></li>
<li><a href="../ar463337/index.html">ุจุงุณุชุฎุฏุงู Immer ูุฅุฏุงุฑุฉ ุฑุฏ ูุนู ุญุงูุฉ ุงูุชุทุจูู</a></li>
<li><a href="../ar463347/index.html">ุงูุชุชุญ ูุฌููุนุฉ ูู ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ ุงููุดุชุฑูุฉ Group-IB ู Belkasoft ูู ุงูุทุจ ุงูุดุฑุนู ููููุจููุชุฑ</a></li>
<li><a href="../ar463349/index.html">ุนูุณ ุงููุดุงูู ูู ุงูุชุญููุงุช ุชูุงุฑุจ ุฃู ุนู ุตูุบุฉ ูุงุญุฏุฉ ุฌูููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>