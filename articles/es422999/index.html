<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèª ‚õπüèæ üç± Crea tu propio conjunto de datos alien√≠genas üò° üóÉÔ∏è üë©üèæ‚Äçü§ù‚Äçüë©üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La segmentaci√≥n de personas que utilizan redes neuronales no sorprender√° a nadie. Hay muchas aplicaciones, como Sticky Ai , Teleport Live , Instagram ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crea tu propio conjunto de datos alien√≠genas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422999/"><p><img src="https://habrastorage.org/webt/0n/pb/2v/0npb2v4d-tgt7iquaqtlct4feoe.jpeg"></p><br><p>  La segmentaci√≥n de personas que utilizan redes neuronales no sorprender√° a nadie.  Hay muchas aplicaciones, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sticky Ai</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Teleport Live</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Instagram</a> , que le permiten realizar una tarea tan dif√≠cil en un tel√©fono m√≥vil en tiempo real. </p><br><p>  Entonces, supongamos que el planeta Tierra se enfrenta a civilizaciones extraterrestres.  Y de los extraterrestres del sistema estelar de Alpha Centauri, se recibe una solicitud para desarrollar un nuevo producto.  Realmente les gust√≥ la aplicaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sticky Ai</a> , que le permite cortar personas y hacer pegatinas, por lo que quieren portar la aplicaci√≥n a su mercado intergal√°ctico. </p><a name="habracut"></a><br><p>  Desafortunadamente, nuestra red neuronal, que se usa en la aplicaci√≥n de segmentaci√≥n, est√° entrenada solo en im√°genes de la raza humana, por lo tanto, funciona mal en los extraterrestres.  Hay una necesidad urgente de expandir nuestro conjunto de datos por extraterrestres. </p><br><p>  Despu√©s de pedirle a los alien√≠genas varios miles de sus im√°genes, procedemos al marcado. </p><br><p>  <strong>Desaf√≠o:</strong> <br>  Hay im√°genes extraterrestres, para cada imagen debe crear una m√°scara en blanco y negro en la que el extraterrestre se resaltar√° en blanco y el fondo en negro. </p><br><p><img src="https://habrastorage.org/webt/my/8m/ef/my8mefxpcgtvx1jjnugzas_yk7o.png"></p><br><p>  <strong>Soluci√≥n:</strong> <br>  En primer lugar, debe hacer un ToR para los trabajadores independientes que dise√±ar√°n las im√°genes.  Como necesitamos una calidad muy alta, marcaremos las im√°genes en Photoshop. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Si no necesitamos muy buena calidad, o el objeto seleccionado es muy simple, entonces dicho marcado se puede hacer usando v√©rtices de pol√≠gono.  Este tipo de marcado est√° disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Amazon Mechanical Turk</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Yandex.Toloke</a> , donde la mano de obra es muy barata. </p></div></div><br><p>  Es posible componer un TOR en forma de documento PDF de 10 p√°ginas, pero: </p><br><ol><li>  Los freelancers generalmente no leen TK, sino que se desplazan. </li><li>  En el documento, es dif√≠cil describir en detalle el algoritmo de c√≥mo marcar de manera correcta y r√°pida. </li><li>  Lleva mucho tiempo compilar el documento en s√≠. </li></ol><br><p>  Por lo tanto, ahora hemos abandonado completamente los conocimientos tradicionales en forma de documento PDF, y proporcionamos la tarea en <br>  tipo de video de entrenamiento.  Despu√©s de tal innovaci√≥n: </p><br><ul><li>  La productividad de los freelancers se ha duplicado (ya que el video muestra la forma m√°s r√°pida y √≥ptima de marcar). </li><li>  Las preguntas formuladas por los trabajadores independientes se redujeron en 3 veces (ya que el video muestra cada paso). </li><li>  Result√≥ reducir el costo de recargo en 2 veces (ya que el precio de una hora de trabajo no ha cambiado, pero los trabajadores independientes aumentan el doble de r√°pido). </li></ul><br><p>  Se debe prestar especial atenci√≥n al m√©todo de marcado en Photoshop.  Photoshop es un programa muy flexible en el que el marcado se puede hacer de diferentes maneras.  Por lo tanto, es aconsejable determinar de antemano qu√© calidad de marcado necesita, estudiar diferentes herramientas de selecci√≥n, compararlas entre s√≠ y elegir la con la que el procesamiento de im√°genes se realiza m√°s r√°pidamente. </p><br><p>  <strong>Un ejemplo:</strong> <br>  Hay dos formas de resaltar: <br>  El M√©todo A toma 5 minutos por imagen. <br>  El M√©todo B toma 10 minutos por imagen. </p><br><p>  Con el m√©todo A, el profesional independiente marca 12 im√°genes por hora, por lo que el precio por imagen ser√° 150/12 = 12.5 rublos. <br>  Con el m√©todo B, el profesional independiente marca 6 im√°genes por hora, por lo que el precio por imagen ser√° de 150/6 = 25 rublos. </p><br><p>  Entonces, encontramos la mejor manera de resaltar y grabar la instrucci√≥n de video, ¬øqu√© sigue? </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/nsIFPPU4iuo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Queda por encontrar aut√≥nomos.  Hay muchos intercambios independientes como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fl.ru</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Weblancer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Freelans.ru</a> . <br>  Pero recientemente, hemos estado utilizando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servicio</a> independiente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WORK-ZILLA</a> porque: </p><br><ol><li>  Hay una mano de obra bastante barata. </li><li>  Muchos artistas. </li><li>  Interfaz f√°cil de usar para crear tareas. </li></ol><br><p>  Para crear una tarea: <br>  Nos registramos, reponemos el saldo, hacemos clic en "Enviar una tarea", seleccionamos "Dise√±o" -&gt; "Procesamiento de fotos". </p><br><p><img src="https://habrastorage.org/webt/bq/m9/6j/bqm96j-rxrnltjrnt4-mwarxdzk.png"></p><br><p>  Complete el t√≠tulo y la descripci√≥n, determine el tiempo para completar la tarea.  Despu√©s de procesar varios extraterrestres, not√© que toma 4 minutos en promedio por imagen.  Es decir  Sale 15 im√°genes por hora, as√≠ que establecemos el precio de una imagen 150/15 = 10 rublos. </p><br><p><img src="https://habrastorage.org/webt/dd/oa/ry/ddoarygio8jwduibrzuu9fgtiv0.png"></p><br><p>  Inmediatamente despu√©s de la publicaci√≥n de la tarea, los artistas comienzan a ofrecer sus servicios. </p><br><p><img src="https://habrastorage.org/webt/dy/c8/nx/dyc8nxhrme-znqb3r1el0y-tzwa.png"></p><br><p>  Seleccionamos la m√°s <strike>bella por la imagen de perfil</strike> experimentada por las rese√±as y afirmamos como int√©rprete, emitir im√°genes.  Como puede ver, nos llev√≥ menos de 15 minutos encontrar un profesional independiente. </p><br><p><img src="https://habrastorage.org/webt/fc/bm/d8/fcbmd8kovltedt_u20zhoelv5hc.png"></p><br><p>  A la ma√±ana siguiente, el artista envi√≥ un trabajo. </p><br><p><img src="https://habrastorage.org/webt/9q/xs/ad/9qxsadyhhf4li5nnumigwd5qb_q.png"><br><img src="https://habrastorage.org/webt/s_/dh/ji/s_dhjiggthjfgvwlfygpf914l-q.png"></p><br><p>  ¬øC√≥mo verificarlo ahora? </p><br><p>  Por supuesto, puede abrir cada imagen en Photoshop y ver qu√© tan bien est√° resaltado todo, pero ¬øqu√© pasa si 20 personas trabajan para usted al mismo tiempo y todos env√≠an 40 im√°genes al d√≠a? </p><br><p>  Automatizar!  Para facilitar la verificaci√≥n, implement√© el siguiente script en python: </p><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> __future__ <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> print_function <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tqdm <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tqdm_notebook <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tqdm <span class="hljs-comment"><span class="hljs-comment">#,       def generate_checkerboard(shape, size): res = np.ones(shape, dtype=np.float32) for i in range(0, shape[0] // size + 1): for j in range(0, shape[1] // size + 1): if (i + j) % 2 == 0: res[i * size:i * size + size, j * size:j * size + size] = 0.7 return np.stack([res] * 3, axis=2) path = '01_ ÃÜ_13' files_im = filter(lambda x: x[-4:] == '.jpg', os.listdir(path + '/images')) files_masks = filter(lambda x: x[-4:] == '.png', os.listdir(path + '/masks')) print('- : %s' % len(files_im)) print('- : %s' % len(files_masks)) if len(files_im) != len(files_masks): print('-     ') raise Exception('bad count') #  res,      os.makedirs(path + '/res') for idd in tqdm(map(lambda x: x[:-4], files_im)): print(idd) mask = cv2.imread(path + '/masks/' + idd + ".png") / 255. im = cv2.imread(path + '/images/' + idd + ".jpg") checkerboard = generate_checkerboard(im.shape[:2], 40) * 255 cv2.imwrite(path + '/res/' + idd + ".jpg", np.concatenate([im, im * (1 - mask), im * mask + (1 - mask) * checkerboard],axis=1))</span></span></code> </pre> <br><p>  El gui√≥n toma la imagen original, la m√°scara, y hace un collage de ellos, que consiste en la imagen original, recorta el fondo y recorta extraterrestre. </p><br><div class="spoiler">  <b class="spoiler_title">Ejecute el script y obtenga dichos collages:</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wz/yf/us/wzyfusy_3yvq5sxupzowiezyrew.jpeg"><br><img src="https://habrastorage.org/webt/ax/lw/3a/axlw3ann0onq1jp4hchd6zp2lqw.jpeg"><br><img src="https://habrastorage.org/webt/_j/ot/jb/_jotjb1ivkuxj0lxepgf33_vomq.jpeg"><br><img src="https://habrastorage.org/webt/5e/lz/wm/5elzwmgmfyaivftoyhtr0d-juja.jpeg"><br><img src="https://habrastorage.org/webt/x5/fu/-5/x5fu-588bxi8s4nfthft942myds.jpeg"><br><img src="https://habrastorage.org/webt/lp/gr/zn/lpgrznuxuxy-3hvmkealu9f_-fc.jpeg"><br><img src="https://habrastorage.org/webt/b_/1l/8q/b_1l8qgivhkg6zyvc-hunudth-8.jpeg"><br><img src="https://habrastorage.org/webt/r3/wb/ln/r3wblnbv1qzb7y53xtcizah8yjk.jpeg"><br><img src="https://habrastorage.org/webt/0n/pb/2v/0npb2v4d-tgt7iquaqtlct4feoe.jpeg"><br><img src="https://habrastorage.org/webt/5p/2s/wg/5p2swga8lwpqpu6etmpfudhnjs0.jpeg"></p></div></div><br><p>  Despu√©s de revisar las im√°genes, notamos que el artista no seleccion√≥ una imagen muy bien. </p><br><p><img src="https://habrastorage.org/webt/5e/lz/wm/5elzwmgmfyaivftoyhtr0d-juja.jpeg"></p><br><p>  Por favor corrija la imagen. </p><br><p><img src="https://habrastorage.org/webt/cv/fq/5b/cvfq5bpts9fnfdpiruwetvmemn8.png"></p><br><p>  Despu√©s de que el profesional independiente haya corregido todos nuestros comentarios, confirmamos el trabajo y presentamos un agradecimiento al profesional independiente. </p><br><p><img src="https://habrastorage.org/webt/mn/jj/ir/mnjjirvnybsybybs2dwi_ors2ly.png"></p><br><p>  <strong>El resultado:</strong> <br>  Suponga que necesita 2.000 im√°genes alien√≠genas para entrenar una red neuronal. <br>  Luego, para recopilar dicho conjunto de datos, deber√° gastar solo 2000 x 10 = 20,000 rublos, y si tiene en cuenta que, en promedio, un profesional independiente procesa 40 im√°genes por d√≠a y 10 personas trabajan en el marcado, entonces crear un conjunto de datos tomar√° 2000 / (10 x 40) = 5 d√≠as. </p><br><p>  <strong>PS</strong> <br>  Por supuesto, a√∫n no hemos encontrado extraterrestres, ninguno del equipo de Prisma AI va a segmentar extraterrestres, pero con este ejemplo quer√≠a mostrarle cu√°n simple y rentable puede crear su propio conjunto de datos para cualquier tarea, ya sea la detecci√≥n de peatones para un veh√≠culo no tripulado o determinaci√≥n de bosques en im√°genes satelitales. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422999/">https://habr.com/ru/post/es422999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422987/index.html">Y de nuevo, el d√≠a 256 del a√±o.</a></li>
<li><a href="../es422989/index.html">Una base de datos no es solo un almac√©n de datos</a></li>
<li><a href="../es422993/index.html">Quemando televisores OLED en pruebas reales</a></li>
<li><a href="../es422995/index.html">QA mitap en Redmadrobot</a></li>
<li><a href="../es422997/index.html">El libro "PHP moderno"</a></li>
<li><a href="../es423005/index.html">C√≥mo Yandex.Zen, el complemento de almacenamiento en cach√© de WordPress y el alojamiento aumentaron mi presi√≥n</a></li>
<li><a href="../es423007/index.html">"Malyavki, pero bien": c√≥mo llevamos a los estudiantes a practicar</a></li>
<li><a href="../es423009/index.html">Diagn√≥stico SENS. Biomarcadores de glicaci√≥n proteica</a></li>
<li><a href="../es423011/index.html">Gesti√≥n de microservicios con Kubernetes e Istio</a></li>
<li><a href="../es423013/index.html">C√≥mo organizar tus dependencias en una aplicaci√≥n Vue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>