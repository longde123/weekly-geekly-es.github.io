<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßñüèæ üí™üèø üßëüèæ Aumente isso! Aumento da resolu√ß√£o moderna üë©üèΩ‚Äçü§ù‚Äçüë©üèº ü§∂üèΩ üåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eu j√° parei de tremer e me perguntar quando o telefone toca e uma voz forte e confiante toca no receptor: "√â este o capit√£o que est√° incomodando voc√™ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aumente isso! Aumento da resolu√ß√£o moderna</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439766/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b88/1db/675/b881db675f3ef17c06a45cc67a8c1cb2.png"></div><br>  Eu j√° parei de tremer e me perguntar quando o telefone toca e uma voz forte e confiante toca no receptor: "√â este o capit√£o que est√° incomodando voc√™ (major e tal), voc√™ pode responder a algumas perguntas?"  Por que n√£o falar com sua pr√≥pria pol√≠cia ... <br><br>  As perguntas s√£o sempre as mesmas.  "Temos um v√≠deo com o suspeito, por favor, ajude a restaurar o rosto" ... "Ajude a aumentar o n√∫mero do DVR" ... "N√£o h√° m√£os humanas aqui, por favor, ajude a aumentar" ... E assim por diante. <br><br>  Para deixar claro o que √© isso, aqui est√° um exemplo real de um v√≠deo altamente compactado enviado onde eles pedem para restaurar um rosto desfocado (cujo tamanho √© equivalente a cerca de 8 pixels): <br><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/webt/k-/bw/5h/k-bw5hsws_7bijnrykr3vrvhk_i.png"></div><br>  E tudo bem, apenas os tios russos de Stepa perturbariam, escrevem os Western Pinkertones. <br><a name="habracut"></a>  Aqui, por exemplo, est√° uma carta da pol√≠cia da Inglaterra &lt;***** @ *****. Fsnet.co.uk&gt;: <br><blockquote>  Eu uso seus filtros em particular h√° algum tempo para resgatar meus v√≠deos ruins de f√©rias em fam√≠lia, mas gostaria de usar os filtros comerciais para o meu trabalho.  Atualmente, sou policial de uma pequena for√ßa policial e estamos recebendo muitos v√≠deos de CFTV, que em algum momento s√£o de p√©ssima qualidade e posso ver como seus filtros fariam uma diferen√ßa real.  Voc√™ pode me dizer o custo e se eu poderia us√°-los. <br><br>  Obrigada <br><br><div class="spoiler">  <b class="spoiler_title">Tradu√ß√£o</b> <div class="spoiler_text">  Eu j√° usei seus filtros para fins pessoais para salvar meus v√≠deos ruins de f√©rias em fam√≠lia.  Mas eu gostaria de usar filtros comerciais no meu trabalho.  Atualmente sou policial em uma pequena unidade.  Recebemos um grande n√∫mero de v√≠deos das c√¢meras de CFTV, √†s vezes de qualidade muito baixa, e seus filtros realmente ajudar√£o.  Voc√™ poderia me dizer o custo deles e posso us√°-los? <br><br>  Obrigada </div></div></blockquote>  Ou aqui est√° um policial da Austr√°lia: <br><blockquote>  Oi <br>  Trabalho para a pol√≠cia de Victoria, na Austr√°lia, na unidade forense de v√≠deo e √°udio.  Ocasionalmente, recebemos v√≠deos de c√¢meras port√°teis ou montadas em ve√≠culos.  Geralmente, eles capturam imagens entrela√ßadas de eventos em movimento r√°pido.  Em particular, a filmagem que geralmente tem mais "promessa" √© filmagem das chapas de matr√≠cula dos ve√≠culos.  Frequentemente, descobrimos que o ve√≠culo em quest√£o se moveu significativamente entre o primeiro e o √∫ltimo campo capturado.  Como resultado, tentamos reconstruir todo o quadro a partir dos dois campos, com o segundo sendo traduzido, √†s vezes girado e, ocasionalmente, o tamanho tamb√©m ser√° diferente (conforme o ve√≠culo estiver se afastando ou em dire√ß√£o √† c√¢mera). Casando esses dois campos , de prefer√™ncia com precis√£o de sub-pixel, e a reconstru√ß√£o do quadro que cont√©m a chapa de matr√≠cula, pode ser dif√≠cil. <br>  Pelo que vi de voc√™ desentrela√ßar as cenas, pode ser que seu filtro possa fazer parte, se n√£o tudo, do que precisamos.  Para ser sincero, como nosso or√ßamento √© bastante pequeno, √© improv√°vel que possamos comprar uma licen√ßa comercial.  N√≥s n√£o vendemos o produto, √© claro, n√≥s o usamos como evid√™ncia em casos policiais.  De qualquer forma, pensei em escrever um e-mail e perguntar de qualquer maneira.  Quanto custaria uma licen√ßa?  √â poss√≠vel testar o produto em filmagens, para ver se √© apropriado?  Faz parte do que precisamos?  Por fim, o algoritmo foi publicado?  Trabalhar com algoritmos desconhecidos √© uma pr√°tica perigosa para um tribunal.  Se a evid√™ncia resultar em um homem que fica preso por 20 anos, √© uma boa pr√°tica saber o porqu√™! <br><br>  Qualquer informa√ß√£o que voc√™ possa oferecer seria apreciada. <br><br>  Atenciosamente, <br>  Caseworker <br>  Audio Visual Unit <br>  Departamento de Servi√ßos Forenses da Pol√≠cia de Victoria <br><br><div class="spoiler">  <b class="spoiler_title">Tradu√ß√£o</b> <div class="spoiler_text">  Oi <br>  Trabalho para a pol√≠cia de Victoria, na Austr√°lia, no departamento de √°udio e v√≠deo forense.  De tempos em tempos, recebemos v√≠deos de c√¢meras port√°teis e DVRs.  Geralmente, esses v√≠deos s√£o filmagens entrela√ßadas de objetos em movimento r√°pido.  Em particular, o material mais importante s√£o as placas dos ve√≠culos.  Frequentemente, descobrimos que o ve√≠culo em quest√£o se move fortemente entre o primeiro e o √∫ltimo campo capturado.  Como resultado, estamos tentando restaurar um quadro inteiro de dois campos, o segundo sendo deslocado, √†s vezes girado e √†s vezes diferente em tamanho (quando o carro est√° viajando para ou da c√¢mera).  Combinar esses dois campos, de prefer√™ncia com precis√£o de meio pixel, e restaurar um quadro inteiro contendo uma placa de carro pode ser dif√≠cil. <br><br>  Vejo como voc√™ aplica o desentrela√ßamento aos quadros, e talvez seus filtros possam fazer algo, se n√£o tudo o que precisamos.  Honestamente, talvez n√£o consigamos pagar uma licen√ßa comercial, porque nosso or√ßamento √© bastante pequeno.  N√≥s n√£o vendemos o produto, √© claro, n√≥s o usamos como evid√™ncia em casos policiais.  De qualquer forma, pensei em escrever uma carta e ainda perguntar.  Quanto custar√° a licen√ßa?  √â poss√≠vel testar o produto no material para descobrir se √© adequado?  Ele faz parte do que precisamos?  Finalmente, o algoritmo foi publicado? .. Trabalhar com algoritmos desconhecidos √© uma pr√°tica perigosa em tribunal.  Se a evid√™ncia leva uma pessoa a ir para a pris√£o por 20 anos, √© √∫til saber o porqu√™. <br><br>  Seremos gratos por qualquer informa√ß√£o que voc√™ possa nos fornecer. <br><br>  Atenciosamente <br>  Investigador <br>  Divis√£o de √Åudio e V√≠deo <br>  Departamento Forense da Pol√≠cia de Victoria </div></div></blockquote>  Observe que a carta √© muito atenciosa, uma pessoa est√° preocupada com o algoritmo sendo publicado e com a responsabilidade pela recupera√ß√£o incorreta. <br><br>  √Äs vezes, eles apenas no processo de correspond√™ncia admitem que s√£o da pol√≠cia.  Por exemplo, os carabinieri da It√°lia gostariam de ajuda: <br><blockquote>  Dr.  Vatolin <br>  Obrigado pela resposta. <br>  A resposta vale tamb√©m para as for√ßas policiais (investiga√ß√£o Carabinieri <br>  cient√≠fico para a PARMA IT√ÅLIA)? <br>  Para qual software eles associam seus algoritmos a voc√™. <br>  Ser√≠amos muito. <br><br><div class="spoiler">  <b class="spoiler_title">Tradu√ß√£o</b> <div class="spoiler_text">  Dr.  Batolin <br>  Obrigado pela resposta. <br>  Isso √© adequado para a pol√≠cia (unidade de investiga√ß√£o Carabinieri para o PARMA IT√ÅLIA)? <br>  Eles est√£o interessados ‚Äã‚Äãem qual software seus algoritmos usam? <br>  Seremos gratos. </div></div></blockquote>  E, claro, muitos apelos das pessoas comuns ... <br><br><h2>  Aumente isso!  Voc√™ sente muito pelo bot√£o certo para pressionar? </h2><br>  √â claro que todo esse fluxo de chamadas n√£o aparece do zero. <br><br>  "Culpar" principalmente filmes e programas de TV. <br><br>  Por exemplo, aqui em 3 segundos o quadro do v√≠deo compactado √© aumentado em 50 vezes e pelo reflexo nos √≥culos eles veem evid√™ncias: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/I_8ZH1Ggjk0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  E existem muitos desses momentos em filmes e s√©ries modernos.  Por exemplo, neste v√≠deo, coletamos esses epis√≥dios de maneira √©pica de um pacote de programas de TV, n√£o demore dois minutos para assistir: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LhF_56SxrGk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  E quando voc√™ v√™ isso em todos os filmes, ent√£o o √∫ltimo porco-espinho fica claro que tudo o que voc√™ precisa √© ter um g√™nio da computa√ß√£o competente, uma combina√ß√£o de algoritmos modernos e resta apenas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"PARAR!"</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">e "Aprimore!"</a>  .  E pronto!  Um milagre vai acontecer! <br><br>  No entanto, os roteiristas n√£o param nesta recep√ß√£o j√° hackeada e sua imagina√ß√£o desenfreada vai al√©m.  Aqui est√° um exemplo muito monstruoso.  Detetives corajosos para refletir no aluno da v√≠tima receberam uma foto do agressor.  De fato, o reflexo nos √≥culos j√° estava l√°.  Isso √© comum.  Vamos seguir em frente!  S√≥ que a resolu√ß√£o da c√¢mera de CCTV na escada acabou sendo bastante aleat√≥ria como o telesc√≥pio do Hubble: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3uoM5kfZIQ0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  No "Profeta" (00:38:07): <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e82/109/09e/e8210909e53e8966a6484d35b096bf0f.gif"></div><br>  Em ‚ÄúAvatar‚Äù (1: 41: 04‚Äì1: 41: 05), o algoritmo de nitidez, a prop√≥sito, √© um tanto incomum em compara√ß√£o com outros filmes: ele primeiro afia em certos lugares e depois de uma fra√ß√£o de segundo puxa o restante da imagem, t .e.  primeiro a metade esquerda da boca e depois a direita: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fff/54d/603/fff54d603344fb7b80c8a5c93aaca7ab.gif"></div><br>  Em geral, em filmes muito populares que s√£o assistidos por centenas de milh√µes, a nitidez da imagem √© feita em um clique.  <b>Todas as pessoas (nos filmes) fazem isso!</b>  Ent√£o, por que voc√™, especialistas t√£o espertos, n√£o pode fazer isso ??? <br><br><hr>  "Eu sei que isso √© f√°cil!"  E me disseram definitivamente que voc√™ est√° fazendo isso!  Voc√™ est√° com pregui√ßa de pressionar este bot√£o? <br><br>  <i>// Oh querido ... Roteiristas malditos com sua imagina√ß√£o selvagem ...</i> <br><br>  - Entendo que voc√™ est√° ocupado, mas trata-se de sua ajuda ao estado na solu√ß√£o de um crime importante! <br><br>  <i>// N√≥s entendemos.</i> <br><br>  - Talvez seja sobre o dinheiro?  Quanto voc√™ precisa pagar? <br><br>  <i>// Bem, como explicar brevemente que n√£o √© que n√£o precisamos de dinheiro ... E ent√£o novamente, e novamente ...</i> <hr><br>  Qualquer coincid√™ncia das cita√ß√µes acima com di√°logos reais √© completamente aleat√≥ria, mas, em particular, este texto √© escrito para enviar uma pessoa a l√™-lo cuidadosamente primeiro e s√≥ depois retornar a liga√ß√£o. <br><blockquote>  <b>Conclus√£o:</b> Devido ao fato de que a cena com o aumento de imagens das c√¢meras de CFTV em um clique se tornou um selo do cinema moderno, um grande n√∫mero de pessoas est√° sinceramente convencido de que √© muito simples ampliar um fragmento de um quadro de uma c√¢mera barata ou de um gravador de v√≠deo barato.  O principal √© como perguntar (bem, ou comandar, √© assim que acontece). </blockquote><h2>  De onde as pernas crescem </h2><br>  √â claro que todo esse fluxo de chamadas n√£o √© obtido do zero.  Estamos realmente envolvidos na melhoria de v√≠deo h√° cerca de 20 anos, incluindo v√°rios tipos de recupera√ß√£o de v√≠deo (a prop√≥sito, existem v√°rios tipos), e nossos exemplos ser√£o mais baixos nesta se√ß√£o. <br><br>  Um aumento "inteligente" na resolu√ß√£o de artigos cient√≠ficos √© geralmente chamado de Super Resolu√ß√£o (SR, abreviado).  O Google Scholar, mediante solicita√ß√£o, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Super Resolution</a> encontra 2,9 milh√µes de artigos, ou seja,  o t√≥pico foi, por assim dizer, bastante bem desenterrado, e um grande n√∫mero de pessoas lidou com ele.  Se voc√™ seguir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o link</a> , haver√° um mar de resultados, um mais bonito que o outro.  No entanto, vale a pena aprofundar, o quadro, como sempre, n√£o se torna t√£o pastoral.  O tema SR tem duas dire√ß√µes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Super-resolu√ß√£o de v√≠deo</a> (0,4 milh√£o de artigos) - a restaura√ß√£o real usando quadros anteriores (e √†s vezes subsequentes), <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Super-resolu√ß√£o de imagem</a> (2,2 milh√µes de artigos) - aumento "inteligente" na resolu√ß√£o usando apenas um quadro.  Como no caso de uma figura para obter informa√ß√µes sobre o que realmente n√£o estava em lugar nenhum, os algoritmos de uma maneira ou de outra completam a figura (ou, relativamente falando, ‚Äúpensam‚Äù) a figura - o que poderia estar l√°.  O principal crit√©rio para isso √© que o resultado seja o mais natural poss√≠vel ou o mais pr√≥ximo poss√≠vel do original.  E √© claro que esses m√©todos n√£o s√£o adequados para restaurar o que era ‚Äúrealmente‚Äù, apesar de ampliar a imagem para que pare√ßa melhor, por exemplo, ao imprimir (quando voc√™ tem uma foto exclusiva, mas n√£o h√° vers√£o em alta resolu√ß√£o) ) Tais m√©todos s√£o muito poss√≠veis. <br></li></ul><br>  Como voc√™ pode ver, 0,4 milh√£o versus 2,2 - ou seja, 5 vezes menos pessoas est√£o envolvidas na recupera√ß√£o real.  Felizmente, o t√≥pico ‚Äúfa√ßa maior, apenas bonito‚Äù √© muito procurado, inclusive no setor (o not√≥rio zoom digital de smartphones e saboneteiras digitais).  Al√©m disso, se voc√™ se aprofundar ainda mais, fica claro rapidamente que um n√∫mero significativo de artigos sobre a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">super resolu√ß√£o de v√≠deo</a> tamb√©m √© um aumento na resolu√ß√£o do v√≠deo sem recupera√ß√£o, porque a recupera√ß√£o √© dif√≠cil.  Como resultado, podemos dizer que aqueles que "fazem lindamente" s√£o cerca de 10 vezes mais do que aqueles que realmente est√£o tentando restaurar.  A prop√≥sito, uma situa√ß√£o bastante comum na vida. <br><br>  N√≥s vamos ainda mais fundo.  Muitas vezes, os resultados do algoritmo s√£o muito bons, mas s√£o necess√°rios, por exemplo, 20 quadros para a frente e 20 quadros para tr√°s, e a velocidade de processamento de um quadro √© de cerca de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">15 minutos</a> ao usar a GPU mais avan√ßada.  I.e.  por 1 minuto, o v√≠deo precisa de 450 horas (quase 19 dias).  Ops-ss ... Concordo, isso n√£o √© nada parecido com o instante ‚ÄúZoom it!‚Äù  dos filmes.  Regularmente, existem algoritmos que funcionam por v√°rios dias por quadro.  Para artigos, um resultado melhor geralmente √© mais importante que o tempo de trabalho, porque a acelera√ß√£o √© uma tarefa dif√≠cil separada e √© mais f√°cil comer um elefante grande em partes.  Essa √© a diferen√ßa entre vida e cinema ... <br><br>  A solicita√ß√£o de algoritmos em execu√ß√£o no v√≠deo a uma velocidade razo√°vel deu origem a uma dire√ß√£o separada de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Super resolu√ß√£o r√°pida de v√≠deo</a> - 0,18 milh√£o de artigos, incluindo artigos "lentos" que s√£o comparados com os "r√°pidos", ou seja,  o n√∫mero real de artigos sobre esses m√©todos √© exagerado.  Observe que, entre as abordagens "r√°pidas", a porcentagem de especulativas, ou seja,  sem recupera√ß√£o real, maior.  Consequentemente, a porcentagem de recupera√ß√£o honesta √© menor. <br><br>  A imagem, voc√™ v√™, est√° ficando clara.  Mas isso, √© claro, est√° longe de tudo. <br><br>  Que outros pontos afetam significativamente a obten√ß√£o de um bom resultado? <br><br>  Em primeiro lugar, o ru√≠do √© muito influente.  Abaixo est√° um exemplo de uma restaura√ß√£o dupla da resolu√ß√£o em um v√≠deo muito barulhento: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/461/c9c/bd5/461c9cbd5b7b8d0a7b50f75471ebe941.png"></div><br>  <i>Fonte: materiais do autor</i> <br><br>  O principal problema neste fragmento n√£o √© mesmo com os ru√≠dos habituais, mas com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">moir√©</a> colorido na camisa, que √© dif√≠cil de processar.  Alguns podem dizer que grandes ru√≠dos n√£o s√£o um problema hoje.  Isto n√£o √© verdade.  Observe os dados dos DVRs e c√¢meras de CFTV do carro no escuro (exatamente quando eles s√£o mais procurados). <br><br>  No entanto, moir√© tamb√©m pode ocorrer relativamente "limpo" em termos de ru√≠do de v√≠deo, como na cidade abaixo (os exemplos abaixo s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">baseados em nosso trabalho</a> ): <br><br> <a href=""><img src="https://habrastorage.org/webt/0a/-x/0z/0a-x0zj47mmkgsa79aiojqtrfco.gif"></a> <br>  <i>Fonte: materiais do autor</i> <br><br>  Em segundo lugar, para uma recupera√ß√£o ideal, √© necess√°ria uma previs√£o de movimento pr√≥xima ao ideal entre os quadros.  Por que isso √© dif√≠cil √© um grande t√≥pico separado, mas isso explica por que as cenas com um movimento panor√¢mico da c√¢mera s√£o muitas vezes restauradas muito bem e as cenas com um movimento relativamente ca√≥tico s√£o extremamente dif√≠ceis de recuperar, mas com elas voc√™ pode obter um bom resultado em algumas situa√ß√µes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4bd/7bb/3da/4bd7bb3da22d2904311d2da762331b5e.gif"></div>  <i>Fonte: materiais do autor</i> <br><br>  E, finalmente, aqui est√° um exemplo de recupera√ß√£o de texto: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a98/ad0/a00/a98ad0a0062a2fa1a7b4c602d26e2edd.png"></div><br>  <i>Fonte: materiais do autor</i> <br><br>  Aqui, o plano de fundo se move bastante bem e o algoritmo tem a capacidade de "vagar": <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a5e/1a4/542/a5e1a4542ea2b0a441c6160e4c9eaba0.png"></div><br><br>  Em particular, se compararmos uma inscri√ß√£o muito pequena √† direita da m√£o, incluindo a amplia√ß√£o com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">interpola√ß√£o bic√∫bica</a> cl√°ssica, a diferen√ßa ser√° claramente vis√≠vel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d4/d00/dfc/9d4d00dfc6a3364dfae37e8637708993.png"></div><br>  Pode-se ver que para a interpola√ß√£o bic√∫bica √© quase imposs√≠vel ler o ano, para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lanczos4</a> , que √© amado por quem muda semiprofissionalmente a resolu√ß√£o do v√≠deo para obter nitidez, as bordas s√£o mais n√≠tidas, √© claro, mas ainda √© imposs√≠vel ler o ano.  N√£o comentamos o Top√°zio comercial, mas lemos claramente a inscri√ß√£o e voc√™ pode ver que √© prov√°vel que isso seja 1809. <br><blockquote>  <b>Conclus√µes:</b> <br><br><ul><li>  Milhares de pesquisadores no mundo est√£o empenhados em aumentar a resolu√ß√£o e milh√µes de artigos foram publicados sobre esse assunto.  Devido a isso, cada smartphone possui um ‚Äúzoom digital‚Äù, que geralmente √© objetivamente melhor do que os algoritmos para aumentar os programas convencionais, e cada TV FullHD pode exibir v√≠deo SD, geralmente mesmo sem artefatos caracter√≠sticos da altera√ß√£o da resolu√ß√£o. <br></li><li>  A recupera√ß√£o de uma imagem real de um v√≠deo √© muito inferior a 10% dos envolvidos na Super Resolu√ß√£o. Al√©m disso, a maioria dos algoritmos de recupera√ß√£o √© extremamente lenta (at√© v√°rios dias de c√°lculos por quadro). <br></li><li>  Na maioria dos casos, a recupera√ß√£o √© projetada para garantir que as altas frequ√™ncias do v√≠deo sejam mais ou menos preservadas e, portanto, n√£o funcionem no v√≠deo com artefatos de compacta√ß√£o significativos.  E, como nas configura√ß√µes das c√¢meras de CFTV, a taxa de compacta√ß√£o geralmente √© escolhida com base no desejo de economizar mais horas (ou seja, o v√≠deo √© compactado com mais for√ßa e as altas frequ√™ncias s√£o ‚Äúmortas‚Äù), torna-se quase imposs√≠vel restaurar esse v√≠deo. <br></li></ul></blockquote><br><h2>  Como √© o SR no setor </h2><br>  Para ser sincero, observamos que hoje todos os algoritmos de aumento de resolu√ß√£o (ou pelo menos comprados) est√£o dispon√≠veis para todos os fabricantes de TV (voc√™ precisa criar imagens HD a partir de imagens SD em tempo real), para todos os fabricantes de smartphones (o que √© chamado de ‚Äúzoom digital‚Äù em publicidade) etc. .d.  Falaremos sobre os resultados do Google (e n√£o apenas).  Primeiro, porque o Google √© muito bom e sem muito patos e marketing descreve os resultados em seu blog - e isso √© extremamente bom.  Em segundo lugar, porque os fabricantes de smartphones (por exemplo, uma empresa coreana muito conhecida) n√£o evitam usar, digamos, o Photoshop na publicidade de suas tecnologias (qual √© a diferen√ßa - as pessoas ainda engolem) - e isso √© desagrad√°vel.  Em geral, vamos falar sobre aqueles que descrevem sua tecnologia com bastante honestidade. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Em 2016, o Google publicou</a> resultados bastante interessantes do algoritmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RAISR (Rapid and Accurate Image Super Resolution)</a> usado no smartphone Pixel 2. Nas imagens de maior sucesso, o resultado foi √≥timo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78c/785/e21/78c785e214d760cb58f8ea2e2d78b70a.png"></div><br>  <i>Fonte: <a href="">Blog do Google AI</a></i> <br><br>  O algoritmo foi um conjunto de filtros usados ‚Äã‚Äãap√≥s a classifica√ß√£o do ML, e comparado com a interpola√ß√£o bic√∫bica (chicote tradicional), o resultado foi o seguinte: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/67b/1f3/a53/67b1f3a5335bbced94d53be35ba3881d.png"></div><br>  <i>Em ordem: interpola√ß√£o bic√∫bica original, RAISR</i> <br><br>  Mas foi a interpola√ß√£o de quadro √∫nico e, em exemplos "malsucedidos", como a folhagem abaixo, a imagem ficou muito desagrad√°vel - depois de ampliada, a imagem tornou-se visivelmente "sint√©tica".  Ele mostrou exatamente o efeito pelo qual o zoom digital dos smartphones modernos n√£o √© apreciado: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/g0/y7/xw/g0y7xw8cipif-g-cw3yuljfmivg.png"></div><br>  O milagre, na verdade, n√£o aconteceu, e o Google publicou honestamente e imediatamente um contra-exemplo, ou seja,  imediatamente delineou os limites de aplicabilidade de sua abordagem e salvou as pessoas de expectativas excessivas (t√≠picas do marketing convencional). <br><br>  No entanto, menos de dois anos depois, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">continua√ß√£o do trabalho</a> usado no Google Pixel 3 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">foi publicada</a> e melhora drasticamente a qualidade de suas filmagens, que j√° √© uma super resolu√ß√£o honesta com v√°rios quadros, ou seja.  algoritmo de recupera√ß√£o de resolu√ß√£o de v√°rios quadros: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/83b/3ff/950/83b3ff950cf9959b2acb3d11a134ef50.gif"></div><br>  <i>Fonte: <a href="">Blog do Google AI</a></i> <br><br>  A imagem acima mostra uma compara√ß√£o dos resultados do Pixel 2 e Pixel 3, e os resultados parecem muito bons - a imagem realmente ficou muito mais clara e √© claramente visto que isso n√£o est√° "pensando", mas realmente restaurando detalhes.  Al√©m disso, um leitor profissional atencioso ter√° perguntas sobre dois tubos duplos verticais √† esquerda.  A resolu√ß√£o aumentou claramente, enquanto a etapa de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alias</a> (um sinal de resolu√ß√£o real) parece estranhamente pr√≥xima.  O que foi aquilo? <br><br>  Em poucas palavras, analisaremos o algoritmo.  Os colegas mudaram a interpola√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">padr√£o Bayer</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/355/0ba/e72/3550bae72349a1d9d9705e1e8c69cdd3.png"></div><br>  O fato √© que 2/3 das informa√ß√µes em uma imagem real s√£o realmente interpoladas.  I.e.  sua foto J√Å est√° desfocada e ‚Äúdesfocada‚Äù, mas com um n√≠vel de ru√≠do real, isso n√£o √© t√£o significativo.  A prop√≥sito, a capacidade de usar algoritmos de interpola√ß√£o mais complexos criou programas populares com a convers√£o RAW da mais alta qualidade para fotografias (a diferen√ßa entre o algoritmo simples incorporado em cada c√¢mera e o algoritmo complexo de um programa especializado √© geralmente percept√≠vel a olho nu quando a imagem √© ampliada). <br><br>  Os colegas do Google usam o fato de que a grande maioria das fotos de smartphones √© tirada com as m√£os, ou seja,  a c√¢mera treme levemente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/864/59b/d05/86459bd058ec0edfdd5f3b1d0c9b287b.gif"></div><br>  <i>Fonte: <a href="">Blog do Google AI</a> (imagem de v√°rios quadros alinhada no n√≠vel do pixel para mostrar a mudan√ßa de subpixels)</i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, se voc√™ tirar alguns quadros e avaliar a mudan√ßa (e o ferro, capaz de construir um mapa de estimativa de movimento com precis√£o de um quarto de pixel, estiver em qualquer smartphone com suporte a H.264), obteremos um mapa de mudan√ßa. Fiel √† anima√ß√£o acima, √© claramente visto que, com um n√≠vel de ru√≠do real, a constru√ß√£o de um mapa de deslocamento com precis√£o de subpixel √© uma tarefa muito n√£o trivial, mas algoritmos muito bons apareceram nessa √°rea nos √∫ltimos 20 anos. Claro, √†s vezes, e eles t√™m dificuldade. Por exemplo, no exemplo acima, algo pisca em um quadro na parte superior do corrim√£o da escada. E ainda √© uma cena est√°tica, n√£o h√° objetos em movimento que √†s vezes n√£o se movem, mas giram, mudam de forma, se movem rapidamente, deixando grandes √°reas de abertura (cujo loop n√£o deve ser vis√≠vel ap√≥s o processamento). O exemplo abaixo mostra claramenteo que acontece com objetos em movimento r√°pido, se voc√™ desativar o processamento especial desses casos (desativado √† esquerda, ativado √† direita, se voc√™ clicar em, os blocos de processamento ser√£o claramente vis√≠veis):</font></font><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/2e8/3d1/bb2/2e83d1bb215c546de4eb6d55524f865f.png"></a> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonte: </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blog do Google AI (recomendado para clicar e ver em alta resolu√ß√£o)</font></font></a></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exemplos dif√≠ceis s√£o chamas, ondula√ß√µes, brilho do sol na √°gua, etc. Em geral, mesmo no problema "simples" de determinar a mudan√ßa, h√° muitos momentos n√£o triviais que complicam significativamente a vida do algoritmo. No entanto, agora n√£o se trata disso. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curiosamente, mesmo que a c√¢mera esteja completamente estacion√°ria (por exemplo, montada em um trip√©), voc√™ pode fazer o sensor se mover atrav√©s do controle do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√≥dulo de estabiliza√ß√£o √≥ptica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (OIS - Optical Image Stabilization). Como resultado, obtemos as mudan√ßas de subpixel desejadas. No Pixel 3, o suporte ao OIS √© implementado, e voc√™ pode pressionar o telefone contra o vidro e observar com interesse como o OIS come√ßa </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a mover a imagem ao longo de uma elipse (aproximadamente, como este link)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou seja, mesmo neste caso de montagem em um trip√©, dif√≠cil para ele, a Super Resolu√ß√£o poder√° trabalhar e melhorar a qualidade. </font><font style="vertical-align: inherit;">No entanto, a maior parte das filmagens de smartphones √© na m√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, temos informa√ß√µes adicionais para criar uma foto com resolu√ß√£o maior:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/11d/67a/0a2/11d67a0a2127af61576cadffbfeba49b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como mencionado acima, a consequ√™ncia direta do SR √© uma diminui√ß√£o significativa no n√≠vel de ru√≠do; em alguns casos, √© muito percept√≠vel: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e1/cd0/1b1/3e1cd01b1e996fc11a6309dca47b0e17.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonte: </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blog do Google AI</font></font></a></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Observe que recupera√ß√£o tamb√©m significa restaura√ß√£o pelo n√∫mero de bits por componente.</font></font> I.e.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resolvendo formalmente o problema de aumentar a resolu√ß√£o, o mesmo mecanismo sob certas condi√ß√µes pode n√£o apenas suprimir o ru√≠do, mas tamb√©m transformar o quadro em HDR. √â claro que hoje o HDR raramente √© usado, mas isso, como v√™, √© um bom b√¥nus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O exemplo abaixo mostra uma compara√ß√£o de imagens obtidas ao fotografar no Pixel 2 e no Pixel 3 ap√≥s SR com qualidade de sensor compar√°vel. A diferen√ßa de ru√≠do e a diferen√ßa de clareza s√£o claramente vis√≠veis:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/74c/17b/e38/74c17be383c81603e91124d9b4fd04c9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para quem gosta de ver os detalhes, h√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um √°lbum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no qual a Super Resolution do Google (nome de marketing Super Res Zoom) pode ser apreciada em toda a sua gl√≥ria no espectro da escala de zoom da imagem em um smartphone (mudan√ßa de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FoV</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): </font><font style="vertical-align: inherit;">como eles escrevem modestamente - eles deram um passo mais perto da qualidade de fotografia dos smartphones √† qualidade das c√¢meras profissionais. </font><font style="vertical-align: inherit;">Para ser sincero, observamos que as c√¢meras profissionais tamb√©m n√£o param. Outra coisa √© que, com vendas menores, as mesmas tecnologias custar√£o mais para o usu√°rio. No entanto, o SR j√° est√° aparecendo em c√¢meras profissionais. </font><b><font style="vertical-align: inherit;">UPD:</font></b><font style="vertical-align: inherit;"> Como exemplo (o √∫ltimo link √© uma compara√ß√£o):</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/321/e5e/40d/321e5e40d89b28612139434735c76fe0.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br> <b><font style="vertical-align: inherit;"></font></b> <br><font style="vertical-align: inherit;"></font><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Testing Sony's New Pixel Shift Feature in the a7R III</a> ,     2     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    ,               ), <br></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   Olympus E-M5 Mark II</a>  16  40 , <br></li><li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> Super Resolution   Pentax K-1</a> , <br></li><li>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pixel-Shift Shootout: Olympus vs. Pentax vs. Sony vs. Panasonic</a> ‚Äî    <b>Pentax K-1, Sony a7R III, Olympus OM-D E-M1 Mark II  Panasonic Lumix DC-G9.</b> ,    ,         ,    Pentax K-1. <br></li></ul><br><blockquote> <b>:</b> <br><br><ul><li>  Super Resolution    ,        ,         . <br></li><li>  SR: Image Super Resolution ‚Äî    ( ),     . <br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os principais b√¥nus dos algoritmos de recupera√ß√£o s√£o redu√ß√£o de ru√≠do, refinamento de detalhes, HDR ‚Äúmais honesto‚Äù, qualidade de imagem claramente mais vis√≠vel em televisores de tela grande. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Toda essa magnific√™ncia foi poss√≠vel gra√ßas a um aumento cardinal (em cerca de 3 ordens de grandeza no n√∫mero de opera√ß√µes) na complexidade dos algoritmos de processamento de fotos ou, mais precisamente, em um quadro de v√≠deo. </font></font><br></li></ul></blockquote><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Resultados Yandex </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como eles ainda perguntam nos coment√°rios, vou dizer algumas palavras sobre o Yandex, que publicou sua vers√£o da Super Resolu√ß√£o no ano passado: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02a/ec9/09f/02aec909f0cfd75bf9902a25ee85acc9.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonte: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://yandex.ru/blog/company/oldfilms</font></font></a></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E aqui est√£o alguns exemplos de desenhos animados:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6a/e9e/2cb/d6ae9e2cba814e1c02a4060ccb545280.png"></div><br>  <i>Fonte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://yandex.ru/blog/company/soyuzmultfilm</a></i> <br><br>  O que foi aquilo?  Yandex repetiu a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tecnologia do Google em 2016</a> ? <br><br>  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">p√°gina de descri√ß√£o da</a> tecnologia da Yandex (nome de marketing DeepHD), √© vinculado apenas √† Super Resolu√ß√£o de Imagem.  Isso significa que obviamente existem contra-exemplos nos quais o algoritmo estraga a imagem e eles s√£o mais comuns do que para algoritmos honestos de recupera√ß√£o.  Mas cerca de 80% dos artigos s√£o dedicados ao t√≥pico e o algoritmo √© mais f√°cil de implementar. <br><br>  Essa tecnologia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tamb√©m</a> foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descrita</a> em um hub (√© interessante que o autor do artigo tenha se formado em nosso laborat√≥rio), mas, como voc√™ pode ver nos coment√°rios, os autores n√£o responderam a nenhuma das minhas perguntas enquanto responderam √†s outras.  E esses n√£o s√£o os autores dos vil√µes, mas a pol√≠tica da empresa (em outros posts, se voc√™ olhar de perto, tamb√©m muitas vezes n√£o h√° respostas para perguntas de especialistas).  Para os blogs de empresas de tecnologia, relutam em aprofundar a discuss√£o sobre detalhes de implementa√ß√£o ou tecnologia.  Especialmente se isso criar uma melhor impress√£o da tecnologia / produto.  Ou os concorrentes podem cortar a mesma coisa mais rapidamente.  Novamente, o marketing √© respons√°vel pelas postagens, e esse √© o trabalho direto delas - criando uma impress√£o favor√°vel dos produtos da empresa, independentemente da qualidade dos pr√≥prios produtos.  Da√≠ a desconfian√ßa frequente das informa√ß√µes provenientes do marketing. <br><br>  Em geral, vale a pena ser muito c√©tico em rela√ß√£o √†s fotos das empresas da s√©rie "como fizemos tudo bem" pelas seguintes raz√µes: <br><br><ul><li>  Os autores dos algoritmos de processamento est√£o cientes de que praticamente <b>n√£o</b> existem <b>algoritmos que, em alguns casos, n√£o gerariam artefatos.</b>  E, de fato, uma das principais tarefas do desenvolvedor √© reduzir a porcentagem desses casos (ou a visibilidade dos artefatos nesses casos), mantendo a qualidade em outros casos.  E muitas vezes isso N√ÉO tem √™xito: <br><br><ul><li>  Ou os artefatos s√£o t√£o fortes e dif√≠ceis de corrigir que toda a abordagem √© rejeitada.  Na verdade, esse √© o caso, talvez (surpresa-surpresa!), Da maioria dos artigos.  Imagens divinas em alguns casos (que foram gravadas) e ‚Äún√£o funciona‚Äù no restante. <br></li><li>  Ou (e essa √© uma situa√ß√£o comum para empresas de tecnologia pr√°ticas), √© necess√°rio sacrificar em m√©dia alguma qualidade para que os artefatos nos piores casos possam ser tolerados. <br></li></ul><br></li></ul>  Assim, quando exemplos ruins n√£o s√£o publicados (cl√°ssicos para empresas) ou publicados de forma limitada e com padr√µes (cl√°ssicos para artigos) - esse √© o caso mais comum de pessoas enganosas sobre as propriedades de uma tecnologia / algoritmo. <br><br><ul><li>  <b>Outro equ√≠voco comum sobre algoritmos de processamento √© o uso de par√¢metros (incluindo par√¢metros internos) do algoritmo.</b>  Os algoritmos, por acaso, t√™m par√¢metros e usu√°rios - e esta tamb√©m √© a norma - como ter no m√°ximo um bot√£o "ativar".  E mesmo se houver configura√ß√µes, o usu√°rio em massa n√£o as utiliza.  √â por isso que, ao comprar tecnologia, "para cem" vezes, eles perguntam novamente: "Isso com certeza √© uma m√°quina completa?"  e pe√ßa muitos exemplos. <br><br><ul><li>  Assim, uma hist√≥ria comum √© a publica√ß√£o de um resultado obtido com determinados par√¢metros.  Felizmente, o desenvolvedor os conhece bem, e mesmo quando existem cinquenta (a situa√ß√£o real!), Ele os pega muito rapidamente, para que a imagem seja m√°gica.  Exatamente essas fotos costumam ser anunciadas. <br></li><li>  Al√©m disso, o desenvolvedor pode at√© ser contra.  O marketing v√™ os novos exemplos enviados e diz: "nada √© vis√≠vel neles, na √∫ltima apresenta√ß√£o voc√™ teve exemplos normais!"  E ent√£o eles podem tentar explicar a eles que novos exemplos s√£o o que as pessoas realmente veem e, na √∫ltima apresenta√ß√£o, foram mostrados resultados potenciais que podem ser alcan√ßados por estudos preliminares do in√≠cio do projeto.  Isso n√£o incomoda ningu√©m.  As pessoas ter√£o a imagem "onde voc√™ pode ver".  Em alguns casos, at√© grandes empresas usam o photoshop.  Brincar √© servido, senhores!  ) <br></li></ul><br></li></ul><ul><li>  Al√©m disso, <b>quando se trata de v√≠deo - ele abre espa√ßos enormes para a <s>m√°quina ...</s> bom marketing!</b>  Como regra geral, os quadros s√£o dispostos e a qualidade do v√≠deo compactado sempre oscila e depende da massa de par√¢metros.  Novamente - v√°rias tecnologias podem ser aplicadas corretamente, o tempo de processamento pode ser diferente.  E isso n√£o √© tudo, o escopo √© √≥timo. <br><br><ul><li>  A publicidade da Yandex afirma que a tecnologia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DeepHD funciona em tempo real, ent√£o hoje voc√™ pode assistir canais de televis√£o usando-a</a> .  Foi explicado acima que a velocidade de opera√ß√£o √© o calcanhar de Aquiles da Super Resolu√ß√£o.  A vantagem das redes neurais, √© claro, √© que, durante muito tempo estudando, elas podem funcionar muito rapidamente em alguns casos, mas ainda assim eu procuraria (com grande interesse profissional) em que resolu√ß√£o e qualidade o algoritmo funciona em tempo real.  Geralmente, v√°rias modifica√ß√µes do algoritmo s√£o criadas e em altas resolu√ß√µes em tempo real, <b>muitos</b> "chips" (cr√≠ticos para a qualidade) precisam ser desativados.  <b>Demais.</b> <br></li><li>  Nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplos</a> em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">preto e branco</a> , uma an√°lise mais detalhada revela que o brilho local est√° mudando.  Como o SR correto n√£o altera o brilho, parece que algum outro algoritmo funcionou, possivelmente n√£o um (os resultados mostram que esse n√£o √© o processamento de quadro √∫nico, ou melhor, parece n√£o apenas).  Se voc√™ olhar para uma pe√ßa maior (pelo menos 100 quadros), a imagem ficar√° n√≠tida.  No entanto, medir a qualidade do v√≠deo √© um t√≥pico muito grande e separado. <br></li></ul><br></li></ul><blockquote>  <b>Conclus√µes:</b> <br><br><ul><li>  Voc√™ precisa entender que os profissionais de marketing costumam usar seus truques precisamente porque funcionam (e como!).  A esmagadora maioria das pessoas <s>n√£o l√™ o hub</s>  O que regularmente leva a todos os tipos de distor√ß√µes.  Desejo que todos menos sejam anunciados, especialmente quando a narrativa est√° no seu melhor e realmente quer acreditar em um milagre! <br></li><li>  E, claro, √© muito bom que o Yandex tamb√©m trabalhe no t√≥pico e crie seu pr√≥prio SR (mais precisamente, sua pr√≥pria fam√≠lia SR). <br></li></ul></blockquote><br><h2>  Perspectivas </h2><br>  Vamos voltar para onde come√ßamos.  O que fazer para quem deseja aumentar o v√≠deo compactado?  Isso √© tudo ruim? <br><br>  Como descrito acima, mesmo uma ligeira mudan√ßa na imagem na regi√£o, literalmente no n√≠vel do ru√≠do, √© cr√≠tica para os algoritmos de recupera√ß√£o "honesta".  Ou seja, as altas frequ√™ncias na imagem e sua mudan√ßa entre os quadros s√£o cr√≠ticas. <br><br>  Nesse caso, a principal coisa pela qual a compacta√ß√£o de v√≠deo √© realizada √© a remo√ß√£o do ru√≠do entre os quadros.  No exemplo abaixo, a diferen√ßa entre quadros de um v√≠deo barulhento antes da compensa√ß√£o de movimento, ap√≥s compensa√ß√£o (com compacta√ß√£o fraca) e ap√≥s compacta√ß√£o percept√≠vel - sente a diferen√ßa (o contraste √© aumentado cerca de 6 vezes para que os detalhes possam ser vistos): <br><img src="https://habrastorage.org/getpro/habr/post_images/4a0/867/c18/4a0867c1839ba6acea0aa16a7a5a408c.png"><br>  <i>Fonte: palestras do autor sobre algoritmos de compress√£o</i> <br><br>  Pode-se ver claramente que, do ponto de vista do codec, a √°rea ideal √© a √°rea na qual o movimento foi totalmente compensado e na qual n√£o √© necess√°rio gastar mais bits.  Bem, um pouco pode ser gasto, algo minimamente corrigido.  E pode haver algumas dessas √°reas.  Portanto, a Super Resolu√ß√£o perde seu ‚Äúp√£o principal‚Äù - informa√ß√µes sobre o que h√° neste local em outros quadros, levando em considera√ß√£o a mudan√ßa do subpixel. <br><br>  Se voc√™ olhar para os artigos, mesmo para um JPEG relativamente simples, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">restaura√ß√£o jpeg</a> cont√©m 26 mil resultados e a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recupera√ß√£o jpeg</a> - 52 mil, e isso juntamente com a restaura√ß√£o de arquivos quebrados, etc.  Para o v√≠deo, a situa√ß√£o √© pior que a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">restaura√ß√£o mpeg</a> - 22 mil, ou seja,  Obviamente, o trabalho est√° em andamento, mas a escala da escala do trabalho em Super Resolu√ß√£o n√£o √© compar√°vel.  H√° cerca de uma ordem de magnitude menos trabalhosa do que restaurar a resolu√ß√£o de v√≠deo e duas ordens de magnitude menores que a Super-resolu√ß√£o de Imagem.  Duas ordens √© muito.  Tamb√©m fizemos uma abordagem ao proj√©til (j√° que fazemos compress√£o e processamento h√° muito tempo), h√° algo com o que trabalhar, especialmente se a qualidade estiver oscilando ou usando algo como M-JPEG (mais recentemente, uma imagem comum em vigil√¢ncia por v√≠deo).  Mas todos ser√£o casos especiais. <br><br>  Os resultados dos artigos dos links acima tamb√©m mostram que os resultados √†s vezes s√£o muito bonitos, mas obtidos em casos muito especiais.  I.e.  amanh√£, em todos os smartphones, essa fun√ß√£o, infelizmente, n√£o aparecer√°.  Esta √© uma m√° not√≠cia.  Bom - depois de amanh√£ e em um computador com uma boa GPU - aparecer√° com certeza. <br><br>  Raz√µes: <br><br><ul><li>  Os dispositivos de armazenamento (cart√µes SD para registradores, discos para c√¢meras de CFTV, etc.) est√£o gradualmente ficando mais baratos e a taxa de bits m√©dia para salvar v√≠deos est√° aumentando. <br></li><li>  Al√©m disso, durante a compacta√ß√£o, eles mudam gradualmente para os padr√µes das pr√≥ximas gera√ß√µes (por exemplo, no HEVC), o que significa uma melhoria not√°vel na qualidade com a mesma taxa de bits.  Os dois √∫ltimos pontos significam que gradualmente a qualidade do v√≠deo ser√° mais alta e, a partir de algum momento, algoritmos de super-resolu√ß√£o de v√≠deo bem desenvolvidos come√ßar√£o a funcionar. <br></li><li>  Finalmente, os algoritmos est√£o sendo aprimorados.  As realiza√ß√µes dos algoritmos baseados em aprendizado de m√°quina nos √∫ltimos 4 anos s√£o especialmente boas.  Nesse sentido, com alta probabilidade, podemos esperar algo como isto: <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/fce/82a/6a9/fce82a6a91aa6c5d654bd22c26bbf3d4.png"><br><br>  I.e.  o algoritmo usar√° explicitamente as informa√ß√µes de movimento recebidas do codec e, em seguida, esses dados ser√£o alimentados a uma rede neural treinada para recuperar artefatos espec√≠ficos para codecs espec√≠ficos.  Atualmente, esse esquema parece bastante vi√°vel. <br><br>  Mas, em qualquer caso, voc√™ precisa entender claramente que a recupera√ß√£o atual √©, via de regra, um aumento de duas vezes na resolu√ß√£o.  Menos comumente, em alguns casos, quando o material de origem n√£o foi compactado ou quase n√£o foi compactado, podemos falar de 3 a 4 vezes.  Como voc√™ pode ver, isso n√£o √© nem perto de 100 a 1000 vezes a amplia√ß√£o dos filmes, quando 1,5 pixels de uma grava√ß√£o noturna silenciosa se transforma em um n√∫mero de carro de excelente qualidade.  O g√™nero de "fic√ß√£o cient√≠fica" deve ser atribu√≠do de fato a uma porcentagem maior de filmes e programas de TV. <br><br>  E, √© claro, haver√° tentativas de fazer algo universal, dentro da estrutura da tend√™ncia da moda "o principal √© cortar mais camadas".  E aqui vale a pena advertir contra rea√ß√µes de "aplausos" aos materiais publicit√°rios sobre esse t√≥pico.  As redes neurais s√£o a estrutura mais conveniente para demonstrar milagres e todo tipo de especula√ß√£o.  O principal √© escolher corretamente a amostra de treinamento e os exemplos finais.  E pronto!  Veja o milagre!  Muito conveniente em termos de investidores, a prop√≥sito.  Ou seja, √© extremamente importante que a efici√™ncia das tecnologias seja confirmada por algu√©m independente em um grande n√∫mero de exemplos heterog√™neos, o que raramente √© demonstrado.  Para as empresas, mesmo dando um ou dois exemplos quando a tecnologia n√£o funciona, hoje √© equiparado a um feito civil. <br><br>  Bem, para que a vida n√£o pare√ßa mel, lembro que a chamada transcodifica√ß√£o √© popular hoje em dia, quando na verdade voc√™ precisa trabalhar com um v√≠deo que originalmente foi encolhido por um algoritmo e depois encima por outro, enquanto outros vetores de movimento s√£o usados, outros altos s√£o destru√≠dos novamente frequ√™ncias etc.  E o fato de uma pessoa ver tudo bem l√° n√£o significa que o algoritmo que processa esse v√≠deo realmente far√° milagres.  N√£o ser√° poss√≠vel restaurar v√≠deos pesados, embora em geral a Super Resolu√ß√£o se desenvolva rapidamente nos pr√≥ximos 10 anos. <br><br><blockquote>  <b>Conclus√µes:</b> <br><br><ul><li>  Lembre-se de que o que voc√™ v√™ nos filmes e como √© na vida real √© muito diferente.  E n√£o apenas em termos de recupera√ß√£o de v√≠deo altamente compactado! <br></li><li>  Geralmente, os algoritmos modernos aumentam as resolu√ß√µes em 2 vezes, com menos frequ√™ncia - um pouco mais, ou seja,  n√£o 50 vezes, familiar nos filmes, logo tem que esperar. <br></li><li>  A √°rea de Super Resolu√ß√£o est√° crescendo e voc√™ pode esperar um desenvolvimento ativo da Restaura√ß√£o de V√≠deo nos pr√≥ximos anos, incluindo recupera√ß√£o ap√≥s a compacta√ß√£o. <br></li><li>  Mas a primeira coisa que veremos √© todo o tipo de especula√ß√µes sobre o t√≥pico, quando os resultados demonstrados exageram bastante as reais capacidades dos algoritmos.  Cuidado! <br></li></ul></blockquote>  No final do ano passado, demos uma palestra ‚ÄúRedes neurais no processamento de v√≠deo - mitos e realidade‚Äù.  Talvez possamos coloc√°-la aqui. <br><br>  Fique atento! <br><br><h2>  Agradecimentos </h2><br>  Gostaria de agradecer cordialmente: <br><br><ul><li>  Laborat√≥rio de Computa√ß√£o Gr√°fica VMK Moscow State University  MV Lomonosov para poder de computa√ß√£o e n√£o apenas <br></li><li>  nossos colegas do grupo de v√≠deos, gra√ßas a quem os algoritmos acima foram criados, e especialmente Karen Simonyan, autora do artigo cujos resultados foram mostrados acima e que agora trabalha no Google DeepMind, <br></li><li>  pessoalmente Konstantin Kozhemyakov, que fez muito para tornar este artigo melhor e mais visual, <br></li><li>  Google para um excelente blog e descri√ß√µes relativamente corretas das tecnologias criadas, e Yandex por competir muito bem em uma ampla frente - o Google √© praticamente o √∫nico exemplo de sucesso em um pa√≠s onde os servi√ßos do Google n√£o s√£o proibidos, <br></li><li>  Habrovchan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">denisshabr</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">JamboJet</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">iMADik</a> pela dica e links para c√¢meras profissionais de quadros m√∫ltiplos SR, <br></li><li>  e finalmente, muito obrigado a Vyacheslav Napadovsky, Evgeny Kuptsov, Stanislav Grokholsky, Ivan Molodetsky, Alexei Soloviev, Evgeny Lyapustin, Yegor Sklyarov, Denis Kondranin, Alexandra Anzina, Roman Kazantsev e Gleb Ishelev por esta grande quantidade de coment√°rios √∫teis melhor! <br></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439766/">https://habr.com/ru/post/pt439766/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439756/index.html">Por que preciso de um gerador termoac√∫stico?</a></li>
<li><a href="../pt439758/index.html">No meio do caminho "Juno"</a></li>
<li><a href="../pt439760/index.html">Os engenheiros "distorceram" a luz da fibra - uma nova tecnologia acelerar√° a transfer√™ncia de dados centenas de vezes</a></li>
<li><a href="../pt439762/index.html">No ensino superior, programadores e empregos de colarinho azul</a></li>
<li><a href="../pt439764/index.html">Frutas Corporativas</a></li>
<li><a href="../pt439768/index.html">Como funciona um c√≥digo de barras?</a></li>
<li><a href="../pt439772/index.html">Escrevendo testes de unidade no Swift para testar tarefas ass√≠ncronas</a></li>
<li><a href="../pt439774/index.html">Automatize o teste de seletores de redux no aplicativo</a></li>
<li><a href="../pt439776/index.html">Frontend Weekly Digest (4-10 de fevereiro de 2019)</a></li>
<li><a href="../pt439778/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 351 (4 a 10 de fevereiro de 2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>