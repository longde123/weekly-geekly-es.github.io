<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>   Derivados de blockchain: resolviendo el problema por $ 500 billones y ganando el hackat贸n Consensus 2018   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El 11 y 12 de mayo de 2018, el equipo de 8base en la persona de Evgeny Semushin, Gabe Kelly y yo decidimos probar mi fuerza y competir por el premio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Derivados de blockchain: resolviendo el problema por $ 500 billones y ganando el hackat贸n Consensus 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415755/"> El 11 y 12 de mayo de 2018, el equipo de 8base en la persona de Evgeny Semushin, Gabe Kelly y yo decidimos probar mi fuerza y competir por el premio AlphaPoint en el hackathon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Consensus 2018</a> , que se celebr贸 en Nueva York.  En total, 33 equipos participaron en el hackathon, y entre sus patrocinadores se encontraban gigantes como CoinDesk, Microsoft, IBM, Hyperledger y Quorum. <br><br><img src="https://habrastorage.org/webt/cb/ck/lr/cbcklrkr1i-lpt7ldhzwbknddrw.jpeg"><br><br>  En la competencia AlphaPoint, se requer铆a escribir una solicitud vinculada a un intercambio de criptomonedas, por lo que esper谩bamos que mi experiencia en un fondo de cobertura fuera muy 煤til.  Quer铆amos crear algo m谩s que un front-end para la soluci贸n blockchain existente.  Nuestro objetivo era resolver el problema real mediante la aplicaci贸n de las capacidades 煤nicas de la arquitectura blockchain, nuestra propia experiencia en el desarrollo de contratos inteligentes y el conocimiento de la mec谩nica interna de las finanzas. <br><br>  Hemos creado un conjunto de contratos inteligentes en la red Ethereum, que le permite crear derivados descentralizados y administrar su suministro en funci贸n de la cadena de bloques.  Con nuestra soluci贸n, cualquier usuario puede convertirse en garante en virtud de un contrato para la venta o compra de cualquier activo ERC20 sin una gesti贸n externa de los requisitos y su cumplimiento.  Como resultado, ganamos el premio principal. <br><br>  Bajo el corte, los matices de la implementaci贸n de este proyecto. <br><a name="habracut"></a><br><h2>  El problema </h2><br>  Los derivados son una cosa seria.  La capitalizaci贸n del mercado mundial de derivados se estima en casi $ 500 billones.  Si compara esto con el mercado de criptomonedas (alrededor de $ 0,4 billones), efectivo (alrededor de $ 40 billones) y el mercado de valores global (alrededor de $ 70 billones), se hace evidente cu谩n importante es el papel de los derivados en la econom铆a global.  Solo mira esta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">infograf铆a</a> .  Los bancos, fondos y empresas utilizan activamente opciones, futuros, swaps y otros derivados para gestionar el riesgo. <br><br><img src="https://habrastorage.org/webt/iz/i3/v9/izi3v9cq9ma7b_wqzk7rsd7z_mw.png"><br><br>  Capitalizaci贸n de mercado de varios activos: <br><br><ul><li>  <b>Cripto</b> - criptomonedas </li><li>  <b>Dinero l铆quido</b> - efectivo </li><li>  <b>Mercados p煤blicos mundiales de valores</b> - <b>mercado</b> mundial de valores </li><li>  <b>Derivados</b> - derivados </li></ul><br>  La principal dificultad con los contratos de derivados es que generalmente utilizan el apalancamiento, ya que los riesgos potenciales son m谩s altos que los montos que las partes realmente tienen.  Debido a esto, surge un complejo sistema de acuerdos mutuos, as铆 como requisitos para un margen m铆nimo y solicitudes de aumento de margen: el nivel de garant铆a debe permanecer de tal manera que la salida de la transacci贸n siempre sea m谩s costosa que su ejecuci贸n. <br><br>  Todo esto se derrumb贸 en 2008.  Enredados en las complejidades de los contratos de derivados, los jugadores de Wall Street perdieron el control de la situaci贸n.  Como resultado, el "efecto domin贸" funcion贸: una oleada de solicitudes para aumentar los m谩rgenes y la incapacidad para cumplirlas condujo al colapso de Lehman Brothers y otros jugadores.  El gobierno de los Estados Unidos tuvo que intervenir y actuar como garante de Wall Street en las gigantescas cantidades de contratos pendientes para derivados.  Todos sabemos a qu茅 condujo esto ... <br><br><h2>  Soluci贸n </h2><br><img src="https://habrastorage.org/webt/ix/sf/jh/ixsfjh4omafjmqjxxfdlwz0u6ok.jpeg"><br><br>  BlockSigma es un conjunto de contratos inteligentes para organizar transacciones en derivados de criptomonedas y administrar tales transacciones.  La gesti贸n de garant铆as se basa en la cadena de bloques, por lo tanto, para garantizar el cumplimiento de los requisitos de margen m铆nimo para los fondos registrados en el contrato inteligente, no se requiere intermediario. <br><br>  La principal innovaci贸n es la gesti贸n de m谩rgenes basada completamente en la cadena de bloques, sin control centralizado y el flujo de cotizaciones previsto.  Para hacer esto, integramos el protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bancor</a> .  El protocolo de Bancor ya se est谩 implementando activamente en operaciones de intercambio y operaciones de servicios diarios por millones de d贸lares.  Bancor utiliza una funci贸n de precio determinista basada en la relaci贸n de oferta y demanda de un activo en particular.  En consecuencia, el precio del token b谩sico se puede determinar directamente en la cadena de bloques, lo que le permite formular con precisi贸n los requisitos para el margen m铆nimo y a tiempo para crear solicitudes para aumentar los m谩rgenes. <br><br>  La l贸gica de los contratos inteligentes est谩 dise帽ada para que el comprador de la opci贸n cierre la posici贸n por la fuerza tan pronto como la garant铆a en el contrato inteligente caiga por debajo del requisito de margen m铆nimo obligatorio.  La funci贸n de determinar el margen m铆nimo tiene en cuenta el exceso de reserva, lo que crea incentivos econ贸micos para que el comprador de la opci贸n monitoree cuidadosamente la posici贸n y obtenga esta reserva (junto con el exceso) cuando se ve obligado a cerrar en caso de incumplimiento del requisito de margen m铆nimo.  A su vez, el vendedor (garante) de la opci贸n tambi茅n tiene incentivos econ贸micos para reponer el colateral a tiempo si la transacci贸n no tiene 茅xito para no perder el exceso de reserva. <br><br><h2>  Implementaci贸n </h2><br><img src="https://habrastorage.org/webt/_u/fs/af/_ufsafv2ojbc83_5hyqe9y3ds2s.jpeg"><br><br>  El c贸digo fuente de la soluci贸n completa se publica en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el repositorio de GitHub</a> . <br><br>  La soluci贸n consta de tres archivos principales de Solidity: BlockSigmaBase.sol, BlockSigmaCall.sol y BlockSigmaPut.sol.  BlockSigmaBase implementa una l贸gica com煤n, mientras que BlockSigmaCall y BlockSigmaPut lo heredan e implementa la l贸gica de los contratos para la compra y venta, respectivamente. <br><br>  As铆 es como se ve la interfaz del contrato: <br><br><pre><code class="hljs powershell">contract BlockSigmaBase is StandardToken { /** * @dev Constructor * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _underlyingTokenAddress address of the underlying ERC20 token. * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _currencyTokenAddress address of the currency ERC20 token. * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _strike option strike denominated <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the currency token. * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _exp expiration timestamp. * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _minReserve minimum (excess) reserve * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _underlyingBancorConverter address of the Bancor converter contract that converts underlying token into BNT. * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _currencyBancorConverter address of the Bancor converter contract that converts currency token into BNT. * @<span class="hljs-keyword"><span class="hljs-keyword">param</span></span> _issuer address that is allowed to issue(underwrite) new contracts. */ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BlockSigmaBase</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(address _underlyingTokenAddress, address _currencyTokenAddress, uint256 _strike, uint256 _exp, uint256 _minReserve, address _underlyingBancorConverter, address _currencyBancorConverter, address _issuer)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">required</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">maintenance</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">margin</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">level</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currency</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">token</span></span></span><span class="hljs-function">. */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRequiredReserve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint256)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">price</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">underlying</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">token</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expressed</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currency</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">token</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">from</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bancor</span></span></span><span class="hljs-function"> */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUnderlyingPrice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint256)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Ability</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">issue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(underwrite)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contracts</span></span></span><span class="hljs-function"> * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">amount</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">how</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">many</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contracts</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">issue</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(in wei)</span></span></span><span class="hljs-function">. */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">issue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint256 amount)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onlyIssuer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Buyer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">can</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exercise</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">option</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">anytime</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">before</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">maturity</span></span></span><span class="hljs-function">. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Buyer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deposits</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currency</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(call)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">or</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">underlying</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tokens</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(put)</span></span></span><span class="hljs-function">. */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exercise</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Writer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delivers</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">underlying</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tokens</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(call)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">or</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currency</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(put)</span></span></span><span class="hljs-function">. * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">which</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buyer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deliver</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function">. */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deliver</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(address to)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onlyIssuer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Buyer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">can</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">force</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">liquidation</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exercise</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">past</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">due</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">or</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reserve</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">below</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">requirement</span></span></span><span class="hljs-function"> */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forceLiquidate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Writer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">can</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deposit</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">additional</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reserve</span></span></span><span class="hljs-function"> * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">amount</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">how</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">much</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currency</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">token</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deposit</span></span></span><span class="hljs-function">. */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">depositReserve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint256 amount)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Writer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">can</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withdraw</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reserve</span></span></span><span class="hljs-function"> * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">param</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">amount</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">how</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">much</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currency</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">token</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withdraw</span></span></span><span class="hljs-function">. */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withdrawReserve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint256 amount)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onlyIssuer</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Is</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reserve</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">below</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">the</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">requirement</span></span></span><span class="hljs-function">? */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isReserveLow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Is</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">option</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">series</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expired</span></span></span><span class="hljs-function">? */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isExpired</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; /** * @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dev</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Can</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">option</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">be</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">liquidated</span></span></span><span class="hljs-function">? */ </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">canLiquidate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bool)</span></span></span><span class="hljs-function">; }</span></span></code> </pre> <br>  Ahora considere los flujos de trabajo b谩sicos para un contrato de venta.  Tomemos, por ejemplo, un contrato para la venta de tokens EOS denominados en DAI, que le permite proteger eficazmente los activos en EOS frente al d贸lar estadounidense.  El ciclo de vida de dicho contrato ser谩 el siguiente: <br><br><ol><li>  Cualquier usuario puede publicar un contrato BlockSigmaPut para un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tema</a> espec铆fico <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de opciones</a> .  Al publicar, debe especificar: (1) el token base, (2) el token de moneda, (3) la fecha de vencimiento, (4) la huelga, (5) la direcci贸n del emisor autorizado para actuar como garante de los contratos en este tema y (6) el requisito de reserva m铆nima bajo el contrato.  Ejemplo: vender EOS antes del 1 de julio de 2018 con una huelga de 10 DAI y una reserva m铆nima de 2 DAI.  Dicho contrato le da al comprador el derecho de vender EOS al garante por 10 DAI en cualquier momento hasta el 1 de julio de 2018.  El margen m铆nimo requerido para cada contrato en este caso ser谩 2 + m谩ximo (0, 10 - precio actual EOS). </li><li>  El emisor especificado act煤a como garante de un cierto n煤mero de contratos, colocando la reserva necesaria en una ficha de moneda.  Para el ejemplo anterior, al precio actual de mercado de EOS de $ 12, el emisor debe colocar 2 + max (0, 10 - 12) = 2 DAI para emitir 1 contrato de opci贸n.  Los contratos emitidos se considerar谩n tokens ERC20 ordinarios, lo que les permitir谩 cotizar en el intercambio para la venta. </li><li>  El comprador que quiera cumplir el contrato debe dar permiso para transferir la EOS al contrato de opci贸n inteligente y luego llamar al m茅todo de ejercicio.  Despu茅s del inicio de la ejecuci贸n del contrato, el vendedor tendr谩 24 horas para transferir el pago en un token de moneda.  En nuestro ejemplo, el vendedor debe dar 10 DAI por cada token EOS. </li><li>  El emisor da permiso para transferir tokens DAI de su cuenta al contrato de opci贸n inteligente y llama al m茅todo de entrega.  Un contrato inteligente ejecutado liquida autom谩ticamente la transacci贸n: transfiere DAI y EOS al comprador y al vendedor (emisor), respectivamente, y la reserva se devuelve al vendedor. </li><li>  (Opcional) Si el vendedor no ha realizado el pago dentro de las 24 horas, el comprador puede llamar al m茅todo forceLiquidate para devolver el EOS colocado junto con la reserva para cubrir las acciones incorrectas del vendedor. </li></ol><br>  Ahora considere c贸mo se implementa la gesti贸n de garant铆as.  En nuestro ejemplo, el precio de EOS en el momento en que se emiti贸 el contrato de opci贸n era de $ 12.  Supongamos que ella baj贸 a $ 9.  Entonces, la reserva necesaria ser谩 2 + max (0, 10 - 9) = 3. Esto significa que el vendedor debe depositar adicionalmente 1 DAI por cada contrato bajo el cual act煤a como garante.  Si el vendedor no puede hacer esto, entonces el comprador tendr谩 un incentivo econ贸mico para cerrar la posici贸n con fuerza: <br><br><ul><li>  Si el comprador ejerce la opci贸n, recibir谩 un pago de 10 - 9 = 1 DAI por cada contrato (es decir, comprar谩 EOS en el mercado por $ 9 y se lo vender谩 al emisor por $ 10). </li><li>  Por otro lado, si el comprador cierra la posici贸n por la fuerza, recibir谩 la reserva completa, que para nuestro ejemplo es de 2 DAI por cada contrato. </li></ul><br>  Esto motiva al comprador a cerrar posiciones con fuerza lo antes posible para obtener ganancias r谩pidamente. <br><br><h2>  Dificultades </h2><br>  De ninguna manera es una soluci贸n preparada.  Su objetivo principal es mostrar las capacidades innovadoras de blockchain y contratos inteligentes para automatizar acuerdos mutuos y administrar la provisi贸n de contratos de opciones.  Tradicionalmente, estos servicios son proporcionados por intermediarios, y tambi茅n requieren trabajo manual y pago de comisiones. <br><br>  Aunque nuestra soluci贸n es muy prometedora a este respecto, vemos una serie de dificultades serias: <br><br><ul><li>  El protocolo Bancor no se ha probado en condiciones estrictas.  Utiliza una funci贸n de precio determinista que converge para cambiar los precios a trav茅s del arbitraje.  Todav铆a no est谩 claro c贸mo funcionar谩 este mecanismo con una volatilidad mucho mayor y / o con graves brechas de precios. </li><li>  El mecanismo de gesti贸n de garant铆as es inestable ante brechas de precios agudas.  Te贸ricamente, es posible una situaci贸n en la que la responsabilidad del garante excede la reserva, por lo que la garant铆a desea romper la transacci贸n y el comprador no recibe una compensaci贸n completa.  Para evitar esto, puede aumentar la reserva m铆nima.  Adem谩s, puede hacerlo de la manera tradicional: los usuarios del sistema depositan fondos en un "grupo de seguros" distribuido, que cubre autom谩ticamente la escasez en casos excepcionales. </li><li>  Dado que Bancor utiliza una funci贸n de precio determinista, son posibles varias manipulaciones para aumentar los pagos a un lado del contrato de opci贸n en detrimento del otro.  Esto puede suceder solo con una peque帽a reserva del convertidor Bancor (es decir, con alta sensibilidad al precio) en relaci贸n con la cantidad de posici贸n de opciones.  En este caso, la manipulaci贸n de precios en Bancor puede resultar m谩s rentable que los pagos de opciones resultantes de dicha manipulaci贸n.  Sin embargo, este problema es t铆pico no solo para las criptomonedas, sino tambi茅n para los mercados tradicionales (por ejemplo, prender fuego a una casa para obtener un seguro). </li><li>  Incertidumbre en la regulaci贸n.  No estudiamos aspectos regulatorios, porque hasta ahora nuestro proyecto tiene objetivos puramente de investigaci贸n. </li></ul><br>  Si observa alg煤n problema que no est茅 en la lista, escr铆balo en los comentarios. <br><br><h2>  Conclusiones </h2><br>  La soluci贸n descrita en t茅rminos generales refleja los cambios fundamentales que la cadena de bloques traer谩 a la industria financiera en los pr贸ximos a帽os.  Adem谩s de acuerdos m谩s efectivos y gesti贸n de garant铆as, esta tecnolog铆a introducir谩 reglas uniformes, transparentes y autocumplidas para todos los participantes del mercado. <br><br>  Nuestro equipo de 8base no se especializa en las soluciones y protocolos especializados descritos en este art铆culo.  Esperamos un crecimiento explosivo de tecnolog铆as revolucionarias similares en los pr贸ximos a帽os en la ola de transformaci贸n digital.  En consecuencia, nos estamos enfocando en construir el pr贸ximo nivel de infraestructura para brindar a los usuarios comerciales un acceso f谩cil a estas tecnolog铆as y la capacidad de integrarlas en el software empresarial para lograr los objetivos comerciales. <br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuentes de</a> GitHub </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es415755/">https://habr.com/ru/post/es415755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es415743/index.html">Comit茅 Ol铆mpico ser谩 el anfitri贸n del foro de eSports</a></li>
<li><a href="../es415745/index.html">De subastas a canciones de cuna: c贸mo y d贸nde "funciona" la voz humana</a></li>
<li><a href="../es415747/index.html">Arist贸teles ten铆a raz贸n. Las personas no necesitan vida eterna ni felicidad absoluta.</a></li>
<li><a href="../es415749/index.html">C贸mo aprender un idioma extranjero sin un maestro. Parte 2. "Estrategia por turnos"</a></li>
<li><a href="../es415753/index.html">Brave browser se integra con Tor</a></li>
<li><a href="../es415757/index.html">C贸mo funciona BitSignature en Bitcoin</a></li>
<li><a href="../es415759/index.html">La NSA ha comenzado a eliminar metadatos que se registraron debido a un "error t茅cnico"</a></li>
<li><a href="../es415761/index.html">Qu茅, c贸mo y por qu茅 en los anuncios jugables</a></li>
<li><a href="../es415763/index.html">El gobierno de los Estados Unidos est谩 discutiendo la posibilidad de recuperar el control sobre la IANA [pero esto es poco probable]</a></li>
<li><a href="../es415765/index.html">驴Por qu茅 VMware decidi贸 crear una plataforma para desarrollar blockchains empresariales?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>