<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤹🏽 🔶 📪 Sobre o anonimato em blockchains com base em contas 🎭 🌠 ❤️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Há muito tempo nos interessamos no anonimato das criptomoedas e tentamos acompanhar o desenvolvimento de tecnologias nessa área. Em nossos artigos, já...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sobre o anonimato em blockchains com base em contas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/exante/blog/452184/">  Há muito tempo nos interessamos no anonimato das criptomoedas e tentamos acompanhar o desenvolvimento de tecnologias nessa área.  Em nossos artigos, já examinamos em detalhes os princípios de operação de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">transações confidenciais</a> em Monero e também realizamos uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">análise comparativa das</a> tecnologias existentes neste campo.  No entanto, todas as criptomoedas anônimas hoje são construídas com base no modelo de dados proposto pelo Bitcoin - Unspent Transaction Output (doravante UTXO).  Para blockchains baseados em contas como o Ethereum, as soluções existentes para a implementação do anonimato e da privacidade (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mobius</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aztec</a> ) tentaram repetir o modelo UTXO em contratos inteligentes. <br><br>  Em fevereiro de 2019, um grupo de pesquisadores da Universidade de Stanford e da Visa Research <a name="habracut"></a>  divulgou a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pré</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">impressão</a> "Zether: Rumo à privacidade no mundo dos contratos inteligentes".  Os autores propuseram uma abordagem para garantir o anonimato em blockchains com base em contas e apresentaram duas opções para um contrato inteligente: para transações confidenciais (ocultação de saldos e valores de transferência) e transações anônimas (ocultando destinatário e remetente).  Achamos a tecnologia proposta interessante e gostaríamos de compartilhar seu dispositivo, além de discutir por que o problema do anonimato nas cadeias de blocos baseadas em contas é considerado muito complexo e se os autores conseguiram resolvê-lo por completo. <br><br><cut></cut><br><br><h3>  Sobre o dispositivo desses modelos de dados </h3><br>  No modelo UTXO, uma transação consiste em "entradas" e "saídas".  Um análogo direto das “saídas” é a nota na sua carteira: cada “saída” tem uma determinada denominação.  Quando você paga com alguém (forma uma transação), gasta uma ou mais "saídas", enquanto elas se tornam as "entradas" da transação, e o blockchain as marca como gastas.  Ao mesmo tempo, o destinatário do seu pagamento (ou você mesmo, se precisar de uma alteração) recebe as "saídas" recém-geradas.  Esquematicamente, isso pode ser representado da seguinte maneira: <br><br><img src="https://habrastorage.org/webt/tj/ed/8o/tjed8olalcrirbjpupoms6bwejo.png" alt="imagem"><br><br>  As blockchains baseadas em contas são estruturadas como sua conta bancária.  Eles operam apenas no valor da sua conta e no valor da transferência.  Quando você transfere uma certa quantia da sua conta, não queima nenhuma "saída", a rede não precisa se lembrar de quais moedas são gastas e quais não são.  No caso mais simples, a verificação de uma transação é reduzida à verificação da assinatura do remetente e do valor em seu saldo: <br><br><img src="https://habrastorage.org/webt/kw/pg/zn/kwpgzn1wg1mmztznetqntcdfbca.png" alt="imagem"><br><br><h3>  Análise de tecnologia </h3><br>  A seguir, falaremos sobre como o Zether oculta a quantidade de transações, o destinatário e o remetente.  No decorrer da descrição dos princípios de seu trabalho, observaremos as diferenças nas versões confidencial e anônima.  Como é muito mais fácil garantir a confidencialidade em blockchains com base em contas, algumas das restrições impostas pelo anonimato não serão relevantes para uma versão confidencial da tecnologia. <br><br><h4>  Ocultação de saldos e valores de transferência </h4><br>  O Zether usa o esquema de criptografia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">El Gamal</a> para criptografar saldos e transferir valores.  Funciona da seguinte maneira.  Quando Alice deseja enviar as moedas de Bob <i><b>b</b></i> para o endereço (sua chave pública) <i><b>Y</b></i> , ela escolhe um número aleatório <i><b>r</b></i> e criptografa o valor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ky/t6/3x/kyt63xxqcoleppvesgfpoubyj8y.png" alt="imagem"></div><br>  onde <i><b>C</b></i> é a soma criptografada, <i><b>D</b></i> é o valor auxiliar necessário para descriptografar essa soma, <i><b>G</b></i> é o ponto fixo na curva elíptica, quando a chave secreta é multiplicada pela qual a chave pública é obtida. <br><br>  Quando Bob recebe esses valores, ele simplesmente os adiciona ao seu saldo, criptografado da mesma maneira, o que é conveniente para esse esquema. <br><br>  Da mesma forma, Alice subtrai os mesmos valores de seu balanço, usa apenas <i><b>Y</b></i> como sua chave pública. <br><br><h4>  Ocultação do destinatário e do remetente </h4><br>  A mistura de "saídas" no UTXO apareceu no início das criptomoedas e ajuda a esconder o remetente.  Para fazer isso, o remetente, ao fazer uma transferência, coleta “saídas” aleatórias na blockchain e amassa-as com as suas.  Em seguida, ele assina as “saídas” com uma assinatura de anel - um mecanismo criptográfico que permite convencer o verificador de que entre as “saídas” envolvidas existem moedas emissoras.  As próprias moedas implicadas, é claro, não são desperdiçadas. <br><br>  No entanto, para ocultar o destinatário, não seremos capazes de gerar "resultados" falsos.  Portanto, no UTXO, cada “saída” possui seu próprio endereço exclusivo e é criptograficamente associada ao endereço do destinatário dessas moedas.  No momento, não há como identificar a relação entre o endereço de “saída” exclusivo e o endereço do destinatário sem conhecer suas chaves secretas. <br><br>  Em um modelo baseado em conta, não podemos usar endereços únicos (caso contrário, já será um modelo de "saídas").  Portanto, o destinatário e o remetente devem ser amassados ​​entre outras contas na blockchain.  Ao mesmo tempo, 0 moedas criptografadas são debitadas das contas amassadas (ou 0 é adicionado - no caso de um destinatário amassar), sem alterar seu saldo real. <br><br>  Como o remetente e o destinatário sempre têm um endereço permanente, aqui é necessário usar os mesmos grupos para misturar nos mesmos endereços.  É mais fácil considerar isso com um exemplo. <br><br>  Suponha que Alice decidiu contribuir para a caridade de Bob, mas prefere que a transferência permaneça anônima para um observador externo.  Em seguida, para se disfarçar no campo do remetente, ela também entra nas contas de Adam e Adele.  E para esconder Bob - no campo do destinatário, além das contas de Ben e Bill.  No próximo capítulo, Alice decidiu entrar com Alex e Amanda ao lado dela, e Bruce e Bengen ao lado de Bob.  Nesse caso, ao analisar o blockchain nessas duas transações, há apenas um par de participantes que se interceptam - Alice e Bob, que desinteronizam essas transações. <br><br><img src="https://habrastorage.org/webt/dj/o6/x0/djo6x0r31q3_bzpa78t0cklzt_i.png" alt="imagem"><br><br><h4>  Transaction Racing </h4><br>  Como já mencionamos, para ocultar seu saldo em sistemas baseados em contas, o usuário criptografa seu saldo e o valor da transferência.  Além disso, ele deve provar que o saldo em sua conta permanece não negativo.  O problema é que, ao formar uma transação, o usuário cria evidências sobre seu estado atual da conta.  E o que acontece se Bob enviar uma transação para Alice, e ela será aceita antes do envio por Alice?  A transação de Alice será considerada inválida porque a prova de saldo foi criada antes da adoção da transação Bob. <br><br><img src="https://habrastorage.org/webt/bn/d0/7z/bnd07z43bu5m76fbbvjlvda7ek0.png" alt="imagem"><br><br>  A primeira solução que vem em tal situação é congelar sua conta antes da transação.  Mas essa abordagem não é adequada, pois, além da complexidade de resolver esse problema em um sistema distribuído, em um esquema anônimo, não ficará claro quem deve bloquear a conta. <br><br>  Para resolver esse problema, a tecnologia separa as transações de entrada e saída: gastar dinheiro tem um efeito imediato no balanço patrimonial e a receita é diferida.  Para isso, é introduzido o conceito de “era” - um grupo de blocos de tamanho fixo.  A "era" atual é determinada dividindo a altura do bloco pelo tamanho do grupo.  Ao processar a transação, a rede atualiza o saldo do remetente imediatamente e adiciona os fundos do destinatário à unidade.  Os fundos acumulados estão disponíveis para o beneficiário somente quando uma nova "era" se instala. <br><br>  Como resultado, o usuário pode enviar transações, independentemente da frequência com que recebe fundos (na medida em que o saldo permitir, é claro).  O tamanho de uma época é determinado com base na rapidez com que os blocos se espalham pela rede e na rapidez com que a transação cai no bloco. <br><br>  Essa solução funciona bem no caso de transferências confidenciais, mas com transações anônimas, como veremos mais adiante, cria sérios problemas. <br><br><h4>  Reproduzir proteção contra ataques </h4><br>  Nas blockchains baseadas em contas, cada transação é assinada pela chave privada do remetente, o que convence o verificador de que a transação não foi alterada e foi criada pelo proprietário dessa chave.  Mas e se o atacante que estava ouvindo o canal de transmissão interceptar essa mensagem e enviar exatamente o mesmo segundo?  O verificador verificará a assinatura da transação e ficará convencido de sua autoria, e a rede debitará o mesmo valor do saldo do remetente novamente. <br><br>  Esse ataque é chamado de ataque de repetição.  No modelo UTXO, esses ataques não são relevantes, porque o invasor tentará usar as saídas gastas, que por si só não são válidas e são rejeitadas pela rede. <br><br>  Para impedir que isso aconteça, um campo de dados aleatório é inserido na transação, chamado de nonce ou simplesmente "salt".  Ao reenviar uma transação com um salt, o revisor verifica se esse nonce foi usado antes e, se não, considera essa transação válida.  Para não armazenar todo o histórico de usuários nonce no blockchain, geralmente é considerado zero na primeira transação e depois aumentado em um.  A rede só pode verificar se a diferença da nova transação difere do passado em uma. <br><br>  Em um esquema de tradução anônima, surge o problema de validar transações nonce.  Não podemos vincular nonce explicitamente ao endereço do remetente, porque, obviamente, isso desaroniza a tradução.  Também não podemos adicionar um ao nonce de todas as contas participantes, pois isso pode entrar em conflito com outras traduções que estão sendo processadas. <br><br>  Os autores de Zether propõem gerar nonce criptograficamente - dependendo da "era".  Por exemplo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5q/ku/zu/5qkuzus5hr-5168x4ieihiwtbjw.png" alt="imagem"></div><br>  Aqui <b><i>x</i></b> é a chave secreta do remetente e a <b><i><sub>época</sub> G</i></b> é um gerador adicional para a época, obtido por hash de uma string da forma 'Zether +'.  Agora, o problema, ao que parece, está sendo resolvido - não divulgamos o não envio do remetente e não interferimos com o não envio dos participantes não envolvidos.  Mas essa abordagem impõe uma limitação séria: uma conta não pode enviar mais de uma transação na "era".  Infelizmente, esse problema permanece sem solução e atualmente torna uma versão anônima do Zether, em nossa opinião, pouco adequada para uso. <br><br><h4>  Evidência de Confiança Zero </h4><br>  No UTXO, o remetente deve provar à rede que ele não está gastando uma quantia negativa; caso contrário, torna-se possível gerar novas moedas a partir do ar (por que isso foi possível, escrevemos em um dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos</a> anteriores).  E também assine as “entradas” com uma assinatura de anel para provar que entre as moedas amassadas existem fundos pertencentes a ele. <br><br>  Na versão anônima do blockchain baseado em conta, as expressões para prova são muito mais complicadas.  O remetente prova que: <br><br><ol><li>  O valor enviado é positivo; </li><li>  O saldo permanece não negativo; </li><li>  O remetente criptografou corretamente a quantidade de transferências (incluindo zero); </li><li>  O saldo da balança é alterado apenas pelo remetente e pelo destinatário; </li><li>  O remetente possui a chave secreta de sua conta e ele realmente está na lista de remetentes (entre os envolvidos); </li><li>  O nonce usado na transação é composto corretamente. </li></ol><br>  Para uma prova tão complexa, os autores usam uma mistura de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bulletproof</a> (a propósito, um dos autores participou de sua criação) e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">protocolo Sigma</a> , chamado Sigma-bullets.  A prova formal de tal afirmação é uma tarefa bastante difícil e limita severamente o número de pessoas que desejam adotar a implementação da tecnologia. <br><br><h4>  Qual é o resultado? </h4><br>  Em nossa opinião, a parte do Zether, que adiciona privacidade às blockchains baseadas em contas, pode muito bem ser usada agora.  No momento, porém, uma versão anônima da tecnologia impõe sérias restrições ao seu uso e sua complexidade na implementação.  No entanto, não esqueça que os autores o lançaram apenas alguns meses atrás e talvez alguém encontre uma solução para os problemas hoje.  De fato, é assim que a ciência é feita. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt452184/">https://habr.com/ru/post/pt452184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt452172/index.html">Sistemas complexos. Atingindo um nível crítico</a></li>
<li><a href="../pt452174/index.html">Ele não precisa de você</a></li>
<li><a href="../pt452178/index.html">Análise: 23 erros populares no inglês escrito e como evitá-los</a></li>
<li><a href="../pt452180/index.html">Aumentamos o desempenho do SSD a partir dos joelhos, onde clicar e por que</a></li>
<li><a href="../pt452182/index.html">Pesquisa de funcionários. O principal erro</a></li>
<li><a href="../pt452186/index.html">As linguagens de programação mais raras e caras</a></li>
<li><a href="../pt452188/index.html">Teste de unidade de serialização Json no Spring Boot</a></li>
<li><a href="../pt452190/index.html">Usando o WebAssembly 20x Web Application Accelerated</a></li>
<li><a href="../pt452192/index.html">O que é isso aqui? Operação interna de objetos JavaScript</a></li>
<li><a href="../pt452198/index.html">O que todo engenheiro de controle de qualidade deve saber sobre o Selenium 4?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>