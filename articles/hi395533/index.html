<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзСЁЯП╜тАНЁЯдЭтАНЁЯзСЁЯП╗ ЁЯТЩ ЁЯСйЁЯП╛тАНЁЯдЭтАНЁЯСйЁЯП╜ ESP8266 рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣рд╛рдпрд░ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд┐рдВрдЧ рдирд┐рдпрдВрддреНрд░рдг ЁЯМн ЁЯМЙ ЁЯУГ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ "рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо" рдмрдирд╛рдиреЗ рдкрд░ рд▓реЗрдЦреЛрдВ рдХреА рдирд┐рд░рдВрддрд░рддрд╛ рдореЗрдВ ... 
 
 
 
 рд╣рд╛рдпрд░ рд▓рд╛рдЗрдЯрд░ рд╕реАрд░реАрдЬ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдореЗрдВ рдлреЛрди рдкрд░ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ESP8266 рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣рд╛рдпрд░ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд┐рдВрдЧ рдирд┐рдпрдВрддреНрд░рдг</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395533/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ "рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо" рдмрдирд╛рдиреЗ рдкрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрдЦреЛрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА рдирд┐рд░рдВрддрд░рддрд╛ рдореЗрдВ </font><font style="vertical-align: inherit;">... </font></font><br>
<br>
<img src="https://habrastorage.org/files/280/6dd/316/2806dd31655941f38656dcdf60dfe906.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рдпрд░ рд▓рд╛рдЗрдЯрд░ рд╕реАрд░реАрдЬ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдореЗрдВ рдлреЛрди рдкрд░ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдПрдХ рдЕрдЬреНрдЮрд╛рдд рдЪреАрдиреА рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред рдкреБрд░рд╛рдиреЗ рдореЙрдбрд▓реЛрдВ рдХреЗ рд▓рд┐рдП, рдореЙрдбреНрдпреВрд▓ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдерд╛ рдФрд░ рдЗрд╕реЗ рдЕрд▓рдЧ рд╕реЗ рдЦрд░реАрджрд╛ рдЧрдпрд╛ рдерд╛, рдпрд╣ рдЗрдирдбреЛрд░ рдЗрдХрд╛рдИ рдореЗрдВ рдирд┐рдпрдВрддреНрд░рдг рдмреЛрд░реНрдб рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИред рдирдП рдореЙрдбрд▓ рдкрд░, рдХрдиреЗрдХреНрдЯрд░ рдПрдХ рд╕рдЬрд╛рд╡рдЯреА рдЯреНрд░рд┐рдо рдХреЗ рдиреАрдЪреЗ рд╣реИ рдФрд░ рд▓рд╛рдЗрдЯрд░ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдерд╛рдкрд┐рдд рд╣реИред рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрд╣ рдЗрдХрд╛рдИ рдХрдИ рд╣рд╛рдпрд░ рдмреНрд░рд╛рдВрдб рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рд╣реИред</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреЗрд╢реА рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╕реНрдорд╛рд░реНрдЯрдлреЛрди / рдЯреИрдмрд▓реЗрдЯ рдкрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЗрд╕рдореЗрдВ рдкрдВрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рд╡рд╛рдИ-рдлрд╛рдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдкрдиреЗ рд╕реНрдорд╛рд░реНрдЯрдлреЛрди / рдЯреИрдмрд▓реЗрдЯ рдХреЛ рд░рд╛рдЙрдЯрд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдиреНрдпреВрдирддрдо рдкреНрд░рд╢рдВрд╕рдХ рдЧрддрд┐ рдХреЗ рд╕рд╛рде рдХреВрд▓рд┐рдВрдЧ рдореЛрдб рдореЗрдВ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЛ 30 рдбрд┐рдЧреНрд░реА рддрдХ рдЪрд╛рд▓реВ рдХрд░реЗрдВ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рд╣рд╛рдпрд░-рдпреВрдПрд╕реА рдиреЗрдЯрд╡рд░реНрдХ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рд╣реИ, рдФрд░ рдЙрдкрдХрд░рдгреЛрдВ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрдХреНрд░рдо рд╢реБрд░реВ рдХрд░реЗрдВред рдХрд╛рд░реНрдпрдХреНрд░рдо рдЕрдкрдиреЗ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд┐рдВрдЧ рдФрд░ рдЙрдкрд▓рдмреНрдз рдиреЗрдЯрд╡рд░реНрдХ рдкрд╛рддрд╛ рд╣реИред рдЖрдк рд╕реВрдЪреА рд╕реЗ рдЪрдпрди рдХрд░рдХреЗ рдЕрдкрдиреЗ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЕрдкрдиреЗ рдЙрдкрдХрд░рдг (рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░) рдХреЗ рдореЙрдбрд▓ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред рдореЗрд░реЗ рд╣реЛрдо рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ, рдбреАрдПрдЪрд╕реАрдкреА рд╕рд░реНрд╡рд░ рд░рд╛рдЙрдЯрд░ рдкрд░ рдЕрдХреНрд╖рдо рд╣реИ рдФрд░ рдХрдиреЗрдХреНрдЯ рдХрд┐рдП рдЧрдП рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдореЗрд░реЗ рд╡рд╛рдИрдлрд╛рдИ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рдирдпрд╛ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдиреЗ рдФрд░ рдПрд╕рдПрд╕рдЖрдИрдбреА (рдЪреВрдВрдХрд┐ рдпрд╣ рдЫрд┐рдкрд╛ рд╣реБрдЖ рд╣реИ) рдХреЗ рдЕрд▓рд╛рд╡рд╛ рд╡рд╣рд╛рдВ рдкрдВрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рднреА рдПрдХ рд╕реНрдерд┐рд░ рдбреЗрдЯрд╛ рдкрддрд╛ рд╣реЛрдЧрд╛редрдпрд╣ рдЗрд╕ рдХрд╛рд░рдг рд╕реЗ рд╣реИ рдХрд┐ рдореИрдВ рдЕрдкрдиреЗ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдирд╣реАрдВ рдЬреЛрдбрд╝ рд╕рдХрд╛, рдХреНрдпреЛрдВрдХрд┐ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдкрд░ рдпрд╣ рдореБрдЭреЗ рдХреЗрд╡рд▓ рд╡рд╛рдИрдлрд╛рдИ рдПрдХреНрд╕реЗрд╕ рдкреНрд╡рд╛рдЗрдВрдЯ рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддрд╛ рд╣реИред рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЗ рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рджрд░реНрдЬ рдбреЗрдЯрд╛ рднреЗрдЬрддрд╛ рд╣реИ рдФрд░, рдЗрд╕ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдпрд╣ рдЖрдкрдХреЗ рдПрдХреНрд╕реЗрд╕ рдкреНрд╡рд╛рдЗрдВрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рдЙрдореНрдореАрдж рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдПрдХ рдЖрдИрдкреА рдкрддрд╛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рдореЗрд░рд╛ рд░рд╛рдЙрдЯрд░ рдЗрд╕рдХреА рд╕рднреА рдЖрд╢рд╛рдУрдВ рдХреЛ рддреЛрдбрд╝ рджреЗрддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреЗрд╢реА рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ред</font></font><br>
<br>
<a href=""><div style="text-align:center;"><img src="https://habrastorage.org/files/fba/97a/5fc/fba97a5fcabe4aea8d7ebba7b4f8ff93.jpg" alt="рджреЗрд╢реА рд╡рд╛рдИрдлрд╛рдИ рд╣рд╛рдпрд░ рдореЙрдбреНрдпреВрд▓ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐"></div></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЕрднреА рднреА рдЗрд╕реЗ рджреВрд╕рд░реЗ рд░рд╛рдЙрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреЛрдбрд╝рд╛ред </font><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдмрдВрдзрди рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмрд┐рдирд╛ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд┐рдВрдЧ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ, рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдХрдИ рдЙрдкрдХрд░рдг рдирд┐рд░реНрдорд╛рддрд╛рдУрдВ рдХреА рддрд░рд╣, рд╣рд╛рдпрд░ рдиреЗ рдЕрдиреНрдп рд╕реНрд╡рдЪрд╛рд▓рди рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ (рд╡рд┐рд╢реЗрд╖ рдореЙрдбреНрдпреВрд▓ рдФрд░ рдЙрдкрдХрд░рдг рдХреЗ рдмрд┐рдирд╛) рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЗ рдмрд┐рдирд╛ рдЕрдкрдиреЗ рдЖрд╡реЗрджрди рдХреЗ рд╕рд╛рде рдЕрдкрдирд╛ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдмрдирд╛рдпрд╛ред </font><font style="vertical-align: inherit;">рдЕрдВрдд рдореЗрдВ, рдореИрдВрдиреЗ рдПрдХ рдкреНрд░рд╕рд┐рджреНрдз рдЪрд░рд┐рддреНрд░ рдХреА рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЕрдкрдирд╛ рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдзрд╛рд░ рдХреЛ ESP8266 12F рд▓рд┐рдпрд╛ рдЧрдпрд╛, рдЬреЛ MQTT рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реАрдзреЗ рдореЗрд░реЗ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдЧрд╛ред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IOBroker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рд╣реИ </font><font style="vertical-align: inherit;">, рдЬреЛ MQTT рд╕рд░реНрд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЗ рд╕рд╛рде рд╣реА рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд░рд╣рд╛ред </font><font style="vertical-align: inherit;">рдкрд┐рдЫрд▓реЗ рдореЙрдбрд▓реЛрдВ рдХреЗ рдореВрд▓ рдореЙрдбреНрдпреВрд▓ рдФрд░ рдирд┐рдпрдВрддреНрд░рдг рдЗрдХрд╛рдИ рд╕рд░реНрдХрд┐рдЯ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ TTL рд╕реНрддрд░реЛрдВ рдХреЗ рд╕рд╛рде рдирд┐рдпрдорд┐рдд UART рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">RX / TX рд▓рд╛рдЗрди рдХреЗ рд╕рд╛рде рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ UART / USB рдПрдбреЙрдкреНрдЯрд░ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ рд░рд┐рдореЛрдЯ рдХрдВрдЯреНрд░реЛрд▓ рд╕реЗ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рд╕рднреА рдбреЗрдЯрд╛ рдкрдврд╝рд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлреЛрдЯреЛ рдорджрд░рдмреЛрд░реНрдб рдорджрд░рдмреЛрд░реНрдбред</font></font><br>
<br>
<a href=""><div style="text-align:center;"><img src="https://habrastorage.org/files/9c7/284/74a/9c728474ac914855a7af1e30a8b95b27.jpg" alt="рд╣рд╛рдпрд░ рдиреЗрдЯрд┐рд╡ рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рдмреЛрд░реНрдб"></div><br>
</a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 рдмреЛрд░реНрдб 3.3 рд╡реА рдбреАрд╕реА / рдбреАрд╕реА рдХрдирд╡рд░реНрдЯрд░ рдФрд░ рддрд░реНрдХ рд╕реНрддрд░ рдХреЗ рдХрдиреНрд╡рд░реНрдЯрд░реНрд╕ рджрд┐рдЦрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕реНрдХреНрд░реАрди рдиреЗ рд╢реВрдЯ рдХрд░рдирд╛ рд╢реБрд░реВ рдирд╣реАрдВ рдХрд┐рдпрд╛, рдЗрд╕рдХреЗ рддрд╣рдд рдЕрдЬреНрдЮрд╛рдд рдХреНрдпрд╛ рд╣реИред</font></font><br>
<br>
<a href=""><div style="text-align:center;"><img src="https://habrastorage.org/files/415/2ec/a23/4152eca238784c5482da059d7846c0a6.jpg" alt="рд╣рд╛рдпрд░ рдиреЗрдЯрд┐рд╡ рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рдмреЛрд░реНрдб"></div><br>
</a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЙрд▓рдЯрдлреЗрд░ рдХреЗ рд╕рд╛рде рдпрд╣ рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рдЕрдиреБрднрд╡ рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрд░реА рд░рд╛рдп рдореЗрдВ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдмрд╣реБрдд рд╕рд░рд▓ рдирд┐рдХрд▓рд╛ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд┐рдирд┐рдордп рджрд░ 9600/8-N-1 рд╣реИред </font><font style="vertical-align: inherit;">рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рд╣рд░ 13 рд╕реЗрдХрдВрдб (13 рдмрд╛рдЗрдЯреНрд╕) рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рд╕рднреА рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рдкреИрдХреЗрдЯ (37 рдмрд╛рдЗрдЯреНрд╕) рдЬрд╛рд░реА рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕реНрдкреЙрдЗрд▓рд░ рдХреЗ рддрд╣рдд, рдмрд╛рдЗрдЯреНрд╕ рдХреА рдПрдХ рд╕реВрдЪреА рдЬреЛ рдЕрдкреНрд░рдХрд╛рд╢рд┐рдд рд╣реБрдИред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕рдЪреЗрдВрдЬ рдкреНрд░реЛрдЯреЛрдХреЙрд▓</font></font></b><div class="spoiler_text">1 тАФ FF c <br>
2 тАФ FF c <br>
3 тАФ 22<br>
4 тАФ 00<br>
5 тАФ 00<br>
6 тАФ 00<br>
7 тАФ 00<br>
8 тАФ 00<br>
9 тАФ 01<br>
10 тАФ 01 тАФ  , 02 тАФ  <br>
11 тАФ 4D тАФ  , 6D тАФ  <br>
12 тАФ 5F тАФ  <br>
13 тАФ 00<br>
14 тАФ 1A тАФ 26 , 1B тАФ 27,  <br>
15 тАФ 00<br>
16 тАФ 00<br>
17 тАФ 00<br>
18 тАФ 00 тАФ  , 7F- <br>
19 тАФ 00<br>
20 тАФ 00<br>
21 тАФ 00<br>
22 тАФ 00<br>
23 тАФ 00<br>
24 тАФ 00 тАФ smart, 01 тАФ cool, 02 тАФ heat, 03 тАФ , 04 тАФ DRY, <br>
25 тАФ 00<br>
26 тАФ 00 тАФ max, 01 тАФ mid, 02 тАФ min, 03 тАФ auto тАФ FanSpeed<br>
27 тАФ 00<br>
28 тАФ 00 тАФ ., 01 тАФ     . 02 тАФ / . 03 тАФ  <br>
29 тАФ 00 тАФ    , 80  . <br>
30 тАФ 00 тАФ power off, x1 тАФ power on, (1x ) тАФ ? x9 тАФ QUIET<br>
31 тАФ 00<br>
32 тАФ 00 тАФ fresh off, 01 тАФ fresh on<br>
33 тАФ 00<br>
34 тАФ 00<br>
35 тАФ 00<br>
36 тАФ 00 тАФ 16 , 01 тАФ 17 0E тАФ 30 .  <br>
37 тАФ  .       .<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЫреЛрдЯреА рдЯреАрдореЗрдВ</font></font></b><div class="spoiler_text">FF FF 0A 00 00 00 00 00 01 01 4D 02 5B <br>
FF FF 0A 00 00 00 00 00 01 01 4D 03 5C <br>
FF FF 0A 00 00 00 00 00 01 03 00 00 0E  <br>
FF FF 0A 00 00 00 00 00 01 01 4D 01 5A  <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рддрд╛рдкрдорд╛рди рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдлрдПрдл рдПрдлрдПрдл 22 00 00 00 00 00 01 01 4D 5F 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 04 04 048 - 20 рдбрд┐рдЧреНрд░реА рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рд╕рд░реНрдХрд┐рдЯ рдЖрд░реЗрдЦ рдЦреАрдВрдЪрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╕рд░реНрдХрд┐рдЯ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рд╕реЗ 5 рд╡реЛрд▓реНрдЯ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЪреВрдВрдХрд┐ ESP8266 рдХреА рдЖрдкреВрд░реНрддрд┐ рд╡реЛрд▓реНрдЯреЗрдЬ 3.3 рд╡реЛрд▓реНрдЯ рд╣реИ, рддреЛ рд╕рдВрдмрдВрдзрд┐рдд рдЖрдЙрдЯрдкреБрдЯ рд╡реЛрд▓реНрдЯреЗрдЬ рдХреЗ рд▓рд┐рдП рдПрдХ рд░реИрдЦрд┐рдХ рд╕реНрдЯреЗрдмрд▓рд╛рдЗрдЬрд░ LM1117 (AMS1117) рд╣реИред </font><font style="vertical-align: inherit;">рддрд░реНрдХ рд╕реНрддрд░ рдХрдиреНрд╡рд░реНрдЯрд░реНрд╕ рдХреЛ рддрддреНрд╡реЛрдВ R1, Q1, R3 рдФрд░ R2, R3 рдкрд░ рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ ESP8266 рдореЙрдбреНрдпреВрд▓ рдХреЗ RXD TXD 5 V рдХреЗ рд▓рд┐рдП рд╕рд╣рд┐рд╖реНрдгреБ рдирд╣реАрдВ рд╣реИред ESP рдХреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХреЗ рд▓рд┐рдП, U2 U3 рдХреЗ рд╕рдВрдкрд░реНрдХреЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде рдмрдВрдж рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд░реНрдХрд┐рдЯ рдЖрд░реЗрдЦред</font></font><br>
<a href=""><div style="text-align:center;"><img src="https://habrastorage.org/files/db8/446/88b/db844688b6cc4090baa37009173340c8.jpg" alt="рдпреЛрдЬрдирд╛"></div><br>
</a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдПрдХ рдореБрджреНрд░рд┐рдд рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб рдХрд╛ рдЙрддреНрдкрд╛рджрди рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдмреЛрд░реНрдб рдХрд╛ рд▓реЗрдЖрдЙрдЯ рджреЗрд╢реА рд╡рд╛рдИрдлрд╛рдИ рдореЙрдбреНрдпреВрд▓ рд╕реЗ рдЖрд╡рд╛рд╕ рдореЗрдВ рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/899/bb3/d26/899bb3d26431439db346242ab24b2dc7.jpg" width="400" alt="рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/5a5/330/caa/5a5330caae44425ea1dd2a4d58aebf98.jpg" width="400" alt="рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдлреЛрдЯреЛ рдореЗрдВ, рдкрд░реАрдХреНрд╖рдг рдмреЛрд░реНрдбред</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/5dd/195/0ab/5dd1950ab3d344e5b1b1e962decf0e49.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЛрдб рдПрдХ Arduino рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдг </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рдЙрдкрд▓рдмреНрдз </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╣реИ</font></a><font style="vertical-align: inherit;"> ред</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдб</font></font></b><div class="spoiler_text"><pre><code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#include &lt;ESP8266WiFi.h&gt;</span></span>
<span class="hljs-meta"><span class="hljs-meta">#include &lt;PubSubClient.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* ssid = <span class="hljs-string"><span class="hljs-string">"..."</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* password = <span class="hljs-string"><span class="hljs-string">"..."</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* mqtt_server = <span class="hljs-string"><span class="hljs-string">"xx.xx.xx.xx"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// MQTT</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-function">IPAddress </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xx,xx,xx,x</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">//IP </span></span>
<span class="hljs-function"><span class="hljs-function">IPAddress </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gateway</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xx,xx,xx,xx</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">// </span></span>
<span class="hljs-function"><span class="hljs-function">IPAddress </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subnet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xx,xx,xx,xx</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-comment"><span class="hljs-comment">// </span></span><font></font>
<font></font>
WiFiClient espClient;<font></font>
<span class="hljs-function"><span class="hljs-function">PubSubClient </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">client</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">espClient</span></span></span><span class="hljs-function">)</span></span>;<font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> ID_CONNECT "myhome-Conditioner"</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LED     12</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LEN_B   37</span></span><font></font>
<font></font>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_CUR_TMP   13  // </span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_CMD       17  // 00- 7F- ???</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_MODE      23  //04 - DRY, 01 - cool, 02 - heat, 00 - smart 03 - </span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_FAN_SPD   25  // 02 - min, 01 - mid, 00 - max, 03 - auto</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_SWING     27  //01 -     . 00 - . 02 - / . 03 -  </span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_LOCK_REM  28  //80  . 00 -  </span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_POWER     29  //on/off 01 - on, 00 - off (10, 11)-??? 09 - QUIET</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_FRESH     31  //fresh 00 - off, 01 - on</span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> B_SET_TMP   35  // </span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fresh;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> power;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> swing;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lock_rem;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cur_tmp;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> set_tmp;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fan_spd;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Mode;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> prev = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> inCheck = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> qstn[] = {<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">77</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">90</span></span>}; <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-comment"><span class="hljs-comment">//byte start[] = {255,255};</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> data[<span class="hljs-number"><span class="hljs-number">37</span></span>] = {}; <span class="hljs-comment"><span class="hljs-comment">// </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span>[]   = {<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">77</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">91</span></span>}; <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> off[]  = {<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">77</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">92</span></span>}; <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lock</span></span>[] = {<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">255</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>};  <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-comment"><span class="hljs-comment">//byte buf[10];</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup_wifi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">10</span></span>);<font></font>
  WiFi.begin(ssid, password);<font></font>
  WiFi.config(ip, gateway, subnet);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (WiFi.status() != WL_CONNECTED) {<font></font>
    delay(<span class="hljs-number"><span class="hljs-number">500</span></span>);<font></font>
    digitalWrite(LED, !digitalRead(LED));<font></font>
  }<font></font>
  digitalWrite(LED, HIGH);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reconnect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {<font></font>
  digitalWrite(LED, !digitalRead(LED));<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!client.connected()) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (client.connect(ID_CONNECT)) {<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/connection"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>);<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/RAW"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);<font></font>
      client.subscribe(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/#"</span></span>);<font></font>
      digitalWrite(LED, HIGH);<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>);<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InsertData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> data[], size_t size</span></span></span><span class="hljs-function">)</span></span>{<font></font>
    set_tmp = data[B_SET_TMP]+<span class="hljs-number"><span class="hljs-number">16</span></span>;<font></font>
    cur_tmp = data[B_CUR_TMP];<font></font>
    Mode = data[B_MODE];<font></font>
    fan_spd = data[B_FAN_SPD];<font></font>
    swing = data[B_SWING];<font></font>
    power = data[B_POWER];<font></font>
    lock_rem = data[B_LOCK_REM];<font></font>
    fresh = data[B_FRESH];<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fresh == <span class="hljs-number"><span class="hljs-number">0x00</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fresh"</span></span>, <span class="hljs-string"><span class="hljs-string">"off"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fresh == <span class="hljs-number"><span class="hljs-number">0x01</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fresh"</span></span>, <span class="hljs-string"><span class="hljs-string">"on"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lock_rem == <span class="hljs-number"><span class="hljs-number">0x80</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Lock_Remote"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lock_rem == <span class="hljs-number"><span class="hljs-number">0x00</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Lock_Remote"</span></span>, <span class="hljs-string"><span class="hljs-string">"false"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (power == <span class="hljs-number"><span class="hljs-number">0x01</span></span> || power == <span class="hljs-number"><span class="hljs-number">0x11</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Power"</span></span>, <span class="hljs-string"><span class="hljs-string">"on"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (power == <span class="hljs-number"><span class="hljs-number">0x00</span></span> || power == <span class="hljs-number"><span class="hljs-number">0x10</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Power"</span></span>, <span class="hljs-string"><span class="hljs-string">"off"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (power == <span class="hljs-number"><span class="hljs-number">0x09</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Power"</span></span>, <span class="hljs-string"><span class="hljs-string">"quiet"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (power == <span class="hljs-number"><span class="hljs-number">0x11</span></span> || power == <span class="hljs-number"><span class="hljs-number">0x10</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Compressor"</span></span>, <span class="hljs-string"><span class="hljs-string">"on"</span></span>);<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Compressor"</span></span>, <span class="hljs-string"><span class="hljs-string">"off"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (swing == <span class="hljs-number"><span class="hljs-number">0x00</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Swing"</span></span>, <span class="hljs-string"><span class="hljs-string">"off"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (swing == <span class="hljs-number"><span class="hljs-number">0x01</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Swing"</span></span>, <span class="hljs-string"><span class="hljs-string">"ud"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (swing == <span class="hljs-number"><span class="hljs-number">0x02</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Swing"</span></span>, <span class="hljs-string"><span class="hljs-string">"lr"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (swing == <span class="hljs-number"><span class="hljs-number">0x03</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Swing"</span></span>, <span class="hljs-string"><span class="hljs-string">"all"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">  </span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fan_spd == <span class="hljs-number"><span class="hljs-number">0x00</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fan_Speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"max"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fan_spd == <span class="hljs-number"><span class="hljs-number">0x01</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fan_Speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"mid"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fan_spd == <span class="hljs-number"><span class="hljs-number">0x02</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fan_Speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"min"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fan_spd == <span class="hljs-number"><span class="hljs-number">0x03</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fan_Speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"auto"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> b[<span class="hljs-number"><span class="hljs-number">5</span></span>]; <font></font>
  String char_set_tmp = String(set_tmp);<font></font>
  char_set_tmp.toCharArray(b,<span class="hljs-number"><span class="hljs-number">5</span></span>);<font></font>
  client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Set_Temp"</span></span>, b);
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span><font></font>
  String char_cur_tmp = String(cur_tmp);<font></font>
  char_cur_tmp.toCharArray(b,<span class="hljs-number"><span class="hljs-number">5</span></span>);<font></font>
  client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Current_Temp"</span></span>, b);
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Mode == <span class="hljs-number"><span class="hljs-number">0x00</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Mode"</span></span>, <span class="hljs-string"><span class="hljs-string">"smart"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Mode == <span class="hljs-number"><span class="hljs-number">0x01</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Mode"</span></span>, <span class="hljs-string"><span class="hljs-string">"cool"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Mode == <span class="hljs-number"><span class="hljs-number">0x02</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Mode"</span></span>, <span class="hljs-string"><span class="hljs-string">"heat"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Mode == <span class="hljs-number"><span class="hljs-number">0x03</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Mode"</span></span>, <span class="hljs-string"><span class="hljs-string">"vent"</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Mode == <span class="hljs-number"><span class="hljs-number">0x04</span></span>){<font></font>
      client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Mode"</span></span>, <span class="hljs-string"><span class="hljs-string">"dry"</span></span>);<font></font>
  }<font></font>
  <font></font>
  String raw_str;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> raw[<span class="hljs-number"><span class="hljs-number">75</span></span>];
  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">37</span></span>; i++){
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data[i] &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>){<font></font>
       raw_str += <span class="hljs-string"><span class="hljs-string">"0"</span></span>;<font></font>
       raw_str += String(data[i], HEX);<font></font>
     } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      raw_str += String(data[i], HEX);<font></font>
     }    <font></font>
  }<font></font>
  raw_str.toUpperCase();<font></font>
  raw_str.toCharArray(raw,<span class="hljs-number"><span class="hljs-number">75</span></span>);<font></font>
  client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/RAW"</span></span>, raw);<font></font>
  <font></font>
<span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">//</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">byte</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCRC</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> req[], size_t size</span></span></span><span class="hljs-function">)</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> crc = <span class="hljs-number"><span class="hljs-number">0</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">2</span></span>; i &lt; size; i++){<font></font>
      crc += req[i];<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> crc;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SendData</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> req[], size_t size</span></span></span><span class="hljs-function">)</span></span>{
  <span class="hljs-comment"><span class="hljs-comment">//Serial.write(start, 2);</span></span>
  Serial.write(req, size - <span class="hljs-number"><span class="hljs-number">1</span></span>);<font></font>
  Serial.write(getCRC(req, size<span class="hljs-number"><span class="hljs-number">-1</span></span>));<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-function">inline unsigned </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toHex</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ch </span></span></span><span class="hljs-function">)</span></span>{
   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( ( ch &gt;= <span class="hljs-string"><span class="hljs-string">'A'</span></span> ) ? ( ch - <span class="hljs-string"><span class="hljs-string">'A'</span></span> + <span class="hljs-number"><span class="hljs-number">0xA</span></span> ) : ( ch - <span class="hljs-string"><span class="hljs-string">'0'</span></span> ) ) &amp; <span class="hljs-number"><span class="hljs-number">0x0F</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callback</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* topic, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">* payload, unsigned </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length</span></span></span><span class="hljs-function">)</span></span> {<font></font>
  payload[length] = <span class="hljs-string"><span class="hljs-string">'\0'</span></span>;<font></font>
  String strTopic = String(topic);<font></font>
  String strPayload = String((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>*)payload);
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">//</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Set_Temp"</span></span>){<font></font>
    set_tmp = strPayload.toInt()<span class="hljs-number"><span class="hljs-number">-16</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (set_tmp &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; set_tmp &lt;= <span class="hljs-number"><span class="hljs-number">30</span></span>){<font></font>
      data[B_SET_TMP] = set_tmp;      <font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">/</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Mode"</span></span>){
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"smart"</span></span>){<font></font>
      data[B_MODE] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"cool"</span></span>){<font></font>
        data[B_MODE] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"heat"</span></span>){<font></font>
        data[B_MODE] = <span class="hljs-number"><span class="hljs-number">2</span></span>; <font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"vent"</span></span>){<font></font>
        data[B_MODE] = <span class="hljs-number"><span class="hljs-number">3</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"dry"</span></span>){<font></font>
        data[B_MODE] = <span class="hljs-number"><span class="hljs-number">4</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">/</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Fan_Speed"</span></span>){
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"max"</span></span>){<font></font>
      data[B_FAN_SPD] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"mid"</span></span>){<font></font>
        data[B_FAN_SPD] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"min"</span></span>){<font></font>
        data[B_FAN_SPD] = <span class="hljs-number"><span class="hljs-number">2</span></span>; <font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"auto"</span></span>){<font></font>
        data[B_FAN_SPD] = <span class="hljs-number"><span class="hljs-number">3</span></span>; <font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">//</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Swing"</span></span>){
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"off"</span></span>){<font></font>
      data[B_SWING] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"ud"</span></span>){<font></font>
        data[B_SWING] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"lr"</span></span>){<font></font>
        data[B_SWING] = <span class="hljs-number"><span class="hljs-number">2</span></span>; <font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"all"</span></span>){<font></font>
        data[B_SWING] = <span class="hljs-number"><span class="hljs-number">3</span></span>; <font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">//</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Lock_Remote"</span></span>){
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"true"</span></span>){<font></font>
      data[B_LOCK_REM] = <span class="hljs-number"><span class="hljs-number">80</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"false"</span></span>){<font></font>
        data[B_LOCK_REM] = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">//</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/Power"</span></span>){
     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"off"</span></span> || strPayload == <span class="hljs-string"><span class="hljs-string">"false"</span></span> || strPayload == <span class="hljs-string"><span class="hljs-string">"0"</span></span>){<font></font>
      SendData(off, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(off)/<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>));
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"on"</span></span> || strPayload == <span class="hljs-string"><span class="hljs-string">"true"</span></span> || strPayload == <span class="hljs-string"><span class="hljs-string">"1"</span></span>){<font></font>
      SendData(<span class="hljs-keyword"><span class="hljs-keyword">on</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">on</span></span>)/<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>));
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strPayload == <span class="hljs-string"><span class="hljs-string">"quiet"</span></span>){<font></font>
        data[B_POWER] = <span class="hljs-number"><span class="hljs-number">9</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">//</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strTopic == <span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/RAW"</span></span>){
    <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buf[<span class="hljs-number"><span class="hljs-number">75</span></span>];
    <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> hexbyte[<span class="hljs-number"><span class="hljs-number">3</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>};<font></font>
    strPayload.toCharArray(buf, <span class="hljs-number"><span class="hljs-number">75</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> octets[<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(buf) / <span class="hljs-number"><span class="hljs-number">2</span></span>] ;
    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">76</span></span>; i += <span class="hljs-number"><span class="hljs-number">2</span></span>){<font></font>
      hexbyte[<span class="hljs-number"><span class="hljs-number">0</span></span>] = buf[i] ;<font></font>
      hexbyte[<span class="hljs-number"><span class="hljs-number">1</span></span>] = buf[i+<span class="hljs-number"><span class="hljs-number">1</span></span>] ;<font></font>
      data[i/<span class="hljs-number"><span class="hljs-number">2</span></span>] = (toHex(hexbyte[<span class="hljs-number"><span class="hljs-number">0</span></span>]) &lt;&lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) | toHex(hexbyte[<span class="hljs-number"><span class="hljs-number">1</span></span>]);<font></font>
    }<font></font>
    Serial.write(data, <span class="hljs-number"><span class="hljs-number">37</span></span>);<font></font>
    client.publish(<span class="hljs-string"><span class="hljs-string">"myhome/Conditioner/RAW"</span></span>, buf);<font></font>
  }<font></font>
  <font></font>
  data[B_CMD] = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  data[<span class="hljs-number"><span class="hljs-number">9</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  data[<span class="hljs-number"><span class="hljs-number">10</span></span>] = <span class="hljs-number"><span class="hljs-number">77</span></span>;<font></font>
  data[<span class="hljs-number"><span class="hljs-number">11</span></span>] = <span class="hljs-number"><span class="hljs-number">95</span></span>;<font></font>
  SendData(data, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(data)/<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>));<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {<font></font>
  pinMode(LED, OUTPUT);<font></font>
  Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>);<font></font>
  setup_wifi();<font></font>
  client.setServer(mqtt_server, <span class="hljs-number"><span class="hljs-number">1883</span></span>);<font></font>
  client.setCallback(callback);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Serial.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){<font></font>
    Serial.readBytes(data, <span class="hljs-number"><span class="hljs-number">37</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(Serial.available()){<font></font>
      delay(<span class="hljs-number"><span class="hljs-number">2</span></span>);<font></font>
      Serial.read();<font></font>
    }<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data[<span class="hljs-number"><span class="hljs-number">36</span></span>] != inCheck){<font></font>
      inCheck = data[<span class="hljs-number"><span class="hljs-number">36</span></span>];<font></font>
      InsertData(data, <span class="hljs-number"><span class="hljs-number">37</span></span>);<font></font>
    }<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!client.connected()){<font></font>
    reconnect();<font></font>
  }<font></font>
  client.loop();<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> now = millis();
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (now - prev &gt; <span class="hljs-number"><span class="hljs-number">5000</span></span>) {<font></font>
    prev = now;<font></font>
    SendData(qstn, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(qstn)/<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// </span></span><font></font>
  }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдИрдПрд╕рдкреА 8266 рдЪрдордХрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рдореЙрдбреНрдпреВрд▓ рдХреЛ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд░ рдореЗрдВ рд░рдЦрд╛ред </font><font style="vertical-align: inherit;">рд╡рд┐рд╖рдп рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ MQTT рд╕рд░реНрд╡рд░ рдкрд░ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ:</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/559/d53/096/559d53096cd3452890825dc485aa1d79.png" alt="рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╡реЗрдм рдкреЗрдЬ рдкрд░ рдПрдпрд░ рдХрдВрдбреАрд╢рдирд┐рдВрдЧ рдирд┐рдпрдВрддреНрд░рдг рдХрдХреНрд╖ред</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/e4b/3f0/2e7/e4b3f02e748e4e62b917610f015dbde4.png" alt="рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╡реЗрдм рдкреЗрдЬ рд╕реЗ рдкреНрд░рдмрдВрдзрди рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╡реЙрдЗрд╕ рдХрдорд╛рдВрдб рдкреНрд░рдмрдВрдзрди рдХрд╛ рдЖрдпреЛрдЬрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IOBroker рдХреЗ рд▓рд┐рдП рдЯреЗрд▓реАрдЧреНрд░рд╛рдо</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреА </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">ред </font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд▓рд╛рдЧрдд рдкрд░, рдирдП рдореЙрдбреНрдпреВрд▓ рдХреА рд▓рд╛рдЧрдд рд▓рдЧрднрдЧ 200 рд░реВрдмрд▓ рд╣реИред</font></font><br>
<br>
<a name="anc1"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рд▓рд╛ рднрд╛рдЧ - рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо, рд╢реБрд░реБрдЖрддред </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднрд╛рдЧ рджреЛ - рдмрд╛рдерд░реВрдо рдЖрдЧрдВрддреБрдХ рдХрд╛рдЙрдВрдЯрд░</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi395533/">https://habr.com/ru/post/hi395533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi395523/index.html">рд╕реНрдЯрдЯрдЧрд╛рд░реНрдЯ рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдХреЗ рдПрдХ рдорд╛рдирд╡ рдмрд╛рд▓ рдХреЗ рдПрдХ рд╡реНрдпрд╛рд╕ рдХреЗ рд╕рд╛рде рдмрд╣реБ-рд▓реЗрдВрд╕ рдореБрджреНрд░рд┐рдд</a></li>
<li><a href="../hi395525/index.html">рдПрдЖрдИ рдиреЗ рд╣рд╡рд╛рдИ рдпреБрджреНрдз рд╕рд┐рдореБрд▓реЗрд╢рди рдореЗрдВ рдЖрджрдореА рдХреЛ рд╣рд░рд╛рдпрд╛</a></li>
<li><a href="../hi395527/index.html">рд░реВрд╕реА рд╡реИрдЬреНрдЮрд╛рдирд┐рдХреЛрдВ рдиреЗ рдПрдХ рдореИрдЧреНрдиреЗрдЯреЛрдереНрд░реЛрдореЛрд▓рд╛рдЗрдЯрд┐рдХ рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рдпрд╛ рд╣реИ рдЬреЛ рдПрдирд╛рд▓реЙрдЧреНрд╕ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рд╣рдЬрд╛рд░реЛрдВ рдЧреБрдирд╛ рдЕрдзрд┐рдХ рд░рдХреНрдд рдХреЗ рдердХреНрдХреЗ рдХреЛ рддреЛрдбрд╝рддрд╛ рд╣реИ</a></li>
<li><a href="../hi395529/index.html">рд░реЛрдмреЛрдЯрд┐рдХреНрд╕ рд╢рд┐рдХреНрд╖рд╛ рдЗрдВрдЯреЗрд▓ рдЗрдирд╕рд╛рдЗрдб рдХреЗ рд╕рд╛рде рд░реЛрдмреЛрдЯ рдХреЛ рдорд╛рд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi395531/index.html">рд╣реЛрд╡рд░рдмреЛрд░реНрдб рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХрд╛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЗрддрд┐рд╣рд╛рд╕: 5 рд╕рдмрд╕реЗ рдкреНрд░рд╕рд┐рджреНрдз рдкрд░рд┐рдпреЛрдЬрдирд╛рдПрдВ</a></li>
<li><a href="../hi395535/index.html">рд╕реНрдирд╛рддрдХреЛрдВ рдореЗрдВ рд╕реЗ рдХреМрди рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЬреАрдиреЗ рдХреЗ рд▓рд┐рдП?</a></li>
<li><a href="../hi395537/index.html">рдЗрд╕реЗ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi395539/index.html">рд╣рдо MP8036multi рдореЙрдбреНрдпреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмреАрдпрд░ рдкреАрддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi395541/index.html">рдпреВрд░реЛрдк рдФрд░ рдЪрдВрджреНрд░рдорд╛ рдкрд░ рдЙрддрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдкреЗрд╕рд╕реВрдЯ - рдпрд╣ рдХреНрдпрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП? рд▓реАрдб рдлрд╛рдЗрдирд▓ рдлреНрд░рдВрдЯрд┐рдпрд░ рдбрд┐рдЬрд╝рд╛рдЗрди рдбрд┐рдЬрд╛рдЗрдирд░ рдХреЗ рд╕рд╛рде рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░</a></li>
<li><a href="../hi395543/index.html">╨а╨╛╤Б╤Б╨╕╤П ╤Б╨╛╨╖╨┤╨░╨╡╤В ╨╛╤В╨║╤А╤Л╤В╤Г╤О ╨▒╨░╨╖╤Г ╨╛╨║╨╛╨╗╨╛╨╖╨╡╨╝╨╜╤Л╤Е ╨╛╨▒╤К╨╡╨║╤В╨╛╨▓</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>