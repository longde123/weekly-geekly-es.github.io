<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåßÔ∏è üèÅ ‚è™ C√≥mo descargar datos con una estructura anidada de Google BigQuery usando el ejemplo de par√°metros personalizados de Google Analytics üë©‚Äçüë©‚Äçüëß‚Äçüëß ü•ï üêê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google BigQuery es una base de datos en la nube popular utilizada por empresas de todo el mundo. Es especialmente conveniente para trabajar con datos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo descargar datos con una estructura anidada de Google BigQuery usando el ejemplo de par√°metros personalizados de Google Analytics</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473884/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/5d/bw/ui/5dbwui5nd3dto8kagpfz51vmade.jpeg" alt="imagen"></div><br>  Google BigQuery es una base de datos en la nube popular utilizada por empresas de todo el mundo.  Es especialmente conveniente para trabajar con datos brutos de Google Analytics: en GA 360, la integraci√≥n con BigQuery se configura en unos pocos clics, y para la versi√≥n gratuita hay scripts y m√≥dulos de terceros. <br><br>  En los datos sin procesar de Google Analytics, cada registro (fila) corresponde a una sesi√≥n.  Dentro de dicha entrada hay campos anidados que corresponden a los hits de la sesi√≥n: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ht/nb/7e/htnb7eabrx-hddzh-rirbpkqne4.png" width="300" alt="imagen"></div><br>  A menudo, esta estructura de datos anidados es confusa para los usuarios que no entienden c√≥mo trabajar con ellos y descargar dichos datos. <br><br>  Usando los par√°metros personalizados de Google Analytics como ejemplo, intentar√© explicar "con los dedos" c√≥mo se almacenan los datos incrustados en Google BigQuery y c√≥mo se pueden cargar. <br><br>  Los c√≥digos de consulta dados funcionan, se pueden usar para resolver problemas, sustituyendo los nombres de sus tablas y los n√∫meros de √≠ndice de Dimensiones personalizadas requeridos. <a name="habracut"></a><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚Ä¢ L√≠neas de descarga</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚Ä¢ Descarga mientras se mantiene la estructura de anidamiento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚Ä¢ Ejemplo de reemplazo de valores de par√°metros de usuario</a> <br><br><h2>  Los fundamentos </h2><br>  BigQuery admite 2 dialectos de SQL: Legacy y Standard.  Google recomienda utilizar el est√°ndar SQL m√°s nuevo, en el que escribiremos consultas para descargar. <br>  Todos los que han trabajado con SQL al menos un poco conocen la construcci√≥n de consulta est√°ndar: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> *  * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> *  * <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> * *</code> </pre> <br>  Este dise√±o funciona si la estructura de la tabla es simple, sin otros campos anidados en las celdas: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o6/gw/1r/o6gw1raxw5zzwy0ql0ofziv3hwu.png" alt="imagen" width="600"></div><br>  Consideramos tablas con campos anidados.  La estructura de dicha tabla (por ejemplo, par√°metros de usuario de Google Analytics): <br><br><a name="1"></a><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/fy/tg/cffytgvvdznjq-pb-kbdaww1dn8.png" alt="imagen" width="600"></div>  <font color="99999"><i>Opciones de GA personalizadas en BQ</i></font> <br><br>  En Google BigQuery, dicha tabla tendr√° los siguientes nombres de columna (el separador "." Muestra la estructura de anidaci√≥n): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0w/-h/23/0w-h23uome6_xjhlnm4nc0rjqzm.png" alt="imagen" width="600"></div><br>  Entonces, ¬øc√≥mo descargamos datos de campos anidados? <br><br><a name="3"></a><h2>  Descargar filas </h2><br>  Regrese a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tabla</a> con un ejemplo de par√°metros personalizados de GA en BQ. <br><br>  Las columnas <i>customDimensions.index</i> y <i>customDimensions.value</i> son los √≠ndices y valores de la <b>sesi√≥n</b> y <b>las</b> Dimensiones personalizadas <b>definidas por el usuario</b> . <br><br>  Las columnas <i>hits.customDimensions.index</i> y <i>hits.customDimensions.value</i> son los √≠ndices y valores de las Dimensiones personalizadas de <b>hit</b> . <br><br>  En Google BigQuery hay otro nivel de acci√≥n de par√°metros de usuario: el producto.  Los nombres y valores de las Dimensiones personalizadas del <b>producto</b> en Google BigQuery se encuentran en las columnas <i>hits.product.customDimensions.index</i> y <i>hits.product.customDimensions.value</i> .  Se descargan por analog√≠a con par√°metros de usuario exitosos, solo necesita tener en cuenta otro nivel de anidamiento. <br><br><h3>  Opciones de usuario de sesi√≥n y nivel de usuario </h3><br>  ¬øQu√© debemos hacer si necesitamos descargar los valores de las Dimensiones personalizadas de sesi√≥n (personalizadas) para cada fecha sin guardar la estructura anidada (es decir, l√≠nea por l√≠nea)? <br><br>  Para responder la pregunta, echemos un vistazo m√°s de cerca a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tabla</a> con los par√°metros de usuario de GA en BQ. <br>  Muestra que los valores de las celdas en la columna customDimensions <b>son otra tabla</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fu/lp/2b/fulp2bysuqjoz_d_ybwypuvwjcy.png" alt="imagen" width="600"></div><br>  Es suficiente hacer una subconsulta a esta tabla en la consulta principal: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-comment"><span class="hljs-comment">--   date, --    value (SELECT value --   customDimensions,     t FROM t.customDimensions --       WHERE index = 1) AS customDimensions1 FROM --    t     `project.dataset.tablename` AS t</span></span></code> </pre> <br>  El resultado es una tabla: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8m/er/vn/8mervnhyfmqqqhux8nvzcgff4ek.png" alt="imagen" width="300"></div><br>  Si necesitamos agregar una columna con el valor de otro par√°metro de usuario, hacemos otra subconsulta: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> t.customDimensions <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> customDimensions1, <span class="hljs-comment"><span class="hljs-comment">--      customDimensions (SELECT value FROM t.customDimensions WHERE index = 2) AS customDimensions2 FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Obtenemos lo siguiente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/ex/fu/inexfu276z8gmjzusqhzpwikvg4.png" alt="imagen" width="460"></div><br><h3>  Opciones personalizadas de nivel de √©xito </h3><br>  Los par√°metros de usuario de hit se descargan de la misma manera que los de sesi√≥n (usuario), excepto que la subconsulta debe realizarse en la tabla de hits anidada.  En otras palabras, los valores de las celdas de la columna de aciertos en la tabla de datos sin procesar de Google Analytics son una tabla anidada en la que se anida la tabla customDimensions: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/cs/du/secsdu6j3nbsosiuifbd3gpqzwc.png" alt="imagen" width="600"></div><br>  La solicitud para descargar par√°metros de usuario de hit l√≠nea por l√≠nea ser√° la siguiente: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-comment"><span class="hljs-comment">--   date, --    value (SELECT value --   customDimensions,     h FROM h.customDimensions --       WHERE index = 3) AS customDimensions3 FROM --    t     `project.dataset.tablename` AS t, --   t.hits  h     t.hits AS h</span></span></code> </pre> <br>  El resultado de la consulta ser√° una tabla: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/22/um/ci/22umciavjunefavmc5tfbwkif3g.png" alt="imagen" width="300"></div><br>  Puede descargar varios par√°metros de usuario de hit y agregar el par√°metro hitNumber (el n√∫mero de secuencia del hit en la sesi√≥n): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, h.hitNumber <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> hitNumber, (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> h.customDimensions <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> customDimensions3, <span class="hljs-comment"><span class="hljs-comment">--        h.customDimensions (SELECT value FROM h.customDimensions WHERE index = 4) AS customDimensions4 FROM `project.dataset.tablename` AS t, t.hits AS h</span></span></code> </pre> <br>  Consigue la mesa: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2x/mz/mg/2xmzmg2subtafonus9_mfrtkuvg.png" alt="imagen" width="600"></div><br><h3>  Sesi√≥n (usuario) + par√°metros de usuario de hit </h3><br>  Si en una consulta queremos descargar la sesi√≥n y presionar los par√°metros del usuario, solo necesita hacer las subconsultas necesarias para las tablas principales y anidadas: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, h.hitNumber <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> hitNumber, <span class="hljs-comment"><span class="hljs-comment">--     (SELECT value FROM t.customDimensions WHERE index=1) AS customDimensions1, (SELECT value FROM t.customDimensions WHERE index=2) AS customDimensions2, --     (SELECT value FROM h.customDimensions WHERE index=3) AS customDimensions3, (SELECT value FROM h.customDimensions WHERE index=4) AS customDimensions4 FROM `project.dataset.tablename` AS t, t.hits AS h</span></span></code> </pre> <br>  La tabla que se obtendr√° como resultado de la consulta: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/9j/vb/fq9jvbaqzkjq4-fkt5dlm0-zbhk.png" alt="imagen" width="600"></div><br><a name="4"></a><h2>  Descarga mientras se mantiene la estructura de anidaci√≥n </h2><br>  Tal descarga puede ser necesaria al reemplazar los valores de un par√°metro de usuario en Google BigQuery. <br><br> <i><a name="2"></a></i>  <i><b>Ejemplo</b></i> <i><br></i>  <i>En Google Analytics, el nombre del pa√≠s en formato completo se transfiere al par√°metro de usuario de sesi√≥n con el √≠ndice 12 y al par√°metro de usuario afectado con el √≠ndice 25 para usuarios de Rusia: RUSIA.</i>  <i>Es necesario cambiar el formato del pa√≠s a abreviado: RUS.</i> <br><br>  Para hacer esto, debe reemplazar los valores requeridos del par√°metro del usuario con el pa√≠s del usuario para todo el historial de datos en Google BigQuery. <br><br>  El procedimiento para resolver el problema: <br><br><ol><li>  Descargue todos los datos <b>mientras mantiene la estructura de anidamiento</b> </li><li>  Reemplace el valor del par√°metro de usuario con el pa√≠s </li><li>  Reescribe la tabla </li></ol><br>  Para cargar datos manteniendo la estructura de anidamiento, debe usar la funci√≥n ARRAY y la construcci√≥n SELECT AS STRUCT.  Averig√ºemos qu√© es. <br><br>  La sintaxis de la funci√≥n ARRAY es la siguiente: <br><br><pre> <code class="sql hljs">ARRAY(**)</code> </pre> <br>  Devuelve una matriz de elementos. <br><br>  Comparaci√≥n de una matriz con grabaci√≥n l√≠nea por l√≠nea: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/db/c9/j3/dbc9j3wl7upziybxe0sa2sdlu6y.png" alt="imagen" width="500"></div>  <font color="99999"><i>A la izquierda hay una matriz, a la derecha hay una grabaci√≥n de l√≠nea.</i></font> <br><br>  Si queremos guardar una estructura anidada y descargar una matriz con varias columnas, debemos usar <b>ARRAY (SELECT AS STRUCT ...)</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ok/cj/42/okcj42lx7rui7szbgovsnd5ejza.png" alt="imagen" width="450"></div>  <font color="99999"><i>Matriz Anidada</i></font> <br><br><h3>  Opciones de usuario de sesi√≥n y nivel de usuario </h3><br>  Para descargar mientras se mantiene la estructura de dimensiones personalizadas de sesi√≥n (personalizadas), utilizamos la consulta: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, <span class="hljs-comment"><span class="hljs-comment">--  ARRAY(SELECT AS STRUCT...)    ARRAY(SELECT AS STRUCT index, value FROM t.customDimensions) AS customDimensions FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Como resultado de su ejecuci√≥n, se obtiene una tabla en la que se guarda la estructura de anidaci√≥n de los datos "brutos" de Google Analytics: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uw/yz/um/uwyzumday5vzrtxyspfrfvizsw4.png" alt="imagen" width="500"></div><br><h3>  Opciones personalizadas de nivel de √©xito </h3><br>  Para descargar los valores de los par√°metros de usuario de hit de Google BigQuery mientras se mantiene la estructura de anidaci√≥n, es importante tener en cuenta que la tabla customDimensions est√° anidada en la tabla de hits.  En otras palabras, debe hacer la subconsulta ARRAY 2 veces (SELECT AS STRUCT ...): primero a la tabla de resultados anidados, luego a la tabla customDimensions anidada en ella: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, <span class="hljs-comment"><span class="hljs-comment">--    t.hits ARRAY(SELECT AS STRUCT hitNumber, --    h.customDimensions ARRAY(SELECT AS STRUCT index, value FROM h.customDimensions) AS customDimensions FROM t.hits AS h ) AS hits FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  El resultado de esta consulta ser√° una tabla: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y9/h2/1j/y9h21jm-5ikmi6qudtwsxlvjuue.png" alt="imagen" width="600"></div><br><h3>  Sesi√≥n (usuario) + par√°metros de usuario de hit </h3><br>  Al igual que con la descarga l√≠nea por l√≠nea, necesitamos combinar las subconsultas ARRAY (SELECT AS STRUCT ...) en la misma consulta a las tablas anidadas deseadas: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, <span class="hljs-comment"><span class="hljs-comment">--  () Custom Dimensions ARRAY(SELECT AS STRUCT index, value FROM t.customDimensions ) AS customDimensions, --  Custom Dimensions ARRAY(SELECT AS STRUCT hitNumber, ARRAY(SELECT AS STRUCT index, value FROM h.customDimensions ) AS customDimensions FROM t.hits AS h) AS hits FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  ¬øCu√°l es el resultado? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/la/3j/a7/la3ja7nvkxbpl7bde-qniru8mvu.png" alt="imagen" width="600"></div><br><a name="5"></a><h2>  Ejemplo de reemplazo de valores de par√°metros de usuario </h2><br>  Volvamos a nuestro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ejemplo</a> . <br>  En la secci√≥n anterior, recibimos una solicitud para cargar sesi√≥n (usuario) y atacamos los par√°metros de usuario de Google Analytics mientras mantenemos la estructura de anidamiento. <br>  Complementamos esta consulta con construcciones SELECT * REPLACE para descargar con reemplazo y CASE para actualizar los valores de los par√°metros de usuario necesarios: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--      t.customDimensions  t.hits SELECT *REPLACE( --  () Custom Dimensions ARRAY(SELECT AS STRUCT index, --      CASE WHEN index=12 AND value='RUSSIA' THEN 'RUS' ELSE value END AS value FROM t.customDimensions) AS customDimensions, --  Custom Dimensions --   t.hits      h.customDimensions ARRAY(SELECT AS STRUCT *REPLACE( ARRAY(SELECT AS STRUCT index, --      CASE WHEN index=25 AND value='RUSSIA' THEN 'RUS' ELSE value END AS value FROM h.customDimensions) AS customDimensions) FROM t.hits AS h) AS hits) FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Como resultado de esta solicitud, obtendremos la tabla original con los datos sin procesar de Google Analytics.  Ella retendr√° por completo la estructura de anidaci√≥n original, pero los valores de los par√°metros de usuario necesarios se cambiar√°n por otros nuevos. <br><br>  El tema de trabajar con una estructura de datos anidados en Google BigQuery no es f√°cil. <br><br>  Espero haber logrado aclarar este problema.  Pero, perm√≠teme recordarte que la mejor manera de aprender a hacer algo es practicar m√°s. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/473884/">https://habr.com/ru/post/473884/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../473868/index.html">Nos fijamos en el chip chino novatek NT78820</a></li>
<li><a href="../473872/index.html">Plan de preparaci√≥n de la entrevista para desarrolladores de Java</a></li>
<li><a href="../473874/index.html">El resumen de los eventos de TI en noviembre (primera parte)</a></li>
<li><a href="../473880/index.html">BlessRNG o RNG verifique la honestidad</a></li>
<li><a href="../473882/index.html">Introducci√≥n a las dependencias funcionales</a></li>
<li><a href="../473886/index.html">Estaci√≥n de trabajo criptogr√°fica basada en est√°ndares de clave p√∫blica. Funciones para analizar y ver la estructura ASN1</a></li>
<li><a href="../473888/index.html">Noticias del mundo de OpenStreetMap No. 483 (15/10/2019 - 21/10/2019)</a></li>
<li><a href="../473890/index.html">Operaci√≥n Calypso: nuevo grupo APT ataca oficinas gubernamentales en todo el mundo</a></li>
<li><a href="../473894/index.html">Seis tareas para el desarrollador front-end</a></li>
<li><a href="../473904/index.html">Vivaldi 2.9 - Mejoras de mejora</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>