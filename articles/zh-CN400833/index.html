<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎢 🗻 🔝 关于连接和使用Winstar文本OLED显示器 🏂🏾 👼🏾 🌯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="行（或文本）显示旨在以行的形式传递文本信息。它们有几种类型（首先是LCD或自发光OLED），通常在其标记中有数字1202、1602、1204或类似数字，指示行数（在示例2或4中）和每行中的字符（12和16）。 。有这种类型的单行显示，但是在下面的演示中，我们重点介绍更常用的两行显示。
 
 这些显示...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>关于连接和使用Winstar文本OLED显示器</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/400833/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行（或文本）显示旨在以行的形式传递文本信息。它们有几种类型（首先是LCD或自发光OLED），通常在其标记中有数字1202、1602、1204或类似数字，指示行数（在示例2或4中）和每行中的字符（12和16）。 。有这种类型的单行显示，但是在下面的演示中，我们重点介绍更常用的两行显示。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这些显示器中的大多数与HD44780控制器（日立）兼容。该品种最流行（至少在我们的国家中）的显示器由Winstar生产。此外，LCD品种（名称以字母WH开头，例如WH1602）与HD44780命令系统一对一兼容，而OLED类型（名称以WEH开头例如WEH001602）具有改进的WS0010控制器。不幸的是，或者幸运的是，我们现在处理。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们之前</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于ks0108控制器</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">检查</font></a><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">图形显示</font><font style="vertical-align: inherit;">相反，</font><font style="vertical-align: inherit;">小写显示中的字符生成器是内置的。</font><font style="vertical-align: inherit;">而且，对于我们来说，WS0010和标准HD44780之间的主要区别是存在几个（四个）代码表，用于显示多语言文本。</font><font style="vertical-align: inherit;">HD44780只有一个这样的桌子，这就是为什么公司必须在每个地区销售单独的显示器。</font><font style="vertical-align: inherit;">基于WS0010的OLED显示器不需要按区域分类，因此更加方便。</font><font style="vertical-align: inherit;">但不对用户开放：默认情况下，WEH显示屏中ENGLISH_JAPANESE表处于打开状态，并且要启用俄语字符，您需要将其切换为ENGLISH_RUSSIAN。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解有关ENGLISH_RUSSIAN表的更多信息。</font></font></b><div class="spoiler_text">     :    (.    )     ,     .      ,    ,   — -   -8,          (. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 19768-93</a>).       -, , ,     EBCDIC,       ,     ( 127 )    ASCII.    ,  ,    ,    ASCII      .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，标准LiquidCrystal库（随Arduino IDE一起提供）对这四个表一无所知，因此至少在这方面需要整理。</font><font style="vertical-align: inherit;">但不仅如此：最后，可以使用英语。</font><font style="vertical-align: inherit;">但是，WS0010的初始化过程明显不同，如果未更正，显示屏将在每次启动时显示该信息。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他功能</font></font></b><div class="spoiler_text"> ,  OLED- Winstar   ,       ( ,    ).  ,   ,     . ,  ,     WEH   SPI (, « SPI»),    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>,   ,      (  3) — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>.           :         ,         .       ,       I2C    (. ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a>).<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出于某种原因，Winstar显示器在可理解的文档方面存在很大的不足（您可能已经注意到，这通常是中国产品的特征）。</font><font style="vertical-align: inherit;">值得指出的是，您可以在哪里下载或多或少完整的文档，而不会出现任何错误：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有HD44780控制器</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">的LCD</font></a><font style="vertical-align: inherit;">（WH1602）上，在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OLED显示器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（WEH1602）上的此处，在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WS0010控制器上的单独</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font><font style="vertical-align: inherit;">（我们将在后面进行参考） 。</font><font style="vertical-align: inherit;">在这里，如果您有兴趣，可以用</font><font style="vertical-align: inherit;">俄语</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详细了解HD44780控制器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调平LiquidCrystal库</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了控制HD44780及其类似物上的小写显示，传统上包含在所有版本的Arduino IDE中的标准LiquidCrystal库非常适合。为了显示俄语文本，有其</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidDryCrystalRus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font><font style="vertical-align: inherit;">，令人惊讶地在所有现代Arduino IDE版本中都能很好地工作（它说作者正确地转换了UTF-8字符）。但是要适应WS0010控制器上的OLED显示屏，您仍然需要进行更正。将来，我们将模拟该库，因此将其重命名为LiquidCrystalRus_OLED，以免与通常的库混淆。为了简化任务，我们将不重命名函数，因为初始化将与原始LiquidCrystalRus相同。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
更改如下：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.自</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WS0010中</font><b><font style="vertical-align: inherit;">的俄语-英语表</font></b><font style="vertical-align: inherit;">（使用上面的链接，在WS0010的数据表上请参见第9页）为2，然后切换至该表，需要在FUNCTION SET命令中将FT1和FT0的两个最低有效位设置为状态10（0x02）。 （顺便说一下，在带有一个代码表的LCD中，这些位完全不使用）。要在文件中这样做</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪下来的地方（文件行96），它设置的值</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_displayfunction</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。在其初始化的两行（第97和99行）中都添加一个追加“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| = 0x02</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.接下来，您需要</font><font style="vertical-align: inherit;">在打开电源后</font><font style="vertical-align: inherit;">修复</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化延迟</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。对于HD44780，它应该不超过40毫秒（请参阅上面链接的文档）。该库为此使用函数。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delayMicroseconds（50000）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的第120行</font><font style="vertical-align: inherit;">）。对于WS0010控制器，您需要将延迟时间延长十倍-至少500毫秒（请参见上面链接的数据表最后一页）。仔细地隐藏了此要求（Winstar上带有英语文档的文件恰好在这一部分显示“丢失字体”），以至于到目前为止似乎很少有人想到它。因此，我们将此行替换为32条延迟重复，每次重复16 ms：</font></font><br>
<br>
<pre><code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt;=<span class="hljs-number"><span class="hljs-number">31</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) delayMicroseconds(<span class="hljs-number"><span class="hljs-number">16000</span></span>);</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.除此之外（另请参见数据表的最后一页），经过此延迟后，接通四线电源时，您需要</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连续五次发送空命令</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（0x00）。由于Arduino的速度明显快于显示控制器，因此应在中间延迟的情况下发出命令。需要将它们插入到begin函数的文本中，尤其是4位包含（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的第147行</font><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.但这还没有结束。原始的ENGLISH_RUSSIAN表具有一个</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">度数图标</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（代码0xEF）。该选项无法以图形方式成功执行（太大），因此我更喜欢使用粗体的上点（代码0xDF）-它更像是常规样式中的度数。它可以以代码的形式输入（比八进制的“ \ 337”更好），但是麻烦是-试图简化使用UTF-8编码在库的作者字符生成器表（库的作者）中用代码替换俄语字母代码的功能（请参见</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一篇文章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），为大于0x80的任何代码（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus :: write</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">引入了替换条件</font><font style="vertical-align: inherit;">。由于我们的0xDF明显大于0x80，因此当您在代码行中指定字符“ \ 337”时，将显示空白，因为它不对应任何俄语字母。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不幸的是，标准的</font><i><font style="vertical-align: inherit;">createChar（）</font></i><font style="vertical-align: inherit;">函数</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我尝试使用它创建自己的学位图标时，我在一个完整的stupor中输入了显示内容，只有重新加载程序才能从中删除该显示内容。我需要额外处理的事情，如果有人告诉我怎么回事，我将不胜感激。因此无法使用我们的功能来编辑字符生成器，​​但是可以从条件中排除所需的0xDF字符。为此，将现有</font><font style="vertical-align: inherit;">条件</font><font style="vertical-align: inherit;">（请参见</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">write</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数的文本</font><font style="vertical-align: inherit;">）替换为以下内容：</font></font><br>
<br>
<pre><code class="hljs lisp">if ((<span class="hljs-name"><span class="hljs-name">value&gt;=0x80</span></span>)<span class="hljs-symbol"><span class="hljs-symbol">&amp;&amp;</span></span>(<span class="hljs-name"><span class="hljs-name">value!=0xdf</span></span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.最后，</font><font style="vertical-align: inherit;">此显示器上</font><font style="vertical-align: inherit;">的</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">划线零</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不像图形LCD屏幕上那样醒目。</font><font style="vertical-align: inherit;">不过，在相同的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写入</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能中，</font><font style="vertical-align: inherit;">我介绍了用字母“ O”（0x4f）的代码替换零代码（0x30）。</font><font style="vertical-align: inherit;">那些希望的人可以通过简单地删除或注释掉替换行（修改后的</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LiquidCrystalRus_OLED.cpp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的第308行）来返回划掉的零</font><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以从文章末尾的链接下载更新的库。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接方式</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在一切似乎都已调整，您可以连接。</font><font style="vertical-align: inherit;">下图显示了WEH001602BG显示器（16个字符，屏幕长度100毫米）与Arduino的</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/a58/0b4/c91/a580b4c91cf235bbb5b698986b4fdcfc.png" width="600" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
连接：初始化显示器时，应指出与RS，E，DB4-DB7显示引脚连接的Arduino引脚：</font></font><br>
<br>
<pre><code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">// RS, E, DB4, DB5, DB6, DB7</span></span>
<span class="hljs-function"><span class="hljs-function">LiquidCrystalRus </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OLED1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">8</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span></span><span class="hljs-function">)</span></span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果需要，您可以在任何接口选项（八线或四线）中连接两个或更多显示器。在这种情况下，数据线和RS可以共享。在这种情况下，显示器之间的选择是通过端子E进行的，对于不同的显示器，端子E连接到不同的Arduino端子（第二个显示器的连接线在图中以灰色显示，此处第二个显示器的端子E连接到Arduino的引脚6）。当然，在这种情况下，您需要创建该库的两个副本（例如OLED1和OLED2），其中除E之外的所有输出都相同。此外，显示器可以具有不同的配置和大小（8x2、16x2、12x2、12x4等）。 ）。这也适用于HD44780上的常规LCD显示器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为何有继电器供电源？ WS0010的主要缺点是缺少硬件“ rezet”。在HD44780中，内置的rezet可能是合理的-作者没有足够的LCD屏幕经验可以肯定地说。但是Winstar试图遵循其开发标准，显然无法应对这一任务。在不关闭电源的情况下重新启动控制器会导致显示器上出现任何浑浊现象，只有通过调节整个电路的电源并从头开始初始化显示器，才能消除它。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，关闭/打开电源时，显示器可能会使线路混乱。人们声称完整的8位包含（而不是4位）会有所帮助，但对我而言，效果甚至更差。他们还坚持认为，在假设的“新批次”中，所有这些都已得到修复，但令人难以置信（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自2008年</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Winstar </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">发布</font></a><font style="vertical-align: inherit;"> OLED显示器</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">以来</font></a><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">我们谈论的是哪种“新”批次</font><font style="vertical-align: inherit;">，而我拥有13和14年的显示器释放？）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
继电器并设置为在重新启动Arduino时无需关闭电源即可人为重置显示器。这样可以可靠地消除屏幕上的垃圾。显示器的电源通过该继电器单独打开，当控制器已经稳定运行时，该继电器在设置过程开始时从免费的Arduino引脚（在这种情况下为引脚4）打开。在打开继电器之前，最好再加上1000 ms的延迟（请参见下面的示意图）。指示的继电器EDR202A05是簧片继电器，绕组电流为10 mA，因此可以从Arduino输出中进行安静控制。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
关于接通时线路之间的混乱，除了初始化过程中的上述更改外，此效果还可以从具有足够功率（至少1-2 A）的外部电源中获得至少7.5的稳定电压，从而完全缓解整个电路的功率伏特 </font><font style="vertical-align: inherit;">显然，对营养的依赖是许多出版物中差异的根源，许多出版物声称一切对他们都很好。</font><font style="vertical-align: inherit;">在这种情况下，显示器可以通过Arduino内部稳定器（开发板的5V引脚）或通过单独的稳定器进行连接，但是主要的问题是无论打开电源时的电涌浪涌如何，稳定器的输入电压都应足够稳定。</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查一下</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了进行检查，我发送了一个演示草图</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proba_Rus_Liquid_Crystal_OLED</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使用外部温度传感器模拟日历时钟显示：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示示例WEH1602</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;LiquidCrystalRus_OLED.h&gt;</span></span></span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">// initialize the library with the numbers of the interface pins</span></span>
<span class="hljs-comment"><span class="hljs-comment">// RS, E, DB4, DB5, DB6, DB7</span></span>
<span class="hljs-function"><span class="hljs-function">LiquidCrystalRus </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OLED1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">7</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">8</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RelayPin 4 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// 4 -  </span></span></span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{<font></font>
delay (<span class="hljs-number"><span class="hljs-number">1000</span></span>);<font></font>
pinMode(RelayPin, OUTPUT);<font></font>
digitalWrite(RelayPin, HIGH); <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
delay (<span class="hljs-number"><span class="hljs-number">500</span></span>);<font></font>
  OLED1.begin(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-comment"><span class="hljs-comment">//16  2 </span></span><font></font>
  OLED1.clear();<font></font>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ,  </span></span>
  OLED1.print(<span class="hljs-string"><span class="hljs-string">"-22,3\337C"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//10  </span></span>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// , 11 </span></span>
  OLED1.print(<span class="hljs-string"><span class="hljs-string">"10:22"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//</span></span>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
  OLED1.print(<span class="hljs-string"><span class="hljs-string">"16.01.17 "</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 16  </span></span>
  OLED1.setCursor(<span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// , 13  ":"</span></span>
  OLED1.blink(); <span class="hljs-comment"><span class="hljs-comment">// </span></span>
   delay(<span class="hljs-number"><span class="hljs-number">1000</span></span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
<span class="hljs-comment"><span class="hljs-comment">/*        
        13,0 
    blink
*/</span></span><font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上面提到的库中的所有特征更改都在这里应用。</font><font style="vertical-align: inherit;">该程序还显示了如何使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blink（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数在小时：分钟内使结肠闪烁</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意，在相同位置的新输出会破坏熟悉度的闪烁，并且在更新它时，您必须再次将其恢复，因为之前已将不可见光标设置到零行中的相同位置13。</font><font style="vertical-align: inherit;">使用真实的时钟更新，可能更容易只更新位置11-12和14-15的数字，而使闪烁的冒号保持完整。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该示例的输出结果如图所示：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/4e1/a88/249/4e1a8824925e055d968ab80e68f52229.jpg" width="500" alt="图片"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
应该注意的是，照片没有传达绿色OLED显示器的辉光（在这种情况下）。实际上，它是一种深绿色，其波长比LED显示器（七段或矩阵）中的普通568 nm短。为什么后者在OLED背景下显得“褪色”，并且它们的组合应用很困难。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WS0010具有图形模式，而Winstar图形OLED显示器（例如WEG010016）也具有此控制器。有人注意到它们甚至具有相同的矩阵。在我看来，尝试在文本行显示上使用图形模式是没有意义的：行显示在字符和行之间具有硬件设置的暗区，使图片极不美观（请参阅</font><font style="vertical-align: inherit;">此类尝试的</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">许多示例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最后一点：关于Winstar OLED的耐用性。</font><font style="vertical-align: inherit;">在数据表中，时间显示为100,000小时，即11年。</font><font style="vertical-align: inherit;">但是，发行的第13年（黄光）到现在（第16冬季）的显示之一使我的亮度急剧下降。</font><font style="vertical-align: inherit;">有趣的是，同一个聚会（绿色）和后来的聚会（黄色和绿色的14岁）中的其余成员没有任何死亡迹象。</font><font style="vertical-align: inherit;">因此，可以肯定地说，我不敢说什么，但为以防万一，我建议您不要将显示器焊接到板上，而应将它们安装在连接器上，以便可以无问题地更换显示器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载带有免费库和示例的存档</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD：解决了稳定启动而无需操纵电源的问题：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//geektimes.ru/post/287234/</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN400833/">https://habr.com/ru/post/zh-CN400833/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN400823/index.html">攻击电网：最危险的破坏者是松鼠</a></li>
<li><a href="../zh-CN400825/index.html">Google再次被指控在自己的搜索引擎中推广其产品</a></li>
<li><a href="../zh-CN400827/index.html">华硕Tinker Board：RPi的另一竞争对手</a></li>
<li><a href="../zh-CN400829/index.html">不朽的神话：为什么患者称天气为关节痛的原因</a></li>
<li><a href="../zh-CN400831/index.html">简单的超轻火箭有些不幸</a></li>
<li><a href="../zh-CN400835/index.html">意外的反应：红十字会要求从游戏“监狱建筑师”中删除其象征意义</a></li>
<li><a href="../zh-CN400837/index.html">马赫光子锥首先被拍摄。大脑是下一个</a></li>
<li><a href="../zh-CN400839/index.html">同步Wi-Fi：联盟准备认证TimeSync技术</a></li>
<li><a href="../zh-CN400841/index.html">是的，这样您就可以拥有80 GB的存储空间！好莱坞如何将技术变成嘲弄</a></li>
<li><a href="../zh-CN400843/index.html">问伊森：新生宇宙有多大？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>