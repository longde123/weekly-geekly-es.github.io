<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚¨áÔ∏è üë®üèº‚Äçüîß ‚úãüèª Estaci√≥n para medir la velocidad y direcci√≥n del viento. üîà üëí ü§¥üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Una estaci√≥n meteorol√≥gica dom√©stica de marca o casera mide dos temperaturas-humedad (en una habitaci√≥n y en la calle), la presi√≥n atmosf√©rica y adem√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estaci√≥n para medir la velocidad y direcci√≥n del viento.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/404385/">  Una estaci√≥n meteorol√≥gica dom√©stica de marca o casera mide dos temperaturas-humedad (en una habitaci√≥n y en la calle), la presi√≥n atmosf√©rica y adem√°s tiene un reloj con un calendario.  Sin embargo, una estaci√≥n meteorol√≥gica real tiene mucho m√°s: un sensor de radiaci√≥n solar, un medidor de precipitaci√≥n y todo lo que, en general, se requiere solo para necesidades profesionales, con una excepci√≥n.  Un instrumento de medici√≥n de los par√°metros del viento (velocidad y, lo m√°s importante, direcci√≥n) es una adici√≥n muy √∫til para una casa de campo.  Adem√°s, los sensores de viento de marca son bastante caros incluso en Ali Baba, y tiene sentido buscar soluciones caseras. <br><a name="habracut"></a><br>  Debo decir de inmediato que si supiera de antemano cu√°nto trabajo manual y dinero gastado en experimentos derramar√≠a mi idea, tal vez no comenzar√≠a.  Pero la curiosidad pesaba m√°s, y los lectores de este art√≠culo tienen la oportunidad de evitar esas trampas por las que tuve que tropezar. <br><br>  Para <b>medir la velocidad del viento</b> (anemometr√≠a), existen cientos de m√©todos, los principales son: <br><br>  - alambre caliente, <br>  - mec√°nico - con una h√©lice (m√°s precisamente, un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">impulsor</a> ) o un impulsor de copa horizontal ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anem√≥metro de copa</a> cl√°sico). La medici√≥n de la velocidad en estos casos es equivalente a medir la velocidad del eje en el que est√° montada la h√©lice o el impulsor. <br>  - as√≠ como ultrasonido, combinando medidas de velocidad y direcci√≥n. <br>  Para <b>medir la direcci√≥n de los</b> m√©todos menos: <br>  - mencionado ultrasonido; <br>  - Veleta mec√°nica con eliminaci√≥n electr√≥nica del √°ngulo de rotaci√≥n.  Tambi√©n hay muchas formas diferentes de medir el √°ngulo de rotaci√≥n: √≥ptico, resistivo, magn√©tico, inductivo, mec√°nico.  Es posible, por cierto, simplemente conectar una br√∫jula electr√≥nica al eje de la veleta: estos son m√©todos confiables y simples (para la repetici√≥n "hasta la rodilla") de transmitir lecturas desde un eje que gira al azar.  Por lo tanto, elegimos el m√©todo √≥ptico tradicional. <br><br>  Si repite de forma independiente cualquiera de estos m√©todos, debe tener en cuenta los requisitos de consumo m√≠nimo de energ√≠a y exposici√≥n durante todo el d√≠a (y tal vez durante todo el a√±o) al sol y la lluvia.  El sensor de viento no se puede colocar debajo del techo a la sombra; por el contrario, debe estar lo m√°s alejado posible de todos los factores que interfieren y "abierto a todos los vientos".  Una ubicaci√≥n ideal es la cresta del techo de la casa o, en el peor de los casos, un granero o cenador, alejado de otros edificios y √°rboles.  Dichos requisitos requieren energ√≠a aut√≥noma y, obviamente, un canal de datos inal√°mbrico.  Estos requisitos son responsables de algunas de las "campanas y silbatos" del dise√±o, que se describe a continuaci√≥n. <br><br><div class="spoiler">  <b class="spoiler_title">Sobre el consumo m√≠nimo de energ√≠a</b> <div class="spoiler_text">  Por cierto, ¬øcu√°nto es el consumo m√≠nimo de energ√≠a?  Basado en las bater√≠as dom√©sticas de tipo AA ordinarias, el consumo de circuito promedio idealmente no deber√≠a ser m√°s de 1-2 mA.  Cuente usted mismo: la capacidad de un elemento alcalino decente de tama√±o AA es de aproximadamente 2.5-3 Ah; es decir, un circuito con el consumo indicado funcionar√° durante aproximadamente 1500-2500 horas, o 2-3 meses.  En principio, esto tambi√©n es un poco, pero relativamente aceptable: no puede hacer nada menos: quiebra o use bater√≠as que deber√°n cargarse con m√°s frecuencia que cambiar las bater√≠as.  Por esta raz√≥n, al elaborar dicho esquema, estamos obligados a atrapar cualquier migaja: el modo obligatorio de ahorro de energ√≠a, circuitos cuidadosamente pensados ‚Äã‚Äãy la secuencia de acciones en el programa.  Adem√°s, veremos que en el dise√±o final a√∫n no cumpl√≠a con los requisitos necesarios y tuve que usar la bater√≠a. <br><br></div></div><br>  Una historia cognitiva sobre c√≥mo intent√© reproducir el m√©todo m√°s moderno y avanzado: ultrasonido, y fall√©, contar√© en otro momento.  Todos los dem√°s m√©todos implican una medici√≥n separada de la velocidad y la direcci√≥n, por lo que tuve que cercar dos sensores.  Despu√©s de haber estudiado te√≥ricamente anem√≥metros de alambre caliente, me di cuenta de que no podremos obtener un elemento sensible de nivel aficionado (¬°est√°n disponibles en el mercado occidental!), Pero inventarlo por mi cuenta, involucrarme en I + D regular con la p√©rdida de tiempo y dinero correspondiente.  Por lo tanto, despu√©s de pensarlo un poco, decid√≠ hacer un dise√±o unificado para ambos sensores: un anem√≥metro de copa con medici√≥n √≥ptica de la velocidad de rotaci√≥n y una veleta con medici√≥n electr√≥nica del √°ngulo de rotaci√≥n basada en un disco de codificaci√≥n (codificador). <br><br><h2>  Dise√±os de sensores </h2><br>  La ventaja de los sensores mec√°nicos es que no se requiere I + D all√≠, el principio es simple y claro, y la calidad del resultado depende solo de la precisi√≥n de la ejecuci√≥n de un dise√±o cuidadosamente pensado. <br><br>  As√≠ que, en teor√≠a, parec√≠a que, en la pr√°ctica, esto resultaba en un mont√≥n de trabajo mec√°nico, algunos de los cuales deb√≠an pedirse de forma lateral, debido a la falta de m√°quinas de torneado y fresado.  Debo decir de inmediato que nunca me he arrepentido de haber confiado en un enfoque de capital desde el principio, y no comenc√© a hacer construcciones con materiales improvisados. <br><br>  Para una veleta y un anem√≥metro, se necesitan las siguientes partes, que se deben solicitar a un operador de torneado y fresadora (la cantidad y el material se indican inmediatamente para ambos sensores): <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/abe/8c9/b4c/abe8c9b4c68f9b7a5593d81e5f729cf0.png" width="1000" alt="imagen"><br>  Los ejes, notamos, est√°n necesariamente girados sobre un torno: es pr√°cticamente imposible hacer un eje con un punto exactamente en el centro sobre una rodilla.  Y la colocaci√≥n de la punta exactamente a lo largo del eje de rotaci√≥n aqu√≠ es un factor determinante para el √©xito.  Adem√°s, el eje debe ser perfectamente recto, no se permiten desviaciones. <br><br><h3>  Sensor mec√°nico de direcci√≥n del viento - veleta electr√≥nica </h3><br>  La base de la veleta (as√≠ como el sensor de velocidad a continuaci√≥n) es un soporte en forma de U hecho de duraluminio D-16, que se muestra en el dibujo en la parte superior izquierda.  Se presiona una pieza de fluoropl√°stico en el rebajo inferior, en el que se realiza un receso escalonado secuencialmente con brocas de 2 y 3 mm.  Se inserta un eje en este hueco con un extremo afilado (para una veleta, de lat√≥n).  Desde arriba, pasa libremente a trav√©s de un agujero de 8 mm.  Sobre este orificio, los tornillos M2 sujetan al soporte una pieza rectangular del mismo fluoropl√°stico de 4 mm de grosor para que se superponga al orificio.  Se realiza un orificio en el fluoropl√°stico exactamente a lo largo del di√°metro del eje de 6 mm (ubicado exactamente a lo largo del eje general de los orificios; consulte el dibujo del conjunto a continuaci√≥n).  Ftoroplast arriba y abajo juega el papel de cojinetes deslizantes. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/f85/413/03a/f8541303a5e102a6255d611e8190686a.png" width="600" alt="imagen"><br>  El eje en el lugar de fricci√≥n contra el fotopl√°stico se puede pulir, y el √°rea de fricci√≥n se puede reducir al contrarrestar el orificio en el fluoropl√°stico.  ( <b>Consulte sobre este tema a continuaci√≥n UPD del 13/09/18 y 05/06/19</b> ).  Para la veleta, esto no desempe√±a un papel especial: alguna "inhibici√≥n" es incluso √∫til para √©l, y para el anem√≥metro, deber√° intentar minimizar la fricci√≥n y la inercia. <br><br>  Ahora sobre la eliminaci√≥n del √°ngulo de rotaci√≥n.  El <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">codificador gris</a> cl√°sico con 16 posiciones en nuestro caso se ve como se muestra en la figura: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/4ec/2ee/310/4ec2ee310a65fbc1d80e85c834c65963.png" width="500" alt="imagen"><br>  El tama√±o del disco se eligi√≥ en funci√≥n del aislamiento √≥ptico confiable de los pares emisor-receptor entre s√≠.  Con esta configuraci√≥n, las ranuras de 5 mm de ancho tambi√©n est√°n separadas por 5 mm, y los pares √≥pticos est√°n separados exactamente por 10 mm.  Las dimensiones del soporte al que est√° unida la veleta se calcularon precisamente sobre la base de un di√°metro de disco de 120 mm.  Todo esto, por supuesto, se puede reducir (especialmente si elige LED y fotodetectores del di√°metro m√°s peque√±o posible), pero se tuvo en cuenta la complejidad de la fabricaci√≥n del codificador: result√≥ que las fresadoras no realizaban un trabajo tan delicado, por lo que tuvo que cortarse manualmente con un archivo.  Y cuanto m√°s grandes son las dimensiones, m√°s confiable es el resultado y menos molestias. <br><br>  El dibujo de ensamblaje anterior muestra el montaje del disco en el eje.  Un disco cuidadosamente centrado se sujeta con tornillos M2 al cubo del caprolon.  El manguito se coloca en el eje de modo que el espacio libre en la parte superior sea m√≠nimo (1-2 mm), de modo que el eje en la posici√≥n normal gire libremente y durante la revoluci√≥n la punta no se caiga del z√≥calo de abajo.  Los bloques de fotodetectores y emisores est√°n unidos al soporte en la parte superior e inferior del disco, m√°s espec√≠ficamente sobre su dise√±o. <br><br>  Toda la estructura se coloca en una caja de pl√°stico (ABS o policarbonato) de 150 √ó 150 √ó 90 mm.  Montado (sin cubierta y veleta), el sensor de direcci√≥n es el siguiente: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c34/85b/a61/c3485ba615b14aa3728b9e624c5f3b50.jpg" width="500" alt="imagen"><br><br>  Tenga en cuenta que la direcci√≥n seleccionada hacia el norte est√° marcada con una flecha, deber√° observarse al instalar el sensor en su lugar. <br><br>  En la parte superior del eje, se adjunta la veleta real.  Se realiza sobre la base del mismo eje de lat√≥n, en el corte en el lado romo del cual se suelda un v√°stago de lat√≥n.  En el extremo afilado, se corta un hilo M6 de cierta longitud y se fija una carga redonda de contrapeso, fundida con plomo, con la ayuda de tuercas: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/84c/f58/ebb/84cf58ebbc6312411db92a32a51b46d4.jpg" width="500" alt="imagen"><br><br>  La carga est√° dise√±ada para que el centro de gravedad caiga exactamente en el lugar de fijaci√≥n (movi√©ndolo a lo largo del hilo, puede lograr un equilibrio perfecto).  La paleta se fija al eje utilizando un tornillo de acero inoxidable M3, que pasa a trav√©s del orificio en el eje de la paleta y se atornilla en el hilo cortado en el eje de rotaci√≥n (el tornillo de fijaci√≥n se puede ver en la foto de arriba).  Para una orientaci√≥n precisa, la parte superior del eje de rotaci√≥n tiene un rebajo semicircular en el que se encuentra el eje de la veleta. <br><br><h3>  Sensor de velocidad de viento DIY - Anem√≥metro de copa DIY </h3><br>  Como ya entendi√≥, la base para el sensor de velocidad con el fin de la unificaci√≥n se eligi√≥ de la misma manera que para la veleta.  Pero los requisitos de dise√±o aqu√≠ son algo diferentes: para reducir el umbral de arranque, el anem√≥metro debe ser lo m√°s ligero posible.  Por lo tanto, en particular, el eje para √©l est√° hecho de duraluminio, el disco con agujeros (para medir la velocidad) tiene un di√°metro reducido: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f79/4eb/e72/f794ebe7245a7132970c1a27c04b5d0a.jpg" width="500" alt="imagen"><br><br>  Si se requieren cuatro optoacopladores para un codificador Gray de cuatro bits, entonces solo hay uno para un sensor de velocidad.  Se perforaron 16 orificios alrededor de la circunferencia del disco a una distancia igual, por lo que una revoluci√≥n del disco por segundo es equivalente a 16 hertzios de la frecuencia proveniente del optoacoplador (son posibles m√°s orificios, menos posibles; la √∫nica pregunta es la escala de conversi√≥n de energ√≠a y ahorro de energ√≠a para los emisores). <br><br>  Un sensor casero seguir√° siendo bastante irregular (el umbral para comenzar no es inferior a medio metro por segundo), pero solo se puede reducir si el dise√±o se cambia radicalmente: por ejemplo, en lugar de una plataforma giratoria, coloque una h√©lice.  En una rueda giratoria, la diferencia en las fuerzas de resistencia al flujo, que determina el par, es relativamente peque√±a: se logra √∫nicamente debido a la diferente forma de la superficie que se encuentra con el flujo de aire entrante (por lo tanto, la forma de las tazas debe ser lo m√°s aerodin√°mica posible, idealmente es medio huevo o una bola).  La h√©lice tiene mucho m√°s torque, se puede hacer mucho m√°s peque√±a en peso y, finalmente, la fabricaci√≥n en s√≠ es m√°s simple.  Pero la h√©lice debe instalarse en la direcci√≥n del flujo de aire, por ejemplo, coloc√°ndola al <a href="">final de la misma veleta</a> . <br><br>  La pregunta es: ¬øc√≥mo transmitir lecturas desde un sensor que gira aleatoriamente alrededor de un eje vertical?  No pude resolverlo, y a juzgar por el hecho de que las construcciones profesionales de vasos todav√≠a est√°n muy extendidas, de ninguna manera se decide a partir de una media patada (no tomamos en cuenta los anem√≥metros manuales, est√°n orientados de acuerdo con el flujo de aire manualmente). <br><br>  Mi versi√≥n del anem√≥metro de copa est√° hecha sobre la base de un disco l√°ser.  La vista superior e inferior se muestra en la foto: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/86b/dfe/b7d/86bdfeb7d725ad1cacc76c48c7e99739.jpg" width="400" alt="imagen"><br><img src="https://habrastorage.org/getpro/geektimes/post_images/400/944/bf9/400944bf9dc46d666f49949f37fcf845.jpg" width="400" alt="imagen"><br><br>  Las tazas est√°n hechas de fondos de botellas debajo del agua para beb√©s Agusha.  La parte inferior est√° cuidadosamente cortada, y las tres, a la misma distancia, para que tengan el mismo peso, se calientan localmente en el centro (no caliente todo, ¬°se deformar√° irreversiblemente!) Y la parte posterior del mango de madera se dobla hacia afuera para hacerlo m√°s aerodin√°mico.  Repetir√°: almacene botellas m√°s grandes de cinco o seis piezas, probablemente podr√° hacer tres m√°s o menos la misma taza.  En las copas hechas, se hace un corte lateral y se fijan a lo largo del per√≠metro del disco a 120 ¬∞ en relaci√≥n entre s√≠ con la ayuda de un sellador de pegamento resistente al agua.  El disco est√° estrictamente centrado alrededor del eje (lo hice con la ayuda de una arandela de metal anidada) y est√° montado en el cubo del caprolon con tornillos M2. <br><br><h3>  Dise√±o general e instalaci√≥n de sensores. </h3><br>  Ambos sensores, como ya se mencion√≥, se colocan en cajas de pl√°stico de 150 √ó 150 √ó 90 mm.  La elecci√≥n del material de la caja debe abordarse con cuidado: el ABS o el policarbonato tienen suficiente resistencia a la intemperie, pero el poliestireno, el plexigl√°s y especialmente el polietileno no ser√°n adecuados aqu√≠ (y ser√° dif√≠cil pintarlos para protegerlos del sol).  Si no es posible comprar una caja de la compa√±√≠a, es mejor soldar la caja con papel de aluminio y luego pintarla para protegerla de la corrosi√≥n y darle una apariencia est√©tica. <br><br>  Se hace un orificio de 8-10 mm en la tapa exactamente en el punto de salida del eje, en el que se pega un cono de pl√°stico cortado de una boquilla de una lata de aerosol con un sellador o pegamento de construcci√≥n con el mismo sellador adhesivo: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a0d/b61/78c/a0db6178c5977c8a8a9081daa31c4753.jpg" width="400" alt="imagen"><br><br>  Para centrar el cono a lo largo del eje, use una abrazadera para fijar un trozo de madera en la parte inferior de la cubierta, marque el centro exacto en √©l y vaya un poco m√°s profundo con un taladro de plumas de 12 mm, haciendo un hueco anular alrededor del orificio.  El cono debe entrar exactamente all√≠, despu√©s de lo cual se puede recubrir con pegamento.  Se puede fijar adicionalmente en posici√≥n vertical durante el per√≠odo de solidificaci√≥n con el tornillo y la tuerca M6. <br><br>  El propio sensor de velocidad cubre el eje con este cono, como un paraguas, evitando que el agua ingrese al cuerpo.  Para una veleta, es necesario colocar adicionalmente un manguito sobre el cono, que cerrar√° la brecha entre el eje y el cono del flujo de agua directo (vea la foto de la vista general de los sensores a continuaci√≥n). <br><br>  Los cables de los optoacopladores se enrutan a un conector de tipo D-SUB separado (vea la foto del sensor de direcci√≥n arriba).  La contraparte con el cable se inserta a trav√©s de un orificio rectangular en la base de la carcasa.  El orificio se cubre con una cubierta con una ranura para el cable, que evita que el conector se caiga.  Los soportes de duraluminio se atornillan a la base de la carcasa para su fijaci√≥n en su lugar.  Su configuraci√≥n depende de la ubicaci√≥n de los sensores. <br><br>  Cuando se ensamblan, ambos sensores tienen el siguiente aspecto: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ac0/2ee/d02/ac02eed02599b4f62d7a959ecef6a136.jpg" width="500" alt="imagen"><br><br>  Aqu√≠ se muestran ya instalados en su lugar, en la cresta de la glorieta.  Tenga en cuenta que los huecos para los tornillos que sujetan la cubierta est√°n protegidos contra el agua mediante tapones de goma cruda.  Los sensores est√°n instalados estrictamente horizontalmente nivelados, para lo cual tuve que usar revestimientos de piezas de lin√≥leo. <br><br><h2>  Parte electr√≥nica </h2><br>  La estaci√≥n meteorol√≥gica en su conjunto consta de dos m√≥dulos: una unidad remota (que sirve a ambos sensores de viento, y tambi√©n toma lecturas de un sensor externo de temperatura y humedad), y el m√≥dulo principal con pantallas.  La unidad remota est√° equipada con un transmisor inal√°mbrico para enviar datos instalados dentro de ella (la antena sobresale desde el costado).  El m√≥dulo principal recibe datos de la unidad remota (el receptor, para su conveniencia, se coloca en un cable en una unidad separada), y tambi√©n toma lecturas del sensor interno de temperatura y humedad y muestra todo esto en las pantallas.  Un componente separado de la unidad principal es un reloj con un calendario, que, para la comodidad de la configuraci√≥n general de la estaci√≥n, es atendido por un controlador Arduino Mini separado y tiene sus propias pantallas. <br><br><h3>  M√≥dulo remoto y circuito de medici√≥n de sensores de viento. </h3><br>  Como fotoemisores, se seleccionaron los IR-LED AL-107B.  Estos LED antiguos, por supuesto, no son los mejores en su clase, pero tienen una carcasa en miniatura con un di√°metro de 2.4 mm y son capaces de transmitir corriente de hasta 600 mA por pulso.  Por cierto, durante las pruebas result√≥ que la muestra de este LED alrededor de 1980 (en el caso rojo) tiene aproximadamente el doble de eficiencia (expresada en el rango de operaci√≥n confiable del fotodetector) que las copias modernas compradas en Chip-Dip (tienen un transparente cuerpo verde amarillento).  Es poco probable que en 1980 los cristales fueran mejores que ahora, aunque ¬øqu√© demonios no es broma?  Sin embargo, es posible que la materia est√© en diferentes √°ngulos de dispersi√≥n en uno y otro dise√±o. <br><br>  Se pas√≥ una corriente constante de aproximadamente 20 mA (resistencia de 150 ohmios con una fuente de alimentaci√≥n de 5 voltios) a trav√©s de un LED en el sensor de velocidad, y se pas√≥ una corriente pulsada (meandro con un ciclo de trabajo de 2) de aproximadamente 65 mA (los mismos 150 ohmios con una fuente de alimentaci√≥n de 12 voltios) en el sensor de direcci√≥n.  La corriente promedio a trav√©s de un LED del sensor de direcci√≥n en este caso es de aproximadamente 33 mA, en solo cuatro canales, aproximadamente 130 mA. <br><br>  Como fotodetectores, se eligieron los fototransistores L-32P3C en un caso con un di√°metro de 3 mm.  La se√±al se tom√≥ de un colector cargado en una resistencia de 1.5 o 2 kOhm a partir de un suministro de 5 V. Estos par√°metros se seleccionan de modo que a una distancia de ~ 20 mm entre el emisor de fotos y el receptor, una se√±al l√≥gica de tama√±o completo a niveles de 5 voltios llegue inmediatamente a la entrada sin amplificaci√≥n adicional. .  Las corrientes que aparecen aqu√≠ pueden parecer desproporcionadamente grandes para usted, seg√∫n el requisito de consumo m√≠nimo de energ√≠a indicado anteriormente, pero como ver√°, aparecen en cada ciclo de medici√≥n durante un m√°ximo de varios milisegundos para que el consumo total permanezca peque√±o. <br><br>  La base para montar los receptores y emisores fueron los segmentos del canal del cable (visibles en la foto de los sensores de arriba), cortados para formar "orejas" para el montaje en el soporte en la base.  Para cada uno de estos desechos, se peg√≥ una placa de pl√°stico a la tapa de cierre desde el interior, de igual ancho que el ancho del canal.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los LED y los fototransistores se fijaron a la distancia correcta en los agujeros perforados en esta placa para que los cables estuvieran dentro del canal, y solo las protuberancias en el extremo de los dep√≥sitos sobresalieran hacia afuera. Las conclusiones se sueldan de acuerdo con el diagrama (ver m√°s abajo), las conclusiones externas se hacen con trozos de un cable flexible multicolor. Las resistencias para emisores del sensor de direcci√≥n tambi√©n se encuentran dentro del canal, una conclusi√≥n general se hace a partir de ellas. Despu√©s de desoldar, la tapa se ajusta en su lugar, todas las ranuras se sellan con plastilina y una cinta adhesiva adicional, que tambi√©n cierra el orificio en el lado opuesto a los terminales, y toda la estructura se llena con epoxi. Las conclusiones externas, como se puede ver en la foto de los sensores, se muestran en el bloque de terminales montado en la parte posterior del soporte. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagrama de circuito</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La unidad para procesar sensores de viento tiene este aspecto: </font></font><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3ed/42e/3b7/3ed42e3b7ef2fee830c17786e991db52.png" width="1000" alt="imagen"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre el origen de la potencia de 12-14 voltios, consulte a continuaci√≥n. Adem√°s de los componentes indicados en el diagrama, la unidad remota contiene un sensor de temperatura y humedad, que no se muestra en el diagrama. El divisor de voltaje conectado al terminal A0 del controlador est√° dise√±ado para controlar el voltaje de la fuente de alimentaci√≥n para un reemplazo oportuno. El LED conectado al terminal tradicional 13 (terminal 19 de la carcasa DIP) es s√∫per brillante, por su brillo normal y no deslumbrante, suficiente corriente en una fracci√≥n de miliamperios es suficiente, que es proporcionada por una resistencia inusualmente alta de 33 kOhm.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El esquema utiliza un controlador Atmega328 "desnudo" en un paquete DIP, programado a trav√©s de Uno y montado en un z√≥calo. Dichos controladores con un cargador Arduino ya registrado se venden, por ejemplo, en Chip-Dip (o puede </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grabar el</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cargador </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">usted mismo</font></a><font style="vertical-align: inherit;"> ). Dicho controlador est√° convenientemente programado en un entorno familiar, pero, al carecer de componentes en el tablero, es, en primer lugar, m√°s econ√≥mico y, en segundo lugar, ocupa menos espacio. Se podr√≠a obtener un modo de ahorro de energ√≠a completo eliminando tambi√©n el gestor de arranque (y generalmente pintando todo el c√≥digo en el ensamblador :), pero aqu√≠ no es muy relevante y la programaci√≥n es innecesariamente complicada.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el diagrama, los rect√°ngulos grises est√°n rodeados por componentes relacionados por separado con los canales de velocidad y direcci√≥n. Considere la operaci√≥n del circuito como un todo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El funcionamiento del controlador en su conjunto est√° controlado por el temporizador de vigilancia WDT, que se activa en el modo de llamada de interrupci√≥n. WDT activa el controlador desde el modo de suspensi√≥n a intervalos establecidos. Si el temporizador se inicia nuevamente en la interrupci√≥n llamada, no se reinicia desde cero, todas las variables globales permanecen en sus valores. Esto le permite acumular datos desde el despertar hasta el despertar y, en alg√∫n momento, procesarlos, por ejemplo, para promediar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al comienzo del programa, se hicieron las siguientes declaraciones de bibliotecas y variables globales (para no saturar el texto de los ejemplos ya extensos, aqu√≠ se public√≥ todo lo relacionado con el sensor de temperatura y humedad):</font></font><br><br><pre><code class="plaintext hljs">#include &lt;VirtualWire.h&gt; #include &lt;avr/wdt.h&gt; #include &lt;avr/sleep.h&gt; . . . . . #define ledPin 13 //  (PB5  19 ATmega) #define IR_Pin 10 //  IRLU (PB2  16 Atmega) #define in_3p 9 //   3 #define in_2p 8 //   2 #define in_1p 7 //   1 #define in_0p 6 //   0 #define IR_PINF 5 //(PD5,11)   -  #define IN_PINF 4 //(PD4,6)    volatile unsigned long ttime = 0; //   float ff[4]; //      char msg[25]; //  byte count=0;// int batt[4]; //   byte wDir[4]; //   byte wind_Gray=0; //   </code> </pre> <br>  Los siguientes procedimientos se utilizan para iniciar el modo de suspensi√≥n y WDT (despertarse cada 4 s): <br><br><pre> <code class="plaintext hljs">//      void system_sleep() { ADCSRA &amp;= ~(1 &lt;&lt; ADEN); //. cbi(ADCSRA,ADEN);   set_sleep_mode(SLEEP_MODE_PWR_DOWN); //   sleep_mode(); //   sleep_disable(); //      watchdog ADCSRA |= (1 &lt;&lt; ADEN); /. sbi(ADCSRA,ADEN);   } //**************************************************************** // ii: 0=16ms, 1=32ms,2=64ms,3=128ms,4=250ms,5=500ms // 6=1 sec,7=2 sec, 8=4 sec, 9= 8sec void setup_watchdog(int ii) { byte bb; if (ii &gt; 9 ) ii=9; bb=ii &amp; 7; if (ii &gt; 7) bb|= (1&lt;&lt;5); // bb -   bb|= (1&lt;&lt;WDCE); MCUSR &amp;= ~(1&lt;&lt;WDRF); //   WDTCSR |= (1&lt;&lt;WDCE) | (1&lt;&lt;WDE); //      WDTCSR = bb; WDTCSR |= (1&lt;&lt;WDIE); // WDT } //**************************************************************** //     ISR(WDT_vect) { wdt_reset(); }</code> </pre><br>  El sensor de velocidad da la frecuencia de interrupci√≥n del canal √≥ptico, el orden de magnitud es de unas pocas decenas de hertzios.  La medici√≥n de este valor es m√°s econ√≥mica y m√°s r√°pida despu√©s de un per√≠odo (este fue el tema de la publicaci√≥n del autor " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Evaluaci√≥n de m√©todos para medir bajas frecuencias en el Arduino</a> ").  Aqu√≠, el m√©todo se selecciona a trav√©s de la funci√≥n pulseInLong () modificada, que no vincula la medici√≥n a salidas espec√≠ficas del controlador (el texto de la funci√≥n periodInLong () se puede encontrar en la publicaci√≥n). <br><br>  En la funci√≥n setup (), se declaran las direcciones de salida, se inicializan la biblioteca del transmisor de 433 MHz y el temporizador de vigilancia (la l√≠nea para IN_PINF es b√°sicamente superflua e insertada para la memoria): <br><br><pre> <code class="plaintext hljs">void setup() { pinMode(IR_PINF, OUTPUT); //  pinMode(IN_PINF, INPUT); //     pinMode(13, OUTPUT); // vw_setup(1200); //   VirtualWire vw_set_tx_pin(2); //D2, PD2(4)   VirtualWire // Serial.begin(9600); // Serial-     setup_watchdog(8); //WDT  4 c wdt_reset(); }</code> </pre><br>  Finalmente, en el ciclo principal del programa, primero cada vez que nos despertamos (cada 4 segundos) leemos el voltaje y calculamos la frecuencia del sensor de velocidad del viento: <br><br><pre> <code class="plaintext hljs">void loop() { wdt_reset(); //  digitalWrite(ledPin, HIGH); //    batt[count]=analogRead(0); //      /*===  ==== */ digitalWrite(IR_PINF, HIGH); // -   float f=0; //   ttime=periodInLong(IN_PINF, LOW, 250000); // 0,25  // Serial.println(ttime); //    if (ttime!=0) {//    f = 1000000/float(ttime);} //      digitalWrite(IR_PINF, LOW); // - ff[count]=f; //     . . . . .</code> </pre><br>  El tiempo de quemado del LED IR (consumiendo, recuerdo, 20 mA) aqu√≠, como puede ver, ser√° m√°ximo en ausencia de rotaci√≥n del disco del sensor y en esta condici√≥n ser√° de aproximadamente 0.25 segundos.  La frecuencia m√≠nima medida, por lo tanto, ser√° de 4 Hz (un cuarto de revoluci√≥n de disco por segundo con 16 agujeros).  Como result√≥ durante la calibraci√≥n del sensor (ver m√°s abajo), esto corresponde a aproximadamente 0.2 m / s de velocidad del viento. Hacemos hincapi√© en que este es el valor m√°s peque√±o medible de la velocidad del viento, pero no una resoluci√≥n y no un umbral para el arranque (que resultar√° ser mucho m√°s alto).  Si hay una frecuencia (es decir, cuando el sensor gira), el tiempo de medici√≥n (y, en consecuencia, el tiempo de encendido del LED, es decir, el consumo de corriente) se reducir√° proporcionalmente y la resoluci√≥n aumentar√°. <br><br>  Los siguientes son procedimientos que se realizan cada cuarto despertar (es decir, cada 16 segundos).  El valor de la frecuencia del sensor de velocidad de los cuatro valores acumulados que transmitimos no es promedio, sino m√°ximo; como lo ha demostrado la experiencia, este es un valor m√°s informativo.  Por conveniencia y uniformidad, cada uno de los valores, independientemente de su tipo, se convierte antes de la transmisi√≥n a un entero positivo de 4 decimales.  La variable de conteo es monitoreada por la variable de conteo: <br><br><pre> <code class="plaintext hljs">// 16        //  4- : if (count==3){ f=0; //  for (byte i=0; i&lt;4; i++) if (f&lt;ff[i]) f=ff[i]; //    int fi=(int(f*10)+1000); //  4 .    int volt=0; //  for (byte i=0; i&lt;4; i++) volt=volt+batt[i]; volt=volt/4+100; //   100  = 3 . volt=volt*10; // 4 .  . . . . .</code> </pre><br>  A continuaci√≥n se encuentra la definici√≥n de la direcci√≥n del c√≥digo Gray.  Aqu√≠, para reducir el consumo, en lugar de estar constantemente en LED IR, se suministra una frecuencia de 5 kHz a los cuatro canales simult√°neamente a trav√©s de un transistor de efecto de campo clave que utiliza la funci√≥n tone ().  La presencia de una frecuencia en cada una de las descargas (salidas in_0p - in_3p) se detecta utilizando un m√©todo similar al anti-rebote cuando se leen las lecturas de un bot√≥n presionado.  Primero, en el ciclo esperamos para ver si hay un nivel alto en la salida, y luego lo verificamos despu√©s de 100 Œºs.  100 Œºs es un per√≠odo medio de una frecuencia de 5 kHz, es decir, si hay una frecuencia al menos desde la segunda vez, volveremos a caer a un nivel alto (por si acaso, repite cuatro veces) y esto significa que definitivamente est√° all√≠.  Repetimos este procedimiento para cada uno de los cuatro bits de c√≥digo: <br><br><pre> <code class="plaintext hljs">/* ===== Wind Gray ==== */ //: tone(IR_Pin,5000);// 5    boolean yes = false; byte i=0; while(!yes){ // 3 i++; boolean state1 = (digitalRead(in_3p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_3p)); if (i&gt;4) break; //   } if (yes) wDir[3]=1; else wDir[3]=0; yes = false; i=0; while(!yes){ // 2 i++; boolean state1 = (digitalRead(in_2p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_2p)); if (i&gt;4) break; //   } if (yes) wDir[2]=1; else wDir[2]=0; yes = false; i=0; while(!yes){ // 1 i++; boolean state1 = (digitalRead(in_1p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_1p)); if (i&gt;4) break; //   } if (yes) wDir[1]=1; else wDir[1]=0; yes = false; i=0; while(!yes){ // 0 i++; boolean state1 = (digitalRead(in_0p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_0p)); if (i&gt;4) break; //   } if (yes) wDir[0]=1; else wDir[0]=0; noTone(IR_Pin); //  //     : wind_Gray=wDir[0]+wDir[1]*2+wDir[2]*4+wDir[3]*8; //   .  int wind_G=wind_Gray*10+1000; //  4- .  . . . . .</code> </pre><br>  La duraci√≥n m√°xima de un procedimiento ser√° en ausencia de frecuencia en el receptor e igual a 4 √ó 100 = 400 microsegundos.  El tiempo de grabaci√≥n m√°ximo de 4 LED de direcci√≥n ser√° cuando no se iluminen receptores, es decir, 4 √ó 400 = 1,6 milisegundos.  El algoritmo, por cierto, funcionar√° exactamente de la misma manera, si en lugar de una frecuencia cuyo per√≠odo es un m√∫ltiplo de 100 Œºs, es simple aplicar un nivel alto constante a los LED.  Si hay un meandro en lugar de un nivel constante, simplemente ahorramos la comida a la mitad.  Todav√≠a podemos ahorrar si iniciamos cada LED IR a trav√©s de una l√≠nea separada (respectivamente, a trav√©s de una salida separada del controlador con su propio transistor de llave), pero al mismo tiempo el circuito, el cableado y el control son complicados, y la corriente es de 130 mA durante 2 ms cada 16 segundos - Esto, ya ves, un poco. <br><br>  Finalmente, <b>transferencia inal√°mbrica de datos</b> .  Para transferir datos desde el sitio de instalaci√≥n del sensor al marcador de la estaci√≥n meteorol√≥gica, se eligi√≥ el m√©todo m√°s simple, econ√≥mico y confiable: <a href="">un par transmisor / receptor a una frecuencia de 433 MHz</a> .  Estoy de acuerdo en que el m√©todo no es el m√°s conveniente (debido a que los dispositivos est√°n dise√±ados para transmitir secuencias de bits, no bytes completos, debe refinar su mente sobre la conversi√≥n de datos entre los formatos necesarios), y estoy seguro de que muchas personas querr√°n discutir conmigo en t√©rminos de su confiabilidad.  La respuesta a la √∫ltima objeci√≥n es simple: "¬°simplemente no sabes c√≥mo cocinarlos!" <br><br>  El secreto es que generalmente permanece detr√°s de escena de varias descripciones de intercambio de datos en el canal de 433 MHz: dado que estos dispositivos son puramente anal√≥gicos, la fuente de alimentaci√≥n del receptor debe estar muy limpia de cualquier pulsaci√≥n extra√±a.  ¬°En ning√∫n caso debe alimentar el receptor desde el estabilizador interno Arduino de 5 voltios!  La instalaci√≥n de un estabilizador de baja potencia separado para el receptor (LM2931, LM2950 o similar) directamente en la vecindad de sus terminales, con los circuitos de filtrado correctos en la entrada y salida, aumenta radicalmente el rango de transmisi√≥n y la confiabilidad. <br><br>  En este caso, el transmisor funcionaba directamente desde el voltaje de la bater√≠a de 12 V, el receptor y el transmisor estaban equipados con antenas est√°ndar hechas en casa en forma de un trozo de cable de 17 cm de largo (recuerdo que el cable para antenas es adecuado solo de un solo n√∫cleo, y es necesario colocar las antenas en el espacio paralelas entre s√≠). Se transmiti√≥ con confianza un paquete de informaci√≥n de 24 bytes (teniendo en cuenta la humedad y la temperatura) sin problemas a una velocidad de 1200 bit / s en diagonal a trav√©s de una parcela de 15 acres (aproximadamente 40-50 metros) y luego a trav√©s de tres registros  paredes dentro de la habitaci√≥n (en las cuales, por ejemplo, se recibe una se√±al celular con gran dificultad y no en todas partes).  Condiciones que son pr√°cticamente inalcanzables para cualquier m√©todo est√°ndar de 2.4 GHz (como Bluetooth, Zig-Bee e incluso Wi-Fi amateur), a pesar de que el consumo del transmisor aqu√≠ es miserable de 8 mA y solo en el momento de la transmisi√≥n real, el resto del tiempo el transmisor consume centavos  El transmisor se coloca estructuralmente dentro de la unidad remota, la antena sobresale horizontalmente desde el costado. <br><br>  Combinamos todos los datos en un paquete (en una estaci√≥n real, se le agregar√°n temperatura y humedad), que consta de partes uniformes de 4 bytes y precedidos por la firma "DAT", lo enviamos al transmisor y completamos todos los ciclos: <br><br><pre> <code class="plaintext hljs">/*=====Transmitter=====*/ String strMsg="DAT"; // -  strMsg+=volt; //  4  strMsg+=wind_G; // wind 4  strMsg+=fi; //  4  strMsg.toCharArray(msg,16); //    // Serial.println(msg); //  vw_send((uint8_t *)msg, strlen(msg)); //   vw_wait_tx(); //    - ! delay(50); //+      count=0; //  }//end count==3 else count++; digitalWrite(ledPin, LOW); //   system_sleep(); // ‚Äî   } //end loop</code> </pre><br>  El tama√±o del paquete puede reducirse si rechaza el requisito de presentar cada uno de los valores de varios tipos en forma de un c√≥digo uniforme de 4 bytes (por ejemplo, para el c√≥digo Gray, por supuesto, un byte es suficiente).  Pero en aras de la universalizaci√≥n, dej√© todo como est√°. <br><br>  <b>Caracter√≠sticas de nutrici√≥n y dise√±o de la unidad remota</b> .  El consumo de la unidad remota se calcula de esta manera: <br><br>  - 20 mA (emisor) + ~ 20 mA (controlador con circuitos auxiliares) durante aproximadamente 0.25 s cada cuatro segundos - un promedio de 40/16 = 2.5 mA; <br>  - 130 mA (emisores) + ~ 20 mA (controlador con circuitos auxiliares) durante aproximadamente 2 ms cada 16 segundos - un promedio de 150/16/50 ‚âà 0.2 mA; <br><br>  Despu√©s de realizar este c√°lculo, el consumo del controlador al tomar datos del sensor de temperatura y humedad y cuando el transmisor est√° funcionando, podemos llevar el consumo promedio a 4 mA de forma segura (¬°con un pico de aproximadamente 150 mA, eso s√≠!).  Las bater√≠as (que, por cierto, requerir√°n hasta 8 piezas para proporcionar el transmisor con el voltaje m√°ximo). Tendr√°n que cambiarse con demasiada frecuencia, por lo que la idea era alimentar la unidad remota con bater√≠as de 12 voltios para un destornillador: solo ten√≠a dos adicionales.  Su capacidad es incluso menor que la cantidad correspondiente de bater√≠as AA: solo 1.3 A ‚Ä¢ horas, pero nadie se molesta en cambiarlas en ning√∫n momento, manteniendo listo un segundo cargador.  Con el consumo indicado de 4 mA, la capacidad de 1300 mA ‚Ä¢ horas es suficiente durante aproximadamente dos semanas, lo que no es demasiado problem√°tico. <br><br>  Tenga en cuenta que el voltaje de una bater√≠a reci√©n cargada puede ser de hasta 14 voltios.  En este caso, se instal√≥ un estabilizador de entrada de 12 voltios, para evitar el sobrevoltaje de la fuente de alimentaci√≥n del transmisor y no sobrecargar el estabilizador principal de cinco voltios. <br><br>  La unidad port√°til en una caja de pl√°stico adecuada se encuentra debajo del techo, un cable de alimentaci√≥n de la bater√≠a y las conexiones a los sensores de viento se conectan a ella en los conectores.  La principal dificultad es que el circuito result√≥ ser extremadamente sensible a la humedad del aire: en clima lluvioso, despu√©s de un par de horas, el transmisor comienza a fallar, las mediciones de frecuencia muestran un desorden completo y las mediciones de voltaje de la bater√≠a muestran "clima en Marte". <br><br>  Por lo tanto, despu√©s de depurar los algoritmos y verificar todas las conexiones, el caso debe sellarse cuidadosamente.  Todos los conectores en la entrada de la carcasa est√°n sellados con sellador, lo mismo se aplica a todas las cabezas de tornillo que sobresalen, la salida de antena y el cable de alimentaci√≥n.  Las articulaciones del cuerpo se untan con plastilina (teniendo en cuenta que deber√°n separarse) y, adem√°s, se pegan en la parte superior con tiras de cinta de plomer√≠a.  Tambi√©n es bueno fortalecer suavemente los conectores usados ‚Äã‚Äãen el interior con un ep√≥xico: por ejemplo, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DB-15 que se</a> muestra en el diagrama del m√≥dulo remoto no est√° apretado, y el aire h√∫medo se escapar√° lentamente entre el marco de metal y la base de pl√°stico. <br><br>  Pero todas estas medidas en s√≠ mismas solo tendr√°n un efecto a corto plazo, incluso si no hay succi√≥n de aire fr√≠o y h√∫medo, entonces el aire seco de la habitaci√≥n se convierte f√°cilmente en aire h√∫medo cuando baja la temperatura fuera de la carcasa (recuerde el fen√≥meno llamado "punto de roc√≠o"). <br><br>  Para evitar esto, es necesario dejar un cartucho o bolsa con un desecante - gel de s√≠lice dentro de la caja (las bolsas con ella a veces se colocan en cajas con zapatos o en algunos paquetes con dispositivos electr√≥nicos).  Si el gel de s√≠lice de origen desconocido se ha almacenado durante mucho tiempo, debe calcinarse antes de usarlo en un horno el√©ctrico a 140-150 grados durante varias horas.  Si el estuche est√° sellado adecuadamente, entonces el desecante tendr√° que ser reemplazado no m√°s a menudo que al comienzo de cada temporada de verano. <br><br><h3>  M√≥dulo principal </h3><br>  En el m√≥dulo principal, todos los valores se aceptan, se descifran, si es necesario, se convierten de acuerdo con las ecuaciones de calibraci√≥n y se muestran. <br><br>  El receptor se coloca fuera del m√≥dulo principal de la estaci√≥n y se coloca en una peque√±a caja con orejas para el montaje.  La antena se saca a trav√©s de una abertura en la cubierta, todas las aberturas en la carcasa est√°n selladas con caucho crudo.  Los contactos del receptor est√°n conectados a un conector dom√©stico muy confiable del tipo RS-4, en el lado del receptor est√° conectado a trav√©s de un cable AV de doble blindaje: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5da/ffc/abe/5daffcabee184faa792d98fffea4abb7.jpg" width="500" alt="imagen"><br><br>  Se recoge una se√±al a lo largo de uno de los n√∫cleos de cable y, por el otro, se suministra energ√≠a en forma de 9 voltios sin procesar desde el adaptador de corriente del m√≥dulo.  El estabilizador tipo LM-2950-5.0 junto con los condensadores de filtraci√≥n se instala en una caja con el receptor en una bufanda separada. <br><br>  Se realizaron experimentos para aumentar la longitud del cable (por si acaso, ¬øde repente no funcionar√≠a a trav√©s de la pared?), En el que result√≥ que nada cambia dentro de la longitud de 6 metros. <br><br>  Solo hay cuatro pantallas OLED: dos datos de clima de servicio amarillo, dos relojes verdes y un calendario.  Su ubicaci√≥n se muestra en la foto: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ccb/ff2/095/ccbff20958163b5865beb85f9a2bcf0f.jpg" width="500" alt="imagen"><br><br>  Tenga en cuenta que en cada grupo una de las pantallas es texto, la segunda es gr√°fica, con fuentes creadas artificialmente en forma de im√°genes de glifos.  Aqu√≠ no nos detendremos en el tema de mostrar informaci√≥n en las pantallas para no inflar el texto ya extenso del art√≠culo y los ejemplos: debido a la presencia de im√°genes de glifos que deben mostrarse individualmente (a menudo simplemente enumerando las opciones usando el operador de caso), los programas de salida pueden ser Muy voluminoso.  Para obtener informaci√≥n sobre c√≥mo manejar tales pantallas, consulte la publicaci√≥n del autor, " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Modo gr√°fico y de texto de pantallas Winstar</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">,</a> que incluye un ejemplo de una pantalla para generar datos de viento. <br><br>  <b>Diagrama de circuito</b>  El reloj y sus pantallas son atendidos por un controlador Arduino Mini separado para facilitar la configuraci√≥n y ya no los desmontaremos aqu√≠.  El diagrama de conexi√≥n de los componentes al Arduino Nano, que controla la recepci√≥n y salida de datos meteorol√≥gicos, es el siguiente: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c6/0c2/49d/6c60c249dfa514a332194b8c5cc10e95.png" width="1000" alt="imagen"><br><br>  Aqu√≠, a diferencia del m√≥dulo remoto, se muestra la conexi√≥n de sensores meteorol√≥gicos: un bar√≥metro y un sensor interno de temperatura y humedad.  Preste atenci√≥n al cableado de alimentaci√≥n: las pantallas est√°n alimentadas por un estabilizador de 5 V separado tipo LM1085.  Es natural alimentar las pantallas del reloj, sin embargo, en este caso, el controlador del reloj tambi√©n debe ser alimentado por el mismo voltaje, y a trav√©s de la salida de 5 V, no Vin (para Mini Pro, este √∫ltimo se llama RAW).  Si enciende el controlador del reloj de la misma manera que Nano - 9 voltios a trav√©s del pin RAW, entonces su estabilizador interno entrar√° en conflicto con los 5 voltios externos y, por supuesto, el m√°s fuerte ganar√° en esta pelea, es decir, LM1085, y Mini se quedar√° completamente sin energ√≠a.  Adem√°s, para evitar todo tipo de problemas, antes de programar Nano y especialmente Mini (es decir, antes de conectar el cable USB), se debe desconectar el adaptador externo. <br><br>  En el estabilizador LM1085, cuando las cuatro pantallas est√°n conectadas, la potencia se asignar√° a aproximadamente un vatio, por lo tanto, debe instalarse en un peque√±o radiador a unos 5-10 cm2 de una esquina de aluminio o cobre. <br><br>  Recepci√≥n y procesamiento de datos.  Aqu√≠ reproduzco y comento solo fragmentos del programa relacionados con los datos del viento, algunas palabras sobre otros sensores a continuaci√≥n. <br><br>  Para recibir un mensaje en un canal de 433 MHz, se aplica el m√©todo est√°ndar descrito en muchas fuentes.  Conectamos la biblioteca y declaramos las variables: <br><br><pre> <code class="plaintext hljs">#include &lt;VirtualWire.h&gt; . . . . . int volt; //      float batt; //  ‚Äî   byte wDir; //    uint16_t t_time = 0; //   char str[5]; //   uint8_t buf[VW_MAX_MESSAGE_LEN]; //    uint8_t buflen = VW_MAX_MESSAGE_LEN; // max    . . . . .</code> </pre><br>  Una peculiaridad est√° relacionada con el tama√±o del b√∫fer buflen: declarar su valor (VW_MAX_MESSAGE_LEN) una vez al comienzo del programa no es suficiente.  Como esta variable aparece por referencia en la funci√≥n de recepci√≥n (ver m√°s abajo), el tama√±o predeterminado del mensaje debe actualizarse cada ciclo.  De lo contrario, debido a la recepci√≥n de mensajes corruptos, el valor de buflen se acortar√° cada vez hasta que comience a obtener todo tipo de tonter√≠as en lugar de datos.  En los ejemplos, estas dos variables generalmente se declaran localmente en el ciclo loop (), porque el tama√±o del b√∫fer se actualiza autom√°ticamente, y aqu√≠ simplemente repetiremos la asignaci√≥n del valor deseado al comienzo de cada ciclo. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En el procedimiento de configuraci√≥n, realice las siguientes configuraciones: </font></font><br><br><pre> <code class="plaintext hljs">void setup() { delay (500); //    pinMode(16,INPUT_PULLUP); //   vw_setup(1200); //   VirtualWire vw_set_rx_pin(17); //A3   VirtualWire . . . . .</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de tomar cualquier cosa, se verifica el intervalo de tiempo t_time transcurrido desde la √∫ltima recepci√≥n. </font><font style="vertical-align: inherit;">Si ha excedido los l√≠mites razonables (por ejemplo, 48 segundos, tres veces el tiempo de reintento de los mensajes de la unidad externa), esto se percibe como una p√©rdida del sensor y se muestra de alguna manera en la pantalla:</font></font><br><br><pre> <code class="plaintext hljs">void loop() { vw_rx_start(); //   buflen = VW_MAX_MESSAGE_LEN; //     if ((int(millis()) - t_time) &gt; 48000) // t_time    48  { &lt;   &gt; }//end    if (vw_have_message()) { //  if (vw_get_message(buf, &amp;buflen)) //    { vw_rx_stop(); //    t_time = millis(); // t_time for (byte i=0;i&lt;3;i++) //     str[i]= buf[i]; str[3]='\0'; if((str[0]=='D')&amp;&amp;(str[1]=='A')&amp;&amp;(str[2]=='T')) { //  // : for (byte i=3;i&lt;7;i++) //     str[i-11]= buf[i]; //     volt=atoi(str); //    volt=(volt/10)-100; //   4-  batt=float(volt)/55.5; //       //      for (byte i=7;i&lt;11;i++) //     str[i-15]= buf[i]; //     int w_Dir=atoi(str); //    w_Dir=(w_Dir-1000)/10; //    wDir=lowByte(w_Dir); //  -   &lt;      case&gt; . . . . .</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coeficiente 55.5 - conversi√≥n del valor del c√≥digo ADC en un voltaje real, su valor depende del voltaje de referencia y los valores de las resistencias del divisor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por cierto, el c√≥digo Gray tiene una caracter√≠stica: el orden de los bits no es importante, el c√≥digo guarda todas sus propiedades cuando se reorganizan. Y dado que al descifrar, todav√≠a consideramos cada caso por separado, los bits se pueden ver en cualquier orden e incluso confundirse cuando est√°n conectados. Es otra cuesti√≥n si desea resolver este asunto de alguna manera, por ejemplo, crear una matriz de valores de direcci√≥n ("s", "ssz", "sz", "ssz", "z", etc.), y en lugar de una consideraci√≥n individual cada opci√≥n para extraer designaciones por n√∫mero en esta matriz. Entonces ser√≠a necesario convertir el c√≥digo Gray en un binario ordenado, y el orden de los bits jugar√≠a un papel importante.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y finalmente, extraemos el valor de la velocidad y cerramos todos los operadores: </font></font><br><br><pre> <code class="plaintext hljs">. . . . . for (byte i=19;i&lt;23;i++) //     str[i-19]= buf[i]; //     int wFrq=atoi(str); //    wFrq = (wFrq-1000)/10; //   4-  wFrq=10+0.5*wFrq;//      &lt;    &gt; }//end if str=DAT }//end vw_get_message } //end vw_have_message(); . . . . .</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠ 10 + 0.5 * wFrq es la ecuaci√≥n del medidor. </font><font style="vertical-align: inherit;">10 dm / s (es decir, 1.0 metros por segundo) es el umbral para comenzar, y 0.5 es el coeficiente para convertir la frecuencia en velocidad (en dm / s). </font><font style="vertical-align: inherit;">Con un valor cero de la frecuencia de entrada, esta ecuaci√≥n da 10 dm / s, por lo tanto, se debe tener cuidado por separado para que no sea 1 m / s, sino un valor cero. </font><font style="vertical-align: inherit;">Puede calibrar el sensor de velocidad utilizando cualquiera de los anem√≥metros port√°tiles y ventiladores de escritorio m√°s baratos. </font><font style="vertical-align: inherit;">No intente determinar el umbral de inicio experimentalmente: ser√° mucho m√°s preciso si se observan dos o tres puntos del valor directo de calibraci√≥n de la velocidad V versus la frecuencia F: V = V + K √ó F a diferentes velocidades de flujo, entonces el umbral de inicio se determina autom√°ticamente como el valor de V (punto ordenado intersecci√≥n de esta l√≠nea con el eje de velocidades).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de cerrar el ciclo principal, debe hacer una cosa m√°s. Tenemos el voltaje de la bater√≠a, pero no es necesario que lo muestre todo el tiempo, solo tome espacio. Para hacer esto, necesitamos el bot√≥n Kn1; al hacer clic en √©l, reemplazamos temporalmente (hasta la pr√≥xima actualizaci√≥n de datos) la l√≠nea de temperatura y humedad externa con el valor de voltaje:</font></font><br><br><pre> <code class="plaintext hljs">. . . . . if (digitalRead(16)==LOW){ //  &lt;   ,   -&gt; }//  delay(500); }// loop</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ten√≠a un bot√≥n, como se puede ver en el circuito, con un contacto de cambio, pero nada impide instalar el habitual con un contacto de cierre, que lo conecta a la fuente de alimentaci√≥n a trav√©s de una resistencia. Tambi√©n puede agregar a esto el parpadeo de los s√≠mbolos en la pantalla si el voltaje de la bater√≠a cae por debajo de, por ejemplo, 10 voltios, como una se√±al de que es hora de cambiarlo. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En conclusi√≥n sobre los sensores clim√°ticos.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como sensor externo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">us√≥ SHT-75</font></a><font style="vertical-align: inherit;"> , el √∫nico sensor aficionado que encontr√© que no requiere calibraci√≥n y muestra valores reales de temperatura y humedad directamente " </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">listos para usar</font></a><font style="vertical-align: inherit;"> " (de ah√≠ su alto precio). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede encontrar una biblioteca para conectarlo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El SHT-75 est√° dise√±ado de manera bastante est√∫pida: el sustrato met√°lico de la placa conduce el calor muy bien, por lo tanto, debe eliminarse por completo fuera de la carcasa. De lo contrario, la presencia de un solo controlador del tipo ATmega328 con un regulador de potencia en una caja cerrada es suficiente para calentar el sensor a trav√©s del sustrato en un par de grados, incluso si se saca la cabeza. Mi esquema con sensores de viento, con sus corrientes de 20-130 mA (incluso corrientes de milisegundos insignificantes) calent√≥ el SHT-75 grados por cinco, por lo que fue sacado e instalado por separado en una placa de pl√°stico que sobresale de la carcasa lateralmente.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los datos del SHT-75 son tomados por el mismo controlador que los datos de los sensores de viento y enviados desde el m√≥dulo remoto en un solo paquete a trav√©s de un canal inal√°mbrico de 433 MHz. Para la transmisi√≥n, tambi√©n se convierten preliminarmente a un formato de cadena de 4 bytes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para medir la temperatura y la humedad dentro de la habitaci√≥n, se eligi√≥ el DHT-22 banal, ya que el rango all√≠ es peque√±o en comparaci√≥n con la calle, no importa qu√© sensor usar (excepto, por supuesto, el DHT-11, que no se debe usar bajo ninguna circunstancia, en simplemente no es funcional). La temperatura del DHT-22 se corrigi√≥ mediante mediciones con un term√≥metro de mercurio (¬°coincidieron completamente con el SHT-75!), Y la humedad se aplan√≥ ligeramente en comparaci√≥n con el SHT-75. Las correcciones se ingresan inmediatamente antes de la visualizaci√≥n.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por cierto, el DHT-22 tambi√©n debe retirarse de la caja con pantallas, de lo contrario, inevitablemente se calentar√° y mentir√°. Lo fijo en un soporte de pl√°stico en la parte inferior de la caja, a una distancia de diez mil√≠metros. Esta circunstancia, por cierto, como sospecho, es una de las razones (excepto por la falta de calibraci√≥n individual) de que todas las estaciones meteorol√≥gicas hogare√±as de marca RST y Oregon est√°n descaradamente mintiendo en el testimonio, incluso teniendo una extensi√≥n de s√≠ mismos (un sensor interno con uno externo) de dos a tres grados y hasta diez por ciento de humedad. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bar√≥metro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No presenta problemas, ya que casi todos los productos disponibles comercialmente se fabrican sobre la misma base: el chip microelectromec√°nico BMP180 (MEMS) o sus modificaciones. Mi experiencia personal al tratar de usar una variante m√°s rara basada en LPS331AP fue negativa: fue m√°s dif√≠cil encontrar una biblioteca para √©l y, para colmo, se encontr√≥ un conflicto con otros dispositivos en el bus I2C. Es posible que sea necesario ajustar las lecturas del bar√≥metro en el sitio de instalaci√≥n: cada 10-12 metros sobre el nivel del mar reducen la presi√≥n en 1 mm Hg.</font></font> Art.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, se tendr√° que restar (o agregar) un cierto valor de las lecturas para que la presi√≥n corresponda a las lecturas de la estaci√≥n meteorol√≥gica oficial en el √°rea. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No traigo todos los programas de estaciones meteorol√≥gicas por completo: son bastante voluminosos y a√∫n as√≠ no podr√° repetir la construcci√≥n uno a uno. En todo caso, llama al PM. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD del 30/06/17.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Energ√≠a instalada desde un panel solar. Kit desde aqu√≠: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">controlador de </font></a></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panel solar</font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bater√≠a</a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos juntos + entrega en Mosc√∫ dentro de 2.5 tyr. Funciona a la perfecci√≥n. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una t√©cnica interesante para calcular la potencia de la bater√≠a solar y la bater√≠a, que ofrecen los consultores de este sitio. Ejemplo de c√°lculo de 3 W de consumo de energ√≠a (tengo mucho menos), cito: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"3W multiplicado por 24h y dividido por 6 = 12Ah, esta es la capacidad m√≠nima de la bater√≠a </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3W multiplicado por 24h y dividido por 3h = 24W, esta es la potencia m√≠nima de la bater√≠a solar"</font></font><br>  No hay comentarios <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En mi caso, la potencia resultante de una planta de energ√≠a solar es diez veces mayor que la necesaria en las peores condiciones clim√°ticas. Por lo tanto, en el controlador del sensor, no puede preocuparse particularmente por el ahorro de energ√≠a y aplicar las frecuencias necesarias para tomar lecturas y promediar valores. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD del 13/09/18.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Durante casi dos temporadas de operaci√≥n, se revelaron las fortalezas y debilidades de la estaci√≥n. D√©bil: en primer lugar, el ciclo de actualizaci√≥n de las lecturas de 16 segundos (de cuatro series de mediciones), como era inicialmente, es demasiado largo. La instalaci√≥n de una bater√≠a solar con una bater√≠a intermedia nos permiti√≥ no pensar en el ahorro de energ√≠a y jugar con el tiempo del ciclo. Como resultado, el ciclo se estableci√≥ en 8 segundos (cuatro mediciones en dos segundos).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A partir de mejoras mec√°nicas, se introdujo un cojinete de empuje s√≥lido debajo de la punta del sensor de velocidad (s√≠, me advirtieron sobre su necesidad en ese momento, pero no descubr√≠ c√≥mo hacerlo en ese momento). Despu√©s de un tiempo, el eje del sensor cort√≥ completamente el soporte fluoropl√°stico y el umbral inicial aument√≥ bruscamente (por cierto, esto no afect√≥ la sensibilidad de la veleta). Por lo tanto, el soporte fue reemplazado por un cojinete de empuje de acero inoxidable, en el cual se hizo un peque√±o hueco con un taladro delgado. Preveo que luego tendr√© que encontrar algo m√°s con un punto que, como todo el eje, est√© hecho de duraluminio. Pero lo pospuse hasta el momento en que el sensor todav√≠a tiene que rehacerse: el disco l√°ser, tomado como base del dise√±o, se nubl√≥ del sol durante dos estaciones y comenz√≥ a agrietarse. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD del 06/05/19.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre la alteraci√≥n del sensor (queda la misma veleta). El sensor de velocidad tuvo que rehacerse tanto por el eje desgastado como por el disco l√°ser inutilizable. La base del dise√±o se mantiene igual, pero el nuevo disco l√°ser est√° pintado con pintura en aerosol dorada. La soluci√≥n para la punta del eje se encontr√≥ en la siguiente forma. Se perfor√≥ con precisi√≥n un receso en el eje dural exactamente en el centro, y se insert√≥ un borde de la parte superior del grifo chino de 3 mm en el segundo pegamento all√≠. La punta del grifo es un cono bien centrado con un √°ngulo de aproximadamente 70-80 grados. Adem√°s, se puli√≥ con una piel nula y luego con pasta GOI. Como base, utilic√© la cabeza de un tornillo M3 inoxidable con una ranura aserrada, en la que se marca un peque√±o hueco central con un taladro convencional D = 2 mm. Este tornillo fue atornillado directamente en el receso en el fluoropl√°stico,aserrado con un eje anterior a la alineaci√≥n proporcionada.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La punta del eje fue lubricada con grasa de grafito para protegerla de la corrosi√≥n (ya que las propiedades inoxidables del grifo son desconocidas para m√≠). </font><font style="vertical-align: inherit;">Despu√©s de un poco de molienda, el umbral inicial disminuy√≥ tanto que se hizo imposible medirlo con un anem√≥metro de marca, en el que el umbral es de aproximadamente 0.3-0.5 cm / s. </font><font style="vertical-align: inherit;">Seg√∫n datos indirectos (al construir una l√≠nea recta en dos puntos), se adopt√≥ voluntariamente un umbral de 0.3 m / s, aunque es probable que sea un poco menor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El cambio principal en los algoritmos de c√°lculo tambi√©n se refiere a los sensores de viento, y me pareci√≥ √∫til poner esto en un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">art√≠culo separado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es404385/">https://habr.com/ru/post/es404385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es404375/index.html">Noticias cu√°nticas de IBM: lanzan dos potentes procesadores de un nuevo tipo</a></li>
<li><a href="../es404377/index.html">El mundo de la "Internet de las cosas" rusa: banda T, Element, X-turion, FlipFlic y mucho m√°s</a></li>
<li><a href="../es404379/index.html">Estamos buscando oradores en el DIY-mitap 1 de julio</a></li>
<li><a href="../es404381/index.html">Video DIY 3D</a></li>
<li><a href="../es404383/index.html">Formlabs present√≥ Fuse 1, Top 3D Shop encontr√≥ un ganador</a></li>
<li><a href="../es404387/index.html">Tom√≥ una entrevista en video del vicepresidente Arduino y discuti√≥ con sus alumnos de ense√±anza FPGA / FPGA y Verilog</a></li>
<li><a href="../es404389/index.html">Atmotube Atmosphere Tube - Sensor port√°til de calidad del aire</a></li>
<li><a href="../es404391/index.html">Impresora de nivel 80. Epson WorkForce Enterprise</a></li>
<li><a href="../es404393/index.html">Bobby Compact: una nueva generaci√≥n de mochilas "antirrobo"</a></li>
<li><a href="../es404395/index.html">Historias sobre el motor SCUMM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>