<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👋🏻 🏕️ 🤬 Keine Minute offline - Auswahl eines industriellen LTE-Routers 🎈 🦅 🤛🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In vielen Systemen ist die Verbindung zum Internet von entscheidender Bedeutung, und selbst einige Minuten Ausfallzeit können teuer sein, beispielswei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keine Minute offline - Auswahl eines industriellen LTE-Routers</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443196/"><img alt="Industrieller LTE Termit CR41P Router mit Antennen Triad MA-2697" src="https://habrastorage.org/webt/qg/ns/hi/qgnshie5u3t0apgwhslrve0tan8.jpeg"><br><br>  In vielen Systemen ist die Verbindung zum Internet von entscheidender Bedeutung, und selbst einige Minuten Ausfallzeit können teuer sein, beispielsweise bei Geldautomaten, Alarmen, Überwachungs- und Zugangskontrollsystemen. <br>  Solche Systeme verwenden normalerweise mehrere Internetverbindungen und wechseln automatisch zwischen verschiedenen Kanälen, wenn der Hauptkanal nicht verfügbar ist. <br><br>  Ich hatte es satt, selbst ein <abbr title="Funktion der automatischen Umschaltung auf den Backup-Kanal bei einem Unfall auf dem Hauptkanal">Failover</abbr> für USB-Modems zu erfinden, und wollte dies an eine separate intelligente Hardware delegieren.  Ich habe mich entschlossen, mehrere Industrierouter zu vergleichen, um herauszufinden, ob sie ihrem Namen gerecht werden und wie viel besser sie sind als meine Krücken.  Der Artikel wird Router der Hersteller iRZ, Termit, Robustel vergleichen. <br><br>  Grundvoraussetzungen für Router: <br><br><ul><li>  <b>2 SIM-Karten und automatisches Umschalten zwischen Betreibern</b> - Der Router sollte automatisch den Kommunikationsverlust eines Betreibers erkennen und zum Backup wechseln.  Dies ist besonders wichtig für mobile Systeme, wenn die Mobilfunkabdeckung nicht perfekt ist. </li><li>  <b>Ethernet-Verbindung</b> - Das Hauptsystem sollte nur das Standard-Gateway sehen und sollte nichts über das Modem-Subsystem auf der Routerseite und die Kanalvermittlung wissen, daher kein USB. </li><li>  <b>Unterstützung für moderne VPN-Protokolle: IKEv2 und OpenVPN</b> - Um die Verwaltung zu vereinfachen und nicht von echten IP-Adressen abhängig zu sein, müssen Router VPN-fähig sein.  Gleichzeitig unterstützen Sie nicht nur veraltetes PPTP und L2TP, sondern auch moderne Protokolle. </li><li>  <b>(Optional) GPS-Unterstützung, Verfügbarkeit von GPIO, serielle RS-232/485-Schnittstellen</b> - diese Funktionen sind für unsere Aufgaben nicht erforderlich, werden jedoch auch als Bonus betrachtet, der für jemanden nützlich sein kann. </li></ul><a name="habracut"></a><br><h2>  Das Problem der hausgemachten Krücken </h2><br><img alt="Zyxel-Router mit zwei an der Wand montierten USB-Modems.  Kabel von Parteien Antennen werden ein das Modem entfernen." src="https://habrastorage.org/webt/hx/cs/r7/hxcsr7imx1mue6ba45gotbl1lsq.jpeg">  <font color="99999">WLAN-Router mit zwei USB-Modems (Foto: Dmitry Bevza dgl.ru)</font> <br><br>  <b>Failover</b> - Notfallumschaltung des Internetkanals auf das Backup bei Unzugänglichkeit des Hauptkanals. <br><br>  Um Internetkanäle zu reservieren, habe ich normalerweise einen Haushalts-WLAN-Router mit OpenWRT-Firmware und das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mwan3-</a> Paket verwendet.  Sie können die automatische Sicherung und den Ausgleich zwischen mehreren Internetkanälen konfigurieren, einschließlich zwischen einer Kabelverbindung und einem USB-Modem. <br><br>  Der Hauptnachteil dieses Ansatzes ist die heterogene Ausstattung und das schwache Design externer USB-Modems.  Ich mochte die Huawei E3372h Modems mit HiLink Firmware (Ethernet Emulation).  Diese Modems sind recht stabil und billig, aber wenn externe Antennen angeschlossen werden, wird die gesamte Struktur sehr schwach.  Die harten Kabel der Antenne bilden einen Hebel, und Modems werden aus dem USB-Anschluss herausgezogen, und der CRC9-Antennenanschluss selbst ist nicht so zuverlässig wie der SMA, da er keine Schraubbefestigung hat. <br><br><img alt="Modem Huawei E3372h.  Der Antennenanschluss in USB-Modems ermöglicht keine erweiterteige Befestigung externer Antennen.  Sie sind leicht zu ziehen" src="https://habrastorage.org/webt/ro/xo/0f/roxo0fopuzd4u-7llqo3-zvmqvc.jpeg"><br>  <font color="99999">Baugruppen an externen USB-Modems sind sehr zerbrechlich: Antennenanschlüsse sind nicht feststehend, Modems fallen aus den Anschlüssen</font> <br><br>  Das Design von zwei USB-Modems mit externen Antennen musste sehr schwer zu reparieren sein, aber physische Schäden und Ausfall von Ports waren immer noch das Hauptproblem.  Diese Lösung eignet sich für die statische Installation an schwer zugänglichen Stellen, ist jedoch absolut nicht für die Installation in einem Auto oder in einer Schalttafel auf einer DIN-Schiene geeignet. <br><br>  Manchmal hing das USB-Subsystem in den Routern und Modems waren nicht mehr verfügbar.  Ich musste ein <abbr title="Watchdog - Ein Watchdog-Skript, das das Gerät bei einem Hang oder anderen Problemen neu startet">Watchdog-Skript</abbr> schreiben, das die Verfügbarkeit von Modems separat überwacht, zusätzlich zu mwan3, das die Verfügbarkeit des Internets überwacht.  Irgendwann hatte ich es satt und suchte nach einer Lösung in einer Box, in der alle Probleme bereits für mich gelöst waren. <br><br><h2>  Modellvergleichstabelle </h2><br>  Industrielle Router sind selbst beim separaten Kauf von Modems teurer als Haushaltsrouter.  Daher waren die Kosten das Hauptkriterium für die Auswahl der Modelle für die Überprüfung.  Zusätzliche Funktionen wie Wi-Fi, GPIO-Pins und GPS werden in unserem Fall nicht benötigt, wir werden sie jedoch weiterhin als Optionen vergleichen, die sich auf die Kosten auswirken. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Modell </th><th>  2 SIM </th><th>  Kabelgebundenes WAN </th><th>  LAN-Ports </th><th>  Wifi </th><th>  GPS </th><th>  Preis </th></tr><tr><td>  <b>Termit CR41P</b> <div style="text-align:center;"><img width="70" src="https://habrastorage.org/webt/x9/wg/dw/x9wgdwh45lcy28q7-sdqpfdouv4.jpeg"></div></td><td align="center">  <b><font color="green">⁣⁣⁢⁢ ✓</font></b> </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  4 </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  13 000 ≈ </td></tr><tr><td>  <b>Robustel r2000</b> <div style="text-align:center;"><img width="70" src="https://habrastorage.org/webt/ut/it/4y/utit4yd9chibkuq-sca7wthlh5w.jpeg"></div></td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  2 </td><td align="center">  <b><font color="red">X.</font></b> </td><td align="center">  <b><font color="red">X.</font></b> </td><td align="center">  12 000 ≈ </td></tr><tr><td>  <b>iRZ RU22W</b> <div style="text-align:center;"><img width="70" src="https://habrastorage.org/webt/zj/gw/fq/zjgwfqzulchzwdwbxpp3hwnnlg4.jpeg"></div></td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  4 </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  <b><font color="green">✓</font></b> </td><td align="center">  ~ 15 000 ₽ </td></tr></tbody></table></div><br><h2>  Testmethode </h2><br>  Die Hauptaufgabe der verglichenen Router besteht darin, unter allen Bedingungen ein unterbrechungsfreies Internet bereitzustellen. Daher werden wir vergleichen, wie gut der Router bei Problemen mit dem Hauptkanal auf den Sicherungskanal umschaltet.  Dazu simulieren wir einen Kommunikationsverlust und messen auf der Serverseite, wie schnell der Router die Verbindung wiederherstellen konnte. <br><br>  Als Zielhost wird an jeden getesteten Router ein kleiner TP-Link MR3020-Router angeschlossen, der als Computer mit einer Nutzlast fungiert.  Es wird OpenVPN ausgeführt, das mit dem Server verbunden ist.  Die Überwachung wird auf dem Server gestartet und überwacht die Verfügbarkeit der Adresse im VPN-Tunnel. <br><br>  Das heißt, auf der Serverseite wird eine feste IP-Adresse überwacht, die mr3020 über einen VPN-Tunnel zugewiesen wird.  Unabhängig davon, welchen Kanal der Datenverkehr auf dem Router durchläuft, interagiert der Überwachungsserver mit einer Adresse.  Wenn die Adresse verfügbar ist, bedeutet dies, dass der Router den Kanal erfolgreich gewechselt hat und sich im Netzwerk hinter NAT Internet befindet. <br>  Um den OpenVPN-Tunnel so schnell wie möglich wiederherzustellen, setzen Sie auf der Serverseite die Keep-Alive-Option auf die Mindestwerte und deaktivieren Sie die Verschlüsselung: <br><br><pre><code class="plaintext hljs">cipher none ping 1 ping-restart 4</code> </pre> <br>  Beachten Sie, dass das erneute Verbinden des VPN einige Zeit in Anspruch nimmt und sich das Internet in Wirklichkeit schneller erholt, als in den Grafiken dargestellt.  Ein solcher Test ermöglicht jedoch eine ehrlichere Einschätzung der Tatsache der Kanalumschaltung, da er zeigt, dass die Clients hinter dem Router TCP-Verbindungen wiederherstellen und zum normalen Betrieb zurückkehren konnten. <br><br><img alt="Prüftlayout.  Der MR3020-Router wird als Computer mit einem anderen VPN-Client verwendet.  Der Remote-Server unterscheidet die IP-Adresse des VPN-Clients." src="https://habrastorage.org/webt/6r/c3/qg/6rc3qgexexinb7dyzxrn57fva4u.jpeg"><br>  <font color="99999">Mit jedem Router ist ein TP-Link MR3020 verbunden, über den ein VPN-Tunnel ausgeführt wird.</font>  <font color="99999">Als funktionierendes Internet gilt die Verfügbarkeit der IP-Adresse 10.0.0.1 auf der Serverseite</font> <br><br><h3>  PingPlotter - Überwachungsprogramm </h3><br>  Das Überwachungsprogramm und der OpenVPN-Server befinden sich auf demselben physischen Computer wie der VPN-Server.  Ich werde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das MultiPing-</a> Dienstprogramm mithilfe regulärer ICMP- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Echoanforderungen überwachen</a> .  Das Anforderungsintervall beträgt 1 Sekunde - so können Sie in der Grafik auch die kurzfristige Unzugänglichkeit des Hosts sehen. <br><br><img alt="PingPlotter-Programm zur Überwachung der Hostverfügbarkeit.  Analoge Konsole MTR." src="https://habrastorage.org/webt/xl/jo/hr/xljohrfhzsbcqlkvxibmyg9r5oi.jpeg"><br>  <font color="99999">PingPlotter zeichnet praktische Ping-Diagramme, die Verzögerung und Paketverlust anzeigen</font> <br><br>  Ich gebe zu, ich habe lange versucht, ein Überwachungssystem zu wählen.  Ich habe Zabbix-, Cacti-, Bash + Rrdtool-Skripte ausprobiert, aber für meine Aufgaben schien alles zu kompliziert.  Als Ergebnis fand ich das ausgezeichnete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PingPlotter-</a> Programm und seine vereinfachte Version ohne Routenverfolgung - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MultiPing</a> .  Das Programm ermöglicht die Echtzeitüberwachung einer Gruppe von Hosts mit einer Auflösung von bis zu 1 Sekunde und das Zeichnen detaillierter Grafiken. <br><br><h3>  Antenne </h3><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/webt/rp/zb/-n/rpzb-ng9kxn09dwutarnwi3lke8.jpeg"></div><br>  <font color="99999">Breitbandantenne Triad MA-2697, geeignet für die Grundbereiche der Mobilfunkkommunikation</font> <br><br>  Um eine unterschiedliche Empfangsqualität aufgrund unterschiedlicher Antennen auszuschließen, werden an alle Router dieselben <b>Triad MA-2697-</b> Antennen angeschlossen.  Laut Hersteller ist die Antenne breitbandig und arbeitet in den Bändern GSM-900 \ 1800 MHz, 3G-2100 MHz, Wi-Fi-2400 MHz und 4G WiMAX-2600 MHz.  Ich werde die Qualität der Antenne nicht überprüfen.  Selbst wenn es schlecht ist, arbeiten alle Router unter den gleichen Empfangsbedingungen. <br><br><h3>  Mobilfunkbetreiber </h3><br>  In jedem Router werden MegaFon- und MTS-SIM-Karten mit dem für Einzelpersonen üblichen Tarif installiert.  Das Megaphon wird als Haupt-MTS-Backup ausgewählt.  Es gibt keine Logik in einer solchen Priorität, die Auswahl ist zufällig.  Am Teststandort haben beide Betreiber eine gleich gute LTE-Abdeckung. <br><br><h3>  Nachteile des Prüfstands </h3><br><img alt="Alle Router gleichzeitig auf dem Tisch verbunden.  Eine ganze Reihe von Drähten und Antennen." src="https://habrastorage.org/webt/ws/hh/0x/wshh0xrb4btuvtynh7i1nvgc4tw.jpeg"><br>  <font color="99999">Prüfstand auf einem Tisch aufgestellt</font> <br><br>  Da der Prüfstand in Innenräumen stationär ist, ändert sich die Qualität der Abdeckung des Mobilfunknetzes nicht.  Unter solchen Bedingungen ist es unmöglich, eine schlechte Abdeckung künstlich zu simulieren, wenn ein zellulares Netzwerksignal vorliegt, aber die Paketverluste sind zu groß.  In guter Weise war es notwendig, einen Ständer in einen Zug oder ein Auto zu stellen und ihn an Orte außerhalb der Stadt zu tragen.  Dann wäre es möglich zu vergleichen, wie gut die eingebauten Modems mit einem schlechten Signal funktionieren. <br>  In unserem Fall können wir nur einen vollständigen Kommunikationsverlust auf dem Hauptkanal wiederherstellen und beobachten, wie schnell der Router auf den Sicherungskanal umschaltet. <br><br><h2>  Termit CR41P </h2><br>  Der Router wird von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Digital Angel (digitalangel.ru) bereitgestellt.</a> <br><img src="https://habrastorage.org/webt/02/jr/46/02jr46l9ppy9zhzhxft4difgzqw.jpeg"><br><br>  <b>SoC</b> : Atheros AR9344 rev.  3 <br>  <b>RAM:</b> 128 MB <br>  <b>Flash-Speicher:</b> 16 MB <br>  <b>Wi-Fi:</b> 802.11n (2,4 GHz) <br>  <b>Modem</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quectel EC25-E</a> (LTE Cat 4) <br>  <b>Firmware</b> : basierend auf OpenWRT 15.05.1 <br>  <b>USB-Host</b> <br>  <b>MicroSD</b> <br>  <b>DIN-Schienenhalterung</b> <br>  <b>GPS / GLONASS:</b> 3V aktive Antenne <br>  <b>Serielle Schnittstellen:</b> RS-232/485 <br>  <b>E / A-Schlussfolgerungen:</b> 2 digitale Eingänge (0-3 V / 0-30 V, galvanisch getrennt), 1 analoger Eingang (0-24 V), 1 digitaler Ausgang (30 V, 250 mA offener Kollektor), 1 Relaisausgang (40 V, 4 A SPST) ) <br><br><img src="https://habrastorage.org/webt/ng/xk/nj/ngxknj3_9ngbozqpdctv0toxxiq.jpeg"><br><br>  Um die SIM-Karte zu installieren, müssen Sie die vier Schrauben lösen und die hintere Abdeckung entfernen. <br><br>  Nun, dies ist eine Gelegenheit, die Innenseiten genauer zu betrachten. <br><br> <a href=""><img width="200" src="https://habrastorage.org/webt/ks/9n/gw/ks9ngwqzqrk8cdyteyryts03rps.jpeg"></a> <a href=""><img width="200" src="https://habrastorage.org/webt/sx/fq/xw/sxfqxwf0yj8weghadcmgm2zzzly.jpeg"></a> <a href=""><img width="200" src="https://habrastorage.org/webt/9u/bc/ex/9ubcexugw11vsq7ijtqmf4jh8xa.jpeg"></a> <a href=""><img width="130" src="https://habrastorage.org/webt/fp/uu/r8/fpuur8zzgn5_xr_js_zerdo1bus.jpeg"></a>  <font color="99999">anklickbar</font> <br><br>  Das Modemteil besteht aus einem Schild, das auf der Hauptplatine getragen wird. <br>  In der Ecke sehen Sie das Relais für eine leistungsstarke Lastausgabe an die E / A-Pins. <br><br>  Der funktionsreichste Router im Test.  Es verfügt über ein kabelgebundenes WAN und ermöglicht die Verwendung von Wi-Fi im Stationsmodus (Client-Modus) als separates WAN.  Das heißt, es kann vier Backup-Internetkanäle haben. <br><br><img src="https://habrastorage.org/webt/xg/ct/vx/xgctvxwfg5i2_knyago4zpuxidq.png"><br><br>  Das Webinterface gibt sofort LuCI von OpenWRT aus.  Dies zeigt sich sowohl im Design, das sie nicht zu verschleiern versuchten, als auch in den Pfaden in der URL.  Meiner Meinung nach ist dies eher ein Plus, da es einfach ist, das System selbst fertigzustellen.  Zur Firmware hinzugefügte industrielle Funktionen: Modbus, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VRRP</a> , MQTT.  Über Modbus und MQTT können Sie grundlegende Funktionen steuern, den Netzwerkstatus, GPS-Koordinaten, die Temperatur abrufen, Profile wechseln, den Router neu starten und E / A-Pins verwalten. <br><br>  Die Überwachung der Internetkanäle erfolgt über das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multiwan-</a> Paket, das im OpenWRT-Wiki als veraltet bezeichnet wird.  Stattdessen wird mwan3 empfohlen. <br><br><div class="spoiler">  <b class="spoiler_title">Übersicht über die Weboberfläche und zusätzliche Funktionen</b> <div class="spoiler_text"><h3>  E / A-Schlussfolgerungen </h3><br>  E / A-Pins werden über die Weboberfläche verwaltet. Sie können den Status sofort anzeigen und jeden Pin umbenennen.  Dies ersetzt keinen vollwertigen Mikrocontroller, ist jedoch möglicherweise für eine einfache Automatisierung geeignet.  Öffnen Sie beispielsweise die Tür oder heben Sie die Barriere per SMS, MQTT oder HTTP an, führen Sie eine Aktion aus, wenn der Sensor ausgelöst wird, und senden Sie eine Benachrichtigung darüber.  Sehr interessante Funktionalität, mit der Sie mit einem Gerät auskommen können. <br><br><img width="700" alt="Trigger-Konfigurationsschnittstelle für den Analogeingang des Termit CR41P-Routers" src="https://habrastorage.org/webt/v6/v6/zg/v6v6zgacpsc0cur47tedyaeppvc.png"><br>  <font color="99999">Trigger-Konfigurationsschnittstelle für Analogeingang.</font>  <font color="99999">Sie können den Spannungsbereich angeben, in dem der Trigger arbeiten soll, oder ihn so konfigurieren, dass er beim Verlassen des Bereichs ausgelöst wird</font> <br><br><h3>  Serielle Schnittstellen RS-232/485 </h3><br>  Die RS-232-Schnittstelle besteht physisch aus einem DB9-Anschluss (COM-Port) und RS-485 aus einem abnehmbaren Klemmenblock.  In der Weboberfläche können Sie vier Port-Betriebsmodi auswählen: <br><br><ul><li>  <b>Systemkonsole</b> - SSH-Zugriff </li><li>  <b>Seriell über IP</b> - Weiterleitung einer seriellen Schnittstelle über das Internet </li><li>  <b>Modbus Gateway</b> - <b>Modbus</b> TCP &lt;-&gt; RTU-Konverter </li><li>  <b>NTRIP-Client</b> - Datenübertragung von GPS </li></ul><br><img alt="Auswahl der Betriebsart der seriellen Schnittstellen im Termit CR41P-Router" src="https://habrastorage.org/webt/gu/3w/sw/gu3wswygt6lcqwfryyxmafu66ps.png"><br>  <font color="99999">Auswählen eines Betriebsmodus für die serielle Schnittstelle</font> <br><br><h3>  GPS </h3><br>  Das GPS-Modul ist in den Modemchip integriert und als USB-Gerät erhältlich.  Sie können die Koordinaten des Geräts verfolgen und die Systemuhr über GPS synchronisieren, während der Router ein NTP-Server sein und auch ohne Internet eine genaue Zeit für Geräte im Netzwerk bereitstellen kann.  Es gibt eine <abbr title="Geografische Zonenfunktion">Geofencing-</abbr> Funktion, mit der Sie ein geografisches Gebiet als Auslöser festlegen können, der beim Besuch oder Verlassen einer Zone ausgelöst wird.  Dies kann beim Roaming hilfreich sein, wenn Sie Ihre Heimatregion verlassen.  Es kann nur eine Zone definiert werden und nur innerhalb eines Radius eines Punkts, dh die Zone ist immer ein Kreis. <br><br><img src="https://habrastorage.org/webt/iu/f5/qu/iuf5qu-jiyfxqoddzb-pnsmkviw.png"><br>  <font color="99999">Festlegen des geografischen Gebiets, in dem der Auslöser ausgelöst werden soll</font> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Dmesg-Ausgabe</b> <div class="spoiler_text">  [0.000000] Linux-Version 3.18.44 (gediminas @ gediminas-H110M-S2H) (gcc-Version 4.8.3 (OpenWrt / Linaro GCC 4.8-2014.04 r40569)) # 14 Fr 25 Mai 15:09:41 EEST 2018 <br>  [0.000000] MyLoader: sysp = 30fe861a, boardp = 21046795, parts = 5c8953fe <br>  [0.000000] Bootconsole [Early0] aktiviert <br>  [0.000000] Die CPU0-Revision lautet: 0001974c (MIPS 74Kc) <br>  [0.000000] SoC: Atheros AR9344 Rev. 3 <br>  [0.000000] Bestimmte physische RAM-Zuordnung: <br>  [0.000000] Speicher: 08000000 @ 00000000 (verwendbar) <br>  [0.000000] Initrd nicht gefunden oder leer - deaktiviert initrd <br>  [0.000000] Zonenbereiche: <br>  [0.000000] Normal [mem 0x00000000-0x07ffffff] <br>  [0.000000] Start der beweglichen Zone für jeden Knoten <br>  [0.000000] Frühe Speicherknotenbereiche <br>  [0.000000] Knoten 0: [mem 0x00000000-0x07ffffff] <br>  [0.000000] Initmem-Setup-Knoten 0 [mem 0x00000000-0x07ffffff] <br>  [0.000000] Auf Knoten 0 Gesamtseiten: 32768 <br>  [0.000000] free_area_init_node: Knoten 0, pgdat 803802b0, node_mem_map 81000000 <br>  [0.000000] Normale Zone: 256 Seiten für Memmap <br>  [0.000000] Normale Zone: 0 Seiten reserviert <br>  [0.000000] Normale Zone: 32768 Seiten, LIFO-Stapel: 7 <br>  [0.000000] Primärer Befehls-Cache 64 KB, VIPT, 4-Wege, Zeilengröße 32 Byte. <br>  [0.000000] Primärer Datencache 32 KB, 4-Wege, VIPT, Cache-Aliase, Zeilengröße 32 Byte <br>  [0,000000] pcpu-alloc: s0 r0 d32768 u32768 alloc = 1 * 32768 <br>  [0,000000] pcpu-Zuweisung: [0] 0 <br>  [0.000000] 1 Zonelisten in Zonenreihenfolge erstellt, Mobilitätsgruppierung aktiviert.  Gesamtseiten: 32512 <br>  [0.000000] Kernel-Befehlszeile: board = TLT-RUT900 console = ttyS0,115200 rootfstype = squashfs, jffs2 noinitrd lpj = 1370112 quiet loglevel = 3 <br>  [0.000000] PID-Hash-Tabelleneinträge: 512 (Reihenfolge: -1, 2048 Byte) <br>  [0.000000] Einträge in der Dentry-Cache-Hash-Tabelle: 16384 (Reihenfolge: 4, 65536 Byte) <br>  [0.000000] Einträge in der Inode-Cache-Hash-Tabelle: 8192 (Reihenfolge: 3, 32768 Byte) <br>  [0.000000] ErrCtl-Register schreiben = 00000000 <br>  [0.000000] Readback ErrCtl register = 00000000 <br>  [0.000000] Speicher: 125728K / 131072K verfügbar (2611K-Kernelcode, 155K-RW-Daten, 552K-Rodata, 256K-Init, 189K-BSS, 5344K reserviert) <br>  [0.000000] SLUB: HWalign = 32, Order = 0-3, MinObjects = 0, CPUs = 1, Nodes = 1 <br>  [0,000000] NR_IRQS: 83 <br>  [0.000000] Takte: CPU: 550.000 MHz, DDR: 400.000 MHz, AHB: 200.000 MHz, Ref: 40.000 MHz <br>  [0.000000] Voreinstellungswert der Kalibrierungsverzögerungsschleife (übersprungen) ... 274.02 BogoMIPS (lpj = 1370112) <br>  [0.000000] pid_max: Standard: 32768 Minimum: 301 <br>  [0.000000] Einträge in der Mount-Cache-Hash-Tabelle: 1024 (Reihenfolge: 0, 4096 Byte) <br>  [0.000000] Einträge in der Mountpoint-Cache-Hash-Tabelle: 1024 (Reihenfolge: 0, 4096 Byte) <br>  [0.000000] NET: Registrierte Protokollfamilie 16 <br>  [0,000000] MIPS: Maschine ist TELTONIKA TLT-RUT900 <br>  [0.450000] pca953x 0-0074: Interrupt-Unterstützung nicht kompiliert <br>  [0.450000] i2c-gpio i2c-gpio.0: Verwenden der Pins 17 (SDA) und 16 (SCL) <br>  [0.450000] Auf Clockource MIPS umgestellt <br>  [0.450000] NET: Registrierte Protokollfamilie 2 <br>  [0.450000] TCP hat Hash-Tabelleneinträge eingerichtet: 1024 (Reihenfolge: 0, 4096 Bytes) <br>  [0.450000] TCP-Bindungs-Hash-Tabelleneinträge: 1024 (Reihenfolge: 0, 4096 Byte) <br>  [0.450000] TCP: Hash-Tabellen konfiguriert (etablierte 1024-Bindung 1024) <br>  [0.450000] TCP: Reno registriert <br>  [0.450000] UDP-Hash-Tabelleneinträge: 256 (Reihenfolge: 0, 4096 Byte) <br>  [0.450000] UDP-Lite-Hash-Tabelleneinträge: 256 (Reihenfolge: 0, 4096 Byte) <br>  [0.450000] NET: Registrierte Protokollfamilie 1 <br>  [0.450000] PCI: CLS 0 Bytes, Standard 32 <br>  [0.460000] Futex-Hash-Tabelleneinträge: 256 (Reihenfolge: -1, 3072 Bytes) <br>  [0.460000] squashfs: Version 4.0 (31.01.2009) Phillip Lougher <br>  [0.460000] jffs2: Version 2.2 (NAND) (ZUSAMMENFASSUNG) (LZMA) (RTIME) (CMODE_PRIORITY) © 2001-2006 Red Hat, Inc. <br>  [0.460000] msgmni wurde auf 245 gesetzt <br>  [0.460000] io scheduler noop registriert <br>  [0.460000] io Scheduler-Frist registriert (Standard) <br>  [0.460000] Seriell: 8250/16550 Treiber, 1 Ports, IRQ-Freigabe deaktiviert <br>  [0.460000] Konsole [ttyS0] deaktiviert <br>  [0.480000] serial8250.0: ttyS0 bei MMIO 0x18020000 (irq = 11, base_baud = 2500000) ist ein 16550A <br>  [0.480000] Konsole [ttyS0] aktiviert <br>  [0.480000] Bootconsole [Early0] deaktiviert <br>  [0.480000] ar934x-hs-uart.0: ttyATH0 bei MMIO 0x18500000 (irq = 14, base_baud = 2500000) ist ein AR934X-UART <br>  [0.500000] m25p80 spi0.0: gd25q128 gefunden, erwartet m25p80 <br>  [0.500000] m25p80 spi0.0: gd25q128 (16384 KB) <br>  [0.500000] 7 Teltonika-Partitionen auf MTD-Gerät spi0.0 gefunden <br>  [0.500000] Erstellen von 7 MTD-Partitionen auf "spi0.0": <br>  [0.500000] 0x000000000000-0x000000020000: "U-Boot" <br>  [0.500000] 0x000000020000-0x000000030000: "config" <br>  [0.500000] 0x000000030000-0x000000040000: "art" <br>  [0.500000] 0x000000040000-0x0000001630ac: "Kernel" <br>  [0.500000] 0x0000001630ac-0x000000f70000: "rootfs" <br>  [0.500000] mtd: Gerät 4 (rootfs) ist als Root-Dateisystem festgelegt <br>  [0.510000] 1 Squashfs-Split-Partitionen auf MTD-Geräte-Rootfs gefunden <br>  [0.510000] 0x000000b30000-0x000000f70000: "rootfs_data" <br>  [0.510000] 0x000000040000-0x000000f70000: "Firmware" <br>  [0.510000] 0x000000f70000-0x000001000000: "Ereignisprotokoll" <br>  [0.520000] libphy: ag71xx_mdio: geprüft <br>  [1.110000] ag71xx-mdio.1: Ein integrierter AR934X-Switch wurde gefunden <br>  [1.140000] eth0: Atheros AG71xx bei 0xba000000, IRQ 5, Modus: GMII <br>  [1.730000] ag71xx ag71xx.0: verbunden mit PHY unter ag71xx-mdio.1: 04 [uid = 004dd042, driver = Generic PHY] <br>  [1.730000] eth1: Atheros AG71xx bei 0xb9000000, IRQ 4, Modus: MII <br>  [1.740000] TCP: kubisch registriert <br>  [1.740000] NET: Registrierte Protokollfamilie 17 <br>  [1.740000] Bridge: Die automatische Filterung über arp / ip / ip6tables ist veraltet.  Aktualisieren Sie Ihre Skripte, um br_netfilter zu laden, wenn Sie dies benötigen. <br>  [1.740000] Bridge-Firewall registriert <br>  [1.740000] 8021q: 802.1Q VLAN Support v1.8 <br>  [1.750000] VFS: Mounted Root (Squashfs-Dateisystem) schreibgeschützt auf Gerät 31: 4. <br>  [1.750000] Freigeben von nicht verwendetem Kernelspeicher: 256 KB (803a0000 - 803e0000) <br>  [5.030000] usbcore: Registrierter neuer Schnittstellentreiber usbfs <br>  [5.030000] usbcore: Registrierter neuer Schnittstellentreiber-Hub <br>  [5.030000] usbcore: registrierter neuer Gerätetreiber usb <br>  [5.050000] SCSI-Subsystem initialisiert <br>  [5.050000] ehci_hcd: USB 2.0-Treiber für 'Enhanced' Host Controller (EHCI) <br>  [5.050000] ehci-Plattform: Generischer EHCI-Plattformtreiber <br>  [5.050000] ehci-Plattform ehci-Plattform: EHCI Host Controller <br>  [5.050000] ehci-Plattform ehci-Plattform: Neuer USB-Bus registriert, Busnummer 1 zugewiesen <br>  [5.060000] ehci-Plattform ehci-Plattform: TX-TX IDP-Fix aktiviert <br>  [5.060000] ehci-Plattform ehci-Plattform: IRQ 3, Io Mem 0x1b000000 <br>  [5.080000] ehci-Plattform ehci-Plattform: USB 2.0 gestartet, EHCI 1.00 <br>  [5.080000] Hub 1-0: 1.0: USB-Hub gefunden <br>  [5.080000] Hub 1-0: 1.0: 1 Port erkannt <br>  [5.080000] uhci_hcd: USB Universal Host Controller-Schnittstellentreiber <br>  [5.090000] usbcore: Registrierter neuer Schnittstellentreiber usb-storage <br>  [5.400000] USB 1-1: Neues Hochgeschwindigkeits-USB-Gerät Nummer 2 mit ehci-Plattform <br>  [5.550000] Hub 1-1: 1.0: USB-Hub gefunden <br>  [5.550000] Hub 1-1: 1.0: 3-Ports erkannt <br>  [5.830000] USB 1-1.1: Neues Full-Speed-USB-Gerät Nummer 3 mit ehci-Plattform <br>  [6.620000] mount_root: Laden von kmods aus der internen Überlagerung <br>  [7.080000] jffs2: Hinweis: (339) jffs2_build_xattr_subsystem: Komplettes Build-Xattr-Subsystem, 0 von xdatum (0 nicht markiert, 0 verwaist) und 0 von xref (0 tot, 0 verwaist) gefunden. <br>  Block [7.080000]: Versuch, / tmp / jffs_cfg / Upper / etc / config / fstab zu laden <br>  [7.130000] Block: Extroot: nicht konfiguriert <br>  [7.240000] jffs2: Hinweis: (336) jffs2_build_xattr_subsystem: Komplettes Build-Xattr-Subsystem, 0 von xdatum (0 nicht markiert, 0 verwaist) und 0 von xref (0 tot, 0 verwaist) gefunden. <br>  Block [7.430000]: Versuch, / tmp / jffs_cfg / Upper / etc / config / fstab zu laden <br>  [7.480000] Block: extroot: nicht konfiguriert <br>  [7.480000] mount_root: Umschalten auf jffs2-Overlay <br>  [9.980000] zufällig: ubusd urandom read mit 18 verfügbaren Entropiebits <br>  [11.260000] NET: Registrierte Protokollfamilie 10 <br>  [11.410000] ntfs: Treiber 2.1.31 [Flags: R / O-MODUL]. <br>  [11.430000] Initialisierung des XFRM-Netlink-Sockets <br>  [11.430000] NET: Registrierte Protokollfamilie 15 <br>  [11.440000] tun: Universal TUN / TAP-Gerätetreiber, 1.6 <br>  [11.440000] tun: © 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt; <br>  [11.500000] l2tp_core: L2TP-Kerntreiber, V2.0 <br>  [11.500000] l2tp_netlink: L2TP-Netlink-Schnittstelle <br>  [11.510000] gre: GRE über IPv4-Demultiplexertreiber <br>  [11.510000] ip_gre: GRE über IPv4-Tunneltreiber <br>  [11.540000] ip6_tables: © 2000-2006 Netfilter Core Team <br>  [11.580000] nf_conntrack Version 0.5.0 (1968 Eimer, max. 7872) <br>  [12.110000] lp: Treiber geladen, aber keine Geräte gefunden <br>  [12.130000] ppdev: Treiber für den parallelen Port im Benutzerbereich <br>  [12.290000] u32-Klassifikator <br>  [12.290000] Überprüfung des Eingabegeräts aktiviert <br>  [12.290000] Aktionen konfiguriert <br>  [12.330000] Aktion spiegeln / umleiten ein <br>  [12.460000] cdc_acm 1-1.1: 1.0: Dieses Gerät kann keine eigenen Anrufe tätigen.  Es ist kein Modem. <br>  [12.460000] cdc_acm 1-1.1: 1.0: ttyACM0: USB ACM-Gerät <br>  [12.460000] usbcore: Registrierter neuer Schnittstellentreiber cdc_acm <br>  [12.460000] cdc_acm: USB Abstract Control Model-Treiber für USB-Modems und ISDN-Adapter <br>  [12.470000] usbcore: Registrierter neuer Schnittstellentreiber cdc_wdm <br>  [12.500000] Laden von Modulen, die von der Linux-Version v4.4-rc5-1913-gc8fdf68 zurückportiert wurden <br>  [12.500000] Von backports.git generierter Backport-20151218-0-g2f58d9d <br>  [12.690000] Ebtables v2.0 registriert <br>  [12.730000] ip_tables: © 2000-2006 Netfilter Core Team <br>  [12.820000] Netfilter-Nachrichten über NETLINK v0.30. <br>  [12.850000] usbcore: Registrierter neuer Schnittstellentreiber usblp <br>  [12.890000] usbcore: Registrierter neuer Schnittstellentreiber usbserial <br>  [12.890000] usbcore: Registrierter neuer Schnittstellentreiber usbserial_generic <br>  [12.890000] usbserial: USB Serial Support für Generika registriert <br>  [12.960000] xt_coova: bereit <br>  [13.050000] xt_time: Die Kernel-Zeitzone ist -0000 <br>  [13.050000] usbcore: Registrierter neuer Schnittstellentreiber ark3116 <br>  [13.050000] usbserial: Für ark3116 registrierte serielle USB-Unterstützung <br>  [13.060000] usbcore: Registrierter neuer Schnittstellentreiber belkin_sa <br>  [13.060000] usbserial: USB Serial Support für Belkin / Peracom / GoHubs USB Serial Adapter registriert <br>  [13.090000] usbcore: Registrierter neuer Schnittstellentreiber cdc_ether <br>  [13.170000] usbcore: Registrierter neuer Schnittstellentreiber cdc_ncm <br>  [13.860000] usbcore: Registrierter neuer Schnittstellentreiber ch341 <br>  [13.860000] usbserial: USB serielle Unterstützung für ch341-uart registriert <br>  [13.860000] usbcore: Registrierter neuer Schnittstellentreiber cp210x <br>  [13.860000] usbserial: Für cp210x registrierte serielle USB-Unterstützung <br>  [13.860000] usbcore: Registrierter neuer Schnittstellentreiber cypress_m8 <br>  [13.860000] usbserial: USB Serielle Unterstützung für DeLorme Earthmate USB registriert <br>  [13.860000] usbserial: Serielle USB-Unterstützung für HID-&gt; COM RS232-Adapter registriert <br>  [13.860000] usbserial: Serielle USB-Unterstützung für Nokia CA-42 V2 Adapter registriert <br>  [13.880000] usbcore: Registrierter neuer Schnittstellentreiber ftdi_sio <br>  [13.880000] usbserial: USB Serial Support für FTDI USB Serial Device registriert <br>  [13.880000] usbcore: Registrierter neuer Schnittstellentreiber huawei_cdc_ncm <br>  [13.900000] usbcore: Neue Schnittstelle für den Schnittstellentreiber registriert <br>  [13.900000] usbserial: Für Keyspan registrierte serielle USB-Unterstützung - (ohne Firmware) <br>  [13.900000] usbserial: Serielle USB-Unterstützung für Keyspan 1-Portadapter registriert <br>  [13.900000] usbserial: Serielle USB-Unterstützung für Keyspan 2-Portadapter registriert <br>  [13.900000] usbserial: Serielle USB-Unterstützung für Keyspan 4-Port-Adapter registriert <br>  [13.990000] ctnetlink v0.93: Registrierung bei nfnetlink. <br>  [14.020000] usbcore: Registrierter neuer Schnittstellentreiber pl2303 <br>  [14.020000] usbserial: USB serielle Unterstützung für pl2303 registriert <br>  [14.030000] PPP generischer Treiber Version 2.4.2 <br>  [14.040000] PPP MPPE-Komprimierungsmodul registriert <br>  [14.040000] NET: Registrierte Protokollfamilie 24 <br>  [14.040000] PPTP-Treiberversion 0.8.5 <br>  [14.050000] usbcore: Registrierter neuer Schnittstellentreiber qmi_wwan <br>  [14.140000] l2tp_ppp: PPPoL2TP-Kerneltreiber, V2.0 <br>  [14.140000] usbcore: Neue Schnittstellentreiberoption registriert <br>  [14.140000] usbserial: Serielle USB-Unterstützung für GSM-Modem registriert (1 Port) <br>  [14.160000] usbcore: Registrierter neuer Schnittstellentreiber qcserial <br>  [14.160000] usbserial: Serielle USB-Unterstützung für Qualcomm USB-Modem registriert <br>  [14.200000] ath: EEPROM-Regdomain: 0x0 <br>  [14.200000] ath: EEPROM gibt an, dass der Standard-Ländercode verwendet werden soll <br>  [14.200000] ath: EEPROM-Länder-&gt; regdmn-Kartensuche durchführen <br>  [14.200000] ath: Länderkarten zum regdmn-Code: 0x3a <br>  [14.200000] ath: Verwendetes Land alpha2: USA <br>  [14.200000] ath: Regpair verwendet: 0x3a <br>  [14.210000] ieee80211 phy0: Ausgewählter Algorithmus zur Ratensteuerung 'minstrel_ht' <br>  [14.210000] ieee80211 phy0: Atheros AR9340 Rev: 3 mem = 0xb8100000, irq = 47 <br>  [14.280000] mmc_spi spi0.1: ANNAHME einer Steckplatzleistung von 3,2-3,4 V. <br>  [17.330000] mmc_spi spi0.1: SD / MMC-Host mmc0, kein DMA, kein WP, kein Ausschalten <br>  [17.330000] mmc_spi spi0.1: Keine Unterstützung für die Volt der Karte <br>  [17.330000] mmc0: Fehler -22 beim Initialisieren der SDIO-Karte <br>  [17.330000] mmc_spi spi0.1: Keine Unterstützung für die Volt der Karte <br>  [17.330000] mmc0: Fehler -22 beim Initialisieren der SD-Karte <br>  [17.340000] mmc_spi spi0.1: Keine Unterstützung für die Volt der Karte <br>  [17.340000] mmc0: Fehler -22 beim Initialisieren der MMC-Karte <br>  [20.700000] USB 1-1.3: Neues Hochgeschwindigkeits-USB-Gerät Nummer 4 mit ehci-Plattform <br>  [20.920000] Option 1-1.3: 1.0: GSM-Modemkonverter (1 Port) erkannt <br>  [20.920000] USB 1-1.3: GSM-Modemkonverter (1 Port) jetzt an ttyUSB0 angeschlossen <br>  [20.930000] Option 1-1.3: 1.1: GSM-Modemkonverter (1 Port) erkannt <br>  [20.940000] USB 1-1.3: GSM-Modemkonverter (1 Port) jetzt an ttyUSB1 angeschlossen <br>  [20.950000] Option 1-1.3: 1.2: GSM-Modemkonverter (1 Port) erkannt <br>  [20.950000] USB 1-1.3: GSM-Modemkonverter (1 Port) jetzt an ttyUSB2 angeschlossen <br>  [20.960000] Option 1-1.3: 1.3: GSM-Modemkonverter (1 Port) erkannt <br>  [20.970000] USB 1-1.3: GSM-Modemkonverter (1 Port) jetzt an ttyUSB3 angeschlossen <br>  [21.000000] qmi_wwan 1-1.3: 1.4: cdc-wdm0: USB-WDM-Gerät <br>  [21.000000] qmi_wwan 1-1.3: 1.4: Quectel EC21 &amp; EC25 &amp; EC20 R2.0 arbeiten im RawIP-Modus <br>  [21.010000] qmi_wwan 1-1.3: 1.4 wwan0: Registrieren Sie 'qmi_wwan' bei usb-ehci-platform-1.3, WWAN / QMI-Gerät, 3a: a9: 1d: 1a: 9e: d9 <br>  [25.600000] jffs2: Hinweis: (1621) jffs2_build_xattr_subsystem: Komplettes Build-Xattr-Subsystem, 0 von xdatum (0 deaktiviert, 0 verwaist) und 0 von xref (0 tot, 0 verwaist) gefunden. <br>  [28.880000] Gerät eth0 ist in den Promiscuous-Modus eingetreten <br>  [28.890000] br-lan: Port 1 (eth0) ist in den Weiterleitungsstatus eingetreten <br>  [28.890000] br-lan: Port 1 (eth0) ist in den Weiterleitungsstatus eingetreten <br>  [30.010000] br-lan: Port 1 (eth0) ist deaktiviert <br>  [34.410000] Gerät wlan0 ist in den Promiscuous-Modus eingetreten <br>  [34.420000] br-lan: Port 2 (wlan0) ist in den Weiterleitungsstatus eingetreten <br>  [34.420000] br-lan: Port 2 (wlan0) ist in den Weiterleitungsstatus eingetreten <br>  [34.460000] br-lan: Port 2 (wlan0) ist deaktiviert <br>  [41.530000] br-lan: Port 2 (wlan0) ist in den Weiterleitungsstatus eingetreten <br>  [41.530000] br-lan: Port 2 (wlan0) ist in den Weiterleitungsstatus eingetreten <br>  [43.530000] br-lan: Port 2 (wlan0) ist in den Weiterleitungsstatus eingetreten <br>  [51.350000] Anschlüsse LED EIN <br>  [54.390000] zufällig: Der nicht blockierende Pool wird initialisiert <br></div></div><br><h3>  WAN-Setup </h3><br>  Prioritätseinstellungsschnittstelle für Internetkanäle.  Sie können eine primäre und zwei Sicherungen auswählen.  In unserem Fall wird das Modem als primäres und das kabelgebundene WAN als Backup ausgewählt. <br><br><img src="https://habrastorage.org/webt/aw/v-/0f/awv-0fbsj-uhrbujobbdf1ajvju.png"><br>  <font color="99999">Priorisierung von Internetkanälen.</font>  <font color="99999">Sie können Primär und Backup auswählen</font> <br><br>  Es ist zu beachten, dass sich nur ein Modem (Funkmodul) im Router befindet und gleichzeitig nur eine SIM-Karte im Netzwerk sein kann.  Das Überwachungssystem überprüft die Internetverfügbarkeit in jedem Kanal mithilfe von Ping-Anforderungen an einen bestimmten Host.  Gleichzeitig können Sie nicht überprüfen, welche der beiden SIM-Karten über einen Internetzugang verfügt. Sie können nur zu einem anderen Kanal wechseln: Kabel oder WLAN.  Die Bedingungen für den Wechsel von SIM-Karten werden separat konfiguriert und hängen nicht von der allgemeinen Überwachung ab. <br><br><img src="https://habrastorage.org/webt/ac/sp/0i/acsp0ir4dzg4nn9scyraczlfx2e.png"><br>  <font color="99999">Einrichten der Überwachung der Verfügbarkeit des Internetkanals.</font>  <font color="99999">Sie können den zu überprüfenden Host, die Intervalle und die Anzahl der Versuche angeben</font> <br><br>  Da die Überwachung der Barrierefreiheit (Multiwan-Paket von openwrt) das Modem als eine Schnittstelle wahrnimmt, kann es keine SIM-Umschaltung initiieren, wenn das Internet auf dem Modem nicht verfügbar ist.  Das Multiwan-Paket kann nur die Hauptnetzwerkschnittstelle wechseln.  Die Bedingungen für das Umschalten der SIM-Karte werden separat festgelegt, und unter den Bedingungen kann nur Folgendes ausgewählt werden: schwaches Signal, Verkehrslimit, Roaming, kein Netzwerk, keine PPP-Verbindung.  In einigen Fällen kann es sein, dass das Modem die SIM-Karte nicht wechselt, auch wenn es kein Internet hat.  Zum Beispiel, wenn der Betreiber einen Netzwerkfehler hat, während das Modem eine IP-Adresse hat, oder wenn der Betreiber den Zugriff auf das Netzwerk wegen Nichtzahlung blockiert und die Anforderung für einen Stub mit einer Zahlungsschnittstelle umleitet.  In diesem Fall ist keine einzige Bedingung zum Umschalten der SIM-Karte erfüllt, da eine formelle Verbindung zum Betreiber besteht. <br><br><img src="https://habrastorage.org/webt/z4/fn/_v/z4fn_v_hkzzwdmtt8v8zbqmstmy.png"><br>  <font color="99999">Das Festlegen der Bedingungen für das Umschalten zwischen SIM-Karten funktioniert nicht in Verbindung mit der Überwachung der Verfügbarkeit des Internets</font> <br><br><h3>  Crash-Simulation </h3><br>  Wir konnten keine Möglichkeit finden, die Bedingungen für das Umschalten der SIM-Karte auf die Backup-Karte in diesem Router programmgesteuert zu simulieren. Daher werden wir die Umschaltung auf den Backup-Kabelkanal überprüfen.  Trennen Sie dazu die Antennen vom Router und sehen Sie sich die Grafik an.  Die Umschaltzeit beträgt durchschnittlich 12-15 Sekunden, wobei die Wiederherstellung der VPN-Verbindung berücksichtigt wird.  Sie können diese Zeit verkürzen, indem Sie das Inspektionsintervall und die Anzahl der verlorenen Pakete zum Umschalten von Triggern verringern. Zu aggressive Überwachungseinstellungen führen jedoch häufig zu Fehlalarmen, wenn die Verbindung nur einige Sekunden lang unterbrochen wird. <br><br><img src="https://habrastorage.org/webt/ld/x7/ky/ldx7kyt_jneacpbnn7k8bwnbtpm.png"><br>  <font color="99999">Die Umschaltzeit zum Sicherungskanal beträgt ca. 15 Sekunden</font> <br><br><h3>  Fazit </h3><br>  Ein Router mit vielen zusätzlichen Funktionen.  Mit dem E / A-Modul wurde eine interessante Arbeit geleistet: Es gibt analoge und digitale Ausgänge, ein Leistungsrelais.  Sie können Pins fernsteuern und Trigger konfigurieren.  Auf diese Weise können Sie eine einfache Automatisierung mit externen Peripheriegeräten auf einem einzigen Router erstellen.  Verwalten Sie beispielsweise ein Gewächshaus oder eine Raumheizung. <br><br><h3>  Vorteile </h3><br><ul><li>  Viele zusätzliche Funktionen </li><li>  OpenWRT-Plattform </li><li>  Unterstützt LTE Cat 4 </li><li>  Drei Arten von WAN: Modem, Ethernet, WiFi </li></ul><br><h3>  Nachteile </h3><br><ul><li>  Sie können nicht für jede SIM-Karte unterschiedliche Überwachungsadressen angeben </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Bedingungen für den Wechsel zu einer Backup-SIM-Karte sind unabhängig von der Überwachung der Internetzugang </font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Robustel r2000 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Router wird von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Euromobile (euromobile.ru) bereitgestellt. </font></font></a> <br><br><img src="https://habrastorage.org/webt/n1/qj/yl/n1qjyl7k6qlzchb-xrfvodxmzq8.jpeg"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SoC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Atheros 533 MHz </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 64 MB </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flash-Speicher:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 16 MB </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Huawei ME909s-120 (LTE Cat 4) </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Geschlossener Linux-basierter </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Router mit zwei Ethernet-Ports und einem Minimum an Funktionen. </font><font style="vertical-align: inherit;">Nur einer der LAN-Ports kann als WAN fungieren. </font><font style="vertical-align: inherit;">Die Firmware ist geschlossen, es gibt keinen Root-Zugriff über SSH. </font><font style="vertical-align: inherit;">Die Konsole ist auf ihren Interpreter mit mehreren Befehlen beschränkt (wie Ubiquiti-Geräte).</font></font><br><br><img src="https://habrastorage.org/webt/fr/dy/xt/frdyxt3ne19neo2alb3jnlrhaks.png"><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übersicht über die Web-Benutzeroberfläche</font></font></b> <div class="spoiler_text"><h3>  VPN </h3><br>    OpenVPN  IPsec IKEv2. <br><br><img src="https://habrastorage.org/webt/tc/ui/94/tcui94qphqqtsiobuqim33ex75w.png"><br> <font color="99999">  IPsec-</font> <br><br><img src="https://habrastorage.org/webt/wy/5y/tc/wy5ytcup64mukqbx7cwus-s5j2y.png"><br> <font color="99999">  OpenVPN-</font> <br><br><h3>  </h3><br>      syslog <br><br><img src="https://habrastorage.org/webt/qe/bm/wb/qebmwbndt6houxtpz_wmn0ruwiu.png"><br><br>           email  SMS <br><br><img src="https://habrastorage.org/webt/5n/rp/de/5nrpdefpw527-oaiomtkojtdufw.png"><br><br><h3> User LED </h3><br>         . ,   VPN  . <br><br><img src="https://habrastorage.org/webt/yx/or/ds/yxordsyltko7ccvnoryjzllsjmq.png"><br></div></div><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WAN-Setup </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt verschiedene Sicherungs- und Ausgleichsmodi. </font><font style="vertical-align: inherit;">Die zweite Option kann nützlich sein, um schnell zwischen Kanälen zu wechseln.</font></font><br><br><ul><li> <b>Cold backup:</b>    ,    </li><li> <b>Warm backup:</b>   ,    (   SIM ) <br></li><li> <b>Load balancing:</b>     </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In den Standardeinstellungen ist aus irgendeinem Grund die Rückkehr zum Hauptkanal nach dem Umschalten auf den Sicherungskanal deaktiviert. Dies wird im Wiederherstellungsintervall festgelegt. Wenn der Kanal auf Null gesetzt ist, wird er nach dem Umschalten auf die Sicherung niemals zurückgeschaltet. </font></font><br><br><img src="https://habrastorage.org/webt/l8/mg/q0/l8mgq0me4l9-kuc_s6cnp_xbnca.png"><br> <font color="99999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Festlegen von WAN-Prioritäten und -Modi</font></font></font> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jede SIM-Karte ist als separate Schnittstelle konfiguriert: WWAN1 und WWAN2. Für jede Schnittstelle können Sie die Adresse separat konfigurieren, um die Verfügbarkeit des Internets und Ihre eigenen Intervalle zu überprüfen. Dies ist der einzige Router in der Überprüfung, auf dem Sie zwei Hosts gleichzeitig zur Überprüfung angeben können. Dies ist nützlich, um sich vor Fehlalarmen zu schützen, wenn der Testhost abstürzt, aber ein Internetzugang vorhanden ist. </font></font><br><br><img src="https://habrastorage.org/webt/ib/bq/mw/ibbqmwpnvmirmzjpn24y7w_ri7s.png"><br> <font color="99999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jede SIM-Karte kann so konfiguriert werden, dass die Internetverfügbarkeit überprüft wird.</font></font></font> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Firmware des Routers impliziert keinen Root-Zugriff auf das System. Ohne das Öffnen des Gehäuses konnte ich nicht herausfinden, auf welchem ​​Chipsatz das Gerät hergestellt wurde. </font><font style="vertical-align: inherit;">Dementsprechend können keine selbst erstellten Skripte und Pakete auf dem Router installiert werden. Alle Funktionen sind streng durch die Funktionen der nativen Firmware eingeschränkt. </font><font style="vertical-align: inherit;">Es ist möglich, mehrere zusätzliche Pakete aus dem Repository </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">robustel.com/products/app-center/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu installieren </font><font style="vertical-align: inherit;">, dies ist jedoch nicht mit den Paketen aus dem OpenWRT-Repository vergleichbar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andererseits kann ein solches geschlossenes System nützlich sein, um sich vor unkontrollierten Änderungen in der Firmware zu schützen, die dann in der Weboberfläche nicht sichtbar sind.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Crash-Simulation </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da wir verschiedene Hosts angeben können, um die Verfügbarkeit jeder SIM-Karte zu überprüfen und einen Unfall zu simulieren, geben wir unseren kontrollierten Server als erste SIM-Karte an und schalten ihn irgendwann aus. Für die Reinheit des Experiments stellen wir die Testintervalle auf die gleichen Werte wie beim ersten Router in der Überprüfung ein. </font></font><br><br><img src="https://habrastorage.org/webt/q9/_y/wf/q9_ywfjronuxvlvxfexwleqvnxu.png"><br> <font color="99999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Umschalten auf die zweite SIM-Karte dauert 15 bis 30 Sekunden.</font></font></font> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Im Durchschnitt wechselt der Router in 15 bis 30 Sekunden auf die zweite SIM-Karte. Ich glaube, dass die Registrierung des Netzes des zweiten Betreibers die meiste Zeit in Anspruch nimmt. Da alle unsere Router ein einziges Modem verwenden, kann sich jeweils nur eine SIM-Karte im Netzwerk befinden. Es gibt Industrierouter mit zwei unabhängigen Modems, die gleichzeitig mit zwei Mobilfunkbetreibern verbunden sind. In diesem Fall ist die Kanalumschaltung schneller.</font></font><br><br><h3>  Fazit </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kompakter und einfacher Router mit einem Minimum an Funktionen, einfach zu konfigurieren. </font><font style="vertical-align: inherit;">Eine geschlossene Plattform und mangelnder Root-Zugriff können jemanden stören. </font><font style="vertical-align: inherit;">Dies kann für Fälle empfohlen werden, in denen eine einfache Einrichtung wichtiger ist.</font></font><br><br><h3>  Vorteile </h3><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Separate Failover-Einstellungen für jede SIM-Karte </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unterstützt LTE Cat 4 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Warmer Sicherungsmodus, in dem der Sicherungskanal nicht ausgeschaltet wird </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Einfache Einrichtung </font></font></li></ul><br><h3>  Nachteile </h3><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Geschlossene Plattform, kein Root-Zugriff </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abgeschnittene SSH-Konsole </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nur ein Ethernet-Port kann als WAN betrieben werden </font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iRZ RU22W </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Router wird von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digital Angel (digitalangel.ru) bereitgestellt. </font></font></a> <br><br><img src="https://habrastorage.org/webt/fb/9a/9p/fb9a9pe15uw7yi4nat3ubroxjqe.jpeg"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SoC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : MediaTek MT7620A Version: 2 Eco: 6 </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 64 </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flash-Speicher:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 16 </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 802.11n (2,4 GHz) </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Huawei MU709s-2 </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MicroSD-Kartenunterstützung</font></font></b> <br>  <b>GPS</b> <br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Basierend auf dem OpenWRT 15.05- </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Router ohne LTE-Unterstützung werden nur die 3G-Standards HSPA + / UMTS (900/2100 MHz) und 2G GSM / GPRS (850/900/1800/1900 MHz) unterstützt, während die teuersten sind. </font><font style="vertical-align: inherit;">GPS, Wi-Fi und serielle Schnittstellen werden unterstützt. </font><font style="vertical-align: inherit;">Standardmäßig werden alle Ethernet-Ports zu einem Switch zusammengefasst. Falls gewünscht, kann jeder Port einem separaten VLAN zugewiesen und als WAN verwendet werden. </font><font style="vertical-align: inherit;">Wi-Fi kann im Stationsmodus (Client) arbeiten und auch WAN sein. </font><font style="vertical-align: inherit;">Insgesamt können Sie mit zwei SIM-Karten 7 WAN-Schnittstellen erhalten.</font></font> Nicht schlecht. <br><br><img src="https://habrastorage.org/webt/ac/i4/as/aci4asvfbkhr1pd7eephyr5vnpe.jpeg"><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übersicht über die Web-Benutzeroberfläche</font></font></b> <div class="spoiler_text"><h3> - </h3><br><img src="https://habrastorage.org/webt/ba/rt/lg/bartlgh67o5nyeibyrwpecwgesg.png"><br> <i> ,   ,   ,  , IMEI,    .</i> <br><br><img src="https://habrastorage.org/webt/ji/1g/jn/ji1gjnngxube3lbfcbvqhsaj-pg.png"><br> <i>Wi-Fi-       (AP)   (Station).   ,    SSID .</i> <br><br><h3>  VPN </h3><br> OpenVPN  ,   IPSec — .   Cisco IPSec,    IKEv2. <br><br><img src="https://habrastorage.org/webt/y1/zq/94/y1zq94hbklflhtuqyflb8atrn-e.png"> <font color="99999">  Cisco IPSec    IKEv2</font> <br><br>   Ethernet over IP <br><br><img src="https://habrastorage.org/webt/v_/ek/vo/v_ekvopdlr-tiqakeuicqi3ktec.png"><br><br><h3> RS-232/485 </h3><br>        serial over ip   modbus TCP&lt;-&gt;RTU.  AT-    . <br><br><img src="https://habrastorage.org/webt/hb/c4/cc/hbc4ccxc66tnvtdtfurop90yxcy.png"><br><br><h2> GPIO </h2><br>  c GPIO  .      -,     ,    . ,  - API,    ,  .     .      . <br><br><img src="https://habrastorage.org/webt/4a/9h/g0/4a9hg0vn4x4mecqxomblllawwi8.png"><br></div></div><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WAN-Setup </font></font></h3><br><img src="https://habrastorage.org/webt/4u/rn/13/4urn13ydfvfgndltxscieamvkf0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstellenprioritäten werden im Menü Routen ausgewählt. </font><font style="vertical-align: inherit;">Sie können zwischen zwei Modi wählen: Failover und Balancing. </font><font style="vertical-align: inherit;">Der erste schaltet den Kanal auf die Sicherungsschnittstelle um, falls die primäre nicht verfügbar ist, und der zweite verteilt den Datenverkehr gleichmäßig auf die Schnittstellen auf NAT-Ebene. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Verfügbarkeitsüberwachung und das Failover der Schnittstelle erfolgen mithilfe der hausgemachten Bash-Skripte von iRZ. </font><font style="vertical-align: inherit;">Beispielsweise </font><font style="vertical-align: inherit;">sendet </font><font style="vertical-align: inherit;">der Dienst </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / bin / pinger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pings, wechselt die Schnittstellen und steuert LEDs. </font><font style="vertical-align: inherit;">Ziemlich harter Baschismus :)</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIM-Karten-Setup </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Für jede SIM-Karte können Sie Ihren eigenen Host für die Verbindungsprüfung festlegen. </font><font style="vertical-align: inherit;">Dies ist praktisch für Fälle, in denen wir je nach Dienstanbieter unterschiedliche Server auswählen möchten. </font><font style="vertical-align: inherit;">Beim Roaming verwenden wir beispielsweise einen Server und in der Heimatregion einen anderen. </font></font><br><br><img src="https://habrastorage.org/webt/-n/in/vj/-ninvjs0j3otmg5b1crc551cct0.png"><br> <font color="99999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie können für jede SIM-Karte verschiedene Hosts festlegen, zu denen die Kommunikation überprüft wird</font></font></font> <br><br><h2>  GPS </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe nicht die Möglichkeit gefunden, das GPS-Modul irgendwie zu verwenden, außer über gpsctl von der Konsole. </font><font style="vertical-align: inherit;">Das Webinterface erwähnt es überhaupt nicht. </font><font style="vertical-align: inherit;">Ich glaube, dass es über native Cloud-Dienste für die zentrale Verwaltung von Routern aktiviert wird. </font><font style="vertical-align: inherit;">Die Unfähigkeit, die GPS-API alleine zu verwenden, wird als Nachteil angesehen.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Crash-Simulation </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Für jede SIM-Karte haben wir verschiedene Hosts angegeben, um die Internetzugang zu überprüfen, damit wir einen Unfall leicht simulieren können. </font><font style="vertical-align: inherit;">Dazu blockieren wir den Host von der ersten SIM-Karte in der Firewall und sehen, wie der Router darauf reagiert. </font><font style="vertical-align: inherit;">Für die Reinheit des Experiments werden wir die gleichen Testintervalle und die Anzahl der Versuche wie beim ersten Router festlegen. </font></font><br><br><img src="https://habrastorage.org/webt/pa/mz/qr/pamzqr3gicp5tt1rtat2mmyqkdg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei mehreren Versuchen beträgt die durchschnittliche Schaltzeit 30 Sekunden, manchmal ist die zweite SIM-Karte für eine lange Zeit registriert und die Umschaltung wird um eine Minute verzögert. </font><font style="vertical-align: inherit;">Ich bin mir nicht sicher, ob dies am Modem oder an den Funktionen des Mobilfunkbetreibers liegt.</font></font><br><br><h2>  Fazit </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich mochte die Möglichkeit, bis zu 4 verkabelte WANs und separate Failover-Einstellungen für jede SIM-Karte zu erhalten. </font><font style="vertical-align: inherit;">Der Zweck des GPS-Moduls blieb unverständlich, die Verwendung ohne Software von Drittanbietern funktionierte nicht.</font></font><br><br><h3>  Vorteile </h3><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Offene Plattform basierend auf OpenWRT </font></font></li><li>   failover   SIM- </li><li>  LAN-    WAN </li></ul><br><h3>  Nachteile </h3><br><ul><li>   IPsec IKEv2 </li><li> ,   GPS   GPIO    </li></ul><br><hr><br><h2>  Fazit </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meiner Meinung nach sind spezialisierte Industrielösungen viel praktischer als hausgemachte Strukturen, die auf einem SOHO-Router basieren. </font><font style="vertical-align: inherit;">Obwohl in den meisten Fällen dieselbe OpenWRT-Firmware verwendet wird, werden bereits alle Nuancen berücksichtigt. Bei der Anpassung werden mehrere Parameter in der Weboberfläche festgelegt, und Sie müssen keine Krücken wie Watchdog-Skripte selbst schreiben. Alles ist bereits im Lieferumfang enthalten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusätzliche Funktionen wie GPIO und GPS-Modul ermöglichen in vielen Fällen die Verwaltung mit einem Gerät anstelle von zwei für einfache Aufgaben der Automatisierung und Datenerfassung. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle drei Hersteller verfügen über eine eigene Software zur zentralen Verwaltung von Routern. </font><font style="vertical-align: inherit;">Im Rahmen dieses Artikels haben wir dies nicht berücksichtigt. </font><font style="vertical-align: inherit;">Es ist nützlich für eine große Anzahl von Installationen und ermöglicht die Verwaltung aller Router über ein Bedienfeld. </font><font style="vertical-align: inherit;">Es könnte sich auch lohnen, diese Software zu erkunden.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443196/">https://habr.com/ru/post/de443196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443186/index.html">3CX Technical Support antwortet - 5 IP PBX-Sicherheitsregeln</a></li>
<li><a href="../de443188/index.html">Drei Augen hängen an einer Säule oder die Geschichte, dass fünf Beine von ATtiny13 ausreichen</a></li>
<li><a href="../de443190/index.html">Einführung in die Kubernetes-Netzwerkrichtlinien für Sicherheitsexperten</a></li>
<li><a href="../de443192/index.html">Private Methoden ohne Unterstriche und Schnittstellen in Python</a></li>
<li><a href="../de443194/index.html">Die WFIRM-Ingenieure haben einen Bioprinter erfunden, der die Haut direkt auf eine Wunde druckt</a></li>
<li><a href="../de443198/index.html">Laut Mark Zuckerberg arbeitet Facebook an einer neuronalen Schnittstelle zum Lesen von Gedanken</a></li>
<li><a href="../de443200/index.html">Iranische Hacker stehlen Terabyte an Daten von Citrix</a></li>
<li><a href="../de443202/index.html">Kundgebung gegen die Isolation von Runet</a></li>
<li><a href="../de443204/index.html">Frontend Weekly Digest (4. - 10. März 2019)</a></li>
<li><a href="../de443206/index.html">Minen unter Leistung warten in den Flügeln</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>