<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôøÔ∏è üê® ü§∞üèº El trabajo comienza con las pruebas. üë©üèæ‚Äçü§ù‚Äçüë©üèº ü¶ï ü§µ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En la vida de cada desarrollador, llega un momento en que piensa en crear un componente de prueba para su creaci√≥n. Mejorar√©, en la vida de todo buen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El trabajo comienza con las pruebas.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436714/">  En la vida de cada desarrollador, llega un momento en que piensa en crear un componente de prueba para su creaci√≥n.  Mejorar√©, en la vida de todo buen desarrollador.  Cuando eres un junior y no tienes ninguna responsabilidad especial, tienes derecho a muchos errores y puedes corregirlos en cualquier momento.  Usted no es responsable del producto que crea y no tiene la motivaci√≥n para dedicar un minuto adicional a verificar el c√≥digo generado.  "Nada, esta jamba no se puede reproducir", "esta cosa parece funcionar", "bueno, al menos, hace lo que debe ser": si quiere superar el nivel de programador, tendr√° que negar cada uno de estos pensamientos. <br><br>  Con el desarrollo de su propia experiencia de programaci√≥n, tiene nuevos clientes cada vez m√°s geniales / grandes.  Incluso estar√° encantado con algunos (de todos, si tiene suerte): las personas son buenas y pagan generosamente, y no son quisquillosas con los problemas que surgen.  Veamos uno de estos casos simples (muy simple, pero lo principal que est√° detr√°s de esto) de crear un controlador de formulario de un programador que no conoce la molestia. <br><a name="habracut"></a><br>  Entonces, la tarea simple ha llegado: escribir un controlador de formulario.  El objetivo es aceptar solicitudes de clientes para la compra de ladrillos.  El cliente es grande, se dedica a grandes entregas de ladrillos a granel (por ejemplo, por una cantidad de m√°s de 500,000 rublos para sentir al menos un cierto nivel de responsabilidad por lo que est√° sucediendo).  La competencia es feroz: los clientes pueden acudir r√°pidamente al proveedor de ladrillos si no responden en un d√≠a. <br><br>  Se le dijo a nuestro programador que es necesario guardar los datos del cliente del formulario: el nombre del representante, el n√∫mero de tel√©fono, el nombre de la empresa del cliente, el volumen del pedido y un campo opcional de descripci√≥n del pedido.  Cerebro de Porakinin, se cre√≥ r√°pidamente una forma simple con campos est√°ndar para el frente del sitio: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/6d6647072b.png" alt="la forma"><br><br>  Los datos del formulario se env√≠an mediante una solicitud AJAX, sin volver a cargar la p√°gina.  Adem√°s, el programador asume el dise√±o del controlador de formularios y necesita hacer frente a una tarea bastante trivial: agregar entradas para el nuevo cliente a la tabla de pedidos ya existente y enviar al cliente un correo electr√≥nico con una notificaci√≥n sobre el nuevo cliente. <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/4393f0f44e.png" alt="c√≥digo de inserci√≥n simple"><br><br>  El formulario funciona, los datos se guardan con √©xito, el cliente est√° satisfecho.  Pero, de repente, una llamada enojada proviene del cliente: "dicen que ya lleg√≥ el pedido: la compa√±√≠a millonaria quiere comprarme todos los ladrillos, pero el n√∫mero de tel√©fono no proviene del formulario y ¬øc√≥mo puedo contactarlos ahora?"  ¬°Ma√±ana encontrar√°n otro proveedor!  ¬øC√≥mo es eso que hiciste?  Es tu culpa ... "  El cliente se desgarra, menos nervios, menos confianza y menos respeto.  La situaci√≥n es extremadamente est√°ndar para un junior: la ausencia de validaci√≥n y prueba de los datos entrantes del formulario.  La primera tarea (validaci√≥n) se resuelve extremadamente simple agregando reglas de validaci√≥n: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/3cbaa9c0e8.png" alt="validaci√≥n"><br><cut><br>  De ahora en adelante, el cliente del sitio solo indicar√° los datos correctos que necesitamos para su posterior procesamiento.  En la misma etapa, el desarrollador tiene la idea de probar el c√≥digo para evitar una situaci√≥n tan inc√≥moda.  Por ejemplo, probar el campo del apellido se ver√° as√≠ (para simplificar el ejemplo b√°sico, la protecci√≥n csrf est√° deshabilitada): <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/00ccfbb500.png" alt="prueba de campo faltante"><br><br>  Sabemos que en ausencia de este campo, el c√≥digo debe devolver una respuesta con un error y un estado de 400 prescrito por nosotros. Tales m√©todos de prueba se prescriben para cada situaci√≥n espec√≠fica (o validaci√≥n de campo espec√≠fica, todo depende de las tareas y la imaginaci√≥n del desarrollador). <br><br>  ¬øPero hay un m√©todo de desarrollo diferente al de "Lo hice, pero ahora lo comprobar√©"?  Primero escribimos el c√≥digo, tropezamos con las jambas de ejecuci√≥n, lo arreglamos y luego recordamos las pruebas.  Este enfoque puede ir de lado para nosotros y nuestro cliente, dado el cliente multimillonario perdido (aunque en teor√≠a, todos esos clientes lo estar√≠an).  Y luego me hice una pregunta: ¬øqu√© pasa si comenzamos la l√≥gica de crear una aplicaci√≥n desde el extremo opuesto? Primero, hacemos demandas al "ejecutor" y luego hacemos que cumpla con estos requisitos.  Prob√©moslo. <br><br>  Dejamos la tarea como antes, solo cambiamos el enfoque.  Necesitamos escribir un controlador de formulario con los campos fio, phone, corp, quant y content.  El resultado de una ejecuci√≥n exitosa es el estado 200, agregando un campo a Orden con el mensaje "ok" y devolviendo datos en el registro ingresado, otras opciones: estado 400 y una lista de errores. <br><cut><br>  En primer lugar, necesitamos escribir un m√©todo de prueba para completar v√°lidamente los datos del formulario: <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/479183d938.png" alt="m√©todo v√°lido"><br><br>  Luego, cree la ruta necesaria y el m√©todo del controlador (mientras est√° vac√≠o).  Si ejecutamos la prueba ahora, se espera obtener un error.  Validar datos v√°lidos no es todo lo que necesitamos.  Ahora comenzamos a probar la validaci√≥n del campo de formulario.  Determinamos qu√© campos son obligatorios: fio, phone, corp, quant y agregamos un m√©todo de verificaci√≥n (el comentario es opcional): <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/9fbc334d6e.png" alt="vac√≠o"><br><br>  El controlador de formularios simplemente tendr√° que verificar los datos entrantes fio, phone, corp, quant.  Como eliminamos todos los campos obligatorios de la solicitud, se debe devolver un error en cada uno de ellos.  En el caso de que al menos uno de ellos no est√© presente, el problema de ejecuci√≥n.  Si lo desea, puede agregar una marca de verificaci√≥n para el mensaje, como se hizo anteriormente (marque "ok"). <br>  Emitimos una verificaci√≥n de la longitud m√≠nima de los campos fio, phone y corp (se realizar√° una verificaci√≥n similar para la longitud m√°xima y los caracteres no v√°lidos en estos campos). <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/e6d3507ea2.png" alt="longitud m√≠nima"><br><br>  Nuestros cheques est√°n en su lugar, puede ejecutar y verificar <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/d3d2572d83.png" alt="comprobar resultado"><br><br>  Perfecto  Nuestra aplicaci√≥n se bloque√≥ en 5 de 5 pruebas.  Nuestro objetivo adicional es pasar por m√©todos de prueba que establecen valores no v√°lidos en los campos y forman reglas de validaci√≥n para los datos entrantes.  La l√≥gica es algo como esto: el campo fio no puede estar vac√≠o;  longitud no inferior a 3 y no superior a 120;  Esta es una cadena con el conjunto de caracteres permitidos en el nombre (letras, guiones, guiones).  El resultado de esta l√≥gica en todos los campos: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/1bc13f4444.png" alt="validaci√≥n"><br><br>  En respuesta a un archivo, se ha agregado una lista de errores que corresponden a cada campo "problema".  Esto nos ayudar√° a verificar los campos espec√≠ficos para la validaci√≥n (afirmar JsonStructure en el archivo de prueba).  A continuaci√≥n, agregamos el m√©todo de validaci√≥n y obtenemos la versi√≥n final: <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/b979543be1.png" alt="m√©todo final"><br><br>  Y finalmente, podemos verificar c√≥mo funciona nuestro script en las pruebas (recuerdo, hubo 5 fallas en 5 pruebas). <br><br><img src="http://dl3.joxi.net/drive/2019/01/16/0025/3302/1694950/50/e17df357d5.png" alt="ok"><br><br>  Como puede ver, todas las pruebas pasaron con √©xito y solo se ingres√≥ una entrada en la base de datos (ya que solo un m√©todo se configur√≥ para funcionar correctamente). <br><br><img src="http://dl4.joxi.net/drive/2019/01/16/0025/3302/1694950/50/77c0dabe23.png" alt="el resultado se ingresa en la base de datos"><br><br>  ¬øCu√°les son los hallazgos?  El desarrollo de aplicaciones, comenzando con las pruebas, es una mejor opci√≥n que la escritura habitual de funcionalidad.  La necesidad de recibir del m√©todo solo lo que se necesita es comparable con la disciplina del ej√©rcito: el c√≥digo hace exactamente lo que se requiere de √©l, no un paso al costado.  Sin embargo, este enfoque tiene un lado negativo (aunque controvertido): el hecho es que escribir funcionalidades adicionales (que son pruebas) tambi√©n toma parte del tiempo asignado para el desarrollo del proyecto.  En cuanto a m√≠, la elecci√≥n es clara: un buen programador debe escribir pruebas, y comenzar con la funcionalidad de prueba ayuda a escribir un proyecto confiable y que funcione bien.  Intentar√© usarlo en algo menos trivial. </cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436714/">https://habr.com/ru/post/es436714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436700/index.html">Anti-spoofing: ¬øc√≥mo resisten los sistemas de reconocimiento facial a los estafadores?</a></li>
<li><a href="../es436704/index.html">La historia de c√≥mo elegimos escalas para la automatizaci√≥n de cajas registradoras</a></li>
<li><a href="../es436708/index.html">En qu√© consiste IoT</a></li>
<li><a href="../es436710/index.html">Las tendencias del mercado de gamedev del a√±o 2019 en mi humilde opini√≥n. Descentralizaci√≥n?</a></li>
<li><a href="../es436712/index.html">¬øC√≥mo promover un juego incremental? Gratis, r√°pido y efectivo *</a></li>
<li><a href="../es436716/index.html">Puerta falsa como parte del desarrollo del cliente</a></li>
<li><a href="../es436718/index.html">Experiencia personal: cinco desaf√≠os al iniciar un negocio en los EE. UU.</a></li>
<li><a href="../es436720/index.html">Existe una opini√≥n: IPv6 fall√≥: qui√©n lo cree y por qu√©</a></li>
<li><a href="../es436722/index.html">Sistema de diagn√≥stico m√©dico experto en Prolog</a></li>
<li><a href="../es436724/index.html">Creando productos que crean h√°bitos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>