<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’ªğŸ» ğŸ¤ğŸ¼ ğŸ–‹ï¸ æ¥è‡ªx86ç³»ç»Ÿä¸­çš„å¤–éƒ¨è®¾å¤‡çš„ä¸­æ–­ã€‚ ç¬¬2éƒ¨åˆ†ã€‚Linuxå†…æ ¸å¼•å¯¼é€‰é¡¹ âœŠğŸ¼ ğŸ‘¨â€ğŸ¨ ğŸ¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨ä¸Šä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†x86ç³»ç»Ÿï¼ˆPICâ†’APICâ†’MSIï¼‰ä¸­è®¾å¤‡çš„ä¸­æ–­ä¼ é€’çš„å‘å±•ï¼Œä¸€èˆ¬ç†è®ºä»¥åŠæ‰€æœ‰å¿…è¦çš„æœ¯è¯­ã€‚ 

 åœ¨æœ¬å®ç”¨éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•å›æ»šåˆ°ä½¿ç”¨æ—§ç‰ˆLinuxä¸­æ–­ä¼ é€’æ–¹æ³•ï¼Œå³è€ƒè™‘å†…æ ¸å¼•å¯¼é€‰é¡¹ï¼š 



- pci = nomsi 
- Noapic 
- ç©ºè…¹çš„ 
 æˆ‘ä»¬è¿˜å°†æŸ¥çœ‹æ“...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æ¥è‡ªx86ç³»ç»Ÿä¸­çš„å¤–éƒ¨è®¾å¤‡çš„ä¸­æ–­ã€‚ ç¬¬2éƒ¨åˆ†ã€‚Linuxå†…æ ¸å¼•å¯¼é€‰é¡¹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431372/"> åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸Šä¸€éƒ¨åˆ†ä¸­ï¼Œ</a>æˆ‘ä»¬ç ”ç©¶äº†x86ç³»ç»Ÿï¼ˆPICâ†’APICâ†’MSIï¼‰ä¸­è®¾å¤‡çš„ä¸­æ–­ä¼ é€’çš„å‘å±•ï¼Œä¸€èˆ¬ç†è®ºä»¥åŠæ‰€æœ‰å¿…è¦çš„æœ¯è¯­ã€‚ <br><br> åœ¨æœ¬å®ç”¨éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•å›æ»šåˆ°ä½¿ç”¨æ—§ç‰ˆLinuxä¸­æ–­ä¼ é€’æ–¹æ³•ï¼Œå³è€ƒè™‘å†…æ ¸å¼•å¯¼é€‰é¡¹ï¼š <br><br><ul><li>  pci = nomsi </li><li>  Noapic </li><li> ç©ºè…¹çš„ </li></ul><br> æˆ‘ä»¬è¿˜å°†æŸ¥çœ‹æ“ä½œç³»ç»ŸæŸ¥çœ‹ä¸­æ–­è·¯ç”±è¡¨ï¼ˆACPI / MPtable / $ PIRï¼‰çš„é¡ºåºï¼Œä»¥åŠå®ƒå¯¹æ·»åŠ å¼•å¯¼é€‰é¡¹çš„å½±å“ï¼š <br><br><ul><li>  pci = noacpi </li><li>  acpi = noirq </li><li>  acpi =å…³é—­ </li></ul><br> å½“è®¾å¤‡ç”±äºä¸­æ–­é—®é¢˜è€Œæ— æ³•å·¥ä½œæ—¶ï¼Œä¹Ÿè®¸æ‚¨å°è¯•äº†æ‰€æœ‰è¿™äº›é€‰é¡¹çš„ç»„åˆã€‚ è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬åˆ°åº•æ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•æ”¹å˜/ proc / interruptsçš„è¾“å‡ºã€‚ <br><a name="habracut"></a><br><h3> æ— éœ€å…¶ä»–é€‰é¡¹å³å¯ä¸‹è½½ </h3><br> æˆ‘ä»¬å°†åœ¨è‡ªå®šä¹‰æ¿ä¸Šä½¿ç”¨Intel Haswell i7å’ŒlynxPoint-LPèŠ¯ç‰‡ç»„ï¼ˆåœ¨å…¶ä¸Šè¿è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">coreboot</a> ï¼‰è§‚å¯Ÿä¸­æ–­ã€‚ <br><br> æˆ‘ä»¬å°†é€šè¿‡å‘½ä»¤è¾“å‡ºæœ‰å…³ä¸­æ–­çš„ä¿¡æ¯ <br><br><pre><code class="bash hljs">cat /proc/interrupts</code> </pre> <br> å¼•å¯¼æ—¶è¾“å‡ºï¼Œæ— å…¶ä»–é€‰é¡¹ï¼š <br><br><pre> <code class="bash hljs">CPU0 CPU1 CPU2 CPU3 0: 15 0 0 0 IO-APIC-edge timer 1: 0 1 0 1 IO-APIC-edge i8042 8: 0 0 0 1 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-fasteoi acpi 12: 0 0 0 1 IO-APIC-edge 23: 16 247 7 10 IO-APIC-fasteoi ehci_hcd:usb1 56: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 57: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 58: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 59: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 60: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 61: 0 0 0 0 PCI-MSI-edge aerdrv,PCIe PME 62: 3118 1984 972 3454 PCI-MSI-edge ahci 63: 1 0 0 0 PCI-MSI-edge eth59 64: 2095 57 4 832 PCI-MSI-edge eth59-rx-0 65: 6 18 1 1309 PCI-MSI-edge eth59-rx-1 66: 13 512 2 1 PCI-MSI-edge eth59-rx-2 67: 10 61 232 2 PCI-MSI-edge eth59-rx-3 68: 169 0 0 0 PCI-MSI-edge eth59-tx-0 69: 14 14 4 205 PCI-MSI-edge eth59-tx-1 70: 11 491 3 0 PCI-MSI-edge eth59-tx-2 71: 20 19 134 50 PCI-MSI-edge eth59-tx-3 72: 0 0 0 0 PCI-MSI-edge eth58 73: 2 1 0 152 PCI-MSI-edge eth58-rx-0 74: 3 150 2 0 PCI-MSI-edge eth58-rx-1 75: 2 34 117 2 PCI-MSI-edge eth58-rx-2 76: 153 0 2 0 PCI-MSI-edge eth58-rx-3 77: 4 0 2 149 PCI-MSI-edge eth58-tx-0 78: 4 149 2 0 PCI-MSI-edge eth58-tx-1 79: 4 0 117 34 PCI-MSI-edge eth58-tx-2 80: 153 0 2 0 PCI-MSI-edge eth58-tx-3 81: 66 106 2 101 PCI-MSI-edge snd_hda_intel 82: 928 5657 262 224 PCI-MSI-edge i915 83: 545 56 32 15 PCI-MSI-edge snd_hda_intel NMI: 0 0 0 0 Non-maskable interrupts LOC: 4193 3644 3326 3499 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 290 233 590 111 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1339 2163 2404 1946 Rescheduling interrupts CAL: 607 537 475 559 Function call interrupts TLB: 163 202 164 251 TLB shootdowns TRM: 48 48 48 48 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 3 3 3 3 Machine check polls ERR: 0 MIS: 0</code> </pre><br>  / proc / interruptsæ–‡ä»¶ä»¥ä»¥ä¸‹å½¢å¼æä¾›æœ‰å…³æ¯ä¸ªå¤„ç†å™¨ä¸Šçš„ä¸­æ–­æ•°é‡çš„è¡¨ï¼š <br><br><ul><li> ç¬¬ä¸€åˆ—ï¼šä¸­æ–­å· </li><li>  CPUxæ‰¬å£°å™¨ï¼šæ¯ä¸ªå¤„ç†å™¨ä¸Šçš„ä¸­æ–­è®¡æ•°å™¨ </li><li> ä¸‹ä¸€æ ï¼šä¸­æ–­ç±»å‹ï¼š <br><ul><li>  IO-APICè¾¹ç¼˜-I / O APICæ§åˆ¶å™¨çš„è¾¹ç¼˜ä¸­æ–­ </li><li>  IO-APIC-fasteoi-æ¯ä¸ªI / O APICæ§åˆ¶å™¨çš„çº§åˆ«ä¸­æ–­ </li><li>  PCI-MSIè¾¹ç¼˜-MSIä¸­æ–­ </li><li>  XT-PIC-XT-PIC-PICæ§åˆ¶å™¨ä¸Šçš„ä¸­æ–­ï¼ˆè¯·å‚é˜…ä¸‹æ–‡ï¼‰ </li></ul></li><li> æœ€åä¸€åˆ—ï¼šä¸æ­¤ä¸­æ–­å…³è”çš„è®¾å¤‡ </li></ul><br> å› æ­¤ï¼Œå°±åƒåœ¨ç°ä»£ç³»ç»Ÿä¸­ä¸€æ ·ï¼Œå®ƒä»¬ç”¨äºæ”¯æŒMSI / MSI-Xä¸­æ–­çš„è®¾å¤‡å’Œé©±åŠ¨ç¨‹åºã€‚ å…¶ä½™çš„ä¸­æ–­é€šè¿‡I / O APICè·¯ç”±ã€‚ <br><br> å¯ä»¥è¿™æ ·ç»˜åˆ¶ç®€åŒ–çš„ä¸­æ–­è·¯ç”±æ–¹æ¡ˆï¼ˆæ´»åŠ¨è·¯å¾„æ ‡è®°ä¸ºçº¢è‰²ï¼Œæœªä½¿ç”¨è·¯å¾„æ ‡è®°ä¸ºé»‘è‰²ï¼‰ã€‚ <br><br><img src="https://habrastorage.org/webt/pb/ej/7c/pbej7cfkiyscux6fzyttfbi99my.png"><br><br> å¯¹MSI / MSI-Xè®¾å¤‡çš„æ”¯æŒåº”åœ¨å…¶PCIé…ç½®ç©ºé—´ä¸­æ ‡è®°ä¸ºç›¸åº”çš„åŠŸèƒ½ã€‚ <br><br> ä½œä¸ºç¡®è®¤ï¼Œæˆ‘ä»¬ä¸ºè®¾å¤‡æŒ‡ç¤ºå…¶ä½¿ç”¨MSI / MSI-Xçš„lspciè¾“å‡ºç»™å‡ºä¸€å°éƒ¨åˆ†ã€‚ åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªSATAæ§åˆ¶å™¨ï¼ˆahciä¸­æ–­ï¼‰ï¼Œ2ä¸ªä»¥å¤ªç½‘æ§åˆ¶å™¨ï¼ˆeth58 *å’Œeth59 *ä¸­æ–­ï¼‰ï¼Œä¸€ä¸ªå›¾å½¢æ§åˆ¶å™¨ï¼ˆi915ï¼‰å’Œ2ä¸ªHDéŸ³é¢‘æ§åˆ¶å™¨ï¼ˆsnd_hda_intelï¼‰ã€‚ <br><br><pre> <code class="bash hljs">lspci -v</code> </pre> <br><pre> <code class="bash hljs">00:02.0 VGA compatible controller: Intel Corporation Haswell-ULT Integrated Graphics Controller (rev 09) (prog-if 00 [VGA controller]) ... Capabilities: [90] MSI: Enable+ Count=1/1 Maskable- 64bit- Capabilities: [d0] Power Management version 2 Capabilities: [a4] PCI Advanced Features Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: i915 00:03.0 Audio device: Intel Corporation Haswell-ULT HD Audio Controller (rev 09 ... Capabilities: [60] MSI: Enable+ Count=1/1 Maskable- 64bit- Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: snd_hda_intel 00:1b.0 Audio device: Intel Corporation 8 Series HD Audio Controller (rev 04) ... Capabilities: [60] MSI: Enable+ Count=1/1 Maskable- 64bit+ Capabilities: [70] Express Root Complex Integrated Endpoint, MSI 00 Capabilities: [100] Virtual Channel Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: snd_hda_intel 00:1f.2 SATA controller: Intel Corporation 8 Series SATA Controller 1 [AHCI mode] (rev 04) (prog-if 01 [AHCI 1.0]) ... Capabilities: [80] MSI: Enable+ Count=1/1 Maskable- 64bit- Capabilities: [70] Power Management version 3 Capabilities: [a8] SATA HBA v1.0 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: ahci 05:00.0 Ethernet controller: Intel Corporation I350 Gigabit Network Connection (rev 01) ... Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+ Capabilities: [70] MSI-X: Enable+ Count=10 Masked- Capabilities: [a0] Express Endpoint, MSI 00 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: igb 05:00.1 Ethernet controller: Intel Corporation I350 Gigabit Network Connection (rev 01) ... Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+ Capabilities: [70] MSI-X: Enable+ Count=10 Masked- Capabilities: [a0] Express Endpoint, MSI 00 Kernel driver <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> use: igb</code> </pre> <br> å¦‚æˆ‘ä»¬æ‰€è§ï¼Œè¿™äº›è®¾å¤‡çš„è¡Œâ€œ MSIï¼šå¯ç”¨+â€æˆ–â€œ MSI-Xï¼šå¯ç”¨+â€ <br><br> è®©æˆ‘ä»¬å¼€å§‹é™çº§ç³»ç»Ÿã€‚ é¦–å…ˆï¼Œä½¿ç”¨pci = nomsié€‰é¡¹å¼•å¯¼ã€‚ <br><br><h3>  pci = nomsi </h3><br> ä½¿ç”¨æ­¤é€‰é¡¹ï¼ŒMSIä¸­æ–­å°†å˜ä¸ºIO-APIC / XT-PICï¼Œå…·ä½“å–å†³äºæ‰€ä½¿ç”¨çš„ä¸­æ–­æ§åˆ¶å™¨ã€‚ <br><br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä»ç„¶å…·æœ‰ä¼˜å…ˆçº§APICä¸­æ–­æ§åˆ¶å™¨ï¼Œå› æ­¤å›¾ç‰‡å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><img src="https://habrastorage.org/webt/er/ft/jy/erftjybrd7rm61bmmmhcs3qfzni.png"><br><br>  / proc / interruptsçš„è¾“å‡ºï¼š <br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 15 0 0 0 IO-APIC-edge timer 1: 0 1 0 1 IO-APIC-edge i8042 8: 0 0 1 0 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-fasteoi acpi 12: 0 0 0 1 IO-APIC-edge 16: 1314 5625 342 555 IO-APIC-fasteoi i915, snd_hda_intel, eth59 17: 5 0 1 34 IO-APIC-fasteoi eth58 21: 2882 2558 963 2088 IO-APIC-fasteoi ahci 22: 26 81 2 170 IO-APIC-fasteoi snd_hda_intel 23: 23 369 8 8 IO-APIC-fasteoi ehci_hcd:usb1 NMI: 0 0 0 0 Non-maskable interrupts LOC: 3011 3331 2435 2617 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 197 228 544 85 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1708 2349 1821 1569 Rescheduling interrupts CAL: 520 554 509 555 Function call interrupts TLB: 187 181 205 179 TLB shootdowns TRM: 102 102 102 102 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 2 2 2 2 Machine check polls ERR: 0 MIS: 0</code> </pre> <br> æ‰€æœ‰çš„MSI / MSI-Xä¸­æ–­éƒ½å°†æ¶ˆå¤±ã€‚ ç›¸åï¼Œè®¾å¤‡ç°åœ¨ä½¿ç”¨IO-APIC-fasteoiä¸­æ–­ã€‚ <br><br> è¯·æ³¨æ„ï¼Œåœ¨åŒ…å«æ­¤é€‰é¡¹ä¹‹å‰ï¼Œeth58å’Œeth59åˆ†åˆ«æœ‰9ä¸ªä¸­æ–­ï¼ ç°åœ¨ä¸€æ¬¡åªèƒ½ä¸€æ¬¡ã€‚ çš„ç¡®ï¼Œæˆ‘ä»¬è®°å¾—ï¼Œæ²¡æœ‰MSIçš„ä¸€é¡¹PCIåŠŸèƒ½ï¼Œåªæœ‰ä¸€ä¸ªä¸­æ–­å¯ç”¨ï¼ <br><br> æ¥è‡ªdmesgçš„æœ‰å…³åˆå§‹åŒ–ä»¥å¤ªç½‘æ§åˆ¶å™¨çš„ä¸€äº›ä¿¡æ¯ï¼š <br><br>  -ä¸å¸¦pci = nomsié€‰é¡¹çš„ä¸‹è½½ï¼š <br><br><pre> <code class="bash hljs">igb: Intel(R) Gigabit Ethernet Network Driver - version 5.0.5-k igb: Copyright (c) 2007-2013 Intel Corporation. acpi:acpi_pci_irq_enable: igb 0000:05:00.0: PCI INT A -&gt; GSI 16 (level, low) -&gt; IRQ 16 igb 0000:05:00.0: irq 63 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 64 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 65 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 66 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 67 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 68 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 69 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 70 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 71 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 63 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 64 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 65 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 66 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 67 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 68 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 69 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 70 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: irq 71 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.0: added PHC on eth0 igb 0000:05:00.0: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.0: eth0: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2a igb 0000:05:00.0: eth0: PBA No: 106300-000 igb 0000:05:00.0: Using MSI-X interrupts. 4 rx queue(s), 4 tx queue(s) acpi:acpi_pci_irq_enable: igb 0000:05:00.1: PCI INT B -&gt; GSI 17 (level, low) -&gt; IRQ 17 igb 0000:05:00.1: irq 72 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 73 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 74 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 75 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 76 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 77 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 78 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 79 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 80 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 72 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 73 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 74 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 75 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 76 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 77 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 78 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 79 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: irq 80 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MSI/MSI-X igb 0000:05:00.1: added PHC on eth1 igb 0000:05:00.1: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.1: eth1: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2b igb 0000:05:00.1: eth1: PBA No: 106300-000 igb 0000:05:00.1: Using MSI-X interrupts. 4 rx queue(s), 4 tx queue(s)</code> </pre> <br>  -ä½¿ç”¨pci = nomsié€‰é¡¹å¯åŠ¨ <br><br><pre> <code class="bash hljs">igb: Intel(R) Gigabit Ethernet Network Driver - version 5.0.5-k igb: Copyright (c) 2007-2013 Intel Corporation. acpi:acpi_pci_irq_enable: igb 0000:05:00.0: PCI INT A -&gt; GSI 16 (level, low) -&gt; IRQ 16 igb 0000:05:00.0: added PHC on eth0 igb 0000:05:00.0: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.0: eth0: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2a igb 0000:05:00.0: eth0: PBA No: 106300-000 igb 0000:05:00.0: Using legacy interrupts. 1 rx queue(s), 1 tx queue(s) acpi:acpi_pci_irq_enable: igb 0000:05:00.1: PCI INT B -&gt; GSI 17 (level, low) -&gt; IRQ 17 igb 0000:05:00.1: added PHC on eth1 igb 0000:05:00.1: Intel(R) Gigabit Ethernet Network Connection igb 0000:05:00.1: eth1: (PCIe:5.0Gb/s:Width x1) 00:15:d5:03:00:2b igb 0000:05:00.1: eth1: PBA No: 106300-000 igb 0000:05:00.1: Using legacy interrupts. 1 rx queue(s), 1 tx queue(s)</code> </pre> <br> ç”±äºå‡å°‘äº†æ¯ä¸ªè®¾å¤‡çš„ä¸­æ–­æ•°é‡ï¼Œå› æ­¤å¯ç”¨æ­¤é€‰é¡¹å¯èƒ½ä¼šä¸¥é‡é™åˆ¶é©±åŠ¨ç¨‹åºæ€§èƒ½ï¼ˆè¿™æ²¡æœ‰è€ƒè™‘åˆ°ä»¥ä¸‹äº‹å®ï¼šæ ¹æ®è‹±ç‰¹å°”<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é€šè¿‡ä½¿ç”¨æ¶ˆæ¯ä¿¡å·ä¸­æ–­</a>æ¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‡å°‘ä¸­æ–­å»¶è¿Ÿçš„è§„å®šï¼Œ</a>é€šè¿‡MSIè¿›è¡Œçš„ä¸­æ–­æ¯”é€šè¿‡IOè¿›è¡Œä¸­æ–­çš„é€Ÿåº¦å¿«3å€ï¼‰ -APICï¼Œæ¯”é€šè¿‡PICå¿«5å€ï¼‰ã€‚ <br><br><h3>  Noapic </h3><br> æ­¤é€‰é¡¹ç¦ç”¨I / O APICã€‚  MSIä¸­æ–­ä»ç„¶å¯ä»¥åˆ°è¾¾æ‰€æœ‰CPUï¼Œä½†æ˜¯æ¥è‡ªè®¾å¤‡çš„ä¸­æ–­åªèƒ½åˆ°è¾¾CPU0ï¼Œå› ä¸ºPICä»…è¿æ¥åˆ°CPU0ã€‚ ä½†æ˜¯LAPICå¯ä»¥å·¥ä½œï¼Œå…¶ä»–CPUå¯ä»¥å·¥ä½œå¹¶å¤„ç†ä¸­æ–­ã€‚ <br><br><img src="https://habrastorage.org/webt/uw/tf/rt/uwtfrt5lgbpfenyjwb3u_fc4yvq.png"><br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 5 0 0 0 XT-PIC-XT-PIC timer 1: 2 0 0 0 XT-PIC-XT-PIC i8042 2: 0 0 0 0 XT-PIC-XT-PIC cascade 8: 1 0 0 0 XT-PIC-XT-PIC rtc0 9: 0 0 0 0 XT-PIC-XT-PIC acpi 12: 172 0 0 0 XT-PIC-XT-PIC ehci_hcd:usb1 56: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 57: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 58: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 59: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 60: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 61: 0 0 0 0 PCI-MSI-edge aerdrv, PCIe PME 62: 2833 2989 1021 811 PCI-MSI-edge ahci 63: 0 1 0 0 PCI-MSI-edge eth59 64: 301 52 9 3 PCI-MSI-edge eth59-rx-0 65: 12 24 3 178 PCI-MSI-edge eth59-rx-1 66: 14 85 6 2 PCI-MSI-edge eth59-rx-2 67: 17 24 307 1 PCI-MSI-edge eth59-rx-3 68: 70 18 8 10 PCI-MSI-edge eth59-tx-0 69: 7 0 0 23 PCI-MSI-edge eth59-tx-1 70: 15 227 2 2 PCI-MSI-edge eth59-tx-2 71: 18 6 27 2 PCI-MSI-edge eth59-tx-3 72: 0 0 0 0 PCI-MSI-edge eth58 73: 1 0 0 27 PCI-MSI-edge eth58-rx-0 74: 1 22 0 5 PCI-MSI-edge eth58-rx-1 75: 1 0 22 5 PCI-MSI-edge eth58-rx-2 76: 23 0 0 5 PCI-MSI-edge eth58-rx-3 77: 1 0 0 27 PCI-MSI-edge eth58-tx-0 78: 1 22 0 5 PCI-MSI-edge eth58-tx-1 79: 1 0 22 5 PCI-MSI-edge eth58-tx-2 80: 23 0 0 5 PCI-MSI-edge eth58-tx-3 81: 187 17 70 7 PCI-MSI-edge snd_hda_intel 82: 698 1647 247 129 PCI-MSI-edge i915 83: 438 135 16 59 PCI-MSI-edge snd_hda_intel NMI: 0 0 0 0 Non-maskable interrupts LOC: 1975 2499 2245 1474 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 132 67 429 91 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1697 2178 1903 1541 Rescheduling interrupts CAL: 561 496 534 567 Function call interrupts TLB: 229 254 170 137 TLB shootdowns TRM: 78 78 78 78 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 2 2 2 2 Machine check polls ERR: 0 MIS: 0</code> </pre> <br> å¦‚æ‚¨æ‰€è§ï¼Œæ‰€æœ‰IO-APIC- *ä¸­æ–­éƒ½å˜æˆäº†XT-PIC-XT-PICï¼Œè¿™äº›ä¸­æ–­ä»…åœ¨CPU0ä¸Šè·¯ç”±ã€‚  MSIä¸­æ–­ä¿æŒä¸å˜ï¼Œå¹¶è¿›å…¥æ‰€æœ‰CPU0-3ã€‚ <br><br><h3> ç©ºè…¹çš„ </h3><br> ç¦ç”¨LAPICã€‚ æ²¡æœ‰LAPICï¼ŒMSIä¸­æ–­å°†æ— æ³•å·¥ä½œï¼›æ²¡æœ‰LAPICï¼ŒI / O APICå°†æ— æ³•å·¥ä½œã€‚ å› æ­¤ï¼Œæ¥è‡ªè®¾å¤‡çš„æ‰€æœ‰ä¸­æ–­éƒ½å°†åˆ°è¾¾PICï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºCPU0ã€‚ å¦‚æœæ²¡æœ‰LAPICï¼Œå…¶ä»–CPUç”šè‡³æ— æ³•åœ¨ç³»ç»Ÿä¸­å·¥ä½œã€‚ <br><br><img src="https://habrastorage.org/webt/rm/jd/4t/rmjd4tr9wxvkghj5hzb5wu7fswi.png"><br><br>  / proc / interruptsçš„è¾“å‡ºï¼š <br><br><pre> <code class="bash hljs"> CPU0 0: 6416 XT-PIC-XT-PIC timer 1: 2 XT-PIC-XT-PIC i8042 2: 0 XT-PIC-XT-PIC cascade 3: 5067 XT-PIC-XT-PIC aerdrv, aerdrv, PCIe PME, PCIe PME, i915, snd_hda_intel, eth59 4: 32 XT-PIC-XT-PIC aerdrv, aerdrv, PCIe PME, PCIe PME, eth58 5: 0 XT-PIC-XT-PIC aerdrv, PCIe PME 6: 0 XT-PIC-XT-PIC aerdrv, PCIe PME 8: 1 XT-PIC-XT-PIC rtc0 9: 0 XT-PIC-XT-PIC acpi 11: 274 XT-PIC-XT-PIC snd_hda_intel 12: 202 XT-PIC-XT-PIC ehci_hcd:usb1 15: 7903 XT-PIC-XT-PIC ahci NMI: 0 Non-maskable interrupts LOC: 0 Local timer interrupts SPU: 0 Spurious interrupts PMI: 0 Performance monitoring interrupts IWI: 0 IRQ work interrupts RTR: 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 0 Rescheduling interrupts CAL: 0 Function call interrupts TLB: 0 TLB shootdowns TRM: 0 Thermal event interrupts THR: 0 Threshold APIC interrupts MCE: 0 Machine check exceptions MCP: 1 Machine check polls ERR: 0 MIS: 0</code> </pre><br><h3> ç»„åˆï¼š </h3><br> å®é™…ä¸Šï¼Œæ–°ç‰ˆæœ¬åªæœ‰ä¸€ä¸ªï¼šâ€œ noapic pci = nomsiâ€ã€‚ æ¥è‡ªè®¾å¤‡çš„æ‰€æœ‰ä¸­æ–­åªèƒ½é€šè¿‡PICè¿›å…¥CPU0ã€‚ ä½†æ˜¯LAPICå¯ä»¥å·¥ä½œï¼Œå…¶ä»–CPUå¯ä»¥å·¥ä½œå¹¶å¤„ç†ä¸­æ–­ã€‚ <br><br> ç¬¬ä¸€ï¼Œå› ä¸ºæ‚¨æ— æ³•å°†ä»»ä½•å†…å®¹ä¸â€œ nolapicâ€ç»„åˆä½¿ç”¨ï¼Œå› ä¸º æ­¤é€‰é¡¹å°†ä½¿I / O APICå’ŒMSIä¸å¯ç”¨ã€‚ å› æ­¤ï¼Œå¦‚æœæ‚¨æ›¾ç»ç»™å¼•å¯¼é€‰é¡¹æŒ‡å®šäº†â€œ noapic nolapicâ€ï¼ˆæˆ–è€…æœ€å¸¸è§çš„é€‰é¡¹â€œ acpi = off noapic nolapicâ€ï¼‰ï¼Œé‚£ä¹ˆæ˜¾ç„¶æ‚¨è¾“å…¥äº†é¢å¤–çš„å­—æ¯ã€‚ <br><br> å› æ­¤ï¼Œâ€œ noapic pci = nomsiâ€é€‰é¡¹å°†å‘ç”Ÿä»€ä¹ˆï¼š <br><br><img src="https://habrastorage.org/webt/jx/bu/is/jxbuissu4c453b_5g-4pcs6_d-w.png"><br><br>  / proc / interruptsçš„è¾“å‡ºï¼š <br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 5 0 0 0 XT-PIC-XT-PIC timer 1: 2 0 0 0 XT-PIC-XT-PIC i8042 2: 0 0 0 0 XT-PIC-XT-PIC cascade 3: 5072 0 0 0 XT-PIC-XT-PIC i915, snd_hda_intel, eth59 4: 32 0 0 0 XT-PIC-XT-PIC eth58 8: 1 0 0 0 XT-PIC-XT-PIC rtc0 9: 0 0 0 0 XT-PIC-XT-PIC acpi 11: 281 0 0 0 XT-PIC-XT-PIC snd_hda_intel 12: 200 0 0 0 XT-PIC-XT-PIC ehci_hcd:usb1 15: 7930 0 0 0 XT-PIC-XT-PIC ahci NMI: 0 0 0 0 Non-maskable interrupts LOC: 2595 2387 2129 1697 Local timer interrupts SPU: 0 0 0 0 Spurious interrupts PMI: 0 0 0 0 Performance monitoring interrupts IWI: 159 90 482 135 IRQ work interrupts RTR: 3 0 0 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 1568 1666 1810 1833 Rescheduling interrupts CAL: 431 556 549 558 Function call interrupts TLB: 124 184 156 274 TLB shootdowns TRM: 116 116 116 116 Thermal event interrupts THR: 0 0 0 0 Threshold APIC interrupts MCE: 0 0 0 0 Machine check exceptions MCP: 2 2 2 2 Machine check polls ERR: 0 MIS: 0</code> </pre> <br><h3> ä¸­æ–­è·¯ç”±è¡¨å’Œé€‰é¡¹â€œ acpi = noirqâ€ï¼Œâ€œ pci = noacpiâ€ï¼Œâ€œ acpi = offâ€ </h3><br> æ“ä½œç³»ç»Ÿå¦‚ä½•ä»è®¾å¤‡æ¥æ”¶ä¸­æ–­è·¯ç”±ä¿¡æ¯ï¼Ÿ  BIOSé€šè¿‡ä»¥ä¸‹å½¢å¼ä¸ºæ“ä½œç³»ç»Ÿå‡†å¤‡ä¿¡æ¯ï¼š <br><br><ul><li>  ACPIè¡¨ï¼ˆ_PIC / _PRTæ–¹æ³•ï¼‰ </li><li>  _MP_è¡¨ï¼ˆMPtableï¼‰ </li><li>  $ PIRè¡¨ </li><li> å¯„å­˜å™¨0x3C / 0x3D PCIè®¾å¤‡é…ç½®ç©ºé—´ </li></ul><br> åº”å½“æ³¨æ„ï¼ŒBIOSä¸éœ€è¦åšä»»ä½•é¢å¤–çš„äº‹æƒ…æ¥æŒ‡ç¤ºMSIçš„ä¸­æ–­ï¼›ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯ä»…å¯¹äºAPIC / PICä¸­æ–­çº¿æ‰éœ€è¦ã€‚ <br><br> ä¸Šé¢åˆ—è¡¨ä¸­çš„è¡¨æŒ‰ä¼˜å…ˆçº§é¡ºåºæ˜¾ç¤ºã€‚ è®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°è€ƒè™‘å®ƒã€‚ <br><br> å‡è®¾BIOSæä¾›äº†æ‰€æœ‰è¿™äº›æ•°æ®ï¼Œå¹¶ä¸”æˆ‘ä»¬åœ¨å¯åŠ¨æ—¶æ²¡æœ‰ä»»ä½•å…¶ä»–é€‰é¡¹ï¼š <br><br><ul><li> æ“ä½œç³»ç»Ÿæ‰¾åˆ°ACPIè¡¨ </li><li> æ“ä½œç³»ç»Ÿæ‰§è¡ŒACPIæ–¹æ³•â€œ _PICâ€ï¼Œå¹¶å‘å…¶ä¼ é€’éœ€è¦ä»¥APICæ¨¡å¼åŠ è½½çš„å‚æ•°ã€‚ æ­¤å¤„ï¼Œæ–¹æ³•ä»£ç é€šå¸¸å°†æ‰€é€‰æ¨¡å¼ä¿å­˜åœ¨å˜é‡ä¸­ï¼ˆä¾‹å¦‚PICM = 1ï¼‰ </li><li> ä¸ºäº†è·å–æœ‰å…³ä¸­æ–­çš„æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿå°†è°ƒç”¨ACPIæ–¹æ³•â€œ _PRTâ€ã€‚ å®ƒåœ¨å†…éƒ¨æ£€æŸ¥PICMå˜é‡ï¼Œå¹¶è¿”å›APICæƒ…å†µçš„è·¯ç”± </li></ul><br> å¦‚æœæˆ‘ä»¬ä½¿ç”¨<b>noapic</b>é€‰é¡¹å¼•å¯¼ï¼š <br><br><ul><li> æ“ä½œç³»ç»Ÿæ‰¾åˆ°ACPIè¡¨ </li><li> æ“ä½œç³»ç»Ÿæ‰§è¡ŒACPIæ–¹æ³•â€œ _PICâ€ï¼Œå¹¶å°†å¿…é¡»åœ¨PICæ¨¡å¼ä¸‹å¯åŠ¨çš„å‚æ•°ä¼ é€’ç»™å®ƒã€‚ æ­¤å¤„ï¼Œæ–¹æ³•ä»£ç é€šå¸¸å°†æ‰€é€‰æ¨¡å¼ä¿å­˜åœ¨å˜é‡ä¸­ï¼ˆä¾‹å¦‚PICM = 0ï¼‰ </li><li> ä¸ºäº†è·å–æœ‰å…³ä¸­æ–­çš„æ•°æ®ï¼Œæ“ä½œç³»ç»Ÿå°†è°ƒç”¨ACPIæ–¹æ³•â€œ _PRTâ€ã€‚ å®ƒåœ¨å†…éƒ¨æ£€æŸ¥PICMå˜é‡å¹¶è¿”å›PICæƒ…å†µçš„è·¯ç”± </li></ul><br> å¦‚æœç¼ºå°‘ACPIè¡¨æˆ–ä½¿ç”¨<b>acpi = noirq</b>æˆ–<b>pci = noacpié€‰é¡¹</b>ç¦ç”¨äº†é€šè¿‡ACPIçš„ä¸­æ–­è·¯ç”±åŠŸèƒ½ï¼ˆæˆ–è€…ä½¿ç”¨<b>acpi = off</b>å®Œå…¨å…³é—­äº†<b>ACPI</b> ï¼‰ï¼Œåˆ™æ“ä½œç³»ç»Ÿä¼šå¯»æ‰¾ç”¨äºè·¯ç”±ä¸­æ–­çš„MPtableï¼ˆ_MP_ï¼‰è¡¨ï¼š <br><br><ul><li> æ“ä½œç³»ç»Ÿæ‰¾ä¸åˆ°/ä¸æŸ¥çœ‹ACPIè¡¨ </li><li> æ“ä½œç³»ç»Ÿå‘ç°MPtableï¼ˆ_MP_ï¼‰ </li></ul><br> å¦‚æœç¼ºå°‘ACPIè¡¨æˆ–ä½¿ç”¨<b>acpi = noirq</b>æˆ–<b>pci = noacpié€‰é¡¹</b>ç¦ç”¨äº†é€šè¿‡ACPIçš„ä¸­æ–­è·¯ç”±åŠŸèƒ½ï¼ˆæˆ–è€…ä½¿ç”¨<b>acpi = off</b>å®Œå…¨å…³é—­äº†<b>ACPI</b> ï¼‰ï¼Œå¹¶ä¸”ç¼ºå°‘MPtableï¼ˆ_MP_ï¼‰è¡¨ï¼ˆæˆ–è€…é€šè¿‡äº†<b>noapic</b>æˆ–<b>nolapic</b>å¼•å¯¼é€‰é¡¹ï¼‰ï¼š <br><br><ul><li> æ“ä½œç³»ç»Ÿæ‰¾ä¸åˆ°/è¯·å‚é˜…ACPIè¡¨ </li><li> æ“ä½œç³»ç»Ÿæ‰¾ä¸åˆ°/ä¸æŸ¥çœ‹è¡¨MPtableï¼ˆ_MP_ï¼‰ </li><li> æ“ä½œç³»ç»Ÿæ‰¾åˆ°$ PIRè¡¨ </li></ul><br> å¦‚æœæ²¡æœ‰$ PIRè¡¨ï¼Œæˆ–è€…å®ƒä¸å®Œæ•´ï¼Œåˆ™æ“ä½œç³»ç»ŸçŒœæµ‹ä¸­æ–­å°†æŸ¥çœ‹PCIè®¾å¤‡é…ç½®ç©ºé—´ä¸­å¯„å­˜å™¨0x3C / 0x3Dçš„å€¼ã€‚ <br><br> æˆ‘ä»¬ç”¨ä»¥ä¸‹å›¾ç‰‡æ€»ç»“ä»¥ä¸Šæ‰€æœ‰å†…å®¹ï¼š <br><br><img src="https://habrastorage.org/webt/rj/9s/mk/rj9smkhk7c_ou_fzskxasgeriw8.png"><br><br> åº”å½“è®°ä½ï¼Œå¹¶éæ¯ä¸ªBIOSéƒ½æä¾›å…¨éƒ¨3ä¸ªè¡¨ï¼ˆACPI / MPtable / $ PIRï¼‰ï¼Œå› æ­¤å¦‚æœå°†é€‰é¡¹ä¼ é€’ç»™åŠ è½½ç¨‹åºä»¥æ‹’ç»ä½¿ç”¨ACPIæˆ–ACPIå’ŒMPtableè¿›è¡Œè·¯ç”±ä¸­æ–­ï¼Œåˆ™è¿œç¦»ç³»ç»Ÿå°†å¯åŠ¨çš„äº‹å®ã€‚ <br><br>  <b>æ³¨æ„1</b> ï¼šå¦‚æœæˆ‘ä»¬å°è¯•ä½¿ç”¨acpi = noirqé€‰é¡¹åœ¨APICæ¨¡å¼ä¸‹å¼•å¯¼å¹¶ä¸”ä¸å­˜åœ¨MPtableï¼Œåˆ™ä¸­æ–­çš„ç”»é¢å°†ä¸ä»…ä½¿ç”¨noapicé€‰é¡¹çš„æ­£å¸¸å¼•å¯¼æƒ…å†µç›¸åŒã€‚ æ“ä½œç³»ç»Ÿæœ¬èº«å°†è¿›å…¥PICä¸­æ–­æ¨¡å¼ã€‚ <br> å¦‚æœæˆ‘ä»¬å°è¯•åœ¨å®Œå…¨ä¸ä½¿ç”¨ACPIè¡¨çš„æƒ…å†µä¸‹å¯åŠ¨ï¼ˆacpi = offï¼‰ï¼Œå¹¶ä¸”ä¸æä¾›MPtableï¼Œåˆ™å›¾ç‰‡å°†å¦‚ä¸‹æ‰€ç¤ºï¼š <br><pre> <code class="bash hljs"> CPU0 0: 6 XT-PIC-XT-PIC timer 1: 2 XT-PIC-XT-PIC i8042 2: 0 XT-PIC-XT-PIC cascade 8: 0 XT-PIC-XT-PIC rtc0 12: 373 XT-PIC-XT-PIC ehci_hcd:usb1 16: 0 PCI-MSI-edge PCIe PME 17: 0 PCI-MSI-edge PCIe PME 18: 0 PCI-MSI-edge PCIe PME 19: 0 PCI-MSI-edge PCIe PME 20: 0 PCI-MSI-edge PCIe PME 21: 0 PCI-MSI-edge PCIe PME 22: 8728 PCI-MSI-edge ahci 23: 1 PCI-MSI-edge eth59 24: 1301 PCI-MSI-edge eth59-rx-0 25: 113 PCI-MSI-edge eth59-tx-0 26: 0 PCI-MSI-edge eth58 27: 45 PCI-MSI-edge eth58-rx-0 28: 45 PCI-MSI-edge eth58-tx-0 29: 1280 PCI-MSI-edge snd_hda_intel NMI: 2 Non-maskable interrupts LOC: 24076 Local timer interrupts SPU: 0 Spurious interrupts PMI: 2 Performance monitoring interrupts IWI: 2856 IRQ work interrupts RTR: 0 APIC ICR <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> retries RES: 0 Rescheduling interrupts CAL: 0 Function call interrupts TLB: 0 TLB shootdowns TRM: 34 Thermal event interrupts THR: 0 Threshold APIC interrupts MCE: 0 Machine check exceptions MCP: 2 Machine check polls ERR: 0 MIS: 0</code> </pre><br> å‘ç”Ÿè¿™ç§æƒ…å†µçš„åŸå› æ˜¯ï¼Œå¦‚æœæ²¡æœ‰MADTè¡¨ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¤šä¸ªAPICæè¿°è¡¨</a> ï¼‰çš„ACPIå’ŒMPtableçš„å¿…è¦ä¿¡æ¯ï¼Œæ“ä½œç³»ç»Ÿå°†ä¸çŸ¥é“å…¶ä»–å¤„ç†å™¨çš„APICæ ‡è¯†ç¬¦ï¼ˆAPIC IDï¼‰å¹¶ä¸”æ— æ³•ä¸å®ƒä»¬ä¸€èµ·ä½¿ç”¨ï¼Œä½†æ˜¯ä¸»å¤„ç†å™¨çš„LAPICå¯ä»¥å·¥ä½œã€‚å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ç¦æ­¢è¿™æ ·åšï¼Œæ‰€ä»¥MSIä¸­æ–­å¯èƒ½ä¼šå‘ç”Ÿã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå°†æ˜¯è¿™æ ·çš„ï¼š <br><br><img src="https://habrastorage.org/webt/b-/pz/hx/b-pzhxxyugr5iv203wysxfs7-mo.png"><br><br>  <b>æ³¨2</b> ï¼šé€šå¸¸ï¼Œåœ¨ä½¿ç”¨APIâ€‹â€‹Cçš„æƒ…å†µä¸‹ä½¿ç”¨ACPIæ—¶çš„ä¸­æ–­è·¯ç”±ä¸é€šè¿‡MPtableè¿›è¡Œçš„ä¸­æ–­è·¯ç”±ç›¸åŒã€‚ åœ¨PICæƒ…å†µä¸‹ï¼ŒACPIä¸­æ–­è·¯ç”±ä¸é€šè¿‡$ PIRè¿›è¡Œçš„ä¸­æ–­è·¯ç”±ç›¸åŒã€‚ å› æ­¤ï¼Œ/ proc / interruptsçš„ç»“è®ºä¸åº”æœ‰æ‰€ä¸åŒã€‚ ä½†æ˜¯ï¼Œåœ¨ç ”ç©¶è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ³¨æ„åˆ°äº†ä¸€ä¸ªå¥‡æ€ªä¹‹å¤„ã€‚ é€šè¿‡MPtableè¿›è¡Œè·¯ç”±æ—¶ï¼Œç”±äºæŸç§åŸå› ï¼Œè¾“å‡ºåŒ…å«çº§è”ä¸­æ–­â€œ XT-PIC-XT-PICçº§è”â€ã€‚ <br><br><pre> <code class="bash hljs"> CPU0 CPU1 CPU2 CPU3 0: 15 0 0 0 IO-APIC-edge timer 1: 2 0 0 0 IO-APIC-edge i8042 2: 0 0 0 0 XT-PIC-XT-PIC cascade 8: 0 1 0 0 IO-APIC-edge rtc0 9: 0 0 0 0 IO-APIC-edge acpi ...</code> </pre><br> å‘ç”Ÿè¿™ç§æƒ…å†µæœ‰ç‚¹å¥‡æ€ªï¼Œä½†æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å†…æ ¸æ–‡æ¡£</a>ä¼¼ä¹è¯´è¿™å¾ˆæ­£å¸¸ã€‚ <br><br><h3> ç»“è®ºï¼š </h3><br> æ€»ä¹‹ï¼Œæˆ‘ä»¬å†æ¬¡è¡¨ç¤ºå·²è§£æçš„é€‰é¡¹ã€‚ <br><br> ä¸­æ–­æ§åˆ¶å™¨é€‰æ‹©é€‰é¡¹ï¼š <br><br><ul><li>  <b>pci = nomsi-</b>æ ¹æ®ä½¿ç”¨çš„ä¸­æ–­æ§åˆ¶å™¨ï¼ŒMSIä¸­æ–­å°†å˜ä¸ºIO-APIC / XT-PIC </li><li>  <b>noapic-</b>ç¦ç”¨I / O APICã€‚  MSIä¸­æ–­ä»ç„¶å¯ä»¥åˆ°è¾¾æ‰€æœ‰CPUï¼Œæ¥è‡ªè®¾å¤‡çš„å…¶ä»–ä¸­æ–­åªèƒ½åˆ°è¾¾PICï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºCPU0ã€‚ ä½†æ˜¯LAPICå¯ä»¥å·¥ä½œï¼Œå…¶ä»–CPUå¯ä»¥å·¥ä½œå¹¶å¤„ç†ä¸­æ–­ </li><li>  <b>noapic pci = nomsi-</b>æ¥è‡ªè®¾å¤‡çš„æ‰€æœ‰ä¸­æ–­åªèƒ½å‘é€åˆ°PICï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºCPU0ã€‚ ä½†æ˜¯LAPICå¯ä»¥å·¥ä½œï¼Œå…¶ä»–CPUå¯ä»¥å·¥ä½œå¹¶å¤„ç†ä¸­æ–­ </li><li>  nolapic-ç¦ç”¨LAPICã€‚ æ²¡æœ‰LAPICï¼ŒMSIä¸­æ–­å°†æ— æ³•å·¥ä½œï¼›æ²¡æœ‰LAPICï¼ŒI / O APICå°†æ— æ³•å·¥ä½œã€‚ æ¥è‡ªè®¾å¤‡çš„æ‰€æœ‰ä¸­æ–­éƒ½å°†å‘é€åˆ°PICï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºCPU0ã€‚ å¦‚æœæ²¡æœ‰LAPICï¼ŒCPUçš„å…¶ä½™éƒ¨åˆ†å°†æ— æ³•å·¥ä½œã€‚ </li></ul><br> é€‰æ‹©ä¸­æ–­è·¯ç”±ä¼˜å…ˆçº§è¡¨çš„é€‰é¡¹ï¼š <br><br><ul><li>  <b>æ²¡æœ‰é€‰é¡¹</b> -ä½¿ç”¨ACPIè¡¨é€šè¿‡APICè¿›è¡Œè·¯ç”± </li><li>  <b>noapic-</b>ä½¿ç”¨ACPIè¡¨é€šè¿‡PICè¿›è¡Œè·¯ç”± </li><li>  <b>acpi = noirq</b> ï¼ˆ <b>pci = noacpi</b> / <b>acpi = off</b> ï¼‰-ä½¿ç”¨MPtableé€šè¿‡APICè¿›è¡Œè·¯ç”± </li><li>  <b>acpi = noirq</b> ï¼ˆ <b>pci = noacpi</b> / <b>acpi = off</b> ï¼‰ <b>noapic</b> ï¼ˆ <b>nolapic</b> ï¼‰-ä½¿ç”¨$ PIRè¡¨é€šè¿‡PICè¿›è¡Œè·¯ç”± </li></ul><br> åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°corebootå¦‚ä½•é…ç½®èŠ¯ç‰‡ç»„ä»¥è·¯ç”±ä¸­æ–­ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN431372/">https://habr.com/ru/post/zh-CN431372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN431350/index.html">è´åŠ å°”æ¹–ç”µå­å¤„ç†å™¨å‘å±•è®¡åˆ’</a></li>
<li><a href="../zh-CN431354/index.html">ç¬¬ä¸€ä¸ªæœºå™¨å­¦ä¹ è§†é¢‘ç¼–è§£ç å™¨å¤§å¤§è¶…è¿‡äº†æ‰€æœ‰ç°æœ‰ç¼–è§£ç å™¨ï¼ŒåŒ…æ‹¬H.265å’ŒVP9</a></li>
<li><a href="../zh-CN431360/index.html">åœ¨äº‹ä»¶æµä¸­è§£é‡Šåé—¨</a></li>
<li><a href="../zh-CN431362/index.html">è®¾è®¡å¸ˆå¦‚ä½•æ‘†è„±æ—¥å¸¸å·¥ä½œå¹¶ä¿æŒå¯¹å·¥ä½œçš„å…´è¶£ï¼Ÿ</a></li>
<li><a href="../zh-CN431370/index.html">è¥¿éƒ¨è’é‡ä¸­æœ€å¿«çš„æŠ¥é“ã€‚ è¿˜æœ‰ä¸€äº›é”™è¯¯...</a></li>
<li><a href="../zh-CN431374/index.html">æœ€ååˆ¤æ–­ï¼šåˆ†ææ—©æœŸä½¿ç”¨ä¸­æ¸¸æˆçš„è´¢åŠ¡æŒ‡æ ‡</a></li>
<li><a href="../zh-CN431376/index.html">è¡€è…¥ä¼ä¸šä¸­çš„æ•°æ®è¿ç§»ï¼šè¦åˆ†æä»€ä¹ˆï¼Œä»¥å…ä½¿é¡¹ç›®ä¸å ªé‡è´Ÿ</a></li>
<li><a href="../zh-CN431378/index.html">å…³äºRTOSçš„å…¨éƒ¨çœŸç›¸ã€‚ ç¬¬23æ¡ é˜Ÿåˆ—ï¼šç®€ä»‹å’ŒåŸºæœ¬æœåŠ¡</a></li>
<li><a href="../zh-CN431380/index.html">Mitap Netologiyaå’ŒSkyengè°ˆè½¯æŠ€èƒ½â€œå¼€å‘äººå‘˜é™¤äº†ä»£ç éœ€è¦çŸ¥é“çš„ä¸œè¥¿â€</a></li>
<li><a href="../zh-CN431382/index.html">JVMç”Ÿæ€ç³»ç»Ÿè°ƒæŸ¥ç»“æœ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>