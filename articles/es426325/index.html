<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßñüèΩ üí¶ üë∂üèΩ Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 12: Seguridad de red, Parte 1 üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ü¶é üßúüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 12: Seguridad de red, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426325/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 10: ‚ÄúEjecuci√≥n simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 11: "Ur / Lenguaje de programaci√≥n web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 12: Seguridad de red <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Hoy hablaremos sobre la seguridad de la red, en particular, discutiremos un art√≠culo de Stephen Bellovin titulado "Una mirada retrospectiva a" Problemas de seguridad en el conjunto de protocolos TCP / IP "".  Este tipo sol√≠a trabajar para AT&amp;T, y ahora trabaja en Colombia.  Lo interesante de este trabajo es que es relativamente antiguo: tiene m√°s de 10 a√±os y, de hecho, estos son comentarios sobre un art√≠culo que sali√≥ una d√©cada antes en 1989. <br><br>  Muchos de ustedes preguntan por qu√© estudiamos esto si muchos de los problemas descritos all√≠ se resolvieron en las versiones actuales del protocolo TCP. <br><br><img src="https://habrastorage.org/webt/bh/t4/ys/bht4ys9zt413cyjbic0nv5qazbm.jpeg"><br><br>  Es cierto que algunos de los problemas descritos por Stephen ya se han resuelto, y algunos de ellos siguen siendo problemas.  Con esto en mente, los clasificaremos y veremos qu√© sucede.  Quiz√°s se pregunte por qu√© la gente no resolvi√≥ todos estos problemas al dise√±ar TCP.  ¬øQu√© estaban pensando? <br><br>  Y esto en realidad no est√° claro.  Que piensas  ¬øPor qu√© el protocolo TCP no ten√≠a la seguridad necesaria, considerando todas estas consideraciones?  Alguna sugerencia? <br><br>  <b>Estudiante:</b> En ese momento, Internet era un lugar mucho m√°s cr√©dulo. <br><br>  <b>Profesor:</b> s√≠, fue literalmente una cita del art√≠culo de este tipo.  S√≠, en ese momento en general ... creo que se desarroll√≥ un conjunto de protocolos de Internet hace unos 40 a√±os.  Los requisitos eran completamente diferentes.  Solo era necesario conectar un grupo de sitios relativamente cr√©dulos que se conoc√≠an por su nombre a una red com√∫n. <br><br>  Creo que esto sucede a menudo en cualquier sistema que tenga √©xito: necesita cambios.  Sol√≠a ‚Äã‚Äãser un protocolo para un peque√±o n√∫mero de sitios, ahora este protocolo cubre todo el mundo.  Y ya no se sabe por el nombre de todas las personas conectadas a Internet.  No puedes llamarlos si hacen algo malo, y as√≠ sucesivamente. <br><br>  Por lo tanto, creo que esta historia es la misma para muchos de los protocolos que estamos considerando.  Y muchos de ustedes est√°n haciendo una pregunta como, "¬øqu√© demonios estaban pensando estos tipos?  ¬°Esto es tan imperfecto!  Pero en realidad, dise√±aron un sistema completamente diferente, simplemente lo adaptaron a las necesidades modernas. <br><br>  Lo mismo, e Internet, como vimos en las √∫ltimas semanas, fue dise√±ado para un prop√≥sito completamente diferente.  Pero se expandi√≥ y ten√≠amos nuevas preocupaciones sobre c√≥mo adaptar este protocolo a los requisitos modernos. <br><br>  Hay otra cosa que sucedi√≥ un poco de repente, que la gente tuvo que sobrestimar la gravedad del problema de seguridad.  Sol√≠a ‚Äã‚Äãser que realmente no entend√≠as todas las cosas por las que deb√≠as preocuparte, porque no sab√≠as lo que el atacante pod√≠a hacer con tu sistema. <br><br><img src="https://habrastorage.org/webt/03/-2/9h/03-29hpygp5xdgbhevallbavu8s.jpeg"><br><br>  Creo que, en parte, por esta raz√≥n, ser√° interesante ver qu√© sucedi√≥ con la seguridad de TCP, qu√© sali√≥ mal, c√≥mo podemos solucionarlo, etc.  Como resultado, debemos descubrir qu√© tipos de problemas deben evitarse al desarrollar nuestros propios protocolos, as√≠ como qu√© constituye un pensamiento adecuado sobre ataques de este tipo.  ¬øC√≥mo sabes lo que un atacante es capaz de hacer en tu propio protocolo cuando lo est√°s desarrollando para evitar tales dificultades? <br><br>  Bien, dejemos a un lado el pre√°mbulo y hablemos sobre este art√≠culo. <br><br>  Entonces, ¬øc√≥mo debemos pensar en la seguridad de la red?  Creo que podr√≠amos comenzar con el primer principio e intentar descubrir cu√°l es nuestro modelo de amenaza.  Entonces, ¬øqu√© puede hacer un atacante en nuestra red? <br><br>  Probablemente tenga la capacidad de interceptar paquetes, y tal vez pueda modificarlos.  Por lo tanto, si est√° enviando un paquete a trav√©s de la red, es aconsejable suponer que alg√∫n tipo malo ver√° su paquete y podr√° cambiarlo antes de que llegue a su destino.  Tambi√©n puede soltarlo y usar la capacidad de ingresar paquetes personalizados con contenido arbitrario que nunca envi√≥. <br><br><img src="https://habrastorage.org/webt/rm/_a/in/rm_ainrpqlw6awzc2kugqnvtkn8.jpeg"><br><br>  Pero m√°s peligrosa es la posibilidad de que los malos interfieran con sus protocolos descritos en el art√≠culo.  El atacante tiene su propia computadora, que controla por completo.  Incluso si todas las computadoras en las que conf√≠a funcionan correctamente, el malo que tiene su propia computadora puede interferir con su protocolo o sistema. <br><br>  Por lo tanto, si tiene un protocolo de enrutamiento que incluye a muchas personas hablando entre s√≠, y un poco de escala probablemente no sea pr√°ctico para mantener a los malos fuera.  Si se est√° ejecutando un protocolo de enrutamiento con 10 participantes, entonces tal vez pueda llamarlos a todos y luego decir: "Bueno, s√≠, muchachos, los conozco a todos". <br><br>  Pero en la escala de Internet hoy en d√≠a es imposible averiguar directamente qui√©nes son los otros miembros de la red que utilizan este protocolo.  Entonces, probablemente, alg√∫n tipo malo va a participar en sus protocolos o sistemas distribuidos.  Por lo tanto, es importante dise√±ar sistemas distribuidos que, sin embargo, puedan hacer algo razonable con esto. <br><br>  Bien, ¬øcu√°les son las implicaciones de todo esto?  Creo que revisaremos la lista.  Interceptar paquetes es generalmente f√°cil de entender, no puede enviar datos importantes a trav√©s de la red si espera que el malo los intercepte, o al menos no los env√≠e en texto plano.  Quiz√°s deber√≠as encriptar tus datos. <br><br><img src="https://habrastorage.org/webt/2_/js/e1/2_jse1lo8kw6tsoaaowxxuh4qf4.jpeg"><br><br>  Parece relativamente f√°cil de entender, aunque a√∫n debe tener esto en cuenta al desarrollar protocolos.  La introducci√≥n o inyecci√≥n de paquetes conduce a una gama m√°s amplia de problemas interesantes, que se analizan en este art√≠culo.  En particular, los atacantes pueden inyectar paquetes que pueden suplantar paquetes de cualquier otro remitente.  Dado que la ruta de transmisi√≥n de datos se basa en el uso de IP, el paquete en s√≠ tiene un encabezado que indica la IP de origen del paquete y la IP de destino.  Sin embargo, nadie verifica que la fuente sea necesariamente correcta.  Actualmente hay algo de filtrado, pero no es perfecto y es dif√≠cil confiar en √©l. <br><br>  Entonces, en una primera aproximaci√≥n, un atacante puede insertar cualquier direcci√≥n IP dentro como fuente y enviarla al destino correcto.  Es interesante descubrir qu√© puede hacer un atacante con la capacidad de enviar paquetes arbitrarios. <br><br>  En las semanas anteriores, analizamos los problemas de desbordamiento del b√∫fer en t√©rminos de seguridad web.  Examinamos c√≥mo un atacante puede usar un error de implementaci√≥n, como desbordamientos de b√∫fer.  Curiosamente, el autor de este art√≠culo no estaba realmente interesado en los errores de implementaci√≥n; est√° m√°s interesado en los errores de protocolo. <br><br>  Entonces, ¬øqu√© tiene de especial esto?  ¬øPor qu√© no prest√≥ atenci√≥n a los errores de implementaci√≥n, aunque pasamos varias semanas para examinarlos?  Por qu√© importa <br><br>  <b>Estudiante:</b> porque debemos descartar estos errores al escribir el protocolo. <br><br>  <b>Profesor:</b> s√≠, esto es realmente un gran fracaso debido a un error en el dise√±o del protocolo porque es dif√≠cil de cambiar.  Entonces, si tiene un error de implementaci√≥n y tiene memcpy o impresi√≥n que no verific√≥ el rango de memoria, no puede notar este error.  Pero si tiene una verificaci√≥n de rango y a√∫n funciona, se pueden evitar los desbordamientos del b√∫fer, por lo que es excelente. <br><br>  Pero si tiene alg√∫n tipo de error en la especificaci√≥n del protocolo, en c√≥mo deber√≠a funcionar el protocolo, entonces corregir dicho error requerir√° corregir todo el protocolo, lo que significa un impacto potencial en todos los sistemas que hablan este protocolo.  Entonces, si encontramos alg√∫n tipo de problema en el protocolo TCP, potencialmente ser√° bastante destructivo.  Debido a que cada m√°quina que use TCP tendr√° que hacer cambios, ya que es potencialmente muy dif√≠cil hacer que un protocolo modificado sea compatible con la m√°quina anterior. <br><br>  Los errores del protocolo TCP por los que Stephen estaba tan preocupado eran fundamentales, por lo que decidi√≥ hablar sobre ellos.  En el primer ejemplo, observa c√≥mo funcionan los n√∫meros TCP SN. <br><br>  <b>Estudiante:</b> esto est√° un poco fuera de tema, pero tengo curiosidad.  Supongamos que encuentra un error en TCP.  ¬øC√≥mo le haces cambios?  ¬øC√≥mo le dices a todas las computadoras en el mundo que esto necesita ser cambiado? <br><br>  <b>Profesor</b> : s√≠, creo que este es un gran problema.  ¬øQu√© hacer si encuentra un error en TCP?  Bueno, no est√° claro qu√© hacer.  Creo que el autor aqu√≠ est√° luchando con esto.  Si pudiera redise√±ar TCP, muchos de estos errores son relativamente f√°ciles de solucionar si sabe de antemano qu√© buscar. <br><br>  Pero dado que el TCP es bastante dif√≠cil de arreglar o cambiar, en √∫ltima instancia sucede lo siguiente: los desarrolladores intentan encontrar configuraciones compatibles con versiones anteriores que permitan usar las implementaciones antiguas junto con la nueva implementaci√≥n, o agregue alg√∫n campo adicional que haga que la conexi√≥n sea algo m√°s segura. <br><br><img src="https://habrastorage.org/webt/e4/xr/si/e4xrsiti_bwr-40vt_fctjvkgxu.jpeg"><br><br>  Pero este es un gran problema.  Si se trata de alg√∫n tipo de problema de seguridad profundamente arraigado en TCP, se convertir√° en un gran problema para todos, porque es muy dif√≠cil incluso simplemente cambiar a la versi√≥n TCP, supongamos que n m√°s 1. <br><br>  IPv6 puede verse como un ejemplo de que esto no sucede, y sabemos que este problema surgir√° durante otros 15 o 20 a√±os.  IPv6 ha existido por m√°s de 10 a√±os, pero es dif√≠cil convencer a las personas de que se alejen de IPv4.  IPv4 es suficiente para ellos, parece funcionar, y piensan que cambiar a un nuevo protocolo de Internet ser√° demasiado costoso.  Dicen: "ya nadie habla IPv6, entonces, ¬øpor qu√© deber√≠a comenzar a hablar sobre este extra√±o protocolo con el que no hay nadie con quien hablar?"  En cualquier caso, este es un tipo de movimiento hacia adelante, pero creo que tomar√° mucho tiempo.  Realmente habr√° alguna motivaci√≥n para la migraci√≥n, y la compatibilidad con versiones anteriores en este caso ayuda mucho. <br><br>  IPv6 tiene muchas opciones de compatibilidad con versiones anteriores, por ejemplo, puede hablar con un host IPv4 usando IPv6.  Por lo tanto, los desarrolladores est√°n tratando de dise√±ar todo este soporte, pero a√∫n es dif√≠cil convencer a las personas para que actualicen. <br><br>  Entonces, considerando los n√∫meros de secuencia TCP, vamos a considerar dos problemas relacionados con el funcionamiento del protocolo de enlace TCP.  As√≠ que pasemos un tiempo mirando c√≥mo se establece inicialmente una conexi√≥n TCP. <br><br>  Se env√≠an tres paquetes para establecer una nueva conexi√≥n TCP.  Nuestro cliente genera un paquete para conectarse al servidor, que dice que aqu√≠ est√° la direcci√≥n IP de mi cliente, la env√≠o al servidor.  Al mismo tiempo, hay una estructura de encabezado de paquete que consta de diferentes √°reas, pero nos interesar√° el √°rea del n√∫mero de serie.  Aqu√≠ tendremos el indicador SYN que dice: "Quiero sincronizar el estado y establecer una nueva conexi√≥n", e incluye el n√∫mero de serie del cliente SNc. <br><br><img src="https://habrastorage.org/webt/wx/2j/cd/wx2jcdmpjnfrv0tmgwbzpttsiwg.jpeg"><br><br>  Luego, cuando el servidor recibe este paquete, dice: "el cliente quiere conectarse conmigo, por lo que enviar√© el paquete de regreso a esta direcci√≥n, sin importar qui√©n diga que est√° tratando de contactarme".  Por lo tanto, el servidor enviar√° el paquete al cliente, donde incluye su propio n√∫mero de secuencia de sincronizaci√≥n del servidor SN y el n√∫mero de confirmaci√≥n del cliente ACK (SNc).  Finalmente, en el tercer paquete, el cliente responde al servidor, confirmando la sincronizaci√≥n y enviando el n√∫mero de confirmaci√≥n (SN) del servidor ACK del servidor al servidor.  Ahora el cliente puede comenzar a enviar datos. <br><br>  Por lo tanto, para enviar datos, al comienzo de la conexi√≥n, el cliente debe incluir algunos datos en el paquete y adjuntar el n√∫mero de serie del cliente SNc para indicar que en realidad se trata de datos leg√≠timos del cliente.  Se√±ala, por ejemplo, que no se trata de algunos datos de mensajes posteriores que acaban de llegar ahora, porque el servidor perdi√≥ algunas de las partes iniciales de los datos. <br><br><img src="https://habrastorage.org/webt/to/7d/hq/to7dhq2naolp3cxf_t9marythpe.jpeg"><br><br>  Por lo tanto, como regla, todos estos n√∫meros de serie est√°n dise√±ados para proporcionar la entrega de paquetes.  Si el cliente transmite dos paquetes, el que tiene el n√∫mero de secuencia inicial es el primer dato, el siguiente n√∫mero de secuencia es el siguiente dato.  Tambi√©n es √∫til para proporcionar algunos requisitos de seguridad. <br><br>  Antes de eso, di un ejemplo de que estos requisitos est√°n cambiando.  Por lo tanto, inicialmente nadie pens√≥ que TCP deber√≠a proporcionar ninguna caracter√≠stica de seguridad.  Pero entonces el TCP comenz√≥ a usar aplicaciones, y parec√≠an confiar en estas conexiones TCP, creyendo que ning√∫n atacante podr√≠a romperlas o que el atacante no pod√≠a inyectar datos maliciosos en la conexi√≥n TCP existente.  Como si de repente este mecanismo, que originalmente estaba destinado solo a ordenar paquetes, comenzara a garantizar cierta apariencia de seguridad para estas conexiones. <br><br>  Por lo tanto, en este caso, supongo que el problema est√° relacionado con lo que el servidor podr√≠a haber sugerido con respecto a esta conexi√≥n TCP.  Por lo general, el servidor asume, impl√≠citamente, como puede imaginar, que esta conexi√≥n se establece con el cliente deseado en esta direcci√≥n IP C, y es natural que lo piense.  Pero, ¬øhay alguna raz√≥n para tal suposici√≥n?  Si el servidor recibe un mensaje con algunos datos sobre esta conexi√≥n cliente-servidor y tiene un n√∫mero de secuencia C, ¬øpor qu√© el servidor concluye que el cliente real envi√≥ estos datos? <br><br>  <b>Estudiante:</b> porque el n√∫mero de serie es dif√≠cil de adivinar. <br>  <b>Profesor:</b> correcto, entonces esto es una especie de cosa impl√≠cita, lo que implica que debe haber un n√∫mero de secuencia SNc correcto.  Y para que se establezca esta conexi√≥n, el cliente debe tener un n√∫mero de serie del servidor SN confirmado, y el servidor env√≠a el n√∫mero de serie del servidor solo a la direcci√≥n IP del cliente. <br><br>  <b>Estudiante:</b> ¬øcu√°ntos bits hay disponibles para el n√∫mero de secuencia? <br><br>  <b>Profesor:</b> el n√∫mero de secuencia TCP tiene 32 bits de largo, y aunque este no es un n√∫mero aleatorio, no es f√°cil de adivinar, tomar√≠a mucho ancho de banda. <br><br>  <b>Estudiante: ¬øel</b> n√∫mero de serie es m√°s alto que el n√∫mero de serie inicial? <br><br>  <b>Profesor:</b> s√≠, en principio, estas cosas est√°n aumentando.  Por lo tanto, cada vez que env√≠a SYN, se considera 1 byte m√°s que su n√∫mero de secuencia.  Es decir, si en la primera l√≠nea tuvimos el argumento (SNc), en la cuarta ya habr√° (SNc + 1), y luego la numeraci√≥n contin√∫a desde aqu√≠.  Por lo tanto, si transfiere 5 bytes, el siguiente ser√° el valor (SNc) +6.  Simplemente cuenta los bytes que env√≠a, con cada SYN contando 1 byte.  La especificaci√≥n TCP recomienda elegir estos n√∫meros de serie para que su incremento ocurra a una velocidad aproximadamente fija.  Los documentos de trabajo iniciales del protocolo RFC sugirieron que aumente estas cosas en aproximadamente 250,000 unidades m√°s 250,000 por segundo. <br><br><img src="https://habrastorage.org/webt/xk/yv/ve/xkyvvejv9v8b1kgj2p3lo51qb9s.jpeg"><br><br>  La raz√≥n por la que esto no fue completamente aleatorio es porque estos n√∫meros de secuencia se usan realmente para evitar que los paquetes no intervengan o para mezclar paquetes de conexiones anteriores con conexiones nuevas.  Cada vez que establece una nueva conexi√≥n, elige un n√∫mero de serie completamente aleatorio.  Al mismo tiempo, existe la posibilidad de que si instala una serie de conexiones una y otra vez, un paquete de la conexi√≥n anterior tendr√° un n√∫mero de secuencia que es bastante similar al n√∫mero de secuencia de su nueva conexi√≥n y, por lo tanto, el servidor lo aceptar√° como una parte v√°lida de los datos para la nueva conexi√≥n. <br><br>  Entonces, esto es lo que los desarrolladores de TCP estaban muy preocupados: estos paquetes desordenados o paquetes retrasados.  Como resultado, realmente quer√≠an que estos n√∫meros de secuencia fueran una secuencia de tiempo bastante mon√≥tona incluso entre compuestos. <br><br>  Si abro una conexi√≥n, puede tener el mismo origen y destino, n√∫meros de puerto, direcciones IP, etc.  Pero desde que establec√≠ esta conexi√≥n ahora, y no antes, los paquetes de mensajes enviados anteriormente, espero, no coincidir√°n con los n√∫meros de secuencia que tengo para mi nueva conexi√≥n.  Entonces este fue un mecanismo para evitar la confusi√≥n entre conexiones repetitivas. <br><br>  <b>Estudiante:</b> si no sabe exactamente cu√°l ser√° el paso de la secuencia del paquete, ¬øc√≥mo sabe que el paquete que recibe es el siguiente y no forma parte del anterior que usted ... <br><br>  <b>Profesor:</b> Como regla, recuerdas el √∫ltimo paquete recibido.  Y el siguiente n√∫mero de secuencia es exactamente el siguiente paquete de la secuencia.  Entonces, por ejemplo, el servidor sabe que vi exactamente una parte de los datos de la fecha (SNc +1), luego el siguiente ser√° el paquete SYN (SNc +1), porque el paquete anterior al comienzo de la conexi√≥n era SYN (SNc). <br><br>  <b>Estudiante:</b> entonces, usted dice que cuando establece el n√∫mero de serie, incluso despu√©s de eso, usted ... <br><br>  <b>Profesor:</b> bueno, por supuesto, estos n√∫meros de serie, inicialmente, cuando los instala, se seleccionan de acuerdo con alg√∫n plan.  Hablaremos sobre este plan.  Puede pensar que son aleatorios, pero con el tiempo deber√≠an representar una secuencia secuencial de cambios en los n√∫meros de secuencia iniciales para la conexi√≥n. <br><br>  Pero dentro de una conexi√≥n, todo termina tan pronto como se establece: los n√∫meros de serie son fijos.  Y solo marcan esta conexi√≥n a medida que se env√≠an datos a trav√©s de ella. <br><br>  Hab√≠a planes que suger√≠an administrar estos n√∫meros de serie.           ,   .  ,    ,       ,         . <br><br> , -            ,       250000.   ,    ,     ,   64k  128k,    .      ,     ‚Äì         ,    SYN . <br><br>     ,      64  .  ,        . <br><br>    ,   . ,   ,     ,     ,      IP-. <br>     ,      ,  ,          ,       ,   .        ,         ,       . <br><br> ,   ?     ,   ,    ,    ‚Äî             SNc.  ,     ,   -  ,     ,     ,          . <br><br>   ,       .           ACK (SNs). <br><br>  -   . <br><br><img src="https://habrastorage.org/webt/gx/0y/mb/gx0ymbpnfgd2i3bkkifqb_m79fy.jpeg"><br><br>   SNs   ,     ,     ,        IP- C. <br><br>        ,   .    ,    :   ,       ,      ,      data (SNc +1). <br><br><img src="https://habrastorage.org/webt/gb/qz/n4/gbqzn4arqziwsvwrl7qd8tgrfa0.jpeg"><br><br>             (SNs).  ? <br><br> <b>:</b>   ,       ? <br><br> <b>:</b>   . ,    ,   ,    ,            . ,          ,                  ,   ,          . <br><br> <b>:</b>  ,    ,       ? <br><br> <b>:</b>          .   ,      ? <br><br>    ,    .      ,  ,      32    ,  ,               . <br><br>         ,       . <br><br> <b>:</b>     ,      ,   ,         .      ‚Ä¶ <br><br> <b>:</b> ,    TCP        . <br><br> <b>:</b>         ,        . <br><br> <b>:</b> ,  . <br><br> <b>:</b>    ,     ,       . <br><br> <b>:</b>  ,  ,         ,   .        , , 1000               ,          2  32 . <br><br>     ,  -        ,      ,        .       .      ,       . <br><br><img src="https://habrastorage.org/webt/6s/ad/wk/6sadwkqxxddn9pinshbckbt9ig8.jpeg"><br><br> <b>:</b>    -   , ? <br><br> <b>:</b> ,  .      ,    ,         IP-, ? <br><br> <b>:</b>        ? <br><br> <b>:</b>     ‚Äî    ?          ,     .     ? <br><br> <b>:</b>   ,     ,    , ,   -   . <br><br> <b>:</b> , ,  ,     ,    ,        .       IP-,    TCP     ,  ,      ,     . <br><br>  TCP ,     -  ,    ,    ,     C      RST (SN‚Ä¶), ,    . <br><br><img src="https://habrastorage.org/webt/nu/iw/rs/nuiwrs35wrv-fhi6xcvwf7vowp8.jpeg"><br><br> - ,      ,   C            ,    . <br><br> ,   C   ,        .  ,  S   ,  : ¬´, ,     ,    ¬ª. <br><br>    ,    , ,   ,        ,     C  . <br><br> ,   ¬´¬ª  C   ,        .      ,    ¬´¬ª C   ,       .   ,        TCP. <br><br> <b>:</b> ,      . ,      SYN   ,      . <br><br> <b>:</b>   ,     ,      . ,             , , ,     NAT,     .    , NAT    RST   ,      .  ,  ,     ,    , ,   Comcast            ,  RST   . <br><br> <b>:</b>             ? <br><br> <b>:</b> ,  ,     TCP.     ,     .      ,  ,   ,       .        /,              . <br><br>    ,        data (SNc +1). ,       IP-  , : ¬´    ¬ª,     ,         S. <br><br><img src="https://habrastorage.org/webt/3c/qc/ch/3cqcchz0agrq_msukm3bd2_jlyo.jpeg"><br><br>    SYN (SNs)        (SNs)    ,    .    ‚Äî     ,       IP-,     .    ,   SNS    SNS   . <br><br> 25:50  <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Curso MIT "Seguridad de sistemas inform√°ticos".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> 12: ¬´ ¬ª,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BZTWXl9QNK8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . <br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br> <b>VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps   </b>      ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es426325/">https://habr.com/ru/post/es426325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es426313/index.html">Nuevo Microsoft Learn</a></li>
<li><a href="../es426315/index.html">¬øC√≥mo hacer amigos python con Internet invisible? Los fundamentos del desarrollo de aplicaciones I2P en Python y asyncio</a></li>
<li><a href="../es426317/index.html">1155 vs 2011. Algunas personas mayores van a la batalla</a></li>
<li><a href="../es426319/index.html">Servidor de prueba para el equipo de desarrollo.</a></li>
<li><a href="../es426323/index.html">Un intento de hacer un caso de robot con un presupuesto limitado. Alfombrilla de vidrio y epoxi</a></li>
<li><a href="../es426327/index.html">Novedades de la actualizaci√≥n de Windows 10 de octubre de 2018</a></li>
<li><a href="../es426331/index.html">Vulnerabilidad en PlayStation 4: el conjunto de caracteres en el mensaje para el usuario convierte de forma remota la consola en casi un "ladrillo"</a></li>
<li><a href="../es426333/index.html">Microsoft ha lanzado el c√≥digo MS-DOS 1.25 y 2.0 bajo la licencia MIT</a></li>
<li><a href="../es426335/index.html">"Tecnolog√≠a marciana": por qu√© los centros de datos est√°n cambiando a celdas de combustible</a></li>
<li><a href="../es426339/index.html">25 de octubre de 2018 Reuni√≥n del grupo de usuarios de Atlassian en Raiffeisenbank</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>