<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯПг ЁЯИЪя╕П ЁЯХТ рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рд╕рд░реНрдЪ рд╕реЗ рдХреИрд╕реЗ рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВ ЁЯФЛ ЁЯНн ЁЯЪЯ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрдЬ, рдХрдИ рд▓реЛрдЧ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬрд╝ рдЬрд╛рд╡рд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдХрд░ рд░рд╣реЗ рд╣реИрдВред рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рджреМрд░рд╛рди, рдХрд╛рд░реНрдп рдЕрдХреНрд╕рд░ рднрд┐рдиреНрдирддрд╛ рдХреЗ рдЦреЛрдЬ рдЗрдВрдЬрди рдмрдирд╛рдиреЗ рдХреЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рд╕рд░реНрдЪ рд╕реЗ рдХреИрд╕реЗ рд╢реБрд░реБрдЖрдд рдХрд░реЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rostelecom/blog/428578/"> рдЖрдЬ, рдХрдИ рд▓реЛрдЧ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬрд╝ рдЬрд╛рд╡рд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рджреМрд░рд╛рди, рдХрд╛рд░реНрдп рдЕрдХреНрд╕рд░ рднрд┐рдиреНрдирддрд╛ рдХреЗ рдЦреЛрдЬ рдЗрдВрдЬрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рд╣реЛрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдПрдХ рдРрд╕реА рдкреНрд░рдгрд╛рд▓реА рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдФрд░ рдкреБрд╕реНрддрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреА рд╣реИ, рддреЛ рдЬрд▓реНрджреА рдпрд╛ рдмрд╛рдж рдореЗрдВ рдЗрд╕реЗ рдкреБрд╕реНрддрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдирд╛рдо / рдПрдиреЛрдЯреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо / рдЙрдкрдирд╛рдо рд╕реЗ рдЦреЛрдЬ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред <br><br><img src="https://habrastorage.org/getpro/habr/post_images/748/751/d9b/748751d9be49150a23d86e58cff726ed.png"><br><br>  рдЗрд╕ рдкреЛрд╕реНрдЯ рдореЗрдВ, рдореИрдВ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдЙрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ рдЬреЛ рдРрд╕реА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдФрд░ рдлрд┐рд░ рдореИрдВ рдПрдХ рдЦреЛрдЬ рд╕реЗрд╡рд╛ рдХрд╛ рдПрдХ рдбреЗрдореЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкреЗрд╢ рдХрд░реВрдВрдЧрд╛, рдЬрд╣рд╛рдВ рдПрдХ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рдФрд░ рдЬрдЯрд┐рд▓ рд╕реБрд╡рд┐рдзрд╛ рд▓рд╛рдЧреВ рдХреА рдЧрдИ рд╣реИ - рд╕рдВрд╕реНрдерд╛рдУрдВ, рдбреАрдмреА рдФрд░ рдЦреЛрдЬ рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рдиред  рдЗрд╕ рдбреЗрдореЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдкреВрд░реНрдг-рдкрд╛рда рдЕрдиреБрдХреНрд░рдорд┐рдд рд╕реЛрд▓, рд▓реНрдпреВрд╕рд┐рди, рдЗрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рддрд░реАрдХрд╛ред <br><a name="habracut"></a><br>  рдЦреЛрдЬ рдЗрдВрдЬрдиреЛрдВ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рдФрдЬрд╛рд░реЛрдВ рдореЗрдВ, рдореИрдВ рддреАрди рдХреЛ рдмрд╛рд╣рд░ рдХрд░реВрдВрдЧрд╛ред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реНрдпреВрд╕реАрди</a> рдПрдХ рдЬрд╛рд╡рд╛ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╣реИ рдЬреЛ рдПрдХ рдирд┐рдореНрди-рд╕реНрддрд░реАрдп, рдкреВрд░реНрдг-рдкрд╛рда рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдЕрд╕рдорд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХреА рдорджрдж рд╕реЗ, рдЖрдк рдЕрдиреБрдХреНрд░рдорд┐рдд рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд░рд┐рдХреЙрд░реНрдб (рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ) рд╕реЗ рднрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реНрдпреВрд╕рд┐рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдФрд░ рдкрдврд╝реЗрдВред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЛрд▓</a> рдкрд░рдо рд▓реНрдпреВрд╕рд┐рди-рдЖрдзрд╛рд░рд┐рдд рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЙрддреНрдкрд╛рдж, рдПрдХ рдкреВрд░реНрдг-рдкрд╛рда рдбреЗрдЯрд╛рдмреЗрд╕, рдПрдХ рд╕реНрдЯреИрдВрдб-рдЕрд▓реЛрди рдЕрд▓рдЧ рд╡реЗрдм рд╕рд░реНрд╡рд░ рд╣реИред  рдЗрд╕рдореЗрдВ рдЕрдиреБрдХреНрд░рдордг рдФрд░ рдкреВрд░реНрдг-рдкрд╛рда рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ http-рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реИ, рдпрд╣ рдЖрдкрдХреЛ рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЦреЛрдЬрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд╕реЛрд▓рд░ рдореЗрдВ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдПрдкреАрдЖрдИ рдФрд░ рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдпреВрдЖрдИ рд╣реИ, рдЬреЛ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рдореИрдиреБрдЕрд▓ рд╣реЗрд░рдлреЗрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  Habr├й рдкрд░ Solr рдФрд░ Lucene рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддреБрд▓рдирд╛рддреНрдордХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a> рдерд╛ред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд▓рд╛рд╕реНрдЯрд┐рдХрд╕рд░реНрдЪ рд╕реЛрд▓рд░</a> рдХрд╛ рдПрдХ рдЕрдзрд┐рдХ рдЖрдзреБрдирд┐рдХ рдПрдирд╛рд▓реЙрдЧ рд╣реИред  рдпрд╣ Apache Lucene рдкрд░ рднреА рдЖрдзрд╛рд░рд┐рдд рд╣реИред  Solr рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, ElasticSearch рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рддреЗ рд╕рдордп рдЙрдЪреНрдЪ рднрд╛рд░ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдиреЗрдЯ рдкрд░ рдЖрдк Solr рдФрд░ ElasticSearch рдХреА рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реБрдП рдПрдХ рд╡рд┐рд╕реНрддреГрдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддрд╛рд▓рд┐рдХрд╛</a> рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдпрд╣, рдЬрд╝рд╛рд╣рд┐рд░ рд╣реИ, рдПрдХ рдкреВрд░реА рд╕реВрдЪреА рдирд╣реАрдВ рд╣реИ; рдКрдкрд░, рдореИрдВрдиреЗ рдХреЗрд╡рд▓ рдЙрди рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЛ рдЪреБрдирд╛ рдЬреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИрдВред  рдЦреЛрдЬ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╕рд┐рд╕реНрдЯрдо рд╣реИрдВред  PostgreSQL рдореЗрдВ рдкреВрд░реНрдг-рдкрд╛рда рдЦреЛрдЬ рдХреНрд╖рдорддрд╛рдПрдВ рд╣реИрдВ;  рд╕реНрдлрд┐рдВрдХреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдордд рднреВрд▓рдирд╛ред <br><br><h2>  рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рд╣реИ </h2><br>  рд╣рдо рдореБрдЦреНрдп рдЪреАрдЬ рд╕реЗ рдЧреБрдЬрд░рддреЗ рд╣реИрдВред  рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп / рд╕реБрд╕рдВрдЧрдд рдбреЗрдЯрд╛ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрд░рдбреАрдмреА (рд╕рдВрдмрдВрдзрдкрд░рдХ рдбреЗрдЯрд╛рдмреЗрд╕) рдХрд╛ рдЖрдорддреМрд░ рдкрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ ACID рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд▓реЗрди-рджреЗрди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдЦреЛрдЬ рдЗрдВрдЬрди рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рдВрд╕реНрдерд╛рдУрдВ рдФрд░ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рдЙрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рджреНрд╡рд╛рд░рд╛ рдЦреЛрдЬ рдХреА рдЬрд╛рдПрдЧреАред  рдпрд╣реА рд╣реИ, рдЬрдм рдПрдХ рдирдИ рд╡рд╕реНрддреБ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рддреА рд╣реИ, рддреЛ рдЗрд╕реЗ рд░рд┐рд▓реЗрд╢рдирд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рдкреВрд░реНрдг-рдкрд╛рда рдЗрдВрдбреЗрдХреНрд╕ рджреЛрдиреЛрдВ рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдпрджрд┐ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рднреАрддрд░ рдЗрд╕ рддрд░рд╣ рдХреЗ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рд▓реЗрди-рджреЗрди рдХреА рдкреНрд░рдХреГрддрд┐ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдирд╣реАрдВ рд╣реИ, рддреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдбрд┐рд╕рд┐рдиреНрдХреНрд░рд┐рдиреЗрд╢рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдХрд┐рд╕реА рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ рдирд╣реАрдВ рд╣реИред  рдпрд╛ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд: рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рдПрдХ рд╡рд╕реНрддреБ рд░рд┐рдХреЙрд░реНрдб рд╣реИ, рдФрд░ рдЗрд╕реЗ рдЖрд░рдбреАрдмреА рд╕реЗ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВред  рдЖрдк JTA рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдкреНрд░рд┐рдВрдЧ рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рди рдореИрдиреЗрдЬрдореЗрдВрдЯ</a> рдореИрдХреЗрдирд┐рдЬреНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЯреНрд░рд╛рдВрдЬреЗрдХреНрд╢рдирд▓ рдмрджрд▓рд╛рд╡ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╛ рдЖрдк рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рддрд░реАрдХреЗ рд╕реЗ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ - рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдЬреЛ рдпрд╣ рд╕рдм рдЕрдкрдиреЗ рдЖрдк рд╕реЗ рдХрд░реЗрдЧрд╛ред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд▓реНрдпреВрд╕реАрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдЕрдВрджрд░ рдЗрдВрдбреЗрдХреНрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЗрдВрдбреЗрдХреНрд╕ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЬрдм рд╕рд┐рд╕реНрдЯрдо рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЖрдк рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рд╡рд┐рдзрд┐ startAndWait () рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЬрдм рд╕рд┐рд╕реНрдЯрдо рдЪрд▓ рд░рд╣рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд░рд┐рдХреЙрд░реНрдб RDB рдФрд░ рдЗрдВрдбреЗрдХреНрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред <br><br>  рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рдХреЗ рд╕рд╛рде рдПрдХ рдбреЗрдореЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ред  рд╣рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкрдврд╝рдиреЗ, рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдФрд░ рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрд╡рд╛ рдкрджреНрдзрддрд┐ рдмрдирд╛рдПрдВрдЧреЗред  рдпрд╣ рдкрд╣рд▓реЗ рдирд╛рдо, рдЕрдВрддрд┐рдо рдирд╛рдо рдпрд╛ рдЕрдиреНрдп рдореЗрдЯрд╛-рдбреЗрдЯрд╛ рджреНрд╡рд╛рд░рд╛ рдкреВрд░реНрдг-рдкрд╛рда рдЦреЛрдЬ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЗ рд╕рд╛рде рдПрдХ рдЖрдВрддрд░рд┐рдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдХрд╛ рдЖрдзрд╛рд░ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕рдВрдмрдВрдзрдкрд░рдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдЬрдкрд╛ рдврд╛рдВрдЪреЗ рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдХрд╛рдИ рд╡рд░реНрдЧ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.hibernate.search.annotations.Field <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.hibernate.search.annotations.Indexed <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.Entity <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.Id <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.Table <span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-meta"><span class="hljs-meta">@Table(name = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"users"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-meta"><span class="hljs-meta">@Indexed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span></span>(        <span class="hljs-meta"><span class="hljs-meta">@Id</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> id: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>,        <span class="hljs-meta"><span class="hljs-meta">@Field</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> name: String,        <span class="hljs-meta"><span class="hljs-meta">@Field</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> surname: String,        <span class="hljs-meta"><span class="hljs-meta">@Field</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> phoneNumber: String)</code> </pre> <br>  рд╕рдм рдХреБрдЫ рдорд╛рдирдХ рд╣реИ, рд╣рдо рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдПрдиреЛрдЯреЗрд╢рди рдХреЗ рд╕рд╛рде рдЗрдХрд╛рдИ рдХреЛ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рдЗрдХрд╛рдИ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">, рд╣рдо</a> рдЗрдХрд╛рдИ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рддрд╛рд▓рд┐рдХрд╛</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рд╣рдо</a> рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд▓реЗрдмрд▓ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рдЕрдиреБрдХреНрд░рдорд┐рдд</a> рдПрдиреЛрдЯреЗрд╢рди рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдЗрдХрд╛рдИ рдЕрдиреБрдХреНрд░рдорд┐рдд рд╣реИ рдФрд░ рдПрдХ рдкреВрд░реНрдг-рдкрд╛рда рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рдЖ рдЬрд╛рдПрдЧреАред <br><br>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдкрд░ CRUD рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ JPA рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserRepository</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JpaRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">User, Long</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛, UserService.java: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Service <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.transaction.Transactional <span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-meta"><span class="hljs-meta">@Transactional</span></span> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> userRepository: UserRepository, <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> userSearch: UserSearch) {   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: List&lt;User&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userRepository.findAll()   }   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">search</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: List&lt;User&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userSearch.searchUsers(text)   }   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(user: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">User</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: User {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userRepository.save(user)   } }</code> </pre> <br>  FindAll рдХреЛ рд╕рднреА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рд╕реАрдзреЗ рдорд┐рд▓рддреЗ рд╣реИрдВред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдбреЗрдХреНрд╕ рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦреЛрдЬ рдШрдЯрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦреЛрдЬ рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдШрдЯрдХ: <br><br><pre> <code class="hljs pgsql">@Repository @Transactional <span class="hljs-type"><span class="hljs-type">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> UserSearch(@PersistenceContext val entityManager: EntityManager) {   fun searchUsers(<span class="hljs-type"><span class="hljs-type">text</span></span>: String): List&lt;<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>&gt; {       // fullTextEntityManager,  entityManager       val fullTextEntityManager = org.hibernate.<span class="hljs-keyword"><span class="hljs-keyword">search</span></span>.jpa.<span class="hljs-keyword"><span class="hljs-keyword">Search</span></span>.getFullTextEntityManager(entityManager)       //     Hibernate <span class="hljs-keyword"><span class="hljs-keyword">Search</span></span> query DSL       val queryBuilder = fullTextEntityManager.searchFactory               .buildQueryBuilder().forEntity(<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java).<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()       // ,            val query = queryBuilder               .keyword()               .onFields("name")               .matching(<span class="hljs-type"><span class="hljs-type">text</span></span>)               .createQuery()       // Lucene Query  Hibernate Query <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>       val jpaQuery: FullTextQuery = fullTextEntityManager.createFullTextQuery(query, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java)       //         <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jpaQuery.resultList.map { result -&gt; result <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">User</span></span> }.toList()   } }</code> </pre><br>  рдЕрдиреНрдп рдирд┐рдпрдВрддреНрд░рдХ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рдпрдВрддреНрд░рдгрдХрд░реНрддрд╛: рдЬрд╛рд╡рд╛: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.GetMapping <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.PostMapping <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.RequestBody <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.<span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span>.RestController <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.* <span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserController</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> userService: UserService) {   <span class="hljs-meta"><span class="hljs-meta">@GetMapping(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/users"</span></span></span><span class="hljs-meta">)</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: List&lt;User&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userService.findAll()   }   <span class="hljs-meta"><span class="hljs-meta">@GetMapping(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/users/search"</span></span></span><span class="hljs-meta">)</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">search</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: List&lt;User&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userService.search(text)   }   <span class="hljs-meta"><span class="hljs-meta">@PostMapping(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/users"</span></span></span><span class="hljs-meta">)</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">insertUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-meta"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">@RequestBody</span></span></span></span><span class="hljs-function"><span class="hljs-params"> user: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">User</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: User {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> userService.saveUser(user)   } }</code> </pre> <br>  рд╣рдо рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдирд┐рдХрд╛рд▓рдиреЗ рдФрд░ рд╕реНрдЯреНрд░рд┐рдВрдЧ рджреНрд╡рд╛рд░рд╛ рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЖрд╡реЗрджрди рдХреЗ рдЪрд▓рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╕реВрдЪрдХрд╛рдВрдХ рдХреЛ рдЖрд░рдВрднреАрдХреГрдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рд╣рдо ApplicationListener рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВред <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.rti <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.hibernate.search.jpa.Search <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.context.event.ApplicationReadyEvent <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationListener <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Component <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.EntityManager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.PersistenceContext <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.transaction.Transactional <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-meta"><span class="hljs-meta">@Transactional</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BuildSearchService</span></span></span></span>( <span class="hljs-meta"><span class="hljs-meta">@PersistenceContext</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> entityManager: EntityManager) : ApplicationListener&lt;ApplicationReadyEvent&gt; { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onApplicationEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ApplicationReadyEvent</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> fullTextEntityManager = Search.getFullTextEntityManager(entityManager) fullTextEntityManager.createIndexer().startAndWait() } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e: InterruptedException) { println(<span class="hljs-string"><span class="hljs-string">"An error occurred trying to build the search index: "</span></span> + e.toString()) } } }</code> </pre> <br>  рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд╣рдордиреЗ PostgreSQL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛: <br><br><pre> <code class="java hljs">spring.datasource.url=jdbc:postgresql:users spring.datasource.username=postgres spring.datasource.password=postgres spring.datasource.driver-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span></span>=org.postgresql.Driver spring.datasource.name=users</code> </pre><br>  рдЕрдВрдд рдореЗрдВ, <code>build.gradle</code> : <br><br><pre> <code class="java hljs">buildscript {   ext.kotlin_version = <span class="hljs-string"><span class="hljs-string">'1.2.61'</span></span>   ext.spring_boot_version = <span class="hljs-string"><span class="hljs-string">'1.5.15.RELEASE'</span></span>   repositories {       jcenter()   }   dependencies {       classpath <span class="hljs-string"><span class="hljs-string">"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"</span></span>       classpath <span class="hljs-string"><span class="hljs-string">"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version"</span></span>       classpath <span class="hljs-string"><span class="hljs-string">"org.springframework.boot:spring-boot-gradle-plugin:$spring_boot_version"</span></span>       classpath <span class="hljs-string"><span class="hljs-string">"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version"</span></span>   } } apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">"kotlin-spring"</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">"kotlin-jpa"</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'org.springframework.boot'</span></span> noArg {   invokeInitializers = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> } jar {   baseName = <span class="hljs-string"><span class="hljs-string">'gs-rest-service'</span></span>   version = <span class="hljs-string"><span class="hljs-string">'0.1.0'</span></span> } repositories {   jcenter() } dependencies {   compile <span class="hljs-string"><span class="hljs-string">"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"</span></span>   compile <span class="hljs-string"><span class="hljs-string">'org.springframework.boot:spring-boot-starter-web'</span></span>   compile <span class="hljs-string"><span class="hljs-string">'org.springframework.boot:spring-boot-starter-data-jpa'</span></span>   compile group: <span class="hljs-string"><span class="hljs-string">'postgresql'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'postgresql'</span></span>, version: <span class="hljs-string"><span class="hljs-string">'9.1-901.jdbc4'</span></span>   compile group: <span class="hljs-string"><span class="hljs-string">'org.hibernate'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'hibernate-core'</span></span>, version: <span class="hljs-string"><span class="hljs-string">'5.3.6.Final'</span></span>   compile group: <span class="hljs-string"><span class="hljs-string">'org.hibernate'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'hibernate-search-orm'</span></span>, version: <span class="hljs-string"><span class="hljs-string">'5.10.3.Final'</span></span>   compile group: <span class="hljs-string"><span class="hljs-string">'com.h2database'</span></span>, name: <span class="hljs-string"><span class="hljs-string">'h2'</span></span>, version: <span class="hljs-string"><span class="hljs-string">'1.3.148'</span></span>   testCompile(<span class="hljs-string"><span class="hljs-string">'org.springframework.boot:spring-boot-starter-test'</span></span>) }</code> </pre><br>  рдпрд╣ рдбреЗрдореЛ рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЖрдк рд╕рдордЭ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ рджреЛрд╕реНрддреЛрдВ рдЕрдкрд╛рдЪреЗ рд▓реНрдпреВрд╕рд┐рди рдФрд░ рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдПрдордкреАрдП рдмрдирд╛рдпрд╛ рдЬрд╛рдПред  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЗрд╕ рдбреЗрдореЛ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдкрд░рд┐рдпреЛрдЬрдирд╛рдПрдВ Apache Solr рдпрд╛ ElasticSearch рд╕реЗ рдЬреБрдбрд╝реА рд╣реЛ рд╕рдХрддреА рд╣реИрдВред  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рджрд┐рд╢рд╛ рдмрдбрд╝реЗ рд╕реВрдЪрдХрд╛рдВрдХ (&gt; 10 рдЬреАрдмреА) рдХреА рдЦреЛрдЬ рдХрд░рдирд╛ рдФрд░ рдЙрдирдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдорд╛рдкрдирд╛ рд╣реИред  рдЖрдк рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рдХреА рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХреА рдЧрд╣рди рд╕реНрддрд░ рдкрд░ рдЦреЛрдЬ рдХрд░рдХреЗ ElasticSearch рдпрд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╕реВрдЪрдХрд╛рдВрдХ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рд▓рд┐рдП рд╡рд┐рдиреНрдпрд╛рд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  <b>рдЙрдкрдпреЛрдЧреА рд▓рд┐рдВрдХ:</b> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЬреАрдердм рдкрд░ рд╣реИ</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдЬреЗрдкрд╛ рдХреЗ рд╕рд╛рде рдХреЛрдЯрд▓рд┐рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрдЯрд▓рд┐рди рдФрд░ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдердм рдкрд░ рдХреЛрдЯрд▓рд┐рди рдФрд░ рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдбреЗрдореЛ</a> <br></li><li>  <a href="">рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдЬреЗрдкрд╛ рдФрд░ рдХреЛрдЯрд▓рд┐рди - рдорд╛рд╡реЗрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрдЯрд▓рд┐рди рдХрдореНрдкрд╛рдЗрд▓рд░ рдкреНрд▓рдЧрдЗрдиреНрд╕ - рдЬреЗрдкрд╛ рдФрд░ рд╕реНрдкреНрд░рд┐рдВрдЧ</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдкреНрд░рд┐рдВрдЧ рдмреВрдЯ рдФрд░ рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рдХрд╛ рдПрдХреАрдХрд░рдг</a> (+ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдердм</a> ) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдЦреЛрдЬ рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрдЧрддрддрд╛</a> <br></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi428578/">https://habr.com/ru/post/hi428578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi428568/index.html">рд░рд┐рдПрдХреНрдЯрд┐рд╡ рдиреЗрдЯрд┐рд╡ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЧрд╛рдЗрдб</a></li>
<li><a href="../hi428570/index.html">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЙрдЪреНрдЪ рдЖрджреЗрд╢ рдХрд╛рд░реНрдп</a></li>
<li><a href="../hi428572/index.html">рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЙрдЪреНрдЪ рдЖрджреЗрд╢ рдШрдЯрдХ</a></li>
<li><a href="../hi428574/index.html">Zextras рдЪреИрдЯ рдХреЗ рд╕рд╛рде рдЕрдЧрд▓реЗ рд╕реНрддрд░ рддрдХ рдХреЙрд░реНрдкреЛрд░реЗрдЯ рд╕рдВрдЪрд╛рд░ рд▓реЗ рд▓реЛ</a></li>
<li><a href="../hi428576/index.html">[рдмреБрдХрдорд╛рд░реНрдХ] Node.js рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдФрд░ рдирдП рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЧрд╛рдЗрдб рдХреЗ рдкреАрдбреАрдПрдл рд╕рдВрд╕реНрдХрд░рдг</a></li>
<li><a href="../hi428580/index.html">рдЕрдЪреНрдЫрд╛ рд╕рдВрдЪрд╛рд░ рдЧрд╛рдЗрдб</a></li>
<li><a href="../hi428582/index.html">OOP рдХрд╛ рдЗрддрд┐рд╣рд╛рд╕ рднреВрд▓ рдЧрдпрд╛</a></li>
<li><a href="../hi428588/index.html">рдирд╡рдВрдмрд░ рдореЗрдВ рдЖрдИрдЯреА рдЗрд╡реЗрдВрдЯреНрд╕ рдХреА рдбрд╛рдЗрдЬреЗрд╕реНрдЯ (рднрд╛рдЧ рджреЛ)</a></li>
<li><a href="../hi428590/index.html">рдЗрдВрдЯрд░рдлреЗрд╕ рдореЗрдВ рдорд╛рдЗрдХреНрд░реЛрдЗрдВрдЯрд░рдЯреНрдпреВрдб рдФрд░ рдорд╛рдЗрдХреНрд░реЛ рдкреНрд░реЙрдореНрдкреНрдЯ</a></li>
<li><a href="../hi428592/index.html">рдмрдВрдж рдХрд░реЛ "рдкреНрд░рднрд╛рд╡реА рдкреНрд░рдмрдВрдзрдХреЛрдВред" рд╡реЗ рди рдХреЗрд╡рд▓ рдмреЗрдХрд╛рд░ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рд╣рд╛рдирд┐рдХрд╛рд░рдХ рд╣реИрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>