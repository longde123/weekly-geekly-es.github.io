<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíö üëé üë©üèæ‚Äçü§ù‚Äçüë®üèª Comment j'ai d√©cid√© de prot√©ger les documents contre la falsification et ¬´invent√©¬ª une signature num√©rique √©lectronique üôç üôÜüèø üëâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De quoi s'agit-il 
 L'id√©e de cr√©er mon propre petit projet Internet pour prot√©ger les documents contre la falsification a √©t√© provoqu√©e par une discu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai d√©cid√© de prot√©ger les documents contre la falsification et ¬´invent√©¬ª une signature num√©rique √©lectronique</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442210/"><h2>  De quoi s'agit-il </h2><br>  L'id√©e de cr√©er mon propre petit projet Internet pour prot√©ger les documents contre la falsification a √©t√© provoqu√©e par une discussion au forum des d√©fectoscopistes consacr√©e √† la falsification totale des conclusions de contr√¥le de qualit√© qu'ils ont √©mises. <br><br>  Lors de la mise en ≈ìuvre de mon projet, j'ai r√©alis√© que j'en suis venu au concept de signature num√©rique √©lectronique, c'est-√†-dire un v√©lo, bien s√ªr, je n'ai pas invent√©, mais l'histoire de mon parcours peut √™tre instructive. <br><br><h2>  Pertinence de la t√¢che de protection contre les contrefa√ßons </h2><br>  Le fait est que, dans notre si√®cle d'informations sans papier, pas une seule construction d'immobilisations, qu'il s'agisse d'un gazoduc ou d'un centre commercial, ne peut se passer de pr√©parer un ensemble complet de documents conformes √† l'ex√©cution, qui comprend des conclusions de tests non destructifs (visuels, radiographiques, √©chographiques). <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/cm/7n/ee/cm7nee3ngx3tpo1yb-ihvnpregc.png"><br><br>  Cette conclusion est un document √©tabli sous une certaine forme avec une conclusion sur l'ad√©quation ou l'inad√©quation, par exemple, d'une soudure.  Les services d'essais non destructifs co√ªtent de l'argent et sont souvent assez consid√©rables.  Un client / interm√©diaire sans scrupules peut engager un laboratoire accr√©dit√©, en recevoir plusieurs avis et arr√™ter ou suspendre les travaux. <br><br>  Ce qui peut surprendre l'op√©rateur du d√©tecteur de d√©fauts ou le chef du laboratoire quand ils apprennent que m√™me apr√®s la fin des travaux, des conclusions sont √©mises en leur nom, elles sont mises sur de faux sceaux et de fausses signatures.  La r√©putation du laboratoire en souffre et, en fait, la loi est viol√©e.  C'est juste que dans un certain nombre de cas, personne ne le saura. <br><br>  Dans le cadre de la discussion - comment prot√©ger vos documents, l'id√©e a √©t√© exprim√©e de mettre un code QR sur le document, dans lequel le num√©ro de conclusion, la date et la conclusion sur l'ad√©quation ou l'inaptitude de l'objet de contr√¥le seront enregistr√©s.  Pourquoi cette m√©thode est-elle bonne - le code QR restera clairement reconnaissable lors de la num√©risation et de la copie d'un document. <br><br>  Cependant, les escrocs pourront √©galement g√©n√©rer simplement un code QR avec le contenu n√©cessaire. <br><br><h2>  La naissance d'une id√©e </h2><br>  Et puis une pens√©e m'est venue √† l'esprit - pourquoi ne pas crypter le contenu d'un tel code QR avec un algorithme fiable.  Si c'est le cas, vous devez trouver un moyen de le d√©crypter lors de la num√©risation, par exemple, √† travers la cam√©ra d'un smartphone.  Ici, l'id√©e est n√©e de faire du d√©chiffrement du c√¥t√© du service Web, qui stockera la cl√© du d√©chiffrement. <br><br>  La derni√®re fois que j'ai cr√©√© un site en 2000 dans le bloc-notes et je ne suis pas tr√®s familier avec les technologies modernes de construction de sites, j'ai donc choisi Wix, pensant qu'avec l'aide du service, j'obtiendrai une belle image et des possibilit√©s minimales pour travailler avec une base de donn√©es, et avec le code Wix, je coderai cela. de quoi ai-je besoin. <br><br>  Je dois dire tout de suite que je l'ai fait sans trop de difficult√©s et en quelques soir√©es, en tant qu'amateur, j'ai pu assembler la solution dont j'avais besoin √† partir de blocs plus ou moins pr√™ts √† l'emploi. <br><br><h2>  Cryptage </h2><br>  J'ai pris l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithme de</a> chiffrement AES 128 bits termin√© avec l'impl√©mentation Java Script sur Github et je l'ai plac√© dans la section backend du site. <br><br>  C'√©tait peut-√™tre la partie la plus facile du travail.  Le fonctionnement du cryptage lui-m√™me ne m'√©tait pas totalement inint√©ressant.  J'√©tais inquiet de la grandeur du plan. <br><br>  L'essentiel est de ne pas oublier de traduire le texte encod√© en octets, et le r√©sultat du cryptage en HEX. <br><br><pre><code class="plaintext hljs">// Convert text to bytes var textBytes = aesjs.utils.utf8.toBytes(text); // The counter is optional, and if omitted will begin at 1 var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(5)); var encryptedBytes = aesCtr.encrypt(textBytes); // To print or store the binary data, you may convert it to hex var encryptedHex = aesjs.utils.hex.fromBytes(encryptedBytes);</code> </pre> <br><h2>  G√©n√©ration de code QR </h2><br>  J'ai utilis√© l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> pr√™te √† l'emploi. <br><br>  Pour travailler, il suffit de cr√©er un objet html1 - pour afficher du code html arbitraire et appeler la fonction API <br><br><pre> <code class="plaintext hljs">let val = ‚Äú " $w("#html1").src = "https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data=" + val.toString(); $w("#html1").show();</code> </pre> <br><h2>  Travailler avec les utilisateurs </h2><br>  Wix prend en charge l'enregistrement d'utilisateur de base et les fonctions d'√©dition de profil.  L'outil est quelque peu bogu√©, mais r√©alisable. <br><br>  J'avais juste besoin d'ajouter un champ qui d√©crit le nom de l'organisation que repr√©sente l'utilisateur enregistr√©, mais ce champ est en lecture seule et il est rempli par l'administrateur du service lorsqu'il re√ßoit la confirmation que l'utilisateur enregistr√© repr√©sente vraiment l'organisation sp√©cifi√©e. <br><br>  Il √©tait √©galement n√©cessaire de fixer la logique la plus simple li√©e √† l'acc√®s payant / gratuit aux fonctions (jusqu'√† 20 documents par mois peuvent √™tre prot√©g√©s gratuitement) et le d√©lai de paiement des services. <br><h2>  Principe de fonctionnement </h2><br>  Une cl√© de chiffrement priv√©e unique est li√©e au compte de l'utilisateur. <br><br>  Un utilisateur connect√© remplit un formulaire avec des informations sur la conclusion (num√©ro, date, r√©sultat): <br><br><img src="https://habrastorage.org/webt/fo/id/ct/foidct3dccu6c3_6lorfm6c7pai.png"><br><br>  Ensuite, l'algorithme renvoie une URL contenant le texte chiffr√© TEXT et agissant comme la cl√© publique USER_ID, comme dans l'exemple ci-dessous: <br><br> <code>https:// <i>* *</i> /checkqr?user=3b01b0aa-68a0-4521-ab12-f17b86d3eabc&amp;v=1.0&amp;text=8a026594c26be959f4280e28fe8402c1acef233e369a31613d654d3b0a5bbaca206f3058d27d2fde66b65cb64a5a6caecb69b07ad39c0015e923dad89eb723</code> <br> <br>  L'URL se transforme en un code QR, que l'utilisateur met d√©j√† sur son document en le copiant dans le presse-papiers (vous pouvez l'inclure dans le fichier source ou le coller comme autocollant sur un document imprim√© fini). <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/lp/f-/0o/lpf-0ojmmbrd1bh7ylqqa-pmyzu.png"></a> <br><br>  Ce qui est important ici - en tant que tel, les informations n'entrent pas dans la base de donn√©es du site, mais restent uniquement sous la forme de ce lien et d'un code QR contenant ce lien.  Ainsi, aucune information sur le contenu du document prot√©g√© n'est stock√©e sur le serveur. <br><br><h2>  Le code est v√©rifi√© par le site lors de l'analyse du lien </h2><br>  Pour analyser quand un site reconna√Æt un lien, j'ai utilis√© l'aide sur le code Wix <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.wix.com/code/reference/wix-">www.wix.com/code/reference/wix-http-functions.html</a> <br><br>  Si quelque chose s'est mal pass√© pendant le d√©cryptage, cela pourrait √™tre le cas si certaines modifications ont √©t√© apport√©es au code QR d'origine <br><blockquote>  ¬´Le code du document a √©t√© d√©chiffr√© avec une erreur.  Faux possible.  Contactez l'organisation qui a pr√©par√© le document pour obtenir des √©claircissements. ¬ª </blockquote>  Si le d√©chiffrement est termin√© avec succ√®s, le texte d√©chiffr√© est √©mis contenant le nom du laboratoire, le num√©ro de document, la date d'√©mission et le r√©sultat, et l'utilisateur est invit√© √† comparer le r√©sultat du d√©chiffrement avec ce qu'il voit sur le document r√©el. <br><br><h2>  Conclusion </h2><br>  D√®s la naissance de l'id√©e, je suis arriv√© √† une mise en ≈ìuvre fonctionnelle avec un certain nombre de briques pr√©-faites. <br><br>  Je vous invite √† une discussion sur l'id√©e que j'ai eue, une tentative de tester / pirater mon service. <br><br><h4>  Ce qui reste √† compl√©ter </h4><br><ul><li>  <s>√âcrivez sur les r√©sultats de la mise en ≈ìuvre sur habr</s> </li><li>  Comprendre comment r√©initialiser la requ√™te s'il y a d√©j√† eu une v√©rification de lien une fois </li><li>  Pour comprendre comment r√©duire le texte chiffr√©, car lorsqu'une URL longue est cod√©e, la taille du code QR est trop grande </li><li>  Ajouter la possibilit√© de copier du code dans le presse-papiers ou de l'envoyer par e-mail en cliquant sur un bouton (jusqu'√† ce que je comprenne comment le faire en javascript) </li><li>  Am√©liorez votre travail avec la version mobile </li></ul><br><h4>  R√©ponse pr√©liminaire √† d'√©ventuelles critiques: </h4><br><blockquote>  N'est-il pas plus facile pour un laboratoire de tenir un registre des conclusions sur son site Web, et une balise QR similaire m√®nera-t-elle √† ce registre ou m√™me afficher une copie du rapport? </blockquote>  Cela peut √™tre fait, mais un travail manuel important ou l'introduction de votre propre solution informatique comme celle d√©velopp√©e par moi sera n√©cessaire, mais cela co√ªtera √©videmment plus cher que d'utiliser une solution pr√™te √† l'emploi. <br><br>  Il est impossible de rendre un tel registre compl√®tement accessible au public, car les informations ne sont pas publiques, mais ne peuvent √™tre prises en compte que par le contractant, le client et Rostekhnadzor. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442210/">https://habr.com/ru/post/fr442210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442200/index.html">Mission lunaire de Bereshit - Des ing√©nieurs du MCC SpaceIL et Israel Aerospace Industries (IAI) ont r√©solu les probl√®mes</a></li>
<li><a href="../fr442202/index.html">Notifications push du serveur SpringBoot</a></li>
<li><a href="../fr442204/index.html">Ordinateur portable Compaq LTE 5000, premi√®re partie - Pr√©sentation</a></li>
<li><a href="../fr442206/index.html">Pr√©paration √† l'inspection de Roskomnadzor: une dure pratique pour les courageux</a></li>
<li><a href="../fr442208/index.html">Publier des fautes de frappe dans les publications</a></li>
<li><a href="../fr442212/index.html">Recueil de donn√©es scientifiques</a></li>
<li><a href="../fr442214/index.html">Comment nous d√©finissons la station de base la plus haute altitude d'Europe de l'Est</a></li>
<li><a href="../fr442218/index.html">FunTech iOS-meetup # 1</a></li>
<li><a href="../fr442222/index.html">Curieuses perversions du monde informatique - 3</a></li>
<li><a href="../fr442224/index.html">Mauvais conseil: comment r√©diger la documentation technique? Deuxi√®me partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>