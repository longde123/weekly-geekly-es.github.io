<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คธ๐ผ ๐จโ๐งโ๐ง ๐ ุชุจูุฏ ูู ุงูุญูุงุฉ ๐คฒ โน๐พ ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููู ุฌูุฏ. 


 ูู ูุฏูู ุฃูุถูุง ูุทูุฑ ุชูุงุนู ูุฃููู ูุฑูู ูุตุตูุง ูุฐููุฉ ุญูู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ูู ุนูููุฉ ุงูุฅุนุงุฏุฉุ ูุงุ ูู ูููู ุงู ุงุตุจุญ ูุฐุง ุงูุดุฎุต 





 ุงุชุฎุฐ ุงููุคูู ุญุฑ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุจูุฏ ูู ุงูุญูุงุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438856/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููู ุฌูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฏูู ุฃูุถูุง ูุทูุฑ ุชูุงุนู ูุฃููู ูุฑูู ูุตุตูุง ูุฐููุฉ ุญูู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ูู ุนูููุฉ ุงูุฅุนุงุฏุฉุ  ูุงุ  ูู ูููู ุงู ุงุตุจุญ ูุฐุง ุงูุดุฎุต </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7-/lj/cq/7-ljcqfw11ms3jciroq6ls9ekfw.jpeg"></p><br><p style=";text-align:right;direction:rtl">  <em>ุงุชุฎุฐ ุงููุคูู ุญุฑูุชู ูู ุนุฏู ูุชุงุจุฉ ุฌุฒุก ุชูููุฏู ุญูู ูุง ุชุฏูุฑ ุญููู ููุชุจุฉ ุงูููุญูุฉ ุงููุณุชุฑุฌุนุฉ.</em>  <em>ุฅูู ูุฃูู ุฃูู ูู ุญุงูุฉ ุนุฏู ููุงูุฉ ุงูุจูุงูุงุช ุ ูุฅู ุงููุงุฑุฆ ุงููุฑูู ูุณุชุฎุฏู ุจุญุซ ูุจุฑ ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุงูุฑุณูู</a> .</em>  <em>ูุฐู ุงูุฃูุซูุฉ ูุจุณุทุฉ ุฅูู ุญุฏ ูุจูุฑ ูููู ุงูุฌููุฑ.</em> </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ููุงุฐุง ูุถุนุช ููู ุฌููุนุง ูุนุง.  ุณูููู ุญูู ุงุณุชุฎุฏุงู ุงูููุญูุฉ ุงููุนุงุฏุฉ ูู ุงููุณุงุญุงุช ุงูููุชูุญุฉ ููุนููุงุก ุงููุชุงููุฉ.  ุจุดูู ุฃูุซุฑ ุชุญุฏูุฏูุง ุ ุญูู ุงูุญุงูุงุช ุงูุฃูุซุฑ ุชุนููุฏูุง ูุฅุซุงุฑุฉ ููุงูุชูุงู ูู "ูุจูู ุงูุฅุฌุฑุงุก =&gt; ุฅุฑุณุงู ุทูุจ API =&gt; ุฅูุดุงุก ุฅุฌุฑุงุก ุฌุฏูุฏ". </p><br><p style=";text-align:right;direction:rtl">  ุขูู ูู ุชุญููุฒ ุฏุฑุงุณุฉ ุฃุนูู ููุฐู ุงูููุชุจุฉ ูู ูุจู ุฒููุงุฆู ุงูููุงุทููู ุ ููุฐูู ุงููุดุงุฑูุฉ ูู ุณุฑูุฑ ููู ุชุตุจุญ ุงูุฃุดูุงุก ุบูุฑ ุงููุชุฒุงููุฉ ุงููุนูุฏุฉ ุฃูุซุฑ ูุงุจููุฉ ููููู ูุงูุชุนุจูุฑ. </p><br><h2 id="websockets" style=";text-align:right;direction:rtl">  Websockets </h2><br><p style=";text-align:right;direction:rtl"> <em>ุงุณุชุฎุฏุงู ุงูุญุงูุฉ: ุชููู ุชุญุฏูุซุงุช ููุงุฆูุฉ ุงูุดูุงุบุฑ ุงููุชุงุญุฉ ูู ุงูุฎุงุฏู ูู ุงูููุช ุงูุญูููู ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุงูุฏูุน.</em> </p><br><p style=";text-align:right;direction:rtl">  ุฅูู ุจุทุจูุนุฉ ุงูุญุงู ูุชุนูู ุจุงุณุชุฎุฏุงู ูุขุฎุฐ ุงูููุจ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฎุฐ socket.io ุ ูููู ูู ุงููุงูุน ุ ูุง ููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูุฃุฎุฐ ุงูุชูุตูู ููุง. </p><br><p style=";text-align:right;direction:rtl">  ูู sagas ููุงู ุดูุก ูุซู ุงูููุงุฉ.  ูุฐุง ูุงูู ุฑุณุงุฆู ูููู ูู ุฎูุงูู ููุตุฏุฑ ุงูุฃุญุฏุงุซ ุงูุชูุงุตู ูุน ูุณุชููููู.  ุงูุบุฑุถ ุงูุฑุฆูุณู ูู ุงููููุงุช ูู ุงูุชูุงุตู ุจูู sagas ูุชุญููู ุฏูู ุงูุฃุญุฏุงุซ ุบูุฑ ุงููุชุฒุงููุฉ ุฅูู ูููู ููุงุณุจ ููุนูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุงูุชุฑุงุถู ุ ูุนุฏ ุงููุชุฌุฑ ูู ููุงุฉ ุงูุฃุญุฏุงุซ ุงูุฑุฆูุณูุฉ ูุฑุฏุน ุงูููุญูุฉ.  ุงูุฃุญุฏุงุซ ุชุฃุชู ูู ุดูู ุนูู.  ุชุณุชุฎุฏู ุงููููุงุช ููุนูู ูุน ุงูุฃุญุฏุงุซ ูููุณ ูู ุงููุชุฌุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃู ุงูููุงุฉ ูู ููุท ูุง ุชุญุชุงุฌู ููุนูู ูุน ุงูุฏูู ุบูุฑ ุงููุชุฒุงูู ููุฑุณุงุฆู ูู ุงูููุจุณ.  ูููู ุจุฅูุดุงุก ุงูููุงุฉ ูู ุฃุณุฑุน ููุช ูููู! </p><br><p style=";text-align:right;direction:rtl">  ููู ุฃููุงู ุ ูู ุจุฅูุดุงุก ูุฃุฎุฐ ุชูุตูู: </p><br><pre style=";text-align:right;direction:rtl"><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> io <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'socket.io-client'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> socket = io.connect(<span class="hljs-string"><span class="hljs-string">'/'</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุนูู ุงูุขู ูุงุฆูุฉ ูุชูุงุถุนุฉ ูู ุงูุฃุญุฏุงุซ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SocketEvents = { <span class="hljs-attr"><span class="hljs-attr">jobsFresh</span></span>: <span class="hljs-string"><span class="hljs-string">'jobs+fresh'</span></span>, };</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชุงูู ูู ุทุฑููุฉ ุงููุตูุน ูุฅูุดุงุก ููุงุฉ.  ุชูุดุฆ ุงูุดูุฑุฉ ุทุฑููุฉ ููุงุดุชุฑุงู ูู ุงูุฃุญุฏุงุซ ุงูุชู ุชูููุง ูู ุฎูุงู ุงูููุจุณ ุ ูุทุฑููุฉ ูุฅูุบุงุก ุงูุงุดุชุฑุงู ุ ูููุงุฉ ุงูุญุฏุซ ููุณูุง ูุจุงุดุฑุฉู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { socket } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../apis/socket'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { SocketEvents } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../constants/socket-events'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createFreshJobsChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { socket.on(SocketEvents.jobsFresh, emitter); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> socket.removeListener(SocketEvents.jobsFresh, emitter); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุชุจ ูุตุฉ ุจุณูุทุฉ ุฅูู ุญุฏ ูุง ุ ูู ุงูุชุธุงุฑ ุงูุชุญุฏูุซุงุช ูู ุงูููุจุณ ูุชุญููููุง ุฅูู ุงูุฅุฌุฑุงุก ุงูููุงุจู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { take, call, put } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createFreshJobsChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/fresh-jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { JobsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">freshJobsSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createFreshJobsChannel); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jobs = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> take(channel); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> action = JobsActions.fresh(jobs); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(action); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจูู ููุท ุฑุจุทู ุจุณุฌู ุงูุฌุฐุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fork } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { freshJobsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./fresh-jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> fork(freshJobsSaga); }</code> </pre> <br><h2 id="google-places-autocomplete" style=";text-align:right;direction:rtl">  ุฃูุงูู ุฌูุฌู ุงูุฅููุงู ุงูุชููุงุฆู </h2><br><p style=";text-align:right;direction:rtl">  <em>ุงุณุชุฎุฏุงู ุงูุญุงูุฉ: ุฅุธูุงุฑ ุงููุตุงุฆุญ ุนูุฏูุง ูุฏุฎู ุงููุณุชุฎุฏู ูููุนูุง ุฌุบุฑุงูููุง ููุจุญุซ ุงููุงุญู ุนู ุงูุนูุงุฑุงุช ุงููุฑูุจุฉ.</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุฅุญุฏุงุซูุงุช ุ ููุญุชุงุฌ ุงููุณุชุฎุฏู ุฅูู ุงูุงุณู ุงููุงุจู ูููุฑุงุกุฉ ูู ุงููุฌุงู ุงููุทููุจ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃู ูุฐู ุงููููุฉ ุชุฎุชูู ุนู ุงูุฅุฌุฑุงุก ุงูููู "action =&gt; API =&gt;"ุ  ูู ุญุงูุฉ ุงูุฅููุงู ุงูุชููุงุฆู ุ ูุฑูุฏ ุฅุฌุฑุงุก ุฃูู ุนุฏุฏ ูููู ูู ุงูููุงููุงุช ุบูุฑ ุงููุฌุฏูุฉ ุฅูู ุงูููุงุฑุฏ ุงูุฎุงุฑุฌูุฉ ุ ูุฅุธูุงุฑ ุงูุชูููุญุงุช ุฐุงุช ุงูุตูุฉ ูููุณุชุฎุฏู ููุท. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุณููุชุจ ุทุฑููุฉ API ุชุณุชุฎุฏู ุฎุฏูุฉ ุงูุฅููุงู ุงูุชููุงุฆู ูุฃูุงูู Google.  ูู ุงูุฃุดูุงุก ุงููุซูุฑุฉ ููุงูุชูุงู ููุง ูู ุงูุญุฏ ูู ุงููุทุงูุจุงุช ุฏุงุฎู ุจูุฏ ูุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPlaceSuggestions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">autocompleteService, countryCode, query</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function"> =&gt;</span></span> { autocompleteService.getPlacePredictions({ <span class="hljs-attr"><span class="hljs-attr">componentRestrictions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">country</span></span>: countryCode }, <span class="hljs-attr"><span class="hljs-attr">input</span></span>: query, }, resolve); }); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุฉ API ุณูููู ุจุณุญุจูุง ุ ููููู ุงูุจุฏุก ูู ูุชุงุจุฉ ููุญูุฉ.  ุญุงู ุงูููุช ูุชูุถูุญ ูุทูุจุงุช ุนุฏููุฉ ุงููุงุฆุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชูููุฐ ูู ุงูุฌุจูุฉ ุ ุนูุฏูุง ููุชุจ ุงููุณุชุฎุฏู ุ ููุญู ููู ุชุบููุฑ ุ ููุฑุฃ - ููู ุญุฑู ุ ุฅุฑุณุงู ุทูุจ ุฅูู API - ูุคุฏู ุฅูู ุฃู ููุงู.  ุฃุซูุงุก ููุงู ุงููุณุชุฎุฏู ุจุงููุชุงุจุฉ ุ ูุง ูุญุชุงุฌ ุฅูู ุชูููุญุงุช.  ูููู ุนูุฏูุง ูุชููู ุ ุญุงู ุงูููุช ูุฎุฏูุชู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ ูุง ูุฑูุฏ ุฃู ูููู ูู ูููู ุญูุซ ูุงู ุงููุณุชุฎุฏู ุจูุชุงุจุฉ ุดูุก ูุง ุ ุฃู ุฅููุงูู ุ ุฃู ุชู ุฅููุงุก ุทูุจ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุ ุฃู ูุชุงุจุฉ ุงููุณุชุฎุฏู ูุดูุก ูุง ุ ุฃู ุทูุจ ุทูุจ ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ุฃูุดุฃูุง ุณุจุงููุง ุจูู ุทูุจูู.  ูููู ุฃู ุชุชุทูุฑ ุงูุฃุญุฏุงุซ ุจุทุฑููุชูู ูููุงููุง ุบูุฑ ููุชุน ููุบุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุณููุชูู ุงูุทูุจ ุบูุฑ ุฐู ุตูุฉ ูุจู ุงูุทูุจ ุงูุญุงูู ููุญุธุฉ ุณูุฑู ุงููุณุชุฎุฏู ูุทุงูุจุงุช ุบูุฑ ุฐุงุช ุตูุฉ.  ุบูุฑ ุณุงุฑุฉ ุ ูููู ููุณุช ุญุฑุฌุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃู ุ ููุชูู ุงูุทูุจ ุงูุญุงูู ูู ููุช ุฃุจูุฑ ูู ุงูุทูุจ ุบูุฑ ุฐู ุตูุฉ ูุจุนุฏ ูููุถ ุงููุณุชุฎุฏู ุณูุจูู ุจููุณ ูุทุงูุจุงุช ุบูุฑ ุฐุงุช ุตูุฉ.  ูุฐุง ุฃูุฑ ุจุงูุบ ุงูุฃูููุฉ ุจุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูุณูุง ุฃูู ูู ููุงุฌู ูุซู ูุฐู ุงููุดููุฉ ุ ูุณุชุณุงุนุฏูุง ุงูุชูููุฉ ุงููุนุฑููุฉ ุจุงุณู debounce - ุชูููุฐ ุงููููุฉ ููุท ุจุนุฏ ุงุณุชูุงู ูุญุฏุงุช N ูู ุงูููุช ููุฐ ุงุณุชูุงู ุงูุญุฏุซ ุงูุฃุฎูุฑ.  ููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููููู ูู ุงูููุงุฏ</a> ุญูู ูุฐุง ุงูููุถูุน. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฅุนุงุฏุฉ ุงูููุญูุฉ ุ ูุชู ุชุทุจูู ูุฐู ุงูุชูููุฉ ุจุงุณุชุฎุฏุงู ุงุซููู ูู ุงูุขุซุงุฑ - <em>ุงูุชุฃุฎูุฑ</em> ู <em>takeLatest</em> .  ุฃูู ูุงุญุฏ ูุคุฌู ุชูููุฐ ุงูููุญูุฉ ูู ูุจู ุนุฏุฏ ูุญุฏุฏ ูู ุงููููู ุซุงููุฉ.  ุงูุซุงูู ุฅููุงุก ุชูููุฐ ููุญูุฉ ุงูุนูู ุจุงููุนู ุนูุฏ ูุตูู ุญุฏุซ ุฌุฏูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุน ุงูุนูู ูู ูุฐุง ุ ุณููุชุจ ุงูููุญูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { delay } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { put, call, select } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { PlaceActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/place'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { MapsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/maps'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { getPlaceSuggestions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../api/get-place-suggestions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">placeSuggestionsSaga</span></span></span><span class="hljs-function"> * (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ payload: query }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-attr"><span class="hljs-attr">maps</span></span>: { isApiLoaded } } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> select(); <span class="hljs-comment"><span class="hljs-comment">//  API    , //      if (!isApiLoaded) { yield take(MapsActions.apiLoaded); } //     Google Places Autocomplete  store const { maps: { autocompleteService }, countryCode } = yield select(); //    , //        if (query) { yield put(PlaceActions.suggestions([])); yield put(PlaceActions.select(null)); return; } //  250    yield call(delay, 250); //  API  const suggestions = yield call( getPlaceSuggestions, autocompleteService, countryCode, query, ); //  action   const action = PlacesActions.suggestions(suggestions || []); //     store yield put(action); };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ูู ุงููุซุงู ุงูุณุงุจู ุ ูุจูู ููุท ุฑุจุทู ุจูุตุฉ ุงูุฌุฐุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { takeLatest } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { PlaceActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/place'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { placeSuggestionsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./place-suggestions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> takeLatest( PlaceActions.changeQuery, placeSuggestionsSaga, ); }</code> </pre> <br><h2 id="dropdowns-closer" style=";text-align:right;direction:rtl">  ุงูููุณุฏูุฉ ุฃูุฑุจ </h2><br><p style=";text-align:right;direction:rtl">  <em>ุงุณุชุฎุฏู ุงูุญุงูุฉ: ุฃุบูู ุงูููุงุฆู ุงูููุณุฏูุฉ ููุชูุจุฉ ุฐุงุชููุง ุนูุฏ ุงูููุฑ ุฎุงุฑุฌ ููุทูุฉ ุงูุชุญูู.</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุฐุง ูู ูุญุงูุงุฉ ููุณููู ุงููุฏูุฌ ูู ุงููุชุตูุญ ุงููุญุฏุฏ.  ุณูุชู ุชุฑู ุงูุฃุณุจุงุจ ุงูุชู ูุฏ ุชุญุชุงุฌ ุฅูู ูุงุฆูุฉ ููุณุฏูุฉ ููุชูุจุฉ ุนูู divs ูุฎูุงู ุงููุงุฑุฆ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ูููููุฉ ุงูุชู ูุชู ุญููุง ูู ุชูุฑูุฑ ุญุฏุซ ุฎุงุฑุฌ ุนูุตุฑ ุงูุชุญูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุงูููุฑ ุฎุงุฑุฌ ุงููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฎููุชุ  ูุนู ุ ุณูู ุชุณุงุนุฏูุง ุงููููุงุช ุฃูุถูุง ููุง.  ุจุงุณุชุฎุฏุงููุง ุ ุณูุญูู ุฃุญุฏุงุซ ุงูููุฑุงุช ุงูุชู ุชูุจุซู ุฅูู ุงูุฃุนูู ูู ุงูุฅุฌุฑุงุก ุงูููุงุจู. </p><br><p style=";text-align:right;direction:rtl">  ุณูููู ูู ุงูุฌููู ุฃู ูููู ูุฏูู ุทุฑููุฉ ูุตูุน ุชูุดุฆ ูููุงุช ูุญุฏุซ ูุงูุฐุฉ ุชุนุณูู.  ูููุง ูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createWindowEventChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">eventName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(eventName, emitter); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.removeEventListener(eventName, emitter); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก ููุญูุฉ ูุดุงุจูุฉ ุชูุงููุง ูููุซุงู ุงูุฃูู (ููููู ุฅูุดุงุก ุทุฑููุฉ ูุตูุน ููุง ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { take, put, call } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createWindowEventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/window-event'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { DropdownActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/dropdown'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeDropdownsSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createWindowEventChannel, <span class="hljs-string"><span class="hljs-string">'onClick'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> event = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> take(channel); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> action = DropdownActions.closeAll(event); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(action(event)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุฎูุถูู ุงูููุชููู ุณูุถุนูู ุงูุณูุทุฑุฉ ูู ุญุงูุฉ ูุบููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { handleActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { DropdownActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/dropdown'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> priceReducer = handleActions({ ..., [DropdownActions.closeAll]: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ ...state, <span class="hljs-attr"><span class="hljs-attr">isOpen</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>}), }, {});</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุชููู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ููุณูุง ุนู ูุดุฑ ุญุฏุซ ุงูููุฑ ุนูู ุฃู ุฃุฌุฒุงุก ุฏุงุฎููุฉ ูุฃู ุชุฑุณู ุงูุญุฏุซ ุงูุฎุชุงูู ุฅูู ุงููุชุฌุฑ ุจููุฑุฏู.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุงูููุฑ ููู "ูุชุญ": </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// components/dropdown.js import React from 'react'; export class Dropdown extends React.Component { ... __open(event) { event.stopPropagation(); this.props.open(); } } // dispatchers/open-price-dropdown.js import { DropdownActions } from '../actions/dropdown'; import { PriceActions } from '../actions/price'; export const openPriceDropdownDispatcher = dispatch =&gt; () =&gt; { dispatch( DropdownActions.closeAll() ); dispatch( PriceActions.open() ); };</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฎูุงู ุฐูู ุ ูุฅู ุงููุงุฆูุฉ ุจุจุณุงุทุฉ ูู ุชูุชุญ.  ุงูุฃูุฑ ููุณู ููุทุจู ุนูู ููุฑุฉ ุนูุฏ ุชุญุฏูุฏ ุฎูุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููุงุณููู ุ ุฌุจู ุงูููุญูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fork } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { closeDropdownsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./close-dropdowns'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> fork(closeDropdownsSaga); }</code> </pre> <br><h2 id="notifications" style=";text-align:right;direction:rtl">  ุงูุฅุฎุทุงุฑุงุช </h2><br><p style=";text-align:right;direction:rtl">  <em>ุงุณุชุฎุฏุงู ุงูุญุงูุฉ: ุฅุธูุงุฑ ุฅุนูุงูุงุช ุงููุชุตูุญ ุญูู ุชููุฑ ุงููุธุงุฆู ุงูุดุงุบุฑุฉ ุงูุฌุฏูุฏุฉ ุ ุฅุฐุง ูุงูุช ุนูุงูุฉ ุงูุชุจููุจ ูู ุงูุฎูููุฉ.</em> </p><br><p style=";text-align:right;direction:rtl">  ูู ุนูุงูุฉ ุงูุชุจููุจ ุงููุดุทุฉ ุ ุณูุฑู ุงููุณุชุฎุฏู ุงูุชุบููุฑ ูู ุนูุตุฑ ุชุญูู ุฎุงุต ุ ูุจุงูุชุงูู ูุฅู ุงูุฅุฎุทุงุฑุงุช ููุณุช ููุงุณุจุฉ.  ูููู ูุนูุงูุฉ ุงูุชุจููุจ ุงูุฎูููุฉ ูู ูุชูุงูู ูุฏู.  ุจุงูุทุจุน ุ ุจุฅุฐู ูู ุงููุณุชุฎุฏู! </p><br><p style=";text-align:right;direction:rtl">  ุฃูุฏ ุฃูุถูุง ุงูููุฑ ููู ุงูุฅุดุนุงุฑ ููุงูุชูุงู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ ูุฅุธูุงุฑ ุงูุดูุงุบุฑ ุงูุฌุฏูุฏุฉ.  ุฅุฐุง ูู ูุณุชุฌุจ ุงููุณุชุฎุฏู ุ ูุฃุบูู ุงูุฅุดุนุงุฑ.  ููููุงู ุจุฐูู ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุชุฃุซูุฑ ุขุฎุฑ ูููุฏ - <em>ุงูุนุฑู</em> .  ุงููุง ุชุณูุญ ูู ูุชุฑุชูุจ ุณุจุงู ุจูู ุงูุนุฏูุฏ ูู ุงูุขุซุงุฑ ุงูุฃุฎุฑู.  ูู ูุนุธู ุงูุญุงูุงุช ุ ูุณุชุฎุฏู ุงูุณุจุงู ูุชูููุฑ ูููุฉ ูุจุนุถ ุงูุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฃุบูููุง ุฑูุฒ ุชุชุจุน ูุดุงุท ุนูุงูุฉ ุงูุชุจููุจ ุ ูุธุฑูุง ูููููุฉ ุงูุชู ุจูุง ุฑูุฒ ุงุนุชุฑุงุถ ุงูููุฑุงุช ูู ุงููุซุงู ุงูุณุงุจู. </p><br><p style=";text-align:right;direction:rtl">  ุณููุชุจ ุทุฑููุฉ ุงููุตูุน ุงูุชู ุณุชูุดุฆ ููุงุฉ ูุทูุจ ููุงููุฉ ุงููุณุชุฎุฏู ูุชููู ุงูุฅุฎุทุงุฑุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel, END } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRequestNotificationPermissionChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { Notification.requestPermission(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">permission</span></span></span><span class="hljs-function"> =&gt;</span></span> { emitter(permission); emitter(END); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}; }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณุนูุงู ูุฑุงุก ุฃุณููุจ ูุตูุน ุขุฎุฑ ุ ูููู ูุน ููุงุฉ ูุชููู ุฅุดุนุงุฑ ุ ุงููุฑ ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel, END } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createNotificationClickChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">notification</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { notification.onclick = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> { emitter(event); emitter(END); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> notification.onclick = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุชุง ุงูููุงุชูู ุชุณุชุฎุฏูุงู ูุฑุฉ ูุงุญุฏุฉ ูุฃูุตู ุชุจุงุฏู ูุฅุทูุงู ุงููุงุฑ ูู ุญุฏุซ ูุงุญุฏ ุ ูุจุนุฏ ุฐูู ูุชู ุฅุบูุงูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุจูู ุงูููุชุงุญ - ุงูููุญูุฉ ูุน ุงูููุทู.  ุชุญูู ููุง ุฅุฐุง ูุงูุช ุนูุงูุฉ ุงูุชุจููุจ ูุดุทุฉ ุ ุงุทูุจ ุงูุฅุฐู ุ ููู ุจุฅูุดุงุก ุฅุดุนุงุฑ ุ ูุงูุชุธุฑ ููุฑุฉ ุฃู ูููุฉ ุ ูุฃุธูุฑ ุงูุดูุงุบุฑ ุงูุฌุฏูุฏุฉ ุ ูุฌุนู ุนูุงูุฉ ุงูุชุจููุจ ูุดุทุฉ ุ ุซู ุฃุบูู ุงูุฅุดุนุงุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { delay } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { call, select, race, take } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createRequestNotificationPermissionChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/request-notification-permission'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createNotificationClickChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/notification-click'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { JobsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">notificationsSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { inFocus } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> select(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (inFocus) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> permissionChannel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createRequestNotificationPermissionChannel); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> permission = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> take(permissionChannel); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (permission !== <span class="hljs-string"><span class="hljs-string">'granted'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> notification = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Notification( <span class="hljs-string"><span class="hljs-string">`You have </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${action.payload.jobs.length}</span></span></span><span class="hljs-string"> new job posts`</span></span>, { <span class="hljs-attr"><span class="hljs-attr">icon</span></span>: <span class="hljs-string"><span class="hljs-string">'assets/new-jobs.png'</span></span> } ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clickChannel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createNotificationClickChannel, notification); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { click, timeout } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> race({ <span class="hljs-attr"><span class="hljs-attr">click</span></span>: take(clickChannel), <span class="hljs-attr"><span class="hljs-attr">timeout</span></span>: call(delay, <span class="hljs-number"><span class="hljs-number">5000</span></span>), }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (click) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(JobsActions.show()); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.focus(); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.scrollTo(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); } notification.close(); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุชุฑููุจ ุงูููุญูุฉ ูุจู ุงูููุงู ุจูุฐุง ุงููุดู ุนู ุงูููุฒุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { takeEvery } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { JobsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/jobs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { notificationsSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./notifications'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-string"><span class="hljs-string">'Notification'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> &amp;&amp; Notification.permission !== <span class="hljs-string"><span class="hljs-string">'denied'</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> takeEvery(JobsActions.fresh, notificationsSaga); } }</code> </pre> <br><h2 id="global-event-bus" style=";text-align:right;direction:rtl">  ุงูุญุงููุฉ ุงูุญุฏุซ ุงูุนุงููู </h2><br><p style=";text-align:right;direction:rtl">  <em>ุญุงูุฉ ุงูุงุณุชุฎุฏุงู: ููู ูุฆุฉ ุงูุฃุญุฏุงุซ ุงููุญุฏุฏุฉ ุจูู ูุฎุงุฒู ุงูุฅุนุงุฏุฉ.</em> </p><br><p style=";text-align:right;direction:rtl">  ูุซู ูุฐุง ุงููุงูู ุถุฑูุฑู ูู ุญุงูุฉ ูุฌูุฏ ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ุงูุชู ุชุญุชูู ุนูู ุจูุงูุงุช ุดุงุฆุนุฉ ุนูู ุงูุตูุญุฉ.  ูู ุงูููุช ููุณู ุ ูููู ุชูููุฐ ุงูุชุทุจููุงุช ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุณูุณูุฉ ุงูุจุญุซ ุฐุงุช ุงูููุงุชุฑ ููุชุงุฆุฌ ุงูุจุญุซ ูุชุทุจููุงุช ุชูุงุนู ูููุตูุฉ.  ุนูุฏ ุชุบููุฑ ุงููุฑุดุญุงุช ุ ุฃุฑูุฏ ุฃู ูุนุฑู ุชุทุจูู ุงููุชุงุฆุฌ ูุง ุฅุฐุง ูุงู ููุฌูุฏูุง ุนูู ุงูุตูุญุฉ ุฃูุถูุง. </p><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ุจุงุนุซ ุงูุญุฏุซ ุงูููุงุณู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> EventEmmiter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'events'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.GlobalEventBus) { <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.GlobalEventBus = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EventEmmiter(); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> globalEventBus = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.GlobalEventBus;</code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>ุงูุญุฏุซ</em> ุงููุญุจูุจ ุจุงููุนู <em>ChanChannel</em> ูุญูู ุจุงุนุซ ููุงุณู ุฅูู ููุงุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { eventChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { globalEventBus <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> bus } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../utils/global-event-bus'</span></span>; exports <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createGlobalEventBusChannel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> subscribe = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emitter</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handler = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> emitter({ ...event, <span class="hljs-attr"><span class="hljs-attr">external</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); bus.on(<span class="hljs-string"><span class="hljs-string">'global.event'</span></span>, handler); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bus.removeListener(<span class="hljs-string"><span class="hljs-string">'global.event'</span></span>, handler); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> eventChannel(subscribe); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูููุญูุฉ ุจุณูุทุฉ ุฌุฏูุง - ููุญู ููุดุฆ ููุงุฉ ูููุจู ุงูุฃุญุฏุงุซ ุจูุง ููุงูุฉ ุ ุณูุงุก ุฏุงุฎููุฉ ุฃู ุฎุงุฑุฌูุฉ.  ุฅุฐุง ุชููููุง ุญุฏุซูุง ุฏุงุฎูููุง ุ ูุฃุฑุณูู ุฅูู ุงูุญุงููุฉ ุ ุฅุฐุง ูุงู ุงูุญุฏุซ ุงูุฎุงุฑุฌู - ูู ุงููุชุฌุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { take, put, race, call } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { globalEventBus <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> bus } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../utils/global-event-bus'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createGlobalEventBusChannel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../channels/global-event-bus'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">globalEventBusSaga</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">allowedActions</span></span></span><span class="hljs-function">) </span></span>{ allowedActions = allowedActions.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.toString()); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(createGlobalEventBusChannel); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { local, external } = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> race({ <span class="hljs-attr"><span class="hljs-attr">local</span></span>: take(), <span class="hljs-attr"><span class="hljs-attr">external</span></span>: take(channel), }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( external &amp;&amp; allowedActions.some(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function"> =&gt;</span></span> action === external.type) ) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put(external); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( local &amp;&amp; !local.external &amp;&amp; allowedActions.some(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function"> =&gt;</span></span> action === local.type) ) { bus.emit(<span class="hljs-string"><span class="hljs-string">'global.event'</span></span>, local); } } };</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงูุฃุฎูุฑ - ุชุตุงุนุฏ ุงูููุญูุฉ ูุน ุงูุฃุญุฏุงุซ ุงูุถุฑูุฑูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { fork } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-saga/effects'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { globalEventBusSaga } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./global-event-bus'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { DropdownsActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/dropdowns'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { AreasActions } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../actions/areas'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sagas</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> fork(globalEventBusSaga, [ DropdownsActions.closeAll, AreasActions.add, AreasActions.remove, ... ]); }</code> </pre> <br><hr><br><p style=";text-align:right;direction:rtl">  ุขูู ุฃู ุฃููู ูุงุฏุฑูุง ุนูู ุฅุธูุงุฑ ุฃู ุงูุณุงุฌุง ุชุฌุนู ูุตู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ุงููุนูุฏุฉ ุฃุณูู.  ุงุณุชูุดู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฎุงุตุฉ ุจุงูููุชุจุงุช ุ ููู ุจููููุง ุฅูู ุญุงูุงุชู ุ ููู ุจุชูููู ุฃููุงุท ูุนูุฏุฉ ูู ุชููุน ุงูุญุฏุซ ููู ุณุนูุฏูุง.  ูุฑุงูู ูู ุงููุณุงุญุงุช ุงูููุชูุญุฉ JS! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar438856/">https://habr.com/ru/post/ar438856/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar438840/index.html">ุงููุจุฑูุงุก ูุงูุนุงุทูุฉ ุ ูุตุฉ ุชุญููู ุงูุญูู ุฅูู ูุดุฑูุน ูุถุงุก</a></li>
<li><a href="../ar438842/index.html">ูู ุจุชูุธูู ูุงุฆูุฉ ุชุดุบูู torrent-TV (Super Wash)</a></li>
<li><a href="../ar438850/index.html">ููุณูู JS 44 - ุงูุฅุนูุงู</a></li>
<li><a href="../ar438852/index.html">ุจูุงุจุงุช ุฌู ุฅุณ ุฅู ุฌุฏูุฏุฉ ูู OpenVox</a></li>
<li><a href="../ar438854/index.html">ุดุฑุญ ุงูุทุจูุนุฉ ุงูููุฒูุงุฆูุฉ ูุธุงูุฑุฉ "ููุฉ ุงูุฑูุน" ุฏูู ุงุณุชุฎุฏุงู ูุนุงุฏูุฉ ุจุฑูููู</a></li>
<li><a href="../ar438858/index.html">ููููุฉ ุงุณุชุฎุฏุงู ุงูุชุฌุฒุฆุฉ ูุงูุงุณุชูุฏุงู ูุชุญุฏูุฏ ุงูููุงูุน (STP) ูู ุชุทููุฑ ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุณููู</a></li>
<li><a href="../ar438862/index.html">ูุดุฑ ุชุทุจูู ุงูููุจ isomorphic ุจุงุณุชุฎุฏุงู Nuxt.js ููุซุงู.</a></li>
<li><a href="../ar438864/index.html">ููุฒุฉ ุชุฌููุฏ C ++ 20. Coroutines ุ ูุญุฏุงุช ูุฃูุซุฑ ูู ุฐูู</a></li>
<li><a href="../ar438866/index.html">ุจูุงุฉ ููุงุจู ุจูุงุก ุฌููุฉ ุฌุงูุง</a></li>
<li><a href="../ar438868/index.html">ุฃุณุจูุน ุงูุฃูุงู 06: ูุจุงุดุฑ ุนูู FaceTime</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>