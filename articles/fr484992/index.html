<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏽 ⛱️ ✉️ Plus joli dans les grands projets: passez 20 minutes sur la configuration, oubliez le formatage pour toujours 🚦 📃 🖐🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les développeurs ne peuvent souvent pas s'entendre sur le formatage du code, et une journée de travail typique pour beaucoup commence à ressembler à c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Plus joli dans les grands projets: passez 20 minutes sur la configuration, oubliez le formatage pour toujours</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/484992/">  Les développeurs ne peuvent souvent pas s'entendre sur le formatage du code, et une journée de travail typique pour beaucoup commence à ressembler à ceci: café, codage, tout est paisible et bon, puis, bang, et il y a un examen du code qui montre ce que vous mettez quelque part crochets incorrects ou n'a pas transféré quelque chose à une nouvelle ligne. <br><br><img src="https://habrastorage.org/webt/ax/df/6j/axdf6j-yydh6tstnyhr-9b0hszg.gif"><br><br>  Il y a un an, l'une des équipes de Skyeng a rencontré de tels holivars dans presque tous les examens.  Mais ensuite, la personne la plus douloureuse a dit: "Maintenant, nous vivons sur Prettier, êtes-vous d'accord?" Au cours des prochains mois, les gars n'ont jamais soulevé la question du formatage, et maintenant cette chose est sur l'ensemble du mono-référentiel frontal - et chaque équipe l'utilise qui appelle là-bas. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Qu'est-ce qui est plus joli</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vz/sj/jw/vzsjjwb9wbtvsoycwfsos_s3vic.jpeg"><br><br>  <a href="https://prettier.io/">Prettier</a> est un outil de mise en forme automatique de code avec prise en charge d'un tas d'outils, y compris nos outils angulaires et typographiques préférés.  Il ne modifie pas le code, ne remplace pas les opérateurs ternaires par des ifs et ne casse pas les longues chaînes en plusieurs chaînes concaténées (le développeur devrait déjà y penser), mais affiche simplement ce qui est avec la mise en forme nécessaire. <br></div></div><br><h3>  Comme avant </h3><br>  À cette époque, Skyeng comptait déjà des dizaines de développeurs et 10 à 20 nouveaux arrivants pouvaient venir chaque mois.  Tout le monde a travaillé (et travaille) en petites équipes - chacune, en fait, est considérée comme une «unité de combat» indépendante avec ses propres tâches et sa propre compréhension. <br><br>  Imaginons une telle commande - certainement toutes les coïncidences sont aléatoires - commande: <br><br>  <b>Boris</b> est le milieu qui nous est venu d'une autre grande entreprise.  Ils avaient leur propre guide de style, mais il essaie de réapprendre le nôtre: dans l'ensemble, il le fait, mais de temps en temps, il fait quelque chose concernant le formatage et ne le sait pas uniquement dans la révision de code.  Une bagatelle, mais désagréable. <br><br>  <b>Pavel</b> est un développeur plus expérimenté.  Il connaît son travail, exécute toujours les tâches efficacement et à temps, mais oublie parfois complètement l'accord et écrit à sa manière.  En conséquence, son code ne rentre pas dans un grand projet, bien qu'il soit écrit avec une grande qualité et de bon goût. <br><br>  <b>Arthur</b> est un perfectionniste avec la philosophie du «code propre - code compréhensible»: il se soucie toujours du style de code.  Bien sûr, il rejettera le code de ses collègues avec un tas de commentaires "ici, mettez l'accolade sur la ligne suivante" - et Boris passera du temps à l'édition, et Pavel aux arguments du niveau "vous ne l'aimez pas, changez-le". <br><br><img src="https://habrastorage.org/webt/bh/hj/mm/bhhjmmgorw-3onz9r2bmppnbf10.jpeg"><br><br><h3>  Comment </h3><br>  Le but de Prettier est de ne pas faire réfléchir le développeur au formatage: il a un minimum de paramètres.  Cela a corrompu Pavel quand Arthur a jeté un lien vers le chat du projet: <br><br>  - définir Prettier lui-même, <br>  - définir le hook de pré-validation ( <a href="https://prettier.io/docs/en/precommit.html">plus</a> ), <br>  - laissé quelques commentaires dans le chat que le style de code est là (par exemple, les opérations logiques dans les ifs sont placées à la fin de la ligne, et non au début). <br><br>  C'est tout, alors l'équipe est passée à Prettier.  Voici des exemples de code de l'industrie avant et après Prettier.  Il est légèrement reformaté pour montrer les capacités de cet outil. <br><br>  <b>À:</b> <br><br><pre><code class="javascript hljs">public listenDndForFocusEvents(channel: string): Observable&lt;boolean&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.drag .pipe( filter( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event.channel === channel ), filter( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragStartEvent || event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragEndEvent ), map( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragStartEvent ) ) }</code> </pre> <br>  <b>Après:</b> <br><br><pre> <code class="javascript hljs"> public listenDndForFocusEvents(channel: string): Observable&lt;boolean&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.drag.pipe( filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event.channel === channel), filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragStartEvent || event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragEndEvent), map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragStartEvent), ); }</code> </pre><br>  <b>Même</b> s'il était écrit sur une seule ligne, il serait quand même reformaté comme il se doit: <br><br><pre> <code class="javascript hljs"> public listenDndForFocusEvents(channel: string): Observable&lt;boolean&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.drag.pipe(filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event.channel === channel), filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragStartEvent || event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragEndEvent), map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function"> =&gt;</span></span> event <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> DndDragStartEvent),); }</code> </pre><br>  <b>Un autre morceau de</b> code, déjà sans point-virgule.  <b>À:</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lessonCount$ = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentLessonsCounterService .getCounter().pipe(map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">featureInfo</span></span></span><span class="hljs-function"> =&gt;</span></span> featureInfo.lessonCount)) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isItTimeForNotification$ = lessonCount$.pipe(map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">lessonCount</span></span></span><span class="hljs-function"> =&gt;</span></span> lessonCount % REAL_TALK_NOTIFICATION_LESSON_INTERVAL === <span class="hljs-number"><span class="hljs-number">0</span></span>))</code> </pre><br>  <b>Après:</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lessonCount$ = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.studentLessonsCounterService .getCounter() .pipe(map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">featureInfo</span></span></span><span class="hljs-function"> =&gt;</span></span> featureInfo.lessonCount)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isItTimeForNotification$ = lessonCount$.pipe( map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">lessonCount</span></span></span><span class="hljs-function"> =&gt;</span></span> lessonCount % REAL_TALK_NOTIFICATION_LESSON_INTERVAL === <span class="hljs-number"><span class="hljs-number">0</span></span>), );</code> </pre><br><br>  Maintenant, la révision du code est plus rapide, Boris ne passe pas beaucoup de temps à travailler sur le formatage du code déjà écrit, Pavel continue d'écrire comme il l'a écrit (mais maintenant, personne ne maudit avec lui), et Arthur est finalement satisfait, entrant dans le référentiel et souriant de code de beauté.  À l'aide d'un outil simple de février 2019, les gars ont économisé une tonne de temps en arrêtant de se disputer sur le formatage.  Et puis ils ont convaincu le reste des équipes de faire de même. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr484992/">https://habr.com/ru/post/fr484992/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr484974/index.html">Tuiles Wang pour la simulation de la machine de Turing</a></li>
<li><a href="../fr484978/index.html">PubSub est presque gratuit: NOTIFY fonctionnalités de PostgreSQL</a></li>
<li><a href="../fr484982/index.html">Est-il facile d'organiser votre entreprise pour un spécialiste informatique</a></li>
<li><a href="../fr484984/index.html">Développeur de jeux Unity. Nouveau cours d'OTUS</a></li>
<li><a href="../fr484990/index.html">Luxoft TechTalks - podcasts vidéo de gourous informatiques mondiaux et plus</a></li>
<li><a href="../fr484996/index.html">PBX virtuel Beeline. Ce que le manager ne vous dira pas</a></li>
<li><a href="../fr485000/index.html">Le trafic américain est-il cher ou non?</a></li>
<li><a href="../fr485002/index.html">Flutter BloC pattern + Provider + tests + souvenez-vous de l'état</a></li>
<li><a href="../fr485006/index.html">Livre (d'être?). Réflexions sur la nature de l'esprit. Partie II</a></li>
<li><a href="../fr485008/index.html">Encapsuleurs de propriétés Swift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>