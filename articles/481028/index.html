<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôüÔ∏è üîù üîå Gu√≠a para organizar una conexi√≥n remota a un PLC industrial utilizando OpenVPN üö¥üèæ üìï ü§∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo quiero hablar sobre la experiencia adquirida en la organizaci√≥n del acceso remoto a un controlador l√≥gico programable industrial (en ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gu√≠a para organizar una conexi√≥n remota a un PLC industrial utilizando OpenVPN</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481028/"><img src="https://habrastorage.org/webt/3i/sk/nc/3isknctx60njaa-migvm12k3hli.png" alt="imagen"><br><br>  En este art√≠culo quiero hablar sobre la experiencia adquirida en la organizaci√≥n del acceso remoto a un controlador l√≥gico programable industrial (en adelante, PLC) a trav√©s de una soluci√≥n de presupuesto basada en el centro de Internet KEENETIC 4G. <br><br>  Este art√≠culo ser√° especialmente interesante para los especialistas en el campo de los sistemas de control de procesos, quienes preguntaron sobre la organizaci√≥n del acceso remoto, pero no sab√≠an por d√≥nde comenzar. <br><a name="habracut"></a><br><h2>  ¬°Entonces comencemos! </h2><br>  En este ejemplo, consideramos la opci√≥n m√°s com√∫n, a saber: <br><br><ol><li>  La computadora local que ser√° el servidor OpenVPN con el paquete TIA Portal instalado para la programaci√≥n del PLC.  (LAN 192.168.1.0) </li><li>  Un enrutador empresarial con una direcci√≥n IP blanca externa (por ejemplo, 217.196.58.128). </li><li>  KEENETIC 4G Internet Center con un cliente OpenVPN instalado conectado a comunicaciones m√≥viles. </li><li>  Controlador l√≥gico programable SIMATIC S7-1500 (LAN 192.168.112.0). </li></ol><br>  La presencia de una direcci√≥n IP blanca externa en una de las partes es un requisito previo para que el servidor OpenVPN funcione (el servidor OpenVPN debe ubicarse en el lado de la direcci√≥n IP blanca). <br><br>  Para establecer una conexi√≥n VPN entre el Centro de Internet KEENETIC y la estaci√≥n de trabajo, necesitamos instalar el siguiente software: <br><br><ol><li>  <a href="https://openvpn.net/community-downloads/">OpenVPN: un programa para crear redes privadas virtuales seguras, conexi√≥n remota al servidor</a> </li><li>  <a href="https://www.hohnstaedt.de/xca/index.php/download">XCA: un programa para crear f√°cilmente certificados con una interfaz gr√°fica</a> </li><li>  <a href="https://notepad-plus-plus.org/downloads/">Notepad ++ - editor de texto (opcional)</a> </li></ol><br><h3>  Instalar el paquete OpenVPN en Windows. </h3><br>  Instale el componente EasyRSA (para crear certificados utilizando las herramientas integradas (opcional). <br><br><img src="https://habrastorage.org/webt/bf/7g/xa/bf7gxa6zvllo29oail2qstdg-co.jpeg" alt="imagen"><br><br>  En el caso de un mensaje sobre la instalaci√≥n del controlador, haga clic en "instalar". <br><br><img src="https://habrastorage.org/webt/r2/s5/rh/r2s5rh8r8ornoxklsgxhfvaprg4.jpeg" alt="imagen"><br><br>  Si necesita instalar varios adaptadores virtuales o si el adaptador virtual no se instal√≥ correctamente, vaya a la direcci√≥n a continuaci√≥n y ejecute el script "addtab.bat": <br>  C: \ Archivos de programa \ TAP-Windows \ bin <br><br><img src="https://habrastorage.org/webt/ge/m0/dp/gem0dp_mchsh0vkis-bmlhzqboy.jpeg" alt="imagen"><br><br><h2>  Crear certificados X.509 </h2><br><h4>  1. Instalar XCA </h4><br>  <a href="https://www.hohnstaedt.de/xca/index.php/download">XCA: un programa para crear f√°cilmente certificados con una interfaz gr√°fica</a> <br><br><h4>  2. Crear una base de datos </h4><br>  ‚ÄúArchivo‚Äù -&gt; ‚ÄúNueva base de datos‚Äù, luego el programa le pedir√° una contrase√±a, ingrese una contrase√±a o deje los campos en blanco y haga clic en ‚ÄúAceptar‚Äù. <br><br><img src="https://habrastorage.org/webt/er/fl/3s/erfl3ss-uhrge4kzooky7r0998i.jpeg" alt="imagen"><br><br><h4>  3. Crear un certificado de una autoridad de certificaci√≥n (CA) </h4><br>  Para hacer esto, cambie a la pesta√±a "Certificados" y haga clic en el bot√≥n "Nuevo certificado" <br><br><img src="https://habrastorage.org/webt/az/dg/ex/azdgexomfppvs1tqbl9wqpro2ki.jpeg" alt="imagen"><br><br>  A continuaci√≥n, cambie a la pesta√±a "Asunto" y complete los campos obligatorios (lo que est√° resaltado en rojo debe tener un nombre √∫nico). <br><br><img src="https://habrastorage.org/webt/fz/ko/lt/fzkoltel9co6savlmnvuyvgdcdc.jpeg" alt="imagen"><br><br>  Haga clic en "Generar una nueva clave" y confirme la acci√≥n haciendo clic en el bot√≥n "crear". <br><br><img src="https://habrastorage.org/webt/jf/xz/ce/jfxzceulmlnzxbwovjjm19d9ucw.jpeg" alt="imagen"><br><br>  Cambie a la pesta√±a "Extensiones", seleccione el tipo de certificado "Autoridad de certificaci√≥n" y configure el per√≠odo de validez del certificado (el certificado de CA debe tener un per√≠odo de validez m√°s largo que los certificados de computadora que se crear√°n m√°s adelante). <br><br><img src="https://habrastorage.org/webt/88/2n/zu/882nzumclm0gokjy8sfioql74jg.jpeg" alt="imagen"><br><br>  Haga clic en "Aceptar" y ahora podemos comenzar a configurar los certificados de la computadora. <br><br><h4>  4. Crear plantillas de certificado de computadora </h4><br>  Para simplificar la creaci√≥n de certificados de m√°quina, utilizaremos una plantilla preparada previamente.  Cambie a la pesta√±a "Plantillas" y haga clic en el bot√≥n "Nueva plantilla". <br><br><img src="https://habrastorage.org/webt/cd/qh/xj/cdqhxjo7h1jhlf_ohhdm5fjgw2s.jpeg" alt="imagen"><br><br>  Elija "Plantilla vac√≠a" y proceda a editar nuestra plantilla, los nombres entre par√©ntesis deben ser √∫nicos en el futuro. <br><br><img src="https://habrastorage.org/webt/1j/0r/xm/1j0rxmktxgsn-2uuqbqqbkbx0ek.jpeg" alt="imagen"><br><br>  Vaya a la pesta√±a "Extensiones", establezca el tipo en "Asunto final" y establezca el per√≠odo de validez del certificado de la computadora (no debe ser m√°s que el certificado del centro de certificaci√≥n). <br><br><img src="https://habrastorage.org/webt/pm/ft/ms/pmftmsgb6zuerbm0jx9aekbrbxm.jpeg" alt="imagen"><br><br>  Haga clic en Aceptar para crear la plantilla. <br>  Esta plantilla ahora se puede utilizar como base para crear certificados de m√°quina firmados por nuestro centro de certificaci√≥n. <br><br><h4>  5. Crear certificados de computadora usando una plantilla </h4><br>  Cambie a la pesta√±a "certificados" y haga clic en el bot√≥n "Nuevo certificado", seleccione la opci√≥n "Usar este certificado para la firma", seleccione nuestra plantilla &lt;My_Machine&gt; como plantilla y haga clic en el bot√≥n "Aplicar todo". <br><br><img src="https://habrastorage.org/webt/r6/lj/i8/r6lji8nwfwn-0bjq8isxvtqt2nq.jpeg" alt="imagen"><br><br>  Luego, vaya a la pesta√±a "Asunto", ingrese un nombre √∫nico, por ejemplo, "Mi_Servidor", genere una clave. <br><br><img src="https://habrastorage.org/webt/xi/9z/jk/xi9zjkd6fblpi8zntftye3eqfco.jpeg" alt="imagen"><br><br>  Por lo tanto, creamos un certificado de servidor.  Realizamos el mismo procedimiento para el certificado del cliente (My_Client). <br><br><img src="https://habrastorage.org/webt/la/xk/6c/laxk6cujtstogpz5cqwr0z5nmfc.jpeg" alt="imagen"><br><br><h4>  6. Exportaci√≥n de certificados y claves de m√°quinas. </h4><br>  Para crear el archivo de configuraci√≥n del cliente OpenVPN (KEENETIC) y el servidor (PC con Windows), necesitamos exportar el certificado del centro de certificaci√≥n, el certificado del servidor, el certificado del cliente, la clave privada del servidor, la clave privada del cliente. <br><br>  Para hacerlo, vaya a la pesta√±a "Certificados", seleccione el certificado de la Autoridad de Certificaci√≥n My_CA, haga clic en el bot√≥n "Exportar" y c√°rguelo en una carpeta creada anteriormente, por ejemplo My_Keys, ubicada en el escritorio. <br><br><img src="https://habrastorage.org/webt/kf/fv/_b/kffv_bjghn_sirpt851efwjnmag.jpeg" alt="imagen"><br><br>  Hacemos lo mismo para el certificado del cliente (My_Client) y el certificado del servidor (My_Server). <br><br>  Cambie a la pesta√±a "Claves privadas", seleccione la clave My_Client, haga clic en exportar y c√°rguela en nuestra carpeta. <br><br><img src="https://habrastorage.org/webt/t8/ns/ms/t8nsmsnb0szgsaenlfzmaxcrffi.jpeg" alt="imagen"><br><br>  Realizamos el mismo procedimiento para la clave del servidor. <br><br><h4>  7. Creaci√≥n del par√°metro Diffie-Hellman. </h4><br>  Para configurar los par√°metros del servidor, tambi√©n necesitamos el par√°metro Diffie-Hellman <br>  Para crear un par√°metro, haga clic en la pesta√±a "Avanzado" y seleccione la opci√≥n "Generar par√°metros Diphia-Hellman". <br><br><img src="https://habrastorage.org/webt/ij/54/gv/ij54gvdkpwzzlpi1edtkrk3udbu.jpeg" alt="imagen"><br><br>  Luego, seleccione la longitud del par√°metro, por ejemplo, 2048. Luego, cargue nuestro par√°metro en la carpeta con las teclas. <br><br><img src="https://habrastorage.org/webt/fp/pu/ax/fppuaxshiqd8gnsl-g1sueq_pye.jpeg" alt="imagen"><br><br>  Como resultado, los siguientes archivos deben estar en nuestra carpeta: <br><br><ol><li>  Certificado Autoridad Certificado My_CA.crt </li><li>  Certificado de cliente My_Client.crt </li><li>  Certificado de servidor My_Server.crt </li><li>  Clave privada del cliente My_Client.pem </li><li>  La clave privada del servidor My_Server.pem </li><li>  Par√°metro Diphia-Hellman dh2048.pem </li></ol><br><img src="https://habrastorage.org/webt/k4/k1/ng/k4k1ng5oqqcd_1fgzp_ub3frntg.jpeg" alt="imagen"><br><br><h2>  Crear archivos de configuraci√≥n de cliente y servidor </h2><br>  Porque  Dado que el protocolo de comunicaci√≥n industrial S7-1500 es Profinet, para establecer una conexi√≥n con el PLC, necesitamos organizar una conexi√≥n L2, que en este caso es la interfaz TAP. <br><br><h3>  Configurar el servidor OpenVPN </h3><br>  Para crear un archivo de configuraci√≥n del servidor, vaya a la carpeta con los archivos de configuraci√≥n de OpenVPN [C: \ Archivos de programa \ OpenVPN \ config] y cree un archivo TAP_Server con la extensi√≥n .ovpn <br><br><img src="https://habrastorage.org/webt/l6/se/y8/l6sey8_ftv5zvrjj8lm7ccxu_ew.jpeg" alt="imagen"><br><br>  Abra el archivo TAP_Server.ovpn con un visor de archivos de texto (por ejemplo, Notepad ++) y copie el siguiente texto: <br><br><pre><code class="plaintext hljs">#    L2  dev tap # ,   Windows  #    TAP-Windows  dev-node MyTap #       TAP  server-bridge #       IP proto udp4 #   ,     OpenVPN port 50501 #   10       120  #     ,  . keepalive 10 120 #    cipher AES-256-CBC #    verb 3 #       &lt;ca&gt; &lt;/ca&gt; #      &lt;cert&gt; &lt;/cert&gt; #      &lt;key&gt; &lt;/key&gt; #     () Diffie-Hellman (-). &lt;dh&gt; &lt;/dh&gt;</code> </pre> <br>  Luego abra el visor de archivos de texto My_CA.crt, My_Server.crt, My_Server.pem, dh2048.pem y copie el texto de: <br>  My_CA.crt en &lt;ca&gt; &lt;/ca&gt; <br>  My_Server.crt en &lt;cert&gt; &lt;/cert&gt; <br>  My_Server.pem en &lt;key&gt; &lt;/key&gt; <br>  dh2048.pem en &lt;dh&gt; &lt;/dh&gt; <br><br><img src="https://habrastorage.org/webt/x5/tk/ow/x5tkowkf3whirnr8gfan-a8cola.jpeg" alt="imagen"><br><br>  Como resultado, obtenemos lo siguiente: <br><pre> <code class="plaintext hljs">dev tap dev-node MyTap server-bridge proto udp4 port 50501 keepalive 10 120 cipher AES-256-CBC verb 3 &lt;ca&gt; -----BEGIN CERTIFICATE----- MIIDqjCCApKgAwIBAgIIJJ8tf67Csf4wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgYsxCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlfQ0ExIDAeBgkqhkiG9w0BCQEW EW15ZW1haWxAbXlob3N0Lnh4MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC AQEA3dJoAVl7foXZMavZIr9RTB59h+El26OYll7KMBHritf+x8DEVjcg86uyDSf0 yzLtAR+8J013W3SRDVpl3gqdk3t1qb7Paz1OUrV2Hu3N5Ws1s4elpENTQAe1HFZS u0NRhXBCxTTyToNdb1pKcIJziVNLXdTL+pud0T8FNs6q37t14XFkfDOw85m7y3py vU8+ucmQEd5vOKPjcY1jklVZkQJKcGTI77x/R2k6HK7ryul5uIepi/RrVrgTNe5W rYWuk6wlmmFLvgdzoVaBJO8edo89M7oJIQFMNN9x3cpbths6/3ZummBktfgVa7xy 3fs//M5v1pjnYeJ5wd5tiCXkpQIDAQABoxAwDjAMBgNVHRMEBTADAQH/MA0GCSqG SIb3DQEBCwUAA4IBAQDbNhPy3IftjPVNyaUH/5AW6R0Fjqoct/55ZMDrdWlLY1mo iTTxhFPv1DbilUE/nr+SwGvZV2MQs4G1hi9PgGqY5a+lJCSios8BJ7zlrt/LLQQ/ st0r2wzpCYROxoi+zu9YNGZJPP9GI3KdcVye9Rt3vbLbL8LQ8kKKwn3Ju5i1SUMy gzvGTNUPtqOKVJid39IIdva3iMUBspfMGv2EcaGaRWekW9Pni/gBS2eHkBH1/X6n KiopjtZw7A4RPHzC58jp+ypT/X63tPwf5+kWsMDeLG1XTKnLoPeAVNtszMhGsgzE DoZUuL4pb8XbpcnrPlgp0WSkrf1RJrJGuArvUDLu -----END CERTIFICATE----- &lt;/ca&gt; &lt;cert&gt; -----BEGIN CERTIFICATE----- MIIDyzCCArOgAwIBAgIIINPrUqBedY8wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgY8xCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzESMBAGA1UEAwwJTXlfU2VydmVyMSAwHgYJKoZIhvcN AQkBFhFNeUVtYWlsQE15SG9zdC54eDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC AQoCggEBAJhJYVC8WJneQTTO9p7NJvS803W1lq/8Z78Vx8J5jejVhXXZa0NYfXX8 iiXUr26vdhXN5htSNgktz9Tr5zUHwKhzpq+yYICPS44AmzMJByPBhjHUq7/HjnOA e78k80OTzqL5XH8olrQc7690K1GW3b0PduH+bYykDGijQ8vlkwBKQhgxeo7zkTrm VWsgmFJEbrdGoZPnwyHrStMHM0f6UMkEWqooughphaxtJWzS4GJES09z3VSN/3CV FuV2Jn3UGyoEHKrZUa/kFgRx9j9AqRx3//WFusm2KPUim+IA4SLoXP5M6pZXaxvA Z4y5b2xIc/OFFX5DfaCSpAMFwzZFYXkCAwEAAaMtMCswCQYDVR0TBAIwADAeBglg hkgBhvhCAQ0EERYPeGNhIGNlcnRpZmljYXRlMA0GCSqGSIb3DQEBCwUAA4IBAQAZ EXHnqu9Ilz6+w4SB/wfl5HG3UyS2n8oNpTHbFkX1Sn2+2FFuSCZlxhQYyhZKUjRq NsbWMMcwRDST9V6cPw6iaTPfz2G8zaBFjsemnyYD6YttNmdqXgv5wiik3btP2Jk2 3msmg8MlA/EgeZWSFe0ee4yE+L145JgtEQeg0xb7t8J9OOt3W1GVnoX1hQa2GePH PlKqc5ooPAuzIW4kWzxQefqcV5j1Rof98/dQJwJwCatRYgFciOZe26rcsu0R1iKF yS6NB+HwJxZY1ExPcSDmiVu5cyeasSLp1bxcqb9V7a3e9YxNZ8AVmjh/NfOcb2a/ /Mx8QxPEP7g+B6tWfF/Q -----END CERTIFICATE----- &lt;/cert&gt; &lt;key&gt; -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEAmElhULxYmd5BNM72ns0m9LzTdbWWr/xnvxXHwnmN6NWFddlr Q1h9dfyKJdSvbq92Fc3mG1I2CS3P1OvnNQfAqHOmr7JggI9LjgCbMwkHI8GGMdSr v8eOc4B7vyTzQ5POovlcfyiWtBzvr3QrUZbdvQ924f5tjKQMaKNDy+WTAEpCGDF6 jvOROuZVayCYUkRut0ahk+fDIetK0wczR/pQyQRaqii6CGmFrG0lbNLgYkRLT3Pd VI3/cJUW5XYmfdQbKgQcqtlRr+QWBHH2P0CpHHf/9YW6ybYo9SKb4gDhIuhc/kzq lldrG8BnjLlvbEhz84UVfkN9oJKkAwXDNkVheQIDAQABAoIBAGZFmapr4yDqx2Xc vHmnk0r3aRf7LMjhvRbyXKZ5ldlRVIDx0/x1eER9ppWDgZHXGnnIPooIqyt87b+z 8iGGJFe826vRIsgT9AzY0WHz5SyZMjNS/Ukdjsh4+CJFgW3X3QVMbFclfhhV+o4d eV4g8KegtBlQEmhKX98CDmznr9KYAxBtiMODkG3gi523+8qgOH5Nqgr+0CGxwcJU 4fDHadjbSj7+12ZrY3TVZm451fEzgh2nPAseyAoNYe0CM9hExmq4jeNxjZFQHNBv refghZaPmyuRWSOfzNbEwRsLCZeLUHDdrNvsPRnFvmLcFhtFKwctngvkGK5lPs1w dCgs8pUCgYEAyJOsi+ZTAWTjJC1pCr3FRJEjoqfqZGw/OLCKV7PBF8Yf2DIB+LDD gfgoMi39sK/HkaH1H6CqD1Gter8WE67gAURvo5UjK4vFAGhmQSbiwhRUCRKRljwT zB4k649XpD8fiOzd9S12uKyr8EvvDbOz9x1XcxQELcqURIunTuDH4CsCgYEAwl3F twSkSOPYG2AeLnuwf8sYtFbcvSYL/8cGovOuZ0GlSLpHO2k1qhUzl6HrpIhEyVom IQRJW9S5lB7z5lU/CVcbGmYLwu4y5/tl4MeG8NOEj1o8FR9RzUw92dSSKoMfCMad lz/RmOrBnX4pwqICs7r7h7VsnOsr/AYn5H04zusCgYEAwHHv+8rhmVTTGsL3Jfcu brtTFZ1Gp1O01Q+NrNgrTEQsCaLxgUsYSntvFbZK0lvVf0WFivL8N/aGHF97Lyd6 hbzD4JAXTpCsU9fXRGuq5cvbVVkblqnN1OqXQewmitCF0TpzO+qDHm2OCuDQXLUu 1sqwPRnXaJgV6i6UOHozTEECgYEAgmguFqxrmWgdf8iOl3tvoV5f1eeNtO7JEDS1 1DEQ68CUp+YrksX1NoeBFRSTqNGw7TOp728T1SQ12xalZ/38DEVALwcWjxQIXbND 2HumowAXqaLOOxHHbangub0w0IsnEFlKNMeh1ipz+zpBxI+0pmgnCReFpwb2fOKY c2o86j8CgYAWTWn/Y1/bNgtStzya6fbxpc4Mc2nCZu6bTQpAgA44r+nRJuHpVm0T cGDKj4NZ8H4wqMmk58GoOreAVsX4qXeN9QkdfAR5dA8eWVz42faC328W3G4VA5cc GvTqDMzq0j3bz+4csHMn3BHatHymjgsg0sgc8FshuD6dQk0NNruk9A== -----END RSA PRIVATE KEY----- &lt;/key&gt; &lt;dh&gt; -----BEGIN DH PARAMETERS----- MIIBCAKCAQEAlpVUnvCTJ1XF9mnwhf+P+QZhVWsNyRaqEgLuO2a/fGUqPESU9KRo bDa489awzJs6j/JCKh1xR5H5JLE+Ho6XdgIXH9LTr03BV3PsPQiA28ZiluekBGGY ps7dTLr0Ex4V6Ae3+E+Z7lM/Yhsa4w6fl+GNRkastD42Nx4g4iN+cIerLMFCRPl1 P7Go36VbEtO/aNX/zNExmcDsYSqiLkBeGrNxXen2Loqex5AlwE9WOliUbak6Ra/W vf21Wi03TvBBfjEDKtM/Bsyo8Ar2lgBYIrANvylU/0Gg8OyRWqcIoQjwPyjavAHd v14V1igYDa1xP9WQ262DMHfHLhqwjOW2GwIBAg== -----END DH PARAMETERS----- &lt;/dh&gt;</code> </pre><br><br><h3>  Configurar la configuraci√≥n del cliente OpenVPN </h3><br>  Para crear un archivo de configuraci√≥n del cliente, vaya a la carpeta con los archivos de configuraci√≥n de OpenVPN [C: \ Archivos de programa \ OpenVPN \ config] y cree un archivo TAP_Client con la extensi√≥n .ovpn <br>  Abra el archivo TAP_Server.ovpn con un visor de archivos de texto (por ejemplo, Notepad ++) y copie el siguiente texto: <br><br><pre> <code class="plaintext hljs"># ,      client #    L2  dev tap0 #       IP proto udp4 #   ,     OpenVPN port 50501 #  ,      #    IP  DNS. remote 217.196.58.128 #    cipher AES-256-CBC #    verb 3 #       &lt;ca&gt; &lt;/ca&gt; #      &lt;cert&gt; &lt;/cert&gt; #       &lt;key&gt; &lt;/key&gt;</code> </pre><br>  Luego abra el visor de archivos de texto My_CA.crt, My_Client.crt, My_Client.pem y copie el texto de: <br>  My_CA.crt en &lt;ca&gt; &lt;/ca&gt; <br>  My_Client.crt en &lt;cert&gt; &lt;/cert&gt; <br>  My_Client.pem en &lt;key&gt; &lt;/key&gt; <br><br><img src="https://habrastorage.org/webt/lk/pr/yy/lkpryyecjvigt-pko17zttdl9pu.jpeg" alt="imagen"><br><br>  Como resultado, obtenemos lo siguiente: <br><br><pre> <code class="plaintext hljs">client dev tap0 proto udp4 port 50501 remote 217.196.58.128 cipher AES-256-CBC verb 3 &lt;ca&gt; -----BEGIN CERTIFICATE----- MIIDqjCCApKgAwIBAgIIJJ8tf67Csf4wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgYsxCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlfQ0ExIDAeBgkqhkiG9w0BCQEW EW15ZW1haWxAbXlob3N0Lnh4MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC AQEA3dJoAVl7foXZMavZIr9RTB59h+El26OYll7KMBHritf+x8DEVjcg86uyDSf0 yzLtAR+8J013W3SRDVpl3gqdk3t1qb7Paz1OUrV2Hu3N5Ws1s4elpENTQAe1HFZS u0NRhXBCxTTyToNdb1pKcIJziVNLXdTL+pud0T8FNs6q37t14XFkfDOw85m7y3py vU8+ucmQEd5vOKPjcY1jklVZkQJKcGTI77x/R2k6HK7ryul5uIepi/RrVrgTNe5W rYWuk6wlmmFLvgdzoVaBJO8edo89M7oJIQFMNN9x3cpbths6/3ZummBktfgVa7xy 3fs//M5v1pjnYeJ5wd5tiCXkpQIDAQABoxAwDjAMBgNVHRMEBTADAQH/MA0GCSqG SIb3DQEBCwUAA4IBAQDbNhPy3IftjPVNyaUH/5AW6R0Fjqoct/55ZMDrdWlLY1mo iTTxhFPv1DbilUE/nr+SwGvZV2MQs4G1hi9PgGqY5a+lJCSios8BJ7zlrt/LLQQ/ st0r2wzpCYROxoi+zu9YNGZJPP9GI3KdcVye9Rt3vbLbL8LQ8kKKwn3Ju5i1SUMy gzvGTNUPtqOKVJid39IIdva3iMUBspfMGv2EcaGaRWekW9Pni/gBS2eHkBH1/X6n KiopjtZw7A4RPHzC58jp+ypT/X63tPwf5+kWsMDeLG1XTKnLoPeAVNtszMhGsgzE DoZUuL4pb8XbpcnrPlgp0WSkrf1RJrJGuArvUDLu -----END CERTIFICATE----- &lt;/ca&gt; &lt;cert&gt; -----BEGIN CERTIFICATE----- MIIDyzCCArOgAwIBAgIII6a7Y3h+sS0wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgY8xCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzESMBAGA1UEAwwJTXlfQ2xpZW50MSAwHgYJKoZIhvcN AQkBFhFNeUVtYWlsQE15SG9zdC54eDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC AQoCggEBAM1xGkTl0fTge3jacEgSkrMoN3wgIr94Y1uD574XqxKYdH11hEdldTLa gx8MGLIYaXN/HQTEYuhxpk+EX0Mqns9TazGouvE2/poP4KiO8iSHVO9PaaKO0OKq Y7ctt4TVBdnD2UjiHCq5DfQ/T6UGv4bOR61RCqymyBnnVQ/KyR0DX4/U+jLx9wxS d5OLD0SSqOjdLTnI1gBpEphRuPo6705I+eM7cATyoL17GMgAQ1W4zLzq3ojNPCo3 U/P0tPvQi6hHoJv5Rj8EfgK7eID7kUqvCrG4Vvg+iKjC7m1ABweOjBXVpk7UsKin 97I/Gz0PGOwnsh3a3J/WNZu1DuPfw9UCAwEAAaMtMCswCQYDVR0TBAIwADAeBglg hkgBhvhCAQ0EERYPeGNhIGNlcnRpZmljYXRlMA0GCSqGSIb3DQEBCwUAA4IBAQDd v4iq13jCqRI6yeFlB8ouMVtuVpI+p7w6KBYyc+phbDuzqI4iFkMyhj0H+cx/760M ziQMuLR/pRrSPKPI03JgFI5dFh1txnNFkelQutZ+6qe4c1y9OhKhwg3n6jS2PevG Tvlrl1utoiNOVXhcvH0CxuD5AJEyQa9SH/vO3TRQC9g5zbfULTgOhpUmaVPYBkX/ tBnvnKFdmsLqwgrKvdqfJF3WqJuQSdHtyp4MVZN1d/T+HoQ5YfN5nGXpLLgLdGaq KvtAtFACkltO0A7R2WeLw1WNiXGHNxd3OFuVedapub1zXCSiYZNC+8MX7PkQnV9e p1JB/AWXg/Z7uQSua3+c -----END CERTIFICATE----- &lt;/cert&gt; &lt;key&gt; -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEAzXEaROXR9OB7eNpwSBKSsyg3fCAiv3hjW4PnvherEph0fXWE R2V1MtqDHwwYshhpc38dBMRi6HGmT4RfQyqez1NrMai68Tb+mg/gqI7yJIdU709p oo7Q4qpjty23hNUF2cPZSOIcKrkN9D9PpQa/hs5HrVEKrKbIGedVD8rJHQNfj9T6 MvH3DFJ3k4sPRJKo6N0tOcjWAGkSmFG4+jrvTkj54ztwBPKgvXsYyABDVbjMvOre iM08KjdT8/S0+9CLqEegm/lGPwR+Art4gPuRSq8KsbhW+D6IqMLubUAHB46MFdWm TtSwqKf3sj8bPQ8Y7CeyHdrcn9Y1m7UO49/D1QIDAQABAoIBAQC6dsyL+jf9VX5b 6497qvfhikAJ9jTzqjYsCuXcwCiygRNCB9ae4rRkCrZ2CImlo8iaXqYc/I51QSnd BF1eXiG0NZeWg/nhE7Q0avLSqqOWigqKBn7vX0ayZEqLKQBnnN1pkHv3zdoY4MuM g6YrN5vApBukcGkK2XnHIRMweTLek9/qAeDgcE4ZVXIgHkNjqAc9y/kd5Sx+fL+N k/dGQeTne2xgzJZsiu4uoS9jnBE7g1hQpfLpbyoREaRjWob/KP2IDFIjInjnHrb9 mO5Xuqsv8mHp4+67Ium8IN5jDldoObayEd8giE6x3r/3x60RSmV8IDHKPIs507qD 2hoCXz8hAoGBAObhKqowjp5TuqPt9Nrm+cVZKroDvz8bXb8ejOMn22Wj171cdNy3 gxbt5ksLXsHmjPWm9fK5ZL8m33U+uMwcgqIUbHILo40AQK9FtwkjyeTQne1OBjJa 2tjCc3ySo0icEswRFJrCu9Rcszehj56WlJzmvE0CiM2QGG3ExOxl8LNtAoGBAOPL Zv5nkG0RAuOg5w+tLi2H14BcD1ICpPcq232mXdqzEeeXSysvgpwDaOWPGXtgWvIK ScIw9xqW7tonk5EjKnsgPajV8OvG+vAqC2liHy00IxZ+YB+vzE66uUEpYXUpzI2n F+pb+rQDSQo3beyamjeL1wYEjntDyWqfRmQfQSkJAoGAMP1CIk6fVHULu1D4jaJJ CVj8OfAlmmxiHfWLi3+fjBeR5XpCybqetDTSksXc22PiMRW2RkSUXgMPkz810wmR pnaS9DgIAhk1oHs4dVYEtuqVOA9APVsN6MSJ4Lr0rql/S5GsP5JmbI8m7/z2Dn6B FjHXbrfE82lJ5bDE4CxZQJkCgYAvmtJrWDlWkbeI2pdvL0H3QexHZvXMrcDL5qj4 GUyD5+hV/cg3vjYNZKkHUGCC6CAZdQz1CEabx+8iqCKusiqukI5SOmOe4naOujqo S1k4mSy8Bq0P8i1ARsVwWLWFRrb443KcB5zdAdLBz9OpHqYb9Z16JHmiSQhOv/p1 8hIsAQKBgQCvHQu6NKsdNDogXCiwEt52jlqBRs4NEjspupOKzV+HlEfek6ijKMce P9o4U+vpiG5ZmIYPzgTfAlaWxoMi5ynRZhiMA8dFzX53uyJiYJetXm+zb71l9BW8 kmsch0B5z5yAjEA+CWIqDJ05O7QTLMLC69QU4UICswbyJy1MFUfrbg== -----END RSA PRIVATE KEY----- &lt;/key&gt;</code> </pre><br>  En esto, la creaci√≥n de los archivos de configuraci√≥n del cliente y el servidor se considerar√° completa. <br><br><h2>  Configuraci√≥n del enrutador empresarial </h2><br>  Porque  Como nuestra computadora personal no est√° conectada directamente a la l√≠nea con una IP blanca externa, sino a trav√©s de un enrutador empresarial, para acceder a una computadora con una direcci√≥n IP local desde una red externa, es necesario reenviar el puerto que especificamos en la configuraci√≥n del servidor (50501). <br><br>  Los procedimientos de reenv√≠o de puertos pueden variar seg√∫n el modelo de su enrutador. <br>  La siguiente captura de pantalla muestra un ejemplo de configuraci√≥n de un enrutador empresarial (no nuestro KEENETIC 4G). <br><br><img src="https://habrastorage.org/webt/vj/sz/1j/vjsz1j1gklcppxcucvsndpuwiui.png" alt="imagen"><br><br><h2>  Ejecutar el servidor OpenVPN en una computadora personal </h2><br>  Nuestros archivos de configuraci√≥n est√°n listos, queda por pasar a los matices de configurar OpenVPN en un sistema basado en Windows, para esto vamos a configurar los ajustes del adaptador y cambiar el nombre del adaptador TAP-Windows V9 como MyTap (de acuerdo con el nombre dev-node). <br><br><img src="https://habrastorage.org/webt/e5/gl/yz/e5glyzs2wksvc55oaceguxsisne.jpeg" alt="imagen"><br><br>  Y tambi√©n configure la direcci√≥n local para nuestro adaptador (debe asignarse a la <u><b>direcci√≥n IP desocupada de</b></u> la red local <u><b>de</b></u> nuestro controlador, por ejemplo 192.168.112.230) <br><br><img src="https://habrastorage.org/webt/3o/jq/lu/3ojqlus9g_e1elkqinnswm8l1rs.jpeg" alt="imagen"><br><br>  A continuaci√≥n, inicie el servidor OpenVPN: <br><br>  1. Inicie la aplicaci√≥n ubicada en C: \ Archivos de programa \ OpenVPN \ bin \ openvpn-gui.exe (o haga clic en el acceso directo en el escritorio) <br><br><img src="https://habrastorage.org/webt/mh/dr/6q/mhdr6q3rhquwfqrkfzwig-ph42s.jpeg" alt="imagen"><br><br>  2. Vaya a la bandeja, seleccione el archivo de configuraci√≥n creado "TAP_Server" y haga clic en "conectar" <br><br><img src="https://habrastorage.org/webt/yl/xt/_y/ylxt_yc5yhzg44stx5pkilyftkc.jpeg" alt="imagen"><br><br>  3. Aseg√∫rese de que nuestro servidor est√© funcionando y contin√∫e con la configuraci√≥n del Centro de Internet KEENETIC 4G <br><br><img src="https://habrastorage.org/webt/sc/y1/ta/scy1taywqsvhcn9y3lavnfvll_u.jpeg" alt="imagen"><br><br><h2>  Configuraci√≥n del Centro de Internet KEENETIC 4G </h2><br>  Por defecto, el cliente OpenVPN no est√° incluido en KEENETIC 4G, por lo que deber√≠amos instalarlo primero.  Para hacer esto, conectamos el KEENETIC 4G a Internet de varias maneras (por cable, Wi-Fi o usando un m√≥dem 4G), luego vamos a "Configuraci√≥n general" y hacemos clic en el bot√≥n "Cambiar conjunto de componentes". <br><br><img src="https://habrastorage.org/webt/sk/g0/qs/skg0qsorsk9yqnb3aqslphvnbm8.jpeg" alt="imagen"><br><br>  Seleccionamos los componentes que necesitamos (en este caso, el cliente OpenVPN ya se ha instalado, por lo que se muestra otro componente, por ejemplo) y hacemos clic en el bot√≥n "Instalar actualizaci√≥n". <br><br><img src="https://habrastorage.org/webt/iy/xq/tl/iyxqtlsyavy1on1ki9geari-5k0.jpeg" alt="imagen"><br><br>  A continuaci√≥n, pasemos a configurar nuestra red, para esto seleccionamos "Red dom√©stica" y configuramos la direcci√≥n IP de nuestro enrutador, por ejemplo 192.168.112.101 (tambi√©n deber√≠a ser libre). <br><br><img src="https://habrastorage.org/webt/5q/jl/vc/5qjlvc-edpe_n4io3ey_nvd3t-c.jpeg" alt="imagen"><br><br>  Luego, debemos configurar nuestra conexi√≥n OpenVPN, para esto seleccionamos "Otras conexiones", haga clic en el bot√≥n "Agregar conexi√≥n". <br>  Ingrese el nombre de la conexi√≥n (arbitraria, por ejemplo, TAP_Client_PLC), seleccione el tipo de conexi√≥n (OpenVPN), copie el texto de nuestro archivo creado para el cliente en la configuraci√≥n de OpenVPN (TAP_Client.ovpn) y haga clic en el bot√≥n Guardar para aplicar los cambios. <br><br><img src="https://habrastorage.org/webt/nb/lz/vz/nblzvzf-cr3x9_2uf3qsozjpdeq.jpeg" alt="imagen"><br><br>  A continuaci√≥n, debemos incluir la interfaz OpenVPN en el puente principal, pero antes de realizar este procedimiento tendremos que instalar el cliente telnet.  Para hacer esto, vaya al panel de control, luego "Encienda o apague los componentes de Windows", seleccione Cliente Telnet y haga clic en "Aceptar". <br><br><img src="https://habrastorage.org/webt/va/al/fa/vaalfa3q9qrsd395ea2r2fiapwa.jpeg" alt="imagen"><br><br>  Despu√©s de instalar el cliente telnet, con√©ctese a nuestro KEENETIC 4G: en el teclado, presione la combinaci√≥n de teclas WIN + R, ingrese cmd <br><br><img src="https://habrastorage.org/webt/hp/st/ua/hpstuakyh_1nmtscsbtznc5jt78.png" alt="imagen"><br><br>  Ingrese el comando telnet [IP_OUR_KEENETIC] (por ejemplo, telnet 192.168.112.101) <br><br><img src="https://habrastorage.org/webt/gw/bd/yw/gwbdywgl0qlvpi9zw4cjjs9ocpg.jpeg" alt="imagen"><br><br>  Pasaremos por el proceso de autorizaci√≥n (ingrese el nombre de usuario y la contrase√±a (si se ha configurado)) e ingrese los siguientes comandos: <br><br><pre> <code class="plaintext hljs">interface Bridge0 include OpenVPN0 system configuration save</code> </pre><br>  Verifique la correcci√≥n de nuestra configuraci√≥n: <br><br><pre> <code class="plaintext hljs">show running-config</code> </pre><br>  Al final, deber√≠amos ver algo como esto: <br><br><img src="https://habrastorage.org/webt/f7/uw/th/f7uwthmd7v0c5bdvjgyp6duoye0.jpeg" alt="imagen"><br><br>  Observo que la interfaz OpenVPN0 se crea solo despu√©s de crear la conexi√≥n OpenVPN. <br><br>  Incluimos nuestro cliente OpenVPN. <br><br><img src="https://habrastorage.org/webt/fz/of/qg/fzofqgta_w1xth5a1lldhf9eawm.jpeg" alt="imagen"><br><br>  Vemos que KEENETIC 4G se ha conectado a nuestro servidor y procedemos a configurar nuestro controlador S7-1500. <br><br><img src="https://habrastorage.org/webt/bt/ye/ex/btyeexdlihyf-06asr7viqhjea0.jpeg" alt="imagen"><br><br><h2>  Configuraci√≥n del controlador l√≥gico programable S7-1500 </h2><br>  En la configuraci√≥n de nuestro controlador, es suficiente establecer la direcci√≥n local de nuestro enrutador: <br><br><ol><li>  Establezca la casilla de verificaci√≥n "Usar enrutador" </li><li>  Conducimos en la direcci√≥n de la red dom√©stica de nuestro KEENETIC 4G (192.168.112.101) </li></ol><br><img src="https://habrastorage.org/webt/0h/vb/cd/0hvbcdeyy8ttar8t0qykw4zkugi.jpeg" alt="imagen"><br><br>  Despu√©s de cargar la configuraci√≥n, el controlador estar√° disponible para acceder a trav√©s de una conexi√≥n remota. <br><br><img src="https://habrastorage.org/webt/xd/s_/wv/xds_wvc2mq1_q8ga5mfuusnaklc.jpeg" alt="imagen"><br><br>  Esto completa la configuraci√≥n de nuestra conexi√≥n remota. <br><br>  Gracias por su atencion! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/481028/">https://habr.com/ru/post/481028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../481014/index.html">Yo / NOSOTROS no somos anfitriones de Ayhor. O c√≥mo escupir en la industria</a></li>
<li><a href="../481016/index.html">Experimento VonmoTrade. Parte 1: intercambios y tecnolog√≠a moderna</a></li>
<li><a href="../481018/index.html">Y nuevamente sobre la protecci√≥n de las infraestructuras virtuales.</a></li>
<li><a href="../481020/index.html">Escribir un simulador de escritura t√°ctil usando JavaScript puro: Parte 2</a></li>
<li><a href="../481024/index.html">¬øPor qu√© abandon√© la API de Google Maps?</a></li>
<li><a href="../481030/index.html">¬øQu√© tipo de cyberdec me gustar√≠a hacer por m√≠ mismo?</a></li>
<li><a href="../481032/index.html">¬øPor qu√© fue posible hackear? Probablemente porque el atacante</a></li>
<li><a href="../481034/index.html">T√∫nel VPN directo entre computadoras a trav√©s de proveedores NAT (sin VPS, usando un servidor STUN y Yandex.Disk)</a></li>
<li><a href="../481036/index.html">30 utilidades para herramientas de desarrollo de Firefox</a></li>
<li><a href="../481038/index.html">Confesi√≥n de un adicto al dise√±o. C√≥mo hicimos el juego "IT Alchemy" en un mes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>