<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧕🏾 🚏 🧓🏽 مكتبة Java مفتوحة المصدر مع تصفية stacktrace ، تحليل سلسلة الصامت ومقارنة الإصدار 🤚 🤚🏽 ✊🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="خلال بعض الوقت في وظائف مختلفة ، واجهت العديد من الأدوات المساعدة التي لم أجدها متوفرة في ذلك الوقت. ورأيت أنني في حاجة إليها عدة مرات مرارًا وتكرارًا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>مكتبة Java مفتوحة المصدر مع تصفية stacktrace ، تحليل سلسلة الصامت ومقارنة الإصدار</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480268/" style=";text-align:right;direction:rtl"> خلال بعض الوقت في وظائف مختلفة ، واجهت العديد من الأدوات المساعدة التي لم أجدها متوفرة في ذلك الوقت.  ورأيت أنني في حاجة إليها عدة مرات مرارًا وتكرارًا.  لذلك كتبت مكتبتي الصغيرة التي وجدتها مفيدة للغاية.  لذلك نشرت للتو كمكتبة جافا مفتوحة المصدر. <br><br>  <a href="https://github.com/michaelgantman/Mgnt/releases">هنا هو الرابط جيثب</a> <br><br>  <a href="http://michaelgantman.github.io/Mgnt/docs">Javadoc على الانترنت متاح هنا</a> <br><br>  أيضا ، تتوفر هذه المكتبة في Maven Central.  فيما يلي بعض التحف Maven (الإصدار 1.5.0.8 هو الأحدث في وقت كتابة هذا المقال ولكنه قد يتغير في المستقبل. للتحقق من أحدث إصدار ، ابحث عن قطعة أثرية "MgntUtils" على <a href="http://search.maven.org/">الموقع http: //search.maven. غزاله /</a> ): <br><br><pre style=";text-align:right;direction:rtl"><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span>javadoc<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.michaelgantman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>MgntUtils<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.5.0.8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span>sources<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">classifier</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  أدناه هو مجرد شرح قصير لما هو موجود.  تأتي المكتبة مع JavaDoc مكتوب بشكل جيد (آمل) مع وصف تفصيلي.  حتى هنا قائمة الميزات: <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  Stacktrace مرشح الضوضاء </h3><br>  في تجربتي ، كانت هذه الميزة الأكثر عمومية ومفيدة بالنسبة لي.  Stacktrace هو المنقذ عند تصحيح الأخطاء أو محاولة معرفة الخطأ الذي حدث في التطبيق الخاص بك.  ومع ذلك ، عند العمل مع السجلات على جانب الخادم ، يمكنك العثور على stacktrace الضخمة التي تحتوي على أطول ذيل عديم الفائدة من مختلف الأطر والحزم ذات الصلة بـ Application Server.  وفي مكان ما في هذا الكومة ، هناك عدة سطور تتبع ذات صلة وقد تكون في شرائح مختلفة مفصولة بمعلومات غير مجدية.  يصبح كابوسا للبحث عن الأشياء ذات الصلة.  في ما يلي رابط يصف المشكلة نفسها بأمثلة من واقع الحياة (وليس للمتخوفين) <a href="https://dzone.com/articles/filtering-stack-trace-hell">https://dzone.com/articles/filtering-stack-trace-hell</a> .  لذلك في مكتبتي ، هناك فئة تسمى <i>TextUtils</i> ولها طريقة <i>getStacktrace ()</i> مع العديد من التواقيع الزائدة.  يستغرق مثيل Throwable ويسمح بتعيين بادئة الحزمة من الحزم ذات الصلة. <br><br>  أيضا ، فإن الأداة المساعدة نفسها (بدءا من الإصدار 1.5.0.3) لديها <i>getStacktrace ()</i> طريقة تأخذ واجهة CharSequence بدلا من Throwable ، وبالتالي تسمح لتصفية وتقصير stacktrace المخزنة كسلسلة بنفس طريقة تكديس المستخرجة من Throwable.  لذلك ، يمكن تصفية مكدسات الأساس "سريعًا" في وقت التشغيل أو لاحقًا من أي مصدر نصي مثل السجل.  (فقط للتوضيح - لا تدعم الأداة المساعدة تحليل ملف السجل بأكمله وتعديله. إنها تدعم التصفية فقط لتكوّن stacktrace كما تم تمريره كسلسلة. لذلك إذا أراد أي شخص تصفية الاستثناءات في ملف السجل ، فسيتعين عليه تحليل ملف السجل ثم استخراج stacktrace (s) كسلسلة منفصلة ومن ثم يمكن استخدام هذه الأداة المساعدة لتصفية كل stacktrace الفردية). <br><br>  هنا مثال للاستخدام.  دعنا نقول أن رمز شركتك موجود دائمًا في الحزم التي تبدأ بـ "com.plain. *" لذا ، يمكنك تعيين هذه البادئة والقيام بذلك <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">logger.info(TextUtils.getStacktrace(e,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>,<span class="hljs-string"><span class="hljs-string">"com.plain."</span></span>));</code> </pre> <br>  سيؤدي ذلك إلى تصفية جميع الأجزاء غير المجدية في التتبع بذكاء ، مما يتركك بتجميع موجز للغاية.  أيضًا ، وجدت أنه من المناسب جدًا تعيين البادئة مسبقًا ثم استخدام طريقة الراحة فقط <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">TextUtils.getStacktrace(e);</code> </pre> <br>  سوف تفعل الشيء نفسه.  لضبط البادئة فقط استخدم الطريقة <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">setRelevantPackage(<span class="hljs-string"><span class="hljs-string">"com.plain."</span></span>);</code> </pre> <br>  إذا كنت ترغب في ضبط هذه القيمة مسبقًا من خلال التكوين ثم البدء بإصدار المكتبة 1.1.0.1 ، يمكنك ضبط "متغير البيئة" " <b>MGNT_RELEVANT_PACKAGE</b> " أو خاصية النظام " <b>mgnt.relevant.package</b> " على القيمة " <i>com.plain</i> " <i>.</i> والخاصية سيتم تعيينها على تلك القيمة بدون استدعاء الأسلوب <i>TextUtils.setRelevantPackage ("com.plain.")؛</i>  صراحة في التعليمات البرمجية الخاصة بك.  لاحظ أن قيمة خاصية النظام سيكون لها الأسبقية على متغير البيئة إذا تم تعيين كليهما.  مجرد تذكير أنه مع خاصية النظام يمكنك إضافته في سطر الأوامر باستخدام علامة -D: <br><br>  "-Dmgnt.relevant.package = com.plain." <br><br>  أيضًا ، إذا كنت تستخدم إصدارًا أقدم من الإصدار 1.1.0.1 من هذه المكتبة أو إذا كنت لا تريد استخدام متغير البيئة أو خاصية النظام المذكورة أعلاه وكنت تستخدم بيئة Spring ، فيمكنك ضبط البادئة مسبقًا عن طريق إضافة المقطع التالي إلى تهيئة Spring لديك: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.springframework.beans.factory.config.MethodInvokingFactoryBean"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"targetClass"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.mgnt.utils.TextUtils"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"targetMethod"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setRelevantPackage"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arguments"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.plain."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  يشرح Javadoc كل شيء بالتفصيل.  ولكن هنا دعابة بعض الشيء: سوف تحصل على stacktrace التالية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">at com.plain.BookService.listBooks() at com.plain.BookService$$FastClassByCGLIB$$e7645040.invoke() at net.sf.cglib.proxy.MethodProxy.invoke() ... at com.plain.LoggingAspect.logging() at sun.reflect.NativeMethodAccessorImpl.invoke0() ... at com.plain.BookService$$EnhancerByCGLIB$$<span class="hljs-number"><span class="hljs-number">7</span></span>cb147e4.listBooks() at com.plain.web.BookController.listBooks()</code> </pre> <br>  بدلا من <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">at com.plain.BookService.listBooks() at com.plain.BookService$$FastClassByCGLIB$$e7645040.invoke() at net.sf.cglib.proxy.MethodProxy.invoke() at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed() at com.plain.LoggingAspect.logging() at sun.reflect.NativeMethodAccessorImpl.invoke0() at sun.reflect.NativeMethodAccessorImpl.invoke() at sun.reflect.DelegatingMethodAccessorImpl.invoke() at java.lang.reflect.Method.invoke() at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs() at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod() at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.interceptor.AbstractTraceInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.transaction.interceptor.TransactionInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke() at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed() at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept() at com.plain.BookService$$EnhancerByCGLIB$$<span class="hljs-number"><span class="hljs-number">7</span></span>cb147e4.listBooks() at com.plain.web.BookController.listBooks()</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  تحليل سلسلة صامتة إلى عدد صحيح ، طويل ، إلخ </h3><br>  توفر الفئة <i>TextUtils</i> نفسها طرقًا لتحليل "السلسلة" بصمت (دون استثناء) في أنواع "مزدوج" و "طويل" و "عدد صحيح" و "قصير" و "بايت".  تسمى الأساليب <i>parseStringToLong ()</i> <i>parseStringToInteger ()</i> إلخ.  يأخذون كل 4 حجج: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  سلسلة لتحليلها </li><li style=";text-align:right;direction:rtl">  تطبيق الرقم (مزدوج ، طويل ، عدد صحيح ، قصير أو بايت) ليكون بمثابة قيمة افتراضية في حالة حدوث أي مشكلة في التحليل </li><li style=";text-align:right;direction:rtl">  سلسلة سيتم طباعتها كرسالة خطأ في السجل إذا كانت الوسيطة الأولى خالية (قد تكون خالية ، ثم لم تتم طباعة أي خطأ) </li><li style=";text-align:right;direction:rtl">  سلسلة سيتم طباعتها كرسالة خطأ في حالة حدوث NumberFormatException (قد تكون فارغة ، ثم لا تتم طباعة أي خطأ) </li></ol><br><h3 style=";text-align:right;direction:rtl">  تحليل سلسلة إلى الفاصل الزمني </h3><br>  في نفس الفئة <i>TextUtils</i> ، هناك طريقة <i>parseStringToTimeInterval (قيمة السلسلة)</i> .  هذا الأسلوب يوزع سلسلة يتوقع أن يحتفظ ببعض قيمة الفاصل الزمني - قيمة رقمية مع وحدة زمنية اختيارية.  على سبيل المثال ، سيتم تحليل السلسلة "38s" على 38 ثانية ، "24m" - 24 دقيقة "4h" - 4 ساعات ، "3d" - 3 أيام و "45" إلى 45 مللي ثانية.  اللواحق المدعومة هي " <b>s</b> " للثواني ، " <b>m</b> " للدقائق ، " <b>h</b> " لساعات و " <b>d</b> " لعدة أيام.  تعتبر السلسلة بدون لاحقة تحمل قيمة بالمللي ثانية.  اللواحق غير حساسة لحالة الأحرف.  إذا تم توفير سلسلة تحتوي على لاحقة غير مدعومة أو تحتوي على قيمة رقمية سالبة أو صفر أو تحمل قيمة غير رقمية - يتم طرح IllegalArgumentException.  تقوم هذه الطريقة بإرجاع فئة TimeInterval - فئة معرفة أيضًا في هذه المكتبة.  بشكل أساسي ، فإنه يحتفظ بخاصيتين مع أدوات التلاعب والتركيب ذات الصلة: "القيمة" الطويلة و java.util.concurrent.TimeUnit.  ولكن بالإضافة إلى getters و setters هذه الفئة لديها أساليب <i>toMillis ()</i> و <i>toSeconds ()</i> و <i>toMinutes ()</i> و <i>toHours ()</i> <i>toDays ()</i> .  تقوم هذه الطرق بإرجاع قيمة طويلة في مقياس زمني محدد (بنفس الطريقة المتبعة في الأساليب المقابلة في الفئة <i>java.util.concurrent.TimeUnit</i> ) <br><br>  قد تكون هذه الطريقة مفيدة للغاية في تحليل خصائص الفاصل الزمني مثل المهلات أو فترات الانتظار من ملفات التكوين.  فإنه يلغي الحسابات غير الضرورية من جداول زمنية مختلفة إلى ميلي ثانية ذهابا وإيابا.  ضع في اعتبارك أن لديك خاصية <b>methodInvokingInterval</b> تحتاج إلى تعيينها لمدة 5 أيام.  لذلك من أجل تعيين قيمة المللي ثانية ، ستحتاج إلى حساب أن 5 أيام هي 432000000 مللي ثانية (من الواضح أنها ليست مهمة مستحيلة ولكن مزعجة وعرضة للخطأ) وبعد ذلك أي شخص آخر يرى القيمة 432000000 سيضطر إلى حسابها مرة أخرى إلى 5 الأيام التي هي محبطة.  لكن باستخدام هذه الطريقة ، سيكون لديك قيمة خاصية تم ضبطها على "5d" واستدعاء الكود <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">long</span></span> milliseconds = TextUtils.parsingStringToTimeInterval(<span class="hljs-string"><span class="hljs-string">"5d"</span></span>).toMillis();</code> </pre> <br>  سوف يحل مشكلة التحويل الخاصة بك.  من الواضح أن هذه ليست ميزة معقدة للغاية ، ولكنها يمكن أن تضيف البساطة والوضوح في ملفات التكوين الخاصة بك وتحفظ بعض الإحباط وسوء التقدير "الغبي" في الأخطاء بالميلي ثانية. <br><br><h3 style=";text-align:right;direction:rtl">  مقارنة الإصدارات </h3><br>  تتيح هذه الأداة المساعدة تحويل السلسلة إلى إصدار والعكس بالعكس ومقارنة الإصدارات ونطاقات الإصدار بشكل صحيح.  في كثير من الأحيان ، إذا كنت بحاجة إلى مقارنة الإصدارات ، يمكنك فقط مقارنة السلاسل.  لنفترض أن الإصدار "1.5.3" سيكون أكبر من الإصدار "1.3.1".  ومع ذلك ، إذا قمت بمقارنة السلاسل "1.4.2" و "1.12.3" فإن السلسلة "1.4.2" ستكون خطأ أكبر.  لذلك تهتم هذه الأداة المساعدة بمثل هذه المشكلة ، بالإضافة إلى ذلك ، تقدم فئة VersionRange وتسمح بالعمليات على نطاقات الإصدار.  (راجع طرق <i>المقارنة</i> في <i>الإصدارات</i> <i>TextUtils والفئة VersionRange</i> ) <br><br><h3 style=";text-align:right;direction:rtl">  سلسلة يونيكود محول </h3><br>  Class <i>StringUnicodeEncoderDecoder</i> لديه طرق يمكنها تحويل سلسلة (بأي لغة) إلى سلسلة من أحرف Unicode والعكس بالعكس.  على سبيل المثال ، سيتم تحويل السلسلة "Hello World" إلى <br><br>  "\ u0048 \ u0065 \ u006c \ u006c \ u006f \ u0020 \ u0057 \ u006f \ u0072 \ u006c \ u0064" <br><br>  ويمكن استعادتها مرة أخرى. <br><br><h3 style=";text-align:right;direction:rtl">  إدارة دورة حياة (مصانع ذاتية التأسيس) </h3><br>  هذه الميزة عبارة عن حزمة تحتوي على بعض البنية التحتية الصغيرة التي تعمل على تبسيط وأتمتة العمل مع المصانع التي توفر تطبيقات ملموسة للواجهة.  تحتوي الحزمة على فئتين فقط: <i>BaseEntityFactory</i> و <i>BaseEntity</i> .  باختصار ، ما تفعله هذه البنية التحتية هو أنه إذا قمت بإنشاء مصنع يمتد <i>BaseEntityFactory</i> وبعض الواجهات مع جميع تطبيقاته الملموسة التي تمتد <i>BaseEntity ،</i> فسيتم تلقائيًا إدراج كل مثيل من فئة فئة التنفيذ الملموسة في المصنع الخاص بك.  لن تضطر للقلق بشأن كيفية ووقت ملء مصنعك.  ستقوم البنية التحتية بذلك نيابة عنك عندما يتم استدعاء مُنشئ فئة التنفيذ الملموسة.  لذلك كل ما عليك القيام به هو إنشاء أي عدد من فئات التنفيذ الملموسة والتأكد من استدعاء كل مُنشئ واحد.  بعد ذلك ، يمكنك استخدام المصنع الخاص بك للحصول على أي من فئات التنفيذ الخاصة بك في أي مكان في التعليمات البرمجية الخاصة بك.  هذا شرح قصير.  هناك القليل من التفاصيل ولكن ليس الكثير.  للحصول على وصف مفصل لهذه الحزمة ، يرجى الرجوع إلى واجهة برمجة تطبيقات Javadoc للحزمة <b>com.mgnt.lifecycle.management</b> .  أيضًا ، يحتوي الكود المصدري على حزمة com.mgnt.lifecycle.management.example التي تحتوي على مثال تعليمي مفصل ومعلق بشكل جيد حول كيفية استخدام هذه الميزة. <br><br>  أما بالنسبة للاستخدام العملي ، فقد وجدت أنه مفيد جدًا لإطار Spring.  تذكر أن Spring ينبثق كل الفاصوليا المحددة أثناء التهيئة.  لذا ، في سياق Spring ، إذا أعلنا ببساطة عن تطبيقاتنا الملموسة على أنها فاصوليا Spring ، فستقوم Spring بتثبيتها من أجلنا ، وبالتالي تهيئة مصنعها تلقائيًا.  هذا يمكن أن يكون مريحة للغاية.  تخيل أن لديك بعض الحبات التي لها خاصية من نوع واجهة المستخدم المعرفة والتي لديها عدة تطبيقات ، ولكن يتم تحديد التنفيذ الفعلي المطلوب في وقت التشغيل.  لذلك في ذلك الوقت ، يمكنك استخدام <i>getInstance (java.lang.String) لمصنعك</i> للوصول إلى التطبيق المطلوب.  سيسمح لك ذلك بعدم حقن كل ما تبذلونه من مثيليات ملموسة في الفول الخاص بك ولن تضطر إلى استخدام Spring <i>Bean Factory</i> للوصول إلى فاصوليا معرفة بالزنبرك لأن ذلك من شأنه أن ينتهك عدم تدخيل Spring (مما يعني أنه يمكنك كتابة مكونات لا تعتمد على الربيع).  أيضًا ، إذا كنت بحاجة في مرحلة لاحقة إلى إضافة المزيد من التطبيقات الملموسة ، فكل ما عليك فعله هو إضافة فئات التنفيذ الخاصة بك إلى الكود الخاص بك وإعلانها على أنها حبوب الربيع.  وسيتم تنفيذ الباقي بحلول الربيع وهذه البنية التحتية! <br><br><h3 style=";text-align:right;direction:rtl">  ملف utils </h3><br>  تتيح هذه الأداة المساعدة قراءة ملف كسلسلة مع أو بدون تحديد مجموعة أحرف أو مجرد قراءتها كصفيف بايت.  هذه الأداة تستخدم حزمة nio والمخازن المؤقتة لأداء أسرع.  حجم الملف الأقصى لهذه الأداة هو 2G. <br><br><h3 style=";text-align:right;direction:rtl">  استخدام الوقت </h3><br>  هذه مجرد وسيلة راحة واحدة توفر نفس وظيفة Thread.sleep () لكنها صامتة.  أي أنه "يبتلع" IterruptedException.  أيضًا ، يستغرق الأمر وسيطين: وقت النوم ووحدة القياس.  لذلك بدلا من <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Thread.sleep(<span class="hljs-number"><span class="hljs-number">2000</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException ie) { }</code> </pre> <br>  يمكنك فقط الكتابة: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">TimeUtils.sleepFor(<span class="hljs-number"><span class="hljs-number">2</span></span>, TimeUnit.SECONDS);</code> </pre> <br>  اعتقدت انه كان لطيفا <br><br>  لذلك هذا هو عليه.  لا تتردد في تحميل هذه المكتبة.  إنه يأتي مع ترخيص MIT - أحد أكثر التراخيص المسموح بها التي أعرفها.  شفرة المصدر ، Javadoc والإصدار الثنائي متاح في الرابط أعلاه.  تمت ترجمة الرمز بواسطة JDK 8 ولكن لا يحتوي على ميزات الإصدار 8 فيه.  يجب أن يعمل مع java 7 بكل تأكيد ، وأظن أنه سيعمل مع java 6 وحتى 5 ، ولكن لم نختبرها مع تلك الإصدارات.  لا تتردد في استخدامه كما تراه مناسبًا ، وأخبر الآخرين به إذا كنت ترغب في ذلك ، ولا تتردد في إرسال ملاحظة لي على michael_gantman@yahoo.com إذا كان لديك أي ملاحظات. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar480268/">https://habr.com/ru/post/ar480268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar480256/index.html">ملف جافا الكتابة</a></li>
<li><a href="../ar480258/index.html">رد فعل الحرف الأصلي مقابل المعرض</a></li>
<li><a href="../ar480262/index.html">جافا دايجست ل 14 ديسمبر</a></li>
<li><a href="../ar480264/index.html">عودة التضامن: يحتاج موظفو تقنية المعلومات والموظفون المستقلون إلى التنظيم</a></li>
<li><a href="../ar480266/index.html">تاريخ الألعاب السحابية</a></li>
<li><a href="../ar480270/index.html">انخفاض شعبية PHP: أليس بهذه البساطة؟</a></li>
<li><a href="../ar480272/index.html">الذكاء الاصطناعي وتعقيد الدماغ البشري</a></li>
<li><a href="../ar480274/index.html">عداد الكحول أو كيفية البقاء على قيد الحياة وحفلات الاستقبال بوفيه</a></li>
<li><a href="../ar480276/index.html">لعبة مقابلة: استراتيجيات التوظيف. الجزء الأول</a></li>
<li><a href="../ar480280/index.html">TurboConf الأمن دراسة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>