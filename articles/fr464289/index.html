<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚦 🗺️ 👱 Comment écrire des packages Go 🖲️ 🧑🏾‍🤝‍🧑🏻 🦐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un package Go se compose de fichiers Go situés dans le même répertoire, au début desquels se trouve la même expression de package . Les packages qui s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment écrire des packages Go</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/464289/"> Un package Go se compose de fichiers Go situés dans le même répertoire, au début desquels se trouve la même expression de <code>package</code> .  Les packages qui se connectent aux programmes vous permettent d'étendre leurs capacités.  Certains packages font partie de la bibliothèque Go standard.  Cela signifie que si vous utilisez Go, ils sont déjà installés.  D'autres packages sont installés à l'aide de la commande <code>go get</code> .  Vous pouvez également écrire vos propres Go-packages, créer des fichiers dans des répertoires spéciaux et respecter les règles de conception des packages. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ht/dv/4c/htdv4cfnn8nmki3yphorht5eiki.jpeg"></a> <br><br>  Le matériel, dont nous publions la traduction aujourd'hui, est un guide pour le développement de Go-packages pouvant être connectés à d'autres fichiers. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Prérequis</font> </h2><br><ul><li>  Configurez votre environnement logiciel Go (découvrez comment procéder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ).  Créez un espace de travail Go (le cinquième point du matériel ci-dessus lui est dédié).  Dans la section suivante de ce document, vous trouverez des exemples dont la reproduction est recommandée à la maison.  Vous pouvez donc mieux y faire face. </li><li>  Pour approfondir vos connaissances sur <code>GOPATH</code> - jetez un œil à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce</a> matériel. </li></ul><br><h2>  <font color="#3AC1EF">Écriture et importation de packages</font> </h2><br>  L'écriture de code de package est identique à l'écriture de code Go standard.  Les packages peuvent contenir des déclarations de fonctions, de types et de variables, qui peuvent ensuite être utilisées dans d'autres programmes Go. <br><br>  Avant de commencer à créer un nouveau package, nous devons accéder à l'espace de travail Go.  Il est situé sur le chemin spécifié par la variable <code>GOPATH</code> .  Par exemple, que notre organisation s'appelle <code>gopherguides</code> .  En même temps, nous, en tant que référentiel, utilisons <code>GitHub</code> .  Cela conduit au fait que, le long du chemin spécifié par <code>GOPATH</code> , nous avons la structure de dossiers suivante: <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides</code> </pre> <br>  Nous allons nommer le package que nous développerons dans ce guide, <code>greet</code> .  Pour ce faire, créez le répertoire d' <code>greet</code> dans le répertoire <code>gopherguides</code> .  Par conséquent, la structure de dossiers existante prendra la forme suivante: <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                └── greet</code> </pre> <br>  Nous sommes maintenant prêts à ajouter le premier fichier au répertoire d' <code>greet</code> .  En règle générale, un fichier qui est le point d'entrée d'un package est appelé de la même manière que le répertoire du package.  Dans ce cas, cela signifie que nous, dans le répertoire d' <code>greet</code> , créons le <code>greet.go</code> : <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                └── greet                    └── greet.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Dans ce fichier, nous pouvons écrire du code que nous voulons réutiliser dans nos projets.  Dans ce cas, nous allons créer la fonction <code>Hello</code> , qui affiche le texte <code>Hello, World!</code>  . <br><br>  Ouvrez le fichier <code>greet.go</code> dans un éditeur de texte et ajoutez-y le code suivant: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Analysons le contenu de ce fichier.  La première ligne de chaque fichier doit contenir le nom du package dans lequel nous travaillons.  Puisque nous sommes dans le <code>package</code> <code>greet</code> , le mot-clé <code>package</code> est utilisé ici, suivi du nom du package: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet</code> </pre> <br>  Cela indique au compilateur d'accepter tout ce qui se trouve dans le fichier dans le cadre du package d' <code>greet</code> . <br><br>  Ensuite, les packages nécessaires sont importés à l'aide de l'instruction <code>import</code> .  Dans ce cas, nous n'avons besoin que d'un seul paquet - <code>fmt</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span></code> </pre> <br>  Et enfin, nous créons la fonction <code>Hello</code> .  Elle utilisera les capacités du package <code>fmt</code> pour afficher la chaîne <code>Hello, World!</code>  : <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Maintenant, après la création du package d' <code>greet</code> , vous pouvez l'utiliser dans n'importe quel autre package.  Créons un nouveau package dans lequel nous utiliserons le package de <code>greet</code> . <br><br>  À savoir, nous allons créer un <code>example</code> package.  Pour ce faire, nous partirons des mêmes hypothèses à partir desquelles nous avons procédé, en créant le package de <code>greet</code> .  Commencez par créer l' <code>example</code> dossier dans le dossier <code>gopherguides</code> : <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                    └── example</code> </pre> <br>  Créez maintenant un fichier qui est le point d'entrée du package.  Nous considérons ce package comme un programme exécutable et non comme un package dont le code devrait être utilisé dans d'autres packages.  Les fichiers qui sont les points d'entrée des programmes sont généralement appelés <code>main.go</code> : <br><br><pre> <code class="go hljs">└── $GOPATH    └── src        └── github.com            └── gopherguides                └── example                    └── main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Ouvrez le fichier <code>main.go</code> dans l'éditeur et <code>main.go</code> code suivant, qui vous permet d'utiliser les capacités du package de <code>greet</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello() }</code> </pre> <br>  Nous avons importé le package de <code>main.go</code> dans le fichier <code>main.go</code> , ce qui signifie que pour appeler la fonction déclarée dans ce package, nous devons utiliser la notation par points.  Une notation par points est une construction dans laquelle un point est placé entre le nom du package et le nom de la ressource de ce package à utiliser.  Par exemple, dans le package d' <code>greet</code> , la fonction <code>Hello</code> joue le rôle d'une ressource.  Si vous devez appeler cette fonction, la notation par points est utilisée <code>: greet.Hello()</code> . <br><br>  Vous pouvez maintenant ouvrir le terminal et exécuter le programme: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Après cela, le terminal affichera les éléments suivants: <br><br><pre> <code class="go hljs">Hello, World!</code> </pre> <br>  Voyons maintenant comment utiliser les variables déclarées dans les packages.  Pour ce faire, ajoutez la déclaration de variable au <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Ouvrez le fichier <code>main.go</code> et ajoutez-y une ligne où la fonction <code>fmt.Println()</code> est utilisée pour afficher la valeur de la variable <code>Shark</code> déclarée dans le <code>greet.go</code> .  À savoir, <code>main.go</code> sous la forme suivante: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark) }</code> </pre> <br>  Exécutez à nouveau le programme: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Maintenant, elle affichera les éléments suivants: <br><br><pre> <code class="go hljs">Hello, World! Sammy</code> </pre> <br>  Voyons maintenant comment déclarer des types dans des packages.  Créez un type <code>Octopus</code> avec les champs <code>Name</code> et <code>Color</code> et créez une méthode de type.  Cette méthode, lorsqu'elle est appelée, renvoie le contenu spécialement traité des champs <code>Octopus</code> .  <code>greet.go</code> au formulaire suivant: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Maintenant, ouvrez <code>main.go</code> , créez une instance de la structure du nouveau type et référez-vous à sa méthode <code>String()</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String()) }</code> </pre> <br>  Après avoir créé une instance d' <code>Octopus</code> aide d'une construction qui ressemble à <code>oct := greet.Octopus</code> , vous pouvez accéder aux méthodes et propriétés du type à partir de l' <code>main.go</code> fichier <code>main.go</code>  Cela, en particulier, vous permet d'utiliser la commande <code>oct.String()</code> située à la fin du fichier <code>main.go</code> sans recourir à <code>greet</code> .  De plus, on peut, par exemple, se référer au champ de la structure <code>Color</code> utilisant la construction <code>oct.Color</code> .  En même temps, comme lorsque nous avons appelé la méthode, nous n'accédons pas au message d' <code>greet</code> . <br><br>  La méthode <code>String</code> du type <code>Octopus</code> utilise la fonction <code>fmt.Sprintf</code> pour former la phrase et renvoie, en utilisant <code>return</code> , le résultat, la chaîne, à l'appel de méthode (dans ce cas, cet endroit se trouve dans <code>main.go</code> ). <br><br>  Exécutez à nouveau le programme: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Il affichera les éléments suivants sur la console: <br><br><pre> <code class="go hljs">Hello, World! Sammy The octopus<span class="hljs-string"><span class="hljs-string">'s name is "Jesse" and is the color orange.</span></span></code> </pre> <br>  Maintenant que nous avons équipé Octopus de la méthode <code>String</code> , nous avons un mécanisme de sortie d'informations de type adapté à la réutilisation.  Si à l'avenir vous devez changer le comportement de cette méthode, qui peut être utilisée dans de nombreux projets, il suffira d'éditer une fois son code <code>greet.go</code> . <br><br><h2>  <font color="#3AC1EF">Exportation d'entité</font> </h2><br>  Vous avez peut-être remarqué que tout ce que nous avons travaillé lors de l'accès au package d' <code>greet</code> a des noms qui commencent par une majuscule.  Go n'a pas de modificateurs d'accès comme <code>public</code> , <code>private</code> ou <code>protected</code> , qui sont dans d'autres langues.  La visibilité des entités pour les mécanismes externes est contrôlée par le fait par quelle lettre, avec une petite ou une grande, commence leur nom.  Par conséquent, les types, variables, fonctions dont les noms commencent par une majuscule sont disponibles en dehors du package actuel.  Le code visible en dehors du package est appelé exporté. <br><br>  Si vous équipez le type <code>Octopus</code> d'une nouvelle méthode appelée <code>reset</code> , cette méthode peut être appelée à partir du package de <code>main.go</code> , mais pas à partir du fichier <code>main.go</code> , qui est en dehors du package de <code>main.go</code> .  Voici une version mise à jour <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    o.Name = <span class="hljs-string"><span class="hljs-string">""</span></span>    o.Color = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Essayons d'appeler <code>reset</code> depuis le fichier <code>main.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String())    oct.reset() }</code> </pre> <br>  Cela entraînera l'erreur de compilation suivante: <br><br><pre> <code class="go hljs">oct.reset undefined (cannot refer to unexported field or method greet.Octopus.reset)</code> </pre> <br>  Pour exporter la méthode de <code>reset</code> <code>Octopus</code> , vous devez la renommer en remplaçant la première lettre, minuscule <code>r</code> , par une majuscule <code>R</code>  Pour ce faire, nous <code>greet.go</code> : <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> greet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Shark = <span class="hljs-string"><span class="hljs-string">"Sammy"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Octopus <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {    Name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>    Color <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"The octopus's name is %q and is the color %s."</span></span>, o.Name, o.Color) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(o Octopus)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Reset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    o.Name = <span class="hljs-string"><span class="hljs-string">""</span></span>    o.Color = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    fmt.Println(<span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>) }</code> </pre> <br>  Cela conduira au fait que nous pourrons appeler <code>Reset</code> partir d'autres packages et sans rencontrer de messages d'erreur: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (    <span class="hljs-string"><span class="hljs-string">"fmt"</span></span>    <span class="hljs-string"><span class="hljs-string">"github.com/gopherguides/greet"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {    greet.Hello()    fmt.Println(greet.Shark)    oct := greet.Octopus{        Name: <span class="hljs-string"><span class="hljs-string">"Jesse"</span></span>,        Color: <span class="hljs-string"><span class="hljs-string">"orange"</span></span>,    }    fmt.Println(oct.String())    oct.Reset()    fmt.Println(oct.String()) }</code> </pre> <br>  Exécutez le programme: <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> run main.<span class="hljs-keyword"><span class="hljs-keyword">go</span></span></code> </pre> <br>  Voici ce qui arrive à la console: <br><br><pre> <code class="go hljs">Hello, World! Sammy The octopus<span class="hljs-string"><span class="hljs-string">'s name is "Jesse" and is the color orange The octopus'</span></span>s name is <span class="hljs-string"><span class="hljs-string">""</span></span> and is the color .</code> </pre> <br>  En appelant la méthode <code>Reset</code> , nous avons effacé les champs <code>Name</code> et <code>Color</code> de notre instance <code>Octopus</code> .  Par conséquent, lorsque vous appelez <code>String</code> , où le contenu des champs <code>Name</code> et <code>Color</code> était précédemment affiché, rien ne s'affiche désormais. <br><br><h2>  <font color="#3AC1EF">Résumé</font> </h2><br>  L'écriture de packages Go n'est pas différente de l'écriture de code Go standard.  Cependant, placer le code du package dans leurs propres répertoires permet d'isoler le code, qui peut être utilisé dans n'importe quel autre projet Go.  Ici, nous avons parlé de la façon de déclarer des fonctions, des variables et des types dans des packages, examiné comment utiliser ces entités en dehors des packages et trouvé où stocker les packages conçus pour leur utilisation répétée. <br><br>  <b>Chers lecteurs!</b>  Quels programmes écrivez-vous habituellement sur Go?  Utilisez-vous des packages propriétaires? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr464289/">https://habr.com/ru/post/fr464289/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr464277/index.html">Les surfaces aléatoires cachent un ordre complexe</a></li>
<li><a href="../fr464279/index.html">Laser à vapeur de chlorure de cuivre fait maison</a></li>
<li><a href="../fr464283/index.html">Applications pour les livres électroniques sur le système d'exploitation Android. Partie 3. Dictionnaires et notes</a></li>
<li><a href="../fr464285/index.html">Mettre à jour automatiquement la photo de profil de Vkontakte</a></li>
<li><a href="../fr464287/index.html">Le passage de la machine de laboratoire pour le pentest "Hackthebox - Friendzone"</a></li>
<li><a href="../fr464291/index.html">Les 10 langages de programmation les plus influents des 50 dernières années et leurs créateurs</a></li>
<li><a href="../fr464293/index.html">Les crochets se remplacent-ils dans React Redux?</a></li>
<li><a href="../fr464295/index.html">Exemples d'utilisation de nouvelles fonctionnalités JavaScript</a></li>
<li><a href="../fr464299/index.html">0, 0, 1, 0, 2, 0, 2, 2, 1, 6, 0, 5, 0, 2, 6, 5, 4, 0, 5, 3, 0, 3, 2, 9, 0, 4, 9, 3, 6, 14, 0, 6, 3, 5, 15, 0, 5, 3, 5 ...</a></li>
<li><a href="../fr464303/index.html">Données de séries chronologiques dans un SGBD relationnel. Extensions TimescaleDB et PipelineDB pour PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>