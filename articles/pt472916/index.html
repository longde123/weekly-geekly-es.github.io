<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüî¨ üìè üñêüèª Back-end, aprendizado de m√°quina e sem servidor s√£o os mais interessantes da confer√™ncia Habr de julho üë©üèª‚Äçü§ù‚Äçüë®üèΩ üë¶üèº üë©‚Äçüë¶‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Confer√™ncia Habr - a hist√≥ria n√£o √© estr√©ia. Costum√°vamos realizar eventos bastante grandes, Torradeira para 300 a 400 pessoas, mas agora decidimos qu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Back-end, aprendizado de m√°quina e sem servidor s√£o os mais interessantes da confer√™ncia Habr de julho</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/habr/blog/472916/">  Confer√™ncia Habr - a hist√≥ria n√£o √© estr√©ia.  Costum√°vamos realizar eventos bastante grandes, Torradeira para 300 a 400 pessoas, mas agora decidimos que pequenas reuni√µes tem√°ticas ser√£o relevantes, cuja dire√ß√£o voc√™ tamb√©m pode definir - por exemplo, nos coment√°rios.  A primeira confer√™ncia deste formato foi realizada em julho e foi dedicada ao desenvolvimento de back-end.  Os participantes ouviram relat√≥rios sobre os recursos da transi√ß√£o do back-end para o ML e sobre o design do servi√ßo Quadrupel no portal de Servi√ßos do Estado e tamb√©m participaram de uma mesa redonda dedicada ao Serverless.  Para aqueles que n√£o puderam participar do evento pessoalmente, neste post dizemos o mais interessante. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9bd/04a/8ab/9bd04a8ab9b6a12c0d985c7d2a13bc3e.jpg"><br><a name="habracut"></a><br><h2>  Do desenvolvimento de back-end ao aprendizado de m√°quina </h2><br>  O que os engenheiros de dados de ML fazem?  Quais s√£o as semelhan√ßas e diferen√ßas entre as tarefas do desenvolvedor de back-end e do engenheiro de ML?  Que caminho voc√™ precisa seguir para mudar a primeira profiss√£o para a segunda?  Isso foi dito por Alexander Parinov, que entrou no aprendizado de m√°quina ap√≥s 10 anos de back-end. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/71d/4b7/e23/71d4b7e2307b78cefd6f1868a33b983d.jpg"><br>  <i>Alexander Parinov</i> <br><br>  Hoje, Alexander trabalha como arquiteto de sistemas de vis√£o computacional no X5 Retail Group e contribui para projetos de c√≥digo aberto relacionados √† vis√£o computacional e aprendizado profundo (github.com/creafz).  Suas habilidades s√£o confirmadas por sua participa√ß√£o no top 100 do ranking mundial Kaggle Master (kaggle.com/creafz) - a plataforma mais popular que hospeda competi√ß√µes de aprendizado de m√°quina. <br><br><h3>  Por que mudar para o aprendizado de m√°quina </h3><br>  H√° um ano e meio, Jeff Dean, chefe do Google Brain, estudo aprofundado do projeto de pesquisa em intelig√™ncia artificial do Google, descreveu como meio milh√£o de linhas de c√≥digo no Google Translate foram substitu√≠das por uma rede neural com o Tensor Flow, que consiste em apenas 500 linhas.  Ap√≥s o treinamento da rede, a qualidade dos dados aumentou e a infraestrutura foi simplificada.  Parece que este √© o nosso futuro brilhante: n√£o precisamos mais escrever c√≥digo, apenas criar neur√¥nios e jog√°-los com dados.  Mas, na pr√°tica, tudo √© muito mais complicado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e1/ef3/f8d/6e1ef3f8d1dc8a5c0b9997d067fd42e0.png">  <i>Infraestrutura do Google ML</i> <br><br>  As redes neurais s√£o apenas uma pequena parte da infraestrutura (uma pequena caixa preta na imagem acima).  Muitos outros sistemas auxiliares s√£o necess√°rios para receber dados, process√°-los, armazen√°-los, verificar a qualidade etc., precisamos da infraestrutura para treinamento, implanta√ß√£o de c√≥digo de aprendizado de m√°quina na produ√ß√£o e teste desse c√≥digo.  Todas essas tarefas s√£o exatamente como o que os desenvolvedores de back-end fazem. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a40/21b/908/a4021b9083599fca9590b8e4e86f264e.png">  <i>Processo de aprendizado de m√°quina</i> <br><br><h3>  Qual √© a diferen√ßa entre ML e backend </h3><br>  Na programa√ß√£o cl√°ssica, escrevemos c√≥digo, e isso determina o comportamento do programa.  No ML, temos um pequeno c√≥digo de modelo e muitos dados com os quais descartamos o modelo.  Os dados no ML s√£o muito importantes: o mesmo modelo, treinado com dados diferentes, pode mostrar resultados completamente diferentes.  O problema √© que quase sempre os dados s√£o fragmentados e est√£o em sistemas diferentes (bancos de dados relacionais, bancos de dados NoSQL, logs, arquivos). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/337/654/f0f/337654f0fe47cacf9bc67106a4220f27.png">  <i>Vers√£o de dados</i> <br><br>  O ML requer a vers√£o n√£o apenas do c√≥digo, como no desenvolvimento cl√°ssico, mas tamb√©m de dados: √© necess√°rio entender claramente em que modelo foi treinado.  Voc√™ pode usar a popular biblioteca Data Science Version Control (dvc.org) para isso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c6/72e/c94/8c672ec94474cfe5514c2cd63ef7e19d.png"><br>  <i>Marca√ß√£o de dados</i> <br><br>  A pr√≥xima tarefa √© a marca√ß√£o de dados.  Por exemplo, marque todos os objetos na imagem ou diga a qual classe pertence.  Isso √© feito por servi√ßos especiais como o Yandex.Tolki, cujo trabalho simplifica bastante a disponibilidade da API.  As dificuldades surgem devido ao ‚Äúfator humano‚Äù: √© poss√≠vel melhorar a qualidade dos dados e minimizar os erros confiando a mesma tarefa a v√°rios artistas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/106/5a6/ead/1065a6eadbc73ed0b75a57c7b5f81a4b.png">  <i>Visualiza√ß√£o na placa tensora</i> <br><br>  O registro de experimentos √© necess√°rio para comparar resultados, escolhendo o melhor modelo para algumas m√©tricas.  Para visualiza√ß√£o, h√° um grande conjunto de ferramentas - por exemplo, Tensor Board.  Mas n√£o h√° m√©todos ideais para armazenar experimentos.  Em pequenas empresas, eles costumam se dar bem com uma placa de excel; em grandes empresas, usam plataformas especiais para armazenar resultados no banco de dados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c2/bf3/74f/0c2bf374fc82ea80c96757253e2575b1.png">  <i>Existem muitas plataformas para aprendizado de m√°quina, mas nenhuma delas cobre at√© 70% das necessidades</i> <br><br>  O primeiro problema com o qual voc√™ deve lidar ao trazer um modelo treinado para a produ√ß√£o est√° relacionado √† sua ferramenta favorita do cientista de dados - o Jupyter Notebook.  N√£o h√° modularidade, ou seja, a sa√≠da √© um "p√©-cair" de c√≥digo que n√£o √© dividido em partes l√≥gicas - m√≥dulos.  Tudo est√° confuso: classes, fun√ß√µes, configura√ß√µes, etc. Esse c√≥digo √© dif√≠cil de vers√£o e teste. <br><br>  Como lidar com isso?  Voc√™ pode suportar a Netflix e criar sua pr√≥pria plataforma que permite executar esses laptops diretamente na produ√ß√£o, transferir dados para eles e obter o resultado.  Voc√™ pode for√ßar os desenvolvedores que lan√ßam o modelo em produ√ß√£o a reescrever o c√≥digo normalmente, dividi-lo em m√≥dulos.  Mas com essa abordagem, √© f√°cil cometer um erro, e o modelo n√£o funcionar√° conforme o esperado.  Portanto, a op√ß√£o ideal √© proibir o uso do Jupyter Notebook para c√≥digo de modelo.  Se, √© claro, os cientistas de dados concordam com isso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fee/071/6bf/fee0716bf440a4cf5a28b405c0a4f775.png">  <i>Modelar como uma caixa preta</i> <br><br>  A maneira mais f√°cil de trazer um modelo para a produ√ß√£o √© us√°-lo como uma caixa preta.  Voc√™ tem alguma classe do modelo, os pesos do modelo (par√¢metros dos neur√¥nios da rede treinada) foram passados ‚Äã‚Äãpara voc√™ e, se voc√™ inicializar essa classe (chame o m√©todo de previs√£o, coloque uma imagem nela), a sa√≠da ter√° algum tipo de previs√£o.  O que acontece l√° dentro n√£o importa. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ed/1dc/5a3/7ed1dc5a3f28c94339439c1625a2263d.png"><br>  <i>Processo de servidor separado com um modelo</i> <br><br>  Voc√™ tamb√©m pode pegar um processo separado e envi√°-lo pela fila RPC (com imagens ou outros dados de origem. Na sa√≠da, receberemos previs√µes. <br><br>  Um exemplo de uso do modelo no Flask: <br><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@app.route("/predict", methods=["POST"]) def predict(): image = flask.request.files["image"].read() image = preprocess_image(image) predictions = model.predict(image) return jsonify_prediction(predictions)</span></span></code> </pre> <br>  O problema com essa abordagem √© a limita√ß√£o de desempenho.  Suponha que tenhamos um c√≥digo Phyton escrito por cientistas de dados que diminua a velocidade e desejemos reduzir o desempenho m√°ximo.  Para fazer isso, voc√™ pode usar ferramentas que convertem o c√≥digo em nativo ou em outra estrutura, aprimorada para produ√ß√£o.  Existem essas ferramentas para cada estrutura, mas n√£o existem ferramentas ideais, voc√™ ter√° que finaliz√°-lo voc√™ mesmo. <br><br>  A infraestrutura no ML √© a mesma de um back-end regular.  Existem o Docker e o Kubernetes, apenas no Docker √© necess√°rio definir o tempo de execu√ß√£o da NVIDIA, o que permite que os processos dentro do cont√™iner acessem as placas de v√≠deo no host.  O Kubernetes precisa de um plugin para poder gerenciar servidores com placas de v√≠deo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e2/d36/09d/5e2d3609d69dc2930e63945ab2dcb97d.png"><br><br>  Diferentemente da programa√ß√£o cl√°ssica, no caso do ML, a infraestrutura possui muitos elementos m√≥veis diferentes que precisam ser verificados e testados - por exemplo, c√≥digo de processamento de dados, pipeline de treinamento de modelos e produ√ß√£o (veja o diagrama acima).  √â importante testar o c√≥digo que conecta diferentes partes de pipelines: existem muitas e muitos problemas surgem nas bordas dos m√≥dulos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c81/f25/9b4/c81f259b4781c850a896b5dbeb6d0302.png"><br>  <i>Como o AutoML funciona</i> <br><br>  Os servi√ßos AutoML prometem selecionar o melhor modelo para seus objetivos e trein√°-lo.  Mas voc√™ precisa entender: nos dados de ML √© muito importante, o resultado depende de sua prepara√ß√£o.  As pessoas est√£o marcando, que est√° repleta de erros.  Sem um controle r√≠gido, o lixo pode acabar, mas a automa√ß√£o ainda n√£o funciona; verifica√ß√£o por especialistas - cientistas de dados s√£o necess√°rios.  √â aqui que o AutoML ‚Äúquebra‚Äù.  Mas pode ser √∫til para a sele√ß√£o da arquitetura - quando voc√™ j√° preparou os dados e deseja realizar uma s√©rie de experimentos para encontrar o melhor modelo. <br><br><h3>  Como entrar no aprendizado de m√°quina </h3><br>  Entrar no ML √© mais f√°cil se voc√™ estiver desenvolvendo no Python, que √© usado em todas as estruturas de aprendizado profundo (e estruturas regulares).  Esse idioma √© praticamente necess√°rio para este campo de atividade.  O C ++ √© usado para algumas tarefas com vis√£o computacional - por exemplo, em sistemas de controle de ve√≠culos n√£o tripulados.  JavaScript e Shell - para visualiza√ß√£o e coisas estranhas como o lan√ßamento de um neur√¥nio em um navegador.  Java e Scala s√£o usados ‚Äã‚Äãao trabalhar com Big Data e para aprendizado de m√°quina.  R e Julia s√£o amadas por pessoas que fazem estat√≠sticas. <br><br>  Adquirir experi√™ncia pr√°tica √© mais conveniente no Kaggle, a participa√ß√£o em um dos concursos da plataforma oferece mais de um ano de estudo da teoria.  Nesta plataforma, voc√™ pode pegar o c√≥digo de algu√©m e comentar e tentar melhor√°-lo, otimizar seus objetivos.  A classifica√ß√£o de b√¥nus no Kaggle afeta seu sal√°rio. <br><br>  Outra op√ß√£o √© ir como desenvolvedor de back-end para a equipe de ML.  Agora, existem muitas startups envolvidas no aprendizado de m√°quina, nas quais voc√™ ganha experi√™ncia ajudando colegas na solu√ß√£o de seus problemas.  Por fim, voc√™ pode ingressar em uma das comunidades de cientistas de dados - Open Data Science (ods.ai) e outras. <br><br>  <i>O orador colocou informa√ß√µes adicionais sobre o t√≥pico em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://bit.ly/backend-to-ml</a></i> <i><br></i> <br><br><h2>  ‚ÄúQuadrupel‚Äù - o servi√ßo de notifica√ß√µes direcionadas do portal ‚ÄúServi√ßos do Estado‚Äù </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/a44/cf2/054/a44cf20548a8c0798c440c878570afff.jpg">  Evgeny Smirnov <br><br>  O pr√≥ximo palestrante foi Yevgeny Smirnov, chefe do departamento de desenvolvimento de infraestrutura de governo eletr√¥nico, que falou sobre o Quadrupel.  Este √© um servi√ßo de notifica√ß√£o direcionada do portal Gosuslugi (gosuslugi.ru), o recurso estatal mais visitado na Internet russa.  O p√∫blico di√°rio √© de 2,6 milh√µes, no total, 90 milh√µes de usu√°rios est√£o registrados no site, dos quais 60 milh√µes s√£o confirmados.  A carga na API do portal √© de 30 mil RPS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b8/e5a/e05/3b8e5ae05d254b59de3b67093a7b0a47.png">  <i>Tecnologias usadas no backend Gosuslug</i> <br><br>  ‚ÄúQu√°druplo‚Äù √© um servi√ßo de notifica√ß√£o de endere√ßo, com a ajuda do qual o usu√°rio recebe uma oferta de servi√ßo no momento mais adequado para ele, definindo regras de informa√ß√µes especiais.  Os principais requisitos no desenvolvimento do servi√ßo eram configura√ß√µes flex√≠veis e tempo adequado para envio. <br><br><h3>  Como o Qu√°druplo funciona? </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/4a3/d78/484/4a3d78484bbe63c0ef0f1f439125b816.png"><br><br>  O diagrama acima mostra uma das regras do "Qu√°druplo" no exemplo de uma situa√ß√£o com a necessidade de substituir uma carteira de motorista.  Primeiro, o servi√ßo procura usu√°rios cuja data de validade expira em um m√™s.  Eles colocam um banner com uma oferta para receber o servi√ßo correspondente e enviar uma mensagem de email.  Para os usu√°rios que j√° expiraram, o banner e o email est√£o mudando.  Ap√≥s uma troca bem-sucedida de direitos, o usu√°rio recebe outras notifica√ß√µes com uma proposta para atualizar os dados no certificado. <br><br>  Do ponto de vista t√©cnico, esses s√£o scripts groovy nos quais o c√≥digo √© escrito.  Na entrada - dados, na sa√≠da - verdadeiro / falso, correspondido / n√£o correspondido.  No total, mais de 50 regras - desde a determina√ß√£o do anivers√°rio do usu√°rio (a data atual √© igual ao anivers√°rio do usu√°rio) at√© situa√ß√µes dif√≠ceis.  Todos os dias, de acordo com essas regras, s√£o determinadas cerca de um milh√£o de partidas - pessoas que precisam ser notificadas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/018/480/a99/018480a990a48fb2d6af080d4e16d20c.png">  <i>Canais qu√°druplos de notifica√ß√£o</i> <br><br>  Sob o cap√¥ do Quadrupel, h√° um banco de dados no qual os dados do usu√°rio s√£o armazenados e tr√™s aplica√ß√µes: <br><br><ul><li>  <b>Worker foi</b> projetado para atualizar dados. <br></li><li>  <b>A API Rest</b> pega e entrega os banners ao portal e ao aplicativo m√≥vel. <br></li><li>  <b>O Agendador</b> lan√ßa recontagens de banner ou mala direta. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/fe6/b64/57f/fe6b6457f25777215b56879621a2a0f9.png"><br><br>  O back-end √© orientado a eventos para atualiza√ß√£o de dados.  Duas interfaces - descanso ou JMS.  Existem muitos eventos, antes de serem salvos e processados, eles s√£o agregados para n√£o fazer solicita√ß√µes desnecess√°rias.  O pr√≥prio banco de dados, a placa na qual os dados s√£o armazenados, se parece com o armazenamento de valores-chave - a chave do usu√°rio e o pr√≥prio valor: sinalizadores indicando a presen√ßa ou aus√™ncia de documentos relevantes, seu per√≠odo de validade, estat√≠sticas agregadas sobre a ordem de servi√ßos por esse usu√°rio e assim por diante. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ee/0d6/89b/5ee0d689be5f4dd6a2deb353b3523316.png"><br><br>  Ap√≥s salvar os dados, a tarefa √© configurada no JMS para que os banners sejam recontados imediatamente - isso deve ser exibido imediatamente na web.  O sistema inicia √† noite: no JMS, as tarefas s√£o lan√ßadas em intervalos de usu√°rio, de acordo com o qual voc√™ precisa recontar as regras.  Isso √© captado pelos recuperadores.  Al√©m disso, os resultados do processamento caem na pr√≥xima fila, que salva os banners no banco de dados ou envia tarefas ao usu√°rio para notific√°-lo.  O processo leva de 5 a 7 horas, √© facilmente escal√°vel devido ao fato de que voc√™ sempre pode descartar processadores ou criar inst√¢ncias com novos processadores. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca9/491/685/ca94916852f26beb07515670f718219e.png"><br><br>  O servi√ßo funciona muito bem.  Mas a quantidade de dados est√° crescendo √† medida que mais usu√°rios.  Isso leva a um aumento na carga no banco de dados - mesmo levando em considera√ß√£o o fato de a API Rest estar observando a r√©plica.  O segundo ponto √© o JMS, que, como se viu, n√£o √© muito adequado devido ao grande consumo de mem√≥ria.  H√° um alto risco de excesso de fila com falha no JMS e parada de processamento.  √â imposs√≠vel gerar o JMS ap√≥s isso sem limpar os logs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/114/bb1/ad6/114bb1ad6e5870eb3ea7d0fb2228233a.png"><br><br>  Est√° planejado para resolver problemas usando sharding, o que permitir√° equilibrar a carga na base.  Tamb√©m h√° planos para alterar o esquema de armazenamento de dados e alterar o JMS para Kafka - uma solu√ß√£o mais tolerante a falhas que resolver√° problemas de mem√≥ria. <br><br><h2>  Back-end como servi√ßo vs.  Sem servidor </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e71/98c/48d/e7198c48dcf015593d8753bbb53b9164.jpg"><br>  <i>Da esquerda para a direita: Alexander Borgart, Andrey Tomilenko, Nikolai Markov, Ara Israelyan</i> <br><br>  Back-end como um servi√ßo ou solu√ß√£o sem servidor?  As seguintes pessoas participaram da discuss√£o desta quest√£o premente na mesa redonda: <br><br><ul><li>  Ara Israelyan, CTO CTO e fundador da Scorocode. <br></li><li>  Nikolay Markov, engenheiro de dados s√™nior do Aligned Research Group. <br></li><li>  Andrey Tomilenko, Chefe do Departamento de Desenvolvimento da RUVDS. <br></li></ul><br>  A conversa foi moderada pelo desenvolvedor s√™nior Alexander Borgart.  Apresentamos o debate, do qual o p√∫blico participou, em uma vers√£o resumida. <br><br>  <b>- O que √© Serverless na sua compreens√£o?</b> <b><br></b> <br>  <b>Andrei</b> : Este √© um modelo computacional - uma fun√ß√£o Lambda que deve processar dados para que o resultado dependa apenas dos dados.  O termo veio do Google ou da Amazon e de seu servi√ßo AWS Lambda.  √â mais f√°cil para o provedor processar essa fun√ß√£o alocando um pool de capacidade para isso.  Usu√°rios diferentes podem ser considerados independentemente nos mesmos servidores. <br>  <b>Nikolay</b> : se √© simples, transferimos parte da nossa infraestrutura de TI, l√≥gica de neg√≥cios para a nuvem, para terceirizar. <br>  <b>Ara</b> : Por parte dos desenvolvedores - uma boa tentativa de economizar recursos, por parte dos profissionais de marketing - para ganhar mais dinheiro. <br><br>  <b>- Sem servidor - o mesmo que microsservi√ßos?</b> <b><br></b> <br>  <b>Nikolai</b> : N√£o, o Serverless √© mais uma organiza√ß√£o da arquitetura.  O microsservi√ßo √© uma unidade at√¥mica de uma certa l√≥gica.  Sem servidor √© uma abordagem, n√£o uma "entidade separada". <br>  <b>Ara</b> : A fun√ß√£o sem servidor pode ser empacotada em um microsservi√ßo, mas a partir disso deixar√° de ser sem servidor, deixar√° de ser uma fun√ß√£o Lambda.  No Serverless, uma fun√ß√£o √© iniciada apenas quando solicitada. <br>  <b>Andrew</b> : Eles diferem no tempo da vida.  Lan√ßamos e esquecemos a fun√ß√£o Lambda.  Funcionou por alguns segundos, e o pr√≥ximo cliente pode processar sua solicita√ß√£o em outra m√°quina f√≠sica. <br><br>  <b>- Qual escala melhor?</b> <b><br></b> <br>  <b>Ara</b> : Com o dimensionamento horizontal, as fun√ß√µes do Lambda se comportam exatamente da mesma maneira que os microsservi√ßos. <br>  <b>Nikolai</b> : Quantas r√©plicas voc√™ pede - haver√° muitas delas, n√£o h√° problemas com o dimensionamento sem servidor.  O Kubernetes criou um conjunto de r√©plicas, lan√ßou 20 inst√¢ncias "em algum lugar" e 20 links an√¥nimos retornaram para voc√™.  V√° em frente! <br><br>  <b>- √â poss√≠vel escrever um back-end no Serverless?</b> <b><br></b> <br>  <b>Andrew</b> : Teoricamente, mas n√£o h√° sentido nisso.  As fun√ß√µes do Lambda ficar√£o contra um √∫nico reposit√≥rio - precisamos fornecer uma garantia.  Por exemplo, se o usu√°rio realizou uma determinada transa√ß√£o, na pr√≥xima vez em que ele deve ver: a transa√ß√£o foi conclu√≠da, os fundos foram creditados.  Todas as fun√ß√µes do Lambda ser√£o bloqueadas nesta chamada.  De fato, v√°rias fun√ß√µes sem servidor se transformar√£o em um √∫nico servi√ßo com um ponto restrito de acesso ao banco de dados. <br><br>  <b>- Em que situa√ß√µes faz sentido usar a arquitetura sem servidor?</b> <b><br></b> <br>  <b>Andrew</b> : Tarefas nas quais um armazenamento comum n√£o √© necess√°rio - a mesma minera√ß√£o, blockchain.  Onde voc√™ precisa contar muito.  Se voc√™ tem muita capacidade de computa√ß√£o, pode definir uma fun√ß√£o como ‚Äúcalcular o hash de algo l√° ...‚Äù. Mas voc√™ pode resolver o problema do armazenamento de dados usando, por exemplo, as fun√ß√µes Amazon e Lambda e seu armazenamento distribu√≠do.  E acontece que voc√™ est√° escrevendo um servi√ßo regular.  As fun√ß√µes do Lambda acessar√£o o reposit√≥rio e dar√£o algum tipo de resposta ao usu√°rio. <br>  <b>Nikolai</b> : Os cont√™ineres executados no Serverless s√£o extremamente limitados por recursos.  H√° pouca mem√≥ria e tudo mais.  Mas se voc√™ tiver toda a infraestrutura implantada completamente em algum tipo de nuvem - Google, Amazon - e tiver um contrato permanente com eles, h√° um or√ßamento para tudo isso; em algumas tarefas, voc√™ poder√° usar cont√™ineres sem servidor.  √â necess√°rio estar localizado exatamente dentro dessa infraestrutura, porque tudo √© adaptado para uso em um ambiente espec√≠fico.  Ou seja, se voc√™ estiver pronto para vincular tudo √† infraestrutura de nuvem, poder√° experimentar.  A vantagem √© que voc√™ n√£o precisa gerenciar essa infraestrutura. <br>  <b>Ara</b> : Que o Serverless n√£o exige que voc√™ gerencie o Kubernetes, Docker, instale o Kafka e assim por diante, √© auto-engano.  A mesma Amazon e Google s√£o o gerente e eles colocam.  Outra coisa √© que voc√™ tem um SLA.  Com o mesmo sucesso, voc√™ pode terceirizar tudo e n√£o programar por conta pr√≥pria. <br>  <b>Andrew</b> : O servidor sem servidor √© barato, mas voc√™ precisa pagar muito pelo restante dos servi√ßos da Amazon - por exemplo, um banco de dados.  As pessoas j√° os processaram pelo fato de estarem arrancando dinheiro louco pelo port√£o da API. <br>  <b>Ara</b> : Se falamos de dinheiro, √© necess√°rio considerar este ponto: voc√™ precisar√° implantar 180 graus de toda a metodologia de desenvolvimento na empresa para transferir todo o c√≥digo para o Serverless.  Vai levar muito tempo e dinheiro. <br><br>  <b>- Existem alternativas decentes ao Amazon sem servidor pago e ao Google?</b> <b><br></b> <br>  <b>Nikolay</b> : No Kubernetes, voc√™ inicia algum tipo de trabalho, ele realiza e morre - isso √© bastante sem servidor do ponto de vista da arquitetura.  Se voc√™ deseja criar uma l√≥gica de neg√≥cios realmente interessante com filas, com bases, precisar√° pensar um pouco mais sobre isso.  Tudo isso √© resolvido sem sair do Kubernetes.  Eu n√£o come√ßaria a arrastar implementa√ß√£o adicional. <br><br>  <b>- Qual a import√¢ncia de monitorar o que est√° acontecendo no Serverless?</b> <b><br></b> <br>  <b>Ara</b> : Depende da arquitetura do sistema e dos requisitos de neg√≥cios.  De fato, o provedor deve fornecer relat√≥rios que ajudar√£o o devedor a descobrir poss√≠veis problemas. <br>  <b>Nikolai</b> : Na Amazon, h√° o CloudWatch, onde todos os logs s√£o transmitidos, inclusive com o Lambda.  Integre o encaminhamento de logs e use alguma ferramenta separada para visualizar, alertar e assim por diante.  Nos cont√™ineres que voc√™ inicia, voc√™ pode empinar os agentes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/173/767/b57/173767b57ac15dd164ad69c428d9ae03.jpg"><br><br>  <b>- Vamos resumir.</b> <b><br></b> <br>  <b>Andrew</b> : Pensar nas fun√ß√µes do Lambda √© √∫til.  Se voc√™ criar um servi√ßo no joelho - n√£o um microsservi√ßo, mas aquele que escreve uma solicita√ß√£o, acessa o banco de dados e envia uma resposta - a fun√ß√£o Lambda resolve v√°rios problemas: multithreading, escalabilidade e muito mais.  Se sua l√≥gica for criada dessa maneira, no futuro voc√™ poder√° transferir esses Lambda para microsservi√ßos ou usar servi√ßos de terceiros como a Amazon.  A tecnologia √© √∫til, uma ideia interessante.  Quanto √© justificado para os neg√≥cios ainda √© uma quest√£o em aberto. <br>  Nikolai: Sem servidor √© melhor usar para tarefas operacionais do que calcular algum tipo de l√≥gica comercial.  Eu sempre tomo isso como processamento de eventos.  Se voc√™ tiver na Amazon, se estiver em Kubernetes - sim.  Caso contr√°rio, voc√™ ter√° que fazer muitos esfor√ßos para elevar o servidor sem servidor.  Voc√™ precisa assistir a um caso de neg√≥cios espec√≠fico.  Por exemplo, agora tenho uma das tarefas: quando os arquivos aparecem em um disco em um determinado formato, voc√™ precisa carreg√°-los no Kafka.  Eu posso usar este WatchDog ou Lambda.  Logicamente, ambos s√£o adequados, mas o Serverless √© mais dif√≠cil de implementar, e eu prefiro a maneira mais simples, sem o Lambda. <br>  <b>Ara</b> : Sem servidor - uma id√©ia interessante, aplic√°vel e tecnicamente bonita.  Cedo ou tarde, a tecnologia chegar√° ao ponto em que qualquer fun√ß√£o aumentar√° em menos de 100 milissegundos.  Ent√£o, em princ√≠pio, n√£o haver√° d√∫vida se o tempo de espera √© cr√≠tico para o usu√°rio.  Ao mesmo tempo, a aplicabilidade do Serverless, como os colegas j√° disseram, depende completamente da tarefa comercial. <br><br>  <b>Agradecemos aos nossos patrocinadores que nos ajudaram muito:</b> <b><br></b> <br><ul><li>  O espa√ßo das confer√™ncias de TI " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Primavera</a> " por tr√°s da plataforma para a confer√™ncia. </li><li>  Calend√°rio de eventos de TI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Runet-ID</a> e a publica√ß√£o " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Internet em n√∫meros</a> " para suporte de informa√ß√µes e not√≠cias. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Akronis</a> para presentes. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Avito</a> para co-cria√ß√£o. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RAEC</a> ‚ÄúAssociation of Electronic Communications‚Äù para envolvimento e experi√™ncia. </li><li>  O principal patrocinador da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RUVDS</a> - para tudo! </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/7d5/374/7cc/7d53747cc37e595ec4ec995267865c93.jpg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt472916/">https://habr.com/ru/post/pt472916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt472896/index.html">Helic√≥ptero de uma impressora: pela primeira vez, os cientistas ‚Äúimprimiram‚Äù um estojo grande de um motor de helic√≥ptero</a></li>
<li><a href="../pt472902/index.html">Windows para IoT: Suporte aprimorado a hardware e novos recursos de dispositivos inteligentes</a></li>
<li><a href="../pt472908/index.html">Dagaz: Epis√≥dios (Parte 2)</a></li>
<li><a href="../pt472910/index.html">Encontre texto em placas e pacotes usando um smartphone</a></li>
<li><a href="../pt472912/index.html">Banco de dados ClickHouse para humanos ou Alien Technology</a></li>
<li><a href="../pt472918/index.html">ZX Spectrum na R√∫ssia e na CEI: como a busca pelo online se transformou offline</a></li>
<li><a href="../pt472922/index.html">Programador do Defender mais forte que a entropia</a></li>
<li><a href="../pt472926/index.html">A lei dos retornos acelerados (parte 1)</a></li>
<li><a href="../pt472928/index.html">Servi√ßo de computa√ß√£o GPU altamente carregado</a></li>
<li><a href="../pt472930/index.html">Astrof√≠sicos do Vale do Sil√≠cio Quantificando Moda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>