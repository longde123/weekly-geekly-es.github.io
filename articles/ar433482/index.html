<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฅ โป๏ธ ๐จ๐ผ ุฌุงูุบู ุชุญุช ุงููุฌูุฑ ๐ ๐๐ฝ ๐จ๐พ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฅุฐุง ูุงู ููููุง ูุชูุฑูุฑ Artyom Malyshev ( ุจุฑูููุช 404 ) ุณูููููู ุจุนูู ูููู ุ ูุณูููู ุงููุฎุฑุฌ ูู Quentin Tarantino - ููุฏ ูุงู ุจุงููุนู ุจุนูู ูููู ูุงุญุฏ ุนู Django ุ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฌุงูุบู ุชุญุช ุงููุฌูุฑ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/433482/" style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ููููุง ูุชูุฑูุฑ Artyom Malyshev ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุจุฑูููุช 404</a> ) ุณูููููู ุจุนูู ูููู ุ ูุณูููู ุงููุฎุฑุฌ ูู Quentin Tarantino - ููุฏ ูุงู ุจุงููุนู ุจุนูู ูููู ูุงุญุฏ ุนู Django ุ ูุณูููู ุจุชุตููุฑ ุงููููู ุงูุซุงูู ุฃูุถูุง.  ุฌููุน ุงูุชูุงุตูู ูู ุญูุงุฉ ุขููุงุช ุฌุงูุบู ุงูุฏุงุฎููุฉ ูู ุงูุจุงูุช ุงูุฃูู ูู ุทูุจ HTTP ุฅูู ุงูุจุงูุช ุงูุฃุฎูุฑ ูู ุงูุงุณุชุฌุงุจุฉ.  ุงูุฑูุนุฉ ูู ุฃุดูุงู ุงููุญูู ุงููุบูู ุ ูุชุฌููุน ูุนุจุฃุฉ ูู ุงูุฅุฌุฑุงุกุงุช ูู SQL ุ ูุงููุคุซุฑุงุช ุงูุฎุงุตุฉ ูุชูููุฐ ูุญุฑู ุงููุงูุจ ู HTML.  ูู ูุฏูุฑ ุชุฌูุน ุงูุงุชุตุงู ููููุ  ูู ูุฐุง ุจุงูุชุฑุชูุจ ุงูุฒููู ููุนุงูุฌุฉ ูุงุฆูุงุช WSGI.  ุนูู ุฌููุน ุดุงุดุงุช ุงูุจูุงุฏ - ูู "Django ุชุญุช ุงููุฌูุฑ". <br><br><img src="https://habrastorage.org/webt/np/fq/rq/npfqrqbbgfwn2lktbgdq9h4xhgg.jpeg"><br><br>  <strong>ุนู ุงููุชุญุฏุซ: Artyom Malyshev</strong> ูู ูุคุณุณ ูุดุฑูุน Dry Python ูุงููุทูุฑ ุงูุฃุณุงุณู ูุฅุตุฏุงุฑ Django Channels 1.0.  ูุงู ููุชุจ ุจูุซูู ููุฐ 5 ุณููุงุช ูุณุงุนุฏ ูู ุชูุธูู ุงุฌุชูุงุนุงุช ุจูุซูู ุฑุงูุชุณ ูู ููุฌูู ูููุบูุฑูุฏ.  ูุฏ ุชููู Artyom ูุฃูููุฉ ูู ุชุญุช ุงูููุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">PROOFIT404</a> .  ูุชู ุชุฎุฒูู ุนุฑุถ ุงูุชูุฑูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AvGl7Vi2yT4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  ุฐุงุช ูุฑุฉ ุ ุฃุทูููุง ุงูุฅุตุฏุงุฑ ุงููุฏูู ูู Django.  ุซู ุจุฏุช ูุฎููุฉ ูุญุฒููุฉ. <br><br><img src="https://habrastorage.org/webt/yv/i5/a9/yvi5a9ueicvuhwgsyf8npzvojne.jpeg"><br><br>  ููุฏ ุฑุฃูุง ุฃู <code>self_check</code> ูุฑ ุ ููููุง ุจุชุซุจูุช ูู ุดูุก ุจุดูู ุตุญูุญ ุ ูู ุดูุก ูุนูู ุ ูููููู ุงูุขู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูุชุญููู ูู ูุฐุง ุ ูุงู ุนูููุง ุชุดุบูู ุงูุฃูุฑ <code>django-admin runserver</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ django-admin runserver Performing system checksโฆ System check identified no issues (0 silenced). You have unapplied migrations; your app may not work properly until they are applied. Run 'python manage.py migrate1 to apply them. August 21, 2018 - 15:50:53 Django version 2.1, using settings 'mysite.settings' Starting development server at http://127.0.0.1:8000/Quit the server with CONTROL-C.</code> </pre><br>  ุชุจุฏุฃ ุงูุนูููุฉ ูุชุนุงูุฌ ุทูุจุงุช HTTP ููุญุฏุซ ูู ุงูุณุญุฑ ูู ุงูุฏุงุฎู ููุชู ุชูููุฐ ูู ุงูุดูุฑุฉ ุงูุชู ูุฑูุฏ ุฃู ูุธูุฑูุง ูููุณุชุฎุฏููู ููููุน. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุซุจูุช <br></h2><br>  ูุธูุฑ <code>django-admin</code> ุนูู ุงููุธุงู ุนูุฏูุง ูููู ุจุชุซุจูุช Django ุจุงุณุชุฎุฏุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pip ุ ูุฏูุฑ ุงูุญุฒูุฉ</a> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">$ pip install Django <span class="hljs-comment"><span class="hljs-comment"># setup.py from setuptools import find_packages, setup setup( name='Django', entry_points={ 'console_scripts': [ 'django-admin = django.core.management:execute_from_command_line' ] }, )</span></span></code> </pre><br>  ูุธูุฑ <code>entry_points setuptools</code> ุ ููุง ูุดูุฑ ุฅูู ูุธููุฉ <code>execute_from_command_line</code> .  ูุฐู ุงููุธููุฉ ูู ููุทุฉ ุฏุฎูู ูุฃู ุนูููุฉ ูุน Django ุ ูุฃู ุนูููุฉ ุญุงููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุญุฐุงุก <br></h3><br>  ูุงุฐุง ูุญุฏุซ ุฏุงุฎู ุงููุธููุฉุ  <strong>ุงูุชูููุฏ</strong> ุ ุงูุฐู ูููุณู ุฅูู ุชูุฑุงุฑุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.management django.setup().</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุชูููู ุงูุฅุนุฏุงุฏุงุช <br></h4><br>  ุงูุฃูู ูู <strong>ูุฑุงุกุฉ ุงูุชููููุงุช</strong> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> django.conf.global_settings import_module(os.environ[<span class="hljs-string"><span class="hljs-string">"DJANGO_SETTINGS_MODULE"</span></span>])</code> </pre><br>  <code>global_settings</code> ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ <code>global_settings</code> ุ ุซู ูู ูุชุบูุฑ ุงูุจูุฆุฉ ูุญุงูู ุงูุนุซูุฑ ุนูู ุงููุญุฏุฉ ุงูููุทูุฉ ูุน <code>DJANGO_SETTINGS_MODULE</code> ุ ูุงูุชู ูุชุจูุง ุงููุณุชุฎุฏู.  ูุชู ุฏูุฌ ูุฐู ุงูุฅุนุฏุงุฏุงุช ูู ูุณุงุญุฉ ุงุณู ูุงุญุฏ. <br><br>  ุฃู ุดุฎุต ููุชุจ ูู ุฌุงูุบู ุนูู ุงูุฃูู "ูุฑุญุจูุง ุ ุนุงูู" ูุนุฑู ุฃู ููุงู <code>INSTALLED_APPS</code> - ุญูุซ ููุชุจ ุฑูุฒ ุงููุณุชุฎุฏู. <br><br><h4 style=";text-align:right;direction:rtl">  ููุก ุงูุชุทุจููุงุช <br></h4><br>  ูู ุงูุฌุฒุก ุงูุซุงูู ุ ูุชู ุชูุฑุงุฑ ูู ูุฐู ุงูุชุทุจููุงุช ุ ุฃุณุงุณูุง ุงูุญุฒู ุ ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู.  ูููู ุจุฅูุดุงุก ููู Config ุ ูุณุชูุฑุฏ ููุงุฐุฌ ููุนูู ูุน ูุงุนุฏุฉ ุจูุงูุงุช ููุชุญูู ูู ุงูููุงุฐุฌ ูู ุฃุฌู ุงููุฒุงูุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุนูู ุงูุฅุทุงุฑ ุนูู <code>Check</code> ุ ุฃู ุ ูุชุญูู ูู ุฃู ูู ูููุฐุฌ ูุญุชูู ุนูู ููุชุงุญ ุฃุณุงุณู ุ ูุชุดูุฑ ุฌููุน ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ ุฅูู ุงูุญููู ุงูููุฌูุฏุฉ ูุฃู ุญูู Null ุบูุฑ ููุชูุจ ูู BooleanField ุ ูููู ูุชู ุงุณุชุฎุฏุงู NullBooleanField. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> settings.INSTALLED_APPS: cfg = AppConfig.create(entry) cfg.import_models()</code> </pre><br>  ูุฐุง ูู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุชุนูู ููุชุญูู ูู ุงูููุงุฐุฌ ุ ูููุญุฉ ุงููุณุคูู ุ ุนู ุฃู ุดูุก - ุฏูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุฏูู ุฃู ุดูุก ุดุฏูุฏ ุงูุชุนููุฏ ูุงููุญุฏุฏุฉ.  ูู ูุฐู ุงููุฑุญูุฉ ุ ูุง ูุนุฑู Django ุจุนุฏ ุงูุฃูุฑ ุงูุฐู ุทูุจุช ุชูููุฐู ุ ุฃู ุฃูู ูุง ูููุฒ <code>migrate</code> ูู <code>runserver</code> ุฃู <code>shell</code> . <br><br>  ุซู ูุฌุฏ ุฃููุณูุง ูู ูุญุฏุฉ ููุทูุฉ ุชุญุงูู ุชุฎููู ูุณูุทุงุช ุณุทุฑ ุงูุฃูุงูุฑ ุงูุชู ูุฑุบุจ ูู ุชูููุฐูุง ููู ุฃู ุชุทุจูู ููุน. <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุฏุฉ ุงูุฅุฏุงุฑุฉ <br></h2><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.management subcommand = sys.argv[1] app_name = find(pkgutils.iter_modules(settings.INSTALLED_APPS)) module = import_module( '%s.management.commands.%s' % (app_name, subcommand) ) cmd = module.Command() cmd.run_from_argv(self.argv)</span></span></code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ูุฏู ุงููุญุฏุฉ ุงูููุทูุฉ <code>django.core.management.commands.runserver</code> ูุญุฏุฉ <code>django.core.management.commands.runserver</code> .  ุจุนุฏ ุงุณุชูุฑุงุฏ ุงููุญุฏุฉ ุงูููุทูุฉ ุ ููููุง ููุงุชูุงููุฉ ุ ูุชู ุงุณุชุฏุนุงุก ูุฆุฉ <code>Command</code> ุงูุนุงูููุฉ ุฏุงุฎู ุงูุฃูุฑ ุ ููุชู ุฅูุดุงุก ูุซูู ููุง ุ ููููู: " <em>ููุฏ ูุฌุฏุช ูู ุ ููุง ูุฏูู ูุณูุทุงุช ุณุทุฑ ุงูุฃูุงูุฑ ุงูุชู ูุฑ ุจูุง ุงููุณุชุฎุฏู ุ ุงูุนู ุดูุฆูุง ูุนูู</em> ". <br><br>  ุจุนุฏ ุฐูู ุ ูุฐูุจ ุฅูู ูุญุฏุฉ runerver ููุฑู ุฃู <b>Django ูุตููุน ูู "regexp and sticks"</b> ุ ูุงูุชู ุณุฃุชุญุฏุซ ุนููุง ุจุงูุชูุตูู ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.management.commands.runserver naiveip_re = re.compile(r"""^(?: (?P&lt;addr&gt; (?P&lt;ipv4&gt;\d{1,3}(?:\.\d{1,3}){3}) | # IPv4 address (?P&lt;ipv6&gt;\[[a-fA-F0-9:]+\]) | # IPv6 address (?P&lt;fqdn&gt;[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*) # FQDN ):)?(?P&lt;port&gt;\d+)$""", re.X)</span></span></code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุงูุฃูุงูุฑ <br></h3><br>  ูุฑุฑ ูุฃุณูู ุดุงุดุฉ ูุงุญุฏุฉ ููุตู - ุฃุฎูุฑูุง ูุชุนุฑู ุนูู ุชุนุฑูู ูุฑูููุง ุงูุฐู ูููู ุจุชุดุบูู ุงูุฎุงุฏู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.management.commands.runserver class Command(BaseCommand): def handle(self, *args, **options): httpd = WSGIServer(*args, **options) handler = WSGIHandler() httpd.set_app(handler) httpd.serve_forever()</span></span></code> </pre><br>  ูููุฐ <code>BaseCommand</code> ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุนูููุงุช ูู ุฃุฌู ุฃู ุชุคุฏู ูุณูุทุงุช ุณุทุฑ ุงูุฃูุงูุฑ ุฅูู ูุณูุทุงุช ูุงุณุชุฏุนุงุก ุงูุฏุงูุงุช <code>*args</code> ู <code>**options</code> .  ูุฑู ุฃูู ูุชู ุฅูุดุงุก ูุซูู ุฎุงุฏู WSGI ููุง ุ ูุชู ุชุซุจูุช WSGIHandler ุงูุนุงูููุฉ ูู ุฎุงุฏู WSGI ูุฐุง - ููู ุจุงูุถุจุท <strong>God Object Django</strong> .  ูููููุง ุงูููู ุฃู ูุฐุง ูู ุงููุซุงู ุงููุญูุฏ ููุฅุทุงุฑ.  ูุชู ุชุซุจูุช ูุซูู ุนูู ุงูุฎุงุฏู ุนูู ูุณุชูู ุงูุนุงูู - ูู ุฎูุงู <code>set application</code> ููููู: "ุชุฏูุฑ ูู ุญุฏุซ ุญููุฉ ุ ุชูููุฐ ุงูุทูุจุงุช." <br><br><blockquote style=";text-align:right;direction:rtl">  ููุงู ุฏุงุฆูุง ุญููุฉ ุญุฏุซ ูู ููุงู ูุง ููุจุฑูุฌ ูุนุทูู ุงูููุงู. <br></blockquote><br><h2 style=";text-align:right;direction:rtl">  ุฎุงุฏู WSGI <br></h2><br>  ูุง ูู <strong>WSGIHandler</strong> ุ  WSGI ูู ูุงุฌูุฉ ุชุณูุญ ูู ุจูุนุงูุฌุฉ ุทูุจุงุช HTTP ุจุฃูู ูุณุชูู ูู ุงูุชุฌุฑูุฏ ุ ูุชุจุฏู ููุฃููุง ุดูุก ูู ุดูู ุฏุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  WSGI ูุนุงูุฌ <br></h3><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.handlers.wsgi class WSGIHandler: def __call__(self, environ, start_response): signals.request_started.send() request = WSGIRequest(environ) response = self.get_response(request) start_response(response.status, response.headers) return response</span></span></code> </pre><br>  ุนูู ุณุจูู ุงููุซุงู ุ ููุง ูู ูุซูู ููุฆุฉ ุจูุง <code>call</code> ูุญุฏุฏุฉ.  ุฅูู ููุชุธุฑ ุฅุฏุฎุงู ุงููุงููุณ ุงูุฎุงุต ุจู ุ ุญูุซ ุณูุชู ุนุฑุถ ุงูุฑุคูุณ ุนูู ููุฆุฉ ุจุงูุช ููุนุงูู ูููุงุช.  ููุงู ุญุงุฌุฉ ุฅูู ูุนุงูุฌ ููุฑุงุกุฉ <code>&lt;body&gt;</code> ุงูุทูุจ.  ููุฏู ุงูุฎุงุฏู ููุณู ุฃูุถูุง <code>start_response</code> ุฑุฏ ุงูุงุชุตุงู ุญุชู ูุชููู ูู ุฅุฑุณุงู <code>response.headers</code> <code>start_response</code> ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุญุงูุฉ ุ ูู ุญุฒูุฉ ูุงุญุฏุฉ. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูููููุง ุชูุฑูุฑ ูุต ุงูุงุณุชุฌุงุจุฉ ุฅูู ุงูุฎุงุฏู ูู ุฎูุงู ูุงุฆู ุงูุงุณุชุฌุงุจุฉ.  <strong>ุงูุงุณุชุฌุงุจุฉ</strong> ูู ูููุฏ ููููู ุชูุฑุงุฑู. <br><br>  ุฌููุน ุงูุฎูุงุฏู ุงูููุชูุจุฉ ูู WSGI - Gunicorn ู uWSGI ู Waitress ุชุนูู ุนูู ูุฐู ุงููุงุฌูุฉ ููุงุจูุฉ ููุชุจุงุฏู.  ูุญู ุงูุขู ูููุฑ ูู ุฎุงุฏู ููุชุทููุฑ ุ ูููู ุฃู ุฎุงุฏู ูุตู ุฅูู ุงูููุทุฉ ุงูุชู ูู ุฌุงูุบู ููุฑุน ูู ุฎูุงู ุงูุจูุฆุฉ ูุฅุนุงุฏุฉ ุงูุงุชุตุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุง ูู ุฏุงุฎู ูุงุฆู ุงูููุ <br></h2><br>  ูุงุฐุง ูุญุฏุซ ุฏุงุฎู ูุธููุฉ ุงููู ุงูุนุงูููุฉ ูุฐู ุฏุงุฎู ุฌุงูุบูุ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุทูุจ. </li><li style=";text-align:right;direction:rtl">  MIDDLEWARES. </li><li style=";text-align:right;direction:rtl">  ุทูุจ ูุณุงุฑ ูุนุฑุถ. </li><li style=";text-align:right;direction:rtl">  ุนุฑุถ - ูุนุงูุฌุฉ ุฑูุฒ ุงููุณุชุฎุฏู ุฏุงุฎู ุงูุนุฑุถ. </li><li style=";text-align:right;direction:rtl">  ูููุฐุฌ - ุงูุนูู ูุน ุงูููุงุฐุฌ. </li><li style=";text-align:right;direction:rtl">  ORM. </li><li style=";text-align:right;direction:rtl">  ูููุฐุฌ </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฌุงุจุฉ. </li></ul><br>  ุฌููุน ุงูุขูุงุช ุงูุชู ูุฑูุฏูุง ูู Django ุชุชู ุฏุงุฎู ูุธููุฉ ูุงุญุฏุฉ ุ ูุงูุชู ุชูุชุดุฑ ุนุจุฑ ุงูุฅุทุงุฑ ุจุฃูููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุทูุจ <br></h3><br>  ููู ุจูุฆุฉ WSGI ุ ุงูุชู ูู ูุงููุณ ุจุณูุท ุ ูู ุจุนุถ ุงูุฃุดูุงุก ุงูุฎุงุตุฉ ุ ูุฑุงุญุฉ ุงูุนูู ูุน ุงูุจูุฆุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูุฃุณูู ูุนุฑูุฉ ุทูู ุทูุจ ุงููุณุชุฎุฏู ูู ุฎูุงู ุงูุนูู ุจุงุณุชุฎุฏุงู ุดูุก ูุดุงุจู ูููุงููุณ ููุงุฑูุฉู ุจุณูุณูุฉ ุงูุจุงูุช ุงูุชู ูุฌุจ ุชุญููููุง ูุงูุจุญุซ ุนู ุฅุฏุฎุงูุงุช ูููุฉ ุงูููุชุงุญ ูููุง.  ุนูุฏ ุงูุนูู ูุน ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ุ ูุง ุฃุฑูุฏ ุฃูุถูุง ุฃู ุฃุญุณุจ ูุฏูููุง ูุง ุฅุฐุง ูุงูุช ูุชุฑุฉ ุงูุชุฎุฒูู ูุฏ ุงูุชูุช ุฃู ูุง ุ ูุฃู ุฃุชุฑุฌููุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.handlers.wsgi class WSGIRequest(HttpRequest): @cached_property def GET(self): return QueryDict(self.environ['QUERY_STRING']) @property def POST(self): self._load_post_and_files() return self._post @cached_property def COOKIES(self): return parse_cookie(self.environ['HTTP_COOKIE'])</span></span></code> </pre><br>  ูุญุชูู ุงูุทูุจ ุนูู ููุฒุนู ุ ูุถูุงู ุนู ูุฌููุนุฉ ูู ุงููุนุงูุฌุงุช ููุชุญูู ูู ูุนุงูุฌุฉ ูุต ุทูุจ POST: ุณูุงุก ูุงู ููููุง ูู ุงูุฐุงูุฑุฉ ุฃู ูุคูุชูุง ูู ุงูุชุฎุฒูู ุนูู ุงููุฑุต.  ูู ุดูุก ุชูุฑุฑ ุฏุงุฎู ุงูุทูุจ.  ููุนุฏ ุงูุทูุจ ูู ุฌุงูุบู ูุงุฆููุง ุชุฌููุนููุง ุญูุซ ูููู ูุฌููุน ุงูุจุฑุงูุฌ ุงููุณูุทุฉ ูุถุน ุงููุนูููุงุช ุงูุชู ูุญุชุงุฌูุง ุญูู ุงูุฌูุณุฉ ูุงููุตุงุฏูุฉ ูุชุฑุฎูุต ุงููุณุชุฎุฏู.  ูููููุง ุฃู ูููู ุฃู ูุฐุง ูู ุฃูุถุง ูุงุฆู ุงููู ุ ูููู ุฃุตุบุฑ. <br><br>  ุทูุจ ุขุฎุฑ ูุญุตู ุนูู ุงููุณูุทุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  Middlewares <br></h3><br>  <strong>ุงููุณูุทุฉ</strong> ุนุจุงุฑุฉ ุนู ุบูุงู ููุชู ูุธุงุฆู ุฃุฎุฑู ูุซู ุงูุฏูููุฑ.  ูุจู ุงูุชุฎูู ุนู ุงูุชุญูู ูู ุงููุณูุทุฉ ุ ูู ุทุฑููุฉ ุงูุงุชุตุงู ูุนุทู ุงุณุชุฌุงุจุฉ ุฃู ูุฏุนู ุงููุณูุทุฉ ูููููุฉ ุจุงููุนู. <br><br>  ูุฐุง ูุง ูุดุจู ุงููุณูุทุฉ ูู ูุฌูุฉ ูุธุฑ ูุจุฑูุฌ. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุฅุนุฏุงุฏุงุช <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># settings.py MIDDLEWARE = [ 'django.middleware.security.SecurityMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', ]</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Middleware</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, get_response=None)</span></span></span><span class="hljs-function">:</span></span> self.get_response = get_response <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__call__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, request)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.get_response(request)</code> </pre><br>  ูู ูุฌูุฉ ูุธุฑ ุฌุงูุบู ุ ุชุจุฏู ุฃููุงุน ุงูุจุฑูุฌูุงุช ุงููุณูุทุฉ ููุฃููุง ููุน ูู ุงูููุฏุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.handlers.base def load_middleware(self): handler = convert_exception_to_response(self._get_response) for middleware_path in reversed(settings.MIDDLEWARE): middleware = import_string(middleware_path) instance = middleware(handler) handler = convert_exception_to_response(instance) self._middleware_chain = handler</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุชุทุจูู <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_response</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, request)</span></span></span><span class="hljs-function">:</span></span> set_urlconf(settings.ROOT_URLCONF) response = self._middleware_chain(request) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response</code> </pre><br>  ูุญู ูุฃุฎุฐ ูุธููุฉ <code>get_response</code> ุงูุฃูููุฉ ุ <code>get_response</code> ูู ูุนุงูุฌ ุ ูุงูุชู ุณูู ุชุชุฑุฌู ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>permission error</code> ููู <code>not found error</code> ูู ุฑูุฒ HTTP ุงูุตุญูุญ.  ููู ูู ุดูุก ูู ุงููุณูุทุฉ ููุณูุง ูู ุงููุงุฆูุฉ.  ููุฏุณ middlewares ูููู ุ ูููู ุงูุชุงูู ููู ุงูุณุงุจูุฉ.  ูุดุจู ูุฐุง ุฅูู ุญุฏ ูุจูุฑ ุชุทุจูู ูููุฉ ุงูุฏูููุฑ ููุณูุง ุนูู ุฌููุน ุงููุดุงูุฏุงุช ูู ุงููุดุฑูุน ุ ูุฑูุฒููุง ููุท.  ูุง ุญุงุฌุฉ ููุชููู ูุชุฑุชูุจ ุงูุฃุบููุฉ ุจูุฏูู ููููุง ูููุดุฑูุน ุ ููู ุดูุก ููุงุณุจ ูููุทูู. <br><br>  ูุฑุฑูุง ุจู 7 ุฏูุงุฆุฑ ูู ุงูุจุฑุงูุฌ ุงููุณูุทุฉ ุ ูุฌุง ุทูุจูุง ููุฑุฑ ูุนุงูุฌุฉ ุงูุฃูุฑ.  ูุฐูู ูุตู ุฅูู ูุญุฏุฉ ุงูุชูุฌูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชูุฌูู <br></h3><br>  ูุฐุง ูู ุงูููุงู ุงูุฐู ููุฑุฑ ููู ุงููุนุงูุฌ ุงูุฐู ูุฌุจ ุงูุงุชุตุงู ุจู ูุทูุจ ูุนูู.  ููุฐุง ุญู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจูุงุก ุนูู ุนููุงู url </li><li style=";text-align:right;direction:rtl">  ูู ููุงุตูุงุช WSGI ุ ุญูุซ ูุชู ุงุณุชุฏุนุงุก request.path_info. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.core.handlers.base def _get_response(self, request): resolver = get_resolver() view, args, kwargs = resolver.resolve(request.path_info) response = view(request, *args, **kwargs) return response</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุนูุงููู ุงูููุงูุน <br></h4><br>  ูุญู ูุฃุฎุฐ ูุญูู ุ ููุบุฐููุง ุนููุงู url ููุทูุจ ุงูุญุงูู ููุชููุน ููู ุฅุนุงุฏุฉ ูุธููุฉ ุงูุนุฑุถ ููุณูุง ุ ููู ุนููุงู url ููุณู ูุญุตู ุนูู ุงููุณูุทุงุช ุงูุชู ูููู ูู ุฎูุงููุง ุงุณุชุฏุนุงุก ุทุฑููุฉ ุงูุนุฑุถ.  ุซู ุนุฑุถ <code>get_response</code> ุงูููุงููุงุช ุ ูุนุงูุฌ ุงูุงุณุชุซูุงุกุงุช ูููุนู ุดูุฆูุง ูุนูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># urls.py urlpatterns = [ path('articles/2003/', views.special_case_2003), path('articles/&lt;int:year&gt;/', views.year_archive), path('articles/&lt;int:year&gt;/&lt;int:month&gt;/', views.month_archive) ]</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุญู <br></h4><br>  ูุฐุง ูุง ูุจุฏู ุนููู ุงููุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.urls.resolvers _PATH_RE = re.compile( r'&lt;(?:(?P&lt;converter&gt;[^&gt;:]+):)?(?P&lt;parameter&gt;\w+)&gt;' ) def resolve(self, path): for pattern in self.url_patterns: match = pattern.search(path) if match: return ResolverMatch( self.resolve(match[0]) ) raise Resolver404({'path': path})</span></span></code> </pre><br>  ูุฐุง ูู ุฃูุถุง regexp ุ ูููู ุงูุนูุฏูุฉ.  ูุชู ุนุฑุถู ูู ุฃุฌุฒุงุก ูู ุนููุงู url ุ ููุจุญุซ ุนู ูุง ูุฑูุฏู ุงููุณุชุฎุฏู: ูุณุชุฎุฏููู ุขุฎุฑูู ุ ุฃู ููุดูุฑุงุช ุ ุฃู ูุฏููุงุช ุ ุฃู ูู ูู ููุน ูู ุงููุญูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุณูุฉ ูุนููุฉ ุชุญุชุงุฌ ุฅูู ุญู ุ ูุทุฑุญูุง ูู ูุณูุทุงุช ุ ุฃู ุชุญููููุง ุฅูู int. <br><br>  ูู ุงููููุฒุงุช ุฃู ุนูู ุงูุชูุฑุงุฑ ูุทุฑููุฉ ุงูุนุฒู ูุณุงูู ุฏุงุฆููุง ุนุฏุฏ ุงููุณุงุฆุท ุงูุชู ุชุณูู ุทุฑููุฉ ุงูุนุฑุถ.  ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูุง ููู ูุนุซุฑ ุนูู ุนููุงู url ูุนูู ุ ูุณูุญุฏุซ ุฎุทุฃ ุบูุฑ ููุฌูุฏ. <br><br>  ุซู ูุตู ูู ุงูููุงูุฉ ุฅูู ุงูููุงูุฉ - ุงูุฑูุฒ ุงูุฐู ูุชุจู ุงููุจุฑูุฌ. <br><br><h3 style=";text-align:right;direction:rtl">  ุนุฑุถ <br></h3><br>  ูู ุฃุจุณุท ุชูุซูู ููุง ุ ูู ูุธููุฉ ุชูุฑุฌุน ุงูุทูุจ ูู ุงูุงุณุชุฌุงุจุฉ ุ ููู ุจุฏุงุฎููุง ูููู ุจููุงู ููุทููุฉ: "ูู ุฃุฌู ุ ุฅุฐุง ุ ูู ููู ูู ุงูุฃูุงู" - ุงูุนุฏูุฏ ูู ุงูููุงู ุงููุชูุฑุฑุฉ.  ูููุฑ ููุง Django ุนุฑุถูุง ูุงุฆููุง ุนูู ุงููุตู ุญูุซ ููููู ุชุญุฏูุฏ ุชูุงุตูู ูุญุฏุฏุฉ ุ ูุณูุชู ุชูุณูุฑ ูู ุงูุณููู ุจุงูุชูุณูู ุงูุตุญูุญ ูู ุฎูุงู ุงููุตู ููุณู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.views.generic.edit class ContactView(FormView): template_name = 'contact.html' form_class = ContactForm success_url = '/thanks/'</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ูุฎุทุท ุงูุณูุงุจู <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">self.dispatch() self.post() self.get_form() self.form_valid() self.render_to_response()</code> </pre><br>  ุทุฑููุฉ <code>dispatch</code> ุงูุฎุงุตุฉ ุจูุฐุง ุงููุซูู ููุฌูุฏุฉ ุจุงููุนู ูู ุชุนููู ุนููุงู url ุจุฏูุงู ูู ุฏุงูุฉ.  ูููู Dispatch ุงุณุชูุงุฏูุง ุฅูู ูุนู HTTP ุงูุทุฑููุฉ ุงูุชู ูุฌุจ ุงูุงุชุตุงู ุจูุง: POST ุฌุงุก ุฅูููุง ูุนูู ุงูุฃุฑุฌุญ ูุฑูุฏ ุฅูุดุงุก ูุซูู ูุนูุตุฑ ุงููููุฐุฌ ุ ุฅุฐุง ูุงู ุงููููุฐุฌ ุตุงูุญูุง ุ ูุงุญูุธู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุธูุงุฑ ุงููุงูุจ.  ูุชู ูู ุฐูู ูู ุฎูุงู ุงูุนุฏุฏ ุงููุจูุฑ ูู ุงูุฎูุทุงุช ุงูุชู ุชุดูู ูุฐู ุงููุฆุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูููุฐุฌ <br></h3><br>  ูุฌุจ ูุฑุงุกุฉ ุงููููุฐุฌ ูู ุงูููุจุณ ูุจู ุฃู ูุฏุฎู ุฅูู ุนุฑุถ Django - ูู ุฎูุงู ููุณ ูุนุงูุฌ ุงููููุงุช ุงูููุฌูุฏ ูู ุจูุฆุฉ WSGI.  ุจูุงูุงุช ุงููููุฐุฌ ูู ุฏูู ุจุงูุช ุ ุญูุซ ูุชู ูุตู ููุงุตู - ูููููุง ูุฑุงุกุฉ ูุฐู ุงููุชู ูุตูุน ุดูุก ูููุง.  ูููู ุฃู ุชููู ุงููุฑุงุณูุงุช ุฐุงุช ุงููููุฉ ุงูุฃุณุงุณูุฉ ุ ุฅุฐุง ูุงู ุญูููุง ุ ุฌุฒุกูุง ูู ููู ุ ุซู ูุฑุฉ ุฃุฎุฑู ุจุนุถ ุงูุญููู - ูู ุดูุก ูุฎุชูุท. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">Content-Type: multipart/form-data;boundary=<span class="hljs-string"><span class="hljs-string">"boundary"</span></span> --boundary name=<span class="hljs-string"><span class="hljs-string">"field1"</span></span> value1 --boundary name=<span class="hljs-string"><span class="hljs-string">"field2"</span></span>; value2</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ูุญูู <br></h4><br>  ูุชููู ุงููุญูู ุงููุบูู ูู 3 ุฃุฌุฒุงุก. <br><br>  ูุชุญูู ููุฑุฑ ุงููุทุนุฉ ุงูุฐู ููุดุฆ ุงููุฑุงุกุงุช ุงููุชููุนุฉ ูู ุฏูู ุงูุจุงูุช ุฅูู ููุฑุฑ ููููู ุฅูุชุงุฌ <code>boundaries</code> .  ุฅูู ูุถูู ุฃูู ุฅุฐุง ุนุงุฏ ุดูุก ูุง ุ ูุณูููู ุงูุญุฏ.  ูุนุฏ ูุฐุง ุถุฑูุฑููุง ุญุชู ูุง ูููู ูู ุงูุถุฑูุฑู ุฏุงุฎู ุงููุญูู ุชุฎุฒูู ุญุงูุฉ ุงูุงุชุตุงู ุฃู ุงููุฑุงุกุฉ ูู ุงูููุจุณ ุฃู ุนุฏู ูุฑุงุกุชู ูุชูููู ููุทู ูุนุงูุฌุฉ ุงูุจูุงูุงุช. <br><br>  ุจุนุฏ ุฐูู ุ ููุชู ุงููููุฏ ูู <strong>LazyStream</strong> ุ ููุง ูุคุฏู ุฅูู ุฅูุดุงุก ููู ูุงุฆู ูุฑุฉ ุฃุฎุฑู ุ ูููู ูุน ุงููุฑุงุกุฉ ุงููุชููุนุฉ.  ุญุชู ูุชููู ุงููุญูู ุงููุบูู ูู ุงูุณูุฑ ุจุงููุนู ุนุจุฑ ูุทุน ูู ุงูุจุงูุชุงุช ูุฅูุดุงุก ูููุฉ ููุชุงุญ ูููุง. <br><br>  <strong>ุงูุญูู ูุงูุจูุงูุงุช ููุง ุณุชููู ุฏุงุฆูุง ุณูุงุณู</strong> .  ุฅุฐุง ุชููููุง ููุช ุจูุงูุงุช ุจุชูุณูู ISO ุ ูุณูุชููู ูููุฐุฌ Django (ุงูุฐู ูุชุจู ุงููุจุฑูุฌ) ุ ุจุงุณุชุฎุฏุงู ุญููู ูุนููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุทุงุจุน ุงูุฒููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.http.multipartparser self._post = QueryDict(mutable=True) stream = LazyStream(ChunkIter(self._input_data)) for field, data in Parser(stream): self._post.append(field, force_text(data))</span></span></code> </pre><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ุนูู ุงูุฃุฑุฌุญ ุ ูุฑูุฏ ุงููููุฐุฌ ุญูุธ ููุณู ูู ูุงุนุฏุฉ ุจูุงูุงุช ุ ูููุง ูุจุฏุฃ Django ORM. <br><br><h3 style=";text-align:right;direction:rtl">  ORM <br></h3><br>  ูุชู ุชูููุฐ ุทูุจุงุช DSL ุชูุฑูุจูุง ูู ุฃุฌู ORM: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># models.py Entry.objects.exclude( pub_date__gt=date(2005, 1, 3), headline='Hello', )</span></span></code> </pre><br>  ุจุงุณุชุฎุฏุงู ุงูููุงุชูุญ ุ ููููู ุฌูุน ุชุนุจูุฑุงุช SQL ููุงุซูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">SELECT * WHERE NOT (pub_date &gt; <span class="hljs-string"><span class="hljs-string">'2005-1-3'</span></span> AND headline = <span class="hljs-string"><span class="hljs-string">'Hello'</span></span>)</code> </pre><br>  ููู ุงูุญุงูุ <br><br><h4 style=";text-align:right;direction:rtl">  Queryset <br></h4><br>  ุชุญุชูู ุทุฑููุฉ <code>exclude</code> ุนูู ูุงุฆู <code>Query</code> ุฃุณูู ุงูุบุทุงุก.  ูุชู ุชูุฑูุฑ ุงููุงุฆู ูุณูุทุงุช ุฅูู ุงูุฏุงูุฉ ุ ููููู ุจุฅูุดุงุก ุชุณูุณู ูุฑูู ูููุงุฆูุงุช ุ ูููู ููู ูููุง ุชุญููู ููุณู ุฅูู ุฌุฒุก ูููุตู ูู ุงุณุชุนูุงู SQL ูุณูุณูุฉ. <br><br>  ุนูุฏ ุงุฌุชูุงุฒ ุงูุดุฌุฑุฉ ุ ูููู ูู ูุณู ุจุงุณุชูุตุงุก ุงูุนูุฏ ุงูุชุงุจุนุฉ ูู ุ ููุชููู ุงุณุชุนูุงูุงุช SQL ูุชุฏุงุฎูุฉ ุ ููุชูุฌุฉ ูุฐูู ุ ูููููุง ุฅูุดุงุก SQL ูุณูุณูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุชููู ูููุฉ ุงูููุชุงุญ ุนุจุงุฑุฉ ุนู ุญูู SQL ูููุตู ุ ูููู ุณุชุชู ููุงุฑูุชูุง ุจูููุฉ ุงููููุฉ.  ูุนูู ุชุณูุณู ูุฑูุถ ุงูุงุณุชุนูุงูุงุช ุจุงูุทุฑููุฉ ููุณูุง ูุซู ุงุฌุชูุงุฒ ุดุฌุฑุฉ ูุชูุฑุฑุฉ ุ ููู ุนูุฏุฉ ููุทูู ุนูููุง cast to SQL. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.db.models.query sql.Query(Entry).where.add( ~Q( Q(F('pub_date') &gt; date(2005, 1, 3)) &amp; Q(headline='Hello') ) )</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ูุชุฑุฌู <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.db.models.expressions class Q(tree.Node): AND = 'AND' OR = 'OR' def as_sql(self, compiler, connection): return self.template % self.field.get_lookup('gt')</span></span></code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุงูุฅุฎุฑุงุฌ <br></h3><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>Q(headline=<span class="hljs-string"><span class="hljs-string">'Hello'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># headline = 'Hello' &gt;&gt;&gt; F('pub_date') # pub_date &gt;&gt;&gt; F('pub_date') &gt; date(2005, 1, 3) # pub_date &gt; '2005-1-3' &gt;&gt;&gt; Q(...) &amp; Q(...) # ... AND ... &gt;&gt;&gt; ~Q(...) # NOT โฆ</span></span></code> </pre><br>  ูุชู ุชูุฑูุฑ ูุชุฑุฌู ูุณุงุนุฏ ุตุบูุฑ ุฅูู ูุฐู ุงูุทุฑููุฉ ุ ูุงูุชู ูููู ุฃู ุชููุฒ ููุฌุฉ MySQL ูู PostgreSQL ูุชุฑุชูุจ ุงูุณูุฑ ุงููุญูู ุงูุฐู ูุชู ุงุณุชุฎุฏุงูู ูู ููุฌุฉ ูุงุนุฏุฉ ุจูุงูุงุช ูุนููุฉ ุจุดูู ุตุญูุญ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุฌูู DB <br></h3><br>  ุนูุฏูุง ุชููููุง ุงุณุชุนูุงู SQL ุ ููุฑุน ุงููููุฐุฌ ูู ุชูุฌูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณุฃู ุนู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ููู.  ูู 99 ูช ูู ุงูุญุงูุงุช ุ ุณุชููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ ุ ูู 1 ูช ุงููุชุจููุฉ - ููุนุง ูู ุฎุงุตุฉ ุจูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.db.utils class ConnectionRouter: def db_for_read(self, model, **hints): if model._meta.app_label == 'auth': return 'auth_db'</span></span></code> </pre><br>  ูุคุฏู ุงูุชูุงู ุจุฑูุงูุฌ ุชุดุบูู ูุงุนุฏุฉ ุจูุงูุงุช ูู ูุงุฌูุฉ ููุชุจุฉ ูุนููุฉ ุ ูุซู Python MySQL ุฃู Psycopg2 ุ ุฅูู ุฅูุดุงุก ูุงุฆู ุนุงููู ูููู ูู Django ุงูุชุนุงูู ูุนู.  ููุงู ุบูุงู ูููุคุดุฑุงุช ุ ุงููุฌูุน ูููุนุงููุงุช. <br><br><h4 style=";text-align:right;direction:rtl">  ุฑุจุท ุจุฑูุฉ <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.db.backends.base.base class BaseDatabaseWrapper: def commit(self): self.validate_thread_sharing() self.validate_no_atomic_block() with self.wrap_database_errors: return self.connection.commit()</span></span></code> </pre><br>  ูู ูุฐุง ุงูุตุฏุฏ ุจุงูุฐุงุช ุ ูุฑุณู ุทูุจุงุช ุฅูู ุงูููุจุณ ูุทุฑู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุชุธุฑ ุงูุชูููุฐ.  ุณูู ููุฑุฃ ุงููุฌูุน ุงูููุฌูุฏ ุนูู ุงูููุชุจุฉ ุงูุงุณุชุฌุงุจุฉ ุงูุจุดุฑูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุดูู ุณุฌู ุ ููููู Django ุจุฌูุน ูุซูู ุงููููุฐุฌ ูู ูุฐู ุงูุจูุงูุงุช ูู ุฃููุงุน Python.  ูุฐุง ููุณ ุชูุฑุงุฑูุง ูุนูุฏูุง. <br><br>  ููุฏ ูุชุจูุง ุดูุฆูุง ูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููููุง ุจูุฑุงุกุฉ ุดูุก ุ ููุฑุฑูุง ุฅุฎุจุงุฑ ุงููุณุชุฎุฏู ุจู ุจุงุณุชุฎุฏุงู ุตูุญุฉ HTML.  ููููุงู ุจุฐูู ุ ูุญุชูู Django ุนูู ูุบุฉ ูุงูุจ ูู ูุนุฌุจูุง ุงููุฌุชูุน ูุงูุชู ุชุจุฏู ููุฃููุง ูุบุฉ ุจุฑูุฌุฉ ุ ููุท ูู ููู HTML. <br><br><h3 style=";text-align:right;direction:rtl">  ูุงูุจ <br></h3><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.template.loader <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> render_to_string render_to_string(<span class="hljs-string"><span class="hljs-string">'my_template.html'</span></span>, {<span class="hljs-string"><span class="hljs-string">'entries'</span></span>: ...})</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ููุฏ <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">&lt;ul&gt; {% <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> entries %} &lt;li&gt;{{ entry.name }}&lt;/li&gt; {% endfor %} &lt;/ul&gt;</code> </pre><br><h4 style=";text-align:right;direction:rtl">  ูุญูู <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.template.base BLOCK_TAG_START = '{%' BLOCK_TAG_END = '%}' VARIABLE_TAG_START = '{{' VARIABLE_TAG_END = '}}' COMMENT_TAG_START = '{#' COMMENT_TAG_END = '#}' tag_re = (re.compile('(%s.*?%s|%s.*?%s|%s.*?%s)' % (re.escape(BLOCK_TAG_START), re.escape(BLOCK_TAG_END), re.escape(VARIABLE_TAG_START), re.escape(VARIABLE_TAG_END), re.escape(COMMENT_TAG_START), re.escape(COMMENT_TAG_END))))</span></span></code> </pre><br>  ููุงุฌุฃุฉ - regexp ูุฑุฉ ุฃุฎุฑู.  ููุท ูู ุงูููุงูุฉ ูุฌุจ ุฃู ูููู ููุงู ูุงุตูุฉ ุ ูุงููุงุฆูุฉ ุณูู ุชุฐูุจ ุจุนูุฏุง.  ูุฏ ูููู ูุฐุง ูู ุฃุตุนุจ ุฅุนุงุฏุฉ ุงุณุชุฑุฌุงุน ุฑุฃูุชู ูู ูุฐุง ุงููุดุฑูุน. <br><br><h3 style=";text-align:right;direction:rtl">  ูููุณุฑ <br></h3><br>  ูุนุงูุฌ ุงูููุงูุจ ูุงููุชุฑุฌู ุจุณูุท ููุบุงูุฉ.  ููุงู lexer ูุณุชุฎุฏู regexp ูุชุฑุฌูุฉ ุงููุต ุฅูู ูุงุฆูุฉ ุงูุฑููุฒ ุงูุตุบูุฑุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.template.base def tokenize(self): for bit in tag_re.split(template_string): lineno += bit.count('\n') yield bit</span></span></code> </pre><br>  ููุฑุฑูุง ุนูู ูุงุฆูุฉ ุงูุฑููุฒ ุ ุงูุธุฑ: "ูู ุฃูุชุ  ูููู ูู ุนูุฏุฉ ุนูุงูุฉ. "  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงูุช ูุฐู ุจุฏุงูุฉ ูุจุนุถ <code>if</code> ุฃู ูู <code>for</code> ุฃู ูู <code>for</code> ุ ูุณูู ูุฃุฎุฐ ูุนุงูุฌ ุงูุนูุงูุงุช ุงููุนุงูุฌ ุงูููุงุณุจ.  ูุฎุจุฑ ุงููุนุงูุฌ ููุณู ุงููุญูู: "ุงูุฑุฃ ูู ูุงุฆูุฉ ุงูุฑููุฒ ุงููููุฒุฉ ูุตููุงู ุฅูู ุนูุงูุฉ ุงูุฅุบูุงู". <br><br>  ูุฐูุจ ุงูุนูููุฉ ุฅูู ุงููุญูู ุงููุบูู ูุฑุฉ ุฃุฎุฑู. <br><br><blockquote style=";text-align:right;direction:rtl">  ุงูุนูุฏุฉ ูุงูุนูุงูุฉ ูุงููุญูู ูู ุฃุดูุงุก ูุชูุฑุฑุฉ ุ ูุนุงุฏุฉ ูุง ูุณุงูู ุนูู ุงูุนูุฏูุฉ ุชุฏุงุฎู ุงููุงูุจ ููุณู ุจุงูุนูุงูุงุช. <br></blockquote><br><h4 style=";text-align:right;direction:rtl">  ูุญูู <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> tokens: token = tokens.pop() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> token.startswith(BLOCK_TAG_START): <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> TagNode(token) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> token.startswith(VARIABLE_TAG_START): ...</code> </pre><br>  ูุนุทููุง ูุนุงูุฌ ุงูุนูุงูุงุช ุนูุฏุฉ ูุญุฏุฏุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุน ุญููุฉ ุ ูุงูุชู ุชุธูุฑ ุทุฑููุฉ <code>render</code> . <br><br><h4 style=";text-align:right;direction:rtl">  ููุญููุฉ <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># django.template.defaulttags @register.tag('for') def do_for(parser, token): args = token.split_contents() body = parser.parse(until=['endfor']) return ForNode(args, body)</span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ููุนูุฏุฉ <br></h4><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ForNode</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Node)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, context)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> context.push(): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.args: <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> self.body.render(context)</code> </pre><br>  ุทุฑููุฉ <code>render</code> ูู ุดุฌุฑุฉ ุชุฌุณูุฏ.  ูููู ุฃู ุชุฐูุจ ูู ุนูุฏุฉ ุนููุง ุฅูู ุนูุฏุฉ ุงุจูุฉ ุ ูุงุทูุจ ูููุง ุชูุฏูููุง.  ูุชู ุงุณุชุฎุฏุงู ุงููุจุฑูุฌูู ูุฅุธูุงุฑ ุจุนุถ ุงููุชุบูุฑุงุช ูู ูุฐุง ุงููุงูุจ.  ูุชู ุฐูู ูู ุฎูุงู <code>context</code> - ูุชู ุชูุฏููู ูู ุดูู ูุงููุณ ููุชุธู.  ูุฐู ูุฌููุนุฉ ูู ุงูููุงููุณ ููุญุงูุงุฉ ูุทุงู ุนูุฏูุง ูุฏุฎู ุนูุงูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู <code>context</code> ููุณู ูุบูุฑ ุจุนุถ ุงูุนูุงูุงุช ุงูุฃุฎุฑู ุฏุงุฎู ุญููุฉ <code>for</code> ุ ูุนูุฏูุง ูุฎุฑุฌ ูู ุงูุญููุฉ ุ ุณูุชู ุฅุฑุฌุงุน ุงูุชุบููุฑุงุช.  ูุฐุง ููุงุณุจ ูุฃูู ุนูุฏูุง ูููู ูู ุดูุก ุนุงููููุง ุ ูุฅูู ูู ุงูุตุนุจ ุงูุนูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฑุฏ <br></h3><br>  ุฃุฎูุฑูุง ุ ุชูุตููุง ุฅูู ุงุณุชุฌุงุจุฉ HTTP: <br><br><blockquote style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุงูุนุงูู! <br></blockquote><br>  ูููููุง ุฅุนุทุงุก ุงูุฎุท ูููุณุชุฎุฏู. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน ูุฐุง ุงูุฑุฏ ูู ุงูุนุฑุถ. </li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ููุงุฆู ุงูุจุฑุงูุฌ ุงููุณูุทุฉ. </li><li style=";text-align:right;direction:rtl">  Middlewares ูุฐุง ุงูุฑุฏ ุชุนุฏูู ุ ุชูููุฉ ูุชุญุณูู. </li><li style=";text-align:right;direction:rtl">  ุชุจุฏุฃ ุงูุงุณุชุฌุงุจุฉ ูู ุงูุชูุฑุงุฑ ุฏุงุฎู WSGIHandler ุ ุชุชู ูุชุงุจุชูุง ุฌุฒุฆููุง ุฅูู ุงูููุจุณ ุ ููุชููู ุงููุณุชุนุฑุถ ุงุณุชุฌุงุจุฉ ูู ุฎุงุฏููุง. </li></ul><br>  ุจุฏุฃุช ุฌููุน ุงูุดุฑูุงุช ุงููุงุดุฆุฉ ุงูุดููุฑุฉ ุงูุชู ููุชุจุช ูู ุฌุงูุบู ุ ูุซู Bitbucket ุฃู Instagram ุ ุจุฏูุฑุฉ ุตุบูุฑุฉ ุฌุฏุงู ูุฑุช ุจูุง ูู ูุจุฑูุฌ. <br><br>  ูู ูุฐุง ุ ูุนุฑุถ ุชูุฏููู ูู Moscow Python Conf ++ ุ ุถุฑูุฑู ูู ูููู ุฃูุถู ููุง ุจูู ูุฏูู ูููููุฉ ุงุณุชุฎุฏุงูู.  ูู ุฃู ุณุญุฑ ุ ููุงู ุฌุฒุก ูุจูุฑ ูู regexp ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุงูุทูู. <br><br><blockquote style=";text-align:right;direction:rtl">  ุณูู ููุฏู ููุง ุฃุฑุชููู ูุงููุดูู ู 23 ูุชุญุฏุซูุง ุขุฎุฑ ูุจูุฑูุง <strong>ูู 5 ุฃุจุฑูู</strong> ูุฑุฉู ุฃุฎุฑู ุงููุซูุฑ ูู ุงูุทุนุงู ููุชูููุฑ ูุงูููุงูุดุฉ ุญูู ููุถูุน ุจูุซูู ูู ูุคุชูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุณูู ุจูุซูู ูููู ++</a> .  ุฏุฑุงุณุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฏูู ุงูุฒููู</a> ูุงูุงูุถูุงู ุฅูู ุชุจุงุฏู ุงูุฎุจุฑุงุช ูู ุญู ูุฌููุนุฉ ูุชููุนุฉ ูู ุงููุดุงูู ุจุงุณุชุฎุฏุงู ุจูุซูู. <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar433482/">https://habr.com/ru/post/ar433482/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar433472/index.html">ุงููุญุฏุฉ 2018.3 ุตุฏุฑ</a></li>
<li><a href="../ar433474/index.html">Pylint ูู ุงูุฏุงุฎู ุงูู ุงูุฎุงุฑุฌ. ููู ููุนู ุฐูู</a></li>
<li><a href="../ar433476/index.html">50 ุธูุงู ูู ุงููุฑูุณ</a></li>
<li><a href="../ar433478/index.html">ููุงุฐุง ูุชู ุงุฎุชูุงุฑ Django ูู ูุฌูุฉ Tinkoff</a></li>
<li><a href="../ar433480/index.html">ูุตุฉ Holivarny ุนู linter</a></li>
<li><a href="../ar433486/index.html">ูุงุฐุง ูุฑุฉ ุงุฎุฑูุ ุฅุญูุงุก ุจุทุงูุงุช ุงูุฎุตู ุบูุฑ ุงููุตุฑููุฉ</a></li>
<li><a href="../ar433488/index.html">ุนูุฏ ุงููููุงุฏ ุณูุฑูู ููุชูุจ UPD ุจุซ mitap</a></li>
<li><a href="../ar433490/index.html">ุงุณุชุนุฑุงุถ Creality CR-X ููุทุงุจุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ</a></li>
<li><a href="../ar433494/index.html">10 ุชุนุงุจูุฑ ุฅูุฌููุฒูุฉ ูู ุชุนุฑููุง ุฃุจุฏูุง</a></li>
<li><a href="../ar433496/index.html">ุชูุชุฒู ุงูุดุฑูุงุช ุงููููููุฉ ููุฏููุฉ ุจุงูุงูุชูุงู ุฅูู ุงูุจุฑุงูุฌ ุงููุญููุฉ ุจุญููู ุนุงู 2022</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>