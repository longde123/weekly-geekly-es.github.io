<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèöÔ∏è üéµ üë®üèø‚Äç‚öñÔ∏è Fonctions de currying JavaScript üòî üíû ‚úÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La programmation fonctionnelle est un style de d√©veloppement de programme dans lequel certaines fonctionnalit√©s sp√©cifiques pour travailler avec des f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctions de currying JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/427295/">  La programmation fonctionnelle est un style de d√©veloppement de programme dans lequel certaines fonctionnalit√©s sp√©cifiques pour travailler avec des fonctions sont largement utilis√©es.  Il s'agit, en particulier, de transf√©rer des fonctions vers d'autres fonctions en tant qu'arguments et de renvoyer des fonctions √† partir d'autres fonctions.  Le concept de ¬´fonctions pures¬ª appartient √©galement au style fonctionnel de programmation.  La sortie des fonctions pures ne d√©pend que de l'entr√©e, elles, lorsqu'elles sont ex√©cut√©es, n'affectent pas l'√©tat du programme. <br><br>  Les principes de programmation fonctionnelle sont pris en charge par de nombreux langages.  Parmi eux, JavaScript, Haskell, Clojure, Erlang.  L'utilisation de m√©canismes de programmation fonctionnelle implique la connaissance, entre autres, de concepts tels que les fonctions pures, les fonctions de curry, les fonctions d'ordre sup√©rieur. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ge/zo/ma/gezomag7bkhhzxqs3afxpu76g0k.png"></a> <br><br>  Le mat√©riel que nous traduisons aujourd'hui concerne le curry.  Nous allons parler du fonctionnement du curry et de la fa√ßon dont la connaissance de ce m√©canisme peut √™tre utile √† un d√©veloppeur JS. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Qu'est-ce que le curry?</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Curry</a> dans la programmation fonctionnelle est la transformation d'une fonction avec de nombreux arguments en un ensemble de fonctions imbriqu√©es avec un seul argument.  Lorsqu'une fonction au curry est appel√©e avec un argument qui lui est transmis, elle renvoie une nouvelle fonction qui attend l'arriv√©e du prochain argument.  De nouvelles fonctions qui attendent le prochain argument sont renvoy√©es √† chaque appel de la fonction curry - jusqu'√† ce que la fonction re√ßoive tous les arguments dont elle a besoin.  Les arguments obtenus pr√©c√©demment, gr√¢ce au m√©canisme de fermeture, attendent le moment o√π la fonction obtient tout ce dont elle a besoin pour effectuer les calculs.  Apr√®s avoir re√ßu le dernier argument, la fonction effectue le calcul et renvoie le r√©sultat. <br><br>  En parlant de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">curry</a> , nous pouvons dire que c'est le processus de transformation d'une fonction avec plusieurs arguments en une fonction avec moins d'arit√©. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'arit√©</a> est le nombre d'arguments d'une fonction.  Par exemple, voici la d√©claration d'une paire de fonctions: <br><br><pre><code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b)</span></span></span></span> {    //... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_fn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b, c)</span></span></span></span> {    //... }</code> </pre> <br>  La fonction <code>fn</code> prend deux arguments (c'est une fonction binaire ou 2-aire), la fonction <code>_fn</code> prend trois arguments (une fonction ternaire, 3-aire). <br><br>  Parlons de la situation o√π, pendant le curry, une fonction avec plusieurs arguments est convertie en un ensemble de fonctions, chacune prenant un argument. <br><br>  Prenons un exemple.  Nous avons la fonction suivante: <br><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">multiply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b, c)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c; }</code> </pre> <br>  Il prend trois arguments et retourne leur produit: <br><br><pre> <code class="hljs objectivec">multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  Voyons maintenant comment le convertir en un ensemble de fonctions, chacune prenant un argument.  Cr√©ons une version curry de cette fonction et voyons comment obtenir le m√™me r√©sultat lors de l'appel de plusieurs fonctions: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">multiply</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">b</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function">) =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c       }   } } log(multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>)(<span class="hljs-number"><span class="hljs-number">2</span></span>)(<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  Comme vous pouvez le voir, ici, nous avons converti l'appel en une seule fonction avec trois arguments - <code>multiply(1,2,3)</code> en l'appel √† trois fonctions - <code>multiply(1)(2)(3)</code> . <br><br>  Il s'av√®re qu'une fonction s'est transform√©e en plusieurs fonctions.  Lors de l'utilisation de la nouvelle construction, chaque fonction, √† l'exception de la derni√®re, renvoyant le r√©sultat des calculs, prend un argument et renvoie une autre fonction, √©galement capable d'accepter un argument et de renvoyer une autre fonction.  Si une construction du formulaire <code>multiply(1)(2)(3)</code> ne vous semble pas tr√®s claire, √©crivons-la sous cette forme pour mieux comprendre ceci: <br><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul1 = multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul2 = mul1(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = mul2(<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(result); <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  Voyons maintenant ligne par ligne ce qui se passe ici. <br><br>  Tout d'abord, nous passons l'argument <code>1</code> √† la fonction <code>multiply</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul1 = multiply(<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  Lorsque cette fonction fonctionne, cette conception fonctionne: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">b</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function">) =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c       }   }</code> </pre> <br>  Maintenant <code>mul1</code> a une r√©f√©rence √† une fonction qui prend un argument <code>b</code> .  On appelle la fonction <code>mul1</code> , en la passant <code>2</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mul2 = mul1(<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  √Ä la suite de cet appel, le code suivant sera ex√©cut√©: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>) =&gt; {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>       }</code> </pre> <br>  La <code>mul2</code> contiendra une r√©f√©rence √† une fonction qui pourrait s'y trouver, par exemple, √† la suite de l'op√©ration suivante: <br><br><pre> <code class="hljs coffeescript"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mul2</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(c)</span></span></span><span class="hljs-function"> =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a * b * c       }</code> </pre> <br>  Si nous appelons maintenant la fonction <code>mul2</code> , en lui passant <code>3</code> , alors la fonction effectuera les calculs n√©cessaires en utilisant les arguments <code>a</code> et <code>b</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = mul2(<span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre> <br>  Le r√©sultat de ces calculs sera <code>6</code> : <br><br><pre> <code class="hljs lisp">log(<span class="hljs-name"><span class="hljs-name">result</span></span>)<span class="hljs-comment"><span class="hljs-comment">; // 6</span></span></code> </pre> <br>  La fonction <code>mul2</code> , qui a le niveau d'imbrication le plus √©lev√©, a acc√®s √† la port√©e, aux fermetures form√©es par les fonctions <code>multiply</code> et <code>mul1</code> .  C'est pourquoi dans la fonction <code>mul2</code> possible d'effectuer des calculs avec des variables d√©clar√©es dans des fonctions dont l'ex√©cution est d√©j√† termin√©e, qui ont d√©j√† renvoy√© quelques valeurs et sont trait√©es par le garbage collector. <br><br>  Ci-dessus, nous avons examin√© un exemple abstrait, mais, en substance, la m√™me fonction, qui est con√ßue pour calculer le volume d'une bo√Æte rectangulaire. <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l,w,h)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> l * w * h; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vol = volume(<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">90</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 180000</span></span></code> </pre> <br>  Voici √† quoi ressemble sa version au curry: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">l</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function">) =&gt;</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> l * w * h       }   } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vol = volume(<span class="hljs-number"><span class="hljs-number">100</span></span>)(<span class="hljs-number"><span class="hljs-number">20</span></span>)(<span class="hljs-number"><span class="hljs-number">90</span></span>) <span class="hljs-comment"><span class="hljs-comment">// 180000</span></span></code> </pre> <br>  Ainsi, le curry est bas√© sur l'id√©e suivante: sur la base d'une certaine fonction, une autre fonction est cr√©√©e qui renvoie une fonction sp√©cialis√©e. <br><br><h2>  <font color="#3AC1EF">Curry et utilisation partielle des fonctions</font> </h2><br>  Maintenant, peut-√™tre, on a l'impression que le nombre de fonctions imbriqu√©es, lors de la repr√©sentation d'une fonction comme un ensemble de fonctions imbriqu√©es, d√©pend du nombre d'arguments de la fonction.  Et s'il s'agit de curry, c'est le cas. <br><br>  Une version sp√©ciale de la fonction de calcul du volume, que nous avons d√©j√† vue, peut √™tre r√©alis√©e comme suit: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">l</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w, h</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> l * w * h   } }</code> </pre> <br>  Ici, des id√©es sont appliqu√©es, tr√®s similaires √† celles discut√©es ci-dessus.  Vous pouvez utiliser cette fonction comme suit: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hV = volume(<span class="hljs-number"><span class="hljs-number">70</span></span>); hV(<span class="hljs-number"><span class="hljs-number">203</span></span>,<span class="hljs-number"><span class="hljs-number">142</span></span>); hV(<span class="hljs-number"><span class="hljs-number">220</span></span>,<span class="hljs-number"><span class="hljs-number">122</span></span>); hV(<span class="hljs-number"><span class="hljs-number">120</span></span>,<span class="hljs-number"><span class="hljs-number">123</span></span>);</code> </pre> <br>  Et vous pouvez le faire: <br><br><pre> <code class="hljs lisp">volume(<span class="hljs-number"><span class="hljs-number">70</span></span>)(<span class="hljs-number"><span class="hljs-number">90</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>)<span class="hljs-comment"><span class="hljs-comment">; volume(70)(390,320); volume(70)(940,340);</span></span></code> </pre> <br>  En fait, ici, vous pouvez voir comment nous, avec la commande <code>volume(70)</code> , avons cr√©√© une fonction sp√©cialis√©e pour calculer le volume des corps, dont l'une des dimensions (√† savoir, la longueur, <code>l</code> ) est fixe.  La fonction de <code>volume</code> attend 3 arguments et contient 2 fonctions imbriqu√©es, contrairement √† la version pr√©c√©dente d'une fonction similaire, dont la version au curry contenait 3 fonctions imbriqu√©es. <br><br>  La fonction obtenue apr√®s l'appel du <code>volume(70)</code> impl√©mente le concept d'une application de fonction partielle.  Le curry et l'application partielle des fonctions sont tr√®s similaires, mais les concepts sont diff√©rents. <br><br>  En application partielle, la fonction est transform√©e en une autre fonction avec moins d'arguments (moins d'arit√©).  Certains arguments d'une telle fonction sont fixes (des valeurs par d√©faut sont d√©finies pour eux). <br><br>  Par exemple, il existe une telle fonction: <br><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">acidityRatio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x, y, z)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> performOp(x,y,z) }</code> </pre> <br>  Il peut √™tre converti en ceci: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">acidityRatio</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">y,z</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> performOp(x,y,z)   } }</code> </pre> <br>  L'impl√©mentation de la fonction <code>performOp()</code> n'est pas donn√©e ici, car elle n'affecte pas les concepts consid√©r√©s. <br><br>  La fonction qui peut √™tre obtenue en appelant la nouvelle fonction <code>acidityRatio()</code> avec un argument dont la valeur doit √™tre fix√©e est la fonction d'origine, dont l'un des arguments est fixe, et cette fonction elle-m√™me prend un argument de moins que l'original. <br><br>  La version curry de la fonction ressemblera √† ceci: <br><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">acidityRatio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (y) = &gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (z) = &gt; {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> performOp(x,y,z)       }   } }</code> </pre> <br>  Comme vous pouvez le voir, lors du curry, le nombre de fonctions imbriqu√©es est √©gal au nombre d'arguments de la fonction d'origine.  Chacune de ces fonctions attend son propre argument.  Il est clair que si la fonction des arguments n'accepte pas, ou n'accepte qu'un seul argument, alors elle ne peut pas √™tre curry. <br><br>  Dans une situation o√π une fonction a deux arguments, les r√©sultats de son currying et de son application partielle peuvent √™tre consid√©r√©s comme co√Øncidant.  Par exemple, nous avons une telle fonction: <br><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">div</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x/y; }</code> </pre> <br>  Supposons que nous devions le r√©√©crire afin de pouvoir, en fixant le premier argument, obtenir une fonction qui effectue des calculs en ne lui passant que le deuxi√®me argument, c'est-√†-dire que nous devons appliquer partiellement cette fonction.  Cela ressemblera √† ceci: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">div</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">y</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x/y;   } }</code> </pre> <br>  Le r√©sultat de son curry sera exactement le m√™me. <br><br><h2>  <font color="#3AC1EF">Sur l'application pratique des concepts de curry et d'application partielle de fonctions</font> </h2><br>  Le curry et l'application partielle de fonctions peuvent √™tre utiles dans diverses situations.  Par exemple, lors du d√©veloppement de petits modules pouvant √™tre r√©utilis√©s. <br><br>  Une utilisation partielle des fonctions facilite l'utilisation des modules universels.  Par exemple, nous avons une boutique en ligne, dans le code de laquelle il y a une fonction qui est utilis√©e pour calculer le montant √† payer en tenant compte de la remise. <br><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">discount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(price, discount)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> price * discount }</code> </pre> <br>  Il existe une certaine cat√©gorie de clients, appelons-les ¬´clients bien-aim√©s¬ª, √† qui nous offrons une remise de 10%.  Par exemple, si un tel client ach√®te quelque chose pour 500 $, nous lui accordons une remise de 50 $: <br><br><pre> <code class="hljs pgsql">const price = discount(<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$50</span></span> // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$50</span></span> = <span class="hljs-meta"><span class="hljs-meta">$450</span></span></code> </pre> <br>  Il est facile de remarquer qu'avec cette approche, nous devons constamment appeler cette fonction avec deux arguments: <br><br><pre> <code class="hljs pgsql">const price = discount(<span class="hljs-number"><span class="hljs-number">1500</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$150</span></span> // <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$150</span></span> = <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">350</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">2000</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$200</span></span> // <span class="hljs-meta"><span class="hljs-meta">$2</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$200</span></span> = <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">800</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$5</span></span> // <span class="hljs-meta"><span class="hljs-meta">$50</span></span> - <span class="hljs-meta"><span class="hljs-meta">$5</span></span> = <span class="hljs-meta"><span class="hljs-meta">$45</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">5000</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> // <span class="hljs-meta"><span class="hljs-meta">$5</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$500</span></span> = <span class="hljs-meta"><span class="hljs-meta">$4</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span> const price = discount(<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">0.10</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$30</span></span> // <span class="hljs-meta"><span class="hljs-meta">$300</span></span> - <span class="hljs-meta"><span class="hljs-meta">$30</span></span> = <span class="hljs-meta"><span class="hljs-meta">$270</span></span></code> </pre> <br>  La fonction d'origine peut √™tre r√©duite √† un formulaire qui vous permettrait de recevoir de nouvelles fonctions avec un niveau de remise pr√©d√©termin√©, sur appel, il suffit de transf√©rer le montant de l'achat.  La fonction <code>discount()</code> dans notre exemple a deux arguments.  Voici √† quoi il ressemble dans lequel nous le convertissons: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">discount</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">discount</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">price</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> price * discount;   } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tenPercentDiscount = discount(<span class="hljs-number"><span class="hljs-number">0.1</span></span>);</code> </pre> <br>  La fonction <code>tenPercentDiscount()</code> est le r√©sultat de l'application partielle de la fonction <code>discount()</code> .  Lors de l'appel √† <code>tenPercentDiscount()</code> cette fonction, il suffit de passer le prix, et une remise de 10%, c'est-√†-dire l'argument <code>discount</code> , sera d√©j√† fix√©e: <br><br><pre> <code class="hljs pgsql">tenPercentDiscount(<span class="hljs-number"><span class="hljs-number">500</span></span>); // <span class="hljs-meta"><span class="hljs-meta">$50</span></span> // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$50</span></span> = <span class="hljs-meta"><span class="hljs-meta">$450</span></span></code> </pre> <br>  S'il y a des acheteurs dans notre magasin qui ont d√©cid√© d'accorder une remise de 20%, vous pouvez obtenir la fonction appropri√©e pour travailler avec eux comme ceci: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> twentyPercentDiscount = discount(<span class="hljs-number"><span class="hljs-number">0.2</span></span>);</code> </pre> <br>  Maintenant, la fonction <code>twentyPercentDiscount()</code> peut √™tre appel√©e pour calculer le co√ªt des marchandises, en tenant compte d'une remise de 20%: <br><br><pre> <code class="hljs pgsql">twentyPercentDiscount(<span class="hljs-number"><span class="hljs-number">500</span></span>); // <span class="hljs-number"><span class="hljs-number">100</span></span> // <span class="hljs-meta"><span class="hljs-meta">$500</span></span> - <span class="hljs-meta"><span class="hljs-meta">$100</span></span> = <span class="hljs-meta"><span class="hljs-meta">$400</span></span> twentyPercentDiscount(<span class="hljs-number"><span class="hljs-number">5000</span></span>); // <span class="hljs-number"><span class="hljs-number">1000</span></span> // <span class="hljs-meta"><span class="hljs-meta">$5</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> = <span class="hljs-meta"><span class="hljs-meta">$4</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> twentyPercentDiscount(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); // <span class="hljs-number"><span class="hljs-number">200000</span></span> // <span class="hljs-meta"><span class="hljs-meta">$1</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> - <span class="hljs-meta"><span class="hljs-meta">$200</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span> = <span class="hljs-meta"><span class="hljs-meta">$600</span></span>,<span class="hljs-number"><span class="hljs-number">000</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Fonction universelle pour l'application partielle d'autres fonctions</font> </h2><br>  Nous allons d√©velopper une fonction qui accepte n'importe quelle fonction et renvoie sa variante, qui est une fonction, dont certains des arguments sont d√©j√† d√©finis.  Voici le code qui vous permet de le faire (vous, si vous envisagez de d√©velopper une fonction similaire, il est fort possible que vous obteniez autre chose en cons√©quence): <br><br><pre> <code class="hljs actionscript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">partial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fn, </span></span><span class="hljs-rest_arg"><span class="hljs-function"><span class="hljs-params"><span class="hljs-rest_arg">...args</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (..._arg) =&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fn(...args, ..._arg);   } }</code> </pre> <br>  La fonction <code>partial()</code> accepte la fonction <code>fn</code> , que nous voulons convertir en fonction partiellement appliqu√©e, et un nombre variable de param√®tres <code>(...args</code> ).  L'instruction <code>rest</code> est utilis√©e pour mettre tous les param√®tres apr√®s <code>fn</code> dans <code>args</code> . <br><br>  Cette fonction renvoie une autre fonction qui accepte √©galement un nombre variable de param√®tres ( <code>_arg</code> ).  Cette fonction, √† son tour, appelle la fonction <code>fn</code> origine, transmettez-lui les param√®tres <code>...args</code> et <code>..._arg</code> (en utilisant l'op√©rateur d' <code>spread</code> ).  La fonction effectue le calcul et renvoie le r√©sultat. <br><br>  Nous utilisons cette fonction pour cr√©er une variante de la fonction de <code>volume</code> vous connaissez d√©j√†, con√ßue pour calculer le volume de parall√©l√©pip√®des rectangulaires, dont l'un des c√¥t√©s est fixe: <br><br><pre> <code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l,h,w)</span></span></span><span class="hljs-function"> {   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">h</span></span></span><span class="hljs-function"> * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">w</span></span></span><span class="hljs-function"> } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hV</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">partial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(volume,100)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(200,900)</span></span></span><span class="hljs-function">; // 18000000 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(70,60)</span></span></span><span class="hljs-function">; // 420000</span></span></code> </pre> <br>  Vous trouverez ici un exemple de fonction universelle pour le curry d'autres fonctions. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Dans cet article, nous avons parl√© du curry et de l'application partielle des fonctions.  Ces m√©thodes de transformation de fonctions sont impl√©ment√©es en JavaScript en raison de fermetures et du fait que les fonctions en JS sont des objets de la premi√®re classe (elles peuvent √™tre pass√©es en arguments √† d'autres fonctions, renvoy√©es par elles, affect√©es √† des variables). <br><br>  <b>Chers lecteurs!</b>  Utilisez-vous des techniques de curry et l'application partielle de fonctions dans vos projets? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427295/">https://habr.com/ru/post/fr427295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427283/index.html">Comment la haute disponibilit√© chez Kubernetes est assur√©e</a></li>
<li><a href="../fr427285/index.html">√âcole sur les bases des circuits num√©riques: Novossibirsk - Ok, Krasnoyarsk - pr√©parez-vous</a></li>
<li><a href="../fr427289/index.html">Mod√©lisation g√©ologique 3D, diagraphie et technologie d'Aramco Innovations</a></li>
<li><a href="../fr427291/index.html">R√©duisez le trafic dans les formulaires Web ASP.NET, les div cliquables et les interrogations p√©riodiques du serveur</a></li>
<li><a href="../fr427293/index.html">Mod√®les de conception JavaScript</a></li>
<li><a href="../fr427297/index.html">Apache Ignite + Apache Spark Data Frames: ensemble plus de plaisir</a></li>
<li><a href="../fr427299/index.html">Allons chercher autre chose √† collectionner? Constructeur 3 en 1 "Flotte Lunaire"</a></li>
<li><a href="../fr427301/index.html">Base de donn√©es crash de GitHub</a></li>
<li><a href="../fr427303/index.html">Ralentissement de Windows, partie 2: cr√©ation de processus</a></li>
<li><a href="../fr427307/index.html">Pratique de test du backend Java + Rest-Assured</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>