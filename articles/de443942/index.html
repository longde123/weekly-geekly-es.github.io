<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∑ ü§† üì≠ Konfigurieren von 802.1X auf Cisco-Switches mit Failover-NPS (Windows RADIUS mit AD) üë©üèø‚Äç‚öñÔ∏è ‚ô®Ô∏è üë©üèº‚Äçü§ù‚Äçüë®üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lassen Sie uns in der Praxis die Verwendung von Windows Active Directory + NPS (2 Server f√ºr Fehlertoleranz) + 802.1x-Standard f√ºr die Zugriffskontrol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Konfigurieren von 802.1X auf Cisco-Switches mit Failover-NPS (Windows RADIUS mit AD)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443942/"><img src="https://habrastorage.org/getpro/habr/post_images/fab/761/19d/fab76119df15e93b40fdfdeb0b91156e.png" alt="Bild"><br>  Lassen Sie uns in der Praxis die Verwendung von Windows Active Directory + NPS (2 Server f√ºr Fehlertoleranz) + 802.1x-Standard f√ºr die Zugriffskontrolle und Authentifizierung von Benutzern - Dom√§nencomputern - Ger√§ten untersuchen.  Sie k√∂nnen die Theorie des Standards in Wikipedia unter dem Link <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IEEE 802.1X kennenlernen</a> <br><br>  Da mein ‚ÄûLabor‚Äú nur √ºber begrenzte Ressourcen verf√ºgt, sind die Rollen von NPS und eines Dom√§nencontrollers kompatibel. Ich empfehle jedoch, dass Sie solche kritischen Dienste gemeinsam nutzen. <br><br>  Ich kenne die Standardmethoden zum Synchronisieren von Konfigurationen (Richtlinien) von Windows NPS nicht. Daher verwenden wir PowerShell-Skripts, die vom Taskplaner gestartet wurden (der Autor ist mein ehemaliger Kollege).  Zur Authentifizierung von Dom√§nencomputern und f√ºr Ger√§te, die nicht wissen, wie <b>802.1x verwendet wird</b> (Telefone, Drucker usw.), werden Gruppenrichtlinien konfiguriert und Sicherheitsgruppen erstellt. <br><br>  Am Ende des Artikels werde ich auf einige der Feinheiten der Arbeit mit 802.1x eingehen - wie Sie nicht verwaltete Switches, dynamische ACLs usw. verwenden k√∂nnen. Ich werde Informationen √ºber die festgestellten St√∂rungen austauschen ... <br><a name="habracut"></a><br>  Beginnen wir mit der Installation und Konfiguration des Failover-NPS unter Windows Server 2012R2 (f√ºr 2016 ist alles gleich): W√§hlen Sie √ºber den Server-Manager -&gt; Assistent zum Hinzuf√ºgen von Rollen und Funktionen nur Netzwerkrichtlinienserver aus. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c55/b51/17f/c55b5117f0ebab8d5b10c808617418c5.png" alt="Bild"><br><br>  oder mit PowerShell: <br><br><pre><code class="actionscript hljs">Install-WindowsFeature NPAS -IncludeManagementTools</code> </pre> <br><blockquote>  Eine kleine Klarstellung: Da Sie f√ºr <b>Protected EAP (PEAP)</b> auf jeden Fall ein Zertifikat ben√∂tigen, das die Authentizit√§t des Servers best√§tigt (mit den entsprechenden Nutzungsrechten), das auf Clientcomputern als vertrauensw√ºrdig eingestuft wird, m√ºssen Sie h√∂chstwahrscheinlich auch die Rolle der <b>Zertifizierungsstelle</b> installieren.  Nehmen wir jedoch an, dass Sie <b>CA bereits</b> installiert haben ... </blockquote>  Wir werden das gleiche auf dem zweiten Server tun.  Erstellen Sie auf beiden Servern einen Ordner f√ºr das Skript C: \ Scripts und auf dem zweiten Server einen Netzwerkordner <b>\\ SRV2 \ NPS-config $</b> <br><br>  Erstellen Sie auf dem ersten Server ein PowerShell-Skript <i>C: \ Scripts \ Export-NPS-config.ps1</i> mit den folgenden Inhalten: <br><br><pre> <code class="actionscript hljs">Export-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"\\SRV2\NPS-config$\NPS.xml"</span></span></code> </pre> <br>  Konfigurieren Sie danach die Aufgabe im Task Sheduler: " <i>Export-NpsConfiguration</i> " <br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Export-NPS-config.ps1"</span></span></code> </pre> <br>  <i>F√ºr alle Benutzer ausf√ºhren - Mit den h√∂chsten Berechtigungen ausf√ºhren</i> <i><br></i>  <i>T√§glich - Wiederholen Sie die Aufgabe alle 10 Minuten.</i>  <i>innerhalb von 8 Stunden</i> <br><br>  Konfigurieren Sie auf dem Standby-NPS den Konfigurationsimport (Richtlinien): <br>  Erstellen Sie ein PowerShell-Skript: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Import-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"c:\NPS-config\NPS.xml"</span></span> &gt;&gt; C:\Scripts\Import-NPS-config.ps1</code> </pre> <br>  und die Aufgabe seiner Umsetzung alle 10 Minuten: <br><br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Import-NPS-config.ps1"</span></span></code> </pre> <br>  <i>F√ºr alle Benutzer ausf√ºhren - Mit den h√∂chsten Berechtigungen ausf√ºhren</i> <i><br></i>  <i>T√§glich - Wiederholen Sie die Aufgabe alle 10 Minuten.</i>  <i>innerhalb von 8 Stunden</i> <br><br>  Zur √úberpr√ºfung f√ºgen wir RADIUS-Clients (IP und Shared Secret) in NPS auf einem der Server (!) <b>Einige</b> Switches hinzu. Zwei Richtlinien f√ºr Verbindungsanforderungen: <b>WIRED-Connect</b> (Bedingung: ‚ÄûNAS-Porttyp ist Ethernet‚Äú) und <b>WiFi -Unternehmen</b> (Bedingung: ‚ÄûNAS- <b>Porttyp</b> ist IEEE 802.11‚Äú) sowie die <b><i>Netzwerkrichtlinie f√ºr Netzwerknetzwerke f√ºr Zugriffsnetzwerke</i></b> (Netzwerkadministratoren): <br><br><pre> <code class="xml hljs">:  Windows - domain\sg-network-admins :    -    (PAP, SPAP) :  RADIUS:  - Service-Type - Login    - Cisco-AV-Pair - Cisco - shell:priv-lvl=15</code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">Von der Seite der Schalter die folgenden Einstellungen:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">aaa new-model aaa local authentication attempts max-fail 5 ! ! aaa group server radius NPS server-private 192.168.38.151 auth-port 1812 acct-port 1813 key %shared_secret% server-private 192.168.10.151 auth-port 1812 acct-port 1813 key %shared_secret% ! aaa authentication login default group NPS local aaa authentication dot1x default group NPS aaa authorization console aaa authorization exec default group NPS local if-authenticated aaa authorization network default group NPS ! aaa session-id common ! identity profile default ! dot1x system-auth-control ! ! line vty 0 4 exec-timeout 5 0 transport input ssh escape-character 99 line vty 5 15 exec-timeout 5 0 logging synchronous transport input ssh escape-character 99</code> </pre> <br></div></div><br>  Nach der Konfiguration sollten nach 10 Minuten alle Clients \ Richtlinien \ Einstellungen auf dem Backup-NPS angezeigt werden, und wir k√∂nnen uns mit dem ActiveDirectory-Konto, einem Mitglied der Gruppe Domain \ sg-network-admins (die wir zuvor erstellt haben), bei den Switches anmelden. <br><br>  Fahren wir mit dem Einrichten von Active Directory fort: Erstellen Sie eine Gruppen- und Kennwortrichtlinie und erstellen Sie die erforderlichen Gruppen. <br><br>  Gruppenrichtlinien- <i><b>Computer-8021x-Einstellungen</b></i> : <br><br><pre> <b><code class="plaintext hljs">Computer Configuration (Enabled) Policies Windows Settings Security Settings System Services Wired AutoConfig (Startup Mode: Automatic) Wired Network (802.3) Policies</code></b> </pre> <br><div class="spoiler">  <b class="spoiler_title">NPS-802-1x</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Name NPS-802-1x Description 802.1x Global Settings SETTING VALUE Use Windows wired LAN network services for clients Enabled Shared user credentials for network authentication Enabled Network Profile Security Settings Enable use of IEEE 802.1X authentication for network access Enabled Enforce use of IEEE 802.1X authentication for network access Disabled IEEE 802.1X Settings Computer Authentication Computer only Maximum Authentication Failures 10 Maximum EAPOL-Start Messages Sent Held Period (seconds) Start Period (seconds) Authentication Period (seconds) Network Authentication Method Properties Authentication method Protected EAP (PEAP) Validate server certificate Enabled Connect to these servers Do not prompt user to authorize new servers or trusted certification authorities Disabled Enable fast reconnect Enabled Disconnect if server does not present cryptobinding TLV Disabled Enforce network access protection Disabled Authentication Method Configuration Authentication method Secured password (EAP-MSCHAP v2) Automatically use my Windows logon name and password(and domain if any) Enabled</code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/88f/cd4/c48/88fcd4c486e62979b592d5a633270e59.png" alt="NPS-802-1x_AD-Richtlinie"><br><br>  Erstellen Sie eine Sicherheitsgruppe <b><i>sg-computer-8021x-vl100</i></b> , in der wir die Computer, die wir verteilen m√∂chten, zu vlan 100 hinzuf√ºgen und die Filterung f√ºr die zuvor erstellte Gruppenrichtlinie f√ºr diese Gruppe konfigurieren: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79b/5d5/11c/79b5d511c9c2551781cfa4b8b4113552.png" alt="802.1x-Authentifizierung-GPO-Filterung"><br><br>  Sie k√∂nnen √ºberpr√ºfen, ob die Richtlinie erfolgreich implementiert wurde, indem Sie das "Netzwerk- und Freigabecenter (Netzwerk- und Interneteinstellungen) - Adaptereinstellungen √§ndern (Adaptereinstellungen konfigurieren) - Adaptereigenschaften" √∂ffnen. Dort sehen Sie die Registerkarte "Authentifizierung": <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d6f/2c9/6bf/d6f2c96bff36ee31b6549391c63f398a.png" alt="Netzwerkzugriffsauthentifizierung f√ºr Ethernet-Adapter"><br><br>  Wenn Sie davon √ºberzeugt sind, dass die Richtlinie erfolgreich angewendet wurde, k√∂nnen Sie die Netzwerkrichtlinie auf dem NPS konfigurieren und auf Switch-Ports zugreifen. <br><br>  Erstellen Sie eine Netzwerkrichtlinie <b><i>neag-computer-8021x-vl100</i></b> : <br><br><pre> <code class="xml hljs">Conditions: Windows Groups - sg-computers-8021x-vl100 NAS Port Type - Ethernet Constraints: Authentication Methods - Microsoft: Protected EAP (PEAP) - Unencrypted authentication (PAP, SPAP) NAS Port Type - Ethernet Settings: Standard: Framed-MTU 1344 TunnelMediumType 802 (includes all 802 media plus Ethernet canonical format) TunnelPrivateGroupId 100 TunnelType Virtual LANs (VLAN)</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/1f9/8b9/4e3/1f98b94e3a813be72c498a4c92b71454.png" alt="802.1x-Authentifizierungsnetzwerkrichtlinie"><br><br>  Typische Einstellungen f√ºr den Switch-Port (Ich mache darauf aufmerksam, dass der Authentifizierungstyp "Multi-Domain" - Data &amp; Voice ist und es auch m√∂glich ist, sich bei der Mac-Adresse zu authentifizieren. F√ºr die "√úbergangszeit" ist es sinnvoll, die folgenden Parameter zu verwenden: <br><br><pre> <code class="actionscript hljs">authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre><br>  Die ID wird nicht von "Quarant√§ne" eingegeben, sondern von derselben, die der Benutzercomputer nach erfolgreicher Anmeldung erhalten soll - bis wir sicherstellen, dass alles ordnungsgem√§√ü funktioniert.  Dieselben Parameter k√∂nnen in anderen Szenarien verwendet werden, z. B. wenn ein nicht verwalteter Switch in diesen Port eingef√ºgt wird und Sie m√∂chten, dass alle damit verbundenen und nicht authentifizierten Ger√§te in ein bestimmtes VLAN fallen (‚ÄûQuarant√§ne‚Äú). <br><br><div class="spoiler">  <b class="spoiler_title">Wechseln Sie die Porteinstellungen in 802.1x-Hostdom√§nen mit mehreren Dom√§nen</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">default</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> shu des PC-IPhone_802<span class="hljs-number"><span class="hljs-number">.1</span></span>x switchport mode access switchport nonegotiate switchport voice vlan <span class="hljs-number"><span class="hljs-number">55</span></span> switchport port-security maximum <span class="hljs-number"><span class="hljs-number">2</span></span> authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication host-mode multi-domain authentication port-control auto authentication violation restrict mab dot1x pae authenticator dot1x timeout quiet-period <span class="hljs-number"><span class="hljs-number">15</span></span> dot1x timeout tx-period <span class="hljs-number"><span class="hljs-number">3</span></span> storm-control broadcast level pps <span class="hljs-number"><span class="hljs-number">100</span></span> storm-control multicast level pps <span class="hljs-number"><span class="hljs-number">110</span></span> no vtp lldp receive lldp transmit spanning-tree portfast no shu exit</code> </pre> <br></div></div><br>  Mit dem folgenden Befehl k√∂nnen Sie √ºberpr√ºfen, ob der Computer / das Telefon erfolgreich authentifiziert wurde: <br><br><pre> <code class="actionscript hljs">sh authentication sessions int Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span> det</code> </pre> <br>  Erstellen Sie nun im Active Directory f√ºr Telefone eine Gruppe (z. B. <i>sg-fgpp-mab</i> ) und f√ºgen Sie ein Testger√§t hinzu (in meinem Fall ist dies <b><i>Grandstream GXP2160</i></b> mit der <b>Massenadresse 000b.82ba.a7b1</b> und der entsprechenden <b>Kontodom√§ne \ 000b82baa7b1</b> ). . <br><br>  F√ºr die erstellte Gruppe senken wir die Anforderungen an Kennwortrichtlinien (mithilfe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">fein abgestimmter Kennwortrichtlinien</a> √ºber das Active Directory-Verwaltungscenter -&gt; Dom√§ne -&gt; System -&gt; Kennworteinstellungscontainer) mit den folgenden <b><i>Kennworteinstellungen f√ºr MAB-</i></b> Parameter: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/998/705/0cf998705b059c03465acd6057356d91.jpg" alt="Feink√∂rnige Kennwortrichtlinien (FGPP) f√ºr MAB-Ger√§te"><br><br>  Dadurch k√∂nnen wir die Mas-Adresse von Ger√§ten als Passw√∂rter verwenden.  Danach k√∂nnen wir eine Netzwerkrichtlinie f√ºr die 802.1x-Methoden-MAB-Authentifizierung erstellen. Nennen wir sie neag-Ger√§te-8021x-Sprache.  Die Parameter sind wie folgt: <br><br><ul><li>  NAS-Porttyp - Ethernet </li><li>  Windows-Gruppen - sg-fgpp-mab </li><li>  EAP-Typen: Unverschl√ºsselte Authentifizierung (PAP, SPAP) </li><li>  RADIUS-Attribute - Herstellerspezifisch: Cisco - Cisco-AV-Pair - Attributwert: Ger√§teverkehrsklasse = Sprache </li></ul><br>  Lesen Sie nach erfolgreicher Authentifizierung (vergessen Sie nicht, den Switch-Port zu konfigurieren) die Informationen vom Port: <br><br><div class="spoiler">  <b class="spoiler_title">sh Authentifizierung se int Gi1 / 0/34</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">---------------------------------------- Interface: GigabitEthernet1/0/34 MAC Address: 000b.82ba.a7b1 IP Address: 172.29.31.89 User-Name: 000b82baa7b1 Status: Authz Success Domain: VOICE Oper host mode: multi-domain Oper control dir: both Authorized By: Authentication Server Session timeout: N/A Idle timeout: N/A Common Session ID: 0000000000000EB2000B8C5E Acct Session ID: 0x00000134 Handle: 0xCE000EB3 Runnable methods list: Method State dot1x Failed over mab Authc Success</code> </pre> <br></div></div><br>  Betrachten Sie nun, wie versprochen, einige nicht so offensichtliche Situationen.  Zum Beispiel m√ºssen wir Computer \ Ger√§te von Benutzern √ºber einen nicht verwalteten Switch (Switch) verbinden.  In diesem Fall sehen die Porteinstellungen folgenderma√üen aus: <br><br><div class="spoiler">  <b class="spoiler_title">Wechseln Sie die Porteinstellungen im 802.1x-Hostmodus im Multi-Auth-Modus</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GigabitEthernet1</span></span></span><span class="hljs-class">/0/1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">description</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SW</span></span></span><span class="hljs-class"> ‚Äì 802.1</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class"> ‚Äì 8 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mac</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">access</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonegotiate</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">voice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 55 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">security</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">maximum</span></span></span><span class="hljs-class"> 8 !  -  - </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fail</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">response</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">host</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multi</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auth</span></span></span><span class="hljs-class"> ! ‚Äì   </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">violation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">restrict</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mab</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pae</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authenticator</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quiet</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 15 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tx</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 3 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">broadcast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multicast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 110 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vtp</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">spanning</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tree</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">portfast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span></span></code> </pre> <br></div></div><br>  PS: Es wurde ein sehr seltsamer Fehler festgestellt. Wenn das Ger√§t √ºber einen solchen Switch angeschlossen war und dann in einem verwalteten Switch steckte, funktioniert es NICHT, bis wir den (!) Switch neu starten, bis ich andere M√∂glichkeiten zur L√∂sung dieses Problems gefunden habe. <br><br>  Ein weiterer Punkt im Zusammenhang mit DHCP (wenn IP-DHCP-Snooping verwendet wird) - ohne solche Optionen: <br><br><pre> <code class="actionscript hljs">ip dhcp snooping vlan <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-100</span></span> no ip dhcp snooping information option</code> </pre> <br>  Aus irgendeinem Grund kann die IP-Adresse nicht korrekt empfangen werden ... obwohl dies m√∂glicherweise eine Funktion unseres DHCP-Servers ist <br><br>  Und Mac OS und Linux (in denen 802.1x-Unterst√ºtzung nativ ist) versuchen, sich vom Benutzer zu authentifizieren, selbst wenn die Authentifizierung anhand der Massenadresse konfiguriert ist. <br><br>  Im n√§chsten Teil des Artikels werden wir die Verwendung von 802.1x f√ºr Wireless betrachten (abh√§ngig von der Gruppe, in der sich das Benutzerkonto befindet, werden wir es in das entsprechende Netzwerk (vlan) "ablegen", obwohl sie sich mit derselben SSID verbinden). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443942/">https://habr.com/ru/post/de443942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443926/index.html">Autos "Katamarane"</a></li>
<li><a href="../de443928/index.html">So fahren Sie ein Taxi auf Kosten eines anderen - Schwachstellen am Beispiel eines Dienstes</a></li>
<li><a href="../de443934/index.html">CJDNS ist tot, es lebe Yggdrasil</a></li>
<li><a href="../de443938/index.html">NetXMS als √úberwachungssystem f√ºr Faule ... und ein kleiner Vergleich mit Zabbix</a></li>
<li><a href="../de443940/index.html">Wie man Filmtitel NICHT √ºbersetzt</a></li>
<li><a href="../de443946/index.html">Die Situation: Virtuelle GPUs sind in der Leistung Eisenl√∂sungen nicht unterlegen</a></li>
<li><a href="../de443948/index.html">Wettbewerb "Ich bin ein Intel Studio-Experte" mit Superpreisen f√ºr Entwickler</a></li>
<li><a href="../de443950/index.html">Vertrauen, beraten, vorschlagen - auf der Suche nach echten Software-Reviews</a></li>
<li><a href="../de443952/index.html">Souver√§nes Internet - f√ºr unser Geld</a></li>
<li><a href="../de443954/index.html">Technologische Singularit√§t: der moderne Mythos vom Ende der Welt unter dem Deckmantel der Hypothese des Fortschritts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>