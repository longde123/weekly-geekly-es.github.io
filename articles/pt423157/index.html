<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùï üÜò ü§Ωüèæ Usando a fun√ß√£o connect () do react-redux üöπ üëèüèΩ üßê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O artigo que estamos traduzindo hoje discutir√° como criar componentes de cont√™iner em aplicativos React relacionados ao estado do Redux. Este material...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Usando a fun√ß√£o connect () do react-redux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423157/">  O artigo que estamos traduzindo hoje discutir√° como criar componentes de cont√™iner em aplicativos React relacionados ao estado do Redux.  Este material √© baseado na descri√ß√£o do mecanismo de gerenciamento de estado no React usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pacote react-redux</a> .  Sup√µe-se que voc√™ j√° tenha um entendimento b√°sico da arquitetura e API das bibliotecas sobre as quais falaremos.  Se n√£o for esse o caso, consulte a documenta√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">React</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Redux</a> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/35f/0eb/fea/35f0ebfea2178696cb95ede9f78407c9.jpg" alt="imagem"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Sobre gerenciamento de estado em aplicativos JavaScript</font> </h2><br>  O React fornece ao desenvolvedor dois mecanismos principais para transferir dados para componentes.  Estas s√£o propriedades (adere√ßos) e estado.  As propriedades s√£o somente leitura e permitem que os componentes pai transmitam atributos aos componentes filhos.  Um estado √© uma entidade local encapsulada dentro de um componente que pode mudar a qualquer momento no ciclo de vida do componente. <br><br>  Como o estado √© um mecanismo extremamente √∫til usado para criar poderosos aplicativos din√¢micos do React, √© necess√°rio gerenci√°-lo adequadamente.  Atualmente, existem v√°rias bibliotecas que fornecem uma arquitetura bem estruturada para gerenciar a integridade do aplicativo.  Entre eles est√£o o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flux</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Redux</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MobX</a> . <br><br>  Redux √© uma biblioteca projetada para criar cont√™ineres usados ‚Äã‚Äãpara armazenar o estado do aplicativo.  Ele oferece ao desenvolvedor ferramentas de gerenciamento de estado compreens√≠veis que se comportam de maneira previs√≠vel.  Essa biblioteca √© adequada para aplicativos escritos em JavaScript puro, bem como para projetos no desenvolvimento dos quais algumas estruturas foram usadas.  Redux √© pequeno, mas permite escrever aplicativos confi√°veis ‚Äã‚Äãque funcionam em diferentes ambientes. <br><br>  Veja como criar reposit√≥rios Redux: <br><br><pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createStore } from <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = {    auth: { loggedIn: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = createStore((state = initialState, action) =&gt; {    switch (action.type) {        case <span class="hljs-string"><span class="hljs-string">"LOG_IN"</span></span>:            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, auth: { loggedIn: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } };            <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;        case <span class="hljs-string"><span class="hljs-string">"LOG_OUT"</span></span>:            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { ...state, auth: { loggedIn: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } };            <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;        <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:            <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> state;            <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;    }    })</code> </pre> <br><h2>  <font color="#3AC1EF">Pacote React-redux</font> </h2><br>  O pacote react-redux fornece liga√ß√µes React para o cont√™iner de estado Redux, tornando extremamente f√°cil conectar o aplicativo React ao reposit√≥rio Redux.  Isso permite que voc√™ separe os componentes de um aplicativo React com base no relacionamento deles com o reposit√≥rio.  Ou seja, estamos falando dos seguintes tipos de componentes: <br><br><ol><li>  Componentes de apresenta√ß√£o.  Eles s√£o respons√°veis ‚Äã‚Äãapenas pela apar√™ncia do aplicativo e n√£o t√™m conhecimento do estado do Redux.  Eles recebem dados atrav√©s de propriedades e podem chamar retornos de chamada, que tamb√©m s√£o transmitidos a eles atrav√©s de propriedades. </li><li>  Componentes do cont√™iner.  Eles s√£o respons√°veis ‚Äã‚Äãpela opera√ß√£o dos mecanismos internos do aplicativo e interagem com o estado do Redux.  Eles geralmente s√£o criados usando o react-redux, eles podem despachar a√ß√µes do Redux.  Al√©m disso, eles assinam altera√ß√µes de estado. </li></ol><br>  Detalhes sobre essa abordagem da divis√£o de responsabilidade dos componentes podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Neste artigo, falaremos principalmente sobre componentes de cont√™iner conectados ao estado Redux usando react-redux. <br><br>  O pacote react-redux tem uma interface muito simples.  Em particular, o mais interessante dessa interface se resume ao seguinte: <br><br><ol><li>  <code>&lt;Provider store&gt;</code> - permite criar um wrapper para um aplicativo React e disponibilizar o estado Redux para todos os componentes do cont√™iner em sua hierarquia. </li><li>  <code>connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])</code> - permite criar componentes de ordem superior.  Isso √© necess√°rio para criar componentes de cont√™iner com base nos componentes b√°sicos do React. </li></ol><br>  Instale o react-redux para usar este pacote no projeto da seguinte maneira: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> react-redux <span class="hljs-comment"><span class="hljs-comment">--save</span></span></code> </pre> <br>  Com base na suposi√ß√£o de que voc√™ j√° configurou o reposit√≥rio Redux para seu aplicativo React, aqui est√° um exemplo de conex√£o do aplicativo ao reposit√≥rio Redux: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Provider } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> createStore <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./createReduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = createStore(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rootElement = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'root'</span></span>); ReactDOM.render(( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">store</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{store}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">AppRootComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ), rootElement);</code> </pre> <br>  Agora voc√™ pode criar componentes de cont√™iner que est√£o conectados ao reposit√≥rio Redux.  Isso √© feito dentro da hierarquia do <code>AppRootComponent</code> usando a API <code>connect()</code> . <br><br><h2>  <font color="#3AC1EF">Quando usar o connect ()?</font> </h2><br><h3>  <font color="#3AC1EF">Criando componentes de cont√™iner</font> </h3><br>  Como j√° mencionado, a API react-redux <code>connect()</code> √© usada para criar componentes de cont√™iner que est√£o conectados ao reposit√≥rio Redux.  O armazenamento ao qual voc√™ est√° se conectando √© obtido do ancestral mais alto do componente usando o mecanismo de contexto React.  A fun√ß√£o <code>connect()</code> n√£o ser√° necess√°ria se voc√™ criar apenas componentes de apresenta√ß√£o. <br><br>  Se voc√™, no componente React, precisar receber dados do armazenamento, despachar a√ß√µes ou executar as duas a√ß√µes, poder√° converter um componente regular em um componente de cont√™iner, envolvendo-o em um componente de ordem superior retornado por <code>connect()</code> de reagir-redux.  Aqui est√° o que parece: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Profile <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/Profile'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ProfileContainer(props) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   props.loggedIn     ? &lt;Profile profile={props.profile} /&gt;     : &lt;div&gt;Please <span class="hljs-keyword"><span class="hljs-keyword">login</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> profile.&lt;/div&gt; ) } const mapStateToProps = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(state) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   profile: state.<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.profile,   loggedIn: state.auth.loggedIn } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(mapStateToProps)(ProfileContainer);</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Eliminando a necessidade de assinar manualmente o armazenamento Redux</font> </h3><br>  Voc√™ pode criar o componente do cont√™iner e assinar manualmente o componente no reposit√≥rio Redux usando o comando <code>store.subscribe()</code> .  No entanto, usar a fun√ß√£o <code>connect()</code> significa aplicar algumas melhorias e otimiza√ß√µes de desempenho que talvez voc√™ n√£o consiga usar ao usar outros mecanismos. <br><br>  No exemplo a seguir, tentamos criar manualmente um componente de cont√™iner e conect√°-lo ao reposit√≥rio Redux, assinando-o.  Aqui nos esfor√ßamos para implementar a mesma funcionalidade, como mostrado no exemplo anterior. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } from <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> store from <span class="hljs-string"><span class="hljs-string">'./reduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Profile from <span class="hljs-string"><span class="hljs-string">'./components/Profile'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProfileContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ state = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getCurrentStateFromStore() getCurrentStateFromStore() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {     profile: store.getState().user.profile,     loggedIn: store.getState().auth.loggedIn   } } updateStateFromStore = () =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> currentState = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getCurrentStateFromStore();     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state !== currentState) {     <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(currentState);   } } componentDidMount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.unsubscribeStore = store.subscribe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.updateStateFromStore); } componentWillUnmount() {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.unsubscribeStore(); } render() {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { loggedIn, profile } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state;     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     loggedIn       ? &lt;Profile profile={profile} /&gt;       : &lt;div&gt;Please login to view profile.&lt;/div&gt;   ) } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> ProfileContainer;</code> </pre> <br>  A fun√ß√£o <code>connect()</code> , al√©m disso, oferece ao desenvolvedor flexibilidade adicional, permitindo configurar componentes de cont√™iner para receber propriedades din√¢micas com base nas propriedades que foram originalmente passadas para eles.  Isso acaba sendo muito √∫til para obter sele√ß√µes de um estado com base em propriedades ou para vincular geradores de a√ß√£o a uma vari√°vel espec√≠fica das propriedades. <br><br>  Se seu aplicativo React usar v√°rios reposit√≥rios Redux, o <code>connect()</code> facilita a especifica√ß√£o do reposit√≥rio espec√≠fico ao qual o componente do cont√™iner deve ser conectado. <br><br><h2>  <font color="#3AC1EF">Anatomia connect ()</font> </h2><br>  A fun√ß√£o <code>connect()</code> fornecida pelo pacote react-redux pode levar at√© quatro argumentos, cada um dos quais √© opcional.  Ap√≥s chamar a fun√ß√£o <code>connect()</code> , √© retornado um componente de ordem superior que pode ser usado para quebrar qualquer componente React. <br><br>  Como a fun√ß√£o retorna um componente de ordem superior, ela precisa ser chamada novamente, passando o componente React b√°sico para convert√™-lo em um componente de cont√™iner: <br><br><pre> <code class="hljs lisp">const ContainerComponent = connect()(<span class="hljs-name"><span class="hljs-name">BaseComponent</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  Aqui est√° a assinatura da fun√ß√£o <code>connect()</code> : <br><br><pre> <code class="hljs powershell">connect([<span class="hljs-type"><span class="hljs-type">mapStateToProps</span></span>], [<span class="hljs-type"><span class="hljs-type">mapDispatchToProps</span></span>], [<span class="hljs-type"><span class="hljs-type">mergeProps</span></span>], [<span class="hljs-type"><span class="hljs-type">options</span></span>])</code> </pre> <br><h3>  <font color="#3AC1EF">Argument argumento mapStateToProps</font> </h3><br>  O argumento <code>mapStateToProps</code> √© uma fun√ß√£o que retorna um objeto regular ou outra fun√ß√£o.  Passar esse argumento <code>connect()</code> inscreve o componente do cont√™iner nas atualiza√ß√µes do reposit√≥rio Redux.  Isso significa que a fun√ß√£o <code>mapStateToProps</code> ser√° chamada sempre que o estado do reposit√≥rio for alterado.  Se voc√™ n√£o estiver interessado em monitorar atualiza√ß√µes de status, passe <code>connect()</code> como o valor desse argumento para <code>undefined</code> ou <code>null</code> . <br><br>  A fun√ß√£o <code>mapStateToProps</code> declarada com dois par√¢metros, o segundo dos quais √© opcional.  O primeiro par√¢metro √© o estado atual do reposit√≥rio Redux.  O segundo par√¢metro, se passado, √© um objeto das propriedades passadas para o componente: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   <span class="hljs-attr"><span class="hljs-attr">profile</span></span>: state.user.profile,   <span class="hljs-attr"><span class="hljs-attr">loggedIn</span></span>: state.auth.loggedIn } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> connect(mapStateToProps)(ProfileComponent);</code> </pre> <br>  Se um objeto regular for retornado de <code>mapStateToProps</code> , o objeto <code>stateProps</code> retornado <code>stateProps</code> combinado com as propriedades do componente.  Voc√™ pode acessar essas propriedades no componente da seguinte maneira: <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProfileComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   props.loggedIn     ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Profile</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">profile</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{props.profile}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">     : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Please login to view profile.</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ) }</span></span></code> </pre> <br>  Se <code>mapStateToProps</code> retornar uma fun√ß√£o, essa fun√ß√£o ser√° usada como <code>mapStateToProps</code> para cada inst√¢ncia do componente.  Isso pode ser √∫til para melhorar o desempenho da renderiza√ß√£o e memorizar. <br><br><h3>  <font color="#3AC1EF">Argument argumento mapDispatchToProps</font> </h3><br>  O argumento <code>mapDispatchToProps</code> pode ser um objeto ou uma fun√ß√£o que retorna um objeto regular ou outra fun√ß√£o.  Para ilustrar melhor o <code>mapDispatchToProps</code> , precisamos de geradores de a√ß√£o.  Suponha que tenhamos os seguintes geradores: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeComment = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">comment</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ comment, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'WRITE_COMMENT'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> updateComment = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id, comment</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ id, comment, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'UPDATE_COMMENT'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> deleteComment = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ id, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'DELETE_COMMENT'</span></span> });</code> </pre> <br>  Agora considere os v√°rios usos do <code>mapDispatchToProps</code> . <br><br><h4>  Implementa√ß√£o padr√£o padr√£o </h4><br>  Se voc√™ n√£o usar sua pr√≥pria implementa√ß√£o <code>mapDispatchToProps</code> , representada por um objeto ou fun√ß√£o, ser√° usada uma implementa√ß√£o padr√£o, que implementar√° o m√©todo de reposit√≥rio <code>dispatch()</code> como uma propriedade do componente.  Voc√™ pode usar esta propriedade em um componente como este: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { updateComment, deleteComment } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>(props) { const { id, content } = props.<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>; //    props.dispatch() const editComment = () =&gt; props.dispatch(updateComment(id, content)); const removeComment = () =&gt; props.dispatch(deleteComment(id)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;div&gt;     &lt;p&gt;{ content }&lt;/p&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={editComment}&gt;Edit <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={removeComment}&gt;Remove <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;   &lt;/div&gt; ) } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>()(<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>);</code> </pre> <br><h4>  Transfer√™ncia de objeto </h4><br>  Se um objeto for usado como argumento para <code>mapDispatchToProps</code> , cada fun√ß√£o no objeto ser√° tomada como um gerador de a√ß√£o Redux e envolvida em uma chamada de m√©todo de reposit√≥rio <code>dispatch()</code> , que permitir√° que ele seja chamado diretamente.  O objeto resultante com geradores de a√ß√£o, <code>dispatchProps</code> , ser√° combinado com as propriedades do componente. <br><br>  O exemplo a seguir mostra um exemplo de constru√ß√£o do argumento <code>mapDispatchToProps</code> , que √© um objeto com geradores de a√ß√£o, al√©m de como os geradores podem ser usados ‚Äã‚Äãcomo propriedades do componente React: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { updateComment, deleteComment } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>(props) { const { id, content } = props.<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>; // ,   ,   const editComment = () =&gt; props.updatePostComment(id, content); const removeComment = () =&gt; props.deletePostComment(id); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;div&gt;     &lt;p&gt;{ content }&lt;/p&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={editComment}&gt;Edit <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={removeComment}&gt;Remove <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;   &lt;/div&gt; ) } //     const mapDispatchToProps = { updatePostComment: updateComment, deletePostComment: deleteComment } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, mapDispatchToProps)(<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>);</code> </pre> <br><h4>  Transfer√™ncia de fun√ß√£o </h4><br>  Ao usar a fun√ß√£o <code>mapDispatchToProps</code> como argumento <code>mapDispatchToProps</code> o programador deve cuidar do retorno do objeto <code>dispatchProps</code> , que implementa a liga√ß√£o dos geradores de a√ß√£o usando o m√©todo de armazenamento <code>dispatch()</code> .  Esta fun√ß√£o aceita, como primeiro par√¢metro, o m√©todo de reposit√≥rio <code>dispatch()</code> .  Assim como no <code>mapStateToProps</code> , a fun√ß√£o tamb√©m pode aceitar o segundo par√¢metro opcional <code>ownProps</code> , que descreve o mapeamento com as propriedades originais passadas para o componente. <br><br>  Se essa fun√ß√£o retornar outra fun√ß√£o, a fun√ß√£o retornada ser√° usada como <code>mapDispatchToProps</code> , que pode ser √∫til para melhorar o desempenho da renderiza√ß√£o e a memoriza√ß√£o. <br><br>  A fun√ß√£o auxiliar <code>bindActionCreators()</code> do Redux pode ser usada dentro desta fun√ß√£o para vincular geradores de a√ß√£o ao m√©todo de reposit√≥rio <code>dispatch()</code> . <br><br>  O exemplo a seguir mostra o uso, na fun√ß√£o de <code>mapDispatchToProps</code> , de uma fun√ß√£o.  Tamb√©m demonstra o trabalho com a fun√ß√£o auxiliar <code>bindActionCreators()</code> , usada para ligar geradores de a√ß√£o para trabalhar com coment√°rios sobre os <code>props.actions</code> do componente React: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { bindActionCreators } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> commentActions <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./actions'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>(props) { const { id, content } = props.<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>; const { updateComment, deleteComment } = props.actions; //    props.actions const editComment = () =&gt; updateComment(id, content); const removeComment = () =&gt; deleteComment(id); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;div&gt;     &lt;p&gt;{ content }&lt;/p&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={editComment}&gt;Edit <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;     &lt;button <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="button" onClick={removeComment}&gt;Remove <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>&lt;/button&gt;   &lt;/div&gt; ) } const mapDispatchToProps = (dispatch) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {   actions: bindActionCreators(commentActions, dispatch) } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, mapDispatchToProps)(<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span>);</code> </pre> <br><h3>  <font color="#3AC1EF">MerArgument mergeProps</font> </h3><br>  Se o argumento <code>mergeProps</code> for passado para <code>connect()</code> , √© uma fun√ß√£o que aceita os tr√™s par√¢metros a seguir: <br><br><ul><li>  <code>stateProps</code> √© o objeto de propriedade retornado da chamada <code>mapStateToProps()</code> . </li><li>  <code>dispatchProps</code> - um objeto de propriedade com geradores de a√ß√£o de <code>mapDispatchToProps()</code> . </li><li>  <code>ownProps</code> - As propriedades originais obtidas pelo componente. </li></ul><br>  Esta fun√ß√£o retorna um objeto simples com propriedades que ser√£o passadas para o componente agrupado.  Isso √© √∫til para mapear condicionalmente parte do estado de um reposit√≥rio Redux ou geradores de a√ß√£o baseados em propriedades. <br><br>  Se <code>connect()</code> n√£o passar nesta fun√ß√£o, sua implementa√ß√£o padr√£o ser√° usada: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mergeProps = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">stateProps, dispatchProps, ownProps</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign({}, ownProps, stateProps, dispatchProps) }</code> </pre> <br><h3>  <font color="#3AC1EF">RepresentingArgumento representando um objeto com par√¢metros</font> </h3><br>  Um objeto opcional, passado para a fun√ß√£o <code>connect()</code> como o quarto argumento, cont√©m par√¢metros projetados para alterar o comportamento dessa fun√ß√£o.  Portanto, <code>connect()</code> √© uma implementa√ß√£o especial da fun√ß√£o <code>connectAdvanced()</code> , que aceita a maioria dos par√¢metros dispon√≠veis para <code>connectAdvanced()</code> , al√©m de alguns par√¢metros adicionais. <br><br>  <a href="">Aqui est√° a</a> p√°gina <a href="">da</a> documenta√ß√£o, ap√≥s a leitura, que voc√™ pode descobrir quais par√¢metros podem ser usados ‚Äã‚Äãcom o <code>connect()</code> e como eles modificam o comportamento dessa fun√ß√£o. <br><br><h2>  <font color="#3AC1EF">Usando a fun√ß√£o connect ()</font> </h2><br><h3>  <font color="#3AC1EF">‚ñçCriar armazenamento</font> </h3><br>  Antes de converter um componente React regular em um componente de cont√™iner usando <code>connect()</code> , voc√™ precisa criar um reposit√≥rio Redux ao qual esse componente ser√° conectado. <br><br>  Suponha que tenhamos um componente de cont√™iner <code>NewComment</code> , que √© usado para adicionar novos coment√°rios √† publica√ß√£o e, al√©m disso, exibe um bot√£o para enviar coment√°rios.  O c√≥digo que descreve esse componente pode ser assim: <br><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">React</span></span> from <span class="hljs-symbol"><span class="hljs-symbol">'reac</span></span>t'; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { connect } from <span class="hljs-symbol"><span class="hljs-symbol">'react</span></span>-redux'; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewComment</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ input = <span class="hljs-literal"><span class="hljs-literal">null</span></span> writeComment = evt =&gt; {   evt.preventDefault();   const comment = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.input.value;     comment &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.dispatch({ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: <span class="hljs-symbol"><span class="hljs-symbol">'WRITE_COMMEN</span></span>T', comment }); } render() {   const { id, content } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.comment;     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;div&gt;       &lt;input <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"text"</span></span> ref={e =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.input = e} placeholder=<span class="hljs-string"><span class="hljs-string">"Write a comment"</span></span> /&gt;       &lt;button <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onClick={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.writeComment}&gt;<span class="hljs-type"><span class="hljs-type">Submit</span></span> <span class="hljs-type"><span class="hljs-type">Comment</span></span>&lt;/button&gt;     &lt;/div&gt;   ) } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> connect()(<span class="hljs-type"><span class="hljs-type">NewComment</span></span>);</code> </pre> <br>  Para que este componente seja usado no aplicativo, ser√° necess√°rio descrever o reposit√≥rio Redux ao qual esse componente deve estar conectado.  Caso contr√°rio, ocorrer√° um erro.  Isso pode ser feito de duas maneiras, que consideraremos agora. <br><br><h4>  Configurando a propriedade da loja em um componente de cont√™iner </h4><br>  A primeira maneira de equipar um componente com um reposit√≥rio Redux √© passar um link para um reposit√≥rio como o valor da propriedade de <code>store</code> do componente: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> store <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NewComment <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/NewComment'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CommentsApp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">NewComment</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">store</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{store}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><h4>  Definindo a propriedade da loja no componente &lt;Provider&gt; </h4><br>  Se voc√™ deseja configurar o reposit√≥rio Redux para o aplicativo apenas uma vez, estar√° interessado no m√©todo que consideraremos agora.  Geralmente √© adequado para aplicativos que usam apenas um reposit√≥rio Redux. <br><br>  O pacote react-redux fornece ao desenvolvedor o componente <code>&lt;Provider&gt;</code> , que pode ser usado para agrupar o componente raiz do aplicativo.  Aceita a propriedade da <code>store</code> .  Sup√µe-se que seja um link para o reposit√≥rio Redux, que est√° planejado para ser usado no aplicativo.  A propriedade <code>store</code> √© passada, de acordo com a hierarquia do aplicativo, para os componentes do cont√™iner, usando o mecanismo de contexto React: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-dom'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> store <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./reduxStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Provider } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-redux'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NewComment <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./components/NewComment'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CommentsApp</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">NewComment</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> } ReactDOM.render(( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">store</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{store}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">CommentsApp</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Provider</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ), document.getElementById('root'))</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">OrganizationOpenProps Access Organization</font> </h3><br>  Como j√° mencionado, as fun√ß√µes <code>mapDispatchToProps</code> e <code>mapDispatchToProps</code> <code>mapStateToProps</code> para <code>connect()</code> podem ser declaradas com o segundo par√¢metro <code>ownProps</code> , que √© as propriedades do componente. <br>  No entanto, h√° um problema.  Se o n√∫mero de par√¢metros necess√°rios da fun√ß√£o declarada for menor que 2, o <code>ownProps</code> n√£o ser√° transmitido.  Mas se uma fun√ß√£o for declarada sem par√¢metros obrigat√≥rios ou com pelo menos 2 par√¢metros, <code>ownProps</code> ser√° passado. <br><br>  Considere v√°rias op√ß√µes para trabalhar com <code>ownProps</code> . <br><br><h4>  Declara√ß√£o de fun√ß√£o sem par√¢metros </h4><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// state console.log(arguments[1]); // ownProps };</span></span></code> </pre> <br>  Nessa situa√ß√£o, <code>ownProps</code> passado, pois a fun√ß√£o √© declarada sem os par√¢metros necess√°rios.  Como resultado, o seguinte c√≥digo escrito usando a nova sintaxe para os demais par√¢metros ES6 funcionar√°: <br><br><pre> <code class="hljs actionscript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-rest_arg"><span class="hljs-function"><span class="hljs-params"><span class="hljs-rest_arg">...args</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ console.log(args[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// state console.log(args[1]); // ownProps };</span></span></code> </pre> <br><h4>  Declara√ß√£o de fun√ß√£o com um par√¢metro </h4><br>  Considere o seguinte exemplo: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(state); <span class="hljs-comment"><span class="hljs-comment">// state console.log(arguments[1]); // undefined };</span></span></code> </pre> <br>  Existe apenas um par√¢metro, <code>state</code> .  Como resultado, os <code>arguments[1]</code> assumem o valor <code>undefined</code> devido ao fato de o <code>ownProps</code> n√£o ser transmitido. <br><br><h4>  Declara√ß√£o de fun√ß√£o com par√¢metro padr√£o </h4><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, ownProps = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(state); <span class="hljs-comment"><span class="hljs-comment">// state console.log(ownProps); // {} };</span></span></code> </pre> <br>  Existe apenas um par√¢metro necess√°rio, <code>state</code> , pois o segundo par√¢metro, <code>ownProps</code> , √© opcional porque possui um valor padr√£o.  Como resultado, como existe apenas um par√¢metro necess√°rio, <code>ownProps</code> n√£o <code>ownProps</code> passado e o mapeamento √© executado com o valor padr√£o que foi designado a ele, ou seja, com um objeto vazio. <br><br><h4>  Declarando uma fun√ß√£o com dois par√¢metros </h4><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mapStateToProps = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, ownProps</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(state); <span class="hljs-comment"><span class="hljs-comment">// state console.log(ownProps); // ownProps };</span></span></code> </pre> <br>  Tudo √© organizado de maneira muito simples.  Ou seja, nessa situa√ß√£o, a transfer√™ncia de <code>ownProps</code> devido ao fato de a fun√ß√£o ser declarada com dois par√¢metros necess√°rios. <br><br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>  Depois de dominar este material, voc√™ aprendeu sobre quando e como usar a API <code>connect()</code> fornecida pelo pacote react-redux e projetada para criar componentes de cont√™iner conectados ao estado Redux.  Aqui conversamos detalhadamente sobre a estrutura da fun√ß√£o <code>connect()</code> e como trabalhar com ela, no entanto, se voc√™ quiser saber mais sobre esse mecanismo, em particular, se familiarizar com seus casos de uso, d√™ uma olhada <a href="">nesta</a> se√ß√£o da documenta√ß√£o do react-redux. <br><br>  <b>Caros leitores!</b>  Voc√™ usa react-redux em seus projetos? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423157/">https://habr.com/ru/post/pt423157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423147/index.html">Sobre a estrat√©gia e o formato de armazenamento na era Hadoop</a></li>
<li><a href="../pt423149/index.html">Compara√ß√£o direta dos m√©todos de corre√ß√£o da miopia a laser ou o que voc√™ paga ao escolher o ReLEx SMILE</a></li>
<li><a href="../pt423151/index.html">Objetos globais em PHP</a></li>
<li><a href="../pt423153/index.html">Guia do Node.js, parte 2: JavaScript, V8, alguns truques de desenvolvimento</a></li>
<li><a href="../pt423155/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 8: Modelo de Seguran√ßa de Rede, Parte 2</a></li>
<li><a href="../pt423159/index.html">Feliz dia do programador! Ame seus desenvolvedores</a></li>
<li><a href="../pt423161/index.html">As empresas querem dados pessoais</a></li>
<li><a href="../pt423163/index.html">Conectando o CryptoPro ao Mono</a></li>
<li><a href="../pt423165/index.html">Desenho de malha din√¢mica no Unreal Engine 4</a></li>
<li><a href="../pt423167/index.html">O que Mark Zuckerberg fala sobre quest√µes do Facebook. Artigo essencial do The New Yorker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>