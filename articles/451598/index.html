<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçü§ù‚Äçüë®üèΩ ü§æüèæ ‚öæÔ∏è Unidad de hadas Hada m√°gica: DSL en C # ü¶ë ü§πüèø üï†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øCon qu√© frecuencia ha sucedido que cuando escribes una prueba de unidad de trabajo, miras su c√≥digo y es ... malo? Y piensas as√≠: "Esta es una prueba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unidad de hadas Hada m√°gica: DSL en C #</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/451598/">  ¬øCon qu√© frecuencia ha sucedido que cuando escribes una prueba de unidad de trabajo, miras su c√≥digo y es ... malo?  Y piensas as√≠: "Esta es una prueba, dej√©moslo as√≠ ...".  No,% username%, as√≠ que no lo dejes.  Las pruebas son una parte importante del sistema que proporciona soporte de c√≥digo, y es muy importante que esta parte tambi√©n sea compatible.  Desafortunadamente, no tenemos muchas maneras de asegurar esto (no escribiremos pruebas para pruebas), pero todav√≠a hay algunas. <br><br><img src="https://habrastorage.org/webt/9_/cb/xb/9_cbxb0psq2mvlfwzkxf0uvpwru.png"><a name="habracut"></a><br>  En nuestra escuela de desarrolladores Dodo DevSchool, destacamos, entre otros, los siguientes criterios para una buena prueba: <br><br><ul><li>  reproducibilidad: ejecutar pruebas en el mismo c√≥digo y entrada siempre conduce al mismo resultado; </li><li>  enfoque: debe haber una sola raz√≥n para que la prueba caiga; </li><li>  comprensibilidad: bueno, aqu√≠ est√° claro.  :) </li></ul><br>  ¬øQu√© le parece esta prueba en t√©rminos de estos criterios? <br><br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Fact</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptOrder_Successful</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingredient1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingredient(<span class="hljs-string"><span class="hljs-string">"Ingredient1"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingredient2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingredient(<span class="hljs-string"><span class="hljs-string">"Ingredient2"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingredient3 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingredient(<span class="hljs-string"><span class="hljs-string">"Ingredient3"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Order(DateTime.Now); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> product1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Product(<span class="hljs-string"><span class="hljs-string">"Pizza1"</span></span>); product1.AddIngredient(ingredient1); product1.AddIngredient(ingredient2); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> orderLine1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrderLine(product1, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>); order.AddLine(orderLine1); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> product2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Product(<span class="hljs-string"><span class="hljs-string">"Pizza2"</span></span>); product2.AddIngredient(ingredient1); product2.AddIngredient(ingredient3); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> orderLine2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrderLine(product2, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">650</span></span>); order.AddLine(orderLine2); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> orderRepositoryMock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mock&lt;IOrderRepository&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingredientsRepositoryMock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mock&lt;IIngredientRepository&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> service = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PizzeriaService(orderRepositoryMock.Object, ingredientsRepositoryMock.Object); service.AcceptOrder(order); orderRepositoryMock.Verify(r =&gt; r.Add(order), Times.Once); ingredientsRepositoryMock.Verify(r =&gt; r.ReserveIngredients(order), Times.Once); }</code> </pre> <br>  Para m√≠, muy mal. <br><br>  Es incomprensible: por ejemplo, ni siquiera puedo asignar bloques Organizar, Actuar y Afirmar. <br><br>  No se puede reproducir: se utiliza la propiedad DateTime.Now.  Y finalmente, est√° desenfocado, porque  tiene 2 razones para la ca√≠da: se verifican las llamadas a los m√©todos de dos repositorios. <br><br>  Adem√°s, aunque el nombre de las pruebas est√° m√°s all√° del alcance de este art√≠culo, sigo prestando atenci√≥n al nombre: con un conjunto de propiedades negativas, es dif√≠cil formularlo de tal manera que, al mirar el nombre de la prueba, una persona externa entienda de inmediato por qu√© esta prueba est√° generalmente en el proyecto. <br><blockquote>  Si no puede nombrar de manera concisa la prueba, entonces algo est√° mal con la prueba. </blockquote>  Como la prueba es incomprensible, le diremos lo que est√° sucediendo en ella: <br><br><ol><li>  Los ingredientes son creados. </li><li>  A partir de los ingredientes, se crean productos (pizzas). </li><li>  Se crea un pedido a partir de los productos. </li><li>  Se crea un servicio para el que los repositorios est√°n h√∫medos. </li><li>  El pedido se pasa al m√©todo AcceptOrder del servicio. </li><li>  Se verifica que se han llamado los m√©todos Add y ReserveIngredients de los respectivos repositorios. </li></ol><br>  Entonces, ¬øc√≥mo podemos mejorar esta prueba?  Debe tratar de dejar en el cuerpo de la prueba solo lo que es realmente importante.  Y para eso, a las personas inteligentes como Martin Fowler y Rebecca Parsons se les ocurri√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DSL (lenguaje espec√≠fico de dominio)</a> .  Aqu√≠ hablar√© sobre los patrones DSL que usamos en Dodo para asegurar que nuestras pruebas unitarias sean suaves y sedosas, y los desarrolladores se sientan seguros todos los d√≠as. <br><br>  El plan es este: primero haremos que esta prueba sea comprensible, luego trabajaremos en la reproducibilidad y terminaremos enfoc√°ndola.  Manejamos ... <br><br><h2>  Eliminaci√≥n de ingredientes (objetos de dominio predefinidos) </h2><br>  Comencemos con el bloque de creaci√≥n de pedidos.  Ordenar es una de las entidades de dominio central.  Ser√≠a genial si pudi√©ramos describir el orden de tal manera que incluso las personas que no saben c√≥mo escribir c√≥digo pero entienden la l√≥gica del dominio puedan entender qu√© tipo de orden estamos creando.  Para hacer esto, en primer lugar, debemos abandonar el uso del resumen "Ingrediente1" y "Pizza1" reemplaz√°ndolos con ingredientes reales, pizzas y otros objetos de dominio. <br><br>  El primer candidato para la optimizaci√≥n son los ingredientes.  Todo es simple con ellos: no necesitan ninguna personalizaci√≥n, solo una llamada al constructor.  Es suficiente llevarlos a un contenedor separado y nombrarlos para que sea claro para los expertos del dominio: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Ingredients</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Ingredient Dough = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingredient(<span class="hljs-string"><span class="hljs-string">"Dough"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Ingredient Pepperoni = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingredient(<span class="hljs-string"><span class="hljs-string">"Pepperoni"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Ingredient Mozzarella = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ingredient(<span class="hljs-string"><span class="hljs-string">"Mozzarella"</span></span>); }</code> </pre><br>  En lugar del completamente loco Ingrediente1, Ingrediente2 e Ingrediente3, obtuvimos Masa, Pepperoni y Mozzarella. <br><blockquote>  Use objetos de dominio predefinidos para entidades de dominio de uso com√∫n. </blockquote><br><h2>  Constructor de productos </h2><br>  La siguiente entidad de dominio son los productos.  Todo es un poco m√°s complicado con ellos: cada producto consta de varios ingredientes y tendremos que agregarlos al producto antes de su uso. <br><br>  Aqu√≠, el buen viejo patr√≥n Builder es √∫til.  Aqu√≠ est√° mi versi√≥n de compilaci√≥n para el producto: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ProductBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Product _product; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ProductBuilder</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> { _product = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Product(name); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ProductBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Containing</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Ingredient ingredient</span></span></span><span class="hljs-function">)</span></span> { _product.AddIngredient(ingredient); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Product </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Please</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _product; } }</code> </pre><br>  Consiste en un constructor parametrizado, un m√©todo de <code>Containing</code> personalizado y un m√©todo de terminal <code>Please</code> .  Si no le gusta ser amable con el c√≥digo, puede reemplazar <code>Please</code> con <code>Now</code> .  El constructor oculta constructores complejos y llamadas a m√©todos que configuran el objeto.  El c√≥digo se vuelve m√°s limpio y m√°s comprensible.  En el buen sentido, el constructor deber√≠a simplificar la creaci√≥n del objeto para que el c√≥digo sea claro para el experto del dominio.  Merece especialmente la pena usar un generador para objetos que requieren configuraci√≥n antes de comenzar a trabajar. <br><br>  El creador de productos le permitir√° crear dise√±os como: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pepperoni = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ProductBuilder(<span class="hljs-string"><span class="hljs-string">"Pepperoni"</span></span>) .Containing(Ingredients.Dough) .Containing(Ingredients.Pepperoni) .Please();</code> </pre><br><blockquote>  Las compilaciones lo ayudan a crear objetos que necesitan personalizaci√≥n.  Considere crear un generador incluso si la configuraci√≥n consta de una l√≠nea. </blockquote><br><h2>  ObjectMother </h2><br>  A pesar de que la creaci√≥n del producto se ha vuelto mucho m√°s decente, el dise√±ador del <code>new ProductBuilder</code> todav√≠a se ve bastante feo.  Arreglalo con el patr√≥n ObjectMother (Padre). <br><br>  El patr√≥n es simple como 5 kopecks: creamos una clase est√°tica y reunimos a todos los constructores. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Create</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> ProductBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Product</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ProductBuilder(name); }</code> </pre><br>  Ahora puedes escribir as√≠: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pepperoni = Create.Product(<span class="hljs-string"><span class="hljs-string">"Pepperoni"</span></span>) .Containing(Ingredients.Dough) .Containing(Ingredients.Pepperoni) .Please();</code> </pre><br>  ObjectMother fue inventado para la creaci√≥n declarativa de objetos.  Adem√°s, ayuda a introducir nuevos desarrolladores en el dominio, como  al escribir la palabra <code>Create</code> IDE en s√≠ le dir√° lo que puede crear en este dominio. <br><br>  En nuestro c√≥digo, ObjectMother a veces se llama No <code>Create</code> , pero <code>Given</code> .  Me gustan las dos opciones.  Si tiene otras ideas, comparta en los comentarios. <br><blockquote>  Para crear objetos declarativamente, use ObjectMother.  El c√≥digo se volver√° m√°s limpio y ser√° m√°s f√°cil para los nuevos desarrolladores profundizar en el dominio. </blockquote><br><h2>  Retiro del producto </h2><br>  Se ha vuelto mucho mejor, pero los productos a√∫n tienen espacio para crecer.  Tenemos un n√∫mero limitado de productos y, al igual que los ingredientes, se pueden recolectar en una clase separada y no inicializarse para cada prueba: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Pizza</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Product Pepperoni =&gt; Create.Product(<span class="hljs-string"><span class="hljs-string">"Pepperoni"</span></span>) .Containing(Ingredients.Dough) .Containing(Ingredients.Pepperoni) .Please(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Product Margarita =&gt; Create.Product(<span class="hljs-string"><span class="hljs-string">"Margarita"</span></span>) .Containing(Ingredients.Dough) .Containing(Ingredients.Mozzarella) .Please(); }</code> </pre><br>  Aqu√≠ llam√© al contenedor no <code>Products</code> , sino <code>Pizza</code> .  Este nombre ayuda a leer la prueba.  Por ejemplo, ayuda a eliminar preguntas como "¬øEl pepperoni es una pizza o una salchicha?". <br><blockquote>  Intente usar objetos de dominio reales, no sustitutos como Product1. </blockquote><br><h2>  El constructor de la orden (ejemplo de la parte posterior) </h2><br>  Ahora aplicamos los patrones descritos para crear un generador de pedidos, pero ahora no vayamos del generador, sino de lo que nos gustar√≠a recibir.  As√≠ es como quiero crear un pedido: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = Create.Order .Dated(DateTime.Now) .With(Pizza.Pepperoni.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">500</span></span>)) .With(Pizza.Margarita.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">650</span></span>)) .Please();</code> </pre><br>  ¬øC√≥mo podemos lograr esto?  Obviamente necesitamos constructores para el pedido y la l√≠nea de pedido.  Con el constructor para ordenar todo es claro como el cristal.  Aqu√≠ esta: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">OrderBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DateTime _date; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> List&lt;OrderLine&gt; _lines = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;OrderLine&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> OrderBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Dated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DateTime date</span></span></span><span class="hljs-function">)</span></span> { _date = date; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> OrderBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">With</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">OrderLine orderLine</span></span></span><span class="hljs-function">)</span></span> { _lines.Add(orderLine); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Order </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Please</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Order(_date); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _lines) { order.AddLine(line); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> order; } }</code> </pre><br>  Pero con <code>OrderLine</code> situaci√≥n es m√°s interesante: en primer lugar, el m√©todo Terminal Please no se llama aqu√≠, y en segundo lugar, el acceso al generador no lo proporciona la <code>Create</code> est√°tica y no el constructor del generador en s√≠.  Resolveremos el primer problema usando el <code>implicit operator</code> y nuestro constructor se ver√° as√≠: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">OrderLineBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Product _product; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> _count; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> _price; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> OrderLineBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Of</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count, Product product</span></span></span><span class="hljs-function">)</span></span> { _product = product; _count = count; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> OrderLineBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">For</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> price</span></span></span><span class="hljs-function">)</span></span> { _price = price; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">implicit</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">operator</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OrderLine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">OrderLineBuilder b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrderLine(b._product, b._count, b._price); } }</code> </pre><br>  El segundo m√©todo nos ayudar√° a comprender el m√©todo de Extensi√≥n para la clase de <code>Product</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ProductExtensions</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> OrderLineBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CountOf</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Product product, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Create.OrderLine.Of(count, product) } }</code> </pre> <br>  En general, los m√©todos de extensi√≥n son grandes amigos de DSL.  Pueden hacer una descripci√≥n declarativa y comprensible de una l√≥gica completamente infernal. <br><blockquote>  Utiliza m√©todos de extensi√≥n.  Solo √∫salos.  :) </blockquote>  Despu√©s de hacer todas estas acciones, obtuvimos el siguiente c√≥digo de prueba: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Fact</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptOrder_Successful</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = Create.Order .Dated(DateTime.Now) .With(Pizza.Pepperoni.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">500</span></span>)) .With(Pizza.Margarita.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">650</span></span>)) .Please(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> orderRepositoryMock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mock&lt;IOrderRepository&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingredientsRepositoryMock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mock&lt;IIngredientRepository&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> service = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PizzeriaService(orderRepositoryMock.Object, ingredientsRepositoryMock.Object); service.AcceptOrder(order); orderRepositoryMock.Verify(r =&gt; r.Add(order), Times.Once); ingredientsRepositoryMock.Verify(r =&gt; r.ReserveIngredients(order), Times.Once); }</code> </pre><br>  Aqu√≠ hemos tomado el enfoque que llamamos "Hada Hada".  Esto es cuando primero escribe el c√≥digo inactivo como le gustar√≠a verlo, y luego intenta ajustar lo que escribi√≥ en DSL.  Es muy √∫til actuar: a veces usted mismo no puede imaginar de qu√© es capaz C #. <br><blockquote>  Imagine que ha llegado un hada m√°gica y le permiti√≥ escribir el c√≥digo que desea, y luego tratar de envolver todo lo escrito en DSL. </blockquote><br><h2>  Crear un servicio (patr√≥n comprobable) </h2><br>  Con el pedido ahora todo est√° m√°s o menos mal.  Ha llegado el momento de lidiar con los mokas de los repositorios.  Vale la pena decir aqu√≠ que la prueba en s√≠, que estamos considerando, es una prueba de comportamiento.  Las pruebas de comportamiento est√°n fuertemente asociadas con la implementaci√≥n de m√©todos, y si es posible no escribir tales pruebas, entonces es mejor no hacerlo.  Sin embargo, a veces son √∫tiles y, a veces, no puedes prescindir de ellos.  La siguiente t√©cnica ayuda a escribir exactamente las pruebas de comportamiento, y si de repente te das cuenta de que quieres usarla, primero piensa si puedes reescribir las pruebas de tal manera que verifiquen el estado, no el comportamiento. <br><br>  Por lo tanto, quiero asegurarme de que en mi m√©todo de prueba no haya un solo mok.  Para hacer esto, crear√© un contenedor para <code>PizzeriaService</code> en el que encapsular√© toda la l√≥gica que verifica las llamadas a m√©todos: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PizzeriaServiceTestable</span></span> : <span class="hljs-title"><span class="hljs-title">PizzeriaService</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Mock&lt;IOrderRepository&gt; _orderRepositoryMock; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Mock&lt;IIngredientRepository&gt; _ingredientRepositoryMock; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PizzeriaServiceTestable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Mock&lt;IOrderRepository&gt; orderRepositoryMock, Mock&lt;IIngredientRepository&gt; ingredientRepositoryMock</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">orderRepositoryMock.Object, ingredientRepositoryMock.Object</span></span></span><span class="hljs-function">)</span></span> { _orderRepositoryMock = orderRepositoryMock; _ingredientRepositoryMock = ingredientRepositoryMock; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VerifyAddWasCalledWith</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Order order</span></span></span><span class="hljs-function">)</span></span> { _orderRepositoryMock.Verify(r =&gt; r.Add(order), Times.Once); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VerifyReserveIngredientsWasCalledWith</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Order order</span></span></span><span class="hljs-function">)</span></span> { _ingredientRepositoryMock.Verify(r =&gt; r.ReserveIngredients(order), Times.Once); } }</code> </pre><br>  Esta clase nos permitir√° verificar las llamadas a m√©todos, pero a√∫n necesitamos crearla de alguna manera.  Para hacer esto, utilizaremos el generador que ya conocemos: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PizzeriaServiceBuilder</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PizzeriaServiceTestable </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Please</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> orderRepositoryMock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mock&lt;IOrderRepository&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingredientsRepositoryMock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mock&lt;IIngredientRepository&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PizzeriaServiceTestable(orderRepositoryMock, ingredientsRepositoryMock); } }</code> </pre><br>  Por el momento, nuestro m√©todo de prueba se ve as√≠: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Fact</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptOrder_Successful</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = Create.Order .Dated(DateTime.Now) .With(Pizza.Pepperoni.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">500</span></span>)) .With(Pizza.Margarita.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">650</span></span>)) .Please(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> service = Create.PizzeriaService.Please(); service.AcceptOrder(order); service.VerifyAddWasCalledWith(order); service.VerifyReserveIngredientsWasCalledWith(order); }</code> </pre><br>  Las llamadas a m√©todos de prueba no son la √∫nica raz√≥n por la que se puede usar la clase Testable.  Aqu√≠, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> nuestro Dima Pavlov lo usa para la refactorizaci√≥n compleja de un c√≥digo heredado. <br><blockquote>  Testable es capaz de salvar la situaci√≥n en los casos m√°s dif√≠ciles.  Para las pruebas de comportamiento, es √∫til incluir comprobaciones de llamadas feas en m√©todos hermosos. </blockquote>  En este momento trascendental, terminamos de comprender la comprensibilidad de la prueba.  Queda por hacer que sea reproducible y enfocado. <br><br><h2>  Reproducibilidad (extensi√≥n literal) </h2><br>  El patr√≥n de extensi√≥n literal no est√° directamente relacionado con la reproducibilidad, pero nos ayudar√° con √©l.  Nuestro problema en este momento es que usamos <code>DateTime.Now</code> date como la fecha de pedido.  Si de repente comienza a partir de alguna fecha, la l√≥gica de aceptaci√≥n del pedido cambia, entonces en nuestra l√≥gica de negocios tendremos que admitir al menos por un tiempo 2 l√≥gicas de aceptaci√≥n del pedido, separ√°ndolas marcando como <code>if (order.Date &gt; edgeDate)</code> .  En este caso, nuestra prueba tiene la posibilidad de caer cuando la fecha del sistema pasa a trav√©s del l√≠mite.  S√≠, solucionaremos esto r√°pidamente, e incluso haremos dos de una prueba: una verificar√° la l√≥gica antes de la fecha l√≠mite y la otra despu√©s.  Sin embargo, es mejor evitar tales situaciones e inmediatamente hacer que todos los datos de entrada sean constantes. <br><br>  "¬øY d√≥nde est√° el DSL?"  - usted pregunta  El hecho es que es conveniente ingresar fechas en las pruebas a trav√©s de m√©todos de Extensi√≥n, por ejemplo, 3 de <code>3.May(2019)</code> .  Esta forma de grabaci√≥n ser√° comprensible no solo para los desarrolladores, sino tambi√©n para las empresas.  Para hacer esto, solo cree una clase est√°tica <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DateConstructionExtensions</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> DateTime </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">May</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> day, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> year</span></span></span><span class="hljs-function">)</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DateTime(year, <span class="hljs-number"><span class="hljs-number">5</span></span>, day); }</code> </pre><br>  Naturalmente, las fechas no son las √∫nicas cosas para usar este patr√≥n.  Por ejemplo, si introdujimos la cantidad de ingredientes en la composici√≥n de los productos, podr√≠amos escribir algo as√≠ como <code>42.Grams("flour")</code> . <br><blockquote>  Los objetos cuantitativos y las fechas se crean convenientemente a trav√©s de los m√©todos de extensi√≥n familiares. </blockquote><br><h2>  Enfoque </h2><br>  ¬øPor qu√© es importante mantener enfocadas las pruebas?  El hecho es que las pruebas enfocadas son m√°s f√°ciles de mantener, pero a√∫n deben ser compatibles.  Por ejemplo, deben cambiarse al cambiar el c√≥digo y eliminarse al cortar caracter√≠sticas antiguas.  Si las pruebas no est√°n enfocadas, entonces cuando cambie la l√≥gica, necesitar√° comprender las pruebas grandes y eliminar partes de la funcionalidad probada de ellas.  Si las pruebas est√°n enfocadas y sus nombres son claros, entonces solo necesita eliminar las pruebas obsoletas y escribir otras nuevas.  Si las pruebas tienen un buen DSL, entonces esto no es un problema en absoluto. <br><br>  Entonces, despu√©s de terminar de escribir DSL, tuvimos la oportunidad de enfocar esta prueba dividi√©ndola en 2 pruebas: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Fact</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WhenAcceptOrder_AddIsCalled</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = Create.Order .Dated(<span class="hljs-number"><span class="hljs-number">3.</span></span>May(<span class="hljs-number"><span class="hljs-number">2019</span></span>)) .With(Pizza.Pepperoni.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">500</span></span>)) .With(Pizza.Margarita.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">650</span></span>)) .Please(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> service = Create.PizzeriaService.Please(); service.AcceptOrder(order); service.VerifyAddWasCalledWith(order); } [Fact] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WhenAcceptOrder_ReserveIngredientsIsCalled</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> order = Create.Order .Dated(<span class="hljs-number"><span class="hljs-number">3.</span></span>May(<span class="hljs-number"><span class="hljs-number">2019</span></span>)) .With(Pizza.Pepperoni.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">500</span></span>)) .With(Pizza.Margarita.CountOf(<span class="hljs-number"><span class="hljs-number">1</span></span>).For(<span class="hljs-number"><span class="hljs-number">650</span></span>)) .Please(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> service = Create.PizzeriaService.Please(); service.AcceptOrder(order); service.VerifyReserveIngredientsWasCalledWith(order); }</code> </pre><br>  Ambas pruebas resultaron ser cortas, claras, reproducibles y enfocadas. <br><br>  Tenga en cuenta que ahora los nombres de las pruebas reflejan el prop√≥sito para el que fueron escritos y ahora cualquier desarrollador que particip√≥ en mi proyecto comprender√° por qu√© cada una de las pruebas fue escrita y qu√© sucede en esta prueba. <br><blockquote>  El enfoque de las pruebas los hace compatibles.  Una buena prueba debe centrarse. </blockquote>  Y ahora, ya puedo o√≠rte gritarme: ‚ÄúYura, ¬øqu√© mierda eres?  ¬øEscribimos un mill√≥n de c√≥digos solo para hacer un par de pruebas bonitas?  Si exactamente.  Si bien solo tenemos un par de pruebas, tiene sentido invertir en DSL y hacer que estas pruebas sean comprensibles.  Una vez que escribes DSL, obtienes un mont√≥n de cosas: <br><br><ul><li>  Se vuelve f√°cil escribir nuevas pruebas.  No es necesario que se configure durante 2 horas para la prueba de la unidad, solo tome y escriba. </li><li>  Las pruebas se vuelven comprensibles y legibles.  Cualquier desarrollador que vea la prueba comprende por qu√© fue escrita y qu√© verifica. </li><li>  Se reduce el umbral para unir pruebas (y quiz√°s en el dominio) para nuevos desarrolladores.  Por ejemplo, a trav√©s de ObjectMother, puede averiguar f√°cilmente qu√© objetos se pueden crear en el dominio. </li><li>  Y finalmente, es agradable trabajar con pruebas y, como resultado, el c√≥digo se vuelve m√°s compatible. </li></ul><br>  El c√≥digo fuente de muestra y las pruebas est√°n disponibles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/451598/">https://habr.com/ru/post/451598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451588/index.html">Nota de prueba de integraci√≥n con Jenkins en Kubernetes</a></li>
<li><a href="../451590/index.html">100 cosas anunciadas en I / O No. 19</a></li>
<li><a href="../451592/index.html">Registros de informes del segundo QA-mitap Redmadrobot</a></li>
<li><a href="../451594/index.html">Gu√≠a de informes de PHP Rusia 2019</a></li>
<li><a href="../451596/index.html">Cardenal gris .NET - John Galloway</a></li>
<li><a href="../451600/index.html">C√≥mo escribir una carta de presentaci√≥n cuando busca trabajo en los EE. UU .: 7 consejos</a></li>
<li><a href="../451602/index.html">Estudiamos MITRE ATT & CK. Matrices m√≥viles: acceso a dispositivos. Parte 1</a></li>
<li><a href="../451604/index.html">Este art√≠culo tiene demasiada agua.</a></li>
<li><a href="../451606/index.html">Historia de Internet: decadencia, parte 2</a></li>
<li><a href="../451610/index.html">Semana de la seguridad 20: deshabilitar las extensiones de Firefox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>