<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›ŒğŸ½ ğŸ“’ ğŸ¤˜ğŸ¼ Mesin Z yang membingungkan â™Œï¸ ğŸ¤› ğŸ¥¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mesin Z yang membingungkan 
 Bermain game petualangan teks adalah kesenangan murni, tetapi kesenangan cukup menguras otak. Tetapi hari ini kita memili...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mesin Z yang membingungkan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477374/"><h1>  <a href="https://8bitworkshop.com/blog/misc/fuzzing-the-z-machine.md.html">Mesin Z yang membingungkan</a> </h1><br>  Bermain game petualangan teks adalah kesenangan murni, tetapi kesenangan cukup menguras otak.  Tetapi hari ini kita memiliki semua kapasitas prosesor yang tidak digunakan ini. <br><br>  Bagaimana jika kita membuat komputer melalui permainan kita sendiri, dan kita hanya harus bersandar di kursi dan menonton?  Kami bahkan tidak membutuhkan semua jaringan saraf bermodel baru ini, kekuatan kasar yang sederhana. <br><br>  Kami baru saja meletakkan sekelompok teks semi-acak di pintu masuk permainan teks dan melihat apa yang terjadi.  Dalam dunia keamanan informasi, ini disebut fuzzing. <br><br>  Tujuannya adalah Z-Machine, juru bahasa mesin virtual yang dikembangkan oleh Joel Berez dan Mark Blanck pada 1979, jantung dari Infocom Games.  Ini adalah target ideal untuk petualangan fuzzing, karena didokumentasikan dengan baik dan memiliki banyak alat dan perpustakaan pendukung. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/883/408/615/883408615f5e4ed5964aef089ba74a5d.jpg" title="Zork diluncurkan di Atari 800XL (Sebastian Grunwald, CC 3.0)"><br><br>  <em>Zork diluncurkan di Atari 800XL (Sebastian Grunwald, CC 3.0)</em> <br><br><h1>  Zork Mini </h1><br>  Game yang akan kita fuzz - <em>MINI-ZORK-1: The Great Underground Empire</em> .  Ini adalah versi demo Zorka pertama Infokomovsky, yang dirancang untuk boot dari kaset, bukan dari floppy disk.  Pada dasarnya, itu adalah sebuah iklan yang diterbitkan dalam suplemen tahun 1990-an untuk majalah pengguna Commodore di Inggris, <strong>Zzap! 64</strong> . <br><br>  Bagi yang belum pernah bermain Zork, inilah yang Anda lihat setelah memuat game: <br><a name="habracut"></a><br><pre><code class="plaintext hljs">MINI-ZORK I: The Great Underground Empire Copyright (c) 1988 Infocom, Inc. All rights reserved. ZORK is a registered trademark of Infocom, Inc. Release 34 / Serial number 871124 West of House You are standing in an open field west of a white house, with a boarded front door. You could circle the house to the north or south. There is a small mailbox here. &gt;</code> </pre> <br>  Petunjuk&gt; mengundang pengguna untuk memasukkan perintah seperti OPEN MAILBOX atau GO NORTH untuk maju dalam permainan.  Tujuannya adalah "untuk menemukan harta dari Kekaisaran Bawah Tanah Besar dan mengumpulkannya di dalam kotak jarahan Anda" di sepanjang jalan memecahkan teka-teki dan menjatuhkan musuh. <br><br><h1>  Ayo mainkan perburuan kata kerja (dan kata benda) </h1><br>  Panduan pengguna lengkap dengan Zork memberikan contoh-contoh perintah yang mungkin seperti BUKA PINTU KAYU dan WARLOCK, MENGAMBIL SPELL SCROLL THEN FOLLOW ME.  Namun, pengguna harus menebak secara mandiri bagaimana memecahkan teka-teki tertentu. <br><br>  Kata kerja seperti GET dan DROP (GET / DROP) cukup jelas, seperti halnya delapan poin kardinal standar dan naik / turun (Atas / Bawah), dan pada saat yang sama masuk dan keluar (IN / OUT).  Tetapi pengguna juga harus menggunakan SERANGAN, KOLAM dan BERDOA, serta mengucapkan kata-kata ajaib yang tidak ada dalam manual.  Situasi ketika permainan tidak memberikan petunjuk yang cukup kepada para pemain, mereka secara mengejek menyebut "perburuan kata kerja." <br><br>  Untuk menghasilkan perintah, fuzzer akan membutuhkan daftar kata yang diterima oleh permainan, kosa katanya.  Mesin-Z memilih daftar ini sebagai kamus game (ini terletak di tempat standar di file setiap game). <br><br>  (Ini semacam penipuan, ya! Tapi benar-benar tidak ada cara lain untuk menjelaskan kepada komputer kata-kata apa yang digunakan, karena beberapa kata kerja tidak disebutkan di mana pun dalam teks.) <br><br>  Cara termudah untuk menghasilkan perintah adalah dengan secara acak mengambil satu atau lebih kata, dalam kasus kami, satu atau dua.  Kami tidak tahu kata mana yang kata kerja, dan kata benda mana, jadi kami menghasilkan banyak perintah aneh seperti "LIHAT OOPS" dan "DRIVER DI BAWAH". <br><br>  Jelas, ini sangat tidak efisien, karena kita harus memilah-milah kombinasi N * N (di mana N adalah ukuran kosakata) untuk menemukan perintah seperti "KILL TROLL". <br><br>  Namun, kita bisa sedikit curang.  Kami akan memindai semua kata pada output teks game dan akan memilih kata-kata yang ditemukan dalam kamus kami.  Dan pilih kata dari daftar ini (bukan kamus lengkap).  Misalnya, jika kita melihat NORTH, WEST, HOUSE, dan MAILBOX dalam teks, kita lebih cenderung menggunakan kata-kata ini. <br><br><h1>  Cari penanda cerita </h1><br>  Hanya dengan memberikan perintah acak, kita mendapatkan banyak omong kosong yang akan disumpah oleh parser: <br><br><pre> <code class="plaintext hljs">&gt;about painti [    !] &gt;leathe guideb [   "leathe" ,    .]</code> </pre> <br>  (Kata-kata kosakata panjangnya tidak lebih dari enam karakter di Z-Machine, jadi kami menghasilkan kata-kata seperti "leathe".) <br><br>  Namun, gerakan seperti itu di tempat akan memakan waktu selamanya.  Bagaimana kita bisa menentukan jalur mana yang lebih menjanjikan daripada yang lain?  Kami akan mencari spidol untuk mempromosikan sejarah. <br><br>  Z-Machine memiliki instruksi PRINT yang mencetak teks ke konsol.  Seringkali ini adalah fragmen deskripsi, seperti "West of the House" dan "bottle shattered".  Kami akan mendaftarkan masing-masing sebagai penanda. <br><br>  Setiap kali kami melihat penanda baru, kami menyimpan bagian saat ini - daftar tim yang kami lakukan dalam permainan saat ini. <br><br>  Kami mengaitkan daftar ini dengan marker saat ini, sehingga kami dapat (mudah-mudahan) mendapatkan teks yang sama di output setelah memutar ulang perintah yang sama. <br><br>  Setiap peluncuran game memilih penanda target tertentu, dan, oleh karena itu, bagian yang terkait dengannya.  Algoritma pencarian memilih penanda baru lebih sering daripada yang lama. <br><br>  Kami tidak akan memutar ulang tim kata demi kata di setiap pertandingan, tetapi kami akan menambahkan beberapa tim acak, dan mencampur pesanan.  Ketika kita melihat penanda baru, kita akan meningkatkan parameter "sukses", yang pertumbuhannya akan menunjukkan bahwa mungkin untuk mengubah daftar perintah lebih jarang.  Ketika parameter ini tumbuh cukup, kami menandai penanda ini sebagai "stabil", karena kami memiliki bagian yang dapat diprediksi yang mengarah ke sana. <br><br><h1>  Mencari jalan pintas </h1><br>  Cara kita menjalani permainan sering kali tidak efektif.  Berikut adalah daftar perintah yang digunakan untuk menghasilkan penanda "Wheeeeeeeeee !!!!!": <br><br><pre> <code class="plaintext hljs">curse, art, body gate, incant count, the, the egg, repent, from the, the consum, what, leathe, trap- see, breath here, what intnum, about here, leathe guideb, about, about here, pot, here, see, here about, about, self, here about, mangle, see, rug, the, reply, elvish, say, stilet beetle, say toss, pray, gate about, what bolt, guideb, wooden, say knock, say sit, trail and, here, pray leathe, intnum, one, pray one, jump</code> </pre> <br>  Yang perlu kita lakukan hanyalah memasukkan perintah terakhir: JUMP (atau DIVE).  Tetapi algoritma pencarian tidak tahu perintah mana yang diperlukan untuk menampilkan â€œWheeeeeeeeee !!!!!â€ <br><br>  Kita perlu mengurangi bagian itu - untuk membuatnya sesingkat mungkin.  Ketika kami melihat penanda, kami mengganti bagian terkait dengan daftar perintah yang lebih pendek, jika memungkinkan.  Ini membawa kita ke penanda target lebih cepat, memberi kita lebih banyak gerakan untuk bereksperimen setelah mencapai tujuan. <br><br>  Banyak spidol, seperti "Wheeeeeeeeee !!!!!", tidak menarik, karena kita dapat mencapainya dalam satu putaran di awal permainan.  Dengan mengurangi daftar perintah mereka, kami pada akhirnya akan dapat mengonfirmasi bahwa ini adalah masalahnya, dan dengan demikian menghapusnya dari daftar penanda target potensial. <br><br><h1>  Lebih dari sekedar kata-kata </h1><br>  Karena kami memiliki akses langsung ke keadaan internal mesin-Z, kami dapat menggunakan sesuatu selain output teks untuk mengontrol pencarian kami.  Misalnya, kita dapat memperbaiki ketika suatu objek telah berpindah dari satu ruangan ke ruangan lain, atau ketika properti dan bendera lainnya telah berubah pada objek tersebut.  Sebut saja penanda VM (penanda mesin virtual), dan perbaiki secara paralel dengan penanda teks: <br><br><pre> <code class="plaintext hljs">@mv_30_15  (#30)      #15 @f_176_10_1    "" (10)   ""(#176)</code> </pre> <br>  Kami membutuhkan ini karena output teks tidak memberi tahu kami keseluruhan cerita.  Misalnya, mengambil pedang atau lampu, kita akan mencapai penanda yang sama "Diambil." Dan penanda VM akan memberi tahu algoritma pencarian ketika keadaan baru dari mesin virtual tercapai, misalnya, ketika seorang pemain pindah ke kamar baru, atau sebuah benda telah diambil atau dibuang. <br><br><h1>  Memecah mesin virtual </h1><br>  Menyelidiki kondisi permainan adalah proses yang agak lambat.  Salah satu tugas pertama dalam permainan adalah untuk membunuh troll, yang tidak memungkinkan Anda untuk melangkah lebih jauh.  Namun, sebelum itu, pemain perlu menemukan pedang di rumah sedikit lebih tinggi. <br><br>  Untuk mempercepat proses pencarian, kami akan memecahkan mesin-Z dan membawa keadaan permainan ke apa yang kami lihat sebelumnya.  Sebagai contoh, kami secara tidak sengaja memindahkan pedang ke tangan pemain, yang memungkinkan untuk mengeksekusi perintah "STAB" dengan sukses.  ("ATTACK TROLL" tidak akan berfungsi kecuali jika kita menambahkan "WITH SWORD", tetapi "STAB" (stabbing) sudah menyiratkan adanya benda tajam dan karenanya berfungsi.) <br><br>  Kami hanya akan memecahkan marker stabil, jadi jika kami dapat mengulangi permainan dengan andal dan tangan pemain berubah menjadi pedang, kami akan memungkinkan peretasan keadaan ini: "pedang ada di tangan pemain".  Kemudian kita bisa menggabungkan tim yang digunakan untuk mengangkat pedang dengan tim yang digunakan untuk turun ke ruang bawah tanah, mencari tahu sepanjang jalan bahwa kita harus menyerang troll. <br><br>  Contoh troll ini terutama Jesuit, karena, sebagai aturan, dibutuhkan beberapa pukulan untuk menyelesaikannya, dan setiap serangan memberikan hasil acak.  Karena algoritme kami lebih suka lintasan yang lebih pendek, lebih baik mengikuti ramalan optimis tentang kemampuan tempur kami. <br><br>  Setelah 530.000 penelusuran dan 10.600.000 tim (200 tim per pertandingan), kami akhirnya menemukan cara untuk menyerang troll: <br><br><pre> <code class="plaintext hljs">north, east, open window, into, west, light, lift trap, small hi, get, west, light, tug large, lift trap, down, north, stab</code> </pre> <br>  Masih ada beberapa perintah yang tidak perlu, dan kami masih tidak mengerti bahwa kami harus memukulnya beberapa kali, tetapi kami dapat mengatasinya. <br><br><h1>  Hobi fatal </h1><br>  Algoritme pencarian tidak mengetahui perbedaan antara mengumpulkan objek, melempar objek, dan memindahkan pemain dari satu kamar ke kamar lainnya.  Satu-satunya cara dia mendefinisikan kemajuan adalah dengan melihat tanda-tanda perkembangan sejarah. <br><br>  Ini dengan cepat berkembang dalam rasa pencarian untuk ... Pembunuhan!  Untuk membunuh pemain, khususnya, karena sangat mudah dan sederhana: masukkan "ATTACK": <br><br><pre> <code class="plaintext hljs">&gt;attack [  ] ,  ! ****   **** , ,     .      ,       .          c-.  ,      .</code> </pre> <br>  Di Mini Zorka, kematian pertama bukanlah akhir dari permainan, pemain berteleportasi ke tempat lain, dan barang-barang Anda tersebar.  Untuk algoritma pencarian, kematian hanyalah sebuah objek yang bergerak dari satu ruangan ke ruangan lain, menciptakan penanda untuk memindahkan cerita di sepanjang jalan.  Hobi ini mengarah pada pemaparan bug lucu lainnya dalam permainan, seperti kemampuan pemain untuk melemparkan tangannya ke sungai. <br><br>  Gim ini skor dari 0 hingga 350 poin, berdasarkan pada memecahkan teka-teki dan mengumpulkan harta.  Ketika seorang pemain meninggal, ia berkurang 10 poin.  Kita dapat menggunakan akun sebagai heuristik, tetapi ini dapat secara berlebihan mengurangi perilaku berisiko - cinta berkeliaran di tempat gelap, atau melawan troll. <br><br>  Algoritme pencarian juga sangat tertarik pada apa yang tidak dilihat oleh pemain, seperti NPC yang bergerak di antara kamar-kamar.  Misalnya, penanda @ mv_112_37 menunjukkan perpindahan pencuri ke ruangan tertentu.  Algoritme pencarian berhasil mereproduksi penanda ini dengan berulang kali mengeksekusi perintah Z atau WAIT, pada dasarnya mengharapkan pencuri mencapai ruang target. <br><br>  Dia juga suka mengambil dan membuang benda di tempat yang berbeda, karena setiap gerakan objek adalah penanda baru.  Siapa tahu  Mungkin melempar daun ini di jalan hutan akan membawa kemenangan dalam permainan!  (Narator: tidak, tidak akan.) <br><br>  Fuzzing selalu mengidentifikasi kesalahan dalam program, dan permainan ini tidak berbeda, meskipun terus berlanjut.  Dia menemukan cara untuk menghasilkan kata "Clrthatrqdc" di awal permainan: <br><br><pre> <code class="plaintext hljs">&gt;tie up [  ] With a Clrthatrqdc!?!</code> </pre> <br>  Ini tampaknya merupakan variabel tidak diinisialisasi yang menunjukkan data non-tekstual.  Pengkodean teks terkompresi di mesin-Z sebagian besar alfabet, karena Anda melihat tidak begitu banyak sampah acak seperti ketika Anda mencoba untuk mencetak file biner seperti ASCII.  (Saat ini, kata <a href="https://www.google.com/search%3Fq%3DClrthatrqdc">ini hanya dua kali di Google</a> ( <em>Sudah empat kali, kira-kira. Terjemahan</em> ).) <br><br><h1>  Panduan </h1><br>  Untuk memenangkan permainan, kita harus menyeret barang rampasan kita kembali ke kotak jarahan dan memasukkan semua benda ke dalamnya.  Algoritma pencarian sederhana kami akan membutuhkan waktu lama untuk menemukan perilaku ini, terutama mengingat kecenderungannya untuk menyia-nyiakan daya dan memindahkan objek dari waktu ke waktu. <br><br>  Menyulitkan suatu algoritma dari riset acak membutuhkan waktu, jadi kita harus selektif ketika menambahkan fitur baru.  Kami juga ingin menghindari pengetahuan apriori dalam permainan - dengan kata lain, kami hanya ingin sedikit menipu. <br><br>  Jika Anda ingin bereksperimen, <a href="">lihat kode sumber di GitHub</a> , yang menggunakan <a href="https://github.com/DLehenbauer/jszm">JSZM</a> (penerjemah dari Z-Machine Daniel Legenbauer). Banyak <a href="http://www.ifarchive.org/indexes/if-archiveXgamesXzcode.html">permainan tersedia</a> (hanya versi hingga 3 yang didukung). <br><br>  Dokumen Graham Nelson <a href="https://www.inform-fiction.org/zmachine/standards/z1point1/index.html">Z-Machine Standards</a> , yang telah berurusan dengan Z-machine selama beberapa dekade, juga tersedia. <br><br>  Dan apakah saya perlu menambahkan dukungan Z-Machine di <a href="https://8bitworkshop.com/">8bitworkshop</a> ?  Beritahu saya! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477374/">https://habr.com/ru/post/id477374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477362/index.html">Lebih dari anti-spam: cara mendapatkan yang terbaik dari Gateway Email Keamanan Anda</a></li>
<li><a href="../id477364/index.html">Bagaimana cara menjadi pengembang Java? Atau mungkin memilih Python?</a></li>
<li><a href="../id477366/index.html">Lima pertanyaan tentang merancang bahasa pemrograman</a></li>
<li><a href="../id477370/index.html">Php tanpa server</a></li>
<li><a href="../id477372/index.html">Amazon kalah perang karena kepalsuan</a></li>
<li><a href="../id477378/index.html">Mixed Agile - Pendekatan Waterfall ketika menerapkan aplikasi bisnis (alias Agile-like)</a></li>
<li><a href="../id477382/index.html">Esports - menghasilkan keuntungan: Mercedes, megaphone, taruhan, dan branding untuk esports</a></li>
<li><a href="../id477384/index.html">Konferensi â€œKeamanan Informasi. Ancaman masa kini dan masa depan â€</a></li>
<li><a href="../id477386/index.html">Security Week 48: Kebocoran Data Raksasa dan Kerentanan Whatsapp</a></li>
<li><a href="../id477388/index.html">NILFS2 - sistem file antipeluru untuk / rumah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>