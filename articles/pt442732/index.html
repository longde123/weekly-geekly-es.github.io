<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶â üêô üë©üèæ‚Äç‚öïÔ∏è My Little Relays: Triple Brainfuck, ou o que √© loucura üìÅ üëãüèº ü§∞üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fig. 1: Computador de retransmiss√£o BrainfuckPC em segundo plano de seu autor 

 Continuando a gloriosa tradi√ß√£o do resumo anual dos meus projetos de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>My Little Relays: Triple Brainfuck, ou o que √© loucura</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442732/"><img src="https://habrastorage.org/webt/ah/3j/_r/ah3j_rjm_v7teyp8upangmiixnc.jpeg"><br>  <i>Fig. 1: Computador de retransmiss√£o BrainfuckPC em segundo plano de seu autor</i> <br><br>  Continuando a gloriosa tradi√ß√£o do resumo anual dos meus projetos de computador mais loucos, apresento a voc√™ o terceiro e <b>√∫ltimo</b> artigo sobre o projeto de computador de revezamento BrainfuckPC. <br><br>  Nas s√©ries anteriores: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2017: Meus pequenos rel√©s: o computador Brainfuck √© m√°gico</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2018: Meus pequenos rel√©s: o computador Brainfuck √© realidade</a> </li></ul><br>  Ap√≥s dez anos de sonho e reflex√£o, mais de dois anos de trabalho e montagem sem pressa, posso dizer com confian√ßa que o projeto do computador de revezamento ocorreu.  Apesar de o computador ser in√∫til do ponto de vista pr√°tico e tamb√©m travar regularmente, ele se tornou o ponto de partida para os pr√≥ximos projetos cibern√©ticos n√£o menos loucos. <br><br>  Sob o cortador, est√£o os blocos de rel√© tocando, os c√°lculos mais r√°pidos do mundo, finaliza√ß√µes, indicadores de v√°cuo e muito mais. <br><a name="habracut"></a><br><h2>  Linguagem de programa√ß√£o Brainfuck </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A linguagem de programa√ß√£o do c√©rebro</a> √© talvez a linguagem de programa√ß√£o esot√©rica mais popular do mundo.  E, ao mesmo tempo, o verdadeiro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Turing √© um atoleiro completo</a> .  Apenas 8 instru√ß√µes nas quais voc√™ pode escrever qualquer coisa, mas por muito tempo. <br>  Por exemplo, levei tr√™s dias para escrever e depurar o programa de divis√£o 355/113, que imprime 6 casas decimais no terminal. <br><img src="https://habrastorage.org/webt/q_/sh/mx/q_shmxehqypxvxhersztfsggnee.jpeg"><br>  <i>Figura 2: instru√ß√µes da linguagem brainfuck</i> <br><br>  Toda a sintaxe da linguagem √© constru√≠da em torno da RAM para 30 mil c√©lulas de mem√≥ria, com capacidade de 8 bits. <br><br><ul><li>  Com duas instru√ß√µes <b>+</b> e <b>-,</b> alteramos o valor na c√©lula de dados atual em uma para cima ou para baixo. </li><li>  Com duas instru√ß√µes <b>&lt;</b> e <b>&gt;</b> , alteramos o ponteiro para a c√©lula de dados atual por uma, movendo assim para a esquerda ou direita na mem√≥ria. </li><li>  Mais duas instru√ß√µes <b>[</b> e <b>]</b> - permitem organizar loops.  Tudo dentro dos colchetes √© o corpo do loop.  Loops aninhados s√£o permitidos.  A l√≥gica da instru√ß√£o √© simples - se o valor da c√©lula de dados atual n√£o for igual a zero - executaremos uma itera√ß√£o do loop, se for igual, sairemos do loop. </li><li>  As duas √∫ltimas instru√ß√µes <b>.</b>  e <b>,</b> - permitem exibir o valor da c√©lula atual no console ou inserir sua RAM.  Assim, a interatividade √© alcan√ßada. </li></ul><br>  Sim, isso √© mais que suficiente para escrever qualquer programa.  A exist√™ncia de compiladores C <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no c√©rebro</a> parece sugerir isso.  Mas a densidade do c√≥digo √© inexistente.  Para executar opera√ß√µes simples, como adicionar os valores de duas c√©lulas de mem√≥ria, voc√™ precisa executar centenas de instru√ß√µes sobre o c√©rebro. <br><br><h3>  brainfuck ++ </h3><br>  Vamos tentar aumentar a densidade do c√≥digo pelo menos um pouco.  Ao estudar programas escritos nesta l√≠ngua, voc√™ pode prestar aten√ß√£o que, na maioria das vezes, eles consistem em seq√º√™ncias das mesmas instru√ß√µes <b>+ - &lt;&gt;</b> .  Isso leva muitos √† id√©ia de dobrar a sequ√™ncia de tais instru√ß√µes em uma e obter um pequeno ganho de desempenho, que de um programa para outro pode chegar a dezenas de por cento e gerar um aumento m√∫ltiplo na velocidade.  Por exemplo, substitu√≠mos 10 opera√ß√µes de incremento por uma opera√ß√£o de +10.  20 opera√ß√µes de mover o ponteiro para a direita para a opera√ß√£o&gt; 20 e assim por diante. <br><br><img src="https://habrastorage.org/webt/bo/t-/kl/bot-kloextizkugd7kd8dobie5w.jpeg"><br>  <i>Figura 3: instru√ß√µes da linguagem brainfuck ++</i> <br><br><h3>  Da teoria √† pr√°tica </h3><br>  Como voc√™ entende, n√£o se pode apenas pegar e escrever na linguagem do c√©rebro a opera√ß√£o Rb = Ra + Rb, onde Ra e Rb s√£o c√©lulas de mem√≥ria.  Tudo o que podemos fazer √© alterar o conte√∫do de uma c√©lula para uma constante e verificar se √© zero.  Como resultado, para somar os dois n√∫meros, tudo o que resta para n√≥s √© fazer +1 para a c√©lula Rb e -1 para a c√©lula Ra, at√© que o conte√∫do da c√©lula Ra se torne zero.  N√≥s escrevemos isso na forma de um c√≥digo em C: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*(mem+RbPos) += *mem */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addMov</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Memory &amp;mem, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint16_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> RbPos)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (*mem) { mem += RbPos; (*mem)++; mem -= RbPos; (*mem)--; } }</code> </pre> <br>  Como resultado, o valor antigo aparecer√° na c√©lula RbPos mais o que estava no endere√ßo de origem.  classe Memory - um cont√™iner com 65k c√©lulas inteiras.  Sua propriedade principal √© que o excesso do valor do ponteiro o retornar√° ao in√≠cio da matriz.  Como no meu hardware real. <br><br>  A desvantagem da fun√ß√£o descrita √© a perda do valor original - ela ser√° zerada.  Adicione outra vari√°vel Rc para salv√°-la: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* *(mem+RcPos) = *mem *(mem+RbPos) += *mem */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addCpy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Memory &amp;mem, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint16_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> RbPos, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint16_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> RcPos)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (*mem) { mem += RbPos; (*mem)++; mem -= RbPos; (*mem)--; mem += RcPos; (*mem)++; mem -= RcPos; } }</code> </pre> <br>  Como resultado, o termo copiado estar√° na c√©lula RcPos.  Bem, no caso de haver zero. <br><br>  Como a nota√ß√£o que usei lembra muito o brainfuck ++ - apenas reescrevemos nossa fun√ß√£o em caracteres bfpp, usando RbPos para 4 e RcPos para 5 como exemplo: <br><br> <code>[ <br> &gt;&gt;&gt;&gt; <br> + <br> &lt;&lt;&lt;&lt; <br> - <br> &gt;&gt;&gt;&gt;&gt; <br> + <br> &lt;&lt;&lt;&lt;&lt; <br> ] <br></code> <br>  Ap√≥s descrever todas as primitivas, voc√™ pode come√ßar a combin√°-las em estruturas mais complexas e obter o programa da funcionalidade necess√°ria.  Como resultado, voc√™ pode obter um programa que divide 355 por 113 (ou qualquer outro n√∫mero entre si em 16 bits) <br><br><div class="spoiler">  <b class="spoiler_title">Programa de ponto flutuante</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Memory</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: Memory() { <span class="hljs-built_in"><span class="hljs-built_in">memset</span></span>(m_mem, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(m_mem)); memPtr = <span class="hljs-number"><span class="hljs-number">0</span></span>; } Memory&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> += (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> ptr) { memPtr += ptr; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } Memory&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> -= (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> ptr) { memPtr -= ptr; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span>&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> [] (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> ptr) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;m_mem[ptr]; } Memory&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> = (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> ptr) { memPtr = ptr; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> * () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_mem[memPtr]; } Memory&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> ++ () { memPtr++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } Memory&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> -- () { memPtr--; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> memPtr; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> m_mem[<span class="hljs-number"><span class="hljs-number">65536</span></span>]; }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calcPi</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Memory mem; *mem = <span class="hljs-number"><span class="hljs-number">22</span></span>; mem += <span class="hljs-number"><span class="hljs-number">1</span></span>; *mem = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (*mem) { mem += <span class="hljs-number"><span class="hljs-number">1</span></span>; (*mem)++; mem -= <span class="hljs-number"><span class="hljs-number">1</span></span>; (*mem)--; mem += <span class="hljs-number"><span class="hljs-number">2</span></span>; (*mem)++; mem -= <span class="hljs-number"><span class="hljs-number">2</span></span>; }<span class="hljs-comment"><span class="hljs-comment">//correct -909 while (*mem) { (*mem)--; } mem -= 1; while (*mem) { mem += 2; while (*mem) { mem += 4; (*mem)++; mem -= 4; (*mem)--; } mem += 4; while (*mem) { (*mem)--; mem -= 4; (*mem)++; mem -= 2; (*mem)--; if (!*mem) { //JZ out goto out; } mem += 6; } mem -= 6; out: mem += 6; if (*mem) { while (*mem) { mem -= 6; (*mem)++; mem += 6; (*mem)--; } mem -= 6; if (*mem) goto out1; } mem -= 5; (*mem)++; mem -= 1; } out1: mem += 10; *mem += 0x50;//P putc(*mem, stderr); *mem += 0x19;//i putc(*mem, stderr); *mem -= 0x2C;//= putc(*mem, stderr); mem -= 9; *mem += 0x30; putc(*mem, stderr); mem += 9; *mem -= 0xf; putc(*mem, stderr); mem -= 10; *mem += 6; while (*mem) { (*mem)--; mem += 1;//mem == 1 //nullCell(mem); while (*mem) { (*mem)--; } mem += 1; //mulConst(mem, 1, 10); while (*mem) { (*mem)--; mem -= 1; (*mem) += 10; mem += 1; } mem += 1; //addCpy(mem, 1, 2); while (*mem) { mem += 1; (*mem)++; mem -= 1; (*mem)--; mem += 2; (*mem)++; mem -= 2; } mem += 3; //nullCell(mem); while (*mem) { (*mem)--; } mem -= 5; while (*mem) { mem += 4; while (*mem) { mem += 6; (*mem)++; mem -= 6; (*mem)--; } mem += 6; while (*mem) { (*mem)--; mem -= 6; (*mem)++; mem -= 4; (*mem)--; if (!*mem)//,  ,      { goto out2; } mem += 10; } mem -= 10; out2: mem += 10; if (*mem) { //addMov(mem, -(6+ 4)); while (*mem) { mem -= 10; (*mem)++; mem += 10; (*mem)--; } mem -= 10; if (*mem) goto out3; } mem -= 5; (*mem)++; mem -= 5; } out3: mem += 4; while (*mem) { mem -= 3; (*mem)++; mem += 3; (*mem)--; } mem += 1;//mem == 6 *mem += 0x30; putc(*mem, stderr); mem += 1;//mem == 7 while (*mem) { (*mem)--; } mem -= 3; while (*mem) { mem -= 1; (*mem)++; mem += 1; (*mem)--; } mem -= 4;// mem == 0 } *mem += 0x0a; putc(*mem, stderr); *mem += 3; putc(*mem, stderr); }</span></span></code> </pre><br></div></div><br><h2>  Arquitetura de computadores de retransmiss√£o </h2><br>  O elemento central do processador de rel√© √© um somador completo de 16 bits com transporte paralelo.  Dois registradores est√£o conectados a ele na entrada.  TMP √© o registro tempor√°rio no qual o valor antigo √© colocado e CMD √© o registro de comando no qual a instru√ß√£o e a constante pela qual o valor antigo ser√° alterado s√£o armazenadas. <br><br>  Portanto, eu posso executar opera√ß√µes otimizadas do brainfuck ++ e, ao mesmo tempo, obter saltos condicionais completos - Jump If Zero e Jump If Zero para qualquer lado do programa. <br><br>  O resultado da opera√ß√£o de soma pode ser carregado em um dos registradores de contexto - AP - com o n√∫mero da c√©lula de dados atual ou IP - com o n√∫mero da instru√ß√£o atual.  Al√©m disso, o resultado pode ser carregado na c√©lula RAM atual, se vier √†s instru√ß√µes <b>+</b> e <b>-</b> <br><br><img src="https://habrastorage.org/webt/3n/xu/tw/3nxutw1optzayedhsvxxnoo36hi.gif"><br>  <i>Fig. 4: Arquitetura do computador de retransmiss√£o em opera√ß√£o.</i>  <i>O est√°gio de carregamento da nova instru√ß√£o √© substitu√≠do pelo est√°gio de sua execu√ß√£o.</i> <br><br>  Primeiro de tudo, precisamos calcular o n√∫mero da pr√≥xima instru√ß√£o - ou seja,  execute uma opera√ß√£o IP ++.  Para fazer isso, um √© adicionado ao valor antigo do registro IP, o resultado √© gravado de volta no registro IP e a pr√≥xima instru√ß√£o √© carregada nesse novo endere√ßo, no registro CMD. <br><br>  O segundo passo √© a execu√ß√£o da instru√ß√£o rec√©m-carregada.  Se funcionar com o somador, o processo de sua execu√ß√£o ser√° semelhante ao processo de carregamento de uma nova instru√ß√£o - o valor antigo est√° no registro tempor√°rio, adicionamos a constante nos bits inferiores do registro CMD e gravamos o resultado no registro ou na c√©lula de dados atual. <br>  Assim, a instru√ß√£o √© executada em um tique do gerador de rel√≥gio.  Em uma frente de queda, carregamos a pr√≥xima instru√ß√£o, de forma crescente - n√≥s a executamos. <br><br><div class="spoiler">  <b class="spoiler_title">n√£o √© um bug, mas um recurso</b> <div class="spoiler_text">  E aqui um recurso foi revelado.  Depois de ligar o computador, a primeira frente do gerador de clock aumentar√° e, portanto - teremos que executar a instru√ß√£o atual, que ningu√©m carregou no registro CMD ainda - existem zeros. <br><br>  Siga as instru√ß√µes vazias e ... fa√ßa IP ++! <br><br>  Como resultado, a c√©lula de mem√≥ria zero do programa cont√©m zero e nunca ser√° executada.  A primeira instru√ß√£o carregada da mem√≥ria ser√° a instru√ß√£o em 0x0001. <br></div></div><br><h4>  Conjunto de instru√ß√µes </h4><br><img src="https://habrastorage.org/webt/o9/kv/7l/o9kv7lrmoqt_cukesaympkjnwee.jpeg"><br>  <i>Fig. 5: Conjunto de instru√ß√µes do computador de rel√©</i> <br><br>  As instru√ß√µes s√£o de 16 bits, onde os 4 bits de ordem superior s√£o respons√°veis ‚Äã‚Äãpelo tipo de instru√ß√£o e os 12 bits de ordem inferior s√£o a carga √∫til.  Na maioria dos casos, isso √© uma constante. <br><br><ul><li>  Instru√ß√£o NOP - ignorada. </li><li>  A instru√ß√£o CTRLIO √© uma instru√ß√£o especial cujo comportamento √© codificado pela m√°scara de carga da carga.  Antes de tudo, implementa comandos para gravar no console e ler no console (nos modos s√≠ncrono ou ass√≠ncrono).  Em segundo lugar, permite definir o modo de opera√ß√£o de 16 ou 8 bits da m√°quina.  E em terceiro lugar, usando a instru√ß√£o CTRLIO.HALT, voc√™ pode parar a m√°quina.  O engra√ßado √© que mascaram peda√ßos <br>  sem bloqueio.  Voc√™ pode configur√°-los pelo menos todos de uma vez, mas o comportamento da m√°quina ser√° indefinido. </li><li>  A instru√ß√£o ADD √© uma opera√ß√£o de c√©lula de dados.  Altera o valor na c√©lula pelo valor da constante.  Nesse caso, o bit 12 √© um bit assinado e √© copiado para os bits 13-15.  Portanto, a instru√ß√£o 0x2ffe se transforma na opera√ß√£o * AP + = 0x0ffe, e a instru√ß√£o 0x3ffe se transforma em * AP + = 0xfffe.  A opera√ß√£o de subtra√ß√£o √© substitu√≠da pela adi√ß√£o por um n√∫mero negativo. </li><li>  Instru√ß√£o ADA - implementa a opera√ß√£o AP + = const e permite navegar pela mem√≥ria. </li><li>  As instru√ß√µes JZ e JNZ s√£o condicionais.  Dependendo da bandeira Z, voc√™ pode pular algumas instru√ß√µes para frente ou para tr√°s ou permanecer no lugar.  Dependendo do modo de opera√ß√£o da m√°quina - 16 ou 8 bits, o estado do sinalizador Z √© determinado pelo byte de dados menos significativo ou pela palavra inteira. </li></ul><br><h2>  Especifica√ß√µes t√©cnicas </h2><br>  <b>O BrainfuckPC</b> √© um computador de 16 bits com um processador de rel√© reed, arquitetura Von Neumann e conjunto de instru√ß√µes Brainfuck ++ <br><br><ul><li>  N√∫mero total de rel√©s: 578 pe√ßas </li><li>  O n√∫mero total de elementos l√≥gicos: 157 pe√ßas </li><li>  Largura do barramento de endere√ßo: 16 bits </li><li>  Endere√ßamento: palavra por palavra </li><li>  RAM: 128 KB (64 Kslov) </li><li>  Largura do barramento de dados: 16bit / 8bit </li><li>  Frequ√™ncia do rel√≥gio (atual / m√°ximo): 25Hz / 40Hz </li><li>  Consumo de pot√™ncia: 70W </li><li>  Dimens√µes totais: 110kh650kh140mm </li><li>  Peso: 15kg </li></ul><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_FBjSF-MzYA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Inicialmente, assumiu-se que o computador funcionaria em frequ√™ncias de at√© 100 Hz ... E isso - por um minuto - 4 oitavas de piano.  Infelizmente, os primeiros testes mostraram que 40Hz √© o teto, mas h√° muito disso no circuito de rel√©s.  ainda mais quando o rel√≥gio externo √© necess√°rio para aplicar dois pulsos por ciclo - devido √†s peculiaridades do circuito de sincroniza√ß√£o com um sinal externo.  80Hz para m√∫sica j√° √© algo. <br><br><h3>  Composi√ß√£o do computador </h3><br><img src="https://habrastorage.org/webt/n1/lr/ks/n1lrkssj0p6m4p1bdwtgvbe-p6i.jpeg"><br>  <i>Fig. 6: Principais componentes do rel√©.</i> <br><br>  Vamos dar uma olhada no computador.  Quase todo o volume da m√°quina √© ocupado por unidades de processador de rel√©.  No momento, tudo se encaixa em cinco blocos, mas h√° espa√ßo para seis - portanto, se voc√™ realmente quiser, mais tarde a funcionalidade do processador poder√° ser expandida. <br>  Cada um desses blocos cont√©m 32 m√≥dulos, em cada m√≥dulo existem 3 ou 4 rel√©s de palheta RES55 e RES64.  A fonte de alimenta√ß√£o de cada unidade √© 5V, 3A. <br><br><img src="https://habrastorage.org/webt/cw/ch/t2/cwcht2rnwry7uheanptz1ab-6m0.jpeg"><br>  <i>Fig. 7: Conjunto de blocos e m√≥dulos de um processador de rel√©, pronto para instala√ß√£o em um quadro.</i> <br><br>  Cada m√≥dulo √© unificado.  60x44mm, conector de 16 pinos.  Ao montar os blocos l√≥gicos, inseri o m√≥dulo necess√°rio em um slot livre e mostrei as conex√µes. <br><br><img src="https://habrastorage.org/webt/z3/hm/jc/z3hmjcfecusarg1h4g6znd1gjx8.jpeg"><br>  <i>Fig. 8: Os m√≥dulos D-flip-flop s√£o verificados quanto √† operacionalidade.</i> <br><br>  Linha central - blocos somadores e blocos de registro.  Acima e abaixo deles existem travas de 16 bits baseadas no RES43, que alternam o fluxo de dados entre os blocos.  Todos os dados est√£o girando aqui. <br><br>  A linha inferior √© a linha dos blocos l√≥gicos do processador.  Agora, dois blocos est√£o parcialmente preenchidos, mas se voc√™ realmente quiser, modificar e expandir a funcionalidade devido ao espa√ßo livre √© mais do que poss√≠vel. <br><br><img src="https://habrastorage.org/webt/9i/-q/r9/9i-qr9ernsascuejrzsis9skz-u.jpeg"><br>  <i>Fig. 9: A estrutura √© montada em chapa de alum√≠nio de 2 mm, sob corte a laser.</i>  <i>Na foto - quadro j√° soldado e preparado, pronto para pintura.</i> <br><br>  A parte superior √© indicador.  √Ä esquerda, est√° o bloco de status da m√°quina - os indicadores baseados no IV-6 exibem o n√∫mero da c√©lula de mem√≥ria atual e a noite da instru√ß√£o atual, a pr√≥pria instru√ß√£o e o contador geral de instru√ß√µes executadas.  O √∫ltimo √© muito √∫til, porque se o emulador, por exemplo, diz que at√© o primeiro caractere no console voc√™ precisa executar 30 mil instru√ß√µes, o contador mostrar√° claramente onde a m√°quina est√° agora e quando terminar√° a contagem. <br><br><img src="https://habrastorage.org/webt/f5/22/ib/f522ibd6awa7acioes26xurustc.jpeg"><br>  <i>Fig. 10: A vista final da √°rea do indicador.</i>  <i>No processo de fabrica√ß√£o.</i> <br><br>  √Ä direita est√° o cart√£o de mem√≥ria - o elemento mais controverso da m√°quina.  Embora eu acredite que o computador ainda seja retransmitido, o processador √© definitivamente 100% retransmitido.  A periferia √© mais moderna.  Em particular, a RAM √© um chip de mem√≥ria est√°tica.  Mas o mesmo acontece com quase todos os criadores modernos de computadores de retransmiss√£o. <br><br><img src="https://habrastorage.org/webt/_u/bx/oo/_ubxooroz54z4hp4-8tc9trxzpw.jpeg"><br>  <i>Fig. 11: Programador.</i>  <i>16 linhas de endere√ßo, 16 linhas de dados, energia, aterramento e linhas de leitura de grava√ß√£o.</i>  <i>Total de 36 contatos.</i> <br><br>  Como a mem√≥ria de programas e dados √© compartilhada, algu√©m ou alguma coisa, toda vez que voc√™ liga o computador, deve carregar o programa na RAM.  Esta tarefa √© atribu√≠da ao programador.  No momento, o programador est√° localizado na pr√≥pria placa de mem√≥ria.  Agora ele tem exatamente duas tarefas. <br><br><ol><li>  Fa√ßa o download do programa na RAM, pois toda vez que voc√™ o liga manualmente, usando as chaves de altern√¢ncia, √© uma pregui√ßa comum, embora essa possibilidade esteja presente. </li><li>  Monitore o estado de uma determinada regi√£o da mem√≥ria e exiba-a em uma matriz de LED 32x16. </li></ol><br>  Isso n√£o afeta o processador, e ver em tempo real o que est√° acontecendo na RAM √© muito √∫til na depura√ß√£o.  Posteriormente, quando o programador for externo, o painel de LEDs servir√° a um dos m√≥dulos indicadores.  Ele j√° sabe o endere√ßo, resta fornecer os dados de entrada. <br><br><img src="https://habrastorage.org/webt/tc/_z/lt/tc_zltb4669xf2mzqxox-hdyvb4.jpeg"><br>  <i>Fig. 12: Diagrama em bloco dos perif√©ricos do processador.</i> <br><br>  Portanto, em um futuro pr√≥ximo, os circuitos dos perif√©ricos do processador ser√£o parecidos.  Apenas chips de mem√≥ria e circuitos de correspond√™ncia de sinal com o circuito de rel√© permanecer√£o na placa de mem√≥ria. <br><br>  Atrav√©s do conector de programa√ß√£o de 36 pinos, voc√™ pode conectar o programador e fazer o download do firmware no computador.  Al√©m do programador, com o conversor de interface necess√°rio, voc√™ pode usar qualquer outro dispositivo.  Pelo menos um leitor de fita perfurada (a prop√≥sito, eu tenho um, completo com um furador e at√© um rolo de fita), pelo menos um painel com interruptores. <br><br>  Como resultado, a l√≥gica do rel√© fornece uma certa interface e o conversor de interface pode ser qualquer um.  A prop√≥sito, o conector da interface paralela ser√° compat√≠vel com o LPT ... <br><br><h3>  Demonstra√ß√£o do trabalho e status atual </h3><br>  Primeiro, o programa Hello World do artigo da wikipedia foi executado no computador. <br><br>  O c√≥digo fonte √© o seguinte: <br><br> <code>++++++++++[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]&gt;++ <br> .&gt;+.+++++++..+++.&gt;++.&lt;&lt;+++++++++++++++.&gt;.+++. <br> ------.--------.&gt;+.&gt;. <br></code> <br>  Gra√ßas ao painel de LED, voc√™ pode ver claramente como os dados mudam: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/B9O2QeLycdM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Embora com uma frequ√™ncia de 25 Hz, √© dif√≠cil acompanhar o que est√° acontecendo na RAM. <br><br>  Uma tarefa mais √∫til e pr√°tica √© calcular os sinais do n√∫mero Pi ap√≥s o ponto decimal.  √â claro que os computadores modernos resolveram esse problema com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">at√© 31,4 trilh√µes de caracteres</a> .  Mas o pr√≥prio fato de o BrainfuckPC ser capaz de executar esta opera√ß√£o sugere que o computador de retransmiss√£o n√£o √© 100% in√∫til, mas apenas 99,9. <br><br>  Primeiro de tudo, eu encontrei um <a href="">algoritmo de c√°lculo</a> pronto <a href="">escrito em c√©rebro</a> . <br><br> <code>&gt; ++++ (4 digits) <br> [&lt;+&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;++++++++++&lt;&lt;&lt;&lt;&lt;&lt;&lt;-]&gt;+++++[&lt;+++++++++&gt;-]+&gt;&gt;&gt;&gt;&gt;&gt;+[&lt;&lt;+++[&gt;&gt;[-&lt;]&lt;[&gt;]&lt;-]&gt;&gt; <br> [&gt;+&gt;]&lt;[&lt;]&gt;]&gt;[[-&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;]&gt;&gt;&gt;+++&gt;-]&lt;[&lt;&lt;&lt;&lt;]&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;+[-&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;[&lt;+[-&gt;&gt;&gt;&gt;+&lt;&lt;&lt;&lt;]&gt; <br> &gt;&gt;&gt;&gt;]&lt;&lt;&lt;&lt;[&gt;&gt;&gt;&gt;&gt;[&lt;&lt;&lt;&lt;+&gt;&gt;&gt;&gt;-]&lt;&lt;&lt;&lt;&lt;-[&lt;&lt;++++++++++&gt;&gt;-]&gt;&gt;&gt;[&lt;&lt;[&lt;+&lt;&lt;+&gt;&gt;&gt;-]&lt;[&gt;+&lt;-]&lt;++&lt;&lt;+ <br> &gt;&gt;&gt;&gt;&gt;&gt;-]&lt;&lt;[-]&lt;&lt;-&lt;[-&gt;&gt;+&lt;-[&gt;&gt;&gt;]&gt;[[&lt;+&gt;-]&gt;+&gt;&gt;]&lt;&lt;&lt;&lt;&lt;]&gt;[-]&gt;+&lt;&lt;&lt;-[&gt;&gt;+&lt;&lt;-]&lt;]&lt;&lt;&lt;&lt;+&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br> &gt;[-]&gt;[&lt;&lt;&lt;+&gt;&gt;&gt;-]&lt;&lt;++++++++++&lt;[-&gt;&gt;+&lt;-[&gt;&gt;&gt;]&gt;[[&lt;+&gt;-]&gt;+&gt;&gt;]&lt;&lt;&lt;&lt;&lt;]&gt;[-]&gt;+&gt;[&lt;&lt;+&lt;+&gt;&gt;&gt;-]&lt;&lt;&lt; <br> &lt;+&lt;+&gt;&gt;[-[-[-[-[-[-[-[-[-&lt;-&gt;[-&lt;+&lt;-&gt;&gt;]]]]]]]]]]&lt;[+++++[&lt;&lt;&lt;++++++++&lt;++++++++&gt;&gt;&gt;&gt;-]&lt; <br> &lt;&lt;&lt;+&lt;-&gt;&gt;&gt;&gt;[&gt;+&lt;&lt;&lt;+++++++++&lt;-&gt;&gt;&gt;-]&lt;&lt;&lt;&lt;&lt;[&gt;&gt;+&lt;&lt;-]+&lt;[-&gt;-&lt;]&gt;[&gt;&gt;.&lt;&lt;&lt;&lt;[+.[-]]&gt;&gt;-]&gt;[&gt;&gt;.&lt;&lt; <br> -]&gt;[-]&gt;[-]&gt;&gt;&gt;[&gt;&gt;[&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;+&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;-]&lt;&lt;-]]&gt;&gt;[-]&lt;&lt;&lt;[-]&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;]++++++++++.</code> <br>  Um problema - embora se diga que esse programa √© muito mais r√°pido que outro programa, ele ainda calcula o pr√≥ximo caractere, mas √© extremamente lento. <br><br><img src="https://habrastorage.org/webt/oi/g6/hs/oig6hswjryqide_cvpo8v-4mak0.jpeg"><br>  <i>Fig. 13: Tempo gasto para gerar N d√≠gitos de Pi ap√≥s o ponto decimal.</i> <br><br>  4 casas decimais ter√£o que esperar quase uma hora e meia ... <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/5M075jXwQHE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Fig. 14: - Pi = 3!</i>  <i>- Que rude!</i> <br><br>  No entanto, at√© dois caracteres n√£o puderam ser deduzidos; o computador afirmou que Pi tinha 4 anos e concluiu o trabalho. <br><br><img src="https://habrastorage.org/webt/yj/uo/g5/yjuog5bey_tf2prv5p-mte1pivy.jpeg"><br>  <i>Fig. 15: Ele sabe claramente da piada de que, sob a lei marcial, pi pode chegar a quatro.</i> <br><br>  Eu decidi ir para o outro lado e escrevi uma calculadora de fra√ß√£o <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>355</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>113</mn></mrow><mo>=</mo><mn>3</mn><mo>,</mo><mn>141592</mn><mo>.</mo><mo>.</mo><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.104ex" height="2.419ex" viewBox="0 -780.1 11669.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-35" x="1001" y="0"></use></g><g transform="translate(3716,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-33" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-3D" x="5495" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-33" x="6552" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2C" x="7052" y="0"></use><g transform="translate(7497,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-34" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-31" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-35" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-39" x="2002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-32" x="2502" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2E" x="10500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2E" x="10945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2E" x="11391" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>355</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>113</mn></mrow><mo>=</mo><mn>3</mn><mo>,</mo><mn>141592</mn><mo>.</mo><mo>.</mo><mo>.</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {355} {113} = 3,141592 ... </script>  .  Precis√£o - 6 casas decimais!  Este √© o resultado mais preciso para fra√ß√µes com n√∫meros de tamanho adequado. <br><br>  Depois de tr√™s noites sem dormir, escrevi um programa sobre o c√©rebro, capaz de dividir dois n√∫meros um no outro e emitir o resultado com um ponto flutuante no terminal.  O veredicto do emulador √© o seguinte: ser√£o necess√°rias 60 mil instru√ß√µes para executar.  Nos √∫ltimos 10 mil por sinal: <br><br><img src="https://habrastorage.org/webt/1u/ov/_u/1uov_udftj5ihpsl48rxnomvvwg.jpeg"><br>  <i>Fig. 16: O tempo necess√°rio para gerar a pr√≥xima casa decimal ao calcular a fra√ß√£o.</i> <br><br>  A rapidez com que os pr√≥ximos valores aparecer√£o.  Devo dizer muito rapidamente em compara√ß√£o com o programa anterior! <br><br>  Mas a felicidade durou pouco - o computador come√ßou a falhar no modo de 16 bits.  Os diagn√≥sticos mostraram que o cart√£o de mem√≥ria est√° enganando - ele define constantemente o 13¬∫ bit.  Vou fazer um novo cart√£o de mem√≥ria e tudo vai passar, mas por enquanto vou me limitar a uma fra√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>22</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>7</mn></mrow><mo>=</mo><mn>3</mn><mo>,</mo><mn>14</mn><mo>.</mo><mo>.</mo><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.966ex" height="2.419ex" viewBox="0 -780.1 8166.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-32" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-37" x="3216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-3D" x="3994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-33" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2C" x="5551" y="0"></use><g transform="translate(5996,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-34" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2E" x="6997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2E" x="7442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/442732/&amp;usg=ALkJrhgDxMLc3HTkVdjPO5o_NP_9eBXwsg#MJMAIN-2E" x="7887" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>22</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>7</mn></mrow><mo>=</mo><mn>3</mn><mo>,</mo><mn>14</mn><mo>.</mo><mo>.</mo><mo>.</mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {22} {7} = 3,14 ... </script>  duas casas decimais e modo de opera√ß√£o de 8 bits.  Mais importante ainda, requer apenas 1.600 instru√ß√µes a serem seguidas!  A uma frequ√™ncia de 25 Hz, isso √© pouco mais de um minuto. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ZdibUTZKseA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Repetidamente e com um apito, o computador lida com a tarefa. <br><br><h3>  Para continuar ... </h3><br>  Agora, no computador, voc√™ pode executar programas que n√£o requerem entrada do usu√°rio.  At√© agora, n√£o estraguei trivialmente a instru√ß√£o CTRLIO.CIN :) E n√£o vou fazer isso t√£o cedo.  O computador est√° atualmente 98% completo.  E depois de dois anos de trabalho, muitos projetos se acumularam e aguardam o momento em que eu lidarei com eles. <br><br><div class="spoiler">  <b class="spoiler_title">Portanto, eu mudo para outros projetos</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wm/kj/sd/wmkjsdk3-jktuluao4xc9fyln4u.jpeg"><br><br>  Primeiro de tudo, este √© um computador de tubo baseado em decatrons do comutador.  Eu j√° tenho um soco e os pr√≥prios decatrons (embora principalmente o A101 - o computador saia ainda mais lento que o rel√© - precisamos do A103).  At√© 700 tubos de v√°cuo j√° est√£o dispon√≠veis e muito mais ... <br><br><img src="https://habrastorage.org/webt/fr/n0/hh/frn0hhuyfqosh6dzdbelm62u_bw.jpeg"><br><br>  Eu preparei uma mem√≥ria para isso - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">16 peda√ßos de cubos de mem√≥ria integrados</a> para 128 palavras de 16 bits cada.  Interior - placas de ferrite de m√∫ltiplos orif√≠cios, um tipo de ramifica√ß√£o de mem√≥ria nos an√©is de ferrite. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tamb√©m n√£o esqueci a pneumonia</a> - meu amigo Anton est√° envolvido na natureza.  experimentos, mas mais sobre isso na pr√≥xima vez. <br></div></div><br>  ... deixando as seguintes imperfei√ß√µes.  Vou resolver parte do problema do festival no final de maio, parte - n√£o: <br><br><ul><li>  Um novo cart√£o de mem√≥ria no qual apenas os chips de RAM e seus chicotes est√£o instalados.  H√° uma placa de circuito para o cart√£o de mem√≥ria, a placa de circuito ainda n√£o est√° divorciada.  Em casa, ser√° muito pregui√ßoso faz√™-lo (uma maneira bidirecional bastante densa); portanto, incluirei esta placa na ordem em que encomendar placas para alguns outros projetos - um rel√≥gio mec√¢nico em um rel√© e um pneumosc√≥pio. </li><li>  Juntamente com a nova placa de mem√≥ria, vir√£o indicadores de discagem, hardware normal de exibi√ß√£o de terminais e l√≥gica independente para atualizar o painel de LED. </li><li>  O programador, ou melhor, o desenvolvimento de firmware para ele.  Em geral, se voc√™ possui um cart√£o de mem√≥ria antigo, ele √© redundante, mas como o conector de programa√ß√£o est√° dispon√≠vel, voc√™ j√° pode carregar o programa. </li><li>  A l√≥gica do tempo.  Aqui estou eu completamente pregui√ßoso, porque literalmente amarrar 3 m√≥dulos l√≥gicos.  Definitivamente vou fazer isso no festival no final de maio. </li><li>  Instru√ß√µes de leitura do console.  Est√° ligado √† l√≥gica do tempo (em opera√ß√£o s√≠ncrona, o computador deve parar a opera√ß√£o e aguardar a chegada dos dados). </li><li>  Envie uma solicita√ß√£o ao Guinness Book of Records ... Como o processador de revezamento mais r√°pido e, ao mesmo tempo, a leitura mais lenta.  16 milliFlops n√£o √© para voc√™ ‚Äúenfiar um casaco de pele na cueca‚Äù (dos coment√°rios no youtube). </li></ul><br><img src="https://habrastorage.org/files/1fb/f24/c16/1fbf24c164974f8fabba8e7e03e5856b.jpg" alt="imagem"><br><br>  Toda a documenta√ß√£o no computador de retransmiss√£o est√° no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reposit√≥rio no GitHub</a> , e voc√™ pode monitorar seu status em qualquer rede social usando os links no meu perfil. <br><br>  UPD: Eu me recusei a participar do festival. <br>  <s>E, no entanto, de 25 a 26 de maio, em Moscou, no territ√≥rio da F√°brica de P√£o, ser√° realizado o primeiro festival de produ√ß√µes artesanais e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">antifactory da</a> cultura DIY.</s>  <s><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Estarei</a> presente l√° com um computador de retransmiss√£o e tamb√©m trarei um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">controlador de retransmiss√£o para autowater</a> .</s>  <s>A entrada para o evento √© gratuita, ent√£o voc√™ estar√° em Moscou hoje em dia - n√£o perca a chance de ver meu monstro de revezamento ao vivo.</s>  <s>Se eu o trazer s√£os e salvos, definitivamente o demonstrarei no trabalho.</s> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt442732/">https://habr.com/ru/post/pt442732/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt442720/index.html">Generaliza√ß√£o r√°pida de marcadores em um mapa WebGL</a></li>
<li><a href="../pt442722/index.html">Interromper o download e o armazenamento de zeros</a></li>
<li><a href="../pt442724/index.html">O filme ‚ÄúOffice Space‚Äù tem 20 anos: como mudou nossos empregos</a></li>
<li><a href="../pt442726/index.html">O rob√¥ de chita do MIT pode fazer back flips e correr r√°pido</a></li>
<li><a href="../pt442730/index.html">Microsoft: R√∫ssia est√° √† frente dos EUA e da Europa na implementa√ß√£o de intelig√™ncia artificial</a></li>
<li><a href="../pt442734/index.html">Como fazer uma muleta para a Tinkoff Investments com suas pr√≥prias m√£os ou notifica√ß√µes de a√ß√µes necess√°rias para obter lucros / perdas</a></li>
<li><a href="../pt442736/index.html">6 jogos de tabuleiro para nivelar o ingl√™s</a></li>
<li><a href="../pt442738/index.html">Cria√ß√£o de perfil e rastreio com perf</a></li>
<li><a href="../pt442740/index.html">Engenharia reversa de formato bin√°rio usando arquivos SNG Korg como exemplo. Parte 2</a></li>
<li><a href="../pt442742/index.html">Notebook Compaq LTE 5000, parte dois e meio - b√¥nus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>