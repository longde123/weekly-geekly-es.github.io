<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏣 🚶🏼 🎅🏼 Kontinuierliche Glukoseüberwachung (NMH) mit Medtronic 640g Pumpe 🛬 👉🏻 👩🏽‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So kam es, dass meine Tochter vor etwas weniger als einem Jahr an Typ-1-Diabetes (insulinabhängig) erkrankte. Nach einem Monat mit den „Stiften“ haben...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kontinuierliche Glukoseüberwachung (NMH) mit Medtronic 640g Pumpe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465281/"><img src="https://habrastorage.org/webt/z1/dt/da/z1dtdanh2_1-adea6snwi6fgr5g.png"><br>  So kam es, dass meine Tochter vor etwas weniger als einem Jahr an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Typ-1-Diabetes</a> (insulinabhängig) erkrankte.  Nach einem Monat mit den „Stiften“ haben wir auf die Medtronic 640g-Pumpe mit NMG-Unterstützung umgestellt.  Unter der Katze erzähle ich Ihnen, wie ich die Glukoseüberwachung mit Daten von einer Pumpe durchgeführt habe.  Vorsicht, Verkehr. <br><a name="habracut"></a><br><h3>  Einführung </h3><br>  Ich werde nicht alle Funktionen und Vor- und Nachteile dieser Pumpe beschreiben, dies würde den Rahmen des Artikels sprengen.  Diese Informationen können leicht im Internet gefunden werden.  Ich werde nur auf die Punkte eingehen, die zum Verständnis notwendig sind. <br><br>  Eines der Hauptziele für Typ-1-Diabetes ist die Aufrechterhaltung eines optimalen Blutzuckerspiegels.  Tatsache ist, dass sich der Glukosespiegel unter verschiedenen Faktoren recht schnell ändert - Nahrung, körperliche Aktivität, Hormone, Wetteränderungen, Schlaf, selbst ein einfacher Spaziergang im Park kann den Glukosespiegel stark beeinflussen.  Daher ist es wichtig, den Glukosespiegel so oft wie möglich zu messen, idealerweise alle 5 Minuten rund um die Uhr.  Es ist äußerst schwierig, dies mit einem herkömmlichen Glukometer zu erreichen, daher wird NMG verwendet.  Sie sind unterschiedlich.  Sie können das Video <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> genauer lesen und ansehen.  Eine Überwachungspumpe ist sehr gut und hilft bei der Lösung vieler Probleme.  Auf der Pumpe können Sie die aktuellen Glukosewerte sowie eine grafische Darstellung der Änderungen in der letzten Zeit anzeigen. <br><br>  Die Pumpe mit allen Messwerten ist immer bei einer Tochter, was bedeutet, dass die Messwerte nicht aus der Ferne angezeigt werden können.  Die Tochter ist nicht immer in der Nähe, sie geht zur Schule, besucht ext.  Klassen, Spaziergänge führen im Allgemeinen ein erfülltes Leben.  Meine Frau und ich arbeiten.  Ständige Anrufe auf ein Mobiltelefon, das mehrmals (manchmal Dutzende !!!) Mal pro Nacht aus dem Bett kommt, machen Schlaf und Nerven nicht stärker. <br><br><h3>  Daten eingeben </h3><br>  Das Implementierungs- und Funktionsprinzip von NMG wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> beschrieben.  Das einzige, worauf ich achten möchte, ist, dass diese Pumpe über das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ZigBee-</a> Protokoll mit dem Sender verbunden ist.  Insgesamt habe ich 3 Geräte gefunden, die mit dieser Pumpe arbeiten können: <br><br><ul><li>  Guardian 2 Link <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sender</a> selbst </li><li>  CareLink USB MMT-7306, der sogenannte  "Schwarzes Flash-Laufwerk" </li><li>  Kontur NÄCHSTER LINK 2.4, Glukometer </li></ul><br>  Derzeit wird von diesen 3 Geräten in Russland nur der Sender verkauft.  Tatsächlich überträgt er die Daten über den Glukosespiegel an die Pumpe.  Ich habe das "Flash-Laufwerk" nur bei unserem behandelnden Arzt gesehen und damit haben wir die Daten von der Pumpe ein paar Mal in ihr Programm heruntergeladen und die Diagramme ausgedruckt.  Dann wurde dieses "Flash-Laufwerk" für uns unzugänglich, weil  Sie wurde in eine andere Stadt gebracht und als sie zurückkommt, weiß es niemand.  Sie sagen, dass dieses "Flash-Laufwerk" das einzige in ganz Russland ist. Ich weiß nicht, wie sehr diese Informationen zutreffen.  Es ist nicht realistisch, in Russland ein Glukometer und ein Flash-Laufwerk zu kaufen.  Auf meine Frage sagen offizielle Vertreter, dass "sie die Zertifizierung in Russland noch nicht bestanden haben, wenn es sein wird, es ist nicht bekannt, wir warten."  Nach langer Suche konnte ich in England noch ein Glukometer kaufen.  Für welchen besonderen Dank an alle, die mir dabei geholfen haben. <br><br>  Das Messgerät kann also an die Pumpe angeschlossen werden und verfügt über USB, sodass es an einen Computer angeschlossen werden kann.  Nach einer langen Suche fand ich auf GitHub ein Projekt, mit dem ich Daten von der Pumpe über dieses Messgerät lesen konnte.  Ich nutze diese Gelegenheit, um dem Autor dieser Projekte - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lennart Goedhart</a> - meinen Dank auszusprechen.  Er hat das Protokoll wirklich gut studiert und das Ergebnis als freien Zugang veröffentlicht.  Es bleibt nur die Umsetzung des Plans. <br><br><h3>  Erklärung des Problems </h3><br>  Um die Pumpenwerte auf einem Computer, Mobiltelefon online "ohne Registrierung und SMS" überwachen zu können. <br><br><h3>  Lösung </h3><br><h4>  Eisen </h4><br>  In der ersten Version wurde der Raspberry Pi Zero W gewählt, der nicht eingeführt werden muss.  Er ist klein, nicht gefräßig und hat alles an Bord, was Sie brauchen.  Dazu wurde extra gekauft.  Ausstattung: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Waveshare SIM7000C</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2,5-G-</a> Modem + GPS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Waveshare 4-Port-USB-Hub</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raspberry Pi Zero UPS</a> .  All dies kann leicht bei Aliexpress gekauft werden.  Die Auswahl all dieser Komponenten basierte auf der Tatsache, dass all dies kleine Abmessungen hat und als „Kuchen“ zusammengesetzt ist.  Das Essen wird über die Power Bank bereitgestellt.  Bei dem Test reicht die Kapazität von 6000 mA für einen "leichten" Tag aus, d.h.  von 8 bis 20 Uhr, was für mich durchaus akzeptabel ist.  Gewicht Power Bank ca. 130 gr.  und er wird nicht zu viel an seiner Tasche ziehen. <br><br>  Mehr zur Leistung, genauer zur Raspberry Pi Zero USV.  Bei der Planung dachte ich, dass er die Hauptnahrungsquelle sein könnte, aber ich habe mich geirrt.  In der Praxis dauert es 1 Stunde.  Daher sehe ich keinen Grund, es zu benutzen. <br><br><img src="https://habrastorage.org/webt/vc/oq/vn/vcoqvnbx_jco7y0jao0jwg6_vqa.jpeg"><br>  <i>Erste Version.</i> <br><br>  Während des Betriebs stellte sich heraus, dass die Arbeit mit USB in Pi Zero zu wünschen übrig lässt.  Das WLAN fiel regelmäßig aus - GPRS ist nicht so kritisch, aber das Einfrieren des Messgeräts ist bereits erheblich.  Außerdem war es nicht möglich, den USB-Anschluss aus der Ferne zu „verzerren“ - die Stromversorgung erfolgt direkt über den USB-Anschluss. <br><br>  Am Ende kaufte ich den Raspberry Pi 3. Die Wahl fiel auf das Vorhandensein von Wi-Fi an Bord und das Vorhandensein von vollständigen USB-Anschlüssen. <br><br><img src="https://habrastorage.org/webt/gs/xt/4f/gsxt4fjpnpjwp2bybc1zclht1yw.jpeg"><br>  <i>Die zweite Version ohne Glukometer und Waveshare SIM7000C.</i> <br><br>  Um die Größe zu reduzieren, musste ich einen Ethernet-Anschluss opfern und mein USB-Kabel verlöten, um das Messgerät anzuschließen.  In Zukunft ist geplant, den Körper des Messgeräts loszuwerden und direkt an die Himbeere zu löten. <br>  Entwicklung und Druck des Gehäuses - in den Plänen. <br><br><h4>  Software </h4><br>  Die Hauptanforderung ist der Zugriff auf Daten von jedem Gerät, einschließlich Smartphones.  Das Aufstellen eines Servers auf einer Himbeere war nicht sinnvoll - bei der Kommunikation über ein Modem haben wir eine "graue" IP, die alle Pläne ruiniert hat.  Darüber hinaus war es aufgrund von Energieeinsparungen nicht Teil meiner Pläne, eine konstante GPRS-Verbindung aufrechtzuerhalten.  Glücklicherweise hatte ich Zabbix bereits konfiguriert und es wurde beschlossen, Daten darauf zu übertragen.  Als "schöne" Grafik wurde Grafana geschraubt. <br><br>  Dieses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projekt</a> wurde als Grundlage für Himbeersoftware verwendet.  Wie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">später</a> herausstellte, war es nur ein Konzept.  Im Allgemeinen ist es sehr effizient und im Moment führt es meine Aufgaben aus. <br><br>  Die Logik der Arbeit lautet wie folgt: Alle 5 Minuten sammle ich Daten von der Pumpe und der Himbeere und übertrage sie über zabbix_sender an Zabbix.  Zusätzlich gibt es eine "Fernbedienung per SMS". <br><br>  So sieht es im Browser aus (auf dem Telefon - auf die gleiche Weise): <br><br><img src="https://habrastorage.org/webt/ie/pk/wy/iepkwy1gfnnhadljfxjrek9_b9q.png"><br>  <i>Aktueller Messwert für Glukose, aktives Insulin und Trend (starker Abfall oder Anstieg des Spiegels)</i> <br><br><img src="https://habrastorage.org/webt/lf/k8/-h/lfk8-hspebemremh0pdndoueedg.png"><br>  <i>Grafik von Glukose und aktivem Insulin</i> <br><br><img src="https://habrastorage.org/webt/0m/fw/dg/0mfwdgbov5xjs3lbrto9ks9ypo0.png"><br>  <i>Pumpeninsulinvolumen, Batterie, temporäre Basalrate und Basalrate</i> <br><br><img src="https://habrastorage.org/webt/e0/gz/hz/e0gzhz1u0zpngnoee2hkubbdd6k.png"><br>  <i>Himbeer-CPU-Temperatur, Wi-Fi-Level, Modem</i> <br><br><img src="https://habrastorage.org/webt/-y/fi/m_/-yfim_i1diahxuepe6acqnsboxi.png"><br>  <i>GPS-Daten</i> <br><br>  Im Moment führt das Gerät die geplante Mindestfunktionalität aus.  Sie können den aktuellen Glukosespiegel sowie andere Parameter steuern.  Wenn Sie weniger Anrufe tätigen und nachts aufstehen, sehen Sie sich einfach die Grafiken auf dem Telefon an. <br><br>  Die Pläne für die nahe Zukunft beinhalten das Ändern der Arbeitslogik, das Hinzufügen von SMS-Benachrichtigungen zu kritischen Werten usw.  Wechseln Sie in Zukunft basierend auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Projekt zu Knoten js. <br><br>  Ich poste den Code auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465281/">https://habr.com/ru/post/de465281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465271/index.html">Hacker stehlen und waschen Geld durch Lieferservice und Hotelreservierung.</a></li>
<li><a href="../de465273/index.html">Wie Microgaming-Softwareentwickler Benutzer vor Hacks schützen</a></li>
<li><a href="../de465275/index.html">Alice bekommt Geschicklichkeit</a></li>
<li><a href="../de465277/index.html">Analysieren und Analysieren der Semantik für SEO: 5 kostenlose Google Sheets-Vorlagen</a></li>
<li><a href="../de465279/index.html">Gesichtserkennung mit siamesischen Netzwerken</a></li>
<li><a href="../de465283/index.html">„Es gibt alles, was benötigt wird, und nichts macht wütend“ - die Wahrheit spricht durch die Lippen des Klienten</a></li>
<li><a href="../de465285/index.html">Wie wir geschrieben haben, das Frontend unseres eigenen Hosting-Control-Panels: Framework und Backdoors</a></li>
<li><a href="../de465289/index.html">Die Zusammenfassung der Ereignisse für HR-Experten im Bereich IT für September 2019</a></li>
<li><a href="../de465291/index.html">Näher am Boden: Wie ich Coworking in ein Dorfhaus verwandelte</a></li>
<li><a href="../de465293/index.html">Wie wir den großen Hackathon aufgaben und anfingen, Reisen für einzelne Teams zu unternehmen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>