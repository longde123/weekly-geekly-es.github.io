<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤴🏻 🛠️ 🍣 كاساندرا الهجرة إلى Kubernetes: الميزات والحلول 🐎 👸🏾 🤽🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="نواجه بانتظام قاعدة بيانات Apache Cassandra والحاجة إلى تشغيلها في إطار البنية التحتية القائمة على Kubernetes. في هذه المقالة ، سوف نشارك رؤيتنا للخطو...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كاساندرا الهجرة إلى Kubernetes: الميزات والحلول</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/475036/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5a/mf/ts/5amftsu06d04r-vmvx9to725ss0.png"><br><br>  نواجه بانتظام قاعدة بيانات Apache Cassandra والحاجة إلى تشغيلها في إطار البنية التحتية القائمة على Kubernetes.  في هذه المقالة ، سوف نشارك رؤيتنا للخطوات والمعايير والحلول اللازمة (بما في ذلك نظرة عامة على المشغلين) لترحيل كاساندرا إلى K8s. <a name="habracut"></a><br><br><h2 style=";text-align:right;direction:rtl">  "من يستطيع السيطرة على امرأة سيتعامل مع الدولة" </h2><br>  من هو كاساندرا؟  إنه نظام تخزين موزع مصمم لإدارة كميات كبيرة من البيانات مع توفير إتاحة عالية دون نقطة فشل واحدة.  بالكاد يحتاج المشروع إلى مقدمة طويلة ، لذلك سأقدم فقط الميزات الرئيسية لكاساندرا ، والتي ستكون ذات صلة في سياق مقالة محددة: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  كاساندرا مكتوب بلغة جافا. </li><li style=";text-align:right;direction:rtl">  تتضمن طوبولوجيا كاساندرا عدة مستويات: <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  عقدة - مثيل واحد نشر كاساندرا. </li><li style=";text-align:right;direction:rtl">  Rack - مجموعة من مثيلات Cassandra ، متحدة بأي سمة ، موجودة في مركز بيانات واحد ؛ </li><li style=";text-align:right;direction:rtl">  مركز البيانات - إجمالي جميع مجموعات حالات كاساندرا الموجودة في مركز بيانات واحد ؛ </li><li style=";text-align:right;direction:rtl">  الكتلة - مجموعة من جميع مراكز البيانات. </li></ul></li><li style=";text-align:right;direction:rtl">  يستخدم كاساندرا عنوان IP لتحديد المضيف. </li><li style=";text-align:right;direction:rtl">  لسرعة عمليات القراءة والكتابة ، تقوم كاساندرا بتخزين جزء من البيانات في ذاكرة الوصول العشوائي. </li></ul><br>  الآن للانتقال الفعلي المحتمل إلى Kubernetes. <br><br><h2 style=";text-align:right;direction:rtl">  تحقق من قائمة للهجرة </h2><br>  عند الحديث عن هجرة Cassandra إلى Kubernetes ، نأمل أن يصبح الأمر أكثر ملاءمة لإدارة هذه الخطوة.  ما سوف تكون مطلوبة لهذا ، ما سوف يساعد في هذا؟ <br><br><h3 style=";text-align:right;direction:rtl">  1. تخزين البيانات </h3><br>  كما هو محدد بالفعل ، جزء من البيانات كاساندا يخزن في ذاكرة الوصول العشوائي - في <i>Memtable</i> .  ولكن هناك جزء آخر من البيانات التي يتم حفظها على القرص - في شكل <i>SSTable</i> .  يضاف إلى هذه البيانات <i>سجل سجل</i> الكيان - سجلات جميع المعاملات التي يتم حفظها أيضا على القرص. <br><br><img src="https://habrastorage.org/webt/2g/2e/ck/2g2eck2szmozuahdx4oinucww9o.png"><br>  <i>كاساندرا كتابة خطة المعاملات</i> <br><br>  في Kubernetes ، يمكننا استخدام PersistentVolume لتخزين البيانات.  بفضل الآليات المتطورة ، يصبح العمل مع البيانات في Kubernetes أسهل كل عام. <br><br><img src="https://habrastorage.org/webt/3f/_6/eh/3f_6eh1n50l6dofpd9pds9s4ewg.png"><br>  <i>لكل جراب مع كاساندرا سنخصص لدينا PersistentVolume</i> <br><br>  من المهم أن نلاحظ أن كاساندرا نفسها تنطوي على تكرار البيانات ، وتقدم آليات مدمجة لذلك.  لذلك ، إذا كنت تقوم بإنشاء مجموعة كاساندرا من عدد كبير من العقد ، فلا داعي لاستخدام أنظمة موزعة مثل Ceph أو GlusterFS لتخزين البيانات.  في هذه الحالة ، سيكون من المنطقي تخزين البيانات على القرص المضيف باستخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الأقراص الثابتة المحلية</a> أو <code>hostPath</code> المتصاعد. <br><br>  سؤال آخر هو ما إذا كنت تريد إنشاء بيئة تطوير منفصلة لكل فرع من فروع الميزات.  في هذه الحالة ، تتمثل الطريقة الصحيحة في رفع عقدة واحدة من كاساندرا ، وتخزين البيانات في وحدة التخزين الموزعة ، أي  Ceph و GlusterFS المذكورة ستكون خيارك.  عندها سيتأكد المطور من أنه لن يفقد بيانات الاختبار حتى في حالة فقد إحدى عقد مجموعة Kuberntes. <br><br><h3 style=";text-align:right;direction:rtl">  2. الرصد </h3><br>  يعد Prometheus أحد الخيارات غير البديلة للمراقبة في Kubernetes <i>(تحدثنا عن ذلك بالتفصيل في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">التقرير المقابل</a> )</i> .  كيف حال كاساندرا مع المصدرين المتريين لبروميثيوس؟  وما هو الأهم من ذلك بطريقة أو بأخرى ، مع لوحات المعلومات المناسبة لهم لغرافانا؟ <br><br><img src="https://habrastorage.org/webt/g0/vq/et/g0vqetugsowufigbskokdr74_2q.png"><br>  <i>مثال على ظهور الرسوم البيانية في جرافانا لكاساندرا</i> <br><br>  لا يوجد سوى مصدرين اثنين: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">jmx_exporter</a> و <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">cassandra_exporter</a> . <br><br>  اخترنا الأول لأنفسنا ، لأن: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  JMX Exporter ينمو ويتطور ، في حين أن Cassandra Exporter لم تتمكن من الحصول على الدعم المناسب من المجتمع.  لا يزال Cassandra Exporter لا يدعم معظم إصدارات Cassandra. </li><li style=";text-align:right;direction:rtl">  يمكنك تشغيله كـ javaagent عن طريق إضافة علامة <code>-javaagent:&lt;plugin-dir-name&gt;/cassandra-exporter.jar=--listen=:9180</code> . </li><li style=";text-align:right;direction:rtl">  بالنسبة له يوجد <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">dashboad الكافي</a> الذي لا يتوافق مع Cassandra Exporter. </li></ol><br><h3 style=";text-align:right;direction:rtl">  3. اختيار Kubernetes البدائية </h3><br>  وفقًا للهيكل أعلاه من مجموعة كاساندرا ، سنحاول ترجمة كل ما هو موصوف هناك إلى مصطلحات Kubernetes: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  كاساندرا العقدة → قرنة </li><li style=";text-align:right;direction:rtl">  كاساندرا الرف → StatefulSet </li><li style=";text-align:right;direction:rtl">  كاساندرا مركز البيانات → تجمع من StatefulSets </li><li style=";text-align:right;direction:rtl">  كاساندرا كلاستر → ؟؟؟ </li></ul><br>  اتضح أن بعض الكيانات الإضافية مفقود لإدارة مجموعة كاساندرا بأكملها في وقت واحد.  ولكن إذا لم يكن هناك شيء ما ، فيمكننا إنشاؤه!  Kubernetes لديه محرك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مخصص لتعريف الموارد</a> يسمى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Custom Resource Definitions</a> . <br><br><img src="https://habrastorage.org/webt/pt/ob/st/ptobst6r86hra1aakwvpcypws8e.png"><br>  <i>الإعلان عن موارد إضافية للسجلات والتنبيهات</i> <br><br>  لكن الموارد المخصصة وحدها لا تعني أي شيء: أنت بحاجة إلى <b>وحدة تحكم</b> لذلك.  قد تضطر إلى اللجوء إلى مساعدة أحد <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مشغلي Kubernetes</a> ... <br><br><h3 style=";text-align:right;direction:rtl">  4. تحديد القرون </h3><br>  النقطة أعلاه ، اتفقنا على أن عقدة كاساندرا واحدة تساوي جراب واحد في Kubernetes.  لكن عناوين IP الخاصة بـ pod ستكون مختلفة في كل مرة.  ويحدث تحديد العقدة في كاساندرا على وجه التحديد بناءً على عنوان IP ... اتضح أنه بعد كل عملية إزالة للعنصر ، ستضيف مجموعة كاساندرا عقدة جديدة. <br><br>  هناك مخرج ، ولا حتى واحد: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يمكننا الاحتفاظ بالسجلات بواسطة معرفات المضيف (UUIDs التي تحدد بشكل فريد مثيلات كاساندرا) أو عن طريق عناوين IP وحفظ كل هذا في بعض الهياكل / الجداول.  الأسلوب له عيبان رئيسيان: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  خطر حدوث حالة سباق عند سقوط عقدتين في وقت واحد.  بعد الترقية ، ستذهب عقد كاساندرا في وقت واحد لطلب عنوان IP لأنفسهم من الجدول والتنافس على المورد نفسه. </li><li style=";text-align:right;direction:rtl">  إذا فقدت عقدة كاساندرا بياناتها ، فلن نتمكن من تحديدها بعد الآن. </li></ul></li><li style=";text-align:right;direction:rtl">  الحل الثاني يبدو وكأنه اختراق صغير ، ولكن مع ذلك: يمكننا إنشاء خدمة مع ClusterIP لكل عقدة كاساندرا.  مشاكل مع هذا التطبيق: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  إذا كان هناك الكثير من العقد في مجموعة كاساندرا ، فسيتعين علينا إنشاء الكثير من الخدمات. </li><li style=";text-align:right;direction:rtl">  يتم تطبيق ميزة ClusterIP من خلال iptables.  يمكن أن يكون هذا مشكلة إذا كان لدى الكتلة Cassandra (1000 ... أو حتى 100؟) العقد.  على الرغم من أن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">التوازن على أساس IPVS</a> يمكن أن يحل هذه المشكلة. </li></ul></li><li style=";text-align:right;direction:rtl">  الحل الثالث هو استخدام شبكة من العقد لعقد Cassandra بدلاً من شبكة pod مخصصة من خلال تمكين <code>hostNetwork: true</code> الإعداد <code>hostNetwork: true</code> .  هذه الطريقة تفرض قيودًا معينة: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  لتحل محل العقد.  من الضروري أن يكون للمضيف الجديد عنوان IP نفسه كما هو الحال مع العنوان السابق (في السحب مثل AWS ، GCP ، يكون هذا مستحيلًا تقريبًا) ؛ </li><li style=";text-align:right;direction:rtl">  باستخدام شبكة عقد الكتلة ، نبدأ في التنافس على موارد الشبكة.  لذلك ، سيكون وضع عقدة كتلة واحدة مع أكثر من جراب مع Cassandra مشكلة. </li></ul></li></ol><br><h3 style=";text-align:right;direction:rtl">  5. النسخ الاحتياطي </h3><br>  نريد الاحتفاظ بالإصدار الكامل من البيانات لعقدة واحدة من كاساندرا وفقًا لجدول زمني.  توفر Kubernetes فرصة مريحة باستخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CronJob</a> ، ولكن هنا يقوم Cassandra بإدراج العصي في العجلات. <br><br>  اسمحوا لي أن أذكركم بأن هذا الجزء من البيانات يخزنها كاساندرا في الذاكرة.  لعمل نسخة احتياطية كاملة ، تحتاج إلى نقل البيانات من الذاكرة ( <i>Memtables</i> ) إلى القرص ( <i>SSTables</i> ).  عند هذه النقطة ، تتوقف عقدة كاساندرا عن قبول الاتصالات ، متوقفة تمامًا عن الكتلة. <br><br>  بعد ذلك ، تتم إزالة نسخة احتياطية ( <i>لقطة</i> ) ويتم <i>حفظ</i> المخطط ( <i>keyspace</i> ).  ثم اتضح أن مجرد نسخة احتياطية لا تعطينا أي شيء: تحتاج إلى حفظ معرفات البيانات التي كانت عقدة كاساندرا مسؤولة عنها - هذه رموز مميزة. <br><br><img src="https://habrastorage.org/webt/ve/el/00/veel00wgdubtmtyhjn2gh9kx4rw.png"><br>  <i>توزيع الرمز المميز لتحديد البيانات المسؤولة عن عقد كاساندرا</i> <br><br>  يمكن العثور على مثال نصي لإزالة كاساندرا من Google في Kubernetes على <a href="">هذا الرابط</a> .  النقطة الوحيدة التي لا يأخذها البرنامج النصي في الاعتبار هي إلقاء البيانات على العقدة قبل إزالة اللقطة.  وهذا هو ، يتم إجراء النسخ الاحتياطي ليس للحالة الحالية ، ولكن بالنسبة للحالة في وقت سابق قليلا.  لكن هذا لا يساعد في إخراج العقدة من العمل ، الأمر الذي يبدو منطقياً للغاية. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -eu <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ -z <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> info <span class="hljs-string"><span class="hljs-string">"Please provide a keyspace"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> 1 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> KEYSPACE=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> result=$(nodetool snapshot <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${KEYSPACE}</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ $? -ne 0 ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Error while making snapshot"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> 1 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> timestamp=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$result</span></span></span><span class="hljs-string">"</span></span> | awk <span class="hljs-string"><span class="hljs-string">'/Snapshot directory: / { print $3 }'</span></span>) mkdir -p /tmp/backup <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> path <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $(find <span class="hljs-string"><span class="hljs-string">"/var/lib/cassandra/data/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${KEYSPACE}</span></span></span><span class="hljs-string">"</span></span> -name <span class="hljs-variable"><span class="hljs-variable">$timestamp</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> table=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${path}</span></span></span><span class="hljs-string">"</span></span> | awk -F <span class="hljs-string"><span class="hljs-string">"[/-]"</span></span> <span class="hljs-string"><span class="hljs-string">'{print $7}'</span></span>) mkdir /tmp/backup/<span class="hljs-variable"><span class="hljs-variable">$table</span></span> mv <span class="hljs-variable"><span class="hljs-variable">$path</span></span> /tmp/backup/<span class="hljs-variable"><span class="hljs-variable">$table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> tar -zcf /tmp/backup.tar.gz -C /tmp/backup . nodetool clearsnapshot <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${KEYSPACE}</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  <i>مثال باش النصي لإزالة النسخ الاحتياطي من عقدة كاساندرا واحدة</i> <br><br><h2 style=";text-align:right;direction:rtl">  حلول جاهزة لكاساندرا في Kubernetes </h2><br>  ما الذي يستخدمونه حاليًا لنشر Cassandra في Kubernetes ، وأي منها يناسب أكثر المتطلبات المحددة؟ <br><br><h3 style=";text-align:right;direction:rtl">  1. StatefulSet أو حلول مخطط هيلم </h3><br>  يعد استخدام StatefulSets الأساسي لبدء مجموعة Cassandra خيارًا جيدًا.  باستخدام قوالب Helm chart و Go ، يمكنك تزويد المستخدم بواجهة مرنة لنشر Cassandra. <br><br>  عادة ما يكون هذا جيدًا ... حتى يحدث شيء غير متوقع - على سبيل المثال ، تنخفض العقدة.  أدوات Kubernetes القياسية ببساطة لا يمكن أن تأخذ في الاعتبار جميع الميزات المذكورة أعلاه.  بالإضافة إلى ذلك ، هذا النهج محدود للغاية في كيفية توسيعه للاستخدام أكثر تعقيدًا: استبدال العقدة ، النسخ الاحتياطي ، الاستعادة ، المراقبة ، إلخ. <br><br>  ممثلين: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الرسم البياني من مستودع هيلم الرئيسي</a> ؛ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الرسم البياني من bitnami</a> . </li></ul><br>  كلا المخططين جيدان على حد سواء ، لكنهما عرضة للمشاكل الموضحة أعلاه. <br><br><h3 style=";text-align:right;direction:rtl">  2. حلول قائمة على مشغل Kubernetes </h3><br>  تعد هذه الخيارات أكثر إثارة للاهتمام لأنها توفر إمكانات واسعة لإدارة الكتلة.  لتصميم بيان Cassandra ، مثل أي قاعدة بيانات أخرى ، يبدو النموذج الجيد مثل Sidecar &lt;-&gt; Controller &lt;-&gt; CRD: <br><br><img src="https://habrastorage.org/webt/4y/3b/ac/4y3bacrtm3apdyirfanehdzf82w.png"><br>  <i>مخطط إدارة العقدة في بيان Cassandra المصمم بشكل صحيح</i> <br><br>  النظر في العوامل الحالية. <br><br><h4 style=";text-align:right;direction:rtl">  1. كاساندرا المشغل بواسطة instaclustr </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">جيثب</a> </li><li style=";text-align:right;direction:rtl">  الاستعداد: ألفا </li><li style=";text-align:right;direction:rtl">  الترخيص: أباتشي 2.0 </li><li style=";text-align:right;direction:rtl">  نفذت في: جافا </li></ul><br>  هذا بالفعل مشروع واعد جدًا وسريع التطور من شركة تقدم عمليات النشر التي تديرها كاساندرا.  كما هو موضح أعلاه ، يستخدم حاوية جانبية تقبل الأوامر عبر HTTP.  إنه مكتوب بلغة جافا ، لذلك في بعض الأحيان يفتقر إلى وظائف مكتبة العميل المتقدمة.  أيضًا ، لا يدعم المشغل رفوف مختلفة لمركز بيانات واحد. <br><br>  لكن لدى المشغل مزايا مثل دعم المراقبة وإدارة الكتلة عالية المستوى باستخدام CRD وحتى الوثائق المتعلقة بإزالة النسخ الاحتياطية. <br><br><h4 style=";text-align:right;direction:rtl">  2. المستكشف بواسطة جيتستاك </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">جيثب</a> </li><li style=";text-align:right;direction:rtl">  الاستعداد: ألفا </li><li style=";text-align:right;direction:rtl">  الترخيص: أباتشي 2.0 </li><li style=";text-align:right;direction:rtl">  نفذت في: Golang </li></ul><br>  بيان لنشر DB-as-a-Service.  يدعم حاليا اثنين من قواعد البيانات: Elasticsearch وكاساندرا.  لديها حلول مثيرة للاهتمام مثل التحكم في الوصول إلى قاعدة البيانات عبر RBAC (لهذا ، يتم رفع الملاح المستقل الخاص بها).  مشروع مثير للاهتمام ، والذي يستحق نظرة فاحصة ، ولكن تم الالتزام الأخير منذ عام ونصف العام ، مما يقلل بوضوح من إمكاناته. <br><br><h4 style=";text-align:right;direction:rtl">  3. كاساندرا المشغل من vgkowski </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">جيثب</a> </li><li style=";text-align:right;direction:rtl">  الاستعداد: ألفا </li><li style=";text-align:right;direction:rtl">  الترخيص: أباتشي 2.0 </li><li style=";text-align:right;direction:rtl">  نفذت في: Golang </li></ul><br>  لم يعتبروا الأمر "جديًا" ، لأن الالتزام الأخير بالمستودع كان منذ أكثر من عام.  تم التخلي عن تطوير المشغل: أحدث إصدار من Kubernetes ، أعلن أنه مدعوم ، هو 1.9. <br><br><h4 style=";text-align:right;direction:rtl">  4. كاساندرا المشغل من الرخ </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="">جيثب</a> </li><li style=";text-align:right;direction:rtl">  الاستعداد: ألفا </li><li style=";text-align:right;direction:rtl">  الترخيص: أباتشي 2.0 </li><li style=";text-align:right;direction:rtl">  نفذت في: Golang </li></ul><br>  مشغل لا يتم تطويره بالسرعة التي نودها.  لديه بنية CRD مدروسة لإدارة الكتلة ، يحل مشكلة تحديد العقد باستخدام الخدمة مع ClusterIP (نفس "الاختراق") ... ولكن في الوقت الحالي ، كل هذا.  لا توجد مراقبة ونسخ احتياطية خارج الصندوق الآن (بالمناسبة ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بدأنا في</a> مراقبة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">أنفسنا</a> ).  نقطة مهمة هي أنه باستخدام هذا المشغل ، يمكنك أيضًا نشر ScyllaDB. <br><br>  <i>ملحوظة: استخدمنا هذا المشغل مع تعديلات طفيفة في أحد مشاريعنا.</i>  <i>لم تكن هناك مشاكل في عمل المشغل أثناء العملية بأكملها (حوالي 4 أشهر من التشغيل).</i> <br><br><h4 style=";text-align:right;direction:rtl">  5. كاسكوب البرتقالي </h4><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">جيثب</a> </li><li style=";text-align:right;direction:rtl">  الاستعداد: ألفا </li><li style=";text-align:right;direction:rtl">  الترخيص: أباتشي 2.0 </li><li style=";text-align:right;direction:rtl">  نفذت في: Golang </li></ul><br>  أصغر مشغل في القائمة: تم الالتزام الأول في 23 مايو 2019.  بالفعل ، لديه في ترسانته عدد كبير من الميزات من قائمتنا ، ويمكن الاطلاع على مزيد من التفاصيل عنها في مستودع المشروع.  يعتمد المشغل على المشغل sdk الشهير.  يدعم مراقبة خارج الصندوق.  الفرق الرئيسي بين المشغلين الآخرين هو استخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المكون الإضافي CassKop</a> ، الذي تم تنفيذه في بيثون ويستخدم للتواصل بين عقد كاساندرا. <br><br><h2 style=";text-align:right;direction:rtl">  النتائج </h2><br>  يتحدث عدد من الأساليب والخيارات الممكنة لنقل Cassandra إلى Kubernetes عن نفسه: الموضوع في الطلب. <br><br>  في هذه المرحلة ، يمكنك تجربة أحد الإجراءات المذكورة أعلاه على مسؤوليتك الخاصة والمخاطر: لا يضمن أي من المطورين عمل حلولهم بنسبة 100٪ في بيئة الإنتاج.  ولكن الآن ، تبدو العديد من المنتجات واعدة لمحاولة استخدامها في منصات التطوير. <br><br>  أعتقد في المستقبل أن هذه المرأة على السفينة سوف تضطر إلى الذهاب! <br><br><h2 style=";text-align:right;direction:rtl">  PS </h2><br>  اقرأ أيضًا في مدونتنا: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الهجرة دون عائق من MongoDB إلى Kubernetes</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هجرة RabbitMQ دون عائق إلى Kubernetes</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">قواعد البيانات و Kubernetes (مراجعة وتقرير فيديو)</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نصائح وحيل K8s: تسريع عملية التمهيد لقواعد البيانات الكبيرة.</a> " </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar475036/">https://habr.com/ru/post/ar475036/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar475022/index.html">الفصام المعماري</a></li>
<li><a href="../ar475024/index.html">الجري رياضة مثالية للعامل عن بعد. الجزء 1: الطريق إلى السباق الأول من مائة كيلومتر</a></li>
<li><a href="../ar475028/index.html">ملاحظات على تطبيق ML في الأعمال التجارية على أسهم ŽijemeIT</a></li>
<li><a href="../ar475032/index.html">غارتنر الضجيج دورة 2019: استخلاص المعلومات</a></li>
<li><a href="../ar475034/index.html">الرسم البياني في متصفح لاردوينو و STM32</a></li>
<li><a href="../ar475038/index.html">المجموعة الأولى من "الرياضيات التطبيقية وعلوم الكمبيوتر" في سان بطرسبرغ للصحة والسلامة: من هم وكيف يتعاملون معهم؟</a></li>
<li><a href="../ar475044/index.html">بناء serverless الخاصة بك على أساس الجبهة الوطنية</a></li>
<li><a href="../ar475046/index.html">هل الغاية تبرر الوسيلة؟ (!) سيو الأسود والرمادي</a></li>
<li><a href="../ar475048/index.html">شرح اختبار فرضية حدسي وقيمة p</a></li>
<li><a href="../ar475050/index.html">ESports - اللعب ، والمشاركة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>