<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¾â€ğŸ« ğŸ‘ğŸ¼ ğŸ¿ï¸ Eine andere MÃ¶glichkeit, die Zeit und die Build-Nummer fÃ¼r Java zu verfolgen ğŸ˜ ğŸ‘¼ ğŸ‘©ğŸ»â€ğŸ”§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt viele MÃ¶glichkeiten, die Build-Nummer und die Kompilierungszeit im Programm hinzuzufÃ¼gen. Ich schlage eine weitere vor, die Maven / Jenkins / ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eine andere MÃ¶glichkeit, die Zeit und die Build-Nummer fÃ¼r Java zu verfolgen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485552/">  Es gibt viele MÃ¶glichkeiten, die Build-Nummer und die Kompilierungszeit im Programm hinzuzufÃ¼gen.  Ich schlage eine weitere vor, die Maven / Jenkins / Bamboo nicht benÃ¶tigt und nicht in Git festlegt. <br><a name="habracut"></a><br>  Ich arbeite normalerweise mit serverseitigem Java und fast jede Anwendung (Tomcat / Spring / Play ...) muss einen Endpunkt hinzufÃ¼gen, der die Anzahl und den Zeitpunkt der Anwendungserstellung wÃ¤hrend einer HTTP-Anforderung angibt.  Ich habe verschiedene Wege ausprobiert und in allem den gefunden, der zu mir passt.  Der Integrationsprozess in eine Java-Anwendung dauert 5-10 Minuten. <br><br>  Zuerst mÃ¼ssen Sie sich fÃ¼r <a href="https://develop.backendless.com/registration">Backendless</a> registrieren und dort eine Anwendung erstellen (Sie kÃ¶nnen jeden anderen Dienst verwenden, der auf http-Anfrage eine Nummer vergeben kann und diese jedes Mal um 1 erhÃ¶ht).  Nachdem Sie die APP_ID der Anwendung erhalten haben, mÃ¼ssen Sie auch die API_KEY auf <a href="https://develop.backendless.com/Increment/manage/settings/api-keys">dieser</a> Seite abrufen. <br><br>  Danach kÃ¶nnen Sie die <a href="https://backendless.com/docs/rest/ut_increment_by_1__return_current.html">Gelegenheit nutzen</a> , um eine Ganzzahl zu erhalten, die sich nach jeder Anforderung um 1 erhÃ¶ht. <br><br>  Damit diese Nummer in das Programm aufgenommen wird, mÃ¼ssen Sie meine <a href="https://github.com/ukman/kolobok">kolobok</a> OpenSource-Bibliothek verwenden.  Geben Sie die BibliotheksabhÃ¤ngigkeit in pom.xml oder build.gradle an. <br><br><div class="spoiler">  <b class="spoiler_title">Maven</b> <div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.github.ukman<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>kolobok<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>0.1.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>compile<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">gradle</b> <div class="spoiler_text"><pre> <code class="ruby hljs"> compileOnly <span class="hljs-string"><span class="hljs-string">'com.github.ukman:kolobok:0.1.5'</span></span></code> </pre><br></div></div><br>  FÃ¼gen Sie eine Anmerkung fÃ¼r das Feld in einer Klasse hinzu (vergessen Sie nicht, die richtige APP_ID und API_KEY in den URL-Parameter zu schreiben). <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.kolobok.annotation.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@BuildNumber</span></span>(url = <span class="hljs-string"><span class="hljs-string">"https://api.backendless.com/${APP_ID}/${API_KEY}/counters/build/increment/get"</span></span>, method = <span class="hljs-string"><span class="hljs-string">"PUT"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> bn; <span class="hljs-meta"><span class="hljs-meta">@CompileTime</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> ct; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String args[])</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Build number = "</span></span> + bn + <span class="hljs-string"><span class="hljs-string">" compilation time "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(ct)); } }</code> </pre><br>  Nach jeder Neukompilierung der Hauptklasse haben Sie nun eine neue Nummer aus der Folge der ansteigenden Nummern im Feld bn, und das Feld ct hat die Kompilierungszeit.  Das heiÃŸt, so etwas geht zur Compilereingabe. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> bn = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 2..3..4..5.. public static long ct = 1580107708793; // System.currentTimeMillis()</span></span></code> </pre><br>  Nach einem inkrementellen Build wird die Main.java-Datei mÃ¶glicherweise nicht erneut kompiliert und die Werte bleiben gleich. In der Regel werden jedoch alle kompilierten Dateien vor dem vollstÃ¤ndigen Build vollstÃ¤ndig bereinigt, sodass die Build-Nummer aktualisiert wird. <br><br>  Sie kÃ¶nnen diese Variablen jetzt verwenden, um dem Benutzer die Build-Nummer und die Build-Zeit anzuzeigen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485552/">https://habr.com/ru/post/de485552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485542/index.html">HinzufÃ¼gen von Grafiken zu Notion</a></li>
<li><a href="../de485544/index.html">Schach als dynamisches System</a></li>
<li><a href="../de485546/index.html">Die Apokalypse kommt</a></li>
<li><a href="../de485548/index.html">SwiftUI in den Regalen</a></li>
<li><a href="../de485550/index.html">Gibt es ein Leben jenseits der Moskauer RingstraÃŸe? Wie wir Entwickler suchen und vorbereiten</a></li>
<li><a href="../de485554/index.html">Ziele und Hauptergebnisse (OKR) - Unsere Erfahrung mit der schrittweisen Implementierung</a></li>
<li><a href="../de485556/index.html">Es dauerte 12 Jahre, um einen Abschnitt der Drosophila-Hirnkarte zu erstellen, die BemÃ¼hungen von 250 Menschen und 40 Millionen US-Dollar</a></li>
<li><a href="../de485558/index.html">Keine MÃ¼cken! Ãœbersicht der MÃ¼cke "Phyto-Munition"</a></li>
<li><a href="../de485562/index.html">Surfen im Internet mit einem Gamepad (Javascript)</a></li>
<li><a href="../de485564/index.html">Reverse Engineering des Ngrok v2-Protokolls</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>