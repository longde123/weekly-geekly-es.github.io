<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê† üëÉüèø üõÄüèø Wie wir die Plattform f√ºr elektronischen Schmuck entwickelt haben ‚òπÔ∏è ‚úäüèæ üöÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Idee, Elektronik und Schmuck zu kreuzen, ist sehr alt. Als wir uns an sie erinnerten, ergab die Suche daher eine gro√üe Anzahl von Arbeiten zu dies...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir die Plattform f√ºr elektronischen Schmuck entwickelt haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/408073/"> Die Idee, Elektronik und Schmuck zu kreuzen, ist sehr alt.  Als wir uns an sie erinnerten, ergab die Suche daher eine gro√üe Anzahl von Arbeiten zu diesem Thema.  Richtig, elektronischer Schmuck bedeutete oft Schmuck aus Elektronik - St√ºcke eines in Epoxidharz gekleideten Bretts, Elemente, Anh√§nger-Mikroschaltungen.  Wir wollten LED-Dekorationen machen.  Nicht wie bei chinesischem Spielzeug, das an jeder Ecke verkauft wird, weil alles ziemlich uninteressant ist - es gibt mehrere blinkende Programme, die per Knopfdruck umgeschaltet werden k√∂nnen, aber etwas komplizierteres und interessanteres.  Beispielsweise brennen Lauflichter, die auf Umgebungslicht reagieren, im Dunkeln heller und im Licht dunkler.  Oder im Takt der umgebenden Musik flackern.  Oder die Farbe je nach Temperatur √§ndern.  Oder die Herzfrequenz des Tr√§gers anzeigen.  Mit anderen Worten, wir wollten eine Art aktive Reaktion.  Ich muss sofort sagen - es stellte sich so etwas heraus: <br><br><img src="https://habrastorage.org/webt/uz/qz/rx/uzqzrxdscialsafiiwgbicm2rqu.jpeg"><br><a name="habracut"></a><br>  <i>Warnung: Dieser Artikel wurde in erster Linie f√ºr nichttechnische Spezialisten verfasst und weist daher einige Vereinfachungen auf, die dazu f√ºhren k√∂nnen, dass Ingenieure missbilligt werden.</i>  <i>F√ºhlen Sie sich frei, sie auszudr√ºcken.</i> <br><br>  So wurden die Anforderungen an das elektronische Teil gebildet: <br><br><ul><li>  Es sollten mehrere gesteuerte LEDs vorhanden sein (gesteuert - dies bedeutet, dass wir nicht nur ihr Leuchten ein- und ausschalten k√∂nnen, sondern auch ihre Helligkeit und vor allem ihre Farbe steuern k√∂nnen). </li><li>  Es ist mindestens ein Sensor erforderlich - ein Lichtsensor, ein Temperatursensor oder ein Mikrofon.  Herzfrequenzsensoren wurden bisher verschoben - sie erfordern eine direkte Ann√§herung an den K√∂rper (daher ist Ihr Fitnessarmband in dieser Hinsicht unbrauchbar, wenn Sie es √ºber das Hemd legen). </li><li>  Die Steuerung muss programmierbar sein.  Dies bedeutet, dass wir die Logik der Steuerung der LEDs jederzeit auf eine f√ºr die Umgebung der fertigen Dekoration geeignetere Logik √§ndern k√∂nnen. Wenn beispielsweise kalte Farben in der Dekoration vorherrschen, k√∂nnen Sie das Leuchten entsprechend einstellen. </li><li>  Das Ger√§t sollte kompakt und leicht sein, da schwere Gegenst√§nde die M√∂glichkeit ihrer Verwendung stark einschr√§nken. </li><li>  Der Stromkreis sollte aus Gr√ºnden der Benutzerfreundlichkeit mit Batterien oder Batterien betrieben werden, die an jeder Ecke gekauft werden k√∂nnen. </li></ul><br>  Nachdem wir diese Anforderungen festgelegt hatten, begannen wir ernsthaft nachzudenken.  Wie jede technische Aufgabe hatte auch diese viele L√∂sungen. <br><br>  Zum Beispiel k√∂nnten wir einen Standardkonstruktor wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">LiliPad</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adafruit GEMMA verwenden</a> , der nur f√ºr diese Zwecke erstellt wurde.  Wenn Sie sich GEMMA-Beispiele ansehen, dann sehen Sie eine gro√üe Anzahl √§hnlicher Projekte mit LEDs, es gibt sogar Ohrringe.  Leider ist der Designer im Prototypenstadium sehr gut geeignet, wenn das Ger√§t aus Schmutz und St√∂cken zusammengebaut werden muss, um zu √ºberpr√ºfen, ob es √ºberhaupt funktioniert, aber leider ist es absolut nicht f√ºr kleine Serien geeignet - zus√§tzliche Steckverbinder, Verbindungen und das gesamte Konstrukt st√∂ren .  Nun, die Kosten des Designers und der Teile daf√ºr (und wir erinnern uns, dass wir immer noch LEDs und Sensoren ben√∂tigen) wirken sich auch unangenehm auf die Kosten des Endprodukts aus, nicht in die f√ºr den K√§ufer interessanteste Richtung.  Designer sind also eine gute Option, werfen jedoch eine Vielzahl von Fragen auf. <br><br>  Eine Alternative besteht darin, den elektronischen Teil als Ganzes und unabh√§ngig zu entwickeln.  Dieser Weg ist sowohl einfacher (da wir nur das lassen k√∂nnen, was ben√∂tigt wird) als auch schwierig (da das Erstellen eines programmierbaren Ger√§ts selbst f√ºr unsere scheinbar einfache Aufgabe viele Fallstricke und Kompromissl√∂sungen mit sich bringt).  Als wir eine so wunderbare Gelegenheit sahen, einige K√∂rperteile zu dehnen, konnten wir nat√ºrlich nicht vorbeikommen. <br><br>  Hier lohnt es sich wahrscheinlich, einen kurzen Ausflug in die Herstellung von Elektronik zu machen und wie dies geschieht. <br><br><div class="spoiler">  <b class="spoiler_title">Wie man Elektronik an den Fingern macht</b> <div class="spoiler_text">  Zun√§chst werden die Idee und die Anforderungen f√ºr das Ger√§t formuliert (nun, was wir bereits getan haben).  Anschlie√üend werden diese Anforderungen mit Elektronikspezialisten besprochen und gemeinsam gekl√§rt - das Projekt ist mit Details und Nuancen bewachsen. <br><br>  Es wird ein schematisches Diagramm des Ger√§ts gezeichnet - wie elektronische Komponenten miteinander verbunden werden m√ºssen, um zusammenarbeiten zu k√∂nnen.  Das Schema wird in der Praxis √ºberpr√ºft - von den vorhandenen Mitteln und das erste Ger√§t wird an der Verkabelung montiert.  Wenn es funktioniert, bedeutet dies, dass das urspr√ºngliche Schema korrekt war und Sie fortfahren k√∂nnen. <br><br>  Nachdem wir einen bew√§hrten Schaltplan des Ger√§ts haben, beginnt der interessanteste Teil - das PCB-Layout, d.h.  ein solches St√ºck Leiterplatte mit Schienen, auf die elektronische Komponenten gel√∂tet werden.  Sie k√∂nnen nat√ºrlich alles an der Verkabelung tun, aber es wird langsam, langweilig und √§u√üerst unzuverl√§ssig.  Dar√ºber hinaus hat die moderne Technologie eine solche Verbreitung erreicht, dass es m√∂glich ist, eine Leiterplatte mit industrieller Qualit√§t f√ºr sehr wenig Geld herzustellen.  Wir werden es jedoch immer noch sehen.  Das Entwerfen einer Leiterplatte soll zeigen, wie wir die Elemente anordnen und wie sie miteinander verbunden werden.  Oder einfach ausgedr√ºckt, wir m√ºssen den Schaltplan sch√∂n neu zeichnen und die tats√§chlichen physikalischen Abmessungen der Teile ber√ºcksichtigen. <br><br>  Es reicht nicht aus, nur eine Leiterplatte zu entwerfen (im Fachjargon - ‚ÄûVerd√ºnnen‚Äú). Sie m√ºssen sie dennoch f√ºr die Produktion vorbereiten, d. H.  Generieren Sie den richtigen Satz von Dokumenten, einschlie√ülich des Erscheinungsbilds des Ergebnisses, des Schemas der leitenden Spuren, des Bohr- und Metallisierungsschemas.  Normalerweise erhalten es selbst erfahrene Ingenieure nicht sofort, insbesondere wenn das Ger√§t nicht einfach ist.  Diese Dateien (im Gerber-Format) werden in die Produktion √ºbertragen.  W√§hrend die Leiterplatte freigegeben wird, werden Elemente gekauft, die darauf gel√∂tet werden.  In einer Fachsprache hei√üt die Liste solcher Elemente BoM (aus der englischen St√ºckliste - eine Liste der Komponenten). <br><br>  Nach Erhalt der Leiterplatte und Kauf aller erforderlichen Komponenten werden die Elemente auf der Leiterplatte montiert. Diese kann manuell (normalerweise f√ºr kleine Auflagen von bis zu tausend Exemplaren) oder automatisch (mit speziellen Maschinen f√ºr gro√üe Chargen) erfolgen.  Die manuelle Installation sieht aus wie ein Ingenieur mit einem L√∂tkolben, der die Elemente einfach gem√§√ü dem ihm zur Verf√ºgung gestellten Schema auf die Platine verl√∂tet. <br><br>  Nach Abschluss der Installation wird das Ger√§t programmiert (sofern es Mikrochips enth√§lt, die dies erm√∂glichen) und getestet, d. H.  Die Funktionsf√§higkeit und Best√§ndigkeit gegen verschiedene √§u√üere Einfl√ºsse wird √ºberpr√ºft.  Wenn das Ger√§t alle Tests bestanden hat, wird es als betriebsbereit erkannt und weiter auf die Verpackung √ºbertragen (d. H. In eine Schachtel gelegt) oder zur weiteren Verarbeitung (wie in unserem Fall).  Wenn nicht, diagnostizieren sie die Ursachen, reparieren, testen sie erneut und lehnen sie entweder dauerhaft ab oder geben sie weiter. <br><br>  Im Allgemeinen ist der Herstellungsprozess der Elektronik nicht der einfachste und trivialste.  Wenn Sie entschlossen sind, diesen Weg zu gehen, empfehlen wir Ihnen dringend, sich an qualifizierte Ingenieure in diesem Bereich zu wenden, vorzugsweise mit Erfahrung in diesem Bereich. <br></div></div><br>  Wir haben also eine Idee und es gibt Anforderungen.  Es bleibt, sie "in der Dr√ºse" zu verk√∂rpern. <br><br>  √úberlegungen zu dieser Frage lie√üen zahlreiche Zweifel aufkommen: <br><br><ul><li>  LEDs sind ziemlich ‚Äûgefr√§√üige‚Äú Elemente, da sie Lichtquellen sind.  Die gesteuerten LEDs sind dreimal ‚Äûhungrig‚Äú, da es sich im Wesentlichen um drei verschiedene LEDs handelt, die in einem Geh√§use zusammengefasst sind (rote, gr√ºne und blaue Farbkomponenten).  Und wie wir uns erinnern, wollten wir ein kompaktes Ger√§t, d.h.  F√ºr eine gro√üe Batterie haben wir einfach keinen Platz. </li><li>  Batterie und Strom sind der Engpass des gesamten Projekts.  Ich m√∂chte Sie daran erinnern, dass laut Plan zus√§tzlich zu den LEDs Sensoren und ein Gl√ºhschutzkreis vorhanden sein sollten, die auch elektrische Energie verbrauchen.  Und es ist unwahrscheinlich, dass der K√§ufer zufrieden ist, wenn sein Schmuck einige Minuten lang funktioniert und dann ein Batteriewechsel erforderlich ist. </li><li>  das Ger√§t muss programmierbar sein - d.h.  Wir m√ºssen in der Lage sein, das Leuchten auf Programmebene zu steuern.  Dies erfordert automatisch ein Mikroprozessorger√§t, das als Mikrocontroller bezeichnet wird.  Dies ist ein Chip, an den Sie sowohl LEDs als auch Sensoren anschlie√üen k√∂nnen.  Im Inneren befinden sich ein einfacher Mikroprozessor und ein Speicher, mit denen Sie ein Programm schreiben k√∂nnen, um alle angeschlossenen Ger√§te zu steuern.  Und dieser Mikrocontroller sollte, wie aus den vorhergehenden Abs√§tzen hervorgeht, sehr wenig elektrische Energie verbrauchen, um den Benutzer nicht zu einem st√§ndigen Batteriewechsel zu verurteilen. </li><li>  Da es so viele verschiedene Sensoren gibt, wurde beschlossen, sich nur auf einen von ihnen zu konzentrieren - den Lichtsensor.  Als solcher Sensor wird ein Fotowiderstand verwendet, der nach diesem Prinzip arbeitet - wenn Licht darauf f√§llt, nimmt sein Widerstand ab, wenn es im Dunkeln ist, nimmt er zu.  Dies ist ein einfacher Sensor, der ihn mit dem Eingang des Mikrocontrollers verbindet. Wir erhalten ein Ger√§t zur Messung der Beleuchtung.  Mit Blick auf die Zukunft werde ich sagen, dass es Temperatur- und Schallsensoren gibt, die nach denselben Prinzipien arbeiten und den Fotowiderstand ersetzen k√∂nnen, ohne wesentliche √Ñnderungen an der endg√ºltigen Schaltung vorzunehmen. </li><li>  Die Leiterplatte, auf der die Installation durchgef√ºhrt werden soll, sollte rund oder mit abgeschr√§gten Ecken sein - auch aus √§sthetischen Gr√ºnden gibt es nicht so viele rechteckige und quadratische Dekorationen. </li></ul><br>  Also st√∂bern wir in der Suche, sortieren die Kombinationen aus und erhalten so eine L√∂sung, die uns zufriedenstellt: <br><br><ol><li>  Strom - ein Standard-CR2032-Akku, auch ein "Tablet" von der Gr√∂√üe einer Zehn-Rubel-M√ºnze.  Bietet 3 Volt, ist f√ºr eine lange Zeit gelagert, arbeitet in einem weiten Temperaturbereich, billig, wird in jedem Supermarkt verkauft.  Der Halter f√ºr eine solche Batterie ist furchtbar einfach und auch sehr kosteng√ºnstig; </li><li>  Mikrocontroller - Atmel Attiny85, kompakt, stromsparend, leicht programmierbar, g√ºnstig.  Ein zus√§tzliches Plus ist, dass dieser Chip einen analogen Eingang (dh Sie k√∂nnen dort einen Sensor ohne zus√§tzliche Schaltkreise anschlie√üen) und eine kleine Anzahl von Beinen (was in unserem Wunsch nach Kompaktheit ein sehr gro√ües Plus ist) hat. </li><li>  LEDs sind SK6812 mini, die 3,5 mm mal 3,5 mm gro√ü sind.  Es schien uns, dass gew√∂hnliche F√ºnf-Millimeter-LEDs f√ºr diese Schaltung insgesamt sehr und sehr gefr√§√üig sein werden.  Au√üerdem werden sie normalerweise mit einer Spannung von 5 Volt versorgt, und unsere Batterie liefert nur 3 Volt, d.h.  um zu arbeiten, m√ºsste man einen Konverter verwenden, den ich nicht wollte; </li><li>  Ein Fotowiderstand ist auch ein Lichtsensor - ein traditioneller Sensor, der in Kameras und Gegensprechanlagen verwendet wird, um den Einbruch der Dunkelheit zu bestimmen. </li></ol><br>  Nachdem wir uns f√ºr die Komponenten entschieden haben, laden Sie die Dokumentation f√ºr den Controller und die LEDs herunter und tauchen Sie in die Studie ein.  Nuancen tauchen auf - die LEDs sind in Reihe geschaltet, ‚Äûper Zug‚Äú und werden √ºber einen Draht gesteuert, in den die Steuerung auf besondere Weise ein Signal bilden muss - und senden eine bestimmte Folge von Zahlen, von denen jede bedeutet, mit welcher Intensit√§t jede der eingebauten LEDs leuchtet (und wir) Denken Sie daran, dass wir in einem Fall drei davon haben - rot, gr√ºn und blau.  Das hei√üt,  Wir m√ºssen die Helligkeit von Rot, Gr√ºn und Blau nacheinander f√ºr die erste LED, dann f√ºr die zweite, dann f√ºr die dritte usw. senden, je nachdem, wie viele von ihnen in Reihe geschaltet sind.  Wenn Sie LED-Streifen in Baum√§rkten gesehen haben, die mit allen Strahlen des Regenbogens schimmern, dann wissen Sie, dass sie nach ungef√§hr demselben Prinzip funktionieren. <br><br>  Zus√§tzlich zur Steuerung dieser LEDs ist ein Interferenzschutz erforderlich, f√ºr den ein Kondensator f√ºr jede LED erforderlich ist.  Au√üerdem wird f√ºr den Mikrocontroller der gleiche Interferenzkondensator ben√∂tigt. <br><br>  Dar√ºber hinaus sind LEDs auch in einem so kompakten Design immer noch leistungsgierig.  Daher muss ihre Gier begrenzt sein, und wir haben einen Begrenzer - Widerstand.  Das hei√üt,  Jede LED ben√∂tigt einen zus√§tzlichen Strombegrenzungswiderstand.  Es ist lustig, dass sich w√§hrend der Entwicklung des Produkts herausstellte, dass diese Widerst√§nde nicht viel helfen, aber wie viel sie schaden - bei einer Anzahl von mehr als vier LEDs fehlte der Strom und ich musste sie auf Null Ohm √§ndern, d. H.  allt√§gliche Jumper, damit die LEDs richtig funktionieren.  In nachfolgenden Versionen des Schemas haben wir sie vollst√§ndig entfernt. <br><br>  Der Fotowiderstand ben√∂tigte auch einen zus√§tzlichen Widerstand, der als Spannungsteiler wirkt.  Vollst√§ndige Beispiele f√ºr Verbindungsschemata finden Sie, wenn Sie in der Suchmaschine ‚ÄûArduino-Verbindung eines Fotowiderstands‚Äú fahren. <br><br>  F√ºr die Programmierung des Mikrocontrollers ist es erw√§hnenswert, dass zum Hochladen der Firmware (Programmcode in bin√§rer Form) in Attiny85 ein spezielles Ger√§t erforderlich ist - ein ‚ÄûProgrammierer‚Äú.  Gl√ºcklicherweise wird es auf der Grundlage des elektronischen Designers von Arduino (zu dem auch sein √§lterer Bruder geh√∂rt, der ebenfalls ein Atmel-Mikrocontroller ist, aber seri√∂ser) zusammengestellt, der in jedem Elektronikgesch√§ft oder in China f√ºr wenig Geld gekauft werden kann. <br><br>  Und schlie√ülich der Schalter - wir m√∂chten nicht, dass der Benutzer den Akku st√§ndig einlegt und entfernt. <br><br>  Trotz alledem erwies sich der Schaltplan im Vergleich zu den meisten Haushaltsger√§ten als einfach (h√∂chstwahrscheinlich ist Ihr W√§rmefluss in der Elektronik komplizierter als in unserer Schaltung): <br><br><img src="https://habrastorage.org/webt/hg/ts/p7/hgtsp7br6z-gthfvr0cbgyeonzy.png"><br><br>  Als Ergebnis haben wir ein Ger√§t erhalten, dessen Abmessungen etwas gr√∂√üer sind als bei einem normalen Tablet-Akku.  Tats√§chlich befinden sich die Batterie und der Schalter auf der einen Seite, die LEDs, der Mikrocontroller und der Lichtsensor auf der anderen Seite.  Da die LEDs auch den in der N√§he befindlichen Lichtsensor beeinflussen k√∂nnen (z. B. ihn so beleuchten, dass davon ausgegangen wird, dass der Kreis hell ist, obwohl es m√∂glicherweise noch so dunkel ist), wurde beschlossen, ihn so zu montieren, dass er in eine Ebene senkrecht zur Richtung gebogen werden kann gl√ºhen. <br><br>  Durch die Verkabelung haben wir eine ziemlich einfache Leiterplatte erhalten.  Vor der Verkabelung haben wir die Schaltung √ºberpr√ºft und festgestellt, dass sie mit einer Einschr√§nkung funktioniert. Wir haben sie an einer konstanten Stromquelle und nicht an einer Batterie getestet. Die Bef√ºrchtungen, dass eine so kleine Batterie nur kurze Zeit anh√§lt, blieben also bis zu dem Moment bestehen, als wir die ersten Ger√§te l√∂ten. <br><br>  Also, die Schaltung ist fertig, die Platine ist geschieden.  Und dann der erste Kompromiss - Tatsache ist, dass Attiny85-Mikrocontroller in zwei Arten von F√§llen erh√§ltlich sind - DIP (dies sind klassische Mikroschaltungen mit Stiftbeinen, die Sie wahrscheinlich zu Beginn der Verbreitung von Elektronik und einfachen Ger√§ten gesehen haben) und SO (dies sind planare Mikroschaltungen). klein und kompakt, ohne zus√§tzliche L√∂cher zum L√∂ten erforderlich und durch L√∂ten auf der Platine montiert).  Zum Zeitpunkt des Entwurfs war die SO-Komponente unseres Lieferanten teurer und vor allem nicht verf√ºgbar.  Deshalb haben wir die DIP-Version genommen, aber mit der Erwartung, dass wir sie zuerst programmieren und dann vorsichtig die Beine abbei√üen und sie wie SO direkt auf die Platine l√∂ten.  Dies brachte ein zus√§tzliches technologisches Risiko mit sich - das √Ñndern der Firmware in dieser Option nach dem L√∂ten des Mikrocontrollers auf die Platine w√§re keine sehr triviale Aufgabe, aber wer von uns mag keine Schwierigkeiten ?! <br><br><img src="https://habrastorage.org/webt/fl/6a/xf/fl6axfi3kxuermcoedmtb-l6o4u.jpeg" alt="Attiny85 DIP / SO"><br><br>  Wir haben Boards in China bestellt, dort wurde dieser Prozess getestet und mit der Montage der Komponenten begonnen.  Die LEDs und Batteriehalter wurden auch in China bestellt, entweder waren sie nicht auf dem lokalen Markt oder sie kosten unanst√§ndiges Geld.  Der Rest wurde im n√§chsten elektronischen Supermarkt gekauft.  Mikrocontroller konnten auch in China bestellt werden, aber eine gro√üe Anzahl negativer R√ºckmeldungen und unsere eigene traurige Erfahrung (als die gesendeten Komponenten nicht gut genug waren) haben uns von einem solchen Schritt abgehalten.  Als wir die fertigen Leiterplatten erhielten, war die gesamte St√ºckliste in unseren H√§nden.  Es bleibt sogar noch Zeit, den Programmierer f√ºr Mikrocontroller langsam zu l√∂ten. <br><br><img src="https://habrastorage.org/webt/ni/go/qo/nigoqohjskm-xouftocvfrydfwa.jpeg"><br><br>  Nach Erhalt der Platinen haben wir ein Testger√§t gel√∂tet.  Da das Programm f√ºr den Mikrocontroller verschoben wurde, bis das fertige Ger√§t empfangen wurde (und das war richtig, ich werde sp√§ter erkl√§ren, warum), haben wir den Mikrocontroller nicht "endg√ºltig" verl√∂tet, sondern ein √úbergangspad hergestellt, in das der Mikroschaltkreis als Gl√ºhbirne in die Patrone eingesetzt werden kann.  Wie erwartet funktionierte das Ger√§t nicht.  Bei genauerer Betrachtung des Ger√§ts (einige Stunden lang) stellten wir einen Fehler fest - die LEDs waren nicht richtig gel√∂tet.  Tatsache ist, dass es bei der Installation von Mikrochips und Elementen mit einer gro√üen Anzahl von Beinen sehr wichtig ist, diese Beine nicht zu verwechseln und das Element richtig zu platzieren.  Zu diesem Zweck verwenden Ingenieure auf der Markierung auf der Leiterplatte einen Schl√ºssel - ein Bild eines Punktes, der mit dem auf dem Chipk√∂rper √ºbereinstimmen muss.  Infolgedessen sieht der L√∂tprozess eines solchen Elements folgenderma√üen aus: Wir kombinieren die Schl√ºssel, l√∂ten ein Bein und l√∂ten alle anderen.  Das Verwirren des Schl√ºssels ist normalerweise mit negativen Konsequenzen behaftet - der Autor dieser Zeilen schob den Mikrocontroller irgendwie auf der falschen Seite in den Programmierer - nach f√ºnf Sekunden roch er in der Luft gebraten, und der Finger, der den Chip ber√ºhrte, bekam einen ordentlichen Brand in der Form des Geh√§uses.  Gl√ºcklicherweise wurde niemand verletzt und nach dem Abk√ºhlen funktionierte auch der Mikrocontroller weiter. <br><br>  Bei der Entwicklung unseres Motherboards haben wir eine selbst erstellte Beschreibung f√ºr LEDs angewendet (Drei-Millimeter-SK6812 sind ziemlich selten als WS2812), und es wurde ein Fehler mit dem Schl√ºssel gemacht.  Daher sollte sich der LED-Schl√ºssel w√§hrend der Installation relativ zum auf der Platine markierten Schl√ºssel auf der anderen Seite befinden.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Testboard ging sicher zum Schrott. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das zweite Testmuster wurde bereits unter Ber√ºcksichtigung dieses Fehlers erstellt. </font><font style="vertical-align: inherit;">Jetzt waren wir sicher, dass unsere Schaltung betriebsbereit war und begannen mit der Programmierung der Firmware. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es sah so aus:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Mikrocontroller-Chip wurde in den Programmierer eingesetzt; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Firmware wurde hineingegossen; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Chip wurde entfernt und in das Ger√§t eingesetzt; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Stromversorgung wurde eingeschaltet und die Funktionsf√§higkeit √ºberpr√ºft. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alles wurde zuerst wiederholt. </font></font></li></ul><br><img src="https://habrastorage.org/webt/bi/ng/bd/bingbd5ygulzpskw2ej_qcfjlxu.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich stelle fest, dass diese Operation manchmal tags√ºber mehrere Dutzend Mal wiederholt werden musste. </font><font style="vertical-align: inherit;">Es war m√∂glich, den Programmierer direkt auf den Chip auf der Platine zu l√∂ten, aber wie Sie sich erinnern, suchen wir nicht nach einfachen Wegen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auch in der Programmierungsphase wurden viele interessante Dinge enth√ºllt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alles begann damit, dass keine der Standardbibliotheken f√ºr die Arbeit mit gesteuerten LEDs funktionierte. Der Grund war nicht an einem Ort, sondern an zwei. Erstens waren die Zeitintervalle f√ºr die Codierung der Steuersignale f√ºr andere Arten von LEDs vorgesehen und stimmten nicht geringf√ºgig mit den in der Dokumentation f√ºr unsere angegebenen √ºberein. Zweitens stellte sich heraus, dass der Mikrocontroller bei Batterieleistung mit einer niedrigeren Frequenz arbeitet und diese standardm√§√üig noch weiter reduzieren kann, um Energie zu sparen (was der Fall ist, wenn er sich in der Batterie befindet), was wiederum zu einer √Ñnderung der Zeitintervalle f√ºr die Steuerung der LEDs f√ºhrt. Ein paar Stunden in einer Umarmung mit einem Oszilloskop halfen, die Bibliothek auf die gew√ºnschten Intervalle abzustimmen, und eine halbe Stunde und ein paar Experimente erm√∂glichten es uns, einen Befehl zu finden, der den Mikrocontroller daran hinderte, die Arbeitsfrequenz zu √§ndern.Als Ergebnis eines mittellangen Kampfes konnten wir die LEDs normalerweise steuern und sie mit den Farben beleuchten, die wir brauchten, und nicht in einer v√∂llig zuf√§lligen Reihenfolge.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die zweite √úberraschung pr√§sentierte einen Lichtsensor. Nachdem wir es programmiert hatten, konnten wir lange Zeit nicht verstehen, warum es keine Reaktion darauf gab, es mit einem Finger (dh vollst√§ndig abgedunkelt) aus dem Wort ‚Äûvollst√§ndig‚Äú zu schlie√üen. Die Antwort kam nach einigen Tagen genauer Betrachtung von Beispielen f√ºr die Arbeit mit solchen Sensoren. Es stellte sich heraus, dass beim Einrichten des analogen Anschlusses, an den der Sensor angeschlossen werden sollte, eine Nummerierung und beim Lesen der Messwerte eine andere verwendet werden musste (ja, ich erinnerte mich auch an den Witz ‚ÄûWow, es gibt einen Fehler in einer Ziffer, aber welchen Unterschied!‚Äú). . Nach dieser Erkenntnis funktionierte alles wie es sollte. Die Firmware wurde geschrieben. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da uns nicht eine und nicht zwei Leiterplatten, sondern zehn auf einmal geschickt wurden (eine wurde, wie wir uns erinnern, entsorgt), l√∂ten wir alle anderen freudig.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es stellte sich heraus, dass das Gesetz der gro√üen Anzahl auch in kleinen Chargen funktioniert - Produktionsfehler traten bei zwei von zehn Platinen auf - unsere chinesischen Kollegen f√ºhrten die elektrische Verbindung zwischen der vorderen und der hinteren Schicht der Platine nicht gut genug durch, so dass aufgrund mangelnder Leistung nichts funktionierte. Gl√ºcklicherweise kann dies leicht durch L√∂ten der Zwischenschichtl√∂cher mit dem Leiter beseitigt werden. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Ger√§te werden zusammengebaut, getestet und zur weiteren Verarbeitung √ºbertragen, um das Aussehen einer fertigen Dekoration zu erhalten. Tats√§chlich haben wir nicht mehr als eine Woche f√ºr die gesamte Entwicklung aufgewendet, aber aufgrund von Ablenkungen f√ºr andere Aufgaben und Erwartungen (Freizeit, Komponenten, Leiterplatten) war dieser gesamte Prozess √ºber ein halbes Jahr verteilt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn jemand interessiert ist - der Quellcode und die Projektmaterialien werden auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github ver√∂ffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Geschichte endet nicht dort. Nach der ersten lehrreichen Erfahrung haben wir mehrere weitere Versionen des Boards erstellt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die zweite Version war in zwei Versionen - mit sechs LEDs in einem Kreis und vier (eine in der Mitte) und unterschied sich darin, dass wir hier die SO-Codierung des Chips verwendeten. Aber hier gab es einige Exzesse - bei der Verkabelung der Platine aufgrund von Verwechslungen in den Namen wurde der falsche Kontaktbereich gew√§hlt und infolgedessen mussten die Chipbeine f√ºr die Installation unter das Geh√§use geschoben werden. Au√üerdem haben sie die Kontakte f√ºr die Firmware und die drei "Power-Signal-Ground" getrennt, um Standorte zu trennen und weitere LEDs als externes Element hinzuf√ºgen zu k√∂nnen.</font></font><br><br><img src="https://habrastorage.org/webt/r9/lj/lc/r9ljlchh7gttw_jiyfdhzhcylq4.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au√üerdem wurde ein weiterer unangenehmer Nachteil festgestellt: Der Meister bat mich, das Brett perfekt rund zu machen (in unserer Version sah es eher aus wie ein Rechteck mit abgerundeten Ecken). Sie √ºberpr√ºften gleichzeitig die chinesische Industrie auf die Herstellung von Leiterplatten mit einer Dicke von weniger als einem Millimeter. Das Ergebnis war vollkommen zufriedenstellend: Als Ersatz f√ºr die Halterungen f√ºr CR2016-Batterien erhielten wir eine noch leichtere Plattform, aus der Sie beispielsweise bereits Ohrringe herstellen k√∂nnen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr die Firmware dieser Ger√§te wurde der Programmierer a la "Collective Farm" auf dem Pogo Pin verwendet. Wie sich herausstellte, blieb das Laden der Firmware immer noch nicht trivial - es war notwendig, die Platine fest an die Stifte zu dr√ºcken, was beim ersten Mal nicht sofort m√∂glich war.</font></font><br><br><img src="https://habrastorage.org/webt/dv/vd/u6/dvvdu6vhiegubulmejwyl220wec.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Apotheose f√ºr die Entwicklung dieses Zweigs der Plattform war die dritte und neueste Version. </font><font style="vertical-align: inherit;">Darin wurden die Kontakte f√ºr die Firmware auf einem separaten flexiblen Kabel angezeigt, eine zus√§tzliche Karte f√ºr den Programmierer wurde bestellt. </font><font style="vertical-align: inherit;">Bei dieser Iteration bewerteten wir den PCBA-Service von Seeedstudio, der Leiterplatten f√ºr uns herstellte. In der chinesischen Industrie wurden die meisten Komponenten montiert. Wir haben den Kontaktstecker f√ºr das Programmierger√§t, den Batteriehalter, den Fotowiderstand und die LEDs eingel√∂tet. Sie wurden nicht gefunden (mit Ausnahme des Fotowiderstands) Komponenten zur Installation verf√ºgbar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Ergebnis sieht ungef√§hr so ‚Äã‚Äãaus: </font></font><br><br><img src="https://habrastorage.org/webt/c8/fq/gj/c8fqgjh5buzgycilsgtg2l2lwxq.jpeg"><br><br><img src="https://habrastorage.org/webt/hh/xb/gz/hhxbgz7hpzidjydb0mskpxyrjl4.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Allgemeinen erwies sich das Projekt als interessant. </font><font style="vertical-align: inherit;">Wie sich herausstellte, k√∂nnen selbst scheinbar einfache Dinge recht komplexe Nuancen im Inneren verbergen, was deutlich gezeigt wurde.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de408073/">https://habr.com/ru/post/de408073/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de408061/index.html">Schallverlust in Knochenleitungskopfh√∂rern am Beispiel von Aftershokz Trekz Titanium</a></li>
<li><a href="../de408063/index.html">Ehre 6A √úberpr√ºfung: Der Budget-Mitarbeiter ist anders</a></li>
<li><a href="../de408065/index.html">Deutsche √Ñrzte haben f√ºr 80% des K√∂rpers eines Kindes transgene Haut gez√ºchtet</a></li>
<li><a href="../de408067/index.html">Von SimCity zu Real Girlfriend: Eine Geschichte von Simulationsspielen, Teil 1</a></li>
<li><a href="../de408071/index.html">Bereits 2500 Online-Shops werden auf den Computern der Besucher abgebaut</a></li>
<li><a href="../de408075/index.html">10 vielversprechende wissenschaftliche Startups des Jahres 2017 laut C & EN</a></li>
<li><a href="../de408077/index.html">Warum iPhone 8 besser ist als iPhone X.</a></li>
<li><a href="../de408079/index.html">Die neue Version des Merlin-Motors f√ºr Falcon 9 ist w√§hrend des Tests explodiert</a></li>
<li><a href="../de408081/index.html">Manchmal funktioniert es nicht</a></li>
<li><a href="../de408083/index.html">Satellitenabh√§ngige Beobachtung in der Zivilluftfahrt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>