<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤳🏻 🔪 🎴 Nuevo en Git 3: cierres 👧 ⛱️ 🌌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Git es un popular sistema de control de versiones. En él, el cambio atómico de uno o más archivos se denomina confirmación, y varias confirmaciones co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nuevo en Git 3: cierres</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445676/"><p>  Git es un popular sistema de control de versiones.  En él, el cambio atómico de uno o más archivos se denomina confirmación, y varias confirmaciones consecutivas se combinan en una rama.  Las ramas se utilizan para implementar nuevas ideas (características). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa5/222/85a/aa522285a7fd7fd5f8c597050956d878.svg"></div><p></p><br><p>  Sucede que la idea resulta ser un callejón sin salida, el desarrollador se apaga de la manera incorrecta y es necesario volver a la versión original, para esto debe olvidarse de la nueva rama y cambiar al desarrollador principal o <strong>maestro</strong> , y luego continuar trabajando como si nada hubiera pasado.  En este caso, el "disparo" se colgará para siempre, como el deseo de eliminarlo.  Pero, ¿cómo eliminarlo si es parte de la historia?  Este proceso muestra los esfuerzos del programador adicto al trabajo, aunque en vano.  ¡Es más fácil informar a las autoridades, porque un resultado fallido también es un resultado! </p><br><p>  Me apresuro a complacer: los desarrolladores de Git en la versión 3 introducirán un nuevo comando para cerrar tales ramas perdidas.  Permítame recordarle que la versión actual actual es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.21.0</a> . </p><br><p>  ¿Cómo utilizar este equipo, qué ofrece y qué piensan las empresas de TI?  El artículo responde a estas y otras preguntas. </p><a name="habracut"></a><br><h2 id="opisanie">  Descripción </h2><br><p>  Ahora puede cerrar una rama fallida con una de las confirmaciones anteriores.  Los arcos de la falla son de color amarillo en las siguientes figuras. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/831/c59/f42/831c59f42a1c28e9316781e918ab5ad2.svg"></div><br><br><p> Aquí commit <code>4</code> es el último para una función fallida.  Estaba cerrado desde el <code>1</code> , y luego regresó al maestro y se fue hacia el otro lado, desde el commit <code>5</code> . </p><br><p>  También puede bloquear el commit en sí mismo, creando así <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bucles</a> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e2/d3b/c7f/6e2d3bc7f118f60d4e3a05762bda92ea.svg"></div><br><br><p>  Puede encerrarse en cualquier confirmación: Smart Git calculará la diferencia y combinará todo correctamente: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/1e3/7e1/61f1e37e1861b8307f715fd3b003fa2c.svg"></div><br><br><h2 id="kak-polzovatsya">  ¿Cómo usarlo? </h2><br><p>  El comando <code>merge</code> no contiene cierres, ya que para el primer caso la rama se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">forjará rápidamente</a> , y para el segundo no hará nada ( <code>git already up to date</code> ). </p><br><p>  Para no cambiar el comportamiento anterior, los desarrolladores decidieron ingresar un comando para cerrar: </p><br><pre> <code class="plaintext hljs">git closure -s $source_commit -d $dest_commit -m $message</code> </pre> <br><p>  El primer argumento <code>-s $source_commit</code> especifica el hash del commit desde el cual realizar el bucle, y el segundo, opcional <code>-d $dest_commit</code> , especifica el commit en el que el bucle debe cerrarse.  Si está ausente, el cierre se produce en la rama de salida actual.  El parámetro <code>-m $message</code> establece que el mensaje de cierre, como la <code>failed feature, revert to origin</code> .  Sin embargo, la <code>--allow-empty-message</code> también está disponible, lo que permite confirmaciones sin texto del mensaje.  Por defecto, Git permite exactamente un cierre para un par de confirmaciones.  Para evitar esta limitación, la opción <code>--allow-multiple-closures</code> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/735/680/0d4735680312484fdb0f59ee1bf3ec56.svg"></div><br><p>  Después de ejecutar el comando, el git mismo calculará los cambios, y en la confirmación final, se verá doble diff: desde la base y las ramas finales.  En general, esta es una diferencia n-dimensional, es decir, puede realizar el cierre tantas veces como desee.  cerrar-confirmar es similar a fusionar-confirmar con la diferencia de que almacena varios mensajes, no uno. </p><br><p>  Desafortunadamente, las GUI existentes para trabajar con Git aún no son totalmente compatibles con los cierres.  La versión de vista previa de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitExtensions</a> crea curvas como una fusión en lugar de un hermoso arco.  Tenga en cuenta el nuevo <code>Closure message</code> <code>Closure diff</code> y los campos de <code>Closure diff</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w0/pn/ny/w0pnny3xyxyhdhr1pk9h8i03whk.png"></div><br><p>  Vale la pena señalar que el equipo de <code>closure</code> siempre cambia la historia (¡Git, ahora Git es una máquina del tiempo completa!), Por lo tanto, ahora puede <code>--force</code> ramas solo con la opción <code>--force</code> , o con la opción segura <code>--force-with-lease</code> . </p><br><p>  Las bases para ramas con bucles también están disponibles, sin embargo, la lógica para contar las confirmaciones en ellas es complicada. </p><br><p>  Además, la opción <code>auto</code> permite cerrar automáticamente todas las ramas antiguas.  En este caso, la confirmación de cierre es aquella desde la que comenzó la ramificación.  Usando complementos para el IDE de Git, los cierres se pueden ejecutar periódicamente.  En GitExtensions, un complemento similar <strong>Eliminar ramas</strong> obsoletas elimina las ramas obsoletas. </p><br><h2 id="mnenie-it-kompaniy">  Opinión de las empresas de TI. </h2><br><p>  Las grandes empresas de TI: Google, Facebook, Apple, DeepMind, Positive Technologies, y especialmente Microsoft, esperan cierres, porque ahora será posible formalizar el ciclo de vida de las sucursales, incluidas las no contiguas. </p><br><p>  Uno de los principales gerentes de Microsoft, Michael Richter, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escribe</a> : </p><br><blockquote>  La nueva característica del git ciertamente reducirá el caos en el mundo del desarrollo de código abierto y no solo.  Nuestros repositorios tienen muchas ramas colgantes.  Por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hay</a> más de 200 en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">vscode</a> , ¡y hay más de 300 en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TypeScript</a> !  Y este no es solo el problema de Microsoft.  Los cierres no solo mejoran la organización, sino que también le permiten seguir el razonamiento del programador, a veces completamente incomprensible incluso para los colegas :) Los cierres me recordaron la película "Regreso al futuro", donde los personajes viajaron al pasado y al futuro.  Me encanta esta película, la revisé varias veces.  Y creo que amaré al git por esto aún más :) </blockquote><br><h2 id="na-zametku">  Nota </h2><br><p>  Si anteriormente el gráfico de confirmación era un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gráfico acíclico dirigido</a> (DAG), entonces los cierres lo extienden a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gráfico dirigido</a> generalizado.  Con Git, será posible describir expresiones regulares en las que los estados son confirmaciones, y el alfabeto es el conjunto de todos los mensajes.  Pero esto huele al centro de "programación anormal", y por lo tanto está más allá del alcance del artículo.  Sin embargo, si está interesado en esto, consulte el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">artículo</a> que describe cómo puede almacenar árboles genealógicos dentro de Git. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/445676/">https://habr.com/ru/post/445676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445666/index.html">Necesitamos un junio listo: enséñalo usted mismo o cómo lanzamos un curso de seminarios para estudiantes</a></li>
<li><a href="../445668/index.html">Neoquest 2019: conexión con el cielo</a></li>
<li><a href="../445670/index.html">Consecuencias de reescribir los componentes de Firefox en Rust</a></li>
<li><a href="../445672/index.html">Catálisis de muones en términos de química cuántica. Parte II: electrónica vs. enlace químico muón</a></li>
<li><a href="../445674/index.html">PVS-Studio para Java sale a la carretera. La siguiente parada es Elasticsearch</a></li>
<li><a href="../445678/index.html">4. Check Point Getting Started R80.20. Instalación e inicialización</a></li>
<li><a href="../445680/index.html">Nueva característica en Git 3: cierres</a></li>
<li><a href="../445682/index.html">PVS-Studio para Java se envía a la ruta. La siguiente parada es Elasticsearch</a></li>
<li><a href="../445684/index.html">UPS monobloque vs modular</a></li>
<li><a href="../445686/index.html">Desarrollo de aplicaciones para un PDA antiguo (Cybiko Xtreme) en 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>