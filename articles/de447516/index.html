<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📰 🏊 🔝 Wie wir CAD COMPASS-3D → Teil 2 übertaktet haben 🗨️ 🏆 ✊🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im letzten Teil haben wir über die Geburt von KOMPAS-3D v18 gesprochen, etwas über die Auswahl von Kriterien und Modellen zum Testen neuer Funktionen,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir CAD COMPASS-3D → Teil 2 übertaktet haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/447516/">  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letzten Teil haben</a> wir über die Geburt von KOMPAS-3D v18 gesprochen, etwas über die Auswahl von Kriterien und Modellen zum Testen neuer Funktionen, und auch das Thema Rendern in der „Basic“ -Version angesprochen. <br>  Fahren wir mit der Geschichte über die Renderoption „Verbessert“ fort. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rg/eh/lx/rgehlxcmqgdhw0tfwtdl_ajgyp8.jpeg"></div><a name="habracut"></a><br><h1>  <font color="#00B2FF">Anrufe zeichnen</font> </h1><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/ld/gb/19/ldgb19esjt6fk41auvk5dirjluy.png"></a>  <b>Alexander Tulup, Programmierer:</b> <br>  „Das Hauptproblem bei der Anzeige großer Szenen ist mit einer großen Anzahl von sogenannten„ Zeichnungsaufrufen “verbunden.  Die alte Version des Renderings basiert auf dem mathematischen Datenmodell.  Daher wurde für jedes Grundelement - Punkte, Kanten, Flächen - eine separate Methode für seine Anzeige aufgerufen. <br><br>  Für jeden Ziehungsaufruf führt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenGL</a> (Treiber) eine Reihe von Überprüfungen durch und übersetzt gleichzeitig die eingehenden Befehle in ein Format, das die Grafikkarte versteht. Danach werden die Anrufe zur Warteschlange hinzugefügt und bereits zur Ausführung gesendet. <br><br><img src="https://habrastorage.org/webt/ei/rd/on/eirdonw__vgqgxcuby2kfglkm9c.png"><br>  <i>GPU-Befehlsübertragungsschema in OpenGL ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle</a> )</i> <br><br>  Mit einer großen Anzahl von Details wächst die Anzahl der Anrufe an die CPU so stark, dass die Daten einfach keine Zeit haben, auf der Grafikkarte anzukommen.  Es kommt vor, dass eine sehr starke Grafikkarte auf die gleiche Weise wie eine mittlere oder schwächere Karte „langsamer“ wird. <br><br>  Sie können damit umgehen, indem Sie die Anzahl der Renderings (Zustandsübergänge) reduzieren - nach Material gruppieren, gemeinsame Geometrie kombinieren ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Instanzen</a> ) usw. <br><br>  Wir sollten nicht vergessen, dass wir von der ganzen Szene nur einen bestimmten Teil davon sehen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier sind Algorithmen zum Erkennen unsichtbarer Objekte</a> anwendbar (Kegelstumpf-Keulen, Okklusions-Keulen usw.). <br><br>  Inspiriert vom Beispiel von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">The Road to One Million Draws</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AZDO</a> haben wir uns für einen eher ungewöhnlichen Weg entschieden: Zustandsänderungen auf der CPU-Seite so weit wie möglich zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">beseitigen</a> .  Jetzt ist fast alles auf der Grafikkarte erledigt.  Alle erforderlichen Attribute werden direkt aus dem Videospeicher übernommen, während vom Shader selbst ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shader</a> ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gezeichnet wird</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dies</a> wurde durch die Erhöhung des Videospeichers ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VRAM</a> ) und das Aufkommen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SSBO ermöglicht</a> . <br><br><img src="https://habrastorage.org/webt/ta/is/xf/taisxf8tjdkcztftev7mbuvxi2m.png"><br>  <i>1.000.000 Würfel</i> <br><br>  Zu den Vorteilen dieses Ansatzes: Die Anzeigegeschwindigkeit ist sehr hoch geworden.  Die Geschwindigkeit wird nur durch die Funktionen der GPU begrenzt, nämlich die Datenmenge, die sie verarbeiten kann. <br><br>  Es ermöglichte auch eine recht effiziente Implementierung von Beschneidungsmechanismen für unsichtbare Objekte.  Die Ergebnisse der Sichtbarkeitsprüfung werden direkt im Videospeicher aufgezeichnet und von dort aus die Zeichenbefehle gebildet.  Auf der CPU-Seite müssen Sie also nicht warten. <br><br>  Einer der Hauptnachteile dieses Ansatzes ist die hohe Komplexität der Entwicklung.  Unter Berücksichtigung des gewählten Ansatzes muss viel neu umgesetzt werden.  Außerdem mussten wir uns häufig mit einer Situation auseinandersetzen, in der der gleiche Shader-Code auf Grafikkarten verschiedener Hersteller unterschiedlich oder gar nicht funktionierte.  Oft wurde dies durch Aktualisieren des Treibers "behandelt", aber manchmal war es nach einem langen Debugging notwendig, den Code neu zu schreiben. <br><br>  Natürlich sind auch die Anforderungen an die Grafikkarte gestiegen.  Die Unterstützung von OpenGL 4.5 ist ein Schlüssel, aber nicht die einzige Voraussetzung. </blockquote>  Nachfolgend präsentieren wir die Ergebnisse der Rendergeschwindigkeit während der Baugruppendrehung.  Denken Sie daran, dass 24 Bilder pro Sekunde (fps) als bequeme Indikatoren für das menschliche Auge gelten. <br><blockquote>  <b>Im Folgenden wurden Messungen an einem PC mit der folgenden Konfiguration durchgeführt:</b> <br>  CPU: Intel Core i7-6700K 4,00 GHz <br>  RAM: 32 GB <br>  GPU: NVidia Quadro P2000 <br>  Betriebssystem: Microsoft Windows 10 x64 Professional </blockquote>  <i>Tabelle 1. Bildrate (Bilder pro Sekunde, fps) bei verschiedenen Modellen.</i>  <i>Mehr ist besser.</i>  <i>Anzeigemodus: Halbton + Drahtmodell, vereinfachter Modus deaktiviert, Anti-Aliasing-Qualität: mittel (MSAA 8x)</i> <br><table><tbody><tr><td rowspan="2">  <b>Modell</b> </td><td rowspan="2">  <b>Menge</b> <b><br></b>  <b>Komponenten</b> </td><td colspan="3">  <b>Bildrate, fps</b> </td></tr><tr><td>  <b>V16.1</b> </td><td>  <b>v17.1</b> </td><td>  <b>v18</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/ls/hl/6s/lshl6shv12lncujsabab3t5ed1c.png" alt="Bild"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auto</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mosaikschleifen</a> <br></td><td>  2764 </td><td>  4.1 </td><td>  4.7 </td><td>  <b>124.9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/_d/4j/bn/_d4jbnztqcslsnedjtneaudg3ey.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PGU-410</a> </td><td>  108337 </td><td>  0,3 </td><td>  0,4 </td><td>  <b>28.6</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/w6/nm/m5/w6nmm5nt369jn5vldy_5faa2iii.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Autokipper</a> </td><td>  17342 </td><td>  1,1 </td><td>  1.4 </td><td>  <b>124.7</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/vb/qs/xz/vbqsxzx8qc1gj8isnfdynncvhy0.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Oberleitungsbus</a> </td><td>  9783 </td><td>  1.9 </td><td>  2,4 </td><td>  <b>124.9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/wp/bv/jm/wpbvjmjl094bur5ajdkwgpjf7z8.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nord Gezeiten</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kraftwerk</a> </td><td>  48445 </td><td>  0,3 </td><td>  0,5 </td><td>  <b>76.1</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installation</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vakuumtechnologie</a> </td><td>  7189 </td><td>  1.9 </td><td>  2,3 </td><td>  <b>124.9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schiffsreduzierer</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kraftwerk</a> </td><td>  6414 </td><td>  2.6 </td><td>  3.6 </td><td>  <b>123.9</b> </td></tr></tbody></table><br><br><h3>  <font color="#00B2FF">Hinzufügen von Komponenten zu einer großen Baugruppe</font> </h3><br>  Das Szenario mit dem Hinzufügen von Komponenten zu einer großen Baugruppe entwickelte sich schließlich zum sogenannten komplexen Test, der in Tabelle 2 beschrieben ist. <br><br>  <i>Tabelle 2. Szenario mit Hinzufügen von Komponenten zu einer großen Baugruppe.</i>  <i>Testkriterien.</i> <br><table><tbody><tr><td>  <b>Kriterium</b> </td><td>  <b>Kriterium Beschreibung</b> </td></tr><tr><td>  Geschwindigkeit beim Öffnen von Dateien </td><td>  <i>Die der Baugruppe hinzugefügte Komponente muss von der Festplatte geladen werden</i> </td></tr><tr><td>  Geschwindigkeit rendern </td><td>  <i>Die Baugruppe und die eingefügte Komponente müssen positioniert sein. Dazu müssen Sie das Bild drehen / verschieben / zoomen</i> </td></tr><tr><td>  Objektauswahlgeschwindigkeit </td><td>  <i>Um Partner zu erstellen, müssen Sie die grundlegenden Objekte auswählen: Flächen, Ebenen, Kanten usw.</i> </td></tr><tr><td>  Synchronisationsgeschwindigkeit mit dem Build-Baum </td><td>  <i>Die der Baugruppe und ihren Schnittstellen hinzugefügte Komponente muss im Konstruktionsbaum dargestellt werden</i> </td></tr><tr><td>  Spezifikationsmodul Synchronisationsgeschwindigkeit </td><td>  <i>Die der Baugruppe hinzugefügte Komponente muss in der Spezifikation berücksichtigt werden.</i> </td></tr></tbody></table><br>  In der Tabelle sehen Sie die Punkte (Zeichnen, Öffnen), die von Anfang an als separate Beschleunigungsrichtungen ausgewählt wurden.  Verbesserungen erforderten jedoch andere Komponenten. <br><br>  Die Synchronisation mit einem Baum nahm erhebliche Zeit in Anspruch.  Wir haben das Problem durch die Implementierung eines Teilupdates gelöst. <br><br>  Eine weitere Schwierigkeit war der signifikante Einfluss der Spezifikation auf die Leistung von KOMPAS-3D.  In einigen komplexen Testszenarien war diese Komponente die Hauptkomponente (50% oder mehr). <br><div class="spoiler">  <b class="spoiler_title">Spezifikation</b> <div class="spoiler_text"><blockquote>  Die Spezifikation ist das KOMPAS-3D-Systemmodul, das für die Erstellung des gleichnamigen Konstruktionsdokuments verantwortlich ist.  Es wird von einem separaten Team entwickelt. <br><br>  Insbesondere beschleunigte das Team die Synchronisation während des Einfügens, indem es die internen Mechanismen des Spezifikationsmoduls neu gestaltete. </blockquote><br></div></div><br><h3>  <font color="#00B2FF">Einige Ergebnisse</font> </h3><br>  Fügen Sie der Baugruppe "Reduzierer des Schiffskraftwerks" Komponenten hinzu. <br><br><img src="https://habrastorage.org/webt/oh/zs/d-/ohzsd-w4xu3jcz-zko7iein1t8g.png"><br>  <i>Umfassender Test für die Baugruppe "Reduzierstück eines Schiffskraftwerks".</i> <i><br></i>  <i>Die Zahlen zeigen: 1 - Halterung, 2 - Unterlegscheibe, 3 - Schraube.</i> <br><br>  <i>Tabelle 3. Einfügungszeit von Komponenten in einer großen Baugruppe in Sekunden.</i>  <i>Weniger ist besser.</i> <br><table><tbody><tr><td rowspan="2">  <b>Komponente</b> </td><td colspan="2" rowspan="2">  <b>Aktion</b> </td><td colspan="3">  <b>Zeit s</b> </td></tr><tr><td>  <b>V16.1</b> </td><td>  <b>v17.1</b> </td><td>  <b>v18</b> </td></tr><tr><td rowspan="13">  Einfügen <br>  Komponente <br>  Halterung <br><br><img src="https://habrastorage.org/webt/0_/uh/gz/0_uhgzadc0r1vpwsjdijjrsx-qa.png"></td><td colspan="2">  Laden </td><td>  <b>2.0</b> </td><td>  3.0 </td><td>  2.2 </td></tr><tr><td colspan="2">  Wechseln Sie in den Pairing-Modus </td><td>  0,6 </td><td>  0,4 </td><td>  0,4 </td></tr><tr><td rowspan="3">  Erste Paarung </td><td>  Erste Objektauswahl </td><td>  0,4 </td><td>  1,0 </td><td>  <b>0,2</b> </td></tr><tr><td>  Die Wahl des zweiten Objekts </td><td>  0,5 </td><td>  1,1 </td><td>  <b>0,2</b> </td></tr><tr><td>  Wählen Sie die richtige Paarung </td><td>  3.8 </td><td>  3.6 </td><td>  <b>1,0</b> </td></tr><tr><td rowspan="3">  Zweite Paarung </td><td>  Erste Objektauswahl </td><td>  0,5 </td><td>  1.4 </td><td>  0,5 </td></tr><tr><td>  Die Wahl des zweiten Objekts </td><td>  0,5 </td><td>  1.4 </td><td>  <b>0,2</b> </td></tr><tr><td>  Wählen Sie die richtige Paarung </td><td>  3.6 </td><td>  3.0 </td><td>  <b>1,2</b> </td></tr><tr><td rowspan="3">  Dritte Paarung </td><td>  Erste Objektauswahl </td><td>  0,5 </td><td>  0,5 </td><td>  0,5 </td></tr><tr><td>  Die Wahl des zweiten Objekts </td><td>  0,3 </td><td>  1,1 </td><td>  0,3 </td></tr><tr><td>  Wählen Sie die richtige Paarung </td><td>  3,7 </td><td>  3.2 </td><td>  <b>1,1</b> </td></tr><tr><td colspan="2">  Bestätigen Sie die Erstellung des Insert </td><td>  7.8 </td><td>  5.2 </td><td>  <b>2,3</b> </td></tr><tr><td colspan="2">  Total Bracket Insert </td><td>  24.2 </td><td>  24.6 </td><td>  <b>10.1</b> </td></tr><tr><td rowspan="4">  Einfügen <br>  Unterlegscheiben <br>  aus der Bibliothek <br>  Standard <br>  Produkte <br><br><img src="https://habrastorage.org/webt/ch/hm/6g/chhm6g-guxcbwvetqsd5teyb3os.png"><br><br></td><td colspan="2">  Erste Paarungsauswahl </td><td>  6.4 </td><td>  2,4 </td><td>  <b>0,4</b> </td></tr><tr><td colspan="2">  Auswahl des zweiten Paares </td><td>  4.2 </td><td>  3,1 </td><td>  <b>0,4</b> </td></tr><tr><td colspan="2">  Bestätigen Sie die Erstellung des Insert </td><td>  15.7 </td><td>  9.2 </td><td>  <b>4.4</b> </td></tr><tr><td colspan="2">  Insgesamt für Einsatzscheiben </td><td>  26.3 </td><td>  14.7 </td><td>  <b>5.2</b> </td></tr><tr><td rowspan="13">  Einfügen <br>  Schrauben <br><br><img src="https://habrastorage.org/webt/14/lp/ro/14lproscfkxs7g82wmaemf0ncbe.png"></td><td colspan="2">  Laden </td><td>  2.0 </td><td>  2.7 </td><td>  2.0 </td></tr><tr><td colspan="2">  Wechseln Sie in den Pairing-Modus </td><td>  0,5 </td><td>  0,5 </td><td>  0,5 </td></tr><tr><td rowspan="3">  Erste Paarung </td><td>  Erste Objektauswahl </td><td>  0,4 </td><td>  1,0 </td><td>  <b>0,2</b> </td></tr><tr><td>  Die Wahl des zweiten Objekts </td><td>  0,4 </td><td>  1,1 </td><td>  <b>0,2</b> </td></tr><tr><td>  Wählen Sie die richtige Paarung </td><td>  3.4 </td><td>  2.7 </td><td>  <b>1,0</b> </td></tr><tr><td rowspan="3">  Zweite Paarung </td><td>  Erste Objektauswahl </td><td>  0,4 </td><td>  1,2 </td><td>  0,4 </td></tr><tr><td>  Die Wahl des zweiten Objekts </td><td>  0,5 </td><td>  0,5 </td><td>  <b>0,4</b> </td></tr><tr><td>  Wählen Sie die richtige Paarung </td><td>  3,7 </td><td>  2.9 </td><td>  <b>1,0</b> </td></tr><tr><td rowspan="3">  Dritte Paarung </td><td>  Erste Objektauswahl </td><td>  0,5 </td><td>  1,0 </td><td>  0,5 </td></tr><tr><td>  Die Wahl des zweiten Objekts </td><td>  0,5 </td><td>  1,0 </td><td>  <b>0,2</b> </td></tr><tr><td>  Wählen Sie die richtige Paarung </td><td>  4.2 </td><td>  3.9 </td><td>  <b>1,2</b> </td></tr><tr><td colspan="2">  Bestätigen Sie die Erstellung des Insert </td><td>  32,5 </td><td>  5,4 </td><td>  <b>2.2</b> </td></tr><tr><td colspan="2">  Insgesamt für das Einsetzen der Schrauben </td><td>  49 </td><td>  21,2 </td><td>  <b>9.8</b> </td></tr><tr><td colspan="3">  <i><b>Das vollständige Einfügen der drei Komponenten</b></i> </td><td>  <i>99,5</i> </td><td>  <i>60.5</i> </td><td>  <b><i>25.1</i></b> </td></tr></tbody></table><br><br>  Ein umfassender Test kann als eines der Bearbeitungsszenarien der Baugruppe betrachtet werden (aus der Anzahl der gängigen). <br><br>  Darüber hinaus wurde der Wiederaufbau der Baugruppe beschleunigt.  Wenn Sie jetzt einen Vorgang bearbeiten, wird die gesamte Baugruppe nicht vollständig neu erstellt - nur die geänderten Objekte werden aktualisiert.  Um die abhängigen Operationen zu bestimmen, dh jene Operationen, deren Ergebnis durch das Ergebnis der geänderten Operation beeinflusst werden könnte, wird ein spezieller Algorithmus verwendet, der Verbindungen zwischen Operationen, Körpern und Einfügungen herstellt. <br><br><h3>  <font color="#00B2FF">Baugruppen öffnen</font> </h3><br>  Die Hauptidee, um das Lesen von Dateien zu beschleunigen, besteht darin, KOMPAS-3D so zu gestalten, dass nur das gelesen wird, was der Benutzer gerade benötigt. <br><br>  Zum Beispiel: <br><br><ul><li>  schreibgeschützte aktuelle Ausführung für Baugruppeneinsätze, </li><li>  Lesen Sie für Download-Typen nur die erforderlichen Informationen: Triangulation oder Triangulation + Ergebnisse ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">B-rep</a> ). </li></ul><br>  All dies erforderte eine Verfeinerung der Datenstruktur in der Datei, damit ihre einzelnen Teile gelesen werden konnten. <br><br><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/br/cu/ku/brcukuey6fmjicbcsx2tibjhjhw.png"></a>  <b>Anton Sidyakin, Programmierer, Teamleiter:</b> <br><br>  „Die KOMPAS-3D-Datei ist seit einiger Zeit ein Archiv, in dem mehrere Servicedateien zusammengefasst sind.  Eine davon enthält Modell- / Baugruppendokumentdaten, die in einer Baumstruktur organisiert sind.  Die Möglichkeit, in dieser Struktur zu navigieren, war bereits vorhanden.  Zum teilweisen Lesen war es notwendig, die Unabhängigkeit der Teile voneinander zu gewährleisten.  Daher sollten die erhaltenen Teile nicht aufeinander bezogen sein, da sonst der Teil mit dem Link "minderwertig" geworden wäre. <br><br>  Infolgedessen war es für Details möglich, die Leistung vom Dokument und voneinander zu trennen.  In Baugruppen wird der Behälter für Einsätze und Partner separat hervorgehoben.  Innerhalb der Ausführungen war es auch möglich, die Anfangsdaten für die Konstruktion und die Ergebnisse in Form von Triangulation und Körpern zu trennen. <br><br><img src="https://habrastorage.org/webt/yh/h3/kc/yhh3kchzbyacjohgjlzvu1laoz4.png"><br><br>  Wenn es sich um vereinfachte Ladetypen handelt, wird die bearbeitbare Baugruppe vollständig geladen, und nur die Triangulation und je nach Typ die Grenzdarstellung (B-rep) werden aus ihren Einfügungen geladen.  Das Anzeigen von Einfügungen mit geänderten externen Variablen in diesem Modus stellte einige Schwierigkeiten dar, da sie zuvor im laufenden Betrieb durch erneutes Erstellen während des Lesens erhalten wurden und bei vereinfachten Ladetypen keine Daten dafür vorliegen.  Die Lösung bestand darin, die Ergebnisse des Wiederaufbaus solcher Einsätze in die Baugruppe aufzuschreiben.  Dies gab Beschleunigung und aufgrund des Mangels an Wiederaufbau. <br><br>  Die beschriebene Aufteilung des Dokuments in Teile erlaubte das Laden nur der in den Beilagen ausgewählten Leistungen in die Baugruppe. </blockquote>  Das teilweise Lesen beschleunigte nicht nur das Öffnen von Dateien, sondern reduzierte auch den Ressourcenverbrauch - vor allem den Arbeitsspeicher. <br><br>  Basierend auf den Verbesserungen erschien eine neue Art der Baugruppenbelastung - "Teilweise".  Bei dieser Art des Ladens werden nur Ergebnisse (Körper, Flächen) und Triangulationen von der Datei abgezogen.  Das teilweise Laden ermöglicht das Erstellen von Paarungen und ist in Bezug auf die Funktionalität dem vollständigen Laden von Komponenten nahe. <br><br>  Nach der Implementierung von Verbesserungen beim teilweisen Lesen wird die Erstellung benutzerdefinierter Ladetypen vielversprechend. <br><br><div class="spoiler">  <b class="spoiler_title">Hinweis</b> <div class="spoiler_text"><blockquote>  Benutzerdefinierte Starttypen sind Kombinationen von Systemmethoden zum Laden einer Komponente.  Diese Funktion ist nicht neu, aber Verbesserungen in Version 18 ermöglichen es Ihnen, erhebliche Vorteile aus ihrer Verwendung zu ziehen. </blockquote><br></div></div><br>  Für Komponenten, die für zukünftige Builds nicht wichtig sind, kann der Lasttyp "Leer" angewendet werden.  Dies können Komponenten sein, die in anderen verborgen sind („vnutryanka“).  In Version 18 werden Komponenten (und ganze Baugruppen) mit dem Starttyp "Leer" fast sofort geöffnet. <br><br>  <i>Tabelle 4. Öffnungszeiten für Baugruppen mit den Starttypen "Leer" und "Dimension" in Sekunden.</i>  <i>Weniger ist besser.</i> <br><table><tbody><tr><td rowspan="2">  Modell </td><td rowspan="2">  Download-Typ </td><td colspan="3">  Öffnungszeit, s </td></tr><tr><td>  V16.1 </td><td>  v17.1 </td><td>  v18 </td></tr><tr><td rowspan="2"><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installation</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vakuumtechnologie</a> </td><td>  Leer </td><td>  12.8 </td><td>  11.7 </td><td>  <b>2,5</b> </td></tr><tr><td>  Größe </td><td>  21,2 </td><td>  20.8 </td><td>  <b>2.6</b> </td></tr><tr><td rowspan="2"><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schiffsreduzierer</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kraftwerk</a> </td><td>  Leer </td><td>  31,0 </td><td>  15.9 </td><td>  <b>7.2</b> </td></tr><tr><td>  Größe </td><td>  371.5 </td><td>  114.8 </td><td>  <b>7.3</b> </td></tr></tbody></table><br><br>  Die verbleibenden Komponenten, die zum Verständnis des Erscheinungsbilds des Produkts benötigt werden oder als Stützobjekte für die weitere Konstruktion verwendet werden, können „voll“ oder „teilweise“ geladen werden. <br><br>  Als Werkzeug zum Vorbereiten benutzerdefinierter Starttypen können Sie mit neuen Befehlen „unsichtbare“ Komponenten auswählen.  Wir wenden den Befehl an und verwenden dann das Kontextmenü, um die Art des Ladens für die ausgewählten Komponenten in "Leer" zu ändern. <br><br><h3>  <font color="#00B2FF">Projektion</font> </h3><br>  Bei der Beschleunigung der Projektion haben wir uns die Frage gestellt, die am Eingang des mathematischen Kerns empfangenen Daten zu filtern. <br><br>  Zunächst haben wir uns entschlossen, unsichtbare Komponenten / Körper zu filtern.  Zu diesem Zweck wurde der Okklusions-Keulungsmechanismus verwendet, mit dem Sie herausfinden können, ob der zu projizierende Körper sichtbar ist oder sich schließt und sich in einem anderen Körper befindet.  Dieser Vorgang wird an der Seite der Grafikkarte ausgeführt. <br><br>  Der größte Effekt wird beim Erstellen von Projektionen von Modellen mit einer großen Anzahl von Komponenten erzielt, die in geschlossenen Volumes versteckt sind, zum Beispiel: <br><br><ul><li>  komplexe Antriebe, Getriebe usw. </li><li>  Verkehrsmittel, </li><li>  Gebäude </li><li>  Schränke mit elektrischer Ausrüstung. </li></ul><br>  Für die Aufnahme ist die Option "Grobe Projektion" verantwortlich.  Der Name ist kein Zufall - relativ kleine Teile (z. B. ein Bolzen im Maßstab eines Kraftwerks) dürfen nicht im Montagemaßstab projiziert werden.  Für viele Benutzer ist dieser Sachverhalt geeignet, insbesondere bei der Erstellung von Maßzeichnungen und allgemeinen Zeichnungen. <br><br><div class="spoiler">  <b class="spoiler_title">Lesen Sie mehr über die Option Grobe Projektion.</b> <div class="spoiler_text"><blockquote>  Die Option ist nur für Standardprojektionen verfügbar.  Für die Angabe von Bildern (Abschnitte, Abschnitte, Remote-Ansichten) ist "Grobe Projektion" nicht erforderlich. </blockquote><br></div></div><br>  Auch ohne diese Option ist die Projektion im Vergleich zu V16 und V17 spürbar schneller.  Dies wurde durch Verbesserungen auf der Seite des mathematischen Kerns unterstützt. <br><br>  <i>Tabelle 5. Zeit zum Erstellen von drei Standardprojektionen in Sekunden.</i>  <i>Weniger ist besser.</i> <br><table><tbody><tr><td rowspan="2">  Modell </td><td colspan="4">  Zeit, drei Standardprojektionen zu erstellen, s </td></tr><tr><td>  V16.1 </td><td>  v17.1 </td><td>  v18 <br>  Inbegriffen <br>  Entwurf <br>  Projektion </td><td>  v18 <br>  Aus <br>  Entwurf <br>  Projektion </td></tr><tr><td><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installation</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vakuumtechnologie</a> </td><td>  124.1 </td><td>  47.5 </td><td>  <b>12.9</b> </td><td>  34.6 </td></tr><tr><td><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schiffsreduzierer</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kraftwerk</a> </td><td>  256 </td><td>  410 </td><td>  <b>38,4</b> </td><td>  54,4 </td></tr><tr><td><img src="https://habrastorage.org/webt/bi/nn/nl/binnnlusnbewy71vya0vorxubpg.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mehrzweck</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vereinheitlicht</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kastenkörper</a> </td><td>  99,9 </td><td>  123,4 </td><td>  <b>44.9</b> </td><td>  53.5 </td></tr></tbody></table><br><br>  Ebenfalls in Version 18 wurde die Möglichkeit des Wiederaufbaus einzelner assoziativer Arten implementiert. <br><br>  In einer Zeichnung mit vielen assoziativen Ansichten hat der Benutzer die Möglichkeit, einzelne irrelevante Ansichten neu zu erstellen.  Zum Beispiel die, zu der er Anmerkungen hinzufügen möchte.  Sie können auch die Ansichten angeben, die mit aktivierter Option "Grobe Projektion" erstellt wurden. <br><br><div class="spoiler">  <b class="spoiler_title">Erstellen Sie eine einzelne Ansicht neu</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/og/nk/em/ognkemiqn2re1hneq0cbw4rcjgy.png"><br></div></div><br>  Diese Funktion gilt nicht für explizite Beschleunigungen, ermöglicht dem Benutzer jedoch Zeitersparnis. <br><br>  Das Ergebnis der Arbeiten zur Beschleunigung der Projektion des Modells Vakuumtechnologische Installation in der Zeichnung: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P2kloyNOedE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nächsten Teil werden</a> wir beschreiben, wie wir die Berechnung der Massenzentrierungseigenschaften (MTC) beschleunigt haben, über den Beitrag des geometrischen Kerns von c3dlabs zur COMPAS-3D- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Leistung</a> , Änderungen im C3D-Modeler und darüber, welche Hardware für v18 geeignet ist.</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447516/">https://habr.com/ru/post/de447516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447502/index.html">So erstellen Sie einen Lebenslauf für ausländische IT-Unternehmen</a></li>
<li><a href="../de447508/index.html">Sergey Zonov: „Ich habe das erste Spektrum gemacht, weil ich interessiert war.“</a></li>
<li><a href="../de447510/index.html">GeekUniversity eröffnet die Registrierung in der Designabteilung</a></li>
<li><a href="../de447512/index.html">Und wer hat das getan? Automatisieren Sie das Audit der Informationssicherheit</a></li>
<li><a href="../de447514/index.html">7 Interessante Startups im IoT</a></li>
<li><a href="../de447520/index.html">Auto Tiering-Funktionen im Qsan XCubeSAN-Speicher</a></li>
<li><a href="../de447522/index.html">Welche nützlichen Dinge können aus den Protokollen einer Windows-basierten Workstation abgerufen werden?</a></li>
<li><a href="../de447526/index.html">Eigenes Fahrrad zum Synchronisieren von MariaDB und Sphinx</a></li>
<li><a href="../de447528/index.html">Wer ist für die Qualität verantwortlich?</a></li>
<li><a href="../de447530/index.html">OceanLotus: Malvari-Update für macOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>