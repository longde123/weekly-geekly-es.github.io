<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì≤ üçã üöÇ Comment ne pas d√©velopper un projet sur Bitrix üë®‚Äçüë®‚Äçüëß‚Äçüëß üå∫ üñêüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendant tout le temps de mon travail avec Bitrix, j'ai eu l'opportunit√© de travailler avec un tr√®s grand nombre de projets que quelqu'un a d√©velopp√©s ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment ne pas d√©velopper un projet sur Bitrix</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418245/">  Pendant tout le temps de mon travail avec Bitrix, j'ai eu l'opportunit√© de travailler avec un tr√®s grand nombre de projets que quelqu'un a d√©velopp√©s avant moi.  Voici des am√©liorations mineures, correction de divers bugs et erreurs de logique, refonte du site Web et modifications globales des fonctionnalit√©s existantes.  Et, comme tout autre d√©veloppeur, je d√©teste ratisser les poubelles, les b√©quilles et les correctifs ¬´temporaires¬ª de quelqu'un d'autre, qui sont en fait rappel√©s par une autre 8 √©dition du produit. <a name="habracut"></a><br><br>  Ici, j'essaierai de ne pas me concentrer sur les ¬´pires pratiques¬ª standard lors de la programmation en PHP, telles que le non-respect du choix des noms et des fonctions des variables, les requ√™tes de base de donn√©es inutiles dans une boucle, le manque de v√©rification des donn√©es utilisateur dans les formulaires, l'ignorance des commentaires et autres.  Je vais essayer de toucher exactement les moments inh√©rents au d√©veloppement sur Bitrix, qui permettront par la suite d'√©viter l'indignation et les mal√©dictions contre vous de la part du programmeur qui devait accompagner votre code.  Et oui, vous deviendrez souvent ce programmeur vous-m√™me dans un an, ou plus, lorsque vous oublierez compl√®tement pourquoi vous avez ins√©r√© telle ou telle b√©quille ici. <br><blockquote>  ¬´√âcrivez le code comme s'il serait accompagn√© d'un psychopathe violent qui sait o√π vous vivez¬ª (c) John F. Woods </blockquote>  Le premier, et le plus, √† mon avis, important - pour l'amour du ciel, <b>utilisez le dossier local</b> .  C'est tout simplement vital lorsque vous utilisez le syst√®me de contr√¥le de version - tout ce que vous avez √† faire est d'ajouter le dossier / bitrix / aux exceptions.  C‚Äôest tout.  De plus, presque tout le d√©veloppement n'est effectu√© qu'en lui.  Cela simplifie consid√©rablement la recherche des fichiers et composants n√©cessaires par la suite, aide √† ne pas obstruer le r√©f√©rentiel avec des fichiers inutiles, et en effet - il donne √† l'arborescence du projet une apparence plus ¬´humaine¬ª. <br><br>  <b>Ne modifiez pas le noyau</b> .  M√™me si vous √™tes s√ªr qu'il ne sera pas mis √† jour.  M√™me si c'est plus rapide.  M√™me si vous √™tes paresseux.  Oubliez cette pens√©e comme un cauchemar.  Si vous devez modifier la logique d'un composant standard, transf√©rez-le dans le nouvel espace de noms / local / components / modify / et travaillez avec.  Il en va de m√™me pour les modules, gadgets et activit√©s des processus m√©tier. <br><br>  <b>Ne salissez pas le fichier init.php</b> .  Combinez des fonctions pour travailler avec un module sp√©cifique ou une fonction dans une classe, √©crivez cette classe enti√®re dans un fichier s√©par√©, et dans init.php, incluez simplement ces fichiers et √©crivez des gestionnaires d'√©v√©nements.  J'ai rencontr√© des fichiers init.php de 500 Ko chacun, o√π les fonctions, la d√©finition des constantes, les classes et l'initialisation des gestionnaires √©taient m√©lang√©es dans un d√©sordre.  Bien s√ªr, quand j'ai d√ª comprendre ces fichiers, j'ai maudit mes pr√©d√©cesseurs. <br><br>  Le paragraphe suivant ne concerne pas le cas du d√©veloppement de solutions pr√™tes √† l'emploi pour la Marketplace, lorsque l'objectif est de rendre la fonctionnalit√© la plus personnalisable de la partie publique pour l'utilisateur final.  Si vous travaillez sur un projet sp√©cifique, sur un mandat sp√©cifique - <b>n'essayez pas de cr√©er un mod√®le unifi√© pour le composant pour toutes les occasions</b> .  Personnellement, j'adh√®re √† une philosophie - il vaut mieux avoir quelques mod√®les simples qui sont utilis√©s √† des fins diff√©rentes de celui universel, mais dans lequel le diable se cassera la jambe plus tard.  Bien s√ªr, dans chaque cas, vous devez vous appuyer sur ce qui est - les termes de r√©f√©rence, les options de mise en ≈ìuvre, etc., mais vous ne devez pas oublier le rasoir d'Occam.  √Ä titre d'exemple, je vais vous donner un projet d'une soci√©t√© de cr√©dit-bail, que j'ai √©dit√©.  Le projet lui-m√™me, bien s√ªr, a √©t√© mis en ≈ìuvre horriblement; √† la grande horreur, il √©tait dans les pages d'une section du catalogue de services.  Chacune des cinq sections avait sa propre disposition, sur laquelle la position des blocs sur la page et, en principe, la pr√©sence de certains d'entre eux diff√©raient.  Et pour les cinq pages, un mod√®le a √©t√© utilis√© avec un tas d'if-else, la duplication des appels de composants, les styles de connexion et les scripts, qui, de plus, √©taient p√©riodiquement en conflit les uns avec les autres.  En cons√©quence - un √©norme fichier dans lequel comprendre "sans une pinte" √©tait comme la mort.  Bien que, semble-t-il, qu'est-ce qui vous a emp√™ch√© de cr√©er 5 mod√®les diff√©rents et de ne pas cr√©er de difficult√©s √† l'improviste? <br><br>  <b>Utilisez l'API</b> .  Ne r√©inventez pas la roue l√† o√π elle n'est pas n√©cessaire.  Utilisez la documentation - l'ensemble du produit est assez bien d√©crit, et chaque fonction peut √©galement √™tre consult√©e en d√©tail sur bxapi.ru. <br><br>  <b>√âvitez les requ√™tes de base de donn√©es directes</b> .  Ceci est un cas particulier du paragraphe pr√©c√©dent - utilisez l'API.  Les demandes h√¢tives et non s√©curis√©es peuvent entra√Æner une corruption, une perte ou m√™me un compromis des donn√©es. <br><br>  <b>N'utilisez pas de composants CNC depuis la racine du site</b> .  Les cons√©quences, en r√®gle g√©n√©rale, sont plut√¥t tristes, car la CNC utilise un fichier de gestionnaire d'adresses, une tentative de l'utiliser √† partir de la racine casse facilement l'adresse d'autres composants, ainsi que 404 pages.  Il n'y aura rien de mal si les articles que vous avez sont adress√©s au dossier / articles / et que les produits sont relatifs √† / catalogue /. <br><br>  <b>Connectez css et js √† l'aide de l'API.</b>  Je vois toujours des scripts et des feuilles de style utilisant des balises html partout.  Utilisez l'objet de classe \ Bitrix \ Main \ Page \ Asset et les fonctions addJs () et addCss ().  Cela permettra de combiner des fichiers et, par la suite, de les mettre en cache en un clic de la case √† cocher dans les param√®tres du module principal <br><br>  Et enfin, l'erreur concerne non seulement Bitrix, mais c'√©tait d√©j√† trop douloureux pour moi de rencontrer des probl√®mes qui lui sont associ√©s.  <b>V√©rifiez pour annuler le tableau avec les r√©sultats de la s√©lection</b> .  Par exemple, la derni√®re fois que j'ai rencontr√© ce probl√®me, c'√©tait lorsque je travaillais avec une boutique en ligne.  Plainte: les pages se chargent parfois pendant 16 secondes.  Ce qui est li√© √† n'est pas clair.  Par essais et erreurs, j'ai d√©couvert que les pages sont charg√©es ind√©cemment longtemps uniquement lorsque le panier est vide.  Il semblait, pourquoi?  Il s'est av√©r√© qu'une fen√™tre contextuelle est apparue dans le panier en vol stationnaire, dans laquelle des images des marchandises plac√©es dans le panier ont √©t√© affich√©es.  Eh bien, qu'a fait le d√©veloppeur pr√©c√©dent?  J'ai pris le r√©sultat du composant "petit panier" et dans le fichier result_modifier.php j'ai fait un appel GetList () pour que les marchandises s√©lectionnent des images avec un filtre dans le tableau des ID de produit, puis j'ai ajout√© des images src des r√©sultats de la s√©lection au tableau du produit correspondant.  Par cons√©quent, lorsqu'il n'y avait aucune marchandise dans le panier, le filtre est rest√© vide et le catalogue ENTIER des marchandises est tomb√© dans la s√©lection.  Eh bien, puis un cycle pour chacun et ... nous avons ce que nous avons.  Il est clair qu'au stade de d√©veloppement des produits d'essai 15, cela √©tait imperceptible et des probl√®mes se posaient d√©j√† dans des conditions de combat.  Bien qu'il semble que cela valait la peine de mettre le ch√®que √† vide ($ arResult ['ITEMS']) ... <br><br>  C'est l√† que je termine ma ¬´pire pratique¬ª personnelle concernant le d√©veloppement Bitrix.  Si au moins quelqu'un, ces informations aideront √† √©viter les erreurs √† l'avenir et √† am√©liorer son style de d√©veloppement, ce n'√©tait pas en vain. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418245/">https://habr.com/ru/post/fr418245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418235/index.html">Saga orchestr√©e ou comment cr√©er des transactions commerciales dans les services avec la base de donn√©es par mod√®le de service</a></li>
<li><a href="../fr418237/index.html">D√©veloppement d'applications multi-locataires sur la plateforme cloud SAP dans Neo, partie 2: autorisation et authentification</a></li>
<li><a href="../fr418239/index.html">48 m√©gapixels pour smartphone</a></li>
<li><a href="../fr418241/index.html">Pourquoi Gauss? (100 fa√ßons de r√©soudre le syst√®me d'√©quations)</a></li>
<li><a href="../fr418243/index.html">L'histoire populaire de l'astronomie est fausse</a></li>
<li><a href="../fr418247/index.html">Acc√©l√©rez la multiplication de la matrice flottante 4x4 avec SIMD</a></li>
<li><a href="../fr418249/index.html">Nouvelles images de machine virtuelle Google Compute Engine pour le Deep Learning</a></li>
<li><a href="../fr418251/index.html">Vision par ordinateur: comment l'IA nous regarde</a></li>
<li><a href="../fr418253/index.html">La premi√®re lune pourrait avoir de l'eau, de l'atmosph√®re et de la vie</a></li>
<li><a href="../fr418255/index.html">Comment les √©changes de trafic revendent l'autosurfing et d'o√π viennent des millions de bots en ligne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>