<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“Ÿ ğŸ’‡ğŸ½ ğŸ‘°ğŸ» æˆ‘ä»¬ä½¿ç”¨Fastlaneè‡ªåŠ¨ç»„è£…iOSåº”ç”¨ç¨‹åº ğŸ‡ ğŸ‘¨ğŸ»â€ğŸ¤ ğŸ¿ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="iOSå¼€å‘äººå‘˜å¿…é¡»å¤šä¹…æ„å»ºä¸€æ¬¡åº”ç”¨æ‰èƒ½ä¸‹è½½  iTunesè¿æ¥  App Store Connect ï¼Ÿ åœ¨åº”ç”¨ç¨‹åºçš„æ´»åŠ¨Betaæµ‹è¯•é˜¶æ®µï¼Œæ‚¨éœ€è¦å¿«é€Ÿä¿®å¤é”™è¯¯å¹¶äº¤ä»˜æ›´æ–°çš„ç¨‹åºé›†ä»¥è¿›è¡Œæµ‹è¯•ã€‚ å¯¹äºæ¯ä¸ªæ–°ç‰ˆæœ¬ï¼Œè¿˜å¿…é¡»ä¸‹è½½è¯ä¹¦ï¼ŒProvisioné…ç½®æ–‡ä»¶ï¼Œå•å‡»è®¸å¤šä¸åŒçš„å¤é€‰æ ‡è®°å’ŒæŒ‰é’®ã€‚ 


 å¹¸è¿çš„æ˜¯ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬ä½¿ç”¨Fastlaneè‡ªåŠ¨ç»„è£…iOSåº”ç”¨ç¨‹åº</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/424023/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/wq/g0/si/wqg0sidq6m0evuhqkna1wmrr0ro.jpeg"></div><br><p>  iOSå¼€å‘äººå‘˜å¿…é¡»å¤šä¹…æ„å»ºä¸€æ¬¡åº”ç”¨æ‰èƒ½ä¸‹è½½ <del>  iTunesè¿æ¥ </del>  <strong>App Store Connect</strong> ï¼Ÿ åœ¨åº”ç”¨ç¨‹åºçš„æ´»åŠ¨Betaæµ‹è¯•é˜¶æ®µï¼Œæ‚¨éœ€è¦å¿«é€Ÿä¿®å¤é”™è¯¯å¹¶äº¤ä»˜æ›´æ–°çš„ç¨‹åºé›†ä»¥è¿›è¡Œæµ‹è¯•ã€‚ å¯¹äºæ¯ä¸ªæ–°ç‰ˆæœ¬ï¼Œè¿˜å¿…é¡»ä¸‹è½½è¯ä¹¦ï¼ŒProvisioné…ç½®æ–‡ä»¶ï¼Œå•å‡»è®¸å¤šä¸åŒçš„å¤é€‰æ ‡è®°å’ŒæŒ‰é’®ã€‚ </p><br><p> å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªå¾ˆæ£’çš„å·¥å…·ï¼Œä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">fastlane</a> ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åŒ–ç§»åŠ¨å¼€å‘äººå‘˜çš„æ‰‹åŠ¨æ“ä½œã€‚ </p><br><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯fastlaneï¼Œä»¥åŠå¦‚ä½•åœ¨iOSé¡¹ç›®ä¸­å¿«é€Ÿå¼€å§‹ä½¿ç”¨å®ƒã€‚ </p><a name="habracut"></a><br><h2 id="vvedenie"> å¼•è¨€ </h2><br><h3 id="chto-eto"> è¿™æ˜¯ä»€ä¹ˆ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Fastlane</a>æ˜¯ç”¨äºè‡ªåŠ¨ç»„è£…å’Œå¸ƒå±€ç§»åŠ¨<strong>iOS</strong>å’Œ<strong>Android</strong>åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œå®ƒè¿˜åŒ…æ‹¬ç”Ÿæˆ<strong>å±å¹•æˆªå›¾</strong> ï¼Œè¿è¡Œ<strong>Unit / UIæµ‹è¯•</strong> ï¼Œå°†æ¶ˆæ¯å‘é€åˆ°<strong>Slack</strong> ï¼Œè¿æ¥åˆ°<strong>Crashlytics</strong>ä»¥åŠè®¸å¤šå…¶ä»–ä½¿ç”Ÿæ´»å˜å¾—æ›´è½»æ¾çš„æœ‰ç”¨äº‹æƒ…ã€‚ </p><br><h3 id="kakoy-profit"> ä»€ä¹ˆæ˜¯åˆ©æ¶¦ï¼Ÿ </h3><br><p> åˆå§‹é…ç½®ç”¨äºè‡ªåŠ¨è®¡ç®—åº”ç”¨ç¨‹åºçš„åŸºæœ¬å‘½ä»¤ï¼ˆä¾‹å¦‚ï¼Œç”¨äºåœ¨App Storeæˆ–TestFlightä¸Šå‘å¸ƒï¼‰çš„åˆå§‹é…ç½®å°†èŠ±è´¹ä¸è¶…è¿‡ä¸¤ä¸ªå°æ—¶ï¼Œä½†æ˜¯ï¼Œè¿™å°†åœ¨å°†æ¥èŠ‚çœå¤§é‡æ—¶é—´ï¼Œå› ä¸º æ•´ä¸ªè¿‡ç¨‹å°†åœ¨å‘½ä»¤è¡Œä¸­ä¸€æ¬¡è°ƒç”¨ä¸­å¯åŠ¨ã€‚ </p><br><p>  <strong>æ³¨æ„ï¼š</strong>ç”±äºæ²¡æœ‰å…è´¹å¸æˆ·æ— æ³•è®¿é—®App Store Connectï¼Œå› æ­¤éœ€è¦Apple Developerè®¢é˜…æ‰èƒ½å®Œæˆæ‰€æœ‰æ­¥éª¤ã€‚ </p><br><h2 id="ustanovka"> å®‰è£…æ–¹å¼ </h2><br><h3 id="ustanavlivaem-samfastlane"> è‡ªå·±å®‰è£…fastlane </h3><br><p> é¦–å…ˆï¼Œè¯·å®‰è£…/å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬çš„Xcode Command Toolsï¼š </p><br><pre><code class="bash hljs">$ xcode-select --install</code> </pre> <br><p> å®‰è£…gem fastlaneï¼š </p><br><pre> <code class="bash hljs">$ sudo gem install fastlane -NV <span class="hljs-comment"><span class="hljs-comment">#   brew $ brew cask install fastlane</span></span></code> </pre> <br><h3 id="dobavlyaem-vproekt"> æ·»åŠ åˆ°é¡¹ç›® </h3><br><p> åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œè¿è¡Œï¼š </p><br><pre> <code class="bash hljs">$ sudo fastlane init</code> </pre> <br><p>  Fastlaneå°†æ ¹æ®éœ€è¦å‘æˆ‘ä»¬æä¾›é¢„è£…è„šæœ¬çš„é€‰é¡¹ï¼š </p><br><p><img src="https://habrastorage.org/webt/nc/ba/54/ncba54ocu3t99jlklc1mrgk9ppu.png"></p><br><p> æˆ‘ä»¬å°†é€‰æ‹©é€‰é¡¹4ï¼Œå› ä¸º æˆ‘ä»¬å°†é’ˆå¯¹æƒ…å†µæŒ‡å®šæ‰€æœ‰å¿…è¦çš„å‘½ä»¤ï¼š </p><br><p><img src="https://habrastorage.org/webt/nc/ba/54/ncba54ocu3t99jlklc1mrgk9ppu.png"></p><br><p> åšå®Œäº†ï¼  <strong>fastlane</strong>æ–‡ä»¶å¤¹å’Œ<strong>gemfile</strong>å·²æˆåŠŸå®‰è£…åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚ </p><br><h3 id="pered-tem-kak-prodolzhim"> åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ </h3><br><p> å¦‚æœ<strong>è¯­è¨€ç¯å¢ƒ</strong> <strong>å¤–å£³</strong>é…ç½®æ–‡ä»¶ä¸æ˜¯<strong>UTF-8</strong> ï¼Œåˆ™åœ¨æ„å»ºå’ŒåŠ è½½æ„å»ºæ—¶ä¼šå‡ºç°é—®é¢˜ã€‚ æˆ‘ä»¬è¿›å…¥æ‚¨çš„å¤–å£³é…ç½®æ–‡ä»¶ï¼ˆ <em>ã€œ/ .bashrc</em> ï¼Œ <em>ã€œ/ .bash_profile</em> ï¼Œ <em>ã€œ/ .profile</em>æˆ–<em>ã€œ/ .zshrc</em> ï¼‰çš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å‡ è¡Œï¼š </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> LC_ALL=en_US.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> LANG=en_US.UTF<span class="hljs-number"><span class="hljs-number">-8</span></span></code> </pre> <br><p> ç°åœ¨ï¼Œæ‚¨å‡†å¤‡å¥½ç¼–å†™ç«‹å³æ‰§è¡Œçš„æ­¥éª¤ä»¥è‡ªåŠ¨åŒ–ç¨‹åºé›†ã€‚ </p><br><h2 id="kak-eto-rabotaet"> å¦‚ä½•è¿ä½œ </h2><br><p> é¦–å…ˆï¼Œæ‰¾å‡ºfastlaneçš„ä½œç”¨ï¼šå…¶ä¸»è¦å‘½ä»¤ä»¥åŠæˆ‘ä»¬å¦‚ä½•æè¿°éœ€è¦å®Œæˆçš„å·¥ä½œã€‚ </p><br><h3 id="komandy-actions"> å‘½ä»¤ï¼ˆåŠ¨ä½œï¼‰ </h3><br><p>  Fastlaneé™„å¸¦äº†è®¸å¤šæœ‰ç”¨çš„å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä½¿å¼€å‘äººå‘˜çš„å·¥ä½œæ›´åŠ è½»æ¾ï¼š </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">cert</a> ï¼šè‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…å¿…è¦çš„è¯ä¹¦ï¼ˆåˆ†å‘ï¼Œå¼€å‘ï¼‰ä»¥å¯¹æ”¶é›†çš„åº”ç”¨ç¨‹åºè¿›è¡Œç­¾åï¼› </li><li>  crement_build_numberï¼šå°†å†…éƒ¨ç‰ˆæœ¬å·å¢åŠ 1ï¼Œæˆ–æ›´æ”¹ä¸ºbuild_numberå‚æ•°ä¸­æŒ‡å®šçš„å€¼ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¹æ¯</a> ï¼šè‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…æ‰€æœ‰å¿…è¦çš„é…ç½®æ–‡ä»¶ï¼› </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¿«ç…§</a> ï¼šè¿è¡ŒUIæµ‹è¯•å¹¶è·å–å±å¹•å¿«ç…§ï¼Œä»¥ä¾¿åœ¨App Storeä¸­æäº¤å®¡é˜…æ—¶ä½¿ç”¨ï¼› </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¥èº«æˆ¿</a> ï¼šæ”¶é›†æ¡£æ¡ˆï¼Œå¹¶åœ¨æ­¤å¤„æ”¶é›†æ‚¨ç”³è¯·çš„æœ€ç»ˆipaï¼› </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰«æ</a> ï¼šä¸€åˆ‡éƒ½å¾ˆç®€å•-å¯åŠ¨æµ‹è¯•ç›®æ ‡ï¼› </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº¤ä»˜</a> ï¼šå°†ipaï¼Œå±å¹•æˆªå›¾ï¼Œå…ƒæ•°æ®ç›´æ¥å‘é€åˆ°App Storeï¼› </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯•éªŒ</a> ï¼šåœ¨TestFlightä¸­å°†æ–°é²œçš„ipaä¸Šä¼ åˆ°betaæµ‹è¯•ã€‚ æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤ç®¡ç†æµ‹è¯•äººå‘˜ã€‚ </li><li> è¿˜æœ‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¾ˆå¤š</a> </li></ul><br><h3 id="fastfile"> å¿«é€Ÿæ¡£æ¡ˆ </h3><br><p>  <em>fastlane</em>æ–‡ä»¶å¤¹åŒ…å«<em>Fastfile</em>å’Œ<em>Appfile</em> ã€‚ åœ¨Appfileä¸­ï¼Œæˆ‘ä»¬å°†è§„å®šç»„è£…å’Œå‘å¸ƒæ‰€éœ€çš„å€¼ï¼šæ†ç»‘IDï¼ŒApp IDï¼Œå›¢é˜ŸIDç­‰ã€‚ åœ¨<em>Fastfileä¸­ï¼Œ</em>æˆ‘ä»¬å°†æè¿°æˆ‘ä»¬çš„è„šæœ¬ã€‚ åˆå§‹å®‰è£…åï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š </p><br><pre> <code class="hljs pgsql">default_platform(:ios) platform :ios <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> "Description of what the lane does" lane :custom_lane <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> actions here: https://docs.fastlane.tools/actions <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><ul><li>  <strong>default_platformï¼ˆï¼šiosï¼‰</strong> -è®¾ç½®é»˜è®¤å¹³å°ï¼Œä»¥ä¾¿ä¸ä»å‘½ä»¤è¡ŒæŒ‡å®šå®ƒã€‚ </li><li>  <strong>å¹³å°ï¼šios do ...ç»“æŸ</strong> -è¿™é‡Œä»‹ç»äº†iOSå¹³å°çš„â€œé€šé“â€ã€‚ </li><li>  <strong>descâ€œè½¦é“åŠŸèƒ½è¯´æ˜â€</strong> -â€œè½¦é“â€çš„ç®€çŸ­è¯´æ˜ã€‚ å¯ä»¥ä½¿ç”¨<code>$ fastlane lanes</code>æŸ¥çœ‹å¸¦æœ‰è¯´æ˜çš„æ‰€æœ‰â€œé€šé“â€çš„åˆ—è¡¨ã€‚ </li><li>  <strong>è½¦é“ï¼šcustom_laneåš...ç»“æŸ</strong> ï¼šè½¦é“ï¼ˆè·¯å¾„ï¼Œå¸¦ï¼‰æ›´ç®€å•åœ°æ˜¯ä¸€ç§æ–¹æ³•ã€‚ å®ƒå…·æœ‰åç§°ï¼Œå‚æ•°å’Œä¸»ä½“ã€‚ åœ¨ä¸»ä½“ä¸­ï¼Œæˆ‘ä»¬å°†è°ƒç”¨æˆ‘ä»¬éœ€è¦æ„å»ºï¼Œå¸ƒå±€ï¼Œè¿è¡Œæµ‹è¯•ç­‰çš„å‘½ä»¤ã€‚é€šè¿‡è°ƒç”¨<code>$ fastlane [lane_name] [parameters]</code>ä»å‘½ä»¤è¡Œè°ƒç”¨æ³³é“ã€‚ æ­£æ˜¯é€šè¿‡å…¶ä¸­ä¸€æ¡è½¦é“çš„è°ƒç”¨ï¼Œè‡ªåŠ¨æ­¥éª¤æ‰å¼€å§‹ã€‚ </li></ul><br><h2 id="avtomatiziruem-vygruzku-na-testflight"> è‡ªåŠ¨ä¸Šä¼ åˆ°TestFlight </h2><br><p> é¦–å…ˆï¼Œä¸ºè½¦é“è®¾ç½®ä¸€ä¸ªå‹å¥½çš„åç§°ã€‚ å°†<strong>custom_lane</strong>é‡å‘½åä¸º<strong>testflight_lane</strong> ã€‚ ç°åœ¨å¾ˆæ˜æ˜¾ï¼Œæ‰§è¡Œæ­¤è„šæœ¬çš„ç»“æœå°†æ˜¯åœ¨<em>TestFlightä¸­</em>åŠ è½½çš„æ–°ç¨‹åºé›†ã€‚ </p><br><pre> <code class="hljs ruby">default_platform(<span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span>) platform <span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> desc <span class="hljs-string"><span class="hljs-string">"Builds, achieves and uploads ipa to TestFlight"</span></span> lane <span class="hljs-symbol"><span class="hljs-symbol">:testflight_lane</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-comment"><span class="hljs-comment"># Actions end end</span></span></code> </pre> <br><h3 id="konfiguriruem-appfile"> é…ç½®åº”ç”¨æ–‡ä»¶ </h3><br><p> ä¸ºäº†ä¸æ¯æ¬¡è¿è¡Œè„šæœ¬æ—¶éƒ½è¾“å…¥åº”ç”¨ç¨‹åºåŒ…å’ŒApple IDï¼Œè¯·å°†å®ƒä»¬å†™åœ¨<em>Appfileä¸­</em> ï¼š </p><br><pre> <code class="java hljs">app_identifier <span class="hljs-string"><span class="hljs-string">"ru.ee.shishko.TheHatGame"</span></span> apple_id <span class="hljs-string"><span class="hljs-string">"ee.shishko@gmail.com"</span></span></code> </pre> <br><h3 id="sertifikaty-i-provision-profiles"> è¯ä¹¦å’Œé…ç½®æ–‡ä»¶ </h3><br><p> æ·»åŠ <strong>cert</strong>å’Œ<strong>sighå‘½ä»¤</strong>ä»¥åˆ†åˆ«å®‰è£…è¯ä¹¦å’Œé…ç½®æ–‡ä»¶ï¼š <br>  ï¼ˆ <strong>æ³¨æ„</strong> ï¼šå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä¸åœ¨App Store Connectä¸­ï¼Œåˆ™éœ€è¦æ·»åŠ å¸¦æœ‰<em>app_name</em>å‚æ•°çš„<em>Produce</em>å‘½ä»¤ï¼‰ </p><br><pre> <code class="hljs pgsql">default_platform(:ios) platform :ios <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> "Builds, achieves and uploads ipa to TestFlight" lane :testflight_lane <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> #      App Store <span class="hljs-keyword"><span class="hljs-keyword">Connect</span></span>: # produce ( # app_name: "MyAppName" # ) cert sigh <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p> ä½¿ç”¨å‘½ä»¤<code>$ fastlane testflight_lane</code>è¿è¡Œæˆ‘ä»¬çš„è„šæœ¬ </p><br><p> å¯åŠ¨Fastlaneæ—¶ï¼Œå°†è¦æ±‚æˆ‘ä»¬è¾“å…¥è¯¥å¸æˆ·çš„å¯†ç ï¼Œç„¶åè¾“å…¥è¯¥å¯†ç ã€‚ å®ƒä»…éœ€è¦ä¸€æ¬¡-Fastlaneä¼šè®°ä½å®ƒï¼Œå¹¶ä¸”æ‚¨æ— éœ€åœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶è¾“å…¥ä»»ä½•å†…å®¹ã€‚ <br> å½“fastlaneæˆåŠŸå®Œæˆè„šæœ¬æ—¶ï¼Œè¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><img src="https://habrastorage.org/webt/or/2l/ws/or2lwspazqstxd-7k9ezqsjht9c.png"><br><br><p> ç°åœ¨ï¼Œè¯ä¹¦å’Œé…ç½®æ–‡ä»¶å·²ä¸‹è½½å¹¶å®‰è£…ã€‚ ä»ç„¶éœ€è¦åœ¨æ€»ææ¬¾ä¸­åˆ—å‡ºæœŸæœ›çš„ç›®æ ‡ï¼š </p><br><img src="https://habrastorage.org/webt/ps/cd/ak/pscdakt-l2qpnqvwq2r89hvbabk.png"><br><br><h3 id="sborka-prilozheniya"> æ„å»ºåº”ç”¨ </h3><br><p> æ·»åŠ <strong>increment_build_number</strong>å‘½ä»¤ä»¥å¢åŠ å†…éƒ¨ç‰ˆæœ¬å·ã€‚ å¦‚æœæ‚¨çš„ä¸»<em>.xcodeproj</em>æ–‡ä»¶ä¸åœ¨æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œè¯·åœ¨<em>xcodeproj</em>å‚æ•°ä¸­æŒ‡å®šå…¶è·¯å¾„ï¼š </p><br><pre> <code class="hljs pgsql">default_platform(:ios) platform :ios <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> "Builds, achieves and uploads ipa to TestFlight" lane :testflight_lane <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> cert sigh increment_build_number #   .xcodeproj     , : # # increment_build_number( # xcodeproj: "./path/to/MyApp.xcodeproj" # ) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p> ä¸ºäº†å¢åŠ å†…éƒ¨ç‰ˆæœ¬å·ï¼Œè¯·è½¬åˆ°â€œ <em>å†…éƒ¨è®¾ç½®/ç‰ˆæœ¬æ§åˆ¶â€ï¼Œ</em>ç„¶åå°†â€œ <strong>Appleé€šç”¨</strong>å’Œ<strong>å½“å‰é¡¹ç›®ç‰ˆæœ¬â€ä¸­</strong>çš„â€œ <strong>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿâ€</strong>è®¾ç½®ä¸º<strong>1</strong> ï¼š </p><br><img src="https://habrastorage.org/webt/bw/tb/kq/bwtbkqg5iqt5q0xfbatjw3ivawc.png"><br><br><p> æ·»åŠ <strong>Gym</strong>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤æ”¶é›†æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„<em>ipa</em>æ–‡ä»¶ï¼š <br><br></p><br><img src="https://habrastorage.org/webt/f-/qt/j6/f-qtj6schbypq7jyzhq6tjfauks.png"><br><br><p> åœ¨å‚æ•°ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šå°†ipaï¼ˆ <em>output_directory</em> ï¼‰ï¼Œipaåç§°ï¼ˆ <em>output_name</em> ï¼‰ï¼Œschemeï¼ˆ <em>scheme</em> ï¼‰æ”¾åœ¨ä½•å¤„ï¼Œæ˜¯å¦æ‰§è¡ŒCleanï¼ˆ <em>clean</em> ï¼‰ç­‰ã€‚ æˆ‘ä»¬ä¸ä¼šåœ¨å‚æ•°ä¸­æŒ‡å®šä»»ä½•å†…å®¹-fastlaneä¼šé»˜è®¤è®¾ç½®å‚æ•°ï¼Œæ”¶é›†å¹¶ç­¾åipaï¼Œä½†æ˜¯å†æ¬¡ï¼šå¦‚æœéœ€è¦å’Œå¿…è¦ï¼Œå¯ä»¥è¯¦ç»†æŒ‡å®šæ‰€æœ‰å†…å®¹ï¼š </p><br><pre> <code class="hljs pgsql">default_platform(:ios) platform :ios <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> "Builds, achieves and uploads ipa to TestFlight" lane :testflight_lane <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> cert sigh increment_build_number gym #    : # # gym( # workspace: "TheHatGame.xcworkspace", # scheme: "TheHatGame", # <span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span>: "Release", # clean: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, # output_directory: "./build", # output_name: "TheHatGame.ipa", # codesigning_identity: "iPhone Distribution: Evgeny Shishko" # ) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><h3 id="vygruzka-na-testflight"> ä¸Šè½½åˆ°TestFlight </h3><br><p> è¦å°†<em>ipa</em>åŠ è½½åˆ°<em>TestFlightä¸­ï¼Œ</em>æˆ‘ä»¬å°†ä½¿ç”¨<em>Pilot</em> ï¼š </p><br><img src="https://habrastorage.org/webt/h4/n6/xc/h4n6xccia6ooeywy4tx__lc2wz0.png"><br><p> ä½¿ç”¨<strong>Pilotï¼Œ</strong>æ‚¨å¯ä»¥ï¼š </p><br><ul><li> ä¸‹è½½å¹¶åˆ†å‘ç¨‹åºé›† </li><li> æ·»åŠ å’Œåˆ â€‹â€‹é™¤Betaæµ‹è¯•äººå‘˜ï¼› </li><li> æ¥æ”¶æœ‰å…³æµ‹è¯•äººå‘˜åŠå…¶ä½¿ç”¨çš„è®¾å¤‡çš„ä¿¡æ¯ï¼› </li><li> å°†æµ‹è¯•äººå‘˜ä¿¡æ¯å¯¼å‡ºåˆ°.csvï¼Œä»¥ä¾¿å°†å…¶å¯¼å…¥åˆ°å¦ä¸€ä¸ªé¡¹ç›®ä¸­ã€‚ </li></ul><br><p> æˆ‘ä»¬å°†ä½¿ç”¨å…¶ä¸»è¦åŠŸèƒ½ï¼šå°†ç¨‹åºé›†å‘é€åˆ°<em>Apple Store Connect</em> ã€‚ </p><br><p> æ·»åŠ <em>test_light uploadl</em>ä»¥ä½¿ç”¨<strong>skip_submission</strong>å‚æ•°ï¼ˆæˆ‘ä»¬ä»…å°†å…¶ç”¨äºä¸Šä¼ ipaæ–‡ä»¶ï¼‰å’Œ<em>skip_waiting_for_build_processing</em> ï¼ˆæˆ‘ä»¬ä¸ç­‰å¾…å¤„ç†å®Œæˆï¼‰æ¥è°ƒç”¨<strong>upload_to_testflight</strong> ï¼š </p><br><pre> <code class="hljs ruby">default_platform(<span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span>) platform <span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> desc <span class="hljs-string"><span class="hljs-string">"Builds, achieves and uploads ipa to TestFlight"</span></span> lane <span class="hljs-symbol"><span class="hljs-symbol">:testflight_lane</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> cert sigh increment_build_number gym upload_to_testflight( <span class="hljs-symbol"><span class="hljs-symbol">skip_submission:</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">skip_waiting_for_build_processing:</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><h3 id="zapuskaem-itogovyy-skript"> è¿è¡Œæœ€ç»ˆè„šæœ¬ </h3><br><p> æˆ‘ä»¬ä¿å­˜æ›´æ”¹å¹¶ä»æ§åˆ¶å°è¿è¡Œï¼š </p><br><pre> <code class="hljs ruby">$ fastlane testflight_lane</code> </pre> <br><p> åœ¨å‘é€åˆ°testflightçš„é˜¶æ®µï¼Œæ‚¨å°†éœ€è¦åœ¨æ§åˆ¶å°ä¸­è¾“å…¥<em>åº”ç”¨ç¨‹åºç‰¹å®šçš„</em>å¯†ç ï¼ˆåœ¨<em>Application Loaderä¸­</em>è¿›è¡Œæˆæƒæ˜¯å¿…éœ€çš„ï¼‰ã€‚ æ‚¨å¯ä»¥é€šè¿‡å•å‡»â€œç”Ÿæˆå¯†ç â€æ¥ç”Ÿæˆå®ƒï¼Œä»è€Œåœ¨æ‚¨çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Apple ID</a>å¸æˆ·ä¸­æ‰¾åˆ°å®ƒï¼š </p><br><img src="https://habrastorage.org/webt/fr/eu/7u/freu7ujllv__iqbgsukj1fjzdz0.png"><br><p> è¾“å…¥å¯†ç åï¼Œæ–°ç¨‹åºé›†å°†æˆåŠŸåŠ è½½åˆ°TestFlightä¸­ï¼Œfastlaneå°†åœ¨æ­¤å¤„ç»“æŸï¼š </p><br><img src="https://habrastorage.org/webt/6b/25/mn/6b25mnty46qop8dj6okomr_goeq.png"><br><br><p> å¯ä»¥åœ¨App Store Connectä¸­æŸ¥çœ‹æ–°ç‰ˆæœ¬çš„çŠ¶æ€ï¼š </p><br><img src="https://habrastorage.org/webt/gi/we/y2/giwey2wzln0c5itsbpqboxm9mke.png"><br><br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> ä»…æ­¤è€Œå·²ï¼ æˆ‘æƒ³æè¯·æ³¨æ„ä»¥ä¸‹äº‹å®ï¼šåœ¨æœ€ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œæœ¬æ–‡å°è¯•äº†Fastlaneçš„åŠŸèƒ½ã€‚ åœ¨è¿™æ–¹é¢ï¼Œæˆ‘æ­£åœ¨é™„ä¸Šä¸€ä»½è°ƒæŸ¥æŠ¥å‘Šï¼šKhabrovitesï¼Œæ‚¨æ˜¯å¦å¯¹æœ‰å…³å¿«é€Ÿé€šé“ä¸­æåˆ°çš„å’Œå…¶ä»–æœ‰ç”¨å‘½ä»¤çš„<strong>è¯¦ç»†ç”¨æ³•</strong>ä»¥åŠè®¾ç½®è„šæœ¬çš„é«˜çº§åŠŸèƒ½æ„Ÿå…´è¶£ï¼Ÿ </p><br><p> å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>æ‰¾åˆ°å…·æœ‰æ‰€ç¤ºå¿«é€Ÿé€šé“è®¾ç½®çš„åº”ç”¨ç¨‹åºã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN424023/">https://habr.com/ru/post/zh-CN424023/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN424011/index.html">æˆ‘ä»¬ä»¥å®‰å…¨ä»£ç å°†å‚æ•°æ”¾å…¥ä¸å®‰å…¨çš„æ“ä½œä¸­</a></li>
<li><a href="../zh-CN424015/index.html">éšœç¢çš„ä¸¤é¢ï¼šå…³äºé›‡ç”¨ç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜</a></li>
<li><a href="../zh-CN424017/index.html">çªç ´å¤æ‚ï¼šæœ‰æ•ˆåˆä½œçš„è·¯çº¿å›¾</a></li>
<li><a href="../zh-CN424019/index.html">æ—§è®¡ç®—æœºï¼ŒWindows 7ã€1 GB RAMï¼ŒFirefoxå’ŒInternet</a></li>
<li><a href="../zh-CN424021/index.html">è‡ªå­¦ç¼–ç¨‹çš„æŒ‘æˆ˜ä»¥åŠå¦‚ä½•å…‹æœå®ƒä»¬</a></li>
<li><a href="../zh-CN424025/index.html">åœ¨å¤§å‹Reactåº”ç”¨ç¨‹åºä¸­è¿›è¡Œè·¯ç”±</a></li>
<li><a href="../zh-CN424027/index.html">å­¦ä¹ å¯¹æŠ—ç­–ç•¥ï¼ŒæŠ€å·§å’Œå¸¸è¯†ï¼ˆATT @ CKï¼‰ã€‚ ä¼ä¸šç­–ç•¥ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN424029/index.html">å…³äºæ‡’æƒ°</a></li>
<li><a href="../zh-CN424031/index.html">ä½¿ç”¨JAX-RSè¿›è¡Œååº”å¼ç¼–ç¨‹</a></li>
<li><a href="../zh-CN424033/index.html">Kotlinåœ¨åšä»€ä¹ˆï¼šé‡‡è®¿Andrei Breslav</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>