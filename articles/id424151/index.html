<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👜 🧑 🎳 Mesin pelabelan untuk label bibir - perluas distorsi silinder secara terprogram 🌸 👪 👹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam aplikasi kami ada fitur, seperti anak dari pacar ibu saya vivino - definisi anggur dari sebuah foto. Di bawah tenda - penggunaan layanan pihak k...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mesin pelabelan untuk label bibir - perluas distorsi silinder secara terprogram</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424151/">  Dalam aplikasi kami ada fitur, seperti <s>anak dari pacar ibu saya</s> vivino - definisi anggur dari sebuah foto.  Di bawah tenda - penggunaan layanan pihak ketiga, Tineye - untuk menentukan label yang paling cocok, Google Vision - untuk membaca teks di atasnya.  Yang terakhir diperlukan untuk mengklarifikasi produk yang benar, karena  pencarian gambar tidak memperhitungkan pentingnya beberapa daerah, sebagai aturan - ini adalah informasi tekstual - tahun dan jenis anggur. <br><br>  Namun, keakuratan kedua layanan tersebut berkurang karena fakta bahwa label terdistorsi oleh permukaan silinder. <br><br>  Ini terutama terlihat dengan Google Vision - teks apa pun di luar bagian tengah label praktis tidak dapat dibaca, meskipun seseorang mudah mengenalinya.  Dalam artikel ini, saya akan menjelaskan cara membalikkan distorsi dan meningkatkan akurasi pengakuan produk. <br><br><img src="https://habrastorage.org/webt/hk/-j/2p/hk-j2p_wkudj1asrh2yllwxcsxc.png"><br><a name="habracut"></a><br>  Pertama-tama, pertimbangkan distorsi. <br><br><img src="https://habrastorage.org/webt/uz/gv/n4/uzgvn4oircmh2r_suij8ofrlrh0.png"><br><br>  Label persegi panjang, ketika direkatkan ke silinder, memiliki bentuk karakteristik barel (b pada diagram di atas).  Kurva ABC dalam hal ini, dalam perkiraan yang agak baik, adalah elips, karena  kita melihat sebuah lingkaran (bagian silinder) pada suatu sudut.  Banyak garis horizontal label juga berubah menjadi banyak elips di foto. <br><br>  Yang paling menarik adalah untuk memperluas label, cukup tentukan 6 marker (ABCDEF): <br><br><img src="https://habrastorage.org/webt/t2/la/hy/t2lahys1qkcr3-la-6ox-bc0cte.jpeg"><br><br>  Dan dengan menggunakannya, bangun kisi-kisi permukaan yang lengkap: <br><br><img src="https://habrastorage.org/webt/b_/om/cc/b_omcchhgmjdtfrxahvm9po67wq.jpeg"><br><br>  Memiliki grid permukaan, kami dapat memperluas setiap ubin secara terpisah, dan mendapatkan permukaan asli: <br><br><img src="https://habrastorage.org/webt/up/j8/th/upj8thigpw-fwm_i1a8xmfxx2hg.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode perpustakaan tersedia di github</a> .  Kemudahan metode ini adalah bahwa parameter input untuk transformasi invers adalah karakteristik label yang ditentukan secara visual (sudut dan atas, titik bawah), yang memungkinkan Anda untuk mengotomatisasi sepenuhnya proses. <br><br>  Bagian selanjutnya adalah tentang mendefinisikan marker.  Kode kerja hanya tersedia sebagian di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cabang di github</a> , seperti  solusi yang benar-benar berfungsi ditutupi oleh peretasan dan perdukunan, jadi hati nurani tidak mengizinkan timah semacam itu diunggah ke github. <br><br>  Tahap satu - mengonversi gambar menjadi hitam dan putih. <br><br>  Maka Anda perlu mendapatkan kontur botol dengan label.  Untuk melakukan ini, kami menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">transformasi sobel</a> .  Singkatnya, filter ini pertama-tama mengaburkan gambar, dan kemudian menguranginya dari aslinya.  Akibatnya, bahkan area tetap gelap, dan tepi (perubahan) tetap terang. <br><br><img src="https://habrastorage.org/webt/jb/cm/rx/jbcmrxypeavsjx7e4f_hkto_c1s.jpeg"><br><br>  Hal berikutnya yang harus dilakukan adalah mengidentifikasi dua garis vertikal yang paling mencolok, yang, jika Anda beruntung, adalah ujung botol.  Dalam hal ini, ini benar, tetapi jika Anda memotret botol di sebelah botol lain, maka ini tidak lagi menjadi masalah. <br><br>  Untuk menentukan garis-garis ini, gunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">transformasi Hough</a> .  Inti dari teknik ini adalah kami mengambil banyak garis yang melintasi seluruh layar dan mempertimbangkan nilai rata-rata piksel (misalnya, kami mengambil garis yang bergerak dari atas gambar ke bawah).  Kami mentransfer nilai-nilai ini ke bidang koordinat baru dan mendapatkan sesuatu seperti peta panas.  Pada peta panas ini, kami mencari dua ekstrema - mereka adalah garis samping. <br><br>  Diagram di bawah ini menunjukkan bagaimana garis kiri menuju ke titik pada bidang koordinat baru: <br><br><img src="https://habrastorage.org/webt/d2/1b/qz/d21bqzk-hlfbfg7n43esn0_x2ey.png"><br><br>  Dengan elips sedikit lebih rumit, tetapi mengetahui bahwa transformasi Hough dapat diterapkan pada kurva yang didefinisikan secara matematis, kita akan menggunakan metode ini lagi, tetapi kali ini kita akan mencari banyak kurva eliptik. <br><br>  Tetapi pertama-tama Anda perlu membawa masalah ke bentuk dua dimensi.  Mengetahui bahwa botol itu simetris terpusat, kami mengambil sumbu pusat untuk koordinat Y, dan satu sisi untuk X. Untuk nilai-nilai pada bidang koordinat baru, kami mengambil banyak elips yang dibangun antara sumbu pusat dan samping.  Ini dimungkinkan karena fakta bahwa titik arbitrer di samping dan sumbu pusat hanya memiliki satu metode koneksi.  Mungkin ini tidak terlalu jelas pada pandangan pertama, tetapi jauh lebih mudah untuk dipahami jika kita beralih ke rumus parametrik elips: <br><br>  x = a * cos (t) <br>  y = b * sin (t) <br><br><img src="https://habrastorage.org/webt/kk/st/pk/kkstpkiy3-opp98_zabantk4lmc.jpeg"><br><br>  Dengan cara yang persis sama, kami menemukan dua ekstrem yang dicari yang mendefinisikan dua elips label (kurva AB, FE).  Sekarang kita memiliki semua parameter label yang diperlukan (kurva sisi, serta elips atas dan bawah), kita dapat menerapkan algoritma dari bagian pertama artikel dan melakukan transformasi terbalik. <br><br>  Apa yang bisa diperbaiki.  Pertama, algoritme tidak memperhitungkan distorsi perspektif elips itu sendiri, sebagai akibatnya, fragmen sisi label ditarik sedikit lebih dari yang seharusnya.  Untuk melakukan koreksi, Anda perlu mengetahui sudut pandang sebenarnya dari kamera, atau setidaknya menggunakan yang paling khas untuk telepon (Anda dapat memilih secara empiris). <br><br>  Kedua, transformasi Hough bekerja agak tidak stabil dalam kondisi sulit - misalnya, ketika botol yang berdekatan jatuh ke dalam bingkai dan ujung-ujung botol yang menarik mungkin tidak terdeteksi dengan benar. <br><br>  Ketiga, jika label tidak berbentuk persegi panjang (misalnya, elips), maka marka akan terdeteksi secara tidak benar, dan transformasi hanya akan mendistorsi gambar lebih kuat. <br><br>  Dalam praktiknya, jauh lebih menarik menggunakan jaringan saraf untuk mengidentifikasi penanda, karena  itu dapat dilatih menggunakan contoh-contoh kompleks sehingga, setidaknya, algoritma tidak melakukan transformasi jika marker tidak dapat ditentukan.  Tapi sejauh ini saya belum mencoba menggunakan neuron untuk tugas ini, jadi mungkin ini akan menjadi topik artikel terpisah :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424151/">https://habr.com/ru/post/id424151/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424139/index.html">Kesalahan dan kesalahpahaman paling umum saat mengkonfigurasi DFSR</a></li>
<li><a href="../id424141/index.html">Desain game menjadi hidup. Ekonomi Gim (Bagian I)</a></li>
<li><a href="../id424143/index.html">Intisari materi menarik untuk pengembang ponsel # 271 (pada 17-23 September)</a></li>
<li><a href="../id424147/index.html">Telltale adalah segalanya. Sayang sekali</a></li>
<li><a href="../id424149/index.html">Frekuensi cat air 96 fps: revolusi atau format kerusuhan dalam sinematografi</a></li>
<li><a href="../id424153/index.html">(Tidak) pindah ke Moldova</a></li>
<li><a href="../id424155/index.html">Seri "Pertama": Sisi Gelap Kosmonautika</a></li>
<li><a href="../id424157/index.html">SDKMAN - Mati, Long Live SDKMAN</a></li>
<li><a href="../id424159/index.html">Stasiun turun misi Hayabusa 2 berhasil mendarat di permukaan asteroid 1999 JU3</a></li>
<li><a href="../id424161/index.html">Resistensi forensik 1 atau Last-ikActivityView. Data aktivitas pengguna di Windows 10 dan cara menghapusnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>