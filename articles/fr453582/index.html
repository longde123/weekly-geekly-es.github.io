<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèª‚Äçü§ù‚Äçüßëüèª üöë üöµüèæ Projets Node.js dans lesquels il est pr√©f√©rable de ne pas utiliser de fichiers de verrouillage ‚ôèÔ∏è ‚úãüèæ ‚õ±Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'auteur du mat√©riel, dont nous publions la traduction aujourd'hui, dit que l'un des probl√®mes auxquels les programmeurs doivent faire face est que le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Projets Node.js dans lesquels il est pr√©f√©rable de ne pas utiliser de fichiers de verrouillage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/453582/">  L'auteur du mat√©riel, dont nous publions la traduction aujourd'hui, dit que l'un des probl√®mes auxquels les programmeurs doivent faire face est que leur code fonctionne pour eux et qu'il donne des erreurs √† quelqu'un d'autre.  Ce probl√®me, peut-√™tre l'un des plus courants, se pose du fait que diff√©rentes d√©pendances que le programme utilise sont install√©es dans les syst√®mes du cr√©ateur et de l'utilisateur du programme.  Pour lutter contre ce ph√©nom√®ne, des fichiers dits de verrouillage existent dans les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gestionnaires de</a> paquets <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">yarn</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm</a> .  Ils contiennent des informations sur les versions exactes des d√©pendances.  Le m√©canisme est utile, mais si quelqu'un d√©veloppe un package dont la publication est pr√©vue dans npm, il vaut mieux ne pas utiliser de fichiers de verrouillage.  Ce mat√©riel est d√©di√© √† l'histoire de la raison pour laquelle il en est ainsi. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/_r/wg/hp/_rwghp7lka8tkw1fdaqwyhfmqfg.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">La chose la plus importante en bref</font> </h2><br>  Les fichiers de verrouillage sont extr√™mement utiles lors du d√©veloppement d'applications Node.js comme les serveurs Web.  Cependant, si vous parlez de cr√©er une biblioth√®que ou un outil de ligne de commande dans le but de publier dans npm, vous devez savoir que les fichiers de verrouillage dans npm ne sont pas publi√©s.  Cela signifie que si ces fichiers sont utilis√©s pendant le d√©veloppement, le cr√©ateur du package npm et ceux qui utilisent ce package utiliseront diff√©rentes versions des d√©pendances. <br><br><h2>  <font color="#3AC1EF">Qu'est-ce qu'un fichier de verrouillage?</font> </h2><br>  Le fichier de verrouillage d√©crit l'arborescence de d√©pendance compl√®te sous la forme qu'il a acquise au cours du travail sur le projet.  Cette description inclut √©galement les d√©pendances imbriqu√©es.  Le fichier contient des informations sur des versions sp√©cifiques des packages utilis√©s.  Dans le gestionnaire de packages npm, ces fichiers sont appel√©s <code>package-lock.json</code> , dans yarn - <code>yarn.lock</code> .  Dans les deux gestionnaires, ces fichiers se trouvent dans le m√™me dossier que <code>package.json</code> . <br><br>  Voici √† quoi pourrait ressembler <code>package-lock.json</code> . <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"lockfile-demo"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lockfileVersion"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {  <span class="hljs-attr"><span class="hljs-attr">"ansi-styles"</span></span>: {    <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.2.1"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/ansi-styles/-/ansi-styles-3.2.1.tgz"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA=="</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {      <span class="hljs-attr"><span class="hljs-attr">"color-convert"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.9.0"</span></span>    }  },  <span class="hljs-attr"><span class="hljs-attr">"chalk"</span></span>: {    <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"2.4.2"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"resolved"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://registry.npmjs.org/chalk/-/chalk-2.4.2.tgz"</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"integrity"</span></span>: <span class="hljs-string"><span class="hljs-string">"sha512-Mti+f9lpJNcwF4tWV8/OrTTtF1gZi+f8FqlyAdouralcFWFQWF2+NgCHShjkCb+IFBLq9buZwE1xckQU4peSuQ=="</span></span>,    <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span>: {      <span class="hljs-attr"><span class="hljs-attr">"ansi-styles"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.1"</span></span>,      <span class="hljs-attr"><span class="hljs-attr">"escape-string-regexp"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.5"</span></span>,      <span class="hljs-attr"><span class="hljs-attr">"supports-color"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.3.0"</span></span>    }  } } }</code> </pre> <br>  Voici un exemple de fichier <code>yarn.lock</code> .  Il n'est pas con√ßu comme <code>package-lock.json</code> , mais il contient des donn√©es similaires. <br><br><pre> <code class="json hljs"># THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. # yarn lockfile v<span class="hljs-number"><span class="hljs-number">1</span></span> ansi-styles@^<span class="hljs-number"><span class="hljs-number">3.2</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>: version <span class="hljs-string"><span class="hljs-string">"3.2.1"</span></span> resolved <span class="hljs-string"><span class="hljs-string">"https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-3.2.1.tgz#41fbb20243e50b12be0f04b8dedbf07520ce841d"</span></span> integrity sha<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>-VT<span class="hljs-number"><span class="hljs-number">0</span></span>ZI<span class="hljs-number"><span class="hljs-number">6</span></span>kZRdTh<span class="hljs-number"><span class="hljs-number">8</span></span>YyJw<span class="hljs-number"><span class="hljs-number">3</span></span>SMbYm/u+NqfsAxEpWO<span class="hljs-number"><span class="hljs-number">0</span></span>Pf<span class="hljs-number"><span class="hljs-number">9</span></span>sq<span class="hljs-number"><span class="hljs-number">8</span></span>/e<span class="hljs-number"><span class="hljs-number">9</span></span><span class="hljs-number"><span class="hljs-number">4</span></span>WxxOpPKx<span class="hljs-number"><span class="hljs-number">9</span></span>FR<span class="hljs-number"><span class="hljs-number">1</span></span>FlyCtOVDNOQ+<span class="hljs-number"><span class="hljs-number">8</span></span>ntlqFxiRc+r<span class="hljs-number"><span class="hljs-number">5</span></span>qA== dependencies:       color-convert <span class="hljs-string"><span class="hljs-string">"^1.9.0"</span></span> chalk@^<span class="hljs-number"><span class="hljs-number">2.4</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>: version <span class="hljs-string"><span class="hljs-string">"2.4.2"</span></span> resolved <span class="hljs-string"><span class="hljs-string">"https://registry.yarnpkg.com/chalk/-/chalk-2.4.2.tgz#cd42541677a54333cf541a49108c1432b44c9424"</span></span> integrity sha<span class="hljs-number"><span class="hljs-number">5</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>-Mti+f<span class="hljs-number"><span class="hljs-number">9</span></span>lpJNcwF<span class="hljs-number"><span class="hljs-number">4</span></span>tWV<span class="hljs-number"><span class="hljs-number">8</span></span>/OrTTtF<span class="hljs-number"><span class="hljs-number">1</span></span>gZi+f<span class="hljs-number"><span class="hljs-number">8</span></span>FqlyAdouralcFWFQWF<span class="hljs-number"><span class="hljs-number">2</span></span>+NgCHShjkCb+IFBLq<span class="hljs-number"><span class="hljs-number">9</span></span>buZwE<span class="hljs-number"><span class="hljs-number">1</span></span>xckQU<span class="hljs-number"><span class="hljs-number">4</span></span>peSuQ== dependencies:       ansi-styles <span class="hljs-string"><span class="hljs-string">"^3.2.1"</span></span>       escape-string-regexp <span class="hljs-string"><span class="hljs-string">"^1.0.5"</span></span>       supports-color <span class="hljs-string"><span class="hljs-string">"^5.3.0"</span></span></code> </pre> <br>  Ces deux fichiers contiennent des informations de d√©pendance critiques: <br><br><ul><li>  La version exacte de chaque d√©pendance install√©e. </li><li>  Informations de d√©pendance pour chaque d√©pendance. </li><li>  Informations sur le package t√©l√©charg√©, y compris la somme de contr√¥le utilis√©e pour v√©rifier l'int√©grit√© du package. </li></ul><br>  Si toutes les d√©pendances sont r√©pertori√©es dans le fichier de verrouillage, pourquoi ajoutent-elles √©galement des informations √† leur sujet dans <code>package.json</code> ?  Pourquoi deux fichiers sont-ils n√©cessaires? <br><br><h2>  <font color="#3AC1EF">Comparaison des fichiers package.json et lock</font> </h2><br>  Le champ des <code>dependencies</code> du fichier <code>package.json</code> pour objet d'afficher les d√©pendances du projet qui doivent √™tre install√©es pour qu'il fonctionne correctement.  Mais cela n'inclut pas d'informations sur les d√©pendances de ces d√©pendances.  Les informations de d√©pendance peuvent inclure des versions de package exactes ou une certaine plage de versions sp√©cifi√©es conform√©ment aux r√®gles de contr√¥le de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version s√©mantique</a> .  Lors de l'utilisation de la gamme npm ou fil, la version la plus appropri√©e de l'emballage est s√©lectionn√©e. <br><br>  Supposons que la commande <code>npm install</code> √©t√© ex√©cut√©e pour installer les d√©pendances d'un certain projet.  Au cours du processus d'installation, npm a r√©cup√©r√© les packages appropri√©s.  Si vous ex√©cutez √† nouveau cette commande, apr√®s un certain temps, et si de nouvelles versions des d√©pendances sont publi√©es pendant cette p√©riode, il peut arriver que la deuxi√®me fois que d'autres versions des packages utilis√©s dans le projet soient charg√©es.  Par exemple, si vous installez une d√©pendance, comme <code>twilio</code> , √† l'aide de la <code>npm install twilio</code> , l'entr√©e suivante peut appara√Ætre dans la section des <code>dependencies</code> du fichier <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">{ "dependencies": {    "twilio": "^3.30.3" } }</code> </pre> <br>  Si vous consultez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation de</a> gestion des versions s√©mantique npm, vous pouvez voir que l'ic√¥ne <code>^</code> indique que n'importe quelle version du package est appropri√©e, dont le nombre est sup√©rieur ou √©gal √† 3.30.3 et inf√©rieur √† 4.0.0.  Par cons√©quent, s'il n'y a pas de fichier de verrouillage dans le projet et qu'une nouvelle version du package est publi√©e, la commande <code>npm install</code> ou <code>yarn install</code> installera automatiquement cette nouvelle version du package.  Les informations contenues dans <code>package.json</code> ne seront pas mises √† jour.  Lorsque vous utilisez des fichiers de verrouillage, tout semble diff√©rent. <br><br>  Si npm ou yarn trouve le fichier de verrouillage correspondant, ils installeront des packages bas√©s sur ce fichier, et non sur <code>package.json</code> .  Cela est particuli√®rement utile, par exemple, lorsque vous utilisez des syst√®mes d'int√©gration continue (CI) sur des plates-formes sur lesquelles vous devez garantir un fonctionnement uniforme du code et des tests dans un environnement dont les caract√©ristiques sont connues √† l'avance.  Dans de tels cas, vous pouvez utiliser des commandes ou des indicateurs sp√©ciaux lors de l'appel des gestionnaires de packages appropri√©s: <br><br><pre> <code class="javascript hljs">npm ci #   ,    package-lock.json yarn install --frozen-lock-file #  ,    yarn.lock,    </code> </pre> <br>  Ceci est extr√™mement utile si vous d√©veloppez un projet comme une application Web ou un serveur, car dans un environnement CI, vous devez simuler le comportement de l'utilisateur.  Par cons√©quent, si nous incluons un fichier de verrouillage dans le r√©f√©rentiel du projet (par exemple, cr√©√© √† l'aide des outils git), nous pouvons √™tre s√ªrs que chaque d√©veloppeur, chaque serveur, chaque syst√®me de construction de code et chaque environnement CI utilise les m√™mes versions d√©pendances. <br><br>  Pourquoi ne pas faire de m√™me lors de la publication de biblioth√®ques ou d'autres outils logiciels dans le registre npm?  Avant de r√©pondre √† cette question, nous devons parler du fonctionnement du processus de publication des packages. <br><br><h2>  <font color="#3AC1EF">Processus de publication des packages</font> </h2><br>  Certains d√©veloppeurs pensent que ce qui est publi√© dans npm est exactement ce qui est stock√© dans le r√©f√©rentiel git, ou ce que le projet se transforme apr√®s l'ach√®vement des travaux sur celui-ci.  Ce n'est en fait pas le cas.  Lors de la publication d'un package, npm recherche les fichiers √† publier en acc√©dant √† la cl√© de <code>files</code> dans le fichier <code>package.json</code> et le fichier <code>.npmignore</code> .  Si rien de tout cela ne peut √™tre d√©tect√©, le fichier <code>.gitignore</code> est utilis√©.  De plus, certains fichiers sont toujours publi√©s et d'autres ne sont jamais publi√©s.  Vous pouvez d√©couvrir quels sont ces fichiers <a href="">ici</a> .  Par exemple, npm ignore toujours le dossier <code>.git</code> . <br><br>  Apr√®s cela, npm prend tous les fichiers appropri√©s et les place dans un fichier <code>tarball</code> √† l'aide de la commande <code>npm pack</code> .  Si vous souhaitez regarder ce qui est exactement contenu dans un tel fichier, vous pouvez ex√©cuter la commande <code>npm pack --dry-run</code> dans le dossier du projet et consulter la liste des mat√©riaux dans la console. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/83e/1a1/edc/83e1a1edc6fc37c9573fd816103f5f3e.png"></div><br>  <i><font color="#999999">Npm pack - sortie de la commande s√®che</font></i> <br><br>  Le fichier <code>tarball</code> r√©sultant est ensuite t√©l√©charg√© dans le registre npm.  Lorsque vous ex√©cutez la commande <code>npm pack --dry-run</code> vous pouvez faire attention au fait que s'il existe un fichier <code>package-lock.json</code> dans le projet, il n'est pas inclus dans le fichier tarball.  Cela est d√ª au fait que ce fichier, conform√©ment aux <a href="">r√®gles</a> npm, est toujours ignor√©. <br><br>  Le r√©sultat est que si quelqu'un installe le package de quelqu'un d'autre, le fichier <code>package-lock.json</code> ne sera pas impliqu√©.  Ce qui se trouve dans ce fichier, le d√©veloppeur du package ne sera pas pris en compte lors de l'installation du package par quelqu'un d'autre. <br><br>  Cela peut, par une co√Øncidence malchanceuse, conduire au probl√®me dont nous avons parl√© au tout d√©but.  Dans le syst√®me du d√©veloppeur, le code fonctionne correctement et dans d'autres syst√®mes, il g√©n√®re des erreurs.  Mais le fait est que le d√©veloppeur du projet et ceux qui utilisent le projet utilisent diff√©rentes versions des packages.  Comment y rem√©dier? <br><br><h2>  <font color="#3AC1EF">Refus de fichiers verrouill√©s et utilisation de la technologie de film r√©tractable</font> </h2><br>  Vous devez d'abord emp√™cher l'inclusion de fichiers de verrouillage dans le r√©f√©rentiel du projet.  Lorsque vous utilisez git, vous devez inclure les √©l√©ments suivants dans votre fichier <code>.gitignore</code> projet: <br><br><pre> <code class="plaintext hljs">yarn.lock package-lock.json</code> </pre> <br>  La documentation de <code>yarn.lock</code> indique que <code>yarn.lock</code> doit √™tre ajout√© au r√©f√©rentiel m√™me s'il s'agit de d√©velopper la biblioth√®que que vous pr√©voyez de publier.  Mais si vous voulez que vous et vos utilisateurs de biblioth√®que travaillez avec le m√™me code, je recommanderais d'inclure <code>yarn.lock</code> dans le fichier <code>.gitignore</code> . <br><br>  Vous pouvez d√©sactiver la cr√©ation automatique du fichier <code>package-lock.json</code> en <code>.npmrc</code> fichier <code>.npmrc</code> avec le contenu suivant dans le dossier du projet: <br><br><pre> <code class="javascript hljs">package-lock=<span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br>  Lorsque vous travaillez avec yarn, vous pouvez utiliser la commande <code>yarn install --no-lockfile</code> , qui vous permet de d√©sactiver la lecture du fichier <code>yarn.lock</code> . <br><br>  Cependant, le fait que nous nous soyons d√©barrass√©s du fichier <code>package-lock.json</code> ne signifie pas que nous ne pouvons pas capturer d'informations sur les d√©pendances et les d√©pendances imbriqu√©es.  Il <a href="">existe un autre fichier</a> appel√© <code>npm-shrinkwrap.json</code> . <br><br>  En g√©n√©ral, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s'agit du m√™me fichier</a> que <code>package-lock.json</code> , il est cr√©√© par la <code>npm shrinkwrap</code> .  Ce fichier p√©n√®tre dans le registre npm lorsque le package est publi√©. <br><br>  Afin d'automatiser cette op√©ration, la <code>npm shrinkwrap</code> peut √™tre ajout√©e √† la section de description de script du fichier <code>package.json</code> en tant que script de pr√©emballage.  Vous pouvez obtenir le m√™me effet en utilisant le hook git commit.  Par cons√©quent, vous pouvez √™tre s√ªr que dans votre environnement de d√©veloppement, dans votre syst√®me CI et les utilisateurs de votre projet utilisent les m√™mes d√©pendances. <br><br>  Il convient de noter qu'il est recommand√© d'utiliser cette technique de mani√®re responsable.  En cr√©ant des fichiers de film r√©tractable, vous validez des versions sp√©cifiques des d√©pendances.  D'une part, cela est utile pour assurer le fonctionnement stable du projet, d'autre part, cela peut emp√™cher les utilisateurs d'installer des correctifs critiques, ce qui, sinon, se ferait automatiquement.  En fait, npm recommande fortement de ne pas utiliser de fichiers r√©tractables lors du d√©veloppement de biblioth√®ques, limitant leur utilisation √† quelque chose comme les syst√®mes CI. <br><br><h2>  <font color="#3AC1EF">Recherche d'informations sur les packages et les d√©pendances</font> </h2><br>  Malheureusement, avec toute la richesse des informations sur la gestion des d√©pendances dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> npm, il est parfois difficile de naviguer dans ces informations.  Si vous voulez savoir exactement ce qui est install√© lors de l'installation des d√©pendances ou emball√© avant d'envoyer le paquet √† npm, vous pouvez, avec diff√©rentes commandes, utiliser l' <code>--dry-run</code> .  L'utilisation de ce drapeau conduit au fait que l'√©quipe n'affecte pas le syst√®me.  Par exemple, la commande <code>npm install --dry-run</code> n'installe pas r√©ellement les d√©pendances et la commande <code>npm publish --dry-run</code> ne d√©marre pas le processus de publication du package. <br><br>  Voici quelques commandes similaires: <br><br><pre> <code class="plaintext hljs">npm ci --dry-run #  ,   package-lock.json   npm-shrinkwrap.json npm pack --dry-run #     ,       npm install &lt;dep&gt; --verbose --dry-run #           </code> </pre> <br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Une grande partie de ce dont nous avons parl√© ici repose sur les sp√©cificit√©s de l'ex√©cution de diverses op√©rations √† l'aide de npm.  Nous parlons d'empaquetage, de publication, d'installation de packages, de travail avec les d√©pendances.  Et √©tant donn√© que le npm √©volue constamment, nous pouvons dire que tout cela peut changer √† l'avenir.  De plus, la possibilit√© d'application pratique des recommandations donn√©es ici d√©pend de la fa√ßon dont le d√©veloppeur du package per√ßoit le probl√®me de l'utilisation de diff√©rentes versions de d√©pendances dans diff√©rents environnements. <br><br>  J'esp√®re que ce mat√©riel vous a aid√© √† mieux comprendre le fonctionnement de l'√©cosyst√®me de d√©pendance npm.  Si vous souhaitez approfondir cette question, vous pouvez lire ici les diff√©rences entre les commandes d' <code>npm install</code> <code>npm ci</code> et <code>npm install</code> .  <a href="">Ici,</a> vous pouvez d√©couvrir ce qui se trouve exactement dans les <code>npm-shrinkwrap.json</code> <code>package-lock.json</code> et <code>npm-shrinkwrap.json</code> .  <a href="">Voici</a> la page de documentation de npm o√π vous pouvez d√©couvrir quels fichiers de projet sont inclus et non inclus dans les packages. <br><br>  <b>Chers lecteurs!</b>  Utilisez-vous le fichier npm-shrinkwrap.json dans vos projets? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453582/">https://habr.com/ru/post/fr453582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453572/index.html">Microsoft Edge pour macOS</a></li>
<li><a href="../fr453574/index.html">Gestion des produits B2B</a></li>
<li><a href="../fr453576/index.html">Frontend Weekly Digest (20-26 mai 2019)</a></li>
<li><a href="../fr453578/index.html">De la critique aux algorithmes: labels, soci√©t√©s et culture musicale du XXe si√®cle</a></li>
<li><a href="../fr453580/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 366 (20-26 mai 2019)</a></li>
<li><a href="../fr453584/index.html">Pr√©parez-vous: Angular 8 est proche</a></li>
<li><a href="../fr453586/index.html">API IntersectionObserver et chargement d'images paresseuses</a></li>
<li><a href="../fr453588/index.html">Opus sur Sa Majest√© Clay. Quatri√®me partie - Silicones</a></li>
<li><a href="../fr453590/index.html">Votre propre SaaS personnel</a></li>
<li><a href="../fr453592/index.html">Gagner sa vie et faire des jeux: 11 conseils Levelord</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>