<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ñ üññüèæ üë∞üèª Zabbix Review: So organisieren Sie eine Code√ºberpr√ºfung zur √úberwachung der Konfiguration üëßüèª üë∂üèæ üÜë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Code Review - Engineering-Praxis im Sinne einer flexiblen Entwicklungsmethodik. Dies ist eine Analyse (Inspektion) des Codes, um Fehler, M√§ngel und Un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zabbix Review: So organisieren Sie eine Code√ºberpr√ºfung zur √úberwachung der Konfiguration</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/433126/"><p>  Code Review - Engineering-Praxis im Sinne einer flexiblen Entwicklungsmethodik.  Dies ist eine Analyse (Inspektion) des Codes, um Fehler, M√§ngel und Unstimmigkeiten beim Schreiben des Codes zu identifizieren und zu verstehen, ob der Code die Aufgabe l√∂st. </p><br><p><img src="https://habrastorage.org/webt/ek/rm/ur/ekrmurfptreli-wzvyrdbwm6ycg.png"></p><br><p>  Heute werde ich dar√ºber sprechen, wie wir den √úberpr√ºfungsprozess f√ºr die √úberwachung der Konfiguration in Zabbix organisiert haben.  Der Artikel ist n√ºtzlich f√ºr diejenigen, die mit dem Zabbix-√úberwachungssystem arbeiten, sowohl in einem gro√üen Team als auch allein, selbst wenn Sie ‚Äûzehn Hosts haben, was zu √ºberpr√ºfen ist‚Äú. </p><a name="habracut"></a><br><h1 id="kakie-problemy-reshaem">  Welche Probleme l√∂sen wir? </h1><br><p>  Zur √úberwachung unserer internen Services und zum Aufbau der Infrastruktur verwenden wir Zabbix.  Wir haben Namenskonventionen - <strong>Namenskonventionen</strong> (wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verwenden ein Vorbild mit Rollenhervorhebung, Profilvorlagen</a> f√ºr die √úberwachung), aber es gibt kein spezielles √úberwachungsteam (es gibt leitende Ingenieure, die den Hund in √úberwachungsfragen ‚Äûgefressen‚Äú haben), es gibt Ingenieure und Junioringenieure, ~ 500 Hosts, ~ 150 Vorlagen (kleine, aber sehr dynamische Infrastruktur). </p><br><p>  Diese Infrastruktur wird zur Unterst√ºtzung und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Automatisierung von Entwicklungsprozessen im Unternehmen verwendet</a> . Zus√§tzlich zu deren Unterst√ºtzung entwickeln wir auch Automatisierungs- und Integrationstools. Daher haben wir wenig Erfahrung und Verst√§ndnis f√ºr Entwicklungsprozesse von innen. </p><br><p>  Mit der Zunahme der Mitarbeiterzahl und den √Ñnderungen im √úberwachungssystem traten immer mehr typische Fehler auf, die schwer nachzuvollziehen waren: </p><br><ol><li>  Bindungselement, direkt an Hosts au√üerhalb der Vorlagen ausl√∂sen (und einige Hosts bleiben nicht √ºberwacht). </li><li>  Falscher Wert der Trigger (irgendwie vereinbart auf einem verf√ºgbaren Speicherplatz von 3 GB, aber ein Tippfehler, wir erhalten einen nie funktionierenden Trigger von 34 GB). </li><li>  Nichteinhaltung der <strong>Namenskonvention</strong> - und wir erhalten den unverst√§ndlichen Namen des Triggers " <strong>Skript fehlgeschlagen"</strong> (obwohl dies bedeutet, dass das Update-√úbermittlungssystem nicht funktioniert) oder der <strong>Vorlage "Gitlab-</strong> Vorlagen" (√úberwachung welchen Servers oder Agenten?). </li><li>  Deaktivieren eines tempor√§ren Triggers f√ºr Tests.  Infolgedessen haben wir die Warnung in der Infrastruktur verpasst und sind aufgestanden. </li></ol><br><p>  In der Welt der Programmierer werden all diese Probleme ganz einfach gel√∂st: Linter, Codereview.  Warum also nicht diese Best Practices f√ºr eine √úberpr√ºfung der Zabbix-Konfiguration nutzen?  Nimm es! </p><br><p><img src="https://habrastorage.org/webt/4e/x5/gp/4ex5gpgcbqruon7lg2ogwgiz-iq.png"></p><br><p>  Wir haben bereits fr√ºher √ºber die Vorteile und Beispiele der Code√ºberpr√ºfung geschrieben: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Implementierung von Codeinspektionen im Entwicklungsprozess</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein praktisches Beispiel f√ºr die Implementierung von Codeinspektion,</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Codeinspektion.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zusammenfassung</a> </p><br><p>  Warum ben√∂tigen Sie m√∂glicherweise eine √úberpr√ºfung der Zabbix-Konfigurationen: </p><br><ul><li>  √úberpr√ºfen Sie, ob Hosts und Vorlagen im Befehl als akzeptiert benannt sind ( <strong>Namenskonvention</strong> ). </li><li>  Trainieren Sie neue Mitarbeiter und stellen Sie sicher, dass sie die besprochene Aufgabe erf√ºllt haben. </li><li>  Wissenstransfer zwischen erfahrenen Mitarbeitern. </li><li>  Beachten Sie, dass Ausl√∂ser versehentlich oder vor√ºbergehend ausgeschaltet werden. </li><li> Beachten Sie falsche Werte in Element oder Trigger - <strong>last (0)</strong> anstelle von <strong>min (5 m)</strong> . </li></ul><br><p>  F√ºgen Sie Ihre Probleme in die Kommentare ein und versuchen Sie gemeinsam herauszufinden, wie Sie sie mit einer √úberpr√ºfung l√∂sen k√∂nnen. </p><br><h1 id="kak-u-zabbix--s-otslezhivaniem-izmeneniy">  Wie Zabbix mit √Ñnderungsverfolgung </h1><br><p>  Zabbix verf√ºgt √ºber ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Audit-</a> Subsystem, mit dessen Hilfe wir untersuchen, wer √Ñnderungen an der Konfiguration vorgenommen hat.  Der wesentliche Nachteil ist die gro√üe Anzahl gespeicherter Ereignisse, da jedes Benutzerereignis gespeichert wird. </p><br><p>  Stellen Sie sich vor, dass jede √Ñnderung am Code im Git-Verlauf verbleibt. Sie haben versucht, den Variablennamen f√ºr eine Stunde auszuw√§hlen, 40 Optionen ausprobiert und alle sind jetzt gespeichert. Jede √Ñnderung ist ein separates Commit. Anschlie√üend wird der Verlauf dieser Commits der √úberpr√ºfung √ºbergeben, ohne dass Start und Ende verglichen werden k√∂nnen Version.  Schrecklich, richtig? </p><br><p>  Und in Zabbix Audit ist das richtig.  Es kann verwendet werden, um √Ñnderungen zu verfolgen, aber es erm√∂glicht Ihnen nicht, den Unterschied (diff) zwischen den beiden Zust√§nden des Systems (am Anfang der Woche und am Ende) schnell zu erkennen.  Dar√ºber hinaus sind alle ihre Aktionen nach Typ unterteilt: Hinzuf√ºgen, √Ñndern, L√∂schen m√ºssen in verschiedenen Fenstern angezeigt werden.  Ein Beispiel finden Sie in Ihrem Zabbix auf der Registerkarte Audit (oder sehen Sie sich den Screenshot an).  Es ist schwer zu verstehen, welcher Zustand anf√§nglich ist, was aktuell ist, welche √Ñnderungen w√§hrend der Woche vorgenommen wurden.  Die Situation ist kompliziert, wenn wir Dutzende von √Ñnderungen pro Woche haben. </p><br><p><img src="https://habrastorage.org/webt/l9/if/s3/l9ifs3scz-iuc-q_pgypr8ue4zg.png"></p><br><p>  Ich m√∂chte einen Mechanismus, der Folgendes erm√∂glicht: </p><br><ol><li>  Machen Sie einmal pro Woche oder nach Abschluss der Aufgabe zum √Ñndern der √úberwachungslogik eine Besetzung des Systemstatus. </li><li>  Vergleichen Sie das aktuelle Konfigurationsnugget mit dem vorherigen Nugget (diff). </li><li>  Namenskonvention automatisch √ºberpr√ºfen. </li><li>  √úberpr√ºfen Sie die Qualit√§t der Aufgabe, geben Sie Empfehlungen, Ratschl√§ge und diskutieren Sie L√∂sungen. </li><li>  √úberpr√ºfen Sie, ob die √Ñnderungen legitim sind - alle werden gem√§√ü der Aufgabe vorgenommen. </li><li>  Verwenden Sie vertraute Tools f√ºr Entwickler - Git, Diff, Mergerequest. </li><li>  F√ºhren Sie einen Rollback auf einen bestimmten Status des Systems durch, verlieren Sie jedoch keine Daten (daher ist eine Sicherung nicht geeignet). </li><li>  Steuern Sie Zabbix-Entit√§ten - Host, Vorlagen, Aktion, Makros, Bildschirm, Karte. </li></ol><br><p>  Lassen Sie uns nun dar√ºber sprechen, wie wir den Mechanismus implementiert haben und wie er f√ºr Ihre Zabbix-Infrastruktur n√ºtzlich sein kann. </p><br><h1 id="delaem-zabbix-configuration-review">  √úberpr√ºfung der Zabbix-Konfiguration </h1><br><p>  Zum Speichern der Zabbix-Konfiguration verwenden wir die folgenden Formate: </p><br><ol><li>  Original <strong>XML</strong> - Exportiert mit dem Original <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zabbix Export</a> .  Verwendung f√ºr Host-, Vorlagen- und Bildschirmobjekte.  Es gibt Funktionen: <br><ul><li>  XML ist schwer zu lesen und √Ñnderungen anzuzeigen. </li><li>  alle Felder enthalten, auch leere; </li><li>  enthalten das <strong>Felddatum</strong> - das Datum des Exports, wir schneiden es aus. </li></ul></li><li>  Roh- <strong>JSON</strong> - Einige Arten von Objekten, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zabbix nicht exportieren kann</a> (Aktionen, Mediatypen), aber sie sind wichtig, und ich m√∂chte die √Ñnderungen sehen. Daher nehmen wir die Rohdaten von ZabbixAPI und speichern sie in JSON. </li><li>  Lesbares <strong>YAML</strong> - Wir verarbeiten das exportierte XML und das unformatierte JSON und speichern es in lesbarem, praktischem Vanille-YAML.  Mit ihm ist es einfach, gro√üe Mengen an Ver√§nderungen mit Ihren Augen zu bew√§ltigen.  F√ºgen Sie dort eine kleine Verarbeitung hinzu: <br><ul><li>  Das Entfernen von Feldern ohne Werte ist ein strittiger Punkt, sodass wir ein leeres Feld √ºberspringen k√∂nnen, obwohl es beispielsweise mit einem Feld mit einer Beschreibung des Problems am Trigger (trigger.description) gef√ºllt werden sollte.  Nach der Diskussion wurde entschieden, dass es besser ist, leere Felder zu entfernen, es gibt zu viele davon.  Wenn Sie m√∂chten, k√∂nnen Sie einige leere Felder ausnehmen und nicht l√∂schen. </li><li>  Wir l√∂schen Daten - sie √§ndern sich jedes Mal und wenn Zusammenf√ºhrungsanforderungen als √Ñnderungen f√ºr jeden Host angezeigt werden. </li><li>  Sie k√∂nnen optional andere Vorg√§nge zum Ausf√ºllen von Informationen hinzuf√ºgen. Die Benutzer-ID wird beispielsweise anstelle von Benutzern in Aktion geschrieben. </li></ul></li></ol><br><p>  Wir unterscheiden drei Git-Repositorys (wir verwenden Gitlab als Speicher, aber jedes VCS kann dies tun): </p><br><ol><li>  <strong>zabbix-review-export</strong> - Hier werden der Exportcode (Python-Skripte) und die Parameter f√ºr gitlab-ci-Jobs gespeichert. </li><li>  <strong>zabbix-xml</strong> - Wir speichern XML + JSON in einem Zweig.  Die √úberpr√ºfung dieses Gesch√§fts ist schwierig und zeitaufw√§ndig.  Wird verwendet, um den Zabbix-Konfigurationsstatus f√ºr eine bestimmte Zeit wiederherzustellen. </li><li>  <strong>zabbix-yaml</strong> ist unser Haupt-Repository. Hier f√ºhren wir Anforderungen zusammen, sehen die √Ñnderungen, diskutieren die getroffenen Entscheidungen und f√ºhren sie im <strong>Master zusammen,</strong> wenn keine Kommentare vorhanden sind. </li></ol><br><p>  In diesen Repositorys speichern wir die Konfigurationsdaten, die Regeln dort sind wie folgt: </p><br><ul><li>  Gruppierung nach Objekttyp nach Ordner - vollst√§ndige Liste: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://gitlab.com/devopshq/zabbix-review-export#supported-objects</a> </li><li>  ein Objekt - eine Datei. </li></ul><br><p>  Jetzt sehen wir deutlich, welche Art von Objekt sich ge√§ndert hat, und es ist klar, welches Objekt sich ge√§ndert hat.  Im folgenden Beispiel hat sich die <strong>Profilvorlage</strong> ge√§ndert <strong>.</strong>  <strong>Scmdev.</strong>  <strong>FlusContinuousTest</strong> . </p><br><p><img src="https://habrastorage.org/webt/yy/8x/h0/yy8xh07pa2sfxnqqtxqlk3g6_8a.png"></p><br><h1 id="pokazhem-na-primerah">  Zeigen Sie an Beispielen </h1><br><p>  Um die √Ñnderungen anzuzeigen, verwenden wir den Merge-Request-Mechanismus in gitlab. </p><br><p>  Die Profilvorlage wurde ge√§ndert <strong>.</strong>  <strong>DevOps.</strong>  <strong>Test</strong> - hat den Triggerausdruck ge√§ndert.  Vorlage, wie sie sich im <strong>Vorlagenordner befindet</strong> : <br><img src="https://habrastorage.org/webt/zv/z_/dz/zvz_dzedyfkdsahqpqhr7qmmshq.png"></p><br><p>  Der Ausdruck im Trigger und die Priorit√§t wurden ge√§ndert: <br><img src="https://habrastorage.org/webt/ek/rm/ur/ekrmurfptreli-wzvyrdbwm6ycg.png"></p><br><p>  Link zu einer Vorlage einer anderen: <br><img src="https://habrastorage.org/webt/ly/hn/iq/lyhniqxqsgapehc2w9xqznu-0pa.png"></p><br><p>  Aktion ge√§ndert - Standardm√§√üig wurde am Ende des Textes eine neue Zeile hinzugef√ºgt: <br><img src="https://habrastorage.org/webt/p8/oa/lf/p8oalfrprqn-uyl3eeustwhrlfc.png"></p><br><p>  Ein Beispiel f√ºr Diskussionen in den Zusammenf√ºhrungsanforderungen (genau wie Programmierer!) - es ist ersichtlich, dass sie die Standardvorlage direkt mit dem Host verbunden haben, aber es lohnt sich, eine separate Rolle f√ºr die Zukunft hervorzuheben.  Screenshot aus der alten √úberpr√ºfung, dann weiterhin die XML-Darstellung der Konfiguration. <br><img src="https://habrastorage.org/webt/ms/pf/6e/mspf6ewwco3yvycc_qi3b5g6adq.png"></p><br><p>  Im Allgemeinen ist alles einfach: </p><br><ol><li>  Ein neuer Host oder ein anderes Objekt wurde hinzugef√ºgt - eine neue Datei wurde erstellt. </li><li>  Der Host oder ein anderes Objekt wurde ge√§ndert - sah diff aus. </li><li>  Gel√∂scht - Die Datei wurde gel√∂scht. </li></ol><br><p>  Angenommen, Sie haben eine Aufgabe erledigt und m√∂chten einen Kollegen fragen, ob Sie etwas vergessen haben.  Wir bitten um eine √úberpr√ºfung: <strong>F√ºhren Sie dazu</strong> im <strong>zabbix-review-export-</strong> Repository den gitlab-ci-Job mit einem manuellen Start aus. <br><img src="https://habrastorage.org/webt/wn/9i/v8/wn9iv8ffc_nrvaibw41parqidu8.png"></p><br><p>  Wir weisen einem Kollegen, der die Code√ºberwachungsinfrastruktur √ºberpr√ºft, bespricht und korrigiert, eine Zusammenf√ºhrungsanforderung zu. </p><br><p>  Einmal pro Woche wird eine neue √úberpr√ºfung gestartet, um kleine √Ñnderungen zu verfolgen. Dazu wird gem√§√ü dem Zeitplan ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zeitplan</a> ) die Konfiguration exportiert und im Git-Repository gespeichert (mit einem neuen Commit), und der √úberwachungsguru √ºberpr√ºft die √Ñnderungen. </p><br><h1 id="myagko-stelesh-no-nado-poprobovat">  Sie verbreiten sich sanft, aber Sie m√ºssen es versuchen </h1><br><p>  Jetzt erfahren Sie, wie Sie dieses System f√ºr die √úberpr√ºfung der Zabbix-Konfiguration konfigurieren ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wir lieben Open Source</a> und versuchen, unsere Best Practices mit der Community zu teilen). </p><br><p>  Es gibt zwei Verwendungsm√∂glichkeiten: </p><br><ol><li> F√ºhren Sie das Exportskript einfach von Hand aus - f√ºhren Sie das Skript aus, sehen Sie sich die √Ñnderungen an und lassen Sie <code>git add * &amp;&amp; git commit &amp;&amp; git push</code> .  Diese Option eignet sich f√ºr seltene √Ñnderungen oder wenn Sie nur mit einem √úberwachungssystem arbeiten. </li><li>  Verwenden Sie gitlab-ci f√ºr die Automatisierung - dann m√ºssen Sie nur noch auf die Schaltfl√§che Start klicken (siehe Abbildung oben).  Option ist eher f√ºr gro√üe geeignet <del>  faul </del>  Teams oder mit h√§ufigen √Ñnderungen. </li></ol><br><p>  Beide Optionen werden im Repository <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://gitlab.com/devopshq/zabbix-review-export</a> beschrieben, in dem alles gespeichert ist, was Sie ben√∂tigen - Skripte, gitlab-ci und README.md-Einstellungen, wie Sie Ihre Infrastruktur einrichten. </p><br><p>  Versuchen Sie zun√§chst die erste Option (oder wenn Sie nicht √ºber die gitlab-ci-Infrastruktur verf√ºgen): Verwenden Sie den manuellen Modus - f√ºhren Sie das Skript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zabbix-export.py aus</a> , um die Konfiguration zu exportieren (zu sichern), und f√ºgen Sie <code>git add * &amp;&amp; git commit &amp;&amp; git push</code> auf Ihrem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Arbeitscomputer</a> <code>git add * &amp;&amp; git commit &amp;&amp; git push</code> .  Wenn Sie m√ºde werden, gehen Sie zur zweiten Option - Automatisierung automatisieren! </p><br><h1 id="problemy-i-vozmozhnye-uluchsheniya">  Probleme und m√∂gliche Verbesserungen </h1><br><p>  Jetzt werden die √Ñnderungen entpers√∂nlicht. Um herauszufinden, wer die √Ñnderungen vorgenommen hat, m√ºssen Sie das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Audit-</a> System verwenden, das Schmerzen und Leiden verursacht.  Aber nicht alles ist so be√§ngstigend und Audit wird selten ben√∂tigt. Normalerweise reicht eine Nachricht im Team-Chat aus, um den richtigen Mitarbeiter zu finden. </p><br><p>  Ein weiteres Problem: Wenn sich ein Host oder Element in einem Host √§ndert, ist es nicht in XML enthalten.  Das hei√üt, wir k√∂nnen alle Trigger auf einem bestimmten Host ausschalten oder ihre Priorit√§t auf eine niedrigere √§ndern - und niemand wird davon erfahren und uns korrigieren!  Wir warten auf eine L√∂sung unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://support.zabbix.com/browse/ZBX-15175</a> </p><br><p>  Bis sie einen Mechanismus f√ºr die automatische Wiederherstellung entwickelten.  Angenommen, eine Vorlage oder ein Host wurde stark ge√§ndert. Wir verstehen, dass die √Ñnderungen falsch sind und Sie alles so zur√ºckgeben m√ºssen, wie es war.  Jetzt suchen wir nach dem erforderlichen XML f√ºr den entsprechenden Host und importieren es manuell in die Benutzeroberfl√§che. Wir wollten jedoch nur auf die Schaltfl√§che "Die Vorlage TemplateName auf den Commit-Hash-Commit-Status zur√ºcksetzen" klicken. </p><br><p>  Sie k√∂nnen die bidirektionale Synchronisierung implementieren. Wenn √Ñnderungen an der Zabbix-Konfiguration vorgenommen werden, wenn √Ñnderungen an YAML vorgenommen werden, m√ºssen Sie nicht zur Weboberfl√§che des Zabbix-Systems wechseln.  Auf Github haben wir ein √§hnliches Projekt getroffen, aber irgendwie ist es schnell verblasst und die Community hat die Idee nicht akzeptiert.  Anscheinend ist es nicht so einfach, in YAML zu implementieren, was Sie mit der Maus in der Weboberfl√§che klicken k√∂nnen.  Aus diesem Grund haben wir uns f√ºr eine Einweginteraktion entschieden. </p><br><p>  <strong>Die ideale Option</strong> besteht darin, dieses System zum Speichern der Konfiguration als Code in Zabbix einzubetten, auch wenn dies nur im XML-Format erfolgt.  So geschieht dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf dem TeamCity CI-Server</a> : √úber die Benutzeroberfl√§che konfigurierte Konfigurationen f√ºhren Commits im Namen des Benutzers durch, der die Konfiguration ge√§ndert hat.  Es stellt sich als sehr praktisches Werkzeug zum Anzeigen von √Ñnderungen heraus und beseitigt auch das Problem der Depersonalisierung von √Ñnderungen. </p><br><h1 id="poprobuyte">  Versuchen Sie es </h1><br><p>  Starten Sie den Export Ihrer Zabbix-Konfiguration, schreiben Sie sie in ein Repository (lokal genug), warten Sie eine Woche und f√ºhren Sie sie erneut aus.  Jetzt haben Sie die √Ñnderungen unter Kontrolle!  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://gitlab.com/devopshq/zabbix-review-export</a> </p><br><p>  Wer w√ºrde sich f√ºr diese Funktionalit√§t in der Zabbix-Box interessieren - bitte stimmen Sie f√ºr die Ausgabe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://support.zabbix.com/browse/ZBXNEXT-4862 ab</a> </p><br><p>  Alle 100% Betriebszeit! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433126/">https://habr.com/ru/post/de433126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433112/index.html">Unterhaltsames JavaScript: Schneetag</a></li>
<li><a href="../de433114/index.html">PMP-Zertifizierung: Vorbereitung auf die Pendlerpr√ºfung</a></li>
<li><a href="../de433116/index.html">Flammenwerfer, Weihnachtsmann auf einem Panzer, Bigfoot, Baba Yaga auf Endurica (und m√∂glicherweise ein Jetpack) - alles f√ºr Kinder f√ºr das neue Jahr</a></li>
<li><a href="../de433118/index.html">Benchmark-Tests und schnelle Analyse von Permutationsalgorithmen</a></li>
<li><a href="../de433122/index.html">React-Hot-Loader v4.6</a></li>
<li><a href="../de433128/index.html">Was IT-Profis spielen und was nicht (Bulletin 2018)</a></li>
<li><a href="../de433130/index.html">M√∂ge Gewalt mit uns sein: unsere eigene Immunit√§t gegen Krebs</a></li>
<li><a href="../de433132/index.html">"Testerkalender" f√ºr Dezember. Versuchen Sie einen anderen Ansatz</a></li>
<li><a href="../de433136/index.html">System.Transactions-Infrastruktur in der .NET-Welt</a></li>
<li><a href="../de433138/index.html">F√ºnf Prinzipien des Produktdesigns bei Booking</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>