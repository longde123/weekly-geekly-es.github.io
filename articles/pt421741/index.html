<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äç‚öñÔ∏è üëä üë©üèº‚Äç‚úàÔ∏è Por que um homem no mundo Java se tornou um fervoroso defensor do Node.js e JavaScript? üë©üèΩ‚Äçüé§ üõÄüèº üßîüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="David Harron, autor do material que estamos publicando hoje, fez a seguinte pergunta: ‚ÄúUma pessoa que trabalhou por mais de 10 anos na Sun Microsystem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Por que um homem no mundo Java se tornou um fervoroso defensor do Node.js e JavaScript?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/421741/">  David Harron, autor do material que estamos publicando hoje, fez a seguinte pergunta: ‚ÄúUma pessoa que trabalhou por mais de 10 anos na Sun Microsystems na equipe Java SE, at√© o √∫ltimo suspiro, deve pensar apenas no bytecode Java e criar inst√¢ncias de interfaces abstratas? "  Ele fez essa pergunta em rela√ß√£o a si mesmo e, para ele, a plataforma Node.js, depois do Java, acabou sendo uma lufada de ar fresco.  David diz que, quando foi demitido da Sun em janeiro de 2009 (pouco antes da aquisi√ß√£o desta empresa Oracle), ele descobriu o Node.js.  Essa tecnologia o fisgou.  O que significa "viciado"?  Desde 2010, ele escreveu muito sobre programa√ß√£o para o Node.js.  Nomeadamente, ele escreveu v√°rios livros, incluindo o Node.js Web Development, cuja quarta edi√ß√£o foi lan√ßada este ano.  Ele preparou muitos materiais pequenos sobre o Node.js publicados na Internet.  Na verdade, ele gastou muito tempo e esfor√ßo conversando sobre a plataforma Node.js. e os recursos JavaScript.  Por que os que anteriormente trabalhavam exclusivamente em Java estavam t√£o atra√≠dos pelo Node.js e pelo JavaScript? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/a7f/04b/29b/a7f04b29bb9ae083524906ac68f0d47b.jpg" alt="imagem"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Sobre o mundo Java</font> </h2><br>  Enquanto trabalhava na Sun, eu acreditava na tecnologia Java.  Fiz apresenta√ß√µes no JavaONE, participei do desenvolvimento da classe java.awt.Robot, organizei o evento Mustang Regressions Contest (era um concurso destinado a encontrar erros no Java 1.6), ajudei a lan√ßar o projeto Distributions License for Java, que serviu de resposta √† pergunta sobre distribui√ß√µes Linux JDK antes do advento do OpenJDK.  Mais tarde, participei do lan√ßamento do projeto OpenJDK.  Ao longo do caminho, por cerca de 6 anos, publiquei material de blog em java.net (agora este site est√° fechado).  Tratava-se de 1 a 2 artigos por semana, dedicados a eventos significativos no ecossistema Java.  Um papel significativo em meu trabalho foi desempenhado ao proteger o Java daqueles que previram um futuro sombrio para essa tecnologia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0d9/adb/964/0d9adb9644509d8a25f21ebda093c506.jpg"><br>  <i><font color="#999999">Esse pr√™mio, o Duke Award, foi concedido aos funcion√°rios mais destacados da Sun.</font></i>  <i><font color="#999999">Comprei depois que organizei o Concurso de Regress√µes do Mustang</font></i> <br><br>  O que aconteceu com a pessoa que fez tanto com tudo relacionado ao Java?  Na verdade, aqui quero falar sobre como mudei de um devoto de Java para um fervoroso suporte a Node.js e JavaScript. <br><br>  Devo dizer que o que aconteceu comigo n√£o pode ser chamado de abandono completo do Java.  Nos √∫ltimos 3 anos, escrevi bastante c√≥digo Java, usei o Spring e o Hibernate.  Embora eu realmente goste do que agora fa√ßo nesta √°rea (trabalho no setor de energia solar, fa√ßo o que gosto de fazer, por exemplo - escrevo solicita√ß√µes para trabalhar com dados do setor de energia), programa√ß√£o em Java agora perdeu seu antigo esplendor. <br><br>  Dois anos de desenvolvimento usando o Spring me permitiram esclarecer claramente uma coisa importante: uma tentativa de ocultar mecanismos complexos n√£o leva √† simplicidade, apenas leva ao aparecimento de estruturas ainda mais complexas. <br><br>  Aqui est√£o, em resumo, as principais id√©ias que abordarei neste material: <br><br><ul><li>  Os programas Java est√£o cheios de c√≥digos padronizados que ocultam as inten√ß√µes do programador. </li><li>  Trabalhar com o Spring e o Spring Boot me deu uma boa li√ß√£o: tentar ocultar mecanismos complexos leva a constru√ß√µes ainda mais complexas. </li><li>  A plataforma Java EE foi um projeto criado, por assim dizer, por "esfor√ßos comuns", que cobrem absolutamente todas as necessidades do desenvolvimento de aplicativos corporativos.  Como resultado, a plataforma Java EE se mostrou proibitiva. </li><li>  Desenvolver com o Spring √©, at√© certo ponto, uma experi√™ncia agrad√°vel.  Essa ilus√£o desaparece no dia em que uma exce√ß√£o que √© completamente imposs√≠vel de entender surge das profundezas de um subsistema que voc√™ nunca ouviu falar e leva pelo menos tr√™s dias para descobrir qual √© o problema. </li><li>  Quais mecanismos auxiliares que criam uma carga excessiva no sistema voc√™ precisa de uma estrutura que possa "escrever" c√≥digo para programadores? </li><li>  Embora IDEs como o Eclipse sejam aplicativos poderosos, eles s√£o um indicador da complexidade do ecossistema Java. </li><li>  A plataforma Node.js surgiu como resultado dos esfor√ßos de uma pessoa para melhorar sua vis√£o de arquitetura leve orientada a eventos. </li><li>  A comunidade JavaScript parece entusiasmada em se livrar do c√≥digo padr√£o, que permite aos programadores expressar suas inten√ß√µes da maneira mais clara poss√≠vel. </li><li>  O ass√≠ncrono / espera √© uma solu√ß√£o para o problema do inferno de retorno de chamada JS, que √© um exemplo de rejei√ß√£o do c√≥digo do modelo e contribui para a clareza da express√£o das inten√ß√µes dos programadores. </li><li>  A programa√ß√£o para o Node.js √© um verdadeiro prazer. </li><li>  N√£o h√° digita√ß√£o forte espec√≠fica para Java em JavaScript.  Esta √© a b√™n√ß√£o e maldi√ß√£o da l√≠ngua.  Isso facilita a escrita do c√≥digo, mas, para verificar sua corre√ß√£o, voc√™ precisa dedicar mais tempo ao teste. </li><li>  O sistema de gerenciamento de pacotes introduzido pelo npm / yarn √© f√°cil e divertido de usar.  Ela n√£o pode ser comparada com Maven. </li><li>  Java e Node.js oferecem excelente desempenho.  Isso contraria o mito de que o JavaScript √© uma linguagem lenta, cujo uso leva ao baixo desempenho da plataforma Node.js. </li><li>  O Performance Node.js se baseia nos esfor√ßos do Google para melhorar o V8, o mecanismo que afeta a velocidade do navegador Chrome. </li><li>  A forte concorr√™ncia entre fabricantes de mecanismos JS baseados em navegador contribui para o desenvolvimento do JavaScript, e isso √© muito ben√©fico para o Node.js. </li></ul><br><h2>  <font color="#3AC1EF">Sobre problemas de desenvolvimento Java</font> </h2><br>  Algumas ferramentas ou objetos s√£o o resultado de muitos anos de esfor√ßos dos engenheiros para aprimor√°-los.  Os programadores tentam id√©ias diferentes, removem atributos desnecess√°rios e, como resultado, obt√™m entidades nas quais existe exclusivamente o necess√°rio para resolver um determinado problema.  Freq√ºentemente, essas tecnologias t√™m um tipo de simplicidade muito atraente que oculta recursos poderosos.  Isso n√£o se aplica ao Java. <br><br>  O Spring √© uma estrutura popular para o desenvolvimento de aplicativos da Web baseados em Java. <br><br>  O principal objetivo do Spring, e em particular o Spring Boot, √© fornecer a capacidade de usar a pilha Java EE pr√©-configurada.  O programador que usa o Spring n√£o deve, para criar um sistema pronto, cuidar de servlets, sistemas de armazenamento persistente, servidores de aplicativos e o que ainda √© desconhecido.  Todas essas preocupa√ß√µes s√£o passadas para o Spring, e o programador est√° escrevendo um c√≥digo que implementa a l√≥gica do aplicativo.  Por exemplo, os mecanismos JPARepository s√£o respons√°veis ‚Äã‚Äãpor gerar consultas ao banco de dados para m√©todos cujos nomes se parecem com <code>findUserByFirstName</code> .  O programador n√£o precisa escrever o c√≥digo para esses m√©todos.  Basta passar a descri√ß√£o do m√©todo para o sistema, e o Spring far√° o resto. <br><br>  Tudo parece muito bom, √© bom trabalhar nesse estilo, mas - at√© que algo inesperado aconte√ßa. <br><br>  Refiro-me a uma situa√ß√£o em que, por exemplo, um Hibernate <code>PersistentObjectException</code> √© lan√ßado com a mensagem que a <code>detached entity passed to persist</code> .  O que isso poderia significar?  Demorou v√°rios dias para descobrir.  Como se viu, se voc√™ descrever tudo de uma maneira muito simplificada, isso significa que os dados JSON recebidos no terminal REST possuem campos de ID com alguns valores.  O Hibernate, novamente, se n√£o entrar em detalhes, procura controlar os valores de ID e, como resultado, lan√ßa a exce√ß√£o obscura acima.  Existem milhares de mensagens de erro que s√£o confusas e dif√≠ceis de ler.  Considerando que existem cascatas inteiras de subsistemas baseadas uma na outra no Spring, a pilha do Spring parece um inimigo jurado de um programador que o observa e espera que o programador cometa o menor erro e, quando isso acontece, lan√ßa exce√ß√µes que n√£o s√£o compat√≠veis com ele opera√ß√£o normal do aplicativo. <br><br>  Al√©m disso, aqui voc√™ pode recuperar os rastreamentos de pilha mais longos.  Eles representam v√°rias telas cheias de todos os tipos de m√©todos abstratos.  O Spring obviamente cria a configura√ß√£o necess√°ria para implementar o que √© expresso no c√≥digo.  Esse n√≠vel de abstra√ß√£o, sem d√∫vida, requer uma quantidade consider√°vel de l√≥gica auxiliar, cujo objetivo √© descobrir tudo o que √© necess√°rio para o c√≥digo funcionar, por exemplo, para atender solicita√ß√µes.  E os rastreamentos de pilha longa n√£o s√£o necessariamente ruins.  Tais coisas provavelmente s√£o um sintoma, levando √† quest√£o de que tipo de carga no sistema √© criada por mecanismos auxiliares. <br><br>  Como o m√©todo <code>findUserByFirstName</code> √© <code>findUserByFirstName</code> , considerando que o programador n√£o escreveu o c√≥digo para esse m√©todo?  A estrutura precisa analisar o nome do m√©todo, entender a inten√ß√£o do programador, criar algo como uma √°rvore de sintaxe abstrata, gerar algum tipo de c√≥digo SQL e assim por diante.  Como tudo isso carrega o sistema?  E tudo isso existe apenas para que o programador n√£o precise escrever c√≥digo? <br><br>  Depois de passar algumas dezenas de vezes em algo como procurar o significado do erro acima, passar semanas tentando desvendar segredos que, em geral, voc√™ n√£o deve desvendar, pode chegar √† mesma conclus√£o que cheguei a .  Seu significado √© que uma tentativa de ocultar mecanismos complexos n√£o leva √† simplicidade, apenas leva ao aparecimento de estruturas ainda mais complexas.  A plataforma Node.js √© muito mais simples. <br><br>  O slogan "Compatibility Matters" ocultava uma id√©ia maravilhosa, segundo a qual a compatibilidade com vers√µes anteriores era a caracter√≠stica mais importante da plataforma Java.  Levamos isso a s√©rio, colocando imagens em camisetas como a que voc√™ pode ver abaixo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2a/cd5/c40/b2acd5c404b3bc69c4d3af9da1fd6952.jpg"><br>  <i><font color="#999999">A compatibilidade com vers√µes anteriores √© muito importante.</font></i> <br><br>  Obviamente, esse n√≠vel de aten√ß√£o √† compatibilidade com vers√µes anteriores pode ser uma fonte de ansiedade constante e, de tempos em tempos, √© √∫til afastar-se dos mecanismos antigos que n√£o se beneficiam mais. <br><br><h2>  <font color="#3AC1EF">Java e Node.js</font> </h2><br>  Spring e Java EE s√£o excessivamente complicados.  A plataforma Node.js, em seu contexto, √© vista como uma lufada de ar fresco.  A primeira coisa que voc√™ percebe ao se familiarizar com o Node.js √© a abordagem de Ryan Dahl para o desenvolvimento do n√∫cleo da plataforma.  Sua experi√™ncia lhe disse que as plataformas que usam fluxos s√£o necess√°rias para criar sistemas complexos e pesados.  Ele estava procurando outra coisa e passou alguns anos aprimorando o conjunto de mecanismos b√°sicos incorporados no Node.js.  Como resultado, ele obteve um sistema leve que se caracteriza por um √∫nico encadeamento de execu√ß√£o, uso inventivo de fun√ß√µes JavaScript an√¥nimas como retornos de chamada ass√≠ncronos e uma biblioteca de tempo de execu√ß√£o que originalmente implementa mecanismos ass√≠ncronos.  A mensagem inicial ao criar esse sistema foi fornecer processamento de eventos de alto desempenho com a entrega desses eventos em uma fun√ß√£o de retorno de chamada. <br><br>  A seguir, um recurso importante do Node.js √© o uso de JavaScript.  H√° um sentimento de que aqueles que escrevem em JS tendem a se livrar do c√≥digo do modelo, o que lhes permite descrever claramente as inten√ß√µes do programador. <br><br>  Como um exemplo da diferen√ßa entre Java e JavaScript, considere a implementa√ß√£o de fun√ß√µes de ouvinte (observadores).  Em Java, para trabalhar com ouvintes, √© necess√°rio criar uma inst√¢ncia espec√≠fica da interface abstrata.  Isso implica o uso de constru√ß√µes volumosas de linguagem que ocultam a ess√™ncia do que est√° acontecendo.  Como discernir a inten√ß√£o de um programador escondida sob as cobertas do c√≥digo padr√£o? <br><br>  O JavaScript usa fun√ß√µes an√¥nimas simples.  Ao implementar um ouvinte, voc√™ n√£o precisa procurar uma interface abstrata adequada.  √â suficiente, sem a necessidade de usar uma variedade de textos auxiliares, para escrever o c√≥digo necess√°rio. <br><br>  Portanto, aqui est√° uma id√©ia importante que pode ser extra√≠da da an√°lise dos mecanismos acima: a maioria das linguagens de programa√ß√£o oculta as inten√ß√µes do programador, o que leva ao fato de que o c√≥digo √© dif√≠cil de entender. <br><br>  A decis√£o sobre o uso das fun√ß√µes de retorno de chamada que o Node.js oferece parece muito atraente.  Mas n√£o √© sem problemas. <br><br><h2>  <font color="#3AC1EF">Resolu√ß√£o de Problemas e Resolu√ß√£o de Problemas</font> </h2><br>  No JavaScript, h√° muito tempo existem dois problemas associados √† programa√ß√£o ass√≠ncrona.  O primeiro √© o que o Node.js chama de inferno de retorno de chamada.  Esse problema est√° no fato de que, durante o desenvolvimento, √© f√°cil cair em uma armadilha criada a partir de fun√ß√µes de retorno de chamada profundamente aninhadas, em que cada n√≠vel de aninhamento complica o programa, al√©m de processar os resultados de c√≥digo e erros.  Havia outro problema relacionado a isso, cuja ess√™ncia era que os mecanismos da linguagem JavaScript n√£o ajudavam o programador a expressar adequadamente id√©ias de execu√ß√£o de c√≥digo ass√≠ncrona. <br><br>  V√°rias bibliotecas surgiram para simplificar o desenvolvimento ass√≠ncrono em JS.  Mas este √© outro exemplo de uma tentativa de ocultar mecanismos complexos que apenas levam ao aparecimento de estruturas ainda mais complexas. <br><br>  Considere um exemplo: <br><br><pre> <code class="hljs lua">const async = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'async'</span></span>); const fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>); const cat = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filez, fini)</span></span></span></span> { async.eachSeries(filez, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filenm, next)</span></span></span></span> {   fs.readFile(filenm, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err, data)</span></span></span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>(err);     process.<span class="hljs-built_in"><span class="hljs-built_in">stdout</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(data, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err)</span></span></span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>(err);       <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>();     });   }); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) fini(err);   <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> fini(); }); }; cat(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) console.<span class="hljs-built_in"><span class="hljs-built_in">error</span></span>(err.stack); });</code> </pre> <br>  Esta √© uma imita√ß√£o indefinida do <code>cat</code> do Unix.  A biblioteca <code>async</code> na simplifica√ß√£o de sequ√™ncias de chamadas ass√≠ncronas.  No entanto, seu uso requer uma grande quantidade de c√≥digo padr√£o que oculta a inten√ß√£o do programador. <br><br>  Em ess√™ncia, esse c√≥digo cont√©m um loop.  N√£o est√° escrito como um ciclo regular, n√£o utiliza as constru√ß√µes naturais da descri√ß√£o de ciclos.  Al√©m disso, os resultados da execu√ß√£o do c√≥digo e os erros gerados por eles n√£o chegam ao local correto.  Eles est√£o bloqueados nos retornos de chamada, o que √© inconveniente.  Por√©m, antes da implementa√ß√£o dos padr√µes ES2015 / 2016 no Node.js, nada melhor poderia ser feito. <br><br>  Se reescrevermos esse c√≥digo levando em considera√ß√£o novos recursos, que est√£o dispon√≠veis no Node.j 10.x, em particular, obteremos o seguinte: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>).promises; <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filenmz</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filenm <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> filenmz) {   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> data = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fs.readFile(filenm, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> {     process.stdout.write(data, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, (err) =&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) reject(err);       <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> resolve();     });   }); } } cat(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>)).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(err.stack); });</code> </pre> <br>  Neste exemplo, usamos a constru√ß√£o <code>async/await</code> .  Os mesmos mecanismos ass√≠ncronos s√£o apresentados aqui como no exemplo anterior, mas as estruturas usuais usadas na organiza√ß√£o de loops s√£o usadas aqui.  Trabalhar com resultados e erros parece bastante normal.  Esse c√≥digo √© mais f√°cil de ler e escrever.  Essa abordagem facilita a compreens√£o da inten√ß√£o do programador. <br><br>  A √∫nica desvantagem √© que <code>process.stdout.write</code> n√£o possui uma interface Promise, como resultado, esse mecanismo n√£o pode ser usado em fun√ß√µes ass√≠ncronas sem envolv√™-lo em uma promessa. <br><br>  Agora podemos concluir que o problema do inferno de retorno de chamada no JavaScript foi resolvido de uma maneira diferente da tentativa de ocultar mecanismos complexos.  Em vez disso, foram feitas altera√ß√µes no idioma, que resolveu o problema em si, e nos salvou do inconveniente causado pela necessidade de usar grandes quantidades de c√≥digo de modelo em uma solu√ß√£o tempor√°ria.  Al√©m disso, com o uso do mecanismo ass√≠ncrono / espera, o c√≥digo simplesmente se tornou mais bonito. <br><br>  Iniciamos esta se√ß√£o com uma discuss√£o sobre a falha do Node.js, mas uma √≥tima solu√ß√£o para o inferno de um retorno de chamada fez com que a conversa sobre falhas se transformasse em uma conversa sobre os pontos fortes do Node.js e do JavaScript. <br><br><h2>  <font color="#3AC1EF">Digita√ß√£o forte, interfaces e clareza de c√≥digo imagin√°rio</font> </h2><br>  Naqueles dias, quando eu protegia o Java de todos os tipos de ataques, enfatizei que a digita√ß√£o estrita permite que voc√™ escreva aplicativos enormes.  Naqueles dias, o desenvolvimento de sistemas monol√≠ticos estava em uso (n√£o havia microsservi√ßos, n√£o havia Docker e similares).  Como Java √© uma linguagem fortemente tipada, o compilador Java ajuda o programador a evitar muitos problemas, impedindo-o de compilar o c√≥digo errado. <br><br>  JavaScript, ao contr√°rio de Java, n√£o √© fortemente digitado.  A partir disso, podemos concluir que o programador n√£o sabe exatamente com quais objetos ele tem que trabalhar.  Como um programador pode saber o que fazer, por exemplo, com um determinado objeto recebido de algum lugar? <br><br>  O outro lado da forte digita√ß√£o Java √© que voc√™ precisa executar constantemente a√ß√µes padr√£o.  O programador est√° constantemente lan√ßando ou verificando se tudo est√° exatamente como o esperado.  O desenvolvedor gasta tempo escrevendo c√≥digo, o faz com precis√£o excepcional, usa volumes consider√°veis ‚Äã‚Äãde modelos e espera que tudo isso o ajude a economizar tempo detectando e corrigindo precocemente erros. <br><br>  O problema de programar em uma linguagem fortemente tipada √© t√£o grande que um programador, quase sem op√ß√µes, deve usar um IDE grande e complexo.  Um editor de c√≥digo simples n√£o √© suficiente aqui.  A √∫nica maneira de manter o programador Java em condi√ß√µes adequadas (com exce√ß√£o da pizza) √© mostrar-lhe constantemente listas suspensas contendo campos de objetos dispon√≠veis ou descri√ß√µes de par√¢metros de m√©todos.  Esse e outros mecanismos de suporte de IDEs, como Eclipse, NetBeans ou IntelliJ, ajudam na cria√ß√£o de classes, facilitam a refatora√ß√£o e outras tarefas. <br><br>  E ... eu n√£o vou falar sobre Maven.  Esta √© apenas uma ferramenta de pesadelo. <br><br>  No JavaScript, os tipos de vari√°veis ‚Äã‚Äãn√£o s√£o especificados quando s√£o declarados, a convers√£o de tipos geralmente n√£o √© usada e assim por diante.  Como resultado, o c√≥digo √© mais f√°cil de ler, mas esse estado de coisas tamb√©m significa o risco de erros de programa√ß√£o dif√≠ceis de detectar. <br><br>  Se o precedente est√° relacionado √†s vantagens de Java ou √†s desvantagens depende do ponto de vista. <br><br>  Dez anos atr√°s, eu acreditava que todas essas dificuldades se justificam, dando ao programador maior confian√ßa no c√≥digo que ele escreve.  Hoje, acredito que a digita√ß√£o forte aumenta a carga de trabalho do programador e √© muito mais f√°cil desenvolver projetos do que em JavaScript. <br><br><h2>  <font color="#3AC1EF">Lute contra erros com pequenos m√≥dulos f√°ceis de testar</font> </h2><br>  O Node.js empurra o programador para dividir seus projetos em pequenos fragmentos, nos chamados m√≥dulos.  Voc√™ pode achar esse fato insignificante, mas resolve parcialmente o problema que acabamos de mencionar. <br><br>  Aqui est√£o as principais caracter√≠sticas do m√≥dulo: <br><br><ul><li>  Independ√™ncia  O m√≥dulo combina c√≥digo interconectado em uma √∫nica entidade. </li><li>  Limites claros.  O c√≥digo dentro do m√≥dulo √© protegido contra interfer√™ncias por quaisquer mecanismos externos. </li><li>  Exporta√ß√£o expl√≠cita.  Por padr√£o, os dados do c√≥digo e do m√≥dulo n√£o s√£o exportados.  O desenvolvedor decide independentemente quais fun√ß√µes e dados precisam ser disponibilizados ao p√∫blico. </li><li>  Importa√ß√£o expl√≠cita.  Ao desenvolver um m√≥dulo, o programador decide por si mesmo de quais m√≥dulos ele depender√°. </li><li>  Independ√™ncia potencial.  Os m√≥dulos podem ser disponibilizados ao p√∫blico, no sentido mais amplo da palavra, publicando-os em npm ou, se forem destinados √†s necessidades internas da empresa, publicando em reposit√≥rios fechados.  Isso facilita o uso dos mesmos m√≥dulos em diferentes aplicativos. </li><li>  C√≥digo f√°cil de entender.  O fato de os m√≥dulos serem pequenos, simplifica a leitura e a compreens√£o de seu c√≥digo, abre a possibilidade de discuss√£o livre sobre eles. </li><li>  Facilite o teste.  Um pequeno m√≥dulo, se implementado corretamente, pode ser facilmente testado em unidade. </li></ul><br>  Tudo isso torna os m√≥dulos do Node.js. entidades com limites claramente definidos, cujo c√≥digo √© f√°cil de escrever, ler e testar. <br><br>  No entanto, se preocupar em trabalhar com JavaScript √© o fato de que a falta de digita√ß√£o forte pode facilmente levar o c√≥digo a fazer algo errado.  Em um pequeno m√≥dulo destinado a resolver um problema estreito com limites claros, "algo est√° errado" pode afetar apenas o c√≥digo do pr√≥prio m√≥dulo.  Isso leva ao fato de que os problemas que podem causar a falta de digita√ß√£o estrita est√£o bloqueados no m√≥dulo. <br><br>  Outra solu√ß√£o para o problema de digita√ß√£o din√¢mica em JavaScript √© testar completamente o c√≥digo. <br><br>  O desenvolvedor precisa levar os testes a s√©rio, o que tira parte dos benef√≠cios advindos da simplicidade do processo de desenvolvimento do JS.  Os sistemas de teste criados por um programador JS devem encontrar os erros que, se desenvolvidos por ele em algo como Java, o compilador pode encontrar automaticamente.  Voc√™ est√° escrevendo testes para seus aplicativos JS? <br><br>  Para aqueles que precisam de um sistema de digita√ß√£o est√°tica em JavaScript, pode ser √∫til dar uma olhada no TypeScript.  Eu n√£o uso essa linguagem, mas ouvi muitas coisas boas sobre ela.  √â compat√≠vel com JavaScript e estende a linguagem com um sistema de controle de tipo e outros recursos √∫teis. <br><br>  No final, podemos dizer que o uso de uma abordagem modular para o desenvolvimento √© a for√ßa do Node.js e do JavaScript. <br><br><h2>  <font color="#3AC1EF">Gerenciamento de pacotes</font> </h2><br>  Eu me sinto mal com o simples pensamento de Maven, ent√£o nem consigo escrever normalmente sobre isso.  E, pelo que entendi, Maven, sem compromisso, √© amado ou odiado. <br><br>  O problema aqui √© que, no ambiente Java, n√£o existe um sistema hol√≠stico para gerenciar pacotes.  Existem pacotes Maven, voc√™ pode trabalhar com eles normalmente, eles s√£o suportados pelo Gradle.  Mas a maneira como o trabalho com eles √© organizado n√£o se parece muito com as conveni√™ncias que o sistema de gerenciamento de pacotes do Node.js. fornece ao desenvolvedor. <br><br>  No mundo do Node.js, existem dois grandes gerenciadores de pacotes que trabalham em estreita colabora√ß√£o.  No in√≠cio, a √∫nica ferramenta desse tipo era o reposit√≥rio npm e a ferramenta de linha de comando com o mesmo nome. <br><br>  Gra√ßas ao npm, temos um excelente esquema para descrever depend√™ncias de pacotes.  As depend√™ncias podem ser rigorosas (por exemplo, √© indicado que apenas a vers√£o 1.2.3 de um determinado pacote √© necess√°ria) ou fornecida com v√°rios graus de liberdade - at√© <code>*</code> , o que significa usar a vers√£o mais recente de um determinado pacote. <br><br>  A comunidade Node.js. publicou centenas de milhares de pacotes no reposit√≥rio npm.  Ao mesmo tempo, usar pacotes que n√£o est√£o no npm √© t√£o f√°cil quanto usar pacotes do npm. <br><br>  O sistema npm acabou sendo t√£o bem-sucedido que n√£o apenas os desenvolvedores de produtos para servidor no Node.js o utilizam, mas tamb√©m os programadores de front-end.  Anteriormente, ferramentas como o Bower eram usadas para gerenciar pacotes.  O Bower foi descontinuado e agora voc√™ pode descobrir que todas as bibliotecas JS para desenvolvimento de front-end existem como pacotes npm.  Muitas ferramentas de suporte ao desenvolvimento de clientes, como a CLI Vue.js e Webpack, s√£o gravadas como aplicativos Node.js. <br><br>  Outro sistema de gerenciamento de pacotes para o Node.js., yarn, baixa pacotes do reposit√≥rio npm e usa os mesmos arquivos de configura√ß√£o.  A principal vantagem do fio sobre o gerenciador de pacotes npm √© sua velocidade mais alta. <br><br>  O reposit√≥rio npm, seja usando o gerenciador de pacotes npm ou o gerenciador de pacotes yarn, √© uma base poderosa para o que torna o desenvolvimento do Node.js t√£o f√°cil e agrad√°vel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5db/382/891/5db382891911a53615838db26c67936c.png"></div><br>  <i><font color="#999999">Uma vez, depois de ajudar a desenvolver o java.awt.Robot, fui inspirado a criar essa coisa.</font></i>  <i><font color="#999999">Enquanto a imagem oficial do Duke √© composta de curvas, o RoboDuke √© constru√≠do a partir de linhas retas.</font></i>  <i><font color="#999999">Somente as articula√ß√µes do cotovelo deste rob√¥ s√£o redondas</font></i> <br><br><h2>  <font color="#3AC1EF">Desempenho</font> </h2><br>  Java,  JavaScript     .          -,    ,    .  ,   ,  -       . <br><br>   Java,   JavaScript      .    Java   Node.js,        .     JavaScript         .         -. <br><br> JDK Sun/Oracle  HotSpot ‚Äî  ,     -.        ,      ,    ,    ,     ,    . HotSpot ‚Äî   ,     . <br><br>    JavaScript,       ,     JS-,   , ,    -  . ,    JavaScript           .    ,   ,    . , ,     Google Docs,     .    JS    . <br><br> Node.js     ,      V8  Google Chrome. <br><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   ,  Google,     V8,         .     ,  V8   Crankshaft  Turbofan. <br><br>   ‚Äî  ,     ,       R  Python.  ,     ,        .  JavaScript,   ,   ,           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>  JavaScript. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>       JavaScript  , TensorFlow.js. API     API TensorFlow  Python,      .    , ,       ,        . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>     IBM,        Node.js,  ,   ,   Docker/Kubernetes.       ,       Node.js    Spring Boot.       -,        .  ,      Node.js  , ,  ,   V8. <br><br>   ,  Node.js      .      . - ,   Node.js     ,     . ,    ¬´Node.js Web Development¬ª,   ,      : <br><br><ul><li>   ‚Äî             . </li><li>          ,   Node.js     . </li><li>       . </li></ul><br>   JavaScript    ,          Node.js.    ‚Äî    Node.js-.      Node.js-   <code>node-gyp</code> ,      . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,     Rust-  Node.js. <br><br> WebAssembly   ,    ,   JavaScript,     . WebAssembly  ,    JavaScript-.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>         WebAssembly   Node.js. <br><br><h2> <font color="#3AC1EF"> -</font> </h2><br>  - (Rich Internet Applications, RIA)        .    ,  ,     (  ) JS-,      . <br><br>   ,     20  . Sun  Netscape    Java-  Netscape Navigator. JavaScript , ,      Java-.     ,      Java-,   ‚Äî Java-.       ,                .      . <br><br>    JavaScript     ,          .       RIA,  ,   -  Java      -. <br><br>    ,   RIA   .  Node.js       , ,      ,      .    JavaScript. <br><br>  Aqui est√£o alguns exemplos: <br><br><ul><li>   Google Docs (    ),        ,    . </li><li>  ,  React, Angular  Vue.js,    ,   HTML, CSS  JavaScript. </li><li> Electron ‚Äî   Node.js   Chromium.      -  .          ,  Visual Studio Code, Atom, GitKraken,  Postman. </li><li>    Electron/NW.js   , -, ,  React, Angular,  Vue,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a> . </li></ul><br>  Java,       ,   -  -,   JavaScript.  , , -      Sun Microsystems.    Sun   ,      .      .   Java-    ,       Java   Java Web Start.       Java-  Webstart-. <br><br>          Java, ,  , IDE NetBeans  Eclipse      .      Java  ,         ,   Java. <br><br>    JavaFX. <br><br>  JavaFX, 10  ,    Sun   iPhone. ,        Java,    , ,    .         Flash      iOS.     . JavaFX    ,        ,     .       -  React, Vue.js   . <br><br>    JavaScript  Node   Java. <br><br>    Java,  -    JavaONE.        Java  . ,  ,    ,   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bdb/5d1/736/bdb5d1736a9e8f66394d50ef11063389.jpg"><br> <i><font color="#999999"> Java</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/064/0c6/da4/0640c6da4b0defa291a2b6516f2d2606.png"><br> <i><font color="#999999">  </font></i> <br><br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>          .       ¬´P-¬ª (Perl, PHP, Python)  Java,      Node.js,   Ruby, Haskell, Go, Rust,   .            . <br><br>     ,  , ,    Java,    Node.js,  ,    ,    Node.js-.  Java   ,    Node.js    . ,  ,  ,    Java,    . <br><br>      . , ,        Node.js  - ,    - .           . ,      XBRL-.        XBRL   Python,  ,   ,   Python. ,  ,           ,        . <br><br>  <b>Caros leitores!</b>  ,     ,   JavaScript  -  ,   -    Node.js,       . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt421741/">https://habr.com/ru/post/pt421741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt421731/index.html">Quanto custa construir um software: em que consiste o or√ßamento de desenvolvimento de aplicativos</a></li>
<li><a href="../pt421733/index.html">Pegue e fa√ßa: por que √†s vezes √© √∫til pontuar para an√°lise e apenas desenvolver</a></li>
<li><a href="../pt421735/index.html">"V√≠rus" em extens√µes usando o FastProxy como exemplo</a></li>
<li><a href="../pt421737/index.html">A empresa americana lasca seus funcion√°rios h√° um ano. Por que poderia haver um futuro?</a></li>
<li><a href="../pt421739/index.html">Como substitu√≠ o RxJava por corotinas no meu projeto e por que voc√™ provavelmente tamb√©m deve fazer isso</a></li>
<li><a href="../pt421745/index.html">Como a Ubisoft lan√ßou seu Starlink: Battle for Atlas Hybrid Game Suite</a></li>
<li><a href="../pt421747/index.html">Parktronic no Arduino</a></li>
<li><a href="../pt421749/index.html">‚ÄúMuito poucos realmente escrevem um back-end sobre Kotlin‚Äù - uma entrevista com Pasha Finkelstein</a></li>
<li><a href="../pt421751/index.html">Os melhores editores gratuitos de desenvolvimento e documenta√ß√£o: Atom</a></li>
<li><a href="../pt421753/index.html">Revis√£o de v√≠deo DJI Mavic 2 Zoom e 2 Pro. Testando c√¢meras e novos recursos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>