<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèΩ üêµ üèóÔ∏è C√≥mo desarrollar otro juego de plataformas con Unity. Otro tutorial üë©üèø‚Äçüè≠ üëãüèΩ ü§ï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! 


 Otro art√≠culo te est√° esperando debajo del corte, que te informar√° sobre c√≥mo me puse el objetivo de programar el juego, basado en la t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo desarrollar otro juego de plataformas con Unity. Otro tutorial</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458846/"><p>  Hola Habr! </p><br><p>  Otro art√≠culo te est√° esperando debajo del corte, que te informar√° sobre c√≥mo me puse el objetivo de programar el juego, basado en la traducci√≥n del art√≠culo sobre Habr llamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Level Design Patterns para juegos 2D</a> . </p><br><p>  El art√≠culo tiene mucho texto (tanto regular como fuente) y muchas im√°genes. </p><a name="habracut"></a><br><p>  Antes de comenzar mi primer art√≠culo, vamos a conocerte.  Me llamo Denis  Trabajo como administrador de sistemas con una experiencia total de 7 a√±os.  No me corresponde decirte que un administrador del sistema es un tipo de t√©cnico de TI que despliega diligentemente una vez y luego contempla el parpadeo de varios caracteres en un monitor.  Con el tiempo, llegu√© a la conclusi√≥n de que era hora de ampliar los l√≠mites del conocimiento y pasar a la programaci√≥n.  Sin entrar en detalles, intent√© hacer proyectos en C ++ y Python.  Pero despu√©s de un a√±o de estudio, llegu√© a la conclusi√≥n de que programar mi aplicaci√≥n y el software del sistema no son m√≠os.  Por varias razones </p><br><p>  Despu√©s de pensar m√°s profundamente, me hice la pregunta: ¬øqu√© es lo que realmente me gusta hacer con los diferentes tipos de equipos inform√°ticos?  Mi pregunta a m√≠ mismo me arroj√≥ lejos en la infancia, es decir, en las horas felices que pas√© para PS1, PS2, Railroad Tycoon 3 para PC ... Bueno, ya entiendes.  Videojuego! </p><br><p>  Por la cantidad de diversos materiales de capacitaci√≥n, la elecci√≥n recay√≥ en Unity (¬øno reinventar la rueda?).  Despu√©s de un mes de leer y ver varios materiales, decid√≠ lanzar el primer juego infantil muy simple al mercado de juegos.  Para superar el miedo, por as√≠ decirlo.  Despu√©s de todo, lanzar aplicaciones en el mercado de juegos no da miedo, ¬øverdad? </p><br><p>  Despu√©s de un par de meses, lanc√© el juego de plataformas ya m√°s complejo.  Luego hubo un descanso (despu√©s de todo, el trabajo debe ser trabajado, despu√©s de todo). </p><br><p>  Hace unas dos semanas, vi una traducci√≥n de un art√≠culo en un centro llamado Level Design Patterns para juegos 2D ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://habr.com/en/post/456152/</a> ) y pens√© para m√≠ mismo: ¬øpor qu√© no?  El art√≠culo tiene una tabla simple y clara con una lista de lo que deber√≠a estar en el juego para que sea interesante.  Copi√© la tabla para m√≠ en OneNote y marqu√© cada patr√≥n con la etiqueta Casos (que se puede marcar como completada). </p><br><p>  ¬øQu√© quiero obtener como resultado?  Tu critica  Como me gusta decirme a m√≠ mismo: si quieres aprender a nadar, bucea con la cabeza.  Si crees que hice algo bien, escr√≠beme sobre esto en un comentario.  Si crees que hice algo mal, escr√≠belo doblemente. </p><br><p>  Comenzar√© mi largo programa para programar otro juego de plataformas. </p><br><h3>  Avatar </h3><br><p>  <em>Una entidad controlada por jugadores dentro de un juego.</em>  <em>Por ejemplo, Mario y Luigi en Super Mario Bros (Nintendo, 1985).</em> </p><br><p>  Hay varias subtareas que deben implementarse para darle vida al h√©roe.  A saber: </p><br><pre><code class="plaintext hljs">‚Ä¢   ( ) ‚Ä¢      ‚Ä¢      ‚Ä¢       ‚Ä¢       </code> </pre> <br><p>  Para implementar la animaci√≥n, necesitamos convertir un solo sprite en un sprite m√∫ltiple.  Esto se hace incre√≠blemente simple.  Agregue el sprite a la carpeta del proyecto y encu√©ntrelo en Explorer Explorer Unity Explorer.  Luego, al hacer clic en el sprite en la ventana del inspector, cambia el valor de la propiedad <strong>SptiteMode</strong> de <strong>Single</strong> a <strong>Multiple</strong> . </p><br><p><img src="https://habrastorage.org/webt/xx/ot/ny/xxotnyobz6-0kunbcizdwwk-4zu.png" alt="imagen"></p><br><p>  Haga clic en <strong>Aplicar</strong> , luego <strong>SpriteEditor</strong> . </p><br><p>  Dentro de la ventana del <strong>Editor de Sprite</strong> , debe seleccionar cada cuadro de la futura animaci√≥n con el mouse como se muestra en la figura a continuaci√≥n. </p><br><p>  Adem√°s, Unity proporciona la capacidad de resaltar autom√°ticamente los l√≠mites de los objetos dentro del sprite.  Para hacer esto, en la ventana <strong>Sprite Editor</strong> , debe hacer clic en el bot√≥n <strong>Slice</strong> .  En el men√∫ desplegable, debe tener <strong>Type =&gt; Automatic, Pivot =&gt; Center</strong> .  Todo lo que tienes que hacer es hacer clic en el bot√≥n <strong>Slice</strong> .  Despu√©s de eso, todos los objetos dentro del sprite se seleccionar√°n autom√°ticamente. </p><br><img src="https://habrastorage.org/webt/bf/tb/kv/bftbkvncerh-ybaf6_nlgaxprdg.png"><br><p>  Hagamos esta operaci√≥n para todas las dem√°s animaciones.  A continuaci√≥n, deber√° configurar los estados de animaci√≥n y su cambio.  Esto se hace en dos pasos.  La primera acci√≥n, c√≥digo de programa. <br>  Crea un objeto de juego vac√≠o.  Para hacer esto, haga clic con el bot√≥n derecho en la pesta√±a <strong>Jerarqu√≠a</strong> y seleccione <strong>Crear vac√≠o</strong> en el men√∫ desplegable. </p><br><img src="https://habrastorage.org/webt/l1/zb/ap/l1zbap5u09_kzb1mllj1tqwizgw.png"><br><p>  Un objeto de juego vac√≠o, que se crea en el escenario, por defecto tiene solo un componente: <strong>Transformar</strong> .  Este componente determina la posici√≥n del objeto en el escenario, el √°ngulo de inclinaci√≥n y su escala. </p><br><p>  Puede encontrar la palabra <strong>transformar</strong> en dos significados diferentes: </p><br><blockquote><ul><li>  <strong>Transformar</strong> es una clase.  Como se trata de una clase, Transform describe una <strong>implementaci√≥n</strong> de <strong>software</strong> de qu√© coordenadas se ubicar√° este objeto y qu√© dimensiones tendr√°. </li><li>  <strong>transform</strong> es una instancia de una clase.  Es decir, <strong>puede hacer referencia a un objeto espec√≠fico</strong> y cambiar su posici√≥n o escala en la escena.  Por ejemplo, m√°s adelante en el c√≥digo habr√° una l√≠nea: <br><pre> <code class="cs hljs">transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2 (transform.position.x + dirX, transform.position.y + dirY);.</code> </pre> <br><br>  Esta l√≠nea ser√° responsable del movimiento de Lucas en el escenario. </li></ul><br></blockquote><p>  Para crear su propio componente, haga clic en el bot√≥n <strong>Agregar componente</strong> en la pesta√±a del inspector de objetos.  A continuaci√≥n, aparece un cuadro de b√∫squeda entre los componentes est√°ndar.  Es suficiente comenzar a escribir el nombre de la secuencia de comandos futura (o componente ya implementado), si no hay nombres adecuados, Unity le ofrecer√° crear un nuevo componente.  Llam√© a este componente <strong>HeroScript.cs</strong> . </p><br><img src="https://habrastorage.org/webt/fi/hf/gn/fihfgnpyl-ndmnx23l8mbotdh4a.png"><br><p>  Primero, describimos los campos que almacenar√°n informaci√≥n sobre el componente visual y f√≠sico de Lucas: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Animator animator; <span class="hljs-comment"><span class="hljs-comment">//      . private Rigidbody2D rb2d; //rb    </span></span></code> </pre> </div></div><br><p>  A continuaci√≥n, los campos que responder√°n al movimiento del personaje: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> Vector3 localScale; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> facingRight = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dirX, dirY; <span class="hljs-comment"><span class="hljs-comment">//    [Range(1f, 20f)] [SerializeField] private float moveSpeed; //    private SpriteRenderer sprite; //   SpriteRenderer /*   ,     */</span></span></code> </pre> </div></div><br><p>  Se ha comenzado, excelente.  A continuaci√≥n, se describir√° una enumeraci√≥n y se escribir√° una propiedad que ser√° responsable de cambiar el estado de la animaci√≥n.  Esta enumeraci√≥n debe escribirse fuera de la clase: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* *      . *         *    . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> CharState { idle, <span class="hljs-comment"><span class="hljs-comment">//   0 Run, //   1 Walk, //   2 Die //   3 }</span></span></code> </pre> </div></div><br><p>  Implementamos una propiedad que recibir√° y establecer√° un nuevo estado de animaci√≥n: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CharState State { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> {<span class="hljs-comment"><span class="hljs-comment">//    CharState    animator       int return (CharState)animator.GetInteger("State"); } set { //    animator     int    State       ,      int. animator.SetInteger("State", (int)value); } }</span></span></code> </pre> </div></div><br><p>  La parte del software est√° terminada.  Ahora tenemos una enumeraci√≥n y una propiedad que se asociar√° con el cambio de animaci√≥n.  A continuaci√≥n, el segundo paso.  En el editor de Unity, debe vincular el estado de la animaci√≥n e indicar a qu√© valores int deben cambiarse. </p><br><p>  Para hacer esto, debe asociar los sprites m√∫ltiples creados previamente con un objeto de juego vac√≠o.  Todo lo que necesita hacer es seleccionar los cuadros en el Explorador de unidades y arrastrarlos a un objeto de juego vac√≠o, al que previamente arreglamos el gui√≥n. </p><br><p><img src="https://habrastorage.org/webt/zx/md/y8/zxmdy88fwc5gglpbjz3bkj0rjfq.png" alt="imagen"></p><br><p>  Haga esto con cada animaci√≥n posterior.  Adem√°s, en el explorador con animaciones encontrar√° la apariencia de un objeto con un diagrama de bloques y un bot√≥n <strong>Reproducir</strong> .  Al hacer doble clic en √©l, se abrir√° la pesta√±a <strong>Animador</strong> .  En el interior, ver√° varios bloques con animaciones e, inicialmente, solo se conectan los estados de <strong>Entrada</strong> y el primer conjunto de animaci√≥n que estaban conectados.  <strong>AnyState</strong> y otras animaciones se mostrar√°n como cuadrados grises regulares.  Para vincular todo, debe hacer clic en el estado de <strong>AnyState</strong> y seleccionar el √∫nico men√∫ desplegable <strong>Realizar transacci√≥n</strong> y vincularlo al bloque gris.  Esta operaci√≥n debe hacerse para cada condici√≥n.  Al final, deber√≠a obtener algo como lo que ve en la captura de pantalla a continuaci√≥n. </p><br><p><img src="https://habrastorage.org/webt/-d/0d/7j/-d0d7j-y1okjqhr6wgywx2ht768.png" alt="imagen"></p><br><p>  A continuaci√≥n, debe indicar expl√≠citamente qu√© <strong>estado</strong> debe ser exactamente para comenzar la animaci√≥n necesaria.  Presta atenci√≥n a la captura de pantalla, es decir, su parte izquierda.  <strong>Par√°metros de la</strong> pesta√±a.  Se crea una variable de tipo <strong>int State</strong> .  Luego, preste atenci√≥n al lado derecho.  En primer lugar, desde la transici√≥n de la animaci√≥n, debe desmarcar la casilla de verificaci√≥n <strong>Can Transaction To Self</strong> .  Esta operaci√≥n lo salvar√° de transiciones de animaci√≥n extra√±as ya veces completamente incomprensibles para s√≠ mismo y la secci√≥n <strong>Condiciones</strong> , donde indicamos que a esta transici√≥n de animaci√≥n se le asign√≥ el valor 3 de la variable <strong>Estado</strong> .  Despu√©s de eso, Unity sabr√° qu√© animaci√≥n ejecutar. <br>  Todo se hace para el movimiento del personaje animado.  Sigamos adelante. </p><br><p>  El siguiente paso es ense√±arle a Lucas a moverse por el escenario.  Esto es completamente programaci√≥n.  Para mover al personaje por la escena, necesitar√° botones, haciendo clic en el cual Lucas ir√° de un lado a otro.  Para hacer esto, en la pesta√±a <strong>Almac√©n de activos</strong> , necesitamos importar Activos est√°ndar, pero no todos, solo algunos componentes adicionales, a saber: </p><br><p>  <strong>‚Ä¢ CrossPlatformInput</strong> <strong><br></strong>  <strong>‚Ä¢ Editor</strong> <strong><br></strong>  <strong>‚Ä¢ Medio ambiente</strong> </p><br><p>  Despu√©s de importar el activo, se debe modificar la ventana principal de Unity y aparecer√° una pesta√±a <strong>Entrada m√≥vil</strong> adicional.  Lo activamos </p><br><p>  Creemos nuevos elementos de <strong>IU</strong> en el escenario: botones de control.  Crea 4 botones en cada direcci√≥n.  Arriba, abajo, adelante y atr√°s.  En el componente Imagen, asignamos a los botones una imagen que corresponder√° a la imagen, lo que significa la capacidad de moverse.  Deber√≠a parecerse a la siguiente captura de pantalla: </p><br><img src="https://habrastorage.org/webt/c6/jv/kk/c6jvkketndj8sqq4vodxamn-oni.png"><br><p>  Para cada bot√≥n, agregue un componente <strong>AxisTouchButton</strong> .  Este script tiene solo 4 campos.  El campo <strong>axisName</strong> significa a qu√© nombre responder cuando se llama.  El campo <strong>axisValue es</strong> responsable de la direcci√≥n en la que se mover√° Lucas.  El campo <strong>ResponseSpeed</strong> es responsable de la rapidez con que Lucas desarrollar√° su velocidad.  El campo <strong>returnToCentreSpeed ‚Äã‚Äães</strong> responsable de la rapidez con que el bot√≥n vuelve al centro.  Para el bot√≥n Adelante, d√©jelo como est√°.  Para el bot√≥n Atr√°s, cambie el valor de <strong>axisValue</strong> a -1 para que Lucas retroceda.  Para los botones Arriba y Abajo, cambie el <strong>axisName</strong> a <strong>Vertical</strong> .  Para el bot√≥n <strong>AxialValue,</strong> establezca el valor en 1, para Abajo -1. </p><br><p>  A continuaci√≥n, modifique <strong>HeroScript.cs</strong> .  Agregar espacio de nombres a la directiva <strong>using</strong> </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityStandardAssets.CrossPlatformInput; <span class="hljs-comment"><span class="hljs-comment">//    .</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">       : <span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> Vector3 localScale; <span class="hljs-comment"><span class="hljs-comment">//   bool facingRight = true; [SerializeField] private float dirX, dirY; //    [Range(1f, 20f)] [SerializeField] private float moveSpeed; //    private SpriteRenderer sprite; //   SpriteRenderer /*   ,     */</span></span></code> </pre> </div></div><br><p>  En el m√©todo de inicio est√°ndar, agregue el siguiente c√≥digo: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { localScale = transform.localScale; animator = GetComponent&lt;Animator&gt;(); <span class="hljs-comment"><span class="hljs-comment">//     . sprite = GetComponent&lt;SpriteRenderer&gt;(); //  SpriteRenderer rb = GetComponent&lt;Rigidbody2D&gt;(); State = CharState.idle; }</span></span></code> </pre> </div></div><br><p>  Creamos un m√©todo que se encargar√° de mover al h√©roe: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MoveHero</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { dirX = CrossPlatformInputManager.GetAxis (<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>) * moveSpeed * Time.deltaTime; dirY = CrossPlatformInputManager.GetAxis (<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span>) * moveSpeed * Time.deltaTime; transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2 (transform.position.x + dirX, transform.position.y + dirY); }</code> </pre> </div></div><br><p>  Como puede ver, todo es simple.  Los <strong>campos</strong> <strong>dirX</strong> y <strong>DirY</strong> registran informaci√≥n sobre la direcci√≥n del Eje ( <strong>horizontal</strong> y <strong>vertical</strong> ) multiplicada por la velocidad (que deber√° especificarse en el editor) y multiplicada por el tiempo de viaje desde el √∫ltimo cuadro. <br>  <strong>transform.position</strong> escribe la nueva posici√≥n en el componente <strong>Transformar</strong> de nuestro objeto de juego. </p><br><p>  En el lado pr√°ctico del problema, puede ejecutar la escena y ver c√≥mo Lucas cae al abismo, ya que no hay objetos debajo que puedan evitarlo.  Lucas siempre est√° en la animaci√≥n <strong>Idle</strong> y no se da vuelta cuando lo dirigimos de regreso.  Para esto, el script necesita ser modificado.  Cree un m√©todo que determine en qu√© direcci√≥n mira Lucas: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckWhereToFace</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { facingRight = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { facingRight = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX == <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.idle; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirY &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirY &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((facingRight) &amp;&amp; (localScale.x &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) || ((!facingRight) &amp;&amp; (localScale.x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>))) localScale.x *= <span class="hljs-number"><span class="hljs-number">-1</span></span>; transform.localScale = localScale;</code> </pre> </div></div><br><p>  Esta parte del c√≥digo tampoco es dif√≠cil.  El m√©todo describe que si <strong>dirX</strong> &gt; 0 (si vamos a la derecha), rotamos el sprite en esta direcci√≥n y comenzamos la animaci√≥n de la caminata.  Si es menor que 0, gire Lucas 180 grados y comience la animaci√≥n.  Si <strong>dirX</strong> es cero, entonces Lucas est√° de pie y debe comenzar la animaci√≥n de espera. </p><br><p>  ¬øPor qu√© es preferible usar una operaci√≥n con <strong>Scale</strong> en este caso que usar <strong>flipX = true</strong> ?  En el futuro, describir√© la capacidad de tomar cualquier objeto en la mano y, naturalmente, Lucas puede darse la vuelta sosteniendo algo en sus manos.  Si usara el reflejo habitual, el objeto que tendr√≠a en mis manos permanecer√≠a en el lado derecho (por ejemplo) cuando Lucas mira a la izquierda y viceversa.  Al acercar, se mover√° el objeto que mantiene a Lucas en la misma direcci√≥n en la que Lucas mismo gir√≥. </p><br><p>  <strong>Colocamos la</strong> funci√≥n <strong>CheckWhereToFace ()</strong> en la funci√≥n <strong>Update ()</strong> , para su monitoreo cuadro por cuadro. </p><br><p>  Genial  Se completan los primeros 2 puntos de 5.  Pasemos a las necesidades de Lucas.  Digamos que Lucas tendr√° 3 tipos de necesidades que deben cumplirse para mantenerse con vida.  Este es el nivel de vida, el nivel de hambre y el nivel de sed.  Debe crear para esto un panel simple y comprensible con un indicador de cada elemento.  Para crear dicho panel, haga clic derecho y seleccione <strong>UI =&gt; Panel</strong> . </p><br><p>  Vamos a marcarlo aproximadamente como se muestra a continuaci√≥n </p><br><p><img src="https://habrastorage.org/webt/yp/oz/fs/ypozfsb3q_vygo6usfn1t_btnyc.png" alt="imagen"></p><br><p>  El panel consta de tres im√°genes (Imagen) de cada necesidad (izquierda).  A la derecha est√° el panel en s√≠.  En la primera capa (lo pondremos de esta manera), hay un indicador de color (Imagen) que no tiene transparencia, un objeto de Imagen se copia debajo, que es transparente.  Esta imagen es medio transparente al original.  Adem√°s, Imagen, que no tiene transparencia, tiene la propiedad <strong>Tipo de</strong> imagen <strong>= Relleno</strong> .  Esta caracter√≠stica nos permitir√° simular una disminuci√≥n en la plenitud de la escala de necesidades. </p><br><p><img src="https://habrastorage.org/webt/ld/vo/qy/ldvoqyj2ioak7ufaycjjmjvbeta.png" alt="imagen"></p><br><p><img src="https://habrastorage.org/webt/l7/wu/ok/l7wuokjirtsp-p66wixm2zybfbu.png" alt="imagen"></p><br><p>  Definir nuevas variables est√°ticas: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Health = <span class="hljs-number"><span class="hljs-number">100</span></span>, Eat = <span class="hljs-number"><span class="hljs-number">100</span></span>, Water = <span class="hljs-number"><span class="hljs-number">100</span></span>, _Eat = <span class="hljs-number"><span class="hljs-number">0.05f</span></span>, _Water = <span class="hljs-number"><span class="hljs-number">0.1f</span></span>; <span class="hljs-comment"><span class="hljs-comment">//        .    _  . /*   ,     */ /*  ,      */ [SerializeField] Image iHealt, iEat, iWater; //      /*   ,      */</span></span></code> </pre> </div></div><br><p>  En este caso, uso campos est√°ticos.  Esto se hace para que estos campos sean √∫nicos para toda la clase.  Adem√°s, esto nos permitir√° acceder directamente a estos campos por nombre de clase.  Escribimos algunas funciones simples: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fEat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { Eat = Eat - x * Time.deltaTime; iEat.fillAmount = Eat / <span class="hljs-number"><span class="hljs-number">100f</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,        return Eat; } private float fWater(float x) { Water = Water - x * Time.deltaTime; iWater.fillAmount = Water / 100; return Water; }</span></span></code> </pre> </div></div><br><p>  Luego, escribimos un m√©todo que recopila informaci√≥n sobre el deseo de comer y beber: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Needs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(_Eat) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.Log(Eat); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(<span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { StartCoroutine(ifDie()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fWater(_Water) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.Log(Water); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fWater(<span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { StartCoroutine(ifDie()); }</code> </pre> </div></div><br><p>  La funci√≥n <strong>Needs ()</strong> se coloca en la funci√≥n <strong>Update ()</strong> y se llama a cada cuadro.  En consecuencia, en las l√≠neas </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(_Eat) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><p>  Se llama una funci√≥n que pasa como par√°metro cu√°nto se debe tomar de las variables <strong>Eat</strong> y <strong>Water</strong> .  Si el resultado de la funci√≥n no es 0, entonces Lucas a√∫n no ha muerto de sed o hambre.  Si Lucas muere de hambre o heridas mortales, entonces hacemos corutina </p><br><pre> <code class="cs hljs">StartCoroutine(ifDie());</code> </pre> <br><p>  que comienza la animaci√≥n de la muerte y reinicia el nivel: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-function">IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ifDie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { State = CharState.Die; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function">)</span></span>; SceneManager.LoadScene(<span class="hljs-string"><span class="hljs-string">"WoodDay"</span></span>, LoadSceneMode.Single); }</code> </pre> </div></div><br><h3>  Azulejo duro </h3><br><p>  <em>Un objeto del juego que no permite que el jugador lo atraviese.</em>  <em>Ejemplo: g√©nero en Super Mario Bros (Nintendo, 1985).</em> </p><br><p>  Para realizar la tierra y evitar que Lucas caiga a trav√©s de ella, debes conectar los componentes <strong>BoxCollider2D</strong> y <strong>Rigidbody2D</strong> a Lucas.  Adem√°s, necesita un sprite de la tierra en el que se <strong>ubicar√° el</strong> componente <strong>BoxCollider2D</strong> .  El componente <strong>BoxCollider2D</strong> implementa colisionadores y su comportamiento de colisi√≥n.  En esta etapa, no necesitamos nada m√°s que evitar el fracaso de Lucas underground.  Todo lo que podemos editar opcionalmente son los bordes del colisionador.  En mi caso, el sprite de tierra tiene una superficie de hierba y para que no parezca que la hierba pueda soportar el peso de Lucas, editar√© los bordes del componente. </p><br><img src="https://habrastorage.org/webt/ey/0n/hv/ey0nhvwblv9xamkiyesto7exsve.png"><br><p>  Ahora, un emocionante proceso de marcado de nivel.  Para mayor comodidad, puede exportar este cubo de tierra a una casa prefabricada.  Un prefabricado es un contenedor de un objeto de juego, tras la modificaci√≥n del cual puede aplicar autom√°ticamente cambios a todos los objetos de juego creados a partir de este prefabricado.  Luego, clone este prefab con CTRL + D (despu√©s de seleccionarlo en la pesta√±a de jerarqu√≠a) y col√≥quelo en el escenario. </p><br><p><img src="https://habrastorage.org/webt/b6/dm/6t/b6dm6tbsz6mezi1upkenyd9sloa.png" alt="imagen"></p><br><h3>  Pantalla </h3><br><p>  <em>La parte del nivel / mundo del juego que actualmente es visible para el jugador.</em> </p><br><p>  Configure una c√°mara que siga al jugador a punto de mostrar parte de la escena.  A continuaci√≥n, habr√° un script muy simple para implementar: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject objectToFollow; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed = <span class="hljs-number"><span class="hljs-number">2.0f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CamFoll(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CamFoll</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> interpolation = speed * Time.deltaTime; Vector3 position = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position; position.y = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.y, objectToFollow.transform.position.y, interpolation); position.x = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.x, objectToFollow.transform.position.x, interpolation); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position = position; }</code> </pre> </div></div><br><p>  En el campo <strong>objectToFollow del</strong> tipo <strong>GameObject</strong> , se asignar√° un objeto para ser monitoreado, y en el campo de velocidad, la velocidad a la que es necesario moverse suavemente detr√°s del GameObject asignado. </p><br><p>  La informaci√≥n sobre la velocidad de movimiento desde el √∫ltimo cuadro se registra en el campo de interpolaci√≥n.  A continuaci√≥n, se utilizar√° el m√©todo Lerp, que garantizar√° un movimiento suave de la c√°mara detr√°s de Lucas cuando se mueva a lo largo de los ejes X y U. Desafortunadamente, no puedo explicar el funcionamiento de la l√≠nea. </p><br><pre> <code class="cs hljs">position.y = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.y, objectToFollow.transform.position.y, interpolation);</code> </pre> <br><p>  en t√©rminos de matem√°tica.  Por lo tanto, dir√© m√°s simple: este m√©todo alargar√° el tiempo de ejecuci√≥n de cualquier acci√≥n.  En nuestro caso, esto est√° moviendo la c√°mara detr√°s del objeto. </p><br><h3>  Peligro </h3><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><p>  Entidades que impiden al jugador completar su tarea.  Ejemplo: picos de 1001 picos (Nicalis y 8bits Fanatics, 2014). </p></div></div><br><p>  Comencemos agregando algo que no solo evitar√° que Lukas pase por el escenario hasta el final, sino que afectar√° el n√∫mero de sus vidas y la capacidad de morir (por ejemplo, implementaremos el quinto subproblema para implementar la historia de vida de Lukas: el H√©roe puede ser asesinado o puede morir). <br>  En este caso, extendimos los picos en el escenario que estar√°n ocultos detr√°s de la vegetaci√≥n y solo la atenci√≥n del jugador ayudar√° a pasar. </p><br><p>  Cree un <strong>GameObject</strong> vac√≠o y conecte los componentes <strong>SpriteRenderer</strong> y <strong>PolygonCollider2D</strong> .  En el componente <strong>SpriteRenderer</strong> , conectamos el sprite del bot√≥n de p√∫as o cualquier otro objeto como lo desee.  Adem√°s, asigne <strong>tag = Thorn a la</strong> espiga. </p><br><p>  A continuaci√≥n, en Lucas <strong>GameObject,</strong> creamos un gui√≥n que ser√° responsable de lo que le suceder√° si Lucas choca con otros colisionadores.  En mi caso, lo llam√© <strong>ColliderReaction.cs</strong> </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Rigidbody2D rb2d; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { rb2d = GetComponent&lt;Rigidbody2D&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Thorn"</span></span>: { rb2d.AddForce(transform.up * <span class="hljs-number"><span class="hljs-number">4</span></span>, ForceMode2D.Impulse); HeroScript.Health = HeroScript.Health - <span class="hljs-number"><span class="hljs-number">5</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  La esencia del gui√≥n es tan simple como 2x2.  Cuando una etiqueta <strong>Thorn colisiona</strong> con un objeto del juego, la instrucci√≥n <strong>Switch se</strong> compara con los candidatos que especificamos.  En nuestro caso, por ahora, es <strong>Thorn</strong> .  Primero, Lucas vomita, y luego pasamos a una variable est√°tica y tomamos 5 unidades de vida de Lucas.  Mirando hacia el futuro, puedo decir que tiene sentido describir lo mismo para un conflicto con enemigos: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Enemy"</span></span>: { rb2d.AddForce(transform.up * <span class="hljs-number"><span class="hljs-number">2</span></span>, ForceMode2D.Impulse); HeroScript.Health = HeroScript.Health - <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;</code> </pre> </div></div><br><p>  A continuaci√≥n, propongo matar dos p√°jaros de un tiro. </p><br><h3>  Art√≠culo recogido y regla. </h3><br><p>  Un objeto del juego que los jugadores pueden recoger. </p><br><p>  Proponemos la regla de que si Lucas quiere ir entre las islas y subir, entonces debe recoger un √°rbol para construir puentes y escaleras. <br>  Seg√∫n los m√©todos ya aprobados, crearemos un √°rbol y escaleras. </p><br><p>  Conectaremos un script al √°rbol que ser√° responsable de la cantidad de registros que puede eliminar si comienza a cortarlo.  Dado que solo se propuso la animaci√≥n del ataque en el conjunto de sprites, la usaremos cuando cortemos el √°rbol (costos de producci√≥n). <br>  El script que est√° en el √°rbol: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform inst; <span class="hljs-comment"><span class="hljs-comment">//     [SerializeField] private GameObject FireWoodPref; //   [SerializeField] private int fireWood; //       </span></span></code> </pre> </div></div><br><p>  Cuando comienza el nivel, escribimos un valor aleatorio en <strong>fireWood</strong> : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { fireWood = Random.Range(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre> </div></div><br><p>  Describe un m√©todo con un par√°metro que ser√° responsable de cu√°ntos registros caer√°n de un golpe: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fireWoodCounter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fireWood; i++) { fireWood = fireWood - x; InstantiateFireWood(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fireWood; }</code> </pre> </div></div><br><p>  Un m√©todo que crear√° clones de registro en el escenario. <br>  vac√≠o privado InstantiateFireWood (): </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"> { Instantiate(FireWoodPref, inst.position, inst.rotation); }</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/g6/sb/di/g6sbdisre8fpoe58lkkr3bvyeha.png"><br><p>  Creemos un registro y conectemos un script con el siguiente c√≥digo: </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Player"</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>) { Debug.Log(<span class="hljs-string"><span class="hljs-string">"   !"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { InventoryOnHero.woodCount = InventoryOnHero.woodCount + <span class="hljs-number"><span class="hljs-number">1</span></span>; Destroy(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  A continuaci√≥n, tambi√©n crearemos una clase que ser√° responsable del inventario. </p><br><p>  Primero, verifique si hay espacio en la bolsa.  Si no, entonces el error y el registro siguen mintiendo, si hay espacio, entonces reponemos el inventario por una unidad y destruimos el registro. <br>  A continuaci√≥n, debe hacer algo con estos recursos.  Como se mencion√≥ anteriormente, ofrecemos al jugador la oportunidad de construir puentes y escaleras. </p><br><p>  Para crear un puente, necesitamos 2 prefabricados con la mitad izquierda y derecha del puente.       <strong>BoxCollider2D</strong> .  ,    ,      - ,  . </p><br><p>        : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform inst1, inst2; <span class="hljs-comment"><span class="hljs-comment">//        [SerializeField] private GameObject bridgePref1, bridgePref2; //   [SerializeField] private int BridgeCount; //   ,   .   </span></span></code> </pre> </div></div><br><p> : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuildBridge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount == <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.LogWarning (<span class="hljs-string"><span class="hljs-string">" !"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { BridgeCount = BridgeCount - <span class="hljs-number"><span class="hljs-number">1</span></span>; InventoryOnHero.woodCount = InventoryOnHero.woodCount - <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (BridgeCount) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: Inst1(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: Inst2(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: Debug.LogWarning(<span class="hljs-string"><span class="hljs-string">"-      "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  ,    ,       . ,   10 ,  12  8. </p><br><p> , ,      ,  ,    .  ,   1  ,      1   .    ,      5,   ,        .  0,   .  ,   . </p><br><p>      . </p><br><p>    ,   <strong>ColliderReaction.cs</strong> : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerStay2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Ladder"</span></span>: { rb2d.gravityScale = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Ladder"</span></span>: { rb2d.gravityScale = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  <strong>OnTriggerStay2D</strong> ,          .  ,     0. ,        .  <strong>OnTriggerExit2D</strong>  ,              . </p><br><h3>  </h3><br><p> <em>,   .</em> </p><br><p>    19    ,           . ,       ,    ,  ,      ,   . </p><br><p>   GO,      <strong>SpriteRenderer</strong> , <strong>BoxCollider2D</strong> , <strong>Rigidbody2D</strong> . ,      ‚Äî ,        .       ,          ru.stackoverflow.com. </p><br><p><img src="https://habrastorage.org/webt/fu/uw/ri/fuuwriruf0zli9r6pwvprae_qba.png" alt="imagen"></p><br><p>         <strong>Trees</strong> . </p><br><p> ,        . ,    -,      ,          Raycast     2     (4   ).  ,  ,   ,      (   ).        (    ),      .      ,      .     ,      ,       .  ,      . ,     ,                 (     ,      ). </p><br><p>   ,     .   ,       - . </p><br><p>     : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject area; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> m1 = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, m2; <span class="hljs-comment"><span class="hljs-comment">// m  move private void fGreenMonster() { float dist = Vector3.Distance(greenMonster.transform.position, area.transform.position); Debug.Log(dist); if (m1) { if (dist &lt; 3f) { transform.position += new Vector3(speed,0,0) * Time.deltaTime; SR.flipX = true; } else { m1 = false; m2 = true; } } if (m2) { if(dist &gt;= 1f) { transform.position += new Vector3(-speed,0,0) * Time.deltaTime; SR.flipX = false; } else { m2 = false; m1 = true; } } }</span></span></code> </pre> </div></div><br><p>      <strong>Update()</strong>    ,        .   ,  3 ,   .   3,        ,     . </p><br><p><img src="https://habrastorage.org/webt/nf/4y/6e/nf4y6edxsifi9_m3eq56d0xlbtw.png" alt="imagen"></p><br><p>  ,         . </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fSunFlower</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { canBullet = canBullet - minus * Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; newArrow.transform.position = transform.position; Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;(); rb.velocity = sunFlowerTrans.transform.forward * -sunFlowerBulletSpeed; canBullet = <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; newArrow.transform.position = transform.position; Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;(); rb.velocity = sunFlowerTrans.transform.forward * sunFlowerBulletSpeed; canBullet = <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> </div></div><br><pre> <code class="cs hljs">canBullet = canBullet - minus * Time.deltaTime;</code> </pre> <br><p>   ,      . </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) }</code> </pre> </div></div><br><p>  ,  ,     ,   ,    : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Damage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { Health = Health - x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Health; }</code> </pre> </div></div><br><p> , ,     : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ifDie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Damage(<span class="hljs-number"><span class="hljs-number">0</span></span>) &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { Destroy(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } }</code> </pre> </div></div><br><p>   0,   . </p><br><p>  ,         : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bGreenMonster) { fGreenMonster(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bSunFlower) { fSunFlower(); }</code> </pre> </div></div><br><p>   ,         . </p><br><p><img src="https://habrastorage.org/webt/-1/1s/ki/-11skihlzc3vevw5zqiuxstlmre.png" alt="imagen"></p><br><p>   . </p><br><p>  ,      ? </p><br><p> ,       . </p><br><p>      : </p><br><img src="https://habrastorage.org/webt/7i/oe/3l/7ioe3lshbpcu-hkwa09wydzefbs.png"><br><p>  : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform Hero; <span class="hljs-comment"><span class="hljs-comment">//         [SerializeField] private float distWhatHeroSee; //   [SerializeField] private LayerMask Tree, BridgeBuild, LadderBuild ,drinkingWater, lEnemy; //  </span></span></code> </pre> </div></div><br><p>      ,         : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AttackBtn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CrossPlatformInputManager.GetButtonDown(<span class="hljs-string"><span class="hljs-string">"Attack"</span></span>)) { GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Hero"</span></span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA; Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Trees.Length; i++) { Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number"><span class="hljs-number">1</span></span>); Debug.Log(<span class="hljs-string"><span class="hljs-string">"Trees Collider"</span></span>); HeroScript.Water = HeroScript.Water - <span class="hljs-number"><span class="hljs-number">0.7f</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// BB  BridgeBuild Collider2D[] BB = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, BridgeBuild); for (int i = 0; i &lt; BB.Length; i++) { BB[i].GetComponent&lt;BridgeBuilding&gt;().BuildBridge(); HeroScript.Water = HeroScript.Water - 0.17f; }</span></span></code> </pre> </div></div><br><pre> <code class="cs hljs">GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Hero"</span></span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA;</code> </pre> <br><p>      ,          . <br> ,   : </p><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Trees.Length; i++) { Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number"><span class="hljs-number">1</span></span>); Debug.Log(<span class="hljs-string"><span class="hljs-string">"Trees Collider"</span></span>); HeroScript.Water = HeroScript.Water - <span class="hljs-number"><span class="hljs-number">0.7f</span></span>; }</code> </pre> </div></div><br><p>   <strong>Trees</strong> ,      .      ,        ,       ,    .         . <br>  ,            . Simple as that! </p><br><p>   , -    : </p><br><p><img src="https://habrastorage.org/webt/x6/cg/du/x6cgduvtlqneym3ulljopmfy2yo.png" alt="imagen"></p><br><p>      ,       ‚Äî  . <br>   ,      .  ,         ,    ,     . </p><br><p>   2        ,                     . </p><br><p>  Buena suerte </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . </p><br><p>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://opengameart.org/</a> ,  : </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> </li><li>   Unity  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ru.stackoverflow.com</a> </li><li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Google Play</a> </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Google Play</a> </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sourceforge.net.</a> <br>             worldofonehero@gmail.com. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458846/">https://habr.com/ru/post/458846/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458834/index.html">Lado de la personalidad de Paul Allen, sobre el cual no tanta gente sab√≠a como me gustar√≠a</a></li>
<li><a href="../458836/index.html">√çndice de Borsch. Un enfoque sistem√°tico para evaluar, comparar y determinar la relaci√≥n calidad / precio.</a></li>
<li><a href="../458840/index.html">C√≥mo atravesamos el Gran Firewall chino (parte 2)</a></li>
<li><a href="../458842/index.html">La paciencia y el trabajo extraer√°n todo el texto.</a></li>
<li><a href="../458844/index.html">Destrucci√≥n de silos a trav√©s del enfoque de adaptaci√≥n VeriSM ‚Ñ¢</a></li>
<li><a href="../458848/index.html">Lanzamiento de Rust 1.36.0: Rasgo futuro, estabilizaci√≥n de asignaci√≥n y Quiz√°sUninit <T></a></li>
<li><a href="../458850/index.html">Aprende ingl√©s de forma econ√≥mica y eficiente. Parte 2</a></li>
<li><a href="../458854/index.html">MotionLayout: las animaciones son mejores, menos c√≥digo</a></li>
<li><a href="../458856/index.html">Bater√≠as AAA baratas y caras</a></li>
<li><a href="../458860/index.html">Ajuste de los par√°metros del kernel de Linux para optimizar PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>