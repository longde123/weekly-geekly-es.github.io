<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëî üóÑÔ∏è üëü PHP para iniciantes. Tratamento de erros üå¨Ô∏è üôèüèø üëäüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Somente quem n√£o faz nada n√£o comete erros, e somos um exemplo disso - sentamos e trabalhamos incansavelmente, lemos o Habr :) 

 Neste artigo, contar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHP para iniciantes. Tratamento de erros</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440744/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18b/c9c/5d5/18bc9c5d5f043226c41b3db5fcb1b839.png" alt="imagem"></div><br>  Somente quem n√£o faz nada n√£o comete erros, e somos um exemplo disso - sentamos e trabalhamos incansavelmente, lemos o Habr :) <br><br>  Neste artigo, contarei minha hist√≥ria sobre erros no PHP e como control√°-los. <br><a name="habracut"></a><br><h2>  Erros </h2><br><h3>  Variedades na fam√≠lia de erros </h3><br>  Antes de domar erros, eu recomendaria estudar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cada esp√©cie</a> e prestar aten√ß√£o separadamente aos representantes mais importantes. <br><br>  Para impedir que um √∫nico erro passe despercebido, √© necess√°rio ativar o rastreamento de todos os erros usando a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">error_reporting ()</a> e a diretiva <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">display_errors</a> para ativar a exibi√ß√£o: <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> error_reporting(E_ALL); ini_set(<span class="hljs-string"><span class="hljs-string">'display_errors'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br><h4>  Erros fatais </h4><br>  O tipo de erro mais formid√°vel √© fatal, pode ocorrer durante a compila√ß√£o e durante o trabalho do analisador ou do script PHP, enquanto o script √© interrompido. <br><br>  <strong>E_PARSE</strong> <br><br>  Este erro aparece quando voc√™ comete um erro grave de sintaxe e o int√©rprete PHP n√£o entende o que voc√™ deseja dele, por exemplo, se voc√™ n√£o fechou o cacheado ou o par√™ntese: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected end of file */</span></span> {</code> </pre><br>  Ou eles escreveram em uma linguagem incompreens√≠vel: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected '...' (T_STRING) */</span></span>    </code> </pre><br>  Suportes extras tamb√©m ocorrem, e n√£o s√£o t√£o importantes redondos ou encaracolados: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Parse error: syntax error, unexpected '}' */</span></span> }</code> </pre><br>  Observo um ponto importante - o c√≥digo do arquivo no qual voc√™ cometeu o erro de an√°lise n√£o ser√° executado; portanto, se voc√™ tentar ativar a exibi√ß√£o de erros no mesmo arquivo em que ocorreu o erro do analisador, isso n√£o funcionar√°: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     error_reporting(E_ALL); ini_set('display_errors', 1); // ..    </span></span></code> </pre><br>  <strong>E_ERROR</strong> <br><br>  Este erro aparece quando o PHP entendeu o que voc√™ deseja, mas isso n√£o funcionou por v√°rios motivos.  Este erro tamb√©m interrompe a execu√ß√£o do script e o c√≥digo funcionar√° antes que o erro apare√ßa: <br><br>  O plug-in n√£o foi encontrado: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: require_once(): Failed opening required 'not-exists.php' * (include_path='.:/usr/share/php:/usr/share/pear') */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> <span class="hljs-string"><span class="hljs-string">'not-exists.php'</span></span>;</code> </pre><br>  Uma exce√ß√£o foi lan√ßada (que tipo de animal, eu vou te contar um pouco mais tarde), mas n√£o foi processada: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Uncaught exception 'Exception' */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>();</code> </pre><br>  Ao tentar chamar um m√©todo de classe inexistente: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Call to undefined method stdClass::notExists() */</span></span> $stdClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> stdClass(); $stdClass-&gt;notExists();</code> </pre><br>  Falta de mem√≥ria livre (mais do que o prescrito na diretiva <a href="">memory_limit</a> ) ou algo semelhante: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal Error: Allowed Memory Size */</span></span> $arr = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { $arr[] = str_pad(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span>); }</code> </pre><br><blockquote>  √â muito comum ao ler ou baixar arquivos grandes, portanto, tenha cuidado com a quest√£o do consumo de mem√≥ria </blockquote>  Chamada de fun√ß√£o recursiva.  Neste exemplo, ele terminou na 256¬™ itera√ß√£o, porque est√° escrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nas configura√ß√µes do xdebug</a> (sim, esse erro pode aparecer neste formul√°rio somente quando a extens√£o xdebug est√° ativada): <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Fatal error: Maximum function nesting level of '256' reached, aborting! */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deep</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ deep(); } deep();</code> </pre><br><h4>  N√£o fatal </h4><br>  Essa visualiza√ß√£o n√£o interrompe a execu√ß√£o do script, mas √© o testador que normalmente os encontra.  S√£o esses erros que causam mais problemas para desenvolvedores iniciantes. <br><br>  <strong>E_WARNING</strong> <br><br>  Geralmente ocorre quando voc√™ conecta um arquivo usando o <code>include</code> , mas ele n√£o aparece no servidor ou voc√™ cometeu um erro ao indicar o caminho para o arquivo: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Warning: include_once(): Failed opening 'not-exists.php' for inclusion */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include_once</span></span> <span class="hljs-string"><span class="hljs-string">'not-exists.php'</span></span>;</code> </pre><br>  Isso acontece se voc√™ usar o tipo errado de argumentos ao chamar fun√ß√µes: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Warning: join(): Invalid arguments passed */</span></span> join(<span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'string'</span></span>);</code> </pre><br>  Existem muitos deles, e listar tudo n√£o faz sentido ... <br><br>  <strong>E_NOTICE</strong> <br><br>  Esses s√£o os erros mais comuns. Al√©m disso, existem ventiladores para desativar a sa√≠da de erros e rebit√°-los o dia todo.  H√° v√°rios erros triviais. <br><br>  Ao acessar uma vari√°vel indefinida: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Undefined variable: a */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a;</code> </pre><br>  Ao acessar um elemento de matriz inexistente: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Undefined index: a */</span></span> $b = []; $b[<span class="hljs-string"><span class="hljs-string">'a'</span></span>];</code> </pre><br>  Ao acessar uma constante inexistente: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Use of undefined constant UNKNOWN_CONSTANT - assumed 'UNKNOWN_CONSTANT' */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> UNKNOWN_CONSTANT;</code> </pre><br>  Quando os tipos de dados n√£o s√£o convertidos: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Notice: Array to string conversion */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>();</code> </pre><br>  Para evitar esses erros - tenha cuidado e, se o IDE informar algo, n√£o o ignore: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/269/72e/f7f/26972ef7f88d757afd966ddb080a2e83.png" alt="PHP E_NOTICE no PHPStorm" width="367" height="68"><br><br>  <strong>E_STRICT</strong> <br><br>  S√£o erros que ensinam a escrever o c√≥digo corretamente, para que voc√™ n√£o tenha vergonha, principalmente porque o IDE mostra imediatamente esses erros.  Por exemplo, se voc√™ chamou um m√©todo n√£o est√°tico como est√°tico, o c√≥digo funcionar√°, mas de alguma forma est√° errado, e poder√£o ocorrer erros graves se o m√©todo de classe for alterado no futuro, e um apelo a <code>$this</code> exibido: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Strict standards: Non-static method Strict::test() should not be called statically */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Strict</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Test"</span></span>; } } Strict::test();</code> </pre><br><br><blockquote>  Este tipo de erro √© relevante para o PHP vers√£o 5.6 e quase todos foram cortados <br>  7 correspond√™ncias.  Leia mais na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RFC relevante</a> .  Se algu√©m souber onde mais esses erros permaneceram, escreva nos coment√°rios </blockquote><br><br>  <strong>E_DEPRECATED</strong> <br><br>  Portanto, o PHP jurar√° se voc√™ usar fun√ß√µes obsoletas (ou seja, aquelas marcadas como obsoletas e que n√£o estar√£o no pr√≥ximo grande lan√ßamento): <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Deprecated: Function split() is deprecated */</span></span> <span class="hljs-comment"><span class="hljs-comment">//  ,   PHP 7.0 //    PHP 5.3 split(',', 'a,b');</span></span></code> </pre><br>  No meu editor, fun√ß√µes semelhantes ser√£o riscadas: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d1/6f8/670/9d16f8670d27cee56cbed1433a913ee4.png" alt="PHP E_DEPRECATED sem PHPStorm" width="367" height="72"><br><br><h4>  Custom </h4><br>  Esse tipo, que o pr√≥prio desenvolvedor de c√≥digo ‚Äúcria‚Äù, n√£o os vejo h√° muito tempo e n√£o recomendo que voc√™ os abuse: <br><br><ul><li>  <code>E_USER_ERROR</code> - erro cr√≠tico </li><li>  <code>E_USER_WARNING</code> - n√£o √© um erro cr√≠tico </li><li>  <code>E_USER_NOTICE</code> - mensagens que n√£o s√£o erros </li></ul><br>  Separadamente, vale a pena notar <code>E_USER_DEPRECATED</code> - esse tipo ainda √© usado com muita frequ√™ncia para lembrar ao programador que o m√©todo ou fun√ß√£o est√° desatualizado e √© hora de reescrever o c√≥digo sem us√°-lo.  A fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">trigger_error ()</a> √© usada para criar erros semelhantes e semelhantes: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@deprecated</span></span></span><span class="hljs-comment"> Deprecated since version 1.2, to be removed in 2.0 */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateToken</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ trigger_error(<span class="hljs-string"><span class="hljs-string">'Function `generateToken` is deprecated, use class `Token` instead'</span></span>, E_USER_DEPRECATED); <span class="hljs-comment"><span class="hljs-comment">// ... // code ... // ... }</span></span></code> </pre><br><blockquote>  Agora que voc√™ se familiarizou com a maioria dos tipos e tipos de erros, √© hora de dar uma breve explica√ß√£o sobre a opera√ß√£o da diretiva <code>display_errors</code> : <br><br><ul><li>  se <code>display_errors = on</code> , em caso de erro, o navegador receber√° html com o texto e o c√≥digo do erro 200 </li><li>  se <code>display_errors = off</code> , para erros fatais o c√≥digo de resposta ser√° 500 e o resultado n√£o ser√° retornado ao usu√°rio, para outros erros - o c√≥digo n√£o funcionar√° corretamente, mas n√£o contar√° a ningu√©m sobre isso </li></ul><br></blockquote><br><h3>  Domar </h3><br>  Existem 3 fun√ß√µes para trabalhar com erros no PHP: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">set_error_handler ()</a> - define um manipulador para erros que n√£o interrompem o script (ou seja, para erros n√£o fatais) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">error_get_last ()</a> - obt√©m informa√ß√µes sobre o √∫ltimo erro </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">register_shutdown_function ()</a> - registra um manipulador que ser√° iniciado quando o script terminar.  Esta fun√ß√£o n√£o se aplica diretamente a manipuladores de erros, mas √© frequentemente usada para esse fim. </li></ul><br>  Agora, alguns detalhes sobre o tratamento de erros usando <code>set_error_handler()</code> , como argumentos, essa fun√ß√£o aceita o nome da fun√ß√£o √† qual ser√° atribu√≠da a miss√£o para manipular erros e os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tipos de erros</a> que ser√£o monitorados.  Um manipulador de erros tamb√©m pode ser um m√©todo de classe ou uma fun√ß√£o an√¥nima. O principal √© que ele recebe a seguinte lista de argumentos: <br><br><ul><li>  <code>$errno</code> - o primeiro argumento cont√©m o tipo de erro como um n√∫mero inteiro </li><li>  <code>$errstr</code> - o segundo argumento cont√©m uma mensagem de erro </li><li>  <code>$errfile</code> - um terceiro argumento opcional cont√©m o nome do arquivo no qual o erro ocorreu </li><li>  <code>$errline</code> - um quarto argumento opcional cont√©m o n√∫mero da linha na qual o erro ocorreu </li><li>  <code>$errcontext</code> - o quinto argumento opcional cont√©m uma matriz de todas as vari√°veis ‚Äã‚Äãexistentes no escopo em que ocorreu o erro </li></ul><br>  Se o manipulador retornou <code>true</code> , o erro ser√° considerado processado e o script continuar√° sendo executado; caso contr√°rio, ser√° chamado um manipulador padr√£o que registrar√° o erro e, dependendo do seu tipo, continuar√° executando o script ou complet√°-lo.  Aqui est√° um manipulador de exemplo: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    ,  E_NOTICE error_reporting(E_ALL &amp; ~E_NOTICE); ini_set('display_errors', 1); //    function myHandler($level, $message, $file, $line, $context) { //         switch ($level) { case E_WARNING: $type = 'Warning'; break; case E_NOTICE: $type = 'Notice'; break; default; //   E_WARNING   E_NOTICE //      //      PHP return false; } //    echo "&lt;h2&gt;$type: $message&lt;/h2&gt;"; echo "&lt;p&gt;&lt;strong&gt;File&lt;/strong&gt;: $file:$line&lt;/p&gt;"; echo "&lt;p&gt;&lt;strong&gt;Context&lt;/strong&gt;: $". join(', $', array_keys($context))."&lt;/p&gt;"; // ,    ,      return true; } //   ,         set_error_handler('myHandler', E_ALL);</span></span></code> </pre><br><blockquote>  Voc√™ n√£o poder√° atribuir mais de uma fun√ß√£o para manipular erros, embora eu realmente queira registrar meu pr√≥prio manipulador para cada tipo de erro, mas n√£o - escreva um manipulador e descreva toda a l√≥gica de exibi√ß√£o de cada tipo diretamente nele </blockquote>  H√° um problema significativo com o manipulador que est√° escrito acima - ele n√£o captura erros fatais e, com esses erros, em vez do site, os usu√°rios ver√£o apenas uma p√°gina em branco ou, pior ainda, uma mensagem de erro.  Para evitar esse cen√°rio, voc√™ deve usar a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">register_shutdown_function</a> () e us√°-la para registrar uma fun√ß√£o que sempre ser√° executada no final do script: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'    '</span></span>; } register_shutdown_function(<span class="hljs-string"><span class="hljs-string">'shutdown'</span></span>);</code> </pre><br>  Esta fun√ß√£o sempre funcionar√°! <br><br>  Mas voltando aos erros, para rastrear a apar√™ncia do erro no c√≥digo do erro, usamos a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">error_get_last ()</a> , com sua ajuda, voc√™ pode obter informa√ß√µes sobre o √∫ltimo erro detectado e, como erros fatais interrompem a execu√ß√£o do c√≥digo, eles sempre desempenhar√£o o papel do "√∫ltimo": <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $error = error_get_last(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-comment"><span class="hljs-comment">//       is_array($error) &amp;&amp; //       in_array($error['type'], [E_ERROR, E_PARSE, E_CORE_ERROR, E_COMPILE_ERROR]) ) { //    (       ) while (ob_get_level()) { ob_end_clean(); } //    echo "    ,  "; } } register_shutdown_function('shutdown');</span></span></code> </pre> <br><blockquote>  Gostaria de chamar a aten√ß√£o para o fato de que esse c√≥digo ocorre at√© para tratamento de erros, e voc√™ pode at√© encontr√°-lo, mas perdeu relev√¢ncia desde a 7¬™ vers√£o do PHP.  O que veio substituir, vou contar um pouco mais tarde. </blockquote><div class="spoiler">  <b class="spoiler_title">Tarefa</b> <div class="spoiler_text">  Complemente o manipulador de erros fatais com a sa√≠da do c√≥digo-fonte do arquivo em que o erro foi cometido e tamb√©m adicione realce de sintaxe do c√≥digo de sa√≠da. <br></div></div><br><h3>  Sobre gula </h3><br>  Vamos fazer um teste simples e descobrir quantos recursos preciosos o erro mais trivial consome: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *      */</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $time= microtime(true); define('AAA', 'AAA'); $arr = []; for ($i = 0; $i &lt; 10000; $i++) { $arr[AAA] = $i; } printf('%f seconds &lt;br/&gt;', microtime(true) - $time);</span></span></code> </pre><br>  Como resultado da execu√ß√£o desse script, obtive este resultado: <br><br><pre> <code class="bash hljs">0.002867 seconds</code> </pre><br>  Agora adicione o erro no loop: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     */</span></span> <span class="hljs-comment"><span class="hljs-comment">//     $time= microtime(true); $arr = []; for ($i = 0; $i &lt; 10000; $i++) { $arr[BBB] = $i; //   ,      } printf('%f seconds &lt;br/&gt;', microtime(true) - $time);</span></span></code> </pre><br>  O resultado √© provavelmente pior, e uma ordem de magnitude (mesmo duas ordens de magnitude!): <br><br><pre> <code class="bash hljs">0.263645 seconds</code> </pre><br>  <strong>A conclus√£o √© clara - os erros no c√≥digo levam √† excessiva gula de scripts - portanto, ative a exibi√ß√£o de todos os erros durante o desenvolvimento e teste de aplicativos!</strong> <br><blockquote>  Os testes foram realizados em v√°rias vers√µes do PHP e, em todo lugar, a diferen√ßa √© dezenas de vezes, portanto, esse √© outro motivo para corrigir todos os erros no c√≥digo </blockquote><br><h3>  Onde est√° o cachorro enterrado </h3><br>  O PHP possui um s√≠mbolo especial ‚Äú@‚Äù - um operador de supress√£o de erro, que √© usado para n√£o gravar a manipula√ß√£o de erros, mas depende do comportamento correto do PHP; nesse caso: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> @UNKNOWN_CONSTANT;</code> </pre><br>  Nesse caso, o manipulador de erros especificado em <code>set_error_handler()</code> ainda ser√° chamado e o fato de a supress√£o ter sido aplicada ao erro pode ser rastreado chamando a fun√ß√£o <code>error_reporting()</code> dentro do manipulador, caso em que retornar√° <code>0</code> . <br><blockquote>  Se voc√™ suprimir erros dessa maneira, isso reduzir√° a carga no processador em compara√ß√£o com se voc√™ simplesmente os oculta (veja o teste comparativo acima), mas, em qualquer caso, <strong>suprimir erros √© ruim.</strong> </blockquote><div class="spoiler">  <b class="spoiler_title">Tarefa</b> <div class="spoiler_text">  Verifique como a supress√£o de erro com <code>@</code> afeta o exemplo do loop anterior. <br></div></div><br><h2>  Exce√ß√µes </h2><br><blockquote>  Na era do PHP4, n√£o havia exce√ß√µes, tudo era muito mais complicado, e os desenvolvedores lutaram com os erros da melhor maneira poss√≠vel: foi uma batalha n√£o pela vida, mas pela morte ... Voc√™ pode mergulhar nessa fascinante hist√≥ria do confronto no artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">C√≥digo Excepcional.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a>  Devo ler agora?  N√£o posso dar uma resposta definitiva. Quero apenas observar que isso ajudar√° voc√™ a entender a evolu√ß√£o do idioma e revelar√° todo o charme das exce√ß√µes. </blockquote>  Exce√ß√µes s√£o eventos excepcionais no PHP, diferentemente dos erros, n√£o apenas indicam um problema, mas requerem a√ß√µes adicionais do programador para lidar com cada caso espec√≠fico. <br><br>  Por exemplo, um script deve salvar alguns dados em um arquivo de cache se algo der errado (sem acesso de grava√ß√£o, sem espa√ßo em disco), uma exce√ß√£o do tipo correspondente for gerada e a decis√£o for tomada no manipulador de exce√ß√µes - salve em outro local ou informe o usu√°rio sobre o problema. <br><br>  Uma exce√ß√£o √© um objeto da classe <code>Exception</code> ou de um de seus muitos descendentes, cont√©m o texto do erro, status e tamb√©m pode conter um link para outra exce√ß√£o que se tornou a causa raiz disso.  O modelo de exce√ß√£o no PHP √© semelhante ao usado em outras linguagens de programa√ß√£o.  Uma exce√ß√£o pode ser lan√ßada (como se diz, "throw") usando o operador <code>throw</code> , e voc√™ pode capturar ("catch") a instru√ß√£o <code>catch</code> .  O c√≥digo que gera a exce√ß√£o deve estar entre um bloco <code>try</code> para capturar a exce√ß√£o.  Cada bloco <code>try</code> deve ter pelo menos uma <code>catch</code> correspondente ou, <code>finally</code> bloco: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      if (random_int(0, 1)) { throw new Exception("One"); } echo "Zero" } catch (Exception $e) { //      echo $e-&gt;getMessage(); }</span></span></code> </pre><br>  Em quais casos vale a pena usar exce√ß√µes: <br><br><ul><li>  se dentro da estrutura de um m√©todo / fun√ß√£o houver v√°rias opera√ß√µes que podem falhar </li><li>  se sua estrutura ou biblioteca declara seu uso </li></ul><br>  Para ilustrar o primeiro cen√°rio, tomamos um exemplo j√° verbalizado de uma fun√ß√£o para gravar dados em um arquivo - muitos fatores podem nos impedir, mas para informar o c√≥digo acima qual era exatamente o problema, voc√™ precisa criar e lan√ßar uma exce√ß√£o: <br><br><pre> <code class="php hljs">$directory = <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . DIRECTORY_SEPARATOR . <span class="hljs-string"><span class="hljs-string">'logs'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     if (!is_dir($directory)) { throw new Exception('Directory `logs` is not exists'); } //         if (!is_writable($directory)) { throw new Exception('Directory `logs` is not writable'); } //  -   ,      if (!$file = @fopen($directory . DIRECTORY_SEPARATOR . date('Ym-d') . '.log', 'a+')) { throw new Exception('System can\'t create log file'); } fputs($file, date("[H:i:s]") . " done\n"); fclose($file);</span></span></code> </pre><br>  Conseq√ºentemente, capturaremos essas exce√ß√µes assim: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      // ... } catch (Exception $e) { //    echo " : ". $e-&gt;getMessage(); }</span></span></code> </pre><br>  Este exemplo mostra um cen√°rio muito simples para lidar com exce√ß√µes, quando temos alguma exce√ß√£o tratada de uma maneira.  Mas, muitas vezes, v√°rias exce√ß√µes exigem uma abordagem diferente para o processamento, e voc√™ deve usar c√≥digos de exce√ß√£o e definir a hierarquia de exce√ß√µes no aplicativo: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    class FileSystemException extends Exception {} //     class DirectoryException extends FileSystemException { //   const DIRECTORY_NOT_EXISTS = 1; const DIRECTORY_NOT_WRITABLE = 2; } //     class FileException extends FileSystemException {}</span></span></code> </pre><br>  Agora, se voc√™ usar essas exce√ß√µes, poder√° obter o seguinte c√≥digo: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      if (!is_dir($directory)) { throw new DirectoryException('Directory `logs` is not exists', DirectoryException::DIRECTORY_NOT_EXISTS); } if (!is_writable($directory)) { throw new DirectoryException('Directory `logs` is not writable', DirectoryException::DIRECTORY_NOT_WRITABLE); } if (!$file = @fopen($directory . DIRECTORY_SEPARATOR . date('Ym-d') . '.log', 'a+')) { throw new FileException('System can\'t open log file'); } fputs($file, date("[H:i:s]") . " done\n"); fclose($file); } catch (DirectoryException $e) { echo "   : ". $e-&gt;getMessage(); } catch (FileException $e) { echo "   : ". $e-&gt;getMessage(); } catch (FileSystemException $e) { echo "  : ". $e-&gt;getMessage(); } catch (Exception $e) { echo " : ". $e-&gt;getMessage(); }</span></span></code> </pre><br>  √â importante lembrar que a exce√ß√£o √© principalmente um evento excepcional, ou seja, uma exce√ß√£o √† regra.  Voc√™ n√£o precisa us√°-los para lidar com erros √≥bvios, por exemplo, para validar a entrada do usu√°rio (embora isso n√£o seja t√£o simples).  Nesse caso, o manipulador de exce√ß√£o deve ser gravado no local em que ser√° capaz de lidar com isso.  Por exemplo, o manipulador de exce√ß√µes causadas pela inacessibilidade de um arquivo para grava√ß√£o deve estar no m√©todo respons√°vel pela sele√ß√£o do arquivo ou no m√©todo que o chama, para que ele possa selecionar outro arquivo ou um diret√≥rio diferente. <br><br>  Ent√£o, o que acontecer√° se voc√™ n√£o capturar a exce√ß√£o?  Voc√™ receber√° "Erro fatal: exce√ß√£o n√£o capturada ...".  Desagrad√°vel. <br><br>  Para evitar essa situa√ß√£o, voc√™ deve usar a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">set_exception_handler ()</a> e definir o manipulador para exce√ß√µes que s√£o lan√ßadas fora do bloco try-catch e n√£o foram processadas.  Ap√≥s chamar esse manipulador, a execu√ß√£o do script ser√° interrompida: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     //     set_exception_handler(function($exception) { /** @var Exception $exception */ echo $exception-&gt;getMessage(), "&lt;br/&gt;\n"; echo $exception-&gt;getFile(), ':', $exception-&gt;getLine(), "&lt;br/&gt;\n"; echo $exception-&gt;getTraceAsString(), "&lt;br/&gt;\n"; });</span></span></code> </pre><br>  Tamb√©m vou falar sobre a constru√ß√£o usando o bloco <code>finally</code> - esse bloco ser√° executado independentemente de uma exce√ß√£o ter sido lan√ßada ou n√£o: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      } catch (Exception $e) { //      //     } finally { // ,       }</span></span></code> </pre><br>  Para entender o que isso nos d√°, darei o seguinte exemplo de uso do bloco <code>finally</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// -    //     $handler = mysqli_connect('localhost', 'root', '', 'test'); try { //        // ... throw new Exception('DB error'); } catch (Exception $e) { //  ,     //     ,    throw new Exception('Catch exception', 0, $e); } finally { // ,      //      finally mysqli_close($handler); } //     ,       echo "Ok"; } catch (Exception $e) { //  ,    echo $e-&gt;getMessage(); echo "&lt;br/&gt;"; //      echo $e-&gt;getPrevious()-&gt;getMessage(); }</span></span></code> </pre><br>  I.e.  lembre-se - o bloco <code>finally</code> ser√° executado mesmo se voc√™ lan√ßar uma exce√ß√£o acima no bloco de <code>catch</code> (na verdade, √© isso que ele pretendia). <br><br>  Para um artigo introdut√≥rio de informa√ß√µes, que deseja obter mais detalhes, voc√™ as encontrar√° no artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">C√≥digo excepcional</a> ;) <br><br><div class="spoiler">  <b class="spoiler_title">Tarefa</b> <div class="spoiler_text">  Escreva seu manipulador de exce√ß√£o, com a sa√≠da do texto do arquivo em que ocorreu o erro e tudo isso com destaque para a sintaxe, tamb√©m n√£o se esque√ßa de exibir o rastreio de forma leg√≠vel.  Para refer√™ncia, veja como √© legal nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gritos</a> . <br></div></div><br><h3>  PHP7 - nem tudo est√° como antes </h3><br>  Ent√£o, agora voc√™ aprendeu todas as informa√ß√µes acima e agora carregarei inova√ß√µes no PHP7, ou seja,<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vou falar sobre o que voc√™ encontrar√° ao trabalhar em um projeto PHP moderno. </font><font style="vertical-align: inherit;">Anteriormente, eu lhe disse e mostrei com exemplos quais muletas voc√™ precisa construir para detectar erros cr√≠ticos, e assim - no PHP7 eles decidiram consertar, mas? </font><font style="vertical-align: inherit;">como sempre? </font><font style="vertical-align: inherit;">vinculado √† compatibilidade com vers√µes anteriores do c√≥digo e recebido, embora seja uma solu√ß√£o universal, mas est√° longe de ser o ideal. </font><font style="vertical-align: inherit;">E agora sobre os pontos sobre as mudan√ßas:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando erros fatais do tipo </font></font><code>E_ERROR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou erros fatais ocorrem com a possibilidade de processar o </font></font><code>E_RECOVERABLE_ERROR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP lan√ßa uma exce√ß√£o</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essas exce√ß√µes </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> herdam a classe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lembre-se, eu falei sobre compatibilidade com vers√µes anteriores, √© tudo por causa dela)</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">essas exce√ß√µes herdam a classe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Error</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as classes Exception e Error implementam a interface </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Throwable</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> voc√™ n√£o pode implementar a interface jog√°vel no seu c√≥digo </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A interface </font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nos repete quase completamente </font></font><code>Exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Throwable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLine</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTrace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTraceAsString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPrevious</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Throwable</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso √© dif√≠cil? </font><font style="vertical-align: inherit;">Agora, para exemplos, considere aqueles que foram mais altos e levemente modernizados:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     include 'e_parse_include.php'; } catch (Error $e) { var_dump($e); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como resultado, captamos o erro e imprimimos: </font></font><br><br><pre> <code class="bash hljs">object(ParseError)<span class="hljs-comment"><span class="hljs-comment">#1 (7) { ["message":protected] =&gt; string(48) "syntax error, unexpected '' (T_STRING)" ["string":"Error":private] =&gt; string(0) "" ["code":protected] =&gt; int(0) ["file":protected] =&gt; string(49) "/www/education/error/e_parse_include.php" ["line":protected] =&gt; int(4) ["trace":"Error":private] =&gt; array(0) { } ["previous":"Error":private] =&gt; NULL }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como voc√™ pode ver, eles capturaram a exce√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParseError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que √© a sucessora da exce√ß√£o </font></font><code>Error</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que implementa a interface </font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na casa que Jack construiu. </font><font style="vertical-align: inherit;">Existem muitas outras exce√ß√µes, mas n√£o vou atormentar - para maior clareza, darei uma hierarquia de exce√ß√µes:</font></font><br><br><pre> <code class="bash hljs">interface Throwable |- Exception implements Throwable | |- ErrorException extends Exception | |- ... extends Exception | `- ... extends Exception `- Error implements Throwable |- TypeError extends Error |- ParseError extends Error |- ArithmeticError extends Error | `- DivisionByZeroError extends ArithmeticError `- AssertionError extends Error</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E um pouco mais detalhadamente: </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - para erros quando o tipo de argumento da fun√ß√£o n√£o corresponde ao tipo passado:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $one, int $two)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; })(<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (TypeError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArithmeticError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pode ocorrer durante opera√ß√µes matem√°ticas, por exemplo, quando o resultado do c√°lculo excede o limite alocado para um n√∫mero inteiro:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DivisionByZeroError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - divis√£o por erro zero:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertionError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um animal raro que aparece quando a condi√ß√£o especificada em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">√©</font></a><font style="vertical-align: inherit;"> satisfeita:</font></font><br><br><pre> <code class="php hljs">ini_set(<span class="hljs-string"><span class="hljs-string">'zend.assertions'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); ini_set(<span class="hljs-string"><span class="hljs-string">'assert.exception'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { assert(<span class="hljs-number"><span class="hljs-number">1</span></span> === <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (AssertionError $e) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $e-&gt;getMessage(); }</code> </pre><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em configura√ß√µes directiva produ√ß√£o em servidor </font></font><code>zend.assertions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>assert.exception</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cortado, e com raz√£o</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ encontrar√° uma lista completa de exce√ß√µes predefinidas no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manual oficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , na mesma hierarquia de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exce√ß√µes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SPL</font></a><font style="vertical-align: inherit;"> .</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarefa</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Escreva um manipulador de erros universal para o PHP7 que capture todas as exce√ß√µes poss√≠veis. </font></font><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao escrever esta se√ß√£o, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foram utilizados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> materiais do artigo </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Exce√ß√µes e erros lan√ß√°veis ‚Äã‚Äãno PHP 7</font></a><font style="vertical-align: inherit;"> .</font></font></blockquote><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uniformidade </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Existem erros, exce√ß√µes, mas tudo isso pode ser de alguma forma associado √† pilha? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sim, √© f√°cil, temos </font></font><code>set_error_handler()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um e ningu√©m nos proibir√° de lan√ßar uma exce√ß√£o dentro deste manipulador:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//     function errorHandler($severity, $message, $file = null, $line = null) { //  ,       @ if (error_reporting() === 0) { return false; } throw new \ErrorException($message, 0, $severity, $file, $line); } //   -  set_error_handler('errorHandler', E_ALL);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas essa abordagem com o PHP7 √© redundante, agora ele pode lidar com tudo </font></font><code>Throwable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** ... **/</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\Throwable $e) { <span class="hljs-comment"><span class="hljs-comment">//      echo $e-&gt;getMessage(); }</span></span></code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Depura√ß√£o </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Äs vezes, para depurar c√≥digo, √© necess√°rio rastrear o que aconteceu com uma vari√°vel ou objeto em um determinado est√°gio; para esses fins, existe uma fun√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_backtrace ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_print_backtrace ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que retornar√° o hist√≥rico de chamadas para fun√ß√µes / m√©todos na ordem inversa:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">example</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;pre&gt;'</span></span>; debug_print_backtrace(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;/pre&gt;'</span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExampleClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">method</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ example(); } } ExampleClass::method();</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado da execu√ß√£o da fun√ß√£o </font></font><code>debug_print_backtrace()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, uma lista de chamadas que nos levaram a este ponto ser√° exibida:</font></font><br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#0 example() called at [/www/education/error/backtrace.php:10] #1 ExampleClass::method() called at [/www/education/error/backtrace.php:14]</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ pode verificar o c√≥digo quanto a erros de sintaxe usando a fun√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">php_check_syntax ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou o comando </font></font><code>php -l [  ]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas eu n√£o vi o uso deles.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Afirmar </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tamb√©m gostaria de falar sobre uma fera ex√≥tica como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assert ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em PHP. </font><font style="vertical-align: inherit;">Na verdade, esta pe√ßa pode ser considerada uma imita√ß√£o para a metodologia de programa√ß√£o de contratos, e depois vou lhe contar como nunca a usei :)</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A fun√ß√£o </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mudou seu comportamento durante a transi√ß√£o da vers√£o 5.6 para a 7.0, e tudo mudou ainda mais na vers√£o 7.2, portanto, leia atentamente os registros de altera√ß√µes e o PHP;)</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O primeiro caso √© quando voc√™ precisa escrever TODO diretamente no c√≥digo, para n√£o esquecer de implementar a funcionalidade fornecida: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  asserts  php.ini // zend.assertions=1 assert(false, "Remove it!");</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado da execu√ß√£o desse c√≥digo, obtemos </font></font><code>E_WARNING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="bash hljs">Warning: assert(): Remove it! failed</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O PHP7 pode ser alternado para o modo de exce√ß√£o e, em vez de um erro, sempre aparecer√° uma exce√ß√£o </font></font><code>AssertionError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    ¬´¬ª ini_set('assert.exception', 1); assert(false, "Remove it!");</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, esperamos uma exce√ß√£o </font></font><code>AssertionError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se necess√°rio, voc√™ pode lan√ßar uma exce√ß√£o arbitr√°ria:</font></font><br><br><pre> <code class="php hljs">assert(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>(<span class="hljs-string"><span class="hljs-string">"Remove it!"</span></span>));</code> </pre><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu recomendaria o uso de tags </font></font><code>@TODO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, os IDEs modernos funcionam bem com eles e voc√™ n√£o precisar√° </font><font style="vertical-align: inherit;">empregar </font><font style="vertical-align: inherit;">esfor√ßos e recursos extras para trabalhar com eles, embora a tenta√ß√£o de "marcar" com eles seja grande</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O segundo caso de uso √© criar algum tipo de TDD, mas lembre-se, isso √© apenas uma semelhan√ßa. </font><font style="vertical-align: inherit;">Embora, se voc√™ se esfor√ßar, pode obter um resultado engra√ßado que ajudar√° no teste do seu c√≥digo:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// callback-      function backlog($script, $line, $code, $message) { echo $message; } //  callback- assert_options(ASSERT_CALLBACK, 'backlog'); //    assert_options(ASSERT_WARNING, false); //      assert(sqr(4) === 16, 'When I send integer, function should return square of it'); // ,   function sqr($a) { return; //    }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A terceira op√ß√£o √© um tipo de programa√ß√£o de contrato, quando voc√™ descreveu as regras para usar sua biblioteca, mas deseja certificar-se de que √© entendido corretamente e, nesse caso, informar imediatamente ao desenvolvedor um erro (nem tenho certeza se o entendi corretamente, mas um exemplo O c√≥digo est√° funcionando bem): </font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** *        * * [ * 'host' =&gt; 'localhost', * 'port' =&gt; 3306, * 'name' =&gt; 'dbname', * 'user' =&gt; 'root', * 'pass' =&gt; '' * ] * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> $settings */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupDb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($settings)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   assert(isset($settings['host']), 'Db `host` is required'); assert(isset($settings['port']) &amp;&amp; is_int($settings['port']), 'Db `port` is required, should be integer'); assert(isset($settings['name']), 'Db `name` is required, should be integer'); //    // ... } setupDb(['host' =&gt; 'localhost']);</span></span></code> </pre><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ est√° interessado em contratos, especificamente para voc√™, tenho um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link para o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> framework </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">PhpDeal</font></a><font style="vertical-align: inherit;"> .</font></font></blockquote><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca use </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para verificar os par√¢metros de entrada, porque na verdade ele </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interpreta o primeiro par√¢metro (se comporta como </font></font><code>eval()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), e isso est√° repleto de inje√ß√£o de PHP. </font><font style="vertical-align: inherit;">E sim, esse √© o comportamento correto, porque se voc√™ desabilitar a declara√ß√£o, todos os argumentos passados ‚Äã‚Äãser√£o ignorados e, se voc√™ fizer como no exemplo acima, o c√≥digo ser√° executado e o resultado booleano da execu√ß√£o ser√° passado dentro da declara√ß√£o desabilitada. </font><font style="vertical-align: inherit;">Ah, e isso mudou no PHP 7.2 :)</font></font></blockquote><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ tiver uma experi√™ncia de uso ao vivo </font></font><code>assert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- compartilhe comigo, serei grato. </font><font style="vertical-align: inherit;">E sim, aqui est√° outra leitura interessante para voc√™ sobre este t√≥pico - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asser√ß√µes PHP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , com a mesma pergunta no final :)</font></font><br><br><h2>  Em conclus√£o </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Escreverei as conclus√µes deste artigo para voc√™: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Luta contra erros - eles n√£o devem estar no seu c√≥digo </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Use exce√ß√µes - o trabalho com elas precisa ser organizado adequadamente e haver√° felicidade </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Afirmar - aprendeu sobre eles e bem </font></font></li></ul><br><h3>  PS </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este √© um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de uma s√©rie de artigos "PHP para iniciantes":</font></font><br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A sess√£o</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conex√£o de arquivo</font></font></a> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tratamento de erros</font></font></b> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ tiver coment√°rios sobre o material do artigo, ou possivelmente em forma, descreva a ess√™ncia dos coment√°rios, e tornaremos esse material ainda melhor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agradecimentos a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maxim Slesarenko</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pela ajuda na reda√ß√£o do artigo.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440744/">https://habr.com/ru/post/pt440744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440732/index.html">Atualize uma placa de depura√ß√£o com um processador Baikal-T1: adicione um cart√£o SD</a></li>
<li><a href="../pt440734/index.html">Sess√£o aberta √† vista no Spring Boot: a amea√ßa fantasma</a></li>
<li><a href="../pt440736/index.html">Eu estrago a vida dos desenvolvedores com meus coment√°rios de c√≥digo e me desculpe</a></li>
<li><a href="../pt440740/index.html">Semin√°rio on-line aberto ‚ÄúJornada do cliente: qual tr√°fego e para onde levar‚Äù</a></li>
<li><a href="../pt440742/index.html">P√°ginas AMP e Turbo: pr√≥s, contras e resultados da implementa√ß√£o</a></li>
<li><a href="../pt440746/index.html">A tecnologia de gerenciamento de conhecimento da Gartner alterna usando estudos de caso na KnowledgeConf</a></li>
<li><a href="../pt440748/index.html">Supercomputador mais r√°pido do mundo bate recorde de IA</a></li>
<li><a href="../pt440752/index.html">Sele√ß√£o de prioridade de solicita√ß√£o do usu√°rio</a></li>
<li><a href="../pt440754/index.html">Utilit√°rio ingl√™s de plataforma cruzada para exibi√ß√£o de certificados qualificados russos x509</a></li>
<li><a href="../pt440756/index.html">CI / CD sem servidor na AWS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>