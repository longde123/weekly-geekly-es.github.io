<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🤝‍👨🏿 👊 👩🏾‍🤝‍👩🏽 CO2-Meter ⛲️ 🤨 🖐🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einmal, als ich bei der Arbeit saß und mich beim Atmen unwohl fühlte, beschloss ich, ein CO2-Messgerät zusammenzubauen. 
 Nachdem er mehrere Artikel z...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CO2-Meter</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422001/">  Einmal, als ich bei der Arbeit saß und mich beim Atmen unwohl fühlte, beschloss ich, ein CO2-Messgerät zusammenzubauen. <br>  Nachdem er mehrere Artikel zu diesem Thema studiert hatte, formulierte er die Anforderungen an das Gerät. <br><br><ol><li>  Das Gerät muss über einen Bildschirm verfügen, da es sich um ein tragbares Gerät handeln muss. </li><li>  Das Gerät sollte aus demselben Grund nicht vom Internet abhängig sein. </li><li>  Das Gerät muss in der Lage sein, Werte im Laufe der Zeit zu protokollieren, die jederzeit angezeigt werden können.  Und das bedeutet, dass er einen eigenen Webserver und einen eigenen WLAN-Punkt haben muss. </li></ol><br>  Das letzte Element führte mehrdeutig zu der Eingabe, dass sich das Gerät auf dem ESP befindet.  Da ich keine hohe Leistung benötige, wähle ich die günstigste Option - ESP8266, 07.  Zu Hause lag nur eine Kopie mit 1 MB Speicher herum. <br><br>  Ich habe die fehlenden Ersatzteile für aliexpress bestellt und sie waren: <br><br><ol><li>  Oled Display 96x64 SSD1331. </li><li>  MH-Z19B CO2-Sensor. </li><li>  DS1307 RTC-Modul. </li></ol><a name="habracut"></a><br>  Nach Erhalt der Details begann er mit der Entwicklung der Schaltung mit KiCad. <br><br>  Ich muss sofort sagen - alle Quellen befinden sich am Ende des Artikels und nachdem sie gemäß den Schemata zusammengestellt wurden und die Firmware hochgeladen haben, sollten sie ein voll funktionsfähiges Gerät erhalten. <br><br>  Das Schema kam wie folgt heraus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/586/54e/9f2/58654e9f2abb832f1884fdf9930289d4.png" alt="Bild"><br><br>  Ich habe beschlossen, die Module entfernbar zu machen, damit sich keine Module auf der Schaltung befinden, sondern nur Anschlüsse für sie. <br>  Ich breitete das Brett aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecd/642/39d/ecd64239d067adf6cad3f5d93df58db7.png" alt="Bild"><br><br>  Nach der Herstellung der Leiterplatte und dem Löten ergab sich Folgendes: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/675/f89/3e5/675f893e5969c4d8a54754420949497b.png" alt="Bild"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/725/db9/9d3/725db99d3353086b9b26c26471880f95.png" alt="Bild"><br><br>  In der Montage und in der Arbeit sieht es so aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/be2/7eb/fae/be27ebfae5e1f3a020ebdfd315f6a477.png" alt="Bild"><br><cut></cut><br>  Nun zum Software-Teil. <br><br>  Der Code wurde in der Arduine IDE geschrieben, da ich kein Programmierer bin und die Bibliotheken im Visual Studio oder anderswo nicht verstehen wollte. <br><br>  Im Prinzip habe ich den Code für die Module im Gerät aus Bibliotheksbeispielen und aus dem Internet verwendet, damit ich nicht weiter darauf eingehen werde.  Wer will - die Skizze leicht verstehen. <br>  Es stellte sich jedoch heraus, dass es nicht so einfach war, Statistiken rechtzeitig anzuzeigen und anzuzeigen. <br><br>  Ich wollte es so: Von einem Mobiltelefon oder Laptop aus ist es so einfach wie möglich, eine Verbindung zum Gerät herzustellen. Gehen Sie über den HTML-Browser zur Datenseite und zeigen Sie sie in einem Zeitdiagramm an. <br><br>  Zunächst wurde bei ESP ein Zugriffspunkt ohne Kennwörter und Authentifizierungen erstellt. <br><br>  Das zweite - erstellte ein Datenarray, in das ich CO2-Daten und den Zeitpunkt der Datenerfassung schreibe (dafür stelle ich tatsächlich die Uhr im Gerät ein. <br><br>  Drittens habe ich einen HTTP-Server und mehrere HTML-Seiten eingerichtet, auf denen ich Daten ausgebe. <br><br>  Viertens: Java Script zum Zeichnen des Diagramms auf der Seite wurde in das ESP-Dateisystem geschrieben. <br><br>  Da die Grafikausgabe nur mit Hilfe von Java Script möglich war, wurde nach einem langen Experiment der vierte Punkt folgendermaßen implementiert: Das einfachste Chart.js-Skript wurde als Datei in das SPIFFS ESP-Dateisystem geschrieben, das eine Seite mit dem Ergebnis anfordert. <br><br>  Im Allgemeinen werden beim Einschalten des Geräts alle 10 bis 15 Sekunden auf dem Display die neuen Sensorwerte angezeigt, und alle 8 Minuten werden die aktuellen Sensorwerte im Datenarray aufgezeichnet. <br><br>  Nach einiger Zeit, um die Messwerte rechtzeitig zu analysieren, stellen Sie über Ihr Telefon oder Ihren Laptop eine Verbindung zum WLAN-Punkt „CO2“ her. Starten Sie nach dem Verbinden den Internetbrowser und geben Sie die IP-Adresse „10.10.10.1“ in die Suchleiste ein.  Sie gelangen auf die Seite: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc3/9c1/a54/bc39c1a54ff54c02447343b017839d6c.png" alt="Bild"><br><br>  Es gibt eine Schaltfläche zum Aufrufen der Datenansichtseite und eine Schaltfläche zum Wechseln der Zeiteinstellungsseite (da manchmal Zeit verloren geht und diese nur verloren geht, wenn die Batterie ausgetauscht wird). <br><br>  Die Datenausgabeseite sieht folgendermaßen aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a8c/968/366/a8c9683666d6a32276df41c4da153c84.png" alt="Bild"><br><br>  <b>Archiv mit Quelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier.</a></b> <br><br>  Das Archiv enthält eine Skizze, Java Script, ein Kicad-Projekt und einen Druck im Photoshop-Format mit einer Auflösung von 600 dpi, falls Sie sich nicht mit Kicad anlegen möchten. <br><br>  Informationen zum Konfigurieren von Adruino ide für die ESP-Firmware und zum Hochladen von Dateien auf SPIFS finden Sie im Internet. <br><br>  Für die ESP-Firmware müssen Sie den CO2-Sensor trennen, da er an TX0 und RX0 hängt, die für die Firmware benötigt werden.  Außerdem habe ich das Gegenteil auf der Datenleitungsplatine signiert, sodass ich TX vom Blinker mit TX auf der Platine usw. verbinde. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422001/">https://habr.com/ru/post/de422001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421983/index.html">Maschinelles Lernen wird dazu beitragen, die Tsetsefliegenpopulation zu reduzieren, um das Auftreten von Schlafkrankheiten zu verringern</a></li>
<li><a href="../de421985/index.html">GraphQL ist die Zukunft von Microservices?</a></li>
<li><a href="../de421991/index.html">Hosten Sie eine Webanwendung auf Amazon Web Services. Billig. Ist es möglich?</a></li>
<li><a href="../de421993/index.html">Python interessant und nützlich</a></li>
<li><a href="../de421995/index.html">Unterschiede zwischen dem Kompilieren einer Website und einer Webanwendung</a></li>
<li><a href="../de422003/index.html">Fixe und variable Kosten in der Softwareentwicklung</a></li>
<li><a href="../de422005/index.html">Himbeer-Pi-NES-Patrone</a></li>
<li><a href="../de422007/index.html">Wie ich eine leitungsinteraktive USV gemacht habe (Teil 1)</a></li>
<li><a href="../de422009/index.html">Ungarischer Algorithmus oder wie Mathematik bei der Zuweisung von Aufgaben hilft</a></li>
<li><a href="../de422011/index.html">Turnier der jungen Physiker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>