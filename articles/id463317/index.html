<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¿ ğŸŒ½ ğŸ› Rincian teknis peretasan bank Capital One di AWS ğŸ‘‹ğŸ¼ ğŸš… ğŸ§‘ğŸ¼â€ğŸ¤â€ğŸ§‘ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada 19 Juli 2019, Capital One Bank menerima pesan bahwa setiap perusahaan modern takut - kebocoran data telah terjadi. Ini mempengaruhi lebih dari 10...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rincian teknis peretasan bank Capital One di AWS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463317/"><img src="https://habrastorage.org/getpro/habr/post_images/660/704/174/66070417484bc74908f6089c720dc7f4.png"><br><br>  Pada 19 Juli 2019, Capital One Bank menerima pesan bahwa setiap perusahaan modern takut - kebocoran data telah terjadi.  Ini mempengaruhi lebih dari 106 juta orang.  140.000 Nomor Jaminan Sosial AS, satu juta Nomor Jaminan Sosial Kanada.  80.000 rekening bank.  Tidak menyenangkan, setuju? <br><br>  Sayangnya, peretasan itu tidak terjadi sama sekali pada 19 Juli.  Ternyata, Paige Thompson, alias <i>Tidak menentu</i> , melakukannya antara 22 Maret dan 23 Maret 2019.  Itu <u>hampir empat bulan lalu</u> .  Bahkan, hanya dengan bantuan konsultan eksternal Capital One tahu bahwa sesuatu telah terjadi. <br><a name="habracut"></a><br>  Mantan karyawan Amazon ditangkap, dia menghadapi denda $ 250 ribu dan lima tahun penjara ... tetapi ada banyak hal negatif.  Mengapa  Karena banyak perusahaan yang diretas mencoba untuk mengesampingkan tanggung jawab untuk memperkuat infrastruktur dan aplikasi mereka di tengah meningkatnya kejahatan dunia maya. <br><br>  Bagaimanapun, Anda dapat dengan mudah google cerita ini.  Kami tidak akan masuk ke drama, tetapi berbicara tentang sisi <b>teknis</b> hal. <br><br><h4>  Pertama, apa yang terjadi? </h4><br>  Di Capital One, ada sekitar 700 S3 ember yang disalin dan dikempiskan Paige Thompson. <br><br><h4>  Kedua, apakah ini kasus lain dari kebijakan bucket S3 yang tidak dikonfigurasi dengan benar? </h4><br>  Tidak, tidak kali ini.  Di sini dia mendapatkan akses ke server dengan firewall yang tidak dikonfigurasi dengan benar dan dari sana dia melakukan seluruh operasi. <br><br><h4>  Tunggu, bagaimana ini mungkin? </h4><br>  Baiklah, mari kita mulai dengan masuk ke server, meskipun kami memiliki beberapa detail.  Kami hanya diberitahu bahwa ini terjadi melalui "firewall yang tidak dikonfigurasi dengan benar".  Jadi, sesuatu yang sederhana seperti pengaturan grup keamanan yang salah atau konfigurasi firewall aplikasi web (Imperva), atau firewall jaringan (iptables, ufw, shorewall, dll.).  Capital One hanya mengaku bersalah dan mengatakan itu menutup lubang. <br><br><blockquote>  Stone mengatakan bahwa Capital One pada awalnya tidak melihat kerentanan firewall, tetapi merespons dengan cepat segera setelah mengetahui tentang hal itu.  Tentu saja, ini terbantu oleh fakta bahwa peretas diduga meninggalkan kunci mengidentifikasi informasi yang tersedia untuk umum, kata Stone. </blockquote><br>  <i>Jika Anda tertarik mengapa kami tidak menyelidiki bagian ini, pahami bahwa karena informasi yang terbatas, kami hanya dapat berspekulasi.</i>  <i>Ini tidak ada gunanya mengingat peretasan tergantung pada celah yang ditinggalkan oleh Capital One.</i>  <i>Dan jika mereka tidak memberi tahu kami lebih banyak, kami hanya akan mendaftar semua cara yang memungkinkan Capital One membiarkan servernya terbuka dalam kombinasi dengan semua cara yang memungkinkan seseorang dapat menggunakan salah satu dari berbagai opsi ini.</i>  <i>Kesenjangan dan metode ini dapat berkisar dari pengawasan yang sangat bodoh hingga pola yang sangat rumit.</i>  <i>Mengingat berbagai kemungkinan, ini akan berubah menjadi kisah panjang tanpa kesimpulan nyata.</i>  <i>Oleh karena itu, kami akan fokus pada analisis bagian di mana kami memiliki fakta.</i> <br><br><h4>  Jadi kesimpulan pertama: tahu apa yang diizinkan firewall Anda </h4><br>  Tetapkan kebijakan atau proses untuk memastikan bahwa HANYA apa yang terbuka terbuka.  Jika Anda menggunakan sumber daya AWS, seperti Grup Keamanan atau Jaringan ACL, jelas daftar periksa untuk verifikasi bisa panjang ... tetapi karena banyak sumber daya dibuat secara otomatis (mis. CloudFormation), Anda juga dapat mengotomatiskan audit mereka.  Entah itu skrip darurat yang memindai objek baru untuk cacat, atau sesuatu seperti audit keamanan dalam proses CI / CD ... ada banyak pilihan sederhana untuk menghindari ini. <br><br>  Bagian "menyenangkan" dari cerita adalah bahwa jika Capital One telah menutup lubang sejak awal ... tidak ada yang akan terjadi.  Dan karena itu, terus terang, selalu mengejutkan melihat betapa benar-benar sesuatu yang <i><b>sangat sederhana</b></i> menjadi satu-satunya alasan bagi perusahaan peretasan.  Terutama sebesar Capital One. <br><br><h4>  Jadi, hacker di dalam - apa yang terjadi selanjutnya? </h4><br>  Nah, setelah membobol instance EC2 ... banyak yang bisa salah.  Anda berjalan hampir sepanjang tepi pisau jika Anda membiarkan seseorang pergi sejauh itu.  Tapi bagaimana dia bisa masuk ke ember S3?  Untuk memahami hal ini, mari kita bahas peran IAM (Peran IAM). <br><br>  Jadi, salah satu cara untuk mengakses layanan AWS adalah menjadi Pengguna.  Oke, ini sangat jelas.  Tetapi bagaimana jika Anda ingin memberikan layanan AWS lainnya, misalnya, server aplikasi Anda, akses ke bucket S3 Anda?  Untuk ini, ada peran IAM.  Mereka terdiri dari dua komponen: <br><br><ol><li>  Kebijakan Kepercayaan - layanan apa atau orang mana yang dapat menggunakan peran ini? <br></li><li>  Kebijakan Izin - apa yang diizinkan peran ini? </li></ol><br>  Misalnya, Anda ingin membuat peran IAM yang memungkinkan EC2 instance mengakses bucket S3: pertama, ia menetapkan Kebijakan Kepercayaan untuk peran tersebut, sehingga EC2 (seluruh layanan) atau instance spesifik dapat mengambil alih peran tersebut.  Dengan asumsi peran berarti bahwa mereka dapat menggunakan izin peran untuk melakukan tindakan.  Kedua, Kebijakan Izin memungkinkan layanan / orang / sumber daya yang "mengambil peran" untuk melakukan sesuatu pada S3, baik itu akses ke satu ember tertentu ... atau lebih dari 700, seperti dalam kasus Capital One. <br><br>  Setelah Anda berada dalam instance EC2 dengan peran IAM, Anda bisa mendapatkan kredensial dalam beberapa cara: <br><br><ol><li> Anda dapat meminta metadata instan di <code>http://169.254.169.254/latest/meta-data</code> <br><br>  Antara lain, di alamat ini Anda dapat menemukan peran IAM dengan salah satu tombol akses.  Tentu saja, hanya jika Anda berada dalam contoh. <br></li><li>  Gunakan AWS CLI ... <br><br>  Jika antarmuka baris perintah AWS diinstal, itu dimuat dengan kredensial dari peran IAM, jika ada.  Tetap hanya bekerja melalui instance.  Tentu saja, jika Kebijakan Kepercayaan mereka terbuka, Page dapat melakukannya secara langsung. </li></ol><br>  Dengan demikian, esensi dari peran IAM adalah bahwa mereka memungkinkan satu sumber daya untuk bertindak DARI NAMA ANDA di SUMBER DAYA LAINNYA. <br><br><h4>  Sekarang setelah Anda memahami peran IAM, kita dapat berbicara tentang apa yang telah dilakukan Page Thompson: </h4><br><ol><li>  Dia mendapatkan akses ke server (contoh EC2) melalui lubang di firewall <br><br>  Entah itu kelompok keamanan / ACL atau firewall aplikasi web mereka sendiri, lubang itu mungkin cukup mudah ditutup, sebagaimana dinyatakan dalam catatan resmi. <br></li><li>  Begitu sampai di server, dia bisa bertindak "seolah-olah" dia adalah server <br></li><li>  Karena peran server IAM memungkinkan akses S3 ke bucket 700+ ini, ia dapat mengaksesnya </li></ol><br>  Mulai sekarang, dia hanya bisa menjalankan perintah <code>List Buckets</code> , dan kemudian perintah <code>Sync</code> dari AWS CLI ... <br><br><hr><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Capital One Bank memperkirakan kerusakan akibat peretasan dalam jumlah 100 hingga 150 JUTA dolar</a> .  Mencegah kerusakan seperti itu adalah alasan mengapa banyak perusahaan berinvestasi dalam melindungi infrastruktur cloud, DevOps, dan pakar keamanan.  Dan seberapa berharga dan hemat biaya transisi ke cloud?  Sedemikian rupa sehingga bahkan dalam menghadapi semakin banyak masalah keamanan siber, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pasar cloud publik secara keseluruhan tumbuh sebesar 42% pada kuartal pertama tahun 2019</a> ! <br><br>  Moral dari kisah ini: periksa keselamatan Anda;  melakukan audit rutin;  menghormati prinsip hak istimewa yang paling rendah untuk kebijakan keamanan. <br><br>  (Anda dapat melihat laporan hukum lengkap di sini). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463317/">https://habr.com/ru/post/id463317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463303/index.html">Facebook akhirnya berhenti menargetkan iklan untuk nomor telepon yang dimasukkan orang untuk 2FA</a></li>
<li><a href="../id463305/index.html">Alat untuk menganalisis dan men-debug aplikasi .NET</a></li>
<li><a href="../id463307/index.html">Studi kasus tentang komunikasi dengan klien "berat"</a></li>
<li><a href="../id463311/index.html">CTT dalam solusi server. Versi kedua + pengumuman yang ketiga, dengan kemampuan untuk menyentuh</a></li>
<li><a href="../id463313/index.html">Pendekatan alternatif untuk berlangganan acara, atau apakah EventObject benar-benar diperlukan?</a></li>
<li><a href="../id463321/index.html">Keranjang kegunaan dan checkout: analisis dari 20 toko online teratas Rusia</a></li>
<li><a href="../id463325/index.html">Game Designer Reflection: Karakter untuk Game yang Belum Keluar</a></li>
<li><a href="../id463327/index.html">Vue.js: 3 anti-pola</a></li>
<li><a href="../id463329/index.html">Pengembangan diagram pohon dinamis menggunakan SVG dan Vue.js</a></li>
<li><a href="../id463331/index.html">Klien Apollo. Sekarang dengan React hooks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>