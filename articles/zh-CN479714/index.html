<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“¸ ğŸ›ŒğŸ¾ ğŸ”¼ è§†è§‰ç»„ä»¶çš„ç»Ÿä¸€ã€‚ ç¬¬1éƒ¨åˆ†ã€‚æ ·å¼ ğŸ§›ğŸ» ğŸ“© ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¯¹äºä¸ä½¿ç”¨ç°æˆçš„ç»„ä»¶é›†ï¼ˆä¾‹å¦‚material-uiï¼‰è€Œæ˜¯å®ç°è‡ªå·±çš„ç»„ä»¶çš„å¼€å‘äººå‘˜è€Œè¨€ï¼Œæœ¬æ–‡å°†ä¸»è¦æœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œå·²ç»ä¸ºè¯¥äº§å“å¼€å‘äº†ä¸€ç§äº§å“ï¼Œè¯¥äº§å“åæ˜ äº†æŒ‰é’®ï¼Œæ¨¡å¼çª—å£ç­‰çš„å¤–è§‚ã€‚ ä¸ºäº†æ­£ç¡®åœ°å®ç°è¿™æ ·çš„è®¾è®¡ç³»ç»Ÿï¼Œå…¶æ‰€æœ‰åŸå­éƒ½éœ€è¦ä¸ºå…¶ç»„æˆå¢åŠ è‰¯å¥½çš„æ”¯æŒã€‚ æ¢å¥è¯è¯´ï¼Œå¿…é¡»ç¡®ä¿ä»»ä½•å•ä¸ªç»„ä»¶éƒ½å¯ä»¥é›†æˆå¹¶å®Œç¾åœ°é›†æˆ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è§†è§‰ç»„ä»¶çš„ç»Ÿä¸€ã€‚ ç¬¬1éƒ¨åˆ†ã€‚æ ·å¼</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479714/"><img src="https://habrastorage.org/webt/00/7v/55/007v55-c7k0gjfzqkhtoy0irbma.png"><br><br> å¯¹äºä¸ä½¿ç”¨ç°æˆçš„ç»„ä»¶é›†ï¼ˆä¾‹å¦‚material-uiï¼‰è€Œæ˜¯å®ç°è‡ªå·±çš„ç»„ä»¶çš„å¼€å‘äººå‘˜è€Œè¨€ï¼Œæœ¬æ–‡å°†ä¸»è¦æœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œå·²ç»ä¸ºè¯¥äº§å“å¼€å‘äº†ä¸€ç§äº§å“ï¼Œè¯¥äº§å“åæ˜ äº†æŒ‰é’®ï¼Œæ¨¡å¼çª—å£ç­‰çš„å¤–è§‚ã€‚ ä¸ºäº†æ­£ç¡®åœ°å®ç°è¿™æ ·çš„è®¾è®¡ç³»ç»Ÿï¼Œå…¶æ‰€æœ‰åŸå­éƒ½éœ€è¦ä¸ºå…¶ç»„æˆå¢åŠ è‰¯å¥½çš„æ”¯æŒã€‚ æ¢å¥è¯è¯´ï¼Œå¿…é¡»ç¡®ä¿ä»»ä½•å•ä¸ªç»„ä»¶éƒ½å¯ä»¥é›†æˆå¹¶å®Œç¾åœ°é›†æˆåˆ°è¾ƒå¤§çš„å¤åˆç»„ä»¶ä¸­ã€‚ å¦‚æœä»–ä¸é€‚åˆï¼Œé‚£ä¹ˆå¯¹ä»–çš„è‡ªå®šä¹‰æä¾›ç®€å•çš„æ”¯æŒå°†æ˜¯å¾ˆå¥½çš„ã€‚ å°½ç®¡å¦‚æ­¤ï¼Œè¿™æ˜¯ä¸€ä¸ªå•ç‹¬çš„å¤§è¯é¢˜ï¼Œä¹Ÿè®¸æˆ‘ä¼šåœ¨ä¸‹ä¸€æ¬¡å†è°ˆã€‚ <br><a name="habracut"></a><br><h3> æ­Œè¯ </h3><br> å¤§å®¶å¥½ æˆ‘ä»ä¸€ç¯‡ç®€å•ä½†æœ‰ç”¨çš„æ–‡ç« å¼€å§‹äº†åœ¨ä¸­å¿ƒçš„æ—…ç¨‹ã€‚ å¯¹äºæˆ‘æ¥è¯´ï¼Œç»“æœå¤ªè¯¦ç»†äº†ï¼Œä½†æ˜¯æˆ‘ä»ç„¶è¯•å›¾é€‚åº”è¯»è€…ï¼Œè€Œä¸æ˜¯æˆ‘è‡ªå·±ã€‚ åœ¨æ’°å†™ä¸‹ä¸€ä¸ªå…³äºæ›´å¤æ‚ä¸»é¢˜çš„æ–‡ç« ï¼ˆå¦‚æœæœ‰ï¼‰ä¹‹å‰ï¼Œæˆ‘å¸Œæœ›æ ¹æ®åé¦ˆï¼ˆå¦‚æœæœ‰ï¼‰è°ƒæ•´æˆ‘çš„æ¼”ç¤ºæ–‡ç¨¿ã€‚ <br><br> ä½¿ç”¨çš„æœ¯è¯­ï¼š <br><br><ul><li> å¯è§†ç»„ä»¶æ˜¯è¿”å›åµŒå…¥DOMä¸­çš„å…ƒç´ çš„ç»„ä»¶ã€‚ ä¾‹å¦‚ï¼Œ <code>return (&lt;div /&gt;)</code> ã€‚ ä»…è¿”å›å¦ä¸€ä¸ªç»„ä»¶çš„ç»„ä»¶ä¸åº”ä»¥è§†è§‰æ–¹å¼è¿›è¡Œè§£é‡Šã€‚ </li></ul><br><h3> å¼•è¨€ </h3><br> å¼€å‘ç»„ä»¶æ—¶ï¼Œä¸èƒ½ä½¿å…¶å®Œå…¨é€šç”¨ã€‚ åœ¨æ‚¨çš„å¤´è„‘ä¸­ï¼Œæ‚¨å§‹ç»ˆä»ä½¿ç”¨å®ƒçš„ç‰¹å®šé€‰é¡¹å¼€å§‹ã€‚ äº‹å®è¯æ˜ï¼Œå¼€å‘ä¹‹åï¼Œæ‚¨çš„åŒäº‹å¼€å§‹â€œå°†ç»„ä»¶æ¨å‘ä»»ä½•åœ°æ–¹â€ã€‚ æ‚¨å¯¹ä»–ä»¬æ„Ÿåˆ°ç”Ÿæ°”ï¼šâ€œå¥½å§ï¼Œæˆ‘æ²¡æœ‰ä¸ºæ­¤å¼€å‘å®ƒï¼ å®ƒä¸æ˜¯è¦å®Œæˆæ­¤ä»»åŠ¡çš„ï¼â€ å½“ç„¶ï¼Œæ”¹è¿›æ˜¯ä¸å¯é¿å…çš„ï¼Œç”šè‡³æ˜¯å¿…è¦çš„ã€‚ ä½†è¿™ä¸åº”è¯¥æ˜¯æ”¹è¿›ï¼Œä¾‹å¦‚æŠ›å‡ºæ–°çš„é“å…·ä»¥å°†ç¼©è¿›ä»4pxå¢åŠ åˆ°8pxï¼Œè¿™å°†åœ¨äº”åç§æƒ…å†µä¸­çš„ä¸€ç§æˆ–ä¸¤ç§æƒ…å†µä¸‹ä½¿ç”¨ã€‚ ç»„ä»¶å¿…é¡»å…·æœ‰è‡ªå®šä¹‰çš„å¤–éƒ¨å‡ ä½•å½¢çŠ¶ã€‚ <br><br><h3>  TypeScriptï¼Œå¸®å¸®å¿™ </h3><br> è€ƒè™‘è¯¥æ¥å£ï¼Œè¯¥æ¥å£åº”ä½äºä¾‹å¦‚<code>src/Library/Controls.ts</code> ã€‚ å¯¹è¯¥å­—æ®µç»™å‡ºäº†ç®€çŸ­çš„è¯„è®ºï¼Œä¸‹é¢æˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œæ›´è¯¦ç»†çš„åˆ†æã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface VisualComponentProps { <span class="hljs-comment"><span class="hljs-comment">//  .   - children?: React.ReactNode; //    css className?: string; //   ,     . doNotRender?: boolean; //     doNotRender true fallback?: JSX.Element; //    css style?: React.CSSProperties; }</span></span></code> </pre><br> è¿™æ˜¯ç»„ä»¶é“å…·ç•Œé¢ã€‚ å“ªä¸€ä¸ª æ‰€æœ‰è§†è§‰ç»„ä»¶ã€‚ å®ƒä»¬åº”åº”ç”¨äºå…¶æ ¹å…ƒç´ ã€‚ <br><br> æ¯ä¸ªå·²å¼€å‘è§†è§‰ç»„ä»¶çš„é“å…·éƒ½åº”ä½¿ç”¨æ­¤ç•Œé¢è¿›è¡Œæ‰©å±•ã€‚ <br><br> ç«‹å³æ³¨æ„æ‰€æœ‰è¿™äº›é“å…·éƒ½æ˜¯å¯é€‰çš„ã€‚ è€ƒè™‘ä»–ä»¬ã€‚ <br><br><ul><li>  <code>children</code>ç»„ä»¶ä½äºReact.Componentç±»ç»„ä»¶ï¼ŒReact.FCç»„ä»¶ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åœ¨æœªæŒ‡å®šReact.FCç±»å‹çš„æƒ…å†µä¸‹å®ƒä»¬ä¸åœ¨æ™®é€šå‡½æ•°ä¸­ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬é—®ä»–ã€‚ </li><li>  <code>className/style</code>ä½¿ç”¨ç±»ä¼¼çš„åç§°ï¼Œå°±åƒé€šå¸¸çš„JSX'nom &lt;div /&gt;ä¸­ä¸€æ ·ã€‚ æˆ‘ä»¬ä¸äº§ç”Ÿè¯­ä¹‰ã€‚ ä¾‹å¦‚ï¼Œ <a href="https://reactjs.org/docs/refs-and-the-dom.html">åœ¨é“å…·ä¸­</a>ä½¿ç”¨æ­¤åç§°æ ‡è¯†åŸåˆ™<a href="https://reactjs.org/docs/refs-and-the-dom.html">æ¥æŒ‡å®šrefé“¾æ¥</a> ã€‚ </li><li>  <code>doNotRender</code>ç”¨ä½œ<a href="https://reactjs.org/docs/conditional-rendering.html">æ¡ä»¶æ¡ä»¶ä¸‹</a> JSX <a href="https://reactjs.org/docs/conditional-rendering.html">æ¸²æŸ“ä¸­</a>ç—›è‹¦çš„æ‹æ–çš„æ›¿ä»£æ–¹æ³•ã€‚ åº”ç”¨æ­¤è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬æ— éœ€åœ¨æ¸²æŸ“æ–¹æ³•ä¸­æ”¾ç½®å¤§æ‹¬å·ï¼Œè¿™ä¼šæŸå®³ä»£ç çš„å¯è¯»æ€§ã€‚ æ¯”è¾ƒ2ä¸ªä»£ç æ®µï¼š <br><br> åŸå§‹æ¡ä»¶æ¸²æŸ“ï¼š <br><br> <code>App.tsx</code> <br> <br><pre> <code class="javascript hljs">renderComponent() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {props, state} = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> needRender = state.something; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;PageLayout&gt; &lt;UIButton children={'This is a button'} /&gt; {needRender &amp;&amp; &lt;UIButton children={'This is another button'} /&gt; } &lt;/PageLayout&gt; ); }</code> </pre><br> ä¹å¾—é“å…·doNotRenderï¼š <br><br> <code>App.tsx</code> <br> <br><pre> <code class="javascript hljs">renderComponent() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {props, state} = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> needRender = state.something; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;PageLayout&gt; &lt;UIButton children={'This is a button'} /&gt; &lt;UIButton children={'This is another button'} doNotRender={!needRender} /&gt; &lt;/PageLayout&gt; ); }</code> </pre><br> åœ¨ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¢åŠ äº†åº•éƒ¨æŒ‰é’®çš„åµŒå¥—çº§åˆ«ï¼Œå°½ç®¡å°±å…¶å«ä¹‰è€Œè¨€ï¼Œå…¶åµŒå¥—ä¸é¡¶éƒ¨æŒ‰é’®å¤„äºåŒä¸€çº§åˆ«ã€‚ åœ¨æˆ‘çš„ç¼–è¾‘å™¨ä¸­çœ‹èµ·æ¥å¾ˆç³Ÿç³•ï¼Œåœ¨è¿™é‡Œæˆ‘ä½¿ç”¨å®½åº¦ä¸º2ä¸ªç©ºæ ¼çš„åˆ¶è¡¨ç¬¦ï¼Œåœ¨è¿™é‡Œæƒ…å†µæ›´ç³Ÿã€‚ <br><br> åœ¨ç¬¬äºŒä¸ªé€‰é¡¹ä¸­ï¼Œæˆ‘ä»¬å…·æœ‰ç›¸ç­‰çš„åµŒå¥—ï¼Œä½†æ˜¯doNotRenderå¯èƒ½ä¸ä¼šå¼•èµ·æ³¨æ„ï¼Œå¹¶ä¸”å¼€å‘äººå‘˜å°†æ— æ³•ç†è§£æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚ ä½†æ˜¯ï¼Œå¦‚æœåœ¨æ‚¨çš„é¡¹ç›®ä¸­æ¯ä¸ªè§†è§‰ç»„ä»¶éƒ½æ˜¯æ ¹æ®æ­¤åŸç†åˆ¶ä½œçš„ï¼Œåˆ™æ­¤é—®é¢˜å°†ç«‹å³æ¶ˆå¤±ã€‚ <br></li><li> å¦‚æœæˆ‘ä»¬ä¸æƒ³ä½¿ç”¨<code>doNotRender true</code>å‘ˆç°<code>null</code> ï¼Œè€Œæ˜¯æŸç§è‡ªå®šä¹‰å…ƒç´ ï¼Œ <code>fallback</code>éœ€è¦<code>fallback</code> ã€‚ å®ƒä¸<a href="https://reactjs.org/docs/concurrent-mode-suspense.html">React Suspense</a>ç±»ä¼¼åœ°ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå…·æœ‰ç›¸ä¼¼çš„å«ä¹‰ï¼ˆæˆ‘ä»¬ä¸äº§ç”Ÿè¯­ä¹‰ï¼‰ </li></ul><br> æˆ‘æƒ³å±•ç¤ºå¦‚ä½•æ­£ç¡®ä½¿ç”¨å®ƒã€‚ è®©æˆ‘ä»¬åšä¸€ä¸ªç®€å•çš„æŒ‰é’®ã€‚ <br><br> æ³¨æ„ï¼šåœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘è¿˜ä½¿ç”¨css-modulesï¼Œsasså’Œç±»åã€‚ <br><br> <code>UIButton.tsx</code> <br> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { VisualComponentProps } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'Library/Controls'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> css <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Button.sass'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'classnames'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  ()  export interface ButtonBasicProps { disabled?: boolean; } export interface ButtonProps extends ButtonBasicProps, VisualComponentProps {} export function UIButton(props: ButtonProps) { //   undefined,     // "Nothing was returned from render." if (props.doNotRender) return props.fallback || null; //      const rootClassNames = cn( // ,   sass css.Button, // ,     props props.className, //      props.disabled &amp;&amp; css._disabled ); return ( &lt;div children={props.children} className={rootClassNames} style={props.style} /&gt; ) }</span></span></code> </pre><br> <code>App.tsx</code> <br> <br><pre> <code class="javascript hljs">renderComponent() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {props, state} = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> needRenderSecond = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;PageLayout&gt; &lt;UIButton children={'This is a button'} style={{marginRight: needRenderSecond ? 5 : null}} /&gt; &lt;UIButton disabled children={'This is another button'} doNotRender={!needRenderSecond} /&gt; &lt;/PageLayout&gt; ); }</code> </pre><br> ç»“æœï¼š <br><br><img src="https://habrastorage.org/webt/fe/to/j7/fetoj7kw1albfk8gj0xq2ifypgo.png"><br><br><h3> åæ€ä¸ç»“è®º </h3><br> ä½¿ç”¨è¯¸å¦‚divsä¹‹ç±»çš„ç»„ä»¶ï¼Œåˆ›å»ºå„ç§åŒ…è£…ï¼Œåˆæˆï¼Œä¸“ä¸šåŒ–ç­‰ç»„ä»¶ï¼Œ <u>è¶…å‡ºå…¶åŸå§‹åŠŸèƒ½çš„æ¡†æ¶ï¼Œéå¸¸æ–¹ä¾¿</u> ã€‚ <br><br> å¯ä»¥è¯´ï¼Œç”±äºè®¾è®¡ç³»ç»Ÿä¸­æ²¡æœ‰æ¡ä»¶é»„è‰²æŒ‰é’®ï¼Œå¹¶ä¸”å¼€å‘äººå‘˜éœ€è¦åˆ¶ä½œå®ƒä»¬ï¼Œæ‰€ä»¥é—®é¢˜ä¸åœ¨äºç»„ä»¶ï¼Œè€Œåœ¨äºéœ€è¦åˆ›å»ºçš„äº‹å®ã€‚ ä½†æ˜¯ï¼Œç°å®æƒ…å†µæ˜¯è¿™ç§æƒ…å†µç»å¸¸å‘ç”Ÿã€‚  â€œâ€¦â€¦ä½†æ˜¯æˆ‘ä»¬å¿…é¡»ç”Ÿæ´»ï¼æˆ‘ä»¬å¿…é¡»ç”Ÿæ´»ã€‚â€ å¦å¤–ï¼Œcssçº§è”åŸç†å¹¶éæ€»æ˜¯å¯ä»¥åœ¨å®è·µä¸­å®ç°ï¼Œå¹¶ä¸”æ‚¨å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œå³æ‚¨çš„æ ·å¼åªæ˜¯ä¸å¦ä¸€ä¸ªé€‰æ‹©å™¨ï¼ˆæˆ–å¦‚ä¸Šæ‰€è¿°ï¼‰çš„æ›´é«˜ç‰¹å¼‚æ€§é‡å ã€‚ åœ¨è¿™é‡Œï¼Œé£æ ¼åªä¼šæœ‰æ‰€å¸®åŠ©ã€‚ <br><br> æœ€åï¼Œæˆ‘å°†æ·»åŠ ä¸€äº›ï¼ˆä»å­—é¢ä¸Šçœ‹ï¼‰çš„æ—¶åˆ»ã€‚ <br><br><ol><li> è¯·æ³¨æ„ï¼ŒdoNotRenderä¸ä¼šå®Œå…¨é‡å¤æ¡ä»¶æ¸²æŸ“è¡Œä¸ºã€‚ æ‚¨è¿˜å°†è¿è¡Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåªæ˜¯renderå°†è¿”å›åå¤‡æˆ–nullã€‚ åœ¨æŸäº›å¤æ‚çš„ç»„ä»¶ä¸­ï¼Œæ‚¨å¯èƒ½è¦é¿å…æ‰§è¡Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ ä¸ºæ­¤ï¼Œæ‚¨åªéœ€è¦å¯¹ç»„ä»¶è¿›è¡Œå†…ç½®çš„<a href="https://reactjs.org/docs/composition-vs-inheritance.html">ç‰¹æ®ŠåŒ–å¤„ç†å³å¯</a> ã€‚ <br><br> ä½¿ç”¨UIButtonç¤ºä¾‹ï¼šå°†UIButtoné‡å‘½åä¸ºUIButtonInnerå¹¶åœ¨å…¶ä¸‹æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š <br><br> <code>UIButton.tsx</code> <br> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UIButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props: ButtonProps</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (props.doNotRender) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> props.fallback || <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">UIButtonInner</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml">; }</span></span></code> </pre><br>  PSä¸è¦åœ¨æ­¤å‡½æ•°ä¸­è¿›è¡ŒUIButtoné€’å½’è°ƒç”¨é”™è¯¯ï¼ <br></li><li> åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼ŒåŒ…è£…å™¨å’Œè¢«åŒ…è£…çš„ç»„ä»¶ä¸Šçš„æ ·å¼å¯ä»¥ç‹¬ç«‹æ›´æ”¹æ—¶ï¼Œä»¥ä¸‹ç•Œé¢å¯èƒ½å¯¹æ‚¨æœ‰ç”¨ <br><br> <code>Library/Controls.ts</code> <br> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface VisualComponentWrapperProps extends VisualComponentProps { wrappedVisual?: VisualComponentProps; }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">åŠå…¶ä½¿ç”¨</b> <div class="spoiler_text"> <code>UIButton.tsx</code> <br> <br><pre> <code class="javascript hljs">interface ButtonSomeWrapperProps extends ButtonBasicProps, VisualComponentWrapperProps { myCustomProp?: number; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UIButtonSomeWrapper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props: ButtonSomeWrapperProps</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (props.doNotRender) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> props.fallback || <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  VisualComponentProps  style, className, children, fallback, doNotRender, // VisualComponentProps   wrappedVisual, //    myCustomProp, //     ...uiButtonProps } = props; return ( &lt;div style={style} className={className} &gt; {myCustomProp} &lt;UIButton {...wrappedVisual} {...uiButtonProps} /&gt; {children} &lt;/div&gt; ); }</span></span></code> </pre></div></div></li></ol><br> ä½¿ç”¨è¿™ç§æ–¹æ³•å¼€å‘åº”ç”¨ç¨‹åºå°†æ˜¾ç€æé«˜ç»„ä»¶çš„å¯é‡ç”¨æ€§ï¼Œå‡å°‘ä¸å¿…è¦çš„æ‹æ–æ ·å¼ï¼ˆä»…é’ˆå¯¹å…¶ä»–ç»„ä»¶çš„éœ€æ±‚è°ˆè®ºç»„ä»¶æ ·å¼æ–‡ä»¶ä¸­æè¿°çš„æ ·å¼ï¼‰å’Œé“å…·ï¼Œå¹¶æ·»åŠ ç»“æ„åŒ–ä»£ç ã€‚ ä»…æ­¤è€Œå·²ã€‚ åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¼€å§‹ä»ä»£ç æ–¹é¢è€Œä¸æ˜¯ä»CSSè§’åº¦æ¥è§£å†³ç»„ä»¶å¯é‡ç”¨æ€§çš„é—®é¢˜ã€‚ æˆ–è€…ï¼Œæˆ‘ä¼šå†™ä¸€äº›æ›´æœ‰è¶£çš„ä¸œè¥¿ã€‚ è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN479714/">https://habr.com/ru/post/zh-CN479714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN479700/index.html">CIMON-2 ï¼šï¼ˆè”åˆå›½ï¼‰ä¸–ç•Œæœ«æ—¥ï¼Œæˆ–è€…IBM Watsonå¦‚ä½•çˆ¬ä¸Šäº‘å±‚</a></li>
<li><a href="../zh-CN479702/index.html">çƒ¤é¢åŒ…æœºï¼Œæˆ‘çš„åœˆå­å’ŒFreelansimæˆä¸ºHabrçš„ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN479704/index.html">EA Origin Windowså®¢æˆ·ç«¯ä¸­çš„ç‰¹æƒå‡çº§ï¼ˆCVE-2019-19247å’ŒCVE-2019-19248ï¼‰</a></li>
<li><a href="../zh-CN479708/index.html">å…³äºHabr + Competitionå“ç‰Œæ›´åçš„éå®˜æ–¹å¸–å­</a></li>
<li><a href="../zh-CN479712/index.html">æœºå™¨å­¦ä¹ ä½œä¸ºæ™ºèƒ½ç›‘æ§åŠ©æ‰‹</a></li>
<li><a href="../zh-CN479716/index.html">å¦ä¸€ä¸ªâ€œä¸–ç•Œç¬¬ä¸€â€çš„SuperApp</a></li>
<li><a href="../zh-CN479718/index.html">ä½¿ç”¨CI githubæ„å»ºarduinoç¯å¢ƒåº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN479724/index.html">Trué»‘å®¢å·²ç»ç»“æŸ</a></li>
<li><a href="../zh-CN479726/index.html">Vladimir aka wowikï¼šâ€œ OpenStreetMapéœ€è¦åœ¨å…¶ä»–ç³»ç»Ÿä¸­æ— æ³•å®ç°çš„æƒ³æ³•â€</a></li>
<li><a href="../zh-CN479728/index.html">å¦‚ä½•ç»„ç»‡æˆåŠŸçš„å¯åŠ¨ï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>