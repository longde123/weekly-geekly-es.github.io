<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∂üèª üìπ üç™ Data Science: pr√©dire les √©v√©nements m√©tier pour am√©liorer le service ‚õΩÔ∏è ü§∏üèº üêà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les algorithmes pour les recommandations, les pr√©visions d'√©v√©nements ou les √©valuations des risques sont une d√©cision tendance dans les banques, les ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Data Science: pr√©dire les √©v√©nements m√©tier pour am√©liorer le service</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/simbirsoft/blog/443590/">  Les algorithmes pour les recommandations, les pr√©visions d'√©v√©nements ou les √©valuations des risques sont une d√©cision tendance dans les banques, les compagnies d'assurance et de nombreux autres secteurs d'activit√©.  Par exemple, ces programmes aident, sur la base d'une analyse des donn√©es, √† sugg√©rer quand un client remboursera un pr√™t bancaire, quelle sera la demande dans le commerce de d√©tail, quelle est la probabilit√© d'un √©v√©nement assur√© ou d'une sortie de clients dans les t√©l√©communications, etc.  Pour une entreprise, c'est une opportunit√© pr√©cieuse pour optimiser ses d√©penses, augmenter la vitesse de travail et g√©n√©ralement am√©liorer le service. <br><br>  Cependant, les approches traditionnelles telles que la classification et la r√©gression ne conviennent pas √† l'√©laboration de tels programmes.  Consid√©rez ce probl√®me comme un exemple de cas de pr√©vision d'√©pisodes m√©dicaux: nous analysons les nuances dans la nature des donn√©es et les approches possibles de mod√©lisation, construisons un mod√®le et analysons sa qualit√©. <a name="habracut"></a><br><br><h3>  Le d√©fi de pr√©dire les √©pisodes m√©dicaux </h3><br>  La pr√©diction des √©pisodes est bas√©e sur une analyse des donn√©es historiques.  Dans ce cas, l'ensemble de donn√©es se compose de deux parties.  Le premier concerne les donn√©es sur les services pr√©c√©demment fournis au patient.  Cette partie de l'ensemble de donn√©es comprend des donn√©es sociod√©mographiques sur le patient, telles que l'√¢ge et le sexe, ainsi que des diagnostics qui lui ont √©t√© faits √† diff√©rents moments dans le codage ICD10-CM [1] et les proc√©dures HCPCS effectu√©es [2].  Ces donn√©es forment des s√©quences dans le temps qui vous permettent d'avoir une id√©e de l'√©tat du patient √† un moment particulier.  Pour les mod√®les de formation, ainsi que pour travailler en production, des donn√©es personnalis√©es suffisent. <br><br>  La deuxi√®me partie de l'ensemble de donn√©es est une liste d'√©pisodes qui se produisent pour le patient.  Pour chaque √©pisode, nous indiquons son type et sa date d'occurrence, ainsi que la p√©riode de temps, les services inclus et d'autres informations.  √Ä partir de ces donn√©es, des variables cibles pour la pr√©diction sont g√©n√©r√©es. <br><br>  L'aspect du temps est important dans la r√©solution du probl√®me: nous ne nous int√©ressons qu'aux √©pisodes qui peuvent survenir dans un futur proche.  D'autre part, l'ensemble de donn√©es √† notre disposition a √©t√© collect√© pendant une p√©riode de temps limit√©e, au-del√† de laquelle il n'y a pas de donn√©es.  Ainsi, nous ne pouvons pas dire si les √©pisodes se produisent en dehors de la p√©riode d'observation, quels sont-ils, √† quel moment pr√©cis ils surviennent.  Cette situation est appel√©e censure √† droite. <br><br>  De m√™me, la censure gauche se produit: pour certains patients, un √©pisode peut commencer √† se d√©velopper plus t√¥t que ce que nous pouvons observer.  Pour nous, cela ressemblera √† un √©pisode survenu sans arri√®re-plan. <br><br>  Il existe un autre type de censure des donn√©es - l'interruption de l'observation (si la p√©riode d'observation n'est pas termin√©e et que l'√©v√©nement ne s'est pas produit).  Par exemple, en raison du d√©placement d'un patient, d'une d√©faillance du syst√®me de collecte de donn√©es, etc. <br><br>  Dans la fig.  1 montre sch√©matiquement diff√©rents types de censure des donn√©es.  Tous faussent les statistiques et rendent difficile la construction d'un mod√®le. <br><img src="https://habrastorage.org/webt/dz/qk/wd/dzqkwdyt50tyh7ehpsxwipu2j3m.png"><br><br>  <i>Notes: 1 - observations non censur√©es;</i>  <i>2, 3 - censure gauche et droite, respectivement;</i>  <i>4 - censure gauche et droite en m√™me temps;</i> <i><br></i>  <i>5 - interruption de l'observation.</i> <br><br>  Une autre caract√©ristique importante de l'ensemble de donn√©es est li√©e √† la nature du flux de donn√©es dans la vie r√©elle.  Certaines donn√©es peuvent arriver en retard, auquel cas elles ne sont pas disponibles au moment de la pr√©diction.  Pour prendre en compte cette fonctionnalit√©, il est n√©cessaire de compl√©ter l'ensemble de donn√©es en lan√ßant plusieurs √©l√©ments depuis la queue de chaque s√©quence. <br><br><h3>  Classification et r√©gression </h3><br>  Naturellement, la premi√®re pens√©e sera de r√©duire le probl√®me √† la classification et √† la r√©gression bien connues.  Cependant, ces approches rencontrent de s√©rieuses difficult√©s. <br><br>  Pourquoi la r√©gression ne nous convient pas, cela ressort clairement des ph√©nom√®nes consid√©r√©s de censure droite et gauche: la distribution du moment d'apparition d'un √©pisode dans l'ensemble de donn√©es peut √™tre d√©cal√©e.  De plus, l'ampleur et le fait de la pr√©sence de ce biais ne peuvent pas √™tre d√©termin√©s √† l'aide de l'ensemble de donn√©es lui-m√™me.  Le mod√®le construit peut montrer des r√©sultats arbitrairement bons avec n'importe quelle approche de validation, mais cela, tr√®s probablement, n'aura rien √† voir avec sa pertinence pour la pr√©vision sur les donn√©es de production. <br><br>  Plus prometteur, √† premi√®re vue, est une tentative de r√©duire le probl√®me √† la classification: pour fixer une certaine p√©riode de temps et d√©terminer l'√©pisode qui se produira dans cette p√©riode.  La principale difficult√© ici est la liaison de l'intervalle de temps qui nous int√©resse.  Il ne peut √™tre li√© de mani√®re fiable qu‚Äôau moment de la derni√®re mise √† jour de l‚Äôhistorique du patient.  En m√™me temps, la demande de pr√©diction de l'√©pisode n'est pas du tout li√©e au temps et peut arriver √† tout moment, √† la fois √† l'int√©rieur de cette p√©riode (et ensuite la p√©riode d'int√©r√™t effective est raccourcie), et compl√®tement au-del√† - et alors la pr√©diction perd g√©n√©ralement son sens (voir Fig. 2).  Cela induit naturellement une augmentation de la p√©riode d'int√©r√™t, ce qui r√©duit finalement la valeur de la pr√©diction de toute fa√ßon. <br><br><img src="https://habrastorage.org/webt/rm/-g/uk/rm-gukebroujw_awxfgxibqfpv4.png"><br><br>  <i>Remarques: 1 - met √† jour l'historique du patient;</i>  <i>2 - la derni√®re mise √† jour et la dur√©e qui lui est associ√©e;</i>  <i>3, 4 - demandes de pr√©diction d'√©pisode re√ßues pendant cette p√©riode.</i>  <i>On voit que l'intervalle de pr√©diction effectif pour eux est moindre;</i>  <i>5 - demande re√ßue en dehors de l'intervalle.</i>  <i>Pour lui, la pr√©diction est impossible.</i> <br><br><h3>  Analyse de survie </h3><br>  Comme alternative, nous pouvons consid√©rer l'approche, dans la litt√©rature russe, appel√©e analyse de survie (analyse de survie, ou analyse du temps sur √©v√©nement) [3].  Il s'agit d'une famille de mod√®les sp√©cialement con√ßus pour travailler avec des donn√©es censur√©es.  Elle est bas√©e sur l'approximation de la fonction de risque (fonction de danger, intensit√© de survenance des √©v√©nements), qui estime la distribution de probabilit√© de la survenue d'un √©v√©nement dans le temps.  Cette approche vous permet de prendre correctement en compte la pr√©sence de diff√©rents types de censure. <br><br>  Pour le probl√®me r√©solu, cette approche permet en outre de combiner les deux aspects du probl√®me dans un mod√®le: d√©terminer le type d'√©pisode et pr√©dire le moment de son apparition.  Pour ce faire, il suffit de construire un mod√®le distinct pour chaque type d'√©pisode, similaire √† l'approche one-vs-all dans la classification.  L'occurrence d'un √©pisode non cible peut alors √™tre interpr√©t√©e comme l'exclusion d'un objet de l'√©chantillon observ√© sans l'occurrence d'un √©v√©nement, qui est un autre type de censure des donn√©es et √©galement correctement pris en compte par le mod√®le.  Cette interpr√©tation est √©galement correcte du point de vue de la logique commerciale: si un patient subit une chirurgie de la cataracte, cela n'exclut pas la survenue d'autres √©pisodes pour lui √† l'avenir. <br><br>  Parmi la famille des mod√®les d'analyse de survie, on distingue deux vari√©t√©s: analytique et r√©gressive.  Les mod√®les analytiques sont purement descriptifs, ils sont construits pour l'ensemble de la population, ne prennent pas en compte les caract√©ristiques de ses membres individuels et ne peuvent donc pr√©dire la survenance d'un √©v√©nement que pour un membre typique de la population.  Contrairement aux mod√®les analytiques, les mod√®les de r√©gression sont construits en tenant compte des caract√©ristiques des membres individuels de la population et permettent de faire des pr√©visions √©galement pour les membres individuels en tenant compte de leurs caract√©ristiques.  dans ce probl√®me, c'est cette variation qui a √©t√© utilis√©e, ou plut√¥t, le mod√®le de risque proportionnel de Cox (ci-apr√®s - CoxPH). <br><br><h3>  R√©gression de survie et chirurgie de la cataracte </h3><br>  L'approche la plus simple sera similaire √† la r√©gression conventionnelle: prendre comme r√©sultat la pr√©vision math√©matique du moment du d√©but de l'√©v√©nement.  √âtant donn√© que CoxPH re√ßoit les donn√©es sous forme de vecteur num√©rique √† l'entr√©e et que notre ensemble de donn√©es est en fait une s√©quence de codes et de proc√©dures de diagnostic (donn√©es cat√©gorielles), une transformation pr√©liminaire des donn√©es est requise: <br><br><ul><li>  Traduction de codes en une repr√©sentation int√©gr√©e √† l'aide du mod√®le GloVe pr√©alablement form√© [4]; </li><li>  Agr√©gation de tous les codes disponibles dans la derni√®re p√©riode de l'histoire du patient en un seul vecteur; </li><li>  Codage instantan√© du sexe du patient et de l'√©chelle de l'√¢ge. </li></ul><br><br>  Nous utilisons les vecteurs de caract√©ristiques obtenus pour l'apprentissage du mod√®le et sa validation.  Le mod√®le r√©sultant montre les valeurs suivantes de l'indice de concordance (indice c ou statistique c) [5]: <br><br><ul><li>  0,71 pour une validation en 5 volets; </li><li>  0,69 sur l'√©chantillon en attente. </li></ul><br>  Ceci est comparable au niveau de 0,6‚Äì0,7 habituel pour de tels mod√®les [6]. <br><br>  Cependant, si vous regardez l'erreur absolue moyenne entre le moment pr√©vu de survenue de l'√©pisode et le moment r√©el, il s'av√®re que l'erreur est de 5 jours.  La raison d'une telle grosse erreur est que l'optimisation pour c-index ne garantit que l'ordre correct des valeurs: si un √©v√©nement doit se produire plus t√¥t qu'un autre, alors les valeurs pr√©vues du temps pr√©vu pour les √©v√©nements seront respectivement de moins l'une de l'autre.  De plus, aucune d√©claration n'est faite concernant les valeurs pr√©dites elles-m√™mes. <br><br>  Une autre variante possible de la valeur de sortie du mod√®le est un tableau de valeurs de la fonction de risque √† diff√©rents moments.  Cette option a une structure plus complexe, elle est plus difficile √† interpr√©ter que la pr√©c√©dente, mais en m√™me temps elle fournit plus d'informations. <br><br>  La modification du format de sortie n√©cessite une mani√®re diff√©rente d'√©valuer la qualit√© du mod√®le: nous devons nous assurer que pour les exemples positifs (lorsqu'un √©pisode se produit), le niveau de risque est plus √©lev√© que pour les exemples n√©gatifs (lorsqu'un √©pisode ne se produit pas).  Pour ce faire, pour chaque distribution pr√©dite de la fonction de risque dans l'√©chantillon retard√©, nous passerons du tableau de valeurs √† une valeur - le maximum.  Apr√®s avoir compt√© les valeurs m√©dianes pour les exemples positifs et n√©gatifs, nous verrons qu'elles diff√®rent de mani√®re fiable: 0,13 contre 0,04, respectivement. <br><br>  Ensuite, nous utilisons ces valeurs pour construire la courbe ROC et calculer la zone en dessous - ROC AUC, qui est de 0,92, ce qui est acceptable pour le probl√®me r√©solu. <br><br><h3>  Conclusion </h3><br>  Ainsi, nous avons vu que l'analyse de survie est la meilleure approche pour r√©soudre le probl√®me de la pr√©vision des √©pisodes m√©dicaux, en tenant compte de toutes les nuances du probl√®me et des donn√©es disponibles.  Cependant, son application implique un format diff√©rent de la sortie du mod√®le et une approche diff√©rente pour √©valuer sa qualit√©. <br><br>  L'application du mod√®le CoxPH √† la pr√©vision des √©pisodes de chirurgie de la cataracte nous a permis d'atteindre des indicateurs de qualit√© du mod√®le acceptables.  Une approche similaire peut √™tre appliqu√©e √† d'autres types d'√©pisodes, mais les indicateurs de qualit√© sp√©cifiques des mod√®les ne peuvent √™tre √©valu√©s directement que dans le processus de mod√©lisation. <br><br><h3>  Litt√©rature </h3><br>  [1] Modification clinique de la CIM-10 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en.wikipedia.org/wiki/ICD-10_Clinical_Modification</a> <br>  [2] Syst√®me de codage des proc√©dures communes de soins de sant√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en.wikipedia.org/wiki/Healthcare_Common_Procedure_Coding_System</a> <br>  [3] Analyse de survie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en.wikipedia.org/wiki/Survival_analysis</a> <br>  [4] GloVe: vecteurs mondiaux pour la repr√©sentation des mots <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nlp.stanford.edu/projects/glove</a> <br>  [5] Statistique C: d√©finition, exemples, pond√©ration et signification <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.statisticshowto.datasciencecentral.com/c-statistic</a> <br>  [6] VC Raykar et al.  On Ranking in Survival Analysis: Bounds on the Concordance Index <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">papers.nips.cc/paper/3375-on-ranking-in-survival-analysis-bounds-on-the-concordance-index.pdf</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443590/">https://habr.com/ru/post/fr443590/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443578/index.html">Premiers rapports sur PHDays: interception de vid√©oconf√©rence, nouvelle version de GhostTunnel, attaques sur Java Card</a></li>
<li><a href="../fr443582/index.html">Piratage d'une cartouche couleur HP: la transformer en imprimante portable</a></li>
<li><a href="../fr443584/index.html">Surveillez les sorties de films num√©riques de haute qualit√© sans chichi</a></li>
<li><a href="../fr443586/index.html">GeekBrains lance un marathon de travail √† distance en ligne gratuit</a></li>
<li><a href="../fr443588/index.html">Un professeur du Massachusetts Institute of Technology d√©voile l'avenir des proth√®ses √† TED</a></li>
<li><a href="../fr443592/index.html">Norme frontale RFID ISO 11785 provenant d'un ancien r√©cepteur FM et de d√©bris d'ascenseur</a></li>
<li><a href="../fr443594/index.html">Le carrefour des tests et de l'architecture: une entrevue avec Neil Ford</a></li>
<li><a href="../fr443598/index.html">Il y a une r√©vocation massive de certificats TLS d'une vari√©t√© d'autorit√©s de certification, g√©n√©r√©es par erreur sur un RNG 63 bits au lieu d'un 64 bits</a></li>
<li><a href="../fr443600/index.html">Les meilleures et les pires tendances du MWC 2019</a></li>
<li><a href="../fr443602/index.html">Qu'est-ce que le pseudonyme strict et pourquoi devrions-nous nous en pr√©occuper? 2e partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>