<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçâ üïï ü§µ C√≥mo escribo notas matem√°ticas en LaTeX en Vim üç© ‚è∏Ô∏è üïç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace alg√∫n tiempo, en Quora, respond√≠ la pregunta: c√≥mo mantenerse al d√≠a con las notas de la clase de matem√°ticas en LaTeX . All√≠ expliqu√© mi flujo d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo escribo notas matem√°ticas en LaTeX en Vim</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445066/">  Hace alg√∫n tiempo, en Quora, respond√≠ la pregunta: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥mo mantenerse al d√≠a con las notas de la clase de matem√°ticas en LaTeX</a> .  All√≠ expliqu√© mi flujo de trabajo para tomar notas en LaTeX usando Vim e Inkscape (para dibujos).  Pero desde entonces, mucho ha cambiado, por lo que quiero publicar varias publicaciones de blog que describan el nuevo proceso.  Este es el primero de los art√≠culos. <br><br>  Comenc√© a usar LaTeX para tomar notas en el segundo semestre de un curso de matem√°ticas, y desde entonces he escrito m√°s de 1700 p√°ginas.  Estos son algunos ejemplos de c√≥mo se ve el resumen: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9b2/6a1/c4d/9b26a1c4dcac70227b229935ae06599d.png"></a> <br><a name="habracut"></a><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/9e3/6dc/cef/9e36dccef8c096640212a3755d9ef2ec.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/793/760/039/79376003910994dc579e0ccf3da4f690.png"></a> <br><br>  Estas notas, incluidos los dibujos, se realizan directamente en la conferencia y no se editan posteriormente.  Para escribir res√∫menes de manera eficiente en LaTeX, se deben seguir cuatro reglas: <br><br><ul><li>  Escribir texto y f√≥rmulas en LaTeX debe ser tan r√°pido como un profesor escribiendo en la pizarra: el retraso es inaceptable. <br></li><li>  Dibujar ilustraciones debe ser casi tan r√°pido como el del profesor. <br></li><li>  Administrar notas, es decir, agregar notas, organizar todas las notas, las dos √∫ltimas conferencias, buscar notas, etc., debe ser r√°pido y f√°cil. <br></li><li>  Deber√≠a ser posible anotar documentos pdf usando LaTeX si quiero escribir una nota con un documento pdf. </li></ul><br>  Este art√≠culo trata sobre el primer punto: tomar notas sobre LaTeX. <br><br><h1>  Vim y LaTeX </h1><br>  Para escribir f√≥rmulas matem√°ticas y de texto en LaTeX, uso Vim.  Este es un poderoso editor de texto de prop√≥sito general, altamente extensible.  Lo uso para escribir c√≥digo, LaTeX, texto de Markdown ... en general, cualquier texto.  Tiene una curva de aprendizaje bastante empinada, pero si ha dominado la base, ya es dif√≠cil volver al editor sin las teclas de acceso r√°pido habituales.  As√≠ es como se ve mi pantalla cuando edito un documento de LaTeX: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/eb5/999/261/eb5999261b4ba963fd49f999477731eb.png"></a> <br><br>  A la izquierda est√° Vim, y a la derecha est√° el visor de PDF <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zathura</a> , que tambi√©n es compatible con los atajos de teclado de estilo Vim.  Trabajo en Ubuntu con el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">administrador de</a> ventanas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bspwm</a> .  Como complemento, LaTeX instal√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">vimtex</a> .  Proporciona resaltado de sintaxis, tabla de contenido, synctex, etc. Usando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conector vim,</a> lo configur√© de la siguiente manera: <br><br> <code>Plug 'lervag/vimtex' <br> let g:tex_flavor='latex' <br> let g:vimtex_view_method='zathura' <br> let g:vimtex_quickfix_mode=0 <br> set conceallevel=1 <br> let g:tex_conceal='abdmg'</code> <br> <br>  Las dos √∫ltimas l√≠neas ajustan el disfraz.  Esta es una funci√≥n en la que el c√≥digo LaTeX se reemplaza o se vuelve invisible cuando el cursor no est√° en esta l√≠nea.  Si oculta <code>\ [</code> , <code>\]</code> , <code>$</code> , entonces no son tan visibles, lo que proporciona una mejor visi√≥n general del documento.  Esta funci√≥n tambi√©n reemplaza <code>\bigcap</code> con <code>‚à©</code> , <code>\in</code> con <code>‚àà</code> , etc., como se muestra en la animaci√≥n: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d36/2e0/b83/d362e0b837be308b0f8897482a331ec6.gif"><br><br>  Con esta configuraci√≥n, puede lograr la tarea: escribir en LaTeX tan r√°pido como un profesor escribe en la pizarra.  Los fragmentos entran en juego aqu√≠. <br><br><h1>  Fragmentos </h1><br><h3>  ¬øQu√© es un fragmento? </h3><br>  Un fragmento es un fragmento breve de texto reutilizable que es invocado por otro texto.  Por ejemplo, al escribir el signo y presionar Tab, el signo de la palabra se convierte en una firma: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ab/28b/1ad/5ab28b1ad6114b68f4ce459d4f89eeae.gif"><br><br>  Los fragmentos pueden ser din√°micos: cuando escribo <code>today</code> y presiono <code>Tab</code> , la palabra <code>today</code> se reemplaza por la fecha actual y el <code>box</code> - <code>Tab</code> convierte en un campo que aumenta autom√°ticamente de tama√±o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1b6/301/a65/1b6301a6561d104b4bc79654cb75470d.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b7/cae/fc4/8b7caefc472eae0941f41365d16e8d2d.gif"><br><br>  Incluso puedes usar un fragmento dentro de otro: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdd/1fd/ed4/cdd1fded48947d163c2e5e6b974cfec0.gif"><br><br><h3>  Crear fragmentos con UltiSnips </h3><br>  Para controlar fragmentos, utilizo el complemento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UltiSnips</a> .  Aqu√≠ est√° su configuraci√≥n: <br><br><pre> <code class="plaintext hljs">Plug 'sirver/ultisnips' let g:UltiSnipsExpandTrigger = '&lt;tab&gt;' let g:UltiSnipsJumpForwardTrigger = '&lt;tab&gt;' let g:UltiSnipsJumpBackwardTrigger = '&lt;s-tab&gt;'</code> </pre> <br>  C√≥digo para el <code>sign</code> fragmento: <br><br><pre> <code class="plaintext hljs">snippet sign "Signature" Yours sincerely, Gilles Castel endsnippet</code> </pre> <br>  Para fragmentos din√°micos, puede poner el c√≥digo entre las comillas inversas, este c√≥digo se ejecutar√° cuando se extienda el fragmento.  Aqu√≠ us√© bash para formatear la fecha actual: <code>date + %F</code> <br><br><pre> <code class="plaintext hljs">snippet today "Date" `date +%F` endsnippet</code> </pre> <br>  Dentro del bloque <code>`!p ... `</code> , puedes escribir en Python.  Mire el c√≥digo para el fragmento de <code>box</code> : <br><br><pre> <code class="python hljs">snippet box <span class="hljs-string"><span class="hljs-string">"Box"</span></span> `!p snip.rv = <span class="hljs-string"><span class="hljs-string">'‚îå'</span></span> + <span class="hljs-string"><span class="hljs-string">'‚îÄ'</span></span> * (len(t[<span class="hljs-number"><span class="hljs-number">1</span></span>]) + <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">'‚îê'</span></span>` ‚îÇ $<span class="hljs-number"><span class="hljs-number">1</span></span> ‚îÇ `!p snip.rv = <span class="hljs-string"><span class="hljs-string">'‚îî'</span></span> + <span class="hljs-string"><span class="hljs-string">'‚îÄ'</span></span> * (len(t[<span class="hljs-number"><span class="hljs-number">1</span></span>]) + <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">'‚îò'</span></span>` $<span class="hljs-number"><span class="hljs-number">0</span></span> endsnippet</code> </pre> <br>  En lugar de este c√≥digo, el valor de la variable <code>snip.rv</code> se insertar√° en el documento.  Dentro de los bloques, tiene acceso al estado actual del fragmento, por ejemplo, <code>t[1]</code> corresponde al lugar de la primera pesta√±a, <code>fn</code> nombre del archivo actual, etc. <br><br><h1>  Fragmentos de LaTeX </h1><br>  Los fragmentos aceleran significativamente el trabajo, especialmente algunos de los fragmentos m√°s complejos.  Comencemos con lo m√°s simple. <br><br><h3>  El medio ambiente </h3><br>  Para insertar un entorno, simplemente ingrese <code>beg</code> al comienzo de la l√≠nea.  Luego, el nombre del entorno, que se refleja en el comando <code>\end{}</code> .  Al presionar <code>Tab</code> coloca el cursor dentro. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5e/d64/1a9/d5ed641a9cb568d13dd56d98fec6376b.gif"><br><br>  El c√≥digo es el siguiente: <br><br><pre> <code class="plaintext hljs">snippet beg "begin{} / end{}" bA \begin{$1} $0 \end{$1} endsnippet</code> </pre> <br>  El s√≠mbolo <code>b</code> significa que dicho fragmento funciona solo al comienzo de una l√≠nea, <code>A</code> significa expansi√≥n autom√°tica, es decir, no es necesario presionar <code>Tab</code> .  Las pesta√±as donde vayas presionando <code>Tab</code> y <code>Shift</code> + <code>Tab</code> se denotan como <code>$1</code> , <code>$2</code> , ... y este √∫ltimo se denota como <code>$0</code> . <br><br><h3>  F√≥rmulas en l√≠nea y de visualizaci√≥n </h3><br>  Los dos fragmentos m√°s utilizados son <code>mk</code> y <code>dm</code> , que activan el modo matem√°tico.  El primero para las f√≥rmulas en l√≠nea, el segundo para las que se muestran. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/12a/16b/6a9/12a16b6a90c4d85a887c7cde0f18bb8c.gif"><br><br>  Fragmento de f√≥rmula inteligente: sabe cu√°ndo insertar un espacio despu√©s del signo de d√≥lar.  Cuando empiezo a escribir una palabra inmediatamente despu√©s del cierre $, agrega un espacio.  Pero si escribo otro car√°cter, entonces no agrega un espacio, como en el caso de '$ p $ -value'. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/117/2a1/f55/1172a1f556fd36b42f7c3642b3952e2c.gif"><br><br>  El c√≥digo para este fragmento es: <br><br><pre> <code class="plaintext hljs">snippet mk "Math" wA $${1}$`!p if t[2] and t[2][0] not in [',', '.', '?', '-', ' ']: snip.rv = ' ' else: snip.rv = '' `$2 endsnippet</code> </pre> <br>  <code>W</code> al final de la primera l√≠nea significa que el fragmento se expande solo en los l√≠mites de las palabras.  Por lo tanto, por ejemplo, <code>hellomk</code> no funcionar√° y <code>hello mk</code> funcionar√°. <br><br>  El fragmento de las f√≥rmulas mostradas es m√°s simple, pero tambi√©n bastante conveniente.  Siempre hace que las ecuaciones terminen con un punto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a68/2e9/736/a682e97365ecfe19fe0c5bc08bacfec6.gif"><br><br><pre> <code class="plaintext hljs">&lt;snippet dm "Math" wA \[ $1 .\] $0 endsnippet</code> </pre> <br><h3>  Sub√≠ndice y caracteres super√≠ndice </h3><br>  Otro fragmento √∫til es para los √≠ndices.  Cambia <code>a1</code> a <code>a_1</code> y <code>a_12</code> a <code>a_{12}</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f26/633/cb8/f26633cb822c6b52d346dfbba6e1a1bd.gif"><br><br>  El c√≥digo para este fragmento utiliza una expresi√≥n regular como desencadenante.  Expande el fragmento cuando ingresa un car√°cter seguido de un d√≠gito codificado como <code>[A-Za-z]\d</code> , o un car√°cter seguido de <code>_</code> y dos d√≠gitos: <code>[A-Za-z]_\d\d</code> . <br><br><pre> <code class="plaintext hljs">snippet '([A-Za-z])(\d)' "auto subscript" wrA `!p snip.rv = match.group(1)`_`!p snip.rv = match.group(2)` endsnippet snippet '([A-Za-z])_(\d\d)' "auto subscript2" wrA `!p snip.rv = match.group(1)`_{`!p snip.rv = match.group(2)`} endsnippet</code> </pre> <br>  Cuando combina partes de una expresi√≥n regular en un grupo usando par√©ntesis, por ejemplo, <code>(\d\d)</code> , puede usarlos en la extensi√≥n de fragmento a trav√©s de <code>match.group(i)</code> en Python. <br><br>  Para los caracteres en super√≠ndice, uso <code>td</code> , que se convierte en <code>^{}</code> .  Aunque para los m√°s comunes (cuadrado, cubo y varios otros), se pretenden fragmentos separados, como <code>sr</code> , <code>cb</code> y <code>comp</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da8/55c/d9e/da855cd9e67c48f508fab5ddc8c877fe.gif"><br><br><pre> <code class="plaintext hljs">snippet sr "^2" iA ^2 endsnippet snippet cb "^3" iA ^3 endsnippet snippet compl "complement" iA ^{c} endsnippet snippet td "superscript" iA ^{$1}$0 endsnippet</code> </pre> <br><h3>  Fracci√≥n </h3><br>  Uno de los fragmentos m√°s convenientes funciona con fracciones.  Realiza los siguientes reemplazos: <br><br>  <code>//</code> ‚Üí <code>\frac{}{}</code> <br>  <code>3/</code> ‚Üí <code>\frac{3}{}</code> <br>  <code>4\pi^2/</code> ‚Üí <code>\frac{4\pi^2}{}</code> <br>  <code>(1 + 2 + 3)/</code> ‚Üí <code>\frac{1 + 2 + 3}{}</code> <br>  <code>(1+(2+3)/)</code> ‚Üí <code>(1 + \frac{2+3}{})</code> <br>  <code>(1 + (2+3))/</code> ‚Üí <code>\frac{1 + (2+3)}{}</code> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f8/3f1/bdc/3f83f1bdc3078aa16382e80a276f199f.gif"><br><br>  Para el primero, un c√≥digo simple: <br><br><pre> <code class="plaintext hljs">snippet // "Fraction" iA \\frac{$1}{$2}$0 endsnippet</code> </pre> <br>  Las sustituciones segunda y tercera se producen con la ayuda de expresiones regulares correspondientes a las expresiones <code>3/</code> , <code>4ac/</code> , <code>6\pi^2/</code> , <code>a_2/</code> , etc. <br><br><pre> <code class="plaintext hljs">snippet '((\d+)|(\d*)(\\)?([A-Za-z]+)((\^|_)(\{\d+\}|\d))*)/' "Fraction" wrA \\frac{`!p snip.rv = match.group(1)`}{$1}$0 endsnippet</code> </pre> <br>  Como puede ver, las expresiones regulares pueden llegar a ser bastante largas, pero aqu√≠ hay un diagrama que deber√≠a explicar todo: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/908/df5/ec2/908df5ec254f9cd5b08b99b8a54318d0.svg"><br><br>  En el cuarto y quinto casos, el fragmento intenta encontrar el soporte correspondiente.  Como el motor de expresiones regulares UltiSnips no sabe c√≥mo hacer esto, tuve que usar Python: <br><br><pre> <code class="python hljs">priority <span class="hljs-number"><span class="hljs-number">1000</span></span> snippet <span class="hljs-string"><span class="hljs-string">'^.*\)/'</span></span> <span class="hljs-string"><span class="hljs-string">"() Fraction"</span></span> wrA `!p stripped = match.string[:<span class="hljs-number"><span class="hljs-number">-1</span></span>] depth = <span class="hljs-number"><span class="hljs-number">0</span></span> i = len(stripped) - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> stripped[i] == <span class="hljs-string"><span class="hljs-string">')'</span></span>: depth += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> stripped[i] == <span class="hljs-string"><span class="hljs-string">'('</span></span>: depth -= <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> depth == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; i -= <span class="hljs-number"><span class="hljs-number">1</span></span> snip.rv = stripped[<span class="hljs-number"><span class="hljs-number">0</span></span>:i] + <span class="hljs-string"><span class="hljs-string">"\\frac{"</span></span> + stripped[i+<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] + <span class="hljs-string"><span class="hljs-string">"}"</span></span> `{$<span class="hljs-number"><span class="hljs-number">1</span></span>}$<span class="hljs-number"><span class="hljs-number">0</span></span> endsnippet</code> </pre> <br>  Finalmente, quiero compartir un fragmento que convierte la selecci√≥n actual en una fracci√≥n.  Seleccione el texto, presione <code>Tab</code> , escriba <code>/</code> y nuevamente <code>Tab</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0da/01b/956/0da01b9566dc437fabf0c563ed14941f.gif"><br><br>  El c√≥digo usa la variable <code>${VISUAL}</code> , que refleja su elecci√≥n. <br><br><pre> <code class="plaintext hljs">snippet / "Fraction" iA \\frac{${VISUAL}}{$1}$0 endsnippet</code> </pre> <br><h3>  Sympy y Mathematica </h3><br>  Otro fragmento interesante pero menos usado se ejecuta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sim√©tricamente</a> para evaluar las expresiones matem√°ticas.  Por ejemplo: <code>sympy</code> <code>Tab</code> expande a <code>sympy | sympy</code>  <code>sympy | sympy</code> , y <code>sympy 1 + 1 sympy</code> <code>Tab</code> convierte en <code>2</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c8/f14/3fd/8c8f143fdcdc2f3e6de9853cf7ea3def.gif"><br><br><pre> <code class="plaintext hljs">snippet sympy "sympy block " w sympy $1 sympy$0 endsnippet priority 10000 snippet 'sympy(.*)sympy' "evaluate sympy" wr `!p from sympy import * x, y, z, t = symbols('xyz t') k, m, n = symbols('km n', integer=True) f, g, h = symbols('fg h', cls=Function) init_printing() snip.rv = eval('latex(' + match.group(1).replace('\\', '') \ .replace('^', '**') \ .replace('{', '(') \ .replace('}', ')') + ')') ` endsnippet</code> </pre> <br>  Para Mathematica, algo similar tambi√©n es posible: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82f/7f1/87a/82f7f187a685a52ed7665fded563f936.gif"><br><br><pre> <code class="plaintext hljs">priority 1000 snippet math "mathematica block" w math $1 math$0 endsnippet priority 10000 snippet 'math(.*)math' "evaluate mathematica" wr `!p import subprocess code = 'ToString[' + match.group(1) + ', TeXForm]' snip.rv = subprocess.check_output(['wolframscript', '-code', code]) ` endsnippet</code> </pre> <br><h3>  Fragmentos de Postfix </h3><br>  Me parece que vale la pena mencionar tambi√©n fragmentos de postfix que insertan el texto apropiado despu√©s de ingresar ciertos caracteres.  Por ejemplo, <code>phat</code> ‚Üí <code>\hat{p}</code> y <code>zbar</code> ‚Üí <code>\overline{z}</code> .  Un fragmento similar inserta un vector, por ejemplo, <code>v,.</code>  ‚Üí <code>\vec{v}</code> y <code>v.,</code> ‚Üí <code>\vec{v}</code> .  El orden del punto y el punto y coma no importa, por lo que puedo hacer clic en ellos al mismo tiempo.  Estos fragmentos realmente ahorran tiempo, porque los ingresa a la misma velocidad que un profesor escribe en la pizarra. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c2/e62/aae/7c2e62aae292bc4d65eae363c816e206.gif"><br><br>  Tenga en cuenta que los prefijos de <code>bar</code> y <code>hat</code> siguen funcionando, solo que con una prioridad m√°s baja.  El c√≥digo para estos fragmentos es: <br><br><pre> <code class="plaintext hljs">priority 10 snippet "bar" "bar" riA \overline{$1}$0 endsnippet priority 100 snippet "([a-zA-Z])bar" "bar" riA \overline{`!p snip.rv=match.group(1)`} endsnippet</code> </pre> <br><pre> <code class="plaintext hljs">priority 10 snippet "hat" "hat" riA \hat{$1}$0 endsnippet priority 100 snippet "([a-zA-Z])hat" "hat" riA \hat{`!p snip.rv=match.group(1)`} endsnippet</code> </pre> <br><pre> <code class="plaintext hljs">snippet "(\\?\w+)(,\.|\.,)" "Vector postfix" riA \vec{`!p snip.rv=match.group(1)`} endsnippet</code> </pre> <br><h3>  Otros fragmentos </h3><br>  Todav√≠a tengo alrededor de un centenar de fragmentos de uso com√∫n.  Todos ellos est√°n disponibles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  La mayor√≠a de ellos son bastante simples.  Por ejemplo, <code>!&gt;</code> convierte en <code>\mapsto</code> , <code>-&gt;</code> convierte en <code>\to</code> , etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ee/36e/f41/4ee36ef41c17f1ded1fffe13ba32b60d.gif"><br><br>  <code>fun</code> transforma en <code>f: \R \to \R :</code> , <code>!&gt;</code> ‚Üí <code>\mapsto</code> , <code>cc</code> ‚Üí <code>\subset</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a45/092/c95/a45092c95d91059b779f74cedda840e1.gif"><br><br>  <code>lim</code> convierte en <code>\lim_{n \to \infty}</code> , <code>sum</code> ‚Üí <code>\sum_{n = 1}^{\infty}</code> , <code>ooo</code> ‚Üí <code>\infty</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2be/9c9/9e6/2be9c99e6ab5787fc5196bbf4ce525a7.gif"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/3be/522/f5e/3be522f5e6e5ca7f871138732ba1b14d.gif"><br><br><h3>  Fragmentos espec√≠ficos del curso </h3><br>  Adem√°s de los de uso frecuente, tambi√©n tengo fragmentos espec√≠ficos.  Se cargan como una sola l√≠nea en <code>.vimrc</code> : <br><br><pre> <code class="plaintext hljs">set rtp+=~/current_course</code> </pre> <br>  Aqu√≠ <code>current_course</code> es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace simb√≥lico</a> al curso actual (m√°s sobre esto en otro art√≠culo).  En esta carpeta est√° el archivo <code>~/current_course/UltiSnips/tex.snippets</code> , donde agrego fragmentos de curso.  Por ejemplo, para la mec√°nica cu√°ntica, hay fragmentos para registrar los estados cu√°nticos de apliques y cetos. <br><br> <code>&lt;a|</code>  ‚Üí <code>\bra{a}</code> <br> <code>&lt;q|</code>  ‚Üí <code>\bra{\psi}</code> <br>  <code>|a&gt;</code> ‚Üí <code>\ket{a}</code> <br>  <code>|q&gt;</code> ‚Üí <code>\ket{\psi}</code> <br>  <code>\braket{a}{b}</code> ‚Üí <code>\braket{a}{b}</code> <br><br>  Como la mec√°nica cu√°ntica a menudo usa <code>\psi</code> , reemplac√© autom√°ticamente todos los <code>q</code> en braket con <code>\psi</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/268/d33/1fd/268d331fdb83b6fa3563b6f2b0baac66.gif"><br><br><pre> <code class="plaintext hljs">snippet "\&lt;(.*?)\|" "bra" riA \bra{`!p snip.rv = match.group(1).replace('q', f'\psi').replace('f', f'\phi')`} endsnippet snippet "\|(.*?)\&gt;" "ket" riA \ket{`!p snip.rv = match.group(1).replace('q', f'\psi').replace('f', f'\phi')`} endsnippet snippet "(.*)\\bra{(.*?)}([^\|]*?)\&gt;" "braket" riA `!p snip.rv = match.group(1)`\braket{`!p snip.rv = match.group(2)`}{`!p snip.rv = match.group(3).replace('q', f'\psi').replace('f', f'\phi')`} endsnippet</code> </pre> <br><h3>  Contexto </h3><br>  Al escribir estos fragmentos, debe considerar si se pueden encontrar en texto sin formato.  Por ejemplo, seg√∫n mi diccionario, hay alrededor de 72 palabras en ingl√©s y 2,000 palabras en holand√©s con sr.  Por lo tanto, cuando <code>di^2egard</code> <code>disregard</code> , <code>sr</code> cambia a <code>^2</code> , y obtenemos <code>di^2egard</code> . <br><br>  La soluci√≥n a este problema es agregar contexto a los fragmentos.  El resaltado de sintaxis de Vim determina si UltiSnips debe usar un fragmento, dependiendo de si est√° en modo f√≥rmula o texto.  Se me ocurri√≥ esta opci√≥n: <br><br><pre> <code class="plaintext hljs">global !p texMathZones = ['texMathZone'+x for x in ['A', 'AS', 'B', 'BS', 'C', 'CS', 'D', 'DS', 'E', 'ES', 'F', 'FS', 'G', 'GS', 'H', 'HS', 'I', 'IS', 'J', 'JS', 'K', 'KS', 'L', 'LS', 'DS', 'V', 'W', 'X', 'Y', 'Z']] texIgnoreMathZones = ['texMathText'] texMathZoneIds = vim.eval('map('+str(texMathZones)+", 'hlID(v:val)')") texIgnoreMathZoneIds = vim.eval('map('+str(texIgnoreMathZones)+", 'hlID(v:val)')") ignore = texIgnoreMathZoneIds[0] def math(): synstackids = vim.eval("synstack(line('.'), col('.') - (col('.')&gt;=2 ? 1 : 0))") try: first = next( i for i in reversed(synstackids) if i in texIgnoreMathZoneIds or i in texMathZoneIds ) return first != ignore except StopIteration: return False endglobal</code> </pre> <br>  Ahora puede agregar el <code>context "math()"</code> a esos fragmentos que desea aplicar solo en un contexto matem√°tico. <br><br><pre> <code class="plaintext hljs">context "math()" snippet sr "^2" iA ^2 endsnippet</code> </pre> <br>  Tenga en cuenta que el contexto matem√°tico es algo sutil.  Algunas veces en el modo f√≥rmula tambi√©n escribimos texto usando <code>\text{...}</code> .  En este caso, no queremos usar fragmentos.  Sin embargo, en el siguiente caso: <code>\[ \text{$...$} \]</code> , <i>deben</i> aplicarse.  Es por eso que el c√≥digo para el contexto <code>math</code> no es tan simple.  La siguiente animaci√≥n ilustra estas sutilezas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1b/3ca/2dd/e1b3ca2dd4fc1f5fe39679fb6ba38aad.gif"><br><br><h3>  Correcci√≥n ortogr√°fica sobre la marcha </h3><br>  Aunque las f√≥rmulas son una parte importante del resumen, imprimo la mayor parte del tiempo en ingl√©s.  Alrededor de 80 palabras por minuto, mis habilidades de escritura son bastante buenas, pero hago muchos errores tipogr√°ficos.  Es por eso que agregu√© un enlace a Vim que corrige los errores ortogr√°ficos sin interferir con el trabajo.  Cuando <code>Ctrl+L</code> durante la entrada, se corrige el error de ortograf√≠a anterior.  Se ve as√≠: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ad/d70/568/0add705683b79cb94498104251a6d5b8.gif"><br><br>  Mi configuraci√≥n para la correcci√≥n ortogr√°fica: <br><br><pre> <code class="plaintext hljs">setlocal spell set spelllang=nl,en_gb inoremap &lt;Cl&gt; &lt;cg&gt;u&lt;Esc&gt;[s1z=`]a&lt;cg&gt;u</code> </pre> <br>  Aqu√≠, vaya al error de ortograf√≠a anterior <code>[s</code> , luego seleccione la primera opci√≥n <code>1z=</code> y devuelva <code>`]a</code> .  Los comandos <code>&lt;cg&gt;u</code> en el medio le permiten deshacer r√°pidamente la correcci√≥n. <br><br><h3>  En conclusi√≥n </h3><br>  Gracias a los fragmentos de Vim, escribir c√≥digo LaTeX ya no es molesto, sino m√°s bien un placer.  En combinaci√≥n con la ortograf√≠a sobre la marcha, esto le permite esbozar conveniente y r√°pidamente conferencias sobre matem√°ticas.  En el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pr√≥ximo art√≠culo,</a> hablar√© sobre otros temas, como dibujar ilustraciones digitalmente e insertarlas en un documento de LaTeX. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/445066/">https://habr.com/ru/post/445066/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445056/index.html">Descripci√≥n general de los cursos de desarrollo web</a></li>
<li><a href="../445058/index.html">El piloto autom√°tico de Tesla aprendi√≥ a determinar los cambios de carril en los autos vecinos</a></li>
<li><a href="../445060/index.html">Organizar b√∫squedas de datos utilizando los repositorios clave-valor de Spring Data</a></li>
<li><a href="../445062/index.html">Formato de presentaci√≥n moderno?</a></li>
<li><a href="../445064/index.html">La batalla por la neutralidad de la red: una oportunidad de regresar</a></li>
<li><a href="../445070/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 291 (18 de marzo - 24 de marzo)</a></li>
<li><a href="../445072/index.html">Telegraff: Kotlin DSL para Telegram</a></li>
<li><a href="../445074/index.html">Programaci√≥n LibreOffice Base. Parte 1</a></li>
<li><a href="../445076/index.html">El gigante de TI introdujo el firewall definido por el servicio</a></li>
<li><a href="../445078/index.html">Es probable que la f√≠sica cu√°ntica proteja las redes el√©ctricas de EE. UU. De los piratas inform√°ticos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>