<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨â€ğŸ³ ğŸ¤¦ ğŸ¤¶ æˆ‘ä»¬åœ¨TypeScriptä¸Šç¼–å†™è‡ªå®šä¹‰è½¬æ¢å™¨AST ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¼ â›³ï¸ ğŸ’“</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TestMaceå›¢é˜Ÿå†æ¬¡ä¸æ‚¨è”ç³»ã€‚ è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†å‘å¸ƒæœ‰å…³ä½¿ç”¨ç¼–è¯‘å™¨è¿›è¡ŒTypeScriptä»£ç è½¬æ¢çš„æ–‡ç« çš„ç¿»è¯‘ã€‚ ç¥æ‚¨é˜…è¯»æ„‰å¿«ï¼ 
 å¼•è¨€ 


 è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå…¶ä¸­æˆ‘æƒ³å±•ç¤ºä½¿ç”¨TypeScript ç¼–è¯‘å™¨APIè§£å†³ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚ ä¸ºäº†æ‰¾åˆ°è¿™ç§è§£å†³æ–¹æ¡ˆï¼Œæˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´ç ”ç©¶äº†å¾ˆå¤šåšå®¢ï¼Œå¹¶åœ¨...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬åœ¨TypeScriptä¸Šç¼–å†™è‡ªå®šä¹‰è½¬æ¢å™¨AST</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457770/"><p>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TestMace</a>å›¢é˜Ÿå†æ¬¡ä¸æ‚¨è”ç³»ã€‚</em>  <em>è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†å‘å¸ƒæœ‰å…³ä½¿ç”¨ç¼–è¯‘å™¨è¿›è¡ŒTypeScriptä»£ç è½¬æ¢çš„æ–‡ç« çš„ç¿»è¯‘ã€‚</em>  <em>ç¥æ‚¨é˜…è¯»æ„‰å¿«ï¼</em> </p><br><h1 id="vvedenie"> å¼•è¨€ </h1><br><p> è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œå…¶ä¸­æˆ‘æƒ³å±•ç¤ºä½¿ç”¨TypeScript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¼–è¯‘å™¨API</a>è§£å†³ä¸€ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚ ä¸ºäº†æ‰¾åˆ°è¿™ç§è§£å†³æ–¹æ¡ˆï¼Œæˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´ç ”ç©¶äº†å¾ˆå¤šåšå®¢ï¼Œå¹¶åœ¨StackOverflowä¸Šæ¶ˆåŒ–äº†ç­”æ¡ˆï¼Œå› æ­¤ï¼Œä¸ºäº†ä¿æŠ¤æ‚¨å…å—åŒæ ·çš„å‘½è¿ï¼Œæˆ‘å°†åˆ†äº«æˆ‘æ‰€å­¦åˆ°çš„å…³äºè¿™æ ·ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä½†æ–‡æ¡£è®°å½•æ¬ ä½³çš„å·¥å…·ç®±çš„æ‰€æœ‰ä¿¡æ¯ã€‚ </p><a name="habracut"></a><br><h1 id="klyuchevye-ponyatiya"> å…³é”®æ¦‚å¿µ </h1><br><p> TypeScriptç¼–è¯‘å™¨APIï¼ˆè§£æå™¨æœ¯è¯­ï¼Œè½¬æ¢APIï¼Œåˆ†å±‚ä½“ç³»ç»“æ„ï¼‰ï¼ŒæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼ŒVisitorè®¾è®¡æ¨¡å¼ï¼Œä»£ç ç”Ÿæˆçš„åŸºç¡€ã€‚ </p><br><h1 id="nebolshaya-rekomendaciya"> å°æ¨è </h1><br><p> å¦‚æœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡äº†è§£ASTæ¦‚å¿µï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨é˜…è¯»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@Vaidehi Joshiçš„</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™ç¯‡æ–‡ç« </a> ã€‚ å¥¹æ¥è‡ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">basecsçš„</a>æ•´ä¸ªç³»åˆ—æ–‡ç« éƒ½å¾ˆæ£’ï¼Œæ‚¨ä¸€å®šä¼šå–œæ¬¢çš„ã€‚ </p><br><h1 id="opisanie-zadachi"> ä»»åŠ¡è¯´æ˜ </h1><br><p> åœ¨Avero <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ï¼Œ</a>æˆ‘ä»¬ä½¿ç”¨GraphQLï¼Œå¹¶å¸Œæœ›åœ¨è§£æå™¨ä¸­æ·»åŠ ç±»å‹å®‰å…¨æ€§ã€‚ ä¸€æ—¦æˆ‘é‡åˆ°äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">graphqlgen</a> ï¼Œå°±å¯ä»¥è§£å†³GraphQLä¸­æœ‰å…³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¨¡å‹</a>æ¦‚å¿µçš„è®¸å¤šé—®é¢˜ã€‚ æˆ‘ä¸ä¼šåœ¨è¿™é‡Œç ”ç©¶è¿™ä¸ªé—®é¢˜-ä¸ºæ­¤ï¼Œæˆ‘æ‰“ç®—å†™ä¸€ç¯‡å•ç‹¬çš„æ–‡ç« ã€‚ ç®€è¦åœ°è¯´ï¼Œæ¨¡å‹æè¿°äº†è§£æå™¨çš„è¿”å›å€¼ï¼Œåœ¨graphqlgenä¸­ï¼Œè¿™äº›æ¨¡å‹é€šè¿‡ä¸€ç§é…ç½®ï¼ˆå…·æœ‰ç±»å‹å£°æ˜çš„YAMLæˆ–TypeScriptï¼‰ä¸æ¥å£è¿›è¡Œé€šä¿¡ã€‚ </p><br><p> åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿è¡Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gRPC</a>å¾®æœåŠ¡ï¼Œè€ŒGQLåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ç”¨ä½œåŸºç¡€ã€‚ æˆ‘ä»¬å·²ç»å‘å¸ƒäº†ç¬¦åˆ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŸå§‹åˆåŒçš„</a> TypeScriptæ¥å£ï¼Œæˆ‘æƒ³å°†è¿™äº›ç±»å‹ç”¨ä½œæ¨¡å‹ï¼Œä½†æ˜¯ç”±äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ”¯æŒå¯¼å‡ºç±»å‹</a>ä»¥åŠå®ç°æ¥å£æè¿°çš„æ–¹å¼ï¼ˆå †ç§¯åç§°ç©ºé—´ï¼Œé“¾æ¥ï¼‰ã€‚ </p><br><p> æ ¹æ®ä½¿ç”¨å¼€æ”¾æºä»£ç çš„è‰¯å¥½è§„åˆ™ï¼Œæˆ‘çš„ç¬¬ä¸€æ­¥æ˜¯å®Œå–„graphqlgenå­˜å‚¨åº“ä¸­å·²å®Œæˆçš„å·¥ä½œï¼Œä»è€Œåšå‡ºæœ‰æ„ä¹‰çš„è´¡çŒ®ã€‚ ä¸ºäº†å®ç°è‡ªçœæœºåˆ¶ï¼Œgraphqlgenä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@ babel / parserè§£æå™¨</a>æ¥è¯»å–æ–‡ä»¶å¹¶æ”¶é›†æœ‰å…³æ¥å£åç§°å’Œå£°æ˜ï¼ˆæ¥å£å­—æ®µï¼‰çš„ä¿¡æ¯ã€‚ </p><br><p> æ¯å½“æˆ‘éœ€è¦å¯¹ASTè¿›è¡Œæ“ä½œæ—¶ï¼Œæˆ‘éƒ½ä¼šå…ˆæ‰“å¼€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">astexplorer.net</a> ï¼Œç„¶åå¼€å§‹è¡ŒåŠ¨ã€‚ è¯¥å·¥å…·å…è®¸æ‚¨åˆ†æç”±å„ç§è§£æå™¨ï¼ˆåŒ…æ‹¬<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">babel</a> /è§£æå™¨å’ŒTypeScriptç¼–è¯‘å™¨è§£æå™¨ï¼‰åˆ›å»ºçš„ASTã€‚ ä½¿ç”¨astexplorer.netï¼Œæ‚¨å¯ä»¥å¯è§†åŒ–è¦ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œå¹¶ç†Ÿæ‚‰æ¯ä¸ªè§£æå™¨çš„ASTèŠ‚ç‚¹çš„ç±»å‹ã€‚ </p><br><p> çœ‹ä¸€ä¸‹æºæ•°æ®æ–‡ä»¶å’Œä½¿ç”¨babel-parseråœ¨å…¶åŸºç¡€ä¸Šåˆ›å»ºçš„ASTçš„ç¤ºä¾‹ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">example.ts</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { protos } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'my_company_protos'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> type User = protos.user.User;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">ast.json</b> <div class="spoiler_text"><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"Program"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">36</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"comments"</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"sourceType"</span></span>: <span class="hljs-string"><span class="hljs-string">"module"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"body"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"ImportDeclaration"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"specifiers"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"ImportSpecifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"imported"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"identifierName"</span></span>: <span class="hljs-string"><span class="hljs-string">"protos"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"protos"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"importKind"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"local"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">15</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"identifierName"</span></span>: <span class="hljs-string"><span class="hljs-string">"protos"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"protos"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"ImportSpecifier"</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"importKind"</span></span>: <span class="hljs-string"><span class="hljs-string">"value"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"source"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"Literal"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">23</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">42</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"extra"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"rawValue"</span></span>: <span class="hljs-string"><span class="hljs-string">"my_company_protos"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"raw"</span></span>: <span class="hljs-string"><span class="hljs-string">"'my_company_protos'"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"my_company_protos"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"StringLiteral"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"raw"</span></span>: <span class="hljs-string"><span class="hljs-string">"'my_company_protos'"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"ImportDeclaration"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"ExportNamedDeclaration"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">44</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">36</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"specifiers"</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">"source"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"exportKind"</span></span>: <span class="hljs-string"><span class="hljs-string">"type"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"declaration"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"TypeAlias"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">36</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">56</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"identifierName"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">56</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"typeParameters"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"right"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"GenericTypeAnnotation"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">79</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">35</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"typeParameters"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"QualifiedTypeIdentifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">79</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">35</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"qualification"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"QualifiedTypeIdentifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">74</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"qualification"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: <span class="hljs-number"><span class="hljs-number">69</span></span>, <span class="hljs-attr"><span class="hljs-attr">"loc"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">19</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"end"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"line"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"column"</span></span>: <span class="hljs-number"><span class="hljs-number">25</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"identifierName"</span></span>: <span class="hljs-string"><span class="hljs-string">"protos"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"protos"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-number"><span class="hljs-number">69</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"Identifier"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-number"><span class="hljs-number">74</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"QualifiedTypeIdentifier"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"QualifiedTypeIdentifier"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">63</span></span>, <span class="hljs-number"><span class="hljs-number">79</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"GenericTypeAnnotation"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"TypeAlias"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"range"</span></span>: [ <span class="hljs-number"><span class="hljs-number">44</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"_babelType"</span></span>: <span class="hljs-string"><span class="hljs-string">"ExportNamedDeclaration"</span></span> } ] }</code> </pre> </div></div><br><p> æ ‘çš„æ ¹ï¼ˆ <strong>ç¨‹åº</strong>ç±»å‹çš„èŠ‚ç‚¹ï¼‰åœ¨å…¶ä¸»ä½“ä¸­åŒ…å«ä¸¤ä¸ªè¿ç®—ç¬¦<strong>-ImportDeclaration</strong>å’Œ<strong>ExportNamedDeclaration</strong> ã€‚ </p><br><p> åœ¨<strong>ImportDeclarationä¸­ï¼Œ</strong>æˆ‘ä»¬å¯¹ä¸¤ä¸ªå±æ€§ç‰¹åˆ«æ„Ÿå…´è¶£<strong>-source</strong>å’Œ<strong>specifiers</strong> ï¼Œå®ƒä»¬åŒ…å«æœ‰å…³æºæ–‡æœ¬çš„ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œsourceçš„å€¼ç­‰äº<em>my_company_protos</em> ã€‚ é€šè¿‡è¯¥å€¼æ— æ³•ç†è§£è¿™æ˜¯æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„è¿˜æ˜¯å¤–éƒ¨æ¨¡å—çš„é“¾æ¥ã€‚ è¿™æ­£æ˜¯è§£æå™¨æ‰€åšçš„ã€‚ </p><br><p> åŒæ ·ï¼Œæºä¿¡æ¯åŒ…å«åœ¨<strong>ExportNamedDeclarationä¸­</strong> ã€‚ å‘½åç©ºé—´åªä¼šé€šè¿‡åœ¨ç»“æ„ä¸Šæ·»åŠ ä»»æ„åµŒå¥—æ¥ä½¿è¯¥ç»“æ„å¤æ‚åŒ–ï¼Œä»è€Œå¯¼è‡´è¶Šæ¥è¶Šå¤šçš„<strong>QualifiedTypeIdentifiers</strong> ã€‚ è¿™æ˜¯æˆ‘ä»¬å¿…é¡»åœ¨ä½¿ç”¨è§£æå™¨çš„æ‰€é€‰æ–¹æ³•çš„æ¡†æ¶ä¸­è§£å†³çš„å¦ä¸€é¡¹ä»»åŠ¡ã€‚ </p><br><p> ä½†æ˜¯æˆ‘è¿˜æ²¡æœ‰è¾¾åˆ°è¾“å…¥ç±»å‹çš„è§£æåº¦ï¼ å‡å®šé»˜è®¤æƒ…å†µä¸‹è§£æå™¨å’ŒASTæä¾›æœ‰å…³æºæ–‡æœ¬çš„ä¿¡æ¯é‡æœ‰é™ï¼Œåˆ™è¦å°†æ­¤ä¿¡æ¯æ·»åŠ åˆ°æœ€ç»ˆæ ‘ä¸­ï¼Œå¿…é¡»è§£ææ‰€æœ‰å¯¼å…¥çš„æ–‡ä»¶ã€‚ ä½†æ˜¯æ¯ä¸ªè¿™æ ·çš„æ–‡ä»¶éƒ½å¯ä»¥æœ‰è‡ªå·±çš„å¯¼å…¥ï¼ </p><br><p> ä¼¼ä¹åœ¨è§£æå™¨çš„å¸®åŠ©ä¸‹è§£å†³ä»»åŠ¡ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å¤ªå¤šçš„ä»£ç â€¦â€¦è®©æˆ‘ä»¬é€€åä¸€æ­¥ï¼Œå†ä¸‰è€ƒè™‘ã€‚ </p><br><p> å¯¼å…¥å¯¹æˆ‘ä»¬å¹¶ä¸é‡è¦ï¼Œå°±åƒæ–‡ä»¶ç»“æ„ä¸é‡è¦ä¸€æ ·ã€‚ æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿå¯ç”¨<code>protos.user.User</code>ç±»å‹çš„æ‰€æœ‰å±æ€§å¹¶åµŒå…¥å®ƒä»¬ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¯¼å…¥å¼•ç”¨ã€‚ åœ¨å“ªé‡Œè·å¾—åˆ›å»ºæ–°æ–‡ä»¶æ‰€éœ€çš„ç±»å‹ä¿¡æ¯ï¼Ÿ </p><br><h1 id="typechecker"> ç±»å‹æ£€æŸ¥å™¨ </h1><br><p> ç”±äºæˆ‘ä»¬å‘ç°è§£æå™¨çš„è§£å†³æ–¹æ¡ˆä¸é€‚åˆè·å–æœ‰å…³å¯¼å…¥æ¥å£ç±»å‹çš„ä¿¡æ¯ï¼Œå› æ­¤è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹TypeScript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œ</a>å¹¶å°è¯•å¯»æ‰¾å¦ä¸€ç§å‡ºè·¯ã€‚ </p><br><p> è¿™æ˜¯ç«‹å³æƒ³åˆ°çš„ï¼š </p><br><blockquote>  TypeCheckeræ˜¯TypeScriptç±»å‹ç³»ç»Ÿçš„åŸºç¡€ï¼Œå¯ä»¥ä»Programå®ä¾‹åˆ›å»ºå®ƒã€‚ ä»–è´Ÿè´£å„ç§æ–‡ä»¶ä¸­å­—ç¬¦ä¹‹é—´çš„äº¤äº’ï¼Œè®¾ç½®å­—ç¬¦ç±»å‹å¹¶è¿›è¡Œè¯­ä¹‰éªŒè¯ï¼ˆä¾‹å¦‚ï¼Œé”™è¯¯æ£€æµ‹ï¼‰ã€‚ <br>  TypeCheckerè¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å°†æ¥è‡ªä¸åŒæºæ–‡ä»¶çš„æ‰€æœ‰å­—ç¬¦æ”¶é›†åˆ°ä¸€ä¸ªè§†å›¾ä¸­ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå­—ç¬¦è¡¨ï¼Œåˆå¹¶ç›¸åŒçš„å­—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œåœ¨å‡ ä¸ªä¸åŒæ–‡ä»¶ä¸­æ‰¾åˆ°çš„åç§°ç©ºé—´ï¼‰ã€‚ <br> åˆå§‹åŒ–åˆå§‹çŠ¶æ€åï¼ŒTypeCheckerå‡†å¤‡æä¾›æœ‰å…³ç¨‹åºçš„ä»»ä½•é—®é¢˜çš„ç­”æ¡ˆã€‚ è¿™äº›é—®é¢˜å¯èƒ½åŒ…æ‹¬ï¼š <br> å“ªä¸ªç¬¦å·å¯¹åº”äºæ­¤èŠ‚ç‚¹ï¼Ÿ <br> è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„ç¬¦å·ï¼Ÿ <br> åœ¨ASTçš„æ­¤éƒ¨åˆ†ä¸­å¯ä»¥çœ‹åˆ°å“ªäº›å­—ç¬¦ï¼Ÿ <br> å“ªäº›ç­¾åå¯ç”¨äºå£°æ˜åŠŸèƒ½ï¼Ÿ <br> è¯¥æ–‡ä»¶åº”è¾“å‡ºä»€ä¹ˆé”™è¯¯ï¼Ÿ </blockquote><p>  <strong>TypeChecker</strong>æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼ å¯ä»¥è®¿é—®ç¬¦å·è¡¨å’ŒAPIï¼Œæˆ‘ä»¬å¯ä»¥å›ç­”å‰ä¸¤ä¸ªé—®é¢˜ï¼š <em>è¯¥èŠ‚ç‚¹å¯¹åº”ä»€ä¹ˆç¬¦å·ï¼Ÿ</em>  <em>è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„ç¬¦å·ï¼Ÿ</em> é€šè¿‡åˆå¹¶æ‰€æœ‰å¸¸è§å­—ç¬¦ï¼Œ <strong>TypeChecker</strong>ç”šè‡³å¯ä»¥è§£å†³åç§°ç©ºé—´å †ç§¯çš„é—®é¢˜ï¼Œè¿™åœ¨å‰é¢å·²ç»æåˆ°è¿‡ï¼ </p><br><p> é‚£ä¹ˆæ‚¨å¦‚ä½•è·å¾—æ­¤APIï¼Ÿ </p><br><p> è¿™æ˜¯æˆ‘å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€ä¸ª</a>ç¤ºä¾‹ã€‚ å®ƒæ˜¾ç¤ºå¯ä»¥é€šè¿‡Programå®ä¾‹æ–¹æ³•è®¿é—®<strong>TypeChecker</strong> ã€‚ å®ƒæœ‰ä¸¤ä¸ªæœ‰è¶£çš„æ–¹æ³•<code>checker.getSymbolAtLocation</code>å’Œ<code>checker.getTypeOfSymbolAtLocation</code> ï¼Œå®ƒä»¬çœ‹èµ·æ¥ä¸æˆ‘ä»¬æ‰€å¯»æ‰¾çš„éå¸¸ç›¸ä¼¼ã€‚ </p><br><p> è®©æˆ‘ä»¬å¼€å§‹ç¼–å†™ä»£ç ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">æ¨¡å‹</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { protos } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./my_company_protos'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> type User = protos.user.User;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">my_company_protos.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> namespace protos { <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> namespace user { <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface User { <span class="hljs-attr"><span class="hljs-attr">username</span></span>: string; info: protos.Info.User; } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> namespace Info { <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface User { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: protos.Info.Name; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface Name { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: string; lastName: string; } } }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">ts-alias.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ts <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"typescript"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// hardcode our input file const filePath = "./src/models.ts"; // create a program instance, which is a collection of source files // in this case we only have one source file const program = ts.createProgram([filePath], {}); // pull off the typechecker instance from our program const checker = program.getTypeChecker(); // get our models.ts source file AST const source = program.getSourceFile(filePath); // create TS printer instance which gives us utilities to pretty print our final AST const printer = ts.createPrinter(); // helper to give us Node string type given kind const syntaxToKind = (kind: ts.Node["kind"]) =&gt; { return ts.SyntaxKind[kind]; }; // visit each node in the root AST and log its kind ts.forEachChild(source, node =&gt; { console.log(syntaxToKind(node.kind)); });</span></span></code> </pre> </div></div><br><pre> <code class="bash hljs">$ ts-node ./src/ts-alias.ts prints ImportDeclaration TypeAliasDeclaration EndOfFileToken</code> </pre> <br><p> æˆ‘ä»¬åªå¯¹å£°æ˜ç±»å‹åˆ«åæ„Ÿå…´è¶£ï¼Œå› æ­¤æˆ‘ä»¬å°†ä»£ç é‡å†™ä¸€ä¸‹ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">kind-printer.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs">ts.forEachChild(source, node =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ts.isTypeAliasDeclaration(node)) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(node.kind); } }) <span class="hljs-comment"><span class="hljs-comment">// prints TypeAliasDeclaration</span></span></code> </pre> </div></div><br><p>  TypeScriptä¸ºæ¯ç§ç±»å‹çš„èŠ‚ç‚¹æä¾›ä¿æŠ¤ï¼Œé€šè¿‡å®ƒå¯ä»¥æ‰¾åˆ°ç¡®åˆ‡çš„èŠ‚ç‚¹ç±»å‹ï¼š </p><br><p><img src="https://habrastorage.org/webt/rb/gk/oa/rbgkoakkvmpvkyiparz1wmuiohi.png"></p><br><p> ç°åœ¨å›åˆ°å‰é¢æå‡ºçš„ä¸¤ä¸ªé—®é¢˜ï¼š <em>å“ªä¸ªç¬¦å·å¯¹åº”äºæ­¤èŠ‚ç‚¹ï¼Ÿ</em>  <em>è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„ç¬¦å·ï¼Ÿ</em> </p><br><p> å› æ­¤ï¼Œé€šè¿‡ä¸<strong>TypeChecker</strong>å­—ç¬¦<strong>è¡¨</strong>è¿›è¡Œäº¤äº’ï¼Œæˆ‘ä»¬è·å¾—äº†ç”±ç±»å‹åˆ«åæ¥å£å£°æ˜è¾“å…¥çš„åç§°ã€‚ å°½ç®¡æˆ‘ä»¬ä»å¤„äºæ—…ç¨‹çš„å¼€å§‹ï¼Œä½†æ˜¯ä»<em>å†…çœ</em>çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">checker-example.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs">ts.forEachChild(source, node =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ts.isTypeAliasDeclaration(node)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> symbol = checker.getSymbolAtLocation(node.name); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> type = checker.getDeclaredTypeOfSymbol(symbol); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> properties = checker.getPropertiesOfType(type); properties.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">declaration</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(declaration.name); <span class="hljs-comment"><span class="hljs-comment">// prints username, info }); } });</span></span></code> </pre> </div></div><br><p> ç°åœ¨è®©æˆ‘ä»¬è€ƒè™‘<em>ä»£ç ç”Ÿæˆ</em> ã€‚ </p><br><h1 id="api-transformacii"> è½¬æ¢API </h1><br><p> å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è§£æå’Œå†…çœTypeScriptæºæ–‡ä»¶å¹¶åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚  <em>AST-&gt; AST</em>è½¬æ¢éå¸¸å¸¸ç”¨ï¼ŒTypeScriptå›¢é˜Ÿç”šè‡³æƒ³åˆ°äº†ç”¨äºåˆ›å»º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è‡ªå®šä¹‰è½¬æ¢å™¨</a>çš„APIï¼ </p><br><p> åœ¨ç»§ç»­æ‰§è¡Œä¸»è¦ä»»åŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬å°†å°è¯•åˆ›å»ºä¸€ä¸ªç®€å•çš„è½¬æ¢å™¨ã€‚ ç‰¹åˆ«æ„Ÿè°¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">James Garbutt</a>ä¸ºä»–å‡†å¤‡çš„åŸå§‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¨¡æ¿</a> ã€‚ </p><br><p> è®©æˆ‘ä»¬ä½¿è½¬æ¢å™¨å°†æ•°å­—æ–‡å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">æ•°å­—è½¬æ¢å™¨</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> source = <span class="hljs-string"><span class="hljs-string">` const two = 2; const four = 4; `</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">numberTransformer</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extends</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ts</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Node</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ts</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TransformerFactory</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">context</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> visit: ts.Visitor = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ts.isNumericLiteral(node)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts.createStringLiteral(node.text); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts.visitEachChild(node, child =&gt; visit(child), context); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node</span></span></span><span class="hljs-function"> =&gt;</span></span> ts.visitNode(node, visit); }; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result = ts.transpileModule(source, { <span class="hljs-attr"><span class="hljs-attr">compilerOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">module</span></span>: ts.ModuleKind.CommonJS }, <span class="hljs-attr"><span class="hljs-attr">transformers</span></span>: { <span class="hljs-attr"><span class="hljs-attr">before</span></span>: [numberTransformer()] } }); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(result.outputText); <span class="hljs-comment"><span class="hljs-comment">/* var two = "2"; var four = "4";</span></span></code> </pre></div></div><br><p> å…¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯<code>Visitor</code>å’Œ<code>VisitorResult</code> ï¼š </p><br><pre> <code class="javascript hljs">type Visitor = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node: Node</span></span></span><span class="hljs-function">) =&gt;</span></span> VisitResult&lt;Node&gt;; type VisitResult&lt;T extends Node&gt; = T | T[] | <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>;</code> </pre> <br><p> åˆ›å»ºè½¬æ¢å™¨çš„ä¸»è¦ç›®çš„æ˜¯ç¼–å†™<strong>Visitor</strong> ã€‚ ä»é€»è¾‘ä¸Šè®²ï¼Œæœ‰å¿…è¦å®ç°æ¯ä¸ªASTèŠ‚ç‚¹çš„é€’å½’éå†å¹¶è¿”å›VisitResultç»“æœï¼ˆä¸€ä¸ªï¼Œå‡ ä¸ªæˆ–é›¶ä¸ªASTèŠ‚ç‚¹ï¼‰ã€‚ æ‚¨å¯ä»¥é…ç½®é€†å˜å™¨ï¼Œä»¥ä¾¿åªæœ‰é€‰å®šçš„èŠ‚ç‚¹æ‰èƒ½å“åº”æ›´æ”¹ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">è¾“å…¥è¾“å‡º</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// input export namespace protos { // ModuleDeclaration export namespace user { // ModuleDeclaration // Module Block export interface User { // InterfaceDeclaration username: string; // username: string is PropertySignature info: protos.Info.User; // TypeReference } } export namespace Info { export interface User { name: protos.Info.Name; // TypeReference } export interface Name { firstName: string; lastName: string; } } } // this line is a TypeAliasDeclaration export type User = protos.user.User; // protos.user.User is a TypeReference // output export interface User { username: string; info: { // info: { .. } is a TypeLiteral name: { // name: { .. } is a TypeLiteral firstName: string; lastName: string; } } }</span></span></code> </pre> </div></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨è¿™é‡Œï¼Œ</a>æ‚¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å°†ä½¿ç”¨çš„èŠ‚ç‚¹ã€‚ </p><br><p> è®¿å®¢å¿…é¡»æ‰§è¡Œä¸¤ä¸ªä¸»è¦æ“ä½œï¼š </p><br><ol><li> ç”¨<strong>InterfaceDeclarations</strong>æ›¿æ¢<strong>TypeAliasDeclarations</strong> </li><li> å°†<strong>TypeReferences</strong>è½¬æ¢ä¸º<strong>TypeLiterals</strong> </li></ol><br><h1 id="reshenie"> è§£å†³æ–¹æ¡ˆ </h1><br><p> è®¿å®¢ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><div class="spoiler">  <b class="spoiler_title">aliasTransformer.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> path <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'path'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ts <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'typescript'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fs <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'fs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> filePath = path.resolve(_.first(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>))); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> program = ts.createProgram([filePath], {}); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> checker = program.getTypeChecker(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> source = program.getSourceFile(filePath); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> printer = ts.createPrinter(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> typeAliasToInterfaceTransformer: ts.TransformerFactory&lt;ts.SourceFile&gt; = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">context</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> visit: ts.Visitor = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node</span></span></span><span class="hljs-function"> =&gt;</span></span> { node = ts.visitEachChild(node, visit, context); <span class="hljs-comment"><span class="hljs-comment">/* Convert type references to type literals interface IUser { username: string } type User = IUser &lt;--- IUser is a type reference interface Context { user: User &lt;--- User is a type reference } In both cases we want to convert the type reference to it's primitive literals. We want: interface IUser { username: string } type User = { username: string } interface Context { user: { username: string } } */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ts.isTypeReferenceNode(node)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> symbol = checker.getSymbolAtLocation(node.typeName); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> type = checker.getDeclaredTypeOfSymbol(symbol); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> declarations = _.flatMap(checker.getPropertiesOfType(type), property =&gt; { <span class="hljs-comment"><span class="hljs-comment">/* Type references declarations may themselves have type references, so we need to resolve those literals as well */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.map(property.declarations, visit); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts.createTypeLiteralNode(declarations.filter(ts.isTypeElement)); } <span class="hljs-comment"><span class="hljs-comment">/* Convert type alias to interface declaration interface IUser { username: string } type User = IUser We want to remove all type aliases interface IUser { username: string } interface User { username: string &lt;-- Also need to resolve IUser } */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ts.isTypeAliasDeclaration(node)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> symbol = checker.getSymbolAtLocation(node.name); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> type = checker.getDeclaredTypeOfSymbol(symbol); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> declarations = _.flatMap(checker.getPropertiesOfType(type), property =&gt; { <span class="hljs-comment"><span class="hljs-comment">// Resolve type alias to it's literals return _.map(property.declarations, visit); }); // Create interface with fully resolved types return ts.createInterfaceDeclaration( [], [ts.createToken(ts.SyntaxKind.ExportKeyword)], node.name.getText(), [], [], declarations.filter(ts.isTypeElement) ); } // Remove all export declarations if (ts.isImportDeclaration(node)) { return null; } return node; }; return node =&gt; ts.visitNode(node, visit); }; // Run source file through our transformer const result = ts.transform(source, [typeAliasToInterfaceTransformer]); // Create our output folder const outputDir = path.resolve(__dirname, '../generated'); if (!fs.existsSync(outputDir)) { fs.mkdirSync(outputDir); } // Write pretty printed transformed typescript to output directory fs.writeFileSync( path.resolve(__dirname, '../generated/models.ts'), printer.printFile(_.first(result.transformed)) );</span></span></code> </pre> </div></div><br><p> æˆ‘å–œæ¬¢æˆ‘çš„è§£å†³æ–¹æ¡ˆã€‚ å®ƒä½“ç°äº†è‰¯å¥½çš„æŠ½è±¡ï¼Œå¼ºå¤§çš„ç¼–è¯‘å™¨ï¼Œæœ‰ç”¨çš„å¼€å‘å·¥å…·ï¼ˆè‡ªåŠ¨å®ŒæˆVSCodeï¼ŒASTèµ„æºç®¡ç†å™¨ç­‰ï¼‰çš„åŠ›é‡ä»¥åŠå…¶ä»–ç†Ÿç»ƒå¼€å‘äººå‘˜çš„ä¸°å¯Œç»éªŒã€‚ å®ƒçš„å®Œæ•´æºä»£ç ä»¥åŠæ›´æ–°å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚ é™¤äº†æˆ‘çš„ç§äººæƒ…å†µï¼Œæˆ‘ä¸ç¡®å®šè¿™å¯¹æ›´ä¸€èˆ¬çš„æƒ…å†µä¼šæœ‰å¤šå¤§ç”¨å¤„ã€‚ æˆ‘åªæ˜¯æƒ³å±•ç¤ºTypeScriptç¼–è¯‘å™¨å·¥å…·åŒ…çš„åŠŸèƒ½ï¼Œå¹¶æŠŠæˆ‘çš„æƒ³æ³•å†™åœ¨çº¸ä¸Šï¼Œä»¥è§£å†³å›°æ‰°æˆ‘å¾ˆé•¿æ—¶é—´çš„éæ ‡å‡†é—®é¢˜ã€‚ </p><br><p> æˆ‘å¸Œæœ›æˆ‘çš„æ¦œæ ·å¯ä»¥å¸®åŠ©æŸäººç®€åŒ–ç”Ÿæ´»ã€‚ å¦‚æœæ‚¨æ²¡æœ‰å®Œå…¨ç†è§£ASTï¼Œç¼–è¯‘å™¨å’Œè½¬æ¢çš„ä¸»é¢˜ï¼Œè¯·è®¿é—®æˆ‘æä¾›çš„ç¬¬ä¸‰æ–¹èµ„æºå’Œæ¨¡æ¿çš„é“¾æ¥ï¼Œå®ƒä»¬å°†ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚ ä¸ºäº†æœ€ç»ˆæ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä¸å¾—ä¸èŠ±è´¹å¤§é‡æ—¶é—´ç ”ç©¶æ­¤ä¿¡æ¯ã€‚ æˆ‘ç¬¬ä¸€æ¬¡å°è¯•ä½¿ç”¨ç§æœ‰çš„Githubå­˜å‚¨åº“ï¼ŒåŒ…æ‹¬45 <code>// @ts-ignores</code>å’Œassert sï¼Œä½¿æˆ‘æ„Ÿåˆ°ç¾è€»ã€‚ </p><br><h1 id="resursy-kotorye-mne-pomogli"> å¯¹æˆ‘æœ‰å¸®åŠ©çš„èµ„æºï¼š </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Microsoft / TypeScript</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ›å»ºä¸€ä¸ªTypeScriptå˜å½¢é‡‘åˆš</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é‡è®¿TypeScriptç¼–è¯‘å™¨API</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ASTæµè§ˆå™¨</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN457770/">https://habr.com/ru/post/zh-CN457770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN457760/index.html">å¦‚ä½•ä½¿å®¹å™¨æ›´åŠ å­¤ç«‹ï¼šå®¹å™¨æ²™ç®±æŠ€æœ¯çš„å›é¡¾</a></li>
<li><a href="../zh-CN457762/index.html">CCDæ ‡å°ºï¼šå¯ä»¥åƒä»€ä¹ˆ</a></li>
<li><a href="../zh-CN457764/index.html">å¹´è½»POçš„10ä¸ªé”™è¯¯ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN457766/index.html">æˆ‘ä»¬ç”Ÿæˆå›¾å—çº§åˆ«å¹¶å‘ç©å®¶éšè—æ–¹å—</a></li>
<li><a href="../zh-CN457768/index.html">æˆ‘å¦‚ä½•å˜å¾—è„†å¼±ï¼šä½¿ç”¨Qualysæ‰«æITåŸºç¡€æ¶æ„</a></li>
<li><a href="../zh-CN457774/index.html">åœ¨ä¸­åœŸä¸–ç•Œå­¦ä¹ ä½œä¸ºç§äººé£è¡Œå‘˜ï¼šåœ¨æ–°è¥¿å…°çš„æ‘åº„ä¸­ç”Ÿæ´»å’Œå±…ä½</a></li>
<li><a href="../zh-CN457776/index.html">æ€§èƒ½ä¸ä½³çš„åœ°é›·æ­£åœ¨ç­‰å¾…ä¸­ï¼šç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN457784/index.html">è‡ªå®šä¹‰çœ¼åŠ¨ä»ªæ ¡å‡†</a></li>
<li><a href="../zh-CN457786/index.html">æ›´æ–°äº†Anet A8 Plusã€‚ å¤§å‹å’Œé‡‘å±</a></li>
<li><a href="../zh-CN457790/index.html">BuratinoPhoneæ‰‹æœº</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>