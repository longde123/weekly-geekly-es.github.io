<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìº ü•û ü§≤üèΩ Sammlermotor + Digispark = $ 50 Elektrofahrrad üëÜ üßõüèº üïì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Idee von E-LED nervt mich seit einem Dutzend Jahren, ich habe es gerade erst realisiert! 


 Spoiler 


 Der angegebene Betrag sind Mittel f√ºr die...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sammlermotor + Digispark = $ 50 Elektrofahrrad</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415497/"><p><img src="https://habrastorage.org/getpro/habr/post_images/ad8/405/6ef/ad84056effdda1847397c99228ad1bbb.jpg" alt="Alles geh√∂rt gerade erst an."></p><br><p>  Die Idee von E-LED nervt mich seit einem Dutzend Jahren, ich habe es gerade erst realisiert! </p><br><p>  <strong>Spoiler</strong> </p><br><p> Der angegebene Betrag sind Mittel f√ºr die Motorisierung eines normalen Fahrrads, einschlie√ülich Batterien. </p><br><p>  Die Aufgabe besteht darin, die Geschwindigkeit auf einem horizontalen Asphaltabschnitt von 20 km / h aufrechtzuerhalten und in anderen F√§llen zu helfen. </p><br><p>  Gangreserve - ~ 30 Minuten </p><a name="habracut"></a><br><p>  <strong>Fangen wir an</strong> </p><br><p>  Zun√§chst werde ich erkl√§ren, warum 50 US-Dollar - die Grenze der Kosten f√ºr hausgemachte Arbeit - der Preis einer chinesischen Kettens√§ge sind, an der man mit einem Motor basteln kann, und 200 US-Dollar bereits ein Honda Dio27. </p><br><p>  <strong>Die Einf√ºhrung war wie folgt:</strong> </p><br><ol><li>  Auf einer horizontalen Asphaltstrecke verbraucht ein Radfahrer 100 W, um eine Geschwindigkeit von 20 km / h aufrechtzuerhalten. </li><li>  Beim Beschleunigen / Anheben wird nur kurzzeitig viel Leistung ben√∂tigt. </li><li>  Die Spannung einer Bleibatterie (12 V) unter Last f√§llt in E-Wellen bis zu 10 V drastisch ab (und die Leistung ist proportional zum Quadrat der Spannung - sie halbiert sich (gegen√ºber 14 V!). </li></ol><br><p>  <strong>Das hei√üt, f√ºr normales Radfahren reicht die vom Motor abgegebene Nennleistung von nominal 100 W - Sie m√ºssen nur den Spannungsabfall beseitigen!</strong> </p><br><p>  <strong>Dies wird durch PWM-Steuerung eines 12-Volt-Motors aus einer 24-V-Batterie implementiert, und es wird m√∂glich, einen Kurzzeitnachbrenner zu implementieren.</strong> </p><br><p>  Infolgedessen wurde der K√ºhler-K√ºhlermotor von General Motors (Daewoo AKA Opel Kadett) mit ~ 150 W aufgenommen (Verbrauch - die Leistung betr√§gt nur √ºber 100 W und es gibt) -13 $. </p><br><p>  Die beiden beliebtesten Batterien f√ºr unterbrechungsfreie Stromversorgungen sind AGM, 12 Volt, jeweils 7 Amperestunden, f√ºr 10 US-Dollar. </p><br><p>  Wenn Sie den Digispark-Preis nehmen - 2 $ </p><br><p>  Im Allgemeinen plus 1 USD - Transistoren (2 St√ºck - IRLZ44NPBF) - Ich habe 36 USD erhalten, aber sagen wir, jemand hat kein Sperrholz, keine Patrone aus einem alten Bohrer und Kupferdr√§hte mit einem Querschnitt von 2,5 Quadratmetern. </p><br><p>  All dies wird auf dem "Flohmarkt" gekauft, und Sie k√∂nnen andere Komponenten verwenden - Motor, Batterien. </p><br><p>  Ich habe mir selbst versprochen, dass zu Beginn des Sommers alles gehen w√ºrde - aber ich hatte keine Zeit, ich bin ausgeflippt - und trotzdem ging es! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f0e/b2e/c78/f0eb2ec78f82e446ab547efd24787089.jpg" alt="E-LED auf Kr√ºcken"></p><br><p>  Auch ohne Steuerung werden die Batterien zun√§chst mit einem Strom von jeweils ~ 7,5% - 0,5 A aufgeladen, parallelisiert und √ºber einen herk√∂mmlichen Schalter mit dem Motor verbunden. </p><br><p>  Ja, ja, ich wei√ü - heftig <del>  Kollektivfarm </del>  , aber du musstest irgendwo anfangen, und du kannst es endlos beenden und k√§mmen. </p><br><p>  Die Basis ist das get√∂tete Auchanbike auf 24 "R√§dern (es wird Kama / Desna / Salute geben), na ja, oder die R√§der von ihnen auf diesem Rahmen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e39/25a/98a/e3925a98a5147272a38e191509451493.jpg" alt="Plastikbinder - sie regieren!"></p><br><p>  Blaues Isolierband - UNSER ALLES (nat√ºrlich √ºberhaupt nicht gleich)! </p><br><p>  Er versiegelte die Bel√ºftungsl√∂cher und hatte Recht - der Staub sitzt eine Schicht dick auf dem Motor! </p><br><p>  Die Motorhalterung besteht aus Delta-Holz (Bakelit-Sperrholz) und einer Metallkonstruktionsecke. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0fb/12f/26c/0fb12f26c06ad66436e62c8fff87e8b6.jpg" alt="Schnell, g√ºnstig und fr√∂hlich"></p><br><p>  Fahren Sie - direkt zum Reifen. </p><br><p>  Bei einer Drehzahl unter einer Last von 2400 U / min sollte der Durchmesser der Walze f√ºr 20 km / h ~ 40 mm betragen (gew√∂hnlicher Patronenbohrer).  Aber - das Dorf, die Grundierung, war auf zwanzig Millimeter begrenzt.  Ja, und in dieser Version, selbst am Boden, bei gehaltener Geschwindigkeit (~ 10 km / h), ist von Beschleunigung keine Rede. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/23c/af6/ab2/23caf6ab2debdf72172e12fafb987369.jpg" alt="Das bedeutet Direktantrieb und nicht Ihre Motorr√§der!"></p><br><p>  <strong>Im Allgemeinen zeigte der Testlauf der ersten zehn Kilometer die ERSTE Notwendigkeit, die Motorleistung mindestens auf den Nennwert zu erh√∂hen.</strong> </p><br><p>  Ich spreche nicht von der √úbertragungseffizienz auf den Reifen - 70% im Sprung. </p><br><p>  Also das Anschlussdiagramm des Digispark-Controllers (m√∂ge der Leser mir verzeihen, dass ich mit einem Bleistift auf Papier gezeichnet habe). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b53/42a/7c5/b5342a7c59b1df1e44001498bebe2b90.jpg" alt="Ich wei√ü, Visualisierung - alte Schule"></p><br><p><del>  Ich kann mir vorstellen, was f√ºr ein Kampf auf dem Rosinenhut los ist </del>  Ja, ja, ja - ich wei√ü, dass ich keine Pull-up-Widerst√§nde an den Tasten angebracht habe. <del>  Es gab D√§monen </del>  Widerst√§nde, aber sie zerst√∂ren sich selbst) </p><br><p>  Tatsache ist, dass, wie sich herausstellte, nicht alle Digispark-Eingaben eine logische Null akzeptieren, die anderen beziehen sich auch auf eine logische Einheit. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/524/e3f/448/524e3f448d2ac1ef39bd89eeb1ec9a33.jpg" alt="Alles ist nicht so wie sie malen"></p><br><p>  Schematisch ist alles einfach - digitale E / A-Pins - beliebig, eine logische 0 am 5. setzt den Controller zur√ºck.  Die Realit√§t stellte sich als viel verwirrender heraus - ich musste sie durch Tippen aufgreifen - am Ende biss ich die Pull-up-Widerst√§nde heraus, die angeschlossen waren, damit es funktionierte. </p><br><p>  Um das Ger√§t zu implementieren, habe ich ein St√ºck des Steckbretts 10x18 L√∂cher (3x5cm) ges√§gt. </p><br><p>  Ben√∂tigte noch zwei Tasten f√ºr drei Modi: </p><br><ol><li>  Taste 1 wird gedr√ºckt - Modus entsprechend 12V - 100% - Antrieb, bis die Batterien schwach sind. </li><li>  Die Taste 2 - 15V - 156% wird gedr√ºckt - im Prinzip befindet sich eine solche Spannung im Bordnetz des Fahrzeugs, es ist jedoch besser, sie nicht l√§nger als 15 Minuten zu verwenden. </li><li>  Zwei Kn√∂pfe gleichzeitig - FORCING!  256% - von einer Ampel / von einem w√ºtenden Hund ruckeln, bergauf, zeitlos - besser (sonst sind verbrannte Wicklungen garantiert). </li></ol><br><p>  Letzteres wurde noch nicht implementiert - ich habe Angst vor Kollektorb√ºrsten und Wicklungen - sie werden im 1-Modus sogar √ºberstrom. </p><br><p>  Der Rest sind Widerst√§nde - 2 St√ºck - 10 K (Nullhub an Transistorgates). <br>  3K und 330R - Spannungsteiler zum Analogeingang P2 (bei einem Abfall auf 18 V wird die Last abgeschaltet). <br>  2x100R - Steuerbegrenzungstransistoren mit PWM-Ausgang P0. </p><br><p>  Und schlie√ülich ist der 330R auf Vin der Strombegrenzer des Digispark-Spannungsreglers (um den Spannungsregler nicht zu verbrennen). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/924/b7b/bb8/924b7bbb88168724827b2294e62ac7c4.jpg" alt="So sieht es im Leben aus"></p><br><p>  Im Allgemeinen sah in der Hardware alles wie folgt aus - ich habe Leistungstransistoren an einem K√ºhler von einem Prozessor 70x60x40mm montiert. </p><br><p>  Der Abfluss des IRLZ44 ist mit der K√ºhlk√∂rperplatte verbunden. Um die Notwendigkeit zu beseitigen, die Beine in der N√§he zu isolieren, wurde hier der Motor angeschlossen (braunes Kabel). </p><br><p>  Ein paar Worte zu Transistoren - Feld, 5. Generation, mit einer internen Sperrdiode (es ist wichtig, eine induktive Last anzuschlie√üen, wie zum Beispiel: Motor). </p><br><p>  Der maximale Strom betr√§gt 47 A, die Spannung betr√§gt 55 V, Rds (bei 5 V am Gate und Strom 25 A) betr√§gt 0,025 Ohm. </p><br><p>  Sie k√∂nnen jedes andere starke Feld mit geringem √úbergangswiderstand w√§hlen. </p><br><p>  Um den Steuertreiber nicht verwenden zu k√∂nnen, MUSS er au√üerdem √ºber eine logische Ebenensteuerung verf√ºgen (L im Namen). </p><br><p>  Warum gibt es zwei?  Die Nennkennlinien des gleichen Widerstands sind f√ºr 25 Grad Celsius und Str√∂me bei 20-25 A angegeben, bei Erw√§rmung und gr√∂√üerem Strom ist dies schlechter. </p><br><p>  Und ja, logisch 1 ist nicht immer genau 5 Volt, der 4V-Transistor selbst ist am Gate nicht offen, Rds betr√§gt bereits 0,035 Ohm bei einem Strom von 21A. </p><br><p>  Die Versorgung sollte mindestens doppelt so hoch sein - und durch den Motor, der bis zu 14 Ampere bei 12 Volt ben√∂tigt, k√∂nnen 28 A durch 24 V flie√üen! </p><br><p>  Au√üerdem habe ich ungef√§hr ein Dutzend davon auf Lager - es ist besser, ein Paar sofort zu platzieren, als eines nach dem anderen zu l√∂ten. </p><br><p>  Ich habe v√∂llig vergessen, Digispark ist an meine Anschl√ºsse (PBS PBD) angeschlossen. </p><br><p>  <strong>Nun eine Skizze:</strong> </p><br><pre><code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/  Digispark (Attiny85) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ -    byte voltage1=0; byte pwm0=0; void setup() { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  MOSFET pinMode(0, OUTPUT); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       pinMode(2, INPUT); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      pinMode(1, INPUT); pinMode(3, INPUT); } void loop() { analogWrite(0,0); delay(1); voltage1 = analogRead(1)*62/</span></span><span class="hljs-number"><span class="hljs-number">1023</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    -    <span class="hljs-number"><span class="hljs-number">18</span></span> -    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( voltage1&lt;<span class="hljs-number"><span class="hljs-number">18</span></span> ) { goto lowvoltage1; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( digitalRead(<span class="hljs-number"><span class="hljs-number">3</span></span>) ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( digitalRead(<span class="hljs-number"><span class="hljs-number">1</span></span>) ) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       -   <span class="hljs-number"><span class="hljs-number">12</span></span> pwm<span class="hljs-number"><span class="hljs-number">0</span></span>=(<span class="hljs-number"><span class="hljs-number">12</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span>/voltage1^<span class="hljs-number"><span class="hljs-number">2</span></span>)*<span class="hljs-number"><span class="hljs-number">255</span></span>; analogWrite(<span class="hljs-number"><span class="hljs-number">0</span></span>,pwm<span class="hljs-number"><span class="hljs-number">0</span></span>); delay(<span class="hljs-number"><span class="hljs-number">100</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       -   <span class="hljs-number"><span class="hljs-number">15</span></span> pwm<span class="hljs-number"><span class="hljs-number">0</span></span>=(<span class="hljs-number"><span class="hljs-number">15</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span>/voltage1^<span class="hljs-number"><span class="hljs-number">2</span></span>)*<span class="hljs-number"><span class="hljs-number">255</span></span>; analogWrite(<span class="hljs-number"><span class="hljs-number">0</span></span>,pwm<span class="hljs-number"><span class="hljs-number">0</span></span>); delay(<span class="hljs-number"><span class="hljs-number">100</span></span>); } <span class="hljs-symbol"><span class="hljs-symbol">lowvoltage1:</span></span> ; }</code> </pre> <br><p>  <strong>Was kann an der Schaltung und den Komponenten ge√§ndert werden?</strong> </p><br><ol><li><p>  Motor - urspr√ºnglich f√ºr den ME-272 (VAZ) vorgesehen, aber der koreanische war g√ºnstiger. Wenn Sie den Motor auseinander nehmen, k√∂nnen Sie zus√§tzliche Batterien sparen. </p><br></li><li><p>  Batterien - in Bezug auf das Preis-Leistungs-Verh√§ltnis (in Amperestunden) 12 Volt bei 7A-h - sind optimal, 2 Batterien bei 10A-h kosten vier F√úNF Sieben!  Wenn Sie die Kilometerleistung erh√∂hen m√ºssen, verbinden Sie sie paarweise parallel!  Und ja - kein Gel - nur Hauptversammlung! </p><br></li></ol><br><p>  <strong>Impressionen</strong> </p><br><p>  Ein Testlauf des ersten Kilometers in einem st√§rkeren Modus zeigte, dass keine Motor√ºberhitzung (bis zu 40 Grad Celsius) und ein leicht warmer Transistork√ºhler vorhanden sind - dies bedeutet, dass die Schaltung ordnungsgem√§√ü funktioniert. </p><br><p>  In Ruhe - Verbrauch - 30mA - ist reiner Digispark, es gibt keine Lecks durch MOSFET. </p><br><p>  F√ºr den ausgew√§hlten Antriebstyp werden glatte Reifen ben√∂tigt. </p><br><p>  Aber auch in solchen F√§llen macht der Motor viel mehr Spa√ü als direkt aus parallelen Batterien - entlang des Asphaltabschnitts, selbst bei einer "Brise". </p><br><p>  Generell hat sich die Idee der PWM-Regelung eines 12-Volt-Motors aus einer 24-V-Quelle bew√§hrt! </p><br><p>  <em>Andrey war bei dir, bis wir uns wieder auf Habr√© treffen!</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de415497/">https://habr.com/ru/post/de415497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de415483/index.html">7 h√§ufige Fehler beim Vergleich Ihrer Server mit der Cloud</a></li>
<li><a href="../de415485/index.html">Fahren Sie Kingston A1000 - ein Krankenwagen f√ºr den Laptop?</a></li>
<li><a href="../de415487/index.html">Seiten der Intel-Geschichte. Erster Chip, Intel 3101</a></li>
<li><a href="../de415489/index.html">Facebook schlie√üt Projekt zur Verbreitung des Internets mittels Drohnen auf Solarenergie ab</a></li>
<li><a href="../de415493/index.html">Eine neue Berechnung nach der Drake-Formel ergab: Die Menschheit ist in ihrer Galaxie mit einer Wahrscheinlichkeit von 53‚Äì99,6% einsam</a></li>
<li><a href="../de415499/index.html">Wie man aufh√∂rt, Angst vor Proguard zu haben und anf√§ngt zu leben</a></li>
<li><a href="../de415501/index.html">Die virtuelle Halle der Eremitage - Der erste Schritt in die Zukunft von Pelevin</a></li>
<li><a href="../de415503/index.html">NetScaler SD-WAN-Benutzeroberfl√§che</a></li>
<li><a href="../de415509/index.html">Tiefes Lernen in der Programmierung: was, warum und wie</a></li>
<li><a href="../de415529/index.html">Juli IT Events Digest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>