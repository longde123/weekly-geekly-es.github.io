<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è≤Ô∏è üö∂üèΩ üë®üèº‚Äçüéì Formation Cisco 200-125 CCNA v3.0. Jour 38. Protocole EtherChannel pour la couche 2 OSI üèåÔ∏è ‚úñÔ∏è üóëÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous examinons le fonctionnement du protocole d'agr√©gation de liens EtherChannel de couche 2 pour la couche 2 du mod√®le OSI. Ce protocole...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 38. Protocole EtherChannel pour la couche 2 OSI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466427/"> Aujourd'hui, nous examinons le fonctionnement du protocole d'agr√©gation de liens EtherChannel de couche 2 pour la couche 2 du mod√®le OSI.  Ce protocole n'est pas trop diff√©rent du protocole de couche 3, mais avant de commencer √† en savoir plus sur l'EtherChannel de couche 3, je dois vous pr√©senter plusieurs concepts, nous allons donc passer au troisi√®me niveau plus tard.  Nous continuons de suivre le calendrier des cours CCNA, donc aujourd'hui nous allons voir la section 1.5 "Configuration, v√©rification et d√©pannage de la couche 2/3 EtherChannel" et les sous-sections 1.5a "Static EtherChannel", 1.5b "Protocole PAGP" et 1.5c "Norme Open IEEE-LACP" . <br><br><img src="https://habrastorage.org/webt/xb/7i/bl/xb7iblcsfkfg3qg51pr6hkl9k-8.jpeg"><br><br>  Avant de continuer, nous devons comprendre ce qu'est un EtherChannel.  Supposons que nous ayons le commutateur A et le commutateur B, excessivement connect√©s par trois lignes de communication.  Si vous utilisez le protocole STP, deux lignes suppl√©mentaires seront bloqu√©es logiquement pour emp√™cher la formation de boucles. <a name="habracut"></a><br><br>  Supposons que nous ayons des ports FastEthernet qui fournissent une vitesse de trafic de 100 Mbps, donc le d√©bit total est de 3 x 100 = 300 Mbps.  Nous ne laissons qu'un seul canal de communication, √† cause duquel il tombera √† 100 Mbps, c'est-√†-dire que dans ce cas, STP d√©gradera les performances du r√©seau.  De plus, 2 canaux suppl√©mentaires seront inactifs en vain. <br><br>  Pour √©viter cela, le d√©veloppeur KALPANA, la soci√©t√© qui a cr√©√© les commutateurs Cisco Catalist et que Cisco a ensuite achet√©, a d√©velopp√© une technologie appel√©e EtherChannel dans les ann√©es 1990. <br><br><img src="https://habrastorage.org/webt/np/0y/7x/np0y7xshs60ireatpkieqkl0p6u.jpeg"><br><br>  Dans notre cas, cette technologie transforme trois canaux de communication distincts en un canal logique avec un d√©bit de 300 Mbps. <br><br>  Le premier mode de la technologie EtherChannel est le mode manuel ou statique.  Dans ce cas, les commutateurs ne feront rien dans aucune condition de transmission, en se basant sur le fait que tous les r√©glages manuels des param√®tres de fonctionnement sont effectu√©s correctement.  Le canal s'allume et fonctionne simplement, en faisant enti√®rement confiance aux param√®tres de l'administrateur r√©seau. <br><br>  Le deuxi√®me mode est le protocole d'agr√©gation de liens propri√©taire Cisco PAGP; le troisi√®me est le protocole d'agr√©gation de liens LACP standard IEEE. <br><br>  Pour que ces modes fonctionnent, l'EtherChannel doit √™tre disponible.  La version statique de ce protocole est tr√®s facile √† activer: vous devez entrer dans les param√®tres de l'interface du commutateur et entrer la commande de mode de groupe de canaux 1. <br><br>  Si nous avons le commutateur A avec deux interfaces f0 / 1 et f0 / 2, nous devons entrer dans les param√®tres de chaque port et entrer cette commande, et le num√©ro de groupe d'interface EtherChannel peut √™tre de 1 √† 6, l'essentiel est que cette valeur est la m√™me pour tous les ports du commutateur.  De plus, les ports doivent fonctionner dans les m√™mes modes: les deux en mode acc√®s ou les deux en mode jonction et avoir le m√™me VLAN natif ou VLAN autoris√©. <br><br><img src="https://habrastorage.org/webt/sh/uf/sv/shufsv48th79jzcokqt2ogcgvry.jpeg"><br><br>  L'agr√©gation EtherChannel ne fonctionnera que si le groupe de canaux se compose des m√™mes interfaces configur√©es. <br><br>  Nous connectons le commutateur A avec deux lignes de communication au commutateur B, qui a √©galement deux interfaces f0 / 1 et f0 / 2.  Ces interfaces forment leur propre groupe.  Vous pouvez les configurer pour qu'ils fonctionnent dans EtherChannel √† l'aide de la m√™me commande, et le num√©ro de groupe n'a pas d'importance, car ils sont situ√©s sur le commutateur local.  Vous pouvez d√©signer ce groupe comme num√©ro 1, et tout fonctionnera.  Cependant, n'oubliez pas que pour que les deux canaux fonctionnent sans probl√®me, toutes les interfaces doivent √™tre configur√©es exactement de la m√™me mani√®re, pour le m√™me mode - acc√®s ou tronc.  Apr√®s avoir entr√© les param√®tres des deux interfaces du commutateur A et du commutateur B et activ√© le mode de groupe de canaux de commande 1, l'agr√©gation des canaux EtherChannel sera effectu√©e. <br><br>  Les deux interfaces physiques de chaque commutateur fonctionneront comme une seule interface logique.  Si nous regardons les param√®tres STP, nous verrons que le commutateur A affichera une interface commune, regroup√©e √† partir de deux ports physiques. <br><br>  Passons √† PAGP, un protocole d'agr√©gation de ports d√©velopp√© par Cisco. <br><br><img src="https://habrastorage.org/webt/fp/kb/6j/fpkb6jgy3xm_7d1flyaiesro8ji.jpeg"><br><br>  Imaginez la m√™me image - deux commutateurs A et B, chacun avec des interfaces f0 / 1 et f0 / 2, connect√©s par deux lignes de communication.  Pour activer PAGP, utilisez la m√™me commande de mode de groupe de canaux 1 avec les param√®tres &lt;souhaitable / auto&gt;.  En mode statique manuel, vous entrez simplement le mode de groupe de canaux 1 sur la commande sur toutes les interfaces, et l'agr√©gation commence √† fonctionner, ici vous devez sp√©cifier le param√®tre souhaitable ou automatique.  Si vous entrez la commande de mode de groupe de canaux 1 avec le signe?, Le syst√®me affichera un indice avec les options suivantes: activ√©, souhaitable, automatique, passif, actif. <br><br>  Si vous entrez la m√™me commande souhaitable du mode groupe de canaux 1 aux deux extr√©mit√©s de la liaison, EtherChannel sera activ√©.  La m√™me chose se produira si √† une extr√©mit√© du canal les interfaces sont configur√©es avec la commande souhaitable du mode groupe de canaux 1 et √† l'autre extr√©mit√© avec la commande automatique du mode groupe de canaux 1. <br><br>  Cependant, si les interfaces aux deux extr√©mit√©s des canaux sont d√©finies sur auto avec la commande automatique du mode groupe de canaux 1, l'agr√©gation des canaux ne se produira pas.  Par cons√©quent, n'oubliez pas - si vous souhaitez utiliser EtherChannel via PAGP, les interfaces d'au moins une des parties doivent √™tre dans un √©tat souhaitable. <br><br>  Lorsque vous utilisez le protocole LACP ouvert, la m√™me commande de mode de groupe de canaux 1 avec les param√®tres &lt;actif / passif&gt; est utilis√©e pour agr√©ger les canaux. <br><br><img src="https://habrastorage.org/webt/b3/px/gm/b3pxgmyabpd1ermxo_xqerrt-og.jpeg"><br><br>  Les combinaisons possibles de param√®tres des deux c√¥t√©s des canaux sont les suivantes: si les interfaces sont d√©finies en mode actif ou si un c√¥t√© est actif et l'autre c√¥t√© est passif - le mode EtherChannel fonctionnera, si les deux groupes d'interfaces sont d√©finis sur passifs, l'agr√©gation des canaux ne se produira pas.  Il faut se rappeler que pour organiser l'agr√©gation de canaux √† l'aide du protocole LACP, il est n√©cessaire qu'au moins un des groupes d'interfaces soit √† l'√©tat actif. <br><br>  Essayons de r√©pondre √† la question: si nous avons des commutateurs A et B connect√©s par des lignes de communication, de plus, les interfaces d'un commutateur sont √† l'√©tat actif et l'autre √† l'√©tat automatique ou souhaitable, EtherChannel fonctionnera-t-il? <br><br><img src="https://habrastorage.org/webt/ek/su/ta/eksutaqprcruqvub8yqzhvowweu.jpeg"><br><br>  Non, ce ne sera pas le cas, car le r√©seau doit avoir le m√™me protocole - PAGP ou LACP, car ils ne sont pas compatibles entre eux. <br><br>  Consid√©rez quelques commandes utilis√©es pour organiser un EtherChannel.  Tout d'abord, vous devez attribuer un num√©ro de groupe, il peut √™tre n'importe lequel.  Pour la premi√®re commande du mode groupe de canaux 1, vous pouvez s√©lectionner 5 param√®tres en option: activ√©, souhaitable, automatique, passif ou actif. <br>  Dans les sous-commandes d'interface, nous utilisons le mot-cl√© channel-group, mais si, par exemple, vous souhaitez sp√©cifier l'√©quilibrage de charge, le mot port-channel est utilis√©.  Consid√©rez ce qu'est l'√©quilibrage de charge. <br><br>  Supposons que nous ayons le commutateur A avec deux ports qui sont connect√©s aux ports correspondants du commutateur B. Trois ordinateurs sont connect√©s au commutateur B - 1, 2, 3 et un ordinateur, num√©ro 4, au commutateur A. <br><br><img src="https://habrastorage.org/webt/my/5g/-n/my5g-ni-rha-l69pts0eavoofnk.jpeg"><br><br>  Lorsque le trafic passe de l'ordinateur n ¬∞ 4 √† l'ordinateur n ¬∞ 1, le commutateur A commence √† transmettre des paquets sur les deux lignes de communication.  La m√©thode d'√©quilibrage de charge utilise le hachage de l'adresse MAC de l'exp√©diteur afin que tout le trafic sur le quatri√®me ordinateur passe par une seule des deux lignes de communication.  Si nous connectons l'ordinateur n ¬∞ 5 au commutateur A, en raison de l'√©quilibrage de charge, le trafic de cet ordinateur ne se d√©placera que le long d'une ligne de communication inf√©rieure. <br><br><img src="https://habrastorage.org/webt/xh/bs/oe/xhbsoeo0zldmxnyxjejwrdtbi-m.jpeg"><br><br>  Cependant, ce n'est pas une situation typique.  Supposons que nous ayons un Internet cloud et un appareil auquel le commutateur A est connect√© avec trois ordinateurs.  Le trafic Internet sera dirig√© vers le commutateur avec l'adresse MAC de ce p√©riph√©rique, c'est-√†-dire avec l'adresse d'un port sp√©cifique, car ce p√©riph√©rique est une passerelle.  Ainsi, tout le trafic sortant aura l'adresse MAC de cet appareil. <br><br><img src="https://habrastorage.org/webt/bf/3g/pe/bf3gpelb4suq-tj4uupoz80tgws.jpeg"><br><br>  Si nous pla√ßons le commutateur B qui lui est connect√© par trois lignes de communication avant le commutateur A, alors tout le trafic du commutateur B en direction du commutateur A se pr√©cipitera sur l'une des lignes, ce qui ne correspond pas √† nos objectifs.  Par cons√©quent, nous devons d√©finir les param√®tres d'√©quilibrage pour ce commutateur. <br><br><img src="https://habrastorage.org/webt/rs/5m/0a/rs5m0ai3cyhyhrb8p7azfjzvxcy.jpeg"><br><br>  Pour ce faire, utilisez la commande d'√©quilibrage de charge du canal de port, o√π l'adresse IP de destination est utilis√©e comme param√®tre d'option.  S'il s'agit de l'adresse de l'ordinateur n ¬∞ 1, le trafic se pr√©cipitera le long de la premi√®re ligne, si n ¬∞ 3 - le long de la troisi√®me, et si vous sp√©cifiez l'adresse IP du deuxi√®me ordinateur, puis sur la ligne m√©diane. <br><br><img src="https://habrastorage.org/webt/uw/eh/xi/uwehxim1dl3bneklf4jggwnbkze.jpeg"><br><br>  Pour ce faire, la commande utilise le mot cl√© port-channel en mode de configuration globale. <br><br>  Si vous voulez voir quels liens sont impliqu√©s dans le canal et quels protocoles sont utilis√©s, alors en mode privil√©gi√©, vous devez entrer la commande de r√©sum√© show etherchannel.  Vous pouvez afficher les param√®tres d'√©quilibrage de charge √† l'aide de la commande show etherchannel load-balance. <br><br>  Consid√©rez maintenant tout cela dans le programme Packet Tracer.  Nous avons 2 commutateurs connect√©s par deux liens.  STP commencera son travail et l'un des 4 ports sera bloqu√©. <br><br><img src="https://habrastorage.org/webt/ou/od/2o/ouod2o38wmmcejjbo-deannlb44.jpeg"><br><br>  Nous allons dans les param√®tres de SW0 et entrons dans la commande show spanning-tree.  Nous voyons que STP fonctionne et pouvons v√©rifier l'ID racine et l'ID pont.  En utilisant la m√™me commande pour le deuxi√®me commutateur, nous verrons que le premier commutateur SW0 est le commutateur racine, car contrairement √† SW1, il a les m√™mes identificateurs racine et pont.  De plus, il y a un message que SW0 est la racine - "Ce pont est la racine". <br><br><img src="https://habrastorage.org/webt/nm/v2/zi/nmv2zi3bxwt7v1oemttrbrc9kfq.jpeg"><br><br>  Les deux ports du commutateur racine sont √† l'√©tat D√©sign√©, le port bloqu√© du deuxi√®me commutateur est indiqu√© comme Alternative et le second comme port racine.  Vous voyez comment STP ex√©cute parfaitement tout le travail n√©cessaire, √©tablissant automatiquement la connexion. <br><br>  Nous activons le protocole PAGP, pour cela, dans les param√®tres de SW0, nous entrerons s√©quentiellement les commandes int f0 / 1 et le mode groupe de canaux 1 avec l'un des 5 param√®tres possibles, j'utilise souhaitable. <br><br><img src="https://habrastorage.org/webt/kp/qa/wv/kpqawvjis6sc1y6w2xyt8v4cckw.jpeg"><br><br>  Vous voyez que le protocole lin√©aire a d'abord √©t√© d√©sactiv√© puis r√©activ√©, c'est-√†-dire que les modifications apport√©es ont pris effet et que l'interface Port-canal 1 a √©t√© cr√©√©e. <br><br><img src="https://habrastorage.org/webt/if/pq/tl/ifpqtlgsasxio-40cuw3vkvj2fa.jpeg"><br><br>  Passons maintenant √† l'interface f0 / 2 et entrons dans le m√™me mode de canal de commande groupe 1 souhait√©. <br><br><img src="https://habrastorage.org/webt/9k/sd/qb/9ksdqbsfuvqyjlbf0rqnt0vfcto.jpeg"><br><br>  Vous voyez que maintenant les ports du lien sup√©rieur sont marqu√©s d'un marqueur vert et les ports du lien inf√©rieur sont marqu√©s d'orange.  Dans ce cas, il ne peut y avoir de mode de port mixte mixte souhaitable, car toutes les interfaces du m√™me commutateur doivent √™tre configur√©es avec la m√™me commande.  Le mode automatique peut √™tre utilis√© sur le deuxi√®me commutateur, mais sur le premier, tous les ports doivent fonctionner dans le m√™me mode, dans ce cas, il est souhaitable. <br><br>  Nous allons entrer dans les param√®tres de SW1 et utiliser la commande pour la gamme d'interfaces int gamme f0 / 1-2, afin de ne pas entrer manuellement les commandes s√©par√©ment pour chacune des interfaces, mais de configurer les deux avec une seule commande. <br><br>  J'utilise la commande de mode de groupe de canaux 2, mais je peux utiliser n'importe quel nombre de 1 √† 6 pour d√©signer le groupe d'interfaces du deuxi√®me commutateur.  √âtant donn√© que le c√¥t√© oppos√© du canal est r√©gl√© sur le mode souhaitable, les interfaces de ce commutateur doivent √™tre en mode souhaitable ou automatique.  Je s√©lectionne le premier param√®tre, saisis le mode de groupe de canaux 2 souhait√© et appuie sur Entr√©e. <br>  Nous voyons un message indiquant que l'interface de canal Port-canal 2 a √©t√© cr√©√©e et que les ports f0 / 1 et f0 / 2 sont pass√©s s√©quentiellement de l'√©tat bas √† l'√©tat haut.  Voici un message indiquant que l'interface Port-canal 2 est activ√©e et que le protocole de ligne de cette interface est √©galement activ√©.  Nous avons maintenant form√© le canal agr√©g√© EtherChannel. <br><br>  Vous pouvez le v√©rifier en acc√©dant aux param√®tres du commutateur SW0 et en √©mettant la commande show etherchannel summary.  Vous voyez divers drapeaux, que nous examinerons plus tard, puis le groupe 1 en utilisant 1 canal, le nombre d'agr√©gateurs est √©galement 1. Po1 signifie PortChannel 1, et la d√©signation (SU) signifie S - drapeau de niveau 2, U - utilis√©.  Ce qui suit est le protocole PAGP utilis√© et les ports physiques agr√©g√©s dans le canal sont Fa0 / 1 (P) et Fa0 / 2 (P), o√π l'indicateur P indique que ces ports font partie du PortChannel. <br><br>  J'utilise les m√™mes commandes pour le deuxi√®me commutateur, et des informations similaires pour SW1 apparaissent dans la fen√™tre CLI. <br><br><img src="https://habrastorage.org/webt/qe/j4/bu/qej4bu23qi21lubbbp_i9tbxtri.jpeg"><br><br>  J'entre la commande show spanning-tree dans les param√®tres SW1, et vous pouvez voir que PortChannel 2 repr√©sente une interface logique, et son co√ªt a diminu√© par rapport au co√ªt de deux ports distincts 19 et est maintenant √©gal √† 9. <br><br><img src="https://habrastorage.org/webt/4a/eo/y7/4aeoy7q47qlcgvzi-_hcckwbvcg.jpeg"><br><br>  Faisons de m√™me avec le premier interrupteur.  Vous voyez que les param√®tres racine n'ont pas chang√©, mais maintenant entre les deux commutateurs au lieu de deux liaisons physiques, il y a une interface logique Po1-Po2. <br><br><img src="https://habrastorage.org/webt/wq/mx/3n/wqmx3nkjs7ctva_yfoftxigmpck.jpeg"><br><br>  Essayons de remplacer PAGP par LACP.  Pour ce faire, dans les r√©glages du premier switch, j'utilise la commande pour la gamme d'interfaces gamme int f0 / 1-2.  Si j'entre maintenant la commande active du mode channel-group1 pour activer LACP, elle sera rejet√©e car les ports Fa0 / 1 et Fa0 / 2 font d√©j√† partie d'un canal utilisant un protocole diff√©rent. <br><br><img src="https://habrastorage.org/webt/ur/fd/w8/urfdw8qgugivc0wewcjqbwvfvly.jpeg"><br><br>  Par cons√©quent, je dois d'abord entrer la commande aucun mode canal-groupe 1 actif et ensuite utiliser la commande mode canal-groupe1 actif.  Faisons de m√™me avec le second commutateur en entrant d'abord la commande no channel-group 2 puis la commande active channel-group 2 mode.  Si vous regardez les param√®tres de l'interface, vous pouvez voir que Po2 s'est rallum√©, mais il est toujours en mode protocole PAGP.  Ce n'est pas vrai, car nous avons maintenant LACP, et dans ce cas il y a un affichage incorrect des param√®tres par le programme Packet Tracer. <br>  Pour r√©soudre cet √©cart, j'utilise une solution temporaire - la cr√©ation d'un autre PortChannel.  Pour ce faire, je tape les commandes dans la plage f0 / 1-2 et pas de groupe de canaux 2, puis la commande mode de groupe de canaux 2 active.  Voyons comment cela affecte le premier commutateur.  J'entre la commande r√©capitulative de show etherchannel et vois que Po1 est de nouveau montr√© comme utilisant PAGP.  Il s'agit d'un probl√®me de simulation Packet Tracer, car PortChannel est actuellement d√©sactiv√© et nous n'avons pas du tout besoin d'avoir un canal. <br><br>  Je reviens √† la fen√™tre CLI du deuxi√®me commutateur et √©mets la commande r√©capitulative de show etherchannel.  Maintenant Po2 est affich√© avec un index (SD), o√π D signifie bas, c'est-√†-dire que le canal ne fonctionne pas.  Techniquement, PortChannel est pr√©sent, mais non utilis√©, car aucun port ne lui est associ√©. <br>  J'entre la plage int f0 / 1-2 et aucune commande de groupe de canaux 1 dans les param√®tres du premier commutateur, puis je cr√©e un nouveau groupe de canaux, cette fois sous le num√©ro 2, √† l'aide de la commande active du mode de groupe de canaux 2.  Ensuite, je fais de m√™me dans les param√®tres du deuxi√®me commutateur, seulement maintenant le groupe de canaux obtient le num√©ro 1. <br><br>  Maintenant, un nouveau groupe Port Channel 2 a √©t√© cr√©√© sur le premier commutateur, et Port Channel 1 sur le deuxi√®me commutateur. Je viens d'√©changer les noms des groupes.  Comme vous pouvez le voir, techniquement, j'ai cr√©√© un nouveau canal de port sur le deuxi√®me commutateur, et maintenant il s'affiche avec le param√®tre correct - apr√®s avoir entr√© la commande show etherchannel summary, nous voyons que Po1 (SU) utilise LACP. <br><br>  Nous voyons exactement la m√™me image dans la fen√™tre CLI du commutateur SW0 - le nouveau groupe Po2 (SU) ex√©cute LACP. <br><br><img src="https://habrastorage.org/webt/gx/ve/xb/gxvexbyeb1jxmpvl-as-9hvs7dq.jpeg"><br><br>  Consid√©rez la diff√©rence entre une interface √† l'√©tat actif et une interface toujours active.  Je vais cr√©er un nouveau groupe de canaux pour le commutateur SW0 avec les commandes int range f0 / 1-2 et le mode channel-group 3 activ√©.  Avant cela, il est n√©cessaire de supprimer les groupes de canaux 1 et 2 avec les commandes no channel-group 1 et no channel-group 2, sinon lorsque vous essayez d'utiliser le mode channel-group 3 sur commande, le syst√®me affichera un message indiquant que l'interface est d√©j√† utilis√©e pour fonctionner avec un autre protocole de canal. <br><br>  Faites de m√™me avec le deuxi√®me commutateur - supprimez les groupes de canaux 1 et 2 et cr√©ez le groupe 3 avec le mode de groupe de canaux de commande activ√©.  Passons maintenant aux param√®tres de SW0 et utilisons la commande show etherchannel summary.  Vous verrez que le nouveau canal Po3 est d√©j√† op√©rationnel et ne n√©cessite aucune op√©ration pr√©liminaire, comme PAGP ou LACP. <br><br><img src="https://habrastorage.org/webt/b-/i8/1p/b-i81p-_tppmxsrtuobxu9bcyqy.jpeg"><br><br>  Il s'allume imm√©diatement, sans s'√©teindre puis en activant les ports.  En utilisant la m√™me commande pour SW1, nous verrons qu'ici Po3 n'utilise aucun protocole, c'est-√†-dire que nous avons cr√©√© un EtherChannel statique. <br><br>  Cisco affirme que pour une disponibilit√© r√©seau √©tendue, vous devez oublier PAGP et utiliser le EtherChannel statique comme un moyen plus fiable d'agr√©gation de liens. <br>  Comment √©quilibrer la charge?  Je reviens √† la fen√™tre CLI du commutateur SWI et √©mets la commande show etherchannel load-balance.  Vous voyez que l'√©quilibrage de charge est effectu√© en fonction de l'adresse MAC de l'adresse MAC source. <br><br><img src="https://habrastorage.org/webt/ai/vw/zu/aivwzus8ei6ffabb_vmlq9wlbke.jpeg"><br><br>  L'√©quilibrage utilise g√©n√©ralement ce param√®tre particulier, mais parfois il ne correspond pas √† nos t√¢ches.  Si nous voulons changer cette m√©thode d'√©quilibrage, nous devons entrer dans le mode de configuration globale et entrer la commande d'√©quilibrage de charge du canal du port, apr√®s quoi le syst√®me donnera des invites avec les param√®tres possibles pour cette commande. <br><br><img src="https://habrastorage.org/webt/tg/2a/oq/tg2aoqxzmzxbf7kw4bykdl-xziw.jpeg"><br><br>  Si vous sp√©cifiez le param√®tre src-mac d'√©quilibrage de charge du canal du port, c'est-√†-dire sp√©cifiez l'adresse MAC source, une fonction de hachage sera activ√©e, qui indiquera alors quel port, qui fait partie de cet EtherChannel, doit √™tre utilis√© pour transmettre le trafic.  Chaque fois que l'adresse source est la m√™me, le syst√®me utilisera cette interface physique particuli√®re pour envoyer du trafic. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mkLnjNFBjRs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466427/">https://habr.com/ru/post/fr466427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466413/index.html">√âchange de sites pour Bitrix et 1C: r√©soudre les principaux probl√®mes</a></li>
<li><a href="../fr466417/index.html">Warshipping - une cyber-menace envoy√©e par courrier ordinaire</a></li>
<li><a href="../fr466419/index.html">Pourquoi nous travaillons chez Sitefinity</a></li>
<li><a href="../fr466423/index.html">Le myst√©rieux programme LyX. Partie 1</a></li>
<li><a href="../fr466425/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 37. STP: S√©lection du pont racine, fonctions de protection PortFast et BPDU. 2e partie</a></li>
<li><a href="../fr466429/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 39. Piles et agr√©gation de ch√¢ssis de commutateurs</a></li>
<li><a href="../fr466431/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 40. Norme 802.1X et famille de protocoles AAA</a></li>
<li><a href="../fr466433/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 41. DHCP Snooping et Nondefault Native VLAN</a></li>
<li><a href="../fr466435/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 42. Routage inter-VLAN et SVI</a></li>
<li><a href="../fr466437/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 43. Protocoles de routage Distance du vecteur et √©tat de la liaison</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>