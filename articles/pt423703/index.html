<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöç üîΩ üéÖüèæ Manual do Node.js., Parte 4: Arquivos npm, package.json e package-lock.json ü§Ω üñäÔ∏è ü§úüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje estamos publicando a quarta parte da tradu√ß√£o do Node.js. Neste artigo, come√ßaremos a falar sobre o npm e tamb√©m consideraremos os recursos dos p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Manual do Node.js., Parte 4: Arquivos npm, package.json e package-lock.json</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423703/"> Hoje estamos publicando a quarta parte da tradu√ß√£o do Node.js.  Neste artigo, come√ßaremos a falar sobre o npm e tamb√©m consideraremos os recursos dos <code>package-lock.json</code> <code>package.json</code> e <code>package-lock.json</code> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[Aconselhamos a ler] Outras partes do ciclo</b> <div class="spoiler_text">  Parte 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Informa√ß√µes gerais e introdu√ß√£o</a> <br>  Parte 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JavaScript, V8, alguns truques de desenvolvimento</a> <br>  Parte 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hospedagem, REPL, trabalho com o console, m√≥dulos</a> <br>  Parte 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquivos npm, package.json e package-lock.json</a> <br>  Parte 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npm e npx</a> <br>  Parte 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">loop de eventos, pilha de chamadas, temporizadores</a> <br>  Parte 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Programa√ß√£o ass√≠ncrona</a> <br>  Parte 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia Node.js, Parte 8: Protocolos HTTP e WebSocket</a> <br>  Parte 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia Node.js, parte 9: trabalhando com o sistema de arquivos</a> <br>  Parte 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia do Node.js, Parte 10: M√≥dulos padr√£o, fluxos, bancos de dados, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF completo do Guia Node.js.</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">No√ß√µes b√°sicas de Npm</font> </h2><br>  Npm (gerenciador de pacotes do n√≥) √© o gerenciador de pacotes do Node.js.  Na primeira parte deste material, j√° mencionamos que agora no npm existem mais de meio milh√£o de pacotes, o que o torna o maior reposit√≥rio de c√≥digo do mundo escrito em um idioma.  Isso sugere que no npm voc√™ pode encontrar pacotes projetados para resolver praticamente qualquer tarefa. <br><br>  Inicialmente, o npm foi criado como um sistema de gerenciamento de pacotes para o Node.js, mas hoje tamb√©m √© usado para desenvolver projetos front-end em JavaScript.  Para interagir com o registro npm, √© usado o comando com o mesmo nome, o que oferece ao desenvolvedor uma enorme quantidade de oportunidades. <br><br><h3>  <font color="#3AC1EF">PackagesCarregando pacotes</font> </h3><br>  Usando o comando <code>npm</code> , voc√™ pode baixar pacotes do registro.  Abaixo consideraremos exemplos de seu uso. <br><br><h3>  <font color="#3AC1EF">‚ñçInstalando todas as depend√™ncias do projeto</font> </h3><br>  Se o projeto tiver um arquivo <code>package.json</code> , voc√™ poder√° instalar todas as depend√™ncias desse projeto com o seguinte comando: <br><br><pre> <code class="plaintext hljs">npm install</code> </pre> <br>  Este comando far√° o download de tudo o que o projeto precisa e colocar√° esses materiais na pasta <code>node_modules</code> , criando-o se ele n√£o existir no diret√≥rio do projeto. <br><br><h3>  <font color="#3AC1EF">‚ñçInstalando um pacote separado</font> </h3><br>  Um outro pode ser instalado com o seguinte comando: <br><br><pre> <code class="plaintext hljs">npm install &lt;package-name&gt;</code> </pre> <br>  Muitas vezes voc√™ pode ver como esse comando √© usado n√£o de uma forma t√£o simples, mas com alguns sinalizadores.  Considere-os: <br><br><ul><li>  O sinalizador <code>--save</code> permite instalar um pacote e incluir uma entrada sobre ele na se√ß√£o <code>dependencies</code> do arquivo <code>package.json</code> , que descreve as depend√™ncias do projeto.  Essas depend√™ncias s√£o usadas pelo projeto para implementar sua principal funcionalidade, s√£o instaladas durante sua implanta√ß√£o no servidor (ap√≥s o lan√ßamento do npm 5, as entradas sobre pacotes instalados na se√ß√£o depend√™ncias s√£o feitas automaticamente e sem o uso desse sinalizador). </li><li>  O <code>--save-dev</code> permite instalar o pacote e adicionar uma entrada sobre ele √† se√ß√£o que cont√©m uma lista de depend√™ncias de desenvolvimento (ou seja, pacotes necess√°rios durante o desenvolvimento do projeto, como bibliotecas para teste, mas n√£o s√£o necess√°rias para sua opera√ß√£o) do arquivo <code>package.json</code> chamado <code>devDependencies</code> . </li></ul><br><h3>  <font color="#3AC1EF">‚ñç Atualiza√ß√£o do pacote</font> </h3><br>  Para atualizar pacotes, use o seguinte comando: <br><br><pre> <code class="plaintext hljs">npm update</code> </pre> <br>  Ap√≥s receber este comando, o npm verificar√° todos os pacotes em busca de novas vers√µes e, se encontrarem novas vers√µes que atendam √†s restri√ß√µes de vers√£o do pacote especificadas em <code>package.json</code> , instale-os. <br><br>  Voc√™ tamb√©m pode atualizar um pacote separado: <br><br><pre> <code class="plaintext hljs">npm update &lt;package-name&gt;</code> </pre> <br><h3>  <font color="#3AC1EF">PloadCarregando pacotes de determinadas vers√µes</font> </h3><br>  Al√©m dos downloads de pacotes padr√£o, o npm tamb√©m suporta o download de vers√µes espec√≠ficas deles.  Em particular, pode-se observar que algumas bibliotecas s√£o compat√≠veis apenas com certas vers√µes grandes de outras bibliotecas, ou seja, se as depend√™ncias dessas bibliotecas fossem instaladas sem considerar as vers√µes, isso poderia interromper seu trabalho.  A capacidade de instalar uma vers√£o espec√≠fica de um pacote √© √∫til em situa√ß√µes em que, por exemplo, a √∫ltima vers√£o deste pacote √© bastante adequada para voc√™, mas acontece que h√° um erro nele.  Aguardando o lan√ßamento de uma vers√£o fixa do pacote, voc√™ pode usar o lan√ßamento mais antigo, mas est√°vel. <br><br>  A capacidade de especificar vers√µes espec√≠ficas das bibliotecas exigidas pelo projeto √© √∫til no desenvolvimento da equipe quando todos os membros da equipe usam exatamente as mesmas bibliotecas.  A transi√ß√£o para suas novas vers√µes tamb√©m √© realizada centralmente, fazendo altera√ß√µes no arquivo de projeto <code>package.json</code> . <br><br>  Em todos esses casos, a capacidade de especificar as vers√µes do pacote exigidas pelo projeto √© extremamente √∫til.  Npm segue o padr√£o de controle de vers√£o sem√¢ntico (semver). <br><br><h3>  <font color="#3AC1EF">Executar scripts</font> </h3><br>  O arquivo <code>package.json</code> suporta a capacidade de descrever comandos (scripts) que podem ser iniciados usando esta constru√ß√£o: <br><br><pre> <code class="plaintext hljs">npm &lt;task-name&gt;</code> </pre> <br>  Por exemplo, eis a apar√™ncia da lista de scripts na se√ß√£o correspondente do arquivo: <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "start-dev": "node lib/server-development",   "start": "node lib/server-production" } }</code> </pre> <br>  √â muito comum usar esse recurso para iniciar o Webpack: <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "watch": "webpack --watch --progress --colors --config webpack.conf.js",   "dev": "webpack --progress --colors --config webpack.conf.js",   "prod": "NODE_ENV=production webpack -p --config webpack.conf.js", } }</code> </pre> <br>  Essa abordagem permite substituir a entrada de comandos longos, repletos de erros, pelas seguintes constru√ß√µes simples: <br><br><pre> <code class="plaintext hljs">$ npm watch $ npm dev $ npm prod</code> </pre> <br><h3>  <font color="#3AC1EF">Here Onde o npm instala pacotes?</font> </h3><br>  Ao instalar pacotes usando o npm (ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">yarn</a> ), duas op√ß√µes de instala√ß√£o est√£o dispon√≠veis: local e global. <br><br>  Por padr√£o, quando voc√™ usa um comando como <code>npm install lodash</code> , o pacote aparece na pasta <code>node_modules</code> localizada na pasta do projeto.  Al√©m disso, se o comando acima foi executado, o npm tamb√©m adicionar√° uma entrada para a biblioteca <code>lodash</code> √† se√ß√£o de <code>dependencies</code> do arquivo <code>package.json</code> , que est√° no diret√≥rio atual. <br><br>  A instala√ß√£o global de pacotes √© realizada usando o sinalizador <code>-g</code> : <br><br><pre> <code class="plaintext hljs">npm install -g lodash</code> </pre> <br>  Ao executar esse comando, o npm n√£o instala o pacote na pasta local do projeto.  Em vez disso, ele copia os arquivos do pacote para algum local global.  Para onde exatamente esses arquivos v√£o? <br><br>  Para descobrir, use o seguinte comando: <br><br><pre> <code class="plaintext hljs">npm root -g</code> </pre> <br>  No macOS ou Linux, os arquivos do pacote podem aparecer no <code>/usr/local/lib/node_modules</code> .  No Windows, pode ser algo como <code>C:\Users\YOU\AppData\Roaming\npm\node_modules</code> . <br><br>  No entanto, se voc√™ usar o Node.js nvm para controle de vers√£o, o caminho para a pasta do pacote global poder√° ser alterado. <br><br>  Por exemplo, eu uso o nvm, e o comando acima me diz que os pacotes globais est√£o instalados neste endere√ßo: <code>/Users/flavio/.nvm/versions/node/v8.9.0/lib/node_modules</code> . <br><br><h3>  <font color="#3AC1EF">AndUse e execute pacotes instalados com o npm</font> </h3><br>  Como usar os m√≥dulos instalados usando o npm, local ou globalmente, caindo nas pastas <code>node_modules</code> ?  Suponha que voc√™ instalou a popular biblioteca <code>lodash</code> , que cont√©m muitas fun√ß√µes auxiliares usadas no desenvolvimento do JavaScript: <br><br><pre> <code class="plaintext hljs">npm install lodash</code> </pre> <br>  Esse comando instalar√° a biblioteca na pasta local do projeto <code>node_modules</code> . <br><br>  Para us√°-lo em seu c√≥digo, apenas importe-o usando o comando <code>require</code> : <br><br><pre> <code class="plaintext hljs">const _ = require('lodash')</code> </pre> <br>  E se o pacote for um arquivo execut√°vel? <br><br>  Nesse caso, o arquivo execut√°vel <code>node_modules/.bin/ folder</code> na <code>node_modules/.bin/ folder</code> . <br><br>  Voc√™ pode ver como esse mecanismo funciona instalando o pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cowsay</a> .  √â um programa em quadrinhos escrito para a linha de comando.  Se voc√™ passar algum texto para esse pacote, no console, no estilo da arte ASCII, ser√° exibida uma imagem de uma vaca que "pronuncia" o texto correspondente.  Outras criaturas podem "expressar" o texto. <br><br>  Portanto, ap√≥s instalar o pacote usando o <code>npm install cowsay</code> , ele, juntamente com suas depend√™ncias, <code>node_modules</code> em <code>node_modules</code> .  E na pasta <code>.bin</code> oculta, ser√£o escritos links simb√≥licos para arquivos bin√°rios cowsay. <br><br>  Como realiz√°-los? <br><br>  Obviamente, voc√™ pode digitar algo como <code>./node_modules/.bin/cowsay</code> no terminal para chamar o programa, esta √© uma abordagem funcional, mas √© muito melhor usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npx</a> , uma ferramenta para iniciar execut√°veis ‚Äã‚Äãde pacote npm, inclu√≠do no npm desde a vers√£o 5.2.  Ou seja, no nosso caso, precisamos do seguinte comando: <br><br><pre> <code class="plaintext hljs">npx cowsay</code> </pre> <br>  O caminho para o pacote npx ser√° encontrado automaticamente. <br><br><h2>  <font color="#3AC1EF">Arquivo Package.json</font> </h2><br>  O arquivo <code>package.json</code> √© um elemento essencial de muitos projetos baseados no ecossistema Node.js.  Se voc√™ programou em JavaScript, seja o desenvolvimento do servidor ou do cliente, provavelmente j√° viu esse arquivo.  Por que √© necess√°rio?  O que voc√™ deve saber sobre ele e que oportunidades ele oferece? <br><br>  <code>Package.json</code> √© um tipo de arquivo de manifesto para um projeto.  Ele coloca √† disposi√ß√£o do desenvolvedor muitas possibilidades diversas.  Por exemplo, ele representa o reposit√≥rio central de configura√ß√µes das ferramentas usadas no projeto.  Al√©m disso, √© o local em que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npm</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">yarn</a> gravam informa√ß√µes sobre os nomes e vers√µes dos pacotes instalados. <br><br><h3>  <font color="#3AC1EF">‚ñç Estrutura do arquivo</font> </h3><br>  Aqui est√° um exemplo de um arquivo <code>package.json</code> simples: <br><br><pre> <code class="plaintext hljs">{ }</code> </pre> <br>  Como voc√™ pode ver, est√° vazio.  N√£o h√° requisitos estritos sobre o que deve estar presente em um arquivo para um determinado aplicativo.  O √∫nico requisito para a estrutura do arquivo √© que ele siga as regras do formato JSON.  Caso contr√°rio, esse arquivo n√£o poder√° ser lido por programas que tentam acessar seu conte√∫do. <br><br>  Se voc√™ criar um pacote Node.js. que pretende distribuir atrav√©s do npm, tudo mudar√° radicalmente, e o seu <code>package.json</code> dever√° ter um conjunto de propriedades que ajudar√£o outras pessoas a usar o pacote.  Falaremos mais sobre isso mais tarde. <br><br>  Aqui est√° outro exemplo <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">{ "name": "test-project" }</code> </pre> <br>  Ele define a propriedade <code>name</code> , cujo valor √© o nome do aplicativo ou pacote cujos materiais est√£o contidos na mesma pasta em que esse arquivo est√° localizado. <br><br>  Aqui est√° um exemplo mais complicado que tirei de um aplicativo de exemplo escrito usando o Vue.js: <br><br><pre> <code class="plaintext hljs">{ "name": "test-project", "version": "1.0.0", "description": "A Vue.js project", "main": "src/main.js", "private": true, "scripts": {   "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",   "start": "npm run dev",   "unit": "jest --config test/unit/jest.conf.js --coverage",   "test": "npm run unit",   "lint": "eslint --ext .js,.vue src test/unit",   "build": "node build/build.js" }, "dependencies": {   "vue": "^2.5.2" }, "devDependencies": {   "autoprefixer": "^7.1.2",   "babel-core": "^6.22.1",   "babel-eslint": "^8.2.1",   "babel-helper-vue-jsx-merge-props": "^2.0.3",   "babel-jest": "^21.0.2",   "babel-loader": "^7.1.1",   "babel-plugin-dynamic-import-node": "^1.2.0",   "babel-plugin-syntax-jsx": "^6.18.0",   "babel-plugin-transform-es2015-modules-commonjs": "^6.26.0",   "babel-plugin-transform-runtime": "^6.22.0",   "babel-plugin-transform-vue-jsx": "^3.5.0",   "babel-preset-env": "^1.3.2",   "babel-preset-stage-2": "^6.22.0",   "chalk": "^2.0.1",   "copy-webpack-plugin": "^4.0.1",   "css-loader": "^0.28.0",   "eslint": "^4.15.0",   "eslint-config-airbnb-base": "^11.3.0",   "eslint-friendly-formatter": "^3.0.0",   "eslint-import-resolver-webpack": "^0.8.3",   "eslint-loader": "^1.7.1",   "eslint-plugin-import": "^2.7.0",   "eslint-plugin-vue": "^4.0.0",   "extract-text-webpack-plugin": "^3.0.0",   "file-loader": "^1.1.4",   "friendly-errors-webpack-plugin": "^1.6.1",   "html-webpack-plugin": "^2.30.1",   "jest": "^22.0.4",   "jest-serializer-vue": "^0.3.0",   "node-notifier": "^5.1.2",   "optimize-css-assets-webpack-plugin": "^3.2.0",   "ora": "^1.2.0",   "portfinder": "^1.0.13",   "postcss-import": "^11.0.0",   "postcss-loader": "^2.0.8",   "postcss-url": "^7.2.1",   "rimraf": "^2.6.0",   "semver": "^5.3.0",   "shelljs": "^0.7.6",   "uglifyjs-webpack-plugin": "^1.1.1",   "url-loader": "^0.5.8",   "vue-jest": "^1.0.2",   "vue-loader": "^13.3.0",   "vue-style-loader": "^3.0.1",   "vue-template-compiler": "^2.5.2",   "webpack": "^3.6.0",   "webpack-bundle-analyzer": "^2.9.0",   "webpack-dev-server": "^2.9.1",   "webpack-merge": "^4.1.0" }, "engines": {   "node": "&gt;= 6.0.0",   "npm": "&gt;= 3.0.0" }, "browserslist": [   "&gt; 1%",   "last 2 versions",   "not ie &lt;= 8" ] }</code> </pre> <br>  Como voc√™ pode ver, h√° muitas coisas interessantes.  Nomeadamente, as seguintes propriedades podem ser distinguidas aqui: <br><br><ul><li>  <code>name</code> - define o nome do aplicativo (pacote). </li><li>  <code>version</code> - cont√©m informa√ß√µes sobre a vers√£o atual do aplicativo. </li><li>  <code>description</code> - uma breve descri√ß√£o do aplicativo. </li><li>  <code>main</code> - define o ponto de entrada para o aplicativo. </li><li>  <code>private</code> - se essa propriedade estiver configurada como <code>true</code> , isso impede que o pacote seja publicado acidentalmente para npm. </li><li>  <code>scripts</code> - define um conjunto de scripts do Node.js. que podem ser executados. </li><li>  <code>dependencies</code> - cont√©m uma lista de pacotes npm dos quais o aplicativo depende. </li><li>  <code>devDependencies</code> - cont√©m uma lista de pacotes npm usados ‚Äã‚Äãno desenvolvimento de um projeto, mas n√£o quando ele realmente funciona. </li><li>  <code>engines</code> - define a lista de vers√µes do Node.js. nas quais o aplicativo √© executado. </li><li>  lista de navegadores - usada para armazenar a lista de navegadores (e suas vers√µes) que o aplicativo deve suportar. </li></ul><br>  Todas essas propriedades s√£o usadas pelo npm ou por outras ferramentas usadas durante o ciclo de vida do aplicativo. <br><br><h3>  <font color="#3AC1EF">UsedPropriedades usadas no pacote.json</font> </h3><br>  Vamos falar sobre as propriedades que podem ser usadas no <code>package.json</code> .  Aqui usaremos o termo "pacote", mas tudo o que √© dito sobre pacotes tamb√©m √© verdadeiro para aplicativos locais que n√£o est√£o planejados para serem usados ‚Äã‚Äãcomo pacotes. <br><br>  A maioria das propriedades que descrevemos s√£o usadas apenas para as necessidades do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reposit√≥rio</a> npm, algumas s√£o usadas por programas que interagem com o c√≥digo como o mesmo npm. <br><br><h4>  Propriedade de nome </h4><br>  A propriedade <code>name</code> define o nome do pacote: <br><br><pre> <code class="plaintext hljs">"name": "test-project"</code> </pre> <br>  O nome deve ter menos de 214 caracteres, n√£o deve incluir espa√ßos, deve conter apenas letras mai√∫sculas, h√≠fens ( <code>-</code> ) e sublinhados ( <code>_</code> ). <br><br>  Restri√ß√µes semelhantes existem porque, quando um pacote √© publicado no npm, seu nome √© usado para formar a URL da p√°gina do pacote. <br><br>  Se voc√™ publicou o c√≥digo do pacote no GitHub, em dom√≠nio p√∫blico, uma boa op√ß√£o para o nome do pacote √© o nome do reposit√≥rio GitHub correspondente. <br><br><h4>  Propriedade do autor </h4><br>  A propriedade <code>author</code> cont√©m informa√ß√µes sobre o autor do pacote: <br><br><pre> <code class="plaintext hljs">{ "author": "Flavio Copes &lt;flavio@flaviocopes.com&gt; (https://flaviocopes.com)" }</code> </pre> <br>  Pode ser apresentado no seguinte formato: <br><br><pre> <code class="plaintext hljs">{ "author": {   "name": "Flavio Copes",   "email": "flavio@flaviocopes.com",   "url": "https://flaviocopes.com" } }</code> </pre> <br><h4>  Propriedade de colaboradores </h4><br>  A propriedade <code>contributors</code> cont√©m uma matriz com informa√ß√µes sobre as pessoas que contribu√≠ram para o projeto: <br><br><pre> <code class="plaintext hljs">{ "contributors": [   "Flavio Copes &lt;flavio@flaviocopes.com&gt; (https://flaviocopes.com)" ] }</code> </pre> <br>  Esta propriedade pode ser assim: <br><br><pre> <code class="plaintext hljs">{ "contributors": [   {     "name": "Flavio Copes",     "email": "flavio@flaviocopes.com",     "url": "https://flaviocopes.com"   } ] }</code> </pre> <br><h4>  Propriedade de erros </h4><br>  A propriedade <code>bugs</code> cont√©m um link para o rastreador de erros do projeto. √â muito prov√°vel que esse link leve √† p√°gina do sistema de rastreamento de erros do GitHub: <br><br><pre> <code class="plaintext hljs">{ "bugs": "https://github.com/flaviocopes/package/issues" }</code> </pre> <br><h4>  Propriedade da p√°gina inicial </h4><br>  A propriedade da <code>homepage</code> permite definir a p√°gina inicial do pacote: <br><br><pre> <code class="plaintext hljs">{ "homepage": "https://flaviocopes.com/package" }</code> </pre> <br><h4>  Propriedade de vers√£o </h4><br>  A propriedade <code>version</code> cont√©m informa√ß√µes sobre a vers√£o atual do pacote: <br><br><pre> <code class="plaintext hljs">"version": "1.0.0"</code> </pre> <br>  Ao formar o valor dessa propriedade, voc√™ deve seguir as regras do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">controle</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vers√£o sem√¢ntico</a> .  Isso significa, em particular, que o n√∫mero da vers√£o √© sempre representado por tr√™s d√≠gitos: xxx <br><br>  O primeiro n√∫mero √© a vers√£o principal do pacote, o segundo √© a vers√£o secund√°ria e o terceiro √© a vers√£o do patch. <br><br>  Alterar esses n√∫meros tem um certo significado.  Portanto, o lan√ßamento de um pacote no qual os erros s√£o corrigidos apenas leva a um aumento no valor da vers√£o do patch.  Se um pacote for lan√ßado, as altera√ß√µes feitas com compatibilidade retroativa com a vers√£o anterior, a vers√£o secund√°ria ser√° alterada.  As vers√µes principais dos pacotes podem conter altera√ß√µes que os tornam incompat√≠veis com os pacotes das vers√µes principais anteriores. <br><br><h4>  Propriedade da licen√ßa </h4><br>  A propriedade <code>license</code> cont√©m informa√ß√µes sobre a <code>license</code> pacote: <br><br><pre> <code class="plaintext hljs">"license": "MIT"</code> </pre> <br><h4>  Propriedade de palavras-chave </h4><br>  A propriedade <code>keywords</code> cont√©m uma matriz de palavras-chave relacionadas √† funcionalidade do pacote: <br><br><pre> <code class="plaintext hljs">"keywords": [ "email", "machine learning", "ai" ]</code> </pre> <br>  A sele√ß√£o correta de palavras-chave ajuda as pessoas a encontrar o que precisam ao procurar pacotes para resolver certos problemas, permite agrupar pacotes e avaliar rapidamente suas poss√≠veis funcionalidades ao visualizar o site npm. <br><br><h4>  Propriedade Descri√ß√£o </h4><br>  A propriedade <code>description</code> cont√©m uma breve descri√ß√£o do pacote: <br><br><pre> <code class="plaintext hljs">"description": "A package to work with strings"</code> </pre> <br>  Essa propriedade √© especialmente importante se voc√™ planeja publicar o pacote no npm, pois permite que os usu√°rios do site npm entendam a finalidade do pacote. <br><br><h4>  Propriedade de reposit√≥rio </h4><br>  A propriedade <code>repository</code> indica onde o reposit√≥rio do pacote est√° localizado: <br><br><pre> <code class="plaintext hljs">"repository": "github:flaviocopes/testing",</code> </pre> <br>  Observe que o valor dessa propriedade possui o prefixo <code>github</code> .  O Npm tamb√©m suporta prefixos para alguns outros servi√ßos populares desse tipo: <br><br><pre> <code class="plaintext hljs">"repository": "gitlab:flaviocopes/testing", "repository": "bitbucket:flaviocopes/testing",</code> </pre> <br>  O sistema de controle de vers√£o usado no desenvolvimento do pacote tamb√©m pode ser definido explicitamente: <br><br><pre> <code class="plaintext hljs">"repository": { "type": "git", "url": "https://github.com/flaviocopes/testing.git" }</code> </pre> <br>  O mesmo pacote pode usar sistemas de controle de vers√£o diferentes: <br><br><pre> <code class="plaintext hljs">"repository": { "type": "svn", "url": "..." }</code> </pre> <br><h4>  Propriedade principal </h4><br>  A propriedade <code>main</code> define o ponto de entrada para o pacote: <br><br><pre> <code class="plaintext hljs">"main": "src/main.js"</code> </pre> <br>  Quando um pacote √© importado para o aplicativo, √© nesse local que a pesquisa ser√° realizada para o que o m√≥dulo correspondente exporta. <br><br><h4>  Propriedade privada </h4><br>  A propriedade <code>private</code> configurada como <code>true</code> impede que o pacote seja publicado acidentalmente no npm: <br><br><pre> <code class="plaintext hljs">"private": true</code> </pre> <br><h4>  Propriedade de scripts </h4><br>  A propriedade <code>scripts</code> define a lista de scripts ou utilit√°rios que podem ser ativados usando as ferramentas npm: <br><br><pre> <code class="plaintext hljs">"scripts": { "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js", "start": "npm run dev", "unit": "jest --config test/unit/jest.conf.js --coverage", "test": "npm run unit", "lint": "eslint --ext .js,.vue src test/unit", "build": "node build/build.js" }</code> </pre> <br>  Esses scripts s√£o aplicativos de linha de comando.  Voc√™ pode execut√°-los usando npm ou yarn, respectivamente, executando comandos no formato <code>npm run XXXX</code> ou <code>yarn XXXX</code> , em que <code>XXXX</code> √© o nome do script.  Por exemplo, pode ser assim: <br><br><pre> <code class="plaintext hljs">npm run dev</code> </pre> <br>  Os scripts podem ser chamados como voc√™ quiser, eles podem fazer quase tudo o que um desenvolvedor pode querer. <br><br><h4>  Propriedade de depend√™ncias </h4><br>  A propriedade <code>dependencies</code> cont√©m uma lista de pacotes npm instalados como depend√™ncias de pacotes: <br><br><pre> <code class="plaintext hljs">"dependencies": { "vue": "^2.5.2" }</code> </pre> <br>  Ao instalar um pacote usando npm ou yarn, os seguintes comandos s√£o usados: <br><br><pre> <code class="plaintext hljs">npm install &lt;PACKAGENAME&gt; yarn add &lt;PACKAGENAME&gt;</code> </pre> <br>  Esses pacotes s√£o adicionados automaticamente √† lista de depend√™ncias do pacote que est√° sendo desenvolvido. <br><br><h4>  Propriedade DevDependencies </h4><br>  A propriedade <code>devDependencies</code> cont√©m uma lista de pacotes npm instalados como depend√™ncias de desenvolvimento: <br><br><pre> <code class="plaintext hljs">"devDependencies": { "autoprefixer": "^7.1.2", "babel-core": "^6.22.1" }</code> </pre> <br>  Essa lista √© diferente daquela armazenada na propriedade <code>dependencies</code> , uma vez que os pacotes dispon√≠veis nela s√£o instalados apenas no sistema do desenvolvedor do pacote; no uso pr√°tico do pacote, eles n√£o s√£o usados. <br><br>  Os pacotes entram nessa lista quando s√£o instalados usando npm ou yarn, da seguinte maneira: <br><br><pre> <code class="plaintext hljs">npm install --dev &lt;PACKAGENAME&gt; yarn add --dev &lt;PACKAGENAME&gt;</code> </pre> <br><h4>  Propriedade de motores </h4><br>  A propriedade <code>engines</code> indica quais vers√µes do Node.js e outros produtos de software s√£o usados ‚Äã‚Äãpara fornecer o pacote: <br><br><pre> <code class="plaintext hljs">"engines": { "node": "&gt;= 6.0.0", "npm": "&gt;= 3.0.0", "yarn": "^0.13.0" }</code> </pre> <br><h4>  Propriedade da lista de navegadores </h4><br>  A propriedade <code>browserlist</code> permite que <code>browserlist</code> relate quais navegadores (e suas vers√µes) ser√£o suportados pelo desenvolvedor do pacote: <br><br><pre> <code class="plaintext hljs">"browserslist": [ "&gt; 1%", "last 2 versions", "not ie &lt;= 8" ]</code> </pre> <br>  Esta propriedade √© usada pelo Babel, Autoprefixer e outras ferramentas.  A an√°lise desta lista permite que eles adicionem ao pacote apenas os polyfills e mecanismos auxiliares necess√°rios para os navegadores listados. <br><br>  O valor da propriedade da lista de navegadores mostrada aqui como exemplo significa que voc√™ deseja oferecer suporte a pelo menos duas vers√µes principais de todos os navegadores com pelo menos 1% de uso (esses dados s√£o obtidos no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CanIUse.com</a> ), com exce√ß√£o do IE 8 e vers√µes mais antigas deste navegador (mais isso pode ser encontrado na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">p√°gina do</a> pacote de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">listas de navegadores</a> ). <br><br><h3>  <font color="#3AC1EF">InArmazenamento nas configura√ß√µes do package.json para v√°rias ferramentas de software</font> </h3><br>  No <code>package.json</code> voc√™ pode armazenar configura√ß√µes para v√°rias ferramentas auxiliares como Babel ou ESLint. <br><br>  Cada uma dessas ferramentas possui uma propriedade especial, como <code>eslintConfig</code> ou <code>babel</code> .  Detalhes sobre o uso de tais propriedades podem ser encontrados na documenta√ß√£o dos respectivos projetos. <br><br><h3>  <font color="#3AC1EF">‚ñçSobre vers√µes de pacotes e controle de vers√£o sem√¢ntico</font> </h3><br>      ,           ,  ,       . ,   <code>~3.0.0</code>  <code>^0.13.0</code> .      ,     ,      . <br><br>  ,            ,    ,      ,      : <br><br><ul><li> <code>~</code> :       <code>~0.13.0</code>  ,     - .  ,  <code>0.13.1</code>  ,  <code>0.14.0</code> ‚Äî . </li><li> <code>^</code> :       <code>^0.13.0</code> ,  ,     -    .  ,     <code>0.13.1</code> , <code>0.14.0</code> ,   . </li><li> <code>*</code> :   ,   ,       ,    ‚Äî    . </li><li> <code>&gt;</code> :    ,   . </li><li> <code>&gt;=</code> :    ,     . </li><li> <code>&lt;=</code> :   ,       . </li><li> <code>&lt;</code> :   ,    . </li><li> <code>=</code> :      . </li><li> <code>-</code> :      ,  ‚Äî <code>2.1.0 - 2.6.2</code> . </li><li> <code>||</code> :    ,  .      <code>&lt; 2.1 || &gt; 2.6</code> . </li></ul><br>     : <br><br><ul><li>   :        ,  ,        -   . </li><li> <code>latest</code> :   ,        . </li></ul><br>     , ,     -. ,   <code>1.0.0 || &gt;=1.1.0 &lt;1.2.0</code>   ,       <code>1.0.0</code> ,  ,      <code>1.1.0</code> ,   <code>1.2.0</code> . <br><br><h2> <font color="#3AC1EF"> package-lock.json</font> </h2><br>  <code>package-lock.json</code>     npm  5.      Node.js-.    ? ,          <code>package.json</code> ,     . <br><br>          ,              ,  ,    ,  . <br><br>      ,     <code>package.json</code> .  <code>package.json</code>  ,       (-   )     . <br><br>  Git    <code>node_modules</code> ,       .        ,    <code>npm install</code>   , , ,    <code>~</code>      ,   -,     ,    ,    -. <br><br>       <code>^</code> .         ,         ,    ,     . <br><br> , -   ,   <code>npm install</code> .      ,      .  ,    ,    -      ,   ,   ,     ( )  . <br><br>  <code>package-lock.json</code>            npm          <code>npm install</code> . <br><br>    ,  ,      (  Composer  PHP)     . <br><br>  <code>package-lock.json</code>    Git-,         ,    ,  ,      ,     Git   . <br><br>      <code>package-lock.json</code>    <code>npm update</code> . <br><br><h3> <font color="#3AC1EF">‚ñç  package-lock.json</font> </h3><br>       <code>package-lock.json</code> ,      cowsay,      npm <code>install cowsay</code> : <br><br><pre> <code class="plaintext hljs">{ "requires": true, "lockfileVersion": 1, "dependencies": {   "ansi-regex": {     "version": "3.0.0",     "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-3. 0.0.tgz",     "integrity": "sha1-7QMXwyIGT3lGbAKWa922Bas32Zg="   },   "cowsay": {     "version": "1.3.1",     "resolved": "https://registry.npmjs.org/cowsay/-/cowsay-1.3.1.tgz" ,     "integrity": "sha512-3PVFe6FePVtPj1HTeLin9v8WyLl+VmM1l1H/5P+BTTDkM Ajufp+0F9eLjzRnOHzVAYeIYFF5po5NjRrgefnRMQ==",     "requires": {       "get-stdin": "^5.0.1",       "optimist": "~0.6.1",       "string-width": "~2.1.1",       "strip-eof": "^1.0.0"     }   },   "get-stdin": {     "version": "5.0.1",     "resolved": "https://registry.npmjs.org/get-stdin/-/get-stdin-5.0. 1.tgz",     "integrity": "sha1-Ei4WFZHiH/TFJTAwVpPyDmOTo5g="   },   "is-fullwidth-code-point": {     "version": "2.0.0",     "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/ is-fullwidth-code-point-2.0.0.tgz",     "integrity": "sha1-o7MKXE8ZkYMWeqq5O+764937ZU8="   },   "minimist": {     "version": "0.0.10",     "resolved": "https://registry.npmjs.org/minimist/-/minimist-0.0.10 .tgz",     "integrity": "sha1-3j+YVD2/lggr5IrRoMfNqDYwHc8="   },   "optimist": {     "version": "0.6.1",     "resolved": "https://registry.npmjs.org/optimist/-/optimist-0.6.1.tgz",     "integrity": "sha1-2j6nRob6IaGaERwybpDrFaAZZoY=",     "requires": {       "minimist": "~0.0.1",       "wordwrap": "~0.0.2"     }   },   "string-width": {     "version": "2.1.1",     "resolved": "https://registry.npmjs.org/string-width/-/string-width-2.1.1.tgz",     "integrity": "sha512-nOqH59deCq9SRHlxq1Aw85Jnt4w6KvLKqWVik6oA9ZklXLNIOlqg4F2yrT1MVaTjAqvVwdfeZ7w7aCvJD7ugkw==",     "requires": {       "is-fullwidth-code-point": "^2.0.0",       "strip-ansi": "^4.0.0"     }   },   "strip-ansi": {     "version": "4.0.0",     "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-4.0.0.tgz",     "integrity": "sha1-qEeQIusaw2iocTibY1JixQXuNo8=",     "requires": {       "ansi-regex": "^3.0.0"     }   },   "strip-eof": {     "version": "1.0.0",     "resolved": "https://registry.npmjs.org/strip-eof/-/strip-eof-1.0.0.tgz",     "integrity": "sha1-u0P/VZim6wXYm1n80SnJgzE2Br8="   },   "wordwrap": {     "version": "0.0.3",     "resolved": "https://registry.npmjs.org/wordwrap/-/wordwrap-0.0.3.tgz",     "integrity": "sha1-o9XabNXAvAAI03I0u68b7WMFkQc="   } } }</code> </pre> <br>   .    cowsay,     : <br><br><ul><li> get-stdin </li><li> optimist </li><li> string-width </li><li> strip-eof </li></ul><br>  ,   ,    ,         <code>requires</code> ,      : <br><br><ul><li> ansi-regex </li><li> is-fullwidth-code-point </li><li> minimist </li><li> wordwrap </li><li> strip-eof </li></ul><br>       ,     <code>version</code> ,   <code>resolved</code> ,    ,    <code>integrity</code> ,       . <br><br><h2> <font color="#3AC1EF"></font> </h2><br>      npm        <code>package.json</code>  <code>package-lock.json</code> .       npm    npx. <br><br>  <b>Caros leitores!</b>      ‚Äî npm  yarn? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423703/">https://habr.com/ru/post/pt423703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423693/index.html">Outra maneira de usar o Webpack 4 e a separa√ß√£o de c√≥digo</a></li>
<li><a href="../pt423695/index.html">Como se aposentar antes dos 40 anos com um milh√£o de d√≥lares em uma conta banc√°ria</a></li>
<li><a href="../pt423697/index.html">Apresentando o Spring Data JDBC</a></li>
<li><a href="../pt423699/index.html">A ‚Äúeconomia digital‚Äù aumentou de pre√ßo: 2 trilh√µes de rublos dever√£o ser alocados a partir do or√ßamento</a></li>
<li><a href="../pt423701/index.html">Guia do Node.js, parte 3: hospedagem, REPL, opera√ß√µes de console, m√≥dulos</a></li>
<li><a href="../pt423705/index.html">Manual do Node.js, parte 5: npm e npx</a></li>
<li><a href="../pt423707/index.html">O que h√° sob o cap√¥ da Jaxx. Entropia fora da caixa de 128 bits</a></li>
<li><a href="../pt423709/index.html">CSS Grid - canivete su√≠√ßo para layouts de sites e aplicativos</a></li>
<li><a href="../pt423711/index.html">Gerenciando para um nerd: de onde obter dados?</a></li>
<li><a href="../pt423713/index.html">"Made in Russia" - linguagem de programa√ß√£o WBASIC para desenvolvimento de aplicativos Web do lado do servidor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>