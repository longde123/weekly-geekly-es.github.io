<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶É üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ üçÉ Microfones, capturas de tela e v√≠deo local: como o SDK da Web Voximplant controla a m√≠dia em um navegador üë∏ ‚õ™Ô∏è üë©‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje vou falar sobre o m√≥dulo Hardware no Voximplant Web SDK. Este m√≥dulo substituiu o antigo sistema de gerenciamento de dispositivos de √°udio e v√≠de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microfones, capturas de tela e v√≠deo local: como o SDK da Web Voximplant controla a m√≠dia em um navegador</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/421481/"><br>  Hoje vou falar sobre o m√≥dulo <b>Hardware</b> no Voximplant Web SDK.  Este m√≥dulo substituiu o antigo sistema de gerenciamento de dispositivos de √°udio e v√≠deo.  Mas primeiro, um pouco sobre gerenciamento de dispositivos na pilha WebRTC e por que tudo isso √© necess√°rio. <br><br>  Raramente, os usu√°rios finais t√™m v√°rios microfones.  Ou existem v√°rios alto-falantes: por exemplo, alto-falantes comuns e fones de ouvido bluetooth;  ou alto-falante e viva-voz para smartphone. <br><br>  Mas duas c√¢meras no mundo moderno s√£o muito comuns.  Em tablets e telefones: regular e frontal.  Em laptops: interno e melhor externo.  E assim por diante e assim por diante.  O usu√°rio pode ficar muito chateado se, por padr√£o, o conjunto errado de dispositivos estiver selecionado e ele n√£o puder alter√°-los de nenhuma maneira.  Este √© o primeiro aplicativo de gerenciamento de m√≠dia no WebRTC. <br><br>  A segunda aplica√ß√£o √© o ajuste fino de √°udio e v√≠deo.  Todos os tipos de cancelamento de eco, redu√ß√£o de ru√≠do, configura√ß√£o da resolu√ß√£o de v√≠deo, taxa de quadros, balan√ßo de branco e outras coisas que o seu navegador suporta especificamente. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_pf1VzvPABM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  Anteriormente, para o gerenciamento de dispositivos, fornec√≠amos a interface de <b>restri√ß√µes</b> , e o desenvolvedor precisava definir todas as restri√ß√µes e par√¢metros da solicita√ß√£o de m√≠dia de forma independente.  Aqui est√° um pequeno exemplo de uma solicita√ß√£o de √°udio e v√≠deo totalmente personalizada: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myConstraints = { <span class="hljs-attr"><span class="hljs-attr">audio</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">sampleSize</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-attr"><span class="hljs-attr">channelCount</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">noiseSuppression</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">echoCancellation</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">video</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">width</span></span>: { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">ideal</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span> }, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-attr"><span class="hljs-attr">ideal</span></span>: <span class="hljs-number"><span class="hljs-number">1080</span></span> }, <span class="hljs-attr"><span class="hljs-attr">aspectRatio</span></span>: <span class="hljs-number"><span class="hljs-number">1.777777778</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>: { <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }, <span class="hljs-attr"><span class="hljs-attr">facingMode</span></span>: { <span class="hljs-attr"><span class="hljs-attr">exact</span></span>: <span class="hljs-string"><span class="hljs-string">"user"</span></span> } } };</code> </pre> <br>  Isso oferece uma flexibilidade incr√≠vel ao configurar √°udio e v√≠deo, mas sempre h√° um "MAS".  Como as estat√≠sticas da pesquisa de suporte mostraram, os clientes basicamente n√£o usaram essa op√ß√£o, pois somos uma plataforma amig√°vel e estamos acostumando os usu√°rios √† simplicidade.  Quem se atreveu a usar isso, muitas vezes se matou logo acima do joelho, j√° que os navegadores t√™m uma ligeira incompatibilidade neste momento no espa√ßo. <br><br>  Agora est√° claro como chegamos a essa vida.  √â hora de come√ßar a trabalhar: uma r√°pida olhada no m√≥dulo;  para uma leitura detalhada, deixarei um link para a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o em nosso site</a> . <br><br>  O ponto de entrada para este m√≥dulo √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">StreamManager</a> .  Historicamente, [a imagem com o elephant.jpg], muitas partes do nosso Web SDK s√£o singleton e essa classe n√£o √© exce√ß√£o: voc√™ pode obter uma inst√¢ncia usando a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">get ()</a> .  H√° um mar de raz√µes para isso, mas mais sobre isso outra hora, talvez. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> streamManager = VoxImplant.Hardware.StreamManager.get();</code> </pre><br>  Com o StreamManager, voc√™ pode ativar ou desativar o v√≠deo local e <br>  para obter fluxos de m√≠dia para ele - na verdade, √© tudo.  O ponto de entrada n√£o √© muito grande quando se olha para interfaces externas. <br><br><pre> <code class="javascript hljs">(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]   '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.showLocalVideo(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]   '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.hideLocalVideo(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      !'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e){ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK] -   . ,    ?!'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(e); } })();</code> </pre><br>  Um fato interessante sobre o v√≠deo local: o v√≠deo local n√£o √© transmitido ao interlocutor de forma alguma.  Por exemplo, o usu√°rio pode exibir uma imagem em HD e transmitir 320 * 240, ou vice-versa, se um v√≠deo local estiver oculto em um canto.  Abaixo, mostramos como fazer esse truque. <br><br>  Existem 3 eventos no StreamManager: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dispositivos atualizados</a> - chamados quando o usu√°rio conectou / desconectou o microfone ou a c√¢mera; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MediaRendererAdded</a> - adicionado um novo v√≠deo ou captura de tela local com visualiza√ß√µes; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MediaRendererRemoved</a> - v√≠deo local exclu√≠do ou capturas de tela com visualiza√ß√µes. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Usando a</a> fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getLocalMediaRenderers ()</a> , √© √∫til obter links para elementos DOM com v√≠deo local se voc√™ n√£o salvou o objeto em si mesmo. <br><br><pre> <code class="javascript hljs">streamManager.getLocalMediaRenderers().forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">renderer</span></span></span><span class="hljs-function"> =&gt;</span></span> { cont elementOfDOM = renderer.element; elementOfDOM.addEventListener(<span class="hljs-string"><span class="hljs-string">'on42'</span></span>,doSomething,<span class="hljs-literal"><span class="hljs-literal">true</span></span>); });</code> </pre><br>  Vamos para as configura√ß√µes de v√≠deo (as mais deliciosas, observe suas m√£os).  De repente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CameraManager</a> .  Novamente, um singleton com a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">get ()</a> chata: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cameraManager= VoxImplant.Hardware.CameraManager.get();</code> </pre><br>  Quais configura√ß√µes podemos definir?  Vamos dar uma olhada na interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CameraParams</a> : <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">strict</a> - <b>true</b> dir√° ao navegador literalmente: "Eu sei o que estou fazendo, n√£o tente consertar algo se tudo der errado!"  Se <b>falso</b> , o navegador corrigir√° humildemente as curvas de configura√ß√µes; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cameraId</a> - sele√ß√£o de dispositivo de c√¢mera.  Voc√™ pode escolher na lista que retorna <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getInputDevices ()</a> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> allMyDevices = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.CameraManager.getInputDevices();</code> </pre> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">frameRate</a> - diretamente respons√°vel pela taxa de quadros.  Esta op√ß√£o ajuda a economizar tr√°fego ou melhorar a qualidade.  Eu n√£o recomendaria definir esse valor acima de 30 e abaixo de 10 sem um teste preliminar para cada usu√°rio e fallback.  Fora desse intervalo, nem todas as c√¢meras funcionam. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">facedMode</a> - <b>true</b> inverte a imagem horizontalmente.  A op√ß√£o √© bastante nicho, porque  Para exibir um v√≠deo local, j√° fazemos imagens invertidas. </li></ul><br>  Outras tr√™s op√ß√µes s√£o respons√°veis ‚Äã‚Äãpelo tamanho do v√≠deo: <br><br><ul><li>  voc√™ pode usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">videoQuality</a> (tamb√©m preparamos a enumera√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VideoQuality</a> com um conjunto de permiss√µes da moda) </li><li>  ou voc√™ pode dimensionar manualmente em pixels atrav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">frameHeight</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">frameWidth</a> </li></ul><br>  Vamos voltar ao CameraManager e aplicar as configura√ß√µes!  Dentro, existem 2 getters e 2 setters de configura√ß√µes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getDefaultVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getCallVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">setDefaultVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">setCallVideoSettings</a> . </li></ul><br>  Tudo isso com "Padr√£o" s√£o as configura√ß√µes "padr√£o", como voc√™ pode imaginar.  Eles ser√£o usados ‚Äã‚Äãpara receber v√≠deo local, para novas chamadas de entrada e sa√≠da. <br>  E agora o foco prometido: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]         .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.setDefaultVideoSettings({ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.showLocalVideo(); cameraManager.setDefaultVideoSettings({ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">480</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newCall = client.call(<span class="hljs-string"><span class="hljs-string">'mySchoolFriendBoris'</span></span>);</code> </pre><br>  Emparelhar com <b>Chamada</b> no nome √© um pouco mais complicado.  Essas fun√ß√µes foram projetadas para receber e definir prefer√™ncias durante uma chamada que j√° est√° em andamento.  Ao alterar as configura√ß√µes, o evento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CallEvents.Updated ocorrer√°</a> . <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      .'</span></span>); cameraManager.setCallVideoSettings(newCall,{ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> }); newCall.on(VoxImplant.CallEvents.Updated,e =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]    .'</span></span>); });</code> </pre><br>  Duas fun√ß√µes do CameraManager permanecem.  Muito poderoso, mas sofisticado.  A enumera√ß√£o <b>VideoQuality</b> tem tr√™s significados interessantes: <br><br><ul><li>  VIDEO_QUALITY_HIGH; </li><li>  VIDEO_QUALITY_MEDIUM; </li><li>  VIDEO_QUALITY_LOW. </li></ul><br>  Uma pergunta l√≥gica: ‚ÄúIgor!  Se o SDK da Web conhece a melhor, pior e m√©dia qualidade, por que n√£o existe um m√©todo para listar as resolu√ß√µes suportadas pela webcam?! ‚Äù  Tsimes n√£o sabe. <br><br>  E para descobrir, voc√™ precisa literalmente ordenar todas as permiss√µes poss√≠veis.  O que eu consegui obter √© suportado.  Parece bem simples, mas na verdade leva alguns minutos.  Portanto, n√£o podemos fazer isso na inicializa√ß√£o do WebSDK, por exemplo.  Para que voc√™ possa fazer isso no momento mais confort√°vel para o usu√°rio - se voc√™ quiser fazer isso - e houver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">testResolutions</a> .  Seria bom salvar o resultado do trabalho da fun√ß√£o em localStorage e carreg√°-lo posteriormente por meio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">loadResolutionTestResult</a> quando a p√°gina for recarregada: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      ,  WebSDK   .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testResults = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.testResolutions(); localStorage.setItem(<span class="hljs-string"><span class="hljs-string">'defaultCameraResolutionTestResults'</span></span>,<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(testResolutions));</code> </pre><br>  Por √∫ltimo, mas n√£o menos importante, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AudioDeviceManager</a> .  A classe √© muito semelhante ao <b>CameraManager</b> .  Apenas para som, suas configura√ß√µes s√£o refletidas na interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AudioParams</a> : <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">strict</a> - <b>true</b> √© respons√°vel por seguir rigorosamente sua vontade; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">inputId</a> - sele√ß√£o de microfone.  Uma lista de todos os microfones pode ser obtida atrav√©s do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AudioDeviceManager.getInputDevices</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">outputId</a> - escolha dos alto-falantes.  Essa op√ß√£o funciona apenas no Chrome, outros navegadores a ignoram.  Voc√™ pode obter uma lista de dispositivos atrav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getOutputDevices</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">noiseSuppression</a> - redu√ß√£o de ru√≠do.  Por padr√£o, a redu√ß√£o de ru√≠do est√° ativada e funciona muito bem.  Mas a perda parcial de voz pode ocorrer se o usu√°rio trabalha em uma sala onde fala muito, por exemplo, em um call center.  O filtro pode apenas cometer um pequeno erro e reduzir o excesso.  Se voc√™ tiver problemas dessa natureza, vale a pena definir esta op√ß√£o como <b>false</b> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">echoCancellation</a> - remove o eco do microfone.  Ele deve ser desativado junto com a op√ß√£o anterior; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">autoGainControl</a> - inclui um mecanismo para ajustar automaticamente o ganho do microfone embutido no sistema operacional.  A op√ß√£o n√£o tem efeitos colaterais, mas sua opera√ß√£o √© altamente dependente do sistema operacional e do hardware.  √Äs vezes, pode simplesmente n√£o funcionar e o ganho ser√° constante, o que tamb√©m √© bom. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt421481/">https://habr.com/ru/post/pt421481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt421469/index.html">O Telegram concordou em transferir para os servi√ßos IP [mas n√£o para o russo] endere√ßos IP e n√∫meros de alguns usu√°rios</a></li>
<li><a href="../pt421471/index.html">Ad Exchange Server - Diferente de outros</a></li>
<li><a href="../pt421473/index.html">O que s√£o corotinas em Kotlin?</a></li>
<li><a href="../pt421475/index.html">OutOfLine - padr√£o na mem√≥ria para aplicativos C ++ de alto desempenho</a></li>
<li><a href="../pt421477/index.html">O que est√° escrito no arquivo .ssh / known_hosts</a></li>
<li><a href="../pt421485/index.html">Aviso importante para usu√°rios do Gitlab Pages</a></li>
<li><a href="../pt421487/index.html">Como fortalecer o suporte t√©cnico - 6 maneiras secretas</a></li>
<li><a href="../pt421489/index.html">Grunhir, mas dar</a></li>
<li><a href="../pt421491/index.html">Como escrever um jogo para um computador no qual n√£o h√° dispositivos de entrada e sa√≠da</a></li>
<li><a href="../pt421493/index.html">An√°lise do tr√°fego de rede de um aplicativo m√≥vel no iOS. Parte 1 - proxies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>