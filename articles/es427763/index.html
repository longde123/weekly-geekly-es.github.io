<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•† ‚Ü™Ô∏è üßùüèΩ Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, Parte 1 üî¢ üöÇ üß°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427763/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 10: ‚ÄúEjecuci√≥n simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 11: "Ur / Lenguaje de programaci√≥n web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 12: Seguridad de red <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 13: "Protocolos de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Entonces, hoy hablaremos de Kerberos, un protocolo criptogr√°ficamente seguro dise√±ado para la autenticaci√≥n mutua de computadoras y aplicaciones en la red.  Este es un protocolo para autenticar el cliente y el servidor antes de establecer una conexi√≥n entre ellos. <br><br>  As√≠ que ahora, finalmente, usaremos criptograf√≠a, a diferencia de la √∫ltima conferencia, donde analizamos la seguridad utilizando solo n√∫meros de secuencia TCP SYN. <br><br><img src="https://habrastorage.org/webt/aa/sx/c6/aasxc6pngmsryrxcw221kdinbtu.jpeg"><br><br>  Entonces hablemos de Kerberos.  ¬øQu√© est√° tratando de soportar este protocolo?  Fue creado en nuestro instituto hace 25 o 30 a√±os como parte del proyecto Athena para garantizar la interacci√≥n de m√∫ltiples servidores y computadoras de m√∫ltiples clientes. <br><br>  Imagina que tienes un servidor de archivos en alguna parte.  Quiz√°s este sea un servidor de correo conectado a la red u otros servicios de red, como impresoras.  Y todo esto simplemente est√° conectado a alguna red y no se procesa en una computadora. <br><br><img src="https://habrastorage.org/webt/iv/w_/pv/ivw_pvxrpvrfedxl-95hkfhy5sm.jpeg"><br><br>  El requisito previo para la creaci√≥n de Athena y Kerberos era que ten√≠a una m√°quina para compartir simult√°neamente, donde todo era un proceso separado, y todos pod√≠an simplemente iniciar sesi√≥n en el mismo sistema y almacenar sus archivos all√≠.  Por lo tanto, los desarrolladores quer√≠an crear un sistema distribuido m√°s conveniente. <br><br><img src="https://habrastorage.org/webt/ls/8f/2o/ls8f2og9jdzweljujcwlz5zwtos.jpeg"><br><br>  Por lo tanto, esto significaba que tendr√≠a estos servidores en un lado y un mont√≥n de estaciones de trabajo en el otro lado que los usuarios usar√≠an ellos mismos y en las que se ejecutar√≠an las aplicaciones.  Estas estaciones de trabajo se conectar√°n a estos servidores y almacenar√°n archivos de usuario, recibir√°n su correo, etc. <br><br>  El problema que quer√≠an resolver era c√≥mo autenticar a los usuarios que usan estas estaciones de trabajo para todas estas computadoras diferentes en el lado del servidor, sin tener que confiar en la red y verificar su correcci√≥n.  Esto fue en todos los sentidos un requisito de dise√±o razonable.  Debo mencionar que en ese momento, la alternativa a Kerberos era el equipo de inicio de sesi√≥n R, discutido en la √∫ltima conferencia, que parec√≠a un mal plan, ya que simplemente usan sus direcciones IP para autenticar a los usuarios. <br><br>  Kerberos ha tenido bastante √©xito, en realidad todav√≠a se usa en la red MIT y es la columna vertebral del servidor Active Directory de Microsoft.  Casi todos los productos basados ‚Äã‚Äãen Microsoft Windows Server usan Kerberos de una forma u otra. <br><br>  Pero este protocolo se desarroll√≥ hace 25 o 30 a√±os, y desde entonces se han requerido cambios, ya que hoy la gente entiende mucho m√°s sobre seguridad.  Por lo tanto, la versi√≥n actual de Kerberos es notablemente diferente en muchos aspectos de la versi√≥n descrita en los materiales para esta conferencia.  Consideraremos qu√© supuestos particulares no son lo suficientemente buenos hoy y qu√© estaba mal en la primera versi√≥n.  Esto es inevitable para el primer protocolo que realmente utiliz√≥ criptograf√≠a para autenticar a los participantes de la red en un sistema completo. <br><br>  En cualquier caso, el diagrama representado en la placa es una especie de instalaci√≥n para crear Kerberos.  Es interesante descubrir cu√°l es el modelo de confianza.  Por lo tanto, se introduce una estructura adicional en nuestro esquema: el servidor Kerberos, ubicado aqu√≠ en el lateral. <br><br><img src="https://habrastorage.org/webt/no/e5/qc/noe5qcc_mqihmsjrhd4u22btfyq.jpeg"><br><br>  Por lo tanto, nuestro tercer modelo se basa de alguna manera en el hecho de que la red no es confiable, como mencionamos en la √∫ltima conferencia.  ¬øEn qui√©n deber√≠amos confiar en este esquema Kerberos?  Por supuesto, todos los participantes de la red deben confiar en el servidor Kerberos.  Por lo tanto, los creadores del sistema en un momento sugirieron que el servidor Kerberos ser√≠a responsable de todas las comprobaciones de autenticaci√≥n de red de una forma u otra.  ¬øQu√© m√°s tenemos en esta red en la que pueda confiar? <br><br>  <b>Estudiante:</b> Los usuarios pueden confiar en sus propias m√°quinas. <br><br>  <b>Profesor:</b> s√≠, este es un buen argumento.  Hay usuarios aqu√≠ que no he dibujado.  Pero estos tipos usan alg√∫n tipo de estaci√≥n de trabajo, y de hecho, en Kerberos es muy importante que el usuario conf√≠e en su estaci√≥n de trabajo.  ¬øQu√© sucede si no conf√≠as en tu estaci√≥n de trabajo?  Porque si el usuario no conf√≠a en la estaci√≥n de trabajo, entonces simplemente puede "olfatear" su contrase√±a y actuar en su nombre. <br><br><img src="https://habrastorage.org/webt/id/ca/m4/idcam4ic2nhjlimp1e7mseuhkug.jpeg"><br><br>  <b>Estudiante:</b> un atacante puede hacer mucho m√°s, por ejemplo, al aprender su ticket para el servidor Kerberos. <br><br>  <b>Profesor:</b> s√≠, exactamente.  Cuando inicia sesi√≥n, ingresa su contrase√±a, que es a√∫n peor que un ticket.  Entonces, en realidad, hay un peque√±o problema con Kerberos si no conf√≠a en la estaci√≥n de trabajo.  Si usa su propia computadora port√°til, no es tan aterrador, pero la seguridad de una computadora p√∫blica est√° en duda.  Consideraremos qu√© puede salir mal exactamente en este caso. <br><br>  <b>Estudiante:</b> debe confiar en los administradores del servidor y asegurarse de que puedan tener acceso privilegiado a los servidores de los dem√°s. <br><br>  <b>Profesor:</b> Creo que las m√°quinas en s√≠ mismas no tienen que confiar entre s√≠, por ejemplo, el servidor de correo no tiene que confiar en el servidor de impresi√≥n o el servidor de archivos. <br><br>  <b>Estudiante:</b> no conf√≠a, pero tiene la capacidad de acceder a un servidor al que no se admite el acceso a trav√©s de otro servidor. <br><br>  <b>Profesor:</b> s√≠, eso es verdad.  Si establece una relaci√≥n de confianza entre el servidor de correo y el servidor de impresi√≥n, pero solo le da acceso al servidor de correo a sus archivos en el servidor de archivos por conveniencia, entonces esto puede ser abusado.  Por lo tanto, debe tener cuidado al introducir niveles adicionales de confianza o confianzas redundantes aqu√≠. <br><br>  ¬øQu√© m√°s importa aqu√≠?  ¬øDeben los servidores confiar de alguna manera en los usuarios o estaciones de trabajo?  Supongo que no.  El objetivo global de Kerberos era que el servidor a priori no deber√≠a conocer a todos estos usuarios o estaciones de trabajo, o saber c√≥mo autenticarlos, hasta que estos usuarios puedan demostrar criptogr√°ficamente que son usuarios leg√≠timos y deben tener acceso a sus datos o algo m√°s de lo que administra el servidor. <br><br>  Veamos c√≥mo funciona Kerberos y cu√°l es su arquitectura general.  Dibujemos un servidor Kerberos a mayor escala.  Hoy en d√≠a, se llama KDC - Centro de distribuci√≥n de claves o Centro de suministro de claves.  En alg√∫n lugar hay usuarios y servicios a los que puede conectarse.  El plan es que el servidor Kerberos ser√° responsable de almacenar la clave compartida para la comunicaci√≥n entre el servidor Kerberos y cada entidad inform√°tica en el mundo que lo rodea.  Por lo tanto, si el usuario tiene alg√∫n tipo de clave de cliente Kc, entonces el servidor Kerberos recuerda esta clave y la almacena en alg√∫n lugar dentro de s√≠ mismo.  Del mismo modo, la clave Ks para un servicio solo ser√° conocida por este servicio en s√≠, el servidor Kerberos y nadie m√°s.  Por lo tanto, puede considerarlo como un uso com√∫n de las contrase√±as cuando conoce la contrase√±a y Kerberos la conoce, pero nadie m√°s la conoce. <br><br><img src="https://habrastorage.org/webt/zz/r5/te/zzr5tegw3kqrc5gnkfbjovkfido.jpeg"><br><br>  As√≠ es como se demostrar√°n el uno al otro que "yo soy ese mismo tipo".  Por supuesto, el servidor Kerberos tendr√° que hacer un seguimiento de qui√©n posee esta clave, por lo que debe tener una tabla que almacene los nombres de usuario y los nombres de servicio, por ejemplo, serv afs (este es un servidor de archivos) y las claves correspondientes. <br><br>  Al mismo tiempo, KDC es responsable de almacenar una tabla gigante, no muy grande en t√©rminos de n√∫mero de bytes, pero muy voluminosa en el n√∫mero de registros, porque tiene en cuenta cualquier entidad inform√°tica que viva en la red MIT que el servidor Kerberos deber√≠a conocer.  Por lo tanto, tenemos dos tipos de interfaz. <br><br><img src="https://habrastorage.org/webt/o-/wu/rk/o-wurk1iestxze5fe8kj3pojzog.jpeg"><br><br>  Los materiales de la conferencia no hablan de esto con suficiente claridad, es decir, la existencia de estas 2 interfaces est√° simplemente impl√≠cita.  De hecho, en realidad hay dos interfaces para una m√°quina.  Uno de ellos se llama Kerberos, y el segundo es TGS, Ticket Granting Service o Ticket Service. <br><br>  De hecho, al final, estas son solo dos formas de hablar sobre lo mismo, y el protocolo es solo ligeramente diferente para estas dos cosas.  Por lo tanto, inicialmente, cuando un usuario inicia sesi√≥n, "habla" con la interfaz superior, Kerberos, y le env√≠a su nombre de cliente C, este puede ser su nombre de usuario en la red de la universidad Athena. <br><br>  El servidor responde a esta solicitud con un tgs ticket o informaci√≥n de ticket, discutiremos los detalles de esta informaci√≥n un poco m√°s tarde.  Luego, cuando desee chatear con alg√∫n servicio, primero deber√° ir a la interfaz de TGS y decirle: "Ya he iniciado sesi√≥n a trav√©s de la interfaz de Kerberos y ahora quiero hablar con el servidor S, que me proporcionar√° un determinado servicio". <br><br>  Entonces le dir√° a TGS sobre el servidor con el que desea hablar, despu√©s de lo cual le devolver√° algo as√≠ como un boleto para hablar con el servidor S. Luego, finalmente puede hablar con el servidor que necesita utilizando el boleto recibido para el servidor S. <br><br>  Este es un tipo de plan de alto nivel.  Entonces, ¬øpor qu√© se usan 2 interfaces aqu√≠?  Se pueden hacer muchas preguntas sobre esto.  En el caso del servidor Ks, este servicio probablemente se almacenar√° en el disco.  ¬øY qu√© pasa con este Kc en el lado del usuario?  ¬øDe d√≥nde viene este Kc en Kerberos? <br><br><img src="https://habrastorage.org/webt/cs/7t/jk/cs7tjkqvcitmqxvwynwcq9-tbz8.jpeg"><br><br>  <b>Estudiante:</b> este Kc debe estar en la base de datos, en la tabla del servidor KDC. <br><br>  <b>Profesor:</b> s√≠, bueno, la tecla C est√° aqu√≠ en la tabla, en esta gigantesca base de datos.  Pero tambi√©n debe ser conocido por el usuario, porque el usuario debe demostrar que es un usuario. <br><br>  <b>Estudiante: ¬ø</b> es una funci√≥n unidireccional que luego requiere una contrase√±a? <br><br>  <b>Profesor:</b> s√≠, en realidad tienen un plan tan inteligente, donde Kc se obtiene al descifrar la contrase√±a del usuario o alg√∫n tipo de funci√≥n de generaci√≥n de claves, para esto hay varios m√©todos diferentes.  Pero b√°sicamente tomamos la contrase√±a, la convertimos de alguna manera y obtenemos esta clave Kc.  As√≠ que esto parece una buena manera. <br><br>  Pero, ¬øpor qu√© necesitamos dos protocolos?  Despu√©s de todo, puede imaginar que simplemente solicita un boleto directamente desde la primera interfaz de Kerberos, dici√©ndole: "¬°Hola, quiero un boleto para este nombre en particular!", √âl le enviar√° el boleto de regreso, y usted puede descifrarlo usando Kc. <br><br>  <b>Estudiante: ¬ø</b> tal vez no quieren que el usuario vuelva a ingresar su contrase√±a cada vez que desea acceder a otro servicio? <br><br>  <b>Profesor: es</b> cierto, la raz√≥n de la diferencia entre las dos interfaces es que desde la primera interfaz todas las respuestas se devuelven cifradas con su clave Kc, y los creadores de Kerberos estaban preocupados por la posibilidad de guardar este Kc durante mucho tiempo.  Porque, o bien tiene que pedirle al usuario que ingrese la contrase√±a cada vez, lo cual es molesto, o de lo contrario √©l constantemente "se sienta" en la memoria.  B√°sicamente, esto es tan bueno como solo una contrase√±a de usuario, porque alguien con acceso a Kc puede mantener el acceso a los archivos del usuario hasta que el usuario pueda cambiar su contrase√±a, o incluso m√°s.  M√°s adelante consideraremos este problema con m√°s detalle. <br><br>  As√≠ que filtrar esta clave Kc es algo muy peligroso.  Por lo tanto, el objetivo de usar la primera y luego la segunda interfaz para todas las solicitudes posteriores es que realmente puede olvidar Kc tan pronto como descifre la respuesta de la interfaz TGS del servidor Kerberos.  De ahora en adelante, incluso en el caso de una fuga de clave, la funcionalidad depender√° del ticket recibido.  Entonces, en el peor de los casos, alguien tendr√° acceso a su cuenta por un par de horas, y no por un per√≠odo de tiempo ilimitado.  Esta es la raz√≥n de tal esquema con dos v√≠as de acceso a los mismos recursos. <br><br>  Entonces, antes de profundizar en la mec√°nica de c√≥mo se ven estos protocolos en la red, hablemos un poco sobre el aspecto de los nombres de Kerberos.  En cierto sentido, Kerberos puede considerarse un registro de nombres.  Es responsable de mostrar estas claves criptogr√°ficas como nombres en min√∫sculas.  Este es el tipo fundamental de operaci√≥n que realiza Kerberos.  Ver√° en la pr√≥xima conferencia por qu√© necesitamos una funci√≥n similar.  Se puede implementar de manera diferente que en Kerberos, pero es fundamentalmente muy importante tener algo similar en casi cualquier sistema de seguridad distribuido.  Entonces, veamos c√≥mo Kerberos trata con los nombres. <br><br>  Kerberos tiene algo as√≠ como llamadas de sistema para cada entidad de computadora en la base de datos de miembros de la red, y la forma principal de estos datos es solo una cadena.  Por lo tanto, puede tener algunos nombres b√°sicos en una forma como nickolai, por ejemplo.  Esta es la cadena de nombre. <br><br><img src="https://habrastorage.org/webt/n4/wu/ym/n4wuymwkej2bg3mwkvlgm7tb60q.jpeg"><br><br>  Es el par√°metro principal en alguna √°rea de Kerberos, de hecho, esto es lo que est√° en la columna izquierda de la tabla KDC.  Y tambi√©n hay algunos par√°metros adicionales que admite el protocolo.  Podr√≠a, por ejemplo, ingresar otro nombre como nickolai.extra sec, que se usar√≠a adem√°s del nombre nickolai para acceder a recursos que necesitan seguridad adicional.  Entonces quiz√°s tenga una contrase√±a para cosas realmente seguras y otra contrase√±a para mi cuenta regular. <br><br>  Kerberos ha mencionado este aspecto.  Por lo tanto, uno puede preguntarse: ¬øde d√≥nde viene el impacto?  El servicio Kerberos asigna nombres para usted a ciertas teclas, pero ¬øc√≥mo sabe qu√© nombre preguntar o qu√© nombre esperar en respuesta cuando est√° hablando con alguna computadora?  Es decir, pregunto qu√© nombres aparecen fuera del servidor Kerberos o d√≥nde aparecen exactamente estos nombres de usuario.  ¬øTienes alguna idea? <br><br>  <b>Estudiante:</b> presumiblemente puede solicitar nombres de usuario del servidor MIT. <br><br>  <b>Profesor:</b> s√≠, por supuesto.  As√≠ es como puedes enumerar estas cosas.  Adem√°s, los usuarios simplemente los ingresan cuando inician sesi√≥n, que es de donde provienen.  ¬øLos nombres de usuario aparecen en otro lugar?  ¬øDeber√≠an aparecer en otro lado? <br><br>  <b>Estudiante:</b> es posible que el acceso del usuario est√© indicado en las listas de varios servicios. <br><br>  <b>Profesor:</b> s√≠, este es un punto realmente importante, ¬øverdad?  El objetivo de Kerberos es simplemente asignar claves a los nombres.  Pero esto no le dice a qu√© debe tener acceso este nombre. <br><br>  De hecho, la forma en que las aplicaciones suelen usar Kerberos es que uno de estos servidores usa Kerberos para averiguar con qu√© nombre en min√∫scula est√° hablando.  Cuando el servidor de correo recibe una conexi√≥n desde alguna estaci√≥n de trabajo, recibe un ticket Kerberos, lo que demuestra que este usuario es Nikolai.  Despu√©s de eso, el servidor de correo descubre internamente a qu√© tiene acceso este usuario.  El servidor de archivos hace lo mismo. <br><br>  Por lo tanto, dentro de todos estos servidores hay listas de control de acceso, posiblemente listas de grupos u otras cosas que llevan a cabo la autorizaci√≥n.  Entonces Kerberos proporciona autenticaci√≥n que le muestra con qui√©n est√° hablando esa persona.  El servicio en s√≠ es responsable de la implementaci√≥n de esa parte de la autorizaci√≥n, que decide qu√© nivel de acceso debe tener en funci√≥n de su nombre de usuario.  Entonces descubrimos d√≥nde aparecen los nombres de usuario.  Hay otros nombres b√°sicos que Kerberos admite para interactuar con los servicios. <br><br>  De acuerdo con los materiales de la conferencia, los servicios se ven as√≠: rcmd.hostname.  La raz√≥n por la que necesita un nombre para uno de estos servicios es porque desea, por ejemplo, cuando se conecta a un servidor de archivos, realizar una autenticaci√≥n mutua.  Esto significa que en este procedimiento, no solo el servidor de destino descubrir√° qui√©n soy, sino que tambi√©n yo, el usuario o la estaci√≥n de trabajo, me asegurar√© de estar hablando con el servidor de archivos correcto y no con alg√∫n servidor de archivos falso que falsific√≥ el m√≠o. archivos.  Porque, tal vez, quiero mirar el archivo con mis calificaciones y enviarlo al registrador.  Por lo tanto, ser√≠a una l√°stima que alg√∫n otro servidor de archivos pudiera actuar como el servidor correcto y proporcionarme el archivo de calificaciones incorrecto. <br><br>  Por lo tanto, los servicios tambi√©n necesitan su propio nombre, y las estaciones de trabajo deben averiguar qu√© nombre espero ver cuando me conecte al servicio. <br><br><img src="https://habrastorage.org/webt/rv/fp/ke/rvfpkej9wugk_ucu5pt3ssxgfe4.jpeg"><br><br>  Como regla, en alg√∫n nivel esto proviene del usuario.  Entonces, por ejemplo, si escribo ssh.foo, esto significa que deber√≠a esperar que aparezca un nombre principal de Kerberos como rcmd.foo en el otro extremo de esta conexi√≥n.  Y si hay alguien m√°s all√≠, entonces el cliente SSH deber√≠a desconectarse y no permitir que me conecte, porque entonces me confundir√°n y comenzar√© a hablar con otra m√°quina. <br><br>  Esto plantea una pregunta interesante.  ¬øCu√°ndo podemos reutilizar nombres en Kerberos?  Por ejemplo, todos ustedes tienen cuentas en el sistema del instituto Athena.  Cuando te grad√∫es, ¬øpuede MIT destruir la entrada de tu base de datos y permitir que otra persona registre el mismo nombre de usuario?  ¬øSer√≠a una buena idea? <br><br>  <b>Estudiante: ¬ø</b> pero no solo la base de datos Kerberos, sino tambi√©n los servicios tienen una lista de nombres de usuario? <br><br>  <b>Profesor:</b> s√≠, porque estos nombres solo est√°n representados por entradas de cadena en alg√∫n lugar de la ACL en un archivo o servidor de correo.  Si borramos su entrada en la base de datos del servidor Kerberos, esto no significa que su entrada haya desaparecido por completo.  Estas entradas son independientes de la versi√≥n. <br><br>  Por ejemplo, un registro dice que Alice tiene acceso a un casillero Athena.  Luego, Alice se grad√∫a y su registro se elimina, pero alguna nueva Alice ingresa al instituto, que pasa por el proceso de registro en la base de datos Kerberos.  Al mismo tiempo, obtiene el nombre principal que es completamente id√©ntico al nombre de la antigua Alice, por lo que el servidor de archivos puede dar acceso a la nueva Alice a los archivos de la antigua Alice. <br><br>  ,  Kerberos       ,     Kerberos          .       ,       ,  ,       . <br><br>         .         ,      , , ,      ,      .  ,  ,  , -              .          ,       . ,     ,                . <br><br>    ,    .     ,       ,   ,    TGS. <br><br><img src="https://habrastorage.org/webt/lg/d8/_o/lgd8_ocxwlsxvtydhzfeawwtgco.jpeg"><br><br> ,    ,   Kerberos,    ¬´¬ª.          :        s  , IP ‚Äì   addr,   time stump,   life, ,       ,   Kc,s,       .     . <br><br><img src="https://habrastorage.org/webt/9_/hn/sw/9_hnswj4t5tsgewetdx7q9p03tk.jpeg"><br><br>      . <br><br>        ,  Kerberos  ¬´¬ª.   Ac           , IP-    , ,     .  ,    .    K,s,       ,    Kerberos     Ks.  ,         . <br><br><img src="https://habrastorage.org/webt/yi/cd/vo/yicdvogy_ssgbsmoz8-holttrsw.jpeg"><br><br>  ,    ,        Kerberos     TGS.    ,    ,         Kerberos,   ,     .       :     C,      ,     S,       TGS.       . <br><br>        Tc,s,   Ks,     ,     Ks, ,       Kc.     . <br><br><img src="https://habrastorage.org/webt/ja/wh/-k/jawh-k-gpxf2bec3_whvha2vm-a.jpeg"><br><br>      .  ,   Kerberos    ?   ,     ? <br><br> <b>:</b>   ,     ,   ,     Kc. <br><br> <b>:</b>  ,  ,   Kerberos     ,      .     : ¬´,     ,     .      ,    ,      ,    Kc¬ª.     ,           . <br><br>  ,   ,     ,          Kerberos,       Kerberos   ,       . ,  ,   -     Kerberos,       ,        . <br> :           ‚Ä¶ <br><br> <b>:</b> ,   ,      Kerberos, ?  ,    ?   ,  ,     ,       ,     ,     ,   ,      ,     ,    . <br><br><img src="https://habrastorage.org/webt/hn/l-/ga/hnl-gavysqh5frbpm17abmclcqc.jpeg"><br><br>    ¬´¬ª,   ,    , ,       ,   .  ,           ,     .        .          Kerberos,       ,   .          ,    ,   . <br><br> <b>:</b>        ?     ,   ‚Ä¶ <br><br> <b>:</b> ,        .    ,   Kerberos      ,         .       ,   ,         -         ,     ,   ,             .  30      ,         . <br><br>    Kerberos 5  :  ,   ‚Äî             .         ,  ,     ,     ,   . <br><br>   Kerberos 4      ,         , , .     ,         .      ,              ,       . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entonces, este es el plan para decirle al cliente si su boleto es v√°lido. </font><font style="vertical-align: inherit;">Solo intentan descifrarlo y ver c√≥mo funciona. </font><font style="vertical-align: inherit;">Otra pregunta interesante: ¬øpor qu√© esta clave Kc, s de alguna forma se incluye en el ticket dos veces? </font><font style="vertical-align: inherit;">Est√° presente en el ticket por separado como la clave Kc, sy est√° presente impl√≠citamente en el mismo ticket Tc, s. </font><font style="vertical-align: inherit;">¬øPor qu√© tenemos dos copias de la clave Kc, s? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27:10 min </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curso MIT "Seguridad de los sistemas inform√°ticos". </font><font style="vertical-align: inherit;">Lecci√≥n 13: Protocolos de red, parte 2</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La versi√≥n completa del curso est√° disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</b> al pagar por un per√≠odo de seis meses, puede ordenar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427763/">https://habr.com/ru/post/es427763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427751/index.html">Ideas sublimes de CudaText</a></li>
<li><a href="../es427755/index.html">Nueva versi√≥n de GitLab 11.4 con revisi√≥n por pares de solicitudes de fusi√≥n y marcas de funciones</a></li>
<li><a href="../es427757/index.html">Puertas traseras de microc√≥digo ensambladas con procesador X86</a></li>
<li><a href="../es427759/index.html">Sobre la solvencia de los problemas de circunvalaci√≥n en tiempo polin√≥mico</a></li>
<li><a href="../es427761/index.html">Implementaci√≥n del algoritmo k-means (k-means) usando el ejemplo de trabajar con p√≠xeles</a></li>
<li><a href="../es427767/index.html">Situaci√≥n: en Canad√° propusieron introducir un impuesto a la transmisi√≥n; estamos discutiendo cu√°l es el problema</a></li>
<li><a href="../es427771/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, parte 2</a></li>
<li><a href="../es427773/index.html">Escrib√≠ una extensi√≥n de navegador cruzado para pesta√±as, pero t√∫ no haces eso</a></li>
<li><a href="../es427775/index.html">Un bot disfrazado de programador corrige errores en el c√≥digo</a></li>
<li><a href="../es427779/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 13: Protocolos de red, Parte 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>