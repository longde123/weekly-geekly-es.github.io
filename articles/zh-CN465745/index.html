<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš‚ ğŸŒº ğŸ§šğŸ¿ TensorFlowæ•™ç¨‹ï¼š10åˆ†é’Ÿçš„TensorFlowåˆå­¦è€…æ•™ç¨‹[ç¿»è¯‘] ğŸ‘¯ ğŸ‘¨ğŸ¼â€ğŸš’ ğŸ‘©â€ğŸ“</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»äº†Ankit Sachanæ’°å†™çš„æ–‡ç« â€œ TensorFlowæ•™ç¨‹ï¼š10åˆ†é’Ÿå®ç”¨çš„TensorFlowè¯¾ç¨‹ï¼ˆé¢å‘å¿«é€Ÿå­¦ä¹ è€…ï¼‰â€çš„ç¿»è¯‘ã€‚ 


 æœ¬TensorFlowæ•™ç¨‹é€‚ç”¨äºå¯¹æœºå™¨å­¦ä¹ æœ‰åŸºæœ¬äº†è§£å¹¶è¯•å›¾å¼€å§‹ä½¿ç”¨TensorFlowçš„ä»»ä½•äººã€‚ 


 é¦–å…ˆï¼Œæ‚¨å¿…é¡»å®‰è£…TensorFl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>TensorFlowæ•™ç¨‹ï¼š10åˆ†é’Ÿçš„TensorFlowåˆå­¦è€…æ•™ç¨‹[ç¿»è¯‘]</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465745/"><p> å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»äº†Ankit Sachanæ’°å†™çš„æ–‡ç« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œ TensorFlowæ•™ç¨‹ï¼š10åˆ†é’Ÿå®ç”¨çš„TensorFlowè¯¾ç¨‹ï¼ˆé¢å‘å¿«é€Ÿå­¦ä¹ è€…ï¼‰â€</a>çš„ç¿»è¯‘ã€‚ </p><br><p> æœ¬TensorFlowæ•™ç¨‹é€‚ç”¨äºå¯¹æœºå™¨å­¦ä¹ æœ‰åŸºæœ¬äº†è§£å¹¶è¯•å›¾å¼€å§‹ä½¿ç”¨TensorFlowçš„ä»»ä½•äººã€‚ </p><a name="habracut"></a><br><p> é¦–å…ˆï¼Œæ‚¨å¿…é¡»å®‰è£…TensorFlowã€‚ æ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœ¬</a>æŒ‡å—ä¸­å®‰è£…å®ƒã€‚ æœ¬è¯¾åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå·¥ä½œç¤ºä¾‹è§£é‡ŠåŸºç¡€çŸ¥è¯†ï¼›ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬å»ºç«‹çº¿æ€§å›å½’æ¨¡å‹ã€‚ </p><br><h2 id="chast-1-osnovy-tensorflow"> ç¬¬1éƒ¨åˆ†ã€‚TensorFlowåŸºç¡€ </h2><br><p>  TensorFlowæ˜¯ä¸€ä¸ªæ•°å­—åº“ï¼Œå…¶ä¸­æ•°æ®é€šè¿‡å›¾å½¢ä¼ é€’ã€‚  TensorFlowä¸­çš„æ•°æ®ç”±nç»´æ•°ç»„-å¼ é‡è¡¨ç¤ºã€‚ è¯¥å›¾ç”±æ•°æ®ï¼ˆå¼ é‡ï¼‰å’Œæ•°å­¦è¿ç®—ç»„æˆã€‚ </p><br><p> åœ¨å›¾çš„èŠ‚ç‚¹ä¸­æ˜¯æ•°å­¦è¿ç®—ã€‚ </p><br><p> å›¾çš„è¾¹ç¼˜è¡¨ç¤ºåœ¨æ“ä½œä¹‹é—´â€œæµåŠ¨â€çš„å¼ é‡ã€‚ </p><br><p>  TensorFlowä¸å¦ä¸€æ–¹é¢çš„ä»»ä½•å…¶ä»–ç¼–ç¨‹è¯­è¨€éƒ½æœ‰å¾ˆå¤§ä¸åŒã€‚ åœ¨TensorFlowä¸­ï¼Œæ‚¨é¦–å…ˆéœ€è¦åˆ›å»ºè¦åˆ›å»ºçš„é¡¹ç›®ã€‚ æœ€åˆï¼Œåœ¨åˆ›å»ºå›¾å½¢æ—¶ï¼Œå˜é‡æ²¡æœ‰æ„ä¹‰ã€‚ ç¨åï¼Œå½“æ‚¨åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å›¾å½¢æ—¶ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªä¼šè¯ä¸­è¿è¡Œå®ƒï¼Œç„¶åå˜é‡å°†é‡‡ç”¨ä»»ä½•å€¼ã€‚ </p><br><p> è®©æˆ‘ä»¬ä»è¾¹åšè¾¹å¼€å§‹å­¦ä¹ ã€‚ è¿è¡Œpythonå¹¶å¯¼å…¥TensorFlowï¼š </p><br><pre><code class="python hljs">~$ python Python <span class="hljs-number"><span class="hljs-number">2.7</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span> (default, Oct <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>) [GCC <span class="hljs-number"><span class="hljs-number">4.8</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>] on linux2 Type <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-string"><span class="hljs-string">"copyright"</span></span>, <span class="hljs-string"><span class="hljs-string">"credits"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">"license"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;&gt; &gt;&gt;&gt;<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf</code> </pre> <br><p> å›¾å½¢ç”¨äºå®šä¹‰æ“ä½œï¼Œå¹¶ä¸”æ‰€æœ‰æ“ä½œå‡åœ¨ä¼šè¯ä¸­æ‰§è¡Œã€‚ å›¾å½¢å’Œä¼šè¯æ˜¯å½¼æ­¤ç‹¬ç«‹åˆ›å»ºçš„ã€‚ å°†å›¾å½¢è§†ä¸ºæ–½å·¥é¡¹ç›®ï¼Œå°†ä¼šè¯è§†ä¸ºæ–½å·¥ç°åœºã€‚ </p><br><h4 id="11-grafy-v-tensorflow">  1.1ã€‚  TensorFlowä¸­çš„å›¾å½¢ </h4><br><p> å›¾å½¢æ˜¯TensorFlowçš„åŸºç¡€ï¼Œæ‰€æœ‰è®¡ç®—ï¼ˆæ“ä½œï¼‰ï¼Œå˜é‡éƒ½åœ¨å›¾å½¢ä¸Šã€‚ ä»£ç ä¸­å‘ç”Ÿçš„æ‰€æœ‰äº‹æƒ…éƒ½åœ¨TensorFlowæä¾›çš„é»˜è®¤å›¾è¡¨ä¸Šã€‚ æ‚¨å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼è®¿é—®æ­¤å›¾ï¼š </p><br><pre> <code class="python hljs">graph = tf.get_default_graph()</code> </pre> <br><p> å› æ­¤ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤åˆ—ä¸­è·å¾—æ‰€æœ‰æ“ä½œçš„åˆ—è¡¨ï¼š </p><br><pre> <code class="python hljs">graph.get_operations()</code> </pre> <br><p> æ‚¨çš„å›¾è¡¨ç°åœ¨ä¸ºç©ºã€‚ å¦‚æœéœ€è¦æ‰“å°æ¯ä¸ªæ“ä½œçš„åç§°ï¼Œè¯·è¿è¡Œä»¥ä¸‹ä»£ç ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> op <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> graph.get_operations(): print(op.name)</code> </pre> <br><p> è¾“å‡ºå°†å†æ¬¡ä¸ºç©ºç™½ã€‚ å°†æ¥ï¼Œåœ¨å‘å›¾å½¢æ·»åŠ æ“ä½œåï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ­¤ä»£ç æ˜¾ç¤ºå…¶åç§°ã€‚ </p><br><h4 id="12-sessii-v-tensorflow">  1.2ã€‚  TensorFlowä¸Šçš„ä¼šè®® </h4><br><p> è¯¥å›¾ä»…å®šä¹‰è®¡ç®—ï¼ˆåˆ›å»ºé¡¹ç›®ï¼‰ï¼Œä½†æ²¡æœ‰ä»»ä½•å˜é‡ï¼Œæ²¡æœ‰å€¼ï¼Œé™¤éæˆ‘ä»¬åœ¨ä¼šè¯ä¸­è¿è¡Œè¯¥å›¾æˆ–è¯¥å›¾çš„ä¸€éƒ¨åˆ†ã€‚ </p><br><p> æ‚¨å¯ä»¥è¿™æ ·åˆ›å»ºä¼šè¯ï¼š </p><br><pre> <code class="python hljs">sess=tf.Session() ... your code ... ... your code ... sess.close()</code> </pre> <br><p> ä¸è¦å¿˜è®°å¯åŠ¨ä¼šè¯ï¼Œæ‚¨éœ€è¦ç»“æŸå®ƒæˆ–ä½¿ç”¨<strong>with ... as</strong>å—ï¼Œä¾‹å¦‚ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: sess.run(f)</code> </pre> <br><p> ä½¿ç”¨æ­¤æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ä¼šè¯å°†åœ¨<strong>with</strong>å—ç»“æŸæ—¶è‡ªåŠ¨å…³é—­ </p><br><h4 id="13-tenzory-v-tensorflow">  1.3ã€‚  TensorFlowä¸­çš„å¼ é‡ </h4><br><p>  TensorFlowå°†æ•°æ®å­˜å‚¨åœ¨å¼ é‡ä¸­-ç±»ä¼¼äºnumPyæ•°ç»„çš„å¤šç»´æ•°ç»„ã€‚ </p><br><p>  aï¼‰ <strong>å¸¸é‡</strong>æ˜¯æ— æ³•æ›´æ”¹çš„å€¼ã€‚ å®ƒä»¬çš„å®šä¹‰å¦‚ä¸‹ï¼š </p><br><pre> <code class="python hljs">a=tf.constant(<span class="hljs-number"><span class="hljs-number">1.0</span></span>)</code> </pre> <br><p> ä½†æ˜¯ï¼Œå½“æ‚¨å°è¯•è¾“å‡ºæ—¶ï¼Œä¼šå¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š </p><br><pre> <code class="python hljs">print(a) &lt;tf.Tenso<span class="hljs-string"><span class="hljs-string">r'Const:0'</span></span> shape=() dtype=float32&gt; print(a) Tensor(<span class="hljs-string"><span class="hljs-string">"Const:0"</span></span>, shape=(), dtype=float32)</code> </pre> <br><p> å¦‚æ‚¨æ‰€è§ï¼Œè¿™ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼ˆä¾‹å¦‚pythonï¼‰ä¸åŒã€‚ åœ¨å¼€å§‹ä¼šè¯ä¹‹å‰ï¼Œæ‚¨æ— æ³•æ‰“å°æˆ–è®¿é—®å¸¸é‡ã€‚ è®©æˆ‘ä»¬è¿™æ ·åšï¼š </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: print(sess.run(a))</code> </pre> <br><p> æ­¤ä»£ç å°†è¾“å‡º1.0 </p><br><p>  bï¼‰ <strong>å˜é‡</strong>ä¹Ÿæ˜¯å¼ é‡ï¼Œç±»ä¼¼äºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„å˜é‡ï¼š </p><br><pre> <code class="python hljs">&gt;&gt;&gt;b = tf.Variable(<span class="hljs-number"><span class="hljs-number">2.0</span></span>,name=<span class="hljs-string"><span class="hljs-string">"test_var"</span></span>) &gt;&gt;&gt;b &lt;tensorflow.python.ops.variables.Variable object at <span class="hljs-number"><span class="hljs-number">0x7f37ebda1990</span></span>&gt;</code> </pre> <br><p> ä¸å¸¸é‡ä¸åŒï¼Œå˜é‡å¯ä»¥æ›´æ”¹å…¶å†…å®¹ã€‚ ä½†æ˜¯ï¼Œå¿…é¡»åœ¨å•ç‹¬çš„åˆå§‹åŒ–æ“ä½œä¸­åˆå§‹åŒ–TensorFlowä¸­çš„å˜é‡ã€‚ åˆå§‹åŒ–æ‰€æœ‰å˜é‡å¯èƒ½å¾ˆè€—æ—¶ï¼Œä½†æ˜¯TensorFlowæä¾›äº†ä¸€ç§å¯ä»¥ç«‹å³åˆå§‹åŒ–æ‰€æœ‰å˜é‡çš„æœºåˆ¶ï¼š </p><br><pre> <code class="python hljs">init_op = tf.global_variables_initializer()</code> </pre> <br><p> ç°åœ¨ï¼Œæ‚¨éœ€è¦å¯åŠ¨åˆå§‹åŒ–æ“ä½œï¼Œç„¶åæ‰èƒ½å°è¯•è®¿é—®å˜é‡ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: sess.run(init_op) print(sess.run(b))</code> </pre> <br><p> è¯¥ä»£ç å°†è¾“å‡º2.0 <br> å¦‚æœç°åœ¨å°è¯•åœ¨å›¾å½¢ä¸­æ‰“å°æ“ä½œ </p><br><pre> <code class="python hljs">graph = tf.get_default_graph() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> op <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> graph.get_operations(): print(op.name)</code> </pre> <br><p> æ‚¨å°†è·å¾—ä»¥ä¸‹è¾“å‡ºï¼š </p><br><pre> <code class="plaintext hljs">Const test_var/initial_value test_var test_var/Assign test_var/read init</code> </pre> <br><p> å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬å°†â€œ aâ€å£°æ˜ä¸ºConstå¹¶å°†å…¶æ·»åŠ åˆ°å›¾è¡¨ä¸­ã€‚ åŒæ ·ï¼Œå¯¹äºå˜é‡bï¼Œè®¸å¤štest_varçŠ¶æ€è¢«æ·»åŠ åˆ°TensorFlowå›¾ä¸­ï¼Œä¾‹å¦‚test_var / initial_valueï¼Œtest_var / readç­‰ã€‚æ‚¨å¯ä»¥ä½¿ç”¨TensorBoardå¯è§†åŒ–æ•´ä¸ªç½‘ç»œï¼Œè¿™æ˜¯ç”¨äºå¯è§†åŒ–TensorFlowå›¾å’Œå­¦ä¹ è¿‡ç¨‹çš„å·¥å…·ã€‚ </p><br><p>  cï¼‰ <strong>å ä½ç¬¦</strong>æ˜¯ç­‰å¾…ç”¨æ•°æ®åˆå§‹åŒ–çš„å¼ é‡ã€‚ å®ƒä»¬ç”¨äºä»…åœ¨ä¼šè¯ä¸­å®é™…æ‰§è¡Œä»£ç æ—¶æ‰æä¾›çš„æ•°æ®ã€‚ è½¬ç§»åˆ°å ä½ç¬¦çš„æ˜¯ä¸€æœ¬å­—å…¸ï¼Œå…¶ä¸­åŒ…å«å ä½ç¬¦çš„åç§°åŠå…¶å«ä¹‰ï¼š </p><br><pre> <code class="python hljs">a = tf.placeholder(<span class="hljs-string"><span class="hljs-string">"float"</span></span>) b = tf.placeholder(<span class="hljs-string"><span class="hljs-string">"float"</span></span>) y = tf.multiply(a, b) fd = {a: <span class="hljs-number"><span class="hljs-number">2</span></span>, b: <span class="hljs-number"><span class="hljs-number">3</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: print(sess.run(y, fd))</code> </pre> <br><p> è¯¥ä»£ç å°†è¾“å‡º6.0 </p><br><h4 id="14-ustroystva-v-tensorflow">  1.4ã€‚  TensorFlowä¸­çš„è®¾å¤‡ </h4><br><p>  TensorFlowå…·æœ‰éå¸¸å¼ºå¤§çš„å†…ç½®åŠŸèƒ½ï¼Œå¯ä»¥åœ¨GPUï¼ŒCPUæˆ–é›†ç¾¤ä¸Šè¿è¡Œæ‚¨çš„ä»£ç ã€‚ å®ƒä½¿æ‚¨æœ‰æœºä¼šé€‰æ‹©è¦åœ¨å…¶ä¸Šè¿è¡Œä»£ç çš„è®¾å¤‡ã€‚ ä½†æ˜¯ï¼Œå½“æ‚¨åˆšå¼€å§‹ä½¿ç”¨TFæ—¶ï¼Œæ— éœ€è€ƒè™‘è¿™ä¸€ç‚¹ã€‚ <br> å› æ­¤ï¼Œè¿™æ˜¯TensorFlowä¸­çš„è®¡ç®—å¦‚ä½•å·¥ä½œçš„å®Œæ•´ç¤ºæ„å›¾ï¼š <br><img src="https://habrastorage.org/getpro/habr/post_images/766/e0f/632/766e0f632420b671d966449d12a79b0a.webp" alt="å›¾ç‰‡"></p><br><h2 id="chast-2-tutorial-po-tensorflow-s-prostym-primerom"> ç¬¬2éƒ¨åˆ†ã€‚TensorFlowæ•™ç¨‹å’Œä¸€ä¸ªç®€å•ç¤ºä¾‹ </h2><br><p> åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹è¿è¡Œçº¿æ€§å›å½’çš„ä»£ç ã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘ä»¬å°†åœ¨ä»£ç ä¸­ä½¿ç”¨çš„ä¸€äº›åŸºæœ¬TensorFlowå‡½æ•°ã€‚ </p><br><p> åˆ›å»ºéšæœºæ­£æ€åˆ†å¸ƒï¼š </p><br><p> ä½¿ç”¨<strong>random_normal</strong>ä»æ­£æ€åˆ†å¸ƒä¸­åˆ›å»ºéšæœºå€¼ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œwæ˜¯å°ºå¯¸ä¸º784 * 10çš„å˜é‡ï¼Œå…¶éšæœºå€¼çš„æ ‡å‡†åå·®ä¸º0.01ã€‚ </p><br><pre> <code class="python hljs">w=tf.Variable(tf.random_normal([<span class="hljs-number"><span class="hljs-number">784</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>], stddev=<span class="hljs-number"><span class="hljs-number">0.01</span></span>))</code> </pre> <br><p>  <strong>Reduce_mean-è®¡ç®—</strong>æ•°ç»„<strong>çš„</strong>å¹³å‡å€¼ </p><br><pre> <code class="python hljs">b = tf.Variable([<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">60</span></span>],name=<span class="hljs-string"><span class="hljs-string">'t'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: sess.run(tf.initialize_all_variables()) sess.run(tf.reduce_mean(b))</code> </pre> <br><p> è¯¥ä»£ç å°†è¾“å‡º35 </p><br><p>  <strong>argmax-</strong>ä¸Pythonä¸­çš„<strong>argmax</strong>éå¸¸ç›¸ä¼¼ã€‚ ä»å¼ é‡æ²¿æŒ‡å®šè½´è·å–æœ€å¤§å€¼ã€‚ </p><br><pre> <code class="python hljs">a=[ [<span class="hljs-number"><span class="hljs-number">0.1</span></span>, <span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">0.3</span></span> ], [<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span> ] ] b = tf.Variable(a,name=<span class="hljs-string"><span class="hljs-string">'b'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: sess.run(tf.initialize_all_variables()) sess.run(tf.argmax(b,<span class="hljs-number"><span class="hljs-number">1</span></span>))</code> </pre> <br><p> æ‰“å°ä¸€ä¸ªæ•°ç»„ï¼ˆ[2ï¼Œ0]ï¼‰ï¼Œè¯¥æ•°ç»„åœ¨æ¯è¡Œaä¸­æ˜¾ç¤ºæœ€å¤§å€¼çš„ç´¢å¼•ã€‚ </p><br><h4 id="zadacha-lineynoy-regressii"> çº¿æ€§å›å½’é—®é¢˜ </h4><br><p> é—®é¢˜é™ˆè¿°ï¼šæœ‰å¤§é‡æ•°æ®ç‚¹ï¼Œè¯•å›¾ä¸å®ƒä»¬åŒ¹é…ä¸€æ¡ç›´çº¿ã€‚ å¯¹äºæ­¤ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†åˆ›å»º100ä¸ªæ•°æ®ç‚¹ï¼Œå¹¶å°è¯•å°†çº¿ä¸å®ƒä»¬åŒ¹é…ã€‚ </p><br><h4 id="21-sozdanie-trenirovochnogo-nabora-dannyh">  2.1ã€‚ åˆ›å»ºè®­ç»ƒæ•°æ®é›† </h4><br><p>  trainXçš„å€¼ä»‹äº-1å’Œ1ä¹‹é—´ï¼ŒtrainYçš„å€¼æ˜¯trainXå€¼çš„3å€åŠ ä¸Šä¸€äº›éšæœºå˜é‡ï¼š </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np trainX = np.linspace(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">101</span></span>) trainY = <span class="hljs-number"><span class="hljs-number">3</span></span> * trainX + np.random.randn(*trainX.shape) * <span class="hljs-number"><span class="hljs-number">0.33</span></span></code> </pre> <br><h4 id="22-pleysholdery">  2.2ã€‚ å ä½ç¬¦ </h4><br><pre> <code class="python hljs">X = tf.placeholder(<span class="hljs-string"><span class="hljs-string">"float"</span></span>) Y = tf.placeholder(<span class="hljs-string"><span class="hljs-string">"float"</span></span>)</code> </pre> <br><h4 id="23-modelirovanie">  2.3ã€‚ é€ å‹ </h4><br><p> çº¿æ€§å›å½’æ¨¡å‹çš„å½¢å¼ä¸º </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>Y</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mo>=</mo><mi>w</mi><mo>&amp;#x2217;</mo><mi>x</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.221ex" height="2.057ex" viewBox="0 -780.1 6984 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-59" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-6D" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-6F" x="1642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-64" x="2127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-65" x="2651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-6C" x="3117" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMAIN-3D" x="3693" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-77" x="4750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMAIN-2217" x="5688" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/465745/&amp;usg=ALkJrhiLPPihaU1pQZP29h8nKo6kL4FDJA#MJMATHI-78" x="6411" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>Y</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mo>=</mo><mi>w</mi><mo>âˆ—</mo><mi>x</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> Ymodel = w * x </script></p><br>  -æˆ‘ä»¬å¿…é¡»è®¡ç®—wçš„å€¼ã€‚ è®©æˆ‘ä»¬å°†wåˆå§‹åŒ–ä¸ºé›¶å¹¶åˆ›å»ºä¸€ä¸ªæ¨¡å‹æ¥è§£å†³æ­¤é—®é¢˜ã€‚ æˆ‘ä»¬å°†æˆæœ¬å‡½æ•°å®šä¹‰ä¸º <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>&amp;#xFF08;Y-y__model&amp;#xFF09;^&amp;#xA0;2</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">ï¼ˆY-y__modelï¼‰^&nbsp;2</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>ï¼ˆY-y__modelï¼‰^&nbsp;2</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2">ï¼ˆY-y__modelï¼‰^ 2 </script></p><br>  TensorFlowå¸¦æœ‰è®¸å¤šä¼˜åŒ–å™¨ï¼Œè¿™äº›ä¼˜åŒ–å™¨åœ¨æ¯æ¬¡è¿­ä»£åéƒ½ä¼šè®¡ç®—å’Œæ›´æ–°æ¢¯åº¦ï¼Œä»¥å°½é‡å‡å°‘æŒ‡å®šçš„æˆæœ¬å‡½æ•°ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨GradientDescentOptimizerå®šä¹‰ä¸€ä¸ªå­¦ä¹ æ“ä½œï¼Œä»¥ä¾¿åœ¨å­¦ä¹ é€Ÿåº¦ä¸º0.01æ—¶æœ€å°åŒ–æˆæœ¬å‡½æ•°ã€‚ ç„¶åï¼Œæˆ‘ä»¬å¾ªç¯è¿è¡Œæ­¤å­¦ä¹ æ“ä½œã€‚ <br><pre> <code class="python hljs">w = tf.Variable(<span class="hljs-number"><span class="hljs-number">0.0</span></span>, name=<span class="hljs-string"><span class="hljs-string">"weights"</span></span>) y_model = tf.multiply(X, w) cost = (tf.pow(Y-y_model, <span class="hljs-number"><span class="hljs-number">2</span></span>)) train_op = tf.train.GradientDescentOptimizer(<span class="hljs-number"><span class="hljs-number">0.01</span></span>).minimize(cost)</code> </pre> <br><h4 id="24-obuchenie">  2.4ã€‚ åŸ¹è®­è¯¾ç¨‹ </h4><br><p> åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»…å®šä¹‰äº†ä¸€ä¸ªå›¾å½¢ã€‚ æ²¡æœ‰å‘ç”Ÿä»»ä½•è®¡ç®—ï¼ŒTensorFlowå˜é‡éƒ½ä¸é‡è¦ã€‚ è¦è¿è¡Œæ­¤å›¾ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¼šè¯å¹¶æ‰§è¡Œå®ƒã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ‰€æœ‰å˜é‡åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–æ“ä½œï¼š </p><br><pre> <code class="python hljs">init = tf.initialize_all_variables() <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: sess.run(init) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (x, y) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(trainX, trainY): sess.run(train_op, feed_dict={X: x, Y: y}) print(sess.run(w))</code> </pre> <br><p> è¯·æ³¨æ„ï¼Œé¦–å…ˆè¦åšçš„æ˜¯é€šè¿‡åœ¨<strong>session.runï¼ˆï¼‰</strong>å†…éƒ¨è°ƒç”¨<strong>init</strong>æ¥åˆå§‹åŒ–å˜é‡ã€‚ ç¨åæˆ‘ä»¬è¿è¡Œ<strong>train_op</strong> ï¼Œå–‚å¥¹<strong>feed_dict</strong> ã€‚ æœ€åï¼Œæˆ‘ä»¬è¾“å‡ºwçš„å€¼ï¼ˆå†æ¬¡åœ¨sess.runï¼ˆï¼‰å†…éƒ¨ï¼‰ï¼Œè¯¥å€¼åº”çº¦ä¸º3ã€‚ </p><br><h4 id="uprazhnenie"> ç»ƒä¹ ï¼š </h4><br><p> å¦‚æœåœ¨æ­¤ä»£ç ä¹‹ååˆ›å»ºä¸€ä¸ªæ–°ä¼šè¯å¹¶å°è¯•æ‰“å°wï¼Œå°†è¾“å‡ºä»€ä¹ˆï¼Ÿ </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> tf.Session() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sess: sess.run(init) print(sess.run(w))</code> </pre> <br><p> æ˜¯çš„ï¼Œæ‚¨ç†è§£æ­£ç¡®ï¼Œå°†æ˜¾ç¤º0.0ã€‚ ä¸€æ—¦æˆ‘ä»¬ç¦»å¼€äº†ä¹‹å‰åˆ›å»ºçš„ä¼šè¯ï¼Œæ‰€æœ‰æ“ä½œä¾¿ä¸å¤å­˜åœ¨ã€‚ </p><br><p> æˆ‘å¸Œæœ›æœ¬æ•™ç¨‹å¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿå…¥é—¨TensorFlowã€‚ è¯·éšæ—¶åœ¨è¯„è®ºä¸­æå‡ºæ‚¨çš„é—®é¢˜ã€‚ å®Œæ•´çš„ä»£ç å¯ä»¥åœ¨<a href="">è¿™é‡Œ</a>ä¸‹è½½ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN465745/">https://habr.com/ru/post/zh-CN465745/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN465733/index.html">å¦‚æœè¯ä¹¦è…çƒ‚å¹¶ä¸”ç¾¤é›†å˜æˆå—ç“œæ€ä¹ˆåŠï¼Ÿ</a></li>
<li><a href="../zh-CN465735/index.html">MIC-7900è®¡ç®—æœºä¸­çš„è¢«åŠ¨å†·å´ç³»ç»Ÿå¦‚ä½•</a></li>
<li><a href="../zh-CN465737/index.html">æ¡‘è¾¾æ‹‰ç›ç­›</a></li>
<li><a href="../zh-CN465741/index.html">é‡å­çº ç¼ å°†å¦‚ä½•å¸®åŠ©æ£€æµ‹å¼•åŠ›æ³¢</a></li>
<li><a href="../zh-CN465743/index.html">çº¿æ€§å›å½’åŠå…¶æ¢å¤æ–¹æ³•</a></li>
<li><a href="../zh-CN465747/index.html">ç¥ç»ç»æµå­¦ã€‚ 2030å¹´åˆ›ä¸šçš„æƒ³æ³•</a></li>
<li><a href="../zh-CN465749/index.html">å¥½ä¸å¥½çš„é¢è¯•</a></li>
<li><a href="../zh-CN465751/index.html">æ•…äº‹æ¸¸æˆ</a></li>
<li><a href="../zh-CN465753/index.html">æ¯”è¾ƒå™¨çš„æ¯”è¾ƒï¼Œç”¨äºåŒæ­¥MS SQL Serverçš„æ¶æ„å’Œæ•°æ®åº“æ•°æ®</a></li>
<li><a href="../zh-CN465755/index.html">å…«æœˆæœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½æ–°é—»æ‘˜è¦</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>