<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧞 👨🏻‍🏫 ⏯️ 为旧手机创建演示-AONDEMO 🚂 🧒 🏗️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="自从我熟悉波兰Lyra II的经典示例中的这种计算机亚文化现象以来，我就想进行演示。 我也经常想在最大的俄罗斯demopati展览馆里展出一些东西，但是每次我的手都没伸手的时候。 最终，以Van Damme的风格（从转盘上两次击打）可以同时满足这两个需求-制作和设置AONDEMO 。 在竞赛ZX S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>为旧手机创建演示-AONDEMO</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421961/">自从我熟悉波兰<em>Lyra II</em>的经典示例中的这种计算机亚文化现象以来，我就想进行演示。 我也经常想在最大的俄罗斯demopati展览馆里展出一些东西，但是每次我的手都没伸手的时候。 最终，以Van Damme的风格（从转盘上两次击打）可以同时满足这两个需求-制作和设置<em>AONDEMO</em> 。 在竞赛<em>ZX Spectrum 640K演示</em> 。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GPG6a__Q0Sg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 我们为您提供有关如何过上这种生活的详细指南。 <br><a name="habracut"></a><br><h3> 故事 </h3><br> 具有自动呼叫者ID（Caller ID）的电话，也称为“呼叫者ID”或“电子秘书”，于1989年左右出现在苏联，在接下来的15年中，它迅速发展起来，从为学生，失业的工程师（以及装配人员）赚钱的方式频谱）和整个合作社，这是相当大的公司的主要活动主题。 在1990年代中期，几乎在每个公寓中都发现了这样的电话，并且电话网络中的任何用户一次都可以通过听筒中发出的哔哔声来了解现在是否确定了他的电话号码（伪哔哔声和请求的特征声音）。 到2004年，此类设备的流行性消失了，首先在PBX上确定号码的服务开始收费，然后完全废除了，取而代之的是更现代的欧洲标准。 移动通信的普及迅速将有线电话带入了地下深处，目前尚不清楚谁是AON 90年代（ <em>Palikha</em> ）所要求的“精英”后代。 <br><br> 早期呼叫者ID的开发人员和汇编人员的情况是与国内Spectrum相平行的一种现实。 业余无线电根源和浪漫。 自发发展，发展和手工生产。 相似的硬件，相似的兴趣，相似的时期和受欢迎程度。 起初有很多人同时做这两项。 全联盟软件的年轻作者（当时是<em>俄罗斯</em>的作家帕维尔·苏霍多尔斯基（Pavel Sukhodolsky）大约15岁），未经选择地相互借鉴该代码，该代码中的版权和消息，fidosny地址，新闻界的文章，书籍，神话等等。 关于数字时代开始的故事，这是一个非常大规模的但已经被时间沙漏彻底掩盖的故事，仍在等待其研究人员。 <br><br><h3> 来电显示和我 </h3><br> 我与AON的相识发生在90年代上半叶，那是在我在Spectrum和Dandy上看到的第一场比赛之后，但是不久之后才开始进行创意编程活动。 我喜欢在这些手机上闲逛，尝试使用新的或不熟悉的固件中的按键序列，聆听“计算机”版本中流行的旋律，并对“计算机”的声音感到惊讶，以及阅读说明中提到的未知物品“磁带记录器”，“安全循环” ，“语音卡”，“提示音”。 一个儿时的朋友帮助他的父亲组装了这样的设备，我很喜欢电子产品，对计算机产生了兴趣，因此从一开始就涉足Z80，BB55和其他神奇符号的秘密知识。 同时，“决定因素”开始出现在所有朋友中。 他们经常摔倒在我手中，要求修理，而我却做到了，有时成功了，但常常没有成功。 在2000年代，这项活动无济于事。 <br><br>  2013年，在挖掘公寓最远的角落时，我遇到了几个幸存的电话，并回想起过去。 稍后，当时在1位音乐，DIY合成器以及特别是诸如KIM-1之类的旧计算机领域的研究使我认为AON是一种现成的，成熟的单板计算机，可用于非标准的音乐用途（例如鼓机或音序器）。 出于热情，我开始编写模拟器并分解旧的固件，但是很快就可以很明显地发现，先前发现的手机在清洁过程中非常成功。 该话题被推迟了。 <br><br> 逐渐产生各种兴趣，思想和主题-PC扬声器PCSPE的发展，对带有AON的旧手机及其历史的记忆和兴趣，阅读<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">155la3</a>网站上有关苏联罕见的无线电组件的信息（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">令人惊叹的段指标！</a> ），关于此铁的音乐用途的旧想法，许多Avito上的呼叫者ID以及用于各种项目的电子备件和工具，在仿真器上的持续工作等，已发展成为正确的方案。 在<em>2018年Multimatograph之</em>前不久<em>，</em>终于在实体“演示”和“电话”之间建立<em>了</em>逻辑联系（据我所记得，这是由所见的“计算器演示”引起的），开始了有目的的工作。 当然，只要一点点就可以在一周内完成任何重大工作，但速度变慢了，但是随着<em>CC2018</em>的临近而恢复了。 按照最好的传统，通过在聚会前两天和晚上的辛勤工作和不懈的努力，我设法发明，编写和调试了大多数计划，拍摄和编辑了视频，并将作品清晨发送给了比赛。 <br><br> 发布之后，我发现在<i>Wild ompo</i>的作品中，七段式显示并不是稀罕的客人。 但是我从未见过这样的人，也从未听说过他们。 <br><br><h3> 铁 </h3><br><img src="https://habrastorage.org/webt/lw/qj/hj/lwqjhjrtueqv8stcetbig1rfxtg.jpeg"><br><br> 实际上，AON是最简单的单板计算机，具有七段显示器，电话键盘和电话线接口。 在过去的十五年时间里，铁杆发生了变化，从1989年的KR580VM80（i8080）设计到<em>俄罗斯电信</em> 2003年的定制<i>R100-XP</i>芯片（8051，外围设备和模拟AY-3-8910集成在一个芯片上），许多中间停止并分支。 <br><br> 我选择了1990年开发中最经典，最受欢迎的版本，从历史上和技术上来说，它最接近Spectrum的精神：Z80的准确频率为4 MHz，2 KB的静态RAM，8-64 KB的ROM，端口8255和计时器8253，输入频率为1 MHz。 计时器通道中的一个产生中断，另一个声音，不涉及第三个。 该方案以“大”和“小”板的形式提出，第一个专门用于拉脱维亚<em>VEF-TA-12</em>按钮式电话的安装，第二个用于各种进口电话，主要是<em>松下的</em>办公克隆。 对于这些板，有各种固件，尤其是<em>Arktur-36</em> ， <em>Selena</em> ， <em>Lira</em>和<em>Hello</em> 。 而且，当然，最著名的是<em>俄罗斯</em> ，版本不超过23。 <br><br> 对电话进行重新编程非常简单-所需容量的任何5伏ROM和一个编程器就足够了。 我使用了旧主板上的各种EEPROM和在中国购买的新版Winbond W27C512，以及最简单，最实惠的WizardProg-87编程器。 <br><br> 事实证明，使用铁加工时最大的困难是四分之一世纪或更长时间的古代木板上ROM下的木板状态。 它们最初不是高质量的，如今它们之间的联系不断丢失，这使得很难确定这是书面代码中的错误还是插座中的非接触。 我试图通过安装ZIF插座来解决此问题，但是板上其他组件的高度不允许对其进行焊接，并且插入原始插座的增高连接器的架子也遭受了不断失去接触的困扰。 <br><br><h3> 特效 </h3><br><img src="https://habrastorage.org/webt/_v/iu/ra/_viuraswdy0cc22vkypppkmgmki.png"><br><br> 在开始开发该示例之前，我编写了或者更确切地说，添加了AON仿真器，该仿真器始于2014年。 我必须处理一些非显而易见的问题，并应用其他人的计时器仿真代码8253，以获得或多或少的正常声音和打扰的频率。 仿真器的存在以及至少其中的基本调试功能大大加快了开发速度。 此外，该代码主要在仿真器中进行了测试，并且仅在硬件上进行了偶尔测试，以确保一切正常，并在带有动态指示的LED显示屏上看起来正常，我尚无法进行足够的模拟。 <br><br> 该代码是用常规<i>SjAsmPlus编写的</i> 。 呼叫者ID的存储卡非常奇怪，这可能是由于最大程度地减少了硬件改动，同时又为更强大的新固件扩展了ROM容量。 结果，尽管可以安装多达64 KB的ROM，但是内存中只有32 KB可用，在8 KB RAM的存储区之间交替。 完整ROM的32 KB一半可以通过输出到端口进行切换，但是演示不需要这样做，所有内容都适合32K。 在ROM映像中，应将8 KB的存储区连续排成一行，因此，必须使用汇编指令和BAT文件，我必须将存储区的位置安排在所需的地址处，并加上零，分开保存并合并到最终映像中。 <br><br> 演示中约有一半的效果是用诚实的代码编写的，而后一半的时间已经用完了，它是以动画形式制作的。 动画是在鞭打的编辑器<em>LED9ED中绘制的</em> ，可在我的网站上下载。 <br><br><img src="https://habrastorage.org/webt/k3/t_/wm/k3t_wmkevn2-zluzmhingt63qgk.png"><br><br> 由于效果的密度很高，每个效果大约需要4秒，并且效果会逐渐改组，因此在接近截止日期的情况下，演示的中央16秒部分的内容完全消失了。 迫切发明了一种显着的填充效果，尽管它很粘，但随着下降段的出现，与先前编写的频谱分析仪交替出现。 我不得不希望声音信息的高密度能够将注意力从显示器上的长时间动作中转移出来。 <br><br> 欢迎区中的名字是对过去的爱好者的致敬。 这些是在初始屏幕和代码中找到的AON固件作者的姓名。 <br><br> 尽管这不是一个主题，但错过机会展示著名的七段式题字EGGOG也是不可原谅的。 最合理的地方是在最后发现的-演示以模仿失败开始，并以错误消息结束。 <br><br> 分析软件实现的效果没有多大意义，一切都是相当透明的。 值得一提的是，该平台的主要功能是对软件动态指示的需求，也就是说，您需要不断地对显示的位进行排序，并包含所需的段。 这是通过中断来完成的。 选择的中断速率相当高，为960赫兹（每个中断约4166个时钟周期），并且通过任意长度的列表进行指示，该列表描述了放电打开的顺序。 除了具有稳定的亮度和稳定的显示效果外，还可以轻松实现两种效果-具有特有的八位亮度的“冻结”（数字枚举停止工作）和亮度变化的效果（某些放电在一个周期内打开几次）。 在正常显示模式下，显示器的刷新率约为106赫兹，从而消除了肉眼可察觉的闪烁，并简化了随后的视频拍摄。 <br><br><h3> 乐曲 </h3><br> 唯一的AON声音通道建立在8253计时器的一个通道上，并且实际上是复制PC Speaker设备，只是使用不同的输入频率-也就是说，在处理器运行时，它可以发出给定高度的声音。 无法更改信号的形状和音量。 由于我一段时间以来一直在经典PC扬声器上研究音乐主题-我编写了PCSPE VST工具，可以在现代DAW中方便地创建此类音乐，并获得了安排严格单音的旋律的经验（一次只能发出一个音符）-解决方案很明显：不编写另一个1位引擎，而只是在PCSPE中制作音乐并将其改编为AON。 它不那么费力，声音真实，在意识形态上是真实的-将熟悉之处中的不寻常之处榨干。 <br><br><img src="https://habrastorage.org/webt/pq/ai/os/pqaiositjmv_gjj0ce85iywr1io.png"><br><br> 音乐是用<em>收割机</em>写的。 因为开始演示的艺术想法是模仿标准的Rus固件发布，所以我只是重复了这一旋律，模仿了一些典型的声音（按键，标准铃声），并从中构建了节奏感。 此外，基于最初的想法，该曲目逐渐发展为逐渐复杂的道路-越来越多的聚会，产生了多个通道同时发出声音的幻觉。 由于该演示中最困难的效果的想法是从左到右以不同的亮度水平运行的符号，让人联想到Kitt机器的灯光，因此我还制作了一个带有<em>Knight Rider</em>旋律的插入片段，并找到了合适的放置位置。 <br><br> 选择的平台在视觉手段上非常有限，为了增加娱乐性，最初决定做trackmo，即音乐和视觉效果的精确同步。 因此，演示的音乐和情节主要是并行创造和编写的。 与跟踪器不同，在跟踪器中仅显示当前模式和顺序列表，在“收割者”中您可以看到轨道及其整体结构，并可以轻松地重新排列片段。 这有助于对演示的结构和内容进行决策。 <br><br> 不幸的是，要使效果与音乐精确同步非常困难。 我的原始仿真器中的声音与显示不完全匹配，很难在硬件上进行频繁的测试，并且没有时间使用时间戳开发正常的同步系统。 结果，在某些地方您可能看不到音乐中效果的确切音调。 虽然有时间，但在整个过程中，都是手动调整时间，但最后我不得不接受最不准确的同步，并按原样发布。 <br><br> 除声音外，语音样本还包括用于AON的固件。 在此过程中，我大体上整理了它们的存储格式，并听了其中有很多有趣的事的样本（3-4种不同的声音，从固件到固件的借用，毫不客气，将订户发送到各个地方的短语）。 有一个想法是在由这些样本组成的演示中插入语音，用可识别的声音说出一些意想不到的内容。 但是没有足够的时间来提出一个好主意及其实现。 有趣的是，旧固件中的声音以4位采样的形式存储，采样频率为4500-5000 Hz，并通过PWM定时器播放。 <br><br><h3> 录影带 </h3><br> 为了演示不寻常的硬件演示，而无法使用该硬件参加聚会，我需要录制和编辑视频-对于程序员来说，创建演示不是一个普通的职业。 <br><br><img src="https://habrastorage.org/webt/wk/m_/st/wkm_stfcq_r8ffbqibswrulu1c4.jpeg"><br><br> 在开发过程中，使用了两种设备，一种设备用一块小板完全无法呈现，另一种使用大板保存得很好的经典<em>VEF-TA-12</em> 。 测试主要在第一个进行，最后一个调试过程和视频录制在第二个进行。 尽管其中的指示符类型相同，但在显示上较大的数字上也有不同之处。 从显示器到滤镜的距离越小，大概起了作用。 <br><br> 该显示器的一个有趣特征是计算器<em>ALS318</em> ，事实证明，在我手握的所有AON副本中，一些放电明显损失了亮度。 最有可能的事实是呼叫者ID喜欢挂起，并且当动态指示冻结时，长时间的放电之一会以全亮度点亮。 尽管可以选择并放置最生动的显示，但我对此并没有做任何事情，因此认为这可以增加视频的真实性。 <br><br> 一切都在最后一刻急忙地用普通的摄像机拍摄了，然后又迅速地安装在Blender中-因为在那里我以某种方式知道如何做，但是手头上什么也没有。 入门部分旨在提醒您这是什么技术奇迹，并解释另一个程序是如何实现的。 该计划还具有一个将ROM插入板中的框架，但是由于ROM面板的状态而不得不将其丢弃，这需要用一只长满淫秽的手进行两只手更换。 <br><br><h3> 发布和结果 </h3><br> 对于那些对蠕虫的生活和组织的细微之处感兴趣的人的部分。 <br><br> 事实证明，该演示位于<i>ZX Spectrum</i>类别中。 在活动开始前的两周，对规则进行了修订，说允许参加此类别的活动“适用于ZX Spectrum兼容计算机和不迟于1991年发布的其他计算机”。 实际上，该类别已变成<i>组合的Oldschool演示</i> ，即适用于所有旧计算机平台的演示，并且由于场景政治的原因，名称保持不变。 当然，这引起了一定程度的误解和批评，并且已经开始成为当地的模因。 <br><br> 此外，在聚会上，由于各种比赛中作品数量不足，大多数用于稀有平台和<i>Wild</i>的演示<i>都被</i>合并到<em>Combined Demo中</em> ，除了我的工作外，只有一部非ZX的作品进入了<em>ZX Demo</em> 。 在这种情况下，我认为在“ <em>合并的</em>作品”中突出显示这两项作品会更合适，而这次仅以ZX Spectrum的名义与ZX Spectrum竞争。 如果在发送工作时知道这种情况，则可以选择“ <em>组合演示”</em>类别。 <br><br> 由于什么原因，我决定不参加“ <em>野生”</em>类别的展览（传统上它以视频和动画的形式展览作品，尽管从理论上讲它也适用于非标准平台上的作品）。 我并不认为实际上这项工作非常接近这个方向。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但这仍然是一个真实的演示，带有真实的</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TRD</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制代码和源代码，适用于过去类似于我们的家用计算机的真实且非常流行的平台。</font><font style="vertical-align: inherit;">它可以轻松启动并在实际硬件上查看-与控制台一样，您只需要一个程序员即可。</font><font style="vertical-align: inherit;">铁本身也很便宜，绝对比ZX-81更便宜。</font><font style="vertical-align: inherit;">也没有模拟器。</font><font style="vertical-align: inherit;">换句话说，这不是一次以视频形式出现的独特，难于重复的动作（例如ATM的演示或罕见的摄像机模型），任何人都可以轻松地看到我的作品并立即执行类似的操作。</font></font><br><br><h3> 资料下载 </h3><br> <a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有源</font></font></a> <br> <a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AONZ80Emu的AONDEMO用于Windows </font></font></a> <br> <a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED9ED用于Windows </font></font></a> <br> <a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCSPE用于具有VSTi支持的DAW</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN421961/">https://habr.com/ru/post/zh-CN421961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN421949/index.html">自杀小队 我们如何招募最强大的初级开发人员</a></li>
<li><a href="../zh-CN421953/index.html">Summ3r 0f h4ck：在数字安全领域的暑期实习</a></li>
<li><a href="../zh-CN421955/index.html">参议院不希望机器人因啤酒而分心。 还有周五还要写些什么？</a></li>
<li><a href="../zh-CN421957/index.html">Yandex如何在iOS版Maps中创建增强现实。 使用ARKit的经验</a></li>
<li><a href="../zh-CN421959/index.html">当“ this”丢失上下文链接时该怎么办</a></li>
<li><a href="../zh-CN421963/index.html">簿记和会计师：他们在组织中的作用</a></li>
<li><a href="../zh-CN421965/index.html">“除了工作，我仍然在工作”-程序员的10个问题，第三版</a></li>
<li><a href="../zh-CN421967/index.html">儿童玩具的逻辑元素</a></li>
<li><a href="../zh-CN421969/index.html">PostgreSQL日期序列生成和generate_series</a></li>
<li><a href="../zh-CN421971/index.html">来自Rdesktop的Xorg的俄语俄语是一件小事，但是很好</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>