<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàØÔ∏è üíµ ü§õüèº Erstellen eines AR-Spiels mit Vuforia ü§ó üéõÔ∏è üë¥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[Es gibt 3D-GIFs unter dem Schnitt] 

 Augmented Reality (AR) ist pl√∂tzlich ein sehr beliebter Begriff geworden. Dank Vuforia k√∂nnen Entwickler die ph...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines AR-Spiels mit Vuforia</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440592/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/4p/rn/iq4prnuz3u7xpw2-dc0tmkawzh0.gif"></div><br>  <i>[Es gibt 3D-GIFs unter dem Schnitt]</i> <br><br>  Augmented Reality (AR) ist pl√∂tzlich ein sehr beliebter Begriff geworden.  Dank Vuforia k√∂nnen Entwickler <em>die</em> physische Welt problemlos mit digitalen Inhalten <em>erg√§nzen</em> . <br><br>  Obwohl die Ver√∂ffentlichung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">ARKit</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">ARCore dazu</a> beigetragen hat, die Popularit√§t von Augmented Reality zu steigern, gab es bereits andere Plattformen und SDKs.  Einer von ihnen war Vuforia;  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Vor</a> kurzem hat Unity <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">eine Partnerschaftsvereinbarung mit Vuforia geschlossen</a> und diese AR-Plattform in die Unity-Game-Engine integriert. <br><br>  In diesem Tutorial werde ich ein AR-Spiel mit dem in die Unity-Engine integrierten Vuforia SDK erstellen.  Dabei werde ich auf folgende Schl√ºsselkomponenten eingehen: <br><br><ul><li>  Richten Sie die Daten√ºbertragung von der Augmented Reality-Kamera ein </li><li>  Bildverfolgung - was es ist und wie es funktioniert </li><li>  Anh√§ngen von digitalen Inhalten an ein physisches Objekt </li><li>  Erstellen Sie benutzerdefinierte Interaktionen, die je nach dem, was die Kamera sieht, ausgel√∂st werden </li></ul><a name="habracut"></a><br><blockquote>  <em>Hinweis: In</em> diesem Tutorial zu Vuforia wird davon ausgegangen, dass Sie die Grundlagen der Entwicklung in Unity bereits kennen.  Wenn Sie Unity noch nicht kennen, lesen Sie das gro√üartige Tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Erste Schritte mit Unity</a> . </blockquote><br><h2>  Entwicklung von AR-Spielen in Unity </h2><br>  Es gibt viele AR-Ger√§te auf dem Markt, aber das Hauptziel von AR-Anwendungen ist der mobile Bereich von Plattformen wie iOS und Android.  Hier ist die Kombination von Unity und Vuforia praktisch - bei der plattform√ºbergreifenden Entwicklung.  Ein weiteres Plus ist, dass die Anwendung im Editor getestet werden kann.  Daf√ºr brauchen Sie nur eine Webcam! <br><br>  Bevor Sie beginnen, laden Sie die neueste Version von Unity herunter und installieren Sie die <em>Vuforia Augmented Reality Support-</em> Komponente.  Wenn Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Unity Hub verwenden</a> , k√∂nnen Sie diese Komponente einer bereits installierten Version von Unity hinzuf√ºgen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77d/51e/162/77d51e162a6330e4cd363ac55761272a.png"></div><br><h2>  An die Arbeit gehen </h2><br>  Nachdem Sie Unity, Vuforia und eine Webcam haben, m√ºssen Sie ein Beispielprojekt herunterladen ( <a href="">von hier</a> ). <br><br>  Extrahieren Sie nach dem Herunterladen die Dateien und √∂ffnen Sie das Projekt <em>Erstellen eines AR-Spiels mit Vuforia Starter</em> in Unity.  √ñffnen Sie beim <em>Laden</em> des Projekts die <em>Starterszene</em> aus dem Ordner " <em>Szenen</em> " und sehen Sie sich das Hierarchiefenster an: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fee/279/a87/fee279a87c70ac68f7e690fec68736aa.png"></div><br>  Nachdem Sie die Zusammensetzung des Projekts √ºberpr√ºft haben, klicken Sie im Editor auf die Schaltfl√§che <em>Wiedergabe</em> , um die Bestellung in unserem Pizzaspiel auszuf√ºllen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89d/9a4/bdb/89d9a4bdb068ce92d2200ffc55b109eb.gif"></div><br>  Gro√üartig, wir k√∂nnen mit Pizza spielen, aber unsere eigentliche Herausforderung besteht darin, daraus ein AR-Spiel zu machen. <br><br><blockquote>  <em>Hinweis: Die</em> UI-Assets f√ºr dieses Tutorial wurden von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">shareicon.net</a> heruntergeladen </blockquote>  . <br><h2>  Treffen Sie den Vuforia Chef </h2><br>  Dazu m√ºssen wir die virtuelle Pizza auf dem Tracker-Bild anzeigen lassen, das wir in der realen Welt haben.  Nachdem Sie die F√ºllung zur Bestellung hinzugef√ºgt haben, k√∂nnen Sie die Pizza physisch "servieren" und sie aus der Sichtweite der Kamera entfernen ... <br><br>  Aber alles hat seine Zeit.  Zuerst m√ºssen Sie die <em>Hauptkamera</em> durch die <em>AR-Kamera</em> ersetzen.  Entfernen Sie die <em>Hauptkamera</em> aus der Szene und <em>klicken Sie</em> mit der <em>rechten Maustaste</em> in die <em>Hierarchie</em> . <br><br>  <em>F√ºgen Sie</em> dann <em>Vuforia -&gt; AR Camera hinzu</em> .  Dies √∂ffnet dieses Fenster: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e20/f6a/eda/e20f6aedaf4a2857ec12c18bfbc5693e.png"></div><br>  Klicken Sie auf <em>Importieren</em> und warten Sie, bis das Vuforia-Paket in das Projekt importiert wurde. Es werden einige Dateien hinzugef√ºgt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a92/200/9ba/a922009bacca58142d3fe09febf61c54.png"></div><br>  Sie k√∂nnen die neuen Dateien in den Ordnern <em>Editor</em> und <em>Streaming Assets</em> ignorieren.  Dies sind nur Vorlagen;  Die ben√∂tigten Dateien sind im Projekt enthalten. <br><br>  Der <em>Vuforia-</em> Ordner enth√§lt alle Prefabs und Skripte, die von der von uns verwendeten Vuforia-Plattform verwendet werden. <br><br>  Erw√§hnenswert ist auch die <em>VuforiaConfiguration-</em> Datei im Ordner <em>Resources</em> .  Diese Datei wurde hinzugef√ºgt, da f√ºr die Entwicklung der Vuforia-Anwendung eine Lizenz erforderlich ist.  Wenn Sie m√∂chten, k√∂nnen Sie jedoch eine kostenlose Entwicklerlizenz f√ºr das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Vuforia Developer Portal</a> erwerben. <br><br>  <em>Hinweis:</em> Wenn Ihr Projekt keinen App-Lizenzschl√ºssel hat, finden Sie ihn in der README-Datei.  Kopieren Sie die Zeile in das Inspektorfeld der <em>VuforiaConfiguration-</em> Datei. <br><br>  Jetzt, da wir die AR-Kamera in der Szene haben, bleibt nur noch eines zu tun - Augmented Reality einschalten! <br><br>  Gehen Sie zu <em>Bearbeiten -&gt; Projekteinstellungen -&gt; Player</em> .  Scrollen Sie nach unten zu den <em>XR-Einstellungsoptionen</em> und stellen Sie sicher, dass das Kontrollk√§stchen <em>Vuforia Augmented Reality Supported</em> aktiviert ist. <br><br>  Klicken Sie in den <em>Play</em> Editor und gr√º√üen Sie sich selbst! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d5/c82/40d/4d5c8240defa8a0b9c721523c293686b.png"></div><br>  <em>Hinweis:</em> Wenn Sie auf Wiedergabe geklickt haben und der Bildschirm ‚ÄûVuforia-Initialisierung fehlgeschlagen‚Äú angezeigt wird, starten Sie Unity neu.  Dies ist ein zuf√§lliger Fehler, der nur auf einigen Systemen auftritt. <br><br><h2>  Einf√ºhrung in die Mustererkennung </h2><br>  Sich selbst zu bewundern ist nat√ºrlich gro√üartig, aber wollten wir nicht ein Pizzaspiel machen? <br><br>  Standardm√§√üig arbeitet Vuforia mit der <em>Bilderkennung</em> .  Die Mustererkennung, auch Tracker-Erkennung oder Bildverfolgung genannt, ist ein Prozess, bei dem eine Kamera ein vordefiniertes Bild erkennt und wei√ü, was damit zu tun ist, z. B. Inhalte dar√ºber zu rendern.  Dies funktioniert am besten, wenn das Tracking-Bild irgendwie mit dem Inhalt √ºbereinstimmt, z. B. funktionieren Grundrisse f√ºr das Rendern von Geb√§uden gut √ºber dem Bild mit dem Geb√§ude. <br><br>  <em>So funktioniert es:</em> Es ist sehr wichtig, ein Bild von guter Qualit√§t f√ºr die Verfolgung auszuw√§hlen.  Wenn Sie Vuforia verwenden, k√∂nnen Sie das ausgew√§hlte Bild in das Entwicklerportal hochladen, um die Qualit√§t der Nachverfolgung zu √ºberpr√ºfen. Dies muss <i>vor</i> Beginn der Entwicklung erfolgen.  Das Entwicklerportal weist dem Bild eine Bewertung zu, zeigt aber vor allem seine ‚Äûcharakteristischen Punkte‚Äú an.  Damit der Tracker gut ist, sollten diese charakteristischen Punkte (Merkmalspunkte) dicht √ºber das Bild verteilt sein und keine sich wiederholenden Muster enthalten.  Zur Laufzeit sucht die Kamera nach diesen charakteristischen Punkten, um ihre Position relativ zum Bild zu berechnen. <br><br>  F√ºr dieses Tutorial sind die Bild- und Tracking-Datenbank bereits konfiguriert.  Das Bild der Pizza befindet sich im zuvor heruntergeladenen Materialordner.  Im Idealfall ausdrucken.  Oder Sie k√∂nnen es auf einem digitalen Ger√§t √∂ffnen und dann der Kamera ‚Äûzeigen‚Äú.  So sieht das Bild in der Vuforia Tracker-Datenbank aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/874/bdc/1a4/874bdc1a450aa82f890dd3c3fbdf3c11.png"></div><br>  Wie Sie sehen k√∂nnen, sind die charakteristischen Punkte gut verteilt.  Es ist auch Pizza, was praktisch ist! <br><br><h2>  Hinzuf√ºgen von Bildzielen zur Szene </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/554/c3b/730/554c3b7304b1d3252f8939e6a1833616.png"></div><br>  Es ist Zeit, die Magie zu machen!  Wir werden virtuelle Pizza √ºber unserer Pizza erscheinen lassen.  Verwenden <em>Sie erneut das</em> Men√º <em>Erstellen</em> in der <em>Hierarchie</em> und w√§hlen Sie <em>Vuforia -&gt; Bild</em> . <br><br>  Jetzt haben wir ein <em>Image Target GameObject</em> in der Szene.  Schauen Sie sich dieses Ziel im Inspektor an und Sie werden mehrere Komponenten sehen.  Die wichtigsten sind das <em>Image-</em> <em>Zielverhalten</em> und der <em>standardm√§√üige verfolgbare Ereignishandler</em> .  Wir werden den zweiten Teil sp√§ter genauer untersuchen. Stellen Sie jedoch vorerst sicher, dass die Optionen f√ºr die Dropdown-Liste Bildzielverhalten wie folgt konfiguriert sind: <br><br><ul><li>  <em>Die Datenbank ist</em> auf <em>RW_ItsaPizza eingestellt</em> <br></li><li>  <em>Bildziel</em> auf <em>PizzaClipArt eingestellt</em> </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d7/b68/e4c/8d7b68e4c1c525760a4fd85b32ed5c3d.png"></div><br>  Erinnern Sie sich an die Dateien, die zuvor zu dem Projekt hinzugef√ºgt wurden und die ich ignorieren wollte?  Du hast sie gefunden!  Vuforia f√ºgt mehrere Image Target-Beispieldatenbanken hinzu, damit wir mit der Entwicklung beginnen und sie f√ºr Beispiele verwenden k√∂nnen, z. B. die von uns verwendete, die bereits zu den Materialien hinzugef√ºgt wurden. <br><br><blockquote>  <em>Hinweis: Der</em> Pizza-Tracker ist das einzige Bildziel in Ihrer Datenbank.  Es k√∂nnen jedoch Hunderte von Bildern in einer Datenbank vorhanden sein.  Dar√ºber hinaus k√∂nnen mehrere Datenbanken in einer Anwendung vorhanden sein. </blockquote><br>  Nachdem wir die <em>AR-Kamera</em> und den <em>Image Tracker</em> in der Szene konfiguriert haben, haben wir alles, was Sie brauchen, damit Augmented Reality funktioniert!  Klicken Sie im Editor auf die Schaltfl√§che <em>Wiedergabe</em> und platzieren Sie das gedruckte Bild vor der Kamera. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ed/fac/48a/5edfac48a1830186b1f0826dc6e8d733.png"></div><br>  Wir haben Pizza! <br><br><h3>  Anh√§ngen von Spielobjekten an Tracker als untergeordnete Objekte </h3><br>  Die Pizza ist etwas klein, klebt aber fest am Tracker-Image.  Sie k√∂nnen auch feststellen, dass die Pizza in der Luft h√§ngt, wenn Sie das verfolgte Bild entfernen. <br><br>  Tatsache ist, dass Vuforia die Position der <em>AR-Kamera</em> in der Szene aktualisieren kann, w√§hrend die Webcam den <em>Bild-Tracker</em> sehen kann.  Wenn Sie dies in Aktion sehen m√∂chten, konfigurieren Sie den Unity-Editor so, dass sowohl das <em>Spiel-</em> als auch das <em>Szenenfenster</em> gleichzeitig sichtbar sind. W√§hlen Sie dann <em>AR-Kamera aus</em> und klicken Sie auf Wiedergabe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b57/b3e/a62/b57b3ea62a4854fa17bc667aeedd2fc3.gif"></div><br>  Wie kann man Pizza richtig verhalten, wenn die Kamera funktioniert?  W√§hlen Sie <em>ImageTarget</em> in der Hierarchie aus.  Sie werden sehen, dass der Ma√üstab auf jeder Achse <em>10</em> betr√§gt.  Dies wird von der Komponente <em>Image Target Behavior</em> gesteuert.  Im erweiterten Abschnitt k√∂nnen Sie sehen, dass der Parameter <em>Width den</em> Wert <em>10 hat</em> .  Es wurde festgelegt, als das Bild auf die Vuforia Developer-Website hochgeladen wurde. <br><br><blockquote>  <em>Hinweis: Verstehst</em> du nicht, warum Image Target in diesem Tutorial auf Breite 10 eingestellt wurde?  Wenn die Gr√∂√üe f√ºr die Anwendung kein wesentlicher Faktor ist, erh√∂ht die Einstellung der Kamera auf 10 die Wahrscheinlichkeit der Verfolgung, w√§hrend die Position des Inhalts zwischen der nahen und der fernen Ebene der AR-Kamera gut positioniert wird.  Manchmal ist es jedoch notwendig, dass Augmented Reality einen bestimmten Umfang hat.  In diesem Fall m√ºssen Sie die Gr√∂√üe des Image-Trackers so einstellen, dass sie den physischen Ma√üen beim Hochladen auf das Entwicklerportal entspricht. </blockquote><br>  W√§hlen Sie nun GameObject <em>Pizza</em> in der <em>Hierarchie</em> .  Ziehen Sie es auf <em>ImageTarget</em> , um es zu einem <em>untergeordneten Element</em> zu machen.  Die Skala √§ndert sich zu <code>(X: 0.1, Y: 0.1, Z: 0.1)</code> .  Stellen Sie die Werte <code>(X: 1, Y: 1, Z: 1)</code> und verschieben Sie die Position entlang der <em>Y-</em> Achse auf <code>0.01</code> .  Dank dessen wird <em>Pizza</em> <em>ImageTarget entsprechen</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f51/7d0/17c/f517d017c05aa0dcca22205f115fedc7.gif"></div><br>  <em>Dr√ºcken Sie</em> erneut auf <em>Wiedergabe</em> , und Sie sehen, dass sich die Pizza oben auf dem Bild befindet und auch verschwindet, wenn das Bild aus dem Rahmen verschwindet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ea1/68b/565/ea168b5655b0857fcf96f56201d4414b.gif"></div><br><h2>  Erkunden von DefaultTrackableEventHandler </h2><br>  Dieses Verhalten wird dem <em>DefaultTrackableEventHandler</em> des <em>ImageTarget √ºbernommen</em> .  √ñffnen Sie das Skript und zeigen Sie es an. <br><br>  Das Skript ist gut kommentiert, aber es lohnt sich, einige Aspekte zu beachten: <br><br><ul><li>  Die <em>Start-</em> Funktion registriert dieses Skript als Ereignishandler f√ºr das <em>TrackableBehaviour</em> (in diesem Fall <em>ImageTargetBehaviour</em> ). </li><li>  <em>OnDestroy</em> entfernt diesen Link. </li><li>  <em>OnTrackableStateChanged</em> ist die wichtigste Funktion.  Ihr Code sagt, was passieren soll, wenn sich der Tracking-Status √§ndert. </li><li>  <em>OnTrackingFound</em> und <em>OnTrackingLost</em> werden von <em>OnTrackableStateChanged aufgerufen</em> .  In <em>DefaultTrackableEventHandler schalten</em> sie die <em>Renderer-</em> , <em>Collider-</em> und <em>Canvas-</em> Komponenten eines <em>untergeordneten Elements um</em> . </li></ul><br>  Wenn die Kamera ein Bild erkennt, bewegt sie nicht mehr nur die <em>AR-Kamera</em> .  Sie befiehlt GameObject <em>Pizza au√üerdem</em> , alle <em>Renderer-</em> Komponenten einzuschalten. Wenn das Bild von der Kamera verschwindet, befiehlt er erneut, sie auszuschalten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b82/21c/7de/b8221c7de8529c1a8120f54a69ec4136.png"></div><br>  Verdauen Sie diese Informationen vorerst. <br><br><h2>  Erstellen Sie Ihre eigenen Tracking-Aktionen </h2><br>  Es ist Zeit, etwas mit diesen Informationen zu tun! <br><br>  Entfernen Sie die <em>DefaultTrackableEventHandler-</em> Komponente aus <em>ImageTarget</em> .  <em>F√ºgen Sie</em> dann den <em>PizzaTrackableEventHandler hinzu</em> , der sich im Ordner <em>Scripts befindet</em> .  √ñffnen <em>Sie</em> dann <em>PizzaTrackableEventHandler</em> .  Dies ist ein Klon von <em>DefaultTrackableEventHandler</em> , aber der Code in <em>OnTrackingFound</em> und <em>OnTrackingLost wurde</em> gel√∂scht - <em>Sie</em> m√ºssen dieses Problem l√∂sen! <br><br>  Das Aktivieren und Deaktivieren von <em>Renderer-</em> Komponenten ist in fast jeder AR-Anwendung praktisch. Lassen Sie uns diesen Code also zur√ºckerhalten.  Wenn Sie nicht <em>weiterkommen</em> , k√∂nnen Sie es aus dem <em>DefaultTrackableEventHandler kopieren</em> oder unter dem Spoiler unten finden. <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTrackingFound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rendererComponents = GetComponentsInChildren&lt;Renderer&gt;(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Enable rendering: foreach (var component in rendererComponents) { component.enabled = true; } } protected virtual void OnTrackingLost() { var rendererComponents = GetComponentsInChildren&lt;Renderer&gt;(true); // Enable rendering: foreach (var component in rendererComponents) { component.enabled = false; } }</span></span></code> </pre> </div></div><br>  Wir sind bereit, dieses Projekt in ein Spiel in Augmented Reality zu verwandeln! <br><br>  Schauen Sie sich die Benutzeroberfl√§che an und finden Sie die Schaltfl√§che, die der Spieler dr√ºcken muss, um seine Pizza fertigzustellen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c6/e2c/691/1c6e2c691d437d380f9ec2bc3a743935.png"></div><br>  Wie Sie sehen k√∂nnen, wird Event <code>GameManager.CompleteOrder()</code> aufgerufen, wenn eine Taste gedr√ºckt <code>GameManager.CompleteOrder()</code> .  Anstatt den Spieler zu zwingen, den Knopf zu dr√ºcken, k√∂nnen Sie sicherstellen, dass er Pizza ‚Äûserviert‚Äú hat, um die Bestellung abzuschlie√üen (er hat den Tracker aus der Sichtweite der Kamera verschoben). <br><br>  <em>F√ºgen Sie</em> zu Beginn von <em>PizzaTrackableEventHandler</em> ein <em>UnityEvent hinzu</em> , das aufgerufen werden soll, wenn Image die Verfolgung verliert. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Vuforia; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.Events; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PizzaTrackableEventHandler</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">ITrackableEventHandler</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> UnityEvent OnTrackingLostEvent; ...</code> </pre> <br>  Rufen wir nun das Ereignis in der <em>OnTrackingLost-</em> Methode auf: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTrackingLost</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rendererComponents = GetComponentsInChildren&lt;Renderer&gt;(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Enable rendering: foreach (var component in rendererComponents) { component.enabled = false; } //Trigger our event OnTrackingLostEvent.Invoke(); }</span></span></code> </pre> <br>  Dies macht <em>PizzaTrackableEventHandler</em> flexibler, da wir jetzt die Ausf√ºhrung aller Aktionen festlegen k√∂nnen, wenn das Tracking verloren geht.  Speichern Sie den <em>PizzaTrackableEventHandler</em> , kehren Sie zum Unity-Editor zur√ºck und warten <em>Sie</em> , bis die Kompilierung abgeschlossen ist.  Wenn es endet, muss <code>GameManager.CompleteOrder()</code> aufgerufen werden, wenn der Tracking-Pizza-Tracker verloren geht.  Deaktivieren oder entfernen Sie schlie√ülich <em>CompleteOrderButton</em> in der Benutzeroberfl√§che. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d30/cf5/c73/d30cf5c73272cda70762935e43609f56.gif"></div><br>  Speichern Sie die Szene, klicken Sie auf <em>Wiedergabe</em> und servieren Sie Pizza! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2fd/9fb/a10/2fd9fba107a348f34cc8dd71518471a3.gif"></div><br><h2>  Wohin als n√§chstes gehen </h2><br>  Herzlichen Gl√ºckwunsch, Sie haben das Tutorial abgeschlossen! <br><br>  Ein Beispielprojekt kann hier heruntergeladen <a href="">werden</a> . <br><br>  Weitere Informationen zum Entwickeln mit Vuforia in Unity finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Vuforia Developer Library</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">im Unity-Lernprogramm</a> . <br><br>  Vergessen Sie nicht, auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">dem Vuforia-Portal</a> ein Entwicklerkonto f√ºr sich selbst einzurichten.  Sie k√∂nnen dort auch versuchen, mehrere verschiedene Tracker hochzuladen, um zu √ºberpr√ºfen, wie sie verfolgt werden. <br><br>  Weitere Informationen finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Virtuelle Schaltfl√§chen</a> .  Die Vuforia-Website enth√§lt Beispielmaterialien.  √úberpr√ºfen Sie, ob Sie diese virtuellen Schaltfl√§chen erstellen k√∂nnen, um die Benutzeroberfl√§che in einem Pizzaspiel zu ersetzen. <br><br>  √úberlegen Sie sich neue Ideen f√ºr Augmented Reality-Spiele.  Vielleicht ist dies ein Kartenkampfspiel, bei dem Kreaturen direkt von den Karten springen?  Was ist mit Tower Defense? Wo steuern Sie einen Kampfhubschrauber mit Ihrem Telefon? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440592/">https://habr.com/ru/post/de440592/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440582/index.html">Werden Elektroautos auf den Grund des Autokonzerns gezogen?</a></li>
<li><a href="../de440584/index.html">Was ist los mit dem Raspberry Pi</a></li>
<li><a href="../de440586/index.html">Exonum-Konsens: Wie es funktioniert</a></li>
<li><a href="../de440588/index.html">Das MIT hat gelernt, wie man Schall mit einem Laser √ºbertr√§gt</a></li>
<li><a href="../de440590/index.html">Wo sind die Beine aus dem Java-Speichermodell?</a></li>
<li><a href="../de440594/index.html">1C und Yandex. Cloud Compute Cloud. Auf und ab</a></li>
<li><a href="../de440596/index.html">Flightradar24 - wie geht das?</a></li>
<li><a href="../de440598/index.html">Die InSight Martian-Sonde funktioniert erfolgreich auf dem Roten Planeten</a></li>
<li><a href="../de440600/index.html">Wie viele .com-Domainnamen werden nicht verwendet?</a></li>
<li><a href="../de440602/index.html">Mahnwesen mit Kruger, Sokrates und den Wissenskreisen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>