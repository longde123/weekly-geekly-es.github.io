<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÄ üíû ü§±üèª Evitando erros populares de seguran√ßa de rede üë®üèª‚Äçüöí üíΩ üö∂üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em meados de setembro, ficou conhecido o vazamento de quase 2 TB de dados, que continham informa√ß√µes sobre a opera√ß√£o do sistema de medidas operaciona...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Evitando erros populares de seguran√ßa de rede</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/480984/"> <a href="https://habr.com/ru/company/pt/blog/480984/"><img src="https://habrastorage.org/webt/0l/ar/t7/0lart7oec4i77spqmsu5dntncbs.png"></a> <br><br>  Em meados de setembro, <a href="https://techcrunch.com/2019/09/18/russia-sorm-nokia-surveillance/">ficou conhecido</a> o vazamento de quase 2 TB de dados, que continham informa√ß√µes sobre a opera√ß√£o do sistema de medidas operacionais de busca (SORM) na rede de uma operadora de telecomunica√ß√µes russa.  O vazamento ocorreu devido a um utilit√°rio de backup rsync configurado incorretamente.  Tais erros s√£o uma causa comum dos problemas das grandes empresas.  Neste artigo, analisaremos os sete erros de seguran√ßa de rede mais populares: explicaremos como eles podem ser detectados e eliminados. <br><br>  Um motivo comum para o sucesso do desenvolvimento de ataques na rede √© o erro na configura√ß√£o de canais de comunica√ß√£o ou sistemas de processamento e armazenamento de dados, al√©m de viola√ß√µes dos regulamentos de IS.  Tudo isso reduz a efic√°cia do equipamento de prote√ß√£o usado e aumenta as chances de invasores invadirem e desenvolverem um ataque.  Durante projetos para investigar incidentes e analisar tr√°fego, nossa equipe do <a href="https://www.ptsecurity.com/ru-ru/services/esc/">PT Expert Security Center</a> encontra regularmente erros t√≠picos nas configura√ß√µes de sistemas de informa√ß√£o e viola√ß√µes dos regulamentos corporativos de SI.  Vamos ver o que s√£o esses erros. <a name="habracut"></a><br><br><h2>  7 erros comuns de seguran√ßa de rede </h2><br>  Como mostra nossa pr√°tica, em 9 de 10 organiza√ß√µes, independentemente do tamanho e do escopo da atividade, os seguintes erros s√£o mais frequentemente encontrados: <br><br><ol><li>  Transfira credenciais pela rede em texto n√£o criptografado. </li><li>  Mensagens de correio n√£o criptografadas. </li><li>  Usando utilit√°rios para acesso remoto. </li><li>  Usando os protocolos de transmiss√£o LLMNR e NetBios. </li><li>  Erros de configura√ß√£o de rede. </li><li>  TOR, t√∫neis VPN e outras ferramentas para ocultar a atividade da rede. </li><li>  Uso indevido de sistemas (mineradores de criptomoedas, torrents). </li></ol><br>  Os motivos dos erros s√£o aten√ß√£o insuficiente √† seguran√ßa da informa√ß√£o, na aus√™ncia ou viola√ß√£o dos regulamentos de IS e TI na organiza√ß√£o, erros na configura√ß√£o de sistemas e em grandes redes corporativas, porque √© dif√≠cil controlar as configura√ß√µes corretas. <br><br>  Em seguida, falaremos sobre cada erro, quais consequ√™ncias eles podem levar, mostrar como eles podem ser identificados e dar recomenda√ß√µes para sua elimina√ß√£o. <br><br><h2>  Transfer√™ncia clara de credenciais pela rede </h2><br>  Ainda √© encontrado o uso de protocolos de rede, nos quais as credenciais do usu√°rio s√£o transmitidas em texto sem formata√ß√£o - s√£o HTTP, protocolos de correio sem criptografia, LDAP e Telnet.  De acordo <a href="https://www.ptsecurity.com/ru-ru/research/analytics/corporate-vulnerabilities-2019/%3Fsphrase_id%3D65679">com nossa pesquisa</a> , o armazenamento de informa√ß√µes importantes de forma aberta nos recursos de rede √© encontrado em 44% das organiza√ß√µes nas quais realizamos uma an√°lise de seguran√ßa.  No caso de uma rede comprometida, um invasor pode, de modo passivo, interceptar credenciais, consolidar sua presen√ßa na infraestrutura e aumentar seus privil√©gios. <br><br><img src="https://habrastorage.org/webt/wq/3s/3m/wq3s3mpoynyoyddptf6-ggjbhku.jpeg"><br><br>  <i>Exemplo de credenciais de voo identificadas com PT NAD</i> <br><br>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D290%26v%3DmD3SFLTStu0">No v√≠deo,</a> mostramos como usar o sistema de an√°lise de tr√°fego <a href="https://www.ptsecurity.com/ru-ru/products/network-attack-discovery/">PT Network Attack Discovery</a> para verificar se as credenciais s√£o transmitidas pela rede em texto n√£o criptografado.  Para fazer isso, filtramos as sess√µes de rede no PT NAD com base em uma senha.  Isso nos permitiu encontrar os fatos da transfer√™ncia de credenciais para uma aplica√ß√£o web, no nosso caso, o sistema de monitoramento Zabbix.  Por ter uma conta privilegiada no servidor Zabbix, o invasor geralmente consegue executar comandos remotamente em todos os sistemas conectados ao monitoramento.  Tamb√©m na demonstra√ß√£o, vimos um exemplo de an√°lise de tr√°fego para usar protocolos de rede abertos (LDAP, FTP, HTTP, POP3, SMTP, Telnet) e extrair contas de usu√°rio a partir dele. <br><br>  Existem v√°rias maneiras de eliminar a transfer√™ncia de credenciais de forma clara. <br><br><ol><li>  <b>Servidores WEB: alterne de HTTP para HTTPS</b> .  Para alternar para o protocolo HTTPS seguro, voc√™ precisa configurar um certificado SSL e encaminhar de endere√ßos HTTP para HTTPS.  √â permitido configurar certificados autoassinados nos recursos internos da organiza√ß√£o pr√©-configurando a autoridade de certifica√ß√£o interna.  Para recursos dispon√≠veis publicamente, √© melhor usar certificados confi√°veis ‚Äã‚Äãemitidos por uma autoridade de certifica√ß√£o confi√°vel. </li><li>  <b>Protocolo LDAP</b> : configure os clientes para usar a autentica√ß√£o atrav√©s do Kerberos ou usar uma vers√£o segura do protocolo.  Para configurar a autentica√ß√£o por meio do Kerberos, voc√™ deve configurar os clientes para usar os mecanismos de autentica√ß√£o SASL GSSAPI ou GSS-SPNEGO. </li><li>  <b>Para configurar a autentica√ß√£o TLS segura, voc√™ precisa ativar o LDAPS no servidor de acordo com as <a href="https://support.microsoft.com/ru-ru/help/321051/how-to-enable-ldap-over-ssl-with-a-third-party-certification-authority">instru√ß√µes</a></b> .  Em seguida, configure os clientes para usar TLS (LDAPS) ao se conectar ao servidor LDAP. </li><li>  <b>Protocolos de correio: configure clientes e servidores para usar TLS</b> .  Em vez do POP3, IMAP e SMTP padr√£o, recomendamos que voc√™ configure os clientes e servidores da sua organiza√ß√£o para usar seus an√°logos seguros POP3S, IMAPS e SMTPS de acordo com as instru√ß√µes do seu servidor de email.  Vale ressaltar que, quando o TLS √© ativado √† for√ßa, as cartas podem n√£o ser entregues aos servidores que n√£o oferecem suporte √† criptografia. </li><li>  <b>Protocolo Telnet: Alterne para SSH</b> .  Voc√™ deve abandonar completamente o uso do protocolo Telnet e substitu√≠-lo pelo protocolo SSH seguro. </li><li>  <b>FTP: atualize para SFTP ou FTPS</b> .  FTPS √© uma vers√£o SSL do FTP que requer um certificado SSL para sua opera√ß√£o.  SFTP √© o protocolo de transfer√™ncia de arquivos que costuma usar SSH.  Como resultado, requer menos configura√ß√£o em servidores que j√° usam SSH. </li></ol><br><h2>  Mensagens de correio n√£o criptografadas </h2><br>  O pr√≥ximo erro t√≠pico √© o uso de protocolos de correio abertos no caminho do servidor da organiza√ß√£o para o servidor de correio externo.  Isso leva ao fato de que as cartas transmitidas de forma segura na rede podem ser posteriormente transmitidas pela Internet de forma aberta.  Como resultado, um invasor, tendo acesso ao tr√°fego de rede externo (por exemplo, atrav√©s de um provedor de Internet), pode facilmente receber qualquer informa√ß√£o de cartas. <br><br>  Para procurar correio de sa√≠da desprotegido que √© transmitido para uma rede externa, <a href="https://www.youtube.com/watch%3Ftime_continue%3D986%26v%3DmD3SFLTStu0">usamos</a> nos filtros PT NAD usando o protocolo SMTP, endere√ßos de origem e destino.  Para excluir conex√µes criptografadas, adicionamos um filtro usando o comando STARTTLS.  Como resultado, foi encontrada uma carta com o anexo, transmitida em texto n√£o criptografado. <br><br><blockquote><h4>  Mais detalhes no v√≠deo </h4></blockquote><br>  Poss√≠veis solu√ß√µes para o erro: <br><br><ol><li>  <b>Configure o servidor para for√ßar o TLS ao enviar email</b> (mas, nesse caso, as cartas podem n√£o ser entregues aos servidores que n√£o suportam criptografia). </li><li>  <b>Configure o uso de S / MIME</b> , o padr√£o para enviar mensagens criptografadas e assinadas digitalmente.  Requer configura√ß√£o do cliente de email e certificado S / MIME.  Mais detalhes <a href="https://docs.microsoft.com/ru-ru/exchange/policy-and-compliance/smime">aqui</a> . </li><li>  <b>Aplique PGP</b> .  O uso for√ßado de PGP tamb√©m excluir√° a transmiss√£o de cartas de maneira clara, mas isso requer configura√ß√£o adicional nos clientes e a transfer√™ncia da chave p√∫blica para os destinat√°rios.  Esta op√ß√£o √© mais adequada para uso em casos especiais. </li></ol><br><h2>  Usando utilit√°rios de acesso remoto </h2><br>  Os funcion√°rios costumam usar as ferramentas de acesso remoto (RAT), por exemplo, TeamViewer, Ammyy Admin, RMS e outros.  Se isso for permitido pelas pol√≠ticas internas de IS, no caso de um invasor usar as mesmas ferramentas, ser√° dif√≠cil distinguir seu uso ileg√≠timo do leg√≠timo. <br><br>  A conectividade pode ser detectada atrav√©s do TeamViewer usando um sistema de an√°lise de tr√°fego.  No nosso caso, encontramos duas dessas sess√µes de rede.  Se a organiza√ß√£o n√£o permitir o uso de utilit√°rios de controle remoto, o especialista em seguran√ßa da informa√ß√£o dever√° conduzir uma investiga√ß√£o para determinar a origem da atividade. <br><br>  Outro mecanismo para detectar casos de uso do RAT s√£o as regras predefinidas.  No v√≠deo, com a ajuda deles, descobrimos o fato de usar o utilit√°rio Remote Admin. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1323%26v%3DmD3SFLTStu0">Mais detalhes no v√≠deo</a> </h4></blockquote><br>  Recomenda√ß√µes para resolver a viola√ß√£o: <br><br><ol><li>  Monitore o uso de utilit√°rios de gerenciamento remoto.  √â necess√°rio desenvolver regulamentos de SI que pro√≠bem o uso n√£o autorizado de utilit√°rios para gerenciamento remoto, bem como monitorar sua conformidade.  O RAT tamb√©m pode ser desativado no n√≠vel de alguns recursos de seguran√ßa de rede, como o NGFW. </li><li>  Diferencie os direitos dos usu√°rios locais nas esta√ß√µes de trabalho.  Se os usu√°rios n√£o receberem direitos administrativos redundantes que permitam, entre outras coisas, a instala√ß√£o de programas em computadores de trabalho, a utiliza√ß√£o de utilit√°rios ser√° imposs√≠vel. </li><li>  Introduzir a pol√≠tica de lista de permiss√µes para software.  O m√©todo de solu√ß√£o mais confi√°vel, mas demorado.  Digite a lista de softwares ‚Äúbrancos‚Äù na organiza√ß√£o e verifique se todos os n√≥s usam apenas o software desta lista, al√©m de monitorar a relev√¢ncia da lista.  Para configurar, voc√™ pode usar o utilit√°rio AppLocker, inclu√≠do no Windows.  Mais detalhes <a href="https://docs.microsoft.com/ru-ru/windows/security/threat-protection/windows-defender-application-control/applocker/applocker-overview">aqui</a> . </li></ol><br><h2>  Usando os protocolos de transmiss√£o LLMNR e NetBios </h2><br>  Outro problema com as configura√ß√µes de rede para as organiza√ß√µes √© o uso de protocolos LLMNR e NetBios falsificados.  Esses protocolos permitem, por meio de solicita√ß√µes de transmiss√£o no segmento de rede L2 local, resolver os nomes dos computadores vizinhos sem usar um servidor DNS.  Esses protocolos tamb√©m s√£o usados ‚Äã‚Äãautomaticamente quando o DNS n√£o est√° dispon√≠vel.  No caso de um intruso que penetre na rede interna da empresa, ele poder√° realizar um ataque "homem do meio" (ingl√™s do meio, MITM).  Um invasor pode responder a uma solicita√ß√£o de transmiss√£o e, assim, redirecionar as solicita√ß√µes de v√≠tima para um servidor controlado pelo invasor.  A realiza√ß√£o deste ataque permitir√° que voc√™ intercepte dados de autentica√ß√£o. <br><br>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1555%26v%3DmD3SFLTStu0">Tentamos identificar o</a> uso desses protocolos usando o widget "Protocolos de aplicativos" no PT NAD.  Descobrimos que, al√©m dos protocolos usuais, s√£o utilizados os protocolos LLMNR e NBNS.  Adicionando-os ao filtro, tamb√©m encontramos todos os clientes que enviaram solicita√ß√µes usando este protocolo. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1555%26v%3DmD3SFLTStu0">V√≠deo</a> </h4></blockquote><br>  Para corrigir esse erro, voc√™ precisa: <br><br>  1. <b>Desative o LLMNR</b> .  Para fazer isso, voc√™ deve primeiro configurar o DNS nos clientes.  Voc√™ pode desativar o LLMNR usando a diretiva de grupo "Desativar a resolu√ß√£o de nome de difus√£o seletiva" na se√ß√£o "Configura√ß√£o do computador -&gt; Modelos administrativos -&gt; Rede -&gt; Cliente DNS".  Para desativar o valor da pol√≠tica deve ser definido como "Ativado". <br><br> <a href=""><img src="https://habrastorage.org/webt/6q/15/jo/6q15joudaaxny7ftm724doicr9c.png"></a> <br><br>  <i>Ao clicar na imagem abrir√° em tamanho real</i> <br><br>  2. <b>Desative o NetBios</b> .  Para fazer isso, use o snap-in dhcpmgmt.msc.  Op√ß√µes do servidor: Guia Avan√ßado -&gt; Op√ß√µes do Microsoft Windows 2000 -&gt; Op√ß√£o Desativar Netbios da Microsoft.  Defina o valor como 0x2. <br><br><img src="https://habrastorage.org/webt/s6/tu/84/s6tu84fxaewi02mcibwd98i_srm.png"><br><br>  3. Voc√™ tamb√©m pode desativar o suporte ao NetBios executando um script do PowerShell em n√≥s usando a diretiva de grupo Scripts na se√ß√£o Configura√ß√£o do Computador -&gt; Diretivas-&gt; Configura√ß√µes do Windows.  Voc√™ precisa adicionar um script de inicializa√ß√£o do PowerShell com o seguinte conte√∫do: <br><br><pre><code class="powershell hljs"><span class="hljs-variable"><span class="hljs-variable">$regkey</span></span> = <span class="hljs-string"><span class="hljs-string">"HKLM:SYSTEM\CurrentControlSet\services\NetBT\Parameters\Interfaces"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Get-ChildItem</span></span> <span class="hljs-variable"><span class="hljs-variable">$regkey</span></span> |<span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">Set-ItemProperty</span></span> <span class="hljs-literal"><span class="hljs-literal">-Path</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$regkey</span></span></span><span class="hljs-string">\</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">(</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$_</span></span></span><span class="hljs-string">.pschildname)"</span></span> <span class="hljs-literal"><span class="hljs-literal">-Name</span></span> NetbiosOptions <span class="hljs-literal"><span class="hljs-literal">-Value</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-literal"><span class="hljs-literal">-Verbose</span></span>}</code> </pre> <br>  Este script para todos os adaptadores de rede na ramifica√ß√£o do Registro <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\NetBT\Parameters\Interfaces</code> define o valor do par√¢metro NetbiosOptions para 2. <br><blockquote>  Se a infraestrutura contiver n√≥s executando o Windows XP ou Windows 2000, desabilitar o NetBios pode afetar seu desempenho. <br></blockquote><br><img src="https://habrastorage.org/webt/ss/ne/sb/ssnesbvogw5_tgj67_skphf1j_g.png"><br><br><h2>  Erros de configura√ß√£o de rede </h2><br>  Os erros mais comuns associados √† configura√ß√£o de rede incorreta: <br><br><ol><li>  <b>Rela√ß√µes desnecessariamente "confiantes" entre sub-redes</b> .  Isso inclui problemas de restri√ß√£o de acesso entre sub-redes, nos quais √© poss√≠vel o acesso n√£o autorizado √† rede entre sub-redes internas da organiza√ß√£o.  Como resultado, quando um invasor compromete uma pequena parte da rede, ele pode facilmente assumir o controle dos n√≥s principais de toda a rede. </li><li>  <b>Acesso de n√≥s de infraestrutura a servidores DNS externos</b> .  Ao usar o sistema interno de nomes de dom√≠nio, as consultas DNS devem ser processadas apenas nos servidores DNS da organiza√ß√£o.  Se o DNS nos clientes n√£o estiver configurado corretamente, no caso de uma solicita√ß√£o ao servidor DNS p√∫blico, existe o risco de vazamento de nomes de dom√≠nio internos, al√©m de ignorar a filtragem de endere√ßos conhecidos dos servidores de comando de malware. </li><li>  <b>Portas de rede e portas de servi√ßo abertas √† rede externa "externas" sem a necessidade disso (por exemplo, bancos de dados)</b> .  Como resultado, um invasor tem grandes oportunidades para realizar um ataque.  Por exemplo, devido ao armazenamento de informa√ß√µes em um banco de dados inseguro, os <a href="https://www.securitylab.ru/news/498730.php">dados de pacientes de ambul√¢ncia da regi√£o de Moscou vazaram</a> para a rede. </li></ol><br>  Para identificar esses erros, <a href="https://www.youtube.com/watch%3Ftime_continue%3D1779%26v%3DmD3SFLTStu0">usamos</a> a guia Conex√µes de rede PT NAD.  Todas as comunica√ß√µes s√£o apresentadas na forma de um gr√°fico.  Tentamos encontrar conex√µes da sub-rede DMZ para a sub-rede do usu√°rio.  Para fazer isso, configure um filtro por sub-rede.  Como resultado, encontramos uma conex√£o de rede indesejada, bem como um evento que desencadeou - a varredura com o utilit√°rio nmap, que serve como um indicador do reconhecimento cont√≠nuo da rede. <br><br>  Tamb√©m tentamos encontrar conex√µes da rede externa para a sub-rede DMZ.  Analisamos os protocolos de aplicativos - vimos o uso ativo dos protocolos de servi√ßo e o evento - uma tentativa de explorar a vulnerabilidade EthernalBlue que causou a sensacional epidemia do WannaCry. <br><br>  Em seguida, examinamos a opera√ß√£o correta do DNS.  Para fazer isso, filtre o tr√°fego de acordo com o protocolo e selecione os endere√ßos IP n√£o pertencentes √† rede local como o destinat√°rio.  Como resultado, encontramos consultas DNS para servidores do Google provenientes de um segmento de usu√°rios. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D1779%26v%3DmD3SFLTStu0">V√≠deo</a> </h4></blockquote><br>  Os erros podem ser corrigidos da seguinte maneira: <br><br><ol><li>  <b>Configure a Lista de controle de acesso (ACL)</b> no equipamento de rede para a distribui√ß√£o correta dos direitos de acesso entre sub-redes.  Uma ACL √© um conjunto de regras de permiss√£o ou nega√ß√£o para o tr√°fego de rede (no contexto de equipamento de rede).  Na maioria dos casos, as listas de acesso s√£o usadas para filtragem de pacotes na borda da Internet e em uma rede privada; no entanto, a filtragem tamb√©m pode ser necess√°ria na borda da DMZ e de outras sub-redes. </li><li>  <b>Configure o firewall</b> .  Os firewalls tamb√©m devem ser configurados n√£o apenas na fronteira com a rede externa, mas tamb√©m entre as sub-redes internas da organiza√ß√£o. </li><li>  <b>Impedir altera√ß√µes nas configura√ß√µes de rede dos usu√°rios</b> .  Para fazer isso, defina a configura√ß√£o nas Diretivas de Grupo do Windows: "Configura√ß√£o do Usu√°rio -&gt; Modelos Administrativos -&gt; Rede -&gt; Conex√µes de Rede". </li></ol><br><h2>  Esconder o tr√°fego </h2><br>  As ferramentas de oculta√ß√£o de tr√°fego podem ser VPN, Tor, proxies de criptografia e outros t√∫neis criptografados.  Seu uso n√£o autorizado e n√£o controlado pode levar a uma diminui√ß√£o na efic√°cia dos equipamentos de prote√ß√£o na organiza√ß√£o;  perda de controle sobre o conte√∫do transmitido no tr√°fego encapsulado;  um invasor pode obter um t√∫nel criptografado na rede interna de uma organiza√ß√£o no caso de o computador dom√©stico de um funcion√°rio comprometido. <br><br>  Para identificar o uso dessas ferramentas, os seguintes filtros s√£o adequados: de acordo com a lista de reputa√ß√£o dos rel√©s tor, que cont√©m os endere√ßos atuais dos n√≥s da rede Tor, bem como um filtro de acordo com o protocolo TLS, j√° que o Tor est√° mascarado.  O certificado TLS usado na sess√£o "suspeita" √© gerado automaticamente, o que √© um indicador da conex√£o de rede Tor. <br><br>  Para detectar VPNs e outros t√∫neis, voc√™ pode usar o filtro de palavras-chave PPTP (Protocolo Ponto a Ponto) e, para detectar o tr√°fego SOCKS5, use o filtro que j√° conhecemos por protocolo.  Por isso, encontramos uma sess√£o VPN com um host externo e muitas conex√µes SOCKS5. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D2130%26v%3DmD3SFLTStu0">V√≠deo</a> </h4></blockquote><br>  J√° consideramos m√©todos para resolver esse problema anteriormente, ajudando a lidar com: <br><br><ol><li>  Diferencia√ß√£o dos direitos dos usu√°rios locais. </li><li>  Pol√≠tica de lista de permiss√µes de software. </li><li>  Configurando um firewall. </li><li>  Fechando portas de rede. </li></ol><br><h2>  Uso indevido de sistemas </h2><br>  O uso indevido dos sistemas inclui o uso de mineradoras de criptomoedas, clientes Bittorent e jogos online.  Apesar de isso n√£o representar uma amea√ßa imediata √† seguran√ßa, aumenta a carga nos sistemas de computadores e canais de transfer√™ncia de informa√ß√µes e tamb√©m implica o risco de instala√ß√£o de malware. <br><br>  A lista de reputa√ß√£o dos mineradores <a href="https://www.youtube.com/watch%3Ftime_continue%3D2382%26v%3DmD3SFLTStu0">ajudar√° a</a> identificar os mineradores, o que inclui os endere√ßos de pools de minera√ß√£o conhecidos, bem como os n√≥s de blockchain de v√°rias criptomoedas.  Como resultado, vemos um grande n√∫mero de consultas DNS, o que indica a opera√ß√£o do minerador de criptografia.  Outro indicador da opera√ß√£o do minerador de criptografia pode ser as regras que funcionaram. <br><br>  √â ainda mais f√°cil com os jogos online e Bittorent - usaremos o filtro Bittorent para pesquisar tr√°fego torrent e, para jogos online, usar os servidores de jogos online populares.  Isso ajuda a calcular os funcion√°rios que usam seu tempo de trabalho n√£o da maneira que o empregador gostaria. <br><br><blockquote><h4>  <a href="https://www.youtube.com/watch%3Ftime_continue%3D2382%26v%3DmD3SFLTStu0">V√≠deo</a> </h4></blockquote><br>  As contramedidas s√£o quase as mesmas dos par√°grafos acima: <br><br><ol><li>  Diferencie os direitos dos usu√°rios locais. </li><li>  Pol√≠tica de lista de permiss√µes de software. </li><li>  Atualize antiv√≠rus e seu banco de dados. </li></ol><br><h2>  Resumir </h2><br>  Na maioria das empresas, observamos problemas com a configura√ß√£o correta de extensas redes corporativas e n√£o conformidade com configura√ß√µes, pol√≠ticas e regulamentos de SI.  Isso ocorre devido ao constante crescimento de redes e mudan√ßas dentro delas, bem como mudan√ßas nas pr√≥prias regras e pol√≠ticas.  Aqui est√£o as diretrizes gerais para evitar muitos erros: <br><br><ol><li>  Minimize o uso de protocolos abertos. </li><li>  Controlar a diferencia√ß√£o do acesso √† rede. </li><li>  Delinear direitos do usu√°rio. </li></ol><br>  Ao mesmo tempo, j√° existem ferramentas no mercado que podem monitorar a atividade de rede dentro de uma organiza√ß√£o e detectar oportunamente erros de configura√ß√£o e atividades maliciosas.  Um desses sistemas √© o <a href="https://www.ptsecurity.com/ru-ru/products/network-attack-discovery/">PT Network Attack Discovery</a> . <br><br>  <b>Postado por</b> Alexey Lednev, especialista s√™nior.  PT Expert Security Center </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt480984/">https://habr.com/ru/post/pt480984/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt480974/index.html">Desenvolvimento de aplicativos em mini aplicativos VK</a></li>
<li><a href="../pt480976/index.html">Biblioteca de testes da API JSON-RPC</a></li>
<li><a href="../pt480978/index.html">Existe vida depois da Signora?</a></li>
<li><a href="../pt480980/index.html">Tecnologias anal√≠ticas modernas em seguran√ßa cibern√©tica</a></li>
<li><a href="../pt480982/index.html">3. Introdu√ß√£o ao Fortinet v6.0. Prepara√ß√£o de layout</a></li>
<li><a href="../pt480986/index.html">LEGO Education WeDo 2.0 e Scratch - um novo pacote para o ensino de rob√≥tica infantil</a></li>
<li><a href="../pt480990/index.html">Retro digest: 30 recursos interessantes sobre a tecnologia e os jogos dos √∫ltimos anos</a></li>
<li><a href="../pt480992/index.html">Sobre a profiss√£o de gerente de produto: como alcan√ßar o ideal? (parte 2)</a></li>
<li><a href="../pt480996/index.html">Notas do Pentester: casos de ca√ßa - 2</a></li>
<li><a href="../pt480998/index.html">MERCH! MERCH! MERCH! e ... unic√≥rnios</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>