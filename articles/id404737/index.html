<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👏🏾 👌🏻 🚦 Jam tangan pintar lain dengan tangan Anda sendiri 👃🏿 🎅🏻 👨🏻‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terinspirasi beberapa waktu lalu oleh artikel "Jam tangan pintar dengan tangan Anda sendiri untuk 1500r." , Saya juga memutuskan untuk mencoba membuat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Jam tangan pintar lain dengan tangan Anda sendiri</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/404737/"><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/web/603/ba0/2c4/603ba02c4cbf47ae94b451b9dedfdc7d.png"></a> </p><br><p>  Terinspirasi beberapa waktu lalu oleh artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Jam tangan pintar dengan tangan Anda sendiri untuk 1500r."</a>  , Saya juga memutuskan untuk mencoba membuat perangkat yang serupa. </p><br><p>  Artikel ini tidak diposisikan sebagai panduan untuk tindakan atau instruksi, tetapi lebih sebagai indikasi poin-poin utama yang harus saya hadapi.  Mungkin bagi seseorang itu akan berfungsi sebagai sumber inspirasi dan informasi berguna. </p><br><p>  Pemilihan komponen, tata letak PCB, penyolderan dalam kondisi yang keras, kasing cetak 3D dan JavaScript pada jam tangan - di bawah potongan.  Selamat datang! </p><a name="habracut"></a><br><h2 id="trebovaniya">  Persyaratan </h2><br><ul><li>  Anda perlu mengetahui waktu tanpa harus masuk ke saku Anda di belakang ponsel </li><li>  Harus ada tanda terima notifikasi panggilan masuk, SMS dan notifikasi dari kurir instan </li><li>  Daya tahan baterai harus setidaknya seminggu </li><li>  Jadilah sekompak mungkin </li></ul><br><p>  Sudah berdasarkan daftar kecil persyaratan ini, Anda dapat mulai memilih komponen dan mengklarifikasi fitur teknis dari implementasi.  Anggaran proyek untuk waktu dan keuangan tidak terbatas, produksi massal tidak direncanakan, sehingga Anda dapat berjalan-jalan dan tidak benar-benar khawatir tentang menghemat setiap sen. </p><br><p>  Selain rencana umum, ada juga yang murni teknis: </p><br><ul><li>  Membuat dan menjalankan aplikasi khusus pada jam.  Seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pebble</a> .  Secara umum, selanjutnya, jam akan semakin menyerupai klon Pebble, tetapi mengapa tidak </li><li>  Memori untuk aplikasi dan datanya </li><li>  Kontrol tingkat daya yang memadai sehingga arloji tidak tiba-tiba padam saat baterai habis, tetapi menunjukkan "tongkat" dan memperingatkan terlebih dahulu </li><li>  Accelerometer, giroskop, dan magnetometer untuk pelacakan penuh pergerakan pengguna.  Untuk dapat membuat pedometer atau jam alarm pintar yang memantau fase tidur dengan kehadiran gerakan </li></ul><br><p>  Semua ini akhirnya mengkristal menjadi diagram kecil: </p><br><p><img src="https://habrastorage.org/web/6b6/b29/8b4/6b6b298b4ae848cf84df6ab2bb900ee1.png"><br>  <em>Mikrokontroler menggabungkan BLE 4.x untuk komunikasi dengan telepon pintar, bus I²C dan SPI untuk sensor dan layar dengan memori, mengendalikan getaran dan merespons penekanan tombol, semuanya ditenagai oleh baterai Li-Po.</em> </p><br><p>  Sekarang Anda dapat memulai proses memilih chip dan komponen.  Dalam hal input tenaga kerja dan waktu yang dihabiskan, itu adalah proses yang paling sulit dan panjang, perlu untuk membandingkan banyak, mencari, dan menyelam dengan cepat ke tempat saya belum pernah berenang sebelumnya. </p><br><h2 id="vybor-komponentov">  Pemilihan Komponen </h2><br><h3 id="mikrokontroller">  Mikrokontroler </h3><br><p>  Pertama-tama, Anda harus memilih pengontrol yang akan menjadi "otak" perangkat dan semua yang ada di papan akan melayani dia untuk kebaikan. </p><br><p>  Untuk membuat perangkat lebih kompak, perlu untuk menggunakan sesedikit mungkin komponen dan modul.  Di sini berbagai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sistem pada sebuah chip</a> datang untuk menyelamatkan, yang menggabungkan fungsi modul bluetooth dan mikrokontroler. </p><br><div class="spoiler">  <b class="spoiler_title">Apa yang ditawarkan pasar kepada kita?</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/979/a27/5f2/979a275f28bf4e8fade3f573c1677038.png" alt="gambar"><br>  <em>Sumber: www.argenox.com</em> </p><br><ul><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cypress PSoC BLE</a></strong> core ARM Cortex-M0, BLE 4.2, FLASH 256kB, RAM 32kB, banyak periferal dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">balun</a> terintegrasi, berbagai tegangan suplai: 1,9-5 volt </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Texas Insturments CC2541</a></strong> - BLE 4.0 dan 8051-core, FLASH 256kB, RAM 8kB </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Texas Instruments CC2640</a></strong> - BLE 4.1, Cortex-M3, FLASH 128kB, RAM 20kB </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dialog DA-14580</a></strong> - Cortex-M0, BLE 4.1, 16 MHz, 42 + 8kB RAM, 32kB OTP (memori terprogram satu kali, tetapi dimungkinkan untuk menjalankan kode dari SPI FLASH eksternal), chip terkecil dan paling sedikit mengkonsumsi di atas </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SiLabs EFR32</a></strong> - Cortex-M4F, 40 MHz, BLE 4.x, Bluetooth 5, hingga 1MB FLASH, hingga 256kB RAM </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nordic nRF52832</a></strong> - Cortex-M4F, 64MHz, BLE 4.x, Bluetooth 5, FLASH 512kB, RAM 64kB, emulasi tag NFC, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">balon</a> terintegrasi </li></ul></div></div><br><p>  Dalam tumpukan keputusan yang lezat dan tidak terlalu, pilihan jatuh pada <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nRF52832</a></strong> , chip ini ternyata menjadi yang paling produktif dan cukup nyaman dalam hal perumahan (6x6mm 48-pin QFN).  Pilihan chic yang sangat menyederhanakan perkabelan papan adalah kemampuan untuk secara terprogram menetapkan periferal apa pun ke pin GPIO mana pun.  Ini adalah sesuatu yang tidak dimiliki banyak mikrokontroler.  Berkat dukungan NFC, Anda dapat menambahkan fungsionalitas emulator NFC ke arloji dan menjahit semua kartu pass Anda ke arloji. </p><br><p><img src="https://habrastorage.org/web/e58/636/0f5/e586360f52d647bc83189ba795011014.jpg"></p><br><p>  Datasheet mengatakan bahwa ada RTC bawaan (jam waktu nyata), ini nyaman.  Tetapi kemudian ternyata ini bukan jam, tapi <em>Penghitung</em> Waktu Nyata, yaitu.  Ini adalah penghitung waktu yang paling umum, beroperasi dari kuarsa 32.768 kHz, termasuk dalam mode tidur.  Oleh karena itu, dalam revisi perangkat berikutnya, saya akan menggunakan chip terpisah untuk RTC, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">STMicroelectronics M41T62LC6F</a> .  Ini memiliki kuarsa bawaan pada 32.768 kHz dan bekerja pada antarmuka I²C. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Papan</a> debug <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nRF52-DK</a> harganya cukup <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">murah</a> , sekitar 4 ribu.  rubel.  Pada Aliexpress dapat ditemukan untuk ~ 3tys. </p><br><div class="spoiler">  <b class="spoiler_title">Ngomong-ngomong</b> <div class="spoiler_text"><p>  Karena perangkat ini tidak melibatkan produksi massal dan penjualan pasar apa pun, menggambar papan Anda sendiri dan membangun solusi Anda di BLE SoC adalah tugas yang agak menarik tanpa konsekuensi serius.  Bagi mereka yang ingin cepat memasuki pasar, disarankan untuk menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">modul pra-sertifikasi yang sudah jadi</a> . </p><br><p>  Ada beberapa alasan untuk ini dan mereka terkait dengan radio: untuk setiap perangkat elektronik baru di pasar, perlu untuk mendapatkan izin dan lulus sertifikasi dari regulator seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CE</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">FCC</a> . <br><img src="https://habrastorage.org/web/024/c98/5d7/024c985d746a4223b8dba41f7ec4d1f5.jpg" alt="Logo regulator, sering ditemukan pada case perangkat"></p><br><p>  Kegembiraan yang menyertainya meliputi tata letak khusus papan, dengan mempertimbangkan karakteristik propagasi sinyal dengan frekuensi 2,4 GHz, perisai, pengukuran dalam ruang anechoic, pencocokan impedansi, dan sihir microwave lainnya.  Dalam modul yang sudah jadi, semua pekerjaan ini telah dilakukan oleh pengembangnya, pengguna hanya perlu menanamkan modul dalam solusinya dan tidak perlu mensertifikasi apa pun. </p></div></div><br><h3 id="kvarcevye-rezonatory">  Resonator kuarsa </h3><br><p>  Resonator kuarsa terhubung ke chip nRF52832 yang dipilih: </p><br><ol><li>  Pada 32MHz untuk clocking inti dan radio, diperlukan </li><li>  Pada 32.768 kHz untuk clock timer jam dan slot waktu BLE selama mode tidur.  Opsional, tetapi koneksinya mengurangi konsumsi daya (slot waktu dapat dibuat lebih pendek) dan meningkatkan keakuratan clock RTC. </li></ol><br><p>  Kedua jenis kuarsa tersebut diperintahkan dalam perumahan pemasangan permukaan dengan Aliexpress: </p><br><div class="spoiler">  <b class="spoiler_title">Gambar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/46f/ab8/e9c/46fab8e9c84641629e77bb14ddf5c620.png"></p></div></div><br><h3 id="displey">  Tampilan </h3><br><p>  Agar jam terus berdetak tanpa mengisi ulang selama setidaknya satu minggu, perlu untuk menyelesaikan masalah bahwa matriks tampilan mengkonsumsi banyak arus dalam mode operasi.  Seperti yang saya pahami, produsen arloji memecahkan masalah ini dengan dua cara: </p><br><ol><li>  Nyalakan tampilan dan tampilkan konten hanya ketika gelombang tangan terjadi dan layar arloji jatuh ke bidang penglihatan pengguna, atau ketika perhatian pengguna telah tertarik, misalnya, dengan pemberitahuan atau jam alarm </li><li>  Tampilkan konten secara terus-menerus, menggunakan tampilan yang secara praktis tidak menggunakan arus untuk menampilkan gambar, dan mengkonsumsinya hanya untuk memperbarui konten.  Anda tidak perlu pergi jauh untuk contoh: ini adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">e-ink</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memory LCD</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IMOD / mirasol</a> </li></ol><br><div class="spoiler">  <b class="spoiler_title">Apa yang ditawarkan pasar kepada kita?</b> <div class="spoiler_text"><p>  Untuk opsi ketika tampilan sebagian besar waktu adalah pekerjaan Malevich, ada opsi seperti di pasar: OLED, TFT, Amoled, modul telepon LCD (Nokia, Siemens, dll.).  Masih menemukan tampilan dengan diagonal yang cocok. </p><br><p>  Contoh: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layar OLED kecil</a> , seperti pada Ali Express membutuhkan biaya satu sen. <br>  Sekelompok minus: diagonal kecil, monokrom, konsumsi 10-20mA, modul besar.  Tanpa papan modul - loop lebar dan lautan pengikat, yang akan menyerap sebagian besar area di papan. </li><li>  TFT LCD, mis. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ILI9341</a> .  Dari minus: konsumsi, loop lebar </li></ul><br><p>  Layar pada E-Ink segera menghilang, karena kecepatan pembaruan layar terlalu lambat, monokrom dan, kemungkinan besar, sulit untuk menemukan tampilan E-Ink yang cukup kecil di pasar terbuka. </p><br><p>  Jika Anda melihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pebble</a> , Anda dapat melihat bahwa ia menggunakan tampilan "Selalu menyala".  Pebble Classic menggunakan layar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">LCD Memori SHARP</a> monokrom, Pebble Time menggunakan layar warna (64 warna) menggunakan teknologi serupa, tetapi diproduksi oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">JDI</a> , itu tidak dijual. </p><br><p>  Mengenai IMOD / Mirasol, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Qualcomm</a> tidak dapat menemukan apa pun selain brosur pemasaran dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jam tangan Toq dari Qualcomm</a> . </p></div></div><br><p>  Saya ingin mengambil tampilan warna seperti Pebble Time.  Analog terdekat, yang dijual bebas, adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SHARP LS013B7DH06</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">datasheet-nya</a> ). </p><br><p><img src="https://habrastorage.org/web/843/c78/b5e/843c78b5e870402cbba399bdede1fb0e.JPG"></p><br><p>  Karakteristik </p><br><ul><li>  Diagonal 1,33 " </li><li>  Resolusi: 128x128, 8 warna (3 bit per piksel) </li><li>  Dimensi: 26.82x31.3mm </li><li>  Antarmuka: SPI </li><li>  Tegangan suplai: 5V, tetapi level logika SPI dari 2.7V </li></ul><br><p>  Penyergapan terjadi dengan tegangan suplai, karena baterai Li-Po tidak mendapatkan tegangan 5V yang diperlukan tanpa tambahan boost converter.  Tetapi arus pada tampilan sangat sedikit dan mendapatkan 5V yang diperlukan cukup sederhana menggunakan pompa pengisian jenis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Linear LTC1754-5</a> : </p><br><p><img src="https://habrastorage.org/web/4fa/599/9d6/4fa5999d699540c1b25fdcf02d5ccc36.jpg"><br>  Fitur lain adalah kebutuhan untuk mengganti status pin EXTCOMIN (External COM Inversion) setidaknya sekali dalam satu detik dari level tinggi ke level rendah dan sebaliknya, sehingga muatan tidak menumpuk di panel layar dan gambar tidak membeku pada satu titik.  Untuk tujuan ini, Anda dapat membuang PWM (PWM) built-in mikrokontroler, disetel ke siklus tugas 50% (gelombang persegi) dan frekuensi 1Hz atau lebih tinggi, atau generator gelombang persegi (termasuk eksternal) lainnya. </p><br><p>  Layar terhubung ke papan menggunakan kabel kecil, sangat nyaman untuk menggunakan konektor FPC 10-pin dalam peningkatan 0,5mm, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Hirose FH12-10S-0.5SH</a> : </p><br><p><img src="https://habrastorage.org/web/cd6/c7e/1d8/cd6c7e1d8d6e41e9af61a05b705f9ea0.jpg"><br>  Modul tampilan tidak memiliki lampu latar sendiri dan tidak bersinar melalui LED seperti layar LCD biasa, jadi untuk sekarang kita tidak punya waktu untuk menonton jam tanpa lampu latar.  <em>Jika seseorang terbiasa dengan proses membuat modul lampu latar untuk jenis layar ini, harap balas.</em> </p><br><h3 id="akkumulyator">  Baterai </h3><br><p>  Saya harus meluangkan waktu untuk memilih baterai ukuran yang tepat dari kisaran ukuran standar.  Saya mencari baterai lithium-polimer dengan tegangan 3.7V dan dengan kapasitas sekitar 100mAh. </p><br><p>  Baterai itu direncanakan ditempatkan di bawah papan, mengetahui ukuran papan, Anda dapat dengan mudah mengambil baterai yang cocok dan tidak akan menonjol apa pun. </p><br><div class="spoiler">  <b class="spoiler_title">Apa yang ditawarkan pasar?</b> <div class="spoiler_text"><p>  Di Aliexpress, Anda dapat memesan sejumlah besar baterai untuk hampir semua ukuran, yang terpenting adalah mengetahui sistem pengkodean untuk nama mereka.  Dan itu seperti ini: HHWWLL, di mana HH adalah ketebalan (tinggi) baterai dalam sepersepuluh milimeter, WW adalah lebarnya dan LL adalah panjangnya dalam milimeter. </p><br><p>  Contoh: 402025 - baterai dengan ketebalan 4mm dan ukuran 20x25mm <br><img src="https://habrastorage.org/web/a8b/a4e/129/a8ba4e1299df4be69ab9048680ae8da4.png"></p></div></div><br><p>  <strong>Baterai 302025</strong> (3x20x25mm) dengan kapasitas 110mAh dipilih dan dipesan di Aliexpress. </p><br><p><img src="https://habrastorage.org/web/b54/87c/266/b5487c2667514d8ea864e303af4fcc54.png"></p><br><h3 id="pitanie">  Nutrisi </h3><br><p>  Karena baterai lithium-polimer masuk akal untuk melepaskan hanya hingga 3 volt, diputuskan untuk memberi daya seluruh sirkuit dari 3V yang stabil dan jika tegangan pada baterai turun di bawah 3V, maka matikan regulator daya utama untuk chip perlindungan ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Maxim MAX809TEUR + T</a> ). </p><br><p>  Tegangan total pasokan 3V cocok dengan rentang daya semua elemen rangkaian, kecuali untuk tampilan, yang membutuhkan 5V.  Oleh karena itu, layar ini didukung melalui konverter boost <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Linear LTC1754-5</a> langsung dari baterai. </p><br><p>  Jika Anda melihat kurva debit jenis baterai ini, <br><img src="https://habrastorage.org/web/6f9/d21/e2c/6f9d21e2cd6b475b913667c1f667fe32.gif"></p><br><p>  dapat dilihat bahwa seluruh kapasitas baterai jatuh pada kisaran tegangan dari ~ 4V ke 3V, sehingga konverter step-down 3V konvensional akan cukup untuk menyediakan sistem dengan tegangan stabil dan pada saat yang sama secara efektif menyedot semua energi dari baterai tanpa meninggalkan apa pun, tetapi tanpa pengisian berlebih . </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Texas Instruments TPS78230DRVT</a> dipilih sebagai konverter step-down, ia memiliki arus operasi kecil 500nA dan arus maksimum 150mA, yang cukup memadai.  Kasing SON-6 ringkas dan cukup berbayar: </p><br><p><img src="https://habrastorage.org/web/f31/c89/056/f31c89056e624439af40162263e57c18.jpg"></p><br><h3 id="zaryadka-akkumulyatora">  Pengisian Baterai </h3><br><p>  Diputuskan untuk mengisi daya baterai melalui port microUSB standar ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Molex 47346-0001</a> ), tetapi tidak cukup hanya menghubungkan baterai langsung ke bus USB 5V dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengisinya</a> seperti itu, perlu untuk memastikan proses pengisian yang benar, dibagi menjadi beberapa fase: prakondisi, arus konstan, konstan tegangan </p><br><div class="spoiler">  <b class="spoiler_title">Profil pengisian daya khas untuk baterai 180mAh</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/f70/022/db6/f70022db6ac747c089c50bfa34320854.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">Penjelasan yang bagus tentang proses pengisian daya di EEVBlog</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/A6mKd5_-abk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><p>  Solusi populer untuk mengisi daya baterai berkapasitas kecil (hingga 500mAh) adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">chip Microchip MCP73831</a> .  Arus pengisian (tergantung pada kapasitas baterai) diprogram oleh resistor, ada keluaran tri-state atau open-drain untuk memberi tahu Anda tentang awal dan akhir proses pengisian. </p><br><p>  Saya juga memilih chip lain - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Maxim MAX1555EZK-T</a> .  Ini memiliki arus pengisian tetap 100mAh dan memiliki rumah yang sama dengan chip microchip, dan pada saat yang sama membutuhkan minimum komponen eksternal dan memiliki keluaran saluran terbuka untuk memberi tahu tentang proses pengisian: </p><br><p><img src="https://habrastorage.org/web/b33/64a/b80/b3364ab804ef4332abb7c68fdd9452d8.jpg"></p><br><div class="spoiler">  <b class="spoiler_title">Gambar lembar data</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/092/c7b/994/092c7b994d134222a43096e9eaa4fa22.png"></p></div></div><br><p>  Dalam revisi papan berikutnya, saya masih akan beralih ke chip microchip, karena arus pengisian 100mA untuk baterai 110mAh mungkin agak banyak. </p><br><h3 id="kontroller-yomkosti-akkumulyatora">  Pengontrol kapasitas baterai </h3><br><p>  Ada beberapa teknik untuk memantau tingkat pengisian baterai yang agak berbeda dalam pelaksanaan dan keakuratan hasil akhir (dalam sumber bahasa Inggris ini disebut Status Pengisian): </p><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><ol><li><p>  Ukur apa yang disebut  buka voltase sirkuit / OCV (voltase pada pelat) baterai melalui ADC dan buat kesimpulan tentang kapasitas baterai.  Paling sering, perlu untuk mentransfer rentang tegangan ke area yang dapat diterima untuk operasi ADC menggunakan pembagi tegangan.  Kerugian dari pendekatan ini adalah bahwa grafik tegangan versus kapasitas untuk baterai lithium-polimer cukup datar, dan bacaan itu sendiri berubah dengan setiap siklus dan tunduk pada kebisingan dan ketidakmampuan untuk mengukur tegangan sebenarnya pada pelat karena pengaruh arus beban </p><br></li><li><p>  Cara lain adalah mengukur arus yang mengalir masuk dan keluar dari baterai alih-alih mengukur tegangan melintasi pelat.  Ini yang disebut penghitungan coulomb.  Solusi tipikal adalah mengintegrasikan nilai penurunan tegangan pada resistor shunt resistansi kecil (sekitar 100mOhm).  Mengetahui kapasitas baterai, dari arus yang mengalir keluar untuk jangka waktu tertentu, kita dapat menyimpulkan berapa banyak energi yang tersisa di baterai (mengabaikan self-discharge).  Kerugian dari pendekatan ini adalah bahwa self-discharge tidak diperhitungkan, serta fakta bahwa kapasitas baterai yang sebenarnya berubah dengan setiap siklus pengisian-debit.  Secara kasar, arus lebih sedikit dari baterai daripada mengalir ke saat pengisian.  Karena itu, seiring waktu, kesalahan dalam pembacaan pasti akan menumpuk </p><br></li><li>  Kombinasi metode pertama dan kedua: pengukuran dan tegangan pada pelat dan arus yang mengalir.  Kombinasi yang kompeten dari kedua pendekatan akan membantu untuk membangun model yang akan mengevaluasi kapasitas baterai dengan akurasi yang baik.  Agar pendekatan ini bekerja, perlu untuk menghasilkan setidaknya satu siklus charge-discharge untuk mengumpulkan data tentang ketergantungan tegangan melintasi pelat pada kapasitansi.  Selain itu, setiap siklus berikutnya harus melakukan perubahan pada model baterai sehingga kesalahan tidak menumpuk.  Ada artikel di mana orang memberi tahu bagaimana, menggunakan filter Kalman, data dari berbagai pengukuran digabungkan untuk memprediksi biaya yang tersisa ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[1]</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[2]</a> ) </li></ol></div></div><br><div class="spoiler">  <b class="spoiler_title">Apa yang ditawarkan pasar kepada kita?</b> <div class="spoiler_text"><ul><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Maxim MAX17043</a></strong> - menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">algoritma kepemilikan</a> untuk tegangan pada pelat, membangun model baterai di dalamnya.  Menjanjikan keakuratan dalam mengukur sisa biaya 3%.  Antarmuka I²C.  Tubuh bagus dan kecil </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OnSemi LC709203F</a></strong> - mengukur OCV, antarmuka I²C, akurasi 2,8%, ada kompensasi suhu melalui termistor eksternal.  Mahal dan buruk di Rusia </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Texas Instruments BQ27621</a></strong> - mengukur tegangan pada pelat, I²C, akurasi tidak ditentukan, mahal, paket BGA </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Texas Instruments BQ27421</a></strong> - secara bersamaan mengukur tegangan dan arus yang mengalir.  Antarmuka I²C, akurasi tidak ditentukan, mahal, paket BGA </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Linear LTC2941</a></strong> - mengukur arus yang mengalir, antarmuka I²C, akurasi 1%, tambahan memerlukan resistor shunt eksternal (built-in di LTC2941-1), housing: 2x3mm DFN-6 </li></ul></div></div><br><p>  Dari opsi yang tersedia, chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Linear LTC2941</a> dipilih untuk kasus terkecil, tetapi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berbayar</a> dan algoritme kerja yang jelas.  Dipesan di Aliexpress. </p><br><div class="spoiler">  <b class="spoiler_title">Gambar lembar data</b> <div class="spoiler_text"><p><img src="http://cds.linear.com/image/8650.png" alt="gambar"><br>  <em>Sumber: Teknologi Linear</em> </p></div></div><br><p>  Microcircuit menggunakan teknik penghitung coulomb dan menghitung arus yang mengalir dengan akurasi 1%, bekerja melalui antarmuka I²C (SMBus) dan memiliki rumah yang kecil namun nyaman: 2x3mm DFN-6: <br><img src="https://habrastorage.org/web/348/3e8/90b/3483e890b3e34789ad68abaa6cf19c0a.jpg"></p><br><p>  Melalui I²C di dalam sirkuit mikro, Anda dapat mengatur nilai dari counter meter saat ini, serta mengatur atau membaca nilai dari counter itu sendiri.  Penghitung adalah 16-bit dan meningkat ketika arus mengalir ke baterai dan berkurang ketika arus mengalir dari baterai.  Nilai penghitung maksimum (0xFFFF) dapat diambil sebagai baterai yang terisi penuh, dan minimum (0x0000) sebagai yang terisi penuh.  Dengan pre-selector counter yang dipilih dengan baik, dimungkinkan untuk mencapai bahwa counter mencapai maksimum selama pengisian dan mencapai nol ketika baterai benar-benar habis.  Dimungkinkan untuk menetapkan batas nilai penghitung, di bawah ini mikrosirkuit akan membunyikan alarm dan memberikan interupsi. </p><br><h3 id="akselerometr">  Akselerometer </h3><br><p>  Di antara banyak pilihan di pasar, sebuah chip yang cukup populer dipilih: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">InvenSense MPU-9250</a> .  Ini adalah sistem dalam kasing (SiP), yang menggabungkan MEMS-Accelerometer, MEMS-giroskop dan chip magnetometer. </p><br><p><img src="https://habrastorage.org/web/1d8/c0d/685/1d8c0d6854a7433e9d6ccb6e2ffebf08.png"></p><br><div class="spoiler">  <b class="spoiler_title">Karakteristik</b> <div class="spoiler_text"><ul><li>  Tegangan suplai dari 2.4V ke 3.6V </li><li>  Accelerometer MEMS 16-bit tiga sumbu dengan rentang pengukuran ± 2g, ± 4g, ± 8g, ± 16g </li><li>  Giroskop MEMS tiga-sumbu 16-bit hingga 2000 ° / detik </li><li>  Magnetometer 16-bit tiga sumbu dengan rentang pengukuran hingga ± 4800μT </li><li>  Filter Digital Bawaan </li><li>  Antarmuka I²C dan SPI </li><li>  Interupsi yang dapat diprogram </li><li>  Co-prosesor untuk membaca DMP (Digital Motion Processor) </li></ul></div></div><br><p>  Chip ini sangat baik, tetapi pada akhirnya tampaknya itu adalah pembunuhan yang berlebihan dan akselerometer sederhana sudah cukup untuk digunakan dalam arloji.  Misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Analog ADXL362</a> - menurut pabrikan, ini adalah accelerometer MEMS tiga-sumbu yang paling ekonomis. </p><br><h3 id="flesh-pamyat">  Memori flash </h3><br><p>  Diputuskan untuk menggunakan memori SPI-FLASH eksternal untuk aplikasi dan data.  Dari berbagai opsi, chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Winbond W25Q256FV</a> dalam paket WSON-8 yang ringkas dipilih: </p><br><p><img src="https://habrastorage.org/web/7ca/6f6/617/7ca6f6617c454838be1f4b0ee964779f.jpg"></p><br><p>  Jumlah memori flash adalah 256 megabita (atau 32 megabita), itu sudah cukup.  Memori dibagi menjadi halaman 256 byte, dikelompokkan ke dalam sektor 4 kilobyte dan blok 32 kilobyte.  Dalam mode aktif (membaca atau menulis) ia mengkonsumsi hingga 20mA, dalam mode siaga - kurang dari 1μA. </p><br><p>  Seperti dengan accelerometer, kemudian mulai terlihat bahwa 32 megabita juga merupakan kerja keras dan Anda dapat menggunakan memori FLASH built-in dari mikrokontroler, itu sudah memiliki 512 kilobyte.         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>     . </p><br><h3 id="knopki">  </h3><br><p>  ,           (   Pebble,  ).             .          ,            : </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wealth Metal TD-26EA</a> : </p><br><p><img src="https://habrastorage.org/web/55f/13a/47d/55f13a47d7c6491094d471c3a94af858.jpg"><br> <em>: &amp;</em> </p><br><p>  ,              . </p><br><p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Omron B3U-3000P</a> : </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/889/246/2d0/8892462d032444d691d70ef546c62743.png"></p></div></div><br><p>       . </p><br><h3 id="vibromotorchik">  </h3><br><p>     ,    ,  . </p><br><p>  Aliexpress       ,   3V   (HxWxL) 3x3x12mm: </p><br><div class="spoiler">  <b class="spoiler_title">Gambar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/147/477/5c7/1474775c7260460896a4ea3b080e5571.jpg"></p></div></div><br><p>         ,    100mA      . </p><br><h3 id="antenna">  </h3><br><p> -     ,      -  .   ,      ,    .      ,          .    ,          . </p><br><p>   -  2.4GHz  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Johanson 2450AT18B100</a> : <br><img src="https://habrastorage.org/web/84b/dc7/0e5/84bdc70e556b490896f937b3aa23f574.jpg"></p><br><p> ,    ,   Johanson    ,     ,      Nordic.   nRF52 Johanson    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Johanson 2450FM07A0029</a> ,     - LC-  . </p><br><p> Antena dipesan pada Aliexpress dengan pita 10pcs.  untuk 214r / tape. </p><br><h3 id="vsyo-ostalnoe">  Yang lainnya </h3><br><p>  Komponen pasif untuk suspender dan strapping sebagian besar adalah chip berukuran 0402 dan 0603 dan dipesan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Elitan</a> .  Selain komponen pasif, ada dua transistor dan sepasang dioda di papan tulis.  Mereka berpartisipasi dalam mengendalikan motor getaran, serta di sirkuit daya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memisahkan daya USB dan baterai</a> . </p><br><h2 id="shema-i-plata">  Sirkuit dan papan </h2><br><p>  <em>Tampilan papan di tangkapan layar sedikit berbeda dari yang dipesan dan ada di foto perangkat.</em>  <em>Tangkapan layar papan hanya revisi sedikit kemudian dengan perubahan kecil.</em> </p><br><p>  Setelah memutuskan untuk mencoba sesuatu yang baru, saya menggambar sirkuit dan papan tidak di DipTrace biasa, tetapi di cloud EDA Upverter: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan ke desain</a> . </p><br><p>  Upverter memungkinkan Anda untuk melakukan desain papan dan sirkuit ujung-ke-ujung secara bersamaan, sehingga beberapa elemen pengkabelan dilakukan sesuai dengan skema, dan bagian dari rangkaian dirancang dengan mempertimbangkan fitur-fitur pengkabelan. </p><br><p>  Fitur pembunuh lainnya dari Upverter adalah perpustakaan besar komponen, yang dibuat dengan cermat oleh bot dan sekelompok orang India.  Ternyata menjadi sangat nyaman untuk mengambil bagian yang sudah ditarik dan hanya memeriksa bahwa semuanya lebih atau kurang benar, daripada sepenuhnya menggambar simbol dan jejak diri Anda. </p><br><p>  Pertama, saya memutuskan untuk mengatur komponen, posisi yang akan diperbaiki secara tepat: tombol, port microUSB dan konektor untuk layar.  Saya tidak membuat lubang pemasangan, dengan harapan bahwa papan akan dijepit oleh kasing dan tidak ada yang menggantung. </p><br><p>  Setelah lokasi elemen tetap, ikuti "aturan praktis" dan kami akan mengembangbiakkan radio terlebih dahulu.  Antena chip memiliki area keepout kecil di dekatnya, di dalam dan di bawahnya tidak direkomendasikan untuk menempatkan trek dan poligon di semua lapisan, jadi ada baiknya Anda menempatkan antena di tepi papan, lebih disukai lebih dekat ke salah satu sudut.  Sebenarnya, lokasi antena menentukan lokasi mikrokontroler.  Sehingga panjang konduktor dari port keluaran antena pada chip ke antena itu sendiri sekecil mungkin (dengan mempertimbangkan komponen yang cocok), kami menempatkan pengontrol lebih dekat ke tepi di mana antena akan berada. </p><br><p>  Semua komponen lain dapat ditemukan (tanpa melupakan akal sehat) dengan cukup bebas.  Hal ini disebabkan oleh fakta bahwa posisi port untuk periferal digital mikrokontroler nRF52 dapat ditentukan secara terprogram. </p><br><p>  Dalam sedikit pengalaman saya, pengaturan timbal balik komponen yang sukses adalah 90% sukses dan menentukan kualitas kabel lebih lanjut, sehingga proses ini harus diberi perhatian khusus. </p><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar papan (poligon tidak kebanjiran, tampilan bawah)</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/9dc/5f1/7cd/9dc5f17cd1c34a00943ebd444b28a964.png"></p></div></div><br><p>  Untuk lebih jelasnya, saya melukis perkiraan topologi bidang-bidang utama: </p><br><p><img src="https://habrastorage.org/web/fd0/136/bef/fd0136bef5c140c3bb6b069615f4837f.png"></p><br><p>  Papan empat lapis, menempatkan komponen yang dipilih di papan dan melarutkan koneksi mereka adalah masalah beberapa malam, dan kemudian butuh sekitar satu minggu untuk terjebak di papan, mencari kesalahan, memeriksa lembar data dengan santai dan membaca kembali untuk menghindari kejutan tiba-tiba. </p><br><p>  Dewan ditarik dengan mempertimbangkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">standar teknologi</a> dari produsen papan, yang menjadi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OSHPark.com</a> Amerika: </p><br><ul><li>  Konduktor / Izin: 5/5 Mil </li><li>  Vias: 10/4 mil hole / pad </li><li>  Bahan: FR408 </li><li>  Selesai: perendaman emas dengan sublayer nikel (ENIG) </li><li>  Vias buta dan transisi lapisan bagian dalam (buras vias) tidak didukung.  <em>Dan kita tidak perlu</em> </li></ul><br><p>  Pada saat yang sama, harganya $ 10 per sq.  inci dan jumlah papan dalam urutan - 3pcs.  Ini adalah motherboard yang sangat berkualitas tinggi dan murah (untuk prototipe) dengan topeng ungu yang dikenali, saya sarankan kepada semua orang yang tidak kritis untuk menunggu dua minggu untuk motherboard bilateral atau empat lapis mereka selama sebulan. </p><br><div class="spoiler">  <b class="spoiler_title">Memesan tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/ab1/daf/2ae/ab1daf2ae0b64016ac897c4afd23fb51.png"></p></div></div><br><p>  Akibatnya, untuk tiga biaya saya harus membayar $ 14 dan sebulan kemudian mengambilnya melalui pos. </p><br><div class="spoiler">  <b class="spoiler_title">Foto papan tanpa komponen</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/a45/223/d98/a45223d982164562992fd1c3b9a9b308.jpg"><br><img src="https://habrastorage.org/web/6b0/438/119/6b043811948c4552a2d51294007dd385.jpg"></p></div></div><br><p>  Semua komponen terletak di sisi bawah papan, di sisi atas papan terletak modul display, di mana terdapat koil NFC datar, yang memungkinkan Anda menghemat beberapa milimeter tinggi dan memastikan tampilan layar yang halus dan rapat. </p><br><div class="spoiler">  <b class="spoiler_title">Ternyata sandwich seperti itu</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/18a/5c4/a32/18a5c4a320d14b31be2aad99ff8e9d7f.png"></p></div></div><br><p>  Di sisi atas papan ada juga banyak titik uji, bantalan uji, di mana I²C, jalur bus SPI, jalur interupsi, dan beberapa sinyal kontrol terhubung.  Osiloskop atau penganalisa logika dapat dihubungkan ke platform ini dan fitur ini sangat menyederhanakan driver penulisan dan debugging firmware.  Juga di sisi atas papan adalah antarmuka debug JTAG (SWD) untuk flashing dan debugging melalui Segger JLink, yang termasuk dalam kit nRF52-DK, dan bantalan untuk menyolder koil antena NFC. </p><br><h2 id="sborka-i-payka">  Perakitan dan penyolderan </h2><br><p>  Jika Anda mengikuti seluruh proses pemasangan permukaan, maka Anda perlu memesan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stensil smd (stensil smd)</a> dan pasta solder, oleskan pasta solder melalui stensil, atur komponen, dan kirim ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">oven reflow</a> . </p><br><p>  Tapi saya tidak punya tungku, juga stensil.  Dan keinginan untuk main-main dengan dia dan pasta solder juga.  Saya ingin segera membuat prototipe dan mulai menguji dan menulis perangkat lunak.  Oleh karena itu, saya menyolder semua komponen secara manual, yang terkecil adalah chip berukuran 0402, mengoleskan pasta dengan jarum, menempatkan komponen dengan pinset vakum dan menyoldernya dengan pengering rambut. </p><br><p>  Hasilnya bisa dilihat di foto: </p><br><p><img src="https://habrastorage.org/web/4e1/164/938/4e11649380fb457b9ebce97f267e32ac.jpg"></p><br>  <em>Tombol tidak disolder, dan bukannya beberapa chip berkaki tiga - jumper.</em> <br>  <em>Saya minta maaf atas foto-foto berkualitas rendah, yang diambil di atas batu bata.</em> <br><br><br><div class="spoiler">  <b class="spoiler_title">Foto melalui kaca pembesar x30</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/8d8/25c/fed/8d825cfedfe047ddb9f260548d365219.jpg"><br>  <em>Anda dapat melihat komponen yang sedikit diputar dan di tempat-tempat kelebihan solder.</em>  <em>Ini tidak dapat dihindari dengan instalasi manual dan aplikasi pasta.</em> </p></div></div><br><p>  Segera setelah papan dipasang, saya meraih tester di tangan saya dan mulai membunyikan semua yang saya bisa capai untuk korsleting.  Setelah memastikan bahwa ia tampaknya tidak pendek, ia menghubungkan kabel USB.  Tidak ada asap, chip tidak memanas, tegangan pada port USB adalah 5 volt, output muatan 4.2V, tegangan setelah LDO tepat tiga volt.  Sepertinya berhasil. </p><br><p>  Bahkan ketika ditenagai sepenuhnya, perangkat, tentu saja, sama sekali tidak menunjukkan tanda-tanda kehidupan.  Sekarang Anda perlu menghirup jiwa - firmware (atau "sistem operasi", seperti beberapa produsen arloji: WatchOS, PebbleOS, dll.). </p><br><p>  Langkah selanjutnya dalam tes ini adalah menghubungkan debugger JLink yang dibangun ke nRF52-DK melalui antarmuka SWD.  Kami menghubungkan kabel, jalankan JLinkExe dan lihat chip kami!  Anda dapat mulai menulis firmware dan menguji blok besi yang tersisa secara terprogram. </p><br><h2 id="laquooperacionnaya-sistemaraquo-dlya-chasov">  "Sistem operasi" untuk jam tangan </h2><br><p>  Untuk pekerjaan periferal tingkat rendah, Nordic menawarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nRF5-SDK</a> , yang cocok untuk seri nRF51 dan nRF52. </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/web/1c6/54b/0cd/1c654b0cd48540efbb8e9a2ab79dc299.png"></a> </p><br><p>SDK             , , NFC   .     Makefile    <code>arm-none-eabi-gcc</code>.        ,       .</p><br>
<p>       .hex-,      nRF52-DK    .   nRF52-DK  ,  Mass Storage Device (),      .hex         .</p><br>
<p>     <code>JLinkExe</code>   GDB-    <code>nrfjprog</code>.</p><br>
<p>        ,   .          ,     ,                 ,            ,      .</p><br>
<p>    ,             .</p><br>
<p><img src="https://habrastorage.org/web/2fe/4fb/faf/2fe4fbfaf96746da8573e732632c6fa8.png"><br>
<em> , -,  ,     .</em></p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/web/a1f/ee6/9e3/a1fee69e3bee4918babac61db1c25ca8.jpg"></p></div></div><br>
<p>     ,        ,    -   .      API     X-Lib            .             ,        .</p><br>
<p>  :</p><br>
<p><img src="https://thumbs.gfycat.com/BoldThornyBuck-size_restricted.gif"></p><br>
<div class="spoiler"><b class="spoiler_title">   </b><div class="spoiler_text"><p><img src="https://thumbs.gfycat.com/ArtisticSoupyAntlion-size_restricted.gif" alt="image"></p></div></div><br>
<p> ,    API  ,    JavaScript (ES 5),                 .   ,  .</p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">JerryScript</a>,         , API      ,     ,    .   ,        ,   :    Date  .., JSON-,       ..</p><br>
<div class="spoiler"><b class="spoiler_title">    JS-</b><div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Duktape</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Espruino</a></li>
</ul></div></div><br>
<p>   JS  :</p><br>
<p><img src="https://habrastorage.org/web/ac6/a92/c2f/ac6a92c2faab4f3bb18f65b4fa2d8968.jpg"></p><br>
<p>  API          GUI,    , Bluetooth,   ..</p><br>
<p>        ( <code>-O0</code>):</p><br>
<p><img src="https://habrastorage.org/web/a41/e24/f8f/a41e24f8faf84949a14c79d1f9938cea.png"></p><br>
<p>106kB FLASH, 12.8kB RAM.   8kB RAM —  (heap)   JavaScript .           . ,   FLASH  nRF52832  512kB,    RAM — 64kB.</p><br>
<p> FLASH (120kB)      RAM   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> BLE- SoftDevice.</p><br>
<h2 id="korpus"></h2><br>
<p>    —  3D- .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">TinkerCad</a>    3D-.    :</p><br>
<div class="spoiler"><b class="spoiler_title">   USB-  </b><div class="spoiler_text"><p><img src="https://habrastorage.org/web/e66/5fa/e0d/e665fae0d3414e56bead2ff4ff5050e2.jpg"></p></div></div><br>
<p><em> -          3D-,          !</em></p><br>
<h2 id="zaklyuchenie"></h2><br>
<p>       ,         .       ,   ,     ,          .  ,  ,            ,      .</p><br>
<p>         ,     API-  JS-,           JS-,   -  Android.           ,     .    ,        , , Android-   .</p><br>
<p>    : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://upverter.com/EP/cdbd8b9abc72b7cd/nRF52-smart-watch/</a><br>
         ,     Github.</p><br>
<p>    , ,       -        ,      .</p><br>
<p>      !</p><br>
<p><strong>P.S.:</strong>  .</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id404737/">https://habr.com/ru/post/id404737/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id404725/index.html">Intel meninggalkan Edison, Galileo dan Joule</a></li>
<li><a href="../id404727/index.html">Elon Musk berbicara tentang bagaimana ia berhasil menjadi sangat produktif</a></li>
<li><a href="../id404731/index.html">Perusahaan hosting Korea Selatan membayar $ 1 juta kepada pengembang versi Linux dari crypto ransomware Erebus</a></li>
<li><a href="../id404733/index.html">Kita tahu partikel-partikel elementer</a></li>
<li><a href="../id404735/index.html">Sebuah penelitian baru menunjukkan bahwa kucing tidak dijinakkan seperti binatang lain</a></li>
<li><a href="../id404741/index.html">Penilaian karbon dioksida di ruangan ber-AC</a></li>
<li><a href="../id404745/index.html">Tanya Ethan: Seberapa besar seharusnya porsi jagat raya untuk mengembang?</a></li>
<li><a href="../id404747/index.html">WikiLeaks menerbitkan dokumentasi CIA tentang menginfeksi komputer yang terisolasi secara fisik</a></li>
<li><a href="../id404749/index.html">Microsoft mengakui bahwa kadang-kadang memutus bagian dari antivirus pihak ketiga</a></li>
<li><a href="../id404751/index.html">Router dengan fitur VoIP hanya dalam seratus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>