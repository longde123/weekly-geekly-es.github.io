<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✳️ 🎯 👩🏽‍✈️ Tanda Tangan MacOS Berkualitas 🏼 🛀🏼 👂🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Menurut RBC dan Tensor , pada 2019 di Rusia, 4,6 juta sertifikat tanda tangan elektronik yang memenuhi syarat (CEP) akan dikeluarkan yang memenuhi per...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tanda Tangan MacOS Berkualitas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450516/"><img src="https://habrastorage.org/webt/ex/qt/fa/exqtfaem0qdki9aiaggndkwcpsc.png" align="left"><br><p>  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RBC</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tensor</a> , pada 2019 di Rusia, 4,6 juta sertifikat tanda tangan elektronik yang memenuhi syarat (CEP) akan dikeluarkan yang memenuhi persyaratan 63-FZ.  Ternyata dari 8 juta IP terdaftar dan LLC, setiap pengusaha detik menggunakan tanda tangan elektronik.  Selain CEP untuk EGAIS dan CEP berbasis cloud untuk mengirimkan laporan yang dikeluarkan oleh bank dan layanan akuntansi, CEP universal dengan token aman menjadi perhatian khusus.  Sertifikat tersebut memungkinkan Anda untuk masuk ke portal negara bagian dan menandatangani dokumen apa pun, menjadikannya signifikan secara hukum. </p><br><p>  Berkat sertifikat CEP pada token USB, Anda dapat menyimpulkan kontrak dengan rekanan atau karyawan jarak jauh, mengirim dokumen ke pengadilan;  daftar kasir online, setel tunggakan pajak, dan kirimkan deklarasi di akun Anda di nalog.ru;  cari tahu tentang utang dan cek yang akan datang pada layanan publik. </p><br><p>  Manual di bawah ini akan membantu Anda <strong>bekerja dengan CEP untuk macOS</strong> - tanpa mempelajari forum CryptoPro dan menginstal mesin virtual dengan Windows. </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Isi</b> <div class="spoiler_text"><p>  <strong>Apa yang Anda perlukan untuk bekerja dengan CEP untuk macOS:</strong> </p><br><p>  <strong>Instal dan konfigurasikan CEP untuk macOS</strong> </p><br><ol><li>  Instal CryptoPro CSP </li><li>  Instal driver Rootoken </li><li>  Pasang sertifikat <br>  3.1.  Kami menghapus semua sertifikat GOST lama <br>  3.2.  Instal sertifikat root <br>  3.3.  Unduh sertifikat pusat sertifikasi <br>  3.4.  Instal sertifikat dengan Rutoken </li><li>  Instal browser khusus Chromium-GOST </li><li>  Pasang ekstensi peramban <br>  5.1 CryptoPro EDS Browser plug-in <br>  5.2.  Plugin untuk layanan pemerintah <br>  5.3.  Siapkan plugin untuk layanan publik <br>  5.4.  Aktifkan ekstensi <br>  5.5.  Kami mengkonfigurasi ekstensi CryptoPro EDS Browser plug-in </li><li>  Periksa apakah semuanya berfungsi. <br>  6.1.  Kami pergi ke halaman pengujian CryptoPro <br>  6.2.  Kami masuk ke Akun Pribadi di nalog.ru <br>  6.3.  Kami pergi ke layanan publik </li><li>  Apa yang harus dilakukan jika berhenti bekerja </li></ol><br><p>  <strong>Ubah PIN kontainer</strong> </p><br><ol><li>  Kami mengetahui nama wadah CEP </li><li>  Ubah perintah PIN dari terminal </li></ol><br><p>  <strong>Menandatangani file di macOS</strong> </p><br><ol><li>  Cari tahu hash sertifikat CEP </li><li>  Menandatangani file dengan perintah dari terminal </li><li>  Instal Skrip Automator Apple </li></ol><br><p>  <strong>Verifikasi tanda tangan pada dokumen</strong> </p></div></div><br><p>  Semua informasi di bawah ini diperoleh dari sumber yang memiliki reputasi (CryptoPro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="># 1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="># 2</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="># 3</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rutoken</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Corus-Consulting</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kementerian Komunikasi Distrik Federal Ural</a> ), dan diusulkan untuk mengunduh perangkat lunak dari situs tepercaya.  Penulis adalah konsultan independen dan tidak berafiliasi dengan salah satu perusahaan yang disebutkan.  Mengikuti instruksi ini, Anda memikul semua tanggung jawab atas tindakan dan konsekuensi apa pun. </p><br><h2 id="chto-nuzhno-dlya-raboty-s-kep-pod-macos">  Apa yang Anda perlukan untuk bekerja dengan CEP untuk macOS: </h2><br><ol><li>  CEP <strong>pada USB-token Rutoken Lite</strong> atau <strong>Rutoken EDS</strong> </li><li>  cryptocontainer <strong>dalam format CryptoPro</strong> </li><li>  dengan <strong>lisensi bawaan untuk CryptoPro CSP</strong> </li><li>  sertifikat publik harus disimpan dalam wadah kunci pribadi </li></ol><br><p>  EToken dan JaCarta media dalam hubungannya dengan CryptoPro untuk macOS tidak didukung.  Carrier Rutoken Lite adalah pilihan terbaik, biayanya 500..1000 = rubel, ini berfungsi dengan cerdas dan memungkinkan Anda menyimpan hingga 15 kunci. </p><br><p>  Penyedia kriptografi VipNet, Signal-COM, dan LISSI tidak didukung pada macOS.  Konversi kontainer tidak berfungsi.  CryptoPro adalah pilihan terbaik, biaya sertifikat harus sekitar 1.300 = rubel.  untuk SP dan 1600 = gosok.  untuk Yul. </p><br><p>  Biasanya lisensi tahunan untuk CryptoPro CSP sudah ditransfer ke sertifikat dan banyak CA disediakan secara gratis.  Jika tidak demikian, maka Anda perlu membeli dan mengaktifkan lisensi abadi untuk CryptoPro CSP versi 4 senilai 2700 =.  CryptoPro CSP versi 5 untuk macOS saat ini tidak berfungsi. </p><br><p>  Biasanya, sertifikat publik disimpan dalam wadah kunci pribadi, tetapi ini perlu diklarifikasi ketika mengeluarkan CEP dan diminta untuk melakukan apa yang diperlukan.  Jika tidak berhasil, maka Anda dapat mengimpor sendiri kunci publik ke dalam wadah tertutup menggunakan CryptoPro CSP untuk Windows. </p><br><h2 id="ustanavlivaem-i-nastraivaem-kep-pod-macos">  Instal dan konfigurasikan CEP untuk macOS </h2><br><div class="spoiler">  <b class="spoiler_title">Hal-hal yang jelas</b> <div class="spoiler_text"><ul><li>  semua file yang diunduh diunduh ke direktori default: ~ / Downloads /; </li><li>  kami tidak mengubah apa pun di semua installer, kami membiarkan semuanya secara default; </li><li>  jika macOS menampilkan peringatan bahwa perangkat lunak yang diluncurkan berasal dari pengembang yang dihapus instalasinya, Anda perlu mengonfirmasi peluncuran dalam pengaturan sistem: <em>System Preferences -&gt; Security &amp; Privacy -&gt; Open Anyway</em> ; </li><li>  jika macOS meminta kata sandi pengguna dan izin untuk mengontrol komputer, Anda harus memasukkan kata sandi dan setuju dengan semuanya. </li></ul></div></div><br><h3 id="1-ustanavlivaem-kriptopro-csp">  1. Instal CryptoPro CSP </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami mendaftar</a> di situs web CryptoPro dan mengunduh serta menginstal versi <em>CryptoPro CSP <strong>4.0 R4</strong></em> untuk <em>macOS</em> dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman</a> <strong><a href="">unduh</a></strong> - <strong><a href="">unduh</a></strong> . </p><br><h3 id="2-ustanavlivaem-drayvery-rutoken">  2. Instal driver Rootoken </h3><br><p>  Situs tersebut mengatakan bahwa itu opsional, tetapi lebih baik dikirim.  Dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman unduh</a> di situs web Rutoken, unduh dan instal <em>Modul Dukungan KeyChain</em> - <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">unduh</a></strong> . </p><br><p>  Selanjutnya, hubungkan token usb, jalankan terminal dan jalankan perintah: </p><br><pre><code class="bash hljs">/opt/cprocsp/bin/csptest -card -enum</code> </pre> <br><p>  Jawabannya harus: </p><br><blockquote>  Aktiv Rutoken ... <br>  Kartu hadir ... <br>  [ErrorCode: 0x00000000] </blockquote><br><h3 id="3-ustanavlivaem-sertifikaty">  3. Pasang sertifikat </h3><br><h4 id="31-udalyaem-vse-starye-gostovskie-sertifikaty">  3.1.  Kami menghapus semua sertifikat GOST lama </h4><br><p>  Jika sebelumnya ada upaya untuk menjalankan CEP di bawah macOS, maka Anda harus membersihkan semua sertifikat yang diinstal sebelumnya.  Perintah-perintah ini di terminal hanya akan menghapus sertifikat CryptoPro dan tidak akan mempengaruhi sertifikat biasa dari Keychain di macOS. </p><br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -delete -all -store mroot</code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -delete -all -store uroot</code> </pre> <br><pre> <code class="bash hljs">/opt/cprocsp/bin/certmgr -delete -all</code> </pre> <br><p>  Respons setiap perintah harus: </p><br><blockquote>  Tidak ada sertifikat yang cocok dengan kriteria </blockquote><p>  atau </p><br><blockquote>  Penghapusan selesai </blockquote><br><h4 id="32-ustanavlivaem-kornevye-sertifikaty">  3.2.  Instal sertifikat root </h4><br><p>  Sertifikat root adalah umum untuk semua CEP yang dikeluarkan oleh otoritas sertifikasi apa pun.  Unduh dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman unduhan</a> Kementerian Komunikasi Distrik Federal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ural</a> : </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=4BC6DC14D97010C41A26E058AD851F81C842415A</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=8CAE88BBFD404A7A53630864F9033606E1DC45E2</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=0408435EB90E5C8796A160E69E4BFAC453435D1D</a> </li></ul><br><p>  Instal perintah berikut di terminal: </p><br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/4BC6DC14D97010C41A26E058AD851F81C842415A.cer</code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/8CAE88BBFD404A7A53630864F9033606E1DC45E2.cer</code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/0408435EB90E5C8796A160E69E4BFAC453435D1D.cer</code> </pre> <br><p>  Setiap tim harus kembali: </p><br><blockquote>  Menginstal: <br>  ... <br>  [ErrorCode: 0x00000000] </blockquote><br><h4 id="33-skachivaem-sertifikaty-udostoveryayuschego-centra">  3.3.  Unduh sertifikat pusat sertifikasi </h4><br><p>  Selanjutnya, Anda perlu menginstal sertifikat otoritas sertifikasi tempat Anda mengeluarkan CEP.  Biasanya, sertifikat root dari masing-masing CA terletak di situs webnya di bagian unduhan. </p><br><p>  Atau, sertifikat CA apa pun dapat diunduh dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web Distrik Federal Ural, Kementerian Komunikasi</a> .  Untuk melakukan ini, dalam formulir pencarian, Anda perlu menemukan CA dengan nama, pergi ke halaman dengan sertifikat dan unduh semua sertifikat yang <strong>valid</strong> - yaitu, mereka yang kencan keduanya belum tiba di bidang <em>'Valid'</em> .  Unduh tautan dari bidang <em>'Lini Cetak'</em> . </p><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/k6/xx/q4/k6xxq4czjusuqkbsqols_hbliei.png"></p><br><p><img src="https://habrastorage.org/webt/dt/oc/tw/dtoctw3qxq3qr6sbusinltnei2y.png"></p></div></div><br><p>  Pada contoh CA Corus Consulting: Anda harus mengunduh 4 sertifikat dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman unduhan</a> : </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=15EB064ABCB96C5AFCE22B9FEA52A1964637D101</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=B9F1D3F78971D48C34AA73786CDCD138477FEE3F</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=55EC48193B6716D38E80BD9D1D2D827BC8A07DE3</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://e-trust.gosuslugi.ru/Shared/DownloadCert?thumbprint=A0D19D700E2A5F1CAFCE82D3EFE49A0D882559DF</a> </li></ul><br><p>  Kami memasang sertifikat CA yang diunduh dengan perintah dari terminal: </p><br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/B9F1D3F78971D48C34AA73786CDCD138477FEE3F.cer</code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/A0D19D700E2A5F1CAFCE82D3EFE49A0D882559DF.cer</code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/55EC48193B6716D38E80BD9D1D2D827BC8A07DE3.cer</code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/certmgr -inst -store mroot -f ~/Downloads/15EB064ABCB96C5AFCE22B9FEA52A1964637D101.cer</code> </pre> <br><p>  di mana after <em>~ / Downloads /</em> adalah nama-nama file yang diunduh, untuk setiap CA mereka akan berbeda. </p><br><p>  Setiap tim harus kembali: </p><br><blockquote>  Menginstal: <br>  ... <br>  [ErrorCode: 0x00000000] </blockquote><br><h4 id="34-ustanavlivaem-sertifikat-s-rutoken">  3.4.  Instal sertifikat dengan Rutoken </h4><br><p>  Perintah di terminal: </p><br><pre> <code class="bash hljs">/opt/cprocsp/bin/csptestf -absorb -certs</code> </pre> <br><p>  Tim harus kembali: </p><br><blockquote>  Oke <br>  [ErrorCode: 0x00000000] </blockquote><br><h4 id="35-konfiguriruem-cryptopro-dlya-raboty-ssertifikatami-gost-r-3410-2012">  3.5.  Konfigurasikan CryptoPro untuk bekerja dengan sertifikat GOST R 34.10-2012 </h4><br><p>  Untuk bekerja dengan benar di nalog.ru dengan sertifikat yang dikeluarkan sejak 2019, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">instruksi</a> di situs web CryptoPro merekomendasikan: </p><br><p>  Perintah di terminal: </p><br><pre> <code class="bash hljs">sudo /opt/cprocsp/sbin/cpconfig -ini <span class="hljs-string"><span class="hljs-string">'\cryptography\OID\1.2.643.7.1.1.1.1!3'</span></span> -add string <span class="hljs-string"><span class="hljs-string">'Name'</span></span> <span class="hljs-string"><span class="hljs-string">'GOST R 34.10-2012 256 bit'</span></span></code> </pre> <br><pre> <code class="bash hljs">sudo /opt/cprocsp/sbin/cpconfig -ini <span class="hljs-string"><span class="hljs-string">'\cryptography\OID\1.2.643.7.1.1.1.2!3'</span></span> -add string <span class="hljs-string"><span class="hljs-string">'Name'</span></span> <span class="hljs-string"><span class="hljs-string">'GOST R 34.10-2012 512 bit'</span></span></code> </pre> <br><p>  Tim tidak mengembalikan apa pun. </p><br><h3 id="4-ustanavlivaem-specialnyy-brauzer-chromium-gost">  4. Instal browser khusus Chromium-GOST </h3><br><p>  Untuk bekerja dengan portal pemerintah, Anda memerlukan perakitan khusus peramban kromium - <strong>Chromium-GOST</strong> .  Kode sumber proyek terbuka, tautan ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori di GitHub</a> disediakan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web CryptoPro</a> .  Menurut pengalaman, browser lain <em>CryptoFox</em> dan <em>Yandex.Browser</em> tidak cocok untuk bekerja dengan portal pemerintah untuk macOS.  Perlu dipertimbangkan bahwa dalam beberapa majelis Chromium-GOST akun pribadi di nalog.ru mungkin macet atau gulir berhenti bekerja sama sekali, oleh karena itu <strong>perakitan</strong> lama yang telah terbukti <strong>71.0.3578.98 diusulkan</strong> - <strong><a href="">unduh</a></strong> . </p><br><p>  Unduh dan buka arsipnya, instal peramban dengan menyalin atau menyeret &amp; jatuhkan ke direktori Aplikasi.  Setelah instalasi, tutup paksa Chromium-Gost dengan perintah dari terminal dan jangan membukanya (kami bekerja dari Safari): </p><br><pre> <code class="bash hljs">killall Chromium-Gost</code> </pre> <br><h3 id="5-ustanavlivaem-rasshireniya-dlya-brauzera">  5. Instal ekstensi browser </h3><br><h4 id="51-kriptopro-ecp-browser-plug-in">  5.1 CryptoPro EDS Browser plug-in </h4><br><p>  Dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman unduhan</a> di situs web CryptoPro, unduh dan instal <em>plug-in Browser EDS CryptoPro versi 2.0 untuk pengguna</em> - <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">unduh</a></strong> . </p><br><h4 id="52-plagin-dlya-gosuslug">  5.2.  Plugin untuk layanan pemerintah </h4><br><p>  Dari <a href="">halaman unduhan</a> di portal Gosuslug, unduh dan instal <em>Plugin untuk bekerja dengan portal layanan pemerintah (versi untuk macOS)</em> - <strong><a href="">unduh</a></strong> . </p><br><h4 id="53-nastraivaem-plagin-dlya-gosuslug">  5.3.  Siapkan plugin untuk layanan publik </h4><br><p>  Unduh file konfigurasi yang benar untuk ekstensi layanan pemerintah untuk mendukung macOS dan tanda tangan digital baru di GOST2012 standar - <strong><a href="">unduh</a></strong> . </p><br><p>  Kami menjalankan perintah di terminal: </p><br><pre> <code class="bash hljs">sudo rm /Library/Internet\ Plug-Ins/IFCPlugin.plugin/Contents/ifc.cfg</code> </pre> <br><pre> <code class="bash hljs">sudo cp ~/Downloads/ifc.cfg /Library/Internet\ Plug-Ins/IFCPlugin.plugin/Contents</code> </pre> <br><pre> <code class="bash hljs">sudo cp /Library/Google/Chrome/NativeMessagingHosts/ru.rtlabs.ifcplugin.json /Library/Application\ Support/Chromium/NativeMessagingHosts</code> </pre> <br><h4 id="54-aktiviruem-rasshireniya">  5.4.  Aktifkan ekstensi </h4><br><p>  Kami meluncurkan browser Chromium-Gost dan di bilah alamat kami ketik: </p><br><pre> <code class="plaintext hljs">chrome://extensions/</code> </pre> <br><p>  Kami menyertakan kedua ekstensi yang dipasang: </p><br><ul><li>  Ekstensi CryptoPro untuk CAdES Browser Plug-in </li><li>  Ekstensi untuk plugin layanan publik </li></ul><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/7b/qz/0-/7bqz0-z9zmnua0q7xs9qdcr63ak.png"></p></div></div><br><h4 id="55-nastraivaem-rasshirenie-kriptopro-ecp-browser-plug-in">  5.5.  Kami mengkonfigurasi ekstensi CryptoPro EDS Browser plug-in </h4><br><p>  Di bilah alamat Chromium-Gost kami ketik: </p><br><pre> <code class="plaintext hljs">/etc/opt/cprocsp/trusted_sites.html</code> </pre> <br><p>  Pada halaman yang muncul, kami menambahkan situs ke daftar situs tepercaya pada gilirannya: </p><br><pre> <code class="plaintext hljs">https://*.cryptopro.ru https://*.nalog.ru https://*.gosuslugi.ru</code> </pre> <br><p>  Klik "Simpan."  Cetakan hijau akan muncul: </p><br><blockquote>  Daftar situs tepercaya telah berhasil disimpan. </blockquote><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wy/xx/5h/wyxx5hsubwkvcxtw-luvoregeng.png"></p></div></div><br><h3 id="6-proveryaem-chto-vse-rabotaet">  6. Periksa apakah semuanya berfungsi </h3><br><h4 id="61-zahodim-na-testovuyu-stranicu-kriptopro">  6.1.  Kami pergi ke halaman pengujian CryptoPro </h4><br><p>  Di bilah alamat Chromium-Gost kami ketik: </p><br><pre> <code class="plaintext hljs">https://www.cryptopro.ru/sites/default/files/products/cades/demopage/cades_bes_sample.html</code> </pre> <br><p>  "Plugin dimuat" harus ditampilkan, dan sertifikat Anda harus ada dalam daftar di bawah ini. <br>  Pilih sertifikat dari daftar dan klik "Masuk".  PIN sertifikat akan diminta.  Hasilnya harus ditampilkan </p><br><blockquote>  Tanda tangan berhasil dibuat </blockquote><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/v9/id/m_/v9idm_5w3mnwdcucyt5edpyhceo.png"></p></div></div><br><h4 id="62-zahodim-v-lichnyy-kabinet-na-nalogru">  6.2.  Kami masuk ke Akun Pribadi di nalog.ru </h4><br><p>  Mungkin tidak dapat mengikuti tautan dari situs nalog.ru, karena  cek tidak akan diteruskan.  Anda harus membuka tautan langsung: </p><br><ul><li>  Akun pribadi <strong>IP</strong> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://lkipgost.nalog.ru/lk</a> </li><li>  Akun pribadi <strong>badan hukum</strong> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://lkul.nalog.ru</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/fn/2f/gf/fn2fgfejidrtpokh3xdlap4j0ny.png"></p></div></div><br><h4 id="63-zahodim-na-gosuslugi">  6.3.  Kami pergi ke layanan publik </h4><br><p>  Selama otorisasi, pilih "Masuk menggunakan tanda tangan elektronik."  Dalam daftar yang muncul, "Pilih sertifikat untuk kunci verifikasi tanda tangan elektronik," semua sertifikat akan ditampilkan, termasuk root dan CA, Anda harus memilih milik Anda dari token usb dan masukkan PIN. </p><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/k1/il/ie/k1iliepylyukk20xl-e_ooj4ab0.png"></p><br><p><img src="https://habrastorage.org/webt/gi/ex/hf/giexhftwmegvxgj_k4bahsn7sz4.png"></p></div></div><br><h3 id="7-chto-delat-esli-perestalo-rabotat">  7. Apa yang harus dilakukan jika berhenti bekerja </h3><br><ol><li><p>  Kami menyambung kembali token usb dan memverifikasi bahwa itu terlihat menggunakan perintah di terminal: </p><br><pre> <code class="bash hljs">sudo /opt/cprocsp/bin/csptest -card -enum</code> </pre> <br></li><li><p>  Kami menghapus cache browser sepanjang waktu, yang kami ketik di bilah alamat Chromium-Gost: </p><br><pre> <code class="plaintext hljs"> chrome://settings/clearBrowserData</code> </pre> <br></li><li><p>  Instal ulang sertifikat CEP menggunakan perintah di terminal: </p><br><pre> <code class="bash hljs">/opt/cprocsp/bin/csptestf -absorb -certs</code> </pre> <br></li></ol><br><h2 id="smena-pin-koda-konteynera">  Ubah PIN kontainer </h2><br><p>  Kode PIN default untuk Rutoken adalah <em>12345678</em> , dan Anda tidak dapat membiarkannya begitu saja.  Persyaratan untuk kode PIN Rootoken: maks. 16 karakter, Dapat berisi huruf dan angka latin. </p><br><h3 id="1-vyyasnyaem-nazvanie-konteynera-kep">  1. Cari tahu nama wadah CEP </h3><br><p>  Pada token usb dan penyimpanan lain, beberapa sertifikat dapat disimpan, dan Anda harus memilih yang benar.  Dengan token usb yang dimasukkan, kami mendapatkan daftar semua kontainer di sistem dengan perintah di terminal: </p><br><pre> <code class="bash hljs">/opt/cprocsp/bin/csptest -keyset -enum_cont -fqcn -verifycontext</code> </pre> <br><p>  Tim harus mengeluarkan setidaknya 1 kontainer dan kembali </p><br><blockquote>  [ErrorCode: 0x00000000] </blockquote><p>  Wadah yang kita butuhkan adalah dari bentuk </p><br><blockquote>  \. \ Aktiv Rutoken lite \ XXXXXXXX </blockquote><p>  Jika ada beberapa wadah seperti itu, itu berarti bahwa beberapa sertifikat tertulis di token, dan Anda mengetahui yang mana yang Anda butuhkan.  Nilai <em>XXXXXXXX</em> setelah slash perlu disalin dan diganti menjadi perintah di bawah ini. </p><br><h3 id="2-smena-pin-komandoy-iz-terminal">  2. Ubah perintah PIN dari terminal </h3><br><pre> <code class="bash hljs">/opt/cprocsp/bin/csptest -passwd -qchange -container <span class="hljs-string"><span class="hljs-string">"XXXXXXXX"</span></span></code> </pre> <br><p>  di mana <em>XXXXXXXX</em> adalah nama wadah yang diperoleh pada langkah 1 (diperlukan dalam tanda kutip). </p><br><p>  Dialog CryptoPro akan muncul meminta kode PIN lama untuk mengakses sertifikat, lalu dialog lain untuk memasukkan kode PIN baru.  Selesai </p><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/xh/fr/9i/xhfr9imuu1gh-uxgvekeqleptyw.png"></p></div></div><br><h2 id="podpis-faylov-v-macos">  Menandatangani file di macOS </h2><br><p>  Dalam macOS, file dapat ditandatangani dalam perangkat lunak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CryptoArm</a> (biaya lisensi 2500 = rubel), atau dengan perintah sederhana melalui terminal - gratis. </p><br><h3 id="1-vyyasnyaem-hesh-sertifikata-kep">  1. Cari tahu hash sertifikat CEP </h3><br><p>  Mungkin ada beberapa sertifikat di token dan di penyimpanan lain.  Kita perlu mengidentifikasi secara unik siapa yang akan kita terus menandatangani dokumen.  Itu dilakukan sekali. <br>  Token harus dimasukkan.  Kami mendapatkan daftar sertifikat di repositori menggunakan perintah dari terminal: </p><br><pre> <code class="bash hljs">/opt/cprocsp/bin/certmgr -list</code> </pre> <br><p>  Tim harus menampilkan setidaknya 1 sertifikat formulir: </p><br><blockquote>  Certmgr 1.1 © "Crypto-Pro", 2007-2018. <br>  program untuk mengelola sertifikat, CRL dan toko <br>  = = = = = = = = = = = = = = = = = = = <br>  1 ------- <br>  Penerbit: E = bantuan @ esphere.ru, ... CN = KORUS Consulting CIS LLC ... <br>  Subjek: E = sergzah @ gmail.com, ... CN = Zakharov Sergey Anatolyevich ... <br>  Serial: 0x00000000000000000000000000000000000000 <br>  SHA1 Hash: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX <br>  ... <br>  Wadah: SCARD \ rutoken_lt_00000000 \ 0000 \ 0000 <br>  ... <br>  = = = = = = = = = = = = = = = = = = = <br>  [ErrorCode: 0x00000000] </blockquote><p>  Sertifikat yang kami butuhkan dalam parameter Container harus memiliki nilai dari bentuk <em>SCARD \ rutoken ....</em>  Jika ada beberapa sertifikat dengan nilai seperti itu, itu berarti beberapa sertifikat ditulis di token, dan Anda mengetahui yang mana yang Anda butuhkan.  Nilai parameter <em>SHA1 Hash</em> (40 karakter) harus disalin dan diganti menjadi perintah di bawah ini. </p><br><h3 id="2-podpis-fayla-komandoy-iz-terminal">  2. Menandatangani file dengan perintah dari terminal </h3><br><p>  Di terminal, buka direktori dengan file untuk masuk dan jalankan perintah: </p><br><pre> <code class="bash hljs">/opt/cprocsp/bin/cryptcp -signf -detach -cert -der -strict -thumbprint  FILE</code> </pre> <br><p>  di mana <em> ...</em> adalah hash sertifikat yang diperoleh pada langkah 1, dan <em>FILE</em> adalah nama file yang akan ditandatangani (dengan semua ekstensi, tetapi tanpa jalur). </p><br><p>  Tim harus kembali: </p><br><blockquote>  Pesan yang ditandatangani dibuat. <br>  [ErrorCode: 0x00000000] </blockquote><p>  File tanda tangan elektronik dengan ekstensi * .sgn akan dibuat - ini adalah tanda tangan terputus dalam format CMS dengan penyandian DER. </p><br><h3 id="3-ustanovka-apple-automator-script">  3. Instal Skrip Automator Apple </h3><br><p>  Agar tidak bekerja dengan terminal setiap kali, Anda dapat menginstal Script Automator sekali, yang dengannya Anda dapat menandatangani dokumen dari menu konteks Finder.  Untuk melakukan ini, unduh arsip - <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">unduh</a></strong> . </p><br><ol><li>  Buka paket arsip <em>'Sign with CryptoPro.zip'</em> </li><li>  Luncurkan <em>Automator</em> </li><li>  Temukan dan buka file yang belum dibongkar <em>'Sign with CryptoPro.workflow'</em> </li><li>  Dalam blok <em>Run Shell Script</em> kami mengubah teks <em></em> ke nilai parameter <em>SHA1 Hash</em> dari sertifikat CEP yang diperoleh di atas. </li><li>  Simpan skrip: ommCommand + S </li><li>  Jalankan file <em>'Sign with CryptoPro.workflow'</em> dan konfirmasikan penginstalan. </li><li>  Pergi ke System <em>Preferences -&gt; Extensions -&gt; Finder</em> dan verifikasi bahwa <em>Sign with CryptoPro</em> action cepat dicentang. </li><li>  Di Finder, panggil menu konteks file apa pun, dan di bagian <em>Tindakan Cepat</em> dan / atau <em>Layanan</em> , pilih <strong>Masuk dengan CryptoPro</strong> </li><li>  Dalam dialog CryptoPro yang muncul, masukkan PIN pengguna dari CEP </li><li>  File dengan ekstensi * .sgn akan muncul di direktori saat ini - tanda tangan terputus dalam format CMS dengan penyandian DER. </li></ol><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p>  Jendela Automator Apple: <br><img src="https://habrastorage.org/webt/ci/md/am/cimdamgbcmuwupqnikoxm4zlr0u.png"></p><br><p>  Preferensi Sistem: <br><img src="https://habrastorage.org/webt/ds/aj/4y/dsaj4ybkjxfuc72-ujruj0jor1c.png"></p><br><p>  Pencari menu konteks: </p><br><p><img src="https://habrastorage.org/webt/n5/sz/8y/n5sz8ylptnlud2tdd3o4pvkvqk4.png"></p></div></div><br><h2 id="proverit-podpis-na-dokumente">  Verifikasi tanda tangan pada dokumen </h2><br><p>  Jika konten dokumen tidak mengandung rahasia dan rahasia, maka cara termudah adalah dengan menggunakan layanan web di portal Gosuslug - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.gosuslugi.ru/pgu/eds</a> .  Jadi, Anda dapat mengambil tangkapan layar dari sumber yang resmi dan pastikan semuanya baik-baik saja dengan tanda tangan. </p><br><div class="spoiler">  <b class="spoiler_title">Tangkapan layar</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/8u/8m/rk/8u8mrkglxf7z5nzdxmo4f7nj66k.png"></p><br><p><img src="https://habrastorage.org/webt/63/7p/od/637pod0rngetfm1nudyyse-3h2q.png"></p></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450516/">https://habr.com/ru/post/id450516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450504/index.html">Cara membuat aplikasi dari situs dan menaruhnya di Google Play dalam beberapa jam. Bagian 1/2: Aplikasi Web Progresif</a></li>
<li><a href="../id450506/index.html">Cara membuat aplikasi dari situs dan menaruhnya di Google Play dalam beberapa jam. Bagian 2/2: Aktivitas Web Tepercaya</a></li>
<li><a href="../id450508/index.html">Joe Armstrong tentang Elixir, Erlang, FP dan OOP</a></li>
<li><a href="../id450510/index.html">Lima masalah dalam operasi dan proses dukungan dari sistem TI Highload</a></li>
<li><a href="../id450514/index.html">CVT vs negara</a></li>
<li><a href="../id450518/index.html">Arduino dan Pemrosesan. Cara mengontrol mikrokontroler melalui port COM. Komunikasi dua arah</a></li>
<li><a href="../id450520/index.html">Membuat AI yang andal dan terverifikasi: kepatuhan terhadap spesifikasi, pelatihan yang andal, dan verifikasi formal</a></li>
<li><a href="../id450522/index.html">Sejarah Internet: Peluruhan, Bagian 1</a></li>
<li><a href="../id450524/index.html">Kontrol komputer melalui Telegram</a></li>
<li><a href="../id450526/index.html">10. Periksa Titik Memulai R80.20. Kesadaran Identitas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>