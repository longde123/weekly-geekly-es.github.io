<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµüèº üõÇ üîõ SAPUI5 para dummies parte 2: un ejercicio completo paso a paso üéá üë®‚Äçüç≥ üë®üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introducci√≥n y resumen 


 En la publicaci√≥n de blog anterior , comenzamos a dise√±ar nuestra aplicaci√≥n para representar una tabla con alg√∫n Business ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SAPUI5 para dummies parte 2: un ejercicio completo paso a paso</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437036/"><p><img src="https://habrastorage.org/webt/f_/1e/85/f_1e85uxxgb8ffaoa_8kdmqnce8.png"></p><br><h3 id="introduction--recap">  Introducci√≥n y resumen </h3><br><p>  En la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicaci√≥n de blog anterior</a> , comenzamos a dise√±ar nuestra aplicaci√≥n para representar una tabla con alg√∫n Business Partner.  Aprendimos qu√© es el protocolo OData, c√≥mo leer un manifiesto XML OData, c√≥mo vincular datos a una tabla y c√≥mo personalizar el dise√±o de las columnas en funci√≥n de una resoluci√≥n de pantalla diferente. </p><br><h3 id="what-will-be-covered-on-this-exercise">  ¬øQu√© se cubrir√° en este ejercicio? </h3><br><p>  Con la Parte 2 de esta serie de publicaciones de blog, aprenderemos c√≥mo interactuar con los datos en nuestras Tablas y Lista.  Aprenderemos c√≥mo filtrar y ordenar datos de manera inteligente. </p><br><ul><li>  Crear <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSONModel</a> para manejar datos locales </li><li>  Establecer un tama√±o predeterminado Limite a nuestro JSONModel </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FilterBar</a> : control de la interfaz de usuario que muestra los filtros de una manera f√°cil de usar para completar los valores de una consulta </li><li>  Use fragmentos XML para crear un cuadro de di√°logo de configuraci√≥n de vista para manejar datos de clasificaci√≥n y grupo </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Filtrar</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ordenar</a> datos </li><li>  Agregue una barra de herramientas de informaci√≥n a nuestra tabla para mostrar informaci√≥n √∫til </li></ul><a name="habracut"></a><br><h3 id="lets-code">  Codifiquemos </h3><br><h4 id="filterbar">  Barra de filtro </h4><br><p> Lo primero que queremos hacer es permitir a los usuarios filtrar la lista de Socios comerciales que se muestra en nuestra tabla.  La mayor√≠a de las veces tenemos un conjunto de datos realmente grandes (nuestro conjunto de socios comerciales est√° hecho de 13880 registros) para mostrar y el usuario solo quiere filtrar todos esos registros en funci√≥n de alguna informaci√≥n √∫til. </p><br><blockquote>  Regla general: no muestre la entrada del filtro para los datos que no se muestran en su tabla / lista </blockquote><p>  Para hacerlo, debe agregar una barra de filtro sobre su tabla.  Este control de IU solo est√° disponible en SAPUI5 y no en OpenUI5. </p><br><p>  FilterBar le permite agrupar filtros de forma ordenada.  Este control de IU siempre se usa con un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">administrador de variantes</a> que no cubrir√© esta vez. </p><br><p><img src="https://habrastorage.org/webt/tv/a5/gm/tva5gmi-463cfrvrqkaizxz6f5g.gif"></p><br><p>  Agregue cuatro filtros diferentes: </p><br><ul><li>  ID: entrada que filtrar√° el atributo BusinessPartnerID </li><li>  Nombre: entrada que filtrar√° el atributo CompanyName </li><li>  Calle: entrada que </li><li>  Pa√≠s: Seleccione ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lista de c√≥digos de pa√≠s JSON</a> ) para filtrar Direcci√≥n / Atributo de pa√≠s </li></ul><br><p>  Despu√©s de haber agregado esas entradas a la barra de filtros, lo que debe hacer es vincular los eventos "buscar" y "borrar".  El primero se activar√° cuando el usuario inicie una b√∫squeda, el segundo cuando tendr√° que borrar todos los filtros y comenzar una b√∫squeda en blanco. </p><br><p>  Los filtros deben ser exclusivos entre s√≠.  Si el usuario ha agregado "SAP" en el nombre de la empresa y "TI" en el c√≥digo de pa√≠s, su tabla debe filtrar para una consulta como </p><br><blockquote>  Dame todo el socio comercial con un nombre que <strong>contenga</strong> "SAP" y con un c√≥digo de pa√≠s <strong>igual</strong> a "DE" </blockquote><br><h4 id="jsonmodel">  JSONModelo </h4><br><p>  Ya dijimos que en SAPUI5 tienes que usar diferentes tipos de modelos: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ODataModel</a> v2: implementaci√≥n del modelo basada en el protocolo OData (versi√≥n 2).  Se usa cuando necesita interactuar con un servicio OData. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSONModel</a> : implementaci√≥n de modelo para datos JSON.  Se utiliza principalmente para manejar datos locales / temporales </li></ul><br><p>  Para nuestro ejercicio, le sugiero que cree un JSONModel para almacenar datos de filtro y otro para almacenar c√≥digos de pa√≠s.  Cuando haya creado un archivo JSON local dentro de la carpeta de su modelo, puede importarlos f√°cilmente desde _manifest.json_que manejar√° toda la l√≥gica para precargar la informaci√≥n cuando se inicie su aplicaci√≥n. </p><br><h4 id="filter">  Filtro </h4><br><p>  nuevo sap.ui.model.Filter (vFilterInfo, vOperator?, vValue1?, vValue2?) </p><br><p>  Filter es una herramienta poderosa, le permite mezclar diferentes filtros para crear consultas OData complejas que luego se traducir√°n en SQL en el lado del backend. </p><br><ol><li>  El primer par√°metro es el nombre de la columna que desea filtrar.  Tambi√©n puede especificar una columna de una propiedad expandida como "Direcci√≥n / Calle" </li><li>  El segundo par√°metro es la operaci√≥n que le gustar√≠a aplicar a su filtro.  Puede encontrar todas las operaciones posibles en la documentaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FilterOperator</a> . </li><li>  El tercer y cuarto par√°metro son valores de consulta ingresados ‚Äã‚Äãpor el usuario y que desea filtrar. </li></ol><br><p>  El segundo constructor del filtro le permite mezclar filtros para crear grupos de filtros AND y OR. </p><br><p>  nuevo sap.ui.model.Filter (aFilters, bAnd) </p><br><p>  Despu√©s de haber creado su filtro final, puede aplicarlo al enlace de la tabla. </p><br><h4 id="sort-and-group">  Ordenar y agrupar </h4><br><p>  Un usuario siempre quiere ordenar / agrupar registros basados ‚Äã‚Äãen una columna espec√≠fica y funcionan m√°s o menos como Filtro. </p><br><p>  nuevo sap.ui.model.Sorter (sPath, bDescending?, vGroup?, fnComparator?) </p><br><ol><li>  El primer par√°metro (como para el filtro) es el atributo OData que desea ordenar </li><li>  El segundo par√°metro (booleano) ordenar√° los datos de manera descendente o ascendente. </li><li>  El tercer par√°metro puede ser tanto booleano (si desea reagrupar datos) como una funci√≥n (lo explicar√© en un momento). </li><li>  El √∫ltimo par√°metro es opcional y le permite realizar una ordenaci√≥n personalizada local (no en OData) en funci√≥n del resultado de la funci√≥n </li></ol><br><p>  El par√°metro vGroup es importante porque le permite especificar una forma personalizada de reagrupar elementos.  Solo necesita implementar una funci√≥n personalizada que devuelva un objeto JavaScript con una <em>clave</em> y un valor de <em>texto</em> dentro. </p><br><ul><li>  SAPUI5 utilizar√° la clave para comprender si el registro ya est√° contenido en un grupo con el mismo valor de clave </li><li>  SAPUI5 utiliza el texto para crear la interfaz de usuario para mostrar el nombre del grupo </li></ul><br><p>  Esta funci√≥n es particularmente importante cuando desea reagrupar elementos para valores especiales como fechas.  Cada fecha de JavaScript es diferente porque maneja los datos en milisegundos.  En este caso, puede formatear la fecha para mostrar solo a√±o-mes-d√≠a y los elementos se agrupar√°n correctamente para la fecha. </p><br><p>  Intente agrupar para el atributo "CreatedAt" sin una funci√≥n personalizada y ver qu√© sucede;) </p><br><h4 id="sorting-and-grouping-uiux">  Clasificaci√≥n y agrupaci√≥n: UI / UX </h4><br><p>  La mejor manera de permitir que un usuario ordene y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">agrupe</a> datos en su tabla / lista es usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ViewSettingsDialog</a> . </p><br><p><img src="https://habrastorage.org/webt/fo/5_/ww/fo5_wwrq2yu-ynlonaajfhc7khi.gif"></p><br><p>  Es bastante f√°cil de definir y configurar y le da mucho control.  ViewSettingsDialog est√° incrustado dentro de un Fragmento y se muestra como un Di√°logo / Popover. </p><br><p>  Por lo general, cuando desea mostrar un cuadro de di√°logo como este, solo necesita crear su definici√≥n de fragmento en un archivo (como ViewSettingDialog.fragment.xml) y cargar cuando el usuario hace clic en el bot√≥n sobre la tabla. </p><br><p>  Cuando hablamos de fragmentos, debemos prestar mucha atenci√≥n a dos cosas: </p><br><ul><li>  Reutilizaci√≥n de recursos </li><li>  Dependencia del ciclo de vida. </li></ul><br><p>  Ambos te permiten no desperdiciar recursos y no crear p√©rdidas de memoria (¬°y realmente no quieres lidiar con ellos!) </p><br><p>  Entonces </p><br><ol><li>  Cree un nuevo sap.ui.xmlfragment solo cuando sea necesario (cuando la variable que contiene la referencia no sea nula o destruida) de lo contrario, simplemente reutil√≠cela y abra el cuadro de di√°logo </li><li>  Recuerde destruir el cuadro de di√°logo cuando sea necesario, como cuando se cierra el cuadro de di√°logo si est√° utilizando la misma variable para diferentes fragmentos o en el evento de salida del controlador </li></ol><br><h4 id="info-toolbar">  Barra de herramientas de informaci√≥n </h4><br><p>  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">barra de herramientas de informaci√≥n</a> es una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">barra de herramientas</a> manejada por ListBase (clase extendida por la tabla) y generalmente se muestra debajo del encabezado (est√° dentro de la agregaci√≥n de barra de herramientas de informaci√≥n).  Es muy √∫til cuando desea mostrar algunos datos que deben resaltarse. </p><br><p>  En nuestro caso, cuando el usuario realiza una b√∫squeda, vamos a mostrar la √∫ltima marca de tiempo de la b√∫squeda y cu√°ntos registros se han filtrado en total. </p><br><h3 id="conclusion-and-whats-next-in-part-3">  Conclusi√≥n y ¬øqu√© sigue en la Parte 3? </h3><br><p>  Si desea verificar el resultado final, puede ir directamente a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rama step_2 de nuestro Proyecto GitHub</a> . </p><br><p>  En la siguiente parte del ejercicio, presentaremos el concepto de dise√±o SplitApp y Master-Detail para que comience a leer documentaci√≥n nueva;) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437036/">https://habr.com/ru/post/437036/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437022/index.html">Noise Security Bit 0x22 (Ataques de inyecci√≥n de falla, 35C3 y Wallet.fail)</a></li>
<li><a href="../437026/index.html">Google en Francia mult√≥ 50 millones de euros por GDPR por mal uso de datos personales</a></li>
<li><a href="../437030/index.html">Automatizaci√≥n de la infraestructura de una oficina de lujo: c√≥mo se ve</a></li>
<li><a href="../437032/index.html">Instrucciones de instalaci√≥n de NGINX ModSecurity</a></li>
<li><a href="../437034/index.html">Silbatos universales: revisi√≥n de dongle USB Snom A230 y A210</a></li>
<li><a href="../437038/index.html">Traducci√≥n de la gu√≠a API de Benjamin Winterberg Stream</a></li>
<li><a href="../437040/index.html">En Rusia, comenz√≥ a probar la interfaz neuronal dom√©stica "Neurochat"</a></li>
<li><a href="../437044/index.html">C√≥mo derrotar al drag√≥n: reescribe tu programa en Golang</a></li>
<li><a href="../437050/index.html">El libro "Python. Curso expreso 3ra ed.</a></li>
<li><a href="../437052/index.html">No te pierdas de aprender: ¬ønecesita un especialista universitario en TI?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>