<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèΩ üßùüèº ü•á Barramento de integra√ß√£o para o Bank SOYUZ (AO): projeto e teste autom√°tico üèπ üò∞ üîô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√â dif√≠cil superestimar a import√¢ncia dos testes, especialmente quando se trata de uma plataforma de integra√ß√£o para a intera√ß√£o de sistemas de transpo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Barramento de integra√ß√£o para o Bank SOYUZ (AO): projeto e teste autom√°tico</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/479316/"><img src="https://habrastorage.org/getpro/habr/post_images/1c5/adc/2cb/1c5adc2cbf15e871e95a29948eaab3e2.png"><br><br>  √â dif√≠cil superestimar a import√¢ncia dos testes, especialmente quando se trata de uma plataforma de integra√ß√£o para a intera√ß√£o de sistemas de transporte de cr√©dito.  Neste artigo, queremos falar sobre como nossa equipe projetou esse √¥nibus pela primeira vez e, em seguida, lan√ßou testes autom√°ticos para ele. <br><a name="habracut"></a><br>  O que √© uma plataforma de integra√ß√£o e por que √© necess√°ria? <br><br>  Em grandes sistemas corporativos, geralmente h√° problemas de intera√ß√£o entre subsistemas internos.  Devido a intermin√°veis ‚Äã‚Äãconex√µes e solicita√ß√µes, esse emaranhado ao longo do tempo se torna cada vez mais confuso e complicado.  Torna-se dif√≠cil <s>relaxar para</s> mant√™-lo e gerenci√°-lo. <br><br>  Cada subsistema tem seu pr√≥prio ciclo de lan√ßamento: alguns s√£o atualizados uma vez por ano e outros - uma vez por semana.  Essas mudan√ßas tamb√©m precisam ser levadas em considera√ß√£o e integradas √† tela geral do sistema.  Para fazer isso, voc√™ precisa de um intermedi√°rio que troque dados entre todos os subsistemas da empresa.  Esse intermedi√°rio √© a plataforma de integra√ß√£o. <br><br>  Em busca de um artista para o seu desenvolvimento, o cliente preparou uma tarefa de teste que precisava ser implementada e protegida.  Era uma descri√ß√£o de tarefa bastante simples com v√°rios sistemas selecionados: banco de dados, servi√ßo, diret√≥rios de arquivos etc.  Em uma semana, foi necess√°rio criar e demonstrar uma solu√ß√£o tolerante a falhas, al√©m de descrever a plataforma de desenvolvimento.  Na implementa√ß√£o de tais projetos, adquirimos experi√™ncia decente e, de acordo com os resultados da defesa, fomos escolhidos como executores. <br><br>  Naquela √©poca, na maioria dos casos, o cliente usava um esquema de integra√ß√£o ponto a ponto: cada sistema integrado a outro.  Era inconveniente e dif√≠cil de manter.  Temos tr√™s tarefas: <br><br><ol><li> substituir a integra√ß√£o existente por meio de uma plataforma de integra√ß√£o; <br></li><li>  integrar novos sistemas banc√°rios; <br></li><li>  Automatize a troca de dados entre eles. <br></li></ol><br>  Depois de passar com √™xito na tarefa de teste, iniciamos o projeto.  Sua fase foi determinada da seguinte maneira: <br><br><ul><li>  realizar uma auditoria; <br></li><li>  encontre funcion√°rios de clientes que entendam o estado de destino dos processos de neg√≥cios (e n√£o apenas o atual); <br></li><li>  formular requisitos de neg√≥cios para sistemas de TI e fornecer um roteiro para a transi√ß√£o para o estado de destino dos processos de neg√≥cios. </li></ul><br><h2>  Implementa√ß√£o </h2><br>  Para implementa√ß√£o, eles escolheram a plataforma de integra√ß√£o modular Red Hat JBoss Fuse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/770/c79/8f6/770c798f648b19d10e8154f64d967765.png"><br>  <i>Arquitetura de fus√≠veis do JBoss</i> <br><br>  Um pouco mais sobre as ferramentas b√°sicas que est√£o prontas para uso: <br><br>  <b>O Apache Camel</b> , constru√≠do em modelos de integra√ß√£o corporativa (EIP), fornece roteamento de mensagens, possui um grande n√∫mero de adaptadores prontos para trabalhar com sistemas externos: bancos de dados, arquivos, intermedi√°rios de mensagens, servi√ßo de diret√≥rio, correio etc. <br><br>  <b>O Apache ActiveMQ</b> , que organiza a troca de mensagens, e tamb√©m garante sua transmiss√£o e armazenamento at√© que o assinante as recolha. <br><br>  O pr√≥prio processo de integra√ß√£o (fluxo) √© um conjunto de a√ß√µes seq√ºenciais.  Por exemplo: para receber uma mensagem do sistema de origem por meio de um adaptador desenvolvido / existente, converta os dados da mensagem, adicione, filtre e transmita ainda mais aos sistemas receptores por meio de seus adaptadores. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe0/f40/ee7/fe0f40ee73421536e17ce28909c5a0f6.png"><br>  <i>Processo de integra√ß√£o</i> <br><br>  Ao mesmo tempo, verifica√ß√£o dos dados, entrega garantida, tratamento de erros com a capacidade de coletar um sistema de monitoramento, informando os executores respons√°veis ‚Äã‚Äãsobre erros, etc. <br><br><h2>  Exemplo </h2><br>  Tome o processo de emiss√£o de empr√©stimos em um banco.  Um cliente no banco da Internet preenche um aplicativo, envia os dados do formul√°rio e aguarda o resultado.  O que acontece dentro disso: atrav√©s do restante da API fornecida ao banco da Internet, o barramento aceita a solicita√ß√£o com os dados principais.  Al√©m disso, ele solicita informa√ß√µes adicionais sobre o cliente atrav√©s da interface soap no sistema MDM, combina as informa√ß√µes recebidas em um conjunto comum e as transfere atrav√©s da fila dedicada do ActiveMQ para o sistema RTDM para formular uma oferta dentro da estrutura dos produtos de empr√©stimo existentes.  Em seguida, o resultado do RTDM √© retornado em retorno, e o barramento transmite a oferta do cliente de volta ao banco da Internet. <br><br><h2>  Teste </h2><br>  Quando o barramento de integra√ß√£o passou para os testadores, inicialmente a quest√£o do teste do produto foi decidida manualmente.  No entanto, no processo, foi decidido automatizar todo o processo e criar uma plataforma de teste. <br><br>  Escrevemos emuladores para todos os sistemas banc√°rios.  Os clientes nem sempre fornecem acesso para testes de dados e sistemas em funcionamento de uma s√≥ vez; portanto, os emuladores foram desenvolvidos para cada projeto separadamente.  A complexidade deste trabalho √© compar√°vel ao desenvolvimento da pr√≥pria solu√ß√£o de integra√ß√£o.  A plataforma de teste tinha uma tarefa: coletar, implantar, executar o teste e enviar os resultados para o TestRail. <br><br>  Criamos dois conjuntos de scripts que foram executados durante cada compila√ß√£o (CI / CD).  Segundo o commit, a montagem foi iniciada e implantada no estande.  Ap√≥s o procedimento de implanta√ß√£o, um script curto (teste de fuma√ßa) foi executado, informando que nenhuma intera√ß√£o foi interrompida. <br><br>  Est√°vamos perseguindo um cen√°rio extenso para assembl√©ias noturnas, o que nos deu uma resposta completa para a pergunta: o que h√° com o √¥nibus e como ele interage com sistemas externos?  No relat√≥rio da manh√£, vimos testes ou problemas bem-sucedidos que apareceram.  No entanto, n√£o automatizamos os testes da plataforma de integra√ß√£o com sistemas externos, pois √© muito dif√≠cil verificar os resultados desses testes.  Portanto, eles deixaram o teste manual: os funcion√°rios do cliente realizaram testes de aceita√ß√£o de seus sistemas e nosso especialista verificou por logs se as informa√ß√µes foram passadas corretamente. <br><br>  Como resultado, foi poss√≠vel obter 100% de automa√ß√£o de teste em emuladores.  Ao atualizar um dos sistemas externos, o barramento assumiu a tarefa de manter a operacionalidade do processo de neg√≥cios e, portanto, foram feitas altera√ß√µes diretamente nele.  Isso permitiu que voc√™ teste rapidamente quaisquer altera√ß√µes. <br><br><h2>  Em vez de uma conclus√£o </h2><br>  Ap√≥s todas as etapas, nossa equipe construiu processos r√°pidos e transparentes com contratados e clientes, e os processos de desenvolvimento, teste, implementa√ß√£o e suporte continuaram com simplicidade.  Como resultado, 12 processos de neg√≥cios foram automatizados, o que em sua ess√™ncia combinou o trabalho dos principais sistemas do banco: ABS, MDM, processamento, RTDM, etc. Em tais projetos, sempre tentamos apenas com testes automatizados, praticamente sem envolver testadores funcionais.  Isso reduz o custo final do desenvolvimento e integra√ß√£o do projeto, reduz o tempo de coloca√ß√£o no mercado e nivela o fator humano. <br><br>  <i>Alexander Sadykov, Chefe Adjunto do Departamento de Testes, Centro de Solu√ß√µes de Software, Jet Infosystems</i> <i><br><br></i>  <i>Pavel Ivanov, L√≠der da equipe de desenvolvimento, Centro de solu√ß√µes de software, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt479316/">https://habr.com/ru/post/pt479316/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt479304/index.html">Recipientes Ef√™meros Kubernetes Primeiros Passos</a></li>
<li><a href="../pt479306/index.html">PHP Digest No. 169 (26 de novembro a 9 de dezembro de 2019)</a></li>
<li><a href="../pt479308/index.html">Planejamento Pro Demand, Holt-Winters e XGboost</a></li>
<li><a href="../pt479310/index.html">Como programador 1C para se tornar um desenvolvedor Java</a></li>
<li><a href="../pt479312/index.html">Criando um servidor incremental para a equipe do iOS</a></li>
<li><a href="../pt479318/index.html">O CLion 2019.3 est√° aqui! Melhor velocidade do editor e os novos recursos mais esperados</a></li>
<li><a href="../pt479320/index.html">Edi√ß√£o 28: Treinamento em TI - problemas e desafios atuais das principais empresas</a></li>
<li><a href="../pt479322/index.html">Android, Google e licen√ßas de conte√∫do gratuito. Quem √© o culpado e o que fazer</a></li>
<li><a href="../pt479324/index.html">Como projetar um sistema de notifica√ß√£o. Instru√ß√µes passo a passo com exemplos</a></li>
<li><a href="../pt479326/index.html">Ambiente Docker modular e reutiliz√°vel com Carnotzet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>